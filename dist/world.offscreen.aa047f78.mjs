var a = Object.defineProperty;
var J = (m, l, Z) => l in m ? a(m, l, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : m[l] = Z;
var G = (m, l, Z) => (J(m, typeof l != "symbol" ? l + "" : l, Z), Z), R = (m, l, Z) => {
  if (!l.has(m))
    throw TypeError("Cannot " + Z);
};
var b = (m, l, Z) => (R(m, l, "read from private field"), Z ? Z.call(m) : l.get(m)), c = (m, l, Z) => {
  if (l.has(m))
    throw TypeError("Cannot add the same private member more than once");
  l instanceof WeakSet ? l.add(m) : l.set(m, Z);
}, u = (m, l, Z, V) => (R(m, l, "write to private field"), V ? V.call(m, Z) : l.set(m, Z), Z);
var h = (m, l, Z) => (R(m, l, "access private method"), Z);
const y = "dmFyIE1mPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgQWY9KHosYWUscGUpPT5hZSBpbiB6P01mKHosYWUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnBlfSk6elthZV09cGU7dmFyIHFlPSh6LGFlLHBlKT0+KEFmKHosdHlwZW9mIGFlIT0ic3ltYm9sIj9hZSsiIjphZSxwZSkscGUpLGJpPSh6LGFlLHBlKT0+e2lmKCFhZS5oYXMoeikpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitwZSl9O3ZhciBWPSh6LGFlLHBlKT0+KGJpKHosYWUsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIikscGU/cGUuY2FsbCh6KTphZS5nZXQoeikpLFVlPSh6LGFlLHBlKT0+e2lmKGFlLmhhcyh6KSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTthZSBpbnN0YW5jZW9mIFdlYWtTZXQ/YWUuYWRkKHopOmFlLnNldCh6LHBlKX0semU9KHosYWUscGUsc2UpPT4oYmkoeixhZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLHNlP3NlLmNhbGwoeixwZSk6YWUuc2V0KHoscGUpLHBlKSxIdD0oeixhZSxwZSxzZSk9Pih7c2V0IF8oQWUpe3plKHosYWUsQWUscGUpfSxnZXQgXygpe3JldHVybiBWKHosYWUsc2UpfX0pLGJuPSh6LGFlLHBlKT0+KGJpKHosYWUsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLHBlKTsoZnVuY3Rpb24oKXt2YXIgTWUsenQsdXQsR3QsdHQsWWUsSWUsSXIscnQsc3Isb3IsWGUsdXIsT3IsRW47InVzZSBzdHJpY3QiO3ZhciB6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5XaXRoaW5FcHNpbG9uPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9MTQwMTI5OGUtNTEpLE1hdGguYWJzKGUtdCk8PXJ9LGkuVG9IZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIGU8PTE1PygiMCIrdCkudG9VcHBlckNhc2UoKTp0LnRvVXBwZXJDYXNlKCl9LGkuU2lnbj1mdW5jdGlvbihlKXtyZXR1cm4gZT0rZSxlPT09MHx8aXNOYU4oZSk/ZTplPjA/MTotMX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTEpLE1hdGgubWluKHIsTWF0aC5tYXgodCxlKSl9LGkuTG9nMj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5sb2coZSkqTWF0aC5MT0cyRX0saS5JTG9nMj1mdW5jdGlvbihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO3ZhciB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH0saS5SZXBlYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS1NYXRoLmZsb29yKGUvdCkqdH0saS5Ob3JtYWxpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybihlLXQpLyhyLXQpfSxpLkRlbm9ybWFsaXplPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSooci10KSt0fSxpLkRlbHRhQW5nbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcj4xODAmJihyLT0zNjApLHJ9LGkuUGluZ1Bvbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlJlcGVhdChlLHQqMik7cmV0dXJuIHQtTWF0aC5hYnMoci10KX0saS5TbW9vdGhTdGVwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLkNsYW1wKHIpO3JldHVybiBuPS0yKm4qbipuKzMqbipuLHQqbitlKigxLW4pfSxpLk1vdmVUb3dhcmRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1yP249dDpuPWUraS5TaWduKHQtZSkqcixufSxpLk1vdmVUb3dhcmRzQW5nbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuRGVsdGFBbmdsZShlLHQpLGE9MDtyZXR1cm4tcjxuJiZuPHI/YT10Oih0PWUrbixhPWkuTW92ZVRvd2FyZHMoZSx0LHIpKSxhfSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlKyh0LWUpKnJ9LGkuTGVycEFuZ2xlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gbj4xODAmJihuLT0zNjApLGUrbippLkNsYW1wKHIpfSxpLkludmVyc2VMZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0wO3JldHVybiBlIT10P249aS5DbGFtcCgoci1lKS8odC1lKSk6bj0wLG59LGkuSGVybWl0ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PTIqby0zKnMrMSxmPS0yKm8rMypzLGw9by0yKnMrYSxoPW8tcztyZXR1cm4gZSp1K3IqZit0KmwrbipofSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphO3JldHVybihzLWEpKjYqZSsoMypzLTQqYSsxKSp0KygtcythKSo2KnIrKDMqcy0yKmEpKm59LGkuUmFuZG9tUmFuZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/ZTpNYXRoLnJhbmRvbSgpKih0LWUpK2V9LGkuUmFuZ2VUb1BlcmNlbnQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybihlLXQpLyhyLXQpfSxpLlBlcmNlbnRUb1JhbmdlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4oci10KSplK3R9LGkuTm9ybWFsaXplUmFkaWFucz1mdW5jdGlvbihlKXtyZXR1cm4gZS09aS5Ud29QaSpNYXRoLmZsb29yKChlK01hdGguUEkpL2kuVHdvUGkpLGV9LGkuSENGPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSV0O3JldHVybiByPT09MD90OmkuSENGKHQscil9LGkuVHdvUGk9TWF0aC5QSSoyLGl9KCksYWU9MS8yLjIscGU9Mi4yLHNlPS4wMDEsQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkJ1aWxkQXJyYXk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZTsrK24pci5wdXNoKHQoKSk7cmV0dXJuIHJ9LGkuQnVpbGRUdXBsZT1mdW5jdGlvbihlLHQpe3JldHVybiBpLkJ1aWxkQXJyYXkoZSx0KX0saX0oKSxFaT17fTtmdW5jdGlvbiB3ZShpLGUpe0VpW2ldPWV9ZnVuY3Rpb24gUnQoaSl7cmV0dXJuIEVpW2ldfXZhciBQdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuU2V0TWF0cml4UHJlY2lzaW9uPWZ1bmN0aW9uKGUpe2lmKGkuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2U9ITEsZSYmIWkuTWF0cml4VXNlNjRCaXRzJiZpLk1hdHJpeFRyYWNrZWRNYXRyaWNlcylmb3IodmFyIHQ9MDt0PGkuTWF0cml4VHJhY2tlZE1hdHJpY2VzLmxlbmd0aDsrK3Qpe3ZhciByPWkuTWF0cml4VHJhY2tlZE1hdHJpY2VzW3RdLG49ci5fbTtyLl9tPW5ldyBBcnJheSgxNik7Zm9yKHZhciBhPTA7YTwxNjsrK2Epci5fbVthXT1uW2FdfWkuTWF0cml4VXNlNjRCaXRzPWUsaS5NYXRyaXhDdXJyZW50VHlwZT1pLk1hdHJpeFVzZTY0Qml0cz9BcnJheTpGbG9hdDMyQXJyYXksaS5NYXRyaXhUcmFja2VkTWF0cmljZXM9bnVsbH0saS5NYXRyaXhVc2U2NEJpdHM9ITEsaS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMCxpLk1hdHJpeEN1cnJlbnRUeXBlPUZsb2F0MzJBcnJheSxpLk1hdHJpeFRyYWNrZWRNYXRyaWNlcz1bXSxpfSgpLHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxhc3RDcmVhdGVkRW5naW5lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSW5zdGFuY2VzLmxlbmd0aD09PTA/bnVsbDp0aGlzLkluc3RhbmNlc1t0aGlzLkluc3RhbmNlcy5sZW5ndGgtMV19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxhc3RDcmVhdGVkU2NlbmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fTGFzdENyZWF0ZWRTY2VuZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkluc3RhbmNlcz1uZXcgQXJyYXksaS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsLGkuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGkuRmFsbGJhY2tUZXh0dXJlPSIiLGl9KCksTGU9ZnVuY3Rpb24oaSl7cmV0dXJuIHBhcnNlSW50KGkudG9TdHJpbmcoKS5yZXBsYWNlKC9cVy9nLCIiKSl9LFNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHRoaXMueD1lLHRoaXMueT10fXJldHVybiBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7WDogIi5jb25jYXQodGhpcy54LCIgWTogIikuY29uY2F0KHRoaXMueSwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVmVjdG9yMiJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9TGUodGhpcy54KSx0PUxlKHRoaXMueSkscj1lO3JldHVybiByPXIqMzk3XnQscn0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54K2UueCx0aGlzLnkrZS55KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdGhpc30saS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30saS5wcm90b3R5cGUuYWRkVmVjdG9yMz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54K2UueCx0aGlzLnkrZS55KX0saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC1lLngsdGhpcy55LWUueSl9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3RJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngqZS54LHRoaXMueSplLnkpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5QnlGbG9hdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQpfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC9lLngsdGhpcy55L2UueSl9LGkucHJvdG90eXBlLmRpdmlkZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHRoaXN9LGkucHJvdG90eXBlLmRpdmlkZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC10aGlzLngsLXRoaXMueSl9LGkucHJvdG90eXBlLm5lZ2F0ZUluUGxhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEpfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoMCwwKTtyZXR1cm4gdGhpcy5zY2FsZVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHRoaXN9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LGkucHJvdG90eXBlLmVxdWFsc1dpdGhFcHNpbG9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PXNlKSxlJiZ6LldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9LGkucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSkpfSxpLnByb3RvdHlwZS5mcmFjdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSkpfSxpLnByb3RvdHlwZS5yb3RhdGVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHQueD1yKnRoaXMueC1uKnRoaXMueSx0Lnk9bip0aGlzLngrcip0aGlzLnksdGhpc30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX0saS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngsdGhpcy55KX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCl9LGkuT25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXX0saS5DYXRtdWxsUm9tPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9LjUqKDIqdC54KygtZS54K3IueCkqYSsoMiplLngtNSp0LngrNCpyLngtbi54KSpzKygtZS54KzMqdC54LTMqci54K24ueCkqbyksZj0uNSooMip0LnkrKC1lLnkrci55KSphKygyKmUueS01KnQueSs0KnIueS1uLnkpKnMrKC1lLnkrMyp0LnktMypyLnkrbi55KSpvKTtyZXR1cm4gbmV3IGkodSxmKX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS54O249bj5yLng/ci54Om4sbj1uPHQueD90Lng6bjt2YXIgYT1lLnk7cmV0dXJuIGE9YT5yLnk/ci55OmEsYT1hPHQueT90Lnk6YSxuZXcgaShuLGEpfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLngqdStyLngqZit0LngqbCtuLngqaCxkPWUueSp1K3IueSpmK3QueSpsK24ueSpoO3JldHVybiBuZXcgaShjLGQpfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9aS5aZXJvKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy54PShvLWEpKjYqZS54KygzKm8tNCphKzEpKnQueCsoLW8rYSkqNipyLngrKDMqby0yKmEpKm4ueCxzLnk9KG8tYSkqNiplLnkrKDMqby00KmErMSkqdC55KygtbythKSo2KnIueSsoMypvLTIqYSkqbi55fSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUueCsodC54LWUueCkqcixhPWUueSsodC55LWUueSkqcjtyZXR1cm4gbmV3IGkobixhKX0saS5Eb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD1pLlplcm8oKTtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9LGkuTm9ybWFsaXplVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmxlbmd0aCgpO3IhPT0wJiYodC54PWUueC9yLHQueT1lLnkvcil9LGkuTWluaW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLng8dC54P2UueDp0Lngsbj1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBpKHIsbil9LGkuTWF4aW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLng+dC54P2UueDp0Lngsbj1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBpKHIsbil9LGkuVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuVHJhbnNmb3JtVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQubSxhPWUueCpuWzBdK2UueSpuWzRdK25bMTJdLHM9ZS54Km5bMV0rZS55Km5bNV0rblsxM107ci54PWEsci55PXN9LGkuUG9pbnRJblRyaWFuZ2xlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPS41Kigtci55Km4ueCt0LnkqKC1yLngrbi54KSt0LngqKHIueS1uLnkpK3IueCpuLnkpLHM9YTwwPy0xOjEsbz0odC55Km4ueC10Lngqbi55KyhuLnktdC55KSplLngrKHQueC1uLngpKmUueSkqcyx1PSh0Lngqci55LXQueSpyLngrKHQueS1yLnkpKmUueCsoci54LXQueCkqZS55KSpzO3JldHVybiBvPjAmJnU+MCYmbyt1PDIqYSpzfSxpLkRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguc3FydChpLkRpc3RhbmNlU3F1YXJlZChlLHQpKX0saS5EaXN0YW5jZVNxdWFyZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLngtdC54LG49ZS55LXQueTtyZXR1cm4gcipyK24qbn0saS5DZW50ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5DZW50ZXJUb1JlZihlLHQsaS5aZXJvKCkpfSxpLkNlbnRlclRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5jb3B5RnJvbUZsb2F0cygoZS54K3QueCkvMiwoZS55K3QueSkvMil9LGkuRGlzdGFuY2VPZlBvaW50RnJvbVNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuRGlzdGFuY2VTcXVhcmVkKHQscik7aWYobj09PTApcmV0dXJuIGkuRGlzdGFuY2UoZSx0KTt2YXIgYT1yLnN1YnRyYWN0KHQpLHM9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGkuRG90KGUuc3VidHJhY3QodCksYSkvbikpLG89dC5hZGQoYS5tdWx0aXBseUJ5RmxvYXRzKHMscykpO3JldHVybiBpLkRpc3RhbmNlKGUsbyl9LGl9KCksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLHRoaXMuX2lzRGlydHk9ITAsdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLl94LCIgWTogIikuY29uY2F0KHRoaXMuX3ksIiBaOiAiKS5jb25jYXQodGhpcy5feiwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVmVjdG9yMyJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9TGUodGhpcy5feCksdD1MZSh0aGlzLl95KSxyPUxlKHRoaXMuX3opLG49ZTtyZXR1cm4gbj1uKjM5N150LG49biozOTdecixufSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS50b1F1YXRlcm5pb249ZnVuY3Rpb24oKXtyZXR1cm4gaWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5feSx0aGlzLl94LHRoaXMuX3opfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZEluUGxhY2VGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUuYWRkSW5QbGFjZUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9cix0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3grZS5feCx0aGlzLl95K2UuX3ksdGhpcy5feitlLl96KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9LGkucHJvdG90eXBlLnN1YnRyYWN0SW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gtZS5feCx0aGlzLl95LWUuX3ksdGhpcy5fei1lLl96KX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgaSh0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otcil9LGkucHJvdG90eXBlLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gtZSx0aGlzLl95LXQsdGhpcy5fei1yKX0saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96KX0saS5wcm90b3R5cGUubmVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfSxpLnByb3RvdHlwZS5uZWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLl94Ki0xLHRoaXMuX3kqLTEsdGhpcy5feiotMSl9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUudyp0aGlzLngrZS55KnRoaXMuei1lLnoqdGhpcy55LG49ZS53KnRoaXMueStlLnoqdGhpcy54LWUueCp0aGlzLnosYT1lLncqdGhpcy56K2UueCp0aGlzLnktZS55KnRoaXMueCxzPS1lLngqdGhpcy54LWUueSp0aGlzLnktZS56KnRoaXMuejtyZXR1cm4gdC54PXIqZS53K3MqLWUueCtuKi1lLnotYSotZS55LHQueT1uKmUudytzKi1lLnkrYSotZS54LXIqLWUueix0Lno9YSplLncrcyotZS56K3IqLWUueS1uKi1lLngsdH0saS5wcm90b3R5cGUuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25JblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUuYXBwbHlSb3RhdGlvblF1YXRlcm5pb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZihlLGkuWmVybygpKX0saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmFkZEluUGxhY2VGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUucHJvamVjdE9uUGxhbmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gdGhpcy5wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxyKSxyfSxpLnByb3RvdHlwZS5wcm9qZWN0T25QbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLm5vcm1hbCxhPWUuZCxzPVUuVmVjdG9yM1swXTt0aGlzLnN1YnRyYWN0VG9SZWYodCxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBvPWkuRG90KHMsbiksdT0tKGkuRG90KHQsbikrYSkvbyxmPXMuc2NhbGVJblBsYWNlKHUpO3QuYWRkVG9SZWYoZixyKX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96fSxpLnByb3RvdHlwZS5lcXVhbHNXaXRoRXBzaWxvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1zZSksZSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KX0saS5wcm90b3R5cGUuZXF1YWxzVG9GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl94PT09ZSYmdGhpcy5feT09PXQmJnRoaXMuX3o9PT1yfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5QnlGbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLl94LHRoaXMuX3kqZS5feSx0aGlzLl96KmUuX3opfSxpLnByb3RvdHlwZS5tdWx0aXBseUJ5RmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IGkodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KnIpfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gvZS5feCx0aGlzLl95L2UuX3ksdGhpcy5fei9lLl96KX0saS5wcm90b3R5cGUuZGl2aWRlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94L2UuX3gsdGhpcy5feS9lLl95LHRoaXMuX3ovZS5feil9LGkucHJvdG90eXBlLmRpdmlkZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUubWluaW1pemVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLHI8dGhpcy5feiYmKHRoaXMuej1yKSx0aGlzfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT50aGlzLl94JiYodGhpcy54PWUpLHQ+dGhpcy5feSYmKHRoaXMueT10KSxyPnRoaXMuX3omJih0aGlzLno9ciksdGhpc30saS5wcm90b3R5cGUuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbj1mdW5jdGlvbihlKXt2YXIgdD1NYXRoLmFicyh0aGlzLl94KSxyPU1hdGguYWJzKHRoaXMuX3kpO2lmKCF6LldpdGhpbkVwc2lsb24odCxyLGUpKXJldHVybiEwO3ZhciBuPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiF6LldpdGhpbkVwc2lsb24odCxuLGUpfHwhei5XaXRoaW5FcHNpbG9uKHIsbixlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc05vblVuaWZvcm0iLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLmFicyh0aGlzLl94KSx0PU1hdGguYWJzKHRoaXMuX3kpO2lmKGUhPT10KXJldHVybiEwO3ZhciByPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiBlIT09cn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiBuZXcgaShNYXRoLmZsb29yKHRoaXMuX3gpLE1hdGguZmxvb3IodGhpcy5feSksTWF0aC5mbG9vcih0aGlzLl96KSl9LGkucHJvdG90eXBlLmZyYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feil9LGkucHJvdG90eXBlLmxlbmd0aFNxdWFyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3p9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzQVplcm9Db21wb25lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feCp0aGlzLl95KnRoaXMuX3o9PT0wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vcm1hbGl6ZUZyb21MZW5ndGgodGhpcy5sZW5ndGgoKSl9LGkucHJvdG90eXBlLnJlb3JkZXJJblBsYWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLGU9PT0ieHl6Ij90aGlzOihVLlZlY3RvcjNbMF0uY29weUZyb20odGhpcyksWyJ4IiwieSIsInoiXS5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dFtyXT1VLlZlY3RvcjNbMF1bZVtuXV19KSx0aGlzKX0saS5wcm90b3R5cGUucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b1JvdGF0aW9uTWF0cml4KFUuTWF0cml4WzBdKSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcyxVLk1hdHJpeFswXSx0KSx0fSxpLnByb3RvdHlwZS5yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsVS5WZWN0b3IzWzBdKSxVLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxVLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoVS5WZWN0b3IzWzBdLHIpLHJ9LGkucHJvdG90eXBlLmNyb3NzPWZ1bmN0aW9uKGUpe3JldHVybiBpLkNyb3NzKHRoaXMsZSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZUZyb21MZW5ndGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0wfHxlPT09MT90aGlzOnRoaXMuc2NhbGVJblBsYWNlKDEvZSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZVRvTmV3PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGkoMCwwLDApO3JldHVybiB0aGlzLm5vcm1hbGl6ZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLm5vcm1hbGl6ZVRvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLl94LHRoaXMuX3ksdGhpcy5feil9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej1lLHRoaXN9LGkuR2V0Q2xpcEZhY3Rvcj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1pLkRvdChlLHIpLW4scz1pLkRvdCh0LHIpLW4sbz1hLyhhLXMpO3JldHVybiBvfSxpLkdldEFuZ2xlQmV0d2VlblZlY3RvcnM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUubm9ybWFsaXplVG9SZWYoVS5WZWN0b3IzWzFdKSxhPXQubm9ybWFsaXplVG9SZWYoVS5WZWN0b3IzWzJdKSxzPWkuRG90KG4sYSk7cz16LkNsYW1wKHMsLTEsMSk7dmFyIG89TWF0aC5hY29zKHMpLHU9VS5WZWN0b3IzWzNdO3JldHVybiBpLkNyb3NzVG9SZWYobixhLHUpLGkuRG90KHUscik+MD9pc05hTihvKT8wOm86aXNOYU4obyk/LU1hdGguUEk6LU1hdGguYWNvcyhzKX0saS5HZXRBbmdsZUJldHdlZW5WZWN0b3JzT25QbGFuZT1mdW5jdGlvbihlLHQscil7VS5WZWN0b3IzWzBdLmNvcHlGcm9tKGUpO3ZhciBuPVUuVmVjdG9yM1swXTtVLlZlY3RvcjNbMV0uY29weUZyb20odCk7dmFyIGE9VS5WZWN0b3IzWzFdO1UuVmVjdG9yM1syXS5jb3B5RnJvbShyKTt2YXIgcz1VLlZlY3RvcjNbMl0sbz1VLlZlY3RvcjNbM10sdT1VLlZlY3RvcjNbNF07bi5ub3JtYWxpemUoKSxhLm5vcm1hbGl6ZSgpLHMubm9ybWFsaXplKCksaS5Dcm9zc1RvUmVmKHMsbixvKSxpLkNyb3NzVG9SZWYobyxzLHUpO3ZhciBmPU1hdGguYXRhbjIoaS5Eb3QoYSxvKSxpLkRvdChhLHUpKTtyZXR1cm4gei5Ob3JtYWxpemVSYWRpYW5zKGYpfSxpLlNsZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7cj16LkNsYW1wKHIsMCwxKTt2YXIgYT1VLlZlY3RvcjNbMF0scz1VLlZlY3RvcjNbMV07YS5jb3B5RnJvbShlKTt2YXIgbz1hLmxlbmd0aCgpO2Eubm9ybWFsaXplRnJvbUxlbmd0aChvKSxzLmNvcHlGcm9tKHQpO3ZhciB1PXMubGVuZ3RoKCk7cy5ub3JtYWxpemVGcm9tTGVuZ3RoKHUpO3ZhciBmPWkuRG90KGEscyksbCxoO2lmKGY8MS1zZSl7dmFyIGM9TWF0aC5hY29zKGYpLGQ9MS9NYXRoLnNpbihjKTtsPU1hdGguc2luKCgxLXIpKmMpKmQsaD1NYXRoLnNpbihyKmMpKmR9ZWxzZSBsPTEtcixoPXI7YS5zY2FsZUluUGxhY2UobCkscy5zY2FsZUluUGxhY2UoaCksbi5jb3B5RnJvbShhKS5hZGRJblBsYWNlKHMpLG4uc2NhbGVJblBsYWNlKHouTGVycChvLHUscikpfSxpLlNtb290aFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aS5TbGVycFRvUmVmKGUsdCxuPT09MD8xOnIvbixhKX0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdKX0saS5Gcm9tRmxvYXRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiBpLkZyb21BcnJheShlLHQpfSxpLkZyb21BcnJheVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyLng9ZVt0XSxyLnk9ZVt0KzFdLHIuej1lW3QrMl19LGkuRnJvbUZsb2F0QXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuRnJvbUFycmF5VG9SZWYoZSx0LHIpfSxpLkZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuKXtuLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwKX0saS5PbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDEpfSxpLlVwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMSwwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVwUmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fVXBSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmlnaHRSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9SaWdodFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMZWZ0UmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fTGVmdFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJaZXJvUmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fWmVyb1JlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuRG93bj1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLC0xLDApfSxpLkZvcndhcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSxuZXcgaSgwLDAsZT8tMToxKX0saS5CYWNrd2FyZD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLG5ldyBpKDAsMCxlPzE6LTEpfSxpLlJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMCwwKX0saS5MZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC0xLDAsMCl9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxyKSxyfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2kuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyKX0saS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ubSxvPWUqc1swXSt0KnNbNF0rcipzWzhdK3NbMTJdLHU9ZSpzWzFdK3Qqc1s1XStyKnNbOV0rc1sxM10sZj1lKnNbMl0rdCpzWzZdK3Iqc1sxMF0rc1sxNF0sbD0xLyhlKnNbM10rdCpzWzddK3Iqc1sxMV0rc1sxNV0pO2EueD1vKmwsYS55PXUqbCxhLno9ZipsfSxpLlRyYW5zZm9ybU5vcm1hbD1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxyKSxyfSxpLlRyYW5zZm9ybU5vcm1hbFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LHIpfSxpLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ubTthLng9ZSpzWzBdK3Qqc1s0XStyKnNbOF0sYS55PWUqc1sxXSt0KnNbNV0rcipzWzldLGEuej1lKnNbMl0rdCpzWzZdK3Iqc1sxMF19LGkuQ2F0bXVsbFJvbT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PS41KigyKnQuX3grKC1lLl94K3IuX3gpKmErKDIqZS5feC01KnQuX3grNCpyLl94LW4uX3gpKnMrKC1lLl94KzMqdC5feC0zKnIuX3grbi5feCkqbyksZj0uNSooMip0Ll95KygtZS5feStyLl95KSphKygyKmUuX3ktNSp0Ll95KzQqci5feS1uLl95KSpzKygtZS5feSszKnQuX3ktMypyLl95K24uX3kpKm8pLGw9LjUqKDIqdC5feisoLWUuX3orci5feikqYSsoMiplLl96LTUqdC5feis0KnIuX3otbi5feikqcysoLWUuX3orMyp0Ll96LTMqci5feituLl96KSpvKTtyZXR1cm4gbmV3IGkodSxmLGwpfSxpLkNsYW1wPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5DbGFtcFRvUmVmKGUsdCxyLG4pLG59LGkuQ2xhbXBUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1lLl94O2E9YT5yLl94P3IuX3g6YSxhPWE8dC5feD90Ll94OmE7dmFyIHM9ZS5feTtzPXM+ci5feT9yLl95OnMscz1zPHQuX3k/dC5feTpzO3ZhciBvPWUuX3o7bz1vPnIuX3o/ci5fejpvLG89bzx0Ll96P3QuX3o6byxuLmNvcHlGcm9tRmxvYXRzKGEscyxvKX0saS5DaGVja0V4dGVuZHM9ZnVuY3Rpb24oZSx0LHIpe3QubWluaW1pemVJblBsYWNlKGUpLHIubWF4aW1pemVJblBsYWNlKGUpfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLl94KnUrci5feCpmK3QuX3gqbCtuLl94KmgsZD1lLl95KnUrci5feSpmK3QuX3kqbCtuLl95KmgscD1lLl96KnUrci5feipmK3QuX3oqbCtuLl96Kmg7cmV0dXJuIG5ldyBpKGMsZCxwKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuWmVybygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3MueD0oby1hKSo2KmUueCsoMypvLTQqYSsxKSp0LngrKC1vK2EpKjYqci54KygzKm8tMiphKSpuLngscy55PShvLWEpKjYqZS55KygzKm8tNCphKzEpKnQueSsoLW8rYSkqNipyLnkrKDMqby0yKmEpKm4ueSxzLno9KG8tYSkqNiplLnorKDMqby00KmErMSkqdC56KygtbythKSo2KnIueisoMypvLTIqYSkqbi56fSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwKTtyZXR1cm4gaS5MZXJwVG9SZWYoZSx0LHIsbiksbn0saS5MZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi54PWUuX3grKHQuX3gtZS5feCkqcixuLnk9ZS5feSsodC5feS1lLl95KSpyLG4uej1lLl96Kyh0Ll96LWUuX3opKnJ9LGkuRG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96fSxpLkNyb3NzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuQ3Jvc3NUb1JlZihlLHQscikscn0saS5Dcm9zc1RvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLl95KnQuX3otZS5feip0Ll95LGE9ZS5feip0Ll94LWUuX3gqdC5feixzPWUuX3gqdC5feS1lLl95KnQuX3g7ci5jb3B5RnJvbUZsb2F0cyhuLGEscyl9LGkuTm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWkuWmVybygpO3JldHVybiBpLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH0saS5Ob3JtYWxpemVUb1JlZj1mdW5jdGlvbihlLHQpe2Uubm9ybWFsaXplVG9SZWYodCl9LGkuUHJvamVjdD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uZXcgaTtyZXR1cm4gaS5Qcm9qZWN0VG9SZWYoZSx0LHIsbixhKSxhfSxpLlByb2plY3RUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ud2lkdGgsbz1uLmhlaWdodCx1PW4ueCxmPW4ueSxsPVUuTWF0cml4WzFdO0kuRnJvbVZhbHVlc1RvUmVmKHMvMiwwLDAsMCwwLC1vLzIsMCwwLDAsMCwuNSwwLHUrcy8yLG8vMitmLC41LDEsbCk7dmFyIGg9VS5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihyLGgpLGgubXVsdGlwbHlUb1JlZihsLGgpLGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLGgsYSksYX0saS5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2kuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQscik7dmFyIG49dC5tLGE9ZS5feCpuWzNdK2UuX3kqbls3XStlLl96Km5bMTFdK25bMTVdO3ouV2l0aGluRXBzaWxvbihhLDEpJiZyLnNjYWxlSW5QbGFjZSgxL2EpfSxpLlVucHJvamVjdEZyb21UcmFuc2Zvcm09ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdGhpcy5VbnByb2plY3QoZSx0LHIsbixhLEkuSWRlbnRpdHlSZWFkT25seSl9LGkuVW5wcm9qZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1pLlplcm8oKTtyZXR1cm4gaS5VbnByb2plY3RUb1JlZihlLHQscixuLGEscyxvKSxvfSxpLlVucHJvamVjdFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe2kuVW5wcm9qZWN0RmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyLG4sYSxzLG8pfSxpLlVucHJvamVjdEZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXt2YXIgbCxoPVUuTWF0cml4WzBdO3MubXVsdGlwbHlUb1JlZihvLGgpLGgubXVsdGlwbHlUb1JlZih1LGgpLGguaW52ZXJ0KCk7dmFyIGM9VS5WZWN0b3IzWzBdO2MueD1lL24qMi0xLGMueT0tKHQvYSoyLTEpLCEoKGw9cmUuTGFzdENyZWF0ZWRFbmdpbmUpPT09bnVsbHx8bD09PXZvaWQgMCkmJmwuaXNORENIYWxmWlJhbmdlP2Muej1yOmMuej0yKnItMSxpLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihjLGgsZil9LGkuTWluaW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNsb25lKCk7cmV0dXJuIHIubWluaW1pemVJblBsYWNlKHQpLHJ9LGkuTWF4aW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNsb25lKCk7cmV0dXJuIHIubWF4aW1pemVJblBsYWNlKHQpLHJ9LGkuRGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KGkuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfSxpLkRpc3RhbmNlU3F1YXJlZD1mdW5jdGlvbihlLHQpe3ZhciByPWUuX3gtdC5feCxuPWUuX3ktdC5feSxhPWUuX3otdC5fejtyZXR1cm4gcipyK24qbithKmF9LGkuUHJvamVjdE9uVHJpYW5nbGVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPVUuVmVjdG9yM1swXSxvPVUuVmVjdG9yM1sxXSx1PVUuVmVjdG9yM1syXSxmPVUuVmVjdG9yM1szXSxsPVUuVmVjdG9yM1s0XTtyLnN1YnRyYWN0VG9SZWYodCxzKSxuLnN1YnRyYWN0VG9SZWYodCxvKSxuLnN1YnRyYWN0VG9SZWYocix1KTt2YXIgaD1zLmxlbmd0aCgpLGM9by5sZW5ndGgoKSxkPXUubGVuZ3RoKCk7aWYoaDxzZXx8YzxzZXx8ZDxzZSlyZXR1cm4gYS5jb3B5RnJvbSh0KSxpLkRpc3RhbmNlKGUsdCk7ZS5zdWJ0cmFjdFRvUmVmKHQsbCksaS5Dcm9zc1RvUmVmKHMsbyxmKTt2YXIgcD1mLmxlbmd0aCgpO2lmKHA8c2UpcmV0dXJuIGEuY29weUZyb20odCksaS5EaXN0YW5jZShlLHQpO2Yubm9ybWFsaXplRnJvbUxlbmd0aChwKTt2YXIgZz1sLmxlbmd0aCgpO2lmKGc8c2UpcmV0dXJuIGEuY29weUZyb20odCksMDtsLm5vcm1hbGl6ZUZyb21MZW5ndGgoZyk7dmFyIF89aS5Eb3QoZixsKSx2PVUuVmVjdG9yM1s1XSx5PVUuVmVjdG9yM1s2XTt2LmNvcHlGcm9tKGYpLnNjYWxlSW5QbGFjZSgtZypfKSx5LmNvcHlGcm9tKGUpLmFkZEluUGxhY2Uodik7dmFyIEU9VS5WZWN0b3IzWzRdLFI9VS5WZWN0b3IzWzVdLE09VS5WZWN0b3IzWzddLEM9VS5WZWN0b3IzWzhdO0UuY29weUZyb20ocykuc2NhbGVJblBsYWNlKDEvaCksQy5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoMS9jKSxFLmFkZEluUGxhY2UoQykuc2NhbGVJblBsYWNlKC0xKSxSLmNvcHlGcm9tKHMpLnNjYWxlSW5QbGFjZSgtMS9oKSxDLmNvcHlGcm9tKHUpLnNjYWxlSW5QbGFjZSgxL2QpLFIuYWRkSW5QbGFjZShDKS5zY2FsZUluUGxhY2UoLTEpLE0uY29weUZyb20odSkuc2NhbGVJblBsYWNlKC0xL2QpLEMuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xL2MpLE0uYWRkSW5QbGFjZShDKS5zY2FsZUluUGxhY2UoLTEpO3ZhciBBPVUuVmVjdG9yM1s5XSxTO0EuY29weUZyb20oeSkuc3VidHJhY3RJblBsYWNlKHQpLGkuQ3Jvc3NUb1JlZihFLEEsQyksUz1pLkRvdChDLGYpO3ZhciB3PVM7QS5jb3B5RnJvbSh5KS5zdWJ0cmFjdEluUGxhY2UociksaS5Dcm9zc1RvUmVmKFIsQSxDKSxTPWkuRG90KEMsZik7dmFyIEY9UztBLmNvcHlGcm9tKHkpLnN1YnRyYWN0SW5QbGFjZShuKSxpLkNyb3NzVG9SZWYoTSxBLEMpLFM9aS5Eb3QoQyxmKTt2YXIgeD1TLEc9VS5WZWN0b3IzWzEwXSxXLE47dz4wJiZGPDA/KEcuY29weUZyb20ocyksVz10LE49cik6Rj4wJiZ4PDA/KEcuY29weUZyb20odSksVz1yLE49bik6KEcuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xKSxXPW4sTj10KTt2YXIgcT1VLlZlY3RvcjNbOV0sJD1VLlZlY3RvcjNbNF07Vy5zdWJ0cmFjdFRvUmVmKHksQyksTi5zdWJ0cmFjdFRvUmVmKHkscSksaS5Dcm9zc1RvUmVmKEMscSwkKTt2YXIgb2U9aS5Eb3QoJCxmKTwwO2lmKCFvZSlyZXR1cm4gYS5jb3B5RnJvbSh5KSxNYXRoLmFicyhnKl8pO3ZhciBaPVUuVmVjdG9yM1s1XTtpLkNyb3NzVG9SZWYoRywkLFopLFoubm9ybWFsaXplKCk7dmFyIGo9VS5WZWN0b3IzWzldO2ouY29weUZyb20oVykuc3VidHJhY3RJblBsYWNlKHkpO3ZhciB1ZT1qLmxlbmd0aCgpO2lmKHVlPHNlKXJldHVybiBhLmNvcHlGcm9tKFcpLGkuRGlzdGFuY2UoZSxXKTtqLm5vcm1hbGl6ZUZyb21MZW5ndGgodWUpO3ZhciBQZT1pLkRvdChaLGopLFdlPVUuVmVjdG9yM1s3XTtXZS5jb3B5RnJvbSh5KS5hZGRJblBsYWNlKFouc2NhbGVJblBsYWNlKHVlKlBlKSksQy5jb3B5RnJvbShXZSkuc3VidHJhY3RJblBsYWNlKFcpLGc9Ry5sZW5ndGgoKSxHLm5vcm1hbGl6ZUZyb21MZW5ndGgoZyk7dmFyIFplPWkuRG90KEMsRykvTWF0aC5tYXgoZyxzZSk7cmV0dXJuIFplPXouQ2xhbXAoWmUsMCwxKSxXZS5jb3B5RnJvbShXKS5hZGRJblBsYWNlKEcuc2NhbGVJblBsYWNlKFplKmcpKSxhLmNvcHlGcm9tKFdlKSxpLkRpc3RhbmNlKGUsV2UpfSxpLkNlbnRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLkNlbnRlclRvUmVmKGUsdCxpLlplcm8oKSl9LGkuQ2VudGVyVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmNvcHlGcm9tRmxvYXRzKChlLl94K3QuX3gpLzIsKGUuX3krdC5feSkvMiwoZS5feit0Ll96KS8yKX0saS5Sb3RhdGlvbkZyb21BeGlzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLlplcm8oKTtyZXR1cm4gaS5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvbkZyb21BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9VS5RdWF0ZXJuaW9uWzBdO2llLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LHIsYSksYS50b0V1bGVyQW5nbGVzVG9SZWYobil9LGkuX1VwUmVhZE9ubHk9aS5VcCgpLGkuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9aS5Gb3J3YXJkKCExKSxpLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seT1pLkZvcndhcmQoITApLGkuX1JpZ2h0UmVhZE9ubHk9aS5SaWdodCgpLGkuX0xlZnRSZWFkT25seT1pLkxlZnQoKSxpLl9aZXJvUmVhZE9ubHk9aS5aZXJvKCksaX0oKSxtdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PXIsdGhpcy53PW59cmV0dXJuIGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLngsIiBZOiAiKS5jb25jYXQodGhpcy55LCIgWjogIikuY29uY2F0KHRoaXMueiwiIFc6ICIpLmNvbmNhdCh0aGlzLncsIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlZlY3RvcjQifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMueCksdD1MZSh0aGlzLnkpLHI9TGUodGhpcy56KSxuPUxlKHRoaXMudyksYT1lO3JldHVybiBhPWEqMzk3XnQsYT1hKjM5N15yLGE9YSozOTdebixhfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksZVt0KzJdPXRoaXMueixlW3QrM109dGhpcy53LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueCtlLngsdGhpcy55K2UueSx0aGlzLnorZS56LHRoaXMudytlLncpfSxpLnByb3RvdHlwZS5hZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0Lno9dGhpcy56K2Uueix0Lnc9dGhpcy53K2Uudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngtZS54LHRoaXMueS1lLnksdGhpcy56LWUueix0aGlzLnctZS53KX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54LWUueCx0Lnk9dGhpcy55LWUueSx0Lno9dGhpcy56LWUueix0Lnc9dGhpcy53LWUudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1yLHRoaXMudy1uKX0saS5wcm90b3R5cGUuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gYS54PXRoaXMueC1lLGEueT10aGlzLnktdCxhLno9dGhpcy56LXIsYS53PXRoaXMudy1uLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy54LC10aGlzLnksLXRoaXMueiwtdGhpcy53KX0saS5wcm90b3R5cGUubmVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEsdGhpcy56Ki0xLHRoaXMudyotMSl9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0Lno9dGhpcy56KmUsdC53PXRoaXMudyplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHQueis9dGhpcy56KmUsdC53Kz10aGlzLncqZSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud30saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9c2UpLGUmJnouV2l0aGluRXBzaWxvbih0aGlzLngsZS54LHQpJiZ6LldpdGhpbkVwc2lsb24odGhpcy55LGUueSx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMueixlLnosdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLncsZS53LHQpfSxpLnByb3RvdHlwZS5lcXVhbHNUb0Zsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09ciYmdGhpcy53PT09bn0saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzLnoqPWUueix0aGlzLncqPWUudyx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54KmUueCx0aGlzLnkqZS55LHRoaXMueiplLnosdGhpcy53KmUudyl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlCeUZsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQsdGhpcy56KnIsdGhpcy53Km4pfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC9lLngsdGhpcy55L2UueSx0aGlzLnovZS56LHRoaXMudy9lLncpfSxpLnByb3RvdHlwZS5kaXZpZGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0aGlzfSxpLnByb3RvdHlwZS5kaXZpZGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS54PHRoaXMueCYmKHRoaXMueD1lLngpLGUueTx0aGlzLnkmJih0aGlzLnk9ZS55KSxlLno8dGhpcy56JiYodGhpcy56PWUueiksZS53PHRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9LGkucHJvdG90eXBlLm1heGltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9LGkucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSksTWF0aC5mbG9vcih0aGlzLnopLE1hdGguZmxvb3IodGhpcy53KSl9LGkucHJvdG90eXBlLmZyYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueC1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55LU1hdGguZmxvb3IodGhpcy55KSx0aGlzLnotTWF0aC5mbG9vcih0aGlzLnopLHRoaXMudy1NYXRoLmZsb29yKHRoaXMudykpfSxpLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLnd9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX0saS5wcm90b3R5cGUudG9WZWN0b3IzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMueCx0aGlzLnksdGhpcy56KX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdLHIudz1lW3QrM119LGkuRnJvbUZsb2F0QXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7aS5Gcm9tQXJyYXlUb1JlZihlLHQscil9LGkuRnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YS54PWUsYS55PXQsYS56PXIsYS53PW59LGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCwwKX0saS5PbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDEsMSl9LGkuTm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWkuWmVybygpO3JldHVybiBpLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH0saS5Ob3JtYWxpemVUb1JlZj1mdW5jdGlvbihlLHQpe3QuY29weUZyb20oZSksdC5ub3JtYWxpemUoKX0saS5NaW5pbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5taW5pbWl6ZUluUGxhY2UodCkscn0saS5NYXhpbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5tYXhpbWl6ZUluUGxhY2UodCkscn0saS5EaXN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLnNxcnQoaS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9LGkuRGlzdGFuY2VTcXVhcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS54LXQueCxuPWUueS10LnksYT1lLnotdC56LHM9ZS53LXQudztyZXR1cm4gcipyK24qbithKmErcypzfSxpLkNlbnRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLkNlbnRlclRvUmVmKGUsdCxpLlplcm8oKSl9LGkuQ2VudGVyVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmNvcHlGcm9tRmxvYXRzKChlLngrdC54KS8yLChlLnkrdC55KS8yLChlLnordC56KS8yLChlLncrdC53KS8yKX0saS5UcmFuc2Zvcm1Db29yZGluYXRlcz1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZj1mdW5jdGlvbihlLHQscil7aS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LHIpfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bi5tLG89ZSpzWzBdK3Qqc1s0XStyKnNbOF0rc1sxMl0sdT1lKnNbMV0rdCpzWzVdK3Iqc1s5XStzWzEzXSxmPWUqc1syXSt0KnNbNl0rcipzWzEwXStzWzE0XSxsPWUqc1szXSt0KnNbN10rcipzWzExXStzWzE1XTthLng9byxhLnk9dSxhLno9ZixhLnc9bH0saS5UcmFuc2Zvcm1Ob3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49dC5tLGE9ZS54Km5bMF0rZS55Km5bNF0rZS56Km5bOF0scz1lLngqblsxXStlLnkqbls1XStlLnoqbls5XSxvPWUueCpuWzJdK2UueSpuWzZdK2UueipuWzEwXTtyLng9YSxyLnk9cyxyLno9byxyLnc9ZS53fSxpLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YS5tO3MueD1lKm9bMF0rdCpvWzRdK3Iqb1s4XSxzLnk9ZSpvWzFdK3Qqb1s1XStyKm9bOV0scy56PWUqb1syXSt0Km9bNl0rcipvWzEwXSxzLnc9bn0saS5Gcm9tVmVjdG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlLl94LGUuX3ksZS5feix0KX0saX0oKSxpZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7ZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MSksdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9cix0aGlzLl93PW59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdz1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1g6ICIuY29uY2F0KHRoaXMuX3gsIiBZOiAiKS5jb25jYXQodGhpcy5feSwiIFo6ICIpLmNvbmNhdCh0aGlzLl96LCIgVzogIikuY29uY2F0KHRoaXMuX3csIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlF1YXRlcm5pb24ifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMuX3gpLHQ9TGUodGhpcy5feSkscj1MZSh0aGlzLl96KSxuPUxlKHRoaXMuX3cpLGE9ZTtyZXR1cm4gYT1hKjM5N150LGE9YSozOTdecixhPWEqMzk3Xm4sYX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93XX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96JiZ0aGlzLl93PT09ZS5fd30saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9c2UpLGUmJnouV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLl93LGUuX3csdCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3cpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94Kz1lLl94LHRoaXMuX3krPWUuX3ksdGhpcy5feis9ZS5feix0aGlzLl93Kz1lLl93LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94LWUuX3gsdGhpcy5feS1lLl95LHRoaXMuX3otZS5feix0aGlzLl93LWUuX3cpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplLHRoaXMuX3cqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMuX3gqZSx0Lnk9dGhpcy5feSplLHQuej10aGlzLl96KmUsdC53PXRoaXMuX3cqZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueCs9dGhpcy5feCplLHQueSs9dGhpcy5feSplLHQueis9dGhpcy5feiplLHQudys9dGhpcy5fdyplLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKDAsMCwwLDEpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5feCplLl93K3RoaXMuX3kqZS5fei10aGlzLl96KmUuX3krdGhpcy5fdyplLl94LG49LXRoaXMuX3gqZS5feit0aGlzLl95KmUuX3crdGhpcy5feiplLl94K3RoaXMuX3cqZS5feSxhPXRoaXMuX3gqZS5feS10aGlzLl95KmUuX3grdGhpcy5feiplLl93K3RoaXMuX3cqZS5feixzPS10aGlzLl94KmUuX3gtdGhpcy5feSplLl95LXRoaXMuX3oqZS5feit0aGlzLl93KmUuX3c7cmV0dXJuIHQuY29weUZyb21GbG9hdHMocixuLGEscyksdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5jb25qdWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cygtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KSx0aGlzfSxpLnByb3RvdHlwZS5jb25qdWdhdGVJblBsYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCo9LTEsdGhpcy55Kj0tMSx0aGlzLnoqPS0xLHRoaXN9LGkucHJvdG90eXBlLmNvbmp1Z2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX0saS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25qdWdhdGUoKSx0PXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiB0PT0wfHx0PT0xfHxlLnNjYWxlSW5QbGFjZSgxL3QpLGV9LGkucHJvdG90eXBlLmludmVydEluUGxhY2U9ZnVuY3Rpb24oKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTt2YXIgZT10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gZT09MHx8ZT09MT90aGlzOih0aGlzLnNjYWxlSW5QbGFjZSgxL2UpLHRoaXMpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7aWYoZT09PTApcmV0dXJuIHRoaXM7dmFyIHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfSxpLnByb3RvdHlwZS5ub3JtYWxpemVUb05ldz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7aWYoZT09PTApcmV0dXJuIHRoaXMuY2xvbmUoKTt2YXIgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9LGkucHJvdG90eXBlLnRvRXVsZXJBbmdsZXM9ZnVuY3Rpb24oKXt2YXIgZT1iLlplcm8oKTtyZXR1cm4gdGhpcy50b0V1bGVyQW5nbGVzVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9FdWxlckFuZ2xlc1RvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3oscj10aGlzLl94LG49dGhpcy5feSxhPXRoaXMuX3cscz1uKnQtciphLG89LjQ5OTk5OTk7aWYoczwtbyllLnk9MipNYXRoLmF0YW4yKG4sYSksZS54PU1hdGguUEkvMixlLno9MDtlbHNlIGlmKHM+byllLnk9MipNYXRoLmF0YW4yKG4sYSksZS54PS1NYXRoLlBJLzIsZS56PTA7ZWxzZXt2YXIgdT1hKmEsZj10KnQsbD1yKnIsaD1uKm47ZS56PU1hdGguYXRhbjIoMioocipuK3QqYSksLWYtbCtoK3UpLGUueD1NYXRoLmFzaW4oLTIqcyksZS55PU1hdGguYXRhbjIoMioodCpyK24qYSksZi1sLWgrdSl9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLnRvUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIEkuRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLHRoaXN9LGkucHJvdG90eXBlLmZyb21Sb3RhdGlvbk1hdHJpeD1mdW5jdGlvbihlKXtyZXR1cm4gaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHRoaXMpLHRoaXN9LGkuRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBpLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdCksdH0saS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubSxuPXJbMF0sYT1yWzRdLHM9cls4XSxvPXJbMV0sdT1yWzVdLGY9cls5XSxsPXJbMl0saD1yWzZdLGM9clsxMF0sZD1uK3UrYyxwO2Q+MD8ocD0uNS9NYXRoLnNxcnQoZCsxKSx0Lnc9LjI1L3AsdC54PShoLWYpKnAsdC55PShzLWwpKnAsdC56PShvLWEpKnApOm4+dSYmbj5jPyhwPTIqTWF0aC5zcXJ0KDErbi11LWMpLHQudz0oaC1mKS9wLHQueD0uMjUqcCx0Lnk9KGErbykvcCx0Lno9KHMrbCkvcCk6dT5jPyhwPTIqTWF0aC5zcXJ0KDErdS1uLWMpLHQudz0ocy1sKS9wLHQueD0oYStvKS9wLHQueT0uMjUqcCx0Lno9KGYraCkvcCk6KHA9MipNYXRoLnNxcnQoMStjLW4tdSksdC53PShvLWEpL3AsdC54PShzK2wpL3AsdC55PShmK2gpL3AsdC56PS4yNSpwKX0saS5Eb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3orZS5fdyp0Ll93fSxpLkFyZUNsb3NlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5Eb3QoZSx0KTtyZXR1cm4gcj49MH0saS5TbW9vdGhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW49PT0wPzE6ci9uO3M9ei5DbGFtcChzLDAsMSksaS5TbGVycFRvUmVmKGUsdCxzLGEpfSxpLlplcm89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDAsMCl9LGkuSW52ZXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyl9LGkuSW52ZXJzZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc2V0KC1lLl94LC1lLl95LC1lLl96LGUuX3cpLHR9LGkuSWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDAsMSl9LGkuSXNJZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5feD09PTAmJmUuX3k9PT0wJiZlLl96PT09MCYmZS5fdz09PTF9LGkuUm90YXRpb25BeGlzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuUm90YXRpb25BeGlzVG9SZWYoZSx0LG5ldyBpKX0saS5Sb3RhdGlvbkF4aXNUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5zaW4odC8yKTtyZXR1cm4gZS5ub3JtYWxpemUoKSxyLnc9TWF0aC5jb3ModC8yKSxyLng9ZS5feCpuLHIueT1lLl95Km4sci56PWUuX3oqbixyfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdLHIudz1lW3QrM119LGkuRnJvbUV1bGVyQW5nbGVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxyLG4pLG59LGkuRnJvbUV1bGVyQW5nbGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUscixuKSxufSxpLkZyb21FdWxlclZlY3Rvcj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9LGkuRnJvbUV1bGVyVmVjdG9yVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9LGkuRnJvbVVuaXRWZWN0b3JzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWIuRG90KGUsdCkrMTtyZXR1cm4gbjxzZT9NYXRoLmFicyhlLngpPk1hdGguYWJzKGUueik/ci5zZXQoLWUueSxlLngsMCwwKTpyLnNldCgwLC1lLnosZS55LDApOihiLkNyb3NzVG9SZWYoZSx0LEQuVmVjdG9yM1swXSksci5zZXQoRC5WZWN0b3IzWzBdLngsRC5WZWN0b3IzWzBdLnksRC5WZWN0b3IzWzBdLnosbikpLHIubm9ybWFsaXplKCl9LGkuUm90YXRpb25ZYXdQaXRjaFJvbGw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXIqLjUscz10Ki41LG89ZSouNSx1PU1hdGguc2luKGEpLGY9TWF0aC5jb3MoYSksbD1NYXRoLnNpbihzKSxoPU1hdGguY29zKHMpLGM9TWF0aC5zaW4obyksZD1NYXRoLmNvcyhvKTtuLng9ZCpsKmYrYypoKnUsbi55PWMqaCpmLWQqbCp1LG4uej1kKmgqdS1jKmwqZixuLnc9ZCpoKmYrYypsKnV9LGkuUm90YXRpb25BbHBoYUJldGFHYW1tYT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPShyK2UpKi41LHM9KHItZSkqLjUsbz10Ki41O24ueD1NYXRoLmNvcyhzKSpNYXRoLnNpbihvKSxuLnk9TWF0aC5zaW4ocykqTWF0aC5zaW4obyksbi56PU1hdGguc2luKGEpKk1hdGguY29zKG8pLG4udz1NYXRoLmNvcyhhKSpNYXRoLmNvcyhvKX0saS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpcz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoMCwwLDAsMCk7cmV0dXJuIGkuUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQscixuKSxufSxpLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9VS5NYXRyaXhbMF07SS5Gcm9tWFlaQXhlc1RvUmVmKGUubm9ybWFsaXplKCksdC5ub3JtYWxpemUoKSxyLm5vcm1hbGl6ZSgpLGEpLGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoYSxuKX0saS5Gcm9tTG9va0RpcmVjdGlvbkxIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxyKSxyfSxpLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49VS5NYXRyaXhbMF07SS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsbiksaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihuLHIpfSxpLkZyb21Mb29rRGlyZWN0aW9uUkg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Gcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHIpLHJ9LGkuRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1VLk1hdHJpeFswXTtyZXR1cm4gSS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsbiksaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihuLHIpfSxpLlNsZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLklkZW50aXR5KCk7cmV0dXJuIGkuU2xlcnBUb1JlZihlLHQscixuKSxufSxpLlNsZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGEscyxvPWUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fdyx1PSExO2lmKG88MCYmKHU9ITAsbz0tbyksbz4uOTk5OTk5KXM9MS1yLGE9dT8tcjpyO2Vsc2V7dmFyIGY9TWF0aC5hY29zKG8pLGw9MS9NYXRoLnNpbihmKTtzPU1hdGguc2luKCgxLXIpKmYpKmwsYT11Py1NYXRoLnNpbihyKmYpKmw6TWF0aC5zaW4ocipmKSpsfW4ueD1zKmUuX3grYSp0Ll94LG4ueT1zKmUuX3krYSp0Ll95LG4uej1zKmUuX3orYSp0Ll96LG4udz1zKmUuX3crYSp0Ll93fSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLl94KnUrci5feCpmK3QuX3gqbCtuLl94KmgsZD1lLl95KnUrci5feSpmK3QuX3kqbCtuLl95KmgscD1lLl96KnUrci5feipmK3QuX3oqbCtuLl96KmgsZz1lLl93KnUrci5fdypmK3QuX3cqbCtuLl93Kmg7cmV0dXJuIG5ldyBpKGMsZCxwLGcpfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9aS5aZXJvKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy54PShvLWEpKjYqZS54KygzKm8tNCphKzEpKnQueCsoLW8rYSkqNipyLngrKDMqby0yKmEpKm4ueCxzLnk9KG8tYSkqNiplLnkrKDMqby00KmErMSkqdC55KygtbythKSo2KnIueSsoMypvLTIqYSkqbi55LHMuej0oby1hKSo2KmUueisoMypvLTQqYSsxKSp0LnorKC1vK2EpKjYqci56KygzKm8tMiphKSpuLnoscy53PShvLWEpKjYqZS53KygzKm8tNCphKzEpKnQudysoLW8rYSkqNipyLncrKDMqby0yKmEpKm4ud30saX0oKSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwLHRoaXMudXBkYXRlRmxhZz0tMSxQdC5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZSYmUHQuTWF0cml4VHJhY2tlZE1hdHJpY2VzLnB1c2godGhpcyksdGhpcy5fbT1uZXcgUHQuTWF0cml4Q3VycmVudFR5cGUoMTYpLHRoaXMubWFya0FzVXBkYXRlZCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVXNlNjRCaXRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFB0Lk1hdHJpeFVzZTY0Qml0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm0iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5tYXJrQXNVcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVGbGFnPWkuX1VwZGF0ZUZsYWdTZWVkKyssdGhpcy5faXNJZGVudGl0eT0hMSx0aGlzLl9pc0lkZW50aXR5M3gyPSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITB9LGkucHJvdG90eXBlLl91cGRhdGVJZGVudGl0eVN0YXR1cz1mdW5jdGlvbihlLHQscixuKXt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSEwKSx0aGlzLl9pc0lkZW50aXR5PWUsdGhpcy5faXNJZGVudGl0eTN4Mj1lfHxyLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT10aGlzLl9pc0lkZW50aXR5PyExOnQsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PXRoaXMuX2lzSWRlbnRpdHkzeDI/ITE6bn0saS5wcm90b3R5cGUuaXNJZGVudGl0eT1mdW5jdGlvbigpe2lmKHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSl7dGhpcy5faXNJZGVudGl0eURpcnR5PSExO3ZhciBlPXRoaXMuX207dGhpcy5faXNJZGVudGl0eT1lWzBdPT09MSYmZVsxXT09PTAmJmVbMl09PT0wJiZlWzNdPT09MCYmZVs0XT09PTAmJmVbNV09PT0xJiZlWzZdPT09MCYmZVs3XT09PTAmJmVbOF09PT0wJiZlWzldPT09MCYmZVsxMF09PT0xJiZlWzExXT09PTAmJmVbMTJdPT09MCYmZVsxM109PT0wJiZlWzE0XT09PTAmJmVbMTVdPT09MX1yZXR1cm4gdGhpcy5faXNJZGVudGl0eX0saS5wcm90b3R5cGUuaXNJZGVudGl0eUFzM3gyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSYmKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMSx0aGlzLl9tWzBdIT09MXx8dGhpcy5fbVs1XSE9PTF8fHRoaXMuX21bMTVdIT09MT90aGlzLl9pc0lkZW50aXR5M3gyPSExOnRoaXMuX21bMV0hPT0wfHx0aGlzLl9tWzJdIT09MHx8dGhpcy5fbVszXSE9PTB8fHRoaXMuX21bNF0hPT0wfHx0aGlzLl9tWzZdIT09MHx8dGhpcy5fbVs3XSE9PTB8fHRoaXMuX21bOF0hPT0wfHx0aGlzLl9tWzldIT09MHx8dGhpcy5fbVsxMF0hPT0wfHx0aGlzLl9tWzExXSE9PTB8fHRoaXMuX21bMTJdIT09MHx8dGhpcy5fbVsxM10hPT0wfHx0aGlzLl9tWzE0XSE9PTA/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9pc0lkZW50aXR5M3gyPSEwKSx0aGlzLl9pc0lkZW50aXR5M3gyfSxpLnByb3RvdHlwZS5kZXRlcm1pbmFudD1mdW5jdGlvbigpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gMTt2YXIgZT10aGlzLl9tLHQ9ZVswXSxyPWVbMV0sbj1lWzJdLGE9ZVszXSxzPWVbNF0sbz1lWzVdLHU9ZVs2XSxmPWVbN10sbD1lWzhdLGg9ZVs5XSxjPWVbMTBdLGQ9ZVsxMV0scD1lWzEyXSxnPWVbMTNdLF89ZVsxNF0sdj1lWzE1XSx5PWMqdi1fKmQsRT1oKnYtZypkLFI9aCpfLWcqYyxNPWwqdi1wKmQsQz1sKl8tYypwLEE9bCpnLXAqaCxTPSsobyp5LXUqRStmKlIpLHc9LShzKnktdSpNK2YqQyksRj0rKHMqRS1vKk0rZipBKSx4PS0ocypSLW8qQyt1KkEpO3JldHVybiB0KlMrcip3K24qRithKnh9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tfSxpLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZlcnRUb1JlZih0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZigwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHRoaXMpLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSx0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIHRoaXMuYWRkVG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5hZGRUb1JlZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLl9tLG49dC5fbSxhPWUubSxzPTA7czwxNjtzKyspbltzXT1yW3NdK2Fbc107cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLmFkZFRvU2VsZj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fbSxyPWUubSxuPTA7bjwxNjtuKyspdFtuXSs9cltuXTtyZXR1cm4gdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc30saS5wcm90b3R5cGUuaW52ZXJ0VG9SZWY9ZnVuY3Rpb24oZSl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiBpLklkZW50aXR5VG9SZWYoZSksdGhpczt2YXIgdD10aGlzLl9tLHI9dFswXSxuPXRbMV0sYT10WzJdLHM9dFszXSxvPXRbNF0sdT10WzVdLGY9dFs2XSxsPXRbN10saD10WzhdLGM9dFs5XSxkPXRbMTBdLHA9dFsxMV0sZz10WzEyXSxfPXRbMTNdLHY9dFsxNF0seT10WzE1XSxFPWQqeS12KnAsUj1jKnktXypwLE09Yyp2LV8qZCxDPWgqeS1nKnAsQT1oKnYtZCpnLFM9aCpfLWcqYyx3PSsodSpFLWYqUitsKk0pLEY9LShvKkUtZipDK2wqQSkseD0rKG8qUi11KkMrbCpTKSxHPS0obypNLXUqQStmKlMpLFc9cip3K24qRithKngrcypHO2lmKFc9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLHRoaXM7dmFyIE49MS9XLHE9Zip5LXYqbCwkPXUqeS1fKmwsb2U9dSp2LV8qZixaPW8qeS1nKmwsaj1vKnYtZypmLHVlPW8qXy1nKnUsUGU9ZipwLWQqbCxXZT11KnAtYypsLFplPXUqZC1jKmYsWHQ9bypwLWgqbCxGcj1vKmQtaCpmLHdyPW8qYy1oKnUscGk9LShuKkUtYSpSK3MqTSksX2k9KyhyKkUtYSpDK3MqQSksZ2k9LShyKlItbipDK3MqUyksdmk9KyhyKk0tbipBK2EqUyksbWk9KyhuKnEtYSokK3Mqb2UpLHlpPS0ocipxLWEqWitzKmopLHB0PSsociokLW4qWitzKnVlKSxfdD0tKHIqb2UtbipqK2EqdWUpLGd0PS0obipQZS1hKldlK3MqWmUpLHZ0PSsocipQZS1hKlh0K3MqRnIpLExyPS0ocipXZS1uKlh0K3Mqd3IpLFNmPSsocipaZS1uKkZyK2Eqd3IpO3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZih3Kk4scGkqTixtaSpOLGd0Kk4sRipOLF9pKk4seWkqTix2dCpOLHgqTixnaSpOLHB0Kk4sTHIqTixHKk4sdmkqTixfdCpOLFNmKk4sZSksdGhpc30saS5wcm90b3R5cGUuYWRkQXRJbmRleD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9tW2VdKz10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5QXRJbmRleD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9tW2VdKj10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX21bMTJdPWUsdGhpcy5fbVsxM109dCx0aGlzLl9tWzE0XT1yLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX21bMTJdKz1lLHRoaXMuX21bMTNdKz10LHRoaXMuX21bMTRdKz1yLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNldFRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLmdldFRyYW5zbGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMuX21bMTJdLHRoaXMuX21bMTNdLHRoaXMuX21bMTRdKX0saS5wcm90b3R5cGUuZ2V0VHJhbnNsYXRpb25Ub1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS54PXRoaXMuX21bMTJdLGUueT10aGlzLl9tWzEzXSxlLno9dGhpcy5fbVsxNF0sdGhpc30saS5wcm90b3R5cGUucmVtb3ZlUm90YXRpb25BbmRTY2FsaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tO3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlWzEyXSxlWzEzXSxlWzE0XSxlWzE1XSx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyhlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTEpLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtlLmNvcHlUb0FycmF5KHRoaXMuX20pO3ZhciB0PWU7cmV0dXJuIHRoaXMudXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXModC5faXNJZGVudGl0eSx0Ll9pc0lkZW50aXR5RGlydHksdC5faXNJZGVudGl0eTN4Mix0Ll9pc0lkZW50aXR5M3gyRGlydHkpLHRoaXN9LGkucHJvdG90eXBlLmNvcHlUb0FycmF5PWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9dGhpcy5fbTtyZXR1cm4gZVt0XT1yWzBdLGVbdCsxXT1yWzFdLGVbdCsyXT1yWzJdLGVbdCszXT1yWzNdLGVbdCs0XT1yWzRdLGVbdCs1XT1yWzVdLGVbdCs2XT1yWzZdLGVbdCs3XT1yWzddLGVbdCs4XT1yWzhdLGVbdCs5XT1yWzldLGVbdCsxMF09clsxMF0sZVt0KzExXT1yWzExXSxlW3QrMTJdPXJbMTJdLGVbdCsxM109clsxM10sZVt0KzE0XT1yWzE0XSxlW3QrMTVdPXJbMTVdLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faXNJZGVudGl0eT8odC5jb3B5RnJvbShlKSx0aGlzKTplLl9pc0lkZW50aXR5Pyh0LmNvcHlGcm9tKHRoaXMpLHRoaXMpOih0aGlzLm11bHRpcGx5VG9BcnJheShlLHQuX20sMCksdC5tYXJrQXNVcGRhdGVkKCksdGhpcyl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9BcnJheT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fbSxhPWUubSxzPW5bMF0sbz1uWzFdLHU9blsyXSxmPW5bM10sbD1uWzRdLGg9bls1XSxjPW5bNl0sZD1uWzddLHA9bls4XSxnPW5bOV0sXz1uWzEwXSx2PW5bMTFdLHk9blsxMl0sRT1uWzEzXSxSPW5bMTRdLE09blsxNV0sQz1hWzBdLEE9YVsxXSxTPWFbMl0sdz1hWzNdLEY9YVs0XSx4PWFbNV0sRz1hWzZdLFc9YVs3XSxOPWFbOF0scT1hWzldLCQ9YVsxMF0sb2U9YVsxMV0sWj1hWzEyXSxqPWFbMTNdLHVlPWFbMTRdLFBlPWFbMTVdO3JldHVybiB0W3JdPXMqQytvKkYrdSpOK2YqWix0W3IrMV09cypBK28qeCt1KnErZipqLHRbcisyXT1zKlMrbypHK3UqJCtmKnVlLHRbciszXT1zKncrbypXK3Uqb2UrZipQZSx0W3IrNF09bCpDK2gqRitjKk4rZCpaLHRbcis1XT1sKkEraCp4K2MqcStkKmosdFtyKzZdPWwqUytoKkcrYyokK2QqdWUsdFtyKzddPWwqdytoKlcrYypvZStkKlBlLHRbcis4XT1wKkMrZypGK18qTit2KlosdFtyKzldPXAqQStnKngrXypxK3Yqaix0W3IrMTBdPXAqUytnKkcrXyokK3YqdWUsdFtyKzExXT1wKncrZypXK18qb2UrdipQZSx0W3IrMTJdPXkqQytFKkYrUipOK00qWix0W3IrMTNdPXkqQStFKngrUipxK00qaix0W3IrMTRdPXkqUytFKkcrUiokK00qdWUsdFtyKzE1XT15KncrRSpXK1Iqb2UrTSpQZSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtpZighdClyZXR1cm4hMTtpZigodGhpcy5faXNJZGVudGl0eXx8dC5faXNJZGVudGl0eSkmJiF0aGlzLl9pc0lkZW50aXR5RGlydHkmJiF0Ll9pc0lkZW50aXR5RGlydHkpcmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkmJnQuX2lzSWRlbnRpdHk7dmFyIHI9dGhpcy5tLG49dC5tO3JldHVybiByWzBdPT09blswXSYmclsxXT09PW5bMV0mJnJbMl09PT1uWzJdJiZyWzNdPT09blszXSYmcls0XT09PW5bNF0mJnJbNV09PT1uWzVdJiZyWzZdPT09bls2XSYmcls3XT09PW5bN10mJnJbOF09PT1uWzhdJiZyWzldPT09bls5XSYmclsxMF09PT1uWzEwXSYmclsxMV09PT1uWzExXSYmclsxMl09PT1uWzEyXSYmclsxM109PT1uWzEzXSYmclsxNF09PT1uWzE0XSYmclsxNV09PT1uWzE1XX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gZS5jb3B5RnJvbSh0aGlzKSxlfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTWF0cml4In0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9TGUodGhpcy5fbVswXSksdD0xO3Q8MTY7dCsrKWU9ZSozOTdeTGUodGhpcy5fbVt0XSk7cmV0dXJuIGV9LGkucHJvdG90eXBlLmRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBpZSx0aGlzLmRlY29tcG9zZShlLnNjYWxpbmcsZS5yb3RhdGlvblF1YXRlcm5pb24sZS5wb3NpdGlvbil9LGkucHJvdG90eXBlLmRlY29tcG9zZT1mdW5jdGlvbihlLHQscixuKXtpZih0aGlzLl9pc0lkZW50aXR5KXJldHVybiByJiZyLnNldEFsbCgwKSxlJiZlLnNldEFsbCgxKSx0JiZ0LmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpLCEwO3ZhciBhPXRoaXMuX207aWYociYmci5jb3B5RnJvbUZsb2F0cyhhWzEyXSxhWzEzXSxhWzE0XSksZT1lfHxVLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChhWzBdKmFbMF0rYVsxXSphWzFdK2FbMl0qYVsyXSksZS55PU1hdGguc3FydChhWzRdKmFbNF0rYVs1XSphWzVdK2FbNl0qYVs2XSksZS56PU1hdGguc3FydChhWzhdKmFbOF0rYVs5XSphWzldK2FbMTBdKmFbMTBdKSxuKXt2YXIgcz1uLnNjYWxpbmcueDwwPy0xOjEsbz1uLnNjYWxpbmcueTwwPy0xOjEsdT1uLnNjYWxpbmcuejwwPy0xOjE7ZS54Kj1zLGUueSo9byxlLnoqPXV9ZWxzZSB0aGlzLmRldGVybWluYW50KCk8PTAmJihlLnkqPS0xKTtpZihlLl94PT09MHx8ZS5feT09PTB8fGUuX3o9PT0wKXJldHVybiB0JiZ0LmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpLCExO2lmKHQpe3ZhciBmPTEvZS5feCxsPTEvZS5feSxoPTEvZS5fejtpLkZyb21WYWx1ZXNUb1JlZihhWzBdKmYsYVsxXSpmLGFbMl0qZiwwLGFbNF0qbCxhWzVdKmwsYVs2XSpsLDAsYVs4XSpoLGFbOV0qaCxhWzEwXSpoLDAsMCwwLDAsMSxVLk1hdHJpeFswXSksaWUuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoVS5NYXRyaXhbMF0sdCl9cmV0dXJuITB9LGkucHJvdG90eXBlLmdldFJvdz1mdW5jdGlvbihlKXtpZihlPDB8fGU+MylyZXR1cm4gbnVsbDt2YXIgdD1lKjQ7cmV0dXJuIG5ldyBtdCh0aGlzLl9tW3QrMF0sdGhpcy5fbVt0KzFdLHRoaXMuX21bdCsyXSx0aGlzLl9tW3QrM10pfSxpLnByb3RvdHlwZS5zZXRSb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX0saS5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuVHJhbnNwb3NlKHRoaXMpfSxpLnByb3RvdHlwZS50cmFuc3Bvc2VUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gaS5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLHRoaXN9LGkucHJvdG90eXBlLnNldFJvd0Zyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZihlPDB8fGU+MylyZXR1cm4gdGhpczt2YXIgcz1lKjQ7cmV0dXJuIHRoaXMuX21bcyswXT10LHRoaXMuX21bcysxXT1yLHRoaXMuX21bcysyXT1uLHRoaXMuX21bcyszXT1hLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5zY2FsZVRvUmVmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwxNjtyKyspdC5fbVtyXT10aGlzLl9tW3JdKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDE2O3IrKyl0Ll9tW3JdKz10aGlzLl9tW3JdKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnRvTm9ybWFsTWF0cml4PWZ1bmN0aW9uKGUpe3ZhciB0PVUuTWF0cml4WzBdO3RoaXMuaW52ZXJ0VG9SZWYodCksdC50cmFuc3Bvc2VUb1JlZihlKTt2YXIgcj1lLl9tO2kuRnJvbVZhbHVlc1RvUmVmKHJbMF0sclsxXSxyWzJdLDAscls0XSxyWzVdLHJbNl0sMCxyWzhdLHJbOV0sclsxMF0sMCwwLDAsMCwxLGUpfSxpLnByb3RvdHlwZS5nZXRSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLmdldFJvdGF0aW9uTWF0cml4VG9SZWYoZSksZX0saS5wcm90b3R5cGUuZ2V0Um90YXRpb25NYXRyaXhUb1JlZj1mdW5jdGlvbihlKXt2YXIgdD1VLlZlY3RvcjNbMF07aWYoIXRoaXMuZGVjb21wb3NlKHQpKXJldHVybiBpLklkZW50aXR5VG9SZWYoZSksdGhpczt2YXIgcj10aGlzLl9tLG49MS90Ll94LGE9MS90Ll95LHM9MS90Ll96O3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZihyWzBdKm4sclsxXSpuLHJbMl0qbiwwLHJbNF0qYSxyWzVdKmEscls2XSphLDAscls4XSpzLHJbOV0qcyxyWzEwXSpzLDAsMCwwLDAsMSxlKSx0aGlzfSxpLnByb3RvdHlwZS50b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbTtlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCl9LGkucHJvdG90eXBlLnRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX207ZVs4XSo9LTEsZVs5XSo9LTEsZVsxMF0qPS0xLGVbMTFdKj0tMSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0wKTt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Gcm9tQXJyYXlUb1JlZihlLHQscikscn0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPTA7bjwxNjtuKyspci5fbVtuXT1lW24rdF07ci5tYXJrQXNVcGRhdGVkKCl9LGkuRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYT0wO2E8MTY7YSsrKW4uX21bYV09ZVthK3RdKnI7bi5tYXJrQXNVcGRhdGVkKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJZGVudGl0eVJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0lkZW50aXR5UmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5Gcm9tVmFsdWVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcsXyx2KXt2YXIgeT12Ll9tO3lbMF09ZSx5WzFdPXQseVsyXT1yLHlbM109bix5WzRdPWEseVs1XT1zLHlbNl09byx5WzddPXUseVs4XT1mLHlbOV09bCx5WzEwXT1oLHlbMTFdPWMseVsxMl09ZCx5WzEzXT1wLHlbMTRdPWcseVsxNV09Xyx2Lm1hcmtBc1VwZGF0ZWQoKX0saS5Gcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8pe3ZhciB2PW5ldyBpLHk9di5fbTtyZXR1cm4geVswXT1lLHlbMV09dCx5WzJdPXIseVszXT1uLHlbNF09YSx5WzVdPXMseVs2XT1vLHlbN109dSx5WzhdPWYseVs5XT1sLHlbMTBdPWgseVsxMV09Yyx5WzEyXT1kLHlbMTNdPXAseVsxNF09Zyx5WzE1XT1fLHYubWFya0FzVXBkYXRlZCgpLHZ9LGkuQ29tcG9zZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuQ29tcG9zZVRvUmVmKGUsdCxyLG4pLG59LGkuQ29tcG9zZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPW4uX20scz10Ll94LG89dC5feSx1PXQuX3osZj10Ll93LGw9cytzLGg9bytvLGM9dSt1LGQ9cypsLHA9cypoLGc9cypjLF89bypoLHY9bypjLHk9dSpjLEU9ZipsLFI9ZipoLE09ZipjLEM9ZS5feCxBPWUuX3ksUz1lLl96O2FbMF09KDEtKF8reSkpKkMsYVsxXT0ocCtNKSpDLGFbMl09KGctUikqQyxhWzNdPTAsYVs0XT0ocC1NKSpBLGFbNV09KDEtKGQreSkpKkEsYVs2XT0oditFKSpBLGFbN109MCxhWzhdPShnK1IpKlMsYVs5XT0odi1FKSpTLGFbMTBdPSgxLShkK18pKSpTLGFbMTFdPTAsYVsxMl09ci5feCxhWzEzXT1yLl95LGFbMTRdPXIuX3osYVsxNV09MSxuLm1hcmtBc1VwZGF0ZWQoKX0saS5JZGVudGl0eT1mdW5jdGlvbigpe3ZhciBlPWkuRnJvbVZhbHVlcygxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKTtyZXR1cm4gZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITApLGV9LGkuSWRlbnRpdHlUb1JlZj1mdW5jdGlvbihlKXtpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxLGUpLGUuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCEwKX0saS5aZXJvPWZ1bmN0aW9uKCl7dmFyIGU9aS5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX0saS5Sb3RhdGlvblg9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25YVG9SZWYoZSx0KSx0fSxpLkludmVydD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fSxpLlJvdGF0aW9uWFRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsbixyLDAsMCwtcixuLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhuPT09MSYmcj09PTApfSxpLlJvdGF0aW9uWT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllUb1JlZihlLHQpLHR9LGkuUm90YXRpb25ZVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO2kuRnJvbVZhbHVlc1RvUmVmKG4sMCwtciwwLDAsMSwwLDAsciwwLG4sMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG49PT0xJiZyPT09MCl9LGkuUm90YXRpb25aPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBpLlJvdGF0aW9uWlRvUmVmKGUsdCksdH0saS5Sb3RhdGlvblpUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7aS5Gcm9tVmFsdWVzVG9SZWYobixyLDAsMCwtcixuLDAsMCwwLDAsMSwwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMobj09PTEmJnI9PT0wKX0saS5Sb3RhdGlvbkF4aXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbkF4aXNUb1JlZihlLHQscikscn0saS5Sb3RhdGlvbkF4aXNUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5zaW4oLXQpLGE9TWF0aC5jb3MoLXQpLHM9MS1hO2Uubm9ybWFsaXplKCk7dmFyIG89ci5fbTtvWzBdPWUuX3gqZS5feCpzK2Esb1sxXT1lLl94KmUuX3kqcy1lLl96Km4sb1syXT1lLl94KmUuX3oqcytlLl95Km4sb1szXT0wLG9bNF09ZS5feSplLl94KnMrZS5feipuLG9bNV09ZS5feSplLl95KnMrYSxvWzZdPWUuX3kqZS5feipzLWUuX3gqbixvWzddPTAsb1s4XT1lLl96KmUuX3gqcy1lLl95Km4sb1s5XT1lLl96KmUuX3kqcytlLl94Km4sb1sxMF09ZS5feiplLl96KnMrYSxvWzExXT0wLG9bMTJdPTAsb1sxM109MCxvWzE0XT0wLG9bMTVdPTEsci5tYXJrQXNVcGRhdGVkKCl9LGkuUm90YXRpb25BbGlnblRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1iLkRvdCh0LGUpLGE9ci5fbTtpZihuPC0xK3NlKWFbMF09LTEsYVsxXT0wLGFbMl09MCxhWzNdPTAsYVs0XT0wLGFbNV09LTEsYVs2XT0wLGFbN109MCxhWzhdPTAsYVs5XT0wLGFbMTBdPTEsYVsxMV09MDtlbHNle3ZhciBzPWIuQ3Jvc3ModCxlKSxvPTEvKDErbik7YVswXT1zLl94KnMuX3gqbytuLGFbMV09cy5feSpzLl94Km8tcy5feixhWzJdPXMuX3oqcy5feCpvK3MuX3ksYVszXT0wLGFbNF09cy5feCpzLl95Km8rcy5feixhWzVdPXMuX3kqcy5feSpvK24sYVs2XT1zLl96KnMuX3kqby1zLl94LGFbN109MCxhWzhdPXMuX3gqcy5feipvLXMuX3ksYVs5XT1zLl95KnMuX3oqbytzLl94LGFbMTBdPXMuX3oqcy5feipvK24sYVsxMV09MH1hWzEyXT0wLGFbMTNdPTAsYVsxNF09MCxhWzE1XT0xLHIubWFya0FzVXBkYXRlZCgpfSxpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZj1mdW5jdGlvbihlLHQscixuKXtpZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxyLFUuUXVhdGVybmlvblswXSksVS5RdWF0ZXJuaW9uWzBdLnRvUm90YXRpb25NYXRyaXgobil9LGkuU2NhbGluZz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuU2NhbGluZ1RvUmVmKGUsdCxyLG4pLG59LGkuU2NhbGluZ1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe2kuRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsciwwLDAsMCwwLDEsbiksbi5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZyPT09MSl9LGkuVHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlRyYW5zbGF0aW9uVG9SZWYoZSx0LHIsbiksbn0saS5UcmFuc2xhdGlvblRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe2kuRnJvbVZhbHVlc1RvUmVmKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLGUsdCxyLDEsbiksbi5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTAmJnQ9PT0wJiZyPT09MCl9LGkuTGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYT1uLl9tLHM9ZS5tLG89dC5tLHU9MDt1PDE2O3UrKylhW3VdPXNbdV0qKDEtcikrb1t1XSpyO24ubWFya0FzVXBkYXRlZCgpfSxpLkRlY29tcG9zZUxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkRlY29tcG9zZUxlcnBUb1JlZihlLHQscixuKSxufSxpLkRlY29tcG9zZUxlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1VLlZlY3RvcjNbMF0scz1VLlF1YXRlcm5pb25bMF0sbz1VLlZlY3RvcjNbMV07ZS5kZWNvbXBvc2UoYSxzLG8pO3ZhciB1PVUuVmVjdG9yM1syXSxmPVUuUXVhdGVybmlvblsxXSxsPVUuVmVjdG9yM1szXTt0LmRlY29tcG9zZSh1LGYsbCk7dmFyIGg9VS5WZWN0b3IzWzRdO2IuTGVycFRvUmVmKGEsdSxyLGgpO3ZhciBjPVUuUXVhdGVybmlvblsyXTtpZS5TbGVycFRvUmVmKHMsZixyLGMpO3ZhciBkPVUuVmVjdG9yM1s1XTtiLkxlcnBUb1JlZihvLGwscixkKSxpLkNvbXBvc2VUb1JlZihoLGMsZCxuKX0saS5Mb29rQXRMSD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuTG9va0F0TEhUb1JlZihlLHQscixuKSxufSxpLkxvb2tBdExIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9VS5WZWN0b3IzWzBdLHM9VS5WZWN0b3IzWzFdLG89VS5WZWN0b3IzWzJdO3Quc3VidHJhY3RUb1JlZihlLG8pLG8ubm9ybWFsaXplKCksYi5Dcm9zc1RvUmVmKHIsbyxhKTt2YXIgdT1hLmxlbmd0aFNxdWFyZWQoKTt1PT09MD9hLng9MTphLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KHUpKSxiLkNyb3NzVG9SZWYobyxhLHMpLHMubm9ybWFsaXplKCk7dmFyIGY9LWIuRG90KGEsZSksbD0tYi5Eb3QocyxlKSxoPS1iLkRvdChvLGUpO2kuRnJvbVZhbHVlc1RvUmVmKGEuX3gscy5feCxvLl94LDAsYS5feSxzLl95LG8uX3ksMCxhLl96LHMuX3osby5feiwwLGYsbCxoLDEsbil9LGkuTG9va0F0Ukg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkxvb2tBdFJIVG9SZWYoZSx0LHIsbiksbn0saS5Mb29rQXRSSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVUuVmVjdG9yM1swXSxzPVUuVmVjdG9yM1sxXSxvPVUuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxvKSxvLm5vcm1hbGl6ZSgpLGIuQ3Jvc3NUb1JlZihyLG8sYSk7dmFyIHU9YS5sZW5ndGhTcXVhcmVkKCk7dT09PTA/YS54PTE6YS5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydCh1KSksYi5Dcm9zc1RvUmVmKG8sYSxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBmPS1iLkRvdChhLGUpLGw9LWIuRG90KHMsZSksaD0tYi5Eb3QobyxlKTtpLkZyb21WYWx1ZXNUb1JlZihhLl94LHMuX3gsby5feCwwLGEuX3kscy5feSxvLl95LDAsYS5feixzLl96LG8uX3osMCxmLGwsaCwxLG4pfSxpLkxvb2tEaXJlY3Rpb25MSD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBpO3JldHVybiBpLkxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxyKSxyfSxpLkxvb2tEaXJlY3Rpb25MSFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1VLlZlY3RvcjNbMF07bi5jb3B5RnJvbShlKSxuLnNjYWxlSW5QbGFjZSgtMSk7dmFyIGE9VS5WZWN0b3IzWzFdO2IuQ3Jvc3NUb1JlZih0LG4sYSksaS5Gcm9tVmFsdWVzVG9SZWYoYS5feCxhLl95LGEuX3osMCx0Ll94LHQuX3ksdC5feiwwLG4uX3gsbi5feSxuLl96LDAsMCwwLDAsMSxyKX0saS5Mb29rRGlyZWN0aW9uUkg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQscikscn0saS5Mb29rRGlyZWN0aW9uUkhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49VS5WZWN0b3IzWzJdO2IuQ3Jvc3NUb1JlZih0LGUsbiksaS5Gcm9tVmFsdWVzVG9SZWYobi5feCxuLl95LG4uX3osMCx0Ll94LHQuX3ksdC5feiwwLGUuX3gsZS5feSxlLl96LDAsMCwwLDAsMSxyKX0saS5PcnRob0xIPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bmV3IGk7cmV0dXJuIGkuT3J0aG9MSFRvUmVmKGUsdCxyLG4scyxhKSxzfSxpLk9ydGhvTEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89cix1PW4sZj0yL2UsbD0yL3QsaD0yLyh1LW8pLGM9LSh1K28pLyh1LW8pO2kuRnJvbVZhbHVlc1RvUmVmKGYsMCwwLDAsMCxsLDAsMCwwLDAsaCwwLDAsMCxjLDEsYSkscyYmYS5tdWx0aXBseVRvUmVmKHl0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGY9PT0xJiZsPT09MSYmaD09PTEmJmM9PT0wKX0saS5PcnRob09mZkNlbnRlckxIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PW5ldyBpO3JldHVybiBpLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQscixuLGEscyx1LG8pLHV9LGkuT3J0aG9PZmZDZW50ZXJMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7dmFyIGY9YSxsPXMsaD0yLyh0LWUpLGM9Mi8obi1yKSxkPTIvKGwtZikscD0tKGwrZikvKGwtZiksZz0oZSt0KS8oZS10KSxfPShuK3IpLyhyLW4pO2kuRnJvbVZhbHVlc1RvUmVmKGgsMCwwLDAsMCxjLDAsMCwwLDAsZCwwLGcsXyxwLDEsbyksdSYmby5tdWx0aXBseVRvUmVmKHl0LG8pLG8ubWFya0FzVXBkYXRlZCgpfSxpLk9ydGhvT2ZmQ2VudGVyUkg9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9bmV3IGk7cmV0dXJuIGkuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxyLG4sYSxzLHUsbyksdX0saS5PcnRob09mZkNlbnRlclJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtpLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQscixuLGEscyxvLHUpLG8uX21bMTBdKj0tMX0saS5QZXJzcGVjdGl2ZUxIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0wKTt2YXIgbz1uZXcgaSx1PXIsZj1uLGw9Mip1L2UsaD0yKnUvdCxjPShmK3UpLyhmLXUpLGQ9LTIqZip1LyhmLXUpLHA9TWF0aC50YW4ocyk7cmV0dXJuIGkuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCxoLDAscCwwLDAsYywxLDAsMCxkLDAsbyksYSYmby5tdWx0aXBseVRvUmVmKHl0LG8pLG8uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxvfSxpLlBlcnNwZWN0aXZlRm92TEg9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9MCksbz09PXZvaWQgMCYmKG89ITEpO3ZhciB1PW5ldyBpO3JldHVybiBpLlBlcnNwZWN0aXZlRm92TEhUb1JlZihlLHQscixuLHUsITAsYSxzLG8pLHV9LGkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXtzPT09dm9pZCAwJiYocz0hMCksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9ITEpO3ZhciBsPXIsaD1uLGM9MS9NYXRoLnRhbihlKi41KSxkPXM/Yy90OmMscD1zP2M6Yyp0LGc9ZiYmbD09PTA/LTE6aCE9PTA/KGgrbCkvKGgtbCk6MSxfPWYmJmw9PT0wPzIqaDpoIT09MD8tMipoKmwvKGgtbCk6LTIqbCx2PU1hdGgudGFuKHUpO2kuRnJvbVZhbHVlc1RvUmVmKGQsMCwwLDAsMCxwLDAsdiwwLDAsZywxLDAsMCxfLDAsYSksbyYmYS5tdWx0aXBseVRvUmVmKHl0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKX0saS5QZXJzcGVjdGl2ZUZvdlJldmVyc2VMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7cz09PXZvaWQgMCYmKHM9ITApLHU9PT12b2lkIDAmJih1PTApO3ZhciBmPTEvTWF0aC50YW4oZSouNSksbD1zP2YvdDpmLGg9cz9mOmYqdCxjPU1hdGgudGFuKHUpO2kuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCxoLDAsYywwLDAsLXIsMSwwLDAsMSwwLGEpLG8mJmEubXVsdGlwbHlUb1JlZih5dCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZSSD1mdW5jdGlvbihlLHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0wKSxvPT09dm9pZCAwJiYobz0hMSk7dmFyIHU9bmV3IGk7cmV0dXJuIGkuUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxyLG4sdSwhMCxhLHMsbyksdX0saS5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYpe3M9PT12b2lkIDAmJihzPSEwKSx1PT09dm9pZCAwJiYodT0wKSxmPT09dm9pZCAwJiYoZj0hMSk7dmFyIGw9cixoPW4sYz0xL01hdGgudGFuKGUqLjUpLGQ9cz9jL3Q6YyxwPXM/YzpjKnQsZz1mJiZsPT09MD8xOmghPT0wPy0oaCtsKS8oaC1sKTotMSxfPWYmJmw9PT0wPzIqaDpoIT09MD8tMipoKmwvKGgtbCk6LTIqbCx2PU1hdGgudGFuKHUpO2kuRnJvbVZhbHVlc1RvUmVmKGQsMCwwLDAsMCxwLDAsdiwwLDAsZywtMSwwLDAsXywwLGEpLG8mJmEubXVsdGlwbHlUb1JlZih5dCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZSZXZlcnNlUkhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3M9PT12b2lkIDAmJihzPSEwKSx1PT09dm9pZCAwJiYodT0wKTt2YXIgZj0xL01hdGgudGFuKGUqLjUpLGw9cz9mL3Q6ZixoPXM/ZjpmKnQsYz1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsaCwwLGMsMCwwLC1yLC0xLDAsMCwtMSwwLGEpLG8mJmEubXVsdGlwbHlUb1JlZih5dCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe2E9PT12b2lkIDAmJihhPSExKSxvPT09dm9pZCAwJiYobz0wKTt2YXIgdT1hPy0xOjEsZj1NYXRoLnRhbihlLnVwRGVncmVlcypNYXRoLlBJLzE4MCksbD1NYXRoLnRhbihlLmRvd25EZWdyZWVzKk1hdGguUEkvMTgwKSxoPU1hdGgudGFuKGUubGVmdERlZ3JlZXMqTWF0aC5QSS8xODApLGM9TWF0aC50YW4oZS5yaWdodERlZ3JlZXMqTWF0aC5QSS8xODApLGQ9Mi8oaCtjKSxwPTIvKGYrbCksZz1NYXRoLnRhbihvKSxfPW4uX207X1swXT1kLF9bMV09X1syXT1fWzNdPV9bNF09MCxfWzVdPXAsX1s2XT0wLF9bN109ZyxfWzhdPShoLWMpKmQqLjUsX1s5XT0tKChmLWwpKnAqLjUpLF9bMTBdPS1yLyh0LXIpLF9bMTFdPTEqdSxfWzEyXT1fWzEzXT1fWzE1XT0wLF9bMTRdPS0oMipyKnQpLyhyLXQpLHMmJm4ubXVsdGlwbHlUb1JlZih5dCxuKSxuLm1hcmtBc1VwZGF0ZWQoKX0saS5HZXRGaW5hbE1hdHJpeD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89ZS53aWR0aCx1PWUuaGVpZ2h0LGY9ZS54LGw9ZS55LGg9aS5Gcm9tVmFsdWVzKG8vMiwwLDAsMCwwLC11LzIsMCwwLDAsMCxzLWEsMCxmK28vMix1LzIrbCxhLDEpLGM9VS5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihyLGMpLGMubXVsdGlwbHlUb1JlZihuLGMpLGMubXVsdGlwbHkoaCl9LGkuR2V0QXNNYXRyaXgyeDI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tLHI9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBQdC5NYXRyaXhVc2U2NEJpdHM/cjpuZXcgRmxvYXQzMkFycmF5KHIpfSxpLkdldEFzTWF0cml4M3gzPWZ1bmN0aW9uKGUpe3ZhciB0PWUubSxyPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBQdC5NYXRyaXhVc2U2NEJpdHM/cjpuZXcgRmxvYXQzMkFycmF5KHIpfSxpLlRyYW5zcG9zZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9LGkuVHJhbnNwb3NlVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Ll9tLG49ZS5tO3JbMF09blswXSxyWzFdPW5bNF0sclsyXT1uWzhdLHJbM109blsxMl0scls0XT1uWzFdLHJbNV09bls1XSxyWzZdPW5bOV0scls3XT1uWzEzXSxyWzhdPW5bMl0scls5XT1uWzZdLHJbMTBdPW5bMTBdLHJbMTFdPW5bMTRdLHJbMTJdPW5bM10sclsxM109bls3XSxyWzE0XT1uWzExXSxyWzE1XT1uWzE1XSx0Lm1hcmtBc1VwZGF0ZWQoKSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhlLl9pc0lkZW50aXR5LGUuX2lzSWRlbnRpdHlEaXJ0eSl9LGkuUmVmbGVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fSxpLlJlZmxlY3Rpb25Ub1JlZj1mdW5jdGlvbihlLHQpe2Uubm9ybWFsaXplKCk7dmFyIHI9ZS5ub3JtYWwueCxuPWUubm9ybWFsLnksYT1lLm5vcm1hbC56LHM9LTIqcixvPS0yKm4sdT0tMiphO2kuRnJvbVZhbHVlc1RvUmVmKHMqcisxLG8qcix1KnIsMCxzKm4sbypuKzEsdSpuLDAscyphLG8qYSx1KmErMSwwLHMqZS5kLG8qZS5kLHUqZS5kLDEsdCl9LGkuRnJvbVhZWkF4ZXNUb1JlZj1mdW5jdGlvbihlLHQscixuKXtpLkZyb21WYWx1ZXNUb1JlZihlLl94LGUuX3ksZS5feiwwLHQuX3gsdC5feSx0Ll96LDAsci5feCxyLl95LHIuX3osMCwwLDAsMCwxLG4pfSxpLkZyb21RdWF0ZXJuaW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLl94KmUuX3gsbj1lLl95KmUuX3ksYT1lLl96KmUuX3oscz1lLl94KmUuX3ksbz1lLl96KmUuX3csdT1lLl96KmUuX3gsZj1lLl95KmUuX3csbD1lLl95KmUuX3osaD1lLl94KmUuX3c7dC5fbVswXT0xLTIqKG4rYSksdC5fbVsxXT0yKihzK28pLHQuX21bMl09MioodS1mKSx0Ll9tWzNdPTAsdC5fbVs0XT0yKihzLW8pLHQuX21bNV09MS0yKihhK3IpLHQuX21bNl09MioobCtoKSx0Ll9tWzddPTAsdC5fbVs4XT0yKih1K2YpLHQuX21bOV09MioobC1oKSx0Ll9tWzEwXT0xLTIqKG4rciksdC5fbVsxMV09MCx0Ll9tWzEyXT0wLHQuX21bMTNdPTAsdC5fbVsxNF09MCx0Ll9tWzE1XT0xLHQubWFya0FzVXBkYXRlZCgpfSxpLl9VcGRhdGVGbGFnU2VlZD0wLGkuX0lkZW50aXR5UmVhZE9ubHk9aS5JZGVudGl0eSgpLGl9KCksVT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuVmVjdG9yMz1BZS5CdWlsZFR1cGxlKDExLGIuWmVybyksaS5NYXRyaXg9QWUuQnVpbGRUdXBsZSgyLEkuSWRlbnRpdHkpLGkuUXVhdGVybmlvbj1BZS5CdWlsZFR1cGxlKDMsaWUuWmVybyksaX0oKSxEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5WZWN0b3IyPUFlLkJ1aWxkVHVwbGUoMyxTZS5aZXJvKSxpLlZlY3RvcjM9QWUuQnVpbGRUdXBsZSgxMyxiLlplcm8pLGkuVmVjdG9yND1BZS5CdWlsZFR1cGxlKDMsbXQuWmVybyksaS5RdWF0ZXJuaW9uPUFlLkJ1aWxkVHVwbGUoMixpZS5aZXJvKSxpLk1hdHJpeD1BZS5CdWlsZFR1cGxlKDgsSS5JZGVudGl0eSksaX0oKTt3ZSgiQkFCWUxPTi5WZWN0b3IyIixTZSksd2UoIkJBQllMT04uVmVjdG9yMyIsYiksd2UoIkJBQllMT04uVmVjdG9yNCIsbXQpLHdlKCJCQUJZTE9OLk1hdHJpeCIsSSk7dmFyIHl0PUkuRnJvbVZhbHVlcygxLDAsMCwwLDAsMSwwLDAsMCwwLC41LDAsMCwwLC41LDEpLE5yPWZ1bmN0aW9uKGksZSl7cmV0dXJuIE5yPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LHIpe3QuX19wcm90b19fPXJ9fHxmdW5jdGlvbih0LHIpe2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYodFtuXT1yW25dKX0sTnIoaSxlKX07ZnVuY3Rpb24gSyhpLGUpe2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24iJiZlIT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKGUpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO05yKGksZSk7ZnVuY3Rpb24gdCgpe3RoaXMuY29uc3RydWN0b3I9aX1pLnByb3RvdHlwZT1lPT09bnVsbD9PYmplY3QuY3JlYXRlKGUpOih0LnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgdCl9dmFyIGJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGJ0PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspe3Q9YXJndW1lbnRzW3JdO2Zvcih2YXIgYSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKX1yZXR1cm4gZX0sYnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBUKGksZSx0LHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsYT1uPDM/ZTpyPT09bnVsbD9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTpyLHM7aWYodHlwZW9mIFJlZmxlY3Q9PSJvYmplY3QiJiZ0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZT09ImZ1bmN0aW9uIilhPVJlZmxlY3QuZGVjb3JhdGUoaSxlLHQscik7ZWxzZSBmb3IodmFyIG89aS5sZW5ndGgtMTtvPj0wO28tLSkocz1pW29dKSYmKGE9KG48Mz9zKGEpOm4+Mz9zKGUsdCxhKTpzKGUsdCkpfHxhKTtyZXR1cm4gbj4zJiZhJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGF9ZnVuY3Rpb24gQnIoaSxlLHQscil7ZnVuY3Rpb24gbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHQ/YTpuZXcgdChmdW5jdGlvbihzKXtzKGEpfSl9cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoZnVuY3Rpb24oYSxzKXtmdW5jdGlvbiBvKGwpe3RyeXtmKHIubmV4dChsKSl9Y2F0Y2goaCl7cyhoKX19ZnVuY3Rpb24gdShsKXt0cnl7ZihyLnRocm93KGwpKX1jYXRjaChoKXtzKGgpfX1mdW5jdGlvbiBmKGwpe2wuZG9uZT9hKGwudmFsdWUpOm4obC52YWx1ZSkudGhlbihvLHUpfWYoKHI9ci5hcHBseShpLGV8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIEZ0KGksZSl7dmFyIHQ9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKGFbMF0mMSl0aHJvdyBhWzFdO3JldHVybiBhWzFdfSx0cnlzOltdLG9wczpbXX0scixuLGEscztyZXR1cm4gcz17bmV4dDpvKDApLHRocm93Om8oMSkscmV0dXJuOm8oMil9LHR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJihzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHM7ZnVuY3Rpb24gbyhmKXtyZXR1cm4gZnVuY3Rpb24obCl7cmV0dXJuIHUoW2YsbF0pfX1mdW5jdGlvbiB1KGYpe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLiIpO2Zvcig7dDspdHJ5e2lmKHI9MSxuJiYoYT1mWzBdJjI/bi5yZXR1cm46ZlswXT9uLnRocm93fHwoKGE9bi5yZXR1cm4pJiZhLmNhbGwobiksMCk6bi5uZXh0KSYmIShhPWEuY2FsbChuLGZbMV0pKS5kb25lKXJldHVybiBhO3N3aXRjaChuPTAsYSYmKGY9W2ZbMF0mMixhLnZhbHVlXSksZlswXSl7Y2FzZSAwOmNhc2UgMTphPWY7YnJlYWs7Y2FzZSA0OnJldHVybiB0LmxhYmVsKysse3ZhbHVlOmZbMV0sZG9uZTohMX07Y2FzZSA1OnQubGFiZWwrKyxuPWZbMV0sZj1bMF07Y29udGludWU7Y2FzZSA3OmY9dC5vcHMucG9wKCksdC50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoYT10LnRyeXMsIShhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pJiYoZlswXT09PTZ8fGZbMF09PT0yKSl7dD0wO2NvbnRpbnVlfWlmKGZbMF09PT0zJiYoIWF8fGZbMV0+YVswXSYmZlsxXTxhWzNdKSl7dC5sYWJlbD1mWzFdO2JyZWFrfWlmKGZbMF09PT02JiZ0LmxhYmVsPGFbMV0pe3QubGFiZWw9YVsxXSxhPWY7YnJlYWt9aWYoYSYmdC5sYWJlbDxhWzJdKXt0LmxhYmVsPWFbMl0sdC5vcHMucHVzaChmKTticmVha31hWzJdJiZ0Lm9wcy5wb3AoKSx0LnRyeXMucG9wKCk7Y29udGludWV9Zj1lLmNhbGwoaSx0KX1jYXRjaChsKXtmPVs2LGxdLG49MH1maW5hbGx5e3I9YT0wfWlmKGZbMF0mNSl0aHJvdyBmWzFdO3JldHVybnt2YWx1ZTpmWzBdP2ZbMV06dm9pZCAwLGRvbmU6ITB9fX12YXIgVG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3Q9PT12b2lkIDAmJih0PSExKSx0aGlzLmluaXRpYWxpemUoZSx0LHIsbil9cmV0dXJuIGkucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLm1hc2s9ZSx0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzPXQsdGhpcy50YXJnZXQ9cix0aGlzLmN1cnJlbnRUYXJnZXQ9bix0aGlzfSxpfSgpLFNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5jYWxsYmFjaz1lLHRoaXMubWFzaz10LHRoaXMuc2NvcGU9cix0aGlzLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITEsdGhpcy51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMX1yZXR1cm4gaX0oKSxPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLl9vYnNlcnZlcnM9bmV3IEFycmF5LHRoaXMuX2V2ZW50U3RhdGU9bmV3IFRuKDApLGUmJih0aGlzLl9vbk9ic2VydmVyQWRkZWQ9ZSl9cmV0dXJuIGkuRnJvbVByb21pc2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKG4pe3Iubm90aWZ5T2JzZXJ2ZXJzKG4pfSkuY2F0Y2goZnVuY3Rpb24obil7aWYodCl0Lm5vdGlmeU9ic2VydmVycyhuKTtlbHNlIHRocm93IG59KSxyfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9ic2VydmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodD09PXZvaWQgMCYmKHQ9LTEpLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMSksIWUpcmV0dXJuIG51bGw7dmFyIHM9bmV3IFNuKGUsdCxuKTtyZXR1cm4gcy51bnJlZ2lzdGVyT25OZXh0Q2FsbD1hLHI/dGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQocyk6dGhpcy5fb2JzZXJ2ZXJzLnB1c2gocyksdGhpcy5fb25PYnNlcnZlckFkZGVkJiZ0aGlzLl9vbk9ic2VydmVyQWRkZWQocyksc30saS5wcm90b3R5cGUuYWRkT25jZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQoZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCwhMCl9LGkucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD10aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xPyh0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSksITApOiExfSxpLnByb3RvdHlwZS5yZW1vdmVDYWxsYmFjaz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuX29ic2VydmVyc1tyXTtpZighbi5fd2lsbEJlVW5yZWdpc3RlcmVkJiZuLmNhbGxiYWNrPT09ZSYmKCF0fHx0PT09bi5zY29wZSkpcmV0dXJuIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihuKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuX2RlZmVyVW5yZWdpc3Rlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UudW5yZWdpc3Rlck9uTmV4dENhbGw9ITEsZS5fd2lsbEJlVW5yZWdpc3RlcmVkPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9yZW1vdmUoZSl9LDApfSxpLnByb3RvdHlwZS5fcmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PXRoaXMuX29ic2VydmVycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTE/KHRoaXMuX29ic2VydmVycy5zcGxpY2UodCwxKSwhMCk6ITF9LGkucHJvdG90eXBlLm1ha2VPYnNlcnZlclRvcFByaW9yaXR5PWZ1bmN0aW9uKGUpe3RoaXMuX3JlbW92ZShlKSx0aGlzLl9vYnNlcnZlcnMudW5zaGlmdChlKX0saS5wcm90b3R5cGUubWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHk9ZnVuY3Rpb24oZSl7dGhpcy5fcmVtb3ZlKGUpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfSxpLnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnM9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0tMSksIXRoaXMuX29ic2VydmVycy5sZW5ndGgpcmV0dXJuITA7dmFyIHM9dGhpcy5fZXZlbnRTdGF0ZTtzLm1hc2s9dCxzLnRhcmdldD1yLHMuY3VycmVudFRhcmdldD1uLHMuc2tpcE5leHRPYnNlcnZlcnM9ITEscy5sYXN0UmV0dXJuVmFsdWU9ZSxzLnVzZXJJbmZvPWE7Zm9yKHZhciBvPTAsdT10aGlzLl9vYnNlcnZlcnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107aWYoIWYuX3dpbGxCZVVucmVnaXN0ZXJlZCYmKGYubWFzayZ0JiYoZi5zY29wZT9zLmxhc3RSZXR1cm5WYWx1ZT1mLmNhbGxiYWNrLmFwcGx5KGYuc2NvcGUsW2Usc10pOnMubGFzdFJldHVyblZhbHVlPWYuY2FsbGJhY2soZSxzKSxmLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoZikpLHMuc2tpcE5leHRPYnNlcnZlcnMpKXJldHVybiExfXJldHVybiEwfSxpLnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnNXaXRoUHJvbWlzZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPXRoaXM7dD09PXZvaWQgMCYmKHQ9LTEpO3ZhciBvPVByb21pc2UucmVzb2x2ZShlKTtpZighdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4gbzt2YXIgdT10aGlzLl9ldmVudFN0YXRlO3JldHVybiB1Lm1hc2s9dCx1LnRhcmdldD1yLHUuY3VycmVudFRhcmdldD1uLHUuc2tpcE5leHRPYnNlcnZlcnM9ITEsdS51c2VySW5mbz1hLHRoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKGYpe3Uuc2tpcE5leHRPYnNlcnZlcnN8fGYuX3dpbGxCZVVucmVnaXN0ZXJlZHx8Zi5tYXNrJnQmJihmLnNjb3BlP289by50aGVuKGZ1bmN0aW9uKGwpe3JldHVybiB1Lmxhc3RSZXR1cm5WYWx1ZT1sLGYuY2FsbGJhY2suYXBwbHkoZi5zY29wZSxbZSx1XSl9KTpvPW8udGhlbihmdW5jdGlvbihsKXtyZXR1cm4gdS5sYXN0UmV0dXJuVmFsdWU9bCxmLmNhbGxiYWNrKGUsdSl9KSxmLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZzLl9kZWZlclVucmVnaXN0ZXIoZikpfSksby50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0saS5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXI9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPS0xKSwhZS5fd2lsbEJlVW5yZWdpc3RlcmVkKXt2YXIgbj10aGlzLl9ldmVudFN0YXRlO24ubWFzaz1yLG4uc2tpcE5leHRPYnNlcnZlcnM9ITEsZS5jYWxsYmFjayh0LG4pLGUudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKX19LGkucHJvdG90eXBlLmhhc09ic2VydmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoPjB9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9vbk9ic2VydmVyQWRkZWQ9bnVsbH0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gZS5fb2JzZXJ2ZXJzPXRoaXMuX29ic2VydmVycy5zbGljZSgwKSxlfSxpLnByb3RvdHlwZS5oYXNTcGVjaWZpY01hc2s9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9LTEpO2Zvcih2YXIgdD0wLHI9dGhpcy5fb2JzZXJ2ZXJzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4ubWFzayZlfHxuLm1hc2s9PT1lKXJldHVybiEwfXJldHVybiExfSxpfSgpLE1uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVkV3JhcFU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBWIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBWfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVkV3JhcFY9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBSIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBSfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVkV3JhcFI9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbXBhcmlzb25GdW5jdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wYXJpc29uRnVuY3Rpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZU1pcE1hcHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlTWlwTWFwc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3VzZU1pcE1hcHM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MSksdD09PXZvaWQgMCYmKHQ9MSkscj09PXZvaWQgMCYmKHI9MSksbj09PXZvaWQgMCYmKG49MSksYT09PXZvaWQgMCYmKGE9Mikscz09PXZvaWQgMCYmKHM9MCksdGhpcy5fY2FjaGVkV3JhcFU9ZSx0aGlzLl9jYWNoZWRXcmFwVj10LHRoaXMuX2NhY2hlZFdyYXBSPXIsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1uLHRoaXMuc2FtcGxpbmdNb2RlPWEsdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPXMsdGhpc30saS5wcm90b3R5cGUuY29tcGFyZVNhbXBsZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPT09ZS5fY2FjaGVkV3JhcFUmJnRoaXMuX2NhY2hlZFdyYXBWPT09ZS5fY2FjaGVkV3JhcFYmJnRoaXMuX2NhY2hlZFdyYXBSPT09ZS5fY2FjaGVkV3JhcFImJnRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9PT1lLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsJiZ0aGlzLnNhbXBsaW5nTW9kZT09PWUuc2FtcGxpbmdNb2RlJiZ0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249PT1lLl9jb21wYXJpc29uRnVuY3Rpb24mJnRoaXMuX3VzZU1pcE1hcHM9PT1lLl91c2VNaXBNYXBzfSxpfSgpLG1lOyhmdW5jdGlvbihpKXtpW2kuVW5rbm93bj0wXT0iVW5rbm93biIsaVtpLlVybD0xXT0iVXJsIixpW2kuVGVtcD0yXT0iVGVtcCIsaVtpLlJhdz0zXT0iUmF3IixpW2kuRHluYW1pYz00XT0iRHluYW1pYyIsaVtpLlJlbmRlclRhcmdldD01XT0iUmVuZGVyVGFyZ2V0IixpW2kuTXVsdGlSZW5kZXJUYXJnZXQ9Nl09Ik11bHRpUmVuZGVyVGFyZ2V0IixpW2kuQ3ViZT03XT0iQ3ViZSIsaVtpLkN1YmVSYXc9OF09IkN1YmVSYXciLGlbaS5DdWJlUHJlZmlsdGVyZWQ9OV09IkN1YmVQcmVmaWx0ZXJlZCIsaVtpLlJhdzNEPTEwXT0iUmF3M0QiLGlbaS5SYXcyREFycmF5PTExXT0iUmF3MkRBcnJheSIsaVtpLkRlcHRoU3RlbmNpbD0xMl09IkRlcHRoU3RlbmNpbCIsaVtpLkN1YmVSYXdSR0JEPTEzXT0iQ3ViZVJhd1JHQkQiLGlbaS5EZXB0aD0xNF09IkRlcHRoIn0pKG1lfHwobWU9e30pKTt2YXIgd3Q9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT1pLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGEuaXNSZWFkeT0hMSxhLmlzQ3ViZT0hMSxhLmlzM0Q9ITEsYS5pczJEQXJyYXk9ITEsYS5pc011bHRpdmlldz0hMSxhLnVybD0iIixhLmdlbmVyYXRlTWlwTWFwcz0hMSxhLnNhbXBsZXM9MCxhLnR5cGU9LTEsYS5mb3JtYXQ9LTEsYS5vbkxvYWRlZE9ic2VydmFibGU9bmV3IE8sYS5vbkVycm9yT2JzZXJ2YWJsZT1uZXcgTyxhLm9uUmVidWlsZENhbGxiYWNrPW51bGwsYS53aWR0aD0wLGEuaGVpZ2h0PTAsYS5kZXB0aD0wLGEuYmFzZVdpZHRoPTAsYS5iYXNlSGVpZ2h0PTAsYS5iYXNlRGVwdGg9MCxhLmludmVydFk9ITEsYS5faW52ZXJ0VlNjYWxlPSExLGEuX2Fzc29jaWF0ZWRDaGFubmVsPS0xLGEuX3NvdXJjZT1tZS5Vbmtub3duLGEuX2J1ZmZlcj1udWxsLGEuX2J1ZmZlclZpZXc9bnVsbCxhLl9idWZmZXJWaWV3QXJyYXk9bnVsbCxhLl9idWZmZXJWaWV3QXJyYXlBcnJheT1udWxsLGEuX3NpemU9MCxhLl9leHRlbnNpb249IiIsYS5fZmlsZXM9bnVsbCxhLl93b3JraW5nQ2FudmFzPW51bGwsYS5fd29ya2luZ0NvbnRleHQ9bnVsbCxhLl9jYWNoZWRDb29yZGluYXRlc01vZGU9bnVsbCxhLl9pc0Rpc2FibGVkPSExLGEuX2NvbXByZXNzaW9uPW51bGwsYS5fc3BoZXJpY2FsUG9seW5vbWlhbD1udWxsLGEuX3NwaGVyaWNhbFBvbHlub21pYWxQcm9taXNlPW51bGwsYS5fc3BoZXJpY2FsUG9seW5vbWlhbENvbXB1dGVkPSExLGEuX2xvZEdlbmVyYXRpb25TY2FsZT0wLGEuX2xvZEdlbmVyYXRpb25PZmZzZXQ9MCxhLl91c2VTUkdCQnVmZmVyPSExLGEuX2xvZFRleHR1cmVIaWdoPW51bGwsYS5fbG9kVGV4dHVyZU1pZD1udWxsLGEuX2xvZFRleHR1cmVMb3c9bnVsbCxhLl9pc1JHQkQ9ITEsYS5fbGluZWFyU3BlY3VsYXJMT0Q9ITEsYS5faXJyYWRpYW5jZVRleHR1cmU9bnVsbCxhLl9oYXJkd2FyZVRleHR1cmU9bnVsbCxhLl9tYXhMb2RMZXZlbD1udWxsLGEuX3JlZmVyZW5jZXM9MSxhLl9nYW1tYVNwYWNlPW51bGwsYS5fZW5naW5lPXQsYS5fc291cmNlPXIsYS5fdW5pcXVlSWQ9ZS5fQ291bnRlcisrLG58fChhLl9oYXJkd2FyZVRleHR1cmU9dC5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpLGF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlTWlwTWFwcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdlbmVyYXRlTWlwTWFwc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1bmlxdWVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlxdWVJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaW5jcmVtZW50UmVmZXJlbmNlcz1mdW5jdGlvbigpe3RoaXMuX3JlZmVyZW5jZXMrK30sZS5wcm90b3R5cGUudXBkYXRlU2l6ZT1mdW5jdGlvbih0LHIsbil7bj09PXZvaWQgMCYmKG49MSksdGhpcy5fZW5naW5lLnVwZGF0ZVRleHR1cmVEaW1lbnNpb25zKHRoaXMsdCxyLG4pLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1yLHRoaXMuZGVwdGg9bix0aGlzLmJhc2VXaWR0aD10LHRoaXMuYmFzZUhlaWdodD1yLHRoaXMuYmFzZURlcHRoPW4sdGhpcy5fc2l6ZT10KnIqbn0sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI7aWYodGhpcy5pc1JlYWR5PSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLm9uUmVidWlsZENhbGxiYWNrKXt2YXIgbj10aGlzLm9uUmVidWlsZENhbGxiYWNrKHRoaXMpLGE9ZnVuY3Rpb24obyl7by5fc3dhcEFuZERpZSh0LCExKSx0LmlzUmVhZHk9bi5pc1JlYWR5fTtuLmlzQXN5bmM/bi5wcm94eS50aGVuKGEpOmEobi5wcm94eSk7cmV0dXJufXZhciBzO3N3aXRjaCh0aGlzLnNvdXJjZSl7Y2FzZSBtZS5UZW1wOmJyZWFrO2Nhc2UgbWUuVXJsOnM9dGhpcy5fZW5naW5lLmNyZWF0ZVRleHR1cmUoKHI9dGhpcy5fb3JpZ2luYWxVcmwpIT09bnVsbCYmciE9PXZvaWQgMD9yOnRoaXMudXJsLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksbnVsbCx0aGlzLnNhbXBsaW5nTW9kZSxmdW5jdGlvbigpe3MuX3N3YXBBbmREaWUodCwhMSksdC5pc1JlYWR5PSEwfSxudWxsLHRoaXMuX2J1ZmZlcix2b2lkIDAsdGhpcy5mb3JtYXQsdGhpcy5fZXh0ZW5zaW9uLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpO3JldHVybjtjYXNlIG1lLlJhdzpzPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlKHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHMuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgbWUuUmF3M0Q6cz10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTNEKHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuYmFzZURlcHRoLHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUpLHMuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgbWUuUmF3MkRBcnJheTpzPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIG1lLkR5bmFtaWM6cz10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1RleHR1cmUodGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuc2FtcGxpbmdNb2RlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVGV4dHVyZSh0aGlzLHRoaXMuX2VuZ2luZS5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmludmVydFksdm9pZCAwLHZvaWQgMCwhMCk7YnJlYWs7Y2FzZSBtZS5DdWJlOnM9dGhpcy5fZW5naW5lLmNyZWF0ZUN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fZmlsZXMsIXRoaXMuZ2VuZXJhdGVNaXBNYXBzLGZ1bmN0aW9uKCl7cy5fc3dhcEFuZERpZSh0LCExKSx0LmlzUmVhZHk9ITB9LG51bGwsdGhpcy5mb3JtYXQsdGhpcy5fZXh0ZW5zaW9uLCExLDAsMCxudWxsLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSBtZS5DdWJlUmF3OnM9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd0N1YmVUZXh0dXJlKHRoaXMuX2J1ZmZlclZpZXdBcnJheSx0aGlzLndpZHRoLHRoaXMuZm9ybWF0LHRoaXMudHlwZSx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24pLHMuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgbWUuQ3ViZVJhd1JHQkQ6cmV0dXJuO2Nhc2UgbWUuQ3ViZVByZWZpbHRlcmVkOnM9dGhpcy5fZW5naW5lLmNyZWF0ZVByZWZpbHRlcmVkQ3ViZVRleHR1cmUodGhpcy51cmwsbnVsbCx0aGlzLl9sb2RHZW5lcmF0aW9uU2NhbGUsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldCxmdW5jdGlvbihvKXtvJiZvLl9zd2FwQW5kRGllKHQsITEpLHQuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24pLHMuX3NwaGVyaWNhbFBvbHlub21pYWw9dGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbDtyZXR1cm59fSxlLnByb3RvdHlwZS5fc3dhcEFuZERpZT1mdW5jdGlvbih0LHIpe3ZhciBuO3I9PT12b2lkIDAmJihyPSEwKSwobj10aGlzLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5zZXRVc2FnZSh0Ll9zb3VyY2UsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pc0N1YmUsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdC5faGFyZHdhcmVUZXh0dXJlPXRoaXMuX2hhcmR3YXJlVGV4dHVyZSxyJiYodC5faXNSR0JEPXRoaXMuX2lzUkdCRCksdGhpcy5fbG9kVGV4dHVyZUhpZ2gmJih0Ll9sb2RUZXh0dXJlSGlnaCYmdC5fbG9kVGV4dHVyZUhpZ2guZGlzcG9zZSgpLHQuX2xvZFRleHR1cmVIaWdoPXRoaXMuX2xvZFRleHR1cmVIaWdoKSx0aGlzLl9sb2RUZXh0dXJlTWlkJiYodC5fbG9kVGV4dHVyZU1pZCYmdC5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksdC5fbG9kVGV4dHVyZU1pZD10aGlzLl9sb2RUZXh0dXJlTWlkKSx0aGlzLl9sb2RUZXh0dXJlTG93JiYodC5fbG9kVGV4dHVyZUxvdyYmdC5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksdC5fbG9kVGV4dHVyZUxvdz10aGlzLl9sb2RUZXh0dXJlTG93KSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZSYmKHQuX2lycmFkaWFuY2VUZXh0dXJlJiZ0Ll9pcnJhZGlhbmNlVGV4dHVyZS5kaXNwb3NlKCksdC5faXJyYWRpYW5jZVRleHR1cmU9dGhpcy5faXJyYWRpYW5jZVRleHR1cmUpO3ZhciBhPXRoaXMuX2VuZ2luZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCkscz1hLmluZGV4T2YodGhpcyk7cyE9PS0xJiZhLnNwbGljZShzLDEpLHM9YS5pbmRleE9mKHQpLHM9PT0tMSYmYS5wdXNoKHQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fcmVmZXJlbmNlcy0tLHRoaXMub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3JlZmVyZW5jZXM9PT0wJiYodGhpcy5fZW5naW5lLl9yZWxlYXNlVGV4dHVyZSh0aGlzKSx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCl9LGUuX0NvdW50ZXI9MCxlfShNbik7ZnVuY3Rpb24geWUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSJ9ZnVuY3Rpb24gVGkoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSJ9ZnVuY3Rpb24gZnIoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PCJ1In1mdW5jdGlvbiBVcihpKXtmb3IodmFyIGU9IiIsdD1pLmZpcnN0Q2hpbGQ7dDspdC5ub2RlVHlwZT09PTMmJihlKz10LnRleHRDb250ZW50KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGV9dmFyIFZyPXtJc1dpbmRvd09iamVjdEV4aXN0OnllLElzTmF2aWdhdG9yQXZhaWxhYmxlOlRpLElzRG9jdW1lbnRBdmFpbGFibGU6ZnIsR2V0RE9NVGV4dENvbnRlbnQ6VXJ9O2Z1bmN0aW9uIFgoaSl7cmV0dXJuIiIuY29uY2F0KGksIiBuZWVkcyB0byBiZSBpbXBvcnRlZCBiZWZvcmUgYXMgaXQgY29udGFpbnMgYSBzaWRlLWVmZmVjdCByZXF1aXJlZCBieSB5b3VyIGNvZGUuIil9dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLl9DaGVja0xpbWl0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5fTG9nTGltaXRPdXRwdXRzW2VdO3JldHVybiByP3IuY3VycmVudCsrOihyPXtsaW1pdDp0LGN1cnJlbnQ6MX0saS5fTG9nTGltaXRPdXRwdXRzW2VdPXIpLHIuY3VycmVudDw9ci5saW1pdH0saS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLl9Mb2dMaW1pdE91dHB1dHNbZV07aWYoISghcnx8IWkuTWVzc2FnZUxpbWl0UmVhY2hlZCkmJnIuY3VycmVudD09PXIubGltaXQpc3dpdGNoKHQpe2Nhc2UgMDppLkxvZyhpLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3IubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLCJsb2ciKSk7YnJlYWs7Y2FzZSAxOmkuV2FybihpLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3IubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLCJ3YXJuaW5nIikpO2JyZWFrO2Nhc2UgMjppLkVycm9yKGkuTWVzc2FnZUxpbWl0UmVhY2hlZC5yZXBsYWNlKC8lTElNSVQlL2csIiIrci5saW1pdCkucmVwbGFjZSgvJVRZUEUlL2csImVycm9yIikpO2JyZWFrfX0saS5fQWRkTG9nRW50cnk9ZnVuY3Rpb24oZSl7aS5fTG9nQ2FjaGU9ZStpLl9Mb2dDYWNoZSxpLk9uTmV3Q2FjaGVFbnRyeSYmaS5Pbk5ld0NhY2hlRW50cnkoZSl9LGkuX0Zvcm1hdE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24obil7cmV0dXJuIG48MTA/IjAiK246IiIrbn0scj1uZXcgRGF0ZTtyZXR1cm4iWyIrdChyLmdldEhvdXJzKCkpKyI6Iit0KHIuZ2V0TWludXRlcygpKSsiOiIrdChyLmdldFNlY29uZHMoKSkrIl06ICIrZX0saS5fTG9nRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0xvZ0VuYWJsZWQ9ZnVuY3Rpb24oZSx0KXtpZighKHQhPT12b2lkIDAmJiFpLl9DaGVja0xpbWl0KGUsdCkpKXt2YXIgcj1pLl9Gb3JtYXRNZXNzYWdlKGUpO2NvbnNvbGUubG9nKCJCSlMgLSAiK3IpO3ZhciBuPSI8ZGl2IHN0eWxlPSdjb2xvcjp3aGl0ZSc+IityKyI8L2Rpdj48YnI+IjtpLl9BZGRMb2dFbnRyeShuKSxpLl9HZW5lcmF0ZUxpbWl0TWVzc2FnZShlLDApfX0saS5fV2FybkRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9XYXJuRW5hYmxlZD1mdW5jdGlvbihlLHQpe2lmKCEodCE9PXZvaWQgMCYmIWkuX0NoZWNrTGltaXQoZSx0KSkpe3ZhciByPWkuX0Zvcm1hdE1lc3NhZ2UoZSk7Y29uc29sZS53YXJuKCJCSlMgLSAiK3IpO3ZhciBuPSI8ZGl2IHN0eWxlPSdjb2xvcjpvcmFuZ2UnPiIrZSsiPC9kaXY+PGJyPiI7aS5fQWRkTG9nRW50cnkobiksaS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSwxKX19LGkuX0Vycm9yRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0Vycm9yRW5hYmxlZD1mdW5jdGlvbihlLHQpe2lmKCEodCE9PXZvaWQgMCYmIWkuX0NoZWNrTGltaXQoZSx0KSkpe3ZhciByPWkuX0Zvcm1hdE1lc3NhZ2UoZSk7aS5lcnJvcnNDb3VudCsrLGNvbnNvbGUuZXJyb3IoIkJKUyAtICIrcik7dmFyIG49IjxkaXYgc3R5bGU9J2NvbG9yOnJlZCc+IityKyI8L2Rpdj48YnI+IjtpLl9BZGRMb2dFbnRyeShuKSxpLl9HZW5lcmF0ZUxpbWl0TWVzc2FnZShlLDIpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxvZ0NhY2hlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0xvZ0NhY2hlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2xlYXJMb2dDYWNoZT1mdW5jdGlvbigpe2kuX0xvZ0NhY2hlPSIiLGkuX0xvZ0xpbWl0T3V0cHV0cz17fSxpLmVycm9yc0NvdW50PTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dMZXZlbHMiLHtzZXQ6ZnVuY3Rpb24oZSl7KGUmaS5NZXNzYWdlTG9nTGV2ZWwpPT09aS5NZXNzYWdlTG9nTGV2ZWw/aS5Mb2c9aS5fTG9nRW5hYmxlZDppLkxvZz1pLl9Mb2dEaXNhYmxlZCwoZSZpLldhcm5pbmdMb2dMZXZlbCk9PT1pLldhcm5pbmdMb2dMZXZlbD9pLldhcm49aS5fV2FybkVuYWJsZWQ6aS5XYXJuPWkuX1dhcm5EaXNhYmxlZCwoZSZpLkVycm9yTG9nTGV2ZWwpPT09aS5FcnJvckxvZ0xldmVsP2kuRXJyb3I9aS5fRXJyb3JFbmFibGVkOmkuRXJyb3I9aS5fRXJyb3JEaXNhYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLk5vbmVMb2dMZXZlbD0wLGkuTWVzc2FnZUxvZ0xldmVsPTEsaS5XYXJuaW5nTG9nTGV2ZWw9MixpLkVycm9yTG9nTGV2ZWw9NCxpLkFsbExvZ0xldmVsPTcsaS5NZXNzYWdlTGltaXRSZWFjaGVkPSJUb28gbWFueSAlVFlQRSVzICglTElNSVQlKSwgbm8gbW9yZSAlVFlQRSVzIHdpbGwgYmUgcmVwb3J0ZWQgZm9yIHRoaXMgbWVzc2FnZS4iLGkuX0xvZ0NhY2hlPSIiLGkuX0xvZ0xpbWl0T3V0cHV0cz17fSxpLmVycm9yc0NvdW50PTAsaS5Mb2c9aS5fTG9nRW5hYmxlZCxpLldhcm49aS5fV2FybkVuYWJsZWQsaS5FcnJvcj1pLl9FcnJvckVuYWJsZWQsaX0oKSxqdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmNoaWxkcmVuPVtdfXJldHVybiBpLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEwfSxpLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9IiI7aWYodGhpcy5saW5lKXt2YXIgbj10aGlzLmxpbmUsYT10LnByb2Nlc3NvcjtpZihhKXtpZihhLmxpbmVQcm9jZXNzb3ImJihuPWEubGluZVByb2Nlc3NvcihuLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSksYS5hdHRyaWJ1dGVQcm9jZXNzb3ImJnRoaXMubGluZS5zdGFydHNXaXRoKCJhdHRyaWJ1dGUiKSluPWEuYXR0cmlidXRlUHJvY2Vzc29yKHRoaXMubGluZSxlLHQucHJvY2Vzc2luZ0NvbnRleHQpO2Vsc2UgaWYoYS52YXJ5aW5nUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidmFyeWluZyIpKW49YS52YXJ5aW5nUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTtlbHNlIGlmKGEudW5pZm9ybVByb2Nlc3NvciYmYS51bmlmb3JtUmVnZXhwJiZhLnVuaWZvcm1SZWdleHAudGVzdCh0aGlzLmxpbmUpKXQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KG49YS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk7ZWxzZSBpZihhLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJmEudW5pZm9ybUJ1ZmZlclJlZ2V4cCYmYS51bmlmb3JtQnVmZmVyUmVnZXhwLnRlc3QodGhpcy5saW5lKSl0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXJ8fChuPWEudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCk7ZWxzZSBpZihhLnRleHR1cmVQcm9jZXNzb3ImJmEudGV4dHVyZVJlZ2V4cCYmYS50ZXh0dXJlUmVnZXhwLnRlc3QodGhpcy5saW5lKSluPWEudGV4dHVyZVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCk7ZWxzZSBpZigoYS51bmlmb3JtUHJvY2Vzc29yfHxhLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IpJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyKXt2YXIgcz0vdW5pZm9ybVxzKyg/Oig/OmhpZ2hwKT98KD86bG93cCk/KVxzKihcUyspXHMrKFxTKylccyo7LztzLnRlc3QodGhpcy5saW5lKT9hLnVuaWZvcm1Qcm9jZXNzb3ImJihuPWEudW5pZm9ybVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCkpOmEudW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKG49YS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSEwKX10Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSxhLmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKG49YS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpfXIrPW4rYFxyCmB9cmV0dXJuIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihvKXtyKz1vLnByb2Nlc3MoZSx0KX0pLHRoaXMuYWRkaXRpb25hbERlZmluZUtleSYmKGVbdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5XT10aGlzLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZXx8InRydWUiKSxyfSxpfSgpLEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50TGluZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lc1t0aGlzLmxpbmVJbmRleF19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjYW5SZWFkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZUluZGV4PHRoaXMuX2xpbmVzLmxlbmd0aC0xfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibGluZXMiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbGluZXM9W107Zm9yKHZhciB0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG5bMF09PT0iIyIpe3RoaXMuX2xpbmVzLnB1c2gobik7Y29udGludWV9aWYobi50cmltKCkuc3RhcnRzV2l0aCgiLy8iKSl7dGhpcy5fbGluZXMucHVzaChuKTtjb250aW51ZX1mb3IodmFyIGE9bi5zcGxpdCgiOyIpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIG89YVtzXTtvPW8udHJpbSgpLG8mJnRoaXMuX2xpbmVzLnB1c2gobysocyE9PWEubGVuZ3RoLTE/IjsiOiIiKSl9fX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpfSgpLGtyPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgYT10aGlzLmNoaWxkcmVuW25dO2lmKGEuaXNWYWxpZCh0KSlyZXR1cm4gYS5wcm9jZXNzKHQscil9cmV0dXJuIiJ9LGV9KGp0KSxSbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGVzdEV4cHJlc3Npb24uaXNUcnVlKHQpfSxlfShqdCksS3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLnByb3RvdHlwZS5pc1RydWU9ZnVuY3Rpb24oZSl7cmV0dXJuITB9LGkucG9zdGZpeFRvSW5maXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MCxuPWU7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoaS5fT3BlcmF0b3JQcmlvcml0eVthXT09PXZvaWQgMCl0LnB1c2goYSk7ZWxzZXt2YXIgcz10W3QubGVuZ3RoLTFdLG89dFt0Lmxlbmd0aC0yXTt0Lmxlbmd0aC09Mix0LnB1c2goIigiLmNvbmNhdChvKS5jb25jYXQoYSkuY29uY2F0KHMsIikiKSl9fXJldHVybiB0W3QubGVuZ3RoLTFdfSxpLmluZml4VG9Qb3N0Zml4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPS0xLG49ZnVuY3Rpb24oKXtmPWYudHJpbSgpLGYhPT0iIiYmKHQucHVzaChmKSxmPSIiKX0sYT1mdW5jdGlvbihjKXtyPGkuX1N0YWNrLmxlbmd0aC0xJiYoaS5fU3RhY2tbKytyXT1jKX0scz1mdW5jdGlvbigpe3JldHVybiBpLl9TdGFja1tyXX0sbz1mdW5jdGlvbigpe3JldHVybiByPT09LTE/IiEhSU5WQUxJRCBFWFBSRVNTSU9OISEiOmkuX1N0YWNrW3ItLV19LHU9MCxmPSIiO3U8ZS5sZW5ndGg7KXt2YXIgbD1lLmNoYXJBdCh1KSxoPXU8ZS5sZW5ndGgtMT9lLnN1YnN0cih1LDIpOiIiO2lmKGw9PT0iKCIpZj0iIixhKGwpO2Vsc2UgaWYobD09PSIpIil7Zm9yKG4oKTtyIT09LTEmJnMoKSE9PSIoIjspdC5wdXNoKG8oKSk7bygpfWVsc2UgaWYoaS5fT3BlcmF0b3JQcmlvcml0eVtoXT4xKXtmb3IobigpO3IhPT0tMSYmaS5fT3BlcmF0b3JQcmlvcml0eVtzKCldPj1pLl9PcGVyYXRvclByaW9yaXR5W2hdOyl0LnB1c2gobygpKTthKGgpLHUrK31lbHNlIGYrPWw7dSsrfWZvcihuKCk7ciE9PS0xOylzKCk9PT0iKCI/bygpOnQucHVzaChvKCkpO3JldHVybiB0fSxpLl9PcGVyYXRvclByaW9yaXR5PXsiKSI6MCwiKCI6MSwifHwiOjIsIiYmIjozfSxpLl9TdGFjaz1bIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiJdLGl9KCksbHI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmRlZmluZT10LG4ubm90PXIsbn1yZXR1cm4gZS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKHQpe3ZhciByPXRbdGhpcy5kZWZpbmVdIT09dm9pZCAwO3JldHVybiB0aGlzLm5vdCYmKHI9IXIpLHJ9LGV9KEt0KSxQbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUodCl8fHRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZSh0KX0sZX0oS3QpLENuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZSh0KSYmdGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKHQpfSxlfShLdCkseG49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5kZWZpbmU9dCxhLm9wZXJhbmQ9cixhLnRlc3RWYWx1ZT1uLGF9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXt2YXIgcj10W3RoaXMuZGVmaW5lXTtyPT09dm9pZCAwJiYocj10aGlzLmRlZmluZSk7dmFyIG49ITEsYT1wYXJzZUludChyKSxzPXBhcnNlSW50KHRoaXMudGVzdFZhbHVlKTtzd2l0Y2godGhpcy5vcGVyYW5kKXtjYXNlIj4iOm49YT5zO2JyZWFrO2Nhc2UiPCI6bj1hPHM7YnJlYWs7Y2FzZSI8PSI6bj1hPD1zO2JyZWFrO2Nhc2UiPj0iOm49YT49czticmVhaztjYXNlIj09IjpuPWE9PT1zO2JyZWFrfXJldHVybiBufSxlfShLdCksQ2U7KGZ1bmN0aW9uKGkpe2lbaS5HTFNMPTBdPSJHTFNMIixpW2kuV0dTTD0xXT0iV0dTTCJ9KShDZXx8KENlPXt9KSk7dmFyIERuPS9kZWZpbmVkXHMqP1woKC4rPylcKS9nLFdyPS9kZWZpbmVkXHMqP1xbKC4rPylcXS9nLFNpPS8jaW5jbHVkZVxzPzwoLispPihcKCguKilcKSkqKFxbKC4qKVxdKSovZyxZdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuSW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtlLnByb2Nlc3NvciYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMmJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzKGUucHJvY2Vzc2luZ0NvbnRleHQpfSxpLlByb2Nlc3M9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcyxzOyEoKHM9dC5wcm9jZXNzb3IpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxmdW5jdGlvbihvKXt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG89dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbykpO3ZhciB1PWEuX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uKG8sdCxuKTtyKHUpfSl9LGkuUHJlUHJvY2Vzcz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLHM7ISgocz10LnByb2Nlc3Nvcik9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LGZ1bmN0aW9uKG8pe3QucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzJiYobz10LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0LmlzRnJhZ21lbnQ/ImZyYWdtZW50IjoidmVydGV4IixvKSk7dmFyIHU9YS5fQXBwbHlQcmVQcm9jZXNzaW5nKG8sdCxuKTtyKHUpfSl9LGkuRmluYWxpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiFyLnByb2Nlc3Nvcnx8IXIucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycz97dmVydGV4Q29kZTplLGZyYWdtZW50Q29kZTp0fTpyLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnMoZSx0LHIucHJvY2Vzc2luZ0NvbnRleHQpfSxpLl9Qcm9jZXNzUHJlY2lzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5ub1ByZWNpc2lvbilyZXR1cm4gZTt2YXIgbj10LnNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI7cmV0dXJuIGUuaW5kZXhPZigicHJlY2lzaW9uIGhpZ2hwIGZsb2F0Iik9PT0tMT9uP2U9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYCtlOmU9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpgK2U6bnx8KGU9ZS5yZXBsYWNlKCJwcmVjaXNpb24gaGlnaHAgZmxvYXQiLCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdCIpKSxlfSxpLl9FeHRyYWN0T3BlcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PS9kZWZpbmVkXCgoLispXCkvLHI9dC5leGVjKGUpO2lmKHImJnIubGVuZ3RoKXJldHVybiBuZXcgbHIoclsxXS50cmltKCksZVswXT09PSIhIik7Zm9yKHZhciBuPVsiPT0iLCI+PSIsIjw9IiwiPCIsIj4iXSxhPSIiLHM9MCxvPTAsdT1uO288dS5sZW5ndGgmJihhPXVbb10scz1lLmluZGV4T2YoYSksIShzPi0xKSk7bysrKTtpZihzPT09LTEpcmV0dXJuIG5ldyBscihlKTt2YXIgZj1lLnN1YnN0cmluZygwLHMpLnRyaW0oKSxsPWUuc3Vic3RyaW5nKHMrYS5sZW5ndGgpLnRyaW0oKTtyZXR1cm4gbmV3IHhuKGYsYSxsKX0saS5fQnVpbGRTdWJFeHByZXNzaW9uPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKERuLCJkZWZpbmVkWyQxXSIpO2Zvcih2YXIgdD1LdC5pbmZpeFRvUG9zdGZpeChlKSxyPVtdLG49MCxhPXQ7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07aWYocyE9PSJ8fCImJnMhPT0iJiYiKXIucHVzaChzKTtlbHNlIGlmKHIubGVuZ3RoPj0yKXt2YXIgbz1yW3IubGVuZ3RoLTFdLHU9cltyLmxlbmd0aC0yXTtyLmxlbmd0aC09Mjt2YXIgZj1zPT0iJiYiP25ldyBDbjpuZXcgUG47dHlwZW9mIG89PSJzdHJpbmciJiYobz1vLnJlcGxhY2UoV3IsImRlZmluZWQoJDEpIikpLHR5cGVvZiB1PT0ic3RyaW5nIiYmKHU9dS5yZXBsYWNlKFdyLCJkZWZpbmVkKCQxKSIpKSxmLmxlZnRPcGVyYW5kPXR5cGVvZiB1PT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHUpOnUsZi5yaWdodE9wZXJhbmQ9dHlwZW9mIG89PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obyk6byxyLnB1c2goZil9fXZhciBsPXJbci5sZW5ndGgtMV07cmV0dXJuIHR5cGVvZiBsPT0ic3RyaW5nIiYmKGw9bC5yZXBsYWNlKFdyLCJkZWZpbmVkKCQxKSIpKSx0eXBlb2YgbD09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihsKTpsfSxpLl9CdWlsZEV4cHJlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUm4sbj1lLnN1YnN0cmluZygwLHQpLGE9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIGE9YS5zdWJzdHJpbmcoMCwoYS5pbmRleE9mKCIvLyIpKzF8fGEubGVuZ3RoKzEpLTEpLnRyaW0oKSxuPT09IiNpZmRlZiI/ci50ZXN0RXhwcmVzc2lvbj1uZXcgbHIoYSk6bj09PSIjaWZuZGVmIj9yLnRlc3RFeHByZXNzaW9uPW5ldyBscihhLCEwKTpyLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihhKSxyfSxpLl9Nb3ZlQ3Vyc29yV2l0aGluSWY9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1lLmN1cnJlbnRMaW5lO3RoaXMuX01vdmVDdXJzb3IoZSxyKTspe249ZS5jdXJyZW50TGluZTt2YXIgYT1uLnN1YnN0cmluZygwLDUpLnRvTG93ZXJDYXNlKCk7aWYoYT09PSIjZWxzZSIpe3ZhciBzPW5ldyBqdDt0LmNoaWxkcmVuLnB1c2gocyksdGhpcy5fTW92ZUN1cnNvcihlLHMpO3JldHVybn1lbHNlIGlmKGE9PT0iI2VsaWYiKXt2YXIgbz10aGlzLl9CdWlsZEV4cHJlc3Npb24obiw1KTt0LmNoaWxkcmVuLnB1c2gobykscj1vfX19LGkuX01vdmVDdXJzb3I9ZnVuY3Rpb24oZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7dmFyIHI9ZS5jdXJyZW50TGluZSxuPS8oI2lmZGVmKXwoI2Vsc2UpfCgjZWxpZil8KCNlbmRpZil8KCNpZm5kZWYpfCgjaWYpLyxhPW4uZXhlYyhyKTtpZihhJiZhLmxlbmd0aCl7dmFyIHM9YVswXTtzd2l0Y2gocyl7Y2FzZSIjaWZkZWYiOnt2YXIgbz1uZXcga3I7dC5jaGlsZHJlbi5wdXNoKG8pO3ZhciB1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDYpO28uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfWNhc2UiI2Vsc2UiOmNhc2UiI2VsaWYiOnJldHVybiEwO2Nhc2UiI2VuZGlmIjpyZXR1cm4hMTtjYXNlIiNpZm5kZWYiOnt2YXIgbz1uZXcga3I7dC5jaGlsZHJlbi5wdXNoKG8pO3ZhciB1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDcpO28uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfWNhc2UiI2lmIjp7dmFyIG89bmV3IGtyLHU9dGhpcy5fQnVpbGRFeHByZXNzaW9uKHIsMyk7dC5jaGlsZHJlbi5wdXNoKG8pLG8uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfX19ZWxzZXt2YXIgZj1uZXcganQ7aWYoZi5saW5lPXIsdC5jaGlsZHJlbi5wdXNoKGYpLHJbMF09PT0iIyImJnJbMV09PT0iZCIpe3ZhciBsPXIucmVwbGFjZSgiOyIsIiIpLnNwbGl0KCIgIik7Zi5hZGRpdGlvbmFsRGVmaW5lS2V5PWxbMV0sbC5sZW5ndGg9PT0zJiYoZi5hZGRpdGlvbmFsRGVmaW5lVmFsdWU9bFsyXSl9fX1yZXR1cm4hMX0saS5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcganQsYT1uZXcgQW47cmV0dXJuIGEubGluZUluZGV4PS0xLGEubGluZXM9ZS5zcGxpdChgCmApLHRoaXMuX01vdmVDdXJzb3IoYSxuKSxuLnByb2Nlc3ModCxyKX0saS5fUHJlcGFyZVByZVByb2Nlc3NvcnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj1lLmRlZmluZXMsYT17fSxzPTAsbz1uO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdLGY9dS5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKSxsPWYuc3BsaXQoIiAiKTthW2xbMF1dPWwubGVuZ3RoPjE/bFsxXToiIn1yZXR1cm4oKHI9ZS5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zaGFkZXJMYW5ndWFnZSk9PT1DZS5HTFNMJiYoYS5HTF9FUz0idHJ1ZSIpLGEuX19WRVJTSU9OX189ZS52ZXJzaW9uLGFbZS5wbGF0Zm9ybU5hbWVdPSJ0cnVlIix0Ll9nZXRHbG9iYWxEZWZpbmVzKGEpLGF9LGkuX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9Qcm9jZXNzUHJlY2lzaW9uKGUsdCk7aWYoIXQucHJvY2Vzc29yKXJldHVybiBuO2lmKHQucHJvY2Vzc29yLnNoYWRlckxhbmd1YWdlPT09Q2UuR0xTTCYmbi5pbmRleE9mKCIjdmVyc2lvbiAzIikhPT0tMSlyZXR1cm4gbi5yZXBsYWNlKCIjdmVyc2lvbiAzMDAgZXMiLCIiKTt2YXIgYT10LmRlZmluZXMscz10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LHIpO3JldHVybiB0LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxuPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhuLHMsdCksdC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvciYmKG49dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQscikpLHIuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihuPXIuaW5saW5lU2hhZGVyQ29kZShuKSksbn0saS5fQXBwbHlQcmVQcm9jZXNzaW5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhLHM9ZSxvPXQuZGVmaW5lcyx1PXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQscik7cmV0dXJuISgobj10LnByb2Nlc3Nvcik9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5wcmVQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihzLG8sdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxzPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhzLHUsdCksISgoYT10LnByb2Nlc3Nvcik9PT1udWxsfHxhPT09dm9pZCAwKSYmYS5wb3N0UHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wb3N0UHJvY2Vzc29yKHMsbyx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCxyKSksci5fZmVhdHVyZXMubmVlZFNoYWRlckNvZGVJbmxpbmluZyYmKHM9ci5pbmxpbmVTaGFkZXJDb2RlKHMpKSxzfSxpLl9Qcm9jZXNzSW5jbHVkZXM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj10aGlzLGE9U2kuZXhlYyhlKSxzPW5ldyBTdHJpbmcoZSksbz0hMSx1PWZ1bmN0aW9uKCl7dmFyIGw9YVsxXTtpZihsLmluZGV4T2YoIl9fZGVjbF9fIikhPT0tMSYmKGw9bC5yZXBsYWNlKC9fX2RlY2xfXy8sIiIpLHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyYmKGw9bC5yZXBsYWNlKC9WZXJ0ZXgvLCJVYm8iKSxsPWwucmVwbGFjZSgvRnJhZ21lbnQvLCJVYm8iKSksbD1sKyJEZWNsYXJhdGlvbiIpLHQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbbF0pe3ZhciBoPXQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbbF07aWYoYVsyXSlmb3IodmFyIGM9YVszXS5zcGxpdCgiLCIpLGQ9MDtkPGMubGVuZ3RoO2QrPTIpe3ZhciBwPW5ldyBSZWdFeHAoY1tkXSwiZyIpLGc9Y1tkKzFdO2g9aC5yZXBsYWNlKHAsZyl9aWYoYVs0XSl7dmFyIF89YVs1XTtpZihfLmluZGV4T2YoIi4uIikhPT0tMSl7dmFyIHY9Xy5zcGxpdCgiLi4iKSx5PXBhcnNlSW50KHZbMF0pLEU9cGFyc2VJbnQodlsxXSksUj1oLnNsaWNlKDApO2g9IiIsaXNOYU4oRSkmJihFPXQuaW5kZXhQYXJhbWV0ZXJzW3ZbMV1dKTtmb3IodmFyIE09eTtNPEU7TSsrKXQuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8KFI9Ui5yZXBsYWNlKC9saWdodFx7WFx9LihcdyopL2csZnVuY3Rpb24oQSxTKXtyZXR1cm4gUysie1h9In0pKSxoKz1SLnJlcGxhY2UoL1x7WFx9L2csTS50b1N0cmluZygpKStgCmB9ZWxzZSB0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChoPWgucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLGZ1bmN0aW9uKEEsUyl7cmV0dXJuIFMrIntYfSJ9KSksaD1oLnJlcGxhY2UoL1x7WFx9L2csXyl9cz1zLnJlcGxhY2UoYVswXSxoKSxvPW98fGguaW5kZXhPZigiI2luY2x1ZGU8Iik+PTB8fGguaW5kZXhPZigiI2luY2x1ZGUgPCIpPj0wfWVsc2V7dmFyIEM9dC5zaGFkZXJzUmVwb3NpdG9yeSsiU2hhZGVyc0luY2x1ZGUvIitsKyIuZngiO3JldHVybiBpLl9GaWxlVG9vbHNMb2FkRmlsZShDLGZ1bmN0aW9uKEEpe3QuaW5jbHVkZXNTaGFkZXJzU3RvcmVbbF09QSxuLl9Qcm9jZXNzSW5jbHVkZXMocyx0LHIpfSkse3ZhbHVlOnZvaWQgMH19YT1TaS5leGVjKGUpfTthIT1udWxsOyl7dmFyIGY9dSgpO2lmKHR5cGVvZiBmPT0ib2JqZWN0IilyZXR1cm4gZi52YWx1ZX1vP3RoaXMuX1Byb2Nlc3NJbmNsdWRlcyhzLnRvU3RyaW5nKCksdCxyKTpyKHMpfSxpLl9GaWxlVG9vbHNMb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7dGhyb3cgWCgiRmlsZVRvb2xzIil9LGl9KCksTD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuR2V0U2hhZGVyc1JlcG9zaXRvcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPUNlLkdMU0wpLGU9PT1DZS5HTFNMP2kuU2hhZGVyc1JlcG9zaXRvcnk6aS5TaGFkZXJzUmVwb3NpdG9yeVdHU0x9LGkuR2V0U2hhZGVyc1N0b3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1DZS5HTFNMKSxlPT09Q2UuR0xTTD9pLlNoYWRlcnNTdG9yZTppLlNoYWRlcnNTdG9yZVdHU0x9LGkuR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPUNlLkdMU0wpLGU9PT1DZS5HTFNMP2kuSW5jbHVkZXNTaGFkZXJzU3RvcmU6aS5JbmNsdWRlc1NoYWRlcnNTdG9yZVdHU0x9LGkuU2hhZGVyc1JlcG9zaXRvcnk9InNyYy9TaGFkZXJzLyIsaS5TaGFkZXJzU3RvcmU9e30saS5JbmNsdWRlc1NoYWRlcnNTdG9yZT17fSxpLlNoYWRlcnNSZXBvc2l0b3J5V0dTTD0ic3JjL1NoYWRlcnNXR1NMLyIsaS5TaGFkZXJzU3RvcmVXR1NMPXt9LGkuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMPXt9LGl9KCksR2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtuPT09dm9pZCAwJiYobj1udWxsKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxmPT09dm9pZCAwJiYoZj1udWxsKSxoPT09dm9pZCAwJiYoaD0iIiksYz09PXZvaWQgMCYmKGM9Q2UuR0xTTCk7dmFyIGQ9dGhpcyxwLGcsXzt0aGlzLm5hbWU9bnVsbCx0aGlzLmRlZmluZXM9IiIsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5vbkJpbmQ9bnVsbCx0aGlzLnVuaXF1ZUlkPTAsdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25FcnJvck9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMSx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzPXt9LHRoaXMuX211bHRpVGFyZ2V0PSExLHRoaXMuX3NhbXBsZXJzPXt9LHRoaXMuX2lzUmVhZHk9ITEsdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5fa2V5PSIiLHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPW51bGwsdGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5uYW1lPWUsdGhpcy5fa2V5PWg7dmFyIHY9dm9pZCAwLHk9bnVsbDtpZih0LmF0dHJpYnV0ZXMpe3ZhciBFPXQ7aWYodGhpcy5fZW5naW5lPXIsdGhpcy5fYXR0cmlidXRlc05hbWVzPUUuYXR0cmlidXRlcyx0aGlzLl91bmlmb3Jtc05hbWVzPUUudW5pZm9ybXNOYW1lcy5jb25jYXQoRS5zYW1wbGVycyksdGhpcy5fc2FtcGxlckxpc3Q9RS5zYW1wbGVycy5zbGljZSgpLHRoaXMuZGVmaW5lcz1FLmRlZmluZXMsdGhpcy5vbkVycm9yPUUub25FcnJvcix0aGlzLm9uQ29tcGlsZWQ9RS5vbkNvbXBpbGVkLHRoaXMuX2ZhbGxiYWNrcz1FLmZhbGxiYWNrcyx0aGlzLl9pbmRleFBhcmFtZXRlcnM9RS5pbmRleFBhcmFtZXRlcnMsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1FLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3N8fG51bGwsdGhpcy5fbXVsdGlUYXJnZXQ9ISFFLm11bHRpVGFyZ2V0LHRoaXMuX3NoYWRlckxhbmd1YWdlPShwPUUuc2hhZGVyTGFuZ3VhZ2UpIT09bnVsbCYmcCE9PXZvaWQgMD9wOkNlLkdMU0wsRS51bmlmb3JtQnVmZmVyc05hbWVzKXt0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1FLnVuaWZvcm1CdWZmZXJzTmFtZXMuc2xpY2UoKTtmb3IodmFyIFI9MDtSPEUudW5pZm9ybUJ1ZmZlcnNOYW1lcy5sZW5ndGg7UisrKXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbRS51bmlmb3JtQnVmZmVyc05hbWVzW1JdXT1SfXk9KGc9RS5wcm9jZXNzRmluYWxDb2RlKSE9PW51bGwmJmchPT12b2lkIDA/ZzpudWxsLHY9KF89RS5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMpIT09bnVsbCYmXyE9PXZvaWQgMD9fOnZvaWQgMH1lbHNlIHRoaXMuX2VuZ2luZT1hLHRoaXMuZGVmaW5lcz1zPT1udWxsPyIiOnMsdGhpcy5fdW5pZm9ybXNOYW1lcz1yLmNvbmNhdChuKSx0aGlzLl9zYW1wbGVyTGlzdD1uP24uc2xpY2UoKTpbXSx0aGlzLl9hdHRyaWJ1dGVzTmFtZXM9dCx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1bXSx0aGlzLl9zaGFkZXJMYW5ndWFnZT1jLHRoaXMub25FcnJvcj1mLHRoaXMub25Db21waWxlZD11LHRoaXMuX2luZGV4UGFyYW1ldGVycz1sLHRoaXMuX2ZhbGxiYWNrcz1vO3RoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lPXt9LHRoaXMudW5pcXVlSWQ9aS5fVW5pcXVlSWRTZWVkKys7dmFyIE0sQyxBPXllKCk/dGhpcy5fZW5naW5lLmdldEhvc3REb2N1bWVudCgpOm51bGw7ZS52ZXJ0ZXhTb3VyY2U/TT0ic291cmNlOiIrZS52ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhFbGVtZW50PyhNPUE/QS5nZXRFbGVtZW50QnlJZChlLnZlcnRleEVsZW1lbnQpOm51bGwsTXx8KE09ZS52ZXJ0ZXhFbGVtZW50KSk6TT1lLnZlcnRleHx8ZSxlLmZyYWdtZW50U291cmNlP0M9InNvdXJjZToiK2UuZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudEVsZW1lbnQ/KEM9QT9BLmdldEVsZW1lbnRCeUlkKGUuZnJhZ21lbnRFbGVtZW50KTpudWxsLEN8fChDPWUuZnJhZ21lbnRFbGVtZW50KSk6Qz1lLmZyYWdtZW50fHxlLHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0PXRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO3ZhciBTPXtkZWZpbmVzOnRoaXMuZGVmaW5lcy5zcGxpdChgCmApLGluZGV4UGFyYW1ldGVyczp0aGlzLl9pbmRleFBhcmFtZXRlcnMsaXNGcmFnbWVudDohMSxzaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyOnRoaXMuX2VuZ2luZS5fc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcixwcm9jZXNzb3I6dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzb3IodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLHN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnM6dGhpcy5fZW5naW5lLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsc2hhZGVyc1JlcG9zaXRvcnk6TC5HZXRTaGFkZXJzUmVwb3NpdG9yeSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksaW5jbHVkZXNTaGFkZXJzU3RvcmU6TC5HZXRJbmNsdWRlc1NoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksdmVyc2lvbjoodGhpcy5fZW5naW5lLnZlcnNpb24qMTAwKS50b1N0cmluZygpLHBsYXRmb3JtTmFtZTp0aGlzLl9lbmdpbmUuc2hhZGVyUGxhdGZvcm1OYW1lLHByb2Nlc3NpbmdDb250ZXh0OnRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0LGlzTkRDSGFsZlpSYW5nZTp0aGlzLl9lbmdpbmUuaXNORENIYWxmWlJhbmdlLHVzZVJldmVyc2VEZXB0aEJ1ZmZlcjp0aGlzLl9lbmdpbmUudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczp2fSx3PVt2b2lkIDAsdm9pZCAwXSxGPWZ1bmN0aW9uKCl7aWYod1swXSYmd1sxXSl7Uy5pc0ZyYWdtZW50PSEwO3ZhciB4PXdbMF0sRz13WzFdO1l0LlByb2Nlc3MoRyxTLGZ1bmN0aW9uKFcpe3kmJihXPXkoImZyYWdtZW50IixXKSk7dmFyIE49WXQuRmluYWxpemUoeCxXLFMpO2QuX3VzZUZpbmFsQ29kZShOLnZlcnRleENvZGUsTi5mcmFnbWVudENvZGUsZSl9LGQuX2VuZ2luZSl9fTt0aGlzLl9sb2FkU2hhZGVyKE0sIlZlcnRleCIsIiIsZnVuY3Rpb24oeCl7WXQuSW5pdGlhbGl6ZShTKSxZdC5Qcm9jZXNzKHgsUyxmdW5jdGlvbihHKXtkLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlPXgseSYmKEc9eSgidmVydGV4IixHKSksd1swXT1HLEYoKX0sZC5fZW5naW5lKX0pLHRoaXMuX2xvYWRTaGFkZXIoQywiRnJhZ21lbnQiLCJQaXhlbCIsZnVuY3Rpb24oeCl7ZC5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPXgsd1sxXT14LEYoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hhZGVyc1JlcG9zaXRvcnkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5TaGFkZXJzUmVwb3NpdG9yeX0sc2V0OmZ1bmN0aW9uKGUpe0wuU2hhZGVyc1JlcG9zaXRvcnk9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX29uQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3VzZUZpbmFsQ29kZT1mdW5jdGlvbihlLHQscil7aWYocil7dmFyIG49ci52ZXJ0ZXhFbGVtZW50fHxyLnZlcnRleHx8ci5zcGVjdG9yTmFtZXx8cixhPXIuZnJhZ21lbnRFbGVtZW50fHxyLmZyYWdtZW50fHxyLnNwZWN0b3JOYW1lfHxyO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09Q2UuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSB2ZXJ0ZXg6IituK2AKYCtlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1DZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIGZyYWdtZW50OiIrYStgCmArdH1lbHNlIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9dDt0aGlzLl9wcmVwYXJlRWZmZWN0KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwia2V5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKX1jYXRjaHtyZXR1cm4hMX19LGkucHJvdG90eXBlLl9pc1JlYWR5SW50ZXJuYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNSZWFkeT8hMDp0aGlzLl9waXBlbGluZUNvbnRleHQ/dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzUmVhZHk6ITF9LGkucHJvdG90eXBlLmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmV9LGkucHJvdG90eXBlLmdldFBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHR9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXNOYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzTmFtZXN9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZUxvY2F0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzW2VdfSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbZV19LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzLmxlbmd0aH0saS5wcm90b3R5cGUuZ2V0VW5pZm9ybUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzLmluZGV4T2YoZSl9LGkucHJvdG90eXBlLmdldFVuaWZvcm09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zW2VdfSxpLnByb3RvdHlwZS5nZXRTYW1wbGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zYW1wbGVyTGlzdH0saS5wcm90b3R5cGUuZ2V0VW5pZm9ybU5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXN9LGkucHJvdG90eXBlLmdldFVuaWZvcm1CdWZmZXJzTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3R9LGkucHJvdG90eXBlLmdldEluZGV4UGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleFBhcmFtZXRlcnN9LGkucHJvdG90eXBlLmdldENvbXBpbGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcn0saS5wcm90b3R5cGUuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZH0saS5wcm90b3R5cGUuZXhlY3V0ZVdoZW5Db21waWxlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuaXNSZWFkeSgpKXtlKHRoaXMpO3JldHVybn10aGlzLm9uQ29tcGlsZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKHIpe2Uocil9KSwoIXRoaXMuX3BpcGVsaW5lQ29udGV4dHx8dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fY2hlY2tJc1JlYWR5KG51bGwpfSwxNil9LGkucHJvdG90eXBlLl9jaGVja0lzUmVhZHk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7aWYodGhpcy5faXNSZWFkeUludGVybmFsKCkpcmV0dXJufWNhdGNoKHIpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhyLGUpO3JldHVybn10aGlzLl9pc0Rpc3Bvc2VkfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fY2hlY2tJc1JlYWR5KGUpfSwxNil9LGkucHJvdG90eXBlLl9sb2FkU2hhZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHR5cGVvZiBIVE1MRWxlbWVudDwidSImJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7dmFyIGE9VXIoZSk7bihhKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJzb3VyY2U6Iil7bihlLnN1YnN0cig3KSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0iYmFzZTY0OiIpe3ZhciBzPXdpbmRvdy5hdG9iKGUuc3Vic3RyKDcpKTtuKHMpO3JldHVybn12YXIgbz1MLkdldFNoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7aWYob1tlK3QrIlNoYWRlciJdKXtuKG9bZSt0KyJTaGFkZXIiXSk7cmV0dXJufWlmKHImJm9bZStyKyJTaGFkZXIiXSl7bihvW2UrcisiU2hhZGVyIl0pO3JldHVybn12YXIgdTtlWzBdPT09Ii4ifHxlWzBdPT09Ii8ifHxlLmluZGV4T2YoImh0dHAiKT4tMT91PWU6dT1MLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKStlLHRoaXMuX2VuZ2luZS5fbG9hZEZpbGUodSsiLiIrdC50b0xvd2VyQ2FzZSgpKyIuZngiLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInZlcnRleFNvdXJjZUNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnJhZ21lbnRTb3VyY2VDb2RlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJhd1ZlcnRleFNvdXJjZUNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJhd0ZyYWdtZW50U291cmNlQ29kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3JlYnVpbGRQcm9ncmFtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7dGhpcy5faXNSZWFkeT0hMSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT10LHRoaXMub25FcnJvcj1mdW5jdGlvbihzLG8pe24mJm4obyl9LHRoaXMub25Db21waWxlZD1mdW5jdGlvbigpe3ZhciBzPWEuZ2V0RW5naW5lKCkuc2NlbmVzO2lmKHMpZm9yKHZhciBvPTA7bzxzLmxlbmd0aDtvKyspc1tvXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2Myk7YS5fcGlwZWxpbmVDb250ZXh0Ll9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhyKX0sdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fcHJlcGFyZUVmZmVjdCgpfSxpLnByb3RvdHlwZS5fcHJlcGFyZUVmZmVjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9hdHRyaWJ1dGVzTmFtZXMscj10aGlzLmRlZmluZXMsbj10aGlzLl9waXBlbGluZUNvbnRleHQ7dGhpcy5faXNSZWFkeT0hMTt0cnl7dmFyIGE9dGhpcy5fZW5naW5lO3RoaXMuX3BpcGVsaW5lQ29udGV4dD1hLmNyZWF0ZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9wcm9jZXNzaW5nQ29udGV4dCksdGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9uYW1lPXRoaXMuX2tleTt2YXIgcz10aGlzLl9yZWJ1aWxkUHJvZ3JhbS5iaW5kKHRoaXMpO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/YS5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlLCEwLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHMsbnVsbCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSk6YS5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGUsITEsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscyxyLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KSxhLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZCh0aGlzLl9waXBlbGluZUNvbnRleHQsZnVuY3Rpb24oKXtpZihlLl9hdHRyaWJ1dGVzPVtdLGUuX3BpcGVsaW5lQ29udGV4dC5fZmlsbEVmZmVjdEluZm9ybWF0aW9uKGUsZS5fdW5pZm9ybUJ1ZmZlcnNOYW1lcyxlLl91bmlmb3Jtc05hbWVzLGUuX3VuaWZvcm1zLGUuX3NhbXBsZXJMaXN0LGUuX3NhbXBsZXJzLHQsZS5fYXR0cmlidXRlcyksdClmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIHU9dFtvXTtlLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVt1XT1lLl9hdHRyaWJ1dGVzW29dfWEuYmluZFNhbXBsZXJzKGUpLGUuX2NvbXBpbGF0aW9uRXJyb3I9IiIsZS5faXNSZWFkeT0hMCxlLm9uQ29tcGlsZWQmJmUub25Db21waWxlZChlKSxlLm9uQ29tcGlsZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUub25Db21waWxlT2JzZXJ2YWJsZS5jbGVhcigpLGUuX2ZhbGxiYWNrcyYmZS5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSxuJiZlLmdldEVuZ2luZSgpLl9kZWxldGVQaXBlbGluZUNvbnRleHQobil9KSx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYyYmdGhpcy5fY2hlY2tJc1JlYWR5KG4pfWNhdGNoKG8pe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhvLG4pfX0saS5wcm90b3R5cGUuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/L0ZSQUdNRU5UIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LzovVkVSVEVYIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LyxhPW51bGw7aWYodCYmZSl7dmFyIHM9dC5tYXRjaChuKTtpZihzJiZzLmxlbmd0aD09PTIpe3ZhciBvPXBhcnNlSW50KHNbMV0pLHU9ZS5zcGxpdChgCmAsLTEpO3UubGVuZ3RoPj1vJiYoYT0iT2ZmZW5kaW5nIGxpbmUgWyIuY29uY2F0KG8sIl0gaW4gIikuY29uY2F0KHI/ImZyYWdtZW50IjoidmVydGV4IiwiIGNvZGU6ICIpLmNvbmNhdCh1W28tMV0pKX19cmV0dXJuW2UsYV19LGkucHJvdG90eXBlLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEscyxvO3Q9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9ZS5tZXNzYWdlO3ZhciB1PXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyxmPXRoaXMuX2ZhbGxiYWNrcztpZihrLkVycm9yKCJVbmFibGUgdG8gY29tcGlsZSBlZmZlY3Q6Iiksay5FcnJvcigiVW5pZm9ybXM6ICIrdGhpcy5fdW5pZm9ybXNOYW1lcy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIiAiK2R9KSksay5FcnJvcigiQXR0cmlidXRlczogIit1Lm1hcChmdW5jdGlvbihkKXtyZXR1cm4iICIrZH0pKSxrLkVycm9yKGBEZWZpbmVzOlxyCmArdGhpcy5kZWZpbmVzKSxpLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3Ipe3ZhciBsPW51bGwsaD1udWxsLGM9bnVsbDshKChhPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxhPT09dm9pZCAwKSYmYS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpJiYocj10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITEpLGM9clswXSxsPXJbMV0sYyYmKGsuRXJyb3IoIlZlcnRleCBjb2RlOiIpLGsuRXJyb3IoYykpKSwhKChzPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkmJihuPXRoaXMuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUoKG89dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITApLGM9blswXSxoPW5bMV0sYyYmKGsuRXJyb3IoIkZyYWdtZW50IGNvZGU6Iiksay5FcnJvcihjKSkpLGwmJmsuRXJyb3IobCksaCYmay5FcnJvcihoKX1rLkVycm9yKCJFcnJvcjogIit0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0JiYodGhpcy5fcGlwZWxpbmVDb250ZXh0PXQsdGhpcy5faXNSZWFkeT0hMCx0aGlzLm9uRXJyb3ImJnRoaXMub25FcnJvcih0aGlzLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IpLHRoaXMub25FcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKSxmPyh0aGlzLl9waXBlbGluZUNvbnRleHQ9bnVsbCxmLmhhc01vcmVGYWxsYmFja3M/KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMSxrLkVycm9yKCJUcnlpbmcgbmV4dCBmYWxsYmFjay4iKSx0aGlzLmRlZmluZXM9Zi5yZWR1Y2UodGhpcy5kZWZpbmVzLHRoaXMpLHRoaXMuX3ByZXBhcmVFZmZlY3QoKSk6KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMCx0aGlzLm9uRXJyb3ImJnRoaXMub25FcnJvcih0aGlzLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IpLHRoaXMub25FcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25FcnJvck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9mYWxsYmFja3MmJnRoaXMuX2ZhbGxiYWNrcy51bkJpbmRNZXNoKCkpKTp0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcj09PSIifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9iaW5kVGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5fYmluZFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldERlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlQXJyYXk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lKyJFeCI7aWYodGhpcy5fc2FtcGxlckxpc3QuaW5kZXhPZihyKyIwIik9PT0tMSl7Zm9yKHZhciBuPXRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YoZSksYT0xO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz1yKyhhLTEpLnRvU3RyaW5nKCk7dGhpcy5fc2FtcGxlckxpc3Quc3BsaWNlKG4rYSwwLHMpfWZvcih2YXIgbz0wLHU9MCxmPXRoaXMuX3NhbXBsZXJMaXN0O3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO3RoaXMuX3NhbXBsZXJzW2xdPW8sbys9MX19dGhpcy5fZW5naW5lLnNldFRleHR1cmVBcnJheSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3ModGhpcy5fc2FtcGxlcnNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dD1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0KHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9LGkucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc1t0XTtyPT09dm9pZCAwfHxpLl9CYXNlQ2FjaGVbcl09PT1lJiZ0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVzZVVCT0JpbmRpbmdDYWNoZXx8KGkuX0Jhc2VDYWNoZVtyXT1lLHRoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2UoZSxyLHQpKX0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CbG9jaz1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJsb2NrKHRoaXMuX3BpcGVsaW5lQ29udGV4dCxlLHQpfSxpLnByb3RvdHlwZS5zZXRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEludDI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MihlLHQsciksdGhpc30saS5wcm90b3R5cGUuc2V0SW50Mz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDMoZSx0LHIsbiksdGhpc30saS5wcm90b3R5cGUuc2V0SW50ND1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50NChlLHQscixuLGEpLHRoaXN9LGkucHJvdG90eXBlLnNldEludEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheShlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEludEFycmF5Mj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0SW50QXJyYXkzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5NChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0QXJyYXkzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdEFycmF5ND1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXk0KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0QXJyYXkyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRBcnJheTM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEFycmF5ND1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXk0KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0TWF0cmljZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpY2VzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0TWF0cml4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgzeDM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeDN4MyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldE1hdHJpeDJ4Mj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4MngyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0Qm9vbD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50KGUsdD8xOjApLHRoaXN9LGkucHJvdG90eXBlLnNldFZlY3RvcjI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFZlY3RvcjIoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQyKGUsdCxyKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRWZWN0b3IzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3IzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXQzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQzKGUsdCxyLG4pLHRoaXN9LGkucHJvdG90eXBlLnNldFZlY3RvcjQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFZlY3RvcjQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRRdWF0ZXJuaW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRRdWF0ZXJuaW9uKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDQoZSx0LHIsbixhKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRDb2xvcjM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldENvbG9yMyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldENvbG9yND1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjQoZSx0LHIpLHRoaXN9LGkucHJvdG90eXBlLnNldERpcmVjdENvbG9yND1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RGlyZWN0Q29sb3I0KGUsdCksdGhpc30saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3BpcGVsaW5lQ29udGV4dCYmdGhpcy5fcGlwZWxpbmVDb250ZXh0LmRpc3Bvc2UoKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VFZmZlY3QodGhpcyksdGhpcy5faXNEaXNwb3NlZD0hMH0saS5SZWdpc3RlclNoYWRlcj1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj1DZS5HTFNMKSx0JiYoTC5HZXRTaGFkZXJzU3RvcmUobilbIiIuY29uY2F0KGUsIlBpeGVsU2hhZGVyIildPXQpLHImJihMLkdldFNoYWRlcnNTdG9yZShuKVsiIi5jb25jYXQoZSwiVmVydGV4U2hhZGVyIildPXIpfSxpLlJlc2V0Q2FjaGU9ZnVuY3Rpb24oKXtpLl9CYXNlQ2FjaGU9e319LGkuTG9nU2hhZGVyQ29kZU9uQ29tcGlsYXRpb25FcnJvcj0hMCxpLl9VbmlxdWVJZFNlZWQ9MCxpLl9CYXNlQ2FjaGU9e30saS5TaGFkZXJzU3RvcmU9TC5TaGFkZXJzU3RvcmUsaS5JbmNsdWRlc1NoYWRlcnNTdG9yZT1MLkluY2x1ZGVzU2hhZGVyc1N0b3JlLGl9KCksSW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2U9PT12b2lkIDAmJihlPSEwKSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSExLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITEsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEsdGhpcy5faXNDdWxsRGlydHk9ITEsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITEsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMSxlJiZ0aGlzLnJlc2V0KCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNEaXJ0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0RlcHRoRnVuY0RpcnR5fHx0aGlzLl9pc0RlcHRoVGVzdERpcnR5fHx0aGlzLl9pc0RlcHRoTWFza0RpcnR5fHx0aGlzLl9pc0N1bGxGYWNlRGlydHl8fHRoaXMuX2lzQ3VsbERpcnR5fHx0aGlzLl9pc1pPZmZzZXREaXJ0eXx8dGhpcy5faXNGcm9udEZhY2VEaXJ0eX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInpPZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fek9mZnNldH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3pPZmZzZXQhPT1lJiYodGhpcy5fek9mZnNldD1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInpPZmZzZXRVbml0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96T2Zmc2V0VW5pdHN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl96T2Zmc2V0VW5pdHMhPT1lJiYodGhpcy5fek9mZnNldFVuaXRzPWUsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VsbEZhY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VsbEZhY2V9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jdWxsRmFjZSE9PWUmJih0aGlzLl9jdWxsRmFjZT1lLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdWxsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1bGx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jdWxsIT09ZSYmKHRoaXMuX2N1bGw9ZSx0aGlzLl9pc0N1bGxEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aEZ1bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhGdW5jfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhGdW5jIT09ZSYmKHRoaXMuX2RlcHRoRnVuYz1lLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoTWFzayE9PWUmJih0aGlzLl9kZXB0aE1hc2s9ZSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoVGVzdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aFRlc3R9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kZXB0aFRlc3QhPT1lJiYodGhpcy5fZGVwdGhUZXN0PWUsdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmcm9udEZhY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJvbnRGYWNlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnJvbnRGYWNlIT09ZSYmKHRoaXMuX2Zyb250RmFjZT1lLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fZGVwdGhNYXNrPSEwLHRoaXMuX2RlcHRoVGVzdD0hMCx0aGlzLl9kZXB0aEZ1bmM9bnVsbCx0aGlzLl9jdWxsRmFjZT1udWxsLHRoaXMuX2N1bGw9bnVsbCx0aGlzLl96T2Zmc2V0PTAsdGhpcy5fek9mZnNldFVuaXRzPTAsdGhpcy5fZnJvbnRGYWNlPW51bGwsdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMCx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSEwLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEsdGhpcy5faXNDdWxsRmFjZURpcnR5PSExLHRoaXMuX2lzQ3VsbERpcnR5PSExLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITF9LGkucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpeyF0aGlzLmlzRGlydHl8fCh0aGlzLl9pc0N1bGxEaXJ0eSYmKHRoaXMuY3VsbD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSksdGhpcy5faXNDdWxsRmFjZURpcnR5JiYoZS5jdWxsRmFjZSh0aGlzLmN1bGxGYWNlKSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhNYXNrRGlydHkmJihlLmRlcHRoTWFzayh0aGlzLmRlcHRoTWFzayksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSksdGhpcy5faXNEZXB0aFRlc3REaXJ0eSYmKHRoaXMuZGVwdGhUZXN0P2UuZW5hYmxlKGUuREVQVEhfVEVTVCk6ZS5kaXNhYmxlKGUuREVQVEhfVEVTVCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eSYmKGUuZGVwdGhGdW5jKHRoaXMuZGVwdGhGdW5jKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExKSx0aGlzLl9pc1pPZmZzZXREaXJ0eSYmKHRoaXMuek9mZnNldHx8dGhpcy56T2Zmc2V0VW5pdHM/KGUuZW5hYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksZS5wb2x5Z29uT2Zmc2V0KHRoaXMuek9mZnNldCx0aGlzLnpPZmZzZXRVbml0cykpOmUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHRoaXMuX2lzWk9mZnNldERpcnR5PSExKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5JiYoZS5mcm9udEZhY2UodGhpcy5mcm9udEZhY2UpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEpKX0saX0oKSxPbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnJlc2V0KCl9cmV0dXJuIGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExLHRoaXMubWFzaz0yNTUsdGhpcy5mdW5jPWkuQUxXQVlTLHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD1pLktFRVAsdGhpcy5vcERlcHRoRmFpbD1pLktFRVAsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9aS5SRVBMQUNFfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxGdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZnVuYz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbEZ1bmNSZWYiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdW5jUmVmfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5mdW5jUmVmPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsRnVuY01hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdW5jTWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZnVuY01hc2s9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxPcFN0ZW5jaWxGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3BTdGVuY2lsRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMub3BTdGVuY2lsRmFpbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbE9wRGVwdGhGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3BEZXB0aEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLm9wRGVwdGhGYWlsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubWFzaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbFRlc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5lbmFibGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5BTFdBWVM9NTE5LGkuS0VFUD03NjgwLGkuUkVQTEFDRT03NjgxLGl9KCksRm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDQpLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSgyKSx0aGlzLl9ibGVuZENvbnN0YW50cz1uZXcgQXJyYXkoNCksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExLHRoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLnJlc2V0KCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNEaXJ0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0FscGhhQmxlbmREaXJ0eXx8dGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5fHx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYUJsZW5kIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhQmxlbmR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9hbHBoYUJsZW5kIT09ZSYmKHRoaXMuX2FscGhhQmxlbmQ9ZSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0QWxwaGFCbGVuZENvbnN0YW50cz1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9ibGVuZENvbnN0YW50c1swXT09PWUmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPT09dCYmdGhpcy5fYmxlbmRDb25zdGFudHNbMl09PT1yJiZ0aGlzLl9ibGVuZENvbnN0YW50c1szXT09PW58fCh0aGlzLl9ibGVuZENvbnN0YW50c1swXT1lLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPXQsdGhpcy5fYmxlbmRDb25zdGFudHNbMl09cix0aGlzLl9ibGVuZENvbnN0YW50c1szXT1uLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMCl9LGkucHJvdG90eXBlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT09PXQmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPT09ciYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109PT1ufHwodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPXIsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bix0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITApfSxpLnByb3RvdHlwZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3RoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPT09ZSYmdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09PT10fHwodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMCl9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWxwaGFCbGVuZD0hMSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPW51bGwsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1swXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMl09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1szXT1udWxsLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSEwLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExfSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXshdGhpcy5pc0RpcnR5fHwodGhpcy5faXNBbHBoYUJsZW5kRGlydHkmJih0aGlzLl9hbHBoYUJsZW5kP2UuZW5hYmxlKGUuQkxFTkQpOmUuZGlzYWJsZShlLkJMRU5EKSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMSksdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEZ1bmNTZXBhcmF0ZSh0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXSksdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExKSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHkmJihlLmJsZW5kRXF1YXRpb25TZXBhcmF0ZSh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHkmJihlLmJsZW5kQ29sb3IodGhpcy5fYmxlbmRDb25zdGFudHNbMF0sdGhpcy5fYmxlbmRDb25zdGFudHNbMV0sdGhpcy5fYmxlbmRDb25zdGFudHNbMl0sdGhpcy5fYmxlbmRDb25zdGFudHNbM10pLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSkpfSxpfSgpLHduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuc2hhZGVyTGFuZ3VhZ2U9Q2UuR0xTTH1yZXR1cm4gaS5wcm90b3R5cGUucG9zdFByb2Nlc3Nvcj1mdW5jdGlvbihlLHQscixuLGEpe2lmKCFhLmdldENhcHMoKS5kcmF3QnVmZmVyc0V4dGVuc2lvbil7dmFyIHM9LyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuKyhlbmFibGV8cmVxdWlyZSkvZztlPWUucmVwbGFjZShzLCIiKX1yZXR1cm4gZX0saX0oKSxMbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnNoYWRlckxhbmd1YWdlPUNlLkdMU0x9cmV0dXJuIGkucHJvdG90eXBlLmF0dHJpYnV0ZVByb2Nlc3Nvcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKCJhdHRyaWJ1dGUiLCJpbiIpfSxpLnByb3RvdHlwZS52YXJ5aW5nUHJvY2Vzc29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgidmFyeWluZyIsdD8iaW4iOiJvdXQiKX0saS5wcm90b3R5cGUucG9zdFByb2Nlc3Nvcj1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5zZWFyY2goLyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuK3JlcXVpcmUvKSE9PS0xLGE9LyNleHRlbnNpb24uKyhHTF9PVlJfbXVsdGl2aWV3MnxHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXN8R0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZHxHTF9FWFRfZnJhZ19kZXB0aHxHTF9FWFRfZHJhd19idWZmZXJzKS4rKGVuYWJsZXxyZXF1aXJlKS9nO2lmKGU9ZS5yZXBsYWNlKGEsIiIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRccypcKC9nLCJ0ZXh0dXJlKCIpLHIpZT1lLnJlcGxhY2UoL3RleHR1cmUyRExvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlTG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVccypcKC9nLCJ0ZXh0dXJlKCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnRGVwdGhFWFQvZywiZ2xfRnJhZ0RlcHRoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdDb2xvci9nLCJnbEZyYWdDb2xvciIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnRGF0YS9nLCJnbEZyYWdEYXRhIiksZT1lLnJlcGxhY2UoL3ZvaWRccys/bWFpblxzKlwoL2csKG4/IiI6YG91dCB2ZWM0IGdsRnJhZ0NvbG9yOwpgKSsidm9pZCBtYWluKCIpO2Vsc2V7dmFyIHM9dC5pbmRleE9mKCIjZGVmaW5lIE1VTFRJVklFVyIpIT09LTE7aWYocylyZXR1cm5gI2V4dGVuc2lvbiBHTF9PVlJfbXVsdGl2aWV3MiA6IHJlcXVpcmUKbGF5b3V0IChudW1fdmlld3MgPSAyKSBpbjsKYCtlfXJldHVybiBlfSxpfSgpLE1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMucmVmZXJlbmNlcz0wLHRoaXMuY2FwYWNpdHk9MCx0aGlzLmlzMzJCaXRzPSExLHRoaXMudW5pcXVlSWQ9aS5fQ291bnRlcisrfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVuZGVybHlpbmdSZXNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX0NvdW50ZXI9MCxpfSgpLFp0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQpe3ZhciByPWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fYnVmZmVyPXQscn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1bmRlcmx5aW5nUmVzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KE1pKSxObj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMudmVydGV4Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5wcm9ncmFtTGlua0Vycm9yPW51bGwsdGhpcy5wcm9ncmFtVmFsaWRhdGlvbkVycm9yPW51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNBc3luYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGFyYWxsZWxDb21waWxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzUmVhZHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9ncmFtP3RoaXMuaXNQYXJhbGxlbENvbXBpbGVkP3RoaXMuZW5naW5lLl9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQodGhpcyk6ITA6ITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrPWZ1bmN0aW9uKGUpe2UmJnRoaXMucHJvZ3JhbSYmZSh0aGlzLnByb2dyYW0pfSxpLnByb3RvdHlwZS5fZmlsbEVmZmVjdEluZm9ybWF0aW9uPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7dmFyIGY9dGhpcy5lbmdpbmU7aWYoZi5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzKWZvcih2YXIgbCBpbiB0KWUuYmluZFVuaWZvcm1CbG9jayhsLHRbbF0pO3ZhciBoPXRoaXMuZW5naW5lLmdldFVuaWZvcm1zKHRoaXMscik7aC5mb3JFYWNoKGZ1bmN0aW9uKHYseSl7bltyW3ldXT12fSksdGhpcy5fdW5pZm9ybXM9bjt2YXIgYztmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1lLmdldFVuaWZvcm0oYVtjXSk7ZD09bnVsbCYmKGEuc3BsaWNlKGMsMSksYy0tKX1hLmZvckVhY2goZnVuY3Rpb24odix5KXtzW3ZdPXl9KTtmb3IodmFyIHA9MCxnPWYuZ2V0QXR0cmlidXRlcyh0aGlzLG8pO3A8Zy5sZW5ndGg7cCsrKXt2YXIgXz1nW3BdO3UucHVzaChfKX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3Jtcz17fX0saS5wcm90b3R5cGUuX2NhY2hlTWF0cml4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXSxuPXQudXBkYXRlRmxhZztyZXR1cm4gciE9PXZvaWQgMCYmcj09PW4/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMCl9LGkucHJvdG90eXBlLl9jYWNoZUZsb2F0Mj1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighbnx8bi5sZW5ndGghPT0yKXJldHVybiBuPVt0LHJdLHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMDt2YXIgYT0hMTtyZXR1cm4gblswXSE9PXQmJihuWzBdPXQsYT0hMCksblsxXSE9PXImJihuWzFdPXIsYT0hMCksYX0saS5wcm90b3R5cGUuX2NhY2hlRmxvYXQzPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIWF8fGEubGVuZ3RoIT09MylyZXR1cm4gYT1bdCxyLG5dLHRoaXMuX3ZhbHVlQ2FjaGVbZV09YSwhMDt2YXIgcz0hMTtyZXR1cm4gYVswXSE9PXQmJihhWzBdPXQscz0hMCksYVsxXSE9PXImJihhWzFdPXIscz0hMCksYVsyXSE9PW4mJihhWzJdPW4scz0hMCksc30saS5wcm90b3R5cGUuX2NhY2hlRmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighc3x8cy5sZW5ndGghPT00KXJldHVybiBzPVt0LHIsbixhXSx0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITA7dmFyIG89ITE7cmV0dXJuIHNbMF0hPT10JiYoc1swXT10LG89ITApLHNbMV0hPT1yJiYoc1sxXT1yLG89ITApLHNbMl0hPT1uJiYoc1syXT1uLG89ITApLHNbM10hPT1hJiYoc1szXT1hLG89ITApLG99LGkucHJvdG90eXBlLnNldEludD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3ZhbHVlQ2FjaGVbZV07ciE9PXZvaWQgMCYmcj09PXR8fHRoaXMuZW5naW5lLnNldEludCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9LGkucHJvdG90eXBlLnNldEludDI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxyKSYmKHRoaXMuZW5naW5lLnNldEludDIodGhpcy5fdW5pZm9ybXNbZV0sdCxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRJbnQzPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2NhY2hlRmxvYXQzKGUsdCxyLG4pJiYodGhpcy5lbmdpbmUuc2V0SW50Myh0aGlzLl91bmlmb3Jtc1tlXSx0LHIsbil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0SW50ND1mdW5jdGlvbihlLHQscixuLGEpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxyLG4sYSkmJih0aGlzLmVuZ2luZS5zZXRJbnQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQscixuLGEpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEludEFycmF5PWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5KHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTI9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTM9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXk0KHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXkyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXkzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXk0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0TWF0cmljZXM9ZnVuY3Rpb24oZSx0KXshdHx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRNYXRyaWNlcyh0aGlzLl91bmlmb3Jtc1tlXSx0KSl9LGkucHJvdG90eXBlLnNldE1hdHJpeD1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJih0aGlzLmVuZ2luZS5zZXRNYXRyaWNlcyh0aGlzLl91bmlmb3Jtc1tlXSx0LnRvQXJyYXkoKSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0TWF0cml4M3gzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpeDN4Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0TWF0cml4MngyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpeDJ4Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0RmxvYXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl92YWx1ZUNhY2hlW2VdO3IhPT12b2lkIDAmJnI9PT10fHx0aGlzLmVuZ2luZS5zZXRGbG9hdCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9LGkucHJvdG90eXBlLnNldFZlY3RvcjI9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0MihlLHQueCx0LnkpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQyKHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEZsb2F0Mj1mdW5jdGlvbihlLHQscil7dGhpcy5fY2FjaGVGbG9hdDIoZSx0LHIpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQyKHRoaXMuX3VuaWZvcm1zW2VdLHQscil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0VmVjdG9yMz1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdC54LHQueSx0LnopJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LHIsbikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdCxyLG4pfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldFZlY3RvcjQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQueCx0LnksdC56LHQudykmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnosdC53KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRRdWF0ZXJuaW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0RmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LHIsbixhKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LHIsbixhKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRDb2xvcjM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQucix0LmcsdC5iKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LnIsdC5nLHQuYil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0Q29sb3I0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLHIpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldERpcmVjdENvbG9yND1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdC5yLHQuZyx0LmIsdC5hKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LnIsdC5nLHQuYix0LmEpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGV4U2hhZGVyP3RoaXMuZW5naW5lLl9nZXRTaGFkZXJTb3VyY2UodGhpcy52ZXJ0ZXhTaGFkZXIpOm51bGx9LGkucHJvdG90eXBlLl9nZXRGcmFnbWVudFNoYWRlckNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFnbWVudFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMuZnJhZ21lbnRTaGFkZXIpOm51bGx9LGl9KCksQWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7aWYoZT09PXZvaWQgMCYmKGU9bnVsbCksdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsLHRoaXMuX2NvbnRleHQ9dCwhZSYmKGU9dC5jcmVhdGVUZXh0dXJlKCksIWUpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJHTCB0ZXh0dXJlIik7dGhpcy5zZXQoZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidW5kZXJseWluZ1Jlc291cmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVGV4dHVyZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRVc2FnZT1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe3RoaXMuX3dlYkdMVGV4dHVyZT1lfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3dlYkdMVGV4dHVyZT1udWxsLHRoaXMuX01TQUFSZW5kZXJCdWZmZXI9bnVsbH0saS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXImJih0aGlzLl9jb250ZXh0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyKSx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfSxpfSgpLHF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3Q9PT12b2lkIDAmJih0PSEwKSx0aGlzLmVmZmVjdD1udWxsLHRoaXMuZGVmaW5lcz1udWxsLHRoaXMuZHJhd0NvbnRleHQ9ZS5jcmVhdGVEcmF3Q29udGV4dCgpLHQmJih0aGlzLm1hdGVyaWFsQ29udGV4dD1lLmNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpKX1yZXR1cm4gaS5Jc1dyYXBwZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwfSxpLkdldEVmZmVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQaXBlbGluZUNvbnRleHQ9PT12b2lkIDA/ZS5lZmZlY3Q6ZX0saS5wcm90b3R5cGUuc2V0RWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtyPT09dm9pZCAwJiYocj0hMCksdGhpcy5lZmZlY3Q9ZSx0IT09dm9pZCAwJiYodGhpcy5kZWZpbmVzPXQpLHImJigobj10aGlzLmRyYXdDb250ZXh0KT09PW51bGx8fG49PT12b2lkIDB8fG4ucmVzZXQoKSl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZTsoZT10aGlzLmRyYXdDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpfSxpfSgpLEJuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlPT09dm9pZCAwJiYoZT0hMCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSx0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSExLGUmJnRoaXMucmVzZXQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0RpcnR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eXx8dGhpcy5faXNTdGVuY2lsTWFza0RpcnR5fHx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHl8fHRoaXMuX2lzU3RlbmNpbE9wRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jIT09ZSYmKHRoaXMuX2Z1bmM9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuY1JlZiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jUmVmfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuY1JlZiE9PWUmJih0aGlzLl9mdW5jUmVmPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmNNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuY01hc2shPT1lJiYodGhpcy5fZnVuY01hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BTdGVuY2lsRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRmFpbCE9PWUmJih0aGlzLl9vcFN0ZW5jaWxGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wRGVwdGhGYWlsIT09ZSYmKHRoaXMuX29wRGVwdGhGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzIT09ZSYmKHRoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWFzayE9PWUmJih0aGlzLl9tYXNrPWUsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsKGU9dGhpcy5zdGVuY2lsR2xvYmFsKT09PW51bGx8fGU9PT12b2lkIDB8fGUucmVzZXQoKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITAsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwfSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXt2YXIgdDtpZighIWUpe3ZhciByPSF0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5JiYhISghKCh0PXRoaXMuc3RlbmNpbE1hdGVyaWFsKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0LmVuYWJsZWQpO3RoaXMuZW5hYmxlZD1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmVuYWJsZWQ6dGhpcy5zdGVuY2lsR2xvYmFsLmVuYWJsZWQsdGhpcy5mdW5jPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuYzp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuYyx0aGlzLmZ1bmNSZWY9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jUmVmOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jUmVmLHRoaXMuZnVuY01hc2s9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jTWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY01hc2ssdGhpcy5vcFN0ZW5jaWxGYWlsPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BEZXB0aEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRGVwdGhQYXNzOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxEZXB0aFBhc3MsdGhpcy5tYXNrPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwubWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwubWFzayx0aGlzLmlzRGlydHkmJih0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHkmJih0aGlzLmVuYWJsZWQ/ZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpOmUuZGlzYWJsZShlLlNURU5DSUxfVEVTVCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHkmJihlLnN0ZW5jaWxNYXNrKHRoaXMubWFzayksdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHkmJihlLnN0ZW5jaWxGdW5jKHRoaXMuZnVuYyx0aGlzLmZ1bmNSZWYsdGhpcy5mdW5jTWFzayksdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5JiYoZS5zdGVuY2lsT3AodGhpcy5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3MpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITEpKX19LGl9KCksVW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpfSgpLGZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt2YXIgYT10aGlzO3RoaXMuX25hbWU9IldlYkdMIix0aGlzLmZvcmNlUE9UVGV4dHVyZXM9ITEsdGhpcy5pc0Z1bGxzY3JlZW49ITEsdGhpcy5jdWxsQmFja0ZhY2VzPW51bGwsdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kPSEwLHRoaXMucHJldmVudENhY2hlV2lwZUJldHdlZW5GcmFtZXM9ITEsdGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zPSExLHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj0hMSx0aGlzLmlzTkRDSGFsZlpSYW5nZT0hMSx0aGlzLmhhc09yaWdpbkJvdHRvbUxlZnQ9ITAsdGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITEsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2ZyYW1lSWQ9MCx0aGlzLl91bmlmb3JtQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fc3RvcmFnZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3dlYkdMVmVyc2lvbj0xLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMSx0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9ITAsdGhpcy5fYmFkT1M9ITEsdGhpcy5fYmFkRGVza3RvcE9TPSExLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITEsdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9bmV3IEFycmF5LHRoaXMub25Db250ZXh0TG9zdE9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGU9bmV3IE8sdGhpcy5fY29udGV4dFdhc0xvc3Q9ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hMSx0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHM9ITEsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZT1uZXcgSW4sdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXI9bmV3IEJuLHRoaXMuX3N0ZW5jaWxTdGF0ZT1uZXcgT24sdGhpcy5fYWxwaGFTdGF0ZT1uZXcgRm4sdGhpcy5fYWxwaGFNb2RlPTEsdGhpcy5fYWxwaGFFcXVhdGlvbj0wLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZT1uZXcgQXJyYXksdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVDaGFubmVsPTAsdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZT17fSx0aGlzLl9jb21waWxlZEVmZmVjdHM9e30sdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZD1bXSx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD0hMSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXI9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2R1bW15RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucz1uZXcgQXJyYXksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITEsdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHM9bmV3IEFycmF5LHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPTAsdGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT1udWxsLHRoaXMuX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSx0aGlzLl9hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fdHJhbnNmb3JtVGV4dHVyZVVybD1udWxsLHRoaXMuaG9zdEluZm9ybWF0aW9uPXtpc01vYmlsZTohMX0sdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9ITAsdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9pc1dlYkdQVT0hMSx0aGlzLl9zbmFwc2hvdFJlbmRlcmluZ01vZGU9MCx0aGlzLl92aWV3cG9ydENhY2hlZD17eDowLHk6MCx6OjAsdzowfSx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuZW5hYmxlVW5wYWNrRmxpcFlDYWNoZWQ9ITAsdGhpcy5fYm91bmRVbmlmb3Jtcz17fTt2YXIgcz1udWxsO2lmKHI9cnx8e30sdGhpcy5fY3JlYXRpb25PcHRpb25zPXIsdGhpcy5fYWRhcHRUb0RldmljZVJhdGlvPW4hPW51bGw/bjohMSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsR2xvYmFsPXRoaXMuX3N0ZW5jaWxTdGF0ZSxQdC5TZXRNYXRyaXhQcmVjaXNpb24oISFyLnVzZUhpZ2hQcmVjaXNpb25NYXRyaXgpLCEhZSl7aWYobj1ufHxyLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITEsZS5nZXRDb250ZXh0KXtpZihzPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXMsdCE9PXZvaWQgMCYmKHIuYW50aWFsaWFzPXQpLHIuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPT09dm9pZCAwJiYoci5kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEpLHIubG9ja3N0ZXBNYXhTdGVwcz09PXZvaWQgMCYmKHIubG9ja3N0ZXBNYXhTdGVwcz00KSxyLnRpbWVTdGVwPT09dm9pZCAwJiYoci50aW1lU3RlcD0xLzYwKSxyLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj09PXZvaWQgMCYmKHIucHJlc2VydmVEcmF3aW5nQnVmZmVyPSExKSxyLmF1ZGlvRW5naW5lPT09dm9pZCAwJiYoci5hdWRpb0VuZ2luZT0hMCksci5hdWRpb0VuZ2luZU9wdGlvbnMhPT12b2lkIDAmJnIuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvQ29udGV4dCE9PXZvaWQgMCYmKHRoaXMuX2F1ZGlvQ29udGV4dD1yLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0NvbnRleHQpLHIuYXVkaW9FbmdpbmVPcHRpb25zIT09dm9pZCAwJiZyLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uIT09dm9pZCAwJiYodGhpcy5fYXVkaW9EZXN0aW5hdGlvbj1yLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uKSxyLnN0ZW5jaWw9PT12b2lkIDAmJihyLnN0ZW5jaWw9ITApLHIucHJlbXVsdGlwbGllZEFscGhhPT09ITEmJih0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSksci54ckNvbXBhdGlibGU9PT12b2lkIDAmJihyLnhyQ29tcGF0aWJsZT0hMCksdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hIXIuZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCxuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpe3RoaXMuX2NoZWNrRm9yTW9iaWxlPWZ1bmN0aW9uKCl7dmFyIHg9bmF2aWdhdG9yLnVzZXJBZ2VudDthLmhvc3RJbmZvcm1hdGlvbi5pc01vYmlsZT14LmluZGV4T2YoIk1vYmlsZSIpIT09LTF8fHguaW5kZXhPZigiTWFjIikhPT0tMSYmZnIoKSYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnR9LHRoaXMuX2NoZWNrRm9yTW9iaWxlKCkseWUoKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fY2hlY2tGb3JNb2JpbGUpO2Zvcih2YXIgbz1uYXZpZ2F0b3IudXNlckFnZW50LHU9MCxmPWkuRXhjZXB0aW9uTGlzdDt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XSxoPWwua2V5LGM9bC50YXJnZXRzLGQ9bmV3IFJlZ0V4cChoKTtpZihkLnRlc3Qobykpe2lmKGwuY2FwdHVyZSYmbC5jYXB0dXJlQ29uc3RyYWludCl7dmFyIHA9bC5jYXB0dXJlLGc9bC5jYXB0dXJlQ29uc3RyYWludCxfPW5ldyBSZWdFeHAocCksdj1fLmV4ZWMobyk7aWYodiYmdi5sZW5ndGg+MCl7dmFyIHk9cGFyc2VJbnQodlt2Lmxlbmd0aC0xXSk7aWYoeT49Zyljb250aW51ZX19Zm9yKHZhciBFPTAsUj1jO0U8Ui5sZW5ndGg7RSsrKXt2YXIgTT1SW0VdO3N3aXRjaChNKXtjYXNlInVuaWZvcm1CdWZmZXIiOnRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSEwO2JyZWFrO2Nhc2UidmFvIjp0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHM9ITA7YnJlYWs7Y2FzZSJhbnRpYWxpYXMiOnIuYW50aWFsaWFzPSExO2JyZWFrO2Nhc2UibWF4TVNBQVNhbXBsZXMiOnRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9MTticmVha319fX19aWYodGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KHRoaXMuX29uQ29udGV4dExvc3Q9ZnVuY3Rpb24oeCl7eC5wcmV2ZW50RGVmYXVsdCgpLGEuX2NvbnRleHRXYXNMb3N0PSEwLGsuV2FybigiV2ViR0wgY29udGV4dCBsb3N0LiIpLGEub25Db250ZXh0TG9zdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpfSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZD1mdW5jdGlvbigpe2EuX3Jlc3RvcmVFbmdpbmVBZnRlckNvbnRleHRMb3N0KGEuX2luaXRHTENvbnRleHQuYmluZChhKSl9LHMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCwhMSkscy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fb25Db250ZXh0UmVzdG9yZWQsITEpLHIucG93ZXJQcmVmZXJlbmNlPSJoaWdoLXBlcmZvcm1hbmNlIiksdGhpcy5fYmFkRGVza3RvcE9TPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5fYmFkRGVza3RvcE9TJiYoci54ckNvbXBhdGlibGU9ITEpLCFyLmRpc2FibGVXZWJHTDJTdXBwb3J0KXRyeXt0aGlzLl9nbD1zLmdldENvbnRleHQoIndlYmdsMiIscil8fHMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsMiIsciksdGhpcy5fZ2wmJih0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIsdGhpcy5fZ2wuZGVsZXRlUXVlcnl8fCh0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSIpKX1jYXRjaHt9aWYoIXRoaXMuX2dsKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcm92aWRlZCBjYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuIik7dHJ5e3RoaXMuX2dsPXMuZ2V0Q29udGV4dCgid2ViZ2wiLHIpfHxzLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIscil9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9fWlmKCF0aGlzLl9nbCl0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX1lbHNle3RoaXMuX2dsPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXRoaXMuX2dsLmNhbnZhcyx0aGlzLl9nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/KHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIik6dGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiO3ZhciBDPXRoaXMuX2dsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7QyYmKHIuc3RlbmNpbD1DLnN0ZW5jaWwpfXRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksci51c2VIaWdoUHJlY2lzaW9uRmxvYXRzIT09dm9pZCAwJiYodGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPXIudXNlSGlnaFByZWNpc2lvbkZsb2F0cyk7dmFyIEE9eWUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEsUz1yLmxpbWl0RGV2aWNlUmF0aW98fEE7dGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWw9bj8xL01hdGgubWluKFMsQSk6MSx0aGlzLnJlc2l6ZSgpLHRoaXMuX2lzU3RlbmNpbEVuYWJsZT0hIXIuc3RlbmNpbCx0aGlzLl9pbml0R0xDb250ZXh0KCksdGhpcy5faW5pdEZlYXR1cmVzKCk7Zm9yKHZhciB3PTA7dzx0aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnM7dysrKXRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1t3XT1uZXcgVW47dGhpcy5fc2hhZGVyUHJvY2Vzc29yPXRoaXMud2ViR0xWZXJzaW9uPjE/bmV3IExuOm5ldyB3bix0aGlzLl9iYWRPUz0vaVBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9pUGhvbmUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO3ZhciBGPSJCYWJ5bG9uLmpzIHYiLmNvbmNhdChpLlZlcnNpb24pO2NvbnNvbGUubG9nKEYrIiAtICIuY29uY2F0KHRoaXMuZGVzY3JpcHRpb24pKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUoImRhdGEtZW5naW5lIixGKX19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJOcG1QYWNrYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuImJhYnlsb25qc0A1LjEwLjAifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJWZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjUuMTAuMCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXNjcmlwdGlvbiIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubmFtZSt0aGlzLndlYkdMVmVyc2lvbjtyZXR1cm4gdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJihlKz0iIC0gUGFyYWxsZWwgc2hhZGVyIGNvbXBpbGF0aW9uIiksZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX25hbWU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInZlcnNpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaGFkZXJzUmVwb3NpdG9yeSIse2dldDpmdW5jdGlvbigpe3JldHVybiBHZS5TaGFkZXJzUmVwb3NpdG9yeX0sc2V0OmZ1bmN0aW9uKGUpe0dlLlNoYWRlcnNSZXBvc2l0b3J5PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2dldFNoYWRlclByb2Nlc3Nvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZVJldmVyc2VEZXB0aEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXJ9LHNldDpmdW5jdGlvbihlKXtlIT09dGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyJiYodGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyPWUsZT90aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE4OnRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz01MTUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnJhbWVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZUlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3VwcG9ydHNVbmlmb3JtQnVmZmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndlYkdMVmVyc2lvbj4xJiYhdGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q3JlYXRpb25PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NyZWF0aW9uT3B0aW9uc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5lZWRQT1RUZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb248Mnx8dGhpcy5mb3JjZVBPVFRleHR1cmVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWN0aXZlUmVuZGVyTG9vcHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb05vdEhhbmRsZUNvbnRleHRMb3N0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdCIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1cnJlbnRWaWV3cG9ydCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRWaWV3cG9ydH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVtcHR5VGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbXB0eVRleHR1cmUzRCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmUzRHx8KHRoaXMuX2VtcHR5VGV4dHVyZTNEPXRoaXMuY3JlYXRlUmF3VGV4dHVyZTNEKG5ldyBVaW50OEFycmF5KDQpLDEsMSwxLDUsITEsITEsMSkpLHRoaXMuX2VtcHR5VGV4dHVyZTNEfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW1wdHlUZXh0dXJlMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fHwodGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheT10aGlzLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5KG5ldyBVaW50OEFycmF5KDQpLDEsMSwxLDUsITEsITEsMSkpLHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbXB0eUN1YmVUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe3ZhciBlPW5ldyBVaW50OEFycmF5KDQpLHQ9W2UsZSxlLGUsZSxlXTt0aGlzLl9lbXB0eUN1YmVUZXh0dXJlPXRoaXMuY3JlYXRlUmF3Q3ViZVRleHR1cmUodCwxLDUsMCwhMSwhMSwxKX1yZXR1cm4gdGhpcy5fZW1wdHlDdWJlVGV4dHVyZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzV2ViR1BVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzV2ViR1BVfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2hhZGVyUGxhdGZvcm1OYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNuYXBzaG90UmVuZGVyaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNldDpmdW5jdGlvbihlKXt9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzbmFwc2hvdFJlbmRlcmluZ01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc25hcHNob3RSZW5kZXJpbmdSZXNldD1mdW5jdGlvbigpe3RoaXMuc25hcHNob3RSZW5kZXJpbmc9ITF9LGkuX0NyZWF0ZUNhbnZhcz1mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiBkb2N1bWVudD4idSIpcmV0dXJuIG5ldyBPZmZzY3JlZW5DYW52YXMoZSx0KTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gci53aWR0aD1lLHIuaGVpZ2h0PXQscn0saS5wcm90b3R5cGUuY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuX0NyZWF0ZUNhbnZhcyhlLHQpfSxpLnByb3RvdHlwZS5jcmVhdGVDYW52YXNJbWFnZT1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKX0saS5wcm90b3R5cGUuX3Jlc3RvcmVFbmdpbmVBZnRlckNvbnRleHRMb3N0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBCcih0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixuLGEscyxvO3JldHVybiBGdCh0aGlzLGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2R1bW15RnJhbWVidWZmZXI9bnVsbCxyPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdCxuPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYyxhPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzayxzPXRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdCxbNCxlKCldO2Nhc2UgMTpyZXR1cm4gdS5zZW50KCksdGhpcy5fcmVidWlsZEVmZmVjdHMoKSwobz10aGlzLl9yZWJ1aWxkQ29tcHV0ZUVmZmVjdHMpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHRoaXMpLHRoaXMuX3JlYnVpbGRJbnRlcm5hbFRleHR1cmVzKCksdGhpcy5fcmVidWlsZFJlbmRlclRhcmdldFdyYXBwZXJzKCksdGhpcy5fcmVidWlsZEJ1ZmZlcnMoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1yLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz1uLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1hLHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD1zLGsuV2Fybih0aGlzLm5hbWUrIiBjb250ZXh0IHN1Y2Nlc3NmdWxseSByZXN0b3JlZC4iKSx0aGlzLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITEsWzJdfX0pfSl9LDApfSxpLnByb3RvdHlwZS5fc2hhcmVkSW5pdD1mdW5jdGlvbihlLHQscil7dGhpcy5fcmVuZGVyaW5nQ2FudmFzPWV9LGkucHJvdG90eXBlLl9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuX3JlYnVpbGRJbnRlcm5hbFRleHR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5zbGljZSgpLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fcmVidWlsZCgpfX0saS5wcm90b3R5cGUuX3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuc2xpY2UoKSx0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX19LGkucHJvdG90eXBlLl9yZWJ1aWxkRWZmZWN0cz1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe3ZhciB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXTt0Ll9waXBlbGluZUNvbnRleHQ9bnVsbCx0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEsdC5fcHJlcGFyZUVmZmVjdCgpfUdlLlJlc2V0Q2FjaGUoKX0saS5wcm90b3R5cGUuYXJlQWxsRWZmZWN0c1JlYWR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7dmFyIHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdO2lmKCF0LmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4hMH0saS5wcm90b3R5cGUuX3JlYnVpbGRCdWZmZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLl91bmlmb3JtQnVmZmVycztlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTtyLl9yZWJ1aWxkKCl9Zm9yKHZhciBuPTAsYT10aGlzLl9zdG9yYWdlQnVmZmVycztuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLl9yZWJ1aWxkKCl9fSxpLnByb3RvdHlwZS5faW5pdEdMQ29udGV4dD1mdW5jdGlvbigpe3RoaXMuX2NhcHM9e21heFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heENvbWJpbmVkVGV4dHVyZXNJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VmVydGV4VGV4dHVyZUltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX1NJWkUpLG1heFNhbXBsZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKToxLG1heEN1YmVtYXBUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRSksbWF4UmVuZGVyVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9SRU5ERVJCVUZGRVJfU0laRSksbWF4VmVydGV4QXR0cmliczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKSxtYXhWYXJ5aW5nVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyksbWF4RnJhZ21lbnRVbmlmb3JtVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUyksbWF4VmVydGV4VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTKSxwYXJhbGxlbFNoYWRlckNvbXBpbGU6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKXx8dm9pZCAwLHN0YW5kYXJkRGVyaXZhdGl2ZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIikhPT1udWxsLG1heEFuaXNvdHJvcHk6MSxhc3RjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKSxicHRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjIiksczN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiksczN0Y19zcmdiOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIikscHZydGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIiksZXRjMTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiksZXRjMjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9lczNfMCIpLHRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIiksdWludEluZGljZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpIT09bnVsbCxmcmFnbWVudERlcHRoU3VwcG9ydGVkOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9mcmFnX2RlcHRoIikhPT1udWxsLGhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ6ITEsdGltZXJRdWVyeTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKSxzdXBwb3J0T2NjbHVzaW9uUXVlcnk6dGhpcy5fd2ViR0xWZXJzaW9uPjEsY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeTohMSxkcmF3QnVmZmVyc0V4dGVuc2lvbjohMSxtYXhNU0FBU2FtcGxlczoxLGNvbG9yQnVmZmVyRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpKSx0ZXh0dXJlRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHRleHR1cmVGbG9hdFJlbmRlcjohMSx0ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHZlcnRleEFycmF5T2JqZWN0OiExLGluc3RhbmNlZEFycmF5czohMSx0ZXh0dXJlTE9EOiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiKSksYmxlbmRNaW5NYXg6ITEsbXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT1ZSX211bHRpdmlldzIiKSxvY3VsdXNNdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPQ1VMVVNfbXVsdGl2aWV3IiksZGVwdGhUZXh0dXJlRXh0ZW5zaW9uOiExLGNhblVzZUdMSW5zdGFuY2VJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VHTFZlcnRleElEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHN1cHBvcnRDb21wdXRlU2hhZGVyczohMSxzdXBwb3J0U1JHQkJ1ZmZlcnM6ITEsc3VwcG9ydFRyYW5zZm9ybUZlZWRiYWNrczp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlTWF4TGV2ZWw6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZTJEQXJyYXlNYXhMYXllckNvdW50OnRoaXMuX3dlYkdMVmVyc2lvbj4xPzI1NjoxMjh9LHRoaXMuX2dsVmVyc2lvbj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVSU0lPTik7dmFyIGU9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7aWYoZSE9bnVsbCYmKHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKGUuVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpLHRoaXMuX2dsVmVuZG9yPXRoaXMuX2dsLmdldFBhcmFtZXRlcihlLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCkpLHRoaXMuX2dsVmVuZG9yfHwodGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlZFTkRPUil8fCJVbmtub3duIHZlbmRvciIpLHRoaXMuX2dsUmVuZGVyZXJ8fCh0aGlzLl9nbFJlbmRlcmVyPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5SRU5ERVJFUil8fCJVbmtub3duIHJlbmRlcmVyIiksdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVMhPT0zNjE5MyYmKHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTPTM2MTkzKSx0aGlzLl9nbC5SR0JBMTZGIT09MzQ4NDImJih0aGlzLl9nbC5SR0JBMTZGPTM0ODQyKSx0aGlzLl9nbC5SR0JBMzJGIT09MzQ4MzYmJih0aGlzLl9nbC5SR0JBMzJGPTM0ODM2KSx0aGlzLl9nbC5ERVBUSDI0X1NURU5DSUw4IT09MzUwNTYmJih0aGlzLl9nbC5ERVBUSDI0X1NURU5DSUw4PTM1MDU2KSx0aGlzLl9jYXBzLnRpbWVyUXVlcnkmJih0aGlzLl93ZWJHTFZlcnNpb249PT0xJiYodGhpcy5fZ2wuZ2V0UXVlcnk9dGhpcy5fY2Fwcy50aW1lclF1ZXJ5LmdldFF1ZXJ5RVhULmJpbmQodGhpcy5fY2Fwcy50aW1lclF1ZXJ5KSksdGhpcy5fY2Fwcy5jYW5Vc2VUaW1lc3RhbXBGb3JUaW1lclF1ZXJ5PXRoaXMuX2dsLmdldFF1ZXJ5KHRoaXMuX2NhcHMudGltZXJRdWVyeS5USU1FU1RBTVBfRVhULHRoaXMuX2NhcHMudGltZXJRdWVyeS5RVUVSWV9DT1VOVEVSX0JJVFNfRVhUKT4wKSx0aGlzLl9jYXBzLm1heEFuaXNvdHJvcHk9dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb24/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCk6MCx0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz0hISh0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRSZW5kZXI9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2NhblJlbmRlclRvRmxvYXRGcmFtZWJ1ZmZlcigpKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdCYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpKSx0aGlzLl9jYXBzLmFzdGMmJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFI9dGhpcy5fY2Fwcy5hc3RjLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUiksdGhpcy5fY2Fwcy5icHRjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUPXRoaXMuX2NhcHMuYnB0Yy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQpLHRoaXMuX2NhcHMuczN0Y19zcmdiJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQpLHRoaXMuX2NhcHMuZXRjMiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfRVRDMj10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9FVEMyLHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDPXRoaXMuX2NhcHMuZXRjMi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQyksdGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTIT09NTEzMSYmKHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTPTUxMzEpLHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdFJlbmRlcj10aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKSx0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmRyYXdCdWZmZXJzRXh0ZW5zaW9uPSEwLHRoaXMuX2NhcHMubWF4TVNBQVNhbXBsZXM9dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZSE9PW51bGw/dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1NBTVBMRVMpO2Vsc2V7dmFyIHQ9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtpZih0IT09bnVsbCl7dGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9nbC5kcmF3QnVmZmVycz10LmRyYXdCdWZmZXJzV0VCR0wuYmluZCh0KSx0aGlzLl9nbC5EUkFXX0ZSQU1FQlVGRkVSPXRoaXMuX2dsLkZSQU1FQlVGRkVSO2Zvcih2YXIgcj0wO3I8MTY7cisrKXRoaXMuX2dsWyJDT0xPUl9BVFRBQ0hNRU5UIityKyJfV0VCR0wiXT10WyJDT0xPUl9BVFRBQ0hNRU5UIityKyJfV0VCR0wiXX19aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITA7ZWxzZXt2YXIgbj10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlcHRoX3RleHR1cmUiKTtuIT1udWxsJiYodGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITAsdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg9bi5VTlNJR05FRF9JTlRfMjRfOF9XRUJHTCl9aWYodGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITE7ZWxzZSBpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwO2Vsc2V7dmFyIGE9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpO2EhPW51bGwmJih0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwLHRoaXMuX2dsLmNyZWF0ZVZlcnRleEFycmF5PWEuY3JlYXRlVmVydGV4QXJyYXlPRVMuYmluZChhKSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXk9YS5iaW5kVmVydGV4QXJyYXlPRVMuYmluZChhKSx0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheT1hLmRlbGV0ZVZlcnRleEFycmF5T0VTLmJpbmQoYSkpfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSEwO2Vsc2V7dmFyIHM9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7cyE9bnVsbD8odGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITAsdGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZD1zLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRS5iaW5kKHMpLHRoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZD1zLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFLmJpbmQocyksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcj1zLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRS5iaW5kKHMpKTp0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMX1pZih0aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpe3ZhciBvPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5WRVJURVhfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpLHU9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLkZSQUdNRU5UX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKTtvJiZ1JiYodGhpcy5fY2Fwcy5oaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkPW8ucHJlY2lzaW9uIT09MCYmdS5wcmVjaXNpb24hPT0wKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwO2Vsc2V7dmFyIGY9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfYmxlbmRfbWlubWF4Iik7ZiE9bnVsbCYmKHRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITAsdGhpcy5fZ2wuTUFYPWYuTUFYX0VYVCx0aGlzLl9nbC5NSU49Zi5NSU5fRVhUKX1pZighdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwO2Vsc2V7dmFyIGw9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpO2whPW51bGwmJih0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMCx0aGlzLl9nbC5TUkdCPWwuU1JHQl9FWFQsdGhpcy5fZ2wuU1JHQjg9bC5TUkdCX0FMUEhBX0VYVCx0aGlzLl9nbC5TUkdCOF9BTFBIQTg9bC5TUkdCX0FMUEhBX0VYVCl9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJiEhKHRoaXMuX2NyZWF0aW9uT3B0aW9ucyYmdGhpcy5fY3JlYXRpb25PcHRpb25zLmZvcmNlU1JHQkJ1ZmZlclN1cHBvcnRTdGF0ZSl9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPSEwLHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPXRoaXMuX2NhcHMubWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM7Zm9yKHZhciBoPTA7aDx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztoKyspdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHMucHVzaChoKX0saS5wcm90b3R5cGUuX2luaXRGZWF0dXJlcz1mdW5jdGlvbigpe3RoaXMuX2ZlYXR1cmVzPXtmb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50OiExLHN1cHBvcnRSZW5kZXJBbmRDb3B5VG9Mb2RGb3JGbG9hdFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U2hhZG93U2FtcGxlcnM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx1bmlmb3JtQnVmZmVySGFyZENoZWNrTWF0cml4OiExLGFsbG93VGV4dHVyZVByZWZpbHRlcmluZzp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHRyYWNrVWJvc0luRnJhbWU6ITEsY2hlY2tVYm9zQ29udGVudEJlZm9yZVVwbG9hZDohMSxzdXBwb3J0Q1NNOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsYmFzaXNOZWVkc1BPVDp0aGlzLl93ZWJHTFZlcnNpb249PT0xLHN1cHBvcnQzRFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsbmVlZFR5cGVTdWZmaXhJblNoYWRlckNvbnN0YW50czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRNU0FBOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNTQU8yOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydEV4dGVuZGVkVGV4dHVyZUZvcm1hdHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3dpdGNoQ2FzZUluU2hhZGVyOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN5bmNUZXh0dXJlUmVhZDohMCxuZWVkc0ludmVydGluZ0JpdG1hcDohMCx1c2VVQk9CaW5kaW5nQ2FjaGU6ITAsbmVlZFNoYWRlckNvZGVJbmxpbmluZzohMSxuZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnM6ITEsc3VwcG9ydFJlbmRlclBhc3NlczohMSxfY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZTohMX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2ViR0xWZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVGhpbkVuZ2luZSJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNTdGVuY2lsRW5hYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbEVuYWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fcHJlcGFyZVdvcmtpbmdDYW52YXM9ZnVuY3Rpb24oKXtpZighdGhpcy5fd29ya2luZ0NhbnZhcyl7dGhpcy5fd29ya2luZ0NhbnZhcz10aGlzLmNyZWF0ZUNhbnZhcygxLDEpO3ZhciBlPXRoaXMuX3dvcmtpbmdDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtlJiYodGhpcy5fd29ya2luZ0NvbnRleHQ9ZSl9fSxpLnByb3RvdHlwZS5yZXNldFRleHR1cmVDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUpIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUsZSl8fCh0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV09bnVsbCk7dGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xfSxpLnByb3RvdHlwZS5nZXRJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R2xJbmZvKCl9LGkucHJvdG90eXBlLmdldEdsSW5mbz1mdW5jdGlvbigpe3JldHVybnt2ZW5kb3I6dGhpcy5fZ2xWZW5kb3IscmVuZGVyZXI6dGhpcy5fZ2xSZW5kZXJlcix2ZXJzaW9uOnRoaXMuX2dsVmVyc2lvbn19LGkucHJvdG90eXBlLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsPWZ1bmN0aW9uKGUpe3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsPWUsdGhpcy5yZXNpemUoKX0saS5wcm90b3R5cGUuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWx9LGkucHJvdG90eXBlLmdldExvYWRlZFRleHR1cmVzQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlfSxpLnByb3RvdHlwZS5nZXRDYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhcHN9LGkucHJvdG90eXBlLnN0b3BSZW5kZXJMb29wPWZ1bmN0aW9uKGUpe2lmKCFlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcz1bXTtyZXR1cm59dmFyIHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKTt0Pj0wJiZ0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5zcGxpY2UodCwxKX0saS5wcm90b3R5cGUuX3JlbmRlckxvb3A9ZnVuY3Rpb24oKXtpZighdGhpcy5fY29udGV4dFdhc0xvc3Qpe3ZhciBlPSEwO2lmKCF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCYmKGU9ITEpLGUpe3RoaXMuYmVnaW5GcmFtZSgpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07cigpfXRoaXMuZW5kRnJhbWUoKX19dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX0saS5wcm90b3R5cGUuZ2V0UmVuZGVyaW5nQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc30saS5wcm90b3R5cGUuZ2V0QXVkaW9Db250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1ZGlvQ29udGV4dH0saS5wcm90b3R5cGUuZ2V0QXVkaW9EZXN0aW5hdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0Rlc3RpbmF0aW9ufSxpLnByb3RvdHlwZS5nZXRIb3N0V2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHllKCk/dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudCYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc6d2luZG93Om51bGx9LGkucHJvdG90eXBlLmdldFJlbmRlcldpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0hMSksIWUmJnRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy5fY3VycmVudFJlbmRlclRhcmdldC53aWR0aDp0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q/dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0LmZyYW1lYnVmZmVyV2lkdGg6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlcldpZHRofSxpLnByb3RvdHlwZS5nZXRSZW5kZXJIZWlnaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSwhZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LmhlaWdodDp0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q/dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0LmZyYW1lYnVmZmVySGVpZ2h0OnRoaXMuX2dsLmRyYXdpbmdCdWZmZXJIZWlnaHR9LGkucHJvdG90eXBlLl9xdWV1ZU5ld0ZyYW1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuUXVldWVOZXdGcmFtZShlLHQpfSxpLnByb3RvdHlwZS5ydW5SZW5kZXJMb29wPWZ1bmN0aW9uKGUpe3RoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmluZGV4T2YoZSk9PT0tMSYmKHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLnB1c2goZSksdGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZHx8KHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITAsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj10aGlzLl9yZW5kZXJMb29wLmJpbmQodGhpcyksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSkpKX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBhPXRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk7dGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seT0hMCx0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seT1hO3ZhciBzPTA7dCYmZSYmKHRoaXMuX2dsLmNsZWFyQ29sb3IoZS5yLGUuZyxlLmIsZS5hIT09dm9pZCAwP2UuYToxKSxzfD10aGlzLl9nbC5DT0xPUl9CVUZGRVJfQklUKSxyJiYodGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/KHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5HRVFVQUwsdGhpcy5fZ2wuY2xlYXJEZXB0aCgwKSk6dGhpcy5fZ2wuY2xlYXJEZXB0aCgxKSxzfD10aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKSxuJiYodGhpcy5fZ2wuY2xlYXJTdGVuY2lsKDApLHN8PXRoaXMuX2dsLlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fZ2wuY2xlYXIocyl9LGkucHJvdG90eXBlLl92aWV3cG9ydD1mdW5jdGlvbihlLHQscixuKXsoZSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnh8fHQhPT10aGlzLl92aWV3cG9ydENhY2hlZC55fHxyIT09dGhpcy5fdmlld3BvcnRDYWNoZWQuenx8biE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLncpJiYodGhpcy5fdmlld3BvcnRDYWNoZWQueD1lLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9dCx0aGlzLl92aWV3cG9ydENhY2hlZC56PXIsdGhpcy5fdmlld3BvcnRDYWNoZWQudz1uLHRoaXMuX2dsLnZpZXdwb3J0KGUsdCxyLG4pKX0saS5wcm90b3R5cGUuc2V0Vmlld3BvcnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXR8fHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSxhPXJ8fHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCkscz1lLnh8fDAsbz1lLnl8fDA7dGhpcy5fY2FjaGVkVmlld3BvcnQ9ZSx0aGlzLl92aWV3cG9ydChzKm4sbyphLG4qZS53aWR0aCxhKmUuaGVpZ2h0KX0saS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuZW5kRnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl9iYWRPUyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZnJhbWVJZCsrfSxpLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9ITEpO3ZhciB0LHI7aWYodGhpcy5fYWRhcHRUb0RldmljZVJhdGlvKXt2YXIgbj15ZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxhPXRoaXMuX2NyZWF0aW9uT3B0aW9ucy5saW1pdERldmljZVJhdGlvfHxuO3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsPXRoaXMuX2FkYXB0VG9EZXZpY2VSYXRpbz8xL01hdGgubWluKGEsbik6MX15ZSgpPyh0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuY2xpZW50V2lkdGh8fHRoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxyPXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuY2xpZW50SGVpZ2h0fHx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodCk6KHQ9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aDoxMDAscj10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDoxMDApLHRoaXMuc2V0U2l6ZSh0L3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLHIvdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwsZSl9LGkucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0hMSksIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8KGU9ZXwwLHQ9dHwwLCFyJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9PT1lJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PT09dCk/ITE6KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ9dCwhMCl9LGkucHJvdG90eXBlLmJpbmRGcmFtZWJ1ZmZlcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdSxmLGwsaCxjO3Q9PT12b2lkIDAmJih0PTApLHM9PT12b2lkIDAmJihzPTApLG89PT12b2lkIDAmJihvPTApO3ZhciBkPWU7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldCYmdGhpcy51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0KSx0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PWUsdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihkLl9NU0FBRnJhbWVidWZmZXI/ZC5fTVNBQUZyYW1lYnVmZmVyOmQuX2ZyYW1lYnVmZmVyKTt2YXIgcD10aGlzLl9nbDtlLmlzMkRBcnJheT9wLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKHAuRlJBTUVCVUZGRVIscC5DT0xPUl9BVFRBQ0hNRU5UMCwodT1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxzLG8pOmUuaXNDdWJlJiZwLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHAuRlJBTUVCVUZGRVIscC5DT0xPUl9BVFRBQ0hNRU5UMCxwLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LChmPWUudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGY9PT12b2lkIDA/dm9pZCAwOmYudW5kZXJseWluZ1Jlc291cmNlLHMpO3ZhciBnPWUuX2RlcHRoU3RlbmNpbFRleHR1cmU7aWYoZyl7dmFyIF89ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsP3AuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UOnAuREVQVEhfQVRUQUNITUVOVDtlLmlzMkRBcnJheT9wLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKHAuRlJBTUVCVUZGRVIsXywobD1nLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2UscyxvKTplLmlzQ3ViZT9wLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHAuRlJBTUVCVUZGRVIsXyxwLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LChoPWcuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLnVuZGVybHlpbmdSZXNvdXJjZSxzKTpwLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHAuRlJBTUVCVUZGRVIsXyxwLlRFWFRVUkVfMkQsKGM9Zy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOmMudW5kZXJseWluZ1Jlc291cmNlLHMpfXRoaXMuX2NhY2hlZFZpZXdwb3J0JiYhYT90aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0LHIsbik6KHJ8fChyPWUud2lkdGgscyYmKHI9ci9NYXRoLnBvdygyLHMpKSksbnx8KG49ZS5oZWlnaHQscyYmKG49bi9NYXRoLnBvdygyLHMpKSksdGhpcy5fdmlld3BvcnQoMCwwLHIsbikpLHRoaXMud2lwZUNhY2hlcygpfSxpLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdSxmO3Q9PT12b2lkIDAmJih0PTApLG49PT12b2lkIDAmJihuPSExKSxvPT09dm9pZCAwJiYobz0wKSwodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbCE9PWV8fHIpJiYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbD1lKTt2YXIgbD0hKChmPSh1PXRoaXMuY3VsbEJhY2tGYWNlcykhPT1udWxsJiZ1IT09dm9pZCAwP3U6YSkhPT1udWxsJiZmIT09dm9pZCAwKXx8Zj90aGlzLl9nbC5CQUNLOnRoaXMuX2dsLkZST05UOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsRmFjZSE9PWx8fHIpJiYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2U9bCksdGhpcy5zZXRaT2Zmc2V0KHQpLHRoaXMuc2V0Wk9mZnNldFVuaXRzKG8pO3ZhciBoPW4/dGhpcy5fZ2wuQ1c6dGhpcy5fZ2wuQ0NXOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2UhPT1ofHxyKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZT1oKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9c30saS5wcm90b3R5cGUuc2V0Wk9mZnNldD1mdW5jdGlvbihlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0PXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9LGkucHJvdG90eXBlLmdldFpPZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0O3JldHVybiB0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfSxpLnByb3RvdHlwZS5zZXRaT2Zmc2V0VW5pdHM9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzPXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9LGkucHJvdG90eXBlLmdldFpPZmZzZXRVbml0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cztyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX0saS5wcm90b3R5cGUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyIT09ZSYmKHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlKSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9ZSl9LGkucHJvdG90eXBlLl9jdXJyZW50RnJhbWVCdWZmZXJJc0RlZmF1bHRGcmFtZUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9PT1udWxsfSxpLnByb3RvdHlwZS5nZW5lcmF0ZU1pcG1hcHM9ZnVuY3Rpb24oZSl7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELGUsITApLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHRoaXMuX2dsLlRFWFRVUkVfMkQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKX0saS5wcm90b3R5cGUudW5CaW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3Q9PT12b2lkIDAmJih0PSExKTt2YXIgYT1lO3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9bnVsbDt2YXIgcz10aGlzLl9nbDtpZihhLl9NU0FBRnJhbWVidWZmZXIpe2lmKGUuaXNNdWx0aSl7dGhpcy51bkJpbmRNdWx0aUNvbG9yQXR0YWNobWVudEZyYW1lYnVmZmVyKGUsdCxyKTtyZXR1cm59cy5iaW5kRnJhbWVidWZmZXIocy5SRUFEX0ZSQU1FQlVGRkVSLGEuX01TQUFGcmFtZWJ1ZmZlcikscy5iaW5kRnJhbWVidWZmZXIocy5EUkFXX0ZSQU1FQlVGRkVSLGEuX2ZyYW1lYnVmZmVyKSxzLmJsaXRGcmFtZWJ1ZmZlcigwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsZS53aWR0aCxlLmhlaWdodCxzLkNPTE9SX0JVRkZFUl9CSVQscy5ORUFSRVNUKX0oKG49ZS50ZXh0dXJlKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZ2VuZXJhdGVNaXBNYXBzKSYmIXQmJiFlLmlzQ3ViZSYmdGhpcy5nZW5lcmF0ZU1pcG1hcHMoZS50ZXh0dXJlKSxyJiYoYS5fTVNBQUZyYW1lYnVmZmVyJiZ0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEuX2ZyYW1lYnVmZmVyKSxyKCkpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9LGkucHJvdG90eXBlLmZsdXNoRnJhbWVidWZmZXI9ZnVuY3Rpb24oKXt0aGlzLl9nbC5mbHVzaCgpfSxpLnByb3RvdHlwZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpOnRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmlld3BvcnQmJnRoaXMuc2V0Vmlld3BvcnQodGhpcy5fY2FjaGVkVmlld3BvcnQpLHRoaXMud2lwZUNhY2hlcygpfSxpLnByb3RvdHlwZS5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nPWZ1bmN0aW9uKCl7dGhpcy5iaW5kQXJyYXlCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsfSxpLnByb3RvdHlwZS5jcmVhdGVWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX0saS5wcm90b3R5cGUuX2NyZWF0ZVZlcnRleEJ1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJ0ZXggYnVmZmVyIik7dmFyIG49bmV3IFp0KHIpO3JldHVybiB0aGlzLmJpbmRBcnJheUJ1ZmZlcihuKSxlIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShlKSx0KTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHQpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLG4ucmVmZXJlbmNlcz0xLG59LGkucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyl9LGkucHJvdG90eXBlLl9yZXNldEluZGV4QnVmZmVyQmluZGluZz1mdW5jdGlvbigpe3RoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGx9LGkucHJvdG90eXBlLmNyZWF0ZUluZGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCksbj1uZXcgWnQocik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGluZGV4IGJ1ZmZlciIpO3RoaXMuYmluZEluZGV4QnVmZmVyKG4pO3ZhciBhPXRoaXMuX25vcm1hbGl6ZUluZGV4RGF0YShlKTtyZXR1cm4gdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixhLHQ/dGhpcy5fZ2wuRFlOQU1JQ19EUkFXOnRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpLG4ucmVmZXJlbmNlcz0xLG4uaXMzMkJpdHM9YS5CWVRFU19QRVJfRUxFTUVOVD09PTQsbn0saS5wcm90b3R5cGUuX25vcm1hbGl6ZUluZGV4RGF0YT1mdW5jdGlvbihlKXt2YXIgdD1lLkJZVEVTX1BFUl9FTEVNRU5UO2lmKHQ9PT0yKXJldHVybiBlO2lmKHRoaXMuX2NhcHMudWludEluZGljZXMpe2lmKGUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gZTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPj02NTUzNSlyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO3JldHVybiBuZXcgVWludDE2QXJyYXkoZSl9cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX0saS5wcm90b3R5cGUuYmluZEFycmF5QnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkFSUkFZX0JVRkZFUil9LGkucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUucHJvZ3JhbSxhPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KG4sdCk7dGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhuLGEscil9LGkucHJvdG90eXBlLmJpbmRJbmRleEJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX2JpbmRCdWZmZXIoZSx0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUil9LGkucHJvdG90eXBlLl9iaW5kQnVmZmVyPWZ1bmN0aW9uKGUsdCl7KHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XSE9PWUpJiYodGhpcy5fZ2wuYmluZEJ1ZmZlcih0LGU/ZS51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCksdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdPWUpfSxpLnByb3RvdHlwZS51cGRhdGVBcnJheUJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpfSxpLnByb3RvdHlwZS5fdmVydGV4QXR0cmliUG9pbnRlcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT10aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbdF07aWYoISF1KXt2YXIgZj0hMTt1LmFjdGl2ZT8odS5idWZmZXIhPT1lJiYodS5idWZmZXI9ZSxmPSEwKSx1LnNpemUhPT1yJiYodS5zaXplPXIsZj0hMCksdS50eXBlIT09biYmKHUudHlwZT1uLGY9ITApLHUubm9ybWFsaXplZCE9PWEmJih1Lm5vcm1hbGl6ZWQ9YSxmPSEwKSx1LnN0cmlkZSE9PXMmJih1LnN0cmlkZT1zLGY9ITApLHUub2Zmc2V0IT09byYmKHUub2Zmc2V0PW8sZj0hMCkpOihmPSEwLHUuYWN0aXZlPSEwLHUuaW5kZXg9dCx1LnNpemU9cix1LnR5cGU9bix1Lm5vcm1hbGl6ZWQ9YSx1LnN0cmlkZT1zLHUub2Zmc2V0PW8sdS5idWZmZXI9ZSksKGZ8fHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3MpJiYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcih0LHIsbixhLHMsbykpfX0saS5wcm90b3R5cGUuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZT1mdW5jdGlvbihlKXtlIT1udWxsJiZ0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlciE9PWUmJih0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1lLHRoaXMuYmluZEluZGV4QnVmZmVyKGUpLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PWUuaXMzMkJpdHMpfSxpLnByb3RvdHlwZS5fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmdldEF0dHJpYnV0ZXNOYW1lcygpO3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPXQuZ2V0QXR0cmlidXRlTG9jYXRpb24oYSk7aWYocz49MCl7dmFyIG89blthXSx1PW51bGw7aWYociYmKHU9cltvXSksdXx8KHU9ZVtvXSksIXUpY29udGludWU7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocyksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbc109ITApO3ZhciBmPXUuZ2V0QnVmZmVyKCk7ZiYmKHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZixzLHUuZ2V0U2l6ZSgpLHUudHlwZSx1Lm5vcm1hbGl6ZWQsdS5ieXRlU3RyaWRlLHUuYnl0ZU9mZnNldCksdS5nZXRJc0luc3RhbmNlZCgpJiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihzLHUuZ2V0SW5zdGFuY2VEaXZpc29yKCkpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fCh0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChzKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZikpKSl9fX0saS5wcm90b3R5cGUucmVjb3JkVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtyZXR1cm4gdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoYSksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHIsbiksdGhpcy5iaW5kSW5kZXhCdWZmZXIodCksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCksYX0saS5wcm90b3R5cGUuYmluZFZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QhPT1lJiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9ZSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9dCE9bnVsbCYmdC5pczMyQml0cyx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITApfSxpLnByb3RvdHlwZS5iaW5kQnVmZmVyc0RpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycyE9PWV8fHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnMhPT1hKXt0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1hO3ZhciBzPWEuZ2V0QXR0cmlidXRlc0NvdW50KCk7dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtmb3IodmFyIG89MCx1PTA7dTxzO3UrKylpZih1PHIubGVuZ3RoKXt2YXIgZj1hLmdldEF0dHJpYnV0ZUxvY2F0aW9uKHUpO2Y+PTAmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2ZdPSEwLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxmLHJbdV0sdGhpcy5fZ2wuRkxPQVQsITEsbixvKSksbys9clt1XSo0fX10aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9LGkucHJvdG90eXBlLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpeyF0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdHx8KHRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0PW51bGwsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpKX0saS5wcm90b3R5cGUuYmluZEJ1ZmZlcnM9ZnVuY3Rpb24oZSx0LHIsbil7KHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09cikmJih0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1yLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHIsbikpLHRoaXMuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZSh0KX0saS5wcm90b3R5cGUudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MCxyPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg7dDxyO3QrKyl7dmFyIG49dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1uJiZuLnJlZmVyZW5jZXMmJihlPW4sdGhpcy5iaW5kQXJyYXlCdWZmZXIobikpO3ZhciBhPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9uc1t0XTt0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGEsMCl9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5sZW5ndGg9MCx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoPTB9LGkucHJvdG90eXBlLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbihlKXt0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheShlKX0saS5wcm90b3R5cGUuX3JlbGVhc2VCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9LGkucHJvdG90eXBlLl9kZWxldGVCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKGUudW5kZXJseWluZ1Jlc291cmNlKX0saS5wcm90b3R5cGUudXBkYXRlQW5kQmluZEluc3RhbmNlc0J1ZmZlcj1mdW5jdGlvbihlLHQscil7aWYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSksdCYmdGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCx0KSxyWzBdLmluZGV4IT09dm9pZCAwKXRoaXMuYmluZEluc3RhbmNlc0J1ZmZlcihlLHIsITApO2Vsc2UgZm9yKHZhciBuPTA7bjw0O24rKyl7dmFyIGE9cltuXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2FdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYSksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFthXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLGEsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxuKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGEsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2goYSksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX0saS5wcm90b3R5cGUuYmluZEluc3RhbmNlc0J1ZmZlcj1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9ITApLHRoaXMuYmluZEFycmF5QnVmZmVyKGUpO3ZhciBuPTA7aWYocilmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtuKz1zLmF0dHJpYnV0ZVNpemUqNH1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtzLmluZGV4PT09dm9pZCAwJiYocy5pbmRleD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKHMuYXR0cmlidXRlTmFtZSkpLCEocy5pbmRleDwwKSYmKHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbcy5pbmRleF18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzLmluZGV4KSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3MuaW5kZXhdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUscy5pbmRleCxzLmF0dHJpYnV0ZVNpemUscy5hdHRyaWJ1dGVUeXBlfHx0aGlzLl9nbC5GTE9BVCxzLm5vcm1hbGl6ZWR8fCExLG4scy5vZmZzZXQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3Iocy5pbmRleCxzLmRpdmlzb3I9PT12b2lkIDA/MTpzLmRpdmlzb3IpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKHMuaW5kZXgpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKSl9fSxpLnByb3RvdHlwZS5kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGVCeU5hbWU9ZnVuY3Rpb24oZSl7aWYoISF0aGlzLl9jdXJyZW50RWZmZWN0KXt2YXIgdD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpO3RoaXMuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKHQpfX0saS5wcm90b3R5cGUuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0hMSxyOyhyPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpKSE9PS0xOyl0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuc3BsaWNlKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5zcGxpY2UociwxKSx0PSEwLHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSk7dCYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IoZSwwKSx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpKX0saS5wcm90b3R5cGUuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV09ITEsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW2VdLmFjdGl2ZT0hMX0saS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLHQscixuKXt0aGlzLmRyYXdFbGVtZW50c1R5cGUoZT8wOjEsdCxyLG4pfSxpLnByb3RvdHlwZS5kcmF3UG9pbnRDbG91ZHM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZHJhd0FycmF5c1R5cGUoMixlLHQscil9LGkucHJvdG90eXBlLmRyYXdVbkluZGV4ZWQ9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5kcmF3QXJyYXlzVHlwZShlPzA6MSx0LHIsbil9LGkucHJvdG90eXBlLmRyYXdFbGVtZW50c1R5cGU9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7dmFyIGE9dGhpcy5fZHJhd01vZGUoZSkscz10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD90aGlzLl9nbC5VTlNJR05FRF9JTlQ6dGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsbz10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD80OjI7bj90aGlzLl9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQoYSxyLHMsdCpvLG4pOnRoaXMuX2dsLmRyYXdFbGVtZW50cyhhLHIscyx0Km8pfSxpLnByb3RvdHlwZS5kcmF3QXJyYXlzVHlwZT1mdW5jdGlvbihlLHQscixuKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTt2YXIgYT10aGlzLl9kcmF3TW9kZShlKTtuP3RoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQoYSx0LHIsbik6dGhpcy5fZ2wuZHJhd0FycmF5cyhhLHQscil9LGkucHJvdG90eXBlLl9kcmF3TW9kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDM6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuTElORV9MT09QO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuTElORV9TVFJJUDtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX1NUUklQO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfRkFOO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFU319LGkucHJvdG90eXBlLl9yZXBvcnREcmF3Q2FsbD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuX3JlbGVhc2VFZmZlY3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV0pe2RlbGV0ZSB0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XTt2YXIgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3QmJnRoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX19LGkucHJvdG90eXBlLl9kZWxldGVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0JiZ0LnByb2dyYW0mJih0LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPW51bGwsdGhpcy5fZ2wuZGVsZXRlUHJvZ3JhbSh0LnByb2dyYW0pKX0saS5wcm90b3R5cGUuX2dldEdsb2JhbERlZmluZXM9ZnVuY3Rpb24oZSl7aWYoZSl7dGhpcy5pc05EQ0hhbGZaUmFuZ2U/ZS5JU19ORENfSEFMRl9aUkFOR0U9IiI6ZGVsZXRlIGUuSVNfTkRDX0hBTEZfWlJBTkdFLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyP2UuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI9IiI6ZGVsZXRlIGUuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI7cmV0dXJufWVsc2V7dmFyIHQ9IiI7cmV0dXJuIHRoaXMuaXNORENIYWxmWlJhbmdlJiYodCs9IiNkZWZpbmUgSVNfTkRDX0hBTEZfWlJBTkdFIiksdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUiIpLHR9fSxpLnByb3RvdHlwZS5jcmVhdGVFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7dmFyIGg7bD09PXZvaWQgMCYmKGw9Q2UuR0xTTCk7dmFyIGM9ZS52ZXJ0ZXhFbGVtZW50fHxlLnZlcnRleHx8ZS52ZXJ0ZXhUb2tlbnx8ZS52ZXJ0ZXhTb3VyY2V8fGUsZD1lLmZyYWdtZW50RWxlbWVudHx8ZS5mcmFnbWVudHx8ZS5mcmFnbWVudFRva2VufHxlLmZyYWdtZW50U291cmNlfHxlLHA9dGhpcy5fZ2V0R2xvYmFsRGVmaW5lcygpLGc9KGg9YSE9bnVsbD9hOnQuZGVmaW5lcykhPT1udWxsJiZoIT09dm9pZCAwP2g6IiI7cCYmKGcrPXApO3ZhciBfPWMrIisiK2QrIkAiK2c7aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW19dKXt2YXIgdj10aGlzLl9jb21waWxlZEVmZmVjdHNbX107cmV0dXJuIG8mJnYuaXNSZWFkeSgpJiZvKHYpLHZ9dmFyIHk9bmV3IEdlKGUsdCxyLG4sdGhpcyxhLHMsbyx1LGYsXyxsKTtyZXR1cm4gdGhpcy5fY29tcGlsZWRFZmZlY3RzW19dPXkseX0saS5fQ29uY2F0ZW5hdGVTaGFkZXI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0iIikscisodD90K2AKYDoiIikrZX0saS5wcm90b3R5cGUuX2NvbXBpbGVTaGFkZXI9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuX2NvbXBpbGVSYXdTaGFkZXIoaS5fQ29uY2F0ZW5hdGVTaGFkZXIoZSxyLG4pLHQpfSxpLnByb3RvdHlwZS5fY29tcGlsZVJhd1NoYWRlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2dsLG49ci5jcmVhdGVTaGFkZXIodD09PSJ2ZXJ0ZXgiP3IuVkVSVEVYX1NIQURFUjpyLkZSQUdNRU5UX1NIQURFUik7aWYoIW4pe2Zvcih2YXIgYT1yLk5PX0VSUk9SLHM9ci5OT19FUlJPUjsocz1yLmdldEVycm9yKCkpIT09ci5OT19FUlJPUjspYT1zO3Rocm93IG5ldyBFcnJvcigiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgY3JlYXRpbmcgYSBnbCAiLmNvbmNhdCh0LCIgc2hhZGVyIG9iamVjdC4gZ2wgZXJyb3I9IikuY29uY2F0KGEsIiwgZ2wgaXNDb250ZXh0TG9zdD0iKS5jb25jYXQoci5pc0NvbnRleHRMb3N0KCksIiwgX2NvbnRleHRXYXNMb3N0PSIpLmNvbmNhdCh0aGlzLl9jb250ZXh0V2FzTG9zdCkpfXJldHVybiByLnNoYWRlclNvdXJjZShuLGUpLHIuY29tcGlsZVNoYWRlcihuKSxufSxpLnByb3RvdHlwZS5fZ2V0U2hhZGVyU291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UoZSl9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1NoYWRlclByb2dyYW09ZnVuY3Rpb24oZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT1udWxsKSxuPW58fHRoaXMuX2dsO3ZhciBzPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIodCwidmVydGV4Iiksbz10aGlzLl9jb21waWxlUmF3U2hhZGVyKHIsImZyYWdtZW50Iik7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSxzLG8sbixhKX0saS5wcm90b3R5cGUuY3JlYXRlU2hhZGVyUHJvZ3JhbT1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9bnVsbCksYT1hfHx0aGlzLl9nbDt2YXIgbz10aGlzLl93ZWJHTFZlcnNpb24+MT9gI3ZlcnNpb24gMzAwIGVzCiNkZWZpbmUgV0VCR0wyIApgOiIiLHU9dGhpcy5fY29tcGlsZVNoYWRlcih0LCJ2ZXJ0ZXgiLG4sbyksZj10aGlzLl9jb21waWxlU2hhZGVyKHIsImZyYWdtZW50IixuLG8pO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdSxmLGEscyl9LGkucHJvdG90eXBlLmlubGluZVNoYWRlckNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGkucHJvdG90eXBlLmNyZWF0ZVBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTm47cmV0dXJuIHQuZW5naW5lPXRoaXMsdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJih0LmlzUGFyYWxsZWxDb21waWxlZD0hMCksdH0saS5wcm90b3R5cGUuY3JlYXRlTWF0ZXJpYWxDb250ZXh0PWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5jcmVhdGVEcmF3Q29udGV4dD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuX2NyZWF0ZVNoYWRlclByb2dyYW09ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09cywhcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO3JldHVybiBuLmF0dGFjaFNoYWRlcihzLHQpLG4uYXR0YWNoU2hhZGVyKHMsciksbi5saW5rUHJvZ3JhbShzKSxlLmNvbnRleHQ9bixlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9cixlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksc30saS5wcm90b3R5cGUuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGV4dCxyPWUudmVydGV4U2hhZGVyLG49ZS5mcmFnbWVudFNoYWRlcixhPWUucHJvZ3JhbSxzPXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihhLHQuTElOS19TVEFUVVMpO2lmKCFzKXtpZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHIsdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXt2YXIgbz10aGlzLl9nbC5nZXRTaGFkZXJJbmZvTG9nKHIpO2lmKG8pdGhyb3cgZS52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJWRVJURVggU0hBREVSICIrbyl9aWYoIXRoaXMuX2dsLmdldFNoYWRlclBhcmFtZXRlcihuLHRoaXMuX2dsLkNPTVBJTEVfU1RBVFVTKSl7dmFyIG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhuKTtpZihvKXRocm93IGUuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJGUkFHTUVOVCBTSEFERVIgIitvKX12YXIgdT10LmdldFByb2dyYW1JbmZvTG9nKGEpO2lmKHUpdGhyb3cgZS5wcm9ncmFtTGlua0Vycm9yPXUsbmV3IEVycm9yKHUpfWlmKHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcyl7dC52YWxpZGF0ZVByb2dyYW0oYSk7dmFyIGY9dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsdC5WQUxJREFURV9TVEFUVVMpO2lmKCFmKXt2YXIgdT10LmdldFByb2dyYW1JbmZvTG9nKGEpO2lmKHUpdGhyb3cgZS5wcm9ncmFtVmFsaWRhdGlvbkVycm9yPXUsbmV3IEVycm9yKHUpfX10LmRlbGV0ZVNoYWRlcihyKSx0LmRlbGV0ZVNoYWRlcihuKSxlLnZlcnRleFNoYWRlcj12b2lkIDAsZS5mcmFnbWVudFNoYWRlcj12b2lkIDAsZS5vbkNvbXBpbGVkJiYoZS5vbkNvbXBpbGVkKCksZS5vbkNvbXBpbGVkPXZvaWQgMCl9LGkucHJvdG90eXBlLl9wcmVwYXJlUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3ZhciBoPWU7bj9oLnByb2dyYW09dGhpcy5jcmVhdGVSYXdTaGFkZXJQcm9ncmFtKGgsdCxyLHZvaWQgMCxmKTpoLnByb2dyYW09dGhpcy5jcmVhdGVTaGFkZXJQcm9ncmFtKGgsdCxyLHUsdm9pZCAwLGYpLGgucHJvZ3JhbS5fX1NQRUNUT1JfcmVidWlsZFByb2dyYW09b30saS5wcm90b3R5cGUuX2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZD1mdW5jdGlvbihlKXt2YXIgdD1lO3JldHVybiB0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHQucHJvZ3JhbSx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZS5DT01QTEVUSU9OX1NUQVRVU19LSFIpPyh0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSwhMCk6ITF9LGkucHJvdG90eXBlLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZD1mdW5jdGlvbihlLHQpe3ZhciByPWU7aWYoIXIuaXNQYXJhbGxlbENvbXBpbGVkKXt0KCk7cmV0dXJufXZhciBuPXIub25Db21waWxlZDtuP3Iub25Db21waWxlZD1mdW5jdGlvbigpe24oKSx0KCl9OnIub25Db21waWxlZD10fSxpLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1uZXcgQXJyYXksbj1lLGE9MDthPHQubGVuZ3RoO2ErKylyLnB1c2godGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG4ucHJvZ3JhbSx0W2FdKSk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj1lLGE9MDthPHQubGVuZ3RoO2ErKyl0cnl7ci5wdXNoKHRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKG4ucHJvZ3JhbSx0W2FdKSl9Y2F0Y2h7ci5wdXNoKC0xKX1yZXR1cm4gcn0saS5wcm90b3R5cGUuZW5hYmxlRWZmZWN0PWZ1bmN0aW9uKGUpe2U9ZSE9PW51bGwmJnF0LklzV3JhcHBlcihlKT9lLmVmZmVjdDplLCEoIWV8fGU9PT10aGlzLl9jdXJyZW50RWZmZWN0KSYmKHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsZT1lLHRoaXMuYmluZFNhbXBsZXJzKGUpLHRoaXMuX2N1cnJlbnRFZmZlY3Q9ZSxlLm9uQmluZCYmZS5vbkJpbmQoZSksZS5fb25CaW5kT2JzZXJ2YWJsZSYmZS5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfSxpLnByb3RvdHlwZS5zZXRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpKGUsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJpKGUsdCxyKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludDM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zaShlLHQscixuKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTRpKGUsdCxyLG4sYSksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWl2KGUsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yaXYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEludEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNpdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGl2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aDwxPyExOih0aGlzLl9nbC51bmlmb3JtMWZ2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yZnYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNmdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGZ2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRNYXRyaWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KGUsITEsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgzeDM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0TWF0cml4MngyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXgyZnYoZSwhMSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEZsb2F0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xZihlLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0RmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJmKGUsdCxyKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNmKGUsdCxyLG4pLCEwKTohMX0saS5wcm90b3R5cGUuc2V0RmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00ZihlLHQscixuLGEpLCEwKTohMX0saS5wcm90b3R5cGUuYXBwbHlTdGF0ZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2FscGhhU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkKXt0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMTt2YXIgZT10aGlzLl9jb2xvcldyaXRlO3RoaXMuX2dsLmNvbG9yTWFzayhlLGUsZSxlKX19LGkucHJvdG90eXBlLnNldENvbG9yV3JpdGU9ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX2NvbG9yV3JpdGUmJih0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9jb2xvcldyaXRlPWUpfSxpLnByb3RvdHlwZS5nZXRDb2xvcldyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yV3JpdGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhDdWxsaW5nU3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYVN0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhU3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsU3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbFN0YXRlQ29tcG9zZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuY2xlYXJJbnRlcm5hbFRleHR1cmVzQ2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9W119LGkucHJvdG90eXBlLndpcGVDYWNoZXM9ZnVuY3Rpb24oZSl7dGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcyYmIWV8fCh0aGlzLl9jdXJyZW50RWZmZWN0PW51bGwsdGhpcy5fdmlld3BvcnRDYWNoZWQueD0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9MCx0aGlzLl92aWV3cG9ydENhY2hlZC56PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQudz0wLHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksZSYmKHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5yZXNldFRleHR1cmVDYWNoZSgpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2FscGhhU3RhdGUucmVzZXQoKSx0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLDApLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCkpfSxpLnByb3RvdHlwZS5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2wsbj1yLk5FQVJFU1QsYT1yLk5FQVJFU1Q7c3dpdGNoKGUpe2Nhc2UgMTE6bj1yLkxJTkVBUix0P2E9ci5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6YT1yLkxJTkVBUjticmVhaztjYXNlIDM6bj1yLkxJTkVBUix0P2E9ci5MSU5FQVJfTUlQTUFQX0xJTkVBUjphPXIuTElORUFSO2JyZWFrO2Nhc2UgODpuPXIuTkVBUkVTVCx0P2E9ci5ORUFSRVNUX01JUE1BUF9MSU5FQVI6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSA0Om49ci5ORUFSRVNULHQ/YT1yLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSA1Om49ci5ORUFSRVNULHQ/YT1yLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDphPXIuTElORUFSO2JyZWFrO2Nhc2UgNjpuPXIuTkVBUkVTVCx0P2E9ci5MSU5FQVJfTUlQTUFQX0xJTkVBUjphPXIuTElORUFSO2JyZWFrO2Nhc2UgNzpuPXIuTkVBUkVTVCxhPXIuTElORUFSO2JyZWFrO2Nhc2UgMTpuPXIuTkVBUkVTVCxhPXIuTkVBUkVTVDticmVhaztjYXNlIDk6bj1yLkxJTkVBUix0P2E9ci5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOmE9ci5ORUFSRVNUO2JyZWFrO2Nhc2UgMTA6bj1yLkxJTkVBUix0P2E9ci5ORUFSRVNUX01JUE1BUF9MSU5FQVI6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSAyOm49ci5MSU5FQVIsYT1yLkxJTkVBUjticmVhaztjYXNlIDEyOm49ci5MSU5FQVIsYT1yLk5FQVJFU1Q7YnJlYWt9cmV0dXJue21pbjphLG1hZzpufX0saS5wcm90b3R5cGUuX2NyZWF0ZVRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRleHR1cmUiKTtyZXR1cm4gZX0saS5wcm90b3R5cGUuX2NyZWF0ZUhhcmR3YXJlVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQWkodGhpcy5fY3JlYXRlVGV4dHVyZSgpLHRoaXMuX2dsKX0saS5wcm90b3R5cGUuX2NyZWF0ZUludGVybmFsVGV4dHVyZT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj1tZS5Vbmtub3duKTt2YXIgYT17fTt0IT09dm9pZCAwJiZ0eXBlb2YgdD09Im9iamVjdCI/KGEuZ2VuZXJhdGVNaXBNYXBzPXQuZ2VuZXJhdGVNaXBNYXBzLGEudHlwZT10LnR5cGU9PT12b2lkIDA/MDp0LnR5cGUsYS5zYW1wbGluZ01vZGU9dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxhLmZvcm1hdD10LmZvcm1hdD09PXZvaWQgMD81OnQuZm9ybWF0LGEudXNlU1JHQkJ1ZmZlcj10LnVzZVNSR0JCdWZmZXI9PT12b2lkIDA/ITE6dC51c2VTUkdCQnVmZmVyKTooYS5nZW5lcmF0ZU1pcE1hcHM9dCxhLnR5cGU9MCxhLnNhbXBsaW5nTW9kZT0zLGEuZm9ybWF0PTUsYS51c2VTUkdCQnVmZmVyPSExKSxhLnVzZVNSR0JCdWZmZXI9YS51c2VTUkdCQnVmZmVyJiZ0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmKHRoaXMud2ViR0xWZXJzaW9uPjF8fHRoaXMuaXNXZWJHUFUpLChhLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGEudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoYS5zYW1wbGluZ01vZGU9MSksYS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoYS50eXBlPTAsay5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gVHlwZSBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5TSUdORURfQllURSIpKTt2YXIgcz10aGlzLl9nbCxvPW5ldyB3dCh0aGlzLG4pO28uX3VzZVNSR0JCdWZmZXI9ISFhLnVzZVNSR0JCdWZmZXI7dmFyIHU9ZS53aWR0aHx8ZSxmPWUuaGVpZ2h0fHxlLGw9ZS5sYXllcnN8fDAsaD10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoYS5zYW1wbGluZ01vZGUsISFhLmdlbmVyYXRlTWlwTWFwcyksYz1sIT09MD9zLlRFWFRVUkVfMkRfQVJSQVk6cy5URVhUVVJFXzJELGQ9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoYS50eXBlLGEuZm9ybWF0LGEudXNlU1JHQkJ1ZmZlcikscD10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChhLmZvcm1hdCksZz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGEudHlwZSk7cmV0dXJuIHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYyxvKSxsIT09MD8oby5pczJEQXJyYXk9ITAscy50ZXhJbWFnZTNEKGMsMCxkLHUsZixsLDAscCxnLG51bGwpKTpzLnRleEltYWdlMkQoYywwLGQsdSxmLDAscCxnLG51bGwpLHMudGV4UGFyYW1ldGVyaShjLHMuVEVYVFVSRV9NQUdfRklMVEVSLGgubWFnKSxzLnRleFBhcmFtZXRlcmkoYyxzLlRFWFRVUkVfTUlOX0ZJTFRFUixoLm1pbikscy50ZXhQYXJhbWV0ZXJpKGMscy5URVhUVVJFX1dSQVBfUyxzLkNMQU1QX1RPX0VER0UpLHMudGV4UGFyYW1ldGVyaShjLHMuVEVYVFVSRV9XUkFQX1Qscy5DTEFNUF9UT19FREdFKSxhLmdlbmVyYXRlTWlwTWFwcyYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoYyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShjLG51bGwpLG8uYmFzZVdpZHRoPXUsby5iYXNlSGVpZ2h0PWYsby53aWR0aD11LG8uaGVpZ2h0PWYsby5kZXB0aD1sLG8uaXNSZWFkeT0hMCxvLnNhbXBsZXM9MSxvLmdlbmVyYXRlTWlwTWFwcz0hIWEuZ2VuZXJhdGVNaXBNYXBzLG8uc2FtcGxpbmdNb2RlPWEuc2FtcGxpbmdNb2RlLG8udHlwZT1hLnR5cGUsby5mb3JtYXQ9YS5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gobyksb30saS5wcm90b3R5cGUuX2dldFVzZVNSR0JCdWZmZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVfHx0KX0saS5wcm90b3R5cGUuX2NyZWF0ZVRleHR1cmVCYXNlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8pe3ZhciB2PXRoaXM7YT09PXZvaWQgMCYmKGE9Mykscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9bnVsbCksYz09PXZvaWQgMCYmKGM9bnVsbCksZD09PXZvaWQgMCYmKGQ9bnVsbCksZT1lfHwiIjt2YXIgeT1lLnN1YnN0cigwLDUpPT09ImRhdGE6IixFPWUuc3Vic3RyKDAsNSk9PT0iYmxvYjoiLFI9eSYmZS5pbmRleE9mKCI7YmFzZTY0LCIpIT09LTEsTT1ofHxuZXcgd3QodGhpcyxtZS5VcmwpLEM9ZTt0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsJiYhUiYmIWgmJiFsJiYoZT10aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsKGUpKSxDIT09ZSYmKE0uX29yaWdpbmFsVXJsPUMpO3ZhciBBPWUubGFzdEluZGV4T2YoIi4iKSxTPWR8fChBPi0xP2Uuc3Vic3RyaW5nKEEpLnRvTG93ZXJDYXNlKCk6IiIpLHc9bnVsbCxGPVMuaW5kZXhPZigiPyIpO0Y+LTEmJihTPVMuc3BsaXQoIj8iKVswXSk7Zm9yKHZhciB4PTAsRz1pLl9UZXh0dXJlTG9hZGVyczt4PEcubGVuZ3RoO3grKyl7dmFyIFc9R1t4XTtpZihXLmNhbkxvYWQoUyxwKSl7dz1XO2JyZWFrfX1uJiZuLl9hZGRQZW5kaW5nRGF0YShNKSxNLnVybD1lLE0uZ2VuZXJhdGVNaXBNYXBzPSF0LE0uc2FtcGxpbmdNb2RlPWEsTS5pbnZlcnRZPXIsTS5fdXNlU1JHQkJ1ZmZlcj10aGlzLl9nZXRVc2VTUkdCQnVmZmVyKCEhXyx0KSx0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwoTS5fYnVmZmVyPWwpO3ZhciBOPW51bGw7cyYmIWgmJihOPU0ub25Mb2FkZWRPYnNlcnZhYmxlLmFkZChzKSksaHx8dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2goTSk7dmFyIHE9ZnVuY3Rpb24oWixqKXtuJiZuLl9yZW1vdmVQZW5kaW5nRGF0YShNKSxlPT09Qz8oTiYmTS5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKE4pLHJlLlVzZUZhbGxiYWNrVGV4dHVyZSYmdi5fY3JlYXRlVGV4dHVyZUJhc2UocmUuRmFsbGJhY2tUZXh0dXJlLHQsTS5pbnZlcnRZLG4sYSxudWxsLG8sdSxmLGwsTSksWj0oWnx8IlVua25vd24gZXJyb3IiKSsocmUuVXNlRmFsbGJhY2tUZXh0dXJlPyIgLSBGYWxsYmFjayB0ZXh0dXJlIHdhcyB1c2VkIjoiIiksTS5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe21lc3NhZ2U6WixleGNlcHRpb246an0pLG8mJm8oWixqKSk6KGsuV2FybigiRmFpbGVkIHRvIGxvYWQgIi5jb25jYXQoZSwiLCBmYWxsaW5nIGJhY2sgdG8gIikuY29uY2F0KEMpKSx2Ll9jcmVhdGVUZXh0dXJlQmFzZShDLHQsTS5pbnZlcnRZLG4sYSxzLG8sdSxmLGwsTSxjLGQscCxnLF8pKX07aWYodyl7dmFyICQ9ZnVuY3Rpb24oWil7dy5sb2FkRGF0YShaLE0sZnVuY3Rpb24oaix1ZSxQZSxXZSxaZSxYdCl7WHQ/cSgiVGV4dHVyZUxvYWRlciBmYWlsZWQgdG8gbG9hZCBkYXRhIik6dShNLFMsbix7d2lkdGg6aixoZWlnaHQ6dWV9LE0uaW52ZXJ0WSwhUGUsV2UsZnVuY3Rpb24oKXtyZXR1cm4gWmUoKSwhMX0sYSl9LGcpfTtsP2wgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj8kKG5ldyBVaW50OEFycmF5KGwpKTpBcnJheUJ1ZmZlci5pc1ZpZXcobCk/JChsKTpvJiZvKCJVbmFibGUgdG8gbG9hZDogb25seSBBcnJheUJ1ZmZlciBvciBBcnJheUJ1ZmZlclZpZXcgaXMgc3VwcG9ydGVkIixudWxsKTp0aGlzLl9sb2FkRmlsZShlLGZ1bmN0aW9uKFope3JldHVybiAkKG5ldyBVaW50OEFycmF5KFopKX0sdm9pZCAwLG4/bi5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLCEwLGZ1bmN0aW9uKFosail7cSgiVW5hYmxlIHRvIGxvYWQgIisoWiYmWi5yZXNwb25zZVVSTCxqKSl9KX1lbHNle3ZhciBvZT1mdW5jdGlvbihaKXtFJiYhdi5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCYmKE0uX2J1ZmZlcj1aKSx1KE0sUyxuLFosTS5pbnZlcnRZLHQsITEsZixhKX07IXl8fFI/bCYmKHR5cGVvZiBsLmRlY29kaW5nPT0ic3RyaW5nInx8bC5jbG9zZSk/b2UobCk6aS5fRmlsZVRvb2xzTG9hZEltYWdlKGUsb2UscSxuP24ub2ZmbGluZVByb3ZpZGVyOm51bGwscCxNLmludmVydFkmJnRoaXMuX2ZlYXR1cmVzLm5lZWRzSW52ZXJ0aW5nQml0bWFwP3tpbWFnZU9yaWVudGF0aW9uOiJmbGlwWSJ9OnZvaWQgMCk6dHlwZW9mIGw9PSJzdHJpbmcifHxsIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhsKXx8bCBpbnN0YW5jZW9mIEJsb2I/aS5fRmlsZVRvb2xzTG9hZEltYWdlKGwsb2UscSxuP24ub2ZmbGluZVByb3ZpZGVyOm51bGwscCxNLmludmVydFkmJnRoaXMuX2ZlYXR1cmVzLm5lZWRzSW52ZXJ0aW5nQml0bWFwP3tpbWFnZU9yaWVudGF0aW9uOiJmbGlwWSJ9OnZvaWQgMCk6bCYmb2UobCl9cmV0dXJuIE19LGkucHJvdG90eXBlLmNyZWF0ZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcpe3ZhciBfPXRoaXM7cmV0dXJuIGE9PT12b2lkIDAmJihhPTMpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLGg9PT12b2lkIDAmJihoPW51bGwpLHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxyLG4sYSxzLG8sdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZS5iaW5kKHRoaXMpLGZ1bmN0aW9uKHYseSxFLFIsTSxDKXt2YXIgQT1fLl9nbCxTPUUud2lkdGg9PT12JiZFLmhlaWdodD09PXksdz1sP18uX2dldEludGVybmFsRm9ybWF0KGwsTS5fdXNlU1JHQkJ1ZmZlcik6Uj09PSIuanBnIiYmIU0uX3VzZVNSR0JCdWZmZXI/QS5SR0I6TS5fdXNlU1JHQkJ1ZmZlcj9BLlNSR0I4X0FMUEhBODpBLlJHQkEsRj1sP18uX2dldEludGVybmFsRm9ybWF0KGwpOlI9PT0iLmpwZyImJiFNLl91c2VTUkdCQnVmZmVyP0EuUkdCOkEuUkdCQTtpZihNLl91c2VTUkdCQnVmZmVyJiZfLndlYkdMVmVyc2lvbj09PTEmJihGPXcpLFMpcmV0dXJuIEEudGV4SW1hZ2UyRChBLlRFWFRVUkVfMkQsMCx3LEYsQS5VTlNJR05FRF9CWVRFLEUpLCExO3ZhciB4PV8uX2NhcHMubWF4VGV4dHVyZVNpemU7aWYoRS53aWR0aD54fHxFLmhlaWdodD54fHwhXy5fc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcpcmV0dXJuIF8uX3ByZXBhcmVXb3JraW5nQ2FudmFzKCksIV8uX3dvcmtpbmdDYW52YXN8fCFfLl93b3JraW5nQ29udGV4dHx8KF8uX3dvcmtpbmdDYW52YXMud2lkdGg9dixfLl93b3JraW5nQ2FudmFzLmhlaWdodD15LF8uX3dvcmtpbmdDb250ZXh0LmRyYXdJbWFnZShFLDAsMCxFLndpZHRoLEUuaGVpZ2h0LDAsMCx2LHkpLEEudGV4SW1hZ2UyRChBLlRFWFRVUkVfMkQsMCx3LEYsQS5VTlNJR05FRF9CWVRFLF8uX3dvcmtpbmdDYW52YXMpLE0ud2lkdGg9dixNLmhlaWdodD15KSwhMTt2YXIgRz1uZXcgd3QoXyxtZS5UZW1wKTtyZXR1cm4gXy5fYmluZFRleHR1cmVEaXJlY3RseShBLlRFWFRVUkVfMkQsRywhMCksQS50ZXhJbWFnZTJEKEEuVEVYVFVSRV8yRCwwLHcsRixBLlVOU0lHTkVEX0JZVEUsRSksXy5fcmVzY2FsZVRleHR1cmUoRyxNLG4sdyxmdW5jdGlvbigpe18uX3JlbGVhc2VUZXh0dXJlKEcpLF8uX2JpbmRUZXh0dXJlRGlyZWN0bHkoQS5URVhUVVJFXzJELE0sITApLEMoKX0pLCEwfSx1LGYsbCxoLGMsZCxnKX0saS5fRmlsZVRvb2xzTG9hZEltYWdlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt0aHJvdyBYKCJGaWxlVG9vbHMiKX0saS5wcm90b3R5cGUuX3Jlc2NhbGVUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7fSxpLnByb3RvdHlwZS5jcmVhdGVSYXdUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCl7dGhyb3cgWCgiRW5naW5lLlJhd1RleHR1cmUiKX0saS5wcm90b3R5cGUuY3JlYXRlUmF3Q3ViZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXt0aHJvdyBYKCJFbmdpbmUuUmF3VGV4dHVyZSIpfSxpLnByb3RvdHlwZS5jcmVhdGVSYXdUZXh0dXJlM0Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7dGhyb3cgWCgiRW5naW5lLlJhd1RleHR1cmUiKX0saS5wcm90b3R5cGUuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXk9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7dGhyb3cgWCgiRW5naW5lLlJhd1RleHR1cmUiKX0saS5wcm90b3R5cGUuX3VucGFja0ZsaXBZPWZ1bmN0aW9uKGUpe3RoaXMuX3VucGFja0ZsaXBZQ2FjaGVkIT09ZSYmKHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19GTElQX1lfV0VCR0wsZT8xOjApLHRoaXMuZW5hYmxlVW5wYWNrRmxpcFlDYWNoZWQmJih0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1lKSl9LGkucHJvdG90eXBlLl9nZXRVbnBhY2tBbGlnbmVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5VTlBBQ0tfQUxJR05NRU5UKX0saS5wcm90b3R5cGUuX2dldFRleHR1cmVUYXJnZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNDdWJlP3RoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVA6ZS5pczNEP3RoaXMuX2dsLlRFWFRVUkVfM0Q6ZS5pczJEQXJyYXl8fGUuaXNNdWx0aXZpZXc/dGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWTp0aGlzLl9nbC5URVhUVVJFXzJEfSxpLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlU2FtcGxpbmdNb2RlPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49dGhpcy5fZ2V0VGV4dHVyZVRhcmdldCh0KSxhPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLHQuZ2VuZXJhdGVNaXBNYXBzfHxyKTt0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihuLHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUixhLm1hZyx0KSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihuLHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUixhLm1pbiksciYmKHQuZ2VuZXJhdGVNaXBNYXBzPSEwLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKG4pKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4sbnVsbCksdC5zYW1wbGluZ01vZGU9ZX0saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZURpbWVuc2lvbnM9ZnVuY3Rpb24oZSx0LHIsbil7fSxpLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlV3JhcHBpbmdNb2RlPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpO3ZhciBhPXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSk7dCE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihhLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0KSxlKSxlLl9jYWNoZWRXcmFwVT10KSxyIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKGEsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHIpLGUpLGUuX2NhY2hlZFdyYXBWPXIpLChlLmlzMkRBcnJheXx8ZS5pczNEKSYmbiE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihhLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShuKSxlKSxlLl9jYWNoZWRXcmFwUj1uKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGEsbnVsbCl9LGkucHJvdG90eXBlLl9zZXR1cERlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPTEpO3ZhciBvPXQud2lkdGh8fHQsdT10LmhlaWdodHx8dCxmPXQubGF5ZXJzfHwwO2UuYmFzZVdpZHRoPW8sZS5iYXNlSGVpZ2h0PXUsZS53aWR0aD1vLGUuaGVpZ2h0PXUsZS5pczJEQXJyYXk9Zj4wLGUuZGVwdGg9ZixlLmlzUmVhZHk9ITAsZS5zYW1wbGVzPXMsZS5nZW5lcmF0ZU1pcE1hcHM9ITEsZS5zYW1wbGluZ01vZGU9bj8yOjEsZS50eXBlPTAsZS5fY29tcGFyaXNvbkZ1bmN0aW9uPWE7dmFyIGw9dGhpcy5fZ2wsaD10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KGUpLGM9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUuc2FtcGxpbmdNb2RlLCExKTtsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfTUFHX0ZJTFRFUixjLm1hZyksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX01JTl9GSUxURVIsYy5taW4pLGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9XUkFQX1MsbC5DTEFNUF9UT19FREdFKSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfV1JBUF9ULGwuQ0xBTVBfVE9fRURHRSksYT09PTA/KGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuTk9ORSkpOihsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLGEpLGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5DT01QQVJFX1JFRl9UT19URVhUVVJFKSl9LGkucHJvdG90eXBlLl91cGxvYWRDb21wcmVzc2VkRGF0YVRvVGV4dHVyZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPTApLG89PT12b2lkIDAmJihvPTApO3ZhciB1PXRoaXMuX2dsLGY9dS5URVhUVVJFXzJEO2lmKGUuaXNDdWJlJiYoZj11LlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtzKSxlLl91c2VTUkdCQnVmZmVyKXN3aXRjaCh0KXtjYXNlIDM3NDkyOmNhc2UgMzYxOTY6dGhpcy5fY2Fwcy5ldGMyP3Q9dS5DT01QUkVTU0VEX1NSR0I4X0VUQzI6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM3NDk2OnRoaXMuX2NhcHMuZXRjMj90PXUuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUM6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM2NDkyOnQ9dS5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ7YnJlYWs7Y2FzZSAzNzgwODp0PXUuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSO2JyZWFrO2Nhc2UgMzM3NzY6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD11LkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3Nzp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PXUuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDMzNzc5OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9dS5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2RlZmF1bHQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVha310aGlzLl9nbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChmLG8sdCxyLG4sMCxhKX0saS5wcm90b3R5cGUuX3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseT1mdW5jdGlvbihlLHQscixuLGEscyl7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MCkscz09PXZvaWQgMCYmKHM9ITEpO3ZhciBvPXRoaXMuX2dsLHU9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlLnR5cGUpLGY9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoZS5mb3JtYXQpLGw9YT09PXZvaWQgMD90aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlLnR5cGUsZS5mb3JtYXQsZS5fdXNlU1JHQkJ1ZmZlcik6dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoYSxlLl91c2VTUkdCQnVmZmVyKTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO3ZhciBoPW8uVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGg9by5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grcik7dmFyIGM9TWF0aC5yb3VuZChNYXRoLmxvZyhlLndpZHRoKSpNYXRoLkxPRzJFKSxkPU1hdGgucm91bmQoTWF0aC5sb2coZS5oZWlnaHQpKk1hdGguTE9HMkUpLHA9cz9lLndpZHRoOk1hdGgucG93KDIsTWF0aC5tYXgoYy1uLDApKSxnPXM/ZS5oZWlnaHQ6TWF0aC5wb3coMixNYXRoLm1heChkLW4sMCkpO28udGV4SW1hZ2UyRChoLG4sbCxwLGcsMCxmLHUsdCl9LGkucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVEYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXtvPT09dm9pZCAwJiYobz0wKSx1PT09dm9pZCAwJiYodT0wKSxmPT09dm9pZCAwJiYoZj0hMSk7dmFyIGw9dGhpcy5fZ2wsaD10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksYz10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCk7dGhpcy5fdW5wYWNrRmxpcFkoZS5pbnZlcnRZKTt2YXIgZD1sLlRFWFRVUkVfMkQ7ZS5pc0N1YmUmJihkPWwuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28pLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZCxlLCEwKSxsLnRleFN1YkltYWdlMkQoZCx1LHIsbixhLHMsYyxoLHQpLGYmJnRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKGQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZCxudWxsKX0saS5wcm90b3R5cGUuX3VwbG9hZEFycmF5QnVmZmVyVmlld1RvVGV4dHVyZT1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKTt2YXIgYT10aGlzLl9nbCxzPWUuaXNDdWJlP2EuVEVYVFVSRV9DVUJFX01BUDphLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLGUsITApLHRoaXMuX3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQscixuKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsbnVsbCwhMCl9LGkucHJvdG90eXBlLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9dGhpcy5fZ2w7aWYoISFzKXt2YXIgbz10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoYSwhcik7cy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfTUFHX0ZJTFRFUixvLm1hZykscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfTUlOX0ZJTFRFUixvLm1pbiksIXImJiFuJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5fcmVtb3ZlUGVuZGluZ0RhdGEoZSksZS5vbkxvYWRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCl9fSxpLnByb3RvdHlwZS5fcHJlcGFyZVdlYkdMVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7dmFyIGw9dGhpcztmPT09dm9pZCAwJiYoZj0zKTt2YXIgaD10aGlzLmdldENhcHMoKS5tYXhUZXh0dXJlU2l6ZSxjPU1hdGgubWluKGgsdGhpcy5uZWVkUE9UVGV4dHVyZXM/aS5HZXRFeHBvbmVudE9mVHdvKG4ud2lkdGgsaCk6bi53aWR0aCksZD1NYXRoLm1pbihoLHRoaXMubmVlZFBPVFRleHR1cmVzP2kuR2V0RXhwb25lbnRPZlR3byhuLmhlaWdodCxoKTpuLmhlaWdodCkscD10aGlzLl9nbDtpZighIXApe2lmKCFlLl9oYXJkd2FyZVRleHR1cmUpe3ImJnIuX3JlbW92ZVBlbmRpbmdEYXRhKGUpO3JldHVybn10aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHAuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShhPT09dm9pZCAwPyEwOiEhYSksZS5iYXNlV2lkdGg9bi53aWR0aCxlLmJhc2VIZWlnaHQ9bi5oZWlnaHQsZS53aWR0aD1jLGUuaGVpZ2h0PWQsZS5pc1JlYWR5PSEwLCF1KGMsZCxuLHQsZSxmdW5jdGlvbigpe2wuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSxyLHMsbyxmKX0pJiZ0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUscixzLG8sZil9fSxpLnByb3RvdHlwZS5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHM9ZnVuY3Rpb24oZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT0xKTt2YXIgcz10aGlzLl9nbDtpZihlJiZ0KXJldHVybiB0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIocixuLGEscy5ERVBUSF9TVEVOQ0lMLHMuREVQVEgyNF9TVEVOQ0lMOCxzLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCk7aWYodCl7dmFyIG89cy5ERVBUSF9DT01QT05FTlQxNjtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjEmJihvPXMuREVQVEhfQ09NUE9ORU5UMzJGKSx0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIocixuLGEsbyxvLHMuREVQVEhfQVRUQUNITUVOVCl9cmV0dXJuIGU/dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKHIsbixhLHMuU1RFTkNJTF9JTkRFWDgscy5TVEVOQ0lMX0lOREVYOCxzLlNURU5DSUxfQVRUQUNITUVOVCk6bnVsbH0saS5wcm90b3R5cGUuX2NyZWF0ZVJlbmRlckJ1ZmZlcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXtvPT09dm9pZCAwJiYobz0hMCk7dmFyIHU9dGhpcy5fZ2wsZj11LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB1LmJpbmRSZW5kZXJidWZmZXIodS5SRU5ERVJCVUZGRVIsZikscj4xJiZ1LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT91LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSh1LlJFTkRFUkJVRkZFUixyLGEsZSx0KTp1LnJlbmRlcmJ1ZmZlclN0b3JhZ2UodS5SRU5ERVJCVUZGRVIsbixlLHQpLHUuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodS5GUkFNRUJVRkZFUixzLHUuUkVOREVSQlVGRkVSLGYpLG8mJnUuYmluZFJlbmRlcmJ1ZmZlcih1LlJFTkRFUkJVRkZFUixudWxsKSxmfSxpLnByb3RvdHlwZS5fcmVsZWFzZVRleHR1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ7dGhpcy5fZGVsZXRlVGV4dHVyZSgodD1lLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC51bmRlcmx5aW5nUmVzb3VyY2UpLHRoaXMudW5iaW5kQWxsVGV4dHVyZXMoKTt2YXIgcj10aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuaW5kZXhPZihlKTtyIT09LTEmJnRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5zcGxpY2UociwxKSxlLl9sb2RUZXh0dXJlSGlnaCYmZS5fbG9kVGV4dHVyZUhpZ2guZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVNaWQmJmUuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVMb3cmJmUuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLGUuX2lycmFkaWFuY2VUZXh0dXJlJiZlLl9pcnJhZGlhbmNlVGV4dHVyZS5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zcGxpY2UodCwxKX0saS5wcm90b3R5cGUuX2RlbGV0ZVRleHR1cmU9ZnVuY3Rpb24oZSl7ZSYmdGhpcy5fZ2wuZGVsZXRlVGV4dHVyZShlKX0saS5wcm90b3R5cGUuX3NldFByb2dyYW09ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFByb2dyYW0hPT1lJiYodGhpcy5fZ2wudXNlUHJvZ3JhbShlKSx0aGlzLl9jdXJyZW50UHJvZ3JhbT1lKX0saS5wcm90b3R5cGUuYmluZFNhbXBsZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UGlwZWxpbmVDb250ZXh0KCk7dGhpcy5fc2V0UHJvZ3JhbSh0LnByb2dyYW0pO2Zvcih2YXIgcj1lLmdldFNhbXBsZXJzKCksbj0wO248ci5sZW5ndGg7bisrKXt2YXIgYT1lLmdldFVuaWZvcm0ocltuXSk7YSYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbbl09YSl9dGhpcy5fY3VycmVudEVmZmVjdD1udWxsfSxpLnByb3RvdHlwZS5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZT1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbCE9PXRoaXMuX2FjdGl2ZUNoYW5uZWwmJih0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwK3RoaXMuX2FjdGl2ZUNoYW5uZWwpLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX0saS5wcm90b3R5cGUuX2JpbmRUZXh0dXJlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGEscztyPT09dm9pZCAwJiYocj0hMSksbj09PXZvaWQgMCYmKG49ITEpO3ZhciBvPSExLHU9dCYmdC5fYXNzb2NpYXRlZENoYW5uZWw+LTE7ciYmdSYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9dC5fYXNzb2NpYXRlZENoYW5uZWwpO3ZhciBmPXRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXTtpZihmIT09dHx8bil7aWYodGhpcy5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpLHQmJnQuaXNNdWx0aXZpZXcpdGhyb3cgY29uc29sZS5lcnJvcihlLHQpLCJfYmluZFRleHR1cmVEaXJlY3RseSBjYWxsZWQgd2l0aCBhIG11bHRpdmlldyB0ZXh0dXJlISI7dGhpcy5fZ2wuYmluZFRleHR1cmUoZSwocz0oYT10PT1udWxsP3ZvaWQgMDp0Ll9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS51bmRlcmx5aW5nUmVzb3VyY2UpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXT10LHQmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1lbHNlIHImJihvPSEwLHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSk7cmV0dXJuIHUmJiFyJiZ0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwodC5fYXNzb2NpYXRlZENoYW5uZWwsdGhpcy5fYWN0aXZlQ2hhbm5lbCksb30saS5wcm90b3R5cGUuX2JpbmRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyKXtpZihlIT09dm9pZCAwKXt0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9ZSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO3ZhciBuPXQ/dGhpcy5fZ2V0VGV4dHVyZVRhcmdldCh0KTp0aGlzLl9nbC5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobix0KX19LGkucHJvdG90eXBlLnVuYmluZEFsbFRleHR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztlKyspdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4pe2UhPT12b2lkIDAmJih0JiYodGhpcy5fYm91bmRVbmlmb3Jtc1tlXT10KSx0aGlzLl9zZXRUZXh0dXJlKGUscikpfSxpLnByb3RvdHlwZS5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fYm91bmRVbmlmb3Jtc1tlXTshcnx8ci5fY3VycmVudFN0YXRlPT09dHx8KHRoaXMuX2dsLnVuaWZvcm0xaShyLHQpLHIuX2N1cnJlbnRTdGF0ZT10KX0saS5wcm90b3R5cGUuX2dldFRleHR1cmVXcmFwTW9kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5SRVBFQVQ7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5DTEFNUF9UT19FREdFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTUlSUk9SRURfUkVQRUFUfXJldHVybiB0aGlzLl9nbC5SRVBFQVR9LGkucHJvdG90eXBlLl9zZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYocj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSExKSwhdClyZXR1cm4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdIT1udWxsJiYodGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpKSwhMTtpZih0LnZpZGVvKXRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0LnVwZGF0ZSgpO2Vsc2UgaWYodC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIHQuZGVsYXlMb2FkKCksITE7dmFyIHM7bj9zPXQuZGVwdGhTdGVuY2lsVGV4dHVyZTp0LmlzUmVhZHkoKT9zPXQuZ2V0SW50ZXJuYWxUZXh0dXJlKCk6dC5pc0N1YmU/cz10aGlzLmVtcHR5Q3ViZVRleHR1cmU6dC5pczNEP3M9dGhpcy5lbXB0eVRleHR1cmUzRDp0LmlzMkRBcnJheT9zPXRoaXMuZW1wdHlUZXh0dXJlMkRBcnJheTpzPXRoaXMuZW1wdHlUZXh0dXJlLCFyJiZzJiYocy5fYXNzb2NpYXRlZENoYW5uZWw9ZSk7dmFyIG89ITA7dGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPT09cyYmKHJ8fHRoaXMuX2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbChzLl9hc3NvY2lhdGVkQ2hhbm5lbCxlKSxvPSExKSx0aGlzLl9hY3RpdmVDaGFubmVsPWU7dmFyIHU9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChzKTtpZihvJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHUscyxyKSxzJiYhcy5pc011bHRpdmlldyl7aWYocy5pc0N1YmUmJnMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXQuY29vcmRpbmF0ZXNNb2RlKXtzLl9jYWNoZWRDb29yZGluYXRlc01vZGU9dC5jb29yZGluYXRlc01vZGU7dmFyIGY9dC5jb29yZGluYXRlc01vZGUhPT0zJiZ0LmNvb3JkaW5hdGVzTW9kZSE9PTU/MTowO3Qud3JhcFU9Zix0LndyYXBWPWZ9cy5fY2FjaGVkV3JhcFUhPT10LndyYXBVJiYocy5fY2FjaGVkV3JhcFU9dC53cmFwVSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcih1LHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBVKSxzKSkscy5fY2FjaGVkV3JhcFYhPT10LndyYXBWJiYocy5fY2FjaGVkV3JhcFY9dC53cmFwVix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcih1LHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBWKSxzKSkscy5pczNEJiZzLl9jYWNoZWRXcmFwUiE9PXQud3JhcFImJihzLl9jYWNoZWRXcmFwUj10LndyYXBSLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHUsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFIpLHMpKSx0aGlzLl9zZXRBbmlzb3Ryb3BpY0xldmVsKHUscyx0LmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwpfXJldHVybiEwfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlQXJyYXk9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlPT09dm9pZCAwfHwhdCkpeyghdGhpcy5fdGV4dHVyZVVuaXRzfHx0aGlzLl90ZXh0dXJlVW5pdHMubGVuZ3RoIT09ci5sZW5ndGgpJiYodGhpcy5fdGV4dHVyZVVuaXRzPW5ldyBJbnQzMkFycmF5KHIubGVuZ3RoKSk7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXJbYV0uZ2V0SW50ZXJuYWxUZXh0dXJlKCk7cz8odGhpcy5fdGV4dHVyZVVuaXRzW2FdPWUrYSxzLl9hc3NvY2lhdGVkQ2hhbm5lbD1lK2EpOnRoaXMuX3RleHR1cmVVbml0c1thXT0tMX10aGlzLl9nbC51bmlmb3JtMWl2KHQsdGhpcy5fdGV4dHVyZVVuaXRzKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl0aGlzLl9zZXRUZXh0dXJlKHRoaXMuX3RleHR1cmVVbml0c1tvXSxyW29dLCEwKX19LGkucHJvdG90eXBlLl9zZXRBbmlzb3Ryb3BpY0xldmVsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjt0LnNhbXBsaW5nTW9kZSE9PTExJiZ0LnNhbXBsaW5nTW9kZSE9PTMmJnQuc2FtcGxpbmdNb2RlIT09MiYmKHI9MSksbiYmdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCE9PXImJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVyRmxvYXQoZSxuLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKHIsdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5KSx0KSx0Ll9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXIpfSxpLnByb3RvdHlwZS5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0PWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxuLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJmKGUsdCxyKX0saS5wcm90b3R5cGUuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyPWZ1bmN0aW9uKGUsdCxyLG4pe24mJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxuLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKGUsdCxyKX0saS5wcm90b3R5cGUudW5iaW5kQWxsQXR0cmlidXRlcz1mdW5jdGlvbigpe2lmKHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcyl7dGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExO2Zvcih2YXIgZT0wO2U8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO2UrKyl0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpO3JldHVybn1mb3IodmFyIGU9MCx0PXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQubGVuZ3RoO2U8dDtlKyspZT49dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzfHwhdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtlXXx8dGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKX0saS5wcm90b3R5cGUucmVsZWFzZUVmZmVjdHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXt2YXIgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV0uZ2V0UGlwZWxpbmVDb250ZXh0KCk7dGhpcy5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KHQpfXRoaXMuX2NvbXBpbGVkRWZmZWN0cz17fX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlO3RoaXMuc3RvcFJlbmRlckxvb3AoKSx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlJiZ0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW1wdHlUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlUZXh0dXJlKSx0aGlzLl9lbXB0eVRleHR1cmU9bnVsbCksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmU9bnVsbCksdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciYmdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciksdGhpcy5yZWxlYXNlRWZmZWN0cygpLChlPXRoaXMucmVsZWFzZUNvbXB1dGVFZmZlY3RzKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSx0aGlzLl9ib3VuZFVuaWZvcm1zPVtdLHllKCkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKSksdGhpcy5fd29ya2luZ0NhbnZhcz1udWxsLHRoaXMuX3dvcmtpbmdDb250ZXh0PW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPVtdLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1udWxsLHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj1udWxsLEdlLlJlc2V0Q2FjaGUoKTtmb3IodmFyIHQ9MCxyPXRoaXMuX2FjdGl2ZVJlcXVlc3RzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uYWJvcnQoKX10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpfSxpLnByb3RvdHlwZS5hdHRhY2hDb250ZXh0TG9zdEV2ZW50PWZ1bmN0aW9uKGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGUsITEpfSxpLnByb3RvdHlwZS5hdHRhY2hDb250ZXh0UmVzdG9yZWRFdmVudD1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsZSwhMSl9LGkucHJvdG90eXBlLmdldEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsLmdldEVycm9yKCl9LGkucHJvdG90eXBlLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMSl9LGkucHJvdG90eXBlLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDIpfSxpLnByb3RvdHlwZS5fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fZ2w7dC5nZXRFcnJvcigpIT09dC5OT19FUlJPUjspO3ZhciByPSEwLG49dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbiksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUpLDEsMSwwLHQuUkdCQSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUpLG51bGwpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsdC5ORUFSRVNUKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTkVBUkVTVCk7dmFyIGE9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsYSksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELG4sMCk7dmFyIHM9dC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQuRlJBTUVCVUZGRVIpO2lmKHI9ciYmcz09PXQuRlJBTUVCVUZGRVJfQ09NUExFVEUscj1yJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SLHImJih0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCkscj1yJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SKSxyKXt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpO3ZhciBvPXQuUkdCQSx1PXQuVU5TSUdORURfQllURSxmPW5ldyBVaW50OEFycmF5KDQpO3QucmVhZFBpeGVscygwLDAsMSwxLG8sdSxmKSxyPXImJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1J9Zm9yKHQuZGVsZXRlVGV4dHVyZShuKSx0LmRlbGV0ZUZyYW1lYnVmZmVyKGEpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7IXImJnQuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtyZXR1cm4gcn0saS5wcm90b3R5cGUuX2dldFdlYkdMVGV4dHVyZVR5cGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUztjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNX1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1zd2l0Y2goZSl7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5CWVRFO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlNIT1JUO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQ7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5JTlQ7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlQ7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVQ7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWfXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfSxpLnByb3RvdHlwZS5fZ2V0SW50ZXJuYWxGb3JtYXQ9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTtzd2l0Y2goZSl7Y2FzZSAwOnI9dGhpcy5fZ2wuQUxQSEE7YnJlYWs7Y2FzZSAxOnI9dGhpcy5fZ2wuTFVNSU5BTkNFO2JyZWFrO2Nhc2UgMjpyPXRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTticmVhaztjYXNlIDY6cj10aGlzLl9nbC5SRUQ7YnJlYWs7Y2FzZSA3OnI9dGhpcy5fZ2wuUkc7YnJlYWs7Y2FzZSA0OnI9dD90aGlzLl9nbC5TUkdCOnRoaXMuX2dsLlJHQjticmVhaztjYXNlIDU6cj10P3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBO2JyZWFrfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXN3aXRjaChlKXtjYXNlIDg6cj10aGlzLl9nbC5SRURfSU5URUdFUjticmVhaztjYXNlIDk6cj10aGlzLl9nbC5SR19JTlRFR0VSO2JyZWFrO2Nhc2UgMTA6cj10aGlzLl9nbC5SR0JfSU5URUdFUjticmVhaztjYXNlIDExOnI9dGhpcy5fZ2wuUkdCQV9JTlRFR0VSO2JyZWFrfXJldHVybiByfSxpLnByb3RvdHlwZS5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl93ZWJHTFZlcnNpb249PT0xKXtpZih0IT09dm9pZCAwKXN3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2Nhc2UgNDpyZXR1cm4gcj90aGlzLl9nbC5TUkdCOnRoaXMuX2dsLlJHQn1yZXR1cm4gdGhpcy5fZ2wuUkdCQX1zd2l0Y2goZSl7Y2FzZSAzOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4X1NOT1JNO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4X1NOT1JNO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOF9TTk9STTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOEk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOEk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4X1NOT1JNfWNhc2UgMDpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SODtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHODtjYXNlIDQ6cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjg6dGhpcy5fZ2wuUkdCODtjYXNlIDU6cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE4O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOFVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjhVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOFVJO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTh9Y2FzZSA0OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2STtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZJfWNhc2UgNTpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJfWNhc2UgNjpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySX1jYXNlIDc6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMyVUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMyVUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSX1jYXNlIDE6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjMyRjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMzJGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGfWNhc2UgMjpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMTZGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkcxNkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IxNkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkZ9Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCNTY1O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlIxMUZfRzExRl9CMTBGO2Nhc2UgMTQ6cmV0dXJuIHRoaXMuX2dsLlJHQjlfRTU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SR0JBNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHQjVfQTE7Y2FzZSAxMTpzd2l0Y2godCl7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMjtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyfX1yZXR1cm4gcj90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTh9LGkucHJvdG90eXBlLl9nZXRSR0JBTXVsdGlTYW1wbGVCdWZmZXJGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0xP3RoaXMuX2dsLlJHQkEzMkY6ZT09PTI/dGhpcy5fZ2wuUkdCQTE2Rjp0aGlzLl9nbC5SR0JBOH0saS5wcm90b3R5cGUuX2xvYWRGaWxlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz10aGlzLHU9aS5fRmlsZVRvb2xzTG9hZEZpbGUoZSx0LHIsbixhLHMpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKHUpLHUub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe28uX2FjdGl2ZVJlcXVlc3RzLnNwbGljZShvLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGYpLDEpfSksdX0saS5fRmlsZVRvb2xzTG9hZEZpbGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3Rocm93IFgoIkZpbGVUb29scyIpfSxpLnByb3RvdHlwZS5yZWFkUGl4ZWxzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITApO3ZhciBvPWE/NDozLHU9YT90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixmPW5ldyBVaW50OEFycmF5KG4qcipvKTtyZXR1cm4gcyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQscixuLHUsdGhpcy5fZ2wuVU5TSUdORURfQllURSxmKSxQcm9taXNlLnJlc29sdmUoZil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJc1N1cHBvcnRlZEFzeW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJc1N1cHBvcnRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzU3VwcG9ydGVkKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7dmFyIGU9dGhpcy5fQ3JlYXRlQ2FudmFzKDEsMSksdD1lLmdldENvbnRleHQoIndlYmdsIil8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIik7dGhpcy5fSXNTdXBwb3J0ZWQ9dCE9bnVsbCYmISF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWNhdGNoe3RoaXMuX0lzU3VwcG9ydGVkPSExfXJldHVybiB0aGlzLl9Jc1N1cHBvcnRlZH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkhhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PT09bnVsbCl0cnl7dmFyIGU9dGhpcy5fQ3JlYXRlQ2FudmFzKDEsMSksdD1lLmdldENvbnRleHQoIndlYmdsIix7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH0pfHxlLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KTt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSF0fWNhdGNoe3RoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ITF9cmV0dXJuIHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5DZWlsaW5nUE9UPWZ1bmN0aW9uKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX0saS5GbG9vclBPVD1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfGU+PjEsZT1lfGU+PjIsZT1lfGU+PjQsZT1lfGU+PjgsZT1lfGU+PjE2LGUtKGU+PjEpfSxpLk5lYXJlc3RQT1Q9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5DZWlsaW5nUE9UKGUpLHI9aS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtcj9yOnR9LGkuR2V0RXhwb25lbnRPZlR3bz1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9Mik7dmFyIG47c3dpdGNoKHIpe2Nhc2UgMTpuPWkuRmxvb3JQT1QoZSk7YnJlYWs7Y2FzZSAyOm49aS5OZWFyZXN0UE9UKGUpO2JyZWFrO2Nhc2UgMzpkZWZhdWx0Om49aS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihuLHQpfSxpLlF1ZXVlTmV3RnJhbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4geWUoKT8odHx8KHQ9d2luZG93KSx0LnJlcXVlc3RQb3N0QW5pbWF0aW9uRnJhbWU/dC5yZXF1ZXN0UG9zdEFuaW1hdGlvbkZyYW1lKGUpOnQucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZT90LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZT90Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOndpbmRvdy5zZXRUaW1lb3V0KGUsMTYpKTp0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPCJ1Ij9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6c2V0VGltZW91dChlLDE2KX0saS5wcm90b3R5cGUuZ2V0SG9zdERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6ZnIoKT9kb2N1bWVudDpudWxsfSxpLkV4Y2VwdGlvbkxpc3Q9W3trZXk6IkNocm9tZS82My4wIixjYXB0dXJlOiI2M1xcLjBcXC4zMjM5XFwuKFxcZCspIixjYXB0dXJlQ29uc3RyYWludDoxMDgsdGFyZ2V0czpbInVuaWZvcm1CdWZmZXIiXX0se2tleToiRmlyZWZveC81OCIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInVuaWZvcm1CdWZmZXIiXX0se2tleToiRmlyZWZveC81OSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInVuaWZvcm1CdWZmZXIiXX0se2tleToiQ2hyb21lLzcyLis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6IkNocm9tZS83My4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzQuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiTWFjIE9TLitDaHJvbWUvNzEiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiTWFjIE9TLitDaHJvbWUvNzIiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiTWFjIE9TLitDaHJvbWUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6Ii4qQXBwbGVXZWJLaXQuKigxNS40KS4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX0se2tleToiLiooMTUuNCkuKkFwcGxlV2ViS2l0LipTYWZhcmkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJhbnRpYWxpYXMiLCJtYXhNU0FBU2FtcGxlcyJdfV0saS5fVGV4dHVyZUxvYWRlcnM9W10saS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLGkuX0lzU3VwcG9ydGVkPW51bGwsaS5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1udWxsLGl9KCksTHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTm93Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFZyLklzV2luZG93T2JqZWN0RXhpc3QoKSYmd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGl9KCksVm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2U9PT12b2lkIDAmJihlPTMwKSx0aGlzLl9lbmFibGVkPSEwLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWU9bmV3IGtuKGUpfXJldHVybiBpLnByb3RvdHlwZS5zYW1wbGVGcmFtZT1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwJiYoZT1MdC5Ob3cpLCEhdGhpcy5fZW5hYmxlZCl7aWYodGhpcy5fbGFzdEZyYW1lVGltZU1zIT1udWxsKXt2YXIgdD1lLXRoaXMuX2xhc3RGcmFtZVRpbWVNczt0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmFkZCh0KX10aGlzLl9sYXN0RnJhbWVUaW1lTXM9ZX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZUZyYW1lVGltZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhdmVyYWdlRnJhbWVUaW1lVmFyaWFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS52YXJpYW5jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImluc3RhbnRhbmVvdXNGcmFtZVRpbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5oaXN0b3J5KDApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZUZQUyIse2dldDpmdW5jdGlvbigpe3JldHVybiAxZTMvdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaW5zdGFudGFuZW91c0ZQUyIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKTtyZXR1cm4gZT09PTA/MDoxZTMvZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzU2F0dXJhdGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaXNTYXR1cmF0ZWQoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSEwfSxpLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUucmVzZXQoKX0saX0oKSxrbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSksdGhpcy5yZXNldCgpfXJldHVybiBpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYodGhpcy5pc1NhdHVyYXRlZCgpKXt2YXIgcj10aGlzLl9zYW1wbGVzW3RoaXMuX3Bvc107dD1yLXRoaXMuYXZlcmFnZSx0aGlzLmF2ZXJhZ2UtPXQvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX20yLT10KihyLXRoaXMuYXZlcmFnZSl9ZWxzZSB0aGlzLl9zYW1wbGVDb3VudCsrO3Q9ZS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlKz10L3RoaXMuX3NhbXBsZUNvdW50LHRoaXMuX20yKz10KihlLXRoaXMuYXZlcmFnZSksdGhpcy52YXJpYW5jZT10aGlzLl9tMi8odGhpcy5fc2FtcGxlQ291bnQtMSksdGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdPWUsdGhpcy5fcG9zKyssdGhpcy5fcG9zJT10aGlzLl9zYW1wbGVzLmxlbmd0aH0saS5wcm90b3R5cGUuaGlzdG9yeT1mdW5jdGlvbihlKXtpZihlPj10aGlzLl9zYW1wbGVDb3VudHx8ZT49dGhpcy5fc2FtcGxlcy5sZW5ndGgpcmV0dXJuIDA7dmFyIHQ9dGhpcy5fd3JhcFBvc2l0aW9uKHRoaXMuX3Bvcy0xKTtyZXR1cm4gdGhpcy5fc2FtcGxlc1t0aGlzLl93cmFwUG9zaXRpb24odC1lKV19LGkucHJvdG90eXBlLmlzU2F0dXJhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NhbXBsZUNvdW50Pj10aGlzLl9zYW1wbGVzLmxlbmd0aH0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmF2ZXJhZ2U9MCx0aGlzLnZhcmlhbmNlPTAsdGhpcy5fc2FtcGxlQ291bnQ9MCx0aGlzLl9wb3M9MCx0aGlzLl9tMj0wfSxpLnByb3RvdHlwZS5fd3JhcFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NhbXBsZXMubGVuZ3RoO3JldHVybihlJXQrdCkldH0saX0oKSxRdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lPTAsdGhpcy5fbWluPTAsdGhpcy5fbWF4PTAsdGhpcy5fYXZlcmFnZT0wLHRoaXMuX2xhc3RTZWNBdmVyYWdlPTAsdGhpcy5fY3VycmVudD0wLHRoaXMuX3RvdGFsVmFsdWVDb3VudD0wLHRoaXMuX3RvdGFsQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVGltZT0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50PTB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWluIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1heCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhdmVyYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJsYXN0U2VjQXZlcmFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXN0U2VjQXZlcmFnZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1cnJlbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRvdGFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsQWNjdW11bGF0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFZhbHVlQ291bnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZmV0Y2hOZXdGcmFtZT1mdW5jdGlvbigpe3RoaXMuX3RvdGFsVmFsdWVDb3VudCsrLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudCsrfSxpLnByb3RvdHlwZS5hZGRDb3VudD1mdW5jdGlvbihlLHQpeyFpLkVuYWJsZWR8fCh0aGlzLl9jdXJyZW50Kz1lLHQmJnRoaXMuX2ZldGNoUmVzdWx0KCkpfSxpLnByb3RvdHlwZS5iZWdpbk1vbml0b3Jpbmc9ZnVuY3Rpb24oKXshaS5FbmFibGVkfHwodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1MdC5Ob3cpfSxpLnByb3RvdHlwZS5lbmRNb25pdG9yaW5nPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPSEwKSwhIWkuRW5hYmxlZCl7ZSYmdGhpcy5mZXRjaE5ld0ZyYW1lKCk7dmFyIHQ9THQuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9fSxpLnByb3RvdHlwZS5fZmV0Y2hSZXN1bHQ9ZnVuY3Rpb24oKXt0aGlzLl90b3RhbEFjY3VtdWxhdGVkKz10aGlzLl9jdXJyZW50LHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9taW49TWF0aC5taW4odGhpcy5fbWluLHRoaXMuX2N1cnJlbnQpLHRoaXMuX21heD1NYXRoLm1heCh0aGlzLl9tYXgsdGhpcy5fY3VycmVudCksdGhpcy5fYXZlcmFnZT10aGlzLl90b3RhbEFjY3VtdWxhdGVkL3RoaXMuX3RvdGFsVmFsdWVDb3VudDt2YXIgZT1MdC5Ob3c7ZS10aGlzLl9sYXN0U2VjVGltZT4xZTMmJih0aGlzLl9sYXN0U2VjQXZlcmFnZT10aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQvdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQsdGhpcy5fbGFzdFNlY1RpbWU9ZSx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wKX0saS5FbmFibGVkPSEwLGl9KCk7ZmUucHJvdG90eXBlLnNldEFscGhhQ29uc3RhbnRzPWZ1bmN0aW9uKGksZSx0LHIpe3RoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZENvbnN0YW50cyhpLGUsdCxyKX0sZmUucHJvdG90eXBlLnNldEFscGhhTW9kZT1mdW5jdGlvbihpLGUpe2lmKGU9PT12b2lkIDAmJihlPSExKSx0aGlzLl9hbHBoYU1vZGUhPT1pKXtzd2l0Y2goaSl7Y2FzZSAwOnRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMTticmVhaztjYXNlIDc6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDg6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuRFNUX0NPTE9SLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgOTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0NPTE9SLHRoaXMuX2dsLkNPTlNUQU5UX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19DT05TVEFOVF9BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuRFNUX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX0RTVF9BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FX01JTlVTX0RTVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVha31lfHwodGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9aT09PTApLHRoaXMuX2FscGhhTW9kZT1pfX0sZmUucHJvdG90eXBlLmdldEFscGhhTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYU1vZGV9LGZlLnByb3RvdHlwZS5zZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKGkpe2lmKHRoaXMuX2FscGhhRXF1YXRpb24hPT1pKXtzd2l0Y2goaSl7Y2FzZSAwOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzQsMzI3NzQpO2JyZWFrO2Nhc2UgMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc4LDMyNzc4KTticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OSwzMjc3OSk7YnJlYWs7Y2FzZSAzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzYsMzI3NzYpO2JyZWFrO2Nhc2UgNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc1LDMyNzc1KTticmVhaztjYXNlIDU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NCk7YnJlYWt9dGhpcy5fYWxwaGFFcXVhdGlvbj1pfX0sZmUucHJvdG90eXBlLmdldEFscGhhRXF1YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFFcXVhdGlvbn07ZnVuY3Rpb24gV24oaSxlLHQscil7c3dpdGNoKHQ9PT12b2lkIDAmJih0PSExKSxpKXtjYXNlIDM6e3ZhciBuPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50OEFycmF5KGUpOm5ldyBJbnQ4QXJyYXkoZSk7cmV0dXJuIHImJm4uc2V0KG5ldyBJbnQ4QXJyYXkocikpLG59Y2FzZSAwOnt2YXIgYT1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHImJmEuc2V0KG5ldyBVaW50OEFycmF5KHIpKSxhfWNhc2UgNDp7dmFyIHM9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQxNkFycmF5KGUpOm5ldyBJbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiByJiZzLnNldChuZXcgSW50MTZBcnJheShyKSksc31jYXNlIDU6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMjp7dmFyIG89ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MTZBcnJheShlKTpuZXcgVWludDE2QXJyYXkodD9lLzI6ZSk7cmV0dXJuIHImJm8uc2V0KG5ldyBVaW50MTZBcnJheShyKSksb31jYXNlIDY6e3ZhciB1PWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50MzJBcnJheShlKTpuZXcgSW50MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gciYmdS5zZXQobmV3IEludDMyQXJyYXkocikpLHV9Y2FzZSA3OmNhc2UgMTE6Y2FzZSAxMjpjYXNlIDEzOmNhc2UgMTQ6Y2FzZSAxNTp7dmFyIGY9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MzJBcnJheShlKTpuZXcgVWludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIHImJmYuc2V0KG5ldyBVaW50MzJBcnJheShyKSksZn1jYXNlIDE6e3ZhciBsPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRmxvYXQzMkFycmF5KGUpOm5ldyBGbG9hdDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIHImJmwuc2V0KG5ldyBGbG9hdDMyQXJyYXkocikpLGx9fXZhciBoPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShlKTpuZXcgVWludDhBcnJheShlKTtyZXR1cm4gciYmaC5zZXQobmV3IFVpbnQ4QXJyYXkocikpLGh9ZmUucHJvdG90eXBlLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmM9ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvLHUsZil7dmFyIGwsaDtyPT09dm9pZCAwJiYocj0tMSksbj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9ITApLG89PT12b2lkIDAmJihvPSExKSx1PT09dm9pZCAwJiYodT0wKSxmPT09dm9pZCAwJiYoZj0wKTt2YXIgYz10aGlzLl9nbDtpZighYyl0aHJvdyBuZXcgRXJyb3IoIkVuZ2luZSBkb2VzIG5vdCBoYXZlIGdsIHJlbmRlcmluZyBjb250ZXh0LiIpO2lmKCF0aGlzLl9kdW1teUZyYW1lYnVmZmVyKXt2YXIgZD1jLmNyZWF0ZUZyYW1lYnVmZmVyKCk7aWYoIWQpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGR1bW15IGZyYW1lYnVmZmVyIik7dGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcj1kfWMuYmluZEZyYW1lYnVmZmVyKGMuRlJBTUVCVUZGRVIsdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcikscj4tMT9jLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGMuRlJBTUVCVUZGRVIsYy5DT0xPUl9BVFRBQ0hNRU5UMCxjLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtyLChsPWkuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLnVuZGVybHlpbmdSZXNvdXJjZSxuKTpjLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGMuRlJBTUVCVUZGRVIsYy5DT0xPUl9BVFRBQ0hNRU5UMCxjLlRFWFRVUkVfMkQsKGg9aS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmgudW5kZXJseWluZ1Jlc291cmNlLG4pO3ZhciBwPWkudHlwZSE9PXZvaWQgMD90aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGkudHlwZSk6Yy5VTlNJR05FRF9CWVRFO2lmKG8pYXx8KGE9V24oaS50eXBlLDQqZSp0KSk7ZWxzZSBzd2l0Y2gocCl7Y2FzZSBjLlVOU0lHTkVEX0JZVEU6YXx8KGE9bmV3IFVpbnQ4QXJyYXkoNCplKnQpKSxwPWMuVU5TSUdORURfQllURTticmVhaztkZWZhdWx0OmF8fChhPW5ldyBGbG9hdDMyQXJyYXkoNCplKnQpKSxwPWMuRkxPQVQ7YnJlYWt9cmV0dXJuIHMmJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLGMucmVhZFBpeGVscyh1LGYsZSx0LGMuUkdCQSxwLGEpLGMuYmluZEZyYW1lYnVmZmVyKGMuRlJBTUVCVUZGRVIsdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyKSxhfSxmZS5wcm90b3R5cGUuX3JlYWRUZXh0dXJlUGl4ZWxzPWZ1bmN0aW9uKGksZSx0LHIsbixhLHMsbyx1LGYpe3JldHVybiByPT09dm9pZCAwJiYocj0tMSksbj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9ITApLG89PT12b2lkIDAmJihvPSExKSx1PT09dm9pZCAwJiYodT0wKSxmPT09dm9pZCAwJiYoZj0wKSxQcm9taXNlLnJlc29sdmUodGhpcy5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKGksZSx0LHIsbixhLHMsbyx1LGYpKX0sZmUucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcj1mdW5jdGlvbihpLGUsdCl7dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSXT1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKGkpO3ZhciByO2kuaXMzMkJpdHM/cj1lIGluc3RhbmNlb2YgVWludDMyQXJyYXk/ZTpuZXcgVWludDMyQXJyYXkoZSk6cj1lIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZTpuZXcgVWludDE2QXJyYXkoZSksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixyLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKX0sZmUucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oaSxlLHQscil7dGhpcy5iaW5kQXJyYXlCdWZmZXIoaSksdD09PXZvaWQgMCYmKHQ9MCk7dmFyIG49ZS5ieXRlTGVuZ3RofHxlLmxlbmd0aDtyPT09dm9pZCAwfHxyPj1uJiZ0PT09MD9lIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdCxuZXcgRmxvYXQzMkFycmF5KGUpKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LGUpOmUgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLG5ldyBGbG9hdDMyQXJyYXkoZSkuc3ViYXJyYXkodCx0K3IpKTooZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2U9bmV3IFVpbnQ4QXJyYXkoZSx0LHIpOmU9bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0K3QsciksdGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxlKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCl9O3ZhciBoZT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhKXthPT09dm9pZCAwJiYoYT0hMSk7dmFyIHM9aS5jYWxsKHRoaXMsdCxyLG4sYSl8fHRoaXM7aWYocy5lbmFibGVPZmZsaW5lU3VwcG9ydD0hMSxzLmRpc2FibGVNYW5pZmVzdENoZWNrPSExLHMuc2NlbmVzPW5ldyBBcnJheSxzLl92aXJ0dWFsU2NlbmVzPW5ldyBBcnJheSxzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGU9bmV3IE8scy5wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSxzLmlzUG9pbnRlckxvY2s9ITEscy5vblJlc2l6ZU9ic2VydmFibGU9bmV3IE8scy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlPW5ldyBPLHMub25DYW52YXNGb2N1c09ic2VydmFibGU9bmV3IE8scy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlPW5ldyBPLHMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZT1uZXcgTyxzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPW51bGwscy5vbkVuZEZyYW1lT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQmVmb3JlU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyBPLHMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgTyxzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEscy5fbG9ja3N0ZXBNYXhTdGVwcz00LHMuX3RpbWVTdGVwPTEvNjAscy5fZnBzPTYwLHMuX2RlbHRhVGltZT0wLHMuX2RyYXdDYWxscz1uZXcgUXQscy5jYW52YXNUYWJJbmRleD0xLHMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZD0hMSxzLl9wZXJmb3JtYW5jZU1vbml0b3I9bmV3IFZuLHMuX2NvbXBhdGliaWxpdHlNb2RlPSEwLHMuY3VycmVudFJlbmRlclBhc3NJZD0wLHMuX3JlbmRlclBhc3NOYW1lcz1bIm1haW4iXSxlLkluc3RhbmNlcy5wdXNoKHMpLCF0KXJldHVybiBzO2lmKHMuX2ZlYXR1cmVzLnN1cHBvcnRSZW5kZXJQYXNzZXM9ITAsbj1zLl9jcmVhdGlvbk9wdGlvbnMsdC5nZXRDb250ZXh0KXt2YXIgbz10O2lmKHMuX3NoYXJlZEluaXQobywhIW4uZG9Ob3RIYW5kbGVUb3VjaEFjdGlvbixuLmF1ZGlvRW5naW5lKSx5ZSgpKXt2YXIgdT1kb2N1bWVudDtzLl9vbkZ1bGxzY3JlZW5DaGFuZ2U9ZnVuY3Rpb24oKXt1LmZ1bGxzY3JlZW4hPT12b2lkIDA/cy5pc0Z1bGxzY3JlZW49dS5mdWxsc2NyZWVuOnUubW96RnVsbFNjcmVlbiE9PXZvaWQgMD9zLmlzRnVsbHNjcmVlbj11Lm1vekZ1bGxTY3JlZW46dS53ZWJraXRJc0Z1bGxTY3JlZW4hPT12b2lkIDA/cy5pc0Z1bGxzY3JlZW49dS53ZWJraXRJc0Z1bGxTY3JlZW46dS5tc0lzRnVsbFNjcmVlbiE9PXZvaWQgMCYmKHMuaXNGdWxsc2NyZWVuPXUubXNJc0Z1bGxTY3JlZW4pLHMuaXNGdWxsc2NyZWVuJiZzLl9wb2ludGVyTG9ja1JlcXVlc3RlZCYmbyYmZS5fUmVxdWVzdFBvaW50ZXJsb2NrKG8pfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIixzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vemZ1bGxzY3JlZW5jaGFuZ2UiLHMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIscy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLHMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSkscy5fb25Qb2ludGVyTG9ja0NoYW5nZT1mdW5jdGlvbigpe3MuaXNQb2ludGVyTG9jaz11Lm1velBvaW50ZXJMb2NrRWxlbWVudD09PW98fHUud2Via2l0UG9pbnRlckxvY2tFbGVtZW50PT09b3x8dS5tc1BvaW50ZXJMb2NrRWxlbWVudD09PW98fHUucG9pbnRlckxvY2tFbGVtZW50PT09b30sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIixzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIscy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksIWUuYXVkaW9FbmdpbmUmJm4uYXVkaW9FbmdpbmUmJmUuQXVkaW9FbmdpbmVGYWN0b3J5JiYoZS5hdWRpb0VuZ2luZT1lLkF1ZGlvRW5naW5lRmFjdG9yeShzLmdldFJlbmRlcmluZ0NhbnZhcygpLHMuZ2V0QXVkaW9Db250ZXh0KCkscy5nZXRBdWRpb0Rlc3RpbmF0aW9uKCkpKX1zLl9jb25uZWN0VlJFdmVudHMoKSxzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PWUuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeSE9PXZvaWQgMCxzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ISFuLmRldGVybWluaXN0aWNMb2Nrc3RlcCxzLl9sb2Nrc3RlcE1heFN0ZXBzPW4ubG9ja3N0ZXBNYXhTdGVwc3x8MCxzLl90aW1lU3RlcD1uLnRpbWVTdGVwfHwxLzYwfXJldHVybiBzLl9wcmVwYXJlVlJDb21wb25lbnQoKSxuLmF1dG9FbmFibGVXZWJWUiYmcy5pbml0V2ViVlIoKSxzfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnBtUGFja2FnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBmZS5OcG1QYWNrYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJWZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZlLlZlcnNpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkluc3RhbmNlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiByZS5JbnN0YW5jZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxhc3RDcmVhdGVkRW5naW5lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJlLkxhc3RDcmVhdGVkRW5naW5lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMYXN0Q3JlYXRlZFNjZW5lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJlLkxhc3RDcmVhdGVkU2NlbmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2NyZWF0ZUltYWdlQml0bWFwRnJvbVNvdXJjZT1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMsYT1uZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe3ZhciB1PW5ldyBJbWFnZTt1Lm9ubG9hZD1mdW5jdGlvbigpe3UuZGVjb2RlKCkudGhlbihmdW5jdGlvbigpe24uY3JlYXRlSW1hZ2VCaXRtYXAodSxyKS50aGVuKGZ1bmN0aW9uKGYpe3MoZil9KX0pfSx1Lm9uZXJyb3I9ZnVuY3Rpb24oKXtvKCJFcnJvciBsb2FkaW5nIGltYWdlICIuY29uY2F0KHUuc3JjKSl9LHUuc3JjPXR9KTtyZXR1cm4gYX0sZS5wcm90b3R5cGUuY3JlYXRlSW1hZ2VCaXRtYXA9ZnVuY3Rpb24odCxyKXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodCxyKX0sZS5wcm90b3R5cGUucmVzaXplSW1hZ2VCaXRtYXA9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuY3JlYXRlQ2FudmFzKHIsbikscz1hLmdldENvbnRleHQoIjJkIik7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IDJkIGNvbnRleHQgZm9yIHJlc2l6ZUltYWdlQml0bWFwIik7cy5kcmF3SW1hZ2UodCwwLDApO3ZhciBvPXMuZ2V0SW1hZ2VEYXRhKDAsMCxyLG4pLmRhdGE7cmV0dXJuIG99LGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHk9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49MDtuPGUuSW5zdGFuY2VzLmxlbmd0aDtuKyspZm9yKHZhciBhPWUuSW5zdGFuY2VzW25dLHM9MDtzPGEuc2NlbmVzLmxlbmd0aDtzKyspYS5zY2VuZXNbc10ubWFya0FsbE1hdGVyaWFsc0FzRGlydHkodCxyKX0sZS5EZWZhdWx0TG9hZGluZ1NjcmVlbkZhY3Rvcnk9ZnVuY3Rpb24odCl7dGhyb3cgWCgiTG9hZGluZ1NjcmVlbiIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiEhZS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBlcmZvcm1hbmNlTW9uaXRvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3J9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb21wYXRpYmlsaXR5TW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wYXRpYmlsaXR5TW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NvbXBhdGliaWxpdHlNb2RlPSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldElucHV0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9LGUucHJvdG90eXBlLl9zaGFyZWRJbml0PWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzO2lmKGkucHJvdG90eXBlLl9zaGFyZWRJbml0LmNhbGwodGhpcyx0LHIsbiksdGhpcy5fb25DYW52YXNGb2N1cz1mdW5jdGlvbigpe2Eub25DYW52YXNGb2N1c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpfSx0aGlzLl9vbkNhbnZhc0JsdXI9ZnVuY3Rpb24oKXthLm9uQ2FudmFzQmx1ck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpfSx0LmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkNhbnZhc0ZvY3VzKSx0LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksdGhpcy5fb25CbHVyPWZ1bmN0aW9uKCl7YS5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZhLl9wZXJmb3JtYW5jZU1vbml0b3IuZGlzYWJsZSgpLGEuX3dpbmRvd0lzQmFja2dyb3VuZD0hMH0sdGhpcy5fb25Gb2N1cz1mdW5jdGlvbigpe2EuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmYS5fcGVyZm9ybWFuY2VNb25pdG9yLmVuYWJsZSgpLGEuX3dpbmRvd0lzQmFja2dyb3VuZD0hMX0sdGhpcy5fb25DYW52YXNQb2ludGVyT3V0PWZ1bmN0aW9uKG8pe2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoby5jbGllbnRYLG8uY2xpZW50WSkhPT10JiZhLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG8pfSx5ZSgpKXt2YXIgcz10aGlzLmdldEhvc3RXaW5kb3coKTtzJiYocy5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLHMuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpKX10LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCkscnx8dGhpcy5fZGlzYWJsZVRvdWNoQWN0aW9uKCksIWUuYXVkaW9FbmdpbmUmJm4mJmUuQXVkaW9FbmdpbmVGYWN0b3J5JiYoZS5hdWRpb0VuZ2luZT1lLkF1ZGlvRW5naW5lRmFjdG9yeSh0aGlzLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuZ2V0QXVkaW9Db250ZXh0KCksdGhpcy5nZXRBdWRpb0Rlc3RpbmF0aW9uKCkpKX0sZS5wcm90b3R5cGUuZ2V0QXNwZWN0UmF0aW89ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49dC52aWV3cG9ydDtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aChyKSpuLndpZHRoLyh0aGlzLmdldFJlbmRlckhlaWdodChyKSpuLmhlaWdodCl9LGUucHJvdG90eXBlLmdldFNjcmVlbkFzcGVjdFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgoITApL3RoaXMuZ2V0UmVuZGVySGVpZ2h0KCEwKX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyaW5nQ2FudmFzQ2xpZW50UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9LGUucHJvdG90eXBlLmdldElucHV0RWxlbWVudENsaWVudFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbH0sZS5wcm90b3R5cGUuaXNEZXRlcm1pbmlzdGljTG9ja1N0ZXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwfSxlLnByb3RvdHlwZS5nZXRMb2Nrc3RlcE1heFN0ZXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2tzdGVwTWF4U3RlcHN9LGUucHJvdG90eXBlLmdldFRpbWVTdGVwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVTdGVwKjFlM30sZS5wcm90b3R5cGUuZ2VuZXJhdGVNaXBNYXBzRm9yQ3ViZW1hcD1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSEwKSx0LmdlbmVyYXRlTWlwTWFwcyl7dmFyIG49dGhpcy5fZ2w7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfQ1VCRV9NQVAsdCwhMCksbi5nZW5lcmF0ZU1pcG1hcChuLlRFWFRVUkVfQ1VCRV9NQVApLHImJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0fSxlLnByb3RvdHlwZS5zZXREZXB0aEJ1ZmZlcj1mdW5jdGlvbih0KXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9dH0sZS5wcm90b3R5cGUuZ2V0RGVwdGhXcml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2t9LGUucHJvdG90eXBlLnNldERlcHRoV3JpdGU9ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPXR9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0fSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsQnVmZmVyPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD10fSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsTWFzaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2t9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxNYXNrPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsTWFzaz10fSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsRnVuY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jfSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jUmVmfSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsRnVuY3Rpb25NYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2t9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxGdW5jdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmM9dH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZj10fSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsRnVuY3Rpb25NYXNrPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2s9dH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbE9wZXJhdGlvbkZhaWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsfSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BEZXB0aEZhaWx9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxPcGVyYXRpb25QYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzfSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsT3BlcmF0aW9uRmFpbD1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbEZhaWw9dH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsPXR9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxPcGVyYXRpb25QYXNzPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzPXR9LGUucHJvdG90eXBlLnNldERpdGhlcmluZ1N0YXRlPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRJVEhFUik6dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5ESVRIRVIpfSxlLnByb3RvdHlwZS5zZXRSYXN0ZXJpemVyU3RhdGU9ZnVuY3Rpb24odCl7dD90aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCk6dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCl9LGUucHJvdG90eXBlLmdldERlcHRoRnVuY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jfSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10fSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyPWZ1bmN0aW9uKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNil9LGUucHJvdG90eXBlLnNldERlcHRoRnVuY3Rpb25Ub0dyZWF0ZXJPckVxdWFsPWZ1bmN0aW9uKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxOCl9LGUucHJvdG90eXBlLnNldERlcHRoRnVuY3Rpb25Ub0xlc3M9ZnVuY3Rpb24oKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTEzKX0sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvblRvTGVzc09yRXF1YWw9ZnVuY3Rpb24oKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE1KX0sZS5wcm90b3R5cGUuY2FjaGVTdGVuY2lsU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyPXRoaXMuZ2V0U3RlbmNpbEJ1ZmZlcigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbj10aGlzLmdldFN0ZW5jaWxGdW5jdGlvbigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxNYXNrPXRoaXMuZ2V0U3RlbmNpbE1hc2soKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uUGFzcz10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZT10aGlzLmdldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSgpfSxlLnByb3RvdHlwZS5yZXN0b3JlU3RlbmNpbFN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5zZXRTdGVuY2lsRnVuY3Rpb24odGhpcy5fY2FjaGVkU3RlbmNpbEZ1bmN0aW9uKSx0aGlzLnNldFN0ZW5jaWxNYXNrKHRoaXMuX2NhY2hlZFN0ZW5jaWxNYXNrKSx0aGlzLnNldFN0ZW5jaWxCdWZmZXIodGhpcy5fY2FjaGVkU3RlbmNpbEJ1ZmZlciksdGhpcy5zZXRTdGVuY2lsT3BlcmF0aW9uUGFzcyh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uUGFzcyksdGhpcy5zZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRmFpbCksdGhpcy5zZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwpLHRoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKHRoaXMuX2NhY2hlZFN0ZW5jaWxSZWZlcmVuY2UpfSxlLnByb3RvdHlwZS5zZXREaXJlY3RWaWV3cG9ydD1mdW5jdGlvbih0LHIsbixhKXt2YXIgcz10aGlzLl9jYWNoZWRWaWV3cG9ydDtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnQ9bnVsbCx0aGlzLl92aWV3cG9ydCh0LHIsbixhKSxzfSxlLnByb3RvdHlwZS5zY2lzc29yQ2xlYXI9ZnVuY3Rpb24odCxyLG4sYSxzKXt0aGlzLmVuYWJsZVNjaXNzb3IodCxyLG4sYSksdGhpcy5jbGVhcihzLCEwLCEwLCEwKSx0aGlzLmRpc2FibGVTY2lzc29yKCl9LGUucHJvdG90eXBlLmVuYWJsZVNjaXNzb3I9ZnVuY3Rpb24odCxyLG4sYSl7dmFyIHM9dGhpcy5fZ2w7cy5lbmFibGUocy5TQ0lTU09SX1RFU1QpLHMuc2Npc3Nvcih0LHIsbixhKX0sZS5wcm90b3R5cGUuZGlzYWJsZVNjaXNzb3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nbDt0LmRpc2FibGUodC5TQ0lTU09SX1RFU1QpfSxlLnByb3RvdHlwZS5fcmVwb3J0RHJhd0NhbGw9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9MSksdGhpcy5fZHJhd0NhbGxzLmFkZENvdW50KHQsITEpfSxlLnByb3RvdHlwZS5pbml0V2ViVlI9ZnVuY3Rpb24oKXt0aHJvdyBYKCJXZWJWUkNhbWVyYSIpfSxlLnByb3RvdHlwZS5fcHJlcGFyZVZSQ29tcG9uZW50PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fY29ubmVjdFZSRXZlbnRzPWZ1bmN0aW9uKHQscil7fSxlLnByb3RvdHlwZS5fc3VibWl0VlJGcmFtZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZGlzYWJsZVZSPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pc1ZSUHJlc2VudGluZz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5fcmVxdWVzdFZSRnJhbWU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9sb2FkRmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2EuX2xvYWRGaWxlKHQsZnVuY3Rpb24odSl7cyh1KX0sdm9pZCAwLHIsbixmdW5jdGlvbih1LGYpe28oZil9KX0pfSxlLnByb3RvdHlwZS5nZXRWZXJ0ZXhTaGFkZXJTb3VyY2U9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKHQpO3JldHVybiByP3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZShyWzBdKTpudWxsfSxlLnByb3RvdHlwZS5nZXRGcmFnbWVudFNoYWRlclNvdXJjZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnModCk7cmV0dXJuIHI/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHJbMV0pOm51bGx9LGUucHJvdG90eXBlLnNldERlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSl7dCE9PXZvaWQgMCYmKHImJih0aGlzLl9ib3VuZFVuaWZvcm1zW3RdPXIpLCFufHwhbi5kZXB0aFN0ZW5jaWxUZXh0dXJlP3RoaXMuX3NldFRleHR1cmUodCxudWxsLHZvaWQgMCx2b2lkIDAsYSk6dGhpcy5fc2V0VGV4dHVyZSh0LG4sITEsITAsYSkpfSxlLnByb3RvdHlwZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzPW51bGw7ciYmKHIuX3RleHR1cmVzLmRhdGFbci5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdP3M9ci5fdGV4dHVyZXMuZGF0YVtyLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF06ci5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHM9ci5fZm9yY2VkT3V0cHV0VGV4dHVyZSkpLHRoaXMuX2JpbmRUZXh0dXJlKHQsKGE9cz09bnVsbD92b2lkIDA6cy50ZXh0dXJlKSE9PW51bGwmJmEhPT12b2lkIDA/YTpudWxsLG4pfSxlLnByb3RvdHlwZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0PWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzO3RoaXMuX2JpbmRUZXh0dXJlKHQsKHM9KGE9cj09bnVsbD92b2lkIDA6ci5fb3V0cHV0VGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnRleHR1cmUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwsbil9LGUucHJvdG90eXBlLl9yZWJ1aWxkQnVmZmVycz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy5zY2VuZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5yZXNldENhY2hlZE1hdGVyaWFsKCksbi5fcmVidWlsZEdlb21ldHJpZXMoKSxuLl9yZWJ1aWxkVGV4dHVyZXMoKX1mb3IodmFyIGE9MCxzPXRoaXMuX3ZpcnR1YWxTY2VuZXM7YTxzLmxlbmd0aDthKyspe3ZhciBuPXNbYV07bi5yZXNldENhY2hlZE1hdGVyaWFsKCksbi5fcmVidWlsZEdlb21ldHJpZXMoKSxuLl9yZWJ1aWxkVGV4dHVyZXMoKX1pLnByb3RvdHlwZS5fcmVidWlsZEJ1ZmZlcnMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX3JlbmRlckZyYW1lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9hY3RpdmVSZW5kZXJMb29wc1t0XTtyKCl9fSxlLnByb3RvdHlwZS5fcmVuZGVyTG9vcD1mdW5jdGlvbigpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7dmFyIHQ9ITA7IXRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZCYmdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kJiYodD0hMSksdCYmKHRoaXMuYmVnaW5GcmFtZSgpLHRoaXMuX3JlbmRlclZpZXdzKCl8fHRoaXMuX3JlbmRlckZyYW1lKCksdGhpcy5lbmRGcmFtZSgpKX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPyh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRD10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVuZGVyRnVuY3Rpb258fHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3RlciksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEKTp0aGlzLmlzVlJQcmVzZW50aW5nKCk/dGhpcy5fcmVxdWVzdFZSRnJhbWUoKTp0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfSxlLnByb3RvdHlwZS5fcmVuZGVyVmlld3M9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuc3dpdGNoRnVsbHNjcmVlbj1mdW5jdGlvbih0KXt0aGlzLmlzRnVsbHNjcmVlbj90aGlzLmV4aXRGdWxsc2NyZWVuKCk6dGhpcy5lbnRlckZ1bGxzY3JlZW4odCl9LGUucHJvdG90eXBlLmVudGVyRnVsbHNjcmVlbj1mdW5jdGlvbih0KXt0aGlzLmlzRnVsbHNjcmVlbnx8KHRoaXMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkPXQsdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZlLl9SZXF1ZXN0RnVsbHNjcmVlbih0aGlzLl9yZW5kZXJpbmdDYW52YXMpKX0sZS5wcm90b3R5cGUuZXhpdEZ1bGxzY3JlZW49ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbHNjcmVlbiYmZS5fRXhpdEZ1bGxzY3JlZW4oKX0sZS5wcm90b3R5cGUuZW50ZXJQb2ludGVybG9jaz1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmZS5fUmVxdWVzdFBvaW50ZXJsb2NrKHRoaXMuX3JlbmRlcmluZ0NhbnZhcyl9LGUucHJvdG90eXBlLmV4aXRQb2ludGVybG9jaz1mdW5jdGlvbigpe2UuX0V4aXRQb2ludGVybG9jaygpfSxlLnByb3RvdHlwZS5iZWdpbkZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fbWVhc3VyZUZwcygpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksaS5wcm90b3R5cGUuYmVnaW5GcmFtZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5lbmRGcmFtZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmVuZEZyYW1lLmNhbGwodGhpcyksdGhpcy5fc3VibWl0VlJGcmFtZSgpLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9ITEpLCF0aGlzLmlzVlJQcmVzZW50aW5nKCkmJmkucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24odCxyLG4pe2lmKG49PT12b2lkIDAmJihuPSExKSwhdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwhaS5wcm90b3R5cGUuc2V0U2l6ZS5jYWxsKHRoaXMsdCxyLG4pKXJldHVybiExO2lmKHRoaXMuc2NlbmVzKXtmb3IodmFyIGE9MDthPHRoaXMuc2NlbmVzLmxlbmd0aDthKyspZm9yKHZhciBzPXRoaXMuc2NlbmVzW2FdLG89MDtvPHMuY2FtZXJhcy5sZW5ndGg7bysrKXt2YXIgdT1zLmNhbWVyYXNbb107dS5fY3VycmVudFJlbmRlcklkPTB9dGhpcy5vblJlc2l6ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25SZXNpemVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbih0KXt2YXIgcj10O3ImJnIucHJvZ3JhbSYmci50cmFuc2Zvcm1GZWVkYmFjayYmKHRoaXMuZGVsZXRlVHJhbnNmb3JtRmVlZGJhY2soci50cmFuc2Zvcm1GZWVkYmFjayksci50cmFuc2Zvcm1GZWVkYmFjaz1udWxsKSxpLnByb3RvdHlwZS5fZGVsZXRlUGlwZWxpbmVDb250ZXh0LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuY3JlYXRlU2hhZGVyUHJvZ3JhbT1mdW5jdGlvbih0LHIsbixhLHMsbyl7bz09PXZvaWQgMCYmKG89bnVsbCkscz1zfHx0aGlzLl9nbCx0aGlzLm9uQmVmb3JlU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgdT1pLnByb3RvdHlwZS5jcmVhdGVTaGFkZXJQcm9ncmFtLmNhbGwodGhpcyx0LHIsbixhLHMsbyk7cmV0dXJuIHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdX0sZS5wcm90b3R5cGUuX2NyZWF0ZVNoYWRlclByb2dyYW09ZnVuY3Rpb24odCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz1udWxsKTt2YXIgbz1hLmNyZWF0ZVByb2dyYW0oKTtpZih0LnByb2dyYW09bywhbyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO2lmKGEuYXR0YWNoU2hhZGVyKG8sciksYS5hdHRhY2hTaGFkZXIobyxuKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZzKXt2YXIgdT10aGlzLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCk7dGhpcy5iaW5kVHJhbnNmb3JtRmVlZGJhY2sodSksdGhpcy5zZXRUcmFuZm9ybUZlZWRiYWNrVmFyeWluZ3MobyxzKSx0LnRyYW5zZm9ybUZlZWRiYWNrPXV9cmV0dXJuIGEubGlua1Byb2dyYW0obyksdGhpcy53ZWJHTFZlcnNpb24+MSYmcyYmdGhpcy5iaW5kVHJhbnNmb3JtRmVlZGJhY2sobnVsbCksdC5jb250ZXh0PWEsdC52ZXJ0ZXhTaGFkZXI9cix0LmZyYWdtZW50U2hhZGVyPW4sdC5pc1BhcmFsbGVsQ29tcGlsZWR8fHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KHQpLG99LGUucHJvdG90eXBlLl9yZWxlYXNlVGV4dHVyZT1mdW5jdGlvbih0KXtpLnByb3RvdHlwZS5fcmVsZWFzZVRleHR1cmUuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyLmNhbGwodGhpcyx0KSx0aGlzLnNjZW5lcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IucG9zdFByb2Nlc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uX291dHB1dFRleHR1cmU9PT10JiYobi5fb3V0cHV0VGV4dHVyZT1udWxsKX0pLHIuY2FtZXJhcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uX3Bvc3RQcm9jZXNzZXMuZm9yRWFjaChmdW5jdGlvbihhKXthJiZhLl9vdXRwdXRUZXh0dXJlPT09dCYmKGEuX291dHB1dFRleHR1cmU9bnVsbCl9KX0pfSl9LGUucHJvdG90eXBlLmdldFJlbmRlclBhc3NOYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXN9LGUucHJvdG90eXBlLmdldEN1cnJlbnRSZW5kZXJQYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkXX0sZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyUGFzc0lkPWZ1bmN0aW9uKHQpe3ZhciByPSsrZS5fUmVuZGVyUGFzc0lkQ291bnRlcjtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzW3JdPXQhPW51bGw/dDoiTk9OQU1FIixyfSxlLnByb3RvdHlwZS5yZWxlYXNlUmVuZGVyUGFzc0lkPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlclBhc3NOYW1lc1t0XT12b2lkIDA7Zm9yKHZhciByPTA7cjx0aGlzLnNjZW5lcy5sZW5ndGg7KytyKWZvcih2YXIgbj10aGlzLnNjZW5lc1tyXSxhPTA7YTxuLm1lc2hlcy5sZW5ndGg7KythKXt2YXIgcz1uLm1lc2hlc1thXTtpZihzLnN1Yk1lc2hlcylmb3IodmFyIG89MDtvPHMuc3ViTWVzaGVzLmxlbmd0aDsrK28pe3ZhciB1PXMuc3ViTWVzaGVzW29dO3UuX3JlbW92ZURyYXdXcmFwcGVyKHQpfX19LGUucHJvdG90eXBlLl9yZXNjYWxlVGV4dHVyZT1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXM7dGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9nbC5MSU5FQVIpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpO3ZhciB1PXRoaXMuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh7d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9LHtnZW5lcmF0ZU1pcE1hcHM6ITEsdHlwZTowLHNhbXBsaW5nTW9kZToyLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITEsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExfSk7IXRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmZS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSYmKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcz1lLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5KHRoaXMpKSx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmdldEVmZmVjdCgpLmV4ZWN1dGVXaGVuQ29tcGlsZWQoZnVuY3Rpb24oKXtvLl9yZXNjYWxlUG9zdFByb2Nlc3Mub25BcHBseT1mdW5jdGlvbihsKXtsLl9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHQpfTt2YXIgZj1uO2Z8fChmPW8uc2NlbmVzW28uc2NlbmVzLmxlbmd0aC0xXSksZi5wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKFtvLl9yZXNjYWxlUG9zdFByb2Nlc3NdLHUsITApLG8uX2JpbmRUZXh0dXJlRGlyZWN0bHkoby5fZ2wuVEVYVFVSRV8yRCxyLCEwKSxvLl9nbC5jb3B5VGV4SW1hZ2UyRChvLl9nbC5URVhUVVJFXzJELDAsYSwwLDAsci53aWR0aCxyLmhlaWdodCwwKSxvLnVuQmluZEZyYW1lYnVmZmVyKHUpLHUuZGlzcG9zZSgpLHMmJnMoKX0pfSxlLnByb3RvdHlwZS5nZXRGcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnBzfSxlLnByb3RvdHlwZS5nZXREZWx0YVRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsdGFUaW1lfSxlLnByb3RvdHlwZS5fbWVhc3VyZUZwcz1mdW5jdGlvbigpe3RoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5zYW1wbGVGcmFtZSgpLHRoaXMuX2Zwcz10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuYXZlcmFnZUZQUyx0aGlzLl9kZWx0YVRpbWU9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmluc3RhbnRhbmVvdXNGcmFtZVRpbWV8fDB9LGUucHJvdG90eXBlLndyYXBXZWJHTFRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIHI9bmV3IEFpKHQsdGhpcy5fZ2wpLG49bmV3IHd0KHRoaXMsbWUuVW5rbm93biwhMCk7cmV0dXJuIG4uX2hhcmR3YXJlVGV4dHVyZT1yLG4uaXNSZWFkeT0hMCxufSxlLnByb3RvdHlwZS5fdXBsb2FkSW1hZ2VUb1RleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSl7bj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9MCk7dmFyIHM9dGhpcy5fZ2wsbz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKHQudHlwZSksdT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdCh0LmZvcm1hdCksZj10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdCh0LnR5cGUsdSksbD10LmlzQ3ViZT9zLlRFWFRVUkVfQ1VCRV9NQVA6cy5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobCx0LCEwKSx0aGlzLl91bnBhY2tGbGlwWSh0LmludmVydFkpO3ZhciBoPXMuVEVYVFVSRV8yRDt0LmlzQ3ViZSYmKGg9cy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbikscy50ZXhJbWFnZTJEKGgsYSxmLHUsbyxyKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGwsbnVsbCwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVDb21wYXJpc29uRnVuY3Rpb249ZnVuY3Rpb24odCxyKXtpZih0aGlzLndlYkdMVmVyc2lvbj09PTEpe2suRXJyb3IoIldlYkdMIDEgZG9lcyBub3Qgc3VwcG9ydCB0ZXh0dXJlIGNvbXBhcmlzb24uIik7cmV0dXJufXZhciBuPXRoaXMuX2dsO3QuaXNDdWJlPyh0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsdCwhMCkscj09PTA/KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLk5PTkUpKToobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCkpOih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsdCwhMCkscj09PTA/KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLk5PTkUpKToobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCkpLHQuX2NvbXBhcmlzb25GdW5jdGlvbj1yfSxlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZXNCdWZmZXI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGluc3RhbmNlIGJ1ZmZlciIpO3ZhciBuPW5ldyBadChyKTtyZXR1cm4gbi5jYXBhY2l0eT10LHRoaXMuYmluZEFycmF5QnVmZmVyKG4pLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSxuLnJlZmVyZW5jZXM9MSxufSxlLnByb3RvdHlwZS5kZWxldGVJbnN0YW5jZXNCdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKHQpfSxlLnByb3RvdHlwZS5fY2xpZW50V2FpdEFzeW5jPWZ1bmN0aW9uKHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0xMCk7dmFyIGE9dGhpcy5fZ2w7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7dmFyIHU9ZnVuY3Rpb24oKXt2YXIgZj1hLmNsaWVudFdhaXRTeW5jKHQsciwwKTtpZihmPT1hLldBSVRfRkFJTEVEKXtvKCk7cmV0dXJufWlmKGY9PWEuVElNRU9VVF9FWFBJUkVEKXtzZXRUaW1lb3V0KHUsbik7cmV0dXJufXMoKX07dSgpfSl9LGUucHJvdG90eXBlLl9yZWFkUGl4ZWxzQXN5bmM9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPDIpdGhyb3cgbmV3IEVycm9yKCJfcmVhZFBpeGVsc0FzeW5jIG9ubHkgd29yayBvbiBXZWJHTDIrIik7dmFyIGY9dGhpcy5fZ2wsbD1mLmNyZWF0ZUJ1ZmZlcigpO2YuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLGwpLGYuYnVmZmVyRGF0YShmLlBJWEVMX1BBQ0tfQlVGRkVSLHUuYnl0ZUxlbmd0aCxmLlNUUkVBTV9SRUFEKSxmLnJlYWRQaXhlbHModCxyLG4sYSxzLG8sMCksZi5iaW5kQnVmZmVyKGYuUElYRUxfUEFDS19CVUZGRVIsbnVsbCk7dmFyIGg9Zi5mZW5jZVN5bmMoZi5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwwKTtyZXR1cm4gaD8oZi5mbHVzaCgpLHRoaXMuX2NsaWVudFdhaXRBc3luYyhoLDAsMTApLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZi5kZWxldGVTeW5jKGgpLGYuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLGwpLGYuZ2V0QnVmZmVyU3ViRGF0YShmLlBJWEVMX1BBQ0tfQlVGRkVSLDAsdSksZi5iaW5kQnVmZmVyKGYuUElYRUxfUEFDS19CVUZGRVIsbnVsbCksZi5kZWxldGVCdWZmZXIobCksdX0pKTpudWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuaGlkZUxvYWRpbmdVSSgpLHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpO3RoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7KXRoaXMucG9zdFByb2Nlc3Nlc1swXS5kaXNwb3NlKCk7Zm9yKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmRpc3Bvc2UoKTt0aGlzLnNjZW5lcy5sZW5ndGg7KXRoaXMuc2NlbmVzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMuX3ZpcnR1YWxTY2VuZXMubGVuZ3RoOyl0aGlzLl92aXJ0dWFsU2NlbmVzWzBdLmRpc3Bvc2UoKTtlLkluc3RhbmNlcy5sZW5ndGg9PT0xJiZlLmF1ZGlvRW5naW5lJiYoZS5hdWRpb0VuZ2luZS5kaXNwb3NlKCksZS5hdWRpb0VuZ2luZT1udWxsKSx0aGlzLmRpc2FibGVWUigpLHllKCkmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCkpLGZyKCkmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vemZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSkpKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7dmFyIHQ9ZS5JbnN0YW5jZXMuaW5kZXhPZih0aGlzKTt0Pj0wJiZlLkluc3RhbmNlcy5zcGxpY2UodCwxKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNGb2N1c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCl9LGUucHJvdG90eXBlLl9kaXNhYmxlVG91Y2hBY3Rpb249ZnVuY3Rpb24oKXshdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwhdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZXx8KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUoInRvdWNoLWFjdGlvbiIsIm5vbmUiKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zdHlsZS5tc1RvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9InRyYW5zcGFyZW50Iil9LGUucHJvdG90eXBlLmRpc3BsYXlMb2FkaW5nVUk9ZnVuY3Rpb24oKXtpZighIXllKCkpe3ZhciB0PXRoaXMubG9hZGluZ1NjcmVlbjt0JiZ0LmRpc3BsYXlMb2FkaW5nVUkoKX19LGUucHJvdG90eXBlLmhpZGVMb2FkaW5nVUk9ZnVuY3Rpb24oKXtpZighIXllKCkpe3ZhciB0PXRoaXMuX2xvYWRpbmdTY3JlZW47dCYmdC5oaWRlTG9hZGluZ1VJKCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvYWRpbmdTY3JlZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbG9hZGluZ1NjcmVlbiYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fbG9hZGluZ1NjcmVlbj1lLkRlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeSh0aGlzLl9yZW5kZXJpbmdDYW52YXMpKSx0aGlzLl9sb2FkaW5nU2NyZWVufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9hZGluZ1NjcmVlbj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ1VJVGV4dCIse3NldDpmdW5jdGlvbih0KXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJVGV4dD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ1VJQmFja2dyb3VuZENvbG9yIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3I9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVWaWRlb0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIil9LGUuX1JlcXVlc3RQb2ludGVybG9jaz1mdW5jdGlvbih0KXt0LnJlcXVlc3RQb2ludGVyTG9jaz10LnJlcXVlc3RQb2ludGVyTG9ja3x8dC5tc1JlcXVlc3RQb2ludGVyTG9ja3x8dC5tb3pSZXF1ZXN0UG9pbnRlckxvY2t8fHQud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrLHQucmVxdWVzdFBvaW50ZXJMb2NrJiYodC5yZXF1ZXN0UG9pbnRlckxvY2soKSx0LmZvY3VzKCkpfSxlLl9FeGl0UG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudDtkb2N1bWVudC5leGl0UG9pbnRlckxvY2s9ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrfHx0Lm1zRXhpdFBvaW50ZXJMb2NrfHx0Lm1vekV4aXRQb2ludGVyTG9ja3x8dC53ZWJraXRFeGl0UG9pbnRlckxvY2ssZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX0sZS5fUmVxdWVzdEZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dmFyIHI9dC5yZXF1ZXN0RnVsbHNjcmVlbnx8dC5tc1JlcXVlc3RGdWxsc2NyZWVufHx0LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVufHx0Lm1velJlcXVlc3RGdWxsU2NyZWVuOyFyfHxyLmNhbGwodCl9LGUuX0V4aXRGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTp0Lm1vekNhbmNlbEZ1bGxTY3JlZW4/dC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6dC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuP3Qud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOnQubXNDYW5jZWxGdWxsU2NyZWVuJiZ0Lm1zQ2FuY2VsRnVsbFNjcmVlbigpfSxlLnByb3RvdHlwZS5nZXRGb250T2Zmc2V0PWZ1bmN0aW9uKHQpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyLmlubmVySFRNTD0iSGciLHIuc2V0QXR0cmlidXRlKCJzdHlsZSIsImZvbnQ6ICIuY29uY2F0KHQsIiAhaW1wb3J0YW50IikpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO24uc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixuLnN0eWxlLndpZHRoPSIxcHgiLG4uc3R5bGUuaGVpZ2h0PSIwcHgiLG4uc3R5bGUudmVydGljYWxBbGlnbj0iYm90dG9tIjt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIsYS5hcHBlbmRDaGlsZChyKSxhLmFwcGVuZENoaWxkKG4pLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIHM9MCxvPTA7dHJ5e289bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3Atci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3Asbi5zdHlsZS52ZXJ0aWNhbEFsaWduPSJiYXNlbGluZSIscz1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH1maW5hbGx5e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSl9cmV0dXJue2FzY2VudDpzLGhlaWdodDpvLGRlc2NlbnQ6by1zfX0sZS5BTFBIQV9ESVNBQkxFPTAsZS5BTFBIQV9BREQ9MSxlLkFMUEhBX0NPTUJJTkU9MixlLkFMUEhBX1NVQlRSQUNUPTMsZS5BTFBIQV9NVUxUSVBMWT00LGUuQUxQSEFfTUFYSU1JWkVEPTUsZS5BTFBIQV9PTkVPTkU9NixlLkFMUEhBX1BSRU1VTFRJUExJRUQ9NyxlLkFMUEhBX1BSRU1VTFRJUExJRURfUE9SVEVSRFVGRj04LGUuQUxQSEFfSU5URVJQT0xBVEU9OSxlLkFMUEhBX1NDUkVFTk1PREU9MTAsZS5ERUxBWUxPQURTVEFURV9OT05FPTAsZS5ERUxBWUxPQURTVEFURV9MT0FERUQ9MSxlLkRFTEFZTE9BRFNUQVRFX0xPQURJTkc9MixlLkRFTEFZTE9BRFNUQVRFX05PVExPQURFRD00LGUuTkVWRVI9NTEyLGUuQUxXQVlTPTUxOSxlLkxFU1M9NTEzLGUuRVFVQUw9NTE0LGUuTEVRVUFMPTUxNSxlLkdSRUFURVI9NTE2LGUuR0VRVUFMPTUxOCxlLk5PVEVRVUFMPTUxNyxlLktFRVA9NzY4MCxlLlJFUExBQ0U9NzY4MSxlLklOQ1I9NzY4MixlLkRFQ1I9NzY4MyxlLklOVkVSVD01Mzg2LGUuSU5DUl9XUkFQPTM0MDU1LGUuREVDUl9XUkFQPTM0MDU2LGUuVEVYVFVSRV9DTEFNUF9BRERSRVNTTU9ERT0wLGUuVEVYVFVSRV9XUkFQX0FERFJFU1NNT0RFPTEsZS5URVhUVVJFX01JUlJPUl9BRERSRVNTTU9ERT0yLGUuVEVYVFVSRUZPUk1BVF9BTFBIQT0wLGUuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0U9MSxlLlRFWFRVUkVGT1JNQVRfTFVNSU5BTkNFX0FMUEhBPTIsZS5URVhUVVJFRk9STUFUX1JHQj00LGUuVEVYVFVSRUZPUk1BVF9SR0JBPTUsZS5URVhUVVJFRk9STUFUX1JFRD02LGUuVEVYVFVSRUZPUk1BVF9SPTYsZS5URVhUVVJFRk9STUFUX1JHPTcsZS5URVhUVVJFRk9STUFUX1JFRF9JTlRFR0VSPTgsZS5URVhUVVJFRk9STUFUX1JfSU5URUdFUj04LGUuVEVYVFVSRUZPUk1BVF9SR19JTlRFR0VSPTksZS5URVhUVVJFRk9STUFUX1JHQl9JTlRFR0VSPTEwLGUuVEVYVFVSRUZPUk1BVF9SR0JBX0lOVEVHRVI9MTEsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFPTAsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlQ9MCxlLlRFWFRVUkVUWVBFX0ZMT0FUPTEsZS5URVhUVVJFVFlQRV9IQUxGX0ZMT0FUPTIsZS5URVhUVVJFVFlQRV9CWVRFPTMsZS5URVhUVVJFVFlQRV9TSE9SVD00LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlQ9NSxlLlRFWFRVUkVUWVBFX0lOVD02LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5URUdFUj03LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlRfNF80XzRfND04LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlRfNV81XzVfMT05LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlRfNV82XzU9MTAsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY9MTEsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMjRfOD0xMixlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY9MTMsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY9MTQsZS5URVhUVVJFVFlQRV9GTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVY9MTUsZS5URVhUVVJFX05FQVJFU1RfU0FNUExJTkdNT0RFPTEsZS5URVhUVVJFX0JJTElORUFSX1NBTVBMSU5HTU9ERT0yLGUuVEVYVFVSRV9UUklMSU5FQVJfU0FNUExJTkdNT0RFPTMsZS5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBMSU5FQVI9OCxlLlRFWFRVUkVfTElORUFSX0xJTkVBUl9NSVBORUFSRVNUPTExLGUuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUExJTkVBUj0zLGUuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1RfTUlQTkVBUkVTVD00LGUuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUl9NSVBORUFSRVNUPTUsZS5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUExJTkVBUj02LGUuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUj03LGUuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1Q9MSxlLlRFWFRVUkVfTElORUFSX05FQVJFU1RfTUlQTkVBUkVTVD05LGUuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBMSU5FQVI9MTAsZS5URVhUVVJFX0xJTkVBUl9MSU5FQVI9MixlLlRFWFRVUkVfTElORUFSX05FQVJFU1Q9MTIsZS5URVhUVVJFX0VYUExJQ0lUX01PREU9MCxlLlRFWFRVUkVfU1BIRVJJQ0FMX01PREU9MSxlLlRFWFRVUkVfUExBTkFSX01PREU9MixlLlRFWFRVUkVfQ1VCSUNfTU9ERT0zLGUuVEVYVFVSRV9QUk9KRUNUSU9OX01PREU9NCxlLlRFWFRVUkVfU0tZQk9YX01PREU9NSxlLlRFWFRVUkVfSU5WQ1VCSUNfTU9ERT02LGUuVEVYVFVSRV9FUVVJUkVDVEFOR1VMQVJfTU9ERT03LGUuVEVYVFVSRV9GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERT04LGUuVEVYVFVSRV9GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERT05LGUuU0NBTEVNT0RFX0ZMT09SPTEsZS5TQ0FMRU1PREVfTkVBUkVTVD0yLGUuU0NBTEVNT0RFX0NFSUxJTkc9MyxlLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5PW51bGwsZS5fUmVuZGVyUGFzc0lkQ291bnRlcj0wLGV9KGZlKTtmZS5wcm90b3R5cGUuX2RlYnVnUHVzaEdyb3VwPWZ1bmN0aW9uKGksZSl7fSxmZS5wcm90b3R5cGUuX2RlYnVnUG9wR3JvdXA9ZnVuY3Rpb24oaSl7fSxmZS5wcm90b3R5cGUuX2RlYnVnSW5zZXJ0TWFya2VyPWZ1bmN0aW9uKGksZSl7fSxmZS5wcm90b3R5cGUuX2RlYnVnRmx1c2hQZW5kaW5nQ29tbWFuZHM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHpuKGkpe3JldHVybiBuZXcgaGUoaSwhMCx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLHN0ZW5jaWw6ITB9KX12YXIgYmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSx0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cn1yZXR1cm4gaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIn0ifSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ29sb3IzIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYix0aGlzfSxpLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksaS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc30saS5wcm90b3R5cGUudG9Db2xvcjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTEpLG5ldyBFZSh0aGlzLnIsdGhpcy5nLHRoaXMuYixlKX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYl19LGkucHJvdG90eXBlLnRvTHVtaW5hbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuciouMyt0aGlzLmcqLjU5K3RoaXMuYiouMTF9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYil9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLnIsdC5nPXRoaXMuZyplLmcsdC5iPXRoaXMuYiplLmIsdGhpc30saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5ifSxpLnByb3RvdHlwZS5lcXVhbHNGbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnI9PT1lJiZ0aGlzLmc9PT10JiZ0aGlzLmI9PT1yfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUpfSxpLnByb3RvdHlwZS5zY2FsZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yKz10aGlzLnIqZSx0LmcrPXRoaXMuZyplLHQuYis9dGhpcy5iKmUsdGhpc30saS5wcm90b3R5cGUuY2xhbXBUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTEpLHIucj16LkNsYW1wKHRoaXMucixlLHQpLHIuZz16LkNsYW1wKHRoaXMuZyxlLHQpLHIuYj16LkNsYW1wKHRoaXMuYixlLHQpLHRoaXN9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yK2Uucix0aGlzLmcrZS5nLHRoaXMuYitlLmIpfSxpLnByb3RvdHlwZS5hZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yK2Uucix0Lmc9dGhpcy5nK2UuZyx0LmI9dGhpcy5iK2UuYix0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHRoaXN9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMucix0aGlzLmcsdGhpcy5iKX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucj1lLnIsdGhpcy5nPWUuZyx0aGlzLmI9ZS5iLHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPXIsdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscil9LGkucHJvdG90eXBlLnRvSGV4U3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSx0PU1hdGgucm91bmQodGhpcy5nKjI1NSkscj1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO3JldHVybiIjIit6LlRvSGV4KGUpK3ouVG9IZXgodCkrei5Ub0hleChyKX0saS5wcm90b3R5cGUudG9MaW5lYXJTcGFjZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZihlKSxlfSxpLnByb3RvdHlwZS50b0hTVj1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvSFNWVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9IU1ZUb1JlZj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnIscj10aGlzLmcsbj10aGlzLmIsYT1NYXRoLm1heCh0LHIsbikscz1NYXRoLm1pbih0LHIsbiksbz0wLHU9MCxmPWEsbD1hLXM7YSE9PTAmJih1PWwvYSksYSE9cyYmKGE9PXQ/KG89KHItbikvbCxyPG4mJihvKz02KSk6YT09cj9vPShuLXQpL2wrMjphPT1uJiYobz0odC1yKS9sKzQpLG8qPTYwKSxlLnI9byxlLmc9dSxlLmI9Zn0saS5wcm90b3R5cGUudG9MaW5lYXJTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLHBlKSxlLmc9TWF0aC5wb3codGhpcy5nLHBlKSxlLmI9TWF0aC5wb3codGhpcy5iLHBlKSx0aGlzfSxpLnByb3RvdHlwZS50b0dhbW1hU3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy50b0dhbW1hU3BhY2VUb1JlZihlKSxlfSxpLnByb3RvdHlwZS50b0dhbW1hU3BhY2VUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixhZSksZS5nPU1hdGgucG93KHRoaXMuZyxhZSksZS5iPU1hdGgucG93KHRoaXMuYixhZSksdGhpc30saS5IU1Z0b1JHQlRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXIqdCxzPWUvNjAsbz1hKigxLU1hdGguYWJzKHMlMi0xKSksdT0wLGY9MCxsPTA7cz49MCYmczw9MT8odT1hLGY9byk6cz49MSYmczw9Mj8odT1vLGY9YSk6cz49MiYmczw9Mz8oZj1hLGw9byk6cz49MyYmczw9ND8oZj1vLGw9YSk6cz49NCYmczw9NT8odT1vLGw9YSk6cz49NSYmczw9NiYmKHU9YSxsPW8pO3ZhciBoPXItYTtuLnNldCh1K2gsZitoLGwraCl9LGkuRnJvbUhleFN0cmluZz1mdW5jdGlvbihlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyBpKDAsMCwwKTt2YXIgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxyPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLG49cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNik7cmV0dXJuIGkuRnJvbUludHModCxyLG4pfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0pfSxpLkZyb21BcnJheVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD0wKSxyLnI9ZVt0XSxyLmc9ZVt0KzFdLHIuYj1lW3QrMl19LGkuRnJvbUludHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgaShlLzI1NSx0LzI1NSxyLzI1NSl9LGkuTGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoMCwwLDApO3JldHVybiBpLkxlcnBUb1JlZihlLHQscixuKSxufSxpLkxlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXtuLnI9ZS5yKyh0LnItZS5yKSpyLG4uZz1lLmcrKHQuZy1lLmcpKnIsbi5iPWUuYisodC5iLWUuYikqcn0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5yKnUrci5yKmYrdC5yKmwrbi5yKmgsZD1lLmcqdStyLmcqZit0LmcqbCtuLmcqaCxwPWUuYip1K3IuYipmK3QuYipsK24uYipoO3JldHVybiBuZXcgaShjLGQscCl9LGkuSGVybWl0ZTFzdERlcml2YXRpdmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1pLkJsYWNrKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy5yPShvLWEpKjYqZS5yKygzKm8tNCphKzEpKnQucisoLW8rYSkqNipyLnIrKDMqby0yKmEpKm4ucixzLmc9KG8tYSkqNiplLmcrKDMqby00KmErMSkqdC5nKygtbythKSo2KnIuZysoMypvLTIqYSkqbi5nLHMuYj0oby1hKSo2KmUuYisoMypvLTQqYSsxKSp0LmIrKC1vK2EpKjYqci5iKygzKm8tMiphKSpuLmJ9LGkuUmVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMCwwKX0saS5HcmVlbj1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDEsMCl9LGkuQmx1ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMSl9LGkuQmxhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQmxhY2tSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9CbGFja1JlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuV2hpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDEpfSxpLlB1cnBsZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSguNSwwLC41KX0saS5NYWdlbnRhPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMCwxKX0saS5ZZWxsb3c9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDApfSxpLkdyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoLjUsLjUsLjUpfSxpLlRlYWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwxLDEpfSxpLlJhbmRvbT1mdW5jdGlvbigpe3JldHVybiBuZXcgaShNYXRoLnJhbmRvbSgpLE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSl9LGkuX0JsYWNrUmVhZE9ubHk9aS5CbGFjaygpLGl9KCksRWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTEpLHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1yLHRoaXMuYT1ufXJldHVybiBpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzLmErPWUuYSx0aGlzfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYV19LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLGVbdCszXT10aGlzLmEsdGhpc30saS5wcm90b3R5cGUuZnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGkuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYiYmdGhpcy5hPT09ZS5hfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iLHRoaXMuYStlLmEpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIsdGhpcy5hLWUuYSl9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdC5hPXRoaXMuYS1lLmEsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplLHRoaXMuYSplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUsdC5nPXRoaXMuZyplLHQuYj10aGlzLmIqZSx0LmE9dGhpcy5hKmUsdGhpc30saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0LmErPXRoaXMuYSplLHRoaXN9LGkucHJvdG90eXBlLmNsYW1wVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0xKSxyLnI9ei5DbGFtcCh0aGlzLnIsZSx0KSxyLmc9ei5DbGFtcCh0aGlzLmcsZSx0KSxyLmI9ei5DbGFtcCh0aGlzLmIsZSx0KSxyLmE9ei5DbGFtcCh0aGlzLmEsZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIsdGhpcy5hKmUuYSl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLnIsdC5nPXRoaXMuZyplLmcsdC5iPXRoaXMuYiplLmIsdC5hPXRoaXMuYSplLmEsdH0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIiBBOiIrdGhpcy5hKyJ9In0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkNvbG9yNCJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZT1lKjM5N14odGhpcy5hKjI1NXwwKSxlfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpcy5hPWUuYSx0aGlzfSxpLnByb3RvdHlwZS5jb3B5RnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPXIsdGhpcy5hPW4sdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyLG4pfSxpLnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbihlKXtlPT09dm9pZCAwJiYoZT0hMSk7dmFyIHQ9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSxyPU1hdGgucm91bmQodGhpcy5nKjI1NSksbj1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO2lmKGUpcmV0dXJuIiMiK3ouVG9IZXgodCkrei5Ub0hleChyKSt6LlRvSGV4KG4pO3ZhciBhPU1hdGgucm91bmQodGhpcy5hKjI1NSk7cmV0dXJuIiMiK3ouVG9IZXgodCkrei5Ub0hleChyKSt6LlRvSGV4KG4pK3ouVG9IZXgoYSl9LGkucHJvdG90eXBlLnRvTGluZWFyU3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9MaW5lYXJTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLHBlKSxlLmc9TWF0aC5wb3codGhpcy5nLHBlKSxlLmI9TWF0aC5wb3codGhpcy5iLHBlKSxlLmE9dGhpcy5hLHRoaXN9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLGFlKSxlLmc9TWF0aC5wb3codGhpcy5nLGFlKSxlLmI9TWF0aC5wb3codGhpcy5iLGFlKSxlLmE9dGhpcy5hLHRoaXN9LGkuRnJvbUhleFN0cmluZz1mdW5jdGlvbihlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTkmJmUubGVuZ3RoIT09NylyZXR1cm4gbmV3IGkoMCwwLDAsMCk7dmFyIHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSwzKSwxNikscj1wYXJzZUludChlLnN1YnN0cmluZygzLDUpLDE2KSxuPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTYpLGE9ZS5sZW5ndGg9PT05P3BhcnNlSW50KGUuc3Vic3RyaW5nKDcsOSksMTYpOjI1NTtyZXR1cm4gaS5Gcm9tSW50cyh0LHIsbixhKX0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCwwKTtyZXR1cm4gaS5MZXJwVG9SZWYoZSx0LHIsbiksbn0saS5MZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi5yPWUucisodC5yLWUucikqcixuLmc9ZS5nKyh0LmctZS5nKSpyLG4uYj1lLmIrKHQuYi1lLmIpKnIsbi5hPWUuYSsodC5hLWUuYSkqcn0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5yKnUrci5yKmYrdC5yKmwrbi5yKmgsZD1lLmcqdStyLmcqZit0LmcqbCtuLmcqaCxwPWUuYip1K3IuYipmK3QuYipsK24uYipoLGc9ZS5hKnUrci5hKmYrdC5hKmwrbi5hKmg7cmV0dXJuIG5ldyBpKGMsZCxwLGcpfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bmV3IGk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy5yPShvLWEpKjYqZS5yKygzKm8tNCphKzEpKnQucisoLW8rYSkqNipyLnIrKDMqby0yKmEpKm4ucixzLmc9KG8tYSkqNiplLmcrKDMqby00KmErMSkqdC5nKygtbythKSo2KnIuZysoMypvLTIqYSkqbi5nLHMuYj0oby1hKSo2KmUuYisoMypvLTQqYSsxKSp0LmIrKC1vK2EpKjYqci5iKygzKm8tMiphKSpuLmIscy5hPShvLWEpKjYqZS5hKygzKm8tNCphKzEpKnQuYSsoLW8rYSkqNipyLmErKDMqby0yKmEpKm4uYX0saS5Gcm9tQ29sb3IzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTEpLG5ldyBpKGUucixlLmcsZS5iLHQpfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9MCksci5yPWVbdF0sci5nPWVbdCsxXSxyLmI9ZVt0KzJdLHIuYT1lW3QrM119LGkuRnJvbUludHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKGUvMjU1LHQvMjU1LHIvMjU1LG4vMjU1KX0saS5DaGVja0NvbG9yczQ9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aD09PXQqMyl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rPTMpe3ZhciBhPW4vMyo0O3JbYV09ZVtuXSxyW2ErMV09ZVtuKzFdLHJbYSsyXT1lW24rMl0sclthKzNdPTF9cmV0dXJuIHJ9cmV0dXJuIGV9LGl9KCksaHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkNvbG9yMz1BZS5CdWlsZEFycmF5KDMsYmUuQmxhY2spLGkuQ29sb3I0PUFlLkJ1aWxkQXJyYXkoMyxmdW5jdGlvbigpe3JldHVybiBuZXcgRWUoMCwwLDAsMCl9KSxpfSgpO3dlKCJCQUJZTE9OLkNvbG9yMyIsYmUpLHdlKCJCQUJZTE9OLkNvbG9yNCIsRWUpO3ZhciBSaT1mdW5jdGlvbihpLGUpe3JldHVybiFpfHxpLmdldENsYXNzTmFtZSYmaS5nZXRDbGFzc05hbWUoKT09PSJNZXNoIj9udWxsOmkuZ2V0Q2xhc3NOYW1lJiZpLmdldENsYXNzTmFtZSgpPT09IlN1Yk1lc2giP2kuY2xvbmUoZSk6aS5jbG9uZT9pLmNsb25lKCk6bnVsbH07ZnVuY3Rpb24gR24oaSl7dmFyIGU9W107ZG8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaSkuZm9yRWFjaChmdW5jdGlvbih0KXtlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpfSk7d2hpbGUoaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSkpO3JldHVybiBlfXZhciB6cj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuRGVlcENvcHk9ZnVuY3Rpb24oZSx0LHIsbil7Zm9yKHZhciBhPUduKGUpLHM9MCxvPWE7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107aWYoISh1WzBdPT09Il8iJiYoIW58fG4uaW5kZXhPZih1KT09PS0xKSkmJiF1LmVuZHNXaXRoKCJPYnNlcnZhYmxlIikmJiEociYmci5pbmRleE9mKHUpIT09LTEpKXt2YXIgZj1lW3VdLGw9dHlwZW9mIGY7aWYobCE9PSJmdW5jdGlvbiIpdHJ5e2lmKGw9PT0ib2JqZWN0IilpZihmIGluc3RhbmNlb2YgQXJyYXkpe2lmKHRbdV09W10sZi5sZW5ndGg+MClpZih0eXBlb2YgZlswXT09Im9iamVjdCIpZm9yKHZhciBoPTA7aDxmLmxlbmd0aDtoKyspe3ZhciBjPVJpKGZbaF0sdCk7dFt1XS5pbmRleE9mKGMpPT09LTEmJnRbdV0ucHVzaChjKX1lbHNlIHRbdV09Zi5zbGljZSgwKX1lbHNlIHRbdV09UmkoZix0KTtlbHNlIHRbdV09Zn1jYXRjaChkKXtrLldhcm4oZC5tZXNzYWdlKX19fX0saX0oKTtmdW5jdGlvbiBYbigpe3JldHVybiB0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q/bmV3IF9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q6bmV3IFhNTEh0dHBSZXF1ZXN0fXZhciBjcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl94aHI9WG4oKSx0aGlzLl9yZXF1ZXN0VVJMPSIifXJldHVybiBpLnByb3RvdHlwZS5faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHRoaXMuX3JlcXVlc3RVUkwpKWZvcih2YXIgZSBpbiBpLkN1c3RvbVJlcXVlc3RIZWFkZXJzKXt2YXIgdD1pLkN1c3RvbVJlcXVlc3RIZWFkZXJzW2VdO3QmJnRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9fSxpLnByb3RvdHlwZS5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBpLlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETiYmKGUuaW5jbHVkZXMoInByZXZpZXcuYmFieWxvbmpzLmNvbSIpfHxlLmluY2x1ZGVzKCJjZG4uYmFieWxvbmpzLmNvbSIpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbnByb2dyZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5vbnByb2dyZXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feGhyLm9ucHJvZ3Jlc3M9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlYWR5U3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlYWR5U3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGF0dXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0YXR1c1RleHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c1RleHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZXNwb25zZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZXNwb25zZVVSTCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VVUkx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZXNwb25zZVRleHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVGV4dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlc3BvbnNlVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feGhyLnJlc3BvbnNlVHlwZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidGltZW91dCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIudGltZW91dH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3hoci50aW1lb3V0PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQscil7dGhpcy5feGhyLmFkZEV2ZW50TGlzdGVuZXIoZSx0LHIpfSxpLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl94aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQscil9LGkucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5feGhyLmFib3J0KCl9LGkucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7aS5DdXN0b21SZXF1ZXN0SGVhZGVycyYmdGhpcy5faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKSx0aGlzLl94aHIuc2VuZChlKX0saS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49aS5DdXN0b21SZXF1ZXN0TW9kaWZpZXJzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKHRoaXMuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyh0KSlyZXR1cm47YSh0aGlzLl94aHIsdCl9cmV0dXJuIHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHA6IiwiaHR0cDoiKSx0PXQucmVwbGFjZSgiZmlsZTpodHRwczoiLCJodHRwczoiKSx0aGlzLl9yZXF1ZXN0VVJMPXQsdGhpcy5feGhyLm9wZW4oZSx0LCEwKX0saS5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbihlLHQpe3RoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9LGkucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94aHIuZ2V0UmVzcG9uc2VIZWFkZXIoZSl9LGkuQ3VzdG9tUmVxdWVzdEhlYWRlcnM9e30saS5DdXN0b21SZXF1ZXN0TW9kaWZpZXJzPW5ldyBBcnJheSxpLlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETj0hMCxpfSgpLGRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5GaWxlc1RvTG9hZD17fSxpfSgpLEhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5FeHBvbmVudGlhbEJhY2tvZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MyksdD09PXZvaWQgMCYmKHQ9NTAwKSxmdW5jdGlvbihyLG4sYSl7cmV0dXJuIG4uc3RhdHVzIT09MHx8YT49ZXx8ci5pbmRleE9mKCJmaWxlOiIpIT09LTE/LTE6TWF0aC5wb3coMixhKSp0fX0saX0oKSwkdD1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUuX3NldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5fX3Byb3RvX189cix0fSxlfShFcnJvciksQ3Q9e01lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3I6MCxVbnN1cHBvcnRlZFRleHR1cmVFcnJvcjoxZTMsR0xURkxvYWRlclVuZXhwZWN0ZWRNYWdpY0Vycm9yOjJlMyxTY2VuZUxvYWRlckVycm9yOjNlMyxMb2FkRmlsZUVycm9yOjRlMyxSZXF1ZXN0RmlsZUVycm9yOjQwMDEsUmVhZEZpbGVFcnJvcjo0MDAyfSx4dD1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGEuZXJyb3JDb2RlPXIsYS5pbm5lckVycm9yPW4sYS5uYW1lPSJSdW50aW1lRXJyb3IiLCR0Ll9zZXRQcm90b3R5cGVPZihhLGUucHJvdG90eXBlKSxhfXJldHVybiBlfSgkdCksUGk9ZnVuY3Rpb24oaSl7Zm9yKHZhciBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSIsdD0iIixyLG4sYSxzLG8sdSxmLGw9MCxoPUFycmF5QnVmZmVyLmlzVmlldyhpKT9uZXcgVWludDhBcnJheShpLmJ1ZmZlcixpLmJ5dGVPZmZzZXQsaS5ieXRlTGVuZ3RoKTpuZXcgVWludDhBcnJheShpKTtsPGgubGVuZ3RoOylyPWhbbCsrXSxuPWw8aC5sZW5ndGg/aFtsKytdOk51bWJlci5OYU4sYT1sPGgubGVuZ3RoP2hbbCsrXTpOdW1iZXIuTmFOLHM9cj4+MixvPShyJjMpPDw0fG4+PjQsdT0obiYxNSk8PDJ8YT4+NixmPWEmNjMsaXNOYU4obik/dT1mPTY0OmlzTmFOKGEpJiYoZj02NCksdCs9ZS5jaGFyQXQocykrZS5jaGFyQXQobykrZS5jaGFyQXQodSkrZS5jaGFyQXQoZik7cmV0dXJuIHR9LENpPWZ1bmN0aW9uKGkpe3JldHVybiBhdG9iKGkpfSxqbj1mdW5jdGlvbihpKXtmb3IodmFyIGU9Q2koaSksdD1lLmxlbmd0aCxyPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0KSksbj0wO248dDtuKyspcltuXT1lLmNoYXJDb2RlQXQobik7cmV0dXJuIHIuYnVmZmVyfSxwcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuU2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGUpe3llKCkmJndpbmRvdy5zZXRJbW1lZGlhdGU/d2luZG93LnNldEltbWVkaWF0ZShlKTpzZXRUaW1lb3V0KGUsMSl9LGl9KCksS249bmV3IFJlZ0V4cCgvXmRhdGE6KFteLF0rXC9bXixdKyk/O2Jhc2U2NCwvaSkseGk9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LEN0LkxvYWRGaWxlRXJyb3IpfHx0aGlzO3JldHVybiBuLm5hbWU9IkxvYWRGaWxlRXJyb3IiLCR0Ll9zZXRQcm90b3R5cGVPZihuLGUucHJvdG90eXBlKSxyIGluc3RhbmNlb2YgY3I/bi5yZXF1ZXN0PXI6bi5maWxlPXIsbn1yZXR1cm4gZX0oeHQpLERpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxDdC5SZXF1ZXN0RmlsZUVycm9yKXx8dGhpcztyZXR1cm4gbi5yZXF1ZXN0PXIsbi5uYW1lPSJSZXF1ZXN0RmlsZUVycm9yIiwkdC5fc2V0UHJvdG90eXBlT2YobixlLnByb3RvdHlwZSksbn1yZXR1cm4gZX0oeHQpLFluPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxDdC5SZWFkRmlsZUVycm9yKXx8dGhpcztyZXR1cm4gbi5maWxlPXIsbi5uYW1lPSJSZWFkRmlsZUVycm9yIiwkdC5fc2V0UHJvdG90eXBlT2YobixlLnByb3RvdHlwZSksbn1yZXR1cm4gZX0oeHQpLFJlPXtEZWZhdWx0UmV0cnlTdHJhdGVneTpIbi5FeHBvbmVudGlhbEJhY2tvZmYoKSxCYXNlVXJsOiIiLENvcnNCZWhhdmlvcjoiYW5vbnltb3VzIixQcmVwcm9jZXNzVXJsOmZ1bmN0aW9uKGkpe3JldHVybiBpfX0sSWk9ZnVuY3Rpb24oaSl7cmV0dXJuIGk9aS5yZXBsYWNlKC8jL2dtLCIlMjMiKSxpfSxHcj1mdW5jdGlvbihpLGUpe2lmKCEoaSYmaS5pbmRleE9mKCJkYXRhOiIpPT09MCkmJlJlLkNvcnNCZWhhdmlvcilpZih0eXBlb2YgUmUuQ29yc0JlaGF2aW9yPT0ic3RyaW5nInx8UmUuQ29yc0JlaGF2aW9yIGluc3RhbmNlb2YgU3RyaW5nKWUuY3Jvc3NPcmlnaW49UmUuQ29yc0JlaGF2aW9yO2Vsc2V7dmFyIHQ9UmUuQ29yc0JlaGF2aW9yKGkpO3QmJihlLmNyb3NzT3JpZ2luPXQpfX0sWHI9ZnVuY3Rpb24oaSxlLHQscixuLGEpe3ZhciBzO249PT12b2lkIDAmJihuPSIiKTt2YXIgbyx1PSExO2kgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGkpP3R5cGVvZiBCbG9iPCJ1Ij8obz1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtpXSx7dHlwZTpufSkpLHU9ITApOm89ImRhdGE6Ii5jb25jYXQobiwiO2Jhc2U2NCwiKStQaShpKTppIGluc3RhbmNlb2YgQmxvYj8obz1VUkwuY3JlYXRlT2JqZWN0VVJMKGkpLHU9ITApOihvPUlpKGkpLG89UmUuUHJlcHJvY2Vzc1VybChpKSk7dmFyIGY9cmUuTGFzdENyZWF0ZWRFbmdpbmUsbD1mdW5jdGlvbih5KXtpZih0KXt2YXIgRT1vfHxpLnRvU3RyaW5nKCk7dCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIuY29uY2F0KEUuaW5kZXhPZigiaHR0cCIpPT09MHx8RS5sZW5ndGg8PTEyOD9FOkUuc2xpY2UoMCwxMjgpKyIuLi4iKSx5KX19O2lmKHR5cGVvZiBJbWFnZT4idSJ8fCgocz1mPT1udWxsP3ZvaWQgMDpmLl9mZWF0dXJlcy5mb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50KSE9PW51bGwmJnMhPT12b2lkIDA/czohMSkpcmV0dXJuIER0KG8sZnVuY3Rpb24oeSl7Zi5jcmVhdGVJbWFnZUJpdG1hcChuZXcgQmxvYihbeV0se3R5cGU6bn0pLGJ0KHtwcmVtdWx0aXBseUFscGhhOiJub25lIn0sYSkpLnRoZW4oZnVuY3Rpb24oRSl7ZShFKSx1JiZVUkwucmV2b2tlT2JqZWN0VVJMKG8pfSkuY2F0Y2goZnVuY3Rpb24oRSl7dCYmdCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIraSxFKX0pfSx2b2lkIDAscnx8dm9pZCAwLCEwLGZ1bmN0aW9uKHksRSl7bChFKX0pLG51bGw7dmFyIGg9bmV3IEltYWdlO0dyKG8saCk7dmFyIGM9ZnVuY3Rpb24oKXtoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGMpLGgucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGUoaCksdSYmaC5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwoaC5zcmMpfSxkPWZ1bmN0aW9uKHkpe2gucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsYyksaC5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsZCksbCh5KSx1JiZoLnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTChoLnNyYyl9O2guYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsYyksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCk7dmFyIHA9ZnVuY3Rpb24oKXtoLnNyYz1vfSxnPWZ1bmN0aW9uKCl7ciYmci5sb2FkSW1hZ2UobyxoKX07aWYoby5zdWJzdHIoMCw1KSE9PSJibG9iOiImJm8uc3Vic3RyKDAsNSkhPT0iZGF0YToiJiZyJiZyLmVuYWJsZVRleHR1cmVzT2ZmbGluZSlyLm9wZW4oZyxwKTtlbHNle2lmKG8uaW5kZXhPZigiZmlsZToiKSE9PS0xKXt2YXIgXz1kZWNvZGVVUklDb21wb25lbnQoby5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7aWYoZHIuRmlsZXNUb0xvYWRbX10pe3RyeXt2YXIgdj12b2lkIDA7dHJ5e3Y9VVJMLmNyZWF0ZU9iamVjdFVSTChkci5GaWxlc1RvTG9hZFtfXSl9Y2F0Y2h7dj1VUkwuY3JlYXRlT2JqZWN0VVJMKGRyLkZpbGVzVG9Mb2FkW19dKX1oLnNyYz12LHU9ITB9Y2F0Y2h7aC5zcmM9IiJ9cmV0dXJuIGh9fXAoKX1yZXR1cm4gaH0sSnQ9ZnVuY3Rpb24oaSxlLHQscixuKXt2YXIgYT1uZXcgRmlsZVJlYWRlcixzPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiBhLmFib3J0KCl9fTtyZXR1cm4gYS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gcy5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyl9LG4mJihhLm9uZXJyb3I9ZnVuY3Rpb24oKXtuKG5ldyBZbigiVW5hYmxlIHRvIHJlYWQgIi5jb25jYXQoaS5uYW1lKSxpKSl9KSxhLm9ubG9hZD1mdW5jdGlvbihvKXtlKG8udGFyZ2V0LnJlc3VsdCl9LHQmJihhLm9ucHJvZ3Jlc3M9dCkscj9hLnJlYWRBc0FycmF5QnVmZmVyKGkpOmEucmVhZEFzVGV4dChpKSxzfSxEdD1mdW5jdGlvbihpLGUsdCxyLG4sYSxzKXtpZihpLm5hbWUpcmV0dXJuIEp0KGksZSx0LG4sYT9mdW5jdGlvbihoKXthKHZvaWQgMCxoKX06dm9pZCAwKTt2YXIgbz1pO2lmKG8uaW5kZXhPZigiZmlsZToiKSE9PS0xKXt2YXIgdT1kZWNvZGVVUklDb21wb25lbnQoby5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7dS5pbmRleE9mKCIuLyIpPT09MCYmKHU9dS5zdWJzdHJpbmcoMikpO3ZhciBmPWRyLkZpbGVzVG9Mb2FkW3VdO2lmKGYpcmV0dXJuIEp0KGYsZSx0LG4sYT9mdW5jdGlvbihoKXtyZXR1cm4gYSh2b2lkIDAsbmV3IHhpKGgubWVzc2FnZSxoLmZpbGUpKX06dm9pZCAwKX1pZihfcihvKSl7dmFyIGw9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBPLGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX19O3RyeXtlKG4/anIobyk6RmkobykpfWNhdGNoKGgpe2E/YSh2b2lkIDAsaCk6ay5FcnJvcihoLm1lc3NhZ2V8fCJGYWlsZWQgdG8gcGFyc2UgdGhlIERhdGEgVVJMIil9cmV0dXJuIHByLlNldEltbWVkaWF0ZShmdW5jdGlvbigpe2wub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwpfSksbH1yZXR1cm4gSHIobyxmdW5jdGlvbihoLGMpe2UoaCxjP2MucmVzcG9uc2VVUkw6dm9pZCAwKX0sdCxyLG4sYT9mdW5jdGlvbihoKXthKGgucmVxdWVzdCxuZXcgeGkoaC5tZXNzYWdlLGgucmVxdWVzdCkpfTp2b2lkIDAscyl9LEhyPWZ1bmN0aW9uKGksZSx0LHIsbixhLHMpe2k9SWkoaSksaT1SZS5QcmVwcm9jZXNzVXJsKGkpO3ZhciBvPVJlLkJhc2VVcmwraSx1PSExLGY9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBPLGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHU9ITB9fSxsPWZ1bmN0aW9uKCl7dmFyIGQ9bmV3IGNyLHA9bnVsbCxnLF89ZnVuY3Rpb24oKXshZHx8KHQmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLGcmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZyksZC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIix2KSl9LHY9ZnVuY3Rpb24oKXtfKCksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZiksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5jbGVhcigpLHQ9dm9pZCAwLGc9bnVsbCx2PW51bGwsYT12b2lkIDAscz12b2lkIDAsZT12b2lkIDB9O2YuYWJvcnQ9ZnVuY3Rpb24oKXt1PSEwLHYmJnYoKSxkJiZkLnJlYWR5U3RhdGUhPT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkmJmQuYWJvcnQoKSxwIT09bnVsbCYmKGNsZWFyVGltZW91dChwKSxwPW51bGwpLGQ9bnVsbH07dmFyIHk9ZnVuY3Rpb24oUil7dmFyIE09Ui5tZXNzYWdlfHwiVW5rbm93biBlcnJvciI7YSYmZD9hKG5ldyBEaShNLGQpKTprLkVycm9yKE0pfSxFPWZ1bmN0aW9uKFIpe2lmKCEhZCl7aWYoZC5vcGVuKCJHRVQiLG8pLHMpdHJ5e3MoZCl9Y2F0Y2goTSl7eShNKTtyZXR1cm59biYmKGQucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpLHQmJmQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLHYmJmQuYWRkRXZlbnRMaXN0ZW5lcigibG9hZGVuZCIsdiksZz1mdW5jdGlvbigpe2lmKCEodXx8IWQpJiZkLnJlYWR5U3RhdGU9PT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkpe2lmKGcmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZyksZC5zdGF0dXM+PTIwMCYmZC5zdGF0dXM8MzAwfHxkLnN0YXR1cz09PTAmJigheWUoKXx8T2koKSkpe3RyeXtlJiZlKG4/ZC5yZXNwb25zZTpkLnJlc3BvbnNlVGV4dCxkKX1jYXRjaChTKXt5KFMpfXJldHVybn12YXIgTT1SZS5EZWZhdWx0UmV0cnlTdHJhdGVneTtpZihNKXt2YXIgQz1NKG8sZCxSKTtpZihDIT09LTEpe18oKSxkPW5ldyBjcixwPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gRShSKzEpfSxDKTtyZXR1cm59fXZhciBBPW5ldyBEaSgiRXJyb3Igc3RhdHVzOiAiK2Quc3RhdHVzKyIgIitkLnN0YXR1c1RleHQrIiAtIFVuYWJsZSB0byBsb2FkICIrbyxkKTthJiZhKEEpfX0sZC5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixnKSxkLnNlbmQoKX19O0UoMCl9O2lmKHImJnIuZW5hYmxlU2NlbmVPZmZsaW5lKXt2YXIgaD1mdW5jdGlvbihkKXtkJiZkLnN0YXR1cz40MDA/YSYmYShkKTpsKCl9LGM9ZnVuY3Rpb24oKXtyJiZyLmxvYWRGaWxlKFJlLkJhc2VVcmwraSxmdW5jdGlvbihkKXshdSYmZSYmZShkKSxmLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhmKX0sdD9mdW5jdGlvbihkKXshdSYmdCYmdChkKX06dm9pZCAwLGgsbil9O3Iub3BlbihjLGgpfWVsc2UgbCgpO3JldHVybiBmfSxPaT1mdW5jdGlvbigpe3JldHVybiB0eXBlb2YgbG9jYXRpb248InUiJiZsb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiJ9LF9yPWZ1bmN0aW9uKGkpe3JldHVybiBLbi50ZXN0KGkpfTtmdW5jdGlvbiBqcihpKXtyZXR1cm4gam4oaS5zcGxpdCgiLCIpWzFdKX12YXIgRmk9ZnVuY3Rpb24oaSl7cmV0dXJuIENpKGkuc3BsaXQoIiwiKVsxXSl9LFpuPWZ1bmN0aW9uKCl7ZmUuX0ZpbGVUb29sc0xvYWRJbWFnZT1YcixmZS5fRmlsZVRvb2xzTG9hZEZpbGU9RHQsWXQuX0ZpbGVUb29sc0xvYWRGaWxlPUR0fTtabigpO3ZhciBlcixxbj1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8sdSxmKXtlcj17RGVjb2RlQmFzZTY0VXJsVG9CaW5hcnk6aSxEZWNvZGVCYXNlNjRVcmxUb1N0cmluZzplLERlZmF1bHRSZXRyeVN0cmF0ZWd5OnQuRGVmYXVsdFJldHJ5U3RyYXRlZ3ksQmFzZVVybDp0LkJhc2VVcmwsQ29yc0JlaGF2aW9yOnQuQ29yc0JlaGF2aW9yLFByZXByb2Nlc3NVcmw6dC5QcmVwcm9jZXNzVXJsLElzQmFzZTY0RGF0YVVybDpyLElzRmlsZVVSTDpuLExvYWRGaWxlOmEsTG9hZEltYWdlOnMsUmVhZEZpbGU6byxSZXF1ZXN0RmlsZTp1LFNldENvcnNCZWhhdmlvcjpmfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXIsIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihsKXt0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGVyLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGwpe3QuQmFzZVVybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlciwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlByZXByb2Nlc3NVcmx9LHNldDpmdW5jdGlvbihsKXt0LlByZXByb2Nlc3NVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXIsIkNvcnNCZWhhdmlvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGwpe3QuQ29yc0JlaGF2aW9yPWx9fSl9O3FuKGpyLEZpLFJlLF9yLE9pLER0LFhyLEp0LEhyLEdyKTt2YXIgZ3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkluc3RhbnRpYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyYmdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdKXJldHVybiB0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXNbZV07dmFyIHQ9UnQoZSk7aWYodClyZXR1cm4gdDtrLldhcm4oZSsiIG5vdCBmb3VuZCwgeW91IG1heSBoYXZlIG1pc3NlZCBhbiBpbXBvcnQuIik7Zm9yKHZhciByPWUuc3BsaXQoIi4iKSxuPXdpbmRvd3x8dGhpcyxhPTAscz1yLmxlbmd0aDthPHM7YSsrKW49bltyW2FdXTtyZXR1cm4gdHlwZW9mIG4hPSJmdW5jdGlvbiI/bnVsbDpufSxpLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9e30saX0oKTtmdW5jdGlvbiB3aSgpe3JldHVybiJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZyxmdW5jdGlvbihpKXt2YXIgZT1NYXRoLnJhbmRvbSgpKjE2fDAsdD1pPT09IngiP2U6ZSYzfDg7cmV0dXJuIHQudG9TdHJpbmcoMTYpfSl9dmFyIF9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkJhc2VVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGUpe1JlLkJhc2VVcmw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRGVmYXVsdFJldHJ5U3RyYXRlZ3kiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihlKXtSZS5EZWZhdWx0UmV0cnlTdHJhdGVneT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJDb3JzQmVoYXZpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuQ29yc0JlaGF2aW9yfSxzZXQ6ZnVuY3Rpb24oZSl7UmUuQ29yc0JlaGF2aW9yPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVzZUZhbGxiYWNrVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiByZS5Vc2VGYWxsYmFja1RleHR1cmV9LHNldDpmdW5jdGlvbihlKXtyZS5Vc2VGYWxsYmFja1RleHR1cmU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiBnci5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzfSxzZXQ6ZnVuY3Rpb24oZSl7Z3IuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJmYWxsYmFja1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcmUuRmFsbGJhY2tUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7cmUuRmFsbGJhY2tUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5GZXRjaFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1NYXRoLmFicyhlKSpyJXJ8MCx1PU1hdGguYWJzKHQpKm4lbnwwLGY9KG8rdSpyKSo0O3Mucj1hW2ZdLzI1NSxzLmc9YVtmKzFdLzI1NSxzLmI9YVtmKzJdLzI1NSxzLmE9YVtmKzNdLzI1NX0saS5NaXg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlKigxLXIpK3Qqcn0saS5JbnN0YW50aWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZ3IuSW5zdGFudGlhdGUoZSl9LGkuU2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGUpe3ByLlNldEltbWVkaWF0ZShlKX0saS5Jc0V4cG9uZW50T2ZUd289ZnVuY3Rpb24oZSl7dmFyIHQ9MTtkbyB0Kj0yO3doaWxlKHQ8ZSk7cmV0dXJuIHQ9PT1lfSxpLkZsb2F0Um91bmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZnJvdW5kP01hdGguZnJvdW5kKGUpOihpLl9UbXBGbG9hdEFycmF5WzBdPWUsaS5fVG1wRmxvYXRBcnJheVswXSl9LGkuR2V0RmlsZW5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiB0PDA/ZTplLnN1YnN0cmluZyh0KzEpfSxpLkdldEZvbGRlclBhdGg9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiByPDA/dD9lOiIiOmUuc3Vic3RyaW5nKDAscisxKX0saS5Ub0RlZ3JlZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUqMTgwL01hdGguUEl9LGkuVG9SYWRpYW5zPWZ1bmN0aW9uKGUpe3JldHVybiBlKk1hdGguUEkvMTgwfSxpLk1ha2VBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0IT09ITAmJihlPT09dm9pZCAwfHxlPT1udWxsKT9udWxsOkFycmF5LmlzQXJyYXkoZSk/ZTpbZV19LGkuR2V0UG9pbnRlclByZWZpeD1mdW5jdGlvbihlKXt2YXIgdD0icG9pbnRlciI7cmV0dXJuIHllKCkmJiF3aW5kb3cuUG9pbnRlckV2ZW50JiYodD0ibW91c2UiKSxlLl9iYWREZXNrdG9wT1MmJiFlLl9iYWRPUyYmIShkb2N1bWVudCYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnQpJiYodD0ibW91c2UiKSx0fSxpLlNldENvcnNCZWhhdmlvcj1mdW5jdGlvbihlLHQpe0dyKGUsdCl9LGkuQ2xlYW5Vcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC8jL2dtLCIlMjMiKSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiBSZS5QcmVwcm9jZXNzVXJsfSxzZXQ6ZnVuY3Rpb24oZSl7UmUuUHJlcHJvY2Vzc1VybD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuTG9hZEltYWdlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gWHIoZSx0LHIsbixhLHMpfSxpLkxvYWRGaWxlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gRHQoZSx0LHIsbixhLHMpfSxpLkxvYWRGaWxlQXN5bmM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7RHQoZSxmdW5jdGlvbihhKXtyKGEpfSx2b2lkIDAsdm9pZCAwLHQsZnVuY3Rpb24oYSxzKXtuKHMpfSl9KX0saS5Mb2FkU2NyaXB0PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEheWUoKSl7dmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Muc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9qYXZhc2NyaXB0Iikscy5zZXRBdHRyaWJ1dGUoInNyYyIsZSksbiYmKHMuaWQ9bikscy5vbmxvYWQ9ZnVuY3Rpb24oKXt0JiZ0KCl9LHMub25lcnJvcj1mdW5jdGlvbihvKXtyJiZyKCJVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyIuY29uY2F0KGUsIiciKSxvKX0sYS5hcHBlbmRDaGlsZChzKX19LGkuTG9hZFNjcmlwdEFzeW5jPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7dC5Mb2FkU2NyaXB0KGUsZnVuY3Rpb24oKXtyKCl9LGZ1bmN0aW9uKGEscyl7bihzKX0pfSl9LGkuUmVhZEZpbGVBc0RhdGFVUkw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBGaWxlUmVhZGVyLGE9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBPLGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uYWJvcnQoKX19O3JldHVybiBuLm9ubG9hZGVuZD1mdW5jdGlvbigpe2Eub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpfSxuLm9ubG9hZD1mdW5jdGlvbihzKXt0KHMudGFyZ2V0LnJlc3VsdCl9LG4ub25wcm9ncmVzcz1yLG4ucmVhZEFzRGF0YVVSTChlKSxhfSxpLlJlYWRGaWxlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIEp0KGUsdCxyLG4sYSl9LGkuRmlsZUFzVVJMPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBCbG9iKFtlXSkscj13aW5kb3cuVVJMfHx3aW5kb3cud2Via2l0VVJMLG49ci5jcmVhdGVPYmplY3RVUkwodCk7cmV0dXJuIG59LGkuRm9ybWF0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTIpLGUudG9GaXhlZCh0KX0saS5EZWVwQ29weT1mdW5jdGlvbihlLHQscixuKXt6ci5EZWVwQ29weShlLHQscixuKX0saS5Jc0VtcHR5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfSxpLlJlZ2lzdGVyVG9wUm9vdEV2ZW50cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO2UuYWRkRXZlbnRMaXN0ZW5lcihuLm5hbWUsbi5oYW5kbGVyLCExKTt0cnl7d2luZG93LnBhcmVudCYmd2luZG93LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKG4ubmFtZSxuLmhhbmRsZXIsITEpfWNhdGNoe319fSxpLlVucmVnaXN0ZXJUb3BSb290RXZlbnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4ubmFtZSxuLmhhbmRsZXIpO3RyeXtlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLm5hbWUsbi5oYW5kbGVyKX1jYXRjaHt9fX0saS5EdW1wRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3JldHVybiBhPT09dm9pZCAwJiYoYT0iaW1hZ2UvcG5nIiksQnIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG8sdTtyZXR1cm4gRnQodGhpcyxmdW5jdGlvbihmKXtzd2l0Y2goZi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHIucmVhZFBpeGVscygwLDAsZSx0KV07Y2FzZSAxOnJldHVybiBvPWYuc2VudCgpLHU9bmV3IFVpbnQ4QXJyYXkoby5idWZmZXIpLGkuRHVtcERhdGEoZSx0LHUsbixhLHMsITApLFsyXX19KX0pfSxpLkR1bXBEYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXthPT09dm9pZCAwJiYoYT0iaW1hZ2UvcG5nIiksbz09PXZvaWQgMCYmKG89ITEpLHU9PT12b2lkIDAmJih1PSExKSxpLl9TY3JlZW5zaG90Q2FudmFzfHwoaS5fU2NyZWVuc2hvdENhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksaS5fU2NyZWVuc2hvdENhbnZhcy53aWR0aD1lLGkuX1NjcmVlbnNob3RDYW52YXMuaGVpZ2h0PXQ7dmFyIGw9aS5fU2NyZWVuc2hvdENhbnZhcy5nZXRDb250ZXh0KCIyZCIpO2lmKGwpe2lmKHIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2Zvcih2YXIgaD1uZXcgVWludDhBcnJheShyLmxlbmd0aCksYz1yLmxlbmd0aDtjLS07KXt2YXIgZD1yW2NdO2hbY109ZDwwPzA6ZD4xPzE6TWF0aC5yb3VuZChkKjI1NSl9cj1ofXZhciBwPWwuY3JlYXRlSW1hZ2VEYXRhKGUsdCksZz1wLmRhdGE7Zy5zZXQociksbC5wdXRJbWFnZURhdGEocCwwLDApO3ZhciBfPWkuX1NjcmVlbnNob3RDYW52YXM7aWYobyl7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7di53aWR0aD1lLHYuaGVpZ2h0PXQ7dmFyIHk9di5nZXRDb250ZXh0KCIyZCIpO2lmKCF5KXJldHVybjt5LnRyYW5zbGF0ZSgwLHQpLHkuc2NhbGUoMSwtMSkseS5kcmF3SW1hZ2UoaS5fU2NyZWVuc2hvdENhbnZhcywwLDApLF89dn11P2kuVG9CbG9iKF8sZnVuY3Rpb24oRSl7dmFyIFI9bmV3IEZpbGVSZWFkZXI7Ui5vbmxvYWQ9ZnVuY3Rpb24oTSl7dmFyIEM9TS50YXJnZXQucmVzdWx0O24mJm4oQyl9LFIucmVhZEFzQXJyYXlCdWZmZXIoRSl9LGEsZik6aS5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShuLGEscyxfLGYpfX0saS5EdW1wRGF0YUFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7cmV0dXJuIG49PT12b2lkIDAmJihuPSJpbWFnZS9wbmciKSxzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITEpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGYpe2kuRHVtcERhdGEoZSx0LHIsZnVuY3Rpb24obCl7cmV0dXJuIGYobCl9LG4sYSxzLG8sdSl9KX0saS5Ub0Jsb2I9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ImltYWdlL3BuZyIpLGUudG9CbG9ifHwoZS50b0Jsb2I9ZnVuY3Rpb24oYSxzLG8pe3ZhciB1PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgZj1hdG9iKHUudG9EYXRhVVJMKHMsbykuc3BsaXQoIiwiKVsxXSksbD1mLmxlbmd0aCxoPW5ldyBVaW50OEFycmF5KGwpLGM9MDtjPGw7YysrKWhbY109Zi5jaGFyQ29kZUF0KGMpO2EobmV3IEJsb2IoW2hdKSl9KX0pLGUudG9CbG9iKGZ1bmN0aW9uKGEpe3QoYSl9LHIsbil9LGkuRW5jb2RlU2NyZWVuc2hvdENhbnZhc0RhdGE9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0iaW1hZ2UvcG5nIiksZSl7dmFyIHM9KG4hPW51bGw/bjppLl9TY3JlZW5zaG90Q2FudmFzKS50b0RhdGFVUkwodCxhKTtlKHMpfWVsc2UgdGhpcy5Ub0Jsb2IobiE9bnVsbD9uOmkuX1NjcmVlbnNob3RDYW52YXMsZnVuY3Rpb24obyl7aWYoImRvd25sb2FkImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSl7aWYoIXIpe3ZhciB1PW5ldyBEYXRlLGY9KHUuZ2V0RnVsbFllYXIoKSsiLSIrKHUuZ2V0TW9udGgoKSsxKSkuc2xpY2UoMikrIi0iK3UuZ2V0RGF0ZSgpKyJfIit1LmdldEhvdXJzKCkrIi0iKygiMCIrdS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTtyPSJzY3JlZW5zaG90XyIrZisiLnBuZyJ9aS5Eb3dubG9hZChvLHIpfWVsc2UgaWYobyl7dmFyIGw9VVJMLmNyZWF0ZU9iamVjdFVSTChvKSxoPXdpbmRvdy5vcGVuKCIiKTtpZighaClyZXR1cm47dmFyIGM9aC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLm9ubG9hZD1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwobCl9LGMuc3JjPWwsaC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpfX0sdCxhKX0saS5Eb3dubG9hZD1mdW5jdGlvbihlLHQpe2lmKG5hdmlnYXRvciYmbmF2aWdhdG9yLm1zU2F2ZUJsb2Ipe25hdmlnYXRvci5tc1NhdmVCbG9iKGUsdCk7cmV0dXJufXZhciByPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksbi5zdHlsZS5kaXNwbGF5PSJub25lIixuLmhyZWY9cixuLmRvd25sb2FkPXQsbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtuLnBhcmVudEVsZW1lbnQmJm4ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChuKX0pLG4uY2xpY2soKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChyKX0saS5CYWNrQ29tcGF0Q2FtZXJhTm9QcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGVbMF09PSJib29sZWFuIj9lWzBdOnR5cGVvZiBlWzFdPT0iYm9vbGVhbiI/ZVsxXTohMX0saS5DcmVhdGVTY3JlZW5zaG90PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dGhyb3cgWCgiU2NyZWVuc2hvdFRvb2xzIil9LGkuQ3JlYXRlU2NyZWVuc2hvdEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4pe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLlJhbmRvbUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHdpKCl9LGkuSXNCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF9yKGUpfSxpLkRlY29kZUJhc2U2ND1mdW5jdGlvbihlKXtyZXR1cm4ganIoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJlcnJvcnNDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBrLmVycm9yc0NvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuTG9nPWZ1bmN0aW9uKGUpe2suTG9nKGUpfSxpLldhcm49ZnVuY3Rpb24oZSl7ay5XYXJuKGUpfSxpLkVycm9yPWZ1bmN0aW9uKGUpe2suRXJyb3IoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dDYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBrLkxvZ0NhY2hlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2xlYXJMb2dDYWNoZT1mdW5jdGlvbigpe2suQ2xlYXJMb2dDYWNoZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTG9nTGV2ZWxzIix7c2V0OmZ1bmN0aW9uKGUpe2suTG9nTGV2ZWxzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlBlcmZvcm1hbmNlTG9nTGV2ZWwiLHtzZXQ6ZnVuY3Rpb24oZSl7aWYoKGUmaS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpPT09aS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpe2kuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fU3RhcnRVc2VyTWFyayxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRVc2VyTWFyaztyZXR1cm59aWYoKGUmaS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCk9PT1pLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKXtpLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPWkuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ29uc29sZTtyZXR1cm59aS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1pLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9TdGFydFVzZXJNYXJrPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCFpLl9QZXJmb3JtYW5jZSl7aWYoIXllKCkpcmV0dXJuO2kuX1BlcmZvcm1hbmNlPXdpbmRvdy5wZXJmb3JtYW5jZX0hdHx8IWkuX1BlcmZvcm1hbmNlLm1hcmt8fGkuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUJlZ2luIil9LGkuX0VuZFVzZXJNYXJrPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLCEoIXR8fCFpLl9QZXJmb3JtYW5jZS5tYXJrKSYmKGkuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUVuZCIpLGkuX1BlcmZvcm1hbmNlLm1lYXN1cmUoZSxlKyItQmVnaW4iLGUrIi1FbmQiKSl9LGkuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLHQmJihpLl9TdGFydFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lJiZjb25zb2xlLnRpbWUoZSkpfSxpLl9FbmRQZXJmb3JtYW5jZUNvbnNvbGU9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMCksdCYmKGkuX0VuZFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lRW5kKGUpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk5vdyIse2dldDpmdW5jdGlvbigpe3JldHVybiBMdC5Ob3d9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5HZXRDbGFzc05hbWU9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpcj1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIG49dD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyPW4uY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfX31yfHwocj10eXBlb2YgZSl9cmV0dXJuIHJ9LGkuRmlyc3Q9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYodChhKSlyZXR1cm4gYX1yZXR1cm4gbnVsbH0saS5nZXRGdWxsQ2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPW51bGwsbj1udWxsO2lmKCF0JiZlLmdldENsYXNzTmFtZSlyPWUuZ2V0Q2xhc3NOYW1lKCk7ZWxzZXtpZihlIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgYT10P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3I9YS5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fLG49YS5jb25zdHJ1Y3Rvci5fX2Jqc21vZHVsZU5hbWVfX31yfHwocj10eXBlb2YgZSl9cmV0dXJuIHI/KG4hPW51bGw/bisiLiI6IiIpK3I6bnVsbH0saS5EZWxheUFzeW5jPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpfSxlKX0pfSxpLklzU2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIFRpKCk/L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTohMX0saS5Vc2VDdXN0b21SZXF1ZXN0SGVhZGVycz0hMSxpLkN1c3RvbVJlcXVlc3RIZWFkZXJzPWNyLkN1c3RvbVJlcXVlc3RIZWFkZXJzLGkuX1RtcEZsb2F0QXJyYXk9bmV3IEZsb2F0MzJBcnJheSgxKSxpLkdldERPTVRleHRDb250ZW50PVVyLGkuR2V0QWJzb2x1dGVVcmw9dHlwZW9mIGRvY3VtZW50PT0ib2JqZWN0Ij9mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIHQuaHJlZj1lLHQuaHJlZn06dHlwZW9mIFVSTD09ImZ1bmN0aW9uIiYmdHlwZW9mIGxvY2F0aW9uPT0ib2JqZWN0Ij9mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVSTChlLGxvY2F0aW9uLm9yaWdpbikuaHJlZn06ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgYWJzb2x1dGUgVVJMLiBPdmVycmlkZSBCQUJZTE9OLlRvb2xzLkdldEFic29sdXRlVXJsIHRvIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uIGZvciB0aGUgY3VycmVudCBjb250ZXh0LiIpfSxpLk5vbmVMb2dMZXZlbD1rLk5vbmVMb2dMZXZlbCxpLk1lc3NhZ2VMb2dMZXZlbD1rLk1lc3NhZ2VMb2dMZXZlbCxpLldhcm5pbmdMb2dMZXZlbD1rLldhcm5pbmdMb2dMZXZlbCxpLkVycm9yTG9nTGV2ZWw9ay5FcnJvckxvZ0xldmVsLGkuQWxsTG9nTGV2ZWw9ay5BbGxMb2dMZXZlbCxpLklzV2luZG93T2JqZWN0RXhpc3Q9eWUsaS5QZXJmb3JtYW5jZU5vbmVMb2dMZXZlbD0wLGkuUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsPTEsaS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbD0yLGkuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxpfSgpLFFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXtuPT09dm9pZCAwJiYobj0wKSx0aGlzLml0ZXJhdGlvbnM9ZSx0aGlzLmluZGV4PW4tMSx0aGlzLl9kb25lPSExLHRoaXMuX2ZuPXQsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPXJ9cmV0dXJuIGkucHJvdG90eXBlLmV4ZWN1dGVOZXh0PWZ1bmN0aW9uKCl7dGhpcy5fZG9uZXx8KHRoaXMuaW5kZXgrMTx0aGlzLml0ZXJhdGlvbnM/KCsrdGhpcy5pbmRleCx0aGlzLl9mbih0aGlzKSk6dGhpcy5icmVha0xvb3AoKSl9LGkucHJvdG90eXBlLmJyZWFrTG9vcD1mdW5jdGlvbigpe3RoaXMuX2RvbmU9ITAsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrKCl9LGkuUnVuPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPTApO3ZhciBhPW5ldyBpKGUsdCxyLG4pO3JldHVybiBhLmV4ZWN1dGVOZXh0KCksYX0saS5TeW5jQXN5bmNGb3JMb29wPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gcz09PXZvaWQgMCYmKHM9MCksaS5SdW4oTWF0aC5jZWlsKGUvdCksZnVuY3Rpb24obyl7YSYmYSgpP28uYnJlYWtMb29wKCk6c2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgdT0wO3U8dDsrK3Upe3ZhciBmPW8uaW5kZXgqdCt1O2lmKGY+PWUpYnJlYWs7aWYocihmKSxhJiZhKCkpe28uYnJlYWtMb29wKCk7YnJlYWt9fW8uZXhlY3V0ZU5leHQoKX0scyl9LG4pfSxpfSgpO3JlLkZhbGxiYWNrVGV4dHVyZT0iZGF0YTppbWFnZS9qcGc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUVBWUFCZ0FBRC80UUJtUlhocFpnQUFUVTBBS2dBQUFBZ0FCQUVhQUFVQUFBQUJBQUFBUGdFYkFBVUFBQUFCQUFBQVJnRW9BQU1BQUFBQkFBSUFBQUV4QUFJQUFBQVFBQUFBVGdBQUFBQUFBQUJnQUFBQUFRQUFBR0FBQUFBQmNHRnBiblF1Ym1WMElEUXVNQzQxQVAvYkFFTUFCQUlEQXdNQ0JBTURBd1FFQkFRRkNRWUZCUVVGQ3dnSUJna05DdzBORFFzTURBNFFGQkVPRHhNUERBd1NHQklURlJZWEZ4Y09FUmtiR1JZYUZCWVhGdi9iQUVNQkJBUUVCUVVGQ2dZR0NoWVBEQThXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0Z2L0FBQkVJQVFBQkFBTUJJZ0FDRVFFREVRSC94QUFmQUFBQkJRRUJBUUVCQVFBQUFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFQUFDQVFNREFnUURCUVVFQkFBQUFYMEJBZ01BQkJFRkVpRXhRUVlUVVdFSEluRVVNb0dSb1FnalFySEJGVkxSOENRelluS0NDUW9XRnhnWkdpVW1KeWdwS2pRMU5qYzRPVHBEUkVWR1IwaEpTbE5VVlZaWFdGbGFZMlJsWm1kb2FXcHpkSFYyZDNoNWVvT0VoWWFIaUltS2twT1VsWmFYbUptYW9xT2twYWFucUttcXNyTzB0YmEzdUxtNndzUEV4Y2JIeU1uSzB0UFUxZGJYMk5uYTRlTGo1T1htNStqcDZ2SHk4L1QxOXZmNCtmci94QUFmQVFBREFRRUJBUUVCQVFFQkFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFUUFDQVFJRUJBTUVCd1VFQkFBQkFuY0FBUUlERVFRRklURUdFa0ZSQjJGeEV5SXlnUWdVUXBHaHNjRUpJek5TOEJWaWN0RUtGaVEwNFNYeEZ4Z1pHaVluS0NrcU5UWTNPRGs2UTBSRlJrZElTVXBUVkZWV1YxaFpXbU5rWldabmFHbHFjM1IxZG5kNGVYcUNnNFNGaG9lSWlZcVNrNVNWbHBlWW1acWlvNlNscHFlb3FhcXlzN1MxdHJlNHVickN3OFRGeHNmSXljclMwOVRWMXRmWTJkcmk0K1RsNXVmbzZlcnk4L1QxOXZmNCtmci8yZ0FNQXdFQUFoRURFUUEvQVBINktLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlAvL1oiO3ZhciBWZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5sZW5ndGg9MCx0aGlzLmRhdGE9bmV3IEFycmF5KGUpLHRoaXMuX2lkPWkuX0dsb2JhbElkKyt9cmV0dXJuIGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPWUsdGhpcy5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGgqPTIpfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWUodGhpcy5kYXRhW3RdKX0saS5wcm90b3R5cGUuc29ydD1mdW5jdGlvbihlKXt0aGlzLmRhdGEuc29ydChlKX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuZGF0YSYmKHRoaXMuZGF0YS5sZW5ndGg9MCx0aGlzLmRhdGE9W10pfSxpLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT0oZS5kYXRhfHxlKVt0XX19LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhLmluZGV4T2YoZSk7cmV0dXJuIHQ+PXRoaXMubGVuZ3RoPy0xOnR9LGkucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4T2YoZSkhPT0tMX0saS5fR2xvYmFsSWQ9MCxpfSgpLEl0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9kdXBsaWNhdGVJZD0wLHR9cmV0dXJuIGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsdCksdC5fX3NtYXJ0QXJyYXlGbGFnc3x8KHQuX19zbWFydEFycmF5RmxhZ3M9e30pLHQuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPXRoaXMuX2R1cGxpY2F0ZUlkfSxlLnByb3RvdHlwZS5wdXNoTm9EdXBsaWNhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zbWFydEFycmF5RmxhZ3MmJnQuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPT09dGhpcy5fZHVwbGljYXRlSWQ/ITE6KHRoaXMucHVzaCh0KSwhMCl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kdXBsaWNhdGVJZCsrfSxlLnByb3RvdHlwZS5jb25jYXRXaXRoTm9EdXBsaWNhdGU9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCt0Lmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrdC5sZW5ndGgpKjIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj0odC5kYXRhfHx0KVtyXTt0aGlzLnB1c2hOb0R1cGxpY2F0ZShuKX19fSxlfShWZSksTGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fY291bnQ9MCx0aGlzLl9kYXRhPXt9fXJldHVybiBpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuY2xlYXIoKSxlLmZvckVhY2goZnVuY3Rpb24ocixuKXtyZXR1cm4gdC5hZGQocixuKX0pfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YVtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0fSxpLnByb3RvdHlwZS5nZXRPckFkZFdpdGhGYWN0b3J5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXQoZSk7cmV0dXJuIHIhPT12b2lkIDB8fChyPXQoZSksciYmdGhpcy5hZGQoZSxyKSkscn0saS5wcm90b3R5cGUuZ2V0T3JBZGQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdldChlKTtyZXR1cm4gciE9PXZvaWQgMD9yOih0aGlzLmFkZChlLHQpLHQpfSxpLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMH0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwrK3RoaXMuX2NvdW50LCEwKX0saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV09PT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwhMCl9LGkucHJvdG90eXBlLmdldEFuZFJlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldChlKTtyZXR1cm4gdCE9PXZvaWQgMD8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCx0KTpudWxsfSxpLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udGFpbnMoZSk/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsITApOiExfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2RhdGE9e30sdGhpcy5fY291bnQ9MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLl9kYXRhKXt2YXIgcj10aGlzLl9kYXRhW3RdO2UodCxyKX19LGkucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLl9kYXRhKXt2YXIgcj10aGlzLl9kYXRhW3RdLG49ZSh0LHIpO2lmKG4pcmV0dXJuIG59cmV0dXJuIG51bGx9LGl9KCksJG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkV2YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXRjaCgvXChbXigpXSpcKS9nKT9lPWUucmVwbGFjZSgvXChbXigpXSpcKS9nLGZ1bmN0aW9uKHIpe3JldHVybiByPXIuc2xpY2UoMSxyLmxlbmd0aC0xKSxpLl9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQocix0KX0pOmU9aS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCksZT09PSJ0cnVlIj8hMDplPT09ImZhbHNlIj8hMTppLkV2YWwoZSx0KX0saS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50PWZ1bmN0aW9uKGUsdCl7dD10fHxmdW5jdGlvbihsKXtyZXR1cm4gbD09PSJ0cnVlIn07dmFyIHIsbj1lLnNwbGl0KCJ8fCIpO2Zvcih2YXIgYSBpbiBuKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGEpKXt2YXIgcz1pLl9TaW1wbGlmeU5lZ2F0aW9uKG5bYV0udHJpbSgpKSxvPXMuc3BsaXQoIiYmIik7aWYoby5sZW5ndGg+MSlmb3IodmFyIHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGY9aS5fU2ltcGxpZnlOZWdhdGlvbihvW3VdLnRyaW0oKSk7aWYoZiE9PSJ0cnVlIiYmZiE9PSJmYWxzZSI/ZlswXT09PSIhIj9yPSF0KGYuc3Vic3RyaW5nKDEpKTpyPXQoZik6cj1mPT09InRydWUiLCFyKXtzPSJmYWxzZSI7YnJlYWt9fWlmKHJ8fHM9PT0idHJ1ZSIpe3I9ITA7YnJlYWt9cyE9PSJ0cnVlIiYmcyE9PSJmYWxzZSI/c1swXT09PSIhIj9yPSF0KHMuc3Vic3RyaW5nKDEpKTpyPXQocyk6cj1zPT09InRydWUifXJldHVybiByPyJ0cnVlIjoiZmFsc2UifSxpLl9TaW1wbGlmeU5lZ2F0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvXltccyFdKy8sZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKC9bXHNdL2csZnVuY3Rpb24oKXtyZXR1cm4iIn0pLHQubGVuZ3RoJTI/IiEiOiIifSksZT1lLnRyaW0oKSxlPT09IiF0cnVlIj9lPSJmYWxzZSI6ZT09PSIhZmFsc2UiJiYoZT0idHJ1ZSIpLGV9LGl9KCksY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkVuYWJsZUZvcj1mdW5jdGlvbihlKXtlLl90YWdzPWUuX3RhZ3N8fHt9LGUuaGFzVGFncz1mdW5jdGlvbigpe3JldHVybiBpLkhhc1RhZ3MoZSl9LGUuYWRkVGFncz1mdW5jdGlvbih0KXtyZXR1cm4gaS5BZGRUYWdzVG8oZSx0KX0sZS5yZW1vdmVUYWdzPWZ1bmN0aW9uKHQpe3JldHVybiBpLlJlbW92ZVRhZ3NGcm9tKGUsdCl9LGUubWF0Y2hlc1RhZ3NRdWVyeT1mdW5jdGlvbih0KXtyZXR1cm4gaS5NYXRjaGVzUXVlcnkoZSx0KX19LGkuRGlzYWJsZUZvcj1mdW5jdGlvbihlKXtkZWxldGUgZS5fdGFncyxkZWxldGUgZS5oYXNUYWdzLGRlbGV0ZSBlLmFkZFRhZ3MsZGVsZXRlIGUucmVtb3ZlVGFncyxkZWxldGUgZS5tYXRjaGVzVGFnc1F1ZXJ5fSxpLkhhc1RhZ3M9ZnVuY3Rpb24oZSl7aWYoIWUuX3RhZ3MpcmV0dXJuITE7dmFyIHQ9ZS5fdGFncztmb3IodmFyIHIgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSlyZXR1cm4hMDtyZXR1cm4hMX0saS5HZXRUYWdzPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCFlLl90YWdzKXJldHVybiBudWxsO2lmKHQpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlLl90YWdzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLl90YWdzLG4pJiZlLl90YWdzW25dPT09ITAmJnIucHVzaChuKTtyZXR1cm4gci5qb2luKCIgIil9ZWxzZSByZXR1cm4gZS5fdGFnc30saS5BZGRUYWdzVG89ZnVuY3Rpb24oZSx0KXtpZighIXQmJnR5cGVvZiB0PT0ic3RyaW5nIil7dmFyIHI9dC5zcGxpdCgiICIpO3IuZm9yRWFjaChmdW5jdGlvbihuKXtpLl9BZGRUYWdUbyhlLG4pfSl9fSxpLl9BZGRUYWdUbz1mdW5jdGlvbihlLHQpe3Q9dC50cmltKCksISh0PT09IiJ8fHQ9PT0idHJ1ZSJ8fHQ9PT0iZmFsc2UiKSYmKHQubWF0Y2goL1tcc10vKXx8dC5tYXRjaCgvXihbIV18KFt8XXxbJl0pezJ9KS8pfHwoaS5FbmFibGVGb3IoZSksZS5fdGFnc1t0XT0hMCkpfSxpLlJlbW92ZVRhZ3NGcm9tPWZ1bmN0aW9uKGUsdCl7aWYoISFpLkhhc1RhZ3MoZSkpe3ZhciByPXQuc3BsaXQoIiAiKTtmb3IodmFyIG4gaW4gcilpLl9SZW1vdmVUYWdGcm9tKGUscltuXSl9fSxpLl9SZW1vdmVUYWdGcm9tPWZ1bmN0aW9uKGUsdCl7ZGVsZXRlIGUuX3RhZ3NbdF19LGkuTWF0Y2hlc1F1ZXJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDA/ITA6dD09PSIiP2kuSGFzVGFncyhlKTokbi5FdmFsKHQsZnVuY3Rpb24ocil7cmV0dXJuIGkuSGFzVGFncyhlKSYmZS5fdGFnc1tyXX0pfSxpfSgpLE5pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMucm9vdE5vZGVzPW5ldyBBcnJheSx0aGlzLmNhbWVyYXM9bmV3IEFycmF5LHRoaXMubGlnaHRzPW5ldyBBcnJheSx0aGlzLm1lc2hlcz1uZXcgQXJyYXksdGhpcy5za2VsZXRvbnM9bmV3IEFycmF5LHRoaXMucGFydGljbGVTeXN0ZW1zPW5ldyBBcnJheSx0aGlzLmFuaW1hdGlvbnM9W10sdGhpcy5hbmltYXRpb25Hcm91cHM9bmV3IEFycmF5LHRoaXMubXVsdGlNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuZ2VvbWV0cmllcz1uZXcgQXJyYXksdGhpcy50cmFuc2Zvcm1Ob2Rlcz1uZXcgQXJyYXksdGhpcy5hY3Rpb25NYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy50ZXh0dXJlcz1uZXcgQXJyYXksdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPW51bGwsdGhpcy5wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX1yZXR1cm4gaS5BZGRQYXJzZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH0saS5HZXRQYXJzZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXT90aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH0saS5BZGRJbmRpdmlkdWFsUGFyc2VyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXT10fSxpLkdldEluZGl2aWR1YWxQYXJzZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYSBpbiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycyxhKSYmdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2FdKGUsdCxyLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVudmlyb25tZW50VGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXROb2Rlcz1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gZT1lLmNvbmNhdCh0aGlzLm1lc2hlcyksZT1lLmNvbmNhdCh0aGlzLmxpZ2h0cyksZT1lLmNvbmNhdCh0aGlzLmNhbWVyYXMpLGU9ZS5jb25jYXQodGhpcy50cmFuc2Zvcm1Ob2RlcyksdGhpcy5za2VsZXRvbnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZT1lLmNvbmNhdCh0LmJvbmVzKX0pLGV9LGkuX0JhYnlsb25GaWxlUGFyc2Vycz17fSxpLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzPXt9LGl9KCksdnI9e30sbXI9e30sQmk9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPWkoKTtjZSYmY2UuQWRkVGFnc1RvKHIsZS50YWdzKTt2YXIgbj1LcihyKTtmb3IodmFyIGEgaW4gbil7dmFyIHM9blthXSxvPWVbYV0sdT1zLnR5cGU7aWYobyE9bnVsbCYmKGEhPT0idW5pcXVlSWQifHxKLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSlzd2l0Y2godSl7Y2FzZSAwOmNhc2UgNjpjYXNlIDExOnJbYV09bzticmVhaztjYXNlIDE6clthXT10fHxvLmlzUmVuZGVyVGFyZ2V0P286by5jbG9uZSgpO2JyZWFrO2Nhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDc6Y2FzZSAxMDpjYXNlIDEyOnJbYV09dD9vOm8uY2xvbmUoKTticmVha319cmV0dXJuIHJ9O2Z1bmN0aW9uIEpuKGkpe3ZhciBlPWkuZ2V0Q2xhc3NOYW1lKCk7cmV0dXJuIHZyW2VdfHwodnJbZV09e30pLHZyW2VdfWZ1bmN0aW9uIEtyKGkpe3ZhciBlPWkuZ2V0Q2xhc3NOYW1lKCk7aWYobXJbZV0pcmV0dXJuIG1yW2VdO21yW2VdPXt9O2Zvcih2YXIgdD1tcltlXSxyPWksbj1lO247KXt2YXIgYT12cltuXTtmb3IodmFyIHMgaW4gYSl0W3NdPWFbc107dmFyIG89dm9pZCAwLHU9ITE7ZG97aWYobz1PYmplY3QuZ2V0UHJvdG90eXBlT2YociksIW8uZ2V0Q2xhc3NOYW1lKXt1PSEwO2JyZWFrfWlmKG8uZ2V0Q2xhc3NOYW1lKCkhPT1uKWJyZWFrO3I9b313aGlsZShvKTtpZih1KWJyZWFrO249by5nZXRDbGFzc05hbWUoKSxyPW99cmV0dXJuIHR9ZnVuY3Rpb24gaXQoaSxlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj1Kbih0KTtuW3JdfHwobltyXT17dHlwZTppLHNvdXJjZU5hbWU6ZX0pfX1mdW5jdGlvbiBlYShpLGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1udWxsKSxmdW5jdGlvbih0LHIpe3ZhciBuPWV8fCJfIityO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW25dfSxzZXQ6ZnVuY3Rpb24oYSl7dHlwZW9mIHRoaXMuZXF1YWxzPT0iZnVuY3Rpb24iJiZ0aGlzLmVxdWFscyhhKXx8dGhpc1tuXSE9PWEmJih0aGlzW25dPWEsdFtpXS5hcHBseSh0aGlzKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fWZ1bmN0aW9uIG5lKGksZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPW51bGwpLGVhKGksZSl9ZnVuY3Rpb24gUChpKXtyZXR1cm4gaXQoMCxpKX1mdW5jdGlvbiBIZShpKXtyZXR1cm4gaXQoMSxpKX1mdW5jdGlvbiBPdChpKXtyZXR1cm4gaXQoMixpKX1mdW5jdGlvbiB0cihpKXtyZXR1cm4gaXQoMyxpKX1mdW5jdGlvbiB0YShpKXtyZXR1cm4gaXQoNCxpKX1mdW5jdGlvbiBmdChpKXtyZXR1cm4gaXQoNSxpKX1mdW5jdGlvbiByYShpKXtyZXR1cm4gaXQoNixpKX1mdW5jdGlvbiBpYShpKXtyZXR1cm4gaXQoNyxpKX1mdW5jdGlvbiBVaShpKXtyZXR1cm4gaXQoOCxpKX1mdW5jdGlvbiBuYShpKXtyZXR1cm4gaXQoMTAsaSl9dmFyIEo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zPWZ1bmN0aW9uKGUsdCl7aWYoZS5hbmltYXRpb25zKXt0LmFuaW1hdGlvbnM9W107Zm9yKHZhciByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7dmFyIG49ZS5hbmltYXRpb25zW3JdO3QuYW5pbWF0aW9ucy5wdXNoKG4uc2VyaWFsaXplKCkpfX19LGkuU2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLGNlJiYodC50YWdzPWNlLkdldFRhZ3MoZSkpO3ZhciByPUtyKGUpO2Zvcih2YXIgbiBpbiByKXt2YXIgYT1yW25dLHM9YS5zb3VyY2VOYW1lfHxuLG89YS50eXBlLHU9ZVtuXTtpZih1IT1udWxsJiYobiE9PSJ1bmlxdWVJZCJ8fGkuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChvKXtjYXNlIDA6dFtzXT11O2JyZWFrO2Nhc2UgMTp0W3NdPXUuc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAyOnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSAzOnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDQ6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDU6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDY6dFtzXT11LmlkO2JyZWFrO2Nhc2UgNzp0W3NdPXUuc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA4OnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSA5OnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDEwOnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSAxMTp0W3NdPXUuaWQ7YnJlYWs7Y2FzZSAxMjp0W3NdPXUuYXNBcnJheSgpO2JyZWFrfX1yZXR1cm4gdH0saS5QYXJzZT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgYT1lKCk7bnx8KG49IiIpLGNlJiZjZS5BZGRUYWdzVG8oYSx0LnRhZ3MpO3ZhciBzPUtyKGEpO2Zvcih2YXIgbyBpbiBzKXt2YXIgdT1zW29dLGY9dFt1LnNvdXJjZU5hbWV8fG9dLGw9dS50eXBlO2lmKGYhPW51bGwmJihvIT09InVuaXF1ZUlkInx8aS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpe3ZhciBoPWE7c3dpdGNoKGwpe2Nhc2UgMDpoW29dPWY7YnJlYWs7Y2FzZSAxOnImJihoW29dPWkuX1RleHR1cmVQYXJzZXIoZixyLG4pKTticmVhaztjYXNlIDI6aFtvXT1iZS5Gcm9tQXJyYXkoZik7YnJlYWs7Y2FzZSAzOmhbb109aS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXIoZik7YnJlYWs7Y2FzZSA0Omhbb109U2UuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgNTpoW29dPWIuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgNjpyJiYoaFtvXT1yLmdldExhc3RNZXNoQnlJZChmKSk7YnJlYWs7Y2FzZSA3Omhbb109aS5fQ29sb3JDdXJ2ZXNQYXJzZXIoZik7YnJlYWs7Y2FzZSA4Omhbb109RWUuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgOTpoW29dPWkuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXIoZik7YnJlYWs7Y2FzZSAxMDpoW29dPWllLkZyb21BcnJheShmKTticmVhaztjYXNlIDExOnImJihoW29dPXIuZ2V0Q2FtZXJhQnlJZChmKSk7YnJlYWs7Y2FzZSAxMjpoW29dPUkuRnJvbUFycmF5KGYpO2JyZWFrfX19cmV0dXJuIGF9LGkuQ2xvbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQmkoZSx0LCExKX0saS5JbnN0YW5jaWF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBCaShlLHQsITApfSxpLkFsbG93TG9hZGluZ1VuaXF1ZUlkPSExLGkuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxpLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBYKCJGcmVzbmVsUGFyYW1ldGVycyIpfSxpLl9Db2xvckN1cnZlc1BhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBYKCJDb2xvckN1cnZlcyIpfSxpLl9UZXh0dXJlUGFyc2VyPWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBYKCJUZXh0dXJlIil9LGl9KCk7ZnVuY3Rpb24gRXQoaSxlLHQscil7dmFyIG49dC52YWx1ZTt0LnZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKWFbc109YXJndW1lbnRzW3NdO3ZhciBvPW47aWYodHlwZW9mIF9uYXRpdmU8InUiJiZfbmF0aXZlW2VdKXt2YXIgdT1fbmF0aXZlW2VdO3I/bz1mdW5jdGlvbigpe2Zvcih2YXIgZj1bXSxsPTA7bDxhcmd1bWVudHMubGVuZ3RoO2wrKylmW2xdPWFyZ3VtZW50c1tsXTtyZXR1cm4gci5hcHBseSh2b2lkIDAsZik/dS5hcHBseSh2b2lkIDAsZik6bi5hcHBseSh2b2lkIDAsZil9Om89dX1yZXR1cm4gaVtlXT1vLG8uYXBwbHkodm9pZCAwLGEpfX1FdC5maWx0ZXI9ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gRXQoZSx0LHIsaSl9fTt2YXIgeXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2lmKHRoaXMuX2lzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5fbm9ybWFscz0hMSx0aGlzLl91dnM9ITEsdGhpcy5fbmVlZE5vcm1hbHM9ITEsdGhpcy5fbmVlZFVWcz0hMSx0aGlzLl9leHRlcm5hbFByb3BlcnRpZXM9ZSxlKWZvcih2YXIgdCBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZ0aGlzLl9zZXREZWZhdWx0VmFsdWUodCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNEaXJ0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0RpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLm1hcmtBc1Byb2Nlc3NlZD1mdW5jdGlvbigpe3RoaXMuX2lzRGlydHk9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSExLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITEsdGhpcy5fYXJlRnJlc25lbERpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSExLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMSx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITEsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITF9LGkucHJvdG90eXBlLm1hcmtBc1VucHJvY2Vzc2VkPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FsbEFzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzTGlnaHREaXJ0eT1mdW5jdGlvbihlKXtlPT09dm9pZCAwJiYoZT0hMSksdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9dGhpcy5fYXJlTGlnaHRzRGlzcG9zZWR8fGUsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzQXR0cmlidXRlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc0ZyZXNuZWxEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzUHJlUGFzc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlUHJlUGFzc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLnJlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9rZXlzPVtdO2Zvcih2YXIgZT0wLHQ9T2JqZWN0LmtleXModGhpcyk7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07clswXSE9PSJfIiYmdGhpcy5fa2V5cy5wdXNoKHIpfWlmKHRoaXMuX2V4dGVybmFsUHJvcGVydGllcylmb3IodmFyIG4gaW4gdGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKXRoaXMuX2tleXMuaW5kZXhPZihuKT09PS0xJiZ0aGlzLl9rZXlzLnB1c2gobil9LGkucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7aWYodGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fa2V5c1t0XTtpZih0aGlzW3JdIT09ZVtyXSlyZXR1cm4hMX1yZXR1cm4hMH0saS5wcm90b3R5cGUuY2xvbmVUbz1mdW5jdGlvbihlKXt0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoJiYoZS5fa2V5cz10aGlzLl9rZXlzLnNsaWNlKDApKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fa2V5c1t0XTtlW3JdPXRoaXNbcl19fSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zZXREZWZhdWx0VmFsdWUodCl9KX0saS5wcm90b3R5cGUuX3NldERlZmF1bHRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdCxyLG4sYSxzLG89KG49KHI9KHQ9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci50eXBlKSE9PW51bGwmJm4hPT12b2lkIDA/bjp0eXBlb2YgdGhpc1tlXSx1PShzPShhPXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW2VdKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZGVmYXVsdDtzd2l0Y2gobyl7Y2FzZSJudW1iZXIiOnRoaXNbZV09dSE9bnVsbD91OjA7YnJlYWs7Y2FzZSJzdHJpbmciOnRoaXNbZV09dSE9bnVsbD91OiIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT11IT1udWxsP3U6ITE7YnJlYWt9fSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT0iIix0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2tleXNbdF0sbj10aGlzW3JdLGE9dHlwZW9mIG47c3dpdGNoKGEpe2Nhc2UibnVtYmVyIjpjYXNlInN0cmluZyI6ZSs9IiNkZWZpbmUgIityKyIgIituK2AKYDticmVhaztkZWZhdWx0Om4mJihlKz0iI2RlZmluZSAiK3IrYApgKTticmVha319cmV0dXJuIGV9LGl9KCksYnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fdGVtcENvbG9yPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxDdXJ2ZT1uZXcgRWUoMCwwLDAsMCksdGhpcy5faGlnaGxpZ2h0c0N1cnZlPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9taWR0b25lc0N1cnZlPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9zaGFkb3dzQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX3Bvc2l0aXZlQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX25lZ2F0aXZlQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX2dsb2JhbEh1ZT0zMCx0aGlzLl9nbG9iYWxEZW5zaXR5PTAsdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj0wLHRoaXMuX2dsb2JhbEV4cG9zdXJlPTAsdGhpcy5faGlnaGxpZ2h0c0h1ZT0zMCx0aGlzLl9oaWdobGlnaHRzRGVuc2l0eT0wLHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPTAsdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPTAsdGhpcy5fbWlkdG9uZXNIdWU9MzAsdGhpcy5fbWlkdG9uZXNEZW5zaXR5PTAsdGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9uPTAsdGhpcy5fbWlkdG9uZXNFeHBvc3VyZT0wLHRoaXMuX3NoYWRvd3NIdWU9MzAsdGhpcy5fc2hhZG93c0RlbnNpdHk9MCx0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj0wLHRoaXMuX3NoYWRvd3NFeHBvc3VyZT0wfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbEh1ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxIdWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbERlbnNpdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRGVuc2l0eX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dsb2JhbERlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbFNhdHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dsb2JhbFNhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbEV4cG9zdXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEV4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNIdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0h1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNEZW5zaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNEZW5zaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNTYXR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzSHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzSHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWlkdG9uZXNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzRGVuc2l0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc0RlbnNpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taWR0b25lc0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzU2F0dXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc1NhdHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taWR0b25lc1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNFeHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21pZHRvbmVzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NIdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c0h1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NoYWRvd3NIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NEZW5zaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NEZW5zaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2hhZG93c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NTYXR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2hhZG93c1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzRXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaGFkb3dzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ29sb3JDdXJ2ZXMifSxpLkJpbmQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyPT09dm9pZCAwJiYocj0idkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIpLG49PT12b2lkIDAmJihuPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwiKSxhPT09dm9pZCAwJiYoYT0idkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZSIpLGUuX2RpcnR5JiYoZS5fZGlydHk9ITEsZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2dsb2JhbEh1ZSxlLl9nbG9iYWxEZW5zaXR5LGUuX2dsb2JhbFNhdHVyYXRpb24sZS5fZ2xvYmFsRXhwb3N1cmUsZS5fZ2xvYmFsQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9oaWdobGlnaHRzSHVlLGUuX2hpZ2hsaWdodHNEZW5zaXR5LGUuX2hpZ2hsaWdodHNTYXR1cmF0aW9uLGUuX2hpZ2hsaWdodHNFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX2hpZ2hsaWdodHNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX21pZHRvbmVzSHVlLGUuX21pZHRvbmVzRGVuc2l0eSxlLl9taWR0b25lc1NhdHVyYXRpb24sZS5fbWlkdG9uZXNFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX21pZHRvbmVzQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9zaGFkb3dzSHVlLGUuX3NoYWRvd3NEZW5zaXR5LGUuX3NoYWRvd3NTYXR1cmF0aW9uLGUuX3NoYWRvd3NFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX3NoYWRvd3NDdXJ2ZSksZS5faGlnaGxpZ2h0c0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fbWlkdG9uZXNDdXJ2ZSxlLl9wb3NpdGl2ZUN1cnZlKSxlLl9taWR0b25lc0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fc2hhZG93c0N1cnZlLGUuX25lZ2F0aXZlQ3VydmUpKSx0JiYodC5zZXRGbG9hdDQocixlLl9wb3NpdGl2ZUN1cnZlLnIsZS5fcG9zaXRpdmVDdXJ2ZS5nLGUuX3Bvc2l0aXZlQ3VydmUuYixlLl9wb3NpdGl2ZUN1cnZlLmEpLHQuc2V0RmxvYXQ0KG4sZS5fbWlkdG9uZXNDdXJ2ZS5yLGUuX21pZHRvbmVzQ3VydmUuZyxlLl9taWR0b25lc0N1cnZlLmIsZS5fbWlkdG9uZXNDdXJ2ZS5hKSx0LnNldEZsb2F0NChhLGUuX25lZ2F0aXZlQ3VydmUucixlLl9uZWdhdGl2ZUN1cnZlLmcsZS5fbmVnYXRpdmVDdXJ2ZS5iLGUuX25lZ2F0aXZlQ3VydmUuYSkpfSxpLlByZXBhcmVVbmlmb3Jtcz1mdW5jdGlvbihlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9LGkucHJvdG90eXBlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXtlIT1udWxsJiYoZT1pLl9DbGFtcChlLDAsMzYwKSx0PWkuX0NsYW1wKHQsLTEwMCwxMDApLHI9aS5fQ2xhbXAociwtMTAwLDEwMCksbj1pLl9DbGFtcChuLC0xMDAsMTAwKSx0PWkuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHQpLHQqPS41LG49aS5fQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXIobiksdDwwJiYodCo9LTEsZT0oZSsxODApJTM2MCksaS5fRnJvbUhTQlRvUmVmKGUsdCw1MCsuMjUqbixhKSxhLnNjYWxlVG9SZWYoMixhKSxhLmE9MSsuMDEqcil9LGkuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyPWZ1bmN0aW9uKGUpe2UvPTEwMDt2YXIgdD1NYXRoLmFicyhlKTtyZXR1cm4gdD1NYXRoLnBvdyh0LDIpLGU8MCYmKHQqPS0xKSx0Kj0xMDAsdH0saS5fRnJvbUhTQlRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPWkuX0NsYW1wKGUsMCwzNjApLHM9aS5fQ2xhbXAodC8xMDAsMCwxKSxvPWkuX0NsYW1wKHIvMTAwLDAsMSk7aWYocz09PTApbi5yPW8sbi5nPW8sbi5iPW87ZWxzZXthLz02MDt2YXIgdT1NYXRoLmZsb29yKGEpLGY9YS11LGw9byooMS1zKSxoPW8qKDEtcypmKSxjPW8qKDEtcyooMS1mKSk7c3dpdGNoKHUpe2Nhc2UgMDpuLnI9byxuLmc9YyxuLmI9bDticmVhaztjYXNlIDE6bi5yPWgsbi5nPW8sbi5iPWw7YnJlYWs7Y2FzZSAyOm4ucj1sLG4uZz1vLG4uYj1jO2JyZWFrO2Nhc2UgMzpuLnI9bCxuLmc9aCxuLmI9bzticmVhaztjYXNlIDQ6bi5yPWMsbi5nPWwsbi5iPW87YnJlYWs7ZGVmYXVsdDpuLnI9byxuLmc9bCxuLmI9aDticmVha319bi5hPTF9LGkuX0NsYW1wPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxyKX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gSi5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sdGhpcyl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBKLlNlcmlhbGl6ZSh0aGlzKX0saS5QYXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gSi5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sZSxudWxsLG51bGwpfSxUKFtQKCldLGkucHJvdG90eXBlLCJfZ2xvYmFsSHVlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxEZW5zaXR5Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxTYXR1cmF0aW9uIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxFeHBvc3VyZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0h1ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0RlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNTYXR1cmF0aW9uIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9oaWdobGlnaHRzRXhwb3N1cmUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX21pZHRvbmVzSHVlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9taWR0b25lc0RlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX21pZHRvbmVzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbWlkdG9uZXNFeHBvc3VyZSIsdm9pZCAwKSxpfSgpO0ouX0NvbG9yQ3VydmVzUGFyc2VyPWJyLlBhcnNlLGZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0LklNQUdFUFJPQ0VTU0lORz0hMSx0LlZJR05FVFRFPSExLHQuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT0hMSx0LlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSExLHQuVE9ORU1BUFBJTkc9ITEsdC5UT05FTUFQUElOR19BQ0VTPSExLHQuQ09OVFJBU1Q9ITEsdC5DT0xPUkNVUlZFUz0hMSx0LkNPTE9SR1JBRElORz0hMSx0LkNPTE9SR1JBRElORzNEPSExLHQuU0FNUExFUjNER1JFRU5ERVBUSD0hMSx0LlNBTVBMRVIzREJHUk1BUD0hMSx0LklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHQuRVhQT1NVUkU9ITEsdC5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHQucmVidWlsZCgpLHR9cmV0dXJuIGV9KHlyKTt2YXIgTnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5jb2xvckN1cnZlcz1uZXcgYnIsdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkPSExLHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGg9ITAsdGhpcy5fY29sb3JHcmFkaW5nQkdSPSEwLHRoaXMuX2V4cG9zdXJlPTEsdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkPSExLHRoaXMuX3RvbmVNYXBwaW5nVHlwZT1pLlRPTkVNQVBQSU5HX1NUQU5EQVJELHRoaXMuX2NvbnRyYXN0PTEsdGhpcy52aWduZXR0ZVN0cmV0Y2g9MCx0aGlzLnZpZ25ldHRlQ2VudHJlWD0wLHRoaXMudmlnbmV0dGVDZW50cmVZPTAsdGhpcy52aWduZXR0ZVdlaWdodD0xLjUsdGhpcy52aWduZXR0ZUNvbG9yPW5ldyBFZSgwLDAsMCwwKSx0aGlzLnZpZ25ldHRlQ2FtZXJhRm92PS41LHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWkuVklHTkVUVEVNT0RFX01VTFRJUExZLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD0hMSx0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPSExLHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzcz0hMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5vblVwZGF0ZVBhcmFtZXRlcnM9bmV3IE99cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29sb3JDdXJ2ZXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29sb3JHcmFkaW5nVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZSE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yR3JhZGluZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yR3JhZGluZ0JHUiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdCR1J9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckdyYWRpbmdCR1IhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nQkdSPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImV4cG9zdXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZXhwb3N1cmUhPT1lJiYodGhpcy5fZXhwb3N1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidG9uZU1hcHBpbmdFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZCE9PWUmJih0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidG9uZU1hcHBpbmdUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvbmVNYXBwaW5nVHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3RvbmVNYXBwaW5nVHlwZSE9PWUmJih0aGlzLl90b25lTWFwcGluZ1R5cGU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29udHJhc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udHJhc3R9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb250cmFzdCE9PWUmJih0aGlzLl9jb250cmFzdD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ2aWduZXR0ZUJsZW5kTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWduZXR0ZUJsZW5kTW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlIT09ZSYmKHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInZpZ25ldHRlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWduZXR0ZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl92aWduZXR0ZUVuYWJsZWQhPT1lJiYodGhpcy5fdmlnbmV0dGVFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNraXBGaW5hbENvbG9yQ2xhbXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXAhPT1lJiYodGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhcHBseUJ5UG9zdFByb2Nlc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzIT09ZSYmKHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzcz1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNFbmFibGVkIT09ZSYmKHRoaXMuX2lzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3VwZGF0ZVBhcmFtZXRlcnM9ZnVuY3Rpb24oKXt0aGlzLm9uVXBkYXRlUGFyYW1ldGVycy5ub3RpZnlPYnNlcnZlcnModGhpcyl9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIn0saS5QcmVwYXJlVW5pZm9ybXM9ZnVuY3Rpb24oZSx0KXt0LkVYUE9TVVJFJiZlLnB1c2goImV4cG9zdXJlTGluZWFyIiksdC5DT05UUkFTVCYmZS5wdXNoKCJjb250cmFzdCIpLHQuQ09MT1JHUkFESU5HJiZlLnB1c2goImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiKSx0LlZJR05FVFRFJiYoZS5wdXNoKCJ2SW52ZXJzZVNjcmVlblNpemUiKSxlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MxIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMiIpKSx0LkNPTE9SQ1VSVkVTJiZici5QcmVwYXJlVW5pZm9ybXMoZSl9LGkuUHJlcGFyZVNhbXBsZXJzPWZ1bmN0aW9uKGUsdCl7dC5DT0xPUkdSQURJTkcmJmUucHVzaCgidHhDb2xvclRyYW5zZm9ybSIpfSxpLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcz1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSExKSx0IT09dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3N8fCF0aGlzLl9pc0VuYWJsZWQpe2UuVklHTkVUVEU9ITEsZS5UT05FTUFQUElORz0hMSxlLlRPTkVNQVBQSU5HX0FDRVM9ITEsZS5DT05UUkFTVD0hMSxlLkVYUE9TVVJFPSExLGUuQ09MT1JDVVJWRVM9ITEsZS5DT0xPUkdSQURJTkc9ITEsZS5DT0xPUkdSQURJTkczRD0hMSxlLklNQUdFUFJPQ0VTU0lORz0hMSxlLlNLSVBGSU5BTENPTE9SQ0xBTVA9dGhpcy5za2lwRmluYWxDb2xvckNsYW1wLGUuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2lzRW5hYmxlZDtyZXR1cm59c3dpdGNoKGUuVklHTkVUVEU9dGhpcy52aWduZXR0ZUVuYWJsZWQsZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZPXRoaXMudmlnbmV0dGVCbGVuZE1vZGU9PT1pLl9WSUdORVRURU1PREVfTVVMVElQTFksZS5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZLGUuVE9ORU1BUFBJTkc9dGhpcy50b25lTWFwcGluZ0VuYWJsZWQsdGhpcy5fdG9uZU1hcHBpbmdUeXBlKXtjYXNlIGkuVE9ORU1BUFBJTkdfQUNFUzplLlRPTkVNQVBQSU5HX0FDRVM9ITA7YnJlYWs7ZGVmYXVsdDplLlRPTkVNQVBQSU5HX0FDRVM9ITE7YnJlYWt9ZS5DT05UUkFTVD10aGlzLmNvbnRyYXN0IT09MSxlLkVYUE9TVVJFPXRoaXMuZXhwb3N1cmUhPT0xLGUuQ09MT1JDVVJWRVM9dGhpcy5jb2xvckN1cnZlc0VuYWJsZWQmJiEhdGhpcy5jb2xvckN1cnZlcyxlLkNPTE9SR1JBRElORz10aGlzLmNvbG9yR3JhZGluZ0VuYWJsZWQmJiEhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLGUuQ09MT1JHUkFESU5HP2UuQ09MT1JHUkFESU5HM0Q9dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmlzM0Q6ZS5DT0xPUkdSQURJTkczRD0hMSxlLlNBTVBMRVIzREdSRUVOREVQVEg9dGhpcy5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCxlLlNBTVBMRVIzREJHUk1BUD10aGlzLmNvbG9yR3JhZGluZ0JHUixlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkc9ZS5WSUdORVRURXx8ZS5UT05FTUFQUElOR3x8ZS5DT05UUkFTVHx8ZS5FWFBPU1VSRXx8ZS5DT0xPUkNVUlZFU3x8ZS5DT0xPUkdSQURJTkd9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5jb2xvckdyYWRpbmdFbmFibGVkfHwhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlfHx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXNSZWFkeSgpfSxpLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkJiZ0aGlzLmNvbG9yQ3VydmVzJiZici5CaW5kKHRoaXMuY29sb3JDdXJ2ZXMsZSksdGhpcy5fdmlnbmV0dGVFbmFibGVkKXt2YXIgcj0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKSxuPTEvZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKTtlLnNldEZsb2F0MigidkludmVyc2VTY3JlZW5TaXplIixyLG4pO3ZhciBhPXQhPW51bGw/dDpuL3Iscz1NYXRoLnRhbih0aGlzLnZpZ25ldHRlQ2FtZXJhRm92Ki41KSxvPXMqYSx1PU1hdGguc3FydChvKnMpO289X2UuTWl4KG8sdSx0aGlzLnZpZ25ldHRlU3RyZXRjaCkscz1fZS5NaXgocyx1LHRoaXMudmlnbmV0dGVTdHJldGNoKSxlLnNldEZsb2F0NCgidmlnbmV0dGVTZXR0aW5nczEiLG8scywtbyp0aGlzLnZpZ25ldHRlQ2VudHJlWCwtcyp0aGlzLnZpZ25ldHRlQ2VudHJlWSk7dmFyIGY9LTIqdGhpcy52aWduZXR0ZVdlaWdodDtlLnNldEZsb2F0NCgidmlnbmV0dGVTZXR0aW5nczIiLHRoaXMudmlnbmV0dGVDb2xvci5yLHRoaXMudmlnbmV0dGVDb2xvci5nLHRoaXMudmlnbmV0dGVDb2xvci5iLGYpfWlmKGUuc2V0RmxvYXQoImV4cG9zdXJlTGluZWFyIix0aGlzLmV4cG9zdXJlKSxlLnNldEZsb2F0KCJjb250cmFzdCIsdGhpcy5jb250cmFzdCksdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlKXtlLnNldFRleHR1cmUoInR4Q29sb3JUcmFuc2Zvcm0iLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSk7dmFyIGw9dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmdldFNpemUoKS5oZWlnaHQ7ZS5zZXRGbG9hdDQoImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiLChsLTEpL2wsLjUvbCxsLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5sZXZlbCl9fSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBKLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpfSx0aGlzKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIEouU2VyaWFsaXplKHRoaXMpfSxpLlBhcnNlPWZ1bmN0aW9uKGUpe3JldHVybiBKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpfSxlLG51bGwsbnVsbCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJWSUdORVRURU1PREVfTVVMVElQTFkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fVklHTkVUVEVNT0RFX01VTFRJUExZfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJWSUdORVRURU1PREVfT1BBUVVFIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9PUEFRVUV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5UT05FTUFQUElOR19TVEFOREFSRD0wLGkuVE9ORU1BUFBJTkdfQUNFUz0xLGkuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWT0wLGkuX1ZJR05FVFRFTU9ERV9PUEFRVUU9MSxUKFtpYSgpXSxpLnByb3RvdHlwZSwiY29sb3JDdXJ2ZXMiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2NvbG9yQ3VydmVzRW5hYmxlZCIsdm9pZCAwKSxUKFtIZSgiY29sb3JHcmFkaW5nVGV4dHVyZSIpXSxpLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ1RleHR1cmUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0VuYWJsZWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdCR1IiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2V4cG9zdXJlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl90b25lTWFwcGluZ0VuYWJsZWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX3RvbmVNYXBwaW5nVHlwZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfY29udHJhc3QiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidmlnbmV0dGVTdHJldGNoIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlQ2VudHJlWCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRyZVkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidmlnbmV0dGVXZWlnaHQiLHZvaWQgMCksVChbVWkoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlQ29sb3IiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidmlnbmV0dGVDYW1lcmFGb3YiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX3ZpZ25ldHRlQmxlbmRNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl92aWduZXR0ZUVuYWJsZWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX3NraXBGaW5hbENvbG9yQ2xhbXAiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2FwcGx5QnlQb3N0UHJvY2VzcyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaXNFbmFibGVkIix2b2lkIDApLGl9KCk7Si5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1OdC5QYXJzZSxmZS5wcm90b3R5cGUuY3JlYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihpKXt2YXIgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdW5pZm9ybSBidWZmZXIiKTt2YXIgdD1uZXcgWnQoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksaSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGksdGhpcy5fZ2wuU1RBVElDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShpKSx0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxmZS5wcm90b3R5cGUuY3JlYXRlRHluYW1pY1VuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGR5bmFtaWMgdW5pZm9ybSBidWZmZXIiKTt2YXIgdD1uZXcgWnQoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksaSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoaSksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpLHQucmVmZXJlbmNlcz0xLHR9LGZlLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGksZSx0LHIpe3RoaXMuYmluZFVuaWZvcm1CdWZmZXIoaSksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMD9lIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsdCxlKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsZS5zdWJhcnJheSh0LHQrcikpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtyKSksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKX0sZmUucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGkpe3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsaT9pLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sZmUucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyQmFzZT1mdW5jdGlvbihpLGUsdCl7dGhpcy5fZ2wuYmluZEJ1ZmZlckJhc2UodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsZSxpP2kudW5kZXJseWluZ1Jlc291cmNlOm51bGwpfSxmZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CbG9jaz1mdW5jdGlvbihpLGUsdCl7dmFyIHI9aS5wcm9ncmFtLG49dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgocixlKTtuIT09NDI5NDk2NzI5NSYmdGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhyLG4sdCl9O3ZhciBFcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT0hMSksdGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9ub1VCTz0hZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHxhLHRoaXMuX2R5bmFtaWM9cix0aGlzLl9uYW1lPW4hPW51bGw/bjoibm8tbmFtZSIsdGhpcy5fZGF0YT10fHxbXSx0aGlzLl91bmlmb3JtTG9jYXRpb25zPXt9LHRoaXMuX3VuaWZvcm1TaXplcz17fSx0aGlzLl91bmlmb3JtQXJyYXlTaXplcz17fSx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyPTAsdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycz1bXSx0aGlzLl9idWZmZXJJbmRleD0tMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRGcmFtZUlkPTApLHRoaXMuX25vVUJPPyh0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yMz10aGlzLl91cGRhdGVWZWN0b3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yND10aGlzLl91cGRhdGVDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDI9dGhpcy5fdXBkYXRlSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvckVmZmVjdCk6KHRoaXMuX2VuZ2luZS5fdW5pZm9ybUJ1ZmZlcnMucHVzaCh0aGlzKSx0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4MngyPXRoaXMuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mz10aGlzLl91cGRhdGVGbG9hdDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlQXJyYXk9dGhpcy5fdXBkYXRlQXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JVbmlmb3JtKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VVYm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbm9VQk99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1N5bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbmVlZFN5bmN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNEeW5hbWljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R5bmFtaWMhPT12b2lkIDB9LGkucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyRGF0YX0saS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn0saS5wcm90b3R5cGUuX2ZpbGxBbGlnbm1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZTw9Mj90PWU6dD00LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIldCE9PTApe3ZhciByPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI7dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dC10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQ7Zm9yKHZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXItcixhPTA7YTxuO2ErKyl0aGlzLl9kYXRhLnB1c2goMCl9fSxpLnByb3RvdHlwZS5hZGRVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0wKSwhdGhpcy5fbm9VQk8mJnRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV09PT12b2lkIDApe3ZhciBuO2lmKHI+MCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXRocm93ImFkZFVuaWZvcm0gc2hvdWxkIG5vdCBiZSB1c2Ugd2l0aCBBcnJheSBpbiBVQk86ICIrZTtpZih0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdPXtzdHJpZGVTaXplOnQsYXJyYXlTaXplOnJ9LHQ9PTE2KXQ9dCpyO2Vsc2V7dmFyIGE9NC10LHM9YSpyO3Q9dCpyK3N9bj1bXTtmb3IodmFyIG89MDtvPHQ7bysrKW4ucHVzaCgwKX1lbHNle2lmKHQgaW5zdGFuY2VvZiBBcnJheSluPXQsdD1uLmxlbmd0aDtlbHNle3Q9dCxuPVtdO2Zvcih2YXIgbz0wO288dDtvKyspbi5wdXNoKDApfXRoaXMuX2ZpbGxBbGlnbm1lbnQodCl9dGhpcy5fdW5pZm9ybVNpemVzW2VdPXQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQ7Zm9yKHZhciBvPTA7bzx0O28rKyl0aGlzLl9kYXRhLnB1c2gobltvXSk7dGhpcy5fbmVlZFN5bmM9ITB9fSxpLnByb3RvdHlwZS5hZGRNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLmFkZFVuaWZvcm0oZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LnRvQXJyYXkoKSkpfSxpLnByb3RvdHlwZS5hZGRGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVt0LHJdO3RoaXMuYWRkVW5pZm9ybShlLG4pfSxpLnByb3RvdHlwZS5hZGRGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9W3QscixuXTt0aGlzLmFkZFVuaWZvcm0oZSxhKX0saS5wcm90b3R5cGUuYWRkQ29sb3IzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W3Qucix0LmcsdC5iXTt0aGlzLmFkZFVuaWZvcm0oZSxyKX0saS5wcm90b3R5cGUuYWRkQ29sb3I0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bdC5yLHQuZyx0LmIscl07dGhpcy5hZGRVbmlmb3JtKGUsbil9LGkucHJvdG90eXBlLmFkZFZlY3RvcjM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bdC54LHQueSx0LnpdO3RoaXMuYWRkVW5pZm9ybShlLHIpfSxpLnByb3RvdHlwZS5hZGRNYXRyaXgzeDM9ZnVuY3Rpb24oZSl7dGhpcy5hZGRVbmlmb3JtKGUsMTIpfSxpLnByb3RvdHlwZS5hZGRNYXRyaXgyeDI9ZnVuY3Rpb24oZSl7dGhpcy5hZGRVbmlmb3JtKGUsOCl9LGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3RoaXMuX25vVUJPfHx0aGlzLl9idWZmZXJ8fCh0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX2J1ZmZlckRhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9kYXRhKSx0aGlzLl9yZWJ1aWxkKCksdGhpcy5fbmVlZFN5bmM9ITApfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX25vVUJPfHwhdGhpcy5fYnVmZmVyRGF0YXx8KHRoaXMuX2R5bmFtaWM/dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycy5wdXNoKFt0aGlzLl9idWZmZXIsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5jaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkP3RoaXMuX2J1ZmZlckRhdGEuc2xpY2UoKTp2b2lkIDBdKSx0aGlzLl9idWZmZXJJbmRleD10aGlzLl9idWZmZXJzLmxlbmd0aC0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfbnVtQnVmZmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJzLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9pbmRleEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYnVmZmVyc0VxdWFsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpaWYoZVtyXSE9PXRbcl0pcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLl9jb3B5QnVmZmVyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpdFtyXT1lW3JdfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZighdGhpcy5fbm9VQk8pe2lmKHRoaXMuYmluZFVuaWZvcm1CdWZmZXIoKSwhdGhpcy5fYnVmZmVyKXt0aGlzLmNyZWF0ZSgpO3JldHVybn1pZighdGhpcy5fZHluYW1pYyYmIXRoaXMuX25lZWRTeW5jKXt0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZTtyZXR1cm59aWYodGhpcy5fYnVmZmVycyYmdGhpcy5fYnVmZmVycy5sZW5ndGg+MSYmdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0paWYodGhpcy5fYnVmZmVyc0VxdWFsKHRoaXMuX2J1ZmZlckRhdGEsdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0pKXt0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZTtyZXR1cm59ZWxzZSB0aGlzLl9jb3B5QnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEsdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0pO3RoaXMuX2VuZ2luZS51cGRhdGVVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLl9jb2xsZWN0VWJvc1VwZGF0ZWRJbkZyYW1lJiYoaS5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdfHwoaS5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdPTApLGkuX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXSsrKSx0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZX19LGkucHJvdG90eXBlLl9jcmVhdGVOZXdCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXJJbmRleCsxPHRoaXMuX2J1ZmZlcnMubGVuZ3RoPyh0aGlzLl9idWZmZXJJbmRleCsrLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX25lZWRTeW5jPSEwKTp0aGlzLl9yZWJ1aWxkKCl9LGkucHJvdG90eXBlLl9jaGVja05ld0ZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX0saS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybT1mdW5jdGlvbihlLHQscil7dGhpcy5fY2hlY2tOZXdGcmFtZSgpO3ZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYobj09PXZvaWQgMCl7aWYodGhpcy5fYnVmZmVyKXtrLkVycm9yKCJDYW5ub3QgYWRkIGFuIHVuaWZvcm0gYWZ0ZXIgVUJPIGhhcyBiZWVuIGNyZWF0ZWQuIik7cmV0dXJufXRoaXMuYWRkVW5pZm9ybShlLHIpLG49dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXX1pZih0aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCksdGhpcy5fZHluYW1pYylmb3IodmFyIHM9MDtzPHI7cysrKXRoaXMuX2J1ZmZlckRhdGFbbitzXT10W3NdO2Vsc2V7Zm9yKHZhciBhPSExLHM9MDtzPHI7cysrKShyPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbbitzXSE9PV9lLkZsb2F0Um91bmQodFtzXSkpJiYoYT0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW24rc109dFtzXSk7dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fGF9fSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTt2YXIgbj10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKG49PT12b2lkIDApe2suRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybS4iKTtyZXR1cm59dGhpcy5fYnVmZmVyfHx0aGlzLmNyZWF0ZSgpO3ZhciBhPXRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdO2lmKHRoaXMuX2R5bmFtaWMpZm9yKHZhciBmPTA7ZjxyO2YrKyl0aGlzLl9idWZmZXJEYXRhW24rZl09dFtmXTtlbHNle2Zvcih2YXIgcz0hMSxvPTAsdT0wLGY9MDtmPHI7ZisrKWlmKHRoaXMuX2J1ZmZlckRhdGFbbit1KjQrb10hPT1fZS5GbG9hdFJvdW5kKHRbZl0pJiYocz0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW24rdSo0K29dPXRbZl0pLG8rKyxvPT09YS5zdHJpZGVTaXplKXtmb3IoO288NDtvKyspdGhpcy5fYnVmZmVyRGF0YVtuK3UqNCtvXT0wO289MCx1Kyt9dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fHN9fSxpLnByb3RvdHlwZS5fY2FjaGVNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXSxuPXQudXBkYXRlRmxhZztyZXR1cm4gciE9PXZvaWQgMCYmcj09PW4/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMCl9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwzO3IrKylpLl9UZW1wQnVmZmVyW3IqNF09dFtyKjNdLGkuX1RlbXBCdWZmZXJbcio0KzFdPXRbciozKzFdLGkuX1RlbXBCdWZmZXJbcio0KzJdPXRbciozKzJdLGkuX1RlbXBCdWZmZXJbcio0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwxMil9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgyeDIoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDI7cisrKWkuX1RlbXBCdWZmZXJbcio0XT10W3IqMl0saS5fVGVtcEJ1ZmZlcltyKjQrMV09dFtyKjIrMV0saS5fVGVtcEJ1ZmZlcltyKjQrMl09MCxpLl9UZW1wQnVmZmVyW3IqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsOCl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdEZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDEpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK24sdCxyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIpe2kuX1RlbXBCdWZmZXJbMF09dCxpLl9UZW1wQnVmZmVyWzFdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdD1mdW5jdGlvbihlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK2EsdCxyLG4pfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuKXtpLl9UZW1wQnVmZmVyWzBdPXQsaS5fVGVtcEJ1ZmZlclsxXT1yLGkuX1RlbXBCdWZmZXJbMl09bix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStzLHQscixuLGEpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuLGEpe2kuX1RlbXBCdWZmZXJbMF09dCxpLl9UZW1wQnVmZmVyWzFdPXIsaS5fVGVtcEJ1ZmZlclsyXT1uLGkuX1RlbXBCdWZmZXJbM109YSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXRBcnJheShlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlQXJyYXlGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVySW50MzJWaWV3LnNldCh0KSx0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLGkuX1RlbXBCdWZmZXIsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiZ0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LnRvQXJyYXkoKSwxNil9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cmljZXMoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yM0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yMyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVyWzBdPXQueCxpLl9UZW1wQnVmZmVyWzFdPXQueSxpLl9UZW1wQnVmZmVyWzJdPXQueix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yNEZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yNEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVyWzBdPXQueCxpLl9UZW1wQnVmZmVyWzFdPXQueSxpLl9UZW1wQnVmZmVyWzJdPXQueixpLl9UZW1wQnVmZmVyWzNdPXQudyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3IzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJbMF09dC5yLGkuX1RlbXBCdWZmZXJbMV09dC5nLGkuX1RlbXBCdWZmZXJbMl09dC5iLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMyl9LGkucHJvdG90eXBlLl91cGRhdGVDb2xvcjRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrbix0LHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXREaXJlY3RDb2xvcjQoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscil7aS5fVGVtcEJ1ZmZlclswXT10LnIsaS5fVGVtcEJ1ZmZlclsxXT10LmcsaS5fVGVtcEJ1ZmZlclsyXT10LmIsaS5fVGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsNCl9LGkucHJvdG90eXBlLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7aS5fVGVtcEJ1ZmZlclswXT10LnIsaS5fVGVtcEJ1ZmZlclsxXT10LmcsaS5fVGVtcEJ1ZmZlclsyXT10LmIsaS5fVGVtcEJ1ZmZlclszXT10LmEsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEZvckVmZmVjdD1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUrcix0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwxKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDJGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK24sdCxyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDJGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMil9LGkucHJvdG90eXBlLl91cGRhdGVJbnQzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK2EsdCxyLG4pfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50M0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIsbil7aS5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LGkuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMV09cixpLl9UZW1wQnVmZmVySW50MzJWaWV3WzJdPW4sdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwzKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStzLHQscixuLGEpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50NEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIsbixhKXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLGkuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09bixpLl9UZW1wQnVmZmVySW50MzJWaWV3WzNdPWEsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VGV4dHVyZShlLHQpfSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtRGlyZWN0bHk9ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LHQubGVuZ3RoKSx0aGlzLnVwZGF0ZSgpfSxpLnByb3RvdHlwZS5iaW5kVG9FZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oKXshdGhpcy5fbm9VQk8mJnRoaXMuX2J1ZmZlciYmdGhpcy5fY3VycmVudEVmZmVjdCYmdGhpcy5fY3VycmVudEVmZmVjdC5iaW5kVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXIsdGhpcy5fY3VycmVudEVmZmVjdE5hbWUpfSxpLnByb3RvdHlwZS51bmJpbmRFZmZlY3Q9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT12b2lkIDB9LGkucHJvdG90eXBlLnNldERhdGFCdWZmZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKHZhciB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX2J1ZmZlcnNbdF07aWYoclswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9ub1VCTyl7dmFyIGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcih2YXIgcj0wO3I8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytyKXt2YXIgbj10aGlzLl9idWZmZXJzW3JdWzBdO3RoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcihuKX1lbHNlIHRoaXMuX2J1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2J1ZmZlcikmJih0aGlzLl9idWZmZXI9bnVsbCl9fSxpLl9VcGRhdGVkVWJvc0luRnJhbWU9e30saS5fTUFYX1VOSUZPUk1fU0laRT0yNTYsaS5fVGVtcEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KGkuX01BWF9VTklGT1JNX1NJWkUpLGkuX1RlbXBCdWZmZXJJbnQzMlZpZXc9bmV3IFVpbnQzMkFycmF5KGkuX1RlbXBCdWZmZXIuYnVmZmVyKSxpfSgpLFRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUpe249PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPSExKSxzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITEpLHRoaXMuX2lzQWxyZWFkeU93bmVkPSExLGUuZ2V0U2NlbmU/dGhpcy5fZW5naW5lPWUuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTp0aGlzLl9lbmdpbmU9ZSx0aGlzLl91cGRhdGFibGU9cix0aGlzLl9pbnN0YW5jZWQ9cyx0aGlzLl9kaXZpc29yPXV8fDEsdCBpbnN0YW5jZW9mIE1pPyh0aGlzLl9kYXRhPW51bGwsdGhpcy5fYnVmZmVyPXQpOih0aGlzLl9kYXRhPXQsdGhpcy5fYnVmZmVyPW51bGwpLHRoaXMuYnl0ZVN0cmlkZT1vP246bipGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsYXx8dGhpcy5jcmVhdGUoKX1yZXR1cm4gaS5wcm90b3R5cGUuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPSExKTt2YXIgdT1zP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsZj1uP3M/bjpuKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVDp0aGlzLmJ5dGVTdHJpZGU7cmV0dXJuIG5ldyBtKHRoaXMuX2VuZ2luZSx0aGlzLGUsdGhpcy5fdXBkYXRhYmxlLCEwLGYsYT09PXZvaWQgMD90aGlzLl9pbnN0YW5jZWQ6YSx1LHIsdm9pZCAwLHZvaWQgMCwhMCx0aGlzLl9kaXZpc29yfHxvKX0saS5wcm90b3R5cGUuaXNVcGRhdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfSxpLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGkucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LGkucHJvdG90eXBlLmdldFN0cmlkZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH0saS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPW51bGwpLCEoIWUmJnRoaXMuX2J1ZmZlcikmJihlPWV8fHRoaXMuX2RhdGEsZSYmKHRoaXMuX2J1ZmZlcj90aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSksdGhpcy5fZGF0YT1lKTp0aGlzLl91cGRhdGFibGU/KHRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVmVydGV4QnVmZmVyKGUpKSl9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5fYnVmZmVyPW51bGwsdGhpcy5jcmVhdGUodGhpcy5fZGF0YSl9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNyZWF0ZShlKX0saS5wcm90b3R5cGUudXBkYXRlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpLCEhdGhpcy5fYnVmZmVyJiZ0aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSxuP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQscj9yKnRoaXMuYnl0ZVN0cmlkZTp2b2lkIDApLHQ9PT0wJiZyPT09dm9pZCAwP3RoaXMuX2RhdGE9ZTp0aGlzLl9kYXRhPW51bGwpfSxpLnByb3RvdHlwZS5faW5jcmVhc2VSZWZlcmVuY2VzPWZ1bmN0aW9uKCl7aWYoISF0aGlzLl9idWZmZXIpe2lmKCF0aGlzLl9pc0FscmVhZHlPd25lZCl7dGhpcy5faXNBbHJlYWR5T3duZWQ9ITA7cmV0dXJufXRoaXMuX2J1ZmZlci5yZWZlcmVuY2VzKyt9fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7IXRoaXMuX2J1ZmZlcnx8dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2J1ZmZlcikmJih0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9kYXRhPW51bGwpfSxpfSgpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCl7aWYoaD09PXZvaWQgMCYmKGg9ITEpLGM9PT12b2lkIDAmJihjPSExKSxkPT09dm9pZCAwJiYoZD0xKSxwPT09dm9pZCAwJiYocD0hMSksdCBpbnN0YW5jZW9mIFRyPyh0aGlzLl9idWZmZXI9dCx0aGlzLl9vd25zQnVmZmVyPXApOih0aGlzLl9idWZmZXI9bmV3IFRyKGUsdCxuLHMsYSxvLGMpLHRoaXMuX293bnNCdWZmZXI9ITApLHRoaXMudW5pcXVlSWQ9aS5fQ291bnRlcisrLHRoaXMuX2tpbmQ9cixsPT1udWxsKXt2YXIgZz10aGlzLmdldERhdGEoKTt0aGlzLnR5cGU9aS5GTE9BVCxnIGluc3RhbmNlb2YgSW50OEFycmF5P3RoaXMudHlwZT1pLkJZVEU6ZyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dGhpcy50eXBlPWkuVU5TSUdORURfQllURTpnIGluc3RhbmNlb2YgSW50MTZBcnJheT90aGlzLnR5cGU9aS5TSE9SVDpnIGluc3RhbmNlb2YgVWludDE2QXJyYXk/dGhpcy50eXBlPWkuVU5TSUdORURfU0hPUlQ6ZyBpbnN0YW5jZW9mIEludDMyQXJyYXk/dGhpcy50eXBlPWkuSU5UOmcgaW5zdGFuY2VvZiBVaW50MzJBcnJheSYmKHRoaXMudHlwZT1pLlVOU0lHTkVEX0lOVCl9ZWxzZSB0aGlzLnR5cGU9bDt2YXIgXz1pLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSk7Yz8odGhpcy5fc2l6ZT1mfHwocz9zL186aS5EZWR1Y2VTdHJpZGUocikpLHRoaXMuYnl0ZVN0cmlkZT1zfHx0aGlzLl9idWZmZXIuYnl0ZVN0cmlkZXx8dGhpcy5fc2l6ZSpfLHRoaXMuYnl0ZU9mZnNldD11fHwwKToodGhpcy5fc2l6ZT1mfHxzfHxpLkRlZHVjZVN0cmlkZShyKSx0aGlzLmJ5dGVTdHJpZGU9cz9zKl86dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqXyx0aGlzLmJ5dGVPZmZzZXQ9KHV8fDApKl8pLHRoaXMubm9ybWFsaXplZD1oLHRoaXMuX2luc3RhbmNlZD1vIT09dm9pZCAwP286ITEsdGhpcy5faW5zdGFuY2VEaXZpc29yPW8/ZDowLHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImluc3RhbmNlRGl2aXNvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pbnN0YW5jZURpdmlzb3I9ZSxlPT0wP3RoaXMuX2luc3RhbmNlZD0hMTp0aGlzLl9pbnN0YW5jZWQ9ITAsdGhpcy5fY29tcHV0ZUhhc2hDb2RlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2NvbXB1dGVIYXNoQ29kZT1mdW5jdGlvbigpe3RoaXMuaGFzaENvZGU9KHRoaXMudHlwZS01MTIwPDwwKSsoKHRoaXMubm9ybWFsaXplZD8xOjApPDwzKSsodGhpcy5fc2l6ZTw8NCkrKCh0aGlzLl9pbnN0YW5jZWQ/MTowKTw8NikrKHRoaXMuYnl0ZVN0cmlkZTw8MTIpfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpeyF0aGlzLl9idWZmZXJ8fHRoaXMuX2J1ZmZlci5fcmVidWlsZCgpfSxpLnByb3RvdHlwZS5nZXRLaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tpbmR9LGkucHJvdG90eXBlLmlzVXBkYXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5pc1VwZGF0YWJsZSgpfSxpLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXREYXRhKCl9LGkucHJvdG90eXBlLmdldEZsb2F0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ2V0RGF0YSgpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZ2V0U2l6ZSgpKmkuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKSxhPWUqdGhpcy5nZXRTaXplKCk7aWYodGhpcy50eXBlIT09aS5GTE9BVHx8dGhpcy5ieXRlU3RyaWRlIT09bil7dmFyIHM9bmV3IEZsb2F0MzJBcnJheShhKTtyZXR1cm4gdGhpcy5mb3JFYWNoKGEsZnVuY3Rpb24oaCxjKXtyZXR1cm4gc1tjXT1ofSksc31pZighKHIgaW5zdGFuY2VvZiBBcnJheXx8ciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl8fHRoaXMuYnl0ZU9mZnNldCE9PTB8fHIubGVuZ3RoIT09YSlpZihyIGluc3RhbmNlb2YgQXJyYXkpe3ZhciBvPXRoaXMuYnl0ZU9mZnNldC80O3JldHVybiByLnNsaWNlKG8sbythKX1lbHNle2lmKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShyLHRoaXMuYnl0ZU9mZnNldCxhKTt2YXIgbz1yLmJ5dGVPZmZzZXQrdGhpcy5ieXRlT2Zmc2V0O2lmKHQpe3ZhciB1PW5ldyBGbG9hdDMyQXJyYXkoYSksZj1uZXcgRmxvYXQzMkFycmF5KHIuYnVmZmVyLG8sYSk7cmV0dXJuIHUuc2V0KGYpLHV9dmFyIGw9byU0O3JldHVybiBsJiYobz1NYXRoLm1heCgwLG8tbCkpLG5ldyBGbG9hdDMyQXJyYXkoci5idWZmZXIsbyxhKX1yZXR1cm4gdD9yLnNsaWNlKCk6cn0saS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRCdWZmZXIoKX0saS5wcm90b3R5cGUuZ2V0U3RyaWRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ5dGVTdHJpZGUvaS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpfSxpLnByb3RvdHlwZS5nZXRPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0L2kuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX0saS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLGU/dGhpcy5fc2l6ZSppLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSk6dGhpcy5fc2l6ZX0saS5wcm90b3R5cGUuZ2V0SXNJbnN0YW5jZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VkfSxpLnByb3RvdHlwZS5nZXRJbnN0YW5jZURpdmlzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fYnVmZmVyLmNyZWF0ZShlKX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlci51cGRhdGUoZSl9LGkucHJvdG90eXBlLnVwZGF0ZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fYnVmZmVyLnVwZGF0ZURpcmVjdGx5KGUsdCx2b2lkIDAscil9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9vd25zQnVmZmVyJiZ0aGlzLl9idWZmZXIuZGlzcG9zZSgpfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7aS5Gb3JFYWNoKHRoaXMuX2J1ZmZlci5nZXREYXRhKCksdGhpcy5ieXRlT2Zmc2V0LHRoaXMuYnl0ZVN0cmlkZSx0aGlzLl9zaXplLHRoaXMudHlwZSxlLHRoaXMubm9ybWFsaXplZCx0KX0saS5EZWR1Y2VTdHJpZGU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgaS5VVktpbmQ6Y2FzZSBpLlVWMktpbmQ6Y2FzZSBpLlVWM0tpbmQ6Y2FzZSBpLlVWNEtpbmQ6Y2FzZSBpLlVWNUtpbmQ6Y2FzZSBpLlVWNktpbmQ6cmV0dXJuIDI7Y2FzZSBpLk5vcm1hbEtpbmQ6Y2FzZSBpLlBvc2l0aW9uS2luZDpyZXR1cm4gMztjYXNlIGkuQ29sb3JLaW5kOmNhc2UgaS5NYXRyaWNlc0luZGljZXNLaW5kOmNhc2UgaS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6Y2FzZSBpLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6Y2FzZSBpLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDpjYXNlIGkuVGFuZ2VudEtpbmQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQga2luZCAnIitlKyInIil9fSxpLkdldFR5cGVCeXRlTGVuZ3RoPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIGkuQllURTpjYXNlIGkuVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIGkuU0hPUlQ6Y2FzZSBpLlVOU0lHTkVEX1NIT1JUOnJldHVybiAyO2Nhc2UgaS5JTlQ6Y2FzZSBpLlVOU0lHTkVEX0lOVDpjYXNlIGkuRkxPQVQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdHlwZSAnIi5jb25jYXQoZSwiJyIpKX19LGkuRm9yRWFjaD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2lmKGUgaW5zdGFuY2VvZiBBcnJheSlmb3IodmFyIGY9dC80LGw9ci80LGg9MDtoPHM7aCs9bil7Zm9yKHZhciBjPTA7YzxuO2MrKyl1KGVbZitjXSxoK2MpO2YrPWx9ZWxzZSBmb3IodmFyIGQ9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBEYXRhVmlldyhlKTpuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscD1pLkdldFR5cGVCeXRlTGVuZ3RoKGEpLGg9MDtoPHM7aCs9bil7Zm9yKHZhciBnPXQsYz0wO2M8bjtjKyspe3ZhciBfPWkuX0dldEZsb2F0VmFsdWUoZCxhLGcsbyk7dShfLGgrYyksZys9cH10Kz1yfX0saS5fR2V0RmxvYXRWYWx1ZT1mdW5jdGlvbihlLHQscixuKXtzd2l0Y2godCl7Y2FzZSBpLkJZVEU6e3ZhciBhPWUuZ2V0SW50OChyKTtyZXR1cm4gbiYmKGE9TWF0aC5tYXgoYS8xMjcsLTEpKSxhfWNhc2UgaS5VTlNJR05FRF9CWVRFOnt2YXIgYT1lLmdldFVpbnQ4KHIpO3JldHVybiBuJiYoYT1hLzI1NSksYX1jYXNlIGkuU0hPUlQ6e3ZhciBhPWUuZ2V0SW50MTYociwhMCk7cmV0dXJuIG4mJihhPU1hdGgubWF4KGEvMzI3NjcsLTEpKSxhfWNhc2UgaS5VTlNJR05FRF9TSE9SVDp7dmFyIGE9ZS5nZXRVaW50MTYociwhMCk7cmV0dXJuIG4mJihhPWEvNjU1MzUpLGF9Y2FzZSBpLklOVDpyZXR1cm4gZS5nZXRJbnQzMihyLCEwKTtjYXNlIGkuVU5TSUdORURfSU5UOnJldHVybiBlLmdldFVpbnQzMihyLCEwKTtjYXNlIGkuRkxPQVQ6cmV0dXJuIGUuZ2V0RmxvYXQzMihyLCEwKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb21wb25lbnQgdHlwZSAiLmNvbmNhdCh0KSl9fSxpLl9Db3VudGVyPTAsaS5CWVRFPTUxMjAsaS5VTlNJR05FRF9CWVRFPTUxMjEsaS5TSE9SVD01MTIyLGkuVU5TSUdORURfU0hPUlQ9NTEyMyxpLklOVD01MTI0LGkuVU5TSUdORURfSU5UPTUxMjUsaS5GTE9BVD01MTI2LGkuUG9zaXRpb25LaW5kPSJwb3NpdGlvbiIsaS5Ob3JtYWxLaW5kPSJub3JtYWwiLGkuVGFuZ2VudEtpbmQ9InRhbmdlbnQiLGkuVVZLaW5kPSJ1diIsaS5VVjJLaW5kPSJ1djIiLGkuVVYzS2luZD0idXYzIixpLlVWNEtpbmQ9InV2NCIsaS5VVjVLaW5kPSJ1djUiLGkuVVY2S2luZD0idXY2IixpLkNvbG9yS2luZD0iY29sb3IiLGkuQ29sb3JJbnN0YW5jZUtpbmQ9Imluc3RhbmNlQ29sb3IiLGkuTWF0cmljZXNJbmRpY2VzS2luZD0ibWF0cmljZXNJbmRpY2VzIixpLk1hdHJpY2VzV2VpZ2h0c0tpbmQ9Im1hdHJpY2VzV2VpZ2h0cyIsaS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ9Im1hdHJpY2VzSW5kaWNlc0V4dHJhIixpLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZD0ibWF0cmljZXNXZWlnaHRzRXh0cmEiLGl9KCksUWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fcGlja2luZ1VuYXZhaWxhYmxlPSExLHRoaXMuaGl0PSExLHRoaXMuZGlzdGFuY2U9MCx0aGlzLnBpY2tlZFBvaW50PW51bGwsdGhpcy5waWNrZWRNZXNoPW51bGwsdGhpcy5idT0wLHRoaXMuYnY9MCx0aGlzLmZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hGYWNlSWQ9LTEsdGhpcy5zdWJNZXNoSWQ9MCx0aGlzLnBpY2tlZFNwcml0ZT1udWxsLHRoaXMudGhpbkluc3RhbmNlSW5kZXg9LTEsdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbk1lc2g9bnVsbCx0aGlzLmFpbVRyYW5zZm9ybT1udWxsLHRoaXMuZ3JpcFRyYW5zZm9ybT1udWxsfXJldHVybiBpLnByb3RvdHlwZS5nZXROb3JtYWw9ZnVuY3Rpb24oZSx0KXtpZihlPT09dm9pZCAwJiYoZT0hMSksdD09PXZvaWQgMCYmKHQ9ITApLCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCkpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighcilyZXR1cm4gbnVsbDt2YXIgbjtpZih0KXt2YXIgYT10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCkscz1iLkZyb21BcnJheShhLHJbdGhpcy5mYWNlSWQqM10qMyksbz1iLkZyb21BcnJheShhLHJbdGhpcy5mYWNlSWQqMysxXSozKSx1PWIuRnJvbUFycmF5KGEsclt0aGlzLmZhY2VJZCozKzJdKjMpO3M9cy5zY2FsZSh0aGlzLmJ1KSxvPW8uc2NhbGUodGhpcy5idiksdT11LnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuPW5ldyBiKHMueCtvLngrdS54LHMueStvLnkrdS55LHMueitvLnordS56KX1lbHNle3ZhciBmPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpLGw9Yi5Gcm9tQXJyYXkoZixyW3RoaXMuZmFjZUlkKjNdKjMpLGg9Yi5Gcm9tQXJyYXkoZixyW3RoaXMuZmFjZUlkKjMrMV0qMyksYz1iLkZyb21BcnJheShmLHJbdGhpcy5mYWNlSWQqMysyXSozKSxkPWwuc3VidHJhY3QoaCkscD1jLnN1YnRyYWN0KGgpO249Yi5Dcm9zcyhkLHApfWlmKGUpe3ZhciBnPXRoaXMucGlja2VkTWVzaC5nZXRXb3JsZE1hdHJpeCgpO3RoaXMucGlja2VkTWVzaC5ub25Vbmlmb3JtU2NhbGluZyYmKEQuTWF0cml4WzBdLmNvcHlGcm9tKGcpLGc9RC5NYXRyaXhbMF0sZy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLGcuaW52ZXJ0KCksZy50cmFuc3Bvc2VUb1JlZihELk1hdHJpeFsxXSksZz1ELk1hdHJpeFsxXSksbj1iLlRyYW5zZm9ybU5vcm1hbChuLGcpfXJldHVybiBuLm5vcm1hbGl6ZSgpLG59LGkucHJvdG90eXBlLmdldFRleHR1cmVDb29yZGluYXRlcz1mdW5jdGlvbigpe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSlyZXR1cm4gbnVsbDt2YXIgZT10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFlKXJldHVybiBudWxsO3ZhciB0PXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQpO2lmKCF0KXJldHVybiBudWxsO3ZhciByPVNlLkZyb21BcnJheSh0LGVbdGhpcy5mYWNlSWQqM10qMiksbj1TZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMV0qMiksYT1TZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMl0qMik7cmV0dXJuIHI9ci5zY2FsZSh0aGlzLmJ1KSxuPW4uc2NhbGUodGhpcy5idiksYT1hLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuZXcgU2Uoci54K24ueCthLngsci55K24ueSthLnkpfSxpfSgpLE5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyl7dGhpcy5zb3VyY2U9ZSx0aGlzLnBvaW50ZXJYPXQsdGhpcy5wb2ludGVyWT1yLHRoaXMubWVzaFVuZGVyUG9pbnRlcj1uLHRoaXMuc291cmNlRXZlbnQ9YSx0aGlzLmFkZGl0aW9uYWxEYXRhPXN9cmV0dXJuIGkuQ3JlYXRlTmV3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmdldFNjZW5lKCk7cmV0dXJuIG5ldyBpKGUsbi5wb2ludGVyWCxuLnBvaW50ZXJZLG4ubWVzaFVuZGVyUG9pbnRlcnx8ZSx0LHIpfSxpLkNyZWF0ZU5ld0Zyb21TcHJpdGU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKGUsdC5wb2ludGVyWCx0LnBvaW50ZXJZLHQubWVzaFVuZGVyUG9pbnRlcixyLG4pfSxpLkNyZWF0ZU5ld0Zyb21TY2VuZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShudWxsLGUucG9pbnRlclgsZS5wb2ludGVyWSxlLm1lc2hVbmRlclBvaW50ZXIsdCl9LGkuQ3JlYXRlTmV3RnJvbVByaW1pdGl2ZT1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkoZSx0LngsdC55LG51bGwscixuKX0saX0oKSxTcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9zY2VuZT1lfXJldHVybiBpLnByb3RvdHlwZS5fcHJlcGFyZUJ1ZmZlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF0pe3ZhciBlPVtdO2UucHVzaCgxLDEpLGUucHVzaCgtMSwxKSxlLnB1c2goLTEsLTEpLGUucHVzaCgxLC0xKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW20uUG9zaXRpb25LaW5kXT1uZXcgbSh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxlLG0uUG9zaXRpb25LaW5kLCExLCExLDIpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKX19LGkucHJvdG90eXBlLl9idWlsZEluZGV4QnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9W107ZS5wdXNoKDApLGUucHVzaCgxKSxlLnB1c2goMiksZS5wdXNoKDApLGUucHVzaCgyKSxlLnB1c2goMyksdGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlSW5kZXhCdWZmZXIoZSl9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF07IWV8fChlLl9yZWJ1aWxkKCksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpKX0saS5wcm90b3R5cGUuX3ByZXBhcmVGcmFtZT1mdW5jdGlvbihlLHQpe2U9PT12b2lkIDAmJihlPW51bGwpLHQ9PT12b2lkIDAmJih0PW51bGwpO3ZhciByPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4hcnx8KHQ9dHx8ci5fcG9zdFByb2Nlc3Nlcy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4hPW51bGx9KSwhdHx8dC5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpPyExOih0WzBdLmFjdGl2YXRlKHIsZSx0IT1udWxsKSwhMCl9LGkucHJvdG90eXBlLmRpcmVjdFJlbmRlcj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG87dD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPSExKTtmb3IodmFyIHU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksZj0wO2Y8ZS5sZW5ndGg7ZisrKXtmPGUubGVuZ3RoLTE/ZVtmKzFdLmFjdGl2YXRlKHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0P3UuYmluZEZyYW1lYnVmZmVyKHQsbix2b2lkIDAsdm9pZCAwLHIsYSk6c3x8dS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksKG89dS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHUsInBvc3QgcHJvY2VzcyAiLmNvbmNhdChlW2ZdLm5hbWUsIiBvdXRwdXQiKSkpO3ZhciBsPWVbZl0saD1sLmFwcGx5KCk7aCYmKGwub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoKSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLHUuYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcixoKSx1LmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLGwub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpKX11LnNldERlcHRoQnVmZmVyKCEwKSx1LnNldERlcHRoV3JpdGUoITApfSxpLnByb3RvdHlwZS5fZmluYWxpemVGcmFtZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzO2E9PT12b2lkIDAmJihhPSExKTt2YXIgbz10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7aWYoISFvJiYobj1ufHxvLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZCE9bnVsbH0pLCEobi5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpKSl7Zm9yKHZhciB1PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGY9MCxsPW4ubGVuZ3RoO2Y8bDtmKyspe3ZhciBoPW5bZl07aWYoZjxsLTE/aC5fb3V0cHV0VGV4dHVyZT1uW2YrMV0uYWN0aXZhdGUobyx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0Pyh1LmJpbmRGcmFtZWJ1ZmZlcih0LHIsdm9pZCAwLHZvaWQgMCxhKSxoLl9vdXRwdXRUZXh0dXJlPXQpOih1LnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSxoLl9vdXRwdXRUZXh0dXJlPW51bGwpLChzPXUuX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbCh1LCJwb3N0IHByb2Nlc3MgIi5jb25jYXQobltmXS5uYW1lLCIgb3V0cHV0IikpKSxlKWJyZWFrO3ZhciBjPWguYXBwbHkoKTtjJiYoaC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGMpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksdS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGMpLHUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksaC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYykpfXUuc2V0RGVwdGhCdWZmZXIoITApLHUuc2V0RGVwdGhXcml0ZSghMCksdS5zZXRBbHBoYU1vZGUoMCl9fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF07ZSYmKGUuZGlzcG9zZSgpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbbS5Qb3NpdGlvbktpbmRdPW51bGwpLHRoaXMuX2luZGV4QnVmZmVyJiYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGV4QnVmZmVyPW51bGwpfSxpfSgpLGFhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEpe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHRoaXMuaW5kZXg9ZSx0aGlzLl9vcGFxdWVTdWJNZXNoZXM9bmV3IFZlKDI1NiksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXM9bmV3IFZlKDI1NiksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzPW5ldyBWZSgyNTYpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcz1uZXcgVmUoMjU2KSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXM9bmV3IFZlKDI1NiksdGhpcy5fc3ByaXRlTWFuYWdlcnM9bmV3IFZlKDI1NiksdGhpcy5fZW1wdHk9ITAsdGhpcy5fZWRnZXNSZW5kZXJlcnM9bmV3IEl0KDE2KSx0aGlzLl9zY2VuZT10LHRoaXMub3BhcXVlU29ydENvbXBhcmVGbj1yLHRoaXMuYWxwaGFUZXN0U29ydENvbXBhcmVGbj1uLHRoaXMudHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPWF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BhcXVlU29ydENvbXBhcmVGbiIse3NldDpmdW5jdGlvbihlKXtlP3RoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49ZTp0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPWkuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlck9wYXF1ZT10aGlzLl9yZW5kZXJPcGFxdWVTb3J0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYVRlc3RTb3J0Q29tcGFyZUZuIix7c2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1lOnRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49aS5QYWludGVyU29ydENvbXBhcmUsdGhpcy5fcmVuZGVyQWxwaGFUZXN0PXRoaXMuX3JlbmRlckFscGhhVGVzdFNvcnRlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYW5zcGFyZW50U29ydENvbXBhcmVGbiIse3NldDpmdW5jdGlvbihlKXtlP3RoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1lOnRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1pLmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlLHRoaXMuX3JlbmRlclRyYW5zcGFyZW50PXRoaXMuX3JlbmRlclRyYW5zcGFyZW50U29ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQscixuKXtpZihlKXtlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMsdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMsdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKTtyZXR1cm59dmFyIGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmxlbmd0aCE9PTAmJihhLnNldENvbG9yV3JpdGUoITEpLHRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpLGEuc2V0Q29sb3JXcml0ZSghMCkpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJPcGFxdWUodGhpcy5fb3BhcXVlU3ViTWVzaGVzKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyk7dmFyIHM9YS5nZXRTdGVuY2lsQnVmZmVyKCk7aWYoYS5zZXRTdGVuY2lsQnVmZmVyKCExKSx0JiZ0aGlzLl9yZW5kZXJTcHJpdGVzKCksciYmdGhpcy5fcmVuZGVyUGFydGljbGVzKG4pLHRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZyYmdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMubGVuZ3RoIT09MHx8dGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7aWYoYS5zZXRTdGVuY2lsQnVmZmVyKHMpLHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe3ZhciBvPXRoaXMuX3NjZW5lLmRlcHRoUGVlbGluZ1JlbmRlcmVyLnJlbmRlcih0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7by5sZW5ndGgmJnRoaXMuX3JlbmRlclRyYW5zcGFyZW50KG8pfWVsc2UgdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO2Euc2V0QWxwaGFNb2RlKDApfWlmKGEuc2V0U3RlbmNpbEJ1ZmZlcighMSksdGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoKXtmb3IodmFyIHU9MDt1PHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aDt1KyspdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGF0YVt1XS5yZW5kZXIoKTthLnNldEFscGhhTW9kZSgwKX1hLnNldFN0ZW5jaWxCdWZmZXIocyl9LGkucHJvdG90eXBlLl9yZW5kZXJPcGFxdWVTb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX1JlbmRlclNvcnRlZChlLHRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX0saS5wcm90b3R5cGUuX3JlbmRlckFscGhhVGVzdFNvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5fUmVuZGVyU29ydGVkKGUsdGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfSxpLnByb3RvdHlwZS5fcmVuZGVyVHJhbnNwYXJlbnRTb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX1JlbmRlclNvcnRlZChlLHRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITApfSxpLl9SZW5kZXJTb3J0ZWQ9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9MCxzLG89cj9yLmdsb2JhbFBvc2l0aW9uOmkuX1plcm9WZWN0b3I7aWYobilmb3IoO2E8ZS5sZW5ndGg7YSsrKXM9ZS5kYXRhW2FdLHMuX2FscGhhSW5kZXg9cy5nZXRNZXNoKCkuYWxwaGFJbmRleCxzLl9kaXN0YW5jZVRvQ2FtZXJhPWIuRGlzdGFuY2Uocy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxvKTt2YXIgdT1lLmxlbmd0aD09PWUuZGF0YS5sZW5ndGg/ZS5kYXRhOmUuZGF0YS5zbGljZSgwLGUubGVuZ3RoKTt0JiZ1LnNvcnQodCk7dmFyIGY9dVswXS5nZXRNZXNoKCkuZ2V0U2NlbmUoKTtmb3IoYT0wO2E8dS5sZW5ndGg7YSsrKWlmKHM9dVthXSwhKGYuX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZyYmIXMuaXNJbkZydXN0dW0oZi5fZnJ1c3R1bVBsYW5lcykpKXtpZihuKXt2YXIgbD1zLmdldE1hdGVyaWFsKCk7aWYobCYmbC5uZWVkRGVwdGhQcmVQYXNzKXt2YXIgaD1sLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7aC5zZXRDb2xvcldyaXRlKCExKSxoLnNldEFscGhhTW9kZSgwKSxzLnJlbmRlcighMSksaC5zZXRDb2xvcldyaXRlKCEwKX19cy5yZW5kZXIobil9fSxpLmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2FscGhhSW5kZXg+dC5fYWxwaGFJbmRleD8xOmUuX2FscGhhSW5kZXg8dC5fYWxwaGFJbmRleD8tMTppLmJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KX0saS5iYWNrVG9Gcm9udFNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTowfSxpLmZyb250VG9CYWNrU29ydENvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8xOjB9LGkuUGFpbnRlclNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXRNZXNoKCksbj10LmdldE1lc2goKTtyZXR1cm4gci5tYXRlcmlhbCYmbi5tYXRlcmlhbD9yLm1hdGVyaWFsLnVuaXF1ZUlkLW4ubWF0ZXJpYWwudW5pcXVlSWQ6ci51bmlxdWVJZC1uLnVuaXF1ZUlkfSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7dGhpcy5fb3BhcXVlU3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5yZXNldCgpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLnJlc2V0KCksdGhpcy5fZW1wdHk9ITB9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5kaXNwb3NlKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGlzcG9zZSgpfSxpLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpLHI9PT12b2lkIDAmJihyPWUuZ2V0TWF0ZXJpYWwoKSksciE9bnVsbCYmKHIubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpP3RoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnB1c2goZSk6ci5uZWVkQWxwaGFUZXN0aW5nKCk/KHIubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnB1c2goZSkpOihyLm5lZWREZXB0aFByZVBhc3MmJnRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5wdXNoKGUpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5wdXNoKGUpKSx0Ll9yZW5kZXJpbmdHcm91cD10aGlzLHQuX2VkZ2VzUmVuZGVyZXImJnQuX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodC5fZWRnZXNSZW5kZXJlciksdGhpcy5fZW1wdHk9ITEpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFNwcml0ZXM9ZnVuY3Rpb24oZSl7dGhpcy5fc3ByaXRlTWFuYWdlcnMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX0saS5wcm90b3R5cGUuZGlzcGF0Y2hQYXJ0aWNsZXM9ZnVuY3Rpb24oZSl7dGhpcy5fcGFydGljbGVTeXN0ZW1zLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9LGkucHJvdG90eXBlLl9yZW5kZXJQYXJ0aWNsZXM9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aCE9PTApe3ZhciB0PXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKTtmb3IodmFyIHI9MDtyPHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cisrKXt2YXIgbj10aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGF0YVtyXTtpZigodCYmdC5sYXllck1hc2smbi5sYXllck1hc2spIT09MCl7dmFyIGE9bi5lbWl0dGVyOyghYS5wb3NpdGlvbnx8IWV8fGUuaW5kZXhPZihhKSE9PS0xKSYmdGhpcy5fc2NlbmUuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudChuLnJlbmRlcigpLCExKX19dGhpcy5fc2NlbmUub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX19LGkucHJvdG90eXBlLl9yZW5kZXJTcHJpdGVzPWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fc2NlbmUuc3ByaXRlc0VuYWJsZWR8fHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmxlbmd0aD09PTApKXt2YXIgZT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fc3ByaXRlTWFuYWdlcnMuZGF0YVt0XTsoZSYmZS5sYXllck1hc2smci5sYXllck1hc2spIT09MCYmci5yZW5kZXIoKX10aGlzLl9zY2VuZS5vbkFmdGVyU3ByaXRlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX19LGkuX1plcm9WZWN0b3I9Yi5aZXJvKCksaX0oKSxzYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGl9KCksTXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITEsdGhpcy5fcmVuZGVyaW5nR3JvdXBzPW5ldyBBcnJheSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9e30sdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbj17fSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbj17fSx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bmV3IHNhLHRoaXMuX3NjZW5lPWU7Zm9yKHZhciB0PWkuTUlOX1JFTkRFUklOR0dST1VQUzt0PGkuTUFYX1JFTkRFUklOR0dST1VQUzt0KyspdGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW3RdPXthdXRvQ2xlYXI6ITAsZGVwdGg6ITAsc3RlbmNpbDohMH19cmV0dXJuIGkucHJvdG90eXBlLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcj1mdW5jdGlvbihlLHQpe2U9PT12b2lkIDAmJihlPSEwKSx0PT09dm9pZCAwJiYodD0hMCksIXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkJiYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY2xlYXIobnVsbCwhMSxlLHQpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPSEwKX0saS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbztpZihhLnNjZW5lPXRoaXMuX3NjZW5lLGEuY2FtZXJhPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2VycyYmbilmb3IodmFyIHM9MDtzPHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzLmxlbmd0aDtzKyspe3ZhciBvPXRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzW3NdO3RoaXMuZGlzcGF0Y2hTcHJpdGVzKG8pfWZvcih2YXIgcz1pLk1JTl9SRU5ERVJJTkdHUk9VUFM7czxpLk1BWF9SRU5ERVJJTkdHUk9VUFM7cysrKXt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZD1zPT09aS5NSU5fUkVOREVSSU5HR1JPVVBTO3ZhciB1PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tzXTtpZighKCF1fHx1Ll9lbXB0eSkpe3ZhciBmPU1hdGgucG93KDIscyk7aWYoYS5yZW5kZXJpbmdHcm91cElkPXMsdGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsZiksaS5BVVRPQ0xFQVIpe3ZhciBsPXRoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA/dGhpcy5fc2NlbmUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAocyk6dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW3NdO2wmJmwuYXV0b0NsZWFyJiZ0aGlzLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihsLmRlcHRoLGwuc3RlbmNpbCl9Zm9yKHZhciBoPTAsYz10aGlzLl9zY2VuZS5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF07ZC5hY3Rpb24ocyl9dS5yZW5kZXIoZSxuLHIsdCk7Zm9yKHZhciBwPTAsZz10aGlzLl9zY2VuZS5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZTtwPGcubGVuZ3RoO3ArKyl7dmFyIGQ9Z1twXTtkLmFjdGlvbihzKX10aGlzLl9zY2VuZS5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLGYpfX19LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWkuTUlOX1JFTkRFUklOR0dST1VQUztlPGkuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe3ZhciB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LnByZXBhcmUoKX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLl9yZW5kZXJpbmdHcm91cHMubGVuZ3RoPTAsdGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvPW51bGx9LGkucHJvdG90eXBlLmZyZWVSZW5kZXJpbmdHcm91cHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9aS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8aS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7dmFyIHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQuZGlzcG9zZSgpfX0saS5wcm90b3R5cGUuX3ByZXBhcmVSZW5kZXJpbmdHcm91cD1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09PT12b2lkIDAmJih0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09bmV3IGFhKGUsdGhpcy5fc2NlbmUsdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXSkpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFNwcml0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZW5kZXJpbmdHcm91cElkfHwwO3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdHcm91cCh0KSx0aGlzLl9yZW5kZXJpbmdHcm91cHNbdF0uZGlzcGF0Y2hTcHJpdGVzKGUpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFBhcnRpY2xlcz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlbmRlcmluZ0dyb3VwSWR8fDA7dGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKHQpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1t0XS5kaXNwYXRjaFBhcnRpY2xlcyhlKX0saS5wcm90b3R5cGUuZGlzcGF0Y2g9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKTt2YXIgbj10LnJlbmRlcmluZ0dyb3VwSWR8fDA7dGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKG4pLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tuXS5kaXNwYXRjaChlLHQscil9LGkucHJvdG90eXBlLnNldFJlbmRlcmluZ09yZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHQ9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLHRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV09dCx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdPXIsdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdPW4sdGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdKXt2YXIgYT10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07YS5vcGFxdWVTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sYS5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sYS50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdfX0saS5wcm90b3R5cGUuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMCksdGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdPXthdXRvQ2xlYXI6dCxkZXB0aDpyLHN0ZW5jaWw6bn19LGkucHJvdG90eXBlLmdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV19LGkuTUFYX1JFTkRFUklOR0dST1VQUz00LGkuTUlOX1JFTkRFUklOR0dST1VQUz0wLGkuQVVUT0NMRUFSPSEwLGl9KCksQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLk5BTUVfRUZGRUNUTEFZRVI9IkVmZmVjdExheWVyIixpLk5BTUVfTEFZRVI9IkxheWVyIixpLk5BTUVfTEVOU0ZMQVJFU1lTVEVNPSJMZW5zRmxhcmVTeXN0ZW0iLGkuTkFNRV9CT1VORElOR0JPWFJFTkRFUkVSPSJCb3VuZGluZ0JveFJlbmRlcmVyIixpLk5BTUVfUEFSVElDTEVTWVNURU09IlBhcnRpY2xlU3lzdGVtIixpLk5BTUVfR0FNRVBBRD0iR2FtZXBhZCIsaS5OQU1FX1NJTVBMSUZJQ0FUSU9OUVVFVUU9IlNpbXBsaWZpY2F0aW9uUXVldWUiLGkuTkFNRV9HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPSJHZW9tZXRyeUJ1ZmZlclJlbmRlcmVyIixpLk5BTUVfUFJFUEFTU1JFTkRFUkVSPSJQcmVQYXNzUmVuZGVyZXIiLGkuTkFNRV9ERVBUSFJFTkRFUkVSPSJEZXB0aFJlbmRlcmVyIixpLk5BTUVfREVQVEhQRUVMSU5HUkVOREVSRVI9IkRlcHRoUGVlbGluZ1JlbmRlcmVyIixpLk5BTUVfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9IlBvc3RQcm9jZXNzUmVuZGVyUGlwZWxpbmVNYW5hZ2VyIixpLk5BTUVfU1BSSVRFPSJTcHJpdGUiLGkuTkFNRV9TVUJTVVJGQUNFPSJTdWJTdXJmYWNlIixpLk5BTUVfT1VUTElORVJFTkRFUkVSPSJPdXRsaW5lIixpLk5BTUVfUFJPQ0VEVVJBTFRFWFRVUkU9IlByb2NlZHVyYWxUZXh0dXJlIixpLk5BTUVfU0hBRE9XR0VORVJBVE9SPSJTaGFkb3dHZW5lcmF0b3IiLGkuTkFNRV9PQ1RSRUU9Ik9jdHJlZSIsaS5OQU1FX1BIWVNJQ1NFTkdJTkU9IlBoeXNpY3NFbmdpbmUiLGkuTkFNRV9BVURJTz0iQXVkaW8iLGkuU1RFUF9JU1JFQURZRk9STUVTSF9FRkZFQ1RMQVlFUj0wLGkuU1RFUF9CRUZPUkVFVkFMVUFURUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGkuU1RFUF9FVkFMVUFURVNVQk1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGkuU1RFUF9QUkVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxpLlNURVBfQ0FNRVJBRFJBV1JFTkRFUlRBUkdFVF9FRkZFQ1RMQVlFUj0xLGkuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX1BSRVBBU1M9MCxpLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLGkuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0xBWUVSPTIsaS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEsaS5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxpLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxpLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxpLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfRUZGRUNUTEFZRVJfRFJBVz0wLGkuU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19CT1VORElOR0JPWFJFTkRFUkVSPTEsaS5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9TSU1QTElGSUNBVElPTlFVRVVFPTAsaS5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9HQU1FUEFEPTEsaS5TVEVQX0JFRk9SRUNMRUFSX1BST0NFRFVSQUxURVhUVVJFPTAsaS5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsaS5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfUFJFUEFTUz0wLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxpLlNURVBfQUZURVJDQU1FUkFEUkFXX0xFTlNGTEFSRVNZU1RFTT0yLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVJfRFJBVz0zLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfTEFZRVI9NCxpLlNURVBfQUZURVJSRU5ERVJfQVVESU89MCxpLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAsaS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0xLGkuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUj0yLGkuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPTMsaS5TVEVQX0dBVEhFUkFDVElWRUNBTUVSQVJFTkRFUlRBUkdFVFNfREVQVEhSRU5ERVJFUj0wLGkuU1RFUF9CRUZPUkVDTEVBUlNUQUdFX1BSRVBBU1M9MCxpLlNURVBfQkVGT1JFUkVOREVSVEFSR0VUQ0xFQVJTVEFHRV9QUkVQQVNTPTAsaS5TVEVQX1BPSU5URVJNT1ZFX1NQUklURT0wLGkuU1RFUF9QT0lOVEVSRE9XTl9TUFJJVEU9MCxpLlNURVBfUE9JTlRFUlVQX1NQUklURT0wLGl9KCksVGU9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCl7cmV0dXJuIGkuYXBwbHkodGhpcyx0KXx8dGhpc31yZXR1cm4gZS5DcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyU3RlcD1mdW5jdGlvbih0LHIsbil7Zm9yKHZhciBhPTAscz1OdW1iZXIuTUFYX1ZBTFVFO2E8dGhpcy5sZW5ndGg7YSsrKXt2YXIgbz10aGlzW2FdO2lmKHM9by5pbmRleCx0PHMpYnJlYWt9dGhpcy5zcGxpY2UoYSwwLHtpbmRleDp0LGNvbXBvbmVudDpyLGFjdGlvbjpuLmJpbmQocil9KX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wfSxlfShBcnJheSksbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlBPSU5URVJET1dOPTEsaS5QT0lOVEVSVVA9MixpLlBPSU5URVJNT1ZFPTQsaS5QT0lOVEVSV0hFRUw9OCxpLlBPSU5URVJQSUNLPTE2LGkuUE9JTlRFUlRBUD0zMixpLlBPSU5URVJET1VCTEVUQVA9NjQsaX0oKSxWaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXR9cmV0dXJuIGl9KCksb2E9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7dmFyIHM9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gcy5yYXk9bnVsbCxzLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlPSExLHMubG9jYWxQb3NpdGlvbj1uZXcgU2UobixhKSxzfXJldHVybiBlfShWaSkscnI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGEucGlja0luZm89bixhfXJldHVybiBlfShWaSksaXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5ob3ZlckN1cnNvcj0iIix0aGlzLmFjdGlvbnM9bmV3IEFycmF5LHRoaXMuaXNSZWN1cnNpdmU9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJIYXNUcmlnZ2VycyIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBpLlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLlRyaWdnZXJzLGUpKXJldHVybiEwO3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJIYXNQaWNrVHJpZ2dlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gaS5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaS5UcmlnZ2VycyxlKSl7dmFyIHQ9cGFyc2VJbnQoZSk7aWYodD49MSYmdDw9NylyZXR1cm4hMH1yZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkhhc1NwZWNpZmljVHJpZ2dlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gaS5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaS5UcmlnZ2Vycyx0KSl7dmFyIHI9cGFyc2VJbnQodCk7aWYocj09PWUpcmV0dXJuITB9cmV0dXJuITF9LGkuVHJpZ2dlcnM9e30saX0oKSxraT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuS0VZRE9XTj0xLGkuS0VZVVA9MixpfSgpLFlyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH1yZXR1cm4gaX0oKSxXaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIG4udHlwZT10LG4uZXZlbnQ9cixuLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT0hMSxufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNraXBPblBvaW50ZXJPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfShZciksQjsoZnVuY3Rpb24oaSl7aVtpLkdlbmVyaWM9MF09IkdlbmVyaWMiLGlbaS5LZXlib2FyZD0xXT0iS2V5Ym9hcmQiLGlbaS5Nb3VzZT0yXT0iTW91c2UiLGlbaS5Ub3VjaD0zXT0iVG91Y2giLGlbaS5EdWFsU2hvY2s9NF09IkR1YWxTaG9jayIsaVtpLlhib3g9NV09Ilhib3giLGlbaS5Td2l0Y2g9Nl09IlN3aXRjaCIsaVtpLkR1YWxTZW5zZT03XT0iRHVhbFNlbnNlIn0pKEJ8fChCPXt9KSk7dmFyIEg7KGZ1bmN0aW9uKGkpe2lbaS5Ib3Jpem9udGFsPTBdPSJIb3Jpem9udGFsIixpW2kuVmVydGljYWw9MV09IlZlcnRpY2FsIixpW2kuTGVmdENsaWNrPTJdPSJMZWZ0Q2xpY2siLGlbaS5NaWRkbGVDbGljaz0zXT0iTWlkZGxlQ2xpY2siLGlbaS5SaWdodENsaWNrPTRdPSJSaWdodENsaWNrIixpW2kuQnJvd3NlckJhY2s9NV09IkJyb3dzZXJCYWNrIixpW2kuQnJvd3NlckZvcndhcmQ9Nl09IkJyb3dzZXJGb3J3YXJkIixpW2kuTW91c2VXaGVlbFg9N109Ik1vdXNlV2hlZWxYIixpW2kuTW91c2VXaGVlbFk9OF09Ik1vdXNlV2hlZWxZIixpW2kuTW91c2VXaGVlbFo9OV09Ik1vdXNlV2hlZWxaIixpW2kuTW92ZT0xMl09Ik1vdmUifSkoSHx8KEg9e30pKTt2YXIgQXI7KGZ1bmN0aW9uKGkpe2lbaS5Ib3Jpem9udGFsPTBdPSJIb3Jpem9udGFsIixpW2kuVmVydGljYWw9MV09IlZlcnRpY2FsIixpW2kuTGVmdENsaWNrPTJdPSJMZWZ0Q2xpY2siLGlbaS5NaWRkbGVDbGljaz0zXT0iTWlkZGxlQ2xpY2siLGlbaS5SaWdodENsaWNrPTRdPSJSaWdodENsaWNrIixpW2kuQnJvd3NlckJhY2s9NV09IkJyb3dzZXJCYWNrIixpW2kuQnJvd3NlckZvcndhcmQ9Nl09IkJyb3dzZXJGb3J3YXJkIixpW2kuTW91c2VXaGVlbFg9N109Ik1vdXNlV2hlZWxYIixpW2kuTW91c2VXaGVlbFk9OF09Ik1vdXNlV2hlZWxZIixpW2kuTW91c2VXaGVlbFo9OV09Ik1vdXNlV2hlZWxaIixpW2kuRGVsdGFIb3Jpem9udGFsPTEwXT0iRGVsdGFIb3Jpem9udGFsIixpW2kuRGVsdGFWZXJ0aWNhbD0xMV09IkRlbHRhVmVydGljYWwifSkoQXJ8fChBcj17fSkpO3ZhciB6aTsoZnVuY3Rpb24oaSl7aVtpLkNyb3NzPTBdPSJDcm9zcyIsaVtpLkNpcmNsZT0xXT0iQ2lyY2xlIixpW2kuU3F1YXJlPTJdPSJTcXVhcmUiLGlbaS5UcmlhbmdsZT0zXT0iVHJpYW5nbGUiLGlbaS5MMT00XT0iTDEiLGlbaS5SMT01XT0iUjEiLGlbaS5MMj02XT0iTDIiLGlbaS5SMj03XT0iUjIiLGlbaS5TaGFyZT04XT0iU2hhcmUiLGlbaS5PcHRpb25zPTldPSJPcHRpb25zIixpW2kuTDM9MTBdPSJMMyIsaVtpLlIzPTExXT0iUjMiLGlbaS5EUGFkVXA9MTJdPSJEUGFkVXAiLGlbaS5EUGFkRG93bj0xM109IkRQYWREb3duIixpW2kuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsaVtpLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsaVtpLkhvbWU9MTZdPSJIb21lIixpW2kuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsaVtpLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGlbaS5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixpW2kuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsaVtpLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoeml8fCh6aT17fSkpO3ZhciBHaTsoZnVuY3Rpb24oaSl7aVtpLkNyb3NzPTBdPSJDcm9zcyIsaVtpLkNpcmNsZT0xXT0iQ2lyY2xlIixpW2kuU3F1YXJlPTJdPSJTcXVhcmUiLGlbaS5UcmlhbmdsZT0zXT0iVHJpYW5nbGUiLGlbaS5MMT00XT0iTDEiLGlbaS5SMT01XT0iUjEiLGlbaS5MMj02XT0iTDIiLGlbaS5SMj03XT0iUjIiLGlbaS5DcmVhdGU9OF09IkNyZWF0ZSIsaVtpLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGlbaS5MMz0xMF09IkwzIixpW2kuUjM9MTFdPSJSMyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixpW2kuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsaVtpLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGlbaS5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixpW2kuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShHaXx8KEdpPXt9KSk7dmFyIFhpOyhmdW5jdGlvbihpKXtpW2kuQT0wXT0iQSIsaVtpLkI9MV09IkIiLGlbaS5YPTJdPSJYIixpW2kuWT0zXT0iWSIsaVtpLkxCPTRdPSJMQiIsaVtpLlJCPTVdPSJSQiIsaVtpLkxUPTZdPSJMVCIsaVtpLlJUPTddPSJSVCIsaVtpLkJhY2s9OF09IkJhY2siLGlbaS5TdGFydD05XT0iU3RhcnQiLGlbaS5MUz0xMF09IkxTIixpW2kuUlM9MTFdPSJSUyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5MU3RpY2tYQXhpcz0xN109IkxTdGlja1hBeGlzIixpW2kuTFN0aWNrWUF4aXM9MThdPSJMU3RpY2tZQXhpcyIsaVtpLlJTdGlja1hBeGlzPTE5XT0iUlN0aWNrWEF4aXMiLGlbaS5SU3RpY2tZQXhpcz0yMF09IlJTdGlja1lBeGlzIn0pKFhpfHwoWGk9e30pKTt2YXIgSGk7KGZ1bmN0aW9uKGkpe2lbaS5CPTBdPSJCIixpW2kuQT0xXT0iQSIsaVtpLlk9Ml09IlkiLGlbaS5YPTNdPSJYIixpW2kuTD00XT0iTCIsaVtpLlI9NV09IlIiLGlbaS5aTD02XT0iWkwiLGlbaS5aUj03XT0iWlIiLGlbaS5NaW51cz04XT0iTWludXMiLGlbaS5QbHVzPTldPSJQbHVzIixpW2kuTFM9MTBdPSJMUyIsaVtpLlJTPTExXT0iUlMiLGlbaS5EUGFkVXA9MTJdPSJEUGFkVXAiLGlbaS5EUGFkRG93bj0xM109IkRQYWREb3duIixpW2kuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsaVtpLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsaVtpLkhvbWU9MTZdPSJIb21lIixpW2kuQ2FwdHVyZT0xN109IkNhcHR1cmUiLGlbaS5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixpW2kuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsaVtpLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGlbaS5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKEhpfHwoSGk9e30pKTt2YXIgamk7KGZ1bmN0aW9uKGkpe2lbaS5Qb2ludGVyTW92ZT0wXT0iUG9pbnRlck1vdmUiLGlbaS5Qb2ludGVyRG93bj0xXT0iUG9pbnRlckRvd24iLGlbaS5Qb2ludGVyVXA9Ml09IlBvaW50ZXJVcCJ9KShqaXx8KGppPXt9KSk7dmFyIHVhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5ET01fREVMVEFfUElYRUw9MCxpLkRPTV9ERUxUQV9MSU5FPTEsaS5ET01fREVMVEFfUEFHRT0yLGl9KCksVXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkNyZWF0ZURldmljZUV2ZW50PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzd2l0Y2goZSl7Y2FzZSBCLktleWJvYXJkOnJldHVybiB0aGlzLl9DcmVhdGVLZXlib2FyZEV2ZW50KHIsbixhLHMpO2Nhc2UgQi5Nb3VzZTppZihyPT09SC5Nb3VzZVdoZWVsWHx8cj09PUguTW91c2VXaGVlbFl8fHI9PT1ILk1vdXNlV2hlZWxaKXJldHVybiB0aGlzLl9DcmVhdGVXaGVlbEV2ZW50KGUsdCxyLG4sYSxzKTtjYXNlIEIuVG91Y2g6cmV0dXJuIHRoaXMuX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQscixuLGEscyk7ZGVmYXVsdDp0aHJvdyJVbmFibGUgdG8gZ2VuZXJhdGUgZXZlbnQgZm9yIGRldmljZSAiLmNvbmNhdChCW2VdKX19LGkuX0NyZWF0ZVBvaW50ZXJFdmVudD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQscixuLGEscyk7cmV0dXJuIGU9PT1CLk1vdXNlPyhvLmRldmljZVR5cGU9Qi5Nb3VzZSxvLnBvaW50ZXJJZD0xLG8ucG9pbnRlclR5cGU9Im1vdXNlIik6KG8uZGV2aWNlVHlwZT1CLlRvdWNoLG8ucG9pbnRlcklkPXQsby5wb2ludGVyVHlwZT0idG91Y2giKSxyPT09SC5Nb3ZlP28udHlwZT0icG9pbnRlcm1vdmUiOnI+PUguTGVmdENsaWNrJiZyPD1ILlJpZ2h0Q2xpY2smJihvLnR5cGU9bj09PTE/InBvaW50ZXJkb3duIjoicG9pbnRlcnVwIixvLmJ1dHRvbj1yLTIpLG99LGkuX0NyZWF0ZVdoZWVsRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LHIsbixhLHMpO3N3aXRjaChvLnR5cGU9IndoZWVsIixvLmRlbHRhTW9kZT11YS5ET01fREVMVEFfUElYRUwsby5kZWx0YVg9MCxvLmRlbHRhWT0wLG8uZGVsdGFaPTAscil7Y2FzZSBILk1vdXNlV2hlZWxYOm8uZGVsdGFYPW47YnJlYWs7Y2FzZSBILk1vdXNlV2hlZWxZOm8uZGVsdGFZPW47YnJlYWs7Y2FzZSBILk1vdXNlV2hlZWxaOm8uZGVsdGFaPW47YnJlYWt9cmV0dXJuIG99LGkuX0NyZWF0ZU1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPXRoaXMuX0NyZWF0ZUV2ZW50KHMpLHU9YS5wb2xsSW5wdXQoZSx0LEguSG9yaXpvbnRhbCksZj1hLnBvbGxJbnB1dChlLHQsSC5WZXJ0aWNhbCk7cmV0dXJuIHM/KG8ubW92ZW1lbnRYPTAsby5tb3ZlbWVudFk9MCxvLm9mZnNldFg9by5tb3ZlbWVudFgtcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LG8ub2Zmc2V0WT1vLm1vdmVtZW50WS1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkpOihvLm1vdmVtZW50WD1hLnBvbGxJbnB1dChlLHQsQXIuRGVsdGFIb3Jpem9udGFsKSxvLm1vdmVtZW50WT1hLnBvbGxJbnB1dChlLHQsQXIuRGVsdGFWZXJ0aWNhbCksby5vZmZzZXRYPTAsby5vZmZzZXRZPTApLHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhvLGEpLG8uY2xpZW50WD11LG8uY2xpZW50WT1mLG8ueD11LG8ueT1mLG8uZGV2aWNlVHlwZT1lLG8uZGV2aWNlU2xvdD10LG8uaW5wdXRJbmRleD1yLG99LGkuX0NyZWF0ZUtleWJvYXJkRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fQ3JlYXRlRXZlbnQobik7cmV0dXJuIHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhhLHIpLGEuZGV2aWNlVHlwZT1CLktleWJvYXJkLGEuZGV2aWNlU2xvdD0wLGEuaW5wdXRJbmRleD1lLGEudHlwZT10PT09MT8ia2V5ZG93biI6ImtleXVwIixhLmtleT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpLGEua2V5Q29kZT1lLGF9LGkuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cz1mdW5jdGlvbihlLHQpe3ZhciByPXQuaXNEZXZpY2VBdmFpbGFibGUoQi5LZXlib2FyZCksbj1yJiZ0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsMTgpPT09MSxhPXImJnQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCwxNyk9PT0xLHM9ciYmKHQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCw5MSk9PT0xfHx0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsOTIpPT09MXx8dC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDkzKT09PTEpLG89ciYmdC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDE2KT09PTE7ZS5hbHRLZXk9bixlLmN0cmxLZXk9YSxlLm1ldGFLZXk9cyxlLnNoaWZ0S2V5PW99LGkuX0NyZWF0ZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7fSx0LnRhcmdldD1lLHR9LGl9KCksZmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt2YXIgbj10aGlzO3RoaXMuX25hdGl2ZUlucHV0PV9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0/bmV3IF9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0oZSx0LGZ1bmN0aW9uKGEscyxvLHUpe3ZhciBmPVV0LkNyZWF0ZURldmljZUV2ZW50KGEscyxvLHUsbik7cihhLHMsZil9KTp0aGlzLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0KCl9cmV0dXJuIGkucHJvdG90eXBlLnBvbGxJbnB1dD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX25hdGl2ZUlucHV0LnBvbGxJbnB1dChlLHQscil9LGkucHJvdG90eXBlLmlzRGV2aWNlQXZhaWxhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09Qi5Nb3VzZXx8ZT09PUIuVG91Y2h9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9uYXRpdmVJbnB1dC5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0PWZ1bmN0aW9uKCl7dmFyIGU9e3BvbGxJbnB1dDpmdW5jdGlvbigpe3JldHVybiAwfSxpc0RldmljZUF2YWlsYWJsZTpmdW5jdGlvbigpe3JldHVybiExfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX07cmV0dXJuIGV9LGl9KCksS2k9MjU1LFlpPU9iamVjdC5rZXlzKEgpLmxlbmd0aC8yLGxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt2YXIgYT10aGlzO3RoaXMuX2lucHV0cz1bXSx0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMSx0aGlzLl9wb2ludGVyQWN0aXZlPSExLHRoaXMuX3VzaW5nU2FmYXJpPV9lLklzU2FmYXJpKCksdGhpcy5fa2V5Ym9hcmREb3duRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fcG9pbnRlclVwRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMSx0aGlzLl9tb3VzZUlkPS0xLHRoaXMuX2lzVXNpbmdGaXJlZm94PVZyLklzTmF2aWdhdG9yQXZhaWxhYmxlKCkmJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpIT09LTEsdGhpcy5fbWF4VG91Y2hQb2ludHM9MCx0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyPW51bGwsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fZXZlbnRQcmVmaXg9X2UuR2V0UG9pbnRlclByZWZpeChlKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9vbkRldmljZUNvbm5lY3RlZD10LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPXIsdGhpcy5fb25JbnB1dENoYW5nZWQ9bix0aGlzLl9lbmFibGVFdmVudHMoKSx0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWR8fCh0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWQ9ZnVuY3Rpb24oKXthLl9lbmFibGVFdmVudHMoKX0pfXJldHVybiBpLnByb3RvdHlwZS5wb2xsSW5wdXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX2lucHV0c1tlXVt0XTtpZighbil0aHJvdyJVbmFibGUgdG8gZmluZCBkZXZpY2UgIi5jb25jYXQoQltlXSk7ZT49Qi5EdWFsU2hvY2smJmU8PUIuRHVhbFNlbnNlJiZuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMmJnRoaXMuX3VwZGF0ZURldmljZShlLHQscik7dmFyIGE9bltyXTtpZihhPT09dm9pZCAwKXRocm93IlVuYWJsZSB0byBmaW5kIGlucHV0ICIuY29uY2F0KHIsIiBmb3IgZGV2aWNlICIpLmNvbmNhdChCW2VdLCIgaW4gc2xvdCAiKS5jb25jYXQodCk7cmV0dXJuIHI9PT1ILk1vdmUmJl9lLldhcm4oIlVuYWJsZSB0byBwcm92aWRlIGluZm9ybWF0aW9uIGZvciBQb2ludGVySW5wdXQuTW92ZS4gIFRyeSB1c2luZyBQb2ludGVySW5wdXQuSG9yaXpvbnRhbCBvciBQb2ludGVySW5wdXQuVmVydGljYWwgZm9yIG1vdmUgZGF0YS4iKSxhfSxpLnByb3RvdHlwZS5pc0RldmljZUF2YWlsYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW5wdXRzW2VdIT09dm9pZCAwfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fb25EZXZpY2VDb25uZWN0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPWZ1bmN0aW9uKCl7fSx0aGlzLl9vbklucHV0Q2hhbmdlZD1mdW5jdGlvbigpe30sZGVsZXRlIHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZCx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmdGhpcy5fZGlzYWJsZUV2ZW50cygpfSxpLnByb3RvdHlwZS5fZW5hYmxlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcz09PW51bGx8fHRoaXM9PT12b2lkIDA/dm9pZCAwOnRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlJiYoIXRoaXMuX2V2ZW50c0F0dGFjaGVkfHx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyE9PWUpKXtpZih0aGlzLl9kaXNhYmxlRXZlbnRzKCksdGhpcy5faW5wdXRzKWZvcih2YXIgdD0wLHI9dGhpcy5faW5wdXRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4pZm9yKHZhciBhIGluIG4pe3ZhciBzPSthLG89bltzXTtpZihvKWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKW9bdV09MH19dGhpcy5fZWxlbWVudFRvQXR0YWNoVG89ZSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleD10aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleCE9PS0xP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4OnRoaXMuX2VuZ2luZS5jYW52YXNUYWJJbmRleCx0aGlzLl9oYW5kbGVLZXlBY3Rpb25zKCksdGhpcy5faGFuZGxlUG9pbnRlckFjdGlvbnMoKSx0aGlzLl9oYW5kbGVHYW1lcGFkQWN0aW9ucygpLHRoaXMuX2V2ZW50c0F0dGFjaGVkPSEwLHRoaXMuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpfX0saS5wcm90b3R5cGUuX2Rpc2FibGVFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmKHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCkpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXImJnRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITF9LGkucHJvdG90eXBlLl9jaGVja0ZvckNvbm5lY3RlZERldmljZXM9ZnVuY3Rpb24oKXtpZihuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMpZm9yKHZhciBlPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07biYmdGhpcy5fYWRkR2FtZVBhZChuKX10eXBlb2YgbWF0Y2hNZWRpYT09ImZ1bmN0aW9uIiYmbWF0Y2hNZWRpYSgiKHBvaW50ZXI6ZmluZSkiKS5tYXRjaGVzJiZ0aGlzLl9hZGRQb2ludGVyRGV2aWNlKEIuTW91c2UsMCwwLDApfSxpLnByb3RvdHlwZS5fYWRkR2FtZVBhZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRHYW1lcGFkRGV2aWNlVHlwZShlLmlkKSxyPWUuaW5kZXg7dGhpcy5fZ2FtZXBhZHM9dGhpcy5fZ2FtZXBhZHN8fG5ldyBBcnJheShlLmluZGV4KzEpLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKHQscixlLmJ1dHRvbnMubGVuZ3RoK2UuYXhlcy5sZW5ndGgpLHRoaXMuX2dhbWVwYWRzW3JdPXR9LGkucHJvdG90eXBlLl9hZGRQb2ludGVyRGV2aWNlPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX3BvaW50ZXJBY3RpdmV8fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwKSx0aGlzLl9yZWdpc3RlckRldmljZShlLHQsWWkpO3ZhciBhPXRoaXMuX2lucHV0c1tlXVt0XTthWzBdPXIsYVsxXT1ufSxpLnByb3RvdHlwZS5fcmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHQ9PT12b2lkIDApdGhyb3ciVW5hYmxlIHRvIHJlZ2lzdGVyIGRldmljZSAiLmNvbmNhdChCW2VdLCIgdG8gdW5kZWZpbmVkIHNsb3QuIik7aWYodGhpcy5faW5wdXRzW2VdfHwodGhpcy5faW5wdXRzW2VdPXt9KSwhdGhpcy5faW5wdXRzW2VdW3RdKXtmb3IodmFyIG49bmV3IEFycmF5KHIpLGE9MDthPHI7YSsrKW5bYV09MDt0aGlzLl9pbnB1dHNbZV1bdF09bix0aGlzLl9vbkRldmljZUNvbm5lY3RlZChlLHQpfX0saS5wcm90b3R5cGUuX3VucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9pbnB1dHNbZV1bdF0mJihkZWxldGUgdGhpcy5faW5wdXRzW2VdW3RdLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKGUsdCkpfSxpLnByb3RvdHlwZS5faGFuZGxlS2V5QWN0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fa2V5Ym9hcmREb3duRXZlbnQ9ZnVuY3Rpb24odCl7ZS5fa2V5Ym9hcmRBY3RpdmV8fChlLl9rZXlib2FyZEFjdGl2ZT0hMCxlLl9yZWdpc3RlckRldmljZShCLktleWJvYXJkLDAsS2kpKTt2YXIgcj1lLl9pbnB1dHNbQi5LZXlib2FyZF1bMF07aWYocil7clt0LmtleUNvZGVdPTE7dmFyIG49dDtuLmlucHV0SW5kZXg9dC5rZXlDb2RlLGUuX29uSW5wdXRDaGFuZ2VkKEIuS2V5Ym9hcmQsMCxuKX19LHRoaXMuX2tleWJvYXJkVXBFdmVudD1mdW5jdGlvbih0KXtlLl9rZXlib2FyZEFjdGl2ZXx8KGUuX2tleWJvYXJkQWN0aXZlPSEwLGUuX3JlZ2lzdGVyRGV2aWNlKEIuS2V5Ym9hcmQsMCxLaSkpO3ZhciByPWUuX2lucHV0c1tCLktleWJvYXJkXVswXTtpZihyKXtyW3Qua2V5Q29kZV09MDt2YXIgbj10O24uaW5wdXRJbmRleD10LmtleUNvZGUsZS5fb25JbnB1dENoYW5nZWQoQi5LZXlib2FyZCwwLG4pfX0sdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQ9ZnVuY3Rpb24oKXtpZihlLl9rZXlib2FyZEFjdGl2ZSl7Zm9yKHZhciB0PWUuX2lucHV0c1tCLktleWJvYXJkXVswXSxyPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXSE9PTApe3Rbcl09MDt2YXIgbj1VdC5DcmVhdGVEZXZpY2VFdmVudChCLktleWJvYXJkLDAsciwwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuS2V5Ym9hcmQsMCxuKX19fSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpfSxpLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlckFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX21heFRvdWNoUG9pbnRzPVZyLklzTmF2aWdhdG9yQXZhaWxhYmxlKCkmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8Mix0aGlzLl9hY3RpdmVUb3VjaElkc3x8KHRoaXMuX2FjdGl2ZVRvdWNoSWRzPW5ldyBBcnJheSh0aGlzLl9tYXhUb3VjaFBvaW50cykpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fbWF4VG91Y2hQb2ludHM7dCsrKXRoaXMuX2FjdGl2ZVRvdWNoSWRzW3RdPS0xO3RoaXMuX3BvaW50ZXJNb3ZlRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG89ZS5fZ2V0UG9pbnRlclR5cGUocyksdT1vPT09Qi5Nb3VzZT8wOmUuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2Yocy5wb2ludGVySWQpO2UuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT17fSksZS5faW5wdXRzW29dW3VdfHxlLl9hZGRQb2ludGVyRGV2aWNlKG8sdSxzLmNsaWVudFgscy5jbGllbnRZKTt2YXIgZj1lLl9pbnB1dHNbb11bdV07aWYoZil7ZltILkhvcml6b250YWxdPXMuY2xpZW50WCxmW0guVmVydGljYWxdPXMuY2xpZW50WTt2YXIgbD1zO2wuaW5wdXRJbmRleD1ILk1vdmUsZS5fb25JbnB1dENoYW5nZWQobyx1LGwpLCFlLl91c2luZ1NhZmFyaSYmcy5idXR0b24hPT0tMSYmKGwuaW5wdXRJbmRleD1zLmJ1dHRvbisyLGZbcy5idXR0b24rMl09ZltzLmJ1dHRvbisyXT8wOjEsZS5fb25JbnB1dENoYW5nZWQobyx1LGwpKX19LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG89ZS5fZ2V0UG9pbnRlclR5cGUocyksdT1vPT09Qi5Nb3VzZT8wOnMucG9pbnRlcklkO2lmKG89PT1CLlRvdWNoKXt2YXIgZj1lLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKC0xKTtpZihmPj0wKXU9ZixlLl9hY3RpdmVUb3VjaElkc1tmXT1zLnBvaW50ZXJJZDtlbHNle19lLldhcm4oIk1heCBudW1iZXIgb2YgdG91Y2hlcyBleGNlZWRlZC4gIElnbm9yaW5nIHRvdWNoZXMgaW4gZXhjZXNzIG9mICIuY29uY2F0KGUuX21heFRvdWNoUG9pbnRzKSk7cmV0dXJufX1lLl9pbnB1dHNbb118fChlLl9pbnB1dHNbb109e30pLGUuX2lucHV0c1tvXVt1XT9vPT09Qi5Ub3VjaCYmZS5fb25EZXZpY2VDb25uZWN0ZWQobyx1KTplLl9hZGRQb2ludGVyRGV2aWNlKG8sdSxzLmNsaWVudFgscy5jbGllbnRZKTt2YXIgbD1lLl9pbnB1dHNbb11bdV07aWYobCl7dmFyIGg9bFtILkhvcml6b250YWxdLGM9bFtILlZlcnRpY2FsXTtpZihvPT09Qi5Nb3VzZSl7aWYoZS5fbW91c2VJZD09PS0xJiYocy5wb2ludGVySWQ9PT12b2lkIDA/ZS5fbW91c2VJZD1lLl9pc1VzaW5nRmlyZWZveD8wOjE6ZS5fbW91c2VJZD1zLnBvaW50ZXJJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCYmZS5fZWxlbWVudFRvQXR0YWNoVG8uaGFzUG9pbnRlckNhcHR1cmUpdHJ5e2UuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpfWNhdGNoe319ZWxzZSBpZihzLnBvaW50ZXJJZCYmIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCYmZS5fZWxlbWVudFRvQXR0YWNoVG8uaGFzUG9pbnRlckNhcHR1cmUpdHJ5e2UuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKHMucG9pbnRlcklkKX1jYXRjaHt9bFtILkhvcml6b250YWxdPXMuY2xpZW50WCxsW0guVmVydGljYWxdPXMuY2xpZW50WSxsW3MuYnV0dG9uKzJdPTE7dmFyIGQ9cztkLmlucHV0SW5kZXg9cy5idXR0b24rMixlLl9vbklucHV0Q2hhbmdlZChvLHUsZCksKGghPT1zLmNsaWVudFh8fGMhPT1zLmNsaWVudFkpJiYoZC5pbnB1dEluZGV4PUguTW92ZSxlLl9vbklucHV0Q2hhbmdlZChvLHUsZCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG8sdSxmLGwsaCxjPWUuX2dldFBvaW50ZXJUeXBlKHMpLGQ9Yz09PUIuTW91c2U/MDplLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKHMucG9pbnRlcklkKTtpZihjPT09Qi5Ub3VjaCl7aWYoZD09PS0xKXJldHVybjtlLl9hY3RpdmVUb3VjaElkc1tkXT0tMX12YXIgcD0obz1lLl9pbnB1dHNbY10pPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6b1tkXTtpZihwJiZwW3MuYnV0dG9uKzJdIT09MCl7dmFyIGc9cFtILkhvcml6b250YWxdLF89cFtILlZlcnRpY2FsXTtwW0guSG9yaXpvbnRhbF09cy5jbGllbnRYLHBbSC5WZXJ0aWNhbF09cy5jbGllbnRZLHBbcy5idXR0b24rMl09MDt2YXIgdj1zOyhnIT09cy5jbGllbnRYfHxfIT09cy5jbGllbnRZKSYmKHYuaW5wdXRJbmRleD1ILk1vdmUsZS5fb25JbnB1dENoYW5nZWQoYyxkLHYpKSx2LmlucHV0SW5kZXg9cy5idXR0b24rMixjPT09Qi5Nb3VzZSYmZS5fbW91c2VJZD49MCYmKChmPSh1PWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxmPT09dm9pZCAwP3ZvaWQgMDpmLmNhbGwodSxlLl9tb3VzZUlkKSk/ZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpOnMucG9pbnRlcklkJiYoKGg9KGw9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmguY2FsbChsLHMucG9pbnRlcklkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShzLnBvaW50ZXJJZCksZS5fb25JbnB1dENoYW5nZWQoYyxkLHYpLGM9PT1CLlRvdWNoJiZlLl9vbkRldmljZURpc2Nvbm5lY3RlZChjLGQpfX0sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvLHUsZixsO2lmKHMucG9pbnRlclR5cGU9PT0ibW91c2UiKXt2YXIgaD1lLl9pbnB1dHNbQi5Nb3VzZV1bMF07ZS5fbW91c2VJZD49MCYmKCh1PShvPWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LmNhbGwobyxlLl9tb3VzZUlkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLl9tb3VzZUlkKTtmb3IodmFyIGM9SC5MZWZ0Q2xpY2s7Yzw9SC5Ccm93c2VyRm9yd2FyZDtjKyspaWYoaFtjXT09PTEpe2hbY109MDt2YXIgZD1VdC5DcmVhdGVEZXZpY2VFdmVudChCLk1vdXNlLDAsYywwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuTW91c2UsMCxkKX19ZWxzZXt2YXIgcD1lLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKHMucG9pbnRlcklkKTshKChsPShmPWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxsPT09dm9pZCAwKSYmbC5jYWxsKGYscy5wb2ludGVySWQpJiZlLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUocy5wb2ludGVySWQpLGUuX2lucHV0c1tCLlRvdWNoXVtwXVtILkxlZnRDbGlja109MDt2YXIgZD1VdC5DcmVhdGVEZXZpY2VFdmVudChCLlRvdWNoLHAsSC5MZWZ0Q2xpY2ssMCxlLGUuX2VsZW1lbnRUb0F0dGFjaFRvKTtlLl9vbklucHV0Q2hhbmdlZChCLlRvdWNoLHAsZCksZS5fYWN0aXZlVG91Y2hJZHNbcF09LTEsZS5fb25EZXZpY2VEaXNjb25uZWN0ZWQoQi5Ub3VjaCxwKX19LHRoaXMuX3doZWVsRXZlbnROYW1lPSJvbndoZWVsImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJ3aGVlbCI6ZG9jdW1lbnQub25tb3VzZXdoZWVsIT09dm9pZCAwPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiO3ZhciByPSExLG49ZnVuY3Rpb24oKXt9O3RyeXt2YXIgYT17cGFzc2l2ZTp7Z2V0OmZ1bmN0aW9uKCl7cj0hMH19fTt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixuLGEpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLG4sYSl9Y2F0Y2h7fXRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgcyxvLHUsZixsO2lmKGUuaXNEZXZpY2VBdmFpbGFibGUoQi5Nb3VzZSkpe3ZhciBoPWUuX2lucHV0c1tCLk1vdXNlXVswXTtlLl9tb3VzZUlkPj0wJiYoKG89KHM9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uY2FsbChzLGUuX21vdXNlSWQpKSYmZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpO2Zvcih2YXIgYz1ILkxlZnRDbGljaztjPD1ILkJyb3dzZXJGb3J3YXJkO2MrKylpZihoW2NdPT09MSl7aFtjXT0wO3ZhciBkPVV0LkNyZWF0ZURldmljZUV2ZW50KEIuTW91c2UsMCxjLDAsZSxlLl9lbGVtZW50VG9BdHRhY2hUbyk7ZS5fb25JbnB1dENoYW5nZWQoQi5Nb3VzZSwwLGQpfX1pZihlLmlzRGV2aWNlQXZhaWxhYmxlKEIuVG91Y2gpKWZvcih2YXIgaD1lLl9pbnB1dHNbQi5Ub3VjaF0scD0wO3A8ZS5fYWN0aXZlVG91Y2hJZHMubGVuZ3RoO3ArKyl7dmFyIGc9ZS5fYWN0aXZlVG91Y2hJZHNbcF07aWYoISgoZj0odT1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8Zj09PXZvaWQgMCkmJmYuY2FsbCh1LGcpJiZlLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZyksZyE9PS0xJiYoKGw9aFtwXSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsW0guTGVmdENsaWNrXSk9PT0xKXtoW3BdW0guTGVmdENsaWNrXT0wO3ZhciBkPVV0LkNyZWF0ZURldmljZUV2ZW50KEIuVG91Y2gscCxILkxlZnRDbGljaywwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuVG91Y2gscCxkKSxlLl9hY3RpdmVUb3VjaElkc1twXT0tMSxlLl9vbkRldmljZURpc2Nvbm5lY3RlZChCLlRvdWNoLHApfX19LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvPUIuTW91c2UsdT0wO2UuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT1bXSksZS5faW5wdXRzW29dW3VdfHwoZS5fcG9pbnRlckFjdGl2ZT0hMCxlLl9yZWdpc3RlckRldmljZShvLHUsWWkpKTt2YXIgZj1lLl9pbnB1dHNbb11bdV07aWYoZil7ZltILk1vdXNlV2hlZWxYXT1zLmRlbHRhWHx8MCxmW0guTW91c2VXaGVlbFldPXMuZGVsdGFZfHxzLndoZWVsRGVsdGF8fDAsZltILk1vdXNlV2hlZWxaXT1zLmRlbHRhWnx8MDt2YXIgbD1zO2ZbSC5Nb3VzZVdoZWVsWF0hPT0wJiYobC5pbnB1dEluZGV4PUguTW91c2VXaGVlbFgsZS5fb25JbnB1dENoYW5nZWQobyx1LGwpKSxmW0guTW91c2VXaGVlbFldIT09MCYmKGwuaW5wdXRJbmRleD1ILk1vdXNlV2hlZWxZLGUuX29uSW5wdXRDaGFuZ2VkKG8sdSxsKSksZltILk1vdXNlV2hlZWxaXSE9PTAmJihsLmlucHV0SW5kZXg9SC5Nb3VzZVdoZWVsWixlLl9vbklucHV0Q2hhbmdlZChvLHUsbCkpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fcG9pbnRlckJsdXJFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCxyP3twYXNzaXZlOiExfTohMSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj10aGlzLl9lbmdpbmUub25FbmRGcmFtZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7aWYoZS5pc0RldmljZUF2YWlsYWJsZShCLk1vdXNlKSl7dmFyIHM9ZS5faW5wdXRzW0IuTW91c2VdWzBdO3NbSC5Nb3VzZVdoZWVsWF09MCxzW0guTW91c2VXaGVlbFldPTAsc1tILk1vdXNlV2hlZWxaXT0wfX0pfSxpLnByb3RvdHlwZS5faGFuZGxlR2FtZXBhZEFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1mdW5jdGlvbih0KXtlLl9hZGRHYW1lUGFkKHQuZ2FtZXBhZCl9LHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudD1mdW5jdGlvbih0KXtpZihlLl9nYW1lcGFkcyl7dmFyIHI9ZS5fZ2V0R2FtZXBhZERldmljZVR5cGUodC5nYW1lcGFkLmlkKSxuPXQuZ2FtZXBhZC5pbmRleDtlLl91bnJlZ2lzdGVyRGV2aWNlKHIsbiksZGVsZXRlIGUuX2dhbWVwYWRzW25dfX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCl9LGkucHJvdG90eXBlLl91cGRhdGVEZXZpY2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpW3RdO2lmKG4mJmU9PT10aGlzLl9nYW1lcGFkc1t0XSl7dmFyIGE9dGhpcy5faW5wdXRzW2VdW3RdO3I+PW4uYnV0dG9ucy5sZW5ndGg/YVtyXT1uLmF4ZXNbci1uLmJ1dHRvbnMubGVuZ3RoXS52YWx1ZU9mKCk6YVtyXT1uLmJ1dHRvbnNbcl0udmFsdWV9fSxpLnByb3RvdHlwZS5fZ2V0R2FtZXBhZERldmljZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT9CLkR1YWxTZW5zZTpCLkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/Qi5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/Qi5Td2l0Y2g6Qi5HZW5lcmljfSxpLnByb3RvdHlwZS5fZ2V0UG9pbnRlclR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9Qi5Nb3VzZTtyZXR1cm4oZS5wb2ludGVyVHlwZT09PSJ0b3VjaCJ8fGUucG9pbnRlclR5cGU9PT0icGVuInx8ZS50b3VjaGVzKSYmKHQ9Qi5Ub3VjaCksdH0saX0oKSxaaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3I9PT12b2lkIDAmJihyPTApLHRoaXMuZGV2aWNlVHlwZT10LHRoaXMuZGV2aWNlU2xvdD1yLHRoaXMub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2RldmljZUlucHV0U3lzdGVtPWV9cmV0dXJuIGkucHJvdG90eXBlLmdldElucHV0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX0saX0oKSxoYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpczt0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuX3JlZkNvdW50PTAsdGhpcy5yZWdpc3Rlck1hbmFnZXI9ZnVuY3Rpb24obyl7Zm9yKHZhciB1PTA7dTx0Ll9kZXZpY2VzLmxlbmd0aDt1Kyspe3ZhciBmPXQuX2RldmljZXNbdV07Zm9yKHZhciBsIGluIGYpe3ZhciBoPStsO28uX2FkZERldmljZShuZXcgWmkodC5fZGV2aWNlSW5wdXRTeXN0ZW0sdSxoKSl9fXQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5wdXNoKG8pfSx0aGlzLnVucmVnaXN0ZXJNYW5hZ2VyPWZ1bmN0aW9uKG8pe3ZhciB1PXQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5pbmRleE9mKG8pO3U+LTEmJnQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5zcGxpY2UodSwxKX07dmFyIHI9T2JqZWN0LmtleXMoQikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkocik7dmFyIG49ZnVuY3Rpb24obyx1KXt0Ll9kZXZpY2VzW29dfHwodC5fZGV2aWNlc1tvXT1uZXcgQXJyYXkpLHQuX2RldmljZXNbb11bdV18fCh0Ll9kZXZpY2VzW29dW3VdPXUpO2Zvcih2YXIgZj0wLGw9dC5fcmVnaXN0ZXJlZE1hbmFnZXJzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdLGM9bmV3IFppKHQuX2RldmljZUlucHV0U3lzdGVtLG8sdSk7aC5fYWRkRGV2aWNlKGMpfX0sYT1mdW5jdGlvbihvLHUpe3ZhciBmOyEoKGY9dC5fZGV2aWNlc1tvXSk9PT1udWxsfHxmPT09dm9pZCAwKSYmZlt1XSYmZGVsZXRlIHQuX2RldmljZXNbb11bdV07Zm9yKHZhciBsPTAsaD10Ll9yZWdpc3RlcmVkTWFuYWdlcnM7bDxoLmxlbmd0aDtsKyspe3ZhciBjPWhbbF07Yy5fcmVtb3ZlRGV2aWNlKG8sdSl9fSxzPWZ1bmN0aW9uKG8sdSxmKXtpZihmKWZvcih2YXIgbD0wLGg9dC5fcmVnaXN0ZXJlZE1hbmFnZXJzO2w8aC5sZW5ndGg7bCsrKXt2YXIgYz1oW2xdO2MuX29uSW5wdXRDaGFuZ2VkKG8sdSxmKX19O3R5cGVvZiBfbmF0aXZlPCJ1Ij90aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1uZXcgZmEobixhLHMpOnRoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBsYShlLG4sYSxzKX1yZXR1cm4gaS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2RldmljZUlucHV0U3lzdGVtLmRpc3Bvc2UoKX0saX0oKSxjYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpcyxyPU9iamVjdC5rZXlzKEIpLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHIpLHRoaXMuX2ZpcnN0RGV2aWNlPW5ldyBBcnJheShyKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXJ8fCh0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IGhhKGUpKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50KyssdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGU9bmV3IE8oZnVuY3Rpb24obil7Zm9yKHZhciBhPTAscz10Ll9kZXZpY2VzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO2lmKG8pZm9yKHZhciB1PTAsZj1vO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wmJnQub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVyKG4sbCl9fX0pLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5yZWdpc3Rlck1hbmFnZXIodGhpcyksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9ZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3QuZGlzcG9zZSgpfSl9cmV0dXJuIGkucHJvdG90eXBlLmdldERldmljZVNvdXJjZT1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDApe2lmKHRoaXMuX2ZpcnN0RGV2aWNlW2VdPT09dm9pZCAwKXJldHVybiBudWxsO3Q9dGhpcy5fZmlyc3REZXZpY2VbZV19cmV0dXJuIXRoaXMuX2RldmljZXNbZV18fHRoaXMuX2RldmljZXNbZV1bdF09PT12b2lkIDA/bnVsbDp0aGlzLl9kZXZpY2VzW2VdW3RdfSxpLnByb3RvdHlwZS5nZXREZXZpY2VTb3VyY2VzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZXZpY2VzW2VdLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hIXR9KX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXImJih0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIudW5yZWdpc3Rlck1hbmFnZXIodGhpcyksLS10aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50PDEmJih0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIpKSx0aGlzLl9lbmdpbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpfSxpLnByb3RvdHlwZS5fYWRkRGV2aWNlPWZ1bmN0aW9uKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfSxpLnByb3RvdHlwZS5fcmVtb3ZlRGV2aWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhPShyPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clt0XTt0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSksISgobj10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fG49PT12b2lkIDApJiZuW3RdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tlXVt0XSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZSl9LGkucHJvdG90eXBlLl9vbklucHV0Q2hhbmdlZD1mdW5jdGlvbihlLHQscil7dmFyIG4sYTsoYT0obj10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm5bdF0pPT09bnVsbHx8YT09PXZvaWQgMHx8YS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmlyc3REZXZpY2VzPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIEIuS2V5Ym9hcmQ6Y2FzZSBCLk1vdXNlOnRoaXMuX2ZpcnN0RGV2aWNlW2VdPTA7YnJlYWs7Y2FzZSBCLlRvdWNoOmNhc2UgQi5EdWFsU2Vuc2U6Y2FzZSBCLkR1YWxTaG9jazpjYXNlIEIuWGJveDpjYXNlIEIuU3dpdGNoOmNhc2UgQi5HZW5lcmljOntkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07dmFyIHQ9dGhpcy5fZGV2aWNlc1tlXTtpZih0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdKXt0aGlzLl9maXJzdERldmljZVtlXT1yO2JyZWFrfX1icmVha319fSxpfSgpLHFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX3NpbmdsZUNsaWNrPSExLHRoaXMuX2RvdWJsZUNsaWNrPSExLHRoaXMuX2hhc1N3aXBlZD0hMSx0aGlzLl9pZ25vcmU9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2luZ2xlQ2xpY2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2xpY2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaW5nbGVDbGljaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG91YmxlQ2xpY2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG91YmxlQ2xpY2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kb3VibGVDbGljaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzU3dpcGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1N3aXBlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hhc1N3aXBlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaWdub3JlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lnbm9yZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lnbm9yZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGl9KCksbHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX2FscmVhZHlBdHRhY2hlZD0hMSx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITEsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9bnVsbCx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQ9bnVsbCx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD0wLHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wb2ludGVyWD0wLHRoaXMuX3BvaW50ZXJZPTAsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IFNlKDAsMCksdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgU2UoMCwwKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcG9pbnRlckNhcHR1cmVzPXt9LHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZD17fSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fc2NlbmU9ZXx8cmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtZXNoVW5kZXJQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJPdmVyTWVzaH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRNZXNoVW5kZXJQb2ludGVyQnlQb2ludGVySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFtlXXx8bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1blRyYW5zbGF0ZWRQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludGVyWCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyWH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJYPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludGVyWSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyWX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJZPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0KCk7IXR8fCh0aGlzLl9wb2ludGVyWD1lLmNsaWVudFgtdC5sZWZ0LHRoaXMuX3BvaW50ZXJZPWUuY2xpZW50WS10LnRvcCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWD10aGlzLl9wb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWT10aGlzLl9wb2ludGVyWSl9LGkucHJvdG90eXBlLl9wcm9jZXNzUG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9zY2VuZSxuPXIuZ2V0RW5naW5lKCksYT1uLmdldElucHV0RWxlbWVudCgpO2EmJihhLnRhYkluZGV4PW4uY2FudmFzVGFiSW5kZXgsci5kb05vdEhhbmRsZUN1cnNvcnN8fChhLnN0eWxlLmN1cnNvcj1yLmRlZmF1bHRDdXJzb3IpKTt2YXIgcz0hIShlJiZlLmhpdCYmZS5waWNrZWRNZXNoKTtpZihzKXtpZihyLnNldFBvaW50ZXJPdmVyTWVzaChlLnBpY2tlZE1lc2gsdC5wb2ludGVySWQsZSksIXIuZG9Ob3RIYW5kbGVDdXJzb3JzJiZhJiZ0aGlzLl9wb2ludGVyT3Zlck1lc2gpe3ZhciBvPXRoaXMuX3BvaW50ZXJPdmVyTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtvJiZvLmhhc1BvaW50ZXJUcmlnZ2VycyYmKGEuc3R5bGUuY3Vyc29yPW8uaG92ZXJDdXJzb3J8fHIuaG92ZXJDdXJzb3IpfX1lbHNlIHIuc2V0UG9pbnRlck92ZXJNZXNoKG51bGwsdC5wb2ludGVySWQsZSk7Zm9yKHZhciB1PTAsZj1yLl9wb2ludGVyTW92ZVN0YWdlO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2U9bC5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSxzLGEpfWlmKGUpe3ZhciBoPXQudHlwZT09PSJ3aGVlbCJ8fHQudHlwZT09PSJtb3VzZXdoZWVsInx8dC50eXBlPT09IkRPTU1vdXNlU2Nyb2xsIj9sZS5QT0lOVEVSV0hFRUw6bGUuUE9JTlRFUk1PVkU7aWYoci5vblBvaW50ZXJNb3ZlJiZyLm9uUG9pbnRlck1vdmUodCxlLGgpLHIub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGM9bmV3IHJyKGgsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGMpLHIub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYyxoKX19fSxpLnByb3RvdHlwZS5fc2V0UmF5T25Qb2ludGVySW5mbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zY2VuZTtlLnBpY2tJbmZvJiYhZS5waWNrSW5mby5fcGlja2luZ1VuYXZhaWxhYmxlJiYoZS5waWNrSW5mby5yYXl8fChlLnBpY2tJbmZvLnJheT10LmNyZWF0ZVBpY2tpbmdSYXkoZS5ldmVudC5vZmZzZXRYLGUuZXZlbnQub2Zmc2V0WSxJLklkZW50aXR5KCksdC5hY3RpdmVDYW1lcmEpKSl9LGkucHJvdG90eXBlLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9zY2VuZSxhPW5ldyBvYShyLHQsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclkpO3JldHVybiBlJiYoYS5yYXk9ZS5yYXksZS5vcmlnaW5NZXNoJiYoYS5uZWFySW50ZXJhY3Rpb25QaWNraW5nSW5mbz1lKSksbi5vblByZVBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLHIpLCEhYS5za2lwT25Qb2ludGVyT2JzZXJ2YWJsZX0saS5wcm90b3R5cGUuc2ltdWxhdGVQb2ludGVyTW92ZT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBQb2ludGVyRXZlbnQoInBvaW50ZXJtb3ZlIix0KTtyLmlucHV0SW5kZXg9SC5Nb3ZlLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUscixsZS5QT0lOVEVSTU9WRSkmJnRoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShlLHIpfSxpLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJEb3duPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcmRvd24iLHQpO3IuaW5wdXRJbmRleD1yLmJ1dHRvbisyLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUscixsZS5QT0lOVEVSRE9XTikmJnRoaXMuX3Byb2Nlc3NQb2ludGVyRG93bihlLHIpfSxpLnByb3RvdHlwZS5fcHJvY2Vzc1BvaW50ZXJEb3duPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXMuX3NjZW5lO2lmKGUmJmUuaGl0JiZlLnBpY2tlZE1lc2gpe3RoaXMuX3BpY2tlZERvd25NZXNoPWUucGlja2VkTWVzaDt2YXIgYT1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYoYSl7aWYoYS5oYXNQaWNrVHJpZ2dlcnMpc3dpdGNoKGEucHJvY2Vzc1RyaWdnZXIoNSxOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKSx0LmJ1dHRvbil7Y2FzZSAwOmEucHJvY2Vzc1RyaWdnZXIoMixOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDE6YS5wcm9jZXNzVHJpZ2dlcig0LE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMjphLnByb2Nlc3NUcmlnZ2VyKDMsTmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWt9YS5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGg9bi5waWNrKHIuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHIuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGZ1bmN0aW9uKGMpe3JldHVybiBjLmlzUGlja2FibGUmJmMuaXNWaXNpYmxlJiZjLmlzUmVhZHkoKSYmYy5hY3Rpb25NYW5hZ2VyJiZjLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDgpJiZjPT09ci5fcGlja2VkRG93bk1lc2h9LCExLG4uY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7aCYmaC5oaXQmJmgucGlja2VkTWVzaCYmYSYmci5fdG90YWxQb2ludGVyc1ByZXNzZWQhPT0wJiZEYXRlLm5vdygpLXIuX3N0YXJ0aW5nUG9pbnRlclRpbWU+aS5Mb25nUHJlc3NEZWxheSYmIXIuX2lzUG9pbnRlclN3aXBpbmcoKSYmKHIuX3N0YXJ0aW5nUG9pbnRlclRpbWU9MCxhLnByb2Nlc3NUcmlnZ2VyKDgsTmUuQ3JlYXRlTmV3KGgucGlja2VkTWVzaCx0KSkpfSxpLkxvbmdQcmVzc0RlbGF5KX19ZWxzZSBmb3IodmFyIHM9MCxvPW4uX3BvaW50ZXJEb3duU3RhZ2U7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107ZT11LmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHQpfWlmKGUpe3ZhciBmPWxlLlBPSU5URVJET1dOO2lmKG4ub25Qb2ludGVyRG93biYmbi5vblBvaW50ZXJEb3duKHQsZSxmKSxuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe3ZhciBsPW5ldyBycihmLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhsKSxuLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwsZil9fX0saS5wcm90b3R5cGUuX2lzUG9pbnRlclN3aXBpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueC10aGlzLl9wb2ludGVyWCk+aS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR8fE1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnktdGhpcy5fcG9pbnRlclkpPmkuRHJhZ01vdmVtZW50VGhyZXNob2xkfSxpLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJVcD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcnVwIix0KTtuLmlucHV0SW5kZXg9SC5Nb3ZlO3ZhciBhPW5ldyBxaTtyP2EuZG91YmxlQ2xpY2s9ITA6YS5zaW5nbGVDbGljaz0hMCwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLG4sbGUuUE9JTlRFUlVQKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJVcChlLG4sYSl9LGkucHJvdG90eXBlLl9wcm9jZXNzUG9pbnRlclVwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9zY2VuZTtpZihlJiZlLmhpdCYmZS5waWNrZWRNZXNoKXtpZih0aGlzLl9waWNrZWRVcE1lc2g9ZS5waWNrZWRNZXNoLHRoaXMuX3BpY2tlZERvd25NZXNoPT09dGhpcy5fcGlja2VkVXBNZXNoJiYobi5vblBvaW50ZXJQaWNrJiZuLm9uUG9pbnRlclBpY2sodCxlKSxyLnNpbmdsZUNsaWNrJiYhci5pZ25vcmUmJm4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkpe3ZhciBhPWxlLlBPSU5URVJQSUNLLHM9bmV3IHJyKGEsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKHMpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyxhKX12YXIgbz1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYobyYmIXIuaWdub3JlKXtvLnByb2Nlc3NUcmlnZ2VyKDcsTmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKSwhci5oYXNTd2lwZWQmJnIuc2luZ2xlQ2xpY2smJm8ucHJvY2Vzc1RyaWdnZXIoMSxOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpO3ZhciB1PWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoNik7ci5kb3VibGVDbGljayYmdSYmdS5wcm9jZXNzVHJpZ2dlcig2LE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSl9fWVsc2UgaWYoIXIuaWdub3JlKWZvcih2YXIgZj0wLGw9bi5fcG9pbnRlclVwU3RhZ2U7ZjxsLmxlbmd0aDtmKyspe3ZhciBoPWxbZl07ZT1oLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHQpfWlmKHRoaXMuX3BpY2tlZERvd25NZXNoJiZ0aGlzLl9waWNrZWREb3duTWVzaCE9PXRoaXMuX3BpY2tlZFVwTWVzaCl7dmFyIGM9dGhpcy5fcGlja2VkRG93bk1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDE2KTtjJiZjLnByb2Nlc3NUcmlnZ2VyKDE2LE5lLkNyZWF0ZU5ldyh0aGlzLl9waWNrZWREb3duTWVzaCx0KSl9dmFyIGQ9MDtpZihuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2lmKCFyLmlnbm9yZSYmIXIuaGFzU3dpcGVkJiYoci5zaW5nbGVDbGljayYmbi5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSVEFQKT9kPWxlLlBPSU5URVJUQVA6ci5kb3VibGVDbGljayYmbi5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSRE9VQkxFVEFQKSYmKGQ9bGUuUE9JTlRFUkRPVUJMRVRBUCksZCkpe3ZhciBzPW5ldyBycihkLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhzKSxuLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMsZCl9aWYoIXIuaWdub3JlKXtkPWxlLlBPSU5URVJVUDt2YXIgcz1uZXcgcnIoZCx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8ocyksbi5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzLGQpfX1uLm9uUG9pbnRlclVwJiYhci5pZ25vcmUmJm4ub25Qb2ludGVyVXAodCxlLGQpfSxpLnByb3RvdHlwZS5pc1BvaW50ZXJDYXB0dXJlZD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MCksdGhpcy5fcG9pbnRlckNhcHR1cmVzW2VdfSxpLnByb3RvdHlwZS5hdHRhY2hDb250cm9sPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7ZT09PXZvaWQgMCYmKGU9ITApLHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMCksbj09PXZvaWQgMCYmKG49bnVsbCk7dmFyIHM9dGhpcy5fc2NlbmUsbz1zLmdldEVuZ2luZSgpO258fChuPW8uZ2V0SW5wdXRFbGVtZW50KCkpLHRoaXMuX2FscmVhZHlBdHRhY2hlZCYmdGhpcy5kZXRhY2hDb250cm9sKCksbiYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPW4pLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IGNhKG8pLHRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHUpe2lmKCFhLl9tZXNoUGlja1Byb2NlZWQpe3ZhciBmPXMuc2tpcFBvaW50ZXJVcFBpY2tpbmc/bnVsbDpzLnBpY2soYS5fdW5UcmFuc2xhdGVkUG9pbnRlclgsYS5fdW5UcmFuc2xhdGVkUG9pbnRlclkscy5wb2ludGVyVXBQcmVkaWNhdGUsITEscy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTthLl9jdXJyZW50UGlja1Jlc3VsdD1mLGYmJih1PWYuaGl0JiZmLnBpY2tlZE1lc2g/Zi5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpOm51bGwpLGEuX21lc2hQaWNrUHJvY2VlZD0hMH1yZXR1cm4gdX0sdGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrPWZ1bmN0aW9uKHUsZixsKXsoRGF0ZS5ub3coKS1hLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU+aS5Eb3VibGVDbGlja0RlbGF5JiYhYS5fZG91YmxlQ2xpY2tPY2N1cmVkfHx1IT09YS5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKGEuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSxmLnNpbmdsZUNsaWNrPSEwLGYuaWdub3JlPSExLGwoZixhLl9jdXJyZW50UGlja1Jlc3VsdCkpfSx0aGlzLl9pbml0Q2xpY2tFdmVudD1mdW5jdGlvbih1LGYsbCxoKXt2YXIgYz1uZXcgcWk7YS5fY3VycmVudFBpY2tSZXN1bHQ9bnVsbDt2YXIgZD1udWxsLHA9dS5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUlBJQ0spfHxmLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSUElDSyl8fHUuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJUQVApfHxmLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSVEFQKXx8dS5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUkRPVUJMRVRBUCl8fGYuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJET1VCTEVUQVApOyFwJiZpciYmKGQ9YS5faW5pdEFjdGlvbk1hbmFnZXIoZCxjKSxkJiYocD1kLmhhc1BpY2tUcmlnZ2VycykpO3ZhciBnPSExO2lmKHApe3ZhciBfPWwuYnV0dG9uO2lmKGMuaGFzU3dpcGVkPWEuX2lzUG9pbnRlclN3aXBpbmcoKSwhYy5oYXNTd2lwZWQpe3ZhciB2PSFpLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZTt2fHwodj0hdS5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUkRPVUJMRVRBUCkmJiFmLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSRE9VQkxFVEFQKSx2JiYhaXIuSGFzU3BlY2lmaWNUcmlnZ2VyKDYpJiYoZD1hLl9pbml0QWN0aW9uTWFuYWdlcihkLGMpLGQmJih2PSFkLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpKSx2PyhEYXRlLm5vdygpLWEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5pLkRvdWJsZUNsaWNrRGVsYXl8fF8hPT1hLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYoYy5zaW5nbGVDbGljaz0hMCxoKGMsYS5fY3VycmVudFBpY2tSZXN1bHQpLGc9ITApOihhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9YS5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxhLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGEuX2RlbGF5ZWRTaW1wbGVDbGljay5iaW5kKGEsXyxjLGgpLGkuRG91YmxlQ2xpY2tEZWxheSkpO3ZhciB5PXUuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJET1VCTEVUQVApfHxmLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSRE9VQkxFVEFQKTsheSYmaXIuSGFzU3BlY2lmaWNUcmlnZ2VyKDYpJiYoZD1hLl9pbml0QWN0aW9uTWFuYWdlcihkLGMpLGQmJih5PWQuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSkseSYmKF89PT1hLl9wcmV2aW91c0J1dHRvblByZXNzZWQmJkRhdGUubm93KCktYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPGkuRG91YmxlQ2xpY2tEZWxheSYmIWEuX2RvdWJsZUNsaWNrT2NjdXJlZD8oIWMuaGFzU3dpcGVkJiYhYS5faXNQb2ludGVyU3dpcGluZygpPyhhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9MCxhLl9kb3VibGVDbGlja09jY3VyZWQ9ITAsYy5kb3VibGVDbGljaz0hMCxjLmlnbm9yZT0hMSxpLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSYmYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0JiZjbGVhclRpbWVvdXQoYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0KSxhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9YS5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxoKGMsYS5fY3VycmVudFBpY2tSZXN1bHQpKTooYS5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT1hLl9zdGFydGluZ1BvaW50ZXJUaW1lLGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD1hLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT1hLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LGEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1fLGkuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPyhhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQmJmNsZWFyVGltZW91dChhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQpLGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD1hLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGgoYyxhLl9wcmV2aW91c1BpY2tSZXN1bHQpKTpoKGMsYS5fY3VycmVudFBpY2tSZXN1bHQpKSxnPSEwKTooYS5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT1hLl9zdGFydGluZ1BvaW50ZXJUaW1lLGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD1hLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT1hLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LGEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1fKSl9fWd8fGgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCl9LHRoaXMuX29uUG9pbnRlck1vdmU9ZnVuY3Rpb24odSl7aWYodS5wb2ludGVySWQ9PT12b2lkIDAmJih1LnBvaW50ZXJJZD0wKSxhLl91cGRhdGVQb2ludGVyUG9zaXRpb24odSksIWEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LHUudHlwZT09PSJ3aGVlbCJ8fHUudHlwZT09PSJtb3VzZXdoZWVsInx8dS50eXBlPT09IkRPTU1vdXNlU2Nyb2xsIj9sZS5QT0lOVEVSV0hFRUw6bGUuUE9JTlRFUk1PVkUpJiYhKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFzLmFjdGl2ZUNhbWVyYSkpe2lmKHMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZyl7YS5fcHJvY2Vzc1BvaW50ZXJNb3ZlKG5ldyBRZSx1KTtyZXR1cm59cy5wb2ludGVyTW92ZVByZWRpY2F0ZXx8KHMucG9pbnRlck1vdmVQcmVkaWNhdGU9ZnVuY3Rpb24obCl7cmV0dXJuIGwuaXNQaWNrYWJsZSYmbC5pc1Zpc2libGUmJmwuaXNSZWFkeSgpJiZsLmlzRW5hYmxlZCgpJiYobC5lbmFibGVQb2ludGVyTW92ZUV2ZW50c3x8cy5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcnx8bC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKSE9PW51bGwpJiYoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smbC5sYXllck1hc2spIT09MCl9KTt2YXIgZj1zLnBpY2soYS5fdW5UcmFuc2xhdGVkUG9pbnRlclgsYS5fdW5UcmFuc2xhdGVkUG9pbnRlclkscy5wb2ludGVyTW92ZVByZWRpY2F0ZSwhMSxzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMscy5wb2ludGVyTW92ZVRyaWFuZ2xlUHJlZGljYXRlKTthLl9wcm9jZXNzUG9pbnRlck1vdmUoZix1KX19LHRoaXMuX29uUG9pbnRlckRvd249ZnVuY3Rpb24odSl7aWYoYS5fdG90YWxQb2ludGVyc1ByZXNzZWQrKyxhLl9waWNrZWREb3duTWVzaD1udWxsLGEuX21lc2hQaWNrUHJvY2VlZD0hMSx1LnBvaW50ZXJJZD09PXZvaWQgMCYmKHUucG9pbnRlcklkPTApLGEuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbih1KSxzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biYmbiYmKHUucHJldmVudERlZmF1bHQoKSxuLmZvY3VzKCkpLGEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9YS5fcG9pbnRlclgsYS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT1hLl9wb2ludGVyWSxhLl9zdGFydGluZ1BvaW50ZXJUaW1lPURhdGUubm93KCksIWEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LGxlLlBPSU5URVJET1dOKSYmISghcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhcy5hY3RpdmVDYW1lcmEpKXthLl9wb2ludGVyQ2FwdHVyZXNbdS5wb2ludGVySWRdPSEwLHMucG9pbnRlckRvd25QcmVkaWNhdGV8fChzLnBvaW50ZXJEb3duUHJlZGljYXRlPWZ1bmN0aW9uKGwpe3JldHVybiBsLmlzUGlja2FibGUmJmwuaXNWaXNpYmxlJiZsLmlzUmVhZHkoKSYmbC5pc0VuYWJsZWQoKSYmKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmwubGF5ZXJNYXNrKSE9PTApfSksYS5fcGlja2VkRG93bk1lc2g9bnVsbDt2YXIgZjtzLnNraXBQb2ludGVyRG93blBpY2tpbmc/Zj1uZXcgUWU6Zj1zLnBpY2soYS5fdW5UcmFuc2xhdGVkUG9pbnRlclgsYS5fdW5UcmFuc2xhdGVkUG9pbnRlclkscy5wb2ludGVyRG93blByZWRpY2F0ZSwhMSxzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpLGEuX3Byb2Nlc3NQb2ludGVyRG93bihmLHUpfX0sdGhpcy5fb25Qb2ludGVyVXA9ZnVuY3Rpb24odSl7YS5fdG90YWxQb2ludGVyc1ByZXNzZWQhPT0wJiYoYS5fdG90YWxQb2ludGVyc1ByZXNzZWQtLSxhLl9waWNrZWRVcE1lc2g9bnVsbCxhLl9tZXNoUGlja1Byb2NlZWQ9ITEsdS5wb2ludGVySWQ9PT12b2lkIDAmJih1LnBvaW50ZXJJZD0wKSxhLl91cGRhdGVQb2ludGVyUG9zaXRpb24odSkscy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlclVwJiZuJiYodS5wcmV2ZW50RGVmYXVsdCgpLG4uZm9jdXMoKSksYS5faW5pdENsaWNrRXZlbnQocy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLHMub25Qb2ludGVyT2JzZXJ2YWJsZSx1LGZ1bmN0aW9uKGYsbCl7cy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiYhZi5pZ25vcmUmJighZi5oYXNTd2lwZWQmJihmLnNpbmdsZUNsaWNrJiZzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJUQVApJiZhLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsdSxsZS5QT0lOVEVSVEFQKXx8Zi5kb3VibGVDbGljayYmcy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSRE9VQkxFVEFQKSYmYS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsbGUuUE9JTlRFUkRPVUJMRVRBUCkpfHxhLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsdSxsZS5QT0lOVEVSVVApKXx8IWEuX3BvaW50ZXJDYXB0dXJlc1t1LnBvaW50ZXJJZF0mJnUuYnV0dG9ucz4wfHwoYS5fcG9pbnRlckNhcHR1cmVzW3UucG9pbnRlcklkXT0hMSwhKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFzLmFjdGl2ZUNhbWVyYSkmJihzLnBvaW50ZXJVcFByZWRpY2F0ZXx8KHMucG9pbnRlclVwUHJlZGljYXRlPWZ1bmN0aW9uKGgpe3JldHVybiBoLmlzUGlja2FibGUmJmguaXNWaXNpYmxlJiZoLmlzUmVhZHkoKSYmaC5pc0VuYWJsZWQoKSYmKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmgubGF5ZXJNYXNrKSE9PTApfSksIWEuX21lc2hQaWNrUHJvY2VlZCYmKGlyJiZpci5IYXNUcmlnZ2Vyc3x8cy5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSYmYS5faW5pdEFjdGlvbk1hbmFnZXIobnVsbCxmKSxsfHwobD1hLl9jdXJyZW50UGlja1Jlc3VsdCksYS5fcHJvY2Vzc1BvaW50ZXJVcChsLHUsZiksYS5fcHJldmlvdXNQaWNrUmVzdWx0PWEuX2N1cnJlbnRQaWNrUmVzdWx0KSl9KSl9LHRoaXMuX29uS2V5RG93bj1mdW5jdGlvbih1KXt2YXIgZj1raS5LRVlET1dOO2lmKHMub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe3ZhciBsPW5ldyBXaShmLHUpO2lmKHMub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwsZiksbC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHMub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe3ZhciBsPW5ldyBZcihmLHUpO3Mub25LZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwsZil9cy5hY3Rpb25NYW5hZ2VyJiZzLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTQsTmUuQ3JlYXRlTmV3RnJvbVNjZW5lKHMsdSkpfSx0aGlzLl9vbktleVVwPWZ1bmN0aW9uKHUpe3ZhciBmPWtpLktFWVVQO2lmKHMub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe3ZhciBsPW5ldyBXaShmLHUpO2lmKHMub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwsZiksbC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHMub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe3ZhciBsPW5ldyBZcihmLHUpO3Mub25LZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwsZil9cy5hY3Rpb25NYW5hZ2VyJiZzLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTUsTmUuQ3JlYXRlTmV3RnJvbVNjZW5lKHMsdSkpfSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24odSl7dS5kZXZpY2VUeXBlPT09Qi5Nb3VzZT91Lm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oZil7Zi5pbnB1dEluZGV4PT09SC5MZWZ0Q2xpY2t8fGYuaW5wdXRJbmRleD09PUguTWlkZGxlQ2xpY2t8fGYuaW5wdXRJbmRleD09PUguUmlnaHRDbGljaz90JiZ1LmdldElucHV0KGYuaW5wdXRJbmRleCk9PT0xP2EuX29uUG9pbnRlckRvd24oZik6ZSYmdS5nZXRJbnB1dChmLmlucHV0SW5kZXgpPT09MCYmYS5fb25Qb2ludGVyVXAoZik6ciYmKGYuaW5wdXRJbmRleD09PUguTW92ZXx8Zi5pbnB1dEluZGV4PT09SC5Nb3VzZVdoZWVsWHx8Zi5pbnB1dEluZGV4PT09SC5Nb3VzZVdoZWVsWXx8Zi5pbnB1dEluZGV4PT09SC5Nb3VzZVdoZWVsWikmJmEuX29uUG9pbnRlck1vdmUoZil9KTp1LmRldmljZVR5cGU9PT1CLlRvdWNoP3Uub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtmLmlucHV0SW5kZXg9PT1ILkxlZnRDbGljayYmKHQmJnUuZ2V0SW5wdXQoZi5pbnB1dEluZGV4KT09PTE/YS5fb25Qb2ludGVyRG93bihmKTplJiZ1LmdldElucHV0KGYuaW5wdXRJbmRleCk9PT0wJiZhLl9vblBvaW50ZXJVcChmKSksciYmZi5pbnB1dEluZGV4PT09SC5Nb3ZlJiZhLl9vblBvaW50ZXJNb3ZlKGYpfSk6dS5kZXZpY2VUeXBlPT09Qi5LZXlib2FyZCYmdS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe2YudHlwZT09PSJrZXlkb3duIj9hLl9vbktleURvd24oZik6Zi50eXBlPT09ImtleXVwIiYmYS5fb25LZXlVcChmKX0pfSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSEwfSxpLnByb3RvdHlwZS5kZXRhY2hDb250cm9sPWZ1bmN0aW9uKCl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkJiYodGhpcy5fZGV2aWNlU291cmNlTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1udWxsLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvJiYhdGhpcy5fc2NlbmUuZG9Ob3RIYW5kbGVDdXJzb3JzJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8uc3R5bGUuY3Vyc29yPXRoaXMuX3NjZW5lLmRlZmF1bHRDdXJzb3IpLHRoaXMuX2FscmVhZHlBdHRhY2hlZD0hMSx0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbz1udWxsKX0saS5wcm90b3R5cGUuc2V0UG9pbnRlck92ZXJNZXNoPWZ1bmN0aW9uKGUsdCxyKXtpZih0PT09dm9pZCAwJiYodD0wKSx0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF0hPT1lKXt2YXIgbj10aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF0sYTtuJiYoYT1uLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxMCksYSYmYS5wcm9jZXNzVHJpZ2dlcigxMCxOZS5DcmVhdGVOZXcobix2b2lkIDAse3BvaW50ZXJJZDp0fSkpKSxlPyh0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09ZSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9ZSxhPWUuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDkpLGEmJmEucHJvY2Vzc1RyaWdnZXIoOSxOZS5DcmVhdGVOZXcoZSx2b2lkIDAse3BvaW50ZXJJZDp0LHBpY2tSZXN1bHQ6cn0pKSk6KGRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF0sdGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpfX0saS5wcm90b3R5cGUuZ2V0UG9pbnRlck92ZXJNZXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJPdmVyTWVzaH0saS5wcm90b3R5cGUuX2ludmFsaWRhdGVNZXNoPWZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJPdmVyTWVzaD09PWUmJih0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCksdGhpcy5fcGlja2VkRG93bk1lc2g9PT1lJiYodGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbCksdGhpcy5fcGlja2VkVXBNZXNoPT09ZSYmKHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsKTtmb3IodmFyIHQgaW4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkKXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT09PWUmJmRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF19LGkuRHJhZ01vdmVtZW50VGhyZXNob2xkPTEwLGkuTG9uZ1ByZXNzRGVsYXk9NTAwLGkuRG91YmxlQ2xpY2tEZWxheT0zMDAsaS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU9ITEsaX0oKSxacj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy5ub3JtYWw9bmV3IGIoZSx0LHIpLHRoaXMuZD1ufXJldHVybiBpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMubm9ybWFsLngsdGhpcy5ub3JtYWwueSx0aGlzLm5vcm1hbC56LHRoaXMuZF19LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMubm9ybWFsLngsdGhpcy5ub3JtYWwueSx0aGlzLm5vcm1hbC56LHRoaXMuZCl9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJQbGFuZSJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ub3JtYWwuZ2V0SGFzaENvZGUoKTtyZXR1cm4gZT1lKjM5N14odGhpcy5kfDApLGV9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPU1hdGguc3FydCh0aGlzLm5vcm1hbC54KnRoaXMubm9ybWFsLngrdGhpcy5ub3JtYWwueSp0aGlzLm5vcm1hbC55K3RoaXMubm9ybWFsLnoqdGhpcy5ub3JtYWwueiksdD0wO3JldHVybiBlIT09MCYmKHQ9MS9lKSx0aGlzLm5vcm1hbC54Kj10LHRoaXMubm9ybWFsLnkqPXQsdGhpcy5ub3JtYWwueio9dCx0aGlzLmQqPXQsdGhpc30saS5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciB0PWkuX1RtcE1hdHJpeDtlLmludmVydFRvUmVmKHQpO3ZhciByPXQubSxuPXRoaXMubm9ybWFsLngsYT10aGlzLm5vcm1hbC55LHM9dGhpcy5ub3JtYWwueixvPXRoaXMuZCx1PW4qclswXSthKnJbMV0rcypyWzJdK28qclszXSxmPW4qcls0XSthKnJbNV0rcypyWzZdK28qcls3XSxsPW4qcls4XSthKnJbOV0rcypyWzEwXStvKnJbMTFdLGg9bipyWzEyXSthKnJbMTNdK3MqclsxNF0rbypyWzE1XTtyZXR1cm4gbmV3IGkodSxmLGwsaCl9LGkucHJvdG90eXBlLmRvdENvb3JkaW5hdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56K3RoaXMuZH0saS5wcm90b3R5cGUuY29weUZyb21Qb2ludHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQueC1lLngsYT10LnktZS55LHM9dC56LWUueixvPXIueC1lLngsdT1yLnktZS55LGY9ci56LWUueixsPWEqZi1zKnUsaD1zKm8tbipmLGM9bip1LWEqbyxkPU1hdGguc3FydChsKmwraCpoK2MqYykscDtyZXR1cm4gZCE9PTA/cD0xL2Q6cD0wLHRoaXMubm9ybWFsLng9bCpwLHRoaXMubm9ybWFsLnk9aCpwLHRoaXMubm9ybWFsLno9YypwLHRoaXMuZD0tKHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56KSx0aGlzfSxpLnByb3RvdHlwZS5pc0Zyb250RmFjaW5nVG89ZnVuY3Rpb24oZSx0KXt2YXIgcj1iLkRvdCh0aGlzLm5vcm1hbCxlKTtyZXR1cm4gcjw9dH0saS5wcm90b3R5cGUuc2lnbmVkRGlzdGFuY2VUbz1mdW5jdGlvbihlKXtyZXR1cm4gYi5Eb3QoZSx0aGlzLm5vcm1hbCkrdGhpcy5kfSxpLkZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoZVswXSxlWzFdLGVbMl0sZVszXSl9LGkuRnJvbVBvaW50cz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoMCwwLDAsMCk7cmV0dXJuIG4uY29weUZyb21Qb2ludHMoZSx0LHIpLG59LGkuRnJvbVBvc2l0aW9uQW5kTm9ybWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGkoMCwwLDAsMCk7cmV0dXJuIHQubm9ybWFsaXplKCksci5ub3JtYWw9dCxyLmQ9LSh0LngqZS54K3QueSplLnkrdC56KmUueikscn0saS5TaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPS0odC54KmUueCt0LnkqZS55K3QueiplLnopO3JldHVybiBiLkRvdChyLHQpK259LGkuX1RtcE1hdHJpeD1JLklkZW50aXR5KCksaX0oKSxScj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuR2V0UGxhbmVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjw2O3IrKyl0LnB1c2gobmV3IFpyKDAsMCwwLDApKTtyZXR1cm4gaS5HZXRQbGFuZXNUb1JlZihlLHQpLHR9LGkuR2V0TmVhclBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdK3JbMl0sdC5ub3JtYWwueT1yWzddK3JbNl0sdC5ub3JtYWwuej1yWzExXStyWzEwXSx0LmQ9clsxNV0rclsxNF0sdC5ub3JtYWxpemUoKX0saS5HZXRGYXJQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXS1yWzJdLHQubm9ybWFsLnk9cls3XS1yWzZdLHQubm9ybWFsLno9clsxMV0tclsxMF0sdC5kPXJbMTVdLXJbMTRdLHQubm9ybWFsaXplKCl9LGkuR2V0TGVmdFBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdK3JbMF0sdC5ub3JtYWwueT1yWzddK3JbNF0sdC5ub3JtYWwuej1yWzExXStyWzhdLHQuZD1yWzE1XStyWzEyXSx0Lm5vcm1hbGl6ZSgpfSxpLkdldFJpZ2h0UGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10tclswXSx0Lm5vcm1hbC55PXJbN10tcls0XSx0Lm5vcm1hbC56PXJbMTFdLXJbOF0sdC5kPXJbMTVdLXJbMTJdLHQubm9ybWFsaXplKCl9LGkuR2V0VG9wUGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10tclsxXSx0Lm5vcm1hbC55PXJbN10tcls1XSx0Lm5vcm1hbC56PXJbMTFdLXJbOV0sdC5kPXJbMTVdLXJbMTNdLHQubm9ybWFsaXplKCl9LGkuR2V0Qm90dG9tUGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10rclsxXSx0Lm5vcm1hbC55PXJbN10rcls1XSx0Lm5vcm1hbC56PXJbMTFdK3JbOV0sdC5kPXJbMTVdK3JbMTNdLHQubm9ybWFsaXplKCl9LGkuR2V0UGxhbmVzVG9SZWY9ZnVuY3Rpb24oZSx0KXtpLkdldE5lYXJQbGFuZVRvUmVmKGUsdFswXSksaS5HZXRGYXJQbGFuZVRvUmVmKGUsdFsxXSksaS5HZXRMZWZ0UGxhbmVUb1JlZihlLHRbMl0pLGkuR2V0UmlnaHRQbGFuZVRvUmVmKGUsdFszXSksaS5HZXRUb3BQbGFuZVRvUmVmKGUsdFs0XSksaS5HZXRCb3R0b21QbGFuZVRvUmVmKGUsdFs1XSl9LGl9KCksZGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVW5pcXVlSWQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9VbmlxdWVJZENvdW50ZXI7cmV0dXJuIHRoaXMuX1VuaXF1ZUlkQ291bnRlcisrLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5fVW5pcXVlSWRDb3VudGVyPTEsaX0oKSx4ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQ29tcGFyZUxpZ2h0c1ByaW9yaXR5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2hhZG93RW5hYmxlZCE9PXQuc2hhZG93RW5hYmxlZD8odC5zaGFkb3dFbmFibGVkPzE6MCktKGUuc2hhZG93RW5hYmxlZD8xOjApOnQucmVuZGVyUHJpb3JpdHktZS5yZW5kZXJQcmlvcml0eX0saS5GQUxMT0ZGX0RFRkFVTFQ9MCxpLkZBTExPRkZfUEhZU0lDQUw9MSxpLkZBTExPRkZfR0xURj0yLGkuRkFMTE9GRl9TVEFOREFSRD0zLGkuTElHSFRNQVBfREVGQVVMVD0wLGkuTElHSFRNQVBfU1BFQ1VMQVI9MSxpLkxJR0hUTUFQX1NIQURPV1NPTkxZPTIsaS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQz0wLGkuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPTEsaS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPTIsaS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFPTMsaS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRT00LGkuTElHSFRUWVBFSURfUE9JTlRMSUdIVD0wLGkuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD0xLGkuTElHSFRUWVBFSURfU1BPVExJR0hUPTIsaS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPTMsaX0oKSxRaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXtpLklzQXZhaWxhYmxlJiYodGhpcy5fb2JzZXJ2ZXI9bmV3IHdpbmRvdy5Db21wdXRlUHJlc3N1cmVPYnNlcnZlcihlLHQpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIklzQXZhaWxhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHllKCkmJiJDb21wdXRlUHJlc3N1cmVPYnNlcnZlciJpbiB3aW5kb3d9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUub2JzZXJ2ZT1mdW5jdGlvbigpe3ZhciBlLHQ7ISgoZT10aGlzLl9vYnNlcnZlcik9PT1udWxsfHxlPT09dm9pZCAwKSYmZS5vYnNlcnZlJiYoKHQ9dGhpcy5fb2JzZXJ2ZXIpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5vYnNlcnZlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KSl9LGkucHJvdG90eXBlLnVub2JzZXJ2ZT1mdW5jdGlvbigpe3ZhciBlLHQ7ISgoZT10aGlzLl9vYnNlcnZlcik9PT1udWxsfHxlPT09dm9pZCAwKSYmZS51bm9ic2VydmUmJigodD10aGlzLl9vYnNlcnZlcik9PT1udWxsfHx0PT09dm9pZCAwfHx0LnVub2JzZXJ2ZSgpKX0saX0oKSxlZT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzKXx8dGhpcztuLl9pbnB1dE1hbmFnZXI9bmV3IGx0KG4pLG4uY2FtZXJhVG9Vc2VGb3JQb2ludGVycz1udWxsLG4uX2lzU2NlbmU9ITAsbi5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uPSExLG4uYXV0b0NsZWFyPSEwLG4uYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsPSEwLG4uY2xlYXJDb2xvcj1uZXcgRWUoLjIsLjIsLjMsMSksbi5hbWJpZW50Q29sb3I9bmV3IGJlKDAsMCwwKSxuLmVudmlyb25tZW50SW50ZW5zaXR5PTEsbi5fZm9yY2VXaXJlZnJhbWU9ITEsbi5fc2tpcEZydXN0dW1DbGlwcGluZz0hMSxuLl9mb3JjZVBvaW50c0Nsb3VkPSExLG4uYW5pbWF0aW9uc0VuYWJsZWQ9ITAsbi5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPW51bGwsbi51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT0hMSxuLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyPSExLG4uaG92ZXJDdXJzb3I9InBvaW50ZXIiLG4uZGVmYXVsdEN1cnNvcj0iIixuLmRvTm90SGFuZGxlQ3Vyc29ycz0hMSxuLnByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93bj0hMCxuLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXA9ITAsbi5tZXRhZGF0YT1udWxsLG4ucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCxuLmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzPW5ldyBBcnJheSxuLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sbi5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCxuLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPW51bGwsbi5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlPW5ldyBPLG4uX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj1udWxsLG4ub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyBPLG4ub25SZWFkeU9ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGU9bmV3IE8sbi5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLG4ub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGU9bmV3IE8sbi5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsbi5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IE8sbi5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uU2tlbGV0b25SZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vbk1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQmVmb3JlU3RlcE9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyU3RlcE9ic2VydmFibGU9bmV3IE8sbi5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQ9bmV3IE8sbi5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGU9bmV3IE8sbi5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGU9bmV3IE8sbi5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGU9bmV3IE8sbi5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncz1uZXcgSXQoMjU2KSxuLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITEsbi5za2lwUG9pbnRlckRvd25QaWNraW5nPSExLG4uc2tpcFBvaW50ZXJVcFBpY2tpbmc9ITEsbi5vblByZVBvaW50ZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25Qb2ludGVyT2JzZXJ2YWJsZT1uZXcgTyxuLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlPW5ldyBPLG4ub25LZXlib2FyZE9ic2VydmFibGU9bmV3IE8sbi5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09ITEsbi5fdGltZUFjY3VtdWxhdG9yPTAsbi5fY3VycmVudFN0ZXBJZD0wLG4uX2N1cnJlbnRJbnRlcm5hbFN0ZXA9MCxuLl9mb2dFbmFibGVkPSEwLG4uX2ZvZ01vZGU9ZS5GT0dNT0RFX05PTkUsbi5mb2dDb2xvcj1uZXcgYmUoLjIsLjIsLjMpLG4uZm9nRGVuc2l0eT0uMSxuLmZvZ1N0YXJ0PTAsbi5mb2dFbmQ9MWUzLG4ubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXM9ITEsbi5fc2hhZG93c0VuYWJsZWQ9ITAsbi5fbGlnaHRzRW5hYmxlZD0hMCxuLmFjdGl2ZUNhbWVyYXM9bmV3IEFycmF5LG4uX3RleHR1cmVzRW5hYmxlZD0hMCxuLnBoeXNpY3NFbmFibGVkPSEwLG4ucGFydGljbGVzRW5hYmxlZD0hMCxuLnNwcml0ZXNFbmFibGVkPSEwLG4uX3NrZWxldG9uc0VuYWJsZWQ9ITAsbi5sZW5zRmxhcmVzRW5hYmxlZD0hMCxuLmNvbGxpc2lvbnNFbmFibGVkPSEwLG4uZ3Jhdml0eT1uZXcgYigwLC05LjgwNywwKSxuLnBvc3RQcm9jZXNzZXNFbmFibGVkPSEwLG4ucmVuZGVyVGFyZ2V0c0VuYWJsZWQ9ITAsbi5kdW1wTmV4dFJlbmRlclRhcmdldHM9ITEsbi5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSxuLmltcG9ydGVkTWVzaGVzRmlsZXM9bmV3IEFycmF5LG4ucHJvYmVzRW5hYmxlZD0hMCxuLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zPW5ldyBJdCgyNTYpLG4ucHJvY2VkdXJhbFRleHR1cmVzRW5hYmxlZD0hMCxuLl90b3RhbFZlcnRpY2VzPW5ldyBRdCxuLl9hY3RpdmVJbmRpY2VzPW5ldyBRdCxuLl9hY3RpdmVQYXJ0aWNsZXM9bmV3IFF0LG4uX2FjdGl2ZUJvbmVzPW5ldyBRdCxuLl9hbmltYXRpb25UaW1lPTAsbi5hbmltYXRpb25UaW1lU2NhbGU9MSxuLl9yZW5kZXJJZD0wLG4uX2ZyYW1lSWQ9MCxuLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGwsbi5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLG4uX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsbi5fdmlld1VwZGF0ZUZsYWc9LTEsbi5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTEsbi5fdG9CZURpc3Bvc2VkPW5ldyBBcnJheSgyNTYpLG4uX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSxuLl9wZW5kaW5nRGF0YT1uZXcgQXJyYXksbi5faXNEaXNwb3NlZD0hMSxuLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXM9ITEsbi5fYWN0aXZlTWVzaGVzPW5ldyBWZSgyNTYpLG4uX3Byb2Nlc3NlZE1hdGVyaWFscz1uZXcgVmUoMjU2KSxuLl9yZW5kZXJUYXJnZXRzPW5ldyBJdCgyNTYpLG4uX21hdGVyaWFsc1JlbmRlclRhcmdldHM9bmV3IEl0KDI1Niksbi5fYWN0aXZlUGFydGljbGVTeXN0ZW1zPW5ldyBWZSgyNTYpLG4uX2FjdGl2ZVNrZWxldG9ucz1uZXcgSXQoMzIpLG4uX3NvZnR3YXJlU2tpbm5lZE1lc2hlcz1uZXcgSXQoMzIpLG4uX2FjdGl2ZUFuaW1hdGFibGVzPW5ldyBBcnJheSxuLl90cmFuc2Zvcm1NYXRyaXg9SS5aZXJvKCksbi5yZXF1aXJlTGlnaHRTb3J0aW5nPSExLG4uX2NvbXBvbmVudHM9W10sbi5fc2VyaWFsaXphYmxlQ29tcG9uZW50cz1bXSxuLl90cmFuc2llbnRDb21wb25lbnRzPVtdLG4uX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlPVRlLkNyZWF0ZSgpLG4uX2JlZm9yZUNsZWFyU3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZT1UZS5DcmVhdGUoKSxuLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2U9VGUuQ3JlYXRlKCksbi5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlPVRlLkNyZWF0ZSgpLG4uX2lzUmVhZHlGb3JNZXNoU3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2U9VGUuQ3JlYXRlKCksbi5fZXZhbHVhdGVTdWJNZXNoU3RhZ2U9VGUuQ3JlYXRlKCksbi5fcHJlQWN0aXZlTWVzaFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlPVRlLkNyZWF0ZSgpLG4uX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlPVRlLkNyZWF0ZSgpLG4uX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyQ2FtZXJhRHJhd1N0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyVGFyZ2V0RHJhd1N0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyU3RhZ2U9VGUuQ3JlYXRlKCksbi5fcG9pbnRlck1vdmVTdGFnZT1UZS5DcmVhdGUoKSxuLl9wb2ludGVyRG93blN0YWdlPVRlLkNyZWF0ZSgpLG4uX3BvaW50ZXJVcFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2dlb21ldHJpZXNCeVVuaXF1ZUlkPW51bGwsbi5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSxuLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LG4uX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPSExLG4uX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMSxuLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9ITEsbi5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT0hMSxuLl9hbGxvd1Bvc3RQcm9jZXNzQ2xlYXJDb2xvcj0hMCxuLmdldERldGVybWluaXN0aWNGcmFtZVRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5fZW5naW5lLmdldFRpbWVTdGVwKCl9LG4uX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT0hMSxuLl9wZXJmQ29sbGVjdG9yPW51bGwsbi5vbkNvbXB1dGVQcmVzc3VyZUNoYW5nZWQ9bmV3IE87dmFyIGE9YnQoe3VzZUdlb21ldHJ5VW5pcXVlSWRzTWFwOiEwLHVzZU1hdGVyaWFsTWVzaE1hcDohMCx1c2VDbG9uZWRNZXNoTWFwOiEwLHZpcnR1YWw6ITF9LHIpO3JldHVybiBuLl9lbmdpbmU9dHx8cmUuTGFzdENyZWF0ZWRFbmdpbmUsYS52aXJ0dWFsP24uX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5wdXNoKG4pOihyZS5fTGFzdENyZWF0ZWRTY2VuZT1uLG4uX2VuZ2luZS5zY2VuZXMucHVzaChuKSksbi5fdWlkPW51bGwsbi5fcmVuZGVyaW5nTWFuYWdlcj1uZXcgTXIobiksU3ImJihuLnBvc3RQcm9jZXNzTWFuYWdlcj1uZXcgU3IobikpLHllKCkmJm4uYXR0YWNoQ29udHJvbCgpLG4uX2NyZWF0ZVVibygpLE50JiYobi5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1uZXcgTnQpLG4uc2V0RGVmYXVsdENhbmRpZGF0ZVByb3ZpZGVycygpLGEudXNlR2VvbWV0cnlVbmlxdWVJZHNNYXAmJihuLl9nZW9tZXRyaWVzQnlVbmlxdWVJZD17fSksbi51c2VNYXRlcmlhbE1lc2hNYXA9YS51c2VNYXRlcmlhbE1lc2hNYXAsbi51c2VDbG9uZWRNZXNoTWFwPWEudXNlQ2xvbmVkTWVzaE1hcCwoIXJ8fCFyLnZpcnR1YWwpJiZuLl9lbmdpbmUub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobiksUWkuSXNBdmFpbGFibGUmJihuLl9jb21wdXRlUHJlc3N1cmVPYnNlcnZlcj1uZXcgUWkoZnVuY3Rpb24ocyl7bi5vbkNvbXB1dGVQcmVzc3VyZUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHMpfSx7Y3B1VXRpbGl6YXRpb25UaHJlc2hvbGRzOlsuMjUsLjUsLjc1LC45XSxjcHVTcGVlZFRocmVzaG9sZHM6Wy41XX0pLG4uX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyLm9ic2VydmUoKSksbn1yZXR1cm4gZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5PWZ1bmN0aW9uKHQpe3Rocm93IFgoIlN0YW5kYXJkTWF0ZXJpYWwiKX0sZS5Db2xsaXNpb25Db29yZGluYXRvckZhY3Rvcnk9ZnVuY3Rpb24oKXt0aHJvdyBYKCJEZWZhdWx0Q29sbGlzaW9uQ29vcmRpbmF0b3IiKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJlbnZpcm9ubWVudFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlIT09dCYmKHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yY2VXaXJlZnJhbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9yY2VXaXJlZnJhbWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb3JjZVdpcmVmcmFtZSE9PXQmJih0aGlzLl9mb3JjZVdpcmVmcmFtZT10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNraXBGcnVzdHVtQ2xpcHBpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmchPT10JiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZz10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvcmNlUG9pbnRzQ2xvdWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9yY2VQb2ludHNDbG91ZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQhPT10JiYodGhpcy5fZm9yY2VQb2ludHNDbG91ZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uRGlzcG9zZSIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJlZm9yZVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdCYmKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFmdGVyUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0JiYodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJlZm9yZUNhbWVyYVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhZnRlckNhbWVyYVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidW5UcmFuc2xhdGVkUG9pbnRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIudW5UcmFuc2xhdGVkUG9pbnRlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRHJhZ01vdmVtZW50VGhyZXNob2xkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0LkRyYWdNb3ZlbWVudFRocmVzaG9sZH0sc2V0OmZ1bmN0aW9uKHQpe2x0LkRyYWdNb3ZlbWVudFRocmVzaG9sZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMb25nUHJlc3NEZWxheSIse2dldDpmdW5jdGlvbigpe3JldHVybiBsdC5Mb25nUHJlc3NEZWxheX0sc2V0OmZ1bmN0aW9uKHQpe2x0LkxvbmdQcmVzc0RlbGF5PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRvdWJsZUNsaWNrRGVsYXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQuRG91YmxlQ2xpY2tEZWxheX0sc2V0OmZ1bmN0aW9uKHQpe2x0LkRvdWJsZUNsaWNrRGVsYXk9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0LkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe2x0LkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmJpbmRFeWVQb3NpdGlvbj1mdW5jdGlvbih0LHIsbil7dmFyIGE7cj09PXZvaWQgMCYmKHI9InZFeWVQb3NpdGlvbiIpLG49PT12b2lkIDAmJihuPSExKTt2YXIgcz10aGlzLl9mb3JjZWRWaWV3UG9zaXRpb24/dGhpcy5fZm9yY2VkVmlld1Bvc2l0aW9uOnRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbjooYT10aGlzLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbikhPT1udWxsJiZhIT09dm9pZCAwP2E6dGhpcy5hY3RpdmVDYW1lcmEuZGV2aWNlUG9zaXRpb24sbz10aGlzLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09KHRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24hPW51bGwpO3JldHVybiBELlZlY3RvcjRbMF0uc2V0KHMueCxzLnkscy56LG8/LTE6MSksdCYmKG4/dC5zZXRGbG9hdDMocixELlZlY3RvcjRbMF0ueCxELlZlY3RvcjRbMF0ueSxELlZlY3RvcjRbMF0ueik6dC5zZXRWZWN0b3I0KHIsRC5WZWN0b3I0WzBdKSksRC5WZWN0b3I0WzBdfSxlLnByb3RvdHlwZS5maW5hbGl6ZVNjZW5lVWJvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSxyPXRoaXMuYmluZEV5ZVBvc2l0aW9uKG51bGwpO3JldHVybiB0LnVwZGF0ZUZsb2F0NCgidkV5ZVBvc2l0aW9uIixyLngsci55LHIueixyLncpLHQudXBkYXRlKCksdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1c2VSaWdodEhhbmRlZFN5c3RlbSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtIT09dCYmKHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldFN0ZXBJZD1mdW5jdGlvbih0KXt0aGlzLl9jdXJyZW50U3RlcElkPXR9LGUucHJvdG90eXBlLmdldFN0ZXBJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50U3RlcElkfSxlLnByb3RvdHlwZS5nZXRJbnRlcm5hbFN0ZXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEludGVybmFsU3RlcH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb2dFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb2dFbmFibGVkIT09dCYmKHRoaXMuX2ZvZ0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb2dNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvZ01vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb2dNb2RlIT09dCYmKHRoaXMuX2ZvZ01vZGU9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcmVQYXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnByZVBhc3NSZW5kZXJlciYmdGhpcy5wcmVQYXNzUmVuZGVyZXIuZGVmYXVsdFJULmVuYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd3NFbmFibGVkIT09dCYmKHRoaXMuX3NoYWRvd3NFbmFibGVkPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgyKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsaWdodHNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0c0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9saWdodHNFbmFibGVkIT09dCYmKHRoaXMuX2xpZ2h0c0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZUNhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVDYW1lcmF9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fYWN0aXZlQ2FtZXJhJiYodGhpcy5fYWN0aXZlQ2FtZXJhPXQsdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRlZmF1bHRNYXRlcmlhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0TWF0ZXJpYWx8fCh0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9ZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KHRoaXMpKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRleHR1cmVzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlc0VuYWJsZWQhPT10JiYodGhpcy5fdGV4dHVyZXNFbmFibGVkPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJza2VsZXRvbnNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NrZWxldG9uc0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9za2VsZXRvbnNFbmFibGVkIT09dCYmKHRoaXMuX3NrZWxldG9uc0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvbkNvb3JkaW5hdG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfHwodGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3I9ZS5Db2xsaXNpb25Db29yZGluYXRvckZhY3RvcnkoKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvci5pbml0KHRoaXMpKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZydXN0dW1QbGFuZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bVBsYW5lc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzPWZ1bmN0aW9uKCl7aWYodGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg+MCl7Zm9yKHZhciB0PTAscj10aGlzLl90cmFuc2llbnRDb21wb25lbnRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24ucmVnaXN0ZXIoKX10aGlzLl90cmFuc2llbnRDb21wb25lbnRzPVtdfX0sZS5wcm90b3R5cGUuX2FkZENvbXBvbmVudD1mdW5jdGlvbih0KXt0aGlzLl9jb21wb25lbnRzLnB1c2godCksdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5wdXNoKHQpO3ZhciByPXQ7ci5hZGRGcm9tQ29udGFpbmVyJiZyLnNlcmlhbGl6ZSYmdGhpcy5fc2VyaWFsaXphYmxlQ29tcG9uZW50cy5wdXNoKHIpfSxlLnByb3RvdHlwZS5fZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wLG49dGhpcy5fY29tcG9uZW50cztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZihhLm5hbWU9PT10KXJldHVybiBhfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iU2NlbmUifSxlLnByb3RvdHlwZS5fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5kYXRhPXRoaXMubWVzaGVzLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9dGhpcy5tZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlc30sZS5wcm90b3R5cGUuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmRhdGE9dC5zdWJNZXNoZXMsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmxlbmd0aD10LnN1Yk1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzfSxlLnByb3RvdHlwZS5zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzPWZ1bmN0aW9uKCl7dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRDb2xsaWRpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtZXNoVW5kZXJQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5tZXNoVW5kZXJQb2ludGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicG9pbnRlclgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb2ludGVyWSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlcll9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclk9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDYWNoZWRNYXRlcmlhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRNYXRlcmlhbH0sZS5wcm90b3R5cGUuZ2V0Q2FjaGVkRWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdH0sZS5wcm90b3R5cGUuZ2V0Q2FjaGVkVmlzaWJpbGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRWaXNpYmlsaXR5fSxlLnByb3RvdHlwZS5pc0NhY2hlZE1hdGVyaWFsSW52YWxpZD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG49PT12b2lkIDAmJihuPTEpLHRoaXMuX2NhY2hlZEVmZmVjdCE9PXJ8fHRoaXMuX2NhY2hlZE1hdGVyaWFsIT09dHx8dGhpcy5fY2FjaGVkVmlzaWJpbGl0eSE9PW59LGUucHJvdG90eXBlLmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmV9LGUucHJvdG90eXBlLmdldFRvdGFsVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxWZXJ0aWNlcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRvdGFsVmVydGljZXNQZXJmQ291bnRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZUluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRvdGFsQWN0aXZlSW5kaWNlc1BlcmZDb3VudGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlUGFydGljbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZVBhcnRpY2xlc1BlcmZDb3VudGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVCb25lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZUJvbmVzUGVyZkNvdW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlTWVzaGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc30sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUmF0aW8hPT12b2lkIDA/dGhpcy5fYW5pbWF0aW9uUmF0aW86MX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVySWR9LGUucHJvdG90eXBlLmdldEZyYW1lSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVJZH0sZS5wcm90b3R5cGUuaW5jcmVtZW50UmVuZGVySWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJJZCsrfSxlLnByb3RvdHlwZS5fY3JlYXRlVWJvPWZ1bmN0aW9uKCl7dGhpcy5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoKSl9LGUucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlck1vdmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlck1vdmUodCxyKSx0aGlzfSxlLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJEb3duPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJEb3duKHQsciksdGhpc30sZS5wcm90b3R5cGUuc2ltdWxhdGVQb2ludGVyVXA9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyVXAodCxyLG4pLHRoaXN9LGUucHJvdG90eXBlLmlzUG9pbnRlckNhcHR1cmVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSx0aGlzLl9pbnB1dE1hbmFnZXIuaXNQb2ludGVyQ2FwdHVyZWQodCl9LGUucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMCksbj09PXZvaWQgMCYmKG49ITApLHRoaXMuX2lucHV0TWFuYWdlci5hdHRhY2hDb250cm9sKHQscixuKX0sZS5wcm90b3R5cGUuZGV0YWNoQ29udHJvbD1mdW5jdGlvbigpe3RoaXMuX2lucHV0TWFuYWdlci5kZXRhY2hDb250cm9sKCl9LGUucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuX2lzRGlzcG9zZWQpcmV0dXJuITE7dmFyIHIsbj10aGlzLmdldEVuZ2luZSgpLGE9ITA7Zm9yKHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aD4wJiYoYT0hMSksdCYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMucmVzZXQoKSkscj0wO3I8dGhpcy5tZXNoZXMubGVuZ3RoO3IrKyl7dmFyIHM9dGhpcy5tZXNoZXNbcl07aWYoISghcy5zdWJNZXNoZXN8fHMuc3ViTWVzaGVzLmxlbmd0aD09PTApKXtpZighcy5pc1JlYWR5KCEwKSl7YT0hMTtjb250aW51ZX1mb3IodmFyIG89cy5oYXNUaGluSW5zdGFuY2VzfHxzLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2gifHxzLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fG4uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmcy5pbnN0YW5jZXMubGVuZ3RoPjAsdT0wLGY9dGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZTt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XTtsLmFjdGlvbihzLG8pfHwoYT0hMSl9aWYoISF0KXt2YXIgaD1zLm1hdGVyaWFsfHx0aGlzLmRlZmF1bHRNYXRlcmlhbDtpZihoKWlmKGguX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKHZhciBjPTAsZD1zLnN1Yk1lc2hlcztjPGQubGVuZ3RoO2MrKyl7dmFyIHA9ZFtjXSxnPXAuZ2V0TWF0ZXJpYWwoKTtnJiZnLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZnLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihnKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goZyksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoZy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9ZWxzZSBoLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZoLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihoKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goaCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoaC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9fX1pZighYXx8IW4uYXJlQWxsRWZmZWN0c1JlYWR5KCkpcmV0dXJuITE7aWYodClmb3Iocj0wO3I8dGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5sZW5ndGg7KytyKXt2YXIgXz10aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmRhdGFbcl07aWYoIV8uaXNSZWFkeUZvclJlbmRlcmluZygpKXJldHVybiExfWZvcihyPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKyl7dmFyIHY9dGhpcy5nZW9tZXRyaWVzW3JdO2lmKHYuZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiExfWlmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcih2YXIgeT0wLEU9dGhpcy5hY3RpdmVDYW1lcmFzO3k8RS5sZW5ndGg7eSsrKXt2YXIgUj1FW3ldO2lmKCFSLmlzUmVhZHkoITApKXJldHVybiExfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJiF0aGlzLmFjdGl2ZUNhbWVyYS5pc1JlYWR5KCEwKSlyZXR1cm4hMTtmb3IodmFyIE09MCxDPXRoaXMucGFydGljbGVTeXN0ZW1zO008Qy5sZW5ndGg7TSsrKXt2YXIgQT1DW01dO2lmKCFBLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUucmVzZXRDYWNoZWRNYXRlcmlhbD1mdW5jdGlvbigpe3RoaXMuX2NhY2hlZE1hdGVyaWFsPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0PW51bGwsdGhpcy5fY2FjaGVkVmlzaWJpbGl0eT1udWxsfSxlLnByb3RvdHlwZS5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCl9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpfSxlLnByb3RvdHlwZS5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPWZ1bmN0aW9uKCl7dCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXIobil9KX07dGhpcy5yZWdpc3RlckJlZm9yZVJlbmRlcihuKX0sZS5wcm90b3R5cGUuZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3IhPT12b2lkIDA/c2V0VGltZW91dChmdW5jdGlvbigpe24uX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKHQpfSxyKTp0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcih0KX0sZS5wcm90b3R5cGUuX2FkZFBlbmRpbmdEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3BlbmRpbmdEYXRhLnB1c2godCl9LGUucHJvdG90eXBlLl9yZW1vdmVQZW5kaW5nRGF0YT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmlzTG9hZGluZyxuPXRoaXMuX3BlbmRpbmdEYXRhLmluZGV4T2YodCk7biE9PS0xJiZ0aGlzLl9wZW5kaW5nRGF0YS5zcGxpY2UobiwxKSxyJiYhdGhpcy5pc0xvYWRpbmcmJnRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LGUucHJvdG90eXBlLmdldFdhaXRpbmdJdGVtc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0xvYWRpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZXhlY3V0ZVdoZW5SZWFkeT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSExKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmFkZCh0KSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KHIpfSxlLnByb3RvdHlwZS53aGVuUmVhZHlBc3luYz1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksbmV3IFByb21pc2UoZnVuY3Rpb24obil7ci5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7bigpfSx0KX0pfSxlLnByb3RvdHlwZS5fY2hlY2tJc1JlYWR5PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuaXNSZWFkeSh0KSl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59aWYodGhpcy5faXNEaXNwb3NlZCl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59dGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fY2hlY2tJc1JlYWR5KHQpfSwxMDApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFuaW1hdGFibGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlc2V0TGFzdEFuaW1hdGlvblRpbWVGcmFtZT1mdW5jdGlvbigpe3RoaXMuX2FuaW1hdGlvblRpbWVMYXN0PUx0Lk5vd30sZS5wcm90b3R5cGUuZ2V0Vmlld01hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3TWF0cml4fSxlLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9LGUucHJvdG90eXBlLnNldFRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbih0LHIsbixhKXshbiYmIWEmJnRoaXMuX211bHRpdmlld1NjZW5lVWJvJiYodGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvPW51bGwpLCEodGhpcy5fdmlld1VwZGF0ZUZsYWc9PT10LnVwZGF0ZUZsYWcmJnRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPT09ci51cGRhdGVGbGFnKSYmKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz1yLnVwZGF0ZUZsYWcsdGhpcy5fdmlld01hdHJpeD10LHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9cix0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/UnIuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9UnIuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLnVzZVVibz90aGlzLl91cGRhdGVNdWx0aXZpZXdVYm8obixhKTp0aGlzLl9zY2VuZVViby51c2VVYm8mJih0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlldyIsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJwcm9qZWN0aW9uIix0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSkpfSxlLnByb3RvdHlwZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8/dGhpcy5fbXVsdGl2aWV3U2NlbmVVYm86dGhpcy5fc2NlbmVVYm99LGUucHJvdG90eXBlLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbih0KXt2YXIgcj1uZXcgRXIodGhpcy5fZW5naW5lLHZvaWQgMCwhMSx0IT1udWxsP3Q6InNjZW5lIik7cmV0dXJuIHIuYWRkVW5pZm9ybSgidmlld1Byb2plY3Rpb24iLDE2KSxyLmFkZFVuaWZvcm0oInZpZXciLDE2KSxyLmFkZFVuaWZvcm0oInByb2plY3Rpb24iLDE2KSxyLmFkZFVuaWZvcm0oInZFeWVQb3NpdGlvbiIsNCkscn0sZS5wcm90b3R5cGUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKHQpe3RoaXMuX3NjZW5lVWJvPXQsdGhpcy5fdmlld1VwZGF0ZUZsYWc9LTEsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTF9LGUucHJvdG90eXBlLmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIGRhLlVuaXF1ZUlkfSxlLnByb3RvdHlwZS5hZGRNZXNoPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztyPT09dm9pZCAwJiYocj0hMSksIXRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbiYmKHRoaXMubWVzaGVzLnB1c2godCksdC5fcmVzeW5jTGlnaHRTb3VyY2VzKCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksciYmdC5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2goZnVuY3Rpb24oYSl7bi5hZGRNZXNoKGEpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVNZXNoPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztyPT09dm9pZCAwJiYocj0hMSk7dmFyIGE9dGhpcy5tZXNoZXMuaW5kZXhPZih0KTtyZXR1cm4gYSE9PS0xJiYodGhpcy5tZXNoZXNbYV09dGhpcy5tZXNoZXNbdGhpcy5tZXNoZXMubGVuZ3RoLTFdLHRoaXMubWVzaGVzLnBvcCgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5faW5wdXRNYW5hZ2VyLl9pbnZhbGlkYXRlTWVzaCh0KSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyJiZ0LmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChmdW5jdGlvbihzKXtuLnJlbW92ZU1lc2gocyl9KSxhfSxlLnByb3RvdHlwZS5hZGRUcmFuc2Zvcm1Ob2RlPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dC5nZXRTY2VuZSgpPT09dGhpcyYmdC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheSE9PS0xfHwodC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aCx0aGlzLnRyYW5zZm9ybU5vZGVzLnB1c2godCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpfSxlLnByb3RvdHlwZS5yZW1vdmVUcmFuc2Zvcm1Ob2RlPWZ1bmN0aW9uKHQpe3ZhciByPXQuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk7aWYociE9PS0xKXtpZihyIT09dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Ob2Rlc1t0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xXTt0aGlzLnRyYW5zZm9ybU5vZGVzW3JdPW4sbi5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT1yfXQuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9LTEsdGhpcy50cmFuc2Zvcm1Ob2Rlcy5wb3AoKSx0LnBhcmVudHx8dC5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl9cmV0dXJuIHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHJ9LGUucHJvdG90eXBlLnJlbW92ZVNrZWxldG9uPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuc2tlbGV0b25zLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmKHRoaXMuc2tlbGV0b25zLnNwbGljZShyLDEpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVTa2VsZXRvbnMpKSxyfSxlLnByb3RvdHlwZS5yZW1vdmVNb3JwaFRhcmdldE1hbmFnZXI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnNwbGljZShyLDEpLHJ9LGUucHJvdG90eXBlLnJlbW92ZUxpZ2h0PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMubGlnaHRzLmluZGV4T2YodCk7aWYociE9PS0xKXtmb3IodmFyIG49MCxhPXRoaXMubWVzaGVzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuX3JlbW92ZUxpZ2h0U291cmNlKHQsITEpfXRoaXMubGlnaHRzLnNwbGljZShyLDEpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSx0LnBhcmVudHx8dC5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl9cmV0dXJuIHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVDYW1lcmE9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5jYW1lcmFzLmluZGV4T2YodCk7aWYociE9PS0xJiYodGhpcy5jYW1lcmFzLnNwbGljZShyLDEpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5hY3RpdmVDYW1lcmFzKXt2YXIgbj10aGlzLmFjdGl2ZUNhbWVyYXMuaW5kZXhPZih0KTtuIT09LTEmJnRoaXMuYWN0aXZlQ2FtZXJhcy5zcGxpY2UobiwxKX1yZXR1cm4gdGhpcy5hY3RpdmVDYW1lcmE9PT10JiYodGhpcy5jYW1lcmFzLmxlbmd0aD4wP3RoaXMuYWN0aXZlQ2FtZXJhPXRoaXMuY2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHJ9LGUucHJvdG90eXBlLnJlbW92ZVBhcnRpY2xlU3lzdGVtPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFydGljbGVTeXN0ZW1zLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmKHRoaXMucGFydGljbGVTeXN0ZW1zLnNwbGljZShyLDEpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcykpLHJ9LGUucHJvdG90eXBlLnJlbW92ZUFuaW1hdGlvbj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmFuaW1hdGlvbnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUuc3RvcEFuaW1hdGlvbj1mdW5jdGlvbih0LHIsbil7fSxlLnByb3RvdHlwZS5yZW1vdmVBbmltYXRpb25Hcm91cD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmFuaW1hdGlvbkdyb3Vwcy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMuYW5pbWF0aW9uR3JvdXBzLnNwbGljZShyLDEpLHJ9LGUucHJvdG90eXBlLnJlbW92ZU11bHRpTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5tdWx0aU1hdGVyaWFscy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMubXVsdGlNYXRlcmlhbHMuc3BsaWNlKHIsMSksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dmFyIHI9dC5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheTtpZihyIT09LTEmJnI8dGhpcy5tYXRlcmlhbHMubGVuZ3RoKXtpZihyIT09dGhpcy5tYXRlcmlhbHMubGVuZ3RoLTEpe3ZhciBuPXRoaXMubWF0ZXJpYWxzW3RoaXMubWF0ZXJpYWxzLmxlbmd0aC0xXTt0aGlzLm1hdGVyaWFsc1tyXT1uLG4uX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9cn10Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWF0ZXJpYWxzLnBvcCgpfXJldHVybiB0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlQWN0aW9uTWFuYWdlcj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmFjdGlvbk1hbmFnZXJzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5hY3Rpb25NYW5hZ2Vycy5zcGxpY2UociwxKSxyfSxlLnByb3RvdHlwZS5yZW1vdmVUZXh0dXJlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMudGV4dHVyZXMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLnRleHR1cmVzLnNwbGljZShyLDEpLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHJ9LGUucHJvdG90eXBlLmFkZExpZ2h0PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb24pe3RoaXMubGlnaHRzLnB1c2godCksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLHQucGFyZW50fHx0Ll9hZGRUb1NjZW5lUm9vdE5vZGVzKCk7Zm9yKHZhciByPTAsbj10aGlzLm1lc2hlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLmxpZ2h0U291cmNlcy5pbmRleE9mKHQpPT09LTEmJihhLmxpZ2h0U291cmNlcy5wdXNoKHQpLGEuX3Jlc3luY0xpZ2h0U291cmNlcygpKX10aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpfX0sZS5wcm90b3R5cGUuc29ydExpZ2h0c0J5UHJpb3JpdHk9ZnVuY3Rpb24oKXt0aGlzLnJlcXVpcmVMaWdodFNvcnRpbmcmJnRoaXMubGlnaHRzLnNvcnQoeGUuQ29tcGFyZUxpZ2h0c1ByaW9yaXR5KX0sZS5wcm90b3R5cGUuYWRkQ2FtZXJhPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuY2FtZXJhcy5wdXNoKHQpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHQucGFyZW50fHx0Ll9hZGRUb1NjZW5lUm9vdE5vZGVzKCkpfSxlLnByb3RvdHlwZS5hZGRTa2VsZXRvbj1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLnNrZWxldG9ucy5wdXNoKHQpLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpfSxlLnByb3RvdHlwZS5hZGRQYXJ0aWNsZVN5c3RlbT1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMucGFydGljbGVTeXN0ZW1zLnB1c2godCl9LGUucHJvdG90eXBlLmFkZEFuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMuYW5pbWF0aW9ucy5wdXNoKHQpfSxlLnByb3RvdHlwZS5hZGRBbmltYXRpb25Hcm91cD1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMuYW5pbWF0aW9uR3JvdXBzLnB1c2godCl9LGUucHJvdG90eXBlLmFkZE11bHRpTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tdWx0aU1hdGVyaWFscy5wdXNoKHQpLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLmFkZE1hdGVyaWFsPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dC5nZXRTY2VuZSgpPT09dGhpcyYmdC5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheSE9PS0xfHwodC5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10aGlzLm1hdGVyaWFscy5sZW5ndGgsdGhpcy5tYXRlcmlhbHMucHVzaCh0KSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKX0sZS5wcm90b3R5cGUuYWRkTW9ycGhUYXJnZXRNYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnB1c2godCl9LGUucHJvdG90eXBlLmFkZEdlb21ldHJ5PWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbdC51bmlxdWVJZF09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aCksdGhpcy5nZW9tZXRyaWVzLnB1c2godCkpfSxlLnByb3RvdHlwZS5hZGRBY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuYWN0aW9uTWFuYWdlcnMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkVGV4dHVyZT1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLnRleHR1cmVzLnB1c2godCksdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKX0sZS5wcm90b3R5cGUuc3dpdGNoQWN0aXZlQ2FtZXJhPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITApO3ZhciBuPXRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTshbnx8KHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5kZXRhY2hDb250cm9sKCksdGhpcy5hY3RpdmVDYW1lcmE9dCxyJiZ0LmF0dGFjaENvbnRyb2woKSl9LGUucHJvdG90eXBlLnNldEFjdGl2ZUNhbWVyYUJ5SWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRDYW1lcmFCeUlkKHQpO3JldHVybiByPyh0aGlzLmFjdGl2ZUNhbWVyYT1yLHIpOm51bGx9LGUucHJvdG90eXBlLnNldEFjdGl2ZUNhbWVyYUJ5TmFtZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldENhbWVyYUJ5TmFtZSh0KTtyZXR1cm4gcj8odGhpcy5hY3RpdmVDYW1lcmE9cixyKTpudWxsfSxlLnByb3RvdHlwZS5nZXRBbmltYXRpb25Hcm91cEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuYW5pbWF0aW9uR3JvdXBzLmxlbmd0aDtyKyspaWYodGhpcy5hbmltYXRpb25Hcm91cHNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMuYW5pbWF0aW9uR3JvdXBzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5VW5pcXVlSUQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1hdGVyaWFscy5sZW5ndGg7cisrKWlmKHRoaXMubWF0ZXJpYWxzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1hdGVyaWFsQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtyKyspaWYodGhpcy5tYXRlcmlhbHNbcl0uaWQ9PT10KXJldHVybiB0aGlzLm1hdGVyaWFsc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdE1hdGVyaWFsQnlJZD1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSExKTtmb3IodmFyIG49dGhpcy5tYXRlcmlhbHMubGVuZ3RoLTE7bj49MDtuLS0paWYodGhpcy5tYXRlcmlhbHNbbl0uaWQ9PT10KXJldHVybiB0aGlzLm1hdGVyaWFsc1tuXTtpZihyKXtmb3IodmFyIG49dGhpcy5tdWx0aU1hdGVyaWFscy5sZW5ndGgtMTtuPj0wO24tLSlpZih0aGlzLm11bHRpTWF0ZXJpYWxzW25dLmlkPT09dClyZXR1cm4gdGhpcy5tdWx0aU1hdGVyaWFsc1tuXX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1hdGVyaWFscy5sZW5ndGg7cisrKWlmKHRoaXMubWF0ZXJpYWxzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLm1hdGVyaWFsc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnRleHR1cmVzLmxlbmd0aDtyKyspaWYodGhpcy50ZXh0dXJlc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMudGV4dHVyZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRleHR1cmVCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnRleHR1cmVzLmxlbmd0aDtyKyspaWYodGhpcy50ZXh0dXJlc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy50ZXh0dXJlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuY2FtZXJhcy5sZW5ndGg7cisrKWlmKHRoaXMuY2FtZXJhc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMuY2FtZXJhc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuY2FtZXJhcy5sZW5ndGg7cisrKWlmKHRoaXMuY2FtZXJhc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMuY2FtZXJhc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5jYW1lcmFzLmxlbmd0aDtyKyspaWYodGhpcy5jYW1lcmFzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLmNhbWVyYXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldEJvbmVCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3IrKylmb3IodmFyIG49dGhpcy5za2VsZXRvbnNbcl0sYT0wO2E8bi5ib25lcy5sZW5ndGg7YSsrKWlmKG4uYm9uZXNbYV0uaWQ9PT10KXJldHVybiBuLmJvbmVzW2FdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRCb25lQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3IrKylmb3IodmFyIG49dGhpcy5za2VsZXRvbnNbcl0sYT0wO2E8bi5ib25lcy5sZW5ndGg7YSsrKWlmKG4uYm9uZXNbYV0ubmFtZT09PXQpcmV0dXJuIG4uYm9uZXNbYV07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExpZ2h0QnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5saWdodHMubGVuZ3RoO3IrKylpZih0aGlzLmxpZ2h0c1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5saWdodHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExpZ2h0QnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubGlnaHRzLmxlbmd0aDtyKyspaWYodGhpcy5saWdodHNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmxpZ2h0c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGlnaHRCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5saWdodHMubGVuZ3RoO3IrKylpZih0aGlzLmxpZ2h0c1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMubGlnaHRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cisrKWlmKHRoaXMucGFydGljbGVTeXN0ZW1zW3JdLmlkPT09dClyZXR1cm4gdGhpcy5wYXJ0aWNsZVN5c3RlbXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5QnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7cisrKWlmKHRoaXMuZ2VvbWV0cmllc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX2dldEdlb21ldHJ5QnlVbmlxdWVJZD1mdW5jdGlvbih0KXtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7dmFyIHI9dGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbdF07aWYociE9PXZvaWQgMClyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3JdfWVsc2UgZm9yKHZhciByPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZih0aGlzLmdlb21ldHJpZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLmdlb21ldHJpZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnB1c2hHZW9tZXRyeT1mdW5jdGlvbih0LHIpe3JldHVybiFyJiZ0aGlzLl9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQodC51bmlxdWVJZCk/ITE6KHRoaXMuYWRkR2VvbWV0cnkodCksdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSwhMCl9LGUucHJvdG90eXBlLnJlbW92ZUdlb21ldHJ5PWZ1bmN0aW9uKHQpe3ZhciByO2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXtpZihyPXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW3QudW5pcXVlSWRdLHI9PT12b2lkIDApcmV0dXJuITF9ZWxzZSBpZihyPXRoaXMuZ2VvbWV0cmllcy5pbmRleE9mKHQpLHI8MClyZXR1cm4hMTtpZihyIT09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xKXt2YXIgbj10aGlzLmdlb21ldHJpZXNbdGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xXTtuJiYodGhpcy5nZW9tZXRyaWVzW3JdPW4sdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtuLnVuaXF1ZUlkXT1yLHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW3QudW5pcXVlSWRdPXZvaWQgMCkpfXJldHVybiB0aGlzLmdlb21ldHJpZXMucG9wKCksdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLCEwfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cmllc30sZS5wcm90b3R5cGUuZ2V0TWVzaEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1lc2hlcy5sZW5ndGg7cisrKWlmKHRoaXMubWVzaGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1lc2hlc0J5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWVzaGVzLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gci5pZD09PXR9KX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDtyKyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7cisrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXMuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09dH0pfSxlLnByb3RvdHlwZS5nZXRNZXNoQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWVzaGVzLmxlbmd0aDtyKyspaWYodGhpcy5tZXNoZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLm1lc2hlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10aGlzLm1lc2hlcy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLm1lc2hlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0RW50cnlCeUlkPWZ1bmN0aW9uKHQpe3ZhciByO2ZvcihyPXRoaXMubWVzaGVzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMubWVzaGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07Zm9yKHI9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXTtmb3Iocj10aGlzLmNhbWVyYXMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy5jYW1lcmFzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5jYW1lcmFzW3JdO2ZvcihyPXRoaXMubGlnaHRzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMubGlnaHRzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5saWdodHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0TWVzaEJ5SWQodCk7aWYocilyZXR1cm4gcjt2YXIgbj10aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKHQpO2lmKG4pcmV0dXJuIG47dmFyIGE9dGhpcy5nZXRMaWdodEJ5SWQodCk7aWYoYSlyZXR1cm4gYTt2YXIgcz10aGlzLmdldENhbWVyYUJ5SWQodCk7aWYocylyZXR1cm4gczt2YXIgbz10aGlzLmdldEJvbmVCeUlkKHQpO3JldHVybiBvfHxudWxsfSxlLnByb3RvdHlwZS5nZXROb2RlQnlOYW1lPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0TWVzaEJ5TmFtZSh0KTtpZihyKXJldHVybiByO3ZhciBuPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5TmFtZSh0KTtpZihuKXJldHVybiBuO3ZhciBhPXRoaXMuZ2V0TGlnaHRCeU5hbWUodCk7aWYoYSlyZXR1cm4gYTt2YXIgcz10aGlzLmdldENhbWVyYUJ5TmFtZSh0KTtpZihzKXJldHVybiBzO3ZhciBvPXRoaXMuZ2V0Qm9uZUJ5TmFtZSh0KTtyZXR1cm4gb3x8bnVsbH0sZS5wcm90b3R5cGUuZ2V0TWVzaEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWVzaGVzLmxlbmd0aDtyKyspaWYodGhpcy5tZXNoZXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7cisrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExhc3RTa2VsZXRvbkJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMuc2tlbGV0b25zLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMuc2tlbGV0b25zW3JdLmlkPT09dClyZXR1cm4gdGhpcy5za2VsZXRvbnNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFNrZWxldG9uQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspaWYodGhpcy5za2VsZXRvbnNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLnNrZWxldG9uc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0U2tlbGV0b25CeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3IrKylpZih0aGlzLnNrZWxldG9uc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRTa2VsZXRvbkJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspaWYodGhpcy5za2VsZXRvbnNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDtyKyspaWYodGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrcilmb3IodmFyIG49dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdLGE9MDthPG4ubnVtVGFyZ2V0czsrK2Epe3ZhciBzPW4uZ2V0VGFyZ2V0KGEpO2lmKHMuaWQ9PT10KXJldHVybiBzfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7KytyKWZvcih2YXIgbj10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbcl0sYT0wO2E8bi5udW1UYXJnZXRzOysrYSl7dmFyIHM9bi5nZXRUYXJnZXQoYSk7aWYocy5uYW1lPT09dClyZXR1cm4gc31yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UG9zdFByb2Nlc3NCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOysrcil7dmFyIG49dGhpcy5wb3N0UHJvY2Vzc2VzW3JdO2lmKG4ubmFtZT09PXQpcmV0dXJuIG59cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzQWN0aXZlTWVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YodCkhPT0tMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1aWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPV9lLlJhbmRvbUlkKCkpLHRoaXMuX3VpZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hZGRFeHRlcm5hbERhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBMaSksdGhpcy5fZXh0ZXJuYWxEYXRhLmFkZCh0LHIpfSxlLnByb3RvdHlwZS5nZXRFeHRlcm5hbERhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YT90aGlzLl9leHRlcm5hbERhdGEuZ2V0KHQpOm51bGx9LGUucHJvdG90eXBlLmdldE9yQWRkRXh0ZXJuYWxEYXRhV2l0aEZhY3Rvcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBMaSksdGhpcy5fZXh0ZXJuYWxEYXRhLmdldE9yQWRkV2l0aEZhY3RvcnkodCxyKX0sZS5wcm90b3R5cGUucmVtb3ZlRXh0ZXJuYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGEucmVtb3ZlKHQpfSxlLnByb3RvdHlwZS5fZXZhbHVhdGVTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtpZihuLmhhc0luc3RhbmNlc3x8bi5pc0FuSW5zdGFuY2V8fHRoaXMuZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlc3x8dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ3x8ci5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2h8fHIuc3ViTWVzaGVzLmxlbmd0aD09PTF8fHQuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpe2Zvcih2YXIgYT0wLHM9dGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2U7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5hY3Rpb24ocix0KX12YXIgdT10LmdldE1hdGVyaWFsKCk7dSE9bnVsbCYmKHUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJnUuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKHUpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaCh1KSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh1LmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKHQscix1KSl9fSxlLnByb3RvdHlwZS5mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzPWZ1bmN0aW9uKCl7dGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmRpc3Bvc2UoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyE9PXQmJih0JiYodGhpcy5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCkpLHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmZyZWVBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYXMpKWZvcih2YXIgdD0wO3Q8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuYWN0aXZlQ2FtZXJhc1t0XTtyJiZyLl9hY3RpdmVNZXNoZXMmJnIuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCl9fSxlLnByb3RvdHlwZS5mcmVlUmVuZGVyaW5nR3JvdXBzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy50ZXh0dXJlcykpZm9yKHZhciB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMudGV4dHVyZXNbdF07ciYmci5yZW5kZXJMaXN0JiZyLmZyZWVSZW5kZXJpbmdHcm91cHMoKX19LGUucHJvdG90eXBlLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZ30sZS5wcm90b3R5cGUuZnJlZXplQWN0aXZlTWVzaGVzPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcztyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLGE9PT12b2lkIDAmJihhPSEwKSxzPT09dm9pZCAwJiYocz0hMSksdGhpcy5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7aWYoIW8uYWN0aXZlQ2FtZXJhKXtuJiZuKCJObyBhY3RpdmUgY2FtZXJhIGZvdW5kIik7cmV0dXJufWlmKG8uX2ZydXN0dW1QbGFuZXN8fG8udXBkYXRlVHJhbnNmb3JtTWF0cml4KCksby5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKSxvLl9hY3RpdmVNZXNoZXNGcm96ZW49ITAsby5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nPXMsby5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT10LGEpZm9yKHZhciB1PTA7dTxvLl9hY3RpdmVNZXNoZXMubGVuZ3RoO3UrKylvLl9hY3RpdmVNZXNoZXMuZGF0YVt1XS5fZnJlZXplKCk7ciYmcigpfSksdGhpc30sZS5wcm90b3R5cGUudW5mcmVlemVBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMubWVzaGVzW3RdO3IuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8mJihyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSl9Zm9yKHZhciB0PTA7dDx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO3QrKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVt0XS5fdW5GcmVlemUoKTtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXN9LGUucHJvdG90eXBlLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xOyFyJiZ0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW4mJnRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGh8fHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZE9uY2UoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwb3NlKCl9KX0sZS5wcm90b3R5cGUuX2V2YWx1YXRlQWN0aXZlTWVzaGVzPWZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl7dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aD4wJiYoKHQ9dGhpcy5hY3RpdmVDYW1lcmEpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpKTtyZXR1cm59aWYodGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoKXtpZighdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseSlmb3IodmFyIHI9dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCxuPTA7bjxyO24rKyl7dmFyIGE9dGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbbl07YS5jb21wdXRlV29ybGRNYXRyaXgoKX1pZih0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMpZm9yKHZhciBzPXRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5sZW5ndGgsbj0wO248cztuKyspdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRhdGFbbl0uYW5pbWF0ZSgpO3JldHVybn1pZighIXRoaXMuYWN0aXZlQ2FtZXJhKXt0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLnJlc2V0KCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpO2Zvcih2YXIgbz0wLHU9dGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2U7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5hY3Rpb24oKX1mb3IodmFyIGw9dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcygpLGg9bC5sZW5ndGgsbj0wO248aDtuKyspe3ZhciBhPWwuZGF0YVtuXTtpZihhLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSwhYS5pc0Jsb2NrZWQmJih0aGlzLl90b3RhbFZlcnRpY2VzLmFkZENvdW50KGEuZ2V0VG90YWxWZXJ0aWNlcygpLCExKSwhKCFhLmlzUmVhZHkoKXx8IWEuaXNFbmFibGVkKCl8fGEuc2NhbGluZy5oYXNBWmVyb0NvbXBvbmVudCkpKXthLmNvbXB1dGVXb3JsZE1hdHJpeCgpLGEuYWN0aW9uTWFuYWdlciYmYS5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcnMyKDEyLDEzKSYmdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5wdXNoTm9EdXBsaWNhdGUoYSk7dmFyIGM9dGhpcy5jdXN0b21MT0RTZWxlY3Rvcj90aGlzLmN1c3RvbUxPRFNlbGVjdG9yKGEsdGhpcy5hY3RpdmVDYW1lcmEpOmEuZ2V0TE9EKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZihhLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EPWMsYS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITAsYyE9bnVsbCYmKGMhPT1hJiZjLmJpbGxib2FyZE1vZGUhPT0wJiZjLmNvbXB1dGVXb3JsZE1hdHJpeCgpLGEuX3ByZUFjdGl2YXRlKCksYS5pc1Zpc2libGUmJmEudmlzaWJpbGl0eT4wJiYoYS5sYXllck1hc2smdGhpcy5hY3RpdmVDYW1lcmEubGF5ZXJNYXNrKSE9PTAmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfHxhLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaHx8YS5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKSkpKXt0aGlzLl9hY3RpdmVNZXNoZXMucHVzaChhKSx0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLnB1c2goYSksYyE9PWEmJmMuX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKTtmb3IodmFyIGQ9MCxwPXRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZTtkPHAubGVuZ3RoO2QrKyl7dmFyIGY9cFtkXTtmLmFjdGlvbihhKX1hLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSkmJihhLmlzQW5JbnN0YW5jZT9hLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYoYz1hKTpjLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSExLGMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSEwLHRoaXMuX2FjdGl2ZU1lc2goYSxjKSksYS5fcG9zdEFjdGl2YXRlKCl9fX1pZih0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wYXJ0aWNsZXNFbmFibGVkKXt0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKHZhciBnPTA7Zzx0aGlzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7ZysrKXt2YXIgXz10aGlzLnBhcnRpY2xlU3lzdGVtc1tnXTtpZighKCFfLmlzU3RhcnRlZCgpfHwhXy5lbWl0dGVyKSl7dmFyIHY9Xy5lbWl0dGVyOyghdi5wb3NpdGlvbnx8di5pc0VuYWJsZWQoKSkmJih0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucHVzaChfKSxfLmFuaW1hdGUoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoUGFydGljbGVzKF8pKX19dGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9fX0sZS5wcm90b3R5cGUuX2FjdGl2ZU1lc2g9ZnVuY3Rpb24odCxyKXtpZih0aGlzLl9za2VsZXRvbnNFbmFibGVkJiZyLnNrZWxldG9uIT09bnVsbCYmci5za2VsZXRvbiE9PXZvaWQgMCYmKHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5wdXNoTm9EdXBsaWNhdGUoci5za2VsZXRvbikmJihyLnNrZWxldG9uLnByZXBhcmUoKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudChyLnNrZWxldG9uLmJvbmVzLmxlbmd0aCwhMSkpLHIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfHx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucHVzaE5vRHVwbGljYXRlKHIpKSxyJiZyLnN1Yk1lc2hlcyYmci5zdWJNZXNoZXMubGVuZ3RoPjApZm9yKHZhciBuPXRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXMociksYT1uLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIG89bi5kYXRhW3NdO3RoaXMuX2V2YWx1YXRlU3ViTWVzaChvLHIsdCl9fSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCl7aWYoISF0aGlzLmFjdGl2ZUNhbWVyYSlpZih0aGlzLmFjdGl2ZUNhbWVyYS5fcmVuZGVyaW5nTXVsdGl2aWV3KXt2YXIgcj10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1swXSxuPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzFdO3RoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHIuZ2V0Vmlld01hdHJpeCgpLHIuZ2V0UHJvamVjdGlvbk1hdHJpeCh0KSxuLmdldFZpZXdNYXRyaXgoKSxuLmdldFByb2plY3Rpb25NYXRyaXgodCkpfWVsc2UgdGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHRoaXMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgodCkpfSxlLnByb3RvdHlwZS5fYmluZEZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITApLHQmJnQuX211bHRpdmlld1RleHR1cmU/dC5fbXVsdGl2aWV3VGV4dHVyZS5fYmluZEZyYW1lQnVmZmVyKCk6dCYmdC5vdXRwdXRSZW5kZXJUYXJnZXQ/dC5vdXRwdXRSZW5kZXJUYXJnZXQuX2JpbmRGcmFtZUJ1ZmZlcigpOnRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXx8dGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSxyJiZ0aGlzLl9jbGVhckZyYW1lQnVmZmVyKHQpfSxlLnByb3RvdHlwZS5fY2xlYXJGcmFtZUJ1ZmZlcj1mdW5jdGlvbih0KXtpZighKHQmJnQuX211bHRpdmlld1RleHR1cmUpKWlmKHQmJnQub3V0cHV0UmVuZGVyVGFyZ2V0KXt2YXIgcj10Lm91dHB1dFJlbmRlclRhcmdldDtyLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3Iub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2VuZ2luZSk6ci5za2lwSW5pdGlhbENsZWFyfHwodGhpcy5fZW5naW5lLmNsZWFyKHIuY2xlYXJDb2xvcnx8dGhpcy5jbGVhckNvbG9yLCFyLl9jbGVhcmVkLCEwLCEwKSxyLl9jbGVhcmVkPSEwKX1lbHNlIHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ/dGhpcy5fZW5naW5lLmNsZWFyKG51bGwsITEsITAsITApOih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSEwLHRoaXMuX2NsZWFyKCkpfSxlLnByb3RvdHlwZS5fcmVuZGVyRm9yQ2FtZXJhPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzLG87aWYobj09PXZvaWQgMCYmKG49ITApLCEodCYmdC5fc2tpcFJlbmRlcmluZykpe3ZhciB1PXRoaXMuX2VuZ2luZTtpZih0aGlzLl9hY3RpdmVDYW1lcmE9dCwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpZih1LnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLl9yZW5kZXJJZCsrLCF0aGlzLnByZVBhc3MmJm4pe3ZhciBmPSEwO3QuX3JlbmRlcmluZ011bHRpdmlldyYmdC5vdXRwdXRSZW5kZXJUYXJnZXQmJihmPXQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXIsdGhpcy5hdXRvQ2xlYXImJih0Lm91dHB1dFJlbmRlclRhcmdldC5za2lwSW5pdGlhbENsZWFyPSExKSksdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSksdC5fcmVuZGVyaW5nTXVsdGl2aWV3JiZ0Lm91dHB1dFJlbmRlclRhcmdldCYmKHQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9Zil9dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5hY3RpdmVDYW1lcmEpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCk7Zm9yKHZhciBsPTA7bDx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMubGVuZ3RoO2wrKyl7dmFyIGg9dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLmRhdGFbbF07aC5hcHBseVNrZWxldG9uKGguc2tlbGV0b24pfXRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUodGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cyksdC5jdXN0b21SZW5kZXJUYXJnZXRzJiZ0LmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjAmJnRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHQuY3VzdG9tUmVuZGVyVGFyZ2V0cyksciYmci5jdXN0b21SZW5kZXJUYXJnZXRzJiZyLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjAmJnRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHIuY3VzdG9tUmVuZGVyVGFyZ2V0cyksdGhpcy5lbnZpcm9ubWVudFRleHR1cmUmJnRoaXMuZW52aXJvbm1lbnRUZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLmVudmlyb25tZW50VGV4dHVyZSk7Zm9yKHZhciBjPTAsZD10aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyl9dmFyIGc9ITE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7aWYodGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApe19lLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCk7Zm9yKHZhciBfPTA7Xzx0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aDtfKyspe3ZhciB2PXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtfXTtpZih2Ll9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKzt2YXIgeT12LmFjdGl2ZUNhbWVyYSYmdi5hY3RpdmVDYW1lcmEhPT10aGlzLmFjdGl2ZUNhbWVyYTt2LnJlbmRlcih5LHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzKSxnPSEwfX1fZS5FbmRQZXJmb3JtYW5jZUNvdW50ZXIoIlJlbmRlciB0YXJnZXRzIix0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aD4wKSx0aGlzLl9yZW5kZXJJZCsrfWZvcih2YXIgRT0wLFI9dGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlO0U8Ui5sZW5ndGg7RSsrKXt2YXIgcD1SW0VdO2c9cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfHxnfXRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMX10aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZD0obz0ocz0oYT10Lm91dHB1dFJlbmRlclRhcmdldCk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnJlbmRlclBhc3NJZCkhPT1udWxsJiZzIT09dm9pZCAwP3M6dC5yZW5kZXJQYXNzSWQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOjAsZyYmIXRoaXMucHJlUGFzcyYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSwhMSksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhdC5fbXVsdGl2aWV3VGV4dHVyZSYmIXRoaXMucHJlUGFzcyYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSgpO2Zvcih2YXIgTT0wLEM9dGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlO008Qy5sZW5ndGg7TSsrKXt2YXIgcD1DW01dO3AuYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKX10aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdS5zbmFwc2hvdFJlbmRlcmluZyYmdS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcih2YXIgQT0wLFM9dGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U7QTxTLmxlbmd0aDtBKyspe3ZhciBwPVNbQV07cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfWlmKHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhdC5fbXVsdGl2aWV3VGV4dHVyZSl7dmFyIHc9dC5vdXRwdXRSZW5kZXJUYXJnZXQ/dC5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSh0LmlzSW50ZXJtZWRpYXRlLHcpfXRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSl9fSxlLnByb3RvdHlwZS5fcHJvY2Vzc1N1YkNhbWVyYXM9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMCksdC5jYW1lcmFSaWdNb2RlPT09MHx8dC5fcmVuZGVyaW5nTXVsdGl2aWV3KXt0Ll9yZW5kZXJpbmdNdWx0aXZpZXcmJiF0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fY3JlYXRlTXVsdGl2aWV3VWJvKCksdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKHQsdm9pZCAwLHIpLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpO3JldHVybn1pZih0Ll91c2VNdWx0aXZpZXdUb1NpbmdsZVZpZXcpdGhpcy5fcmVuZGVyTXVsdGl2aWV3VG9TaW5nbGVWaWV3KHQpO2Vsc2V7dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpO2Zvcih2YXIgbj0wO248dC5fcmlnQ2FtZXJhcy5sZW5ndGg7bisrKXRoaXMuX3JlbmRlckZvckNhbWVyYSh0Ll9yaWdDYW1lcmFzW25dLHQpfXRoaXMuX2FjdGl2ZUNhbWVyYT10LHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9LGUucHJvdG90eXBlLl9jaGVja0ludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW3RdO2lmKCEhci5hY3Rpb25NYW5hZ2VyKWZvcih2YXIgbj1mdW5jdGlvbihzKXt2YXIgbz1yLmFjdGlvbk1hbmFnZXIuYWN0aW9uc1tzXTtpZihvLnRyaWdnZXI9PT0xMnx8by50cmlnZ2VyPT09MTMpe3ZhciB1PW8uZ2V0VHJpZ2dlclBhcmFtZXRlcigpLGY9dS5tZXNoP3UubWVzaDp1LGw9Zi5pbnRlcnNlY3RzTWVzaChyLHUudXNlUHJlY2lzZUludGVyc2VjdGlvbiksaD1yLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKGYpO2wmJmg9PT0tMT9vLnRyaWdnZXI9PT0xMj8oby5fZXhlY3V0ZUN1cnJlbnQoTmUuQ3JlYXRlTmV3KHIsdm9pZCAwLGYpKSxyLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKGYpKTpvLnRyaWdnZXI9PT0xMyYmci5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MucHVzaChmKTohbCYmaD4tMSYmKG8udHJpZ2dlcj09PTEzJiZvLl9leGVjdXRlQ3VycmVudChOZS5DcmVhdGVOZXcocix2b2lkIDAsZikpLCghci5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcigxMyxmdW5jdGlvbihjKXt2YXIgZD1jLm1lc2g/Yy5tZXNoOmM7cmV0dXJuIGY9PT1kfSl8fG8udHJpZ2dlcj09PTEzKSYmci5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3Muc3BsaWNlKGgsMSkpfX0sYT0wO3IuYWN0aW9uTWFuYWdlciYmYTxyLmFjdGlvbk1hbmFnZXIuYWN0aW9ucy5sZW5ndGg7YSsrKW4oYSl9fSxlLnByb3RvdHlwZS5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX2FuaW1hdGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmdpbmUuaXNEZXRlcm1pbmlzdGljTG9ja1N0ZXAoKSl7dmFyIHQ9TWF0aC5tYXgoZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLGUuTWF4RGVsdGFUaW1lKSkrdGhpcy5fdGltZUFjY3VtdWxhdG9yLHI9dGhpcy5fZW5naW5lLmdldFRpbWVTdGVwKCksbj0xZTMvci8xZTMsYT0wLHM9dGhpcy5fZW5naW5lLmdldExvY2tzdGVwTWF4U3RlcHMoKSxvPU1hdGguZmxvb3IodC9yKTtmb3Iobz1NYXRoLm1pbihvLHMpO3Q+MCYmYTxvOyl0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2FuaW1hdGlvblJhdGlvPXIqbix0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChyKSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY3VycmVudFN0ZXBJZCsrLGErKyx0LT1yO3RoaXMuX3RpbWVBY2N1bXVsYXRvcj10PDA/MDp0fWVsc2V7dmFyIHQ9dGhpcy51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT8xNjpNYXRoLm1heChlLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksZS5NYXhEZWx0YVRpbWUpKTt0aGlzLl9hbmltYXRpb25SYXRpbz10Kig2MC8xZTMpLHRoaXMuX2FuaW1hdGUoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5waHlzaWNzRW5hYmxlZCYmdGhpcy5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwKHQpfX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7KHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsfHx0aGlzLmF1dG9DbGVhcikmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5hdXRvQ2xlYXJ8fHRoaXMuZm9yY2VXaXJlZnJhbWV8fHRoaXMuZm9yY2VQb2ludHNDbG91ZCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCl9LGUucHJvdG90eXBlLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldD1mdW5jdGlvbih0KXt2YXIgcjtpZigodD09bnVsbD92b2lkIDA6dC5vdXRwdXRSZW5kZXJUYXJnZXQpJiYhKHQhPW51bGwmJnQuaXNSaWdDYW1lcmEpJiYodC5vdXRwdXRSZW5kZXJUYXJnZXQuX2NsZWFyZWQ9ITEpLCEoKHI9dD09bnVsbD92b2lkIDA6dC5yaWdDYW1lcmFzKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmxlbmd0aClmb3IodmFyIG49MDtuPHQucmlnQ2FtZXJhcy5sZW5ndGg7KytuKXt2YXIgYT10LnJpZ0NhbWVyYXNbbl0ub3V0cHV0UmVuZGVyVGFyZ2V0O2EmJihhLl9jbGVhcmVkPSExKX19LGUucHJvdG90eXBlLnJlc2V0RHJhd0NhY2hlPWZ1bmN0aW9uKHQpe2lmKCEhdGhpcy5tZXNoZXMpZm9yKHZhciByPTAsbj10aGlzLm1lc2hlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLnJlc2V0RHJhd0NhY2hlKHQpfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQscil7dmFyIG4sYSxzO2lmKHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksIXRoaXMuaXNEaXNwb3NlZCl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD09PW51bGwmJnRoaXMuX2NoZWNrSXNSZWFkeSgpLHRoaXMuX2ZyYW1lSWQrKyx0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLHRoaXMuX2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KHRoaXMuYWN0aXZlQ2FtZXJhKSwhKChuPXRoaXMuYWN0aXZlQ2FtZXJhcyk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5sZW5ndGgmJnRoaXMuYWN0aXZlQ2FtZXJhcy5mb3JFYWNoKHRoaXMuX2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KSx0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX3RvdGFsVmVydGljZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX2FjdGl2ZUluZGljZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX2FjdGl2ZUJvbmVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnJlc2V0KCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmFjdGlvbk1hbmFnZXImJnRoaXMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxMSkscnx8dGhpcy5hbmltYXRlKCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZTtvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmFjdGlvbigpfWlmKHQpe2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcih2YXIgbD0wO2w8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtsKyspe3ZhciBoPXRoaXMuYWN0aXZlQ2FtZXJhc1tsXTtpZihoLnVwZGF0ZSgpLGguY2FtZXJhUmlnTW9kZSE9PTApZm9yKHZhciBjPTA7YzxoLl9yaWdDYW1lcmFzLmxlbmd0aDtjKyspaC5fcmlnQ2FtZXJhc1tjXS51cGRhdGUoKX1lbHNlIGlmKHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEudXBkYXRlKCksdGhpcy5hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTApKWZvcih2YXIgYz0wO2M8dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXMubGVuZ3RoO2MrKyl0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1tjXS51cGRhdGUoKX10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIGQ9dGhpcy5nZXRFbmdpbmUoKTt0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciBwPSEoKGE9dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fGE9PT12b2lkIDApJiZhLmxlbmd0aD90aGlzLmFjdGl2ZUNhbWVyYXNbMF06dGhpcy5hY3RpdmVDYW1lcmE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7X2UuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXIoIkN1c3RvbSByZW5kZXIgdGFyZ2V0cyIsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wKSx0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITA7Zm9yKHZhciBnPTA7Zzx0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoO2crKyl7dmFyIF89dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW2ddO2lmKF8uX3Nob3VsZFJlbmRlcigpKXtpZih0aGlzLl9yZW5kZXJJZCsrLHRoaXMuYWN0aXZlQ2FtZXJhPV8uYWN0aXZlQ2FtZXJhfHx0aGlzLmFjdGl2ZUNhbWVyYSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtkLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLF8ucmVuZGVyKHAhPT10aGlzLmFjdGl2ZUNhbWVyYSx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyl9fV9lLkVuZFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9yZW5kZXJJZCsrfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShzPXA9PW51bGw/dm9pZCAwOnAucmVuZGVyUGFzc0lkKSE9PW51bGwmJnMhPT12b2lkIDA/czowLHRoaXMuYWN0aXZlQ2FtZXJhPXAsdGhpcy5fYWN0aXZlQ2FtZXJhJiZ0aGlzLl9hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTIyJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKHZhciB2PTAseT10aGlzLl9iZWZvcmVDbGVhclN0YWdlO3Y8eS5sZW5ndGg7disrKXt2YXIgZj15W3ZdO2YuYWN0aW9uKCl9dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKHZhciBFPTAsUj10aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2U7RTxSLmxlbmd0aDtFKyspe3ZhciBmPVJbRV07Zi5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyl9aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKHZhciBsPTA7bDx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO2wrKyl0aGlzLl9wcm9jZXNzU3ViQ2FtZXJhcyh0aGlzLmFjdGl2ZUNhbWVyYXNbbF0sbD4wKTtlbHNle2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIk5vIGNhbWVyYSBkZWZpbmVkIik7dGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmEsISF0aGlzLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQpfXRoaXMuX2NoZWNrSW50ZXJzZWN0aW9ucygpO2Zvcih2YXIgTT0wLEM9dGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZTtNPEMubGVuZ3RoO00rKyl7dmFyIGY9Q1tNXTtmLmFjdGlvbigpfWlmKHRoaXMuYWZ0ZXJSZW5kZXImJnRoaXMuYWZ0ZXJSZW5kZXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoKXtmb3IodmFyIGM9MDtjPHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg7YysrKXt2YXIgQT10aGlzLl90b0JlRGlzcG9zZWRbY107QSYmQS5kaXNwb3NlKCl9dGhpcy5fdG9CZURpc3Bvc2VkPVtdfXRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzJiYodGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHM9ITEpLHRoaXMuX2FjdGl2ZUJvbmVzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fYWN0aXZlUGFydGljbGVzLmFkZENvdW50KDAsITApLHRoaXMuX2VuZ2luZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCl9fSxlLnByb3RvdHlwZS5mcmVlemVNYXRlcmlhbHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aDt0KyspdGhpcy5tYXRlcmlhbHNbdF0uZnJlZXplKCl9LGUucHJvdG90eXBlLnVuZnJlZXplTWF0ZXJpYWxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLm1hdGVyaWFscy5sZW5ndGg7dCsrKXRoaXMubWF0ZXJpYWxzW3RdLnVuZnJlZXplKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDtpZighdGhpcy5pc0Rpc3Bvc2VkKXt0aGlzLmJlZm9yZVJlbmRlcj1udWxsLHRoaXMuYWZ0ZXJSZW5kZXI9bnVsbCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5za2VsZXRvbnM9W10sdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzPVtdLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM9W10sdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlck1vdmVTdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJEb3duU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyVXBTdGFnZS5jbGVhcigpLHRoaXMuaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksdGhpcy5zdG9wQWxsQW5pbWF0aW9ucyYmdGhpcy5zdG9wQWxsQW5pbWF0aW9ucygpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmE9bnVsbCksdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLmRpc3Bvc2UoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3MuZGlzcG9zZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGlzcG9zZSgpLHRoaXMuX3RvQmVEaXNwb3NlZD1bXTtmb3IodmFyIHI9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKSxuPTAsYT1yO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuYWJvcnQoKX10aGlzLl9hY3RpdmVSZXF1ZXN0cz1bXSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQuY2xlYXIoKSx0aGlzLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZC5jbGVhcigpLCh0PXRoaXMuX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyKT09PW51bGx8fHQ9PT12b2lkIDB8fHQudW5vYnNlcnZlKCksdGhpcy5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXI9dm9pZCAwLHRoaXMuZGV0YWNoQ29udHJvbCgpO3ZhciBvPXRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihvKWZvcih2YXIgdT0wO3U8dGhpcy5jYW1lcmFzLmxlbmd0aDt1KyspdGhpcy5jYW1lcmFzW3VdLmRldGFjaENvbnRyb2woKTt0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmFuaW1hdGlvbkdyb3VwcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5saWdodHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWVzaGVzLGZ1bmN0aW9uKGwpe3JldHVybiBsLmRpc3Bvc2UoITApfSksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50cmFuc2Zvcm1Ob2RlcyxmdW5jdGlvbihsKXtyZXR1cm4gbC5kaXNwb3NlKCEwKX0pLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuY2FtZXJhcyksdGhpcy5fZGVmYXVsdE1hdGVyaWFsJiZ0aGlzLl9kZWZhdWx0TWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubXVsdGlNYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBhcnRpY2xlU3lzdGVtcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wb3N0UHJvY2Vzc2VzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRleHR1cmVzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMpLHRoaXMuX3NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLl9jb21wb25lbnRzKTt2YXIgZj10aGlzLl9lbmdpbmUuc2NlbmVzLmluZGV4T2YodGhpcyk7Zj4tMSYmdGhpcy5fZW5naW5lLnNjZW5lcy5zcGxpY2UoZiwxKSxyZS5fTGFzdENyZWF0ZWRTY2VuZT09PXRoaXMmJih0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aD4wP3JlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMuX2VuZ2luZS5zY2VuZXNbdGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGgtMV06cmUuX0xhc3RDcmVhdGVkU2NlbmU9bnVsbCksZj10aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuaW5kZXhPZih0aGlzKSxmPi0xJiZ0aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuc3BsaWNlKGYsMSksdGhpcy5fZW5naW5lLndpcGVDYWNoZXMoITApLHRoaXMuX2lzRGlzcG9zZWQ9ITB9fSxlLnByb3RvdHlwZS5fZGlzcG9zZUxpc3Q9ZnVuY3Rpb24odCxyKXt2YXIgbj10LnNsaWNlKDApO3I9ciE9bnVsbD9yOmZ1bmN0aW9uKHUpe3JldHVybiB1LmRpc3Bvc2UoKX07Zm9yKHZhciBhPTAscz1uO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO3Iobyl9dC5sZW5ndGg9MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Rpc3Bvc2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY2xlYXJDYWNoZWRWZXJ0ZXhEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLm1lc2hlc1t0XSxuPXIuZ2VvbWV0cnk7biYmbi5jbGVhckNhY2hlZERhdGEoKX19LGUucHJvdG90eXBlLmNsZWFuQ2FjaGVkVGV4dHVyZUJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy50ZXh0dXJlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XSxhPW4uX2J1ZmZlcjthJiYobi5fYnVmZmVyPW51bGwpfX0sZS5wcm90b3R5cGUuZ2V0V29ybGRFeHRlbmRzPWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBiKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gdD10fHxmdW5jdGlvbigpe3JldHVybiEwfSx0aGlzLm1lc2hlcy5maWx0ZXIodCkuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksISghYS5zdWJNZXNoZXN8fGEuc3ViTWVzaGVzLmxlbmd0aD09PTB8fGEuaW5maW5pdGVEaXN0YW5jZSkpe3ZhciBzPWEuZ2V0Qm91bmRpbmdJbmZvKCksbz1zLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx1PXMuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkO2IuQ2hlY2tFeHRlbmRzKG8scixuKSxiLkNoZWNrRXh0ZW5kcyh1LHIsbil9fSkse21pbjpyLG1heDpufX0sZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbih0LHIsbixhLHMpe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbih0LHIsbixhKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUucGljaz1mdW5jdGlvbih0LHIsbixhLHMsbyl7dmFyIHU9bmV3IFFlO3JldHVybiB1Ll9waWNraW5nVW5hdmFpbGFibGU9ITAsdX0sZS5wcm90b3R5cGUucGlja1dpdGhCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz1uZXcgUWU7cmV0dXJuIG8uX3BpY2tpbmdVbmF2YWlsYWJsZT0hMCxvfSxlLnByb3RvdHlwZS5waWNrV2l0aFJheT1mdW5jdGlvbih0LHIsbixhKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUubXVsdGlQaWNrPWZ1bmN0aW9uKHQscixuLGEscyl7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLm11bHRpUGlja1dpdGhSYXk9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5zZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24odCxyLG4pe3RoaXMuX2lucHV0TWFuYWdlci5zZXRQb2ludGVyT3Zlck1lc2godCxyLG4pfSxlLnByb3RvdHlwZS5nZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmdldFBvaW50ZXJPdmVyTWVzaCgpfSxlLnByb3RvdHlwZS5fcmVidWlsZEdlb21ldHJpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuZ2VvbWV0cmllczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9yZWJ1aWxkKCl9Zm9yKHZhciBhPTAscz10aGlzLm1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLl9yZWJ1aWxkKCl9dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCk7Zm9yKHZhciB1PTAsZj10aGlzLl9jb21wb25lbnRzO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wucmVidWlsZCgpfWZvcih2YXIgaD0wLGM9dGhpcy5wYXJ0aWNsZVN5c3RlbXM7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF07ZC5yZWJ1aWxkKCl9aWYodGhpcy5zcHJpdGVNYW5hZ2Vycylmb3IodmFyIHA9MCxnPXRoaXMuc3ByaXRlTWFuYWdlcnM7cDxnLmxlbmd0aDtwKyspe3ZhciBfPWdbcF07Xy5yZWJ1aWxkKCl9fSxlLnByb3RvdHlwZS5fcmVidWlsZFRleHR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLnRleHR1cmVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX10aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfSxlLnByb3RvdHlwZS5fZ2V0QnlUYWdzPWZ1bmN0aW9uKHQscixuKXtpZihyPT09dm9pZCAwKXJldHVybiB0O3ZhciBhPVtdO249bnx8ZnVuY3Rpb24odSl7fTtmb3IodmFyIHMgaW4gdCl7dmFyIG89dFtzXTtjZSYmY2UuTWF0Y2hlc1F1ZXJ5KG8scikmJihhLnB1c2gobyksbihvKSl9cmV0dXJuIGF9LGUucHJvdG90eXBlLmdldE1lc2hlc0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tZXNoZXMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0Q2FtZXJhc0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5jYW1lcmFzLHQscil9LGUucHJvdG90eXBlLmdldExpZ2h0c0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5saWdodHMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeVRhZ3M9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWF0ZXJpYWxzLHQscikuY29uY2F0KHRoaXMuX2dldEJ5VGFncyh0aGlzLm11bHRpTWF0ZXJpYWxzLHQscikpfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy50cmFuc2Zvcm1Ob2Rlcyx0LHIpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdPcmRlcj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKHQscixuLGEpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24odCxyLG4sYSl7bj09PXZvaWQgMCYmKG49ITApLGE9PT12b2lkIDAmJihhPSEwKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbCh0LHIsbixhKX0sZS5wcm90b3R5cGUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSE9PXQmJih0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc209dCx0fHx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubWFya0FsbE1hdGVyaWFsc0FzRGlydHk9ZnVuY3Rpb24odCxyKXtpZighdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKWZvcih2YXIgbj0wLGE9dGhpcy5tYXRlcmlhbHM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07ciYmIXIocyl8fHMubWFya0FzRGlydHkodCl9fSxlLnByb3RvdHlwZS5fbG9hZEZpbGU9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7dmFyIGY9dGhpcyxsPUR0KHQscixuLGE/dGhpcy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLHMsbyx1KTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChsKSxsLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihoKXtmLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UoZi5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLGx9LGUucHJvdG90eXBlLl9sb2FkRmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odSxmKXtvLl9sb2FkRmlsZSh0LGZ1bmN0aW9uKGwpe3UobCl9LHIsbixhLGZ1bmN0aW9uKGwsaCl7ZihoKX0scyl9KX0sZS5wcm90b3R5cGUuX3JlcXVlc3RGaWxlPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe3ZhciBmPXRoaXMsbD1Icih0LHIsbixhP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxzLG8sdSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobCksbC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oaCl7Zi5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKGYuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoaCksMSl9KSxsfSxlLnByb3RvdHlwZS5fcmVxdWVzdEZpbGVBc3luYz1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHUsZil7by5fcmVxdWVzdEZpbGUodCxmdW5jdGlvbihsKXt1KGwpfSxyLG4sYSxmdW5jdGlvbihsKXtmKGwpfSxzKX0pfSxlLnByb3RvdHlwZS5fcmVhZEZpbGU9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzLHU9SnQodCxyLG4sYSxzKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaCh1KSx1Lm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtvLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2Uoby5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihmKSwxKX0pLHV9LGUucHJvdG90eXBlLl9yZWFkRmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2EuX3JlYWRGaWxlKHQsZnVuY3Rpb24odSl7cyh1KX0scixuLGZ1bmN0aW9uKHUpe28odSl9KX0pfSxlLnByb3RvdHlwZS5nZXRQZXJmQ29sbGVjdG9yPWZ1bmN0aW9uKCl7dGhyb3cgWCgicGVyZm9ybWFuY2VWaWV3ZXJTY2VuZUV4dGVuc2lvbiIpfSxlLkZPR01PREVfTk9ORT0wLGUuRk9HTU9ERV9FWFA9MSxlLkZPR01PREVfRVhQMj0yLGUuRk9HTU9ERV9MSU5FQVI9MyxlLk1pbkRlbHRhVGltZT0xLGUuTWF4RGVsdGFUaW1lPTFlMyxlfShOaSk7ZWUucHJvdG90eXBlLnNldEFjdGl2ZUNhbWVyYUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuc2V0QWN0aXZlQ2FtZXJhQnlJZChpKX0sZWUucHJvdG90eXBlLmdldExhc3RNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1hdGVyaWFsQnlJZChpKX0sZWUucHJvdG90eXBlLmdldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRNYXRlcmlhbEJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRUZXh0dXJlQnlVbmlxdWVJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRUZXh0dXJlQnlVbmlxdWVJZChpKX0sZWUucHJvdG90eXBlLmdldENhbWVyYUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0Q2FtZXJhQnlJZChpKX0sZWUucHJvdG90eXBlLmdldENhbWVyYUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0Q2FtZXJhQnlVbmlxdWVJZChpKX0sZWUucHJvdG90eXBlLmdldEJvbmVCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldEJvbmVCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TGlnaHRCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldExpZ2h0QnlJZChpKX0sZWUucHJvdG90eXBlLmdldExpZ2h0QnlVbmlxdWVJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRMaWdodEJ5VW5pcXVlSWQoaSl9LGVlLnByb3RvdHlwZS5nZXRQYXJ0aWNsZVN5c3RlbUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0UGFydGljbGVTeXN0ZW1CeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldEdlb21ldHJ5QnlJZChpKX0sZWUucHJvdG90eXBlLmdldE1lc2hCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1lc2hCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TWVzaGVzQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRNZXNoZXNCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJZChpKX0sZWUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVzQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRNZXNoQnlVbmlxdWVJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlVbmlxdWVJZChpKX0sZWUucHJvdG90eXBlLmdldExhc3RNZXNoQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRMYXN0TWVzaEJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRMYXN0RW50cnlCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldExhc3RFbnRyeUJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXROb2RlQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXROb2RlQnlJZChpKX0sZWUucHJvdG90eXBlLmdldExhc3RTa2VsZXRvbkJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TGFzdFNrZWxldG9uQnlJZChpKX07ZnVuY3Rpb24gcXIoaSxlLHQpe3RyeXt2YXIgcj1pLm5leHQoKTtyLmRvbmU/ZShyKTpyLnZhbHVlP3IudmFsdWUudGhlbihmdW5jdGlvbigpe3IudmFsdWU9dm9pZCAwLGUocil9LHQpOmUocil9Y2F0Y2gobil7dChuKX19ZnVuY3Rpb24gcGEoaSl7aT09PXZvaWQgMCYmKGk9MjUpO3ZhciBlO3JldHVybiBmdW5jdGlvbih0LHIsbil7dmFyIGE9cGVyZm9ybWFuY2Uubm93KCk7ZT09PXZvaWQgMHx8YS1lPmk/KGU9YSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cXIodCxyLG4pfSwwKSk6cXIodCxyLG4pfX1mdW5jdGlvbiAkaShpLGUsdCxyLG4pe3ZhciBhPWZ1bmN0aW9uKCl7dmFyIHMsbz1mdW5jdGlvbih1KXt1LmRvbmU/dCh1LnZhbHVlKTpzPT09dm9pZCAwP3M9ITA6YSgpfTtkbyBzPXZvaWQgMCwhbnx8IW4uYWJvcnRlZD9lKGksbyxyKTpyKG5ldyBFcnJvcigiQWJvcnRlZCIpKSxzPT09dm9pZCAwJiYocz0hMSk7d2hpbGUocyl9O2EoKX1mdW5jdGlvbiBRcihpLGUpe3ZhciB0O3JldHVybiAkaShpLHFyLGZ1bmN0aW9uKHIpe3JldHVybiB0PXJ9LGZ1bmN0aW9uKHIpe3Rocm93IHJ9LGUpLHR9ZnVuY3Rpb24gX2EoaSxlLHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4peyRpKGksZSxyLG4sdCl9KX1mdW5jdGlvbiBnYShpLGUpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gUXIoaS5hcHBseSh2b2lkIDAsdCksZSl9fXZhciB2YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX3NjZW5lUm9vdE5vZGVzSW5kZXg9LTEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMuX2lzUGFyZW50RW5hYmxlZD0hMCx0aGlzLl9pc1JlYWR5PSEwLHRoaXMuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25DbG9uZWRPYnNlcnZhYmxlPW5ldyBPfXJldHVybiBpfSgpLCRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3Q9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fbm9kZURhdGFTdG9yYWdlPW5ldyB2YSx0aGlzLnN0YXRlPSIiLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLl9yYW5nZXM9e30sdGhpcy5vblJlYWR5PW51bGwsdGhpcy5fY3VycmVudFJlbmRlcklkPS0xLHRoaXMuX3BhcmVudFVwZGF0ZUlkPS0xLHRoaXMuX2NoaWxkVXBkYXRlSWQ9LTEsdGhpcy5fd2FpdGluZ1BhcmVudElkPW51bGwsdGhpcy5fY2FjaGU9e30sdGhpcy5fcGFyZW50Tm9kZT1udWxsLHRoaXMuX2NoaWxkcmVuPW51bGwsdGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9MCx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9pc05vZGU9ITAsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fYmVoYXZpb3JzPW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlkPWUsdGhpcy5fc2NlbmU9dHx8cmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5faW5pdENhY2hlKCl9cmV0dXJuIGkuQWRkTm9kZUNvbnN0cnVjdG9yPWZ1bmN0aW9uKGUsdCl7dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXT10fSxpLkNvbnN0cnVjdD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdO3JldHVybiBhP2EodCxyLG4pOm51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG9Ob3RTZXJpYWxpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT8hMDp0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuZG9Ob3RTZXJpYWxpemU6ITF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicGFyZW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudE5vZGV9LHNldDpmdW5jdGlvbihlKXtpZih0aGlzLl9wYXJlbnROb2RlIT09ZSl7dmFyIHQ9dGhpcy5fcGFyZW50Tm9kZTtpZih0aGlzLl9wYXJlbnROb2RlJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PXZvaWQgMCYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT1udWxsKXt2YXIgcj10aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5pbmRleE9mKHRoaXMpO3IhPT0tMSYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4uc3BsaWNlKHIsMSksIWUmJiF0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQmJnRoaXMuX2FkZFRvU2NlbmVSb290Tm9kZXMoKX10aGlzLl9wYXJlbnROb2RlPWUsdGhpcy5fcGFyZW50Tm9kZSYmKCh0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PXZvaWQgMHx8dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49PT1udWxsKSYmKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPW5ldyBBcnJheSksdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4ucHVzaCh0aGlzKSx0fHx0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYWRkVG9TY2VuZVJvb3ROb2Rlcz1mdW5jdGlvbigpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD09PS0xJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PXRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5sZW5ndGgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnB1c2godGhpcykpfSxpLnByb3RvdHlwZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4IT09LTEpe3ZhciBlPXRoaXMuX3NjZW5lLnJvb3ROb2Rlcyx0PWUubGVuZ3RoLTE7ZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdPWVbdF0sZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4LHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wb3AoKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9LTF9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU/dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlOnRoaXMuX3NjZW5lLmFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJOb2RlIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkRpc3Bvc2UiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQ2xvbmVkT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uQ2xvbmVkT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRTY2VuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2VuZX0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfSxpLnByb3RvdHlwZS5hZGRCZWhhdmlvcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciBuPXRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpO3JldHVybiBuIT09LTE/dGhpczooZS5pbml0KCksdGhpcy5fc2NlbmUuaXNMb2FkaW5nJiYhdD90aGlzLl9zY2VuZS5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmFkZE9uY2UoZnVuY3Rpb24oKXtlLmF0dGFjaChyKX0pOmUuYXR0YWNoKHRoaXMpLHRoaXMuX2JlaGF2aW9ycy5wdXNoKGUpLHRoaXMpfSxpLnByb3RvdHlwZS5yZW1vdmVCZWhhdmlvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9iZWhhdmlvcnMuaW5kZXhPZihlKTtyZXR1cm4gdD09PS0xP3RoaXM6KHRoaXMuX2JlaGF2aW9yc1t0XS5kZXRhY2goKSx0aGlzLl9iZWhhdmlvcnMuc3BsaWNlKHQsMSksdGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYmVoYXZpb3JzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JlaGF2aW9yc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRCZWhhdmlvckJ5TmFtZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMuX2JlaGF2aW9yczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuLm5hbWU9PT1lKXJldHVybiBufXJldHVybiBudWxsfSxpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQhPT10aGlzLl9zY2VuZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4fSxpLnByb3RvdHlwZS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eSYmKHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSExLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9dGhpcy5fd29ybGRNYXRyaXguZGV0ZXJtaW5hbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fY2FjaGUucGFyZW50PXZvaWQgMH0saS5wcm90b3R5cGUudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oZSl7IWUmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKXx8KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLnBhcmVudCx0aGlzLl91cGRhdGVDYWNoZSgpKX0saS5wcm90b3R5cGUuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfSxpLnByb3RvdHlwZS5fdXBkYXRlQ2FjaGU9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0saS5wcm90b3R5cGUuX21hcmtTeW5jZWRXaXRoUGFyZW50PWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50Tm9kZSYmKHRoaXMuX3BhcmVudFVwZGF0ZUlkPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQpfSxpLnByb3RvdHlwZS5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLl9pc0RpcnR5fHx0aGlzLl9wYXJlbnRVcGRhdGVJZCE9PXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQ/ITE6dGhpcy5fcGFyZW50Tm9kZS5pc1N5bmNocm9uaXplZCgpOiEwfSxpLnByb3RvdHlwZS5pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZS5wYXJlbnQhPT10aGlzLl9wYXJlbnROb2RlPyh0aGlzLl9jYWNoZS5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSwhMSk6dGhpcy5fcGFyZW50Tm9kZSYmIXRoaXMuaXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCk/ITE6dGhpcy5faXNTeW5jaHJvbml6ZWQoKX0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5fSxpLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfSxpLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSEwKSxlPT09ITE/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ6dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ6ITF9LGkucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ9dGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLmlzRW5hYmxlZCgpOiEwLHRoaXMuX2NoaWxkcmVuJiZ0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX0pfSxpLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkIT09ZSYmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkPWUsdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCkpfSxpLnByb3RvdHlwZS5pc0Rlc2NlbmRhbnRPZj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQ9PT1lPyEwOnRoaXMucGFyZW50LmlzRGVzY2VuZGFudE9mKGUpOiExfSxpLnByb3RvdHlwZS5fZ2V0RGVzY2VuZGFudHM9ZnVuY3Rpb24oZSx0LHIpe2lmKHQ9PT12b2lkIDAmJih0PSExKSwhIXRoaXMuX2NoaWxkcmVuKWZvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIGE9dGhpcy5fY2hpbGRyZW5bbl07KCFyfHxyKGEpKSYmZS5wdXNoKGEpLHR8fGEuX2dldERlc2NlbmRhbnRzKGUsITEscil9fSxpLnByb3RvdHlwZS5nZXREZXNjZW5kYW50cz1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMocixlLHQpLHJ9LGkucHJvdG90eXBlLmdldENoaWxkTWVzaGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKHIsZSxmdW5jdGlvbihuKXtyZXR1cm4oIXR8fHQobikpJiZuLmN1bGxpbmdTdHJhdGVneSE9PXZvaWQgMH0pLHJ9LGkucHJvdG90eXBlLmdldENoaWxkcmVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSx0aGlzLmdldERlc2NlbmRhbnRzKHQsZSl9LGkucHJvdG90eXBlLl9zZXRSZWFkeT1mdW5jdGlvbihlKXtpZihlIT09dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5KXtpZighZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5PSExO3JldHVybn10aGlzLm9uUmVhZHkmJnRoaXMub25SZWFkeSh0aGlzKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITB9fSxpLnByb3RvdHlwZS5nZXRBbmltYXRpb25CeU5hbWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5hbmltYXRpb25zW3RdO2lmKHIubmFtZT09PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLmNyZWF0ZUFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUsdCxyKXtpZighdGhpcy5fcmFuZ2VzW2VdKXt0aGlzLl9yYW5nZXNbZV09aS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5KGUsdCxyKTtmb3IodmFyIG49MCxhPXRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7bjxhO24rKyl0aGlzLmFuaW1hdGlvbnNbbl0mJnRoaXMuYW5pbWF0aW9uc1tuXS5jcmVhdGVSYW5nZShlLHQscil9fSxpLnByb3RvdHlwZS5kZWxldGVBbmltYXRpb25SYW5nZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSEwKTtmb3IodmFyIHI9MCxuPXRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7cjxuO3IrKyl0aGlzLmFuaW1hdGlvbnNbcl0mJnRoaXMuYW5pbWF0aW9uc1tyXS5kZWxldGVSYW5nZShlLHQpO3RoaXMuX3Jhbmdlc1tlXT1udWxsfSxpLnByb3RvdHlwZS5nZXRBbmltYXRpb25SYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcmFuZ2VzW2VdfHxudWxsfSxpLnByb3RvdHlwZS5nZXRBbmltYXRpb25SYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0O2Zvcih0IGluIHRoaXMuX3JhbmdlcyllLnB1c2godGhpcy5fcmFuZ2VzW3RdKTtyZXR1cm4gZX0saS5wcm90b3R5cGUuYmVnaW5BbmltYXRpb249ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5nZXRBbmltYXRpb25SYW5nZShlKTtyZXR1cm4gYT90aGlzLl9zY2VuZS5iZWdpbkFuaW1hdGlvbih0aGlzLGEuZnJvbSxhLnRvLHQscixuKTpudWxsfSxpLnByb3RvdHlwZS5zZXJpYWxpemVBbmltYXRpb25SYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gdGhpcy5fcmFuZ2VzKXt2YXIgcj10aGlzLl9yYW5nZXNbdF07aWYoISFyKXt2YXIgbj17fTtuLm5hbWU9dCxuLmZyb209ci5mcm9tLG4udG89ci50byxlLnB1c2gobil9fXJldHVybiBlfSxpLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQ9ITAsIWUpZm9yKHZhciByPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApLG49MCxhPXI7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5kaXNwb3NlKGUsdCl9dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQ9bnVsbDp0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLmNsZWFyKCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWhhdmlvcnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5kZXRhY2goKX10aGlzLl9iZWhhdmlvcnM9W10sdGhpcy5tZXRhZGF0YT1udWxsfSxpLlBhcnNlQW5pbWF0aW9uUmFuZ2VzPWZ1bmN0aW9uKGUsdCxyKXtpZih0LnJhbmdlcylmb3IodmFyIG49MDtuPHQucmFuZ2VzLmxlbmd0aDtuKyspe3ZhciBhPXQucmFuZ2VzW25dO2UuY3JlYXRlQW5pbWF0aW9uUmFuZ2UoYS5uYW1lLGEuZnJvbSxhLnRvKX19LGkucHJvdG90eXBlLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycz1mdW5jdGlvbihlLHQpe2U9PT12b2lkIDAmJihlPSEwKSx0PT09dm9pZCAwJiYodD1udWxsKSx0aGlzLmdldFNjZW5lKCkuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7dmFyIHIsbixhPXRoaXM7aWYoYS5nZXRCb3VuZGluZ0luZm8mJmEuc3ViTWVzaGVzKXt2YXIgcz1hLmdldEJvdW5kaW5nSW5mbygpO3I9cy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQuY2xvbmUoKSxuPXMuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLmNsb25lKCl9ZWxzZSByPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBiKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtpZihlKWZvcih2YXIgbz10aGlzLmdldERlc2NlbmRhbnRzKCExKSx1PTAsZj1vO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdLGg9bDtpZihoLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksISh0JiYhdChoKSkmJiEoIWguZ2V0Qm91bmRpbmdJbmZvfHxoLmdldFRvdGFsVmVydGljZXMoKT09PTApKXt2YXIgYz1oLmdldEJvdW5kaW5nSW5mbygpLGQ9Yy5ib3VuZGluZ0JveCxwPWQubWluaW11bVdvcmxkLGc9ZC5tYXhpbXVtV29ybGQ7Yi5DaGVja0V4dGVuZHMocCxyLG4pLGIuQ2hlY2tFeHRlbmRzKGcscixuKX19cmV0dXJue21pbjpyLG1heDpufX0saS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5PWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBYKCJBbmltYXRpb25SYW5nZSIpfSxpLl9Ob2RlQ29uc3RydWN0b3JzPXt9LFQoW1AoKV0saS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCksaX0oKSxnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9hcHBseVRvPWdhKHRoaXMuX2FwcGx5VG9Db3JvdXRpbmUuYmluZCh0aGlzKSl9cmV0dXJuIGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3N3aXRjaChlLmxlbmd0aHx8ay5XYXJuKCJTZXR0aW5nIHZlcnRleCBkYXRhIGtpbmQgJyIuY29uY2F0KHQsIicgd2l0aCBhbiBlbXB0eSBhcnJheSIpKSx0KXtjYXNlIG0uUG9zaXRpb25LaW5kOnRoaXMucG9zaXRpb25zPWU7YnJlYWs7Y2FzZSBtLk5vcm1hbEtpbmQ6dGhpcy5ub3JtYWxzPWU7YnJlYWs7Y2FzZSBtLlRhbmdlbnRLaW5kOnRoaXMudGFuZ2VudHM9ZTticmVhaztjYXNlIG0uVVZLaW5kOnRoaXMudXZzPWU7YnJlYWs7Y2FzZSBtLlVWMktpbmQ6dGhpcy51dnMyPWU7YnJlYWs7Y2FzZSBtLlVWM0tpbmQ6dGhpcy51dnMzPWU7YnJlYWs7Y2FzZSBtLlVWNEtpbmQ6dGhpcy51dnM0PWU7YnJlYWs7Y2FzZSBtLlVWNUtpbmQ6dGhpcy51dnM1PWU7YnJlYWs7Y2FzZSBtLlVWNktpbmQ6dGhpcy51dnM2PWU7YnJlYWs7Y2FzZSBtLkNvbG9yS2luZDp0aGlzLmNvbG9ycz1lO2JyZWFrO2Nhc2UgbS5NYXRyaWNlc0luZGljZXNLaW5kOnRoaXMubWF0cmljZXNJbmRpY2VzPWU7YnJlYWs7Y2FzZSBtLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHM9ZTticmVhaztjYXNlIG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOnRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9ZTticmVhaztjYXNlIG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kOnRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZTticmVha319LGkucHJvdG90eXBlLmFwcGx5VG9NZXNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2FwcGx5VG8oZSx0LCExKSx0aGlzfSxpLnByb3RvdHlwZS5hcHBseVRvR2VvbWV0cnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9LGkucHJvdG90eXBlLnVwZGF0ZU1lc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfSxpLnByb3RvdHlwZS51cGRhdGVHZW9tZXRyeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9LGkucHJvdG90eXBlLl9hcHBseVRvQ29yb3V0aW5lPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLEZ0KHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5wb3NpdGlvbnM/KGUuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQpLHI/WzRdOlszLDJdKTpbMywyXTtjYXNlIDE6bi5zZW50KCksbi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdGhpcy5ub3JtYWxzPyhlLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQpLHI/WzRdOlszLDRdKTpbMyw0XTtjYXNlIDM6bi5zZW50KCksbi5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGhpcy50YW5nZW50cz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQpLHI/WzRdOlszLDZdKTpbMyw2XTtjYXNlIDU6bi5zZW50KCksbi5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gdGhpcy51dnM/KGUuc2V0VmVydGljZXNEYXRhKG0uVVZLaW5kLHRoaXMudXZzLHQpLHI/WzRdOlszLDhdKTpbMyw4XTtjYXNlIDc6bi5zZW50KCksbi5sYWJlbD04O2Nhc2UgODpyZXR1cm4gdGhpcy51dnMyPyhlLnNldFZlcnRpY2VzRGF0YShtLlVWMktpbmQsdGhpcy51dnMyLHQpLHI/WzRdOlszLDEwXSk6WzMsMTBdO2Nhc2UgOTpuLnNlbnQoKSxuLmxhYmVsPTEwO2Nhc2UgMTA6cmV0dXJuIHRoaXMudXZzMz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kLHRoaXMudXZzMyx0KSxyP1s0XTpbMywxMl0pOlszLDEyXTtjYXNlIDExOm4uc2VudCgpLG4ubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm4gdGhpcy51dnM0PyhlLnNldFZlcnRpY2VzRGF0YShtLlVWNEtpbmQsdGhpcy51dnM0LHQpLHI/WzRdOlszLDE0XSk6WzMsMTRdO2Nhc2UgMTM6bi5zZW50KCksbi5sYWJlbD0xNDtjYXNlIDE0OnJldHVybiB0aGlzLnV2czU/KGUuc2V0VmVydGljZXNEYXRhKG0uVVY1S2luZCx0aGlzLnV2czUsdCkscj9bNF06WzMsMTZdKTpbMywxNl07Y2FzZSAxNTpuLnNlbnQoKSxuLmxhYmVsPTE2O2Nhc2UgMTY6cmV0dXJuIHRoaXMudXZzNj8oZS5zZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kLHRoaXMudXZzNix0KSxyP1s0XTpbMywxOF0pOlszLDE4XTtjYXNlIDE3Om4uc2VudCgpLG4ubGFiZWw9MTg7Y2FzZSAxODpyZXR1cm4gdGhpcy5jb2xvcnM/KGUuc2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQpLHI/WzRdOlszLDIwXSk6WzMsMjBdO2Nhc2UgMTk6bi5zZW50KCksbi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlcz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLHQpLHI/WzRdOlszLDIyXSk6WzMsMjJdO2Nhc2UgMjE6bi5zZW50KCksbi5sYWJlbD0yMjtjYXNlIDIyOnJldHVybiB0aGlzLm1hdHJpY2VzV2VpZ2h0cz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQpLHI/WzRdOlszLDI0XSk6WzMsMjRdO2Nhc2UgMjM6bi5zZW50KCksbi5sYWJlbD0yNDtjYXNlIDI0OnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPyhlLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQpLHI/WzRdOlszLDI2XSk6WzMsMjZdO2Nhc2UgMjU6bi5zZW50KCksbi5sYWJlbD0yNjtjYXNlIDI2OnJldHVybiB0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPyhlLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLHQpLHI/WzRdOlszLDI4XSk6WzMsMjhdO2Nhc2UgMjc6bi5zZW50KCksbi5sYWJlbD0yODtjYXNlIDI4OnJldHVybiB0aGlzLmluZGljZXM/KGUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCx0KSxyP1s0XTpbMywzMF0pOlszLDMxXTtjYXNlIDI5Om4uc2VudCgpLG4ubGFiZWw9MzA7Y2FzZSAzMDpyZXR1cm5bMywzMl07Y2FzZSAzMTplLnNldEluZGljZXMoW10sbnVsbCksbi5sYWJlbD0zMjtjYXNlIDMyOnJldHVyblsyLHRoaXNdfX0pfSxpLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQsciksdGhpcy5ub3JtYWxzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQsciksdGhpcy50YW5nZW50cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQsciksdGhpcy51dnMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVZLaW5kLHRoaXMudXZzLHQsciksdGhpcy51dnMyJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWMktpbmQsdGhpcy51dnMyLHQsciksdGhpcy51dnMzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWM0tpbmQsdGhpcy51dnMzLHQsciksdGhpcy51dnM0JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWNEtpbmQsdGhpcy51dnM0LHQsciksdGhpcy51dnM1JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWNUtpbmQsdGhpcy51dnM1LHQsciksdGhpcy51dnM2JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWNktpbmQsdGhpcy51dnM2LHQsciksdGhpcy5jb2xvcnMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQsciksdGhpcy5tYXRyaWNlc0luZGljZXMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyx0LHIpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCxyKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQsciksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSx0LHIpLHRoaXMuaW5kaWNlcyYmZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsKSx0aGlzfSxpLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1yO288cituO28rPTMpYi5Gcm9tQXJyYXlUb1JlZihlLG8sYSksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGEsdCxzKSxlW29dPXMueCxlW28rMV09cy55LGVbbysyXT1zLnp9LGkuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPWUubGVuZ3RoKTtmb3IodmFyIGE9RC5WZWN0b3IzWzBdLHM9RC5WZWN0b3IzWzFdLG89cjtvPHIrbjtvKz0zKWIuRnJvbUFycmF5VG9SZWYoZSxvLGEpLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSx0LHMpLGVbb109cy54LGVbbysxXT1zLnksZVtvKzJdPXMuen0saS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHM9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgYT1ELlZlY3RvcjRbMF0scz1ELlZlY3RvcjRbMV0sbz1yO288cituO28rPTQpbXQuRnJvbUFycmF5VG9SZWYoZSxvLGEpLG10LlRyYW5zZm9ybU5vcm1hbFRvUmVmKGEsdCxzKSxlW29dPXMueCxlW28rMV09cy55LGVbbysyXT1zLnosZVtvKzNdPXMud30saS5fRmxpcEZhY2VzPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj1lLmxlbmd0aCk7Zm9yKHZhciBuPXQ7bjx0K3I7bis9Myl7dmFyIGE9ZVtuKzFdO2VbbisxXT1lW24rMl0sZVtuKzJdPWF9fSxpLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRlcm1pbmFudCgpPDA7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZpLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXModGhpcy5wb3NpdGlvbnMsZSksdGhpcy5ub3JtYWxzJiZpLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyh0aGlzLm5vcm1hbHMsZSksdGhpcy50YW5nZW50cyYmaS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHModGhpcy50YW5nZW50cyxlKSx0JiZ0aGlzLmluZGljZXMmJmkuX0ZsaXBGYWNlcyh0aGlzLmluZGljZXMpLHRoaXN9LGkucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPUFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuW2Esdm9pZCAwXX0pOltbZSx2b2lkIDBdXTtyZXR1cm4gUXIodGhpcy5fbWVyZ2VDb3JvdXRpbmUodm9pZCAwLG4sdCwhMSxyKSl9LGkucHJvdG90eXBlLl9tZXJnZUNvcm91dGluZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzLG8sdSx5LGYsbCxoLGMsZCxwLGcsXyx2LHksRSxSLE09dGhpcyxDLEEsUyx3O3JldHVybiByPT09dm9pZCAwJiYocj0hMSksRnQodGhpcyxmdW5jdGlvbihGKXtzd2l0Y2goRi5sYWJlbCl7Y2FzZSAwOmZvcih0aGlzLl92YWxpZGF0ZSgpLHM9dC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuIHhbMF19KSxvPTAsdT1zO288dS5sZW5ndGg7bysrKWlmKHk9dVtvXSx5Ll92YWxpZGF0ZSgpLCF0aGlzLm5vcm1hbHMhPSF5Lm5vcm1hbHN8fCF0aGlzLnRhbmdlbnRzIT0heS50YW5nZW50c3x8IXRoaXMudXZzIT0heS51dnN8fCF0aGlzLnV2czIhPSF5LnV2czJ8fCF0aGlzLnV2czMhPSF5LnV2czN8fCF0aGlzLnV2czQhPSF5LnV2czR8fCF0aGlzLnV2czUhPSF5LnV2czV8fCF0aGlzLnV2czYhPSF5LnV2czZ8fCF0aGlzLmNvbG9ycyE9IXkuY29sb3JzfHwhdGhpcy5tYXRyaWNlc0luZGljZXMhPSF5Lm1hdHJpY2VzSW5kaWNlc3x8IXRoaXMubWF0cmljZXNXZWlnaHRzIT0heS5tYXRyaWNlc1dlaWdodHN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhIT0heS5tYXRyaWNlc0luZGljZXNFeHRyYXx8IXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEhPSF5Lm1hdHJpY2VzV2VpZ2h0c0V4dHJhKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG1lcmdlIHZlcnRleCBkYXRhIHRoYXQgZG8gbm90IGhhdmUgdGhlIHNhbWUgc2V0IG9mIGF0dHJpYnV0ZXMiKTtpZihmPXMucmVkdWNlKGZ1bmN0aW9uKHgsRyl7dmFyIFcsTjtyZXR1cm4geCsoKE49KFc9Ry5pbmRpY2VzKT09PW51bGx8fFc9PT12b2lkIDA/dm9pZCAwOlcubGVuZ3RoKSE9PW51bGwmJk4hPT12b2lkIDA/TjowKX0sKEE9KEM9dGhpcy5pbmRpY2VzKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMubGVuZ3RoKSE9PW51bGwmJkEhPT12b2lkIDA/QTowKSxsPWF8fHMuc29tZShmdW5jdGlvbih4KXtyZXR1cm4geC5pbmRpY2VzPT09TS5pbmRpY2VzfSksaD1sPyhTPXRoaXMuaW5kaWNlcyk9PT1udWxsfHxTPT09dm9pZCAwP3ZvaWQgMDpTLnNsaWNlKCk6dGhpcy5pbmRpY2VzLCEoZj4wKSlyZXR1cm5bMyw0XTtjPSh3PWg9PW51bGw/dm9pZCAwOmgubGVuZ3RoKSE9PW51bGwmJnchPT12b2lkIDA/dzowLGh8fChoPW5ldyBBcnJheShmKSksaC5sZW5ndGghPT1mJiYoQXJyYXkuaXNBcnJheShoKT9oLmxlbmd0aD1mOihkPXJ8fGggaW5zdGFuY2VvZiBVaW50MzJBcnJheT9uZXcgVWludDMyQXJyYXkoZik6bmV3IFVpbnQxNkFycmF5KGYpLGQuc2V0KGgpLGg9ZCksZSYmZS5kZXRlcm1pbmFudCgpPDAmJmkuX0ZsaXBGYWNlcyhoLDAsYykpLHA9dGhpcy5wb3NpdGlvbnM/dGhpcy5wb3NpdGlvbnMubGVuZ3RoLzM6MCxnPTAsXz10LEYubGFiZWw9MTtjYXNlIDE6aWYoIShnPF8ubGVuZ3RoKSlyZXR1cm5bMyw0XTtpZih2PV9bZ10seT12WzBdLEU9dlsxXSwheS5pbmRpY2VzKXJldHVyblszLDNdO2ZvcihSPTA7Ujx5LmluZGljZXMubGVuZ3RoO1IrKyloW2MrUl09eS5pbmRpY2VzW1JdK3A7cmV0dXJuIEUmJkUuZGV0ZXJtaW5hbnQoKTwwJiZpLl9GbGlwRmFjZXMoaCxjLHkuaW5kaWNlcy5sZW5ndGgpLHArPXkucG9zaXRpb25zLmxlbmd0aC8zLGMrPXkuaW5kaWNlcy5sZW5ndGgsbj9bNF06WzMsM107Y2FzZSAyOkYuc2VudCgpLEYubGFiZWw9MztjYXNlIDM6cmV0dXJuIGcrKyxbMywxXTtjYXNlIDQ6cmV0dXJuIHRoaXMuaW5kaWNlcz1oLHRoaXMucG9zaXRpb25zPWkuX01lcmdlRWxlbWVudChtLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnBvc2l0aW9ucyx4WzFdXX0pKSxuP1s0XTpbMyw2XTtjYXNlIDU6Ri5zZW50KCksRi5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gdGhpcy5ub3JtYWxzPWkuX01lcmdlRWxlbWVudChtLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubm9ybWFscyx4WzFdXX0pKSxuP1s0XTpbMyw4XTtjYXNlIDc6Ri5zZW50KCksRi5sYWJlbD04O2Nhc2UgODpyZXR1cm4gdGhpcy50YW5nZW50cz1pLl9NZXJnZUVsZW1lbnQobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udGFuZ2VudHMseFsxXV19KSksbj9bNF06WzMsMTBdO2Nhc2UgOTpGLnNlbnQoKSxGLmxhYmVsPTEwO2Nhc2UgMTA6cmV0dXJuIHRoaXMudXZzPWkuX01lcmdlRWxlbWVudChtLlVWS2luZCx0aGlzLnV2cyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2cyx4WzFdXX0pKSxuP1s0XTpbMywxMl07Y2FzZSAxMTpGLnNlbnQoKSxGLmxhYmVsPTEyO2Nhc2UgMTI6cmV0dXJuIHRoaXMudXZzMj1pLl9NZXJnZUVsZW1lbnQobS5VVjJLaW5kLHRoaXMudXZzMixlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2czIseFsxXV19KSksbj9bNF06WzMsMTRdO2Nhc2UgMTM6Ri5zZW50KCksRi5sYWJlbD0xNDtjYXNlIDE0OnJldHVybiB0aGlzLnV2czM9aS5fTWVyZ2VFbGVtZW50KG0uVVYzS2luZCx0aGlzLnV2czMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS51dnMzLHhbMV1dfSkpLG4/WzRdOlszLDE2XTtjYXNlIDE1OkYuc2VudCgpLEYubGFiZWw9MTY7Y2FzZSAxNjpyZXR1cm4gdGhpcy51dnM0PWkuX01lcmdlRWxlbWVudChtLlVWNEtpbmQsdGhpcy51dnM0LGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udXZzNCx4WzFdXX0pKSxuP1s0XTpbMywxOF07Y2FzZSAxNzpGLnNlbnQoKSxGLmxhYmVsPTE4O2Nhc2UgMTg6cmV0dXJuIHRoaXMudXZzNT1pLl9NZXJnZUVsZW1lbnQobS5VVjVLaW5kLHRoaXMudXZzNSxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2czUseFsxXV19KSksbj9bNF06WzMsMjBdO2Nhc2UgMTk6Ri5zZW50KCksRi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiB0aGlzLnV2czY9aS5fTWVyZ2VFbGVtZW50KG0uVVY2S2luZCx0aGlzLnV2czYsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS51dnM2LHhbMV1dfSkpLG4/WzRdOlszLDIyXTtjYXNlIDIxOkYuc2VudCgpLEYubGFiZWw9MjI7Y2FzZSAyMjpyZXR1cm4gdGhpcy5jb2xvcnM9aS5fTWVyZ2VFbGVtZW50KG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0uY29sb3JzLHhbMV1dfSkpLG4/WzRdOlszLDI0XTtjYXNlIDIzOkYuc2VudCgpLEYubGFiZWw9MjQ7Y2FzZSAyNDpyZXR1cm4gdGhpcy5tYXRyaWNlc0luZGljZXM9aS5fTWVyZ2VFbGVtZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLm1hdHJpY2VzSW5kaWNlcyx4WzFdXX0pKSxuP1s0XTpbMywyNl07Y2FzZSAyNTpGLnNlbnQoKSxGLmxhYmVsPTI2O2Nhc2UgMjY6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzPWkuX01lcmdlRWxlbWVudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS5tYXRyaWNlc1dlaWdodHMseFsxXV19KSksbj9bNF06WzMsMjhdO2Nhc2UgMjc6Ri5zZW50KCksRi5sYWJlbD0yODtjYXNlIDI4OnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWkuX01lcmdlRWxlbWVudChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubWF0cmljZXNJbmRpY2VzRXh0cmEseFsxXV19KSksbj9bNF06WzMsMzBdO2Nhc2UgMjk6Ri5zZW50KCksRi5sYWJlbD0zMDtjYXNlIDMwOnJldHVybiB0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWkuX01lcmdlRWxlbWVudChtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubWF0cmljZXNXZWlnaHRzRXh0cmEseFsxXV19KSksWzIsdGhpc119fSl9LGkuX01lcmdlRWxlbWVudD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uLmZpbHRlcihmdW5jdGlvbihNKXtyZXR1cm4gTVswXSE9PW51bGwmJk1bMF0hPT12b2lkIDB9KTtpZighdCYmYS5sZW5ndGg9PTApcmV0dXJuIHQ7aWYoIXQpcmV0dXJuIHRoaXMuX01lcmdlRWxlbWVudChlLGFbMF1bMF0sYVswXVsxXSxhLnNsaWNlKDEpKTt2YXIgcz1hLnJlZHVjZShmdW5jdGlvbihNLEMpe3JldHVybiBNK0NbMF0ubGVuZ3RofSx0Lmxlbmd0aCksbz1lPT09bS5Qb3NpdGlvbktpbmQ/aS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzOmU9PT1tLk5vcm1hbEtpbmQ/aS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM6ZT09PW0uVGFuZ2VudEtpbmQ/aS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHM6ZnVuY3Rpb24oKXt9O2lmKHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe3ZhciB1PW5ldyBGbG9hdDMyQXJyYXkocyk7dS5zZXQodCksciYmbyh1LHIsMCx0Lmxlbmd0aCk7Zm9yKHZhciBmPXQubGVuZ3RoLGw9MCxoPWE7bDxoLmxlbmd0aDtsKyspe3ZhciBjPWhbbF0sZD1jWzBdLHA9Y1sxXTt1LnNldChkLGYpLHAmJm8odSxwLGYsZC5sZW5ndGgpLGYrPWQubGVuZ3RofXJldHVybiB1fWVsc2V7Zm9yKHZhciBnPW5ldyBBcnJheShzKSxfPTA7Xzx0Lmxlbmd0aDtfKyspZ1tfXT10W19dO3ImJm8oZyxyLDAsdC5sZW5ndGgpO2Zvcih2YXIgZj10Lmxlbmd0aCx2PTAseT1hO3Y8eS5sZW5ndGg7disrKXtmb3IodmFyIEU9eVt2XSxkPUVbMF0sUj1FWzFdLF89MDtfPGQubGVuZ3RoO18rKylnW2YrX109ZFtfXTtSJiZvKGcsUixmLGQubGVuZ3RoKSxmKz1kLmxlbmd0aH1yZXR1cm4gZ319LGkucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbigpe2lmKCF0aGlzLnBvc2l0aW9ucyl0aHJvdyBuZXcgeHQoIlBvc2l0aW9ucyBhcmUgcmVxdWlyZWQiLEN0Lk1lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3IpO3ZhciBlPWZ1bmN0aW9uKG4sYSl7dmFyIHM9bS5EZWR1Y2VTdHJpZGUobik7aWYoYS5sZW5ndGglcyE9PTApdGhyb3cgbmV3IEVycm9yKCJUaGUgIituKyJzIGFycmF5IGNvdW50IG11c3QgYmUgYSBtdWx0aXBsZSBvZiAiK3MpO3JldHVybiBhLmxlbmd0aC9zfSx0PWUobS5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMpLHI9ZnVuY3Rpb24obixhKXt2YXIgcz1lKG4sYSk7aWYocyE9PXQpdGhyb3cgbmV3IEVycm9yKCJUaGUgIituKyJzIGVsZW1lbnQgY291bnQgKCIrcysiKSBkb2VzIG5vdCBtYXRjaCB0aGUgcG9zaXRpb25zIGNvdW50ICgiK3QrIikiKX07dGhpcy5ub3JtYWxzJiZyKG0uTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJnIobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmcihtLlVWS2luZCx0aGlzLnV2cyksdGhpcy51dnMyJiZyKG0uVVYyS2luZCx0aGlzLnV2czIpLHRoaXMudXZzMyYmcihtLlVWM0tpbmQsdGhpcy51dnMzKSx0aGlzLnV2czQmJnIobS5VVjRLaW5kLHRoaXMudXZzNCksdGhpcy51dnM1JiZyKG0uVVY1S2luZCx0aGlzLnV2czUpLHRoaXMudXZzNiYmcihtLlVWNktpbmQsdGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmcihtLkNvbG9yS2luZCx0aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJnIobS5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmcihtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJnIobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmcihtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5wb3NpdGlvbnM9dGhpcy5wb3NpdGlvbnMpLHRoaXMubm9ybWFscyYmKGUubm9ybWFscz10aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJihlLnRhbmdlbnRzPXRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiYoZS51dnM9dGhpcy51dnMpLHRoaXMudXZzMiYmKGUudXZzMj10aGlzLnV2czIpLHRoaXMudXZzMyYmKGUudXZzMz10aGlzLnV2czMpLHRoaXMudXZzNCYmKGUudXZzND10aGlzLnV2czQpLHRoaXMudXZzNSYmKGUudXZzNT10aGlzLnV2czUpLHRoaXMudXZzNiYmKGUudXZzNj10aGlzLnV2czYpLHRoaXMuY29sb3JzJiYoZS5jb2xvcnM9dGhpcy5jb2xvcnMpLHRoaXMubWF0cmljZXNJbmRpY2VzJiYoZS5tYXRyaWNlc0luZGljZXM9dGhpcy5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhPXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUubWF0cmljZXNXZWlnaHRzRXh0cmE9dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSksZS5pbmRpY2VzPXRoaXMuaW5kaWNlcyxlfSxpLkV4dHJhY3RGcm9tTWVzaD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuX0V4dHJhY3RGcm9tKGUsdCxyKX0saS5FeHRyYWN0RnJvbUdlb21ldHJ5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5fRXh0cmFjdEZyb20oZSx0LHIpfSxpLl9FeHRyYWN0RnJvbT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uUG9zaXRpb25LaW5kKSYmKG4ucG9zaXRpb25zPWUuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCkmJihuLm5vcm1hbHM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVGFuZ2VudEtpbmQpJiYobi50YW5nZW50cz1lLmdldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSYmKG4udXZzPWUuZ2V0VmVydGljZXNEYXRhKG0uVVZLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJihuLnV2czI9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjJLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYzS2luZCkmJihuLnV2czM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY0S2luZCkmJihuLnV2czQ9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjRLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY1S2luZCkmJihuLnV2czU9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjVLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY2S2luZCkmJihuLnV2czY9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uQ29sb3JLaW5kKSYmKG4uY29sb3JzPWUuZ2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCkmJihuLm1hdHJpY2VzSW5kaWNlcz1lLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKG4ubWF0cmljZXNXZWlnaHRzPWUuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0LHIpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCkmJihuLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSYmKG4ubWF0cmljZXNXZWlnaHRzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdCxyKSksbi5pbmRpY2VzPWUuZ2V0SW5kaWNlcyh0LHIpLG59LGkuQ3JlYXRlUmliYm9uPWZ1bmN0aW9uKGUpe3Rocm93IFgoInJpYmJvbkJ1aWxkZXIiKX0saS5DcmVhdGVCb3g9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiYm94QnVpbGRlciIpfSxpLkNyZWF0ZVRpbGVkQm94PWZ1bmN0aW9uKGUpe3Rocm93IFgoInRpbGVkQm94QnVpbGRlciIpfSxpLkNyZWF0ZVRpbGVkUGxhbmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgidGlsZWRQbGFuZUJ1aWxkZXIiKX0saS5DcmVhdGVTcGhlcmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgic3BoZXJlQnVpbGRlciIpfSxpLkNyZWF0ZUN5bGluZGVyPWZ1bmN0aW9uKGUpe3Rocm93IFgoImN5bGluZGVyQnVpbGRlciIpfSxpLkNyZWF0ZVRvcnVzPWZ1bmN0aW9uKGUpe3Rocm93IFgoInRvcnVzQnVpbGRlciIpfSxpLkNyZWF0ZUxpbmVTeXN0ZW09ZnVuY3Rpb24oZSl7dGhyb3cgWCgibGluZXNCdWlsZGVyIil9LGkuQ3JlYXRlRGFzaGVkTGluZXM9ZnVuY3Rpb24oZSl7dGhyb3cgWCgibGluZXNCdWlsZGVyIil9LGkuQ3JlYXRlR3JvdW5kPWZ1bmN0aW9uKGUpe3Rocm93IFgoImdyb3VuZEJ1aWxkZXIiKX0saS5DcmVhdGVUaWxlZEdyb3VuZD1mdW5jdGlvbihlKXt0aHJvdyBYKCJncm91bmRCdWlsZGVyIil9LGkuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD1mdW5jdGlvbihlKXt0aHJvdyBYKCJncm91bmRCdWlsZGVyIil9LGkuQ3JlYXRlUGxhbmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgicGxhbmVCdWlsZGVyIil9LGkuQ3JlYXRlRGlzYz1mdW5jdGlvbihlKXt0aHJvdyBYKCJkaXNjQnVpbGRlciIpfSxpLkNyZWF0ZVBvbHlnb249ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dGhyb3cgWCgicG9seWdvbkJ1aWxkZXIiKX0saS5DcmVhdGVJY29TcGhlcmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiaWNvU3BoZXJlQnVpbGRlciIpfSxpLkNyZWF0ZVBvbHloZWRyb249ZnVuY3Rpb24oZSl7dGhyb3cgWCgicG9seWhlZHJvbkJ1aWxkZXIiKX0saS5DcmVhdGVDYXBzdWxlPWZ1bmN0aW9uKGUpe3Rocm93IGU9PT12b2lkIDAmJihlPXtvcmllbnRhdGlvbjpiLlVwKCksc3ViZGl2aXNpb25zOjIsdGVzc2VsbGF0aW9uOjE2LGhlaWdodDoxLHJhZGl1czouMjUsY2FwU3ViZGl2aXNpb25zOjZ9KSxYKCJjYXBzdWxlQnVpbGRlciIpfSxpLkNyZWF0ZVRvcnVzS25vdD1mdW5jdGlvbihlKXt0aHJvdyBYKCJ0b3J1c0tub3RCdWlsZGVyIil9LGkuQ29tcHV0ZU5vcm1hbHM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9MCxzPTAsbz0wLHU9MCxmPTAsbD0wLGg9MCxjPTAsZD0wLHA9MCxnPTAsXz0wLHY9MCx5PTAsRT0wLFI9MCxNPTAsQz0wLEE9MCxTPTAsdz0hMSxGPSExLHg9ITEsRz0hMSxXPTEsTj0wLHE9bnVsbDtuJiYodz0hIW4uZmFjZXROb3JtYWxzLEY9ISFuLmZhY2V0UG9zaXRpb25zLHg9ISFuLmZhY2V0UGFydGl0aW9uaW5nLFc9bi51c2VSaWdodEhhbmRlZFN5c3RlbT09PSEwPy0xOjEsTj1uLnJhdGlvfHwwLEc9ISFuLmRlcHRoU29ydCxxPW4uZGlzdGFuY2VUbyxHJiZxPT09dm9pZCAwJiYocT1iLlplcm8oKSkpO3ZhciAkPTAsb2U9MCxaPTAsaj0wO2Zvcih4JiZuJiZuLmJiU2l6ZSYmKCQ9bi5zdWJEaXYuWCpOL24uYmJTaXplLngsb2U9bi5zdWJEaXYuWSpOL24uYmJTaXplLnksWj1uLnN1YkRpdi5aKk4vbi5iYlNpemUueixqPW4uc3ViRGl2Lm1heCpuLnN1YkRpdi5tYXgsbi5mYWNldFBhcnRpdGlvbmluZy5sZW5ndGg9MCksYT0wO2E8ZS5sZW5ndGg7YSsrKXJbYV09MDt2YXIgdWU9dC5sZW5ndGgvM3wwO2ZvcihhPTA7YTx1ZTthKyspe2lmKF89dFthKjNdKjMsdj1fKzEseT1fKzIsRT10W2EqMysxXSozLFI9RSsxLE09RSsyLEM9dFthKjMrMl0qMyxBPUMrMSxTPUMrMixzPWVbX10tZVtFXSxvPWVbdl0tZVtSXSx1PWVbeV0tZVtNXSxmPWVbQ10tZVtFXSxsPWVbQV0tZVtSXSxoPWVbU10tZVtNXSxjPVcqKG8qaC11KmwpLGQ9VyoodSpmLXMqaCkscD1XKihzKmwtbypmKSxnPU1hdGguc3FydChjKmMrZCpkK3AqcCksZz1nPT09MD8xOmcsYy89ZyxkLz1nLHAvPWcsdyYmbiYmKG4uZmFjZXROb3JtYWxzW2FdLng9YyxuLmZhY2V0Tm9ybWFsc1thXS55PWQsbi5mYWNldE5vcm1hbHNbYV0uej1wKSxGJiZuJiYobi5mYWNldFBvc2l0aW9uc1thXS54PShlW19dK2VbRV0rZVtDXSkvMyxuLmZhY2V0UG9zaXRpb25zW2FdLnk9KGVbdl0rZVtSXStlW0FdKS8zLG4uZmFjZXRQb3NpdGlvbnNbYV0uej0oZVt5XStlW01dK2VbU10pLzMpLHgmJm4pe3ZhciBQZT1NYXRoLmZsb29yKChuLmZhY2V0UG9zaXRpb25zW2FdLngtbi5iSW5mby5taW5pbXVtLngqTikqJCksV2U9TWF0aC5mbG9vcigobi5mYWNldFBvc2l0aW9uc1thXS55LW4uYkluZm8ubWluaW11bS55Kk4pKm9lKSxaZT1NYXRoLmZsb29yKChuLmZhY2V0UG9zaXRpb25zW2FdLnotbi5iSW5mby5taW5pbXVtLnoqTikqWiksWHQ9TWF0aC5mbG9vcigoZVtfXS1uLmJJbmZvLm1pbmltdW0ueCpOKSokKSxGcj1NYXRoLmZsb29yKChlW3ZdLW4uYkluZm8ubWluaW11bS55Kk4pKm9lKSx3cj1NYXRoLmZsb29yKChlW3ldLW4uYkluZm8ubWluaW11bS56Kk4pKlopLHBpPU1hdGguZmxvb3IoKGVbRV0tbi5iSW5mby5taW5pbXVtLngqTikqJCksX2k9TWF0aC5mbG9vcigoZVtSXS1uLmJJbmZvLm1pbmltdW0ueSpOKSpvZSksZ2k9TWF0aC5mbG9vcigoZVtNXS1uLmJJbmZvLm1pbmltdW0ueipOKSpaKSx2aT1NYXRoLmZsb29yKChlW0NdLW4uYkluZm8ubWluaW11bS54Kk4pKiQpLG1pPU1hdGguZmxvb3IoKGVbQV0tbi5iSW5mby5taW5pbXVtLnkqTikqb2UpLHlpPU1hdGguZmxvb3IoKGVbU10tbi5iSW5mby5taW5pbXVtLnoqTikqWikscHQ9WHQrbi5zdWJEaXYubWF4KkZyK2oqd3IsX3Q9cGkrbi5zdWJEaXYubWF4Kl9pK2oqZ2ksZ3Q9dmkrbi5zdWJEaXYubWF4Km1pK2oqeWksdnQ9UGUrbi5zdWJEaXYubWF4KldlK2oqWmU7bi5mYWNldFBhcnRpdGlvbmluZ1t2dF09bi5mYWNldFBhcnRpdGlvbmluZ1t2dF0/bi5mYWNldFBhcnRpdGlvbmluZ1t2dF06bmV3IEFycmF5LG4uZmFjZXRQYXJ0aXRpb25pbmdbcHRdPW4uZmFjZXRQYXJ0aXRpb25pbmdbcHRdP24uZmFjZXRQYXJ0aXRpb25pbmdbcHRdOm5ldyBBcnJheSxuLmZhY2V0UGFydGl0aW9uaW5nW190XT1uLmZhY2V0UGFydGl0aW9uaW5nW190XT9uLmZhY2V0UGFydGl0aW9uaW5nW190XTpuZXcgQXJyYXksbi5mYWNldFBhcnRpdGlvbmluZ1tndF09bi5mYWNldFBhcnRpdGlvbmluZ1tndF0/bi5mYWNldFBhcnRpdGlvbmluZ1tndF06bmV3IEFycmF5LG4uZmFjZXRQYXJ0aXRpb25pbmdbcHRdLnB1c2goYSksX3QhPXB0JiZuLmZhY2V0UGFydGl0aW9uaW5nW190XS5wdXNoKGEpLGd0PT1fdHx8Z3Q9PXB0fHxuLmZhY2V0UGFydGl0aW9uaW5nW2d0XS5wdXNoKGEpLHZ0PT1wdHx8dnQ9PV90fHx2dD09Z3R8fG4uZmFjZXRQYXJ0aXRpb25pbmdbdnRdLnB1c2goYSl9aWYoRyYmbiYmbi5mYWNldFBvc2l0aW9ucyl7dmFyIExyPW4uZGVwdGhTb3J0ZWRGYWNldHNbYV07THIuaW5kPWEqMyxMci5zcURpc3RhbmNlPWIuRGlzdGFuY2VTcXVhcmVkKG4uZmFjZXRQb3NpdGlvbnNbYV0scSl9cltfXSs9YyxyW3ZdKz1kLHJbeV0rPXAscltFXSs9YyxyW1JdKz1kLHJbTV0rPXAscltDXSs9YyxyW0FdKz1kLHJbU10rPXB9Zm9yKGE9MDthPHIubGVuZ3RoLzM7YSsrKWM9clthKjNdLGQ9clthKjMrMV0scD1yW2EqMysyXSxnPU1hdGguc3FydChjKmMrZCpkK3AqcCksZz1nPT09MD8xOmcsYy89ZyxkLz1nLHAvPWcsclthKjNdPWMsclthKjMrMV09ZCxyW2EqMysyXT1wfSxpLl9Db21wdXRlU2lkZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9ci5sZW5ndGgsZj1uLmxlbmd0aCxsLGg7c3dpdGNoKGU9ZXx8aS5ERUZBVUxUU0lERSxlKXtjYXNlIGkuRlJPTlRTSURFOmJyZWFrO2Nhc2UgaS5CQUNLU0lERTpmb3IobD0wO2w8dTtsKz0zKXt2YXIgYz1yW2xdO3JbbF09cltsKzJdLHJbbCsyXT1jfWZvcihoPTA7aDxmO2grKyluW2hdPS1uW2hdO2JyZWFrO2Nhc2UgaS5ET1VCTEVTSURFOntmb3IodmFyIGQ9dC5sZW5ndGgscD1kLzMsZz0wO2c8ZDtnKyspdFtkK2ddPXRbZ107Zm9yKGw9MDtsPHU7bCs9MylyW2wrdV09cltsKzJdK3AscltsKzErdV09cltsKzFdK3AscltsKzIrdV09cltsXStwO2ZvcihoPTA7aDxmO2grKyluW2YraF09LW5baF07dmFyIF89YS5sZW5ndGgsdj0wO2Zvcih2PTA7djxfO3YrKylhW3YrX109YVt2XTtmb3Iocz1zfHxuZXcgbXQoMCwwLDEsMSksbz1vfHxuZXcgbXQoMCwwLDEsMSksdj0wLGw9MDtsPF8vMjtsKyspYVt2XT1zLngrKHMuei1zLngpKmFbdl0sYVt2KzFdPXMueSsocy53LXMueSkqYVt2KzFdLGFbditfXT1vLngrKG8uei1vLngpKmFbditfXSxhW3YrXysxXT1vLnkrKG8udy1vLnkpKmFbditfKzFdLHYrPTI7YnJlYWt9fX0saS5JbXBvcnRWZXJ0ZXhEYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGksbj1lLnBvc2l0aW9ucztuJiZyLnNldChuLG0uUG9zaXRpb25LaW5kKTt2YXIgYT1lLm5vcm1hbHM7YSYmci5zZXQoYSxtLk5vcm1hbEtpbmQpO3ZhciBzPWUudGFuZ2VudHM7cyYmci5zZXQocyxtLlRhbmdlbnRLaW5kKTt2YXIgbz1lLnV2cztvJiZyLnNldChvLG0uVVZLaW5kKTt2YXIgdT1lLnV2MnM7dSYmci5zZXQodSxtLlVWMktpbmQpO3ZhciBmPWUudXYzcztmJiZyLnNldChmLG0uVVYzS2luZCk7dmFyIGw9ZS51djRzO2wmJnIuc2V0KGwsbS5VVjRLaW5kKTt2YXIgaD1lLnV2NXM7aCYmci5zZXQoaCxtLlVWNUtpbmQpO3ZhciBjPWUudXY2cztjJiZyLnNldChjLG0uVVY2S2luZCk7dmFyIGQ9ZS5jb2xvcnM7ZCYmci5zZXQoRWUuQ2hlY2tDb2xvcnM0KGQsbi5sZW5ndGgvMyksbS5Db2xvcktpbmQpO3ZhciBwPWUubWF0cmljZXNJbmRpY2VzO3AmJnIuc2V0KHAsbS5NYXRyaWNlc0luZGljZXNLaW5kKTt2YXIgZz1lLm1hdHJpY2VzV2VpZ2h0cztnJiZyLnNldChnLG0uTWF0cmljZXNXZWlnaHRzS2luZCk7dmFyIF89ZS5pbmRpY2VzO18mJihyLmluZGljZXM9XyksdC5zZXRBbGxWZXJ0aWNlc0RhdGEocixlLnVwZGF0YWJsZSl9LGkuRlJPTlRTSURFPTAsaS5CQUNLU0lERT0xLGkuRE9VQkxFU0lERT0yLGkuREVGQVVMVFNJREU9MCxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJfVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzIixudWxsKSxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMiLG51bGwpLFQoW0V0LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksIl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyIsbnVsbCksVChbRXQuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPWVbMF07cmV0dXJuIUFycmF5LmlzQXJyYXkocil9KV0saSwiX0ZsaXBGYWNlcyIsbnVsbCksaX0oKSwkcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMuYnU9ZSx0aGlzLmJ2PXQsdGhpcy5kaXN0YW5jZT1yLHRoaXMuZmFjZUlkPTAsdGhpcy5zdWJNZXNoSWQ9MH1yZXR1cm4gaX0oKSxKaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMudmVjdG9ycz1BZS5CdWlsZEFycmF5KDgsYi5aZXJvKSx0aGlzLmNlbnRlcj1iLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPWIuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZT1iLlplcm8oKSx0aGlzLmV4dGVuZFNpemVXb3JsZD1iLlplcm8oKSx0aGlzLmRpcmVjdGlvbnM9QWUuQnVpbGRBcnJheSgzLGIuWmVybyksdGhpcy52ZWN0b3JzV29ybGQ9QWUuQnVpbGRBcnJheSg4LGIuWmVybyksdGhpcy5taW5pbXVtV29ybGQ9Yi5aZXJvKCksdGhpcy5tYXhpbXVtV29ybGQ9Yi5aZXJvKCksdGhpcy5taW5pbXVtPWIuWmVybygpLHRoaXMubWF4aW11bT1iLlplcm8oKSx0aGlzLl9kcmF3V3JhcHBlckZyb250PW51bGwsdGhpcy5fZHJhd1dyYXBwZXJCYWNrPW51bGwsdGhpcy5yZUNvbnN0cnVjdChlLHQscil9cmV0dXJuIGkucHJvdG90eXBlLnJlQ29uc3RydWN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLngsYT1lLnkscz1lLnosbz10LngsdT10LnksZj10LnosbD10aGlzLnZlY3RvcnM7dGhpcy5taW5pbXVtLmNvcHlGcm9tRmxvYXRzKG4sYSxzKSx0aGlzLm1heGltdW0uY29weUZyb21GbG9hdHMobyx1LGYpLGxbMF0uY29weUZyb21GbG9hdHMobixhLHMpLGxbMV0uY29weUZyb21GbG9hdHMobyx1LGYpLGxbMl0uY29weUZyb21GbG9hdHMobyxhLHMpLGxbM10uY29weUZyb21GbG9hdHMobix1LHMpLGxbNF0uY29weUZyb21GbG9hdHMobixhLGYpLGxbNV0uY29weUZyb21GbG9hdHMobyx1LHMpLGxbNl0uY29weUZyb21GbG9hdHMobix1LGYpLGxbN10uY29weUZyb21GbG9hdHMobyxhLGYpLHQuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0LnN1YnRyYWN0VG9SZWYoZSx0aGlzLmV4dGVuZFNpemUpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5fd29ybGRNYXRyaXg9cnx8SS5JZGVudGl0eVJlYWRPbmx5LHRoaXMuX3VwZGF0ZSh0aGlzLl93b3JsZE1hdHJpeCl9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3ZhciB0PWkuX1RtcFZlY3RvcjMscj10aGlzLm1heGltdW0uc3VidHJhY3RUb1JlZih0aGlzLm1pbmltdW0sdFswXSksbj1yLmxlbmd0aCgpO3Iubm9ybWFsaXplRnJvbUxlbmd0aChuKTt2YXIgYT1uKmUscz1yLnNjYWxlSW5QbGFjZShhKi41KSxvPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYocyx0WzFdKSx1PXRoaXMuY2VudGVyLmFkZFRvUmVmKHMsdFsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3Qobyx1LHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfSxpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH0saS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1pbmltdW1Xb3JsZCxyPXRoaXMubWF4aW11bVdvcmxkLG49dGhpcy5kaXJlY3Rpb25zLGE9dGhpcy52ZWN0b3JzV29ybGQscz10aGlzLnZlY3RvcnM7aWYoZS5pc0lkZW50aXR5KCkpe3QuY29weUZyb20odGhpcy5taW5pbXVtKSxyLmNvcHlGcm9tKHRoaXMubWF4aW11bSk7Zm9yKHZhciBvPTA7bzw4OysrbylhW29dLmNvcHlGcm9tKHNbb10pO3RoaXMuZXh0ZW5kU2l6ZVdvcmxkLmNvcHlGcm9tKHRoaXMuZXh0ZW5kU2l6ZSksdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlcil9ZWxzZXt0LnNldEFsbChOdW1iZXIuTUFYX1ZBTFVFKSxyLnNldEFsbCgtTnVtYmVyLk1BWF9WQUxVRSk7Zm9yKHZhciBvPTA7bzw4Oysrbyl7dmFyIHU9YVtvXTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoc1tvXSxlLHUpLHQubWluaW1pemVJblBsYWNlKHUpLHIubWF4aW1pemVJblBsYWNlKHUpfXIuc3VidHJhY3RUb1JlZih0LHRoaXMuZXh0ZW5kU2l6ZVdvcmxkKS5zY2FsZUluUGxhY2UoLjUpLHIuYWRkVG9SZWYodCx0aGlzLmNlbnRlcldvcmxkKS5zY2FsZUluUGxhY2UoLjUpfWIuRnJvbUFycmF5VG9SZWYoZS5tLDAsblswXSksYi5Gcm9tQXJyYXlUb1JlZihlLm0sNCxuWzFdKSxiLkZyb21BcnJheVRvUmVmKGUubSw4LG5bMl0pLHRoaXMuX3dvcmxkTWF0cml4PWV9LGkucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3JldHVybiBpLklzSW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfSxpLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24oZSl7cmV0dXJuIGkuSXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5taW5pbXVtV29ybGQscj10aGlzLm1heGltdW1Xb3JsZCxuPXQueCxhPXQueSxzPXQueixvPXIueCx1PXIueSxmPXIueixsPWUueCxoPWUueSxjPWUueixkPS1zZTtyZXR1cm4hKG8tbDxkfHxkPmwtbnx8dS1oPGR8fGQ+aC1hfHxmLWM8ZHx8ZD5jLXMpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKGUpe3JldHVybiBpLkludGVyc2VjdHNTcGhlcmUodGhpcy5taW5pbXVtV29ybGQsdGhpcy5tYXhpbXVtV29ybGQsZS5jZW50ZXJXb3JsZCxlLnJhZGl1c1dvcmxkKX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c01pbk1heD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubWluaW11bVdvcmxkLG49dGhpcy5tYXhpbXVtV29ybGQsYT1yLngscz1yLnksbz1yLnosdT1uLngsZj1uLnksbD1uLnosaD1lLngsYz1lLnksZD1lLnoscD10LngsZz10LnksXz10Lno7cmV0dXJuISh1PGh8fGE+cHx8ZjxjfHxzPmd8fGw8ZHx8bz5fKX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlLHQ7KGU9dGhpcy5fZHJhd1dyYXBwZXJGcm9udCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSwodD10aGlzLl9kcmF3V3JhcHBlckJhY2spPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCl9LGkuSW50ZXJzZWN0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmludGVyc2VjdHNNaW5NYXgodC5taW5pbXVtV29ybGQsdC5tYXhpbXVtV29ybGQpfSxpLkludGVyc2VjdHNTcGhlcmU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9aS5fVG1wVmVjdG9yM1swXTtiLkNsYW1wVG9SZWYocixlLHQsYSk7dmFyIHM9Yi5EaXN0YW5jZVNxdWFyZWQocixhKTtyZXR1cm4gczw9bipufSxpLklzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8NjsrK3IpZm9yKHZhciBuPXRbcl0sYT0wO2E8ODsrK2EpaWYobi5kb3RDb29yZGluYXRlKGVbYV0pPDApcmV0dXJuITE7cmV0dXJuITB9LGkuSXNJbkZydXN0dW09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDY7KytyKXtmb3IodmFyIG49ITAsYT10W3JdLHM9MDtzPDg7KytzKWlmKGEuZG90Q29vcmRpbmF0ZShlW3NdKT49MCl7bj0hMTticmVha31pZihuKXJldHVybiExfXJldHVybiEwfSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoMyxiLlplcm8pLGl9KCksZW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt0aGlzLmNlbnRlcj1iLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPWIuWmVybygpLHRoaXMubWluaW11bT1iLlplcm8oKSx0aGlzLm1heGltdW09Yi5aZXJvKCksdGhpcy5yZUNvbnN0cnVjdChlLHQscil9cmV0dXJuIGkucHJvdG90eXBlLnJlQ29uc3RydWN0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLm1pbmltdW0uY29weUZyb20oZSksdGhpcy5tYXhpbXVtLmNvcHlGcm9tKHQpO3ZhciBuPWIuRGlzdGFuY2UoZSx0KTt0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5yYWRpdXM9biouNSx0aGlzLl91cGRhdGUocnx8SS5JZGVudGl0eVJlYWRPbmx5KX0saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yYWRpdXMqZSxyPWkuX1RtcFZlY3RvcjMsbj1yWzBdLnNldEFsbCh0KSxhPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYobixyWzFdKSxzPXRoaXMuY2VudGVyLmFkZFRvUmVmKG4sclsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QoYSxzLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfSxpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH0saS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtpZihlLmlzSWRlbnRpdHkoKSl0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKSx0aGlzLnJhZGl1c1dvcmxkPXRoaXMucmFkaXVzO2Vsc2V7Yi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuY2VudGVyLGUsdGhpcy5jZW50ZXJXb3JsZCk7dmFyIHQ9aS5fVG1wVmVjdG9yM1swXTtiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigxLDEsMSxlLHQpLHRoaXMucmFkaXVzV29ybGQ9TWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpLE1hdGguYWJzKHQueikpKnRoaXMucmFkaXVzfX0saS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuY2VudGVyV29ybGQscj10aGlzLnJhZGl1c1dvcmxkLG49MDtuPDY7bisrKWlmKGVbbl0uZG90Q29vcmRpbmF0ZSh0KTw9LXIpcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLmlzQ2VudGVySW5GcnVzdHVtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmNlbnRlcldvcmxkLHI9MDtyPDY7cisrKWlmKGVbcl0uZG90Q29vcmRpbmF0ZSh0KTwwKXJldHVybiExO3JldHVybiEwfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9Yi5EaXN0YW5jZVNxdWFyZWQodGhpcy5jZW50ZXJXb3JsZCxlKTtyZXR1cm4hKHRoaXMucmFkaXVzV29ybGQqdGhpcy5yYWRpdXNXb3JsZDx0KX0saS5JbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9Yi5EaXN0YW5jZVNxdWFyZWQoZS5jZW50ZXJXb3JsZCx0LmNlbnRlcldvcmxkKSxuPWUucmFkaXVzV29ybGQrdC5yYWRpdXNXb3JsZDtyZXR1cm4hKG4qbjxyKX0saS5DcmVhdGVGcm9tQ2VudGVyQW5kUmFkaXVzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLHRoaXMuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMoMCwwLHQpLHRoaXMuX1RtcFZlY3RvcjNbMl0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1swXS5hZGRJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pLHRoaXMuX1RtcFZlY3RvcjNbMl0uc3VidHJhY3RJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pO3ZhciBuPW5ldyBpKHRoaXMuX1RtcFZlY3RvcjNbMF0sdGhpcy5fVG1wVmVjdG9yM1syXSk7cmV0dXJuIHI/bi5fd29ybGRNYXRyaXg9cjpuLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCksbn0saS5fVG1wVmVjdG9yMz1BZS5CdWlsZEFycmF5KDMsYi5aZXJvKSxpfSgpLEpyPXttaW46MCxtYXg6MH0sZWk9e21pbjowLG1heDowfSx0bj1mdW5jdGlvbihpLGUsdCl7dmFyIHI9Yi5Eb3QoZS5jZW50ZXJXb3JsZCxpKSxuPU1hdGguYWJzKGIuRG90KGUuZGlyZWN0aW9uc1swXSxpKSkqZS5leHRlbmRTaXplLngsYT1NYXRoLmFicyhiLkRvdChlLmRpcmVjdGlvbnNbMV0saSkpKmUuZXh0ZW5kU2l6ZS55LHM9TWF0aC5hYnMoYi5Eb3QoZS5kaXJlY3Rpb25zWzJdLGkpKSplLmV4dGVuZFNpemUueixvPW4rYStzO3QubWluPXItbyx0Lm1heD1yK299LEJlPWZ1bmN0aW9uKGksZSx0KXtyZXR1cm4gdG4oaSxlLEpyKSx0bihpLHQsZWkpLCEoSnIubWluPmVpLm1heHx8ZWkubWluPkpyLm1heCl9LFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5faXNMb2NrZWQ9ITEsdGhpcy5ib3VuZGluZ0JveD1uZXcgSmkoZSx0LHIpLHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IGVuKGUsdCxyKX1yZXR1cm4gaS5wcm90b3R5cGUucmVDb25zdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QoZSx0LHIpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoZSx0LHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pbmltdW0iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWF4aW11bSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1heGltdW19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0xvY2tlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0xvY2tlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzTG9ja2VkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2lzTG9ja2VkfHwodGhpcy5ib3VuZGluZ0JveC5fdXBkYXRlKGUpLHRoaXMuYm91bmRpbmdTcGhlcmUuX3VwZGF0ZShlKSl9LGkucHJvdG90eXBlLmNlbnRlck9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2UodCksbj1pLl9UbXBWZWN0b3IzWzFdLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UodCk7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QocixuLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChyLG4sdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzfSxpLnByb3RvdHlwZS5lbmNhcHN1bGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1iLk1pbmltaXplKHRoaXMubWluaW11bSxlKSxyPWIuTWF4aW1pemUodGhpcy5tYXhpbXVtLGUpO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHQscix0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9LGkucHJvdG90eXBlLmVuY2Fwc3VsYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuc3VidHJhY3QoZS5ib3VuZGluZ0JveC5leHRlbmRTaXplV29ybGQpKSx0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuYWRkKGUuYm91bmRpbmdCb3guZXh0ZW5kU2l6ZVdvcmxkKSksdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guc2NhbGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5zY2FsZShlKSx0aGlzfSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPXQ9PT0yfHx0PT09MztpZihyJiZ0aGlzLmJvdW5kaW5nU3BoZXJlLmlzQ2VudGVySW5GcnVzdHVtKGUpKXJldHVybiEwO2lmKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmlzSW5GcnVzdHVtKGUpKXJldHVybiExO3ZhciBuPXQ9PT0xfHx0PT09MztyZXR1cm4gbj8hMDp0aGlzLmJvdW5kaW5nQm94LmlzSW5GcnVzdHVtKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRpYWdvbmFsTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ib3VuZGluZ0JveCx0PWUubWF4aW11bVdvcmxkLnN1YnRyYWN0VG9SZWYoZS5taW5pbXVtV29ybGQsaS5fVG1wVmVjdG9yM1swXSk7cmV0dXJuIHQubGVuZ3RoKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX0saS5wcm90b3R5cGUuX2NoZWNrQ29sbGlzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9jYW5Eb0NvbGxpc2lvbih0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzV29ybGQsdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghdGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZHx8IXRoaXMuYm91bmRpbmdTcGhlcmUuaW50ZXJzZWN0c1BvaW50KGUpfHwhdGhpcy5ib3VuZGluZ0JveC5pbnRlcnNlY3RzUG9pbnQoZSkpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCl7aWYoIWVuLkludGVyc2VjdHModGhpcy5ib3VuZGluZ1NwaGVyZSxlLmJvdW5kaW5nU3BoZXJlKXx8IUppLkludGVyc2VjdHModGhpcy5ib3VuZGluZ0JveCxlLmJvdW5kaW5nQm94KSlyZXR1cm4hMTtpZighdClyZXR1cm4hMDt2YXIgcj10aGlzLmJvdW5kaW5nQm94LG49ZS5ib3VuZGluZ0JveDtyZXR1cm4hKCFCZShyLmRpcmVjdGlvbnNbMF0scixuKXx8IUJlKHIuZGlyZWN0aW9uc1sxXSxyLG4pfHwhQmUoci5kaXJlY3Rpb25zWzJdLHIsbil8fCFCZShuLmRpcmVjdGlvbnNbMF0scixuKXx8IUJlKG4uZGlyZWN0aW9uc1sxXSxyLG4pfHwhQmUobi5kaXJlY3Rpb25zWzJdLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1swXSxuLmRpcmVjdGlvbnNbMF0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1swXSxuLmRpcmVjdGlvbnNbMV0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1swXSxuLmRpcmVjdGlvbnNbMl0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1sxXSxuLmRpcmVjdGlvbnNbMF0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1sxXSxuLmRpcmVjdGlvbnNbMV0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1sxXSxuLmRpcmVjdGlvbnNbMl0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1syXSxuLmRpcmVjdGlvbnNbMF0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1syXSxuLmRpcmVjdGlvbnNbMV0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1syXSxuLmRpcmVjdGlvbnNbMl0pLHIsbikpfSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoMixiLlplcm8pLGl9KCkscm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLmV4dHJhY3RNaW5BbmRNYXhJbmRleGVkPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtmb3IodmFyIG89cjtvPHIrbjtvKyspe3ZhciB1PXRbb10qMyxmPWVbdV0sbD1lW3UrMV0saD1lW3UrMl07YS5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGYsbCxoKSxzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZixsLGgpfX0saS5leHRyYWN0TWluQW5kTWF4PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtmb3IodmFyIG89dCx1PXQqbjtvPHQrcjtvKyssdSs9bil7dmFyIGY9ZVt1XSxsPWVbdSsxXSxoPWVbdSsyXTthLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZixsLGgpLHMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhmLGwsaCl9fSxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXSxuPWVbMV07cmV0dXJuIUFycmF5LmlzQXJyYXkocikmJiFBcnJheS5pc0FycmF5KG4pfSldLGksImV4dHJhY3RNaW5BbmRNYXhJbmRleGVkIixudWxsKSxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJleHRyYWN0TWluQW5kTWF4IixudWxsKSxpfSgpO2Z1bmN0aW9uIG1hKGksZSx0LHIsbil7bj09PXZvaWQgMCYmKG49bnVsbCk7dmFyIGE9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHM9bmV3IGIoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBybi5leHRyYWN0TWluQW5kTWF4SW5kZXhlZChpLGUsdCxyLGEscyksbiYmKGEueC09YS54Km4ueCtuLnksYS55LT1hLnkqbi54K24ueSxhLnotPWEueipuLngrbi55LHMueCs9cy54Km4ueCtuLnkscy55Kz1zLnkqbi54K24ueSxzLnorPXMueipuLngrbi55KSx7bWluaW11bTphLG1heGltdW06c319ZnVuY3Rpb24gbm4oaSxlLHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKTt2YXIgYT1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkscz1uZXcgYigtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIG58fChuPTMpLHJuLmV4dHJhY3RNaW5BbmRNYXgoaSxlLHQsbixhLHMpLHImJihhLngtPWEueCpyLngrci55LGEueS09YS55KnIueCtyLnksYS56LT1hLnoqci54K3IueSxzLngrPXMueCpyLngrci55LHMueSs9cy55KnIueCtyLnkscy56Kz1zLnoqci54K3IueSkse21pbmltdW06YSxtYXhpbXVtOnN9fXZhciBTdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMsbyx1LGYpe3U9PT12b2lkIDAmJih1PSEwKSxmPT09dm9pZCAwJiYoZj0hMCksdGhpcy5tYXRlcmlhbEluZGV4PWUsdGhpcy52ZXJ0aWNlc1N0YXJ0PXQsdGhpcy52ZXJ0aWNlc0NvdW50PXIsdGhpcy5pbmRleFN0YXJ0PW4sdGhpcy5pbmRleENvdW50PWEsdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU9bnVsbCx0aGlzLl9saW5lc0luZGV4Q291bnQ9MCx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD1udWxsLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fYWxwaGFJbmRleD0wLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0aGlzLl9jdXJyZW50TWF0ZXJpYWw9bnVsbCx0aGlzLl9tZXNoPXMsdGhpcy5fcmVuZGVyaW5nTWVzaD1vfHxzLGYmJnMuc3ViTWVzaGVzLnB1c2godGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdHJpYW5nbGVQbGFuZXM9W10sdGhpcy5faWQ9cy5zdWJNZXNoZXMubGVuZ3RoLTEsdSYmKHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWF0ZXJpYWxEZWZpbmVzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmRlZmluZXM6KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmRlZmluZXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdCxyPSh0PXRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO3IuZGVmaW5lcz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9nZXREcmF3V3JhcHBlcj1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSExKSxlPWUhPW51bGw/ZTp0aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZDt2YXIgcj10aGlzLl9kcmF3V3JhcHBlcnNbZV07cmV0dXJuIXImJnQmJih0aGlzLl9kcmF3V3JhcHBlcnNbZV09cj1uZXcgcXQodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpKSkscn0saS5wcm90b3R5cGUuX3JlbW92ZURyYXdXcmFwcGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI7dD09PXZvaWQgMCYmKHQ9ITApLHQmJigocj10aGlzLl9kcmF3V3JhcHBlcnNbZV0pPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCkpLHRoaXMuX2RyYXdXcmFwcGVyc1tlXT12b2lkIDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZWZmZWN0Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZWZmZWN0Oih0PShlPXRoaXMuX2dldERyYXdXcmFwcGVyKCkpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5lZmZlY3QpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfZHJhd1dyYXBwZXIiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9kcmF3V3JhcHBlck92ZXJyaWRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZT1mdW5jdGlvbihlKXt0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1lfSxpLnByb3RvdHlwZS5zZXRFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dD09PXZvaWQgMCYmKHQ9bnVsbCksbj09PXZvaWQgMCYmKG49ITApO3ZhciBhPXRoaXMuX2RyYXdXcmFwcGVyO2Euc2V0RWZmZWN0KGUsdCxuKSxyIT09dm9pZCAwJiYoYS5tYXRlcmlhbENvbnRleHQ9ciksZXx8KGEuZGVmaW5lcz1udWxsLGEubWF0ZXJpYWxDb250ZXh0PXZvaWQgMCl9LGkucHJvdG90eXBlLnJlc2V0RHJhd0NhY2hlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2RyYXdXcmFwcGVycylpZihlIT09dm9pZCAwKXt0aGlzLl9yZW1vdmVEcmF3V3JhcHBlcihlKTtyZXR1cm59ZWxzZSBmb3IodmFyIHQ9MCxyPXRoaXMuX2RyYXdXcmFwcGVyczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuPT1udWxsfHxuLmRpc3Bvc2UoKX10aGlzLl9kcmF3V3JhcHBlcnM9W119LGkuQWRkVG9NZXNoPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7cmV0dXJuIHU9PT12b2lkIDAmJih1PSEwKSxuZXcgaShlLHQscixuLGEscyxvLHUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIklzR2xvYmFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGljZXNTdGFydD09PTAmJnRoaXMudmVydGljZXNDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxWZXJ0aWNlcygpJiZ0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsSW5kaWNlcygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldEJvdW5kaW5nSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLklzR2xvYmFsP3RoaXMuX21lc2guZ2V0Qm91bmRpbmdJbmZvKCk6dGhpcy5fYm91bmRpbmdJbmZvfSxpLnByb3RvdHlwZS5zZXRCb3VuZGluZ0luZm89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9LGkucHJvdG90eXBlLmdldE1lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaH0saS5wcm90b3R5cGUuZ2V0UmVuZGVyaW5nTWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNZXNofSxpLnByb3RvdHlwZS5nZXRSZXBsYWNlbWVudE1lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGx9LGkucHJvdG90eXBlLmdldEVmZmVjdGl2ZU1lc2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbDtyZXR1cm4gZXx8dGhpcy5fcmVuZGVyaW5nTWVzaH0saS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWw9ZnVuY3Rpb24oKXt2YXIgZSx0PShlPXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKHRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fcmVuZGVyaW5nTWVzaC5tYXRlcmlhbDtpZih0KXtpZih0aGlzLl9pc011bHRpTWF0ZXJpYWwodCkpe3ZhciByPXQuZ2V0U3ViTWF0ZXJpYWwodGhpcy5tYXRlcmlhbEluZGV4KTtyZXR1cm4gdGhpcy5fY3VycmVudE1hdGVyaWFsIT09ciYmKHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1yLHRoaXMucmVzZXREcmF3Q2FjaGUoKSkscn19ZWxzZSByZXR1cm4gdGhpcy5fbWVzaC5nZXRTY2VuZSgpLmRlZmF1bHRNYXRlcmlhbDtyZXR1cm4gdH0saS5wcm90b3R5cGUuX2lzTXVsdGlNYXRlcmlhbD1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTdWJNYXRlcmlhbCE9PXZvaWQgMH0saS5wcm90b3R5cGUucmVmcmVzaEJvdW5kaW5nSW5mbz1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwJiYoZT1udWxsKSx0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5Jc0dsb2JhbHx8IXRoaXMuX3JlbmRlcmluZ01lc2h8fCF0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKGV8fChlPXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKSksIWUpcmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz10aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpLHRoaXM7dmFyIHQ9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRJbmRpY2VzKCkscjtpZih0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10Lmxlbmd0aCl7dmFyIG49dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRCb3VuZGluZ0luZm8oKTtyPXttaW5pbXVtOm4ubWluaW11bS5jbG9uZSgpLG1heGltdW06bi5tYXhpbXVtLmNsb25lKCl9fWVsc2Ugcj1tYShlLHQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCx0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhcyk7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3Qoci5taW5pbXVtLHIubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBUdChyLm1pbmltdW0sci5tYXhpbXVtKSx0aGlzfSxpLnByb3RvdHlwZS5fY2hlY2tDb2xsaXNpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdC5fY2hlY2tDb2xsaXNpb24oZSl9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nSW5mbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0fHwodGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksdD10aGlzLmdldEJvdW5kaW5nSW5mbygpKSx0JiZ0LnVwZGF0ZShlKSx0aGlzfSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNJbkZydXN0dW0oZSx0aGlzLl9tZXNoLmN1bGxpbmdTdHJhdGVneSk6ITF9LGkucHJvdG90eXBlLmlzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpOiExfSxpLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2gucmVuZGVyKHRoaXMsZSx0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6dm9pZCAwKSx0aGlzfSxpLnByb3RvdHlwZS5fZ2V0TGluZXNJbmRleEJ1ZmZlcj1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9saW5lc0luZGV4QnVmZmVyKXtmb3IodmFyIHI9W10sbj10aGlzLmluZGV4U3RhcnQ7bjx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50O24rPTMpci5wdXNoKGVbbl0sZVtuKzFdLGVbbisxXSxlW24rMl0sZVtuKzJdLGVbbl0pO3RoaXMuX2xpbmVzSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihyKSx0aGlzLl9saW5lc0luZGV4Q291bnQ9ci5sZW5ndGh9cmV0dXJuIHRoaXMuX2xpbmVzSW5kZXhCdWZmZXJ9LGkucHJvdG90eXBlLmNhbkludGVyc2VjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD9lLmludGVyc2VjdHNCb3godC5ib3VuZGluZ0JveCk6ITF9LGkucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz10aGlzLmdldE1hdGVyaWFsKCk7aWYoIXMpcmV0dXJuIG51bGw7dmFyIG89Myx1PSExO3N3aXRjaChzLmZpbGxNb2RlKXtjYXNlIDM6Y2FzZSA1OmNhc2UgNjpjYXNlIDg6cmV0dXJuIG51bGw7Y2FzZSA3Om89MSx1PSEwO2JyZWFrfXJldHVybiBzLmZpbGxNb2RlPT09ND9yLmxlbmd0aD90aGlzLl9pbnRlcnNlY3RMaW5lcyhlLHQscix0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxuKTp0aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcyhlLHQscix0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxuKTohci5sZW5ndGgmJnRoaXMuX21lc2guX3VuSW5kZXhlZD90aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXMoZSx0LHIsbixhKTp0aGlzLl9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LHIsbyx1LG4sYSl9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RMaW5lcz1mdW5jdGlvbihlLHQscixuLGEpe2Zvcih2YXIgcz1udWxsLG89dGhpcy5pbmRleFN0YXJ0O288dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDtvKz0yKXt2YXIgdT10W3Jbb11dLGY9dFtyW28rMV1dLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KHUsZixuKTtpZighKGw8MCkmJihhfHwhc3x8bDxzLmRpc3RhbmNlKSYmKHM9bmV3ICRyKG51bGwsbnVsbCxsKSxzLmZhY2VJZD1vLzIsYSkpYnJlYWt9cmV0dXJuIHN9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcz1mdW5jdGlvbihlLHQscixuLGEpe2Zvcih2YXIgcz1udWxsLG89dGhpcy52ZXJ0aWNlc1N0YXJ0O288dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDtvKz0yKXt2YXIgdT10W29dLGY9dFtvKzFdLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KHUsZixuKTtpZighKGw8MCkmJihhfHwhc3x8bDxzLmRpc3RhbmNlKSYmKHM9bmV3ICRyKG51bGwsbnVsbCxsKSxzLmZhY2VJZD1vLzIsYSkpYnJlYWt9cmV0dXJuIHN9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmlhbmdsZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7Zm9yKHZhciB1PW51bGwsZj0tMSxsPXRoaXMuaW5kZXhTdGFydDtsPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQtKDMtbik7bCs9bil7ZisrO3ZhciBoPXJbbF0sYz1yW2wrMV0sZD1yW2wrMl07aWYoYSYmZD09PTQyOTQ5NjcyOTUpe2wrPTI7Y29udGludWV9dmFyIHA9dFtoXSxnPXRbY10sXz10W2RdO2lmKCEoIXB8fCFnfHwhXykmJiEobyYmIW8ocCxnLF8sZSkpKXt2YXIgdj1lLmludGVyc2VjdHNUcmlhbmdsZShwLGcsXyk7aWYodil7aWYodi5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChzfHwhdXx8di5kaXN0YW5jZTx1LmRpc3RhbmNlKSYmKHU9dix1LmZhY2VJZD1mLHMpKWJyZWFrfX19cmV0dXJuIHV9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXM9ZnVuY3Rpb24oZSx0LHIsbixhKXtmb3IodmFyIHM9bnVsbCxvPXRoaXMudmVydGljZXNTdGFydDtvPHRoaXMudmVydGljZXNTdGFydCt0aGlzLnZlcnRpY2VzQ291bnQ7bys9Myl7dmFyIHU9dFtvXSxmPXRbbysxXSxsPXRbbysyXTtpZighKGEmJiFhKHUsZixsLGUpKSl7dmFyIGg9ZS5pbnRlcnNlY3RzVHJpYW5nbGUodSxmLGwpO2lmKGgpe2lmKGguZGlzdGFuY2U8MCljb250aW51ZTtpZigobnx8IXN8fGguZGlzdGFuY2U8cy5kaXN0YW5jZSkmJihzPWgscy5mYWNlSWQ9by8zLG4pKWJyZWFrfX19cmV0dXJuIHN9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGkodGhpcy5tYXRlcmlhbEluZGV4LHRoaXMudmVydGljZXNTdGFydCx0aGlzLnZlcnRpY2VzQ291bnQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCxlLHQsITEpO2lmKCF0aGlzLklzR2xvYmFsKXt2YXIgbj10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKCFuKXJldHVybiByO3IuX2JvdW5kaW5nSW5mbz1uZXcgVHQobi5taW5pbXVtLG4ubWF4aW11bSl9cmV0dXJuIHJ9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCk7dmFyIGU9dGhpcy5fbWVzaC5zdWJNZXNoZXMuaW5kZXhPZih0aGlzKTt0aGlzLl9tZXNoLnN1Yk1lc2hlcy5zcGxpY2UoZSwxKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCl9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTdWJNZXNoIn0saS5DcmVhdGVGcm9tSW5kaWNlcz1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9ITApO2Zvcih2YXIgbz1OdW1iZXIuTUFYX1ZBTFVFLHU9LU51bWJlci5NQVhfVkFMVUUsZj1hfHxuLGw9Zi5nZXRJbmRpY2VzKCksaD10O2g8dCtyO2grKyl7dmFyIGM9bFtoXTtjPG8mJihvPWMpLGM+dSYmKHU9Yyl9cmV0dXJuIG5ldyBpKGUsbyx1LW8rMSx0LHIsbixhLHMpfSxpfSgpLG50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsfSxzZXQ6ZnVuY3Rpb24oZSl7aS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hvd0xvYWRpbmdTY3JlZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fU2hvd0xvYWRpbmdTY3JlZW59LHNldDpmdW5jdGlvbihlKXtpLl9TaG93TG9hZGluZ1NjcmVlbj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJsb2dnaW5nTGV2ZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fTG9nZ2luZ0xldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7aS5fTG9nZ2luZ0xldmVsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFuQm9uZU1hdHJpeFdlaWdodHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c30sc2V0OmZ1bmN0aW9uKGUpe2kuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD0hMSxpLl9TaG93TG9hZGluZ1NjcmVlbj0hMCxpLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPSExLGkuX0xvZ2dpbmdMZXZlbD0wLGl9KCksamU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY9ITEsaX0oKSxNdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhKXtuPT09dm9pZCAwJiYobj0hMSksYT09PXZvaWQgMCYmKGE9bnVsbCksdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9ITEsdGhpcy5fcG9zaXRpb25zQ2FjaGU9W10sdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnk9ITEsdGhpcy5fc2NlbmU9dHx8cmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZSYmKHRoaXMuaWQ9ZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX21lc2hlcz1bXSx0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX2luZGljZXM9W10sdGhpcy5fdXBkYXRhYmxlPW4scj90aGlzLnNldEFsbFZlcnRpY2VzRGF0YShyLG4pOih0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faW5kaWNlcz1bXSksdGhpcy5fZW5naW5lLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksYSYmKHRoaXMuYXBwbHlUb01lc2goYSksYS5jb21wdXRlV29ybGRNYXRyaXgoITApKSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYm91bmRpbmdCaWFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQmlhc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JvdW5kaW5nQmlhcz90aGlzLl9ib3VuZGluZ0JpYXMuY29weUZyb20oZSk6dGhpcy5fYm91bmRpbmdCaWFzPWUuY2xvbmUoKSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oITAsbnVsbCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5DcmVhdGVHZW9tZXRyeUZvck1lc2g9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoaS5SYW5kb21JZCgpLGUuZ2V0U2NlbmUoKSk7cmV0dXJuIHQuYXBwbHlUb01lc2goZSksdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtZXNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaGVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZXh0ZW5kIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVuZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRTY2VuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2VuZX0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGF5TG9hZFN0YXRlPT09MXx8dGhpcy5kZWxheUxvYWRTdGF0ZT09PTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG9Ob3RTZXJpYWxpemUiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX21lc2hlcy5sZW5ndGg7ZSsrKWlmKCF0aGlzLl9tZXNoZXNbZV0uZG9Ob3RTZXJpYWxpemUpcmV0dXJuITE7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e30pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSk7Zm9yKHZhciBlIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpe3ZhciB0PXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV07dC5fcmVidWlsZCgpfX0saS5wcm90b3R5cGUuc2V0QWxsVmVydGljZXNEYXRhPWZ1bmN0aW9uKGUsdCl7ZS5hcHBseVRvR2VvbWV0cnkodGhpcyx0KSx0aGlzLl9ub3RpZnlVcGRhdGUoKX0saS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPSExKSxyJiZBcnJheS5pc0FycmF5KHQpJiYodD1uZXcgRmxvYXQzMkFycmF5KHQpKTt2YXIgYT1uZXcgbSh0aGlzLl9lbmdpbmUsdCxlLHIsdGhpcy5fbWVzaGVzLmxlbmd0aD09PTAsbik7dGhpcy5zZXRWZXJ0aWNlc0J1ZmZlcihhKX0saS5wcm90b3R5cGUucmVtb3ZlVmVydGljZXNEYXRhPWZ1bmN0aW9uKGUpe3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0mJih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fdmVydGV4QnVmZmVyc1tlXSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCl9LGkucHJvdG90eXBlLnNldFZlcnRpY2VzQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49ZS5nZXRLaW5kKCk7dGhpcy5fdmVydGV4QnVmZmVyc1tuXSYmciYmdGhpcy5fdmVydGV4QnVmZmVyc1tuXS5kaXNwb3NlKCksZS5fYnVmZmVyJiZlLl9idWZmZXIuX2luY3JlYXNlUmVmZXJlbmNlcygpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbbl09ZTt2YXIgYT10aGlzLl9tZXNoZXMscz1hLmxlbmd0aDtpZihuPT09bS5Qb3NpdGlvbktpbmQpe3ZhciBvPWUuZ2V0RGF0YSgpO3QhPW51bGw/dGhpcy5fdG90YWxWZXJ0aWNlcz10Om8hPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPW8ubGVuZ3RoLyhlLnR5cGU9PT1tLkJZVEU/ZS5ieXRlU3RyaWRlOmUuYnl0ZVN0cmlkZS80KSksdGhpcy5fdXBkYXRlRXh0ZW5kKG8pLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO2Zvcih2YXIgdT0wO3U8czt1Kyspe3ZhciBmPWFbdV07Zi5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksZi5fY3JlYXRlR2xvYmFsU3ViTWVzaChmLmlzVW5JbmRleGVkKSxmLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksZi5zeW5jaHJvbml6ZUluc3RhbmNlcygpfX10aGlzLl9ub3RpZnlVcGRhdGUobil9LGkucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshYXx8KGEudXBkYXRlRGlyZWN0bHkodCxyLG4pLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9LGkucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzRGF0YT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpOyFufHwobi51cGRhdGUodCksZT09PW0uUG9zaXRpb25LaW5kJiZ0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8ocix0KSx0aGlzLl9ub3RpZnlVcGRhdGUoZSkpfSxpLnByb3RvdHlwZS5fdXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUsdCl7aWYoZSYmdGhpcy5fdXBkYXRlRXh0ZW5kKHQpLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLGUpZm9yKHZhciByPXRoaXMuX21lc2hlcyxuPTAsYT1yO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuaGFzQm91bmRpbmdJbmZvP3MuZ2V0Qm91bmRpbmdJbmZvKCkucmVDb25zdHJ1Y3QodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pOnMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pO2Zvcih2YXIgbz1zLnN1Yk1lc2hlcyx1PTAsZj1vO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wucmVmcmVzaEJvdW5kaW5nSW5mbygpfX19LGkucHJvdG90eXBlLl9iaW5kPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEhZSl7dD09PXZvaWQgMCYmKHQ9dGhpcy5faW5kZXhCdWZmZXIpO3ZhciBhPXRoaXMuZ2V0VmVydGV4QnVmZmVycygpO2lmKCEhYSl7aWYodCE9dGhpcy5faW5kZXhCdWZmZXJ8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJiFuKXt0aGlzLl9lbmdpbmUuYmluZEJ1ZmZlcnMoYSx0LGUscik7cmV0dXJufXZhciBzPW58fHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cztzW2Uua2V5XXx8KHNbZS5rZXldPXRoaXMuX2VuZ2luZS5yZWNvcmRWZXJ0ZXhBcnJheU9iamVjdChhLHQsZSxyKSksdGhpcy5fZW5naW5lLmJpbmRWZXJ0ZXhBcnJheU9iamVjdChzW2Uua2V5XSx0KX19fSxpLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3RvdGFsVmVydGljZXM6MH0saS5wcm90b3R5cGUuZ2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtyZXR1cm4gbj9uLmdldEZsb2F0RGF0YSh0aGlzLl90b3RhbFZlcnRpY2VzLHJ8fHQmJnRoaXMuX21lc2hlcy5sZW5ndGghPT0xKTpudWxsfSxpLnByb3RvdHlwZS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdO3JldHVybiB0P3QuaXNVcGRhdGFibGUoKTohMX0saS5wcm90b3R5cGUuZ2V0VmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdOm51bGx9LGkucHJvdG90eXBlLmdldFZlcnRleEJ1ZmZlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyczpudWxsfSxpLnByb3RvdHlwZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ZlcnRleEJ1ZmZlcnM/dGhpcy5fdmVydGV4QnVmZmVyc1tlXSE9PXZvaWQgMDp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMX0saS5wcm90b3R5cGUuZ2V0VmVydGljZXNEYXRhS2luZHM9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0O2lmKCF0aGlzLl92ZXJ0ZXhCdWZmZXJzJiZ0aGlzLl9kZWxheUluZm8pZm9yKHQgaW4gdGhpcy5fZGVsYXlJbmZvKWUucHVzaCh0KTtlbHNlIGZvcih0IGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpZS5wdXNoKHQpO3JldHVybiBlfSxpLnByb3RvdHlwZS51cGRhdGVJbmRpY2VzPWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksISF0aGlzLl9pbmRleEJ1ZmZlcilpZighdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZSl0aGlzLnNldEluZGljZXMoZSxudWxsLCEwKTtlbHNle3ZhciBuPWUubGVuZ3RoIT09dGhpcy5faW5kaWNlcy5sZW5ndGg7aWYocnx8KHRoaXMuX2luZGljZXM9ZS5zbGljZSgpKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY0luZGV4QnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyLGUsdCksbilmb3IodmFyIGE9MCxzPXRoaXMuX21lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKX19fSxpLnByb3RvdHlwZS5zZXRJbmRpY2VzPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5faW5kZXhCdWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kaWNlcz1lLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9cix0aGlzLl9tZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5faW5kaWNlcyYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLHIpKSx0IT1udWxsJiYodGhpcy5fdG90YWxWZXJ0aWNlcz10KTtmb3IodmFyIG49MCxhPXRoaXMuX21lc2hlcztuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKSxzLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9dGhpcy5fbm90aWZ5VXBkYXRlKCl9LGkucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl9pbmRpY2VzLmxlbmd0aDowfSxpLnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNSZWFkeSgpKXJldHVybiBudWxsO3ZhciByPXRoaXMuX2luZGljZXM7cmV0dXJuIXQmJighZXx8dGhpcy5fbWVzaGVzLmxlbmd0aD09PTEpP3I6ci5zbGljZSgpfSxpLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl9pbmRleEJ1ZmZlcjpudWxsfSxpLnByb3RvdHlwZS5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPW51bGwpLCEoIWV8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpJiZ0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldJiYodGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKSxkZWxldGUgdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSl9LGkucHJvdG90eXBlLnJlbGVhc2VGb3JNZXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbWVzaGVzLG49ci5pbmRleE9mKGUpO24hPT0tMSYmKHIuc3BsaWNlKG4sMSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLGUuX2dlb21ldHJ5PW51bGwsci5sZW5ndGg9PT0wJiZ0JiZ0aGlzLmRpc3Bvc2UoKSl9LGkucHJvdG90eXBlLmFwcGx5VG9NZXNoPWZ1bmN0aW9uKGUpe2lmKGUuX2dlb21ldHJ5IT09dGhpcyl7dmFyIHQ9ZS5fZ2VvbWV0cnk7dCYmdC5yZWxlYXNlRm9yTWVzaChlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJmUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCk7dmFyIHI9dGhpcy5fbWVzaGVzO2UuX2dlb21ldHJ5PXRoaXMsZS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW51bGwsdGhpcy5fc2NlbmUucHVzaEdlb21ldHJ5KHRoaXMpLHIucHVzaChlKSx0aGlzLmlzUmVhZHkoKT90aGlzLl9hcHBseVRvTWVzaChlKTp0aGlzLl9ib3VuZGluZ0luZm8mJmUuc2V0Qm91bmRpbmdJbmZvKHRoaXMuX2JvdW5kaW5nSW5mbyl9fSxpLnByb3RvdHlwZS5fdXBkYXRlRXh0ZW5kPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPW51bGwpLHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5JiZ0aGlzLl9ib3VuZGluZ0luZm8pdGhpcy5fZXh0ZW5kPXttaW5pbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5taW5pbXVtLmNsb25lKCksbWF4aW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWF4aW11bS5jbG9uZSgpfTtlbHNle2lmKCFlJiYoZT10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCksIWUpKXJldHVybjt0aGlzLl9leHRlbmQ9bm4oZSwwLHRoaXMuX3RvdGFsVmVydGljZXMsdGhpcy5ib3VuZGluZ0JpYXMsMyl9fSxpLnByb3RvdHlwZS5fYXBwbHlUb01lc2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbWVzaGVzLmxlbmd0aDtmb3IodmFyIHIgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0PT09MSYmdGhpcy5fdmVydGV4QnVmZmVyc1tyXS5jcmVhdGUoKSxyPT09bS5Qb3NpdGlvbktpbmQmJih0aGlzLl9leHRlbmR8fHRoaXMuX3VwZGF0ZUV4dGVuZCgpLGUuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGUuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goZS5pc1VuSW5kZXhlZCksZS5fdXBkYXRlQm91bmRpbmdJbmZvKCkpO3Q9PT0xJiZ0aGlzLl9pbmRpY2VzJiZ0aGlzLl9pbmRpY2VzLmxlbmd0aD4wJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSksZS5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpLGUuc3luY2hyb25pemVJbnN0YW5jZXMoKX0saS5wcm90b3R5cGUuX25vdGlmeVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLm9uR2VvbWV0cnlVcGRhdGVkJiZ0aGlzLm9uR2VvbWV0cnlVcGRhdGVkKHRoaXMsZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKHZhciB0PTAscj10aGlzLl9tZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9fSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5kZWxheUxvYWRTdGF0ZSE9PTIpe2lmKHRoaXMuaXNSZWFkeSgpKXt0JiZ0KCk7cmV0dXJufXRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQoZSx0KX19LGkucHJvdG90eXBlLl9xdWV1ZUxvYWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzOyF0aGlzLmRlbGF5TG9hZGluZ0ZpbGV8fChlLl9hZGRQZW5kaW5nRGF0YSh0aGlzKSxlLl9sb2FkRmlsZSh0aGlzLmRlbGF5TG9hZGluZ0ZpbGUsZnVuY3Rpb24obil7aWYoISFyLl9kZWxheUxvYWRpbmdGdW5jdGlvbil7ci5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShuKSxyKSxyLmRlbGF5TG9hZFN0YXRlPTEsci5fZGVsYXlJbmZvPVtdLGUuX3JlbW92ZVBlbmRpbmdEYXRhKHIpO2Zvcih2YXIgYT1yLl9tZXNoZXMscz1hLmxlbmd0aCxvPTA7bzxzO28rKylyLl9hcHBseVRvTWVzaChhW29dKTt0JiZ0KCl9fSx2b2lkIDAsITApKX0saS5wcm90b3R5cGUudG9MZWZ0SGFuZGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbmRpY2VzKCExKTtpZihlIT1udWxsJiZlLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrPTMpe3ZhciByPWVbdCswXTtlW3QrMF09ZVt0KzJdLGVbdCsyXT1yfXRoaXMuc2V0SW5kaWNlcyhlKX12YXIgbj10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCwhMSk7aWYobiE9bnVsbCYmbi5sZW5ndGg+MCl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0Kz0zKW5bdCsyXT0tblt0KzJdO3RoaXMuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLG4sITEpfXZhciBhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCwhMSk7aWYoYSE9bnVsbCYmYS5sZW5ndGg+MCl7Zm9yKHZhciB0PTA7dDxhLmxlbmd0aDt0Kz0zKWFbdCsyXT0tYVt0KzJdO3RoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxhLCExKX19LGkucHJvdG90eXBlLl9yZXNldFBvaW50c0FycmF5Q2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9wb3NpdGlvbnM9bnVsbH0saS5wcm90b3R5cGUuX2dlbmVyYXRlUG9pbnRzQXJyYXk9ZnVuY3Rpb24oKXtpZih0aGlzLl9wb3NpdGlvbnMpcmV0dXJuITA7dmFyIGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO2lmKCFlfHxlLmxlbmd0aD09PTApcmV0dXJuITE7Zm9yKHZhciB0PXRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aCozLHI9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoO3Q8ZS5sZW5ndGg7dCs9MywrK3IpdGhpcy5fcG9zaXRpb25zQ2FjaGVbcl09Yi5Gcm9tQXJyYXkoZSx0KTtmb3IodmFyIHQ9MCxyPTA7dDxlLmxlbmd0aDt0Kz0zLCsrcil0aGlzLl9wb3NpdGlvbnNDYWNoZVtyXS5zZXQoZVswK3RdLGVbMSt0XSxlWzIrdF0pO3JldHVybiB0aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg9ZS5sZW5ndGgvMyx0aGlzLl9wb3NpdGlvbnM9dGhpcy5fcG9zaXRpb25zQ2FjaGUsITB9LGkucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0saS5wcm90b3R5cGUuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHM9ZnVuY3Rpb24oKXtpZih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpe2Zvcih2YXIgZSBpbiB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZV0pO3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fTtmb3IodmFyIHQ9dGhpcy5fbWVzaGVzLHI9dC5sZW5ndGgsbj0wO248cjtuKyspdFtuXS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aCxyO2ZvcihyPTA7cjx0O3IrKyl0aGlzLnJlbGVhc2VGb3JNZXNoKGVbcl0pO3RoaXMuX21lc2hlcz1bXSx0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKHZhciBuIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdGhpcy5fdmVydGV4QnVmZmVyc1tuXS5kaXNwb3NlKCk7aWYodGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faW5kZXhCdWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmRlbGF5TG9hZGluZ0ZpbGU9bnVsbCx0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1udWxsLHRoaXMuX2RlbGF5SW5mbz1bXSx0aGlzLl9ib3VuZGluZ0luZm89bnVsbCx0aGlzLl9zY2VuZS5yZW1vdmVHZW9tZXRyeSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBhPXRoaXMuX3BhcmVudENvbnRhaW5lci5nZW9tZXRyaWVzLmluZGV4T2YodGhpcyk7YT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuc3BsaWNlKGEsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9dGhpcy5faXNEaXNwb3NlZD0hMH0saS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZ2U7dC5pbmRpY2VzPVtdO3ZhciByPXRoaXMuZ2V0SW5kaWNlcygpO2lmKHIpZm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspdC5pbmRpY2VzLnB1c2gocltuXSk7dmFyIGE9ITEscz0hMSxvO2ZvcihvIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpe3ZhciB1PXRoaXMuZ2V0VmVydGljZXNEYXRhKG8pO2lmKHUmJih1IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3Quc2V0KG5ldyBGbG9hdDMyQXJyYXkodSksbyk6dC5zZXQodS5zbGljZSgwKSxvKSwhcykpe3ZhciBmPXRoaXMuZ2V0VmVydGV4QnVmZmVyKG8pO2YmJihhPWYuaXNVcGRhdGFibGUoKSxzPSFhKX19dmFyIGw9bmV3IGkoZSx0aGlzLl9zY2VuZSx0LGEpO2wuZGVsYXlMb2FkU3RhdGU9dGhpcy5kZWxheUxvYWRTdGF0ZSxsLmRlbGF5TG9hZGluZ0ZpbGU9dGhpcy5kZWxheUxvYWRpbmdGaWxlLGwuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uO2ZvcihvIGluIHRoaXMuX2RlbGF5SW5mbylsLl9kZWxheUluZm89bC5fZGVsYXlJbmZvfHxbXSxsLl9kZWxheUluZm8ucHVzaChvKTtyZXR1cm4gbC5fYm91bmRpbmdJbmZvPW5ldyBUdCh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksbH0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUuaWQ9dGhpcy5pZCxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS51cGRhdGFibGU9dGhpcy5fdXBkYXRhYmxlLGNlJiZjZS5IYXNUYWdzKHRoaXMpJiYoZS50YWdzPWNlLkdldFRhZ3ModGhpcykpLGV9LGkucHJvdG90eXBlLl90b051bWJlckFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSl9LGkucHJvdG90eXBlLmNsZWFyQ2FjaGVkRGF0YT1mdW5jdGlvbigpe3RoaXMuX2luZGljZXM9W10sdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKHZhciBlIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl92ZXJ0ZXhCdWZmZXJzLGUpfHwodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5fYnVmZmVyLl9kYXRhPW51bGwpfSxpLnByb3RvdHlwZS5zZXJpYWxpemVWZXJ0aWNlRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VyaWFsaXplKCk7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSYmKGUudXZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVVZLaW5kKSYmKGUudXZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWMktpbmQpJiYoZS51djJzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVjJLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlVWMktpbmQpJiYoZS51djJzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWM0tpbmQpJiYoZS51djNzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlVWM0tpbmQpJiYoZS51djNzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWNEtpbmQpJiYoZS51djRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVjRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlVWNEtpbmQpJiYoZS51djRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWNUtpbmQpJiYoZS51djVzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVjVLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlVWNUtpbmQpJiYoZS51djVzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWNktpbmQpJiYoZS51djZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlVWNktpbmQpJiYoZS51djZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLkNvbG9yS2luZCkmJihlLmNvbG9ycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLkNvbG9yS2luZCkmJihlLmNvbG9ycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kKSksZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITAsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGU9ITApKSxlLmluZGljZXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldEluZGljZXMoKSksZX0saS5FeHRyYWN0RnJvbU1lc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLl9nZW9tZXRyeTtyZXR1cm4gcj9yLmNvcHkodCk6bnVsbH0saS5SYW5kb21JZD1mdW5jdGlvbigpe3JldHVybiBfZS5SYW5kb21JZCgpfSxpLl9HZXRHZW9tZXRyeUJ5TG9hZGVkVW5pcXVlSWQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPHQuZ2VvbWV0cmllcy5sZW5ndGg7cisrKWlmKHQuZ2VvbWV0cmllc1tyXS5fbG9hZGVkVW5pcXVlSWQ9PT1lKXJldHVybiB0Lmdlb21ldHJpZXNbcl07cmV0dXJuIG51bGx9LGkuX0ltcG9ydEdlb21ldHJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5nZXRTY2VuZSgpLG49ZS5nZW9tZXRyeVVuaXF1ZUlkLGE9ZS5nZW9tZXRyeUlkO2lmKG58fGEpe3ZhciBzPW4/dGhpcy5fR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKG4scik6ci5nZXRHZW9tZXRyeUJ5SWQoYSk7cyYmcy5hcHBseVRvTWVzaCh0KX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIG89dC5fYmluYXJ5SW5mbztpZihvLnBvc2l0aW9uc0F0dHJEZXNjJiZvLnBvc2l0aW9uc0F0dHJEZXNjLmNvdW50PjApe3ZhciB1PW5ldyBGbG9hdDMyQXJyYXkoZSxvLnBvc2l0aW9uc0F0dHJEZXNjLm9mZnNldCxvLnBvc2l0aW9uc0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCx1LCExKX1pZihvLm5vcm1hbHNBdHRyRGVzYyYmby5ub3JtYWxzQXR0ckRlc2MuY291bnQ+MCl7dmFyIGY9bmV3IEZsb2F0MzJBcnJheShlLG8ubm9ybWFsc0F0dHJEZXNjLm9mZnNldCxvLm5vcm1hbHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLGYsITEpfWlmKG8udGFuZ2V0c0F0dHJEZXNjJiZvLnRhbmdldHNBdHRyRGVzYy5jb3VudD4wKXt2YXIgbD1uZXcgRmxvYXQzMkFycmF5KGUsby50YW5nZXRzQXR0ckRlc2Mub2Zmc2V0LG8udGFuZ2V0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kLGwsITEpfWlmKG8udXZzQXR0ckRlc2MmJm8udXZzQXR0ckRlc2MuY291bnQ+MCl7dmFyIGg9bmV3IEZsb2F0MzJBcnJheShlLG8udXZzQXR0ckRlc2Mub2Zmc2V0LG8udXZzQXR0ckRlc2MuY291bnQpO2lmKGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxoLmxlbmd0aDtjKz0yKWhbY109MS1oW2NdO3Quc2V0VmVydGljZXNEYXRhKG0uVVZLaW5kLGgsITEpfWlmKG8udXZzMkF0dHJEZXNjJiZvLnV2czJBdHRyRGVzYy5jb3VudD4wKXt2YXIgZD1uZXcgRmxvYXQzMkFycmF5KGUsby51dnMyQXR0ckRlc2Mub2Zmc2V0LG8udXZzMkF0dHJEZXNjLmNvdW50KTtpZihqZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8ZC5sZW5ndGg7Yys9MilkW2NdPTEtZFtjXTt0LnNldFZlcnRpY2VzRGF0YShtLlVWMktpbmQsZCwhMSl9aWYoby51dnMzQXR0ckRlc2MmJm8udXZzM0F0dHJEZXNjLmNvdW50PjApe3ZhciBwPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czNBdHRyRGVzYy5vZmZzZXQsby51dnMzQXR0ckRlc2MuY291bnQpO2lmKGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxwLmxlbmd0aDtjKz0yKXBbY109MS1wW2NdO3Quc2V0VmVydGljZXNEYXRhKG0uVVYzS2luZCxwLCExKX1pZihvLnV2czRBdHRyRGVzYyYmby51dnM0QXR0ckRlc2MuY291bnQ+MCl7dmFyIGc9bmV3IEZsb2F0MzJBcnJheShlLG8udXZzNEF0dHJEZXNjLm9mZnNldCxvLnV2czRBdHRyRGVzYy5jb3VudCk7aWYoamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPGcubGVuZ3RoO2MrPTIpZ1tjXT0xLWdbY107dC5zZXRWZXJ0aWNlc0RhdGEobS5VVjRLaW5kLGcsITEpfWlmKG8udXZzNUF0dHJEZXNjJiZvLnV2czVBdHRyRGVzYy5jb3VudD4wKXt2YXIgXz1uZXcgRmxvYXQzMkFycmF5KGUsby51dnM1QXR0ckRlc2Mub2Zmc2V0LG8udXZzNUF0dHJEZXNjLmNvdW50KTtpZihqZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8Xy5sZW5ndGg7Yys9MilfW2NdPTEtX1tjXTt0LnNldFZlcnRpY2VzRGF0YShtLlVWNUtpbmQsXywhMSl9aWYoby51dnM2QXR0ckRlc2MmJm8udXZzNkF0dHJEZXNjLmNvdW50PjApe3ZhciB2PW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czZBdHRyRGVzYy5vZmZzZXQsby51dnM2QXR0ckRlc2MuY291bnQpO2lmKGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7Yzx2Lmxlbmd0aDtjKz0yKXZbY109MS12W2NdO3Quc2V0VmVydGljZXNEYXRhKG0uVVY2S2luZCx2LCExKX1pZihvLmNvbG9yc0F0dHJEZXNjJiZvLmNvbG9yc0F0dHJEZXNjLmNvdW50PjApe3ZhciB5PW5ldyBGbG9hdDMyQXJyYXkoZSxvLmNvbG9yc0F0dHJEZXNjLm9mZnNldCxvLmNvbG9yc0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShtLkNvbG9yS2luZCx5LCExLG8uY29sb3JzQXR0ckRlc2Muc3RyaWRlKX1pZihvLm1hdHJpY2VzSW5kaWNlc0F0dHJEZXNjJiZvLm1hdHJpY2VzSW5kaWNlc0F0dHJEZXNjLmNvdW50PjApe2Zvcih2YXIgRT1uZXcgSW50MzJBcnJheShlLG8ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2Mub2Zmc2V0LG8ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQpLFI9W10sTT0wO008RS5sZW5ndGg7TSsrKXt2YXIgYz1FW01dO1IucHVzaChjJjI1NSksUi5wdXNoKChjJjY1MjgwKT4+OCksUi5wdXNoKChjJjE2NzExNjgwKT4+MTYpLFIucHVzaChjPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCxSLCExKX1pZihvLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MmJm8ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5jb3VudD4wKXtmb3IodmFyIEU9bmV3IEludDMyQXJyYXkoZSxvLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2Mub2Zmc2V0LG8ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5jb3VudCksUj1bXSxNPTA7TTxFLmxlbmd0aDtNKyspe3ZhciBjPUVbTV07Ui5wdXNoKGMmMjU1KSxSLnB1c2goKGMmNjUyODApPj44KSxSLnB1c2goKGMmMTY3MTE2ODApPj4xNiksUi5wdXNoKGM+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsUiwhMSl9aWYoby5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYyYmby5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYy5jb3VudD4wKXt2YXIgQz1uZXcgRmxvYXQzMkFycmF5KGUsby5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYy5vZmZzZXQsby5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLEMsITEpfWlmKG8uaW5kaWNlc0F0dHJEZXNjJiZvLmluZGljZXNBdHRyRGVzYy5jb3VudD4wKXt2YXIgQT1uZXcgSW50MzJBcnJheShlLG8uaW5kaWNlc0F0dHJEZXNjLm9mZnNldCxvLmluZGljZXNBdHRyRGVzYy5jb3VudCk7dC5zZXRJbmRpY2VzKEEsbnVsbCl9aWYoby5zdWJNZXNoZXNBdHRyRGVzYyYmby5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudD4wKXt2YXIgUz1uZXcgSW50MzJBcnJheShlLG8uc3ViTWVzaGVzQXR0ckRlc2Mub2Zmc2V0LG8uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQqNSk7dC5zdWJNZXNoZXM9W107Zm9yKHZhciBNPTA7TTxvLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50O00rKyl7dmFyIHc9U1tNKjUrMF0sRj1TW00qNSsxXSx4PVNbTSo1KzJdLEc9U1tNKjUrM10sVz1TW00qNSs0XTtTdC5BZGRUb01lc2godyxGLHgsRyxXLHQpfX19ZWxzZSBpZihlLnBvc2l0aW9ucyYmZS5ub3JtYWxzJiZlLmluZGljZXMpe2lmKHQuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLGUucG9zaXRpb25zLGUucG9zaXRpb25zLl91cGRhdGFibGUpLHQuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxlLm5vcm1hbHMsZS5ub3JtYWxzLl91cGRhdGFibGUpLGUudGFuZ2VudHMmJnQuc2V0VmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQsZS50YW5nZW50cyxlLnRhbmdlbnRzLl91cGRhdGFibGUpLGUudXZzJiZ0LnNldFZlcnRpY2VzRGF0YShtLlVWS2luZCxlLnV2cyxlLnV2cy5fdXBkYXRhYmxlKSxlLnV2czImJnQuc2V0VmVydGljZXNEYXRhKG0uVVYyS2luZCxlLnV2czIsZS51dnMyLl91cGRhdGFibGUpLGUudXZzMyYmdC5zZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kLGUudXZzMyxlLnV2czMuX3VwZGF0YWJsZSksZS51dnM0JiZ0LnNldFZlcnRpY2VzRGF0YShtLlVWNEtpbmQsZS51dnM0LGUudXZzNC5fdXBkYXRhYmxlKSxlLnV2czUmJnQuc2V0VmVydGljZXNEYXRhKG0uVVY1S2luZCxlLnV2czUsZS51dnM1Ll91cGRhdGFibGUpLGUudXZzNiYmdC5zZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kLGUudXZzNixlLnV2czYuX3VwZGF0YWJsZSksZS5jb2xvcnMmJnQuc2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLEVlLkNoZWNrQ29sb3JzNChlLmNvbG9ycyxlLnBvc2l0aW9ucy5sZW5ndGgvMyksZS5jb2xvcnMuX3VwZGF0YWJsZSksZS5tYXRyaWNlc0luZGljZXMpaWYoZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQpZGVsZXRlIGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkLHQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCxlLm1hdHJpY2VzSW5kaWNlcyxlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlKTtlbHNle2Zvcih2YXIgUj1bXSxNPTA7TTxlLm1hdHJpY2VzSW5kaWNlcy5sZW5ndGg7TSsrKXt2YXIgTj1lLm1hdHJpY2VzSW5kaWNlc1tNXTtSLnB1c2goTiYyNTUpLFIucHVzaCgoTiY2NTI4MCk+PjgpLFIucHVzaCgoTiYxNjcxMTY4MCk+PjE2KSxSLnB1c2goTj4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQsUixlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlKX1pZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhKWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQpZGVsZXRlIGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkLHQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLGUubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5fdXBkYXRhYmxlKTtlbHNle2Zvcih2YXIgUj1bXSxNPTA7TTxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLmxlbmd0aDtNKyspe3ZhciBOPWUubWF0cmljZXNJbmRpY2VzRXh0cmFbTV07Ui5wdXNoKE4mMjU1KSxSLnB1c2goKE4mNjUyODApPj44KSxSLnB1c2goKE4mMTY3MTE2ODApPj4xNiksUi5wdXNoKE4+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsUixlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl91cGRhdGFibGUpfWUubWF0cmljZXNXZWlnaHRzJiYoaS5fQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KSx0LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZS5tYXRyaWNlc1dlaWdodHMsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSkpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLGUubWF0cmljZXNXZWlnaHRzRXh0cmEsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSksdC5zZXRJbmRpY2VzKGUuaW5kaWNlcyxudWxsKX1pZihlLnN1Yk1lc2hlcyl7dC5zdWJNZXNoZXM9W107Zm9yKHZhciBxPTA7cTxlLnN1Yk1lc2hlcy5sZW5ndGg7cSsrKXt2YXIgJD1lLnN1Yk1lc2hlc1txXTtTdC5BZGRUb01lc2goJC5tYXRlcmlhbEluZGV4LCQudmVydGljZXNTdGFydCwkLnZlcnRpY2VzQ291bnQsJC5pbmRleFN0YXJ0LCQuaW5kZXhDb3VudCx0KX19dC5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZyYmKHQuY29udmVydFRvRmxhdFNoYWRlZE1lc2goKSx0Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExKSx0LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksci5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpfSxpLl9DbGVhbk1hdHJpY2VzV2VpZ2h0cz1mdW5jdGlvbihlLHQpe3ZhciByPS4wMDE7aWYoISFudC5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzKXt2YXIgbj0wO2lmKGUuc2tlbGV0b25JZD4tMSl7dmFyIGE9dC5nZXRTY2VuZSgpLmdldExhc3RTa2VsZXRvbkJ5SWQoZS5za2VsZXRvbklkKTtpZighYSlyZXR1cm47bj1hLmJvbmVzLmxlbmd0aH1lbHNlIHJldHVybjtmb3IodmFyIHM9dC5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kKSxvPXQuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSx1PWUubWF0cmljZXNXZWlnaHRzLGY9ZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxsPWUubnVtQm9uZUluZmx1ZW5jZXIsaD11Lmxlbmd0aCxjPTA7YzxoO2MrPTQpe2Zvcih2YXIgZD0wLHA9LTEsZz0wO2c8NDtnKyspe3ZhciBfPXVbYytnXTtkKz1fLF88ciYmcDwwJiYocD1nKX1pZihmKWZvcih2YXIgZz0wO2c8NDtnKyspe3ZhciBfPWZbYytnXTtkKz1fLF88ciYmcDwwJiYocD1nKzQpfWlmKChwPDB8fHA+bC0xKSYmKHA9bC0xKSxkPnIpe2Zvcih2YXIgdj0xL2QsZz0wO2c8NDtnKyspdVtjK2ddKj12O2lmKGYpZm9yKHZhciBnPTA7Zzw0O2crKylmW2MrZ10qPXZ9ZWxzZSBwPj00PyhmW2MrcC00XT0xLWQsb1tjK3AtNF09bik6KHVbYytwXT0xLWQsc1tjK3BdPW4pfXQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCxzKSxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZ0LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxvKX19LGkuUGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKGUuaWQsdCx2b2lkIDAsZS51cGRhdGFibGUpO3JldHVybiBuLl9sb2FkZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGNlJiZjZS5BZGRUYWdzVG8obixlLnRhZ3MpLGUuZGVsYXlMb2FkaW5nRmlsZT8obi5kZWxheUxvYWRTdGF0ZT00LG4uZGVsYXlMb2FkaW5nRmlsZT1yK2UuZGVsYXlMb2FkaW5nRmlsZSxuLl9ib3VuZGluZ0luZm89bmV3IFR0KGIuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNaW5pbXVtKSxiLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWF4aW11bSkpLG4uX2RlbGF5SW5mbz1bXSxlLmhhc1VWcyYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVktpbmQpLGUuaGFzVVZzMiYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVjJLaW5kKSxlLmhhc1VWczMmJm4uX2RlbGF5SW5mby5wdXNoKG0uVVYzS2luZCksZS5oYXNVVnM0JiZuLl9kZWxheUluZm8ucHVzaChtLlVWNEtpbmQpLGUuaGFzVVZzNSYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVjVLaW5kKSxlLmhhc1VWczYmJm4uX2RlbGF5SW5mby5wdXNoKG0uVVY2S2luZCksZS5oYXNDb2xvcnMmJm4uX2RlbGF5SW5mby5wdXNoKG0uQ29sb3JLaW5kKSxlLmhhc01hdHJpY2VzSW5kaWNlcyYmbi5fZGVsYXlJbmZvLnB1c2gobS5NYXRyaWNlc0luZGljZXNLaW5kKSxlLmhhc01hdHJpY2VzV2VpZ2h0cyYmbi5fZGVsYXlJbmZvLnB1c2gobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxuLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1nZS5JbXBvcnRWZXJ0ZXhEYXRhKTpnZS5JbXBvcnRWZXJ0ZXhEYXRhKGUsbiksdC5wdXNoR2VvbWV0cnkobiwhMCksbn0saX0oKSxodDsoZnVuY3Rpb24oaSl7aVtpLkxPQ0FMPTBdPSJMT0NBTCIsaVtpLldPUkxEPTFdPSJXT1JMRCIsaVtpLkJPTkU9Ml09IkJPTkUifSkoaHR8fChodD17fSkpO3ZhciBQcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuWD1uZXcgYigxLDAsMCksaS5ZPW5ldyBiKDAsMSwwKSxpLlo9bmV3IGIoMCwwLDEpLGl9KCksYW47KGZ1bmN0aW9uKGkpe2lbaS5YPTBdPSJYIixpW2kuWT0xXT0iWSIsaVtpLlo9Ml09IloifSkoYW58fChhbj17fSkpO3ZhciBKZT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7cj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49ITApO3ZhciBhPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGEuX2ZvcndhcmQ9bmV3IGIoMCwwLDEpLGEuX3VwPW5ldyBiKDAsMSwwKSxhLl9yaWdodD1uZXcgYigxLDAsMCksYS5fcG9zaXRpb249Yi5aZXJvKCksYS5fcm90YXRpb249Yi5aZXJvKCksYS5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsYS5fc2NhbGluZz1iLk9uZSgpLGEuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCxhLl9pc0Fic29sdXRlU3luY2VkPSExLGEuX2JpbGxib2FyZE1vZGU9ZS5CSUxMQk9BUkRNT0RFX05PTkUsYS5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZD0hMSxhLnNjYWxpbmdEZXRlcm1pbmFudD0xLGEuX2luZmluaXRlRGlzdGFuY2U9ITEsYS5pZ25vcmVOb25Vbmlmb3JtU2NhbGluZz0hMSxhLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uPSExLGEuX3Bvc2VNYXRyaXg9bnVsbCxhLl9sb2NhbE1hdHJpeD1JLlplcm8oKSxhLl91c2VQaXZvdE1hdHJpeD0hMSxhLl9hYnNvbHV0ZVBvc2l0aW9uPWIuWmVybygpLGEuX2Fic29sdXRlU2NhbGluZz1iLlplcm8oKSxhLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbj1pZS5JZGVudGl0eSgpLGEuX3Bpdm90TWF0cml4PUkuSWRlbnRpdHkoKSxhLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD0hMSxhLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLGEuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9LTEsYS5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlPW5ldyBPLGEuX25vblVuaWZvcm1TY2FsaW5nPSExLG4mJmEuZ2V0U2NlbmUoKS5hZGRUcmFuc2Zvcm1Ob2RlKGEpLGF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmlsbGJvYXJkTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iaWxsYm9hcmRNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYmlsbGJvYXJkTW9kZSE9PXQmJih0aGlzLl9iaWxsYm9hcmRNb2RlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQmJih0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5maW5pdGVEaXN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmZpbml0ZURpc3RhbmNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5maW5pdGVEaXN0YW5jZSE9PXQmJih0aGlzLl9pbmZpbml0ZURpc3RhbmNlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUcmFuc2Zvcm1Ob2RlIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Bvc2l0aW9uPXQsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5pc1VzaW5nUGl2b3RNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlUGl2b3RNYXRyaXh9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicm90YXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yb3RhdGlvbj10LHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1udWxsLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjYWxpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zY2FsaW5nPXQsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJvdGF0aW9uUXVhdGVybmlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvblF1YXRlcm5pb259LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yb3RhdGlvblF1YXRlcm5pb249dCx0JiZ0aGlzLl9yb3RhdGlvbi5zZXRBbGwoMCksdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvcndhcmQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwwLHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9mb3J3YXJkKSx0aGlzLl9mb3J3YXJkLm5vcm1hbGl6ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwxLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3VwKSx0aGlzLl91cC5ub3JtYWxpemUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxLDAsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fcmlnaHQpLHRoaXMuX3JpZ2h0Lm5vcm1hbGl6ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnVwZGF0ZVBvc2VNYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Bvc2VNYXRyaXg/KHRoaXMuX3Bvc2VNYXRyaXguY29weUZyb20odCksdGhpcyk6KHRoaXMuX3Bvc2VNYXRyaXg9dC5jbG9uZSgpLHRoaXMpfSxlLnByb3RvdHlwZS5nZXRQb3NlTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PUkuSWRlbnRpdHkoKSksdGhpcy5fcG9zZU1hdHJpeH0sZS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGU7cmV0dXJuISh0aGlzLl9iaWxsYm9hcmRNb2RlIT09dC5iaWxsYm9hcmRNb2RlfHx0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZS5CSUxMQk9BUkRNT0RFX05PTkV8fHQucGl2b3RNYXRyaXhVcGRhdGVkfHx0aGlzLl9pbmZpbml0ZURpc3RhbmNlfHx0aGlzLl9wb3NpdGlvbi5faXNEaXJ0eXx8dGhpcy5fc2NhbGluZy5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHl8fHRoaXMuX3JvdGF0aW9uLl9pc0RpcnR5KX0sZS5wcm90b3R5cGUuX2luaXRDYWNoZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9pbml0Q2FjaGUuY2FsbCh0aGlzKTt2YXIgdD10aGlzLl9jYWNoZTt0LmxvY2FsTWF0cml4VXBkYXRlZD0hMSx0LmJpbGxib2FyZE1vZGU9LTEsdC5pbmZpbml0ZURpc3RhbmNlPSExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFic29sdXRlUG9zaXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhYnNvbHV0ZVNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVTY2FsaW5nfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0UHJlVHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFBpdm90TWF0cml4KHQsITEpfSxlLnByb3RvdHlwZS5zZXRQaXZvdE1hdHJpeD1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0hMCksdGhpcy5fcGl2b3RNYXRyaXguY29weUZyb20odCksdGhpcy5fdXNlUGl2b3RNYXRyaXg9IXRoaXMuX3Bpdm90TWF0cml4LmlzSWRlbnRpdHkoKSx0aGlzLl9jYWNoZS5waXZvdE1hdHJpeFVwZGF0ZWQ9ITAsdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg9cix0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT90aGlzLl9waXZvdE1hdHJpeC5pbnZlcnRUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UpOnRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT1JLkludmVydCh0aGlzLl9waXZvdE1hdHJpeCkpLHRoaXN9LGUucHJvdG90eXBlLmdldFBpdm90TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bpdm90TWF0cml4fSxlLnByb3RvdHlwZS5pbnN0YW50aWF0ZUhpZXJhcmNoeT1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIGE9dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSx0fHx0aGlzLnBhcmVudCwhMCk7YSYmbiYmbih0aGlzLGEpO2Zvcih2YXIgcz0wLG89dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTt1Lmluc3RhbnRpYXRlSGllcmFyY2h5KGEscixuKX1yZXR1cm4gYX0sZS5wcm90b3R5cGUuZnJlZXplV29ybGRNYXRyaXg9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9ITEpLHQ/cj8odGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9yb3RhdGlvblF1YXRlcm5pb258fGllLklkZW50aXR5KCksdC5kZWNvbXBvc2UodGhpcy5fc2NhbGluZyx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5fcG9zaXRpb24pLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSk6KHRoaXMuX3dvcmxkTWF0cml4PXQsdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKSk6KHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITAsdGhpc30sZS5wcm90b3R5cGUudW5mcmVlemVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzV29ybGRNYXRyaXhGcm96ZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbn0sZS5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbj1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpczt2YXIgcixuLGE7aWYodC54PT09dm9pZCAwKXtpZihhcmd1bWVudHMubGVuZ3RoPDMpcmV0dXJuIHRoaXM7cj1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl19ZWxzZSByPXQueCxuPXQueSxhPXQuejtpZih0aGlzLnBhcmVudCl7dmFyIHM9RC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihzKSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHIsbixhLHMsdGhpcy5wb3NpdGlvbil9ZWxzZSB0aGlzLnBvc2l0aW9uLng9cix0aGlzLnBvc2l0aW9uLnk9bix0aGlzLnBvc2l0aW9uLno9YTtyZXR1cm4gdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzfSxlLnByb3RvdHlwZS5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLnBvc2l0aW9uPWIuVHJhbnNmb3JtTm9ybWFsKHQsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uRXhwcmVzc2VkSW5Mb2NhbFNwYWNlPWZ1bmN0aW9uKCl7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTt2YXIgdD1ELk1hdHJpeFswXTtyZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXguaW52ZXJ0VG9SZWYodCksYi5UcmFuc2Zvcm1Ob3JtYWwodGhpcy5wb3NpdGlvbix0KX0sZS5wcm90b3R5cGUubG9jYWxseVRyYW5zbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMucG9zaXRpb249Yi5UcmFuc2Zvcm1Db29yZGluYXRlcyh0LHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzfSxlLnByb3RvdHlwZS5sb29rQXQ9ZnVuY3Rpb24odCxyLG4sYSxzKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT0wKSxzPT09dm9pZCAwJiYocz1odC5MT0NBTCk7dmFyIG89ZS5fTG9va0F0VmVjdG9yQ2FjaGUsdT1zPT09aHQuTE9DQUw/dGhpcy5wb3NpdGlvbjp0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKTtpZih0LnN1YnRyYWN0VG9SZWYodSxvKSx0aGlzLnNldERpcmVjdGlvbihvLHIsbixhKSxzPT09aHQuV09STEQmJnRoaXMucGFyZW50KWlmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKXt2YXIgZj1ELk1hdHJpeFswXTt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KGYpO3ZhciBsPUQuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihsKSxsLmludmVydCgpLGYubXVsdGlwbHlUb1JlZihsLGYpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeChmKX1lbHNle3ZhciBoPUQuUXVhdGVybmlvblswXTtpZS5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLGgpO3ZhciBmPUQuTWF0cml4WzBdO2gudG9Sb3RhdGlvbk1hdHJpeChmKTt2YXIgbD1ELk1hdHJpeFsxXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdGF0aW9uTWF0cml4VG9SZWYobCksbC5pbnZlcnQoKSxmLm11bHRpcGx5VG9SZWYobCxmKSxoLmZyb21Sb3RhdGlvbk1hdHJpeChmKSxoLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciByPWIuWmVybygpO3JldHVybiB0aGlzLmdldERpcmVjdGlvblRvUmVmKHQscikscn0sZS5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uVG9SZWY9ZnVuY3Rpb24odCxyKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0LHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxyKSx0aGlzfSxlLnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24odCxyLG4sYSl7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9MCk7dmFyIHM9LU1hdGguYXRhbjIodC56LHQueCkrTWF0aC5QSS8yLG89TWF0aC5zcXJ0KHQueCp0LngrdC56KnQueiksdT0tTWF0aC5hdGFuMih0Lnksbyk7cmV0dXJuIHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2llLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYocytyLHUrbixhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKToodGhpcy5yb3RhdGlvbi54PXUrbix0aGlzLnJvdGF0aW9uLnk9cytyLHRoaXMucm90YXRpb24uej1hKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRQaXZvdFBvaW50PWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9aHQuTE9DQUwpLHRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpPT0wJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7dmFyIG49dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2lmKHI9PWh0LldPUkxEKXt2YXIgYT1ELk1hdHJpeFswXTtuLmludmVydFRvUmVmKGEpLHQ9Yi5UcmFuc2Zvcm1Db29yZGluYXRlcyh0LGEpfXJldHVybiB0aGlzLnNldFBpdm90TWF0cml4KEkuVHJhbnNsYXRpb24oLXQueCwtdC55LC10LnopLCEwKX0sZS5wcm90b3R5cGUuZ2V0UGl2b3RQb2ludD1mdW5jdGlvbigpe3ZhciB0PWIuWmVybygpO3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZih0KSx0fSxlLnByb3RvdHlwZS5nZXRQaXZvdFBvaW50VG9SZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHQueD0tdGhpcy5fcGl2b3RNYXRyaXgubVsxMl0sdC55PS10aGlzLl9waXZvdE1hdHJpeC5tWzEzXSx0Lno9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTRdLHRoaXN9LGUucHJvdG90eXBlLmdldEFic29sdXRlUGl2b3RQb2ludD1mdW5jdGlvbigpe3ZhciB0PWIuWmVybygpO3JldHVybiB0aGlzLmdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmKHQpLHR9LGUucHJvdG90eXBlLmdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZih0KSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodCx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc30sZS5wcm90b3R5cGUubWFya0FzRGlydHk9ZnVuY3Rpb24odCl7aWYodGhpcy5fY2hpbGRyZW4pZm9yKHZhciByPTAsbj10aGlzLl9jaGlsZHJlbjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLm1hcmtBc0RpcnR5KHQpfXJldHVybiBpLnByb3RvdHlwZS5tYXJrQXNEaXJ0eS5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLnNldFBhcmVudD1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSwhdCYmIXRoaXMucGFyZW50KXJldHVybiB0aGlzO3ZhciBuPUQuUXVhdGVybmlvblswXSxhPUQuVmVjdG9yM1swXSxzPUQuVmVjdG9yM1sxXSxvPUQuTWF0cml4WzFdO0kuSWRlbnRpdHlUb1JlZihvKTt2YXIgdT1ELk1hdHJpeFswXTt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7dmFyIGY9dGhpcy5yb3RhdGlvblF1YXRlcm5pb247cmV0dXJuIGZ8fChmPWUuX1RtcFJvdGF0aW9uLGllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosZikpLEkuQ29tcG9zZVRvUmVmKHRoaXMuc2NhbGluZyxmLHRoaXMucG9zaXRpb24sdSksdGhpcy5wYXJlbnQmJnUubXVsdGlwbHlUb1JlZih0aGlzLnBhcmVudC5jb21wdXRlV29ybGRNYXRyaXgoITApLHUpLHQmJih0LmNvbXB1dGVXb3JsZE1hdHJpeCghMCkuaW52ZXJ0VG9SZWYobyksdS5tdWx0aXBseVRvUmVmKG8sdSkpLHUuZGVjb21wb3NlKHMsbixhLHI/dGhpczp2b2lkIDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG4pOm4udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXMuc2NhbGluZy5jb3B5RnJvbShzKSx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tKGEpLHRoaXMucGFyZW50PXQsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJub25Vbmlmb3JtU2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZ30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9PT10PyExOih0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz10LCEwKX0sZS5wcm90b3R5cGUuYXR0YWNoVG9Cb25lPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lPXRoaXMucGFyZW50LHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9cix0aGlzLnBhcmVudD10LHQuZ2V0U2tlbGV0b24oKS5wcmVwYXJlKCksdC5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpc30sZS5wcm90b3R5cGUuZGV0YWNoRnJvbUJvbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5kZXRlcm1pbmFudCgpPDAmJih0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCo9LTEpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCx0P3RoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lOnRoaXMucGFyZW50PW51bGwsdGhpcyk6KHQmJih0aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZSksdGhpcyl9LGUucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbih0LHIsbil7dC5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb24udG9RdWF0ZXJuaW9uKCksdGhpcy5yb3RhdGlvbi5zZXRBbGwoMCkpO3ZhciBhO2lmKCFufHxuPT09aHQuTE9DQUwpYT1pZS5Sb3RhdGlvbkF4aXNUb1JlZih0LHIsZS5fUm90YXRpb25BeGlzQ2FjaGUpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5VG9SZWYoYSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik7ZWxzZXtpZih0aGlzLnBhcmVudCl7dmFyIHM9RC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihzKSx0PWIuVHJhbnNmb3JtTm9ybWFsKHQscyl9YT1pZS5Sb3RhdGlvbkF4aXNUb1JlZih0LHIsZS5fUm90YXRpb25BeGlzQ2FjaGUpLGEubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnJvdGF0ZUFyb3VuZD1mdW5jdGlvbih0LHIsbil7ci5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPWllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7dmFyIGE9RC5WZWN0b3IzWzBdLHM9RC5WZWN0b3IzWzFdLG89RC5WZWN0b3IzWzJdLHU9RC5RdWF0ZXJuaW9uWzBdLGY9RC5NYXRyaXhbMF0sbD1ELk1hdHJpeFsxXSxoPUQuTWF0cml4WzJdLGM9RC5NYXRyaXhbM107cmV0dXJuIHQuc3VidHJhY3RUb1JlZih0aGlzLnBvc2l0aW9uLGEpLEkuVHJhbnNsYXRpb25Ub1JlZihhLngsYS55LGEueixmKSxJLlRyYW5zbGF0aW9uVG9SZWYoLWEueCwtYS55LC1hLnosbCksSS5Sb3RhdGlvbkF4aXNUb1JlZihyLG4saCksbC5tdWx0aXBseVRvUmVmKGgsYyksYy5tdWx0aXBseVRvUmVmKGYsYyksYy5kZWNvbXBvc2Uocyx1LG8pLHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZShvKSx1Lm11bHRpcGx5VG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pLHRoaXN9LGUucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dC5zY2FsZShyKTtpZighbnx8bj09PWh0LkxPQ0FMKXt2YXIgcz10aGlzLmdldFBvc2l0aW9uRXhwcmVzc2VkSW5Mb2NhbFNwYWNlKCkuYWRkKGEpO3RoaXMuc2V0UG9zaXRpb25XaXRoTG9jYWxWZWN0b3Iocyl9ZWxzZSB0aGlzLnNldEFic29sdXRlUG9zaXRpb24odGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuYWRkKGEpKTtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYWRkUm90YXRpb249ZnVuY3Rpb24odCxyLG4pe3ZhciBhO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uP2E9dGhpcy5yb3RhdGlvblF1YXRlcm5pb246KGE9RC5RdWF0ZXJuaW9uWzFdLGllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosYSkpO3ZhciBzPUQuUXVhdGVybmlvblswXTtyZXR1cm4gaWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihyLHQsbixzKSxhLm11bHRpcGx5SW5QbGFjZShzKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8YS50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpc30sZS5wcm90b3R5cGUuX2dldEVmZmVjdGl2ZVBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudH0sZS5wcm90b3R5cGUuY29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW4mJiF0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzLl93b3JsZE1hdHJpeDt2YXIgcj10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKTtpZighdGhpcy5faXNEaXJ0eSYmIXQmJih0aGlzLl9jdXJyZW50UmVuZGVySWQ9PT1yfHx0aGlzLmlzU3luY2hyb25pemVkKCkpKXJldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9cix0aGlzLl93b3JsZE1hdHJpeDt2YXIgbj10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhLGE9KHRoaXMuX2JpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTikhPT0wLHM9dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUuQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkO3RoaXMuX3VwZGF0ZUNhY2hlKCk7dmFyIG89dGhpcy5fY2FjaGU7by5waXZvdE1hdHJpeFVwZGF0ZWQ9ITEsby5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxvLmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLG8ucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsdGhpcy5fY3VycmVudFJlbmRlcklkPXIsdGhpcy5fY2hpbGRVcGRhdGVJZCs9MSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3JvdGF0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3NjYWxpbmcuX2lzRGlydHk9ITE7dmFyIHU9dGhpcy5fZ2V0RWZmZWN0aXZlUGFyZW50KCksZj1lLl9UbXBTY2FsaW5nLGw9dGhpcy5fcG9zaXRpb247aWYodGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50JiZuKXt2YXIgaD1uLmdldFdvcmxkTWF0cml4KCksYz1uZXcgYihoLm1bMTJdLGgubVsxM10saC5tWzE0XSk7bD1lLl9UbXBUcmFuc2xhdGlvbixsLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3Bvc2l0aW9uLngrYy54LHRoaXMuX3Bvc2l0aW9uLnkrYy55LHRoaXMuX3Bvc2l0aW9uLnorYy56KX1mLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3NjYWxpbmcueCp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnkqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy56KnRoaXMuc2NhbGluZ0RldGVybWluYW50KTt2YXIgZDtpZih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24pe2lmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eT0hMSxkPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uKXt2YXIgcD10aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKTtwJiYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5SW5QbGFjZShpZS5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueikpLHRoaXMuX3JvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSl9fWVsc2UgZD1lLl9UbXBSb3RhdGlvbixpZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGQpO2lmKHRoaXMuX3VzZVBpdm90TWF0cml4KXt2YXIgZz1ELk1hdHJpeFsxXTtJLlNjYWxpbmdUb1JlZihmLngsZi55LGYueixnKTt2YXIgXz1ELk1hdHJpeFswXTtkLnRvUm90YXRpb25NYXRyaXgoXyksdGhpcy5fcGl2b3RNYXRyaXgubXVsdGlwbHlUb1JlZihnLEQuTWF0cml4WzRdKSxELk1hdHJpeFs0XS5tdWx0aXBseVRvUmVmKF8sdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4JiZ0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpcy5fbG9jYWxNYXRyaXguYWRkVHJhbnNsYXRpb25Gcm9tRmxvYXRzKGwueCxsLnksbC56KX1lbHNlIEkuQ29tcG9zZVRvUmVmKGYsZCxsLHRoaXMuX2xvY2FsTWF0cml4KTtpZih1JiZ1LmdldFdvcmxkTWF0cml4KXtpZih0JiZ1LmNvbXB1dGVXb3JsZE1hdHJpeCh0KSxzKXt0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsP3UuZ2V0V29ybGRNYXRyaXgoKS5tdWx0aXBseVRvUmVmKHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWwuZ2V0V29ybGRNYXRyaXgoKSxELk1hdHJpeFs3XSk6RC5NYXRyaXhbN10uY29weUZyb20odS5nZXRXb3JsZE1hdHJpeCgpKTt2YXIgdj1ELlZlY3RvcjNbNV0seT1ELlZlY3RvcjNbNl07RC5NYXRyaXhbN10uZGVjb21wb3NlKHksdm9pZCAwLHYpLEkuU2NhbGluZ1RvUmVmKHkueCx5LnkseS56LEQuTWF0cml4WzddKSxELk1hdHJpeFs3XS5zZXRUcmFuc2xhdGlvbih2KSx0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzddLHRoaXMuX3dvcmxkTWF0cml4KX1lbHNlIHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw/KHRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodS5nZXRXb3JsZE1hdHJpeCgpLEQuTWF0cml4WzZdKSxELk1hdHJpeFs2XS5tdWx0aXBseVRvUmVmKHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWwuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCkpOnRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodS5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KTt0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fd29ybGRNYXRyaXguY29weUZyb20odGhpcy5fbG9jYWxNYXRyaXgpO2lmKHMmJm4mJnRoaXMuYmlsbGJvYXJkTW9kZSYmIWEpe3ZhciBFPUQuVmVjdG9yM1swXTtpZih0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKEUpLEQuTWF0cml4WzFdLmNvcHlGcm9tKG4uZ2V0Vmlld01hdHJpeCgpKSxELk1hdHJpeFsxXS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLEQuTWF0cml4WzFdLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9BTEwpIT09ZS5CSUxMQk9BUkRNT0RFX0FMTCl7RC5NYXRyaXhbMF0uZGVjb21wb3NlKHZvaWQgMCxELlF1YXRlcm5pb25bMF0sdm9pZCAwKTt2YXIgUj1ELlZlY3RvcjNbMV07RC5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZihSKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9YKSE9PWUuQklMTEJPQVJETU9ERV9YJiYoUi54PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1kpIT09ZS5CSUxMQk9BUkRNT0RFX1kmJihSLnk9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWikhPT1lLkJJTExCT0FSRE1PREVfWiYmKFIuej0wKSxJLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoUi55LFIueCxSLnosRC5NYXRyaXhbMF0pfXRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksdGhpcy5fd29ybGRNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFswXSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb24oRC5WZWN0b3IzWzBdKX1lbHNlIGlmKHMmJm4mJnRoaXMuYmlsbGJvYXJkTW9kZSYmYSl7dmFyIEU9RC5WZWN0b3IzWzBdO3RoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoRSk7dmFyIE09bi5nbG9iYWxQb3NpdGlvbjt0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZihELk1hdHJpeFsxXSk7dmFyIEM9RC5WZWN0b3IzWzFdO2IuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihNLEQuTWF0cml4WzFdLEMpLEMubm9ybWFsaXplKCk7dmFyIEE9LU1hdGguYXRhbjIoQy56LEMueCkrTWF0aC5QSS8yLHA9TWF0aC5zcXJ0KEMueCpDLngrQy56KkMueiksUz0tTWF0aC5hdGFuMihDLnkscCk7aWYoaWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihBLFMsMCxELlF1YXRlcm5pb25bMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX0FMTCkhPT1lLkJJTExCT0FSRE1PREVfQUxMKXt2YXIgUj1ELlZlY3RvcjNbMV07RC5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZihSKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9YKSE9PWUuQklMTEJPQVJETU9ERV9YJiYoUi54PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1kpIT09ZS5CSUxMQk9BUkRNT0RFX1kmJihSLnk9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWikhPT1lLkJJTExCT0FSRE1PREVfWiYmKFIuej0wKSxJLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoUi55LFIueCxSLnosRC5NYXRyaXhbMF0pfWVsc2UgSS5Gcm9tUXVhdGVybmlvblRvUmVmKEQuUXVhdGVybmlvblswXSxELk1hdHJpeFswXSk7dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfXJldHVybiB0aGlzLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpOnRoaXMuX3NjYWxpbmcuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbigxZS02KT90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCEwKTp1JiZ1Ll9ub25Vbmlmb3JtU2NhbGluZz90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKHUuX25vblVuaWZvcm1TY2FsaW5nKTp0aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCExKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb21GbG9hdHModGhpcy5fd29ybGRNYXRyaXgubVsxMl0sdGhpcy5fd29ybGRNYXRyaXgubVsxM10sdGhpcy5fd29ybGRNYXRyaXgubVsxNF0pLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD1JLkludmVydCh0aGlzLl93b3JsZE1hdHJpeCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4fSxlLnByb3RvdHlwZS5yZXNldExvY2FsTWF0cml4PWZ1bmN0aW9uKHQpe2lmKHQ9PT12b2lkIDAmJih0PSEwKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHQpZm9yKHZhciByPXRoaXMuZ2V0Q2hpbGRyZW4oKSxuPTA7bjxyLmxlbmd0aDsrK24pe3ZhciBhPXJbbl07aWYoYSl7YS5jb21wdXRlV29ybGRNYXRyaXgoKTt2YXIgcz1ELk1hdHJpeFswXTthLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2xvY2FsTWF0cml4LHMpO3ZhciBvPUQuUXVhdGVybmlvblswXTtzLmRlY29tcG9zZShhLnNjYWxpbmcsbyxhLnBvc2l0aW9uKSxhLnJvdGF0aW9uUXVhdGVybmlvbj9hLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShvKTpvLnRvRXVsZXJBbmdsZXNUb1JlZihhLnJvdGF0aW9uKX19dGhpcy5zY2FsaW5nLmNvcHlGcm9tRmxvYXRzKDEsMSwxKSx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPWllLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5yZWdpc3RlckFmdGVyV29ybGRNYXRyaXhVcGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5hZGQodCksdGhpc30sZS5wcm90b3R5cGUudW5yZWdpc3RlckFmdGVyV29ybGRNYXRyaXhVcGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayh0KSx0aGlzfSxlLnByb3RvdHlwZS5nZXRQb3NpdGlvbkluQ2FtZXJhU3BhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PW51bGwpLHR8fCh0PXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEpLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCksdC5nZXRWaWV3TWF0cml4KCkpfSxlLnByb3RvdHlwZS5nZXREaXN0YW5jZVRvQ2FtZXJhPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1udWxsKSx0fHwodD10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhKSx0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5zdWJ0cmFjdCh0Lmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMscz1KLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQsYS5nZXRTY2VuZSgpKX0sdGhpcyk7aWYocy5uYW1lPXQscy5pZD10LHImJihzLnBhcmVudD1yKSwhbilmb3IodmFyIG89dGhpcy5nZXREZXNjZW5kYW50cyghMCksdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgZj1vW3VdO2YuY2xvbmUmJmYuY2xvbmUodCsiLiIrZi5uYW1lLHMpfXJldHVybiBzfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIHI9Si5TZXJpYWxpemUodGhpcyx0KTtyZXR1cm4gci50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksci51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHRoaXMucGFyZW50JiYoci5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksci5sb2NhbE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpLHIuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksdGhpcy5wYXJlbnQmJihyLnBhcmVudElkPXRoaXMucGFyZW50LnVuaXF1ZUlkKSxyfSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXt2YXIgYT1KLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSxyKX0sdCxyLG4pO3JldHVybiB0LmxvY2FsTWF0cml4P2Euc2V0UHJlVHJhbnNmb3JtTWF0cml4KEkuRnJvbUFycmF5KHQubG9jYWxNYXRyaXgpKTp0LnBpdm90TWF0cml4JiZhLnNldFBpdm90TWF0cml4KEkuRnJvbUFycmF5KHQucGl2b3RNYXRyaXgpKSxhLnNldEVuYWJsZWQodC5pc0VuYWJsZWQpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksYX0sZS5wcm90b3R5cGUuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2Rlcz1mdW5jdGlvbih0LHIpe3ZhciBuPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhuLHQsZnVuY3Rpb24oYSl7cmV0dXJuKCFyfHxyKGEpKSYmYSBpbnN0YW5jZW9mIGV9KSxufSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVUcmFuc2Zvcm1Ob2RlKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIG49dGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLmluZGV4T2YodGhpcyk7bj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLnNwbGljZShuLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLHQpZm9yKHZhciBhPXRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkscz0wLG89YTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTt1LnBhcmVudD1udWxsLHUuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1pLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb1VuaXRDdWJlPWZ1bmN0aW9uKHQscixuKXt0PT09dm9pZCAwJiYodD0hMCkscj09PXZvaWQgMCYmKHI9ITEpO3ZhciBhPW51bGwscz1udWxsO3ImJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj8ocz10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpKTp0aGlzLnJvdGF0aW9uJiYoYT10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKTt2YXIgbz10aGlzLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycyh0LG4pLHU9by5tYXguc3VidHJhY3Qoby5taW4pLGY9TWF0aC5tYXgodS54LHUueSx1LnopO2lmKGY9PT0wKXJldHVybiB0aGlzO3ZhciBsPTEvZjtyZXR1cm4gdGhpcy5zY2FsaW5nLnNjYWxlSW5QbGFjZShsKSxyJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnM/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20ocyk6dGhpcy5yb3RhdGlvbiYmYSYmdGhpcy5yb3RhdGlvbi5jb3B5RnJvbShhKSksdGhpc30sZS5wcm90b3R5cGUuX3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbj1mdW5jdGlvbigpe3RoaXMuX2lzQWJzb2x1dGVTeW5jZWR8fCh0aGlzLl93b3JsZE1hdHJpeC5kZWNvbXBvc2UodGhpcy5fYWJzb2x1dGVTY2FsaW5nLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSEwKX0sZS5CSUxMQk9BUkRNT0RFX05PTkU9MCxlLkJJTExCT0FSRE1PREVfWD0xLGUuQklMTEJPQVJETU9ERV9ZPTIsZS5CSUxMQk9BUkRNT0RFX1o9NCxlLkJJTExCT0FSRE1PREVfQUxMPTcsZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTj0xMjgsZS5fVG1wUm90YXRpb249aWUuWmVybygpLGUuX1RtcFNjYWxpbmc9Yi5aZXJvKCksZS5fVG1wVHJhbnNsYXRpb249Yi5aZXJvKCksZS5fTG9va0F0VmVjdG9yQ2FjaGU9bmV3IGIoMCwwLDApLGUuX1JvdGF0aW9uQXhpc0NhY2hlPW5ldyBpZSxUKFtmdCgicG9zaXRpb24iKV0sZS5wcm90b3R5cGUsIl9wb3NpdGlvbiIsdm9pZCAwKSxUKFtmdCgicm90YXRpb24iKV0sZS5wcm90b3R5cGUsIl9yb3RhdGlvbiIsdm9pZCAwKSxUKFtuYSgicm90YXRpb25RdWF0ZXJuaW9uIildLGUucHJvdG90eXBlLCJfcm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApLFQoW2Z0KCJzY2FsaW5nIildLGUucHJvdG90eXBlLCJfc2NhbGluZyIsdm9pZCAwKSxUKFtQKCJiaWxsYm9hcmRNb2RlIildLGUucHJvdG90eXBlLCJfYmlsbGJvYXJkTW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJzY2FsaW5nRGV0ZXJtaW5hbnQiLHZvaWQgMCksVChbUCgiaW5maW5pdGVEaXN0YW5jZSIpXSxlLnByb3RvdHlwZSwiX2luZmluaXRlRGlzdGFuY2UiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaWdub3JlTm9uVW5pZm9ybVNjYWxpbmciLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24iLHZvaWQgMCksZX0oJGUpLHlhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2NoZWNrQ29sbGlzaW9ucz0hMSx0aGlzLl9jb2xsaXNpb25NYXNrPS0xLHRoaXMuX2NvbGxpc2lvbkdyb3VwPS0xLHRoaXMuX3N1cnJvdW5kaW5nTWVzaGVzPW51bGwsdGhpcy5fY29sbGlkZXI9bnVsbCx0aGlzLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnM9bmV3IGIoMCwwLDApLHRoaXMuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnM9bmV3IGIoMCwwLDApLHRoaXMuX2NvbGxpc2lvblJlc3BvbnNlPSEwfXJldHVybiBpfSgpLGJhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuZmFjZXROYj0wLHRoaXMucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPTEwLHRoaXMucGFydGl0aW9uaW5nQkJveFJhdGlvPTEuMDEsdGhpcy5mYWNldERhdGFFbmFibGVkPSExLHRoaXMuZmFjZXRQYXJhbWV0ZXJzPXt9LHRoaXMuYmJTaXplPWIuWmVybygpLHRoaXMuc3ViRGl2PXttYXg6MSxYOjEsWToxLFo6MX0sdGhpcy5mYWNldERlcHRoU29ydD0hMSx0aGlzLmZhY2V0RGVwdGhTb3J0RW5hYmxlZD0hMX1yZXR1cm4gaX0oKSxFYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9oYXNWZXJ0ZXhBbHBoYT0hMSx0aGlzLl91c2VWZXJ0ZXhDb2xvcnM9ITAsdGhpcy5fbnVtQm9uZUluZmx1ZW5jZXJzPTQsdGhpcy5fYXBwbHlGb2c9ITAsdGhpcy5fcmVjZWl2ZVNoYWRvd3M9ITEsdGhpcy5fZmFjZXREYXRhPW5ldyBiYSx0aGlzLl92aXNpYmlsaXR5PTEsdGhpcy5fc2tlbGV0b249bnVsbCx0aGlzLl9sYXllck1hc2s9MjY4NDM1NDU1LHRoaXMuX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMCx0aGlzLl9pc0FjdGl2ZT0hMSx0aGlzLl9vbmx5Rm9ySW5zdGFuY2VzPSExLHRoaXMuX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsdGhpcy5fYWN0QXNSZWd1bGFyTWVzaD0hMSx0aGlzLl9jdXJyZW50TE9EPW51bGwsdGhpcy5fY3VycmVudExPRElzVXBUb0RhdGU9ITEsdGhpcy5fY29sbGlzaW9uUmV0cnlDb3VudD0zLHRoaXMuX21vcnBoVGFyZ2V0TWFuYWdlcj1udWxsLHRoaXMuX3JlbmRlcmluZ0dyb3VwSWQ9MCx0aGlzLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI9bnVsbCx0aGlzLl9tYXRlcmlhbD1udWxsLHRoaXMuX3Bvc2l0aW9ucz1udWxsLHRoaXMuX21lc2hDb2xsaXNpb25EYXRhPW5ldyB5YSx0aGlzLl9lbmFibGVEaXN0YW50UGlja2luZz0hMX1yZXR1cm4gaX0oKSx0aT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBuPWkuY2FsbCh0aGlzLHQsciwhMSl8fHRoaXM7cmV0dXJuIG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm89bmV3IEVhLG4uX3dhaXRpbmdNYXRlcmlhbElkPW51bGwsbi5jdWxsaW5nU3RyYXRlZ3k9ZS5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWSxuLm9uQ29sbGlkZU9ic2VydmFibGU9bmV3IE8sbi5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyxuLmRlZmluZWRGYWNpbmdGb3J3YXJkPSEwLG4uX29jY2x1c2lvblF1ZXJ5PW51bGwsbi5fcmVuZGVyaW5nR3JvdXA9bnVsbCxuLmFscGhhSW5kZXg9TnVtYmVyLk1BWF9WQUxVRSxuLmlzVmlzaWJsZT0hMCxuLmlzUGlja2FibGU9ITAsbi5pc05lYXJQaWNrYWJsZT0hMSxuLmlzTmVhckdyYWJiYWJsZT0hMSxuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD0hMSxuLmlzQmxvY2tlcj0hMSxuLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzPSExLG4ub3V0bGluZUNvbG9yPWJlLlJlZCgpLG4ub3V0bGluZVdpZHRoPS4wMixuLm92ZXJsYXlDb2xvcj1iZS5SZWQoKSxuLm92ZXJsYXlBbHBoYT0uNSxuLnVzZU9jdHJlZUZvclJlbmRlcmluZ1NlbGVjdGlvbj0hMCxuLnVzZU9jdHJlZUZvclBpY2tpbmc9ITAsbi51c2VPY3RyZWVGb3JDb2xsaXNpb25zPSEwLG4uYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSExLG4uZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSExLG4uYWN0aW9uTWFuYWdlcj1udWxsLG4uZWxsaXBzb2lkPW5ldyBiKC41LDEsLjUpLG4uZWxsaXBzb2lkT2Zmc2V0PW5ldyBiKDAsMCwwKSxuLmVkZ2VzV2lkdGg9MSxuLmVkZ2VzQ29sb3I9bmV3IEVlKDEsMCwwLDEpLG4uX2VkZ2VzUmVuZGVyZXI9bnVsbCxuLl9tYXN0ZXJNZXNoPW51bGwsbi5fYm91bmRpbmdJbmZvPW51bGwsbi5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCxuLl9yZW5kZXJJZD0wLG4uX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPW5ldyBBcnJheSxuLl91bkluZGV4ZWQ9ITEsbi5fbGlnaHRTb3VyY2VzPW5ldyBBcnJheSxuLl93YWl0aW5nRGF0YT17bG9kczpudWxsLGFjdGlvbnM6bnVsbCxmcmVlemVXb3JsZE1hdHJpeDpudWxsfSxuLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwsbi5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsLG4ub25SZWJ1aWxkT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlPWZ1bmN0aW9uKGEscyxvKXtvPT09dm9pZCAwJiYobz1udWxsKSxzLnN1YnRyYWN0VG9SZWYobi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucyxuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucyksbi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMubGVuZ3RoKCk+aGUuQ29sbGlzaW9uc0Vwc2lsb24mJm4ucG9zaXRpb24uYWRkSW5QbGFjZShuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucyksbyYmbi5vbkNvbGxpZGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhvKSxuLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuLnBvc2l0aW9uKX0sbi5nZXRTY2VuZSgpLmFkZE1lc2gobiksbi5fcmVzeW5jTGlnaHRTb3VyY2VzKCksbi5fdW5pZm9ybUJ1ZmZlcj1uZXcgRXIobi5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsdCwhbi5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzV2ViR1BVKSxuLl9idWlsZFVuaWZvcm1MYXlvdXQoKSxufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9OT05FIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEplLkJJTExCT0FSRE1PREVfTk9ORX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9YIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEplLkJJTExCT0FSRE1PREVfWH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9ZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEplLkJJTExCT0FSRE1PREVfWX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9aIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEplLkJJTExCT0FSRE1PREVfWn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9BTEwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9BTEx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEplLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZmFjZXROYiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXROYn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFydGl0aW9uaW5nQkJveFJhdGlvIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW99LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nQkJveFJhdGlvPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtdXN0RGVwdGhTb3J0RmFjZXRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZmFjZXREZXB0aFNvcnRGcm9tIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb219LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnRGcm9tPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb2xsaXNpb25SZXRyeUNvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb2xsaXNpb25SZXRyeUNvdW50PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtb3JwaFRhcmdldE1hbmFnZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcj10LHRoaXMuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJiYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGkucHJvdG90eXBlLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlLmNhbGwodGhpcyx0KT8odGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCksITApOiExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQ29sbGlkZSIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXImJnRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXI9dGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciYmdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlcj10aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInZpc2liaWxpdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eX0sc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHkhPT10KXt2YXIgcj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5O3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9dCwocj09PTEmJnQhPT0xfHxyIT09MSYmdD09PTEpJiZ0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJpbmdHcm91cElkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZW5kZXJpbmdHcm91cElkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYXRlcmlhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsPXQsdCYmdC5tZXNoTWFwJiYodC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5zdWJNZXNoZXMmJih0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdW5CaW5kRWZmZWN0KCkpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEZvclJlbmRlclBhc3M9ZnVuY3Rpb24odCl7dmFyIHI7cmV0dXJuKHI9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbdF19LGUucHJvdG90eXBlLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcz1mdW5jdGlvbih0LHIpe3RoaXMucmVzZXREcmF3Q2FjaGUodCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzPVtdKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3NbdF09cn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZWNlaXZlU2hhZG93cyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZWNlaXZlU2hhZG93c30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1ZlcnRleEFscGhhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGEhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGE9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1c2VWZXJ0ZXhDb2xvcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3VzZVZlcnRleENvbG9ycz10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVtQm9uZUluZmx1ZW5jZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2VycyE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnM9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhcHBseUZvZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZW5hYmxlRGlzdGFudFBpY2tpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZW5hYmxlRGlzdGFudFBpY2tpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGF5ZXJNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFza30sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2smJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2s9dCx0aGlzLl9yZXN5bmNMaWdodFNvdXJjZXMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb2xsaXNpb25NYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbk1hc2s9aXNOYU4odCk/LTE6dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvblJlc3BvbnNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlzaW9uR3JvdXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbkdyb3VwfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbkdyb3VwPWlzTmFOKHQpPy0xOnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzdXJyb3VuZGluZ01lc2hlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fc3Vycm91bmRpbmdNZXNoZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fc3Vycm91bmRpbmdNZXNoZXM9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0U291cmNlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saWdodFNvdXJjZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfcG9zaXRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJza2VsZXRvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbn0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uO3ImJnIubmVlZEluaXRpYWxTa2luTWF0cml4JiZyLl91bnJlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHQmJnQubmVlZEluaXRpYWxTa2luTWF0cml4JiZ0Ll9yZWdpc3Rlck1lc2hXaXRoUG9zZU1hdHJpeCh0aGlzKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbj10LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufHwodGhpcy5fYm9uZXNUcmFuc2Zvcm1NYXRyaWNlcz1udWxsKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fYnVpbGRVbmlmb3JtTGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ3b3JsZCIsMTYpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidmlzaWJpbGl0eSIsMSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX0sZS5wcm90b3R5cGUudHJhbnNmZXJUb0VmZmVjdD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl91bmlmb3JtQnVmZmVyO3IudXBkYXRlTWF0cml4KCJ3b3JsZCIsdCksci51cGRhdGVGbG9hdCgidmlzaWJpbGl0eSIsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSksci51cGRhdGUoKX0sZS5wcm90b3R5cGUuZ2V0TWVzaFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcn0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkFic3RyYWN0TWVzaCJ9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciByPSJOYW1lOiAiK3RoaXMubmFtZSsiLCBpc0luc3RhbmNlOiAiKyh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2giPyJZRVMiOiJOTyIpO3IrPSIsICMgb2Ygc3VibWVzaGVzOiAiKyh0aGlzLnN1Yk1lc2hlcz90aGlzLnN1Yk1lc2hlcy5sZW5ndGg6MCk7dmFyIG49dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247cmV0dXJuIG4mJihyKz0iLCBza2VsZXRvbjogIituLm5hbWUpLHQmJihyKz0iLCBiaWxsYm9hcmQgbW9kZTogIitbIk5PTkUiLCJYIiwiWSIsbnVsbCwiWiIsbnVsbCxudWxsLCJBTEwiXVt0aGlzLmJpbGxib2FyZE1vZGVdLHIrPSIsIGZyZWV6ZSB3cmxkIG1hdDogIisodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbnx8dGhpcy5fd2FpdGluZ0RhdGEuZnJlZXplV29ybGRNYXRyaXg/IllFUyI6Ik5PIikpLHJ9LGUucHJvdG90eXBlLl9nZXRFZmZlY3RpdmVQYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCYmdGhpcy5iaWxsYm9hcmRNb2RlIT09SmUuQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2g6aS5wcm90b3R5cGUuX2dldEVmZmVjdGl2ZVBhcmVudC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXI9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMCksdGhpcy5hY3Rpb25NYW5hZ2VyJiYocnx8dGhpcy5hY3Rpb25NYW5hZ2VyLmlzUmVjdXJzaXZlKSlpZih0KXtpZih0aGlzLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKHQpKXJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXJ9ZWxzZSByZXR1cm4gdGhpcy5hY3Rpb25NYW5hZ2VyO3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIodCwhMSk6bnVsbH0sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24odCl7aWYodGhpcy5vblJlYnVpbGRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSwhIXRoaXMuc3ViTWVzaGVzKWZvcih2YXIgcj0wLG49dGhpcy5zdWJNZXNoZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07YS5fcmVidWlsZCgpfX0sZS5wcm90b3R5cGUuX3Jlc3luY0xpZ2h0U291cmNlcz1mdW5jdGlvbigpe3RoaXMuX2xpZ2h0U291cmNlcy5sZW5ndGg9MDtmb3IodmFyIHQ9MCxyPXRoaXMuZ2V0U2NlbmUoKS5saWdodHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07IW4uaXNFbmFibGVkKCl8fG4uY2FuQWZmZWN0TWVzaCh0aGlzKSYmdGhpcy5fbGlnaHRTb3VyY2VzLnB1c2gobil9dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSxlLnByb3RvdHlwZS5fcmVzeW5jTGlnaHRTb3VyY2U9ZnVuY3Rpb24odCl7dmFyIHI9dC5pc0VuYWJsZWQoKSYmdC5jYW5BZmZlY3RNZXNoKHRoaXMpLG49dGhpcy5fbGlnaHRTb3VyY2VzLmluZGV4T2YodCksYT0hMTtpZihuPT09LTEpe2lmKCFyKXJldHVybjt0aGlzLl9saWdodFNvdXJjZXMucHVzaCh0KX1lbHNle2lmKHIpcmV0dXJuO2E9ITAsdGhpcy5fbGlnaHRTb3VyY2VzLnNwbGljZShuLDEpfXRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoYSl9LGUucHJvdG90eXBlLl91bkJpbmRFZmZlY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuc3ViTWVzaGVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uc2V0RWZmZWN0KG51bGwpfX0sZS5wcm90b3R5cGUuX3JlbW92ZUxpZ2h0U291cmNlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5fbGlnaHRTb3VyY2VzLmluZGV4T2YodCk7biE9PS0xJiYodGhpcy5fbGlnaHRTb3VyY2VzLnNwbGljZShuLDEpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkocikpfSxlLnByb3RvdHlwZS5fbWFya1N1Yk1lc2hlc0FzRGlydHk9ZnVuY3Rpb24odCl7aWYoISF0aGlzLnN1Yk1lc2hlcylmb3IodmFyIHI9MCxuPXRoaXMuc3ViTWVzaGVzO3I8bi5sZW5ndGg7cisrKWZvcih2YXIgYT1uW3JdLHM9MDtzPGEuX2RyYXdXcmFwcGVycy5sZW5ndGg7KytzKXt2YXIgbz1hLl9kcmF3V3JhcHBlcnNbc107IW98fCFvLmRlZmluZXN8fCFvLmRlZmluZXMubWFya0FsbEFzRGlydHl8fHQoby5kZWZpbmVzKX19LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5PWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShmdW5jdGlvbihyKXtyZXR1cm4gci5tYXJrQXNMaWdodERpcnR5KHQpfSl9LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKX0pfSxlLnByb3RvdHlwZS5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFya0FzTWlzY0RpcnR5KCl9KX0sZS5wcm90b3R5cGUubWFya0FzRGlydHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX2lzRGlydHk9ITAsdGhpc30sZS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24odCl7aWYoISF0aGlzLnN1Yk1lc2hlcylmb3IodmFyIHI9MCxuPXRoaXMuc3ViTWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EucmVzZXREcmF3Q2FjaGUodCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQmxvY2tlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExPRD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRUb3RhbEluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0LHIsbixhKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5zZXRJbmRpY2VzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmlzVmVydGljZXNEYXRhUHJlc2VudD1mdW5jdGlvbih0KXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5nZXRCb3VuZGluZ0luZm8oKToodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eSYmKHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITEsdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCkpLHRoaXMuX2JvdW5kaW5nSW5mbyl9LGUucHJvdG90eXBlLnNldEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPXQsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNCb3VuZGluZ0luZm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvIT09bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5idWlsZEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgVHQodCxyLG4pLHRoaXMuX2JvdW5kaW5nSW5mb30sZS5wcm90b3R5cGUubm9ybWFsaXplVG9Vbml0Q3ViZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksaS5wcm90b3R5cGUubm9ybWFsaXplVG9Vbml0Q3ViZS5jYWxsKHRoaXMsdCxyLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZUJvbmVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2tlbGV0b24mJnRoaXMuZ2V0U2NlbmUoKS5za2VsZXRvbnNFbmFibGVkJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX3JlbmRlcklkPXQsITB9LGUucHJvdG90eXBlLl9wb3N0QWN0aXZhdGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9mcmVlemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl91bkZyZWV6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCYmdGhpcy5iaWxsYm9hcmRNb2RlPT09SmUuQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2guZ2V0V29ybGRNYXRyaXgoKTppLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTppLnByb3RvdHlwZS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudC5jYWxsKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQW5JbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNUaGluSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubW92ZVBPVj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNNb3ZlUE9WKHQscixuKSksdGhpc30sZS5wcm90b3R5cGUuY2FsY01vdmVQT1Y9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPW5ldyBJLHM9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb246aWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopO3MudG9Sb3RhdGlvbk1hdHJpeChhKTt2YXIgbz1iLlplcm8oKSx1PXRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ/LTE6MTtyZXR1cm4gYi5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZih0KnUscixuKnUsYSxvKSxvfSxlLnByb3RvdHlwZS5yb3RhdGVQT1Y9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLnJvdGF0aW9uLmFkZEluUGxhY2UodGhpcy5jYWxjUm90YXRlUE9WKHQscixuKSksdGhpc30sZS5wcm90b3R5cGUuY2FsY1JvdGF0ZVBPVj1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8xOi0xO3JldHVybiBuZXcgYih0KmEscixuKmEpfSxlLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fYm91bmRpbmdJbmZvJiZ0aGlzLl9ib3VuZGluZ0luZm8uaXNMb2NrZWQ/dGhpczoodGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEodCxyKSxudWxsKSx0aGlzKX0sZS5wcm90b3R5cGUuX3JlZnJlc2hCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyKXtpZih0KXt2YXIgbj1ubih0LDAsdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkscik7dGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChuLm1pbmltdW0sbi5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IFR0KG4ubWluaW11bSxuLm1heGltdW0pfWlmKHRoaXMuc3ViTWVzaGVzKWZvcih2YXIgYT0wO2E8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2ErKyl0aGlzLnN1Yk1lc2hlc1thXS5yZWZyZXNoQm91bmRpbmdJbmZvKHQpO3RoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpfSxlLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbih0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLGE9PT12b2lkIDAmJihhPW0uUG9zaXRpb25LaW5kKSxuPW4hPW51bGw/bjp0aGlzLmdldFZlcnRpY2VzRGF0YShhKS5zbGljZSgpLG4mJnImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKWZvcih2YXIgcz0wLG89MCx1PTA7dTxuLmxlbmd0aDt1Kyspe2Zvcih2YXIgZj0wO2Y8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIubnVtVGFyZ2V0cztmKyspe3ZhciBsPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmdldFRhcmdldChmKSxoPWwuaW5mbHVlbmNlO2lmKGg+MCl7dmFyIGM9bC5nZXRQb3NpdGlvbnMoKTtjJiYoblt1XSs9KGNbdV0tblt1XSkqaCl9fWlmKHMrKyxhPT09bS5Qb3NpdGlvbktpbmQmJnRoaXMuX3Bvc2l0aW9ucyYmcz09PTMpe3M9MDt2YXIgZD1vKjM7dGhpcy5fcG9zaXRpb25zW28rK10uY29weUZyb21GbG9hdHMobltkXSxuW2QrMV0sbltkKzJdKX19aWYobiYmdCYmdGhpcy5za2VsZXRvbil7dmFyIHA9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kKSxnPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCk7aWYoZyYmcClmb3IodmFyIF89dGhpcy5udW1Cb25lSW5mbHVlbmNlcnM+NCx2PV8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpOm51bGwseT1fP3RoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKTpudWxsLEU9dGhpcy5za2VsZXRvbi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyh0aGlzKSxSPUQuVmVjdG9yM1swXSxNPUQuTWF0cml4WzBdLEM9RC5NYXRyaXhbMV0sQT0wLGQ9MDtkPG4ubGVuZ3RoO2QrPTMsQSs9NCl7TS5yZXNldCgpO3ZhciBTPXZvaWQgMCx3PXZvaWQgMDtmb3IoUz0wO1M8NDtTKyspdz1nW0ErU10sdz4wJiYoSS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoRSxNYXRoLmZsb29yKHBbQStTXSoxNiksdyxDKSxNLmFkZFRvU2VsZihDKSk7aWYoXylmb3IoUz0wO1M8NDtTKyspdz15W0ErU10sdz4wJiYoSS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoRSxNYXRoLmZsb29yKHZbQStTXSoxNiksdyxDKSxNLmFkZFRvU2VsZihDKSk7YT09PW0uTm9ybWFsS2luZD9iLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihuW2RdLG5bZCsxXSxuW2QrMl0sTSxSKTpiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKG5bZF0sbltkKzFdLG5bZCsyXSxNLFIpLFIudG9BcnJheShuLGQpLGE9PT1tLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZ0aGlzLl9wb3NpdGlvbnNbZC8zXS5jb3B5RnJvbShSKX19cmV0dXJuIG59LGUucHJvdG90eXBlLmdldE5vcm1hbHNEYXRhPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fZ2V0RGF0YSh0LHIsbnVsbCxtLk5vcm1hbEtpbmQpfSxlLnByb3RvdHlwZS5nZXRQb3NpdGlvbkRhdGE9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX2dldERhdGEodCxyLG4sbS5Qb3NpdGlvbktpbmQpfSxlLnByb3RvdHlwZS5fZ2V0UG9zaXRpb25EYXRhPWZ1bmN0aW9uKHQscil7dmFyIG4sYT10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCk7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW51bGwpLGEmJih0JiZ0aGlzLnNrZWxldG9ufHxyJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcikpe2lmKGE9YS5zbGljZSgpLHRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSx0aGlzLl9wb3NpdGlvbnMpe3ZhciBzPXRoaXMuX3Bvc2l0aW9uczt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bmV3IEFycmF5KHMubGVuZ3RoKTtmb3IodmFyIG89MDtvPHMubGVuZ3RoO28rKyl0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnNbb109KChuPXNbb10pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5jbG9uZSgpKXx8bmV3IGJ9cmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25EYXRhKHQscixhKX1yZXR1cm4gYX0sZS5wcm90b3R5cGUuX3VwZGF0ZUJvdW5kaW5nSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnVwZGF0ZSh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IFR0KGIuWmVybygpLGIuWmVybygpLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXMuX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzfSxlLnByb3RvdHlwZS5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnN1Yk1lc2hlcylyZXR1cm4gdGhpcztmb3IodmFyIHI9dGhpcy5zdWJNZXNoZXMubGVuZ3RoLG49MDtuPHI7bisrKXt2YXIgYT10aGlzLnN1Yk1lc2hlc1tuXTsocj4xfHwhYS5Jc0dsb2JhbCkmJmEudXBkYXRlQm91bmRpbmdJbmZvKHQpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oKXt0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8KHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITApfSxlLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0luRnJ1c3R1bSh0LHRoaXMuY3VsbGluZ1N0cmF0ZWd5KX0sZS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzQ29tcGxldGVseUluRnJ1c3R1bSh0KX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0c01lc2g9ZnVuY3Rpb24odCxyLG4pe3I9PT12b2lkIDAmJihyPSExKTt2YXIgYT10aGlzLmdldEJvdW5kaW5nSW5mbygpLHM9dC5nZXRCb3VuZGluZ0luZm8oKTtpZihhLmludGVyc2VjdHMocyxyKSlyZXR1cm4hMDtpZihuKWZvcih2YXIgbz0wLHU9dGhpcy5nZXRDaGlsZE1lc2hlcygpO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2lmKGYuaW50ZXJzZWN0c01lc2godCxyLCEwKSlyZXR1cm4hMH1yZXR1cm4hMX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0c1BvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmludGVyc2VjdHNQb2ludCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjaGVja0NvbGxpc2lvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9uc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jaGVja0NvbGxpc2lvbnM9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpZGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tb3ZlV2l0aENvbGxpc2lvbnM9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7ci5hZGRUb1JlZih0aGlzLmVsbGlwc29pZE9mZnNldCx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zKTt2YXIgbj10aGlzLmdldFNjZW5lKCkuY29sbGlzaW9uQ29vcmRpbmF0b3I7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcnx8KHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcj1uLmNyZWF0ZUNvbGxpZGVyKCkpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlci5fcmFkaXVzPXRoaXMuZWxsaXBzb2lkLG4uZ2V0TmV3UG9zaXRpb24odGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucyx0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaWRlcix0aGlzLmNvbGxpc2lvblJldHJ5Q291bnQsdGhpcyx0aGlzLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlLHRoaXMudW5pcXVlSWQpLHRoaXN9LGUucHJvdG90eXBlLl9jb2xsaWRlRm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7dmFyIGE7aWYodGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLCF0aGlzLl9wb3NpdGlvbnMpcmV0dXJuIHRoaXM7aWYoIXQuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXN8fCF0Ll9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXguZXF1YWxzKHIpKXt0Ll9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9ci5jbG9uZSgpLHQuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9W10sdC5fdHJpYW5nbGVQbGFuZXM9W107Zm9yKHZhciBzPXQudmVydGljZXNTdGFydCxvPXQudmVydGljZXNTdGFydCt0LnZlcnRpY2VzQ291bnQsdT1zO3U8bzt1KyspdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcy5wdXNoKGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5fcG9zaXRpb25zW3VdLHIpKX1yZXR1cm4gbi5fY29sbGlkZSh0Ll90cmlhbmdsZVBsYW5lcyx0Ll9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLHRoaXMuZ2V0SW5kaWNlcygpLHQuaW5kZXhTdGFydCx0LmluZGV4U3RhcnQrdC5pbmRleENvdW50LHQudmVydGljZXNTdGFydCwhIXQuZ2V0TWF0ZXJpYWwoKSx0aGlzLHRoaXMuX3Nob3VsZENvbnZlcnRSSFMoKSwoKGE9dC5nZXRNYXRlcmlhbCgpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZmlsbE1vZGUpPT09NyksdGhpc30sZS5wcm90b3R5cGUuX3Byb2Nlc3NDb2xsaXNpb25zRm9yU3ViTWVzaGVzPWZ1bmN0aW9uKHQscil7Zm9yKHZhciBuPXRoaXMuX3NjZW5lLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsdCksYT1uLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIG89bi5kYXRhW3NdO2E+MSYmIW8uX2NoZWNrQ29sbGlzaW9uKHQpfHx0aGlzLl9jb2xsaWRlRm9yU3ViTWVzaChvLHIsdCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9zaG91bGRDb252ZXJ0UkhTPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLl9jaGVja0NvbGxpc2lvbj1mdW5jdGlvbih0KXtpZighdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24odCkpcmV0dXJuIHRoaXM7dmFyIHI9RC5NYXRyaXhbMF0sbj1ELk1hdHJpeFsxXTtyZXR1cm4gSS5TY2FsaW5nVG9SZWYoMS90Ll9yYWRpdXMueCwxL3QuX3JhZGl1cy55LDEvdC5fcmFkaXVzLnosciksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZS5tdWx0aXBseVRvUmVmKHIsbiksdGhpcy5fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXModCxuKSx0aGlzfSxlLnByb3RvdHlwZS5fZ2VuZXJhdGVQb2ludHNBcnJheT1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQscixuLGEscyxvKXthPT09dm9pZCAwJiYoYT0hMSksbz09PXZvaWQgMCYmKG89ITEpO3ZhciB1PW5ldyBRZSxmPXRoaXMuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTGluZXNNZXNoInx8dGhpcy5nZXRDbGFzc05hbWUoKT09PSJMaW5lc01lc2giP3RoaXMuaW50ZXJzZWN0aW9uVGhyZXNob2xkOjAsbD10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKCF0aGlzLnN1Yk1lc2hlc3x8IW8mJighdC5pbnRlcnNlY3RzU3BoZXJlKGwuYm91bmRpbmdTcGhlcmUsZil8fCF0LmludGVyc2VjdHNCb3gobC5ib3VuZGluZ0JveCxmKSkpcmV0dXJuIHU7aWYoYSlyZXR1cm4gdS5oaXQ9IW8sdS5waWNrZWRNZXNoPW8/bnVsbDp0aGlzLHUuZGlzdGFuY2U9bz8wOmIuRGlzdGFuY2UodC5vcmlnaW4sbC5ib3VuZGluZ1NwaGVyZS5jZW50ZXIpLHUuc3ViTWVzaElkPTAsdTtpZighdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpKXJldHVybiB1O2Zvcih2YXIgaD1udWxsLGM9dGhpcy5fc2NlbmUuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyx0KSxkPWMubGVuZ3RoLHA9ITEsZz0wO2c8ZDtnKyspe3ZhciBfPWMuZGF0YVtnXSx2PV8uZ2V0TWF0ZXJpYWwoKTtpZighIXYmJih2LmZpbGxNb2RlPT03fHx2LmZpbGxNb2RlPT0wfHx2LmZpbGxNb2RlPT0xfHx2LmZpbGxNb2RlPT0yfHx2LmZpbGxNb2RlPT00KSl7cD0hMDticmVha319aWYoIXApcmV0dXJuIHUuaGl0PSEwLHUucGlja2VkTWVzaD10aGlzLHUuZGlzdGFuY2U9Yi5EaXN0YW5jZSh0Lm9yaWdpbixsLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksdS5zdWJNZXNoSWQ9LTEsdTtmb3IodmFyIGc9MDtnPGQ7ZysrKXt2YXIgXz1jLmRhdGFbZ107aWYoIShkPjEmJiFfLmNhbkludGVyc2VjdHModCkpKXt2YXIgeT1fLmludGVyc2VjdHModCx0aGlzLl9wb3NpdGlvbnMsdGhpcy5nZXRJbmRpY2VzKCkscixuKTtpZih5JiYocnx8IWh8fHkuZGlzdGFuY2U8aC5kaXN0YW5jZSkmJihoPXksaC5zdWJNZXNoSWQ9ZyxyKSlicmVha319aWYoaCl7dmFyIEU9cyE9bnVsbD9zOnRoaXMuZ2V0V29ybGRNYXRyaXgoKSxSPUQuVmVjdG9yM1swXSxNPUQuVmVjdG9yM1sxXTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodC5vcmlnaW4sRSxSKSx0LmRpcmVjdGlvbi5zY2FsZVRvUmVmKGguZGlzdGFuY2UsTSk7dmFyIEM9Yi5UcmFuc2Zvcm1Ob3JtYWwoTSxFKSxBPUMuYWRkSW5QbGFjZShSKTtyZXR1cm4gdS5oaXQ9ITAsdS5kaXN0YW5jZT1iLkRpc3RhbmNlKFIsQSksdS5waWNrZWRQb2ludD1BLHUucGlja2VkTWVzaD10aGlzLHUuYnU9aC5idXx8MCx1LmJ2PWguYnZ8fDAsdS5zdWJNZXNoRmFjZUlkPWguZmFjZUlkLHUuZmFjZUlkPWguZmFjZUlkK2MuZGF0YVtoLnN1Yk1lc2hJZF0uaW5kZXhTdGFydC8odGhpcy5nZXRDbGFzc05hbWUoKS5pbmRleE9mKCJMaW5lc01lc2giKSE9PS0xPzI6MyksdS5zdWJNZXNoSWQ9aC5zdWJNZXNoSWQsdX1yZXR1cm4gdX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5yZWxlYXNlU3ViTWVzaGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKDt0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7KXRoaXMuc3ViTWVzaGVzWzBdLmRpc3Bvc2UoKTtlbHNlIHRoaXMuc3ViTWVzaGVzPW5ldyBBcnJheTtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBhO2Zvcih0aGlzLl9zY2VuZS51c2VNYXRlcmlhbE1lc2hNYXAmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuZ2V0U2NlbmUoKS5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5nZXRTY2VuZSgpLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLmFjdGlvbk1hbmFnZXIhPT12b2lkIDAmJnRoaXMuYWN0aW9uTWFuYWdlciE9PW51bGwmJih0aGlzLmFjdGlvbk1hbmFnZXIuZGlzcG9zZSgpLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbj1udWxsLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUmJih0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlPW51bGwpLGE9MDthPHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmxlbmd0aDthKyspe3ZhciBzPXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzW2FdLG89cy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MuaW5kZXhPZih0aGlzKTtzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UobywxKX10aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcz1bXTt2YXIgdT10aGlzLmdldFNjZW5lKCkubGlnaHRzO3UuZm9yRWFjaChmdW5jdGlvbihoKXt2YXIgYz1oLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKG4pO2MhPT0tMSYmaC5pbmNsdWRlZE9ubHlNZXNoZXMuc3BsaWNlKGMsMSksYz1oLmV4Y2x1ZGVkTWVzaGVzLmluZGV4T2YobiksYyE9PS0xJiZoLmV4Y2x1ZGVkTWVzaGVzLnNwbGljZShjLDEpO3ZhciBkPWguZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYoZCl7dmFyIHA9ZC5nZXRTaGFkb3dNYXAoKTtwJiZwLnJlbmRlckxpc3QmJihjPXAucmVuZGVyTGlzdC5pbmRleE9mKG4pLGMhPT0tMSYmcC5yZW5kZXJMaXN0LnNwbGljZShjLDEpKX19KSwodGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRNZXNoInx8dGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRMaW5lc01lc2giKSYmdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7dmFyIGY9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO2lmKHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuaXNPY2NsdXNpb25RdWVyeUluUHJvZ3Jlc3M9ITEsZi5kZWxldGVRdWVyeSh0aGlzLl9vY2NsdXNpb25RdWVyeSksdGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksZi53aXBlQ2FjaGVzKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZU1lc2godGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgbD10aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLmluZGV4T2YodGhpcyk7bD4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1lc2hlcy5zcGxpY2UobCwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZihyJiZ0aGlzLm1hdGVyaWFsJiYodGhpcy5tYXRlcmlhbC5nZXRDbGFzc05hbWUoKT09PSJNdWx0aU1hdGVyaWFsIj90aGlzLm1hdGVyaWFsLmRpc3Bvc2UoITEsITAsITApOnRoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCkpLCF0KWZvcihhPTA7YTx0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspdGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1thXS5lbWl0dGVyPT09dGhpcyYmKHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXNbYV0uZGlzcG9zZSgpLGEtLSk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWQmJnRoaXMuZGlzYWJsZUZhY2V0RGF0YSgpLHRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVidWlsZE9ic2VydmFibGUuY2xlYXIoKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxlLnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0hMSksdC5zZXRQYXJlbnQodGhpcyxyKSx0aGlzfSxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0hMSksdC5zZXRQYXJlbnQobnVsbCxyKSx0aGlzfSxlLnByb3RvdHlwZS5faW5pdEZhY2V0RGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTt0LmZhY2V0Tm9ybWFsc3x8KHQuZmFjZXROb3JtYWxzPW5ldyBBcnJheSksdC5mYWNldFBvc2l0aW9uc3x8KHQuZmFjZXRQb3NpdGlvbnM9bmV3IEFycmF5KSx0LmZhY2V0UGFydGl0aW9uaW5nfHwodC5mYWNldFBhcnRpdGlvbmluZz1uZXcgQXJyYXkpLHQuZmFjZXROYj10aGlzLmdldEluZGljZXMoKS5sZW5ndGgvM3wwLHQucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPXQucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zP3QucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zOjEwLHQucGFydGl0aW9uaW5nQkJveFJhdGlvPXQucGFydGl0aW9uaW5nQkJveFJhdGlvP3QucGFydGl0aW9uaW5nQkJveFJhdGlvOjEuMDE7Zm9yKHZhciByPTA7cjx0LmZhY2V0TmI7cisrKXQuZmFjZXROb3JtYWxzW3JdPWIuWmVybygpLHQuZmFjZXRQb3NpdGlvbnNbcl09Yi5aZXJvKCk7cmV0dXJuIHQuZmFjZXREYXRhRW5hYmxlZD0hMCx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVGYWNldERhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7dC5mYWNldERhdGFFbmFibGVkfHx0aGlzLl9pbml0RmFjZXREYXRhKCk7dmFyIHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpLG49dGhpcy5nZXRJbmRpY2VzKCksYT10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpLHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZih0LmZhY2V0RGVwdGhTb3J0JiYhdC5mYWNldERlcHRoU29ydEVuYWJsZWQpe2lmKHQuZmFjZXREZXB0aFNvcnRFbmFibGVkPSEwLG4gaW5zdGFuY2VvZiBVaW50MTZBcnJheSl0LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDE2QXJyYXkobik7ZWxzZSBpZihuIGluc3RhbmNlb2YgVWludDMyQXJyYXkpdC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KG4pO2Vsc2V7Zm9yKHZhciBvPSExLHU9MDt1PG4ubGVuZ3RoO3UrKylpZihuW3VdPjY1NTM1KXtvPSEwO2JyZWFrfW8/dC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KG4pOnQuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShuKX1pZih0LmZhY2V0RGVwdGhTb3J0RnVuY3Rpb249ZnVuY3Rpb24oZyxfKXtyZXR1cm4gXy5zcURpc3RhbmNlLWcuc3FEaXN0YW5jZX0sIXQuZmFjZXREZXB0aFNvcnRGcm9tKXt2YXIgZj10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO3QuZmFjZXREZXB0aFNvcnRGcm9tPWY/Zi5wb3NpdGlvbjpiLlplcm8oKX10LmRlcHRoU29ydGVkRmFjZXRzPVtdO2Zvcih2YXIgbD0wO2w8dC5mYWNldE5iO2wrKyl7dmFyIGg9e2luZDpsKjMsc3FEaXN0YW5jZTowfTt0LmRlcHRoU29ydGVkRmFjZXRzLnB1c2goaCl9dC5pbnZlcnRlZE1hdHJpeD1JLklkZW50aXR5KCksdC5mYWNldERlcHRoU29ydE9yaWdpbj1iLlplcm8oKX10LmJiU2l6ZS54PXMubWF4aW11bS54LXMubWluaW11bS54PnNlP3MubWF4aW11bS54LXMubWluaW11bS54OnNlLHQuYmJTaXplLnk9cy5tYXhpbXVtLnktcy5taW5pbXVtLnk+c2U/cy5tYXhpbXVtLnktcy5taW5pbXVtLnk6c2UsdC5iYlNpemUuej1zLm1heGltdW0uei1zLm1pbmltdW0uej5zZT9zLm1heGltdW0uei1zLm1pbmltdW0uejpzZTt2YXIgYz10LmJiU2l6ZS54PnQuYmJTaXplLnk/dC5iYlNpemUueDp0LmJiU2l6ZS55O2lmKGM9Yz50LmJiU2l6ZS56P2M6dC5iYlNpemUueix0LnN1YkRpdi5tYXg9dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMsdC5zdWJEaXYuWD1NYXRoLmZsb29yKHQuc3ViRGl2Lm1heCp0LmJiU2l6ZS54L2MpLHQuc3ViRGl2Llk9TWF0aC5mbG9vcih0LnN1YkRpdi5tYXgqdC5iYlNpemUueS9jKSx0LnN1YkRpdi5aPU1hdGguZmxvb3IodC5zdWJEaXYubWF4KnQuYmJTaXplLnovYyksdC5zdWJEaXYuWD10LnN1YkRpdi5YPDE/MTp0LnN1YkRpdi5YLHQuc3ViRGl2Llk9dC5zdWJEaXYuWTwxPzE6dC5zdWJEaXYuWSx0LnN1YkRpdi5aPXQuc3ViRGl2Llo8MT8xOnQuc3ViRGl2LlosdC5mYWNldFBhcmFtZXRlcnMuZmFjZXROb3JtYWxzPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKSx0LmZhY2V0UGFyYW1ldGVycy5mYWNldFBvc2l0aW9ucz10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKSx0LmZhY2V0UGFyYW1ldGVycy5mYWNldFBhcnRpdGlvbmluZz10aGlzLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmcoKSx0LmZhY2V0UGFyYW1ldGVycy5iSW5mbz1zLHQuZmFjZXRQYXJhbWV0ZXJzLmJiU2l6ZT10LmJiU2l6ZSx0LmZhY2V0UGFyYW1ldGVycy5zdWJEaXY9dC5zdWJEaXYsdC5mYWNldFBhcmFtZXRlcnMucmF0aW89dGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8sdC5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0PXQuZmFjZXREZXB0aFNvcnQsdC5mYWNldERlcHRoU29ydCYmdC5mYWNldERlcHRoU29ydEVuYWJsZWQmJih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYodC5pbnZlcnRlZE1hdHJpeCksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHQuZmFjZXREZXB0aFNvcnRGcm9tLHQuaW52ZXJ0ZWRNYXRyaXgsdC5mYWNldERlcHRoU29ydE9yaWdpbiksdC5mYWNldFBhcmFtZXRlcnMuZGlzdGFuY2VUbz10LmZhY2V0RGVwdGhTb3J0T3JpZ2luKSx0LmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnRlZEZhY2V0cz10LmRlcHRoU29ydGVkRmFjZXRzLGEmJmdlLkNvbXB1dGVOb3JtYWxzKHIsbixhLHQuZmFjZXRQYXJhbWV0ZXJzKSx0LmZhY2V0RGVwdGhTb3J0JiZ0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7dC5kZXB0aFNvcnRlZEZhY2V0cy5zb3J0KHQuZmFjZXREZXB0aFNvcnRGdW5jdGlvbik7Zm9yKHZhciBkPXQuZGVwdGhTb3J0ZWRJbmRpY2VzLmxlbmd0aC8zfDAsbD0wO2w8ZDtsKyspe3ZhciBwPXQuZGVwdGhTb3J0ZWRGYWNldHNbbF0uaW5kO3QuZGVwdGhTb3J0ZWRJbmRpY2VzW2wqM109bltwXSx0LmRlcHRoU29ydGVkSW5kaWNlc1tsKjMrMV09bltwKzFdLHQuZGVwdGhTb3J0ZWRJbmRpY2VzW2wqMysyXT1uW3ArMl19dGhpcy51cGRhdGVJbmRpY2VzKHQuZGVwdGhTb3J0ZWRJbmRpY2VzLHZvaWQgMCwhMCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmdldEZhY2V0TG9jYWxOb3JtYWxzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0Tm9ybWFsc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSx0LmZhY2V0Tm9ybWFsc30sZS5wcm90b3R5cGUuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gdC5mYWNldFBvc2l0aW9uc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSx0LmZhY2V0UG9zaXRpb25zfSxlLnByb3RvdHlwZS5nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0UGFydGl0aW9uaW5nfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXRQYXJ0aXRpb25pbmd9LGUucHJvdG90eXBlLmdldEZhY2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIHI9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXRQb3NpdGlvblRvUmVmKHQscikscn0sZS5wcm90b3R5cGUuZ2V0RmFjZXRQb3NpdGlvblRvUmVmPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKClbdF0sYT10aGlzLmdldFdvcmxkTWF0cml4KCk7cmV0dXJuIGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihuLGEsciksdGhpc30sZS5wcm90b3R5cGUuZ2V0RmFjZXROb3JtYWw9ZnVuY3Rpb24odCl7dmFyIHI9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXROb3JtYWxUb1JlZih0LHIpLHJ9LGUucHJvdG90eXBlLmdldEZhY2V0Tm9ybWFsVG9SZWY9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKClbdF07cmV0dXJuIGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYobix0aGlzLmdldFdvcmxkTWF0cml4KCksciksdGhpc30sZS5wcm90b3R5cGUuZ2V0RmFjZXRzQXRMb2NhbENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmdldEJvdW5kaW5nSW5mbygpLHM9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLG89TWF0aC5mbG9vcigodC1hLm1pbmltdW0ueCpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqcy5zdWJEaXYuWCpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9zLmJiU2l6ZS54KSx1PU1hdGguZmxvb3IoKHItYS5taW5pbXVtLnkqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnMuc3ViRGl2Llkqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8vcy5iYlNpemUueSksZj1NYXRoLmZsb29yKChuLWEubWluaW11bS56KnMucGFydGl0aW9uaW5nQkJveFJhdGlvKSpzLnN1YkRpdi5aKnMucGFydGl0aW9uaW5nQkJveFJhdGlvL3MuYmJTaXplLnopO3JldHVybiBvPDB8fG8+cy5zdWJEaXYubWF4fHx1PDB8fHU+cy5zdWJEaXYubWF4fHxmPDB8fGY+cy5zdWJEaXYubWF4P251bGw6cy5mYWNldFBhcnRpdGlvbmluZ1tvK3Muc3ViRGl2Lm1heCp1K3Muc3ViRGl2Lm1heCpzLnN1YkRpdi5tYXgqZl19LGUucHJvdG90eXBlLmdldENsb3Nlc3RGYWNldEF0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPSExKSxvPT09dm9pZCAwJiYobz0hMCk7dmFyIHU9dGhpcy5nZXRXb3JsZE1hdHJpeCgpLGY9RC5NYXRyaXhbNV07dS5pbnZlcnRUb1JlZihmKTt2YXIgbD1ELlZlY3RvcjNbOF07Yi5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZih0LHIsbixmLGwpO3ZhciBoPXRoaXMuZ2V0Q2xvc2VzdEZhY2V0QXRMb2NhbENvb3JkaW5hdGVzKGwueCxsLnksbC56LGEscyxvKTtyZXR1cm4gYSYmYi5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihhLngsYS55LGEueix1LGEpLGh9LGUucHJvdG90eXBlLmdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9ITEpLG89PT12b2lkIDAmJihvPSEwKTt2YXIgdT1udWxsLGY9MCxsPTAsaD0wLGM9MCxkPTAscD0wLGc9MCxfPTAsdj10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKSx5PXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKSxFPXRoaXMuZ2V0RmFjZXRzQXRMb2NhbENvb3JkaW5hdGVzKHQscixuKTtpZighRSlyZXR1cm4gbnVsbDtmb3IodmFyIFI9TnVtYmVyLk1BWF9WQUxVRSxNPVIsQyxBLFMsdz0wO3c8RS5sZW5ndGg7dysrKUM9RVt3XSxBPXlbQ10sUz12W0NdLGM9KHQtUy54KSpBLngrKHItUy55KSpBLnkrKG4tUy56KSpBLnosKCFzfHxzJiZvJiZjPj0wfHxzJiYhbyYmYzw9MCkmJihjPUEueCpTLngrQS55KlMueStBLnoqUy56LGQ9LShBLngqdCtBLnkqcitBLnoqbi1jKS8oQS54KkEueCtBLnkqQS55K0EueipBLnopLHA9dCtBLngqZCxnPXIrQS55KmQsXz1uK0EueipkLGY9cC10LGw9Zy1yLGg9Xy1uLE09ZipmK2wqbCtoKmgsTTxSJiYoUj1NLHU9QyxhJiYoYS54PXAsYS55PWcsYS56PV8pKSk7cmV0dXJuIHV9LGUucHJvdG90eXBlLmdldEZhY2V0RGF0YVBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0UGFyYW1ldGVyc30sZS5wcm90b3R5cGUuZGlzYWJsZUZhY2V0RGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gdC5mYWNldERhdGFFbmFibGVkJiYodC5mYWNldERhdGFFbmFibGVkPSExLHQuZmFjZXRQb3NpdGlvbnM9bmV3IEFycmF5LHQuZmFjZXROb3JtYWxzPW5ldyBBcnJheSx0LmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSx0LmZhY2V0UGFyYW1ldGVycz1udWxsLHQuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheSgwKSksdGhpc30sZS5wcm90b3R5cGUudXBkYXRlSW5kaWNlcz1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmNyZWF0ZU5vcm1hbHM9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpLG49dGhpcy5nZXRJbmRpY2VzKCksYTtyZXR1cm4gdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKT9hPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCk6YT1bXSxnZS5Db21wdXRlTm9ybWFscyhyLG4sYSx7dXNlUmlnaHRIYW5kZWRTeXN0ZW06dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtfSksdGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLGEsdCksdGhpc30sZS5wcm90b3R5cGUuYWxpZ25XaXRoTm9ybWFsPWZ1bmN0aW9uKHQscil7cnx8KHI9UHIuWSk7dmFyIG49RC5WZWN0b3IzWzBdLGE9RC5WZWN0b3IzWzFdO3JldHVybiBiLkNyb3NzVG9SZWYocix0LGEpLGIuQ3Jvc3NUb1JlZih0LGEsbiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/aWUuUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihuLHQsYSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6Yi5Sb3RhdGlvbkZyb21BeGlzVG9SZWYobix0LGEsdGhpcy5yb3RhdGlvbiksdGhpc30sZS5wcm90b3R5cGUuX2NoZWNrT2NjbHVzaW9uUXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZGlzYWJsZUVkZ2VzUmVuZGVyaW5nPWZ1bmN0aW9uKCl7dGhyb3cgWCgiRWRnZXNSZW5kZXJlciIpfSxlLnByb3RvdHlwZS5lbmFibGVFZGdlc1JlbmRlcmluZz1mdW5jdGlvbih0LHIsbil7dGhyb3cgWCgiRWRnZXNSZW5kZXJlciIpfSxlLnByb3RvdHlwZS5nZXRDb25uZWN0ZWRQYXJ0aWNsZVN5c3RlbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiByLmVtaXR0ZXI9PT10fSl9LGUuT0NDTFVTSU9OX1RZUEVfTk9ORT0wLGUuT0NDTFVTSU9OX1RZUEVfT1BUSU1JU1RJQz0xLGUuT0NDTFVTSU9OX1RZUEVfU1RSSUNUPTIsZS5PQ0NMVVNJT05fQUxHT1JJVEhNX1RZUEVfQUNDVVJBVEU9MCxlLk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9DT05TRVJWQVRJVkU9MSxlLkNVTExJTkdTVFJBVEVHWV9TVEFOREFSRD0wLGUuQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFk9MSxlLkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTj0yLGUuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OX1RIRU5fQlNQSEVSRV9PTkxZPTMsZX0oSmUpO3dlKCJCQUJZTE9OLkFic3RyYWN0TWVzaCIsdGkpO3ZhciBUYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy54PWUsdGhpcy55PXQsdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PW59cmV0dXJuIGkucHJvdG90eXBlLnRvR2xvYmFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpKHRoaXMueCplLHRoaXMueSp0LHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX0saS5wcm90b3R5cGUudG9HbG9iYWxUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHIueD10aGlzLngqZSxyLnk9dGhpcy55KnQsci53aWR0aD10aGlzLndpZHRoKmUsci5oZWlnaHQ9dGhpcy5oZWlnaHQqdCx0aGlzfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxpfSgpLE9lPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEpe2E9PT12b2lkIDAmJihhPSEwKTt2YXIgcz1pLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBzLl9wb3NpdGlvbj1iLlplcm8oKSxzLl91cFZlY3Rvcj1iLlVwKCkscy5vcnRob0xlZnQ9bnVsbCxzLm9ydGhvUmlnaHQ9bnVsbCxzLm9ydGhvQm90dG9tPW51bGwscy5vcnRob1RvcD1udWxsLHMuZm92PS44LHMucHJvamVjdGlvblBsYW5lVGlsdD0wLHMubWluWj0xLHMubWF4Wj0xZTQscy5pbmVydGlhPS45LHMubW9kZT1lLlBFUlNQRUNUSVZFX0NBTUVSQSxzLmlzSW50ZXJtZWRpYXRlPSExLHMudmlld3BvcnQ9bmV3IFRhKDAsMCwxLDEpLHMubGF5ZXJNYXNrPTI2ODQzNTQ1NSxzLmZvdk1vZGU9ZS5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELHMuY2FtZXJhUmlnTW9kZT1lLlJJR19NT0RFX05PTkUscy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSxzLm91dHB1dFJlbmRlclRhcmdldD1udWxsLHMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGU9bmV3IE8scy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGU9bmV3IE8scy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGU9bmV3IE8scy5pc1JpZ0NhbWVyYT0hMSxzLl9yaWdDYW1lcmFzPW5ldyBBcnJheSxzLl93ZWJ2clZpZXdNYXRyaXg9SS5JZGVudGl0eSgpLHMuX3NraXBSZW5kZXJpbmc9ITEscy5fcHJvamVjdGlvbk1hdHJpeD1uZXcgSSxzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSxzLl9hY3RpdmVNZXNoZXM9bmV3IFZlKDI1Nikscy5fZ2xvYmFsUG9zaXRpb249Yi5aZXJvKCkscy5fY29tcHV0ZWRWaWV3TWF0cml4PUkuSWRlbnRpdHkoKSxzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExLHMuX3RyYW5zZm9ybU1hdHJpeD1JLlplcm8oKSxzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCxzLl9hYnNvbHV0ZVJvdGF0aW9uPWllLklkZW50aXR5KCkscy5faXNDYW1lcmE9ITAscy5faXNMZWZ0Q2FtZXJhPSExLHMuX2lzUmlnaHRDYW1lcmE9ITEscy5nZXRTY2VuZSgpLmFkZENhbWVyYShzKSxhJiYhcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSYmKHMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE9cykscy5wb3NpdGlvbj1yLHMucmVuZGVyUGFzc0lkPXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJQYXNzSWQoIkNhbWVyYSAiLmNvbmNhdCh0KSksc31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Bvc2l0aW9uPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1cFZlY3RvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cFZlY3Rvcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VwVmVjdG9yPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzY3JlZW5BcmVhIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscixuLGEscz0wLG89MDtpZih0aGlzLm1vZGU9PT1lLlBFUlNQRUNUSVZFX0NBTUVSQSl0aGlzLmZvdk1vZGU9PT1lLkZPVk1PREVfVkVSVElDQUxfRklYRUQ/KG89dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMikscz10aGlzLmdldEVuZ2luZSgpLmdldEFzcGVjdFJhdGlvKHRoaXMpKm8pOihzPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLG89cy90aGlzLmdldEVuZ2luZSgpLmdldEFzcGVjdFJhdGlvKHRoaXMpKTtlbHNle3ZhciB1PXRoaXMuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKS8yLGY9dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKS8yO3M9KCh0PXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dSktKChyPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnIhPT12b2lkIDA/cjotdSksbz0oKG49dGhpcy5vcnRob1RvcCkhPT1udWxsJiZuIT09dm9pZCAwP246ZiktKChhPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmYSE9PXZvaWQgMD9hOi1mKX1yZXR1cm4gcypvfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnN0b3JlU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ9ITAsdGhpcy5fc3RvcmVkRm92PXRoaXMuZm92LHRoaXN9LGUucHJvdG90eXBlLl9yZXN0b3JlU3RhdGVWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ/KHRoaXMuZm92PXRoaXMuX3N0b3JlZEZvdiwhMCk6ITF9LGUucHJvdG90eXBlLnJlc3RvcmVTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN0b3JlU3RhdGVWYWx1ZXMoKT8odGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLCEwKTohMX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkNhbWVyYSJ9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciByPSJOYW1lOiAiK3RoaXMubmFtZTtpZihyKz0iLCB0eXBlOiAiK3RoaXMuZ2V0Q2xhc3NOYW1lKCksdGhpcy5hbmltYXRpb25zKWZvcih2YXIgbj0wO248dGhpcy5hbmltYXRpb25zLmxlbmd0aDtuKyspcis9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tuXS50b1N0cmluZyh0KTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuYXBwbHlWZXJ0aWNhbENvcnJlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFic29sdXRlUm90YXRpb24udG9FdWxlckFuZ2xlcygpO3RoaXMucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tdC54OnQueH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJnbG9iYWxQb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxQb3NpdGlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfSxlLnByb3RvdHlwZS5pc0FjdGl2ZU1lc2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKHQpIT09LTF9LGUucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHQpZm9yKHZhciByPTAsbj10aGlzLl9wb3N0UHJvY2Vzc2VzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKGEmJiFhLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4gaS5wcm90b3R5cGUuaXNSZWFkeS5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5faW5pdENhY2hlLmNhbGwodGhpcyksdGhpcy5fY2FjaGUucG9zaXRpb249bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnVwVmVjdG9yPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5tb2RlPXZvaWQgMCx0aGlzLl9jYWNoZS5taW5aPXZvaWQgMCx0aGlzLl9jYWNoZS5tYXhaPXZvaWQgMCx0aGlzLl9jYWNoZS5mb3Y9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdk1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob0xlZnQ9dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob1RvcD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9dm9pZCAwLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD12b2lkIDB9LGUucHJvdG90eXBlLl91cGRhdGVDYWNoZT1mdW5jdGlvbih0KXt0fHxpLnByb3RvdHlwZS5fdXBkYXRlQ2FjaGUuY2FsbCh0aGlzKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl9jYWNoZS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKX0sZS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKX0sZS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkVmlld01hdHJpeD1mdW5jdGlvbigpe3JldHVybiBpLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQuY2FsbCh0aGlzKT90aGlzLl9jYWNoZS5wb3NpdGlvbi5lcXVhbHModGhpcy5wb3NpdGlvbikmJnRoaXMuX2NhY2hlLnVwVmVjdG9yLmVxdWFscyh0aGlzLnVwVmVjdG9yKSYmdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKTohMX0sZS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NhY2hlLm1vZGU9PT10aGlzLm1vZGUmJnRoaXMuX2NhY2hlLm1pblo9PT10aGlzLm1pblomJnRoaXMuX2NhY2hlLm1heFo9PT10aGlzLm1heFo7aWYoIXQpcmV0dXJuITE7dmFyIHI9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5tb2RlPT09ZS5QRVJTUEVDVElWRV9DQU1FUkE/dD10aGlzLl9jYWNoZS5mb3Y9PT10aGlzLmZvdiYmdGhpcy5fY2FjaGUuZm92TW9kZT09PXRoaXMuZm92TW9kZSYmdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89PT1yLmdldEFzcGVjdFJhdGlvKHRoaXMpJiZ0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PT09dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0OnQ9dGhpcy5fY2FjaGUub3J0aG9MZWZ0PT09dGhpcy5vcnRob0xlZnQmJnRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9PT10aGlzLm9ydGhvUmlnaHQmJnRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPT09dGhpcy5vcnRob0JvdHRvbSYmdGhpcy5fY2FjaGUub3J0aG9Ub3A9PT10aGlzLm9ydGhvVG9wJiZ0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD09PXIuZ2V0UmVuZGVyV2lkdGgoKSYmdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PT09ci5nZXRSZW5kZXJIZWlnaHQoKSx0fSxlLnByb3RvdHlwZS5hdHRhY2hDb250cm9sPWZ1bmN0aW9uKHQscil7fSxlLnByb3RvdHlwZS5kZXRhY2hDb250cm9sPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tJbnB1dHMoKSx0aGlzLmNhbWVyYVJpZ01vZGUhPT1lLlJJR19NT0RFX05PTkUmJnRoaXMuX3VwZGF0ZVJpZ0NhbWVyYXMoKX0sZS5wcm90b3R5cGUuX2NoZWNrSW5wdXRzPWZ1bmN0aW9uKCl7dGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyaWdDYW1lcmFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyaWdQb3N0UHJvY2VzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdQb3N0UHJvY2Vzc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fZ2V0Rmlyc3RQb3N0UHJvY2Vzcz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7dCsrKWlmKHRoaXMuX3Bvc3RQcm9jZXNzZXNbdF0hPT1udWxsKXJldHVybiB0aGlzLl9wb3N0UHJvY2Vzc2VzW3RdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7dCYmdC5tYXJrVGV4dHVyZURpcnR5KCk7Zm9yKHZhciByPTAsbj10aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDtyPG47cisrKXt2YXIgYT10aGlzLl9yaWdDYW1lcmFzW3JdLHM9YS5fcmlnUG9zdFByb2Nlc3M7aWYocyl7dmFyIG89cy5nZXRFZmZlY3ROYW1lKCk9PT0icGFzcyI7byYmKGEuaXNJbnRlcm1lZGlhdGU9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9PT0wKSxhLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCkuY29uY2F0KHMpLHMubWFya1RleHR1cmVEaXJ0eSgpfWVsc2UgYS5fcG9zdFByb2Nlc3Nlcz10aGlzLl9wb3N0UHJvY2Vzc2VzLnNsaWNlKDApfX0sZS5wcm90b3R5cGUuYXR0YWNoUG9zdFByb2Nlc3M9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9bnVsbCksIXQuaXNSZXVzYWJsZSgpJiZ0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCk+LTE/KGsuRXJyb3IoIllvdSdyZSB0cnlpbmcgdG8gcmV1c2UgYSBwb3N0IHByb2Nlc3Mgbm90IGRlZmluZWQgYXMgcmV1c2FibGUuIiksMCk6KHI9PW51bGx8fHI8MD90aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2godCk6dGhpcy5fcG9zdFByb2Nlc3Nlc1tyXT09PW51bGw/dGhpcy5fcG9zdFByb2Nlc3Nlc1tyXT10OnRoaXMuX3Bvc3RQcm9jZXNzZXMuc3BsaWNlKHIsMCx0KSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpLHRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlciYmdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyLm1hcmtBc0RpcnR5KCksdGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKHQpKX0sZS5wcm90b3R5cGUuZGV0YWNoUG9zdFByb2Nlc3M9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKHQpO3IhPT0tMSYmKHRoaXMuX3Bvc3RQcm9jZXNzZXNbcl09bnVsbCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpfSxlLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKT90aGlzLl93b3JsZE1hdHJpeDoodGhpcy5nZXRWaWV3TWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpfSxlLnByb3RvdHlwZS5fZ2V0Vmlld01hdHJpeD1mdW5jdGlvbigpe3JldHVybiBJLklkZW50aXR5KCl9LGUucHJvdG90eXBlLmdldFZpZXdNYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX2NvbXB1dGVkVmlld01hdHJpeDoodGhpcy51cGRhdGVDYWNoZSgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeD10aGlzLl9nZXRWaWV3TWF0cml4KCksdGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX2NoaWxkVXBkYXRlSWQrKyx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9jYW1lcmFSaWdQYXJhbXMmJnRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52clByZVZpZXdNYXRyaXgmJnRoaXMuX2NvbXB1dGVkVmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52clByZVZpZXdNYXRyaXgsdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUmJnRoaXMucGFyZW50Lm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnBhcmVudCksdGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpfSxlLnByb3RvdHlwZS5mcmVlemVQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITAsdCE9PXZvaWQgMCYmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9dCl9LGUucHJvdG90eXBlLnVuZnJlZXplUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITF9LGUucHJvdG90eXBlLmdldFByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCl7dmFyIHIsbixhLHMsbyx1LGYsbDtpZih0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4fHwhdCYmdGhpcy5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4KCkpcmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXg7dGhpcy5fY2FjaGUubW9kZT10aGlzLm1vZGUsdGhpcy5fY2FjaGUubWluWj10aGlzLm1pblosdGhpcy5fY2FjaGUubWF4Wj10aGlzLm1heFosdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITA7dmFyIGg9dGhpcy5nZXRFbmdpbmUoKSxjPXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLm1vZGU9PT1lLlBFUlNQRUNUSVZFX0NBTUVSQSl7dGhpcy5fY2FjaGUuZm92PXRoaXMuZm92LHRoaXMuX2NhY2hlLmZvdk1vZGU9dGhpcy5mb3ZNb2RlLHRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPWguZ2V0QXNwZWN0UmF0aW8odGhpcyksdGhpcy5fY2FjaGUucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsdGhpcy5taW5aPD0wJiYodGhpcy5taW5aPS4xKTt2YXIgZD1oLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcixwPXZvaWQgMDtjLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3A9SS5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY6cD1JLlBlcnNwZWN0aXZlRm92TEhUb1JlZixwKHRoaXMuZm92LGguZ2V0QXNwZWN0UmF0aW8odGhpcyksZD90aGlzLm1heFo6dGhpcy5taW5aLGQ/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuZm92TW9kZT09PWUuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRCxoLmlzTkRDSGFsZlpSYW5nZSx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsaC51c2VSZXZlcnNlRGVwdGhCdWZmZXIpfWVsc2V7dmFyIGc9aC5nZXRSZW5kZXJXaWR0aCgpLzIsXz1oLmdldFJlbmRlckhlaWdodCgpLzI7Yy51c2VSaWdodEhhbmRlZFN5c3RlbT9JLk9ydGhvT2ZmQ2VudGVyUkhUb1JlZigocj10aGlzLm9ydGhvTGVmdCkhPT1udWxsJiZyIT09dm9pZCAwP3I6LWcsKG49dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJm4hPT12b2lkIDA/bjpnLChhPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmYSE9PXZvaWQgMD9hOi1fLChzPXRoaXMub3J0aG9Ub3ApIT09bnVsbCYmcyE9PXZvaWQgMD9zOl8sdGhpcy5taW5aLHRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LGguaXNORENIYWxmWlJhbmdlKTpJLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZigobz10aGlzLm9ydGhvTGVmdCkhPT1udWxsJiZvIT09dm9pZCAwP286LWcsKHU9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJnUhPT12b2lkIDA/dTpnLChmPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmZiE9PXZvaWQgMD9mOi1fLChsPXRoaXMub3J0aG9Ub3ApIT09bnVsbCYmbCE9PXZvaWQgMD9sOl8sdGhpcy5taW5aLHRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LGguaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYWNoZS5vcnRob0xlZnQ9dGhpcy5vcnRob0xlZnQsdGhpcy5fY2FjaGUub3J0aG9SaWdodD10aGlzLm9ydGhvUmlnaHQsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dGhpcy5vcnRob0JvdHRvbSx0aGlzLl9jYWNoZS5vcnRob1RvcD10aGlzLm9ydGhvVG9wLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPWguZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9aC5nZXRSZW5kZXJIZWlnaHQoKX1yZXR1cm4gdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeH0sZS5wcm90b3R5cGUuX3VwZGF0ZUZydXN0dW1QbGFuZXM9ZnVuY3Rpb24oKXshdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXN8fCh0aGlzLmdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCksdGhpcy5fZnJ1c3R1bVBsYW5lcz9Sci5HZXRQbGFuZXNUb1JlZih0aGlzLl90cmFuc2Zvcm1NYXRyaXgsdGhpcy5fZnJ1c3R1bVBsYW5lcyk6dGhpcy5fZnJ1c3R1bVBsYW5lcz1Sci5HZXRQbGFuZXModGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMSl9LGUucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxyJiZ0aGlzLnJpZ0NhbWVyYXMubGVuZ3RoPjApe3ZhciBuPSExO3JldHVybiB0aGlzLnJpZ0NhbWVyYXMuZm9yRWFjaChmdW5jdGlvbihhKXthLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksbj1ufHx0LmlzSW5GcnVzdHVtKGEuX2ZydXN0dW1QbGFuZXMpfSksbn1lbHNlIHJldHVybiB0LmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfSxlLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSx0LmlzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX0sZS5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheT1mdW5jdGlvbih0LHIsbil7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLmdldEZvcndhcmRSYXlUb1JlZj1mdW5jdGlvbih0LHIsbixhKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe2ZvcihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5jbGVhcigpLHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVDYW1lcmEodGhpcyk7dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg+MDspe3ZhciBuPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7biYmbi5kaXNwb3NlKCl9aWYodGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgYT10aGlzLl9wYXJlbnRDb250YWluZXIuY2FtZXJhcy5pbmRleE9mKHRoaXMpO2E+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLnNwbGljZShhLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHRoaXMuX3JpZ1Bvc3RQcm9jZXNzKXRoaXMuX3JpZ1Bvc3RQcm9jZXNzLmRpc3Bvc2UodGhpcyksdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzPVtdO2Vsc2UgaWYodGhpcy5jYW1lcmFSaWdNb2RlIT09ZS5SSUdfTU9ERV9OT05FKXRoaXMuX3JpZ1Bvc3RQcm9jZXNzPW51bGwsdGhpcy5fcG9zdFByb2Nlc3Nlcz1bXTtlbHNlIGZvcih2YXIgcz10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDstLXM+PTA7KXt2YXIgbz10aGlzLl9wb3N0UHJvY2Vzc2VzW3NdO28mJm8uZGlzcG9zZSh0aGlzKX1mb3IodmFyIHU9dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDstLXU+PTA7KXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1t1XS5kaXNwb3NlKCk7dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPVtdLHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5yZW5kZXJQYXNzSWQpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNMZWZ0Q2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTGVmdENhbWVyYX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzUmlnaHRDYW1lcmEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNSaWdodENhbWVyYX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlZnRDYW1lcmEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8MT9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMF19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyaWdodENhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRMZWZ0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdLmdldFRhcmdldCgpfSxlLnByb3RvdHlwZS5nZXRSaWdodFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXS5nZXRUYXJnZXQoKX0sZS5wcm90b3R5cGUuc2V0Q2FtZXJhUmlnTW9kZT1mdW5jdGlvbih0LHIpe2lmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PXQpe2Zvcig7dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg+MDspe3ZhciBuPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7biYmbi5kaXNwb3NlKCl9aWYodGhpcy5jYW1lcmFSaWdNb2RlPXQsdGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2U9ci5pbnRlcmF4aWFsRGlzdGFuY2V8fC4wNjM3LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGU9X2UuVG9SYWRpYW5zKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2UvLjA2MzcpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWUuUklHX01PREVfTk9ORSl7dmFyIGE9dGhpcy5jcmVhdGVSaWdDYW1lcmEodGhpcy5uYW1lKyJfTCIsMCk7YSYmKGEuX2lzTGVmdENhbWVyYT0hMCk7dmFyIHM9dGhpcy5jcmVhdGVSaWdDYW1lcmEodGhpcy5uYW1lKyJfUiIsMSk7cyYmKHMuX2lzUmlnaHRDYW1lcmE9ITApLGEmJnMmJih0aGlzLl9yaWdDYW1lcmFzLnB1c2goYSksdGhpcy5fcmlnQ2FtZXJhcy5wdXNoKHMpKX10aGlzLl9zZXRSaWdNb2RlKHIpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy51cGRhdGUoKX19LGUucHJvdG90eXBlLl9zZXRSaWdNb2RlPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX2dldFZSUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiBJLlBlcnNwZWN0aXZlRm92TEhUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJNZXRyaWNzLmFzcGVjdFJhdGlvRm92LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW8sdGhpcy5taW5aLHRoaXMubWF4Wix0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJXb3JrTWF0cml4LCEwLHRoaXMuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJXb3JrTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZySE1hdHJpeCx0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fSxlLnByb3RvdHlwZS5fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl91cGRhdGVXZWJWUkNhbWVyYVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fZ2V0V2ViVlJQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuX2dldFdlYlZSVmlld01hdHJpeD1mdW5jdGlvbigpe3JldHVybiBJLklkZW50aXR5KCl9LGUucHJvdG90eXBlLnNldENhbWVyYVJpZ1BhcmFtZXRlcj1mdW5jdGlvbih0LHIpe3RoaXMuX2NhbWVyYVJpZ1BhcmFtc3x8KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zW3RdPXIsdD09PSJpbnRlcmF4aWFsRGlzdGFuY2UiJiYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1fZS5Ub1JhZGlhbnMoci8uMDYzNykpfSxlLnByb3RvdHlwZS5jcmVhdGVSaWdDYW1lcmE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX3VwZGF0ZVJpZ0NhbWVyYXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3QrKyl0aGlzLl9yaWdDYW1lcmFzW3RdLm1pblo9dGhpcy5taW5aLHRoaXMuX3JpZ0NhbWVyYXNbdF0ubWF4Wj10aGlzLm1heFosdGhpcy5fcmlnQ2FtZXJhc1t0XS5mb3Y9dGhpcy5mb3YsdGhpcy5fcmlnQ2FtZXJhc1t0XS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKTt0aGlzLmNhbWVyYVJpZ01vZGU9PT1lLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSCYmKHRoaXMuX3JpZ0NhbWVyYXNbMF0udmlld3BvcnQ9dGhpcy5fcmlnQ2FtZXJhc1sxXS52aWV3cG9ydD10aGlzLnZpZXdwb3J0KX0sZS5wcm90b3R5cGUuX3NldHVwSW5wdXRzPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1KLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHQudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHRoaXMucGFyZW50JiYodC5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLnNlcmlhbGl6ZSh0KSxKLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsdCksdC5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSx0LmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLHR9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCk7dmFyIG49Si5DbG9uZShlLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRDbGFzc05hbWUoKSx0LHRoaXMuZ2V0U2NlbmUoKSx0aGlzLmludGVyYXhpYWxEaXN0YW5jZSx0aGlzLmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSksdGhpcyk7cmV0dXJuIG4ubmFtZT10LG4ucGFyZW50PXIsdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4pLG59LGUucHJvdG90eXBlLmdldERpcmVjdGlvbj1mdW5jdGlvbih0KXt2YXIgcj1iLlplcm8oKTtyZXR1cm4gdGhpcy5nZXREaXJlY3Rpb25Ub1JlZih0LHIpLHJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWJzb2x1dGVSb3RhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFdvcmxkTWF0cml4KCkuZGVjb21wb3NlKHZvaWQgMCx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldERpcmVjdGlvblRvUmVmPWZ1bmN0aW9uKHQscil7Yi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0LHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxyKX0sZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lPWZ1bmN0aW9uKHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9MCkscz09PXZvaWQgMCYmKHM9ITApO3ZhciBvPSRlLkNvbnN0cnVjdCh0LHIsbix7aW50ZXJheGlhbF9kaXN0YW5jZTphLGlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZTpzfSk7cmV0dXJuIG98fGZ1bmN0aW9uKCl7cmV0dXJuIGUuX0NyZWF0ZURlZmF1bHRQYXJzZWRDYW1lcmEocixuKX19LGUucHJvdG90eXBlLmNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFdvcmxkTWF0cml4KCl9LGUuUGFyc2U9ZnVuY3Rpb24odCxyKXt2YXIgbj10LnR5cGUsYT1lLkdldENvbnN0cnVjdG9yRnJvbU5hbWUobix0Lm5hbWUscix0LmludGVyYXhpYWxfZGlzdGFuY2UsdC5pc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUpLHM9Si5QYXJzZShhLHQscik7aWYodC5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD10LnBhcmVudElkKSxzLmlucHV0cyYmKHMuaW5wdXRzLnBhcnNlKHQpLHMuX3NldHVwSW5wdXRzKCkpLHQudXBWZWN0b3ImJihzLnVwVmVjdG9yPWIuRnJvbUFycmF5KHQudXBWZWN0b3IpKSxzLnNldFBvc2l0aW9uJiYocy5wb3NpdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkscy5zZXRQb3NpdGlvbihiLkZyb21BcnJheSh0LnBvc2l0aW9uKSkpLHQudGFyZ2V0JiZzLnNldFRhcmdldCYmcy5zZXRUYXJnZXQoYi5Gcm9tQXJyYXkodC50YXJnZXQpKSx0LmNhbWVyYVJpZ01vZGUpe3ZhciBvPXQuaW50ZXJheGlhbF9kaXN0YW5jZT97aW50ZXJheGlhbERpc3RhbmNlOnQuaW50ZXJheGlhbF9kaXN0YW5jZX06e307cy5zZXRDYW1lcmFSaWdNb2RlKHQuY2FtZXJhUmlnTW9kZSxvKX1pZih0LmFuaW1hdGlvbnMpe2Zvcih2YXIgdT0wO3U8dC5hbmltYXRpb25zLmxlbmd0aDt1Kyspe3ZhciBmPXQuYW5pbWF0aW9uc1t1XSxsPVJ0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO2wmJnMuYW5pbWF0aW9ucy5wdXNoKGwuUGFyc2UoZikpfSRlLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHMsdCxyKX1yZXR1cm4gdC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihzLHQuYXV0b0FuaW1hdGVGcm9tLHQuYXV0b0FuaW1hdGVUbyx0LmF1dG9BbmltYXRlTG9vcCx0LmF1dG9BbmltYXRlU3BlZWR8fDEpLHQuaXNFbmFibGVkIT09dm9pZCAwJiZzLnNldEVuYWJsZWQodC5pc0VuYWJsZWQpLHN9LGUuX0NyZWF0ZURlZmF1bHRQYXJzZWRDYW1lcmE9ZnVuY3Rpb24odCxyKXt0aHJvdyBYKCJVbml2ZXJzYWxDYW1lcmEiKX0sZS5QRVJTUEVDVElWRV9DQU1FUkE9MCxlLk9SVEhPR1JBUEhJQ19DQU1FUkE9MSxlLkZPVk1PREVfVkVSVElDQUxfRklYRUQ9MCxlLkZPVk1PREVfSE9SSVpPTlRBTF9GSVhFRD0xLGUuUklHX01PREVfTk9ORT0wLGUuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIPTEwLGUuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw9MTEsZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ9MTIsZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSPTEzLGUuUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ9MTQsZS5SSUdfTU9ERV9WUj0yMCxlLlJJR19NT0RFX1dFQlZSPTIxLGUuUklHX01PREVfQ1VTVE9NPTIyLGUuRm9yY2VBdHRhY2hDb250cm9sVG9BbHdheXNQcmV2ZW50RGVmYXVsdD0hMSxUKFtmdCgicG9zaXRpb24iKV0sZS5wcm90b3R5cGUsIl9wb3NpdGlvbiIsdm9pZCAwKSxUKFtmdCgidXBWZWN0b3IiKV0sZS5wcm90b3R5cGUsIl91cFZlY3RvciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJvcnRob0xlZnQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9SaWdodCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJvcnRob0JvdHRvbSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJvcnRob1RvcCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJmb3YiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicHJvamVjdGlvblBsYW5lVGlsdCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtaW5aIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIm1heFoiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW5lcnRpYSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxheWVyTWFzayIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJmb3ZNb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImNhbWVyYVJpZ01vZGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW50ZXJheGlhbERpc3RhbmNlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSIsdm9pZCAwKSxlfSgkZSksZXQ9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLmRpZmZ1c2U9bmV3IGJlKDEsMSwxKSxuLnNwZWN1bGFyPW5ldyBiZSgxLDEsMSksbi5mYWxsb2ZmVHlwZT1lLkZBTExPRkZfREVGQVVMVCxuLmludGVuc2l0eT0xLG4uX3JhbmdlPU51bWJlci5NQVhfVkFMVUUsbi5faW52ZXJzZVNxdWFyZWRSYW5nZT0wLG4uX3Bob3RvbWV0cmljU2NhbGU9MSxuLl9pbnRlbnNpdHlNb2RlPWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsbi5fcmFkaXVzPTFlLTUsbi5yZW5kZXJQcmlvcml0eT0wLG4uX3NoYWRvd0VuYWJsZWQ9ITAsbi5fZXhjbHVkZVdpdGhMYXllck1hc2s9MCxuLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9MCxuLl9saWdodG1hcE1vZGU9MCxuLl9leGNsdWRlZE1lc2hlc0lkcz1uZXcgQXJyYXksbi5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPW5ldyBBcnJheSxuLl9pc0xpZ2h0PSEwLG4uZ2V0U2NlbmUoKS5hZGRMaWdodChuKSxuLl91bmlmb3JtQnVmZmVyPW5ldyBFcihuLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCx0KSxuLl9idWlsZFVuaWZvcm1MYXlvdXQoKSxuLmluY2x1ZGVkT25seU1lc2hlcz1uZXcgQXJyYXksbi5leGNsdWRlZE1lc2hlcz1uZXcgQXJyYXksbi5fcmVzeW5jTWVzaGVzKCksbn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyYW5nZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JhbmdlPXQsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0xLyh0aGlzLnJhbmdlKnRoaXMucmFuZ2UpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlbnNpdHlNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZW5zaXR5TW9kZT10LHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyYWRpdXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmFkaXVzPXQsdGhpcy5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93RW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd0VuYWJsZWQhPT10JiYodGhpcy5fc2hhZG93RW5hYmxlZD10LHRoaXMuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmNsdWRlZE9ubHlNZXNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzPXQsdGhpcy5faG9va0FycmF5Rm9ySW5jbHVkZWRPbmx5KHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXhjbHVkZWRNZXNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhjbHVkZWRNZXNoZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9leGNsdWRlZE1lc2hlcz10LHRoaXMuX2hvb2tBcnJheUZvckV4Y2x1ZGVkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXhjbHVkZVdpdGhMYXllck1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz10LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFza30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzaz10LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGlnaHRtYXBNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0bWFwTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpZ2h0bWFwTW9kZSE9PXQmJih0aGlzLl9saWdodG1hcE1vZGU9dCx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdD1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fYmluZExpZ2h0PWZ1bmN0aW9uKHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9ITApO3ZhciBvPXQudG9TdHJpbmcoKSx1PSExO2lmKHRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFRvRWZmZWN0KG4sIkxpZ2h0IitvKSx0aGlzLl9yZW5kZXJJZCE9PXIuZ2V0UmVuZGVySWQoKXx8dGhpcy5fbGFzdFVzZVNwZWN1bGFyIT09YXx8IXRoaXMuX3VuaWZvcm1CdWZmZXIudXNlVWJvKXt0aGlzLl9yZW5kZXJJZD1yLmdldFJlbmRlcklkKCksdGhpcy5fbGFzdFVzZVNwZWN1bGFyPWE7dmFyIGY9dGhpcy5nZXRTY2FsZWRJbnRlbnNpdHkoKTt0aGlzLnRyYW5zZmVyVG9FZmZlY3QobixvKSx0aGlzLmRpZmZ1c2Uuc2NhbGVUb1JlZihmLGhyLkNvbG9yM1swXSksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjQoInZMaWdodERpZmZ1c2UiLGhyLkNvbG9yM1swXSx0aGlzLnJhbmdlLG8pLGEmJih0aGlzLnNwZWN1bGFyLnNjYWxlVG9SZWYoZixoci5Db2xvcjNbMV0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHRTcGVjdWxhciIsaHIuQ29sb3IzWzFdLHRoaXMucmFkaXVzLG8pKSx1PSEwfWlmKHRoaXMudHJhbnNmZXJUZXh0dXJlc1RvRWZmZWN0KG4sbyksci5zaGFkb3dzRW5hYmxlZCYmdGhpcy5zaGFkb3dFbmFibGVkJiZzKXt2YXIgbD10aGlzLmdldFNoYWRvd0dlbmVyYXRvcigpO2wmJihsLmJpbmRTaGFkb3dMaWdodChvLG4pLHU9ITApfXU/dGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGUoKTp0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRVbmlmb3JtQnVmZmVyKCl9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJMaWdodCJ9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciByPSJOYW1lOiAiK3RoaXMubmFtZTtpZihyKz0iLCB0eXBlOiAiK1siUG9pbnQiLCJEaXJlY3Rpb25hbCIsIlNwb3QiLCJIZW1pc3BoZXJpYyJdW3RoaXMuZ2V0VHlwZUlEKCldLHRoaXMuYW5pbWF0aW9ucylmb3IodmFyIG49MDtuPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7bisrKXIrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbbl0udG9TdHJpbmcodCk7cmV0dXJuIHJ9LGUucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUuY2FsbCh0aGlzKSx0aGlzLmlzRGlzcG9zZWQoKXx8dGhpcy5fcmVzeW5jTWVzaGVzKCl9LGUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuc2V0RW5hYmxlZC5jYWxsKHRoaXMsdCksdGhpcy5fcmVzeW5jTWVzaGVzKCl9LGUucHJvdG90eXBlLmdldFNoYWRvd0dlbmVyYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3J9LGUucHJvdG90eXBlLmdldEFic29sdXRlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYi5aZXJvKCl9LGUucHJvdG90eXBlLmNhbkFmZmVjdE1lc2g9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ISh0aGlzLmluY2x1ZGVkT25seU1lc2hlcyYmdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2YodCk9PT0tMXx8dGhpcy5leGNsdWRlZE1lc2hlcyYmdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmdGhpcy5leGNsdWRlZE1lc2hlcy5pbmRleE9mKHQpIT09LTF8fHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIT09MCYmKHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrJnQubGF5ZXJNYXNrKT09PTB8fHRoaXMuZXhjbHVkZVdpdGhMYXllck1hc2shPT0wJiZ0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrJnQubGF5ZXJNYXNrKTohMH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9zaGFkb3dHZW5lcmF0b3ImJih0aGlzLl9zaGFkb3dHZW5lcmF0b3IuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd0dlbmVyYXRvcj1udWxsKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBuPXRoaXMuX3BhcmVudENvbnRhaW5lci5saWdodHMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLnNwbGljZShuLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWZvcih2YXIgYT0wLHM9dGhpcy5nZXRTY2VuZSgpLm1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLl9yZW1vdmVMaWdodFNvdXJjZSh0aGlzLCEwKX10aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTGlnaHQodGhpcyksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0VHlwZUlEPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFNjYWxlZEludGVuc2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waG90b21ldHJpY1NjYWxlKnRoaXMuaW50ZW5zaXR5fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBuPWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldFR5cGVJRCgpLHQsdGhpcy5nZXRTY2VuZSgpKTtpZighbilyZXR1cm4gbnVsbDt2YXIgYT1KLkNsb25lKG4sdGhpcyk7cmV0dXJuIHQmJihhLm5hbWU9dCksciYmKGEucGFyZW50PXIpLGEuc2V0RW5hYmxlZCh0aGlzLmlzRW5hYmxlZCgpKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSksYX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9Si5TZXJpYWxpemUodGhpcyk7cmV0dXJuIHQudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0LnR5cGU9dGhpcy5nZXRUeXBlSUQoKSx0aGlzLnBhcmVudCYmKHQucGFyZW50SWQ9dGhpcy5wYXJlbnQudW5pcXVlSWQpLHRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJih0LmV4Y2x1ZGVkTWVzaGVzSWRzPVtdLHRoaXMuZXhjbHVkZWRNZXNoZXMuZm9yRWFjaChmdW5jdGlvbihyKXt0LmV4Y2x1ZGVkTWVzaGVzSWRzLnB1c2goci5pZCl9KSksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJih0LmluY2x1ZGVkT25seU1lc2hlc0lkcz1bXSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3QuaW5jbHVkZWRPbmx5TWVzaGVzSWRzLnB1c2goci5pZCl9KSksSi5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHQucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0fSxlLkdldENvbnN0cnVjdG9yRnJvbU5hbWU9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPSRlLkNvbnN0cnVjdCgiTGlnaHRfVHlwZV8iK3QscixuKTtyZXR1cm4gYXx8bnVsbH0sZS5QYXJzZT1mdW5jdGlvbih0LHIpe3ZhciBuPWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0LnR5cGUsdC5uYW1lLHIpO2lmKCFuKXJldHVybiBudWxsO3ZhciBhPUouUGFyc2Uobix0LHIpO2lmKHQuZXhjbHVkZWRNZXNoZXNJZHMmJihhLl9leGNsdWRlZE1lc2hlc0lkcz10LmV4Y2x1ZGVkTWVzaGVzSWRzKSx0LmluY2x1ZGVkT25seU1lc2hlc0lkcyYmKGEuX2luY2x1ZGVkT25seU1lc2hlc0lkcz10LmluY2x1ZGVkT25seU1lc2hlc0lkcyksdC5wYXJlbnRJZCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJZD10LnBhcmVudElkKSx0LmZhbGxvZmZUeXBlIT09dm9pZCAwJiYoYS5mYWxsb2ZmVHlwZT10LmZhbGxvZmZUeXBlKSx0LmxpZ2h0bWFwTW9kZSE9PXZvaWQgMCYmKGEubGlnaHRtYXBNb2RlPXQubGlnaHRtYXBNb2RlKSx0LmFuaW1hdGlvbnMpe2Zvcih2YXIgcz0wO3M8dC5hbmltYXRpb25zLmxlbmd0aDtzKyspe3ZhciBvPXQuYW5pbWF0aW9uc1tzXSx1PVJ0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO3UmJmEuYW5pbWF0aW9ucy5wdXNoKHUuUGFyc2UobykpfSRlLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKGEsdCxyKX1yZXR1cm4gdC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihhLHQuYXV0b0FuaW1hdGVGcm9tLHQuYXV0b0FuaW1hdGVUbyx0LmF1dG9BbmltYXRlTG9vcCx0LmF1dG9BbmltYXRlU3BlZWR8fDEpLHQuaXNFbmFibGVkIT09dm9pZCAwJiZhLnNldEVuYWJsZWQodC5pc0VuYWJsZWQpLGF9LGUucHJvdG90eXBlLl9ob29rQXJyYXlGb3JFeGNsdWRlZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgZj1bXSxsPTA7bDxhcmd1bWVudHMubGVuZ3RoO2wrKylmW2xdPWFyZ3VtZW50c1tsXTtmb3IodmFyIGg9bi5hcHBseSh0LGYpLGM9MCxkPWY7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5fcmVzeW5jTGlnaHRTb3VyY2Uocil9cmV0dXJuIGh9O3ZhciBhPXQuc3BsaWNlO3Quc3BsaWNlPWZ1bmN0aW9uKGYsbCl7Zm9yKHZhciBoPWEuYXBwbHkodCxbZixsXSksYz0wLGQ9aDtjPGQubGVuZ3RoO2MrKyl7dmFyIHA9ZFtjXTtwLl9yZXN5bmNMaWdodFNvdXJjZShyKX1yZXR1cm4gaH07Zm9yKHZhciBzPTAsbz10O3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfX0sZS5wcm90b3R5cGUuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcz1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKylzW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1uLmFwcGx5KHQscyk7cmV0dXJuIHIuX3Jlc3luY01lc2hlcygpLHV9O3ZhciBhPXQuc3BsaWNlO3Quc3BsaWNlPWZ1bmN0aW9uKHMsbyl7dmFyIHU9YS5hcHBseSh0LFtzLG9dKTtyZXR1cm4gci5fcmVzeW5jTWVzaGVzKCksdX0sdGhpcy5fcmVzeW5jTWVzaGVzKCl9LGUucHJvdG90eXBlLl9yZXN5bmNNZXNoZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyl9fSxlLnByb3RvdHlwZS5fbWFya01lc2hlc0FzTGlnaHREaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy5nZXRTY2VuZSgpLm1lc2hlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMpIT09LTEmJm4uX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX19LGUucHJvdG90eXBlLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZT1mdW5jdGlvbigpe3RoaXMuX3Bob3RvbWV0cmljU2NhbGU9dGhpcy5fZ2V0UGhvdG9tZXRyaWNTY2FsZSgpLHRoaXMuZ2V0U2NlbmUoKS5yZXNldENhY2hlZE1hdGVyaWFsKCl9LGUucHJvdG90eXBlLl9nZXRQaG90b21ldHJpY1NjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9MCxyPXRoaXMuZ2V0VHlwZUlEKCksbj10aGlzLmludGVuc2l0eU1vZGU7c3dpdGNoKG49PT1lLklOVEVOU0lUWU1PREVfQVVUT01BVElDJiYocj09PWUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD9uPWUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRTpuPWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSkscil7Y2FzZSBlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ6Y2FzZSBlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVDpzd2l0Y2gobil7Y2FzZSBlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUjp0PTEvKDQqTWF0aC5QSSk7YnJlYWs7Y2FzZSBlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk6dD0xO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTp0PXRoaXMucmFkaXVzKnRoaXMucmFkaXVzO2JyZWFrfWJyZWFrO2Nhc2UgZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUOnN3aXRjaChuKXtjYXNlIGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRTp0PTE7YnJlYWs7Y2FzZSBlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFOnt2YXIgYT10aGlzLnJhZGl1czthPU1hdGgubWF4KGEsLjAwMSk7dmFyIHM9MipNYXRoLlBJKigxLU1hdGguY29zKGEpKTt0PXM7YnJlYWt9fWJyZWFrO2Nhc2UgZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUOnQ9MTticmVha31yZXR1cm4gdH0sZS5wcm90b3R5cGUuX3Jlb3JkZXJMaWdodHNJblNjZW5lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTY2VuZSgpO3RoaXMuX3JlbmRlclByaW9yaXR5IT0wJiYodC5yZXF1aXJlTGlnaHRTb3J0aW5nPSEwKSx0aGlzLmdldFNjZW5lKCkuc29ydExpZ2h0c0J5UHJpb3JpdHkoKX0sZS5GQUxMT0ZGX0RFRkFVTFQ9eGUuRkFMTE9GRl9ERUZBVUxULGUuRkFMTE9GRl9QSFlTSUNBTD14ZS5GQUxMT0ZGX1BIWVNJQ0FMLGUuRkFMTE9GRl9HTFRGPXhlLkZBTExPRkZfR0xURixlLkZBTExPRkZfU1RBTkRBUkQ9eGUuRkFMTE9GRl9TVEFOREFSRCxlLkxJR0hUTUFQX0RFRkFVTFQ9eGUuTElHSFRNQVBfREVGQVVMVCxlLkxJR0hUTUFQX1NQRUNVTEFSPXhlLkxJR0hUTUFQX1NQRUNVTEFSLGUuTElHSFRNQVBfU0hBRE9XU09OTFk9eGUuTElHSFRNQVBfU0hBRE9XU09OTFksZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQz14ZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyxlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUj14ZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVIsZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPXhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFksZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFPXhlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0UsZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRT14ZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRSxlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9eGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVCxlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9eGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVCxlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVD14ZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQsZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPXhlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQsVChbT3QoKV0sZS5wcm90b3R5cGUsImRpZmZ1c2UiLHZvaWQgMCksVChbT3QoKV0sZS5wcm90b3R5cGUsInNwZWN1bGFyIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImZhbGxvZmZUeXBlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImludGVuc2l0eSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJyYW5nZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwicmFkaXVzIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJfcmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksVChbbmUoIl9yZW9yZGVyTGlnaHRzSW5TY2VuZSIpXSxlLnByb3RvdHlwZSwicmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksVChbUCgic2hhZG93RW5hYmxlZCIpXSxlLnByb3RvdHlwZSwiX3NoYWRvd0VuYWJsZWQiLHZvaWQgMCksVChbUCgiZXhjbHVkZVdpdGhMYXllck1hc2siKV0sZS5wcm90b3R5cGUsIl9leGNsdWRlV2l0aExheWVyTWFzayIsdm9pZCAwKSxUKFtQKCJpbmNsdWRlT25seVdpdGhMYXllck1hc2siKV0sZS5wcm90b3R5cGUsIl9pbmNsdWRlT25seVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbUCgibGlnaHRtYXBNb2RlIildLGUucHJvdG90eXBlLCJfbGlnaHRtYXBNb2RlIix2b2lkIDApLGV9KCRlKSxTYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQmluZENsaXBQbGFuZT1mdW5jdGlvbihlLHQpe2lmKHQuY2xpcFBsYW5lKXt2YXIgcj10LmNsaXBQbGFuZTtlLnNldEZsb2F0NCgidkNsaXBQbGFuZSIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX1pZih0LmNsaXBQbGFuZTIpe3ZhciByPXQuY2xpcFBsYW5lMjtlLnNldEZsb2F0NCgidkNsaXBQbGFuZTIiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmUzKXt2YXIgcj10LmNsaXBQbGFuZTM7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUzIixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lNCl7dmFyIHI9dC5jbGlwUGxhbmU0O2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lNCIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX1pZih0LmNsaXBQbGFuZTUpe3ZhciByPXQuY2xpcFBsYW5lNTtlLnNldEZsb2F0NCgidkNsaXBQbGFuZTUiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmU2KXt2YXIgcj10LmNsaXBQbGFuZTY7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU2IixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfX0saX0oKSxZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGUsdCl7dC5iaW5kVG9FZmZlY3QoZSwiU2NlbmUiKX0saS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWPWZ1bmN0aW9uKGUsdCxyKXt0Ll9uZWVkVVZzPSEwLHRbcl09ITAsZS5nZXRUZXh0dXJlTWF0cml4KCkuaXNJZGVudGl0eUFzM3gyKCk/KHRbcisiRElSRUNUVVYiXT1lLmNvb3JkaW5hdGVzSW5kZXgrMSx0WyJNQUlOVVYiKyhlLmNvb3JkaW5hdGVzSW5kZXgrMSldPSEwKTp0W3IrIkRJUkVDVFVWIl09MH0saS5CaW5kVGV4dHVyZU1hdHJpeD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5nZXRUZXh0dXJlTWF0cml4KCk7dC51cGRhdGVNYXRyaXgocisiTWF0cml4IixuKX0saS5HZXRGb2dTdGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZvZ0VuYWJsZWQmJmUuYXBwbHlGb2cmJnQuZm9nTW9kZSE9PWVlLkZPR01PREVfTk9ORX0saS5QcmVwYXJlRGVmaW5lc0Zvck1pc2M9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7by5fYXJlTWlzY0RpcnR5JiYoby5MT0dBUklUSE1JQ0RFUFRIPXIsby5QT0lOVFNJWkU9bixvLkZPRz1hJiZ0aGlzLkdldEZvZ1N0YXRlKGUsdCksby5OT05VTklGT1JNU0NBTElORz1lLm5vblVuaWZvcm1TY2FsaW5nLG8uQUxQSEFURVNUPXMpfSxpLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcz1mdW5jdGlvbihlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9ITEpO3ZhciBvPSExLHU9ITEsZj0hMSxsPSExLGg9ITEsYz0hMSxkPSExO3U9YT09bnVsbD9lLmNsaXBQbGFuZSE9PXZvaWQgMCYmZS5jbGlwUGxhbmUhPT1udWxsOmEsZj1hPT1udWxsP2UuY2xpcFBsYW5lMiE9PXZvaWQgMCYmZS5jbGlwUGxhbmUyIT09bnVsbDphLGw9YT09bnVsbD9lLmNsaXBQbGFuZTMhPT12b2lkIDAmJmUuY2xpcFBsYW5lMyE9PW51bGw6YSxoPWE9PW51bGw/ZS5jbGlwUGxhbmU0IT09dm9pZCAwJiZlLmNsaXBQbGFuZTQhPT1udWxsOmEsYz1hPT1udWxsP2UuY2xpcFBsYW5lNSE9PXZvaWQgMCYmZS5jbGlwUGxhbmU1IT09bnVsbDphLGQ9YT09bnVsbD9lLmNsaXBQbGFuZTYhPT12b2lkIDAmJmUuY2xpcFBsYW5lNiE9PW51bGw6YSxyLkNMSVBQTEFORSE9PXUmJihyLkNMSVBQTEFORT11LG89ITApLHIuQ0xJUFBMQU5FMiE9PWYmJihyLkNMSVBQTEFORTI9ZixvPSEwKSxyLkNMSVBQTEFORTMhPT1sJiYoci5DTElQUExBTkUzPWwsbz0hMCksci5DTElQUExBTkU0IT09aCYmKHIuQ0xJUFBMQU5FND1oLG89ITApLHIuQ0xJUFBMQU5FNSE9PWMmJihyLkNMSVBQTEFORTU9YyxvPSEwKSxyLkNMSVBQTEFORTYhPT1kJiYoci5DTElQUExBTkU2PWQsbz0hMCksci5ERVBUSFBSRVBBU1MhPT0hdC5nZXRDb2xvcldyaXRlKCkmJihyLkRFUFRIUFJFUEFTUz0hci5ERVBUSFBSRVBBU1Msbz0hMCksci5JTlNUQU5DRVMhPT1uJiYoci5JTlNUQU5DRVM9bixvPSEwKSxyLklOU1RBTkNFU0NPTE9SJiYhci5JTlNUQU5DRVMmJihyLklOU1RBTkNFU0NPTE9SPSExLG89ITApLHIuVEhJTl9JTlNUQU5DRVMhPT1zJiYoci5USElOX0lOU1RBTkNFUz1zLG89ITApLG8mJnIubWFya0FzVW5wcm9jZXNzZWQoKX0saS5QcmVwYXJlRGVmaW5lc0ZvckJvbmVzPWZ1bmN0aW9uKGUsdCl7aWYoZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pe3QuTlVNX0JPTkVfSU5GTFVFTkNFUlM9ZS5udW1Cb25lSW5mbHVlbmNlcnM7dmFyIHI9dC5CT05FVEVYVFVSRSE9PXZvaWQgMDtpZihlLnNrZWxldG9uLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJnIpdC5CT05FVEVYVFVSRT0hMDtlbHNle3QuQm9uZXNQZXJNZXNoPWUuc2tlbGV0b24uYm9uZXMubGVuZ3RoKzEsdC5CT05FVEVYVFVSRT1yPyExOnZvaWQgMDt2YXIgbj1lLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyO2lmKG4mJm4uZW5hYmxlZCl7dmFyIGE9bi5leGNsdWRlZFNraW5uZWRNZXNoLmluZGV4T2YoZSk9PT0tMTt0LkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9YX19fWVsc2UgdC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHQuQm9uZXNQZXJNZXNoPTB9LGkuUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1vcnBoVGFyZ2V0TWFuYWdlcjtyPyh0Lk1PUlBIVEFSR0VUU19VVj1yLnN1cHBvcnRzVVZzJiZ0LlVWMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPXIuc3VwcG9ydHNUYW5nZW50cyYmdC5UQU5HRU5ULHQuTU9SUEhUQVJHRVRTX05PUk1BTD1yLnN1cHBvcnRzTm9ybWFscyYmdC5OT1JNQUwsdC5NT1JQSFRBUkdFVFM9ci5udW1JbmZsdWVuY2Vycz4wLHQuTlVNX01PUlBIX0lORkxVRU5DRVJTPXIubnVtSW5mbHVlbmNlcnMsdC5NT1JQSFRBUkdFVFNfVEVYVFVSRT1yLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyk6KHQuTU9SUEhUQVJHRVRTX1VWPSExLHQuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsdC5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHQuTU9SUEhUQVJHRVRTPSExLHQuTlVNX01PUlBIX0lORkxVRU5DRVJTPTApfSxpLlByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcjt0LkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRT0hIShyJiZyLmlzRW5hYmxlZCl9LGkuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe2lmKGE9PT12b2lkIDAmJihhPSExKSxzPT09dm9pZCAwJiYocz0hMCksbz09PXZvaWQgMCYmKG89ITApLCF0Ll9hcmVBdHRyaWJ1dGVzRGlydHkmJnQuX25lZWROb3JtYWxzPT09dC5fbm9ybWFscyYmdC5fbmVlZFVWcz09PXQuX3V2cylyZXR1cm4hMTt0Ll9ub3JtYWxzPXQuX25lZWROb3JtYWxzLHQuX3V2cz10Ll9uZWVkVVZzLHQuTk9STUFMPXQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpLHQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlRhbmdlbnRLaW5kKSYmKHQuVEFOR0VOVD0hMCk7Zm9yKHZhciB1PTE7dTw9NjsrK3UpdFsiVVYiK3VdPXQuX25lZWRVVnM/ZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoInV2Ii5jb25jYXQodT09PTE/IiI6dSkpOiExO2lmKHIpe3ZhciBmPWUudXNlVmVydGV4Q29sb3JzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChtLkNvbG9yS2luZCk7dC5WRVJURVhDT0xPUj1mLHQuVkVSVEVYQUxQSEE9ZS5oYXNWZXJ0ZXhBbHBoYSYmZiYmc31yZXR1cm4gZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Db2xvckluc3RhbmNlS2luZCkmJihlLmhhc0luc3RhbmNlc3x8ZS5oYXNUaGluSW5zdGFuY2VzKSYmKHQuSU5TVEFOQ0VTQ09MT1I9ITApLG4mJnRoaXMuUHJlcGFyZURlZmluZXNGb3JCb25lcyhlLHQpLGEmJnRoaXMuUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHMoZSx0KSxvJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0KSwhMH0saS5QcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldz1mdW5jdGlvbihlLHQpe2lmKGUuYWN0aXZlQ2FtZXJhKXt2YXIgcj10Lk1VTFRJVklFVzt0Lk1VTFRJVklFVz1lLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQhPT1udWxsJiZlLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQuZ2V0Vmlld0NvdW50KCk+MSx0Lk1VTFRJVklFVyE9ciYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfX0saS5QcmVwYXJlRGVmaW5lc0Zvck9JVD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1ksYT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM7dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZyLHQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUz0hZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nLChuIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1l8fGEhPT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMpJiZ0Lm1hcmtBc1VucHJvY2Vzc2VkKCl9LGkuUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LlBSRVBBU1M7aWYoISF0Ll9hcmVQcmVQYXNzRGlydHkpe3ZhciBhPVt7dHlwZToxLGRlZmluZToiUFJFUEFTU19QT1NJVElPTiIsaW5kZXg6IlBSRVBBU1NfUE9TSVRJT05fSU5ERVgifSx7dHlwZToyLGRlZmluZToiUFJFUEFTU19WRUxPQ0lUWSIsaW5kZXg6IlBSRVBBU1NfVkVMT0NJVFlfSU5ERVgifSx7dHlwZTozLGRlZmluZToiUFJFUEFTU19SRUZMRUNUSVZJVFkiLGluZGV4OiJQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWCJ9LHt0eXBlOjAsZGVmaW5lOiJQUkVQQVNTX0lSUkFESUFOQ0UiLGluZGV4OiJQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVgifSx7dHlwZTo3LGRlZmluZToiUFJFUEFTU19BTEJFRE9fU1FSVCIsaW5kZXg6IlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVgifSx7dHlwZTo1LGRlZmluZToiUFJFUEFTU19ERVBUSCIsaW5kZXg6IlBSRVBBU1NfREVQVEhfSU5ERVgifSx7dHlwZTo2LGRlZmluZToiUFJFUEFTU19OT1JNQUwiLGluZGV4OiJQUkVQQVNTX05PUk1BTF9JTkRFWCJ9XTtpZihlLnByZVBhc3NSZW5kZXJlciYmZS5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmcil7dC5QUkVQQVNTPSEwLHQuU0NFTkVfTVJUX0NPVU5UPWUucHJlUGFzc1JlbmRlcmVyLm1ydENvdW50O2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbz1lLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleChhW3NdLnR5cGUpO28hPT0tMT8odFthW3NdLmRlZmluZV09ITAsdFthW3NdLmluZGV4XT1vKTp0W2Fbc10uZGVmaW5lXT0hMX19ZWxzZXt0LlBSRVBBU1M9ITE7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspdFthW3NdLmRlZmluZV09ITF9dC5QUkVQQVNTIT1uJiYodC5tYXJrQXNVbnByb2Nlc3NlZCgpLHQubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKSl9fSxpLlByZXBhcmVEZWZpbmVzRm9yTGlnaHQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7c3dpdGNoKG8ubmVlZE5vcm1hbHM9ITAsYVsiTElHSFQiK25dPT09dm9pZCAwJiYoby5uZWVkUmVidWlsZD0hMCksYVsiTElHSFQiK25dPSEwLGFbIlNQT1RMSUdIVCIrbl09ITEsYVsiSEVNSUxJR0hUIituXT0hMSxhWyJQT0lOVExJR0hUIituXT0hMSxhWyJESVJMSUdIVCIrbl09ITEsci5wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMoYSxuKSxhWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIituXT0hMSxhWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK25dPSExLGFbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK25dPSExLHIuZmFsbG9mZlR5cGUpe2Nhc2UgZXQuRkFMTE9GRl9HTFRGOmFbIkxJR0hUX0ZBTExPRkZfR0xURiIrbl09ITA7YnJlYWs7Y2FzZSBldC5GQUxMT0ZGX1BIWVNJQ0FMOmFbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK25dPSEwO2JyZWFrO2Nhc2UgZXQuRkFMTE9GRl9TVEFOREFSRDphWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIituXT0hMDticmVha31pZihzJiYhci5zcGVjdWxhci5lcXVhbHNGbG9hdHMoMCwwLDApJiYoby5zcGVjdWxhckVuYWJsZWQ9ITApLGFbIlNIQURPVyIrbl09ITEsYVsiU0hBRE9XQ1NNIituXT0hMSxhWyJTSEFET1dDU01ERUJVRyIrbl09ITEsYVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIituXT0hMSxhWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIituXT0hMSxhWyJTSEFET1dDU01OT0JMRU5EIituXT0hMSxhWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK25dPSExLGFbIlNIQURPV1BDRiIrbl09ITEsYVsiU0hBRE9XUENTUyIrbl09ITEsYVsiU0hBRE9XUE9JU1NPTiIrbl09ITEsYVsiU0hBRE9XRVNNIituXT0hMSxhWyJTSEFET1dDTE9TRUVTTSIrbl09ITEsYVsiU0hBRE9XQ1VCRSIrbl09ITEsYVsiU0hBRE9XTE9XUVVBTElUWSIrbl09ITEsYVsiU0hBRE9XTUVESVVNUVVBTElUWSIrbl09ITEsdCYmdC5yZWNlaXZlU2hhZG93cyYmZS5zaGFkb3dzRW5hYmxlZCYmci5zaGFkb3dFbmFibGVkKXt2YXIgdT1yLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKHUpe3ZhciBmPXUuZ2V0U2hhZG93TWFwKCk7ZiYmZi5yZW5kZXJMaXN0JiZmLnJlbmRlckxpc3QubGVuZ3RoPjAmJihvLnNoYWRvd0VuYWJsZWQ9ITAsdS5wcmVwYXJlRGVmaW5lcyhhLG4pKX19ci5saWdodG1hcE1vZGUhPWV0LkxJR0hUTUFQX0RFRkFVTFQ/KG8ubGlnaHRtYXBNb2RlPSEwLGFbIkxJR0hUTUFQRVhDTFVERUQiK25dPSEwLGFbIkxJR0hUTUFQTk9TUEVDVUxBUiIrbl09ci5saWdodG1hcE1vZGU9PWV0LkxJR0hUTUFQX1NIQURPV1NPTkxZKTooYVsiTElHSFRNQVBFWENMVURFRCIrbl09ITEsYVsiTElHSFRNQVBOT1NQRUNVTEFSIituXT0hMSl9LGkuUHJlcGFyZURlZmluZXNGb3JMaWdodHM9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2lmKGE9PT12b2lkIDAmJihhPTQpLHM9PT12b2lkIDAmJihzPSExKSwhci5fYXJlTGlnaHRzRGlydHkpcmV0dXJuIHIuX25lZWROb3JtYWxzO3ZhciBvPTAsdT17bmVlZE5vcm1hbHM6ITEsbmVlZFJlYnVpbGQ6ITEsbGlnaHRtYXBNb2RlOiExLHNoYWRvd0VuYWJsZWQ6ITEsc3BlY3VsYXJFbmFibGVkOiExfTtpZihlLmxpZ2h0c0VuYWJsZWQmJiFzKWZvcih2YXIgZj0wLGw9dC5saWdodFNvdXJjZXM7ZjxsLmxlbmd0aDtmKyspe3ZhciBoPWxbZl07aWYodGhpcy5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxoLG8scixuLHUpLG8rKyxvPT09YSlicmVha31yLlNQRUNVTEFSVEVSTT11LnNwZWN1bGFyRW5hYmxlZCxyLlNIQURPV1M9dS5zaGFkb3dFbmFibGVkO2Zvcih2YXIgYz1vO2M8YTtjKyspclsiTElHSFQiK2NdIT09dm9pZCAwJiYoclsiTElHSFQiK2NdPSExLHJbIkhFTUlMSUdIVCIrY109ITEsclsiUE9JTlRMSUdIVCIrY109ITEsclsiRElSTElHSFQiK2NdPSExLHJbIlNQT1RMSUdIVCIrY109ITEsclsiU0hBRE9XIitjXT0hMSxyWyJTSEFET1dDU00iK2NdPSExLHJbIlNIQURPV0NTTURFQlVHIitjXT0hMSxyWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK2NdPSExLHJbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK2NdPSExLHJbIlNIQURPV0NTTU5PQkxFTkQiK2NdPSExLHJbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrY109ITEsclsiU0hBRE9XUENGIitjXT0hMSxyWyJTSEFET1dQQ1NTIitjXT0hMSxyWyJTSEFET1dQT0lTU09OIitjXT0hMSxyWyJTSEFET1dFU00iK2NdPSExLHJbIlNIQURPV0NMT1NFRVNNIitjXT0hMSxyWyJTSEFET1dDVUJFIitjXT0hMSxyWyJTSEFET1dMT1dRVUFMSVRZIitjXT0hMSxyWyJTSEFET1dNRURJVU1RVUFMSVRZIitjXT0hMSk7dmFyIGQ9ZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7cmV0dXJuIHIuU0hBRE9XRkxPQVQ9PT12b2lkIDAmJih1Lm5lZWRSZWJ1aWxkPSEwKSxyLlNIQURPV0ZMT0FUPXUuc2hhZG93RW5hYmxlZCYmKGQudGV4dHVyZUZsb2F0UmVuZGVyJiZkLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8ZC50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZkLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpLHIuTElHSFRNQVBFWENMVURFRD11LmxpZ2h0bWFwTW9kZSx1Lm5lZWRSZWJ1aWxkJiZyLnJlYnVpbGQoKSx1Lm5lZWROb3JtYWxzfSxpLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSExKSxhJiZhLnB1c2goIkxpZ2h0IitlKSwhcyYmKHQucHVzaCgidkxpZ2h0RGF0YSIrZSwidkxpZ2h0RGlmZnVzZSIrZSwidkxpZ2h0U3BlY3VsYXIiK2UsInZMaWdodERpcmVjdGlvbiIrZSwidkxpZ2h0RmFsbG9mZiIrZSwidkxpZ2h0R3JvdW5kIitlLCJsaWdodE1hdHJpeCIrZSwic2hhZG93c0luZm8iK2UsImRlcHRoVmFsdWVzIitlKSxyLnB1c2goInNoYWRvd1NhbXBsZXIiK2UpLHIucHVzaCgiZGVwdGhTYW1wbGVyIitlKSx0LnB1c2goInZpZXdGcnVzdHVtWiIrZSwiY2FzY2FkZUJsZW5kRmFjdG9yIitlLCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsImRlcHRoQ29ycmVjdGlvbiIrZSwicGVudW1icmFEYXJrbmVzcyIrZSwiZnJ1c3R1bUxlbmd0aHMiK2UpLG4mJihyLnB1c2goInByb2plY3Rpb25MaWdodFNhbXBsZXIiK2UpLHQucHVzaCgidGV4dHVyZVByb2plY3Rpb25NYXRyaXgiK2UpKSl9LGkuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPTQpO3ZhciBhLHM9bnVsbDtpZihlLnVuaWZvcm1zTmFtZXMpe3ZhciBvPWU7YT1vLnVuaWZvcm1zTmFtZXMscz1vLnVuaWZvcm1CdWZmZXJzTmFtZXMsdD1vLnNhbXBsZXJzLHI9by5kZWZpbmVzLG49by5tYXhTaW11bHRhbmVvdXNMaWdodHN8fDB9ZWxzZSBhPWUsdHx8KHQ9W10pO2Zvcih2YXIgdT0wO3U8biYmclsiTElHSFQiK3VdO3UrKyl0aGlzLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQodSxhLHQsclsiUFJPSkVDVEVETElHSFRURVhUVVJFIit1XSxzKTtyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmYS5wdXNoKCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKSxyLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmKGEucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncyIpLGEucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkIiksYS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRpbWUiKSx0LnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSIpKX0saS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPTQpLG49PT12b2lkIDAmJihuPTApO2Zvcih2YXIgYT0wLHM9MDtzPHImJmVbIkxJR0hUIitzXTtzKyspcz4wJiYoYT1uK3MsdC5hZGRGYWxsYmFjayhhLCJMSUdIVCIrcykpLGUuU0hBRE9XU3x8KGVbIlNIQURPVyIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XIitzKSxlWyJTSEFET1dQQ0YiK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPV1BDRiIrcyksZVsiU0hBRE9XUENTUyIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XUENTUyIrcyksZVsiU0hBRE9XUE9JU1NPTiIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XUE9JU1NPTiIrcyksZVsiU0hBRE9XRVNNIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dFU00iK3MpLGVbIlNIQURPV0NMT1NFRVNNIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dDTE9TRUVTTSIrcykpO3JldHVybiBhKyt9LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2Vycz1mdW5jdGlvbihlLHQscil7dGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9cix0aGlzLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCx0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzKX0saS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cz1mdW5jdGlvbihlLHQscil7dmFyIG49ci5OVU1fTU9SUEhfSU5GTFVFTkNFUlM7aWYobj4wJiZyZS5MYXN0Q3JlYXRlZEVuZ2luZSl7dmFyIGE9cmUuTGFzdENyZWF0ZWRFbmdpbmUuZ2V0Q2FwcygpLm1heFZlcnRleEF0dHJpYnMscz10Lm1vcnBoVGFyZ2V0TWFuYWdlcjtpZihzIT1udWxsJiZzLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cylyZXR1cm47Zm9yKHZhciBvPXMmJnMuc3VwcG9ydHNOb3JtYWxzJiZyLk5PUk1BTCx1PXMmJnMuc3VwcG9ydHNUYW5nZW50cyYmci5UQU5HRU5ULGY9cyYmcy5zdXBwb3J0c1VWcyYmci5VVjEsbD0wO2w8bjtsKyspZS5wdXNoKG0uUG9zaXRpb25LaW5kK2wpLG8mJmUucHVzaChtLk5vcm1hbEtpbmQrbCksdSYmZS5wdXNoKG0uVGFuZ2VudEtpbmQrbCksZiYmZS5wdXNoKG0uVVZLaW5kKyJfIitsKSxlLmxlbmd0aD5hJiZrLkVycm9yKCJDYW5ub3QgYWRkIG1vcmUgdmVydGV4IGF0dHJpYnV0ZXMgZm9yIG1lc2ggIit0Lm5hbWUpfX0saS5QcmVwYXJlQXR0cmlidXRlc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmci5JTlNUQU5DRVM7biYmZS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkIil9LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcz1mdW5jdGlvbihlLHQscixuKXtyLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJihuLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCx0KSxlLnB1c2gobS5NYXRyaWNlc0luZGljZXNLaW5kKSxlLnB1c2gobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxyLk5VTV9CT05FX0lORkxVRU5DRVJTPjQmJihlLnB1c2gobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGUucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpKX0saS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcz1mdW5jdGlvbihlLHQpeyh0LklOU1RBTkNFU3x8dC5USElOX0lOU1RBTkNFUykmJnRoaXMuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSwhIXQuUFJFUEFTU19WRUxPQ0lUWSksdC5JTlNUQU5DRVNDT0xPUiYmZS5wdXNoKG0uQ29sb3JJbnN0YW5jZUtpbmQpfSxpLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpLGUucHVzaCgid29ybGQwIiksZS5wdXNoKCJ3b3JsZDEiKSxlLnB1c2goIndvcmxkMiIpLGUucHVzaCgid29ybGQzIiksdCYmKGUucHVzaCgicHJldmlvdXNXb3JsZDAiKSxlLnB1c2goInByZXZpb3VzV29ybGQxIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMiIpLGUucHVzaCgicHJldmlvdXNXb3JsZDMiKSl9LGkuQmluZExpZ2h0UHJvcGVydGllcz1mdW5jdGlvbihlLHQscil7ZS50cmFuc2ZlclRvRWZmZWN0KHQscisiIil9LGkuQmluZExpZ2h0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0hMCksZS5fYmluZExpZ2h0KHQscixuLGEscyl9LGkuQmluZExpZ2h0cz1mdW5jdGlvbihlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPTQpO2Zvcih2YXIgcz1NYXRoLm1pbih0LmxpZ2h0U291cmNlcy5sZW5ndGgsYSksbz0wO288cztvKyspe3ZhciB1PXQubGlnaHRTb3VyY2VzW29dO3RoaXMuQmluZExpZ2h0KHUsbyxlLHIsdHlwZW9mIG49PSJib29sZWFuIj9uOm4uU1BFQ1VMQVJURVJNLHQucmVjZWl2ZVNoYWRvd3MpfX0saS5CaW5kRm9nUGFyYW1ldGVycz1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0hMSksZS5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZlLmZvZ01vZGUhPT1lZS5GT0dNT0RFX05PTkUmJihyLnNldEZsb2F0NCgidkZvZ0luZm9zIixlLmZvZ01vZGUsZS5mb2dTdGFydCxlLmZvZ0VuZCxlLmZvZ0RlbnNpdHkpLG4/KGUuZm9nQ29sb3IudG9MaW5lYXJTcGFjZVRvUmVmKHRoaXMuX1RlbXBGb2dDb2xvciksci5zZXRDb2xvcjMoInZGb2dDb2xvciIsdGhpcy5fVGVtcEZvZ0NvbG9yKSk6ci5zZXRDb2xvcjMoInZGb2dDb2xvciIsZS5mb2dDb2xvcikpfSxpLkJpbmRCb25lc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoIXR8fCFlKSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFUmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSksZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pKXt2YXIgbj1lLnNrZWxldG9uO2lmKG4uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmdC5nZXRVbmlmb3JtSW5kZXgoImJvbmVUZXh0dXJlV2lkdGgiKT4tMSl7dmFyIGE9bi5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGUpO3Quc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLGEpLHQuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKG4uYm9uZXMubGVuZ3RoKzEpKX1lbHNle3ZhciBzPW4uZ2V0VHJhbnNmb3JtTWF0cmljZXMoZSk7cyYmKHQuc2V0TWF0cmljZXMoIm1Cb25lcyIscyksciYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlciYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSYmKHIucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXXx8KHIucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXT1zLnNsaWNlKCkpLHQuc2V0TWF0cmljZXMoIm1QcmV2aW91c0JvbmVzIixyLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pLGkuX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXMocyxyLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pKSl9fX0saS5fQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNldChlKSx0fSxpLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1vcnBoVGFyZ2V0TWFuYWdlcjshZXx8IXJ8fHQuc2V0RmxvYXRBcnJheSgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixyLmluZmx1ZW5jZXMpfSxpLkJpbmRMb2dEZXB0aD1mdW5jdGlvbihlLHQscil7aWYoIWV8fGUuTE9HQVJJVEhNSUNERVBUSCl7dmFyIG49ci5hY3RpdmVDYW1lcmE7bi5tb2RlPT09T2UuT1JUSE9HUkFQSElDX0NBTUVSQSYmay5FcnJvcigiTG9nYXJpdGhtaWMgZGVwdGggaXMgbm90IGNvbXBhdGlibGUgd2l0aCBvcnRob2dyYXBoaWMgY2FtZXJhcyEiLDIwKSx0LnNldEZsb2F0KCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLDIvKE1hdGgubG9nKG4ubWF4WisxKS9NYXRoLkxOMikpfX0saS5CaW5kQ2xpcFBsYW5lPWZ1bmN0aW9uKGUsdCl7U2EuQmluZENsaXBQbGFuZShlLHQpfSxpLl9UbXBNb3JwaEluZmx1ZW5jZXJzPXtOVU1fTU9SUEhfSU5GTFVFTkNFUlM6MH0saS5fVGVtcEZvZ0NvbG9yPWJlLkJsYWNrKCksaX0oKSxNYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnJlc2V0KCl9cmV0dXJuIGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExLHRoaXMubWFzaz0yNTUsdGhpcy5mdW5jPTUxOSx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9NzY4MCx0aGlzLm9wRGVwdGhGYWlsPTc2ODAsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9NzY4MX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jUmVmIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmNSZWZ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jUmVmPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jTWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmNNYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wRGVwdGhGYWlsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9lbmFibGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsU3RlbmNpbFN0YXRlIn0saS5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKGUpe0ouQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gZX0sdGhpcyl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBKLlNlcmlhbGl6ZSh0aGlzKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7Si5QYXJzZShmdW5jdGlvbigpe3JldHVybiBufSxlLHQscil9LFQoW1AoKV0saS5wcm90b3R5cGUsImZ1bmMiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsImZ1bmNSZWYiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsImZ1bmNNYXNrIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJvcERlcHRoRmFpbCIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwib3BTdGVuY2lsRGVwdGhQYXNzIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJtYXNrIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJlbmFibGVkIixudWxsKSxpfSgpLERlOyhmdW5jdGlvbihpKXtpW2kuQ3JlYXRlZD0xXT0iQ3JlYXRlZCIsaVtpLkRpc3Bvc2VkPTJdPSJEaXNwb3NlZCIsaVtpLkdldERlZmluZU5hbWVzPTRdPSJHZXREZWZpbmVOYW1lcyIsaVtpLlByZXBhcmVVbmlmb3JtQnVmZmVyPThdPSJQcmVwYXJlVW5pZm9ybUJ1ZmZlciIsaVtpLklzUmVhZHlGb3JTdWJNZXNoPTE2XT0iSXNSZWFkeUZvclN1Yk1lc2giLGlbaS5QcmVwYXJlRGVmaW5lcz0zMl09IlByZXBhcmVEZWZpbmVzIixpW2kuQmluZEZvclN1Yk1lc2g9NjRdPSJCaW5kRm9yU3ViTWVzaCIsaVtpLlByZXBhcmVFZmZlY3Q9MTI4XT0iUHJlcGFyZUVmZmVjdCIsaVtpLkdldEFuaW1hdGFibGVzPTI1Nl09IkdldEFuaW1hdGFibGVzIixpW2kuR2V0QWN0aXZlVGV4dHVyZXM9NTEyXT0iR2V0QWN0aXZlVGV4dHVyZXMiLGlbaS5IYXNUZXh0dXJlPTEwMjRdPSJIYXNUZXh0dXJlIixpW2kuRmlsbFJlbmRlclRhcmdldFRleHR1cmVzPTIwNDhdPSJGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGlbaS5IYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz00MDk2XT0iSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGlbaS5IYXJkQmluZEZvclN1Yk1lc2g9ODE5Ml09IkhhcmRCaW5kRm9yU3ViTWVzaCJ9KShEZXx8KERlPXt9KSk7dmFyIEZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5zaGFkb3dEZXB0aFdyYXBwZXI9bnVsbCx0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMSx0aGlzLnN0YXRlPSIiLHRoaXMuX2FscGhhPTEsdGhpcy5fYmFja0ZhY2VDdWxsaW5nPSEwLHRoaXMuX2N1bGxCYWNrRmFjZXM9ITAsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz1udWxsLHRoaXMuZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMSx0aGlzLmFuaW1hdGlvbnM9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl9vbkJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FscGhhTW9kZT0yLHRoaXMuX25lZWREZXB0aFByZVBhc3M9ITEsdGhpcy5kaXNhYmxlRGVwdGhXcml0ZT0hMSx0aGlzLmRpc2FibGVDb2xvcldyaXRlPSExLHRoaXMuZm9yY2VEZXB0aFdyaXRlPSExLHRoaXMuZGVwdGhGdW5jdGlvbj0wLHRoaXMuc2VwYXJhdGVDdWxsaW5nUGFzcz0hMSx0aGlzLl9mb2dFbmFibGVkPSEwLHRoaXMucG9pbnRTaXplPTEsdGhpcy56T2Zmc2V0PTAsdGhpcy56T2Zmc2V0VW5pdHM9MCx0aGlzLnN0ZW5jaWw9bmV3IE1hLHRoaXMuX3VzZVVCTz0hMSx0aGlzLl9maWxsTW9kZT1pLlRyaWFuZ2xlRmlsbE1vZGUsdGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT0hMSx0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9MCx0aGlzLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMSx0aGlzLl9ldmVudEluZm89e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe30sdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ITEsdGhpcy5fdHJhbnNwYXJlbmN5TW9kZT1udWxsLHRoaXMubmFtZT1lO3ZhciBuPXR8fHJlLkxhc3RDcmVhdGVkU2NlbmU7IW58fCh0aGlzLl9zY2VuZT1uLHRoaXMuX2RpcnR5Q2FsbGJhY2tzPXt9LHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzFdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1syXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzRdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzhdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzE2XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1szMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbNjNdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5LmJpbmQodGhpcyksdGhpcy5pZD1lfHxfZS5SYW5kb21JZCgpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9tYXRlcmlhbENvbnRleHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCksdGhpcy5fZHJhd1dyYXBwZXI9bmV3IHF0KHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLCExKSx0aGlzLl9kcmF3V3JhcHBlci5tYXRlcmlhbENvbnRleHQ9dGhpcy5fbWF0ZXJpYWxDb250ZXh0LHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3RoaXMuc2lkZU9yaWVudGF0aW9uPWkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOnRoaXMuc2lkZU9yaWVudGF0aW9uPWkuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbix0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBFcih0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUpLHRoaXMuX3VzZVVCTz10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyxyfHx0aGlzLl9zY2VuZS5hZGRNYXRlcmlhbCh0aGlzKSx0aGlzLl9zY2VuZS51c2VNYXRlcmlhbE1lc2hNYXAmJih0aGlzLm1lc2hNYXA9e30pLGkuT25FdmVudE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMsRGUuQ3JlYXRlZCkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNhblJlbmRlclRvTVJUIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYX0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2FscGhhIT09ZSl7dmFyIHQ9dGhpcy5fYWxwaGE7dGhpcy5fYWxwaGE9ZSwodD09PTF8fGU9PT0xKSYmdGhpcy5tYXJrQXNEaXJ0eShpLk1pc2NEaXJ0eUZsYWcpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJhY2tGYWNlQ3VsbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iYWNrRmFjZUN1bGxpbmd9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9iYWNrRmFjZUN1bGxpbmchPT1lJiYodGhpcy5fYmFja0ZhY2VDdWxsaW5nPWUsdGhpcy5tYXJrQXNEaXJ0eShpLlRleHR1cmVEaXJ0eUZsYWcpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1bGxCYWNrRmFjZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VsbEJhY2tGYWNlc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2N1bGxCYWNrRmFjZXMhPT1lJiYodGhpcy5fY3VsbEJhY2tGYWNlcz1lLHRoaXMubWFya0FzRGlydHkoaS5UZXh0dXJlRGlydHlGbGFnKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25EaXNwb3NlIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25CaW5kT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQmluZCIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkJpbmRPYnNlcnZlciYmdGhpcy5vbkJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJpbmRPYnNlcnZlciksdGhpcy5fb25CaW5kT2JzZXJ2ZXI9dGhpcy5vbkJpbmRPYnNlcnZhYmxlLmFkZChlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uVW5CaW5kT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblVuQmluZE9ic2VydmFibGV8fCh0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZXx8KHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYU1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYWxwaGFNb2RlIT09ZSYmKHRoaXMuX2FscGhhTW9kZT1lLHRoaXMubWFya0FzRGlydHkoaS5UZXh0dXJlRGlydHlGbGFnKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJuZWVkRGVwdGhQcmVQYXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lZWREZXB0aFByZVBhc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9uZWVkRGVwdGhQcmVQYXNzIT09ZSYmKHRoaXMuX25lZWREZXB0aFByZVBhc3M9ZSx0aGlzLl9uZWVkRGVwdGhQcmVQYXNzJiYodGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITApKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzUHJlUGFzc0NhcGFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZvZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ZvZ0VuYWJsZWQhPT1lJiYodGhpcy5fZm9nRW5hYmxlZD1lLHRoaXMubWFya0FzRGlydHkoaS5NaXNjRGlydHlGbGFnKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3aXJlZnJhbWUiLHtnZXQ6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5fZmlsbE1vZGUpe2Nhc2UgaS5XaXJlRnJhbWVGaWxsTW9kZTpjYXNlIGkuTGluZUxpc3REcmF3TW9kZTpjYXNlIGkuTGluZUxvb3BEcmF3TW9kZTpjYXNlIGkuTGluZVN0cmlwRHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlV2lyZWZyYW1lfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5maWxsTW9kZT1lP2kuV2lyZUZyYW1lRmlsbE1vZGU6aS5UcmlhbmdsZUZpbGxNb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicG9pbnRzQ2xvdWQiLHtnZXQ6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5fZmlsbE1vZGUpe2Nhc2UgaS5Qb2ludEZpbGxNb2RlOmNhc2UgaS5Qb2ludExpc3REcmF3TW9kZTpyZXR1cm4hMH1yZXR1cm4gdGhpcy5fc2NlbmUuZm9yY2VQb2ludHNDbG91ZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZmlsbE1vZGU9ZT9pLlBvaW50RmlsbE1vZGU6aS5UcmlhbmdsZUZpbGxNb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZmlsbE1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsbE1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9maWxsTW9kZSE9PWUmJih0aGlzLl9maWxsTW9kZT1lLHRoaXMubWFya0FzRGlydHkoaS5NaXNjRGlydHlGbGFnKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2dldERyYXdXcmFwcGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyfSxpLnByb3RvdHlwZS5fc2V0RHJhd1dyYXBwZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZHJhd1dyYXBwZXI9ZX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO3JldHVybiB0fSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTWF0ZXJpYWwifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRnJvemVuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmZyZWV6ZT1mdW5jdGlvbigpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITB9LGkucHJvdG90eXBlLnVuZnJlZXplPWZ1bmN0aW9uKCl7dGhpcy5tYXJrRGlydHkoKSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMX0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbihlLHQpe3JldHVybiEwfSxpLnByb3RvdHlwZS5pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5tYXRlcmlhbERlZmluZXM7cmV0dXJuIG4/KHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1uLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaCk6ITF9LGkucHJvdG90eXBlLmdldEVmZmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9LGkucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeU1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5TW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3RyYW5zcGFyZW5jeU1vZGUhPT1lJiYodGhpcy5fdHJhbnNwYXJlbmN5TW9kZT1lLHRoaXMuX2ZvcmNlQWxwaGFUZXN0PWU9PT1pLk1BVEVSSUFMX0FMUEhBVEVTVEFOREJMRU5ELHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX2Rpc2FibGVBbHBoYUJsZW5kaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1pLk1BVEVSSUFMX09QQVFVRXx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PWkuTUFURVJJQUxfQUxQSEFURVNUfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLm5lZWRBbHBoYUJsZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MX0saS5wcm90b3R5cGUubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZyYmZS52aXNpYmlsaXR5Pj0xPyExOnRoaXMubmVlZEFscGhhQmxlbmRpbmcoKXx8ZS52aXNpYmlsaXR5PDF8fGUuaGFzVmVydGV4QWxwaGF9LGkucHJvdG90eXBlLm5lZWRBbHBoYVRlc3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2ZvcmNlQWxwaGFUZXN0fSxpLnByb3RvdHlwZS5fc2hvdWxkVHVybkFscGhhVGVzdE9uPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKSYmdGhpcy5uZWVkQWxwaGFUZXN0aW5nKCl9LGkucHJvdG90eXBlLmdldEFscGhhVGVzdFRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0saS5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMsdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZighIW4uc3ViTWVzaGVzKWZvcih2YXIgYT0wLHM9bi5zdWJNZXNoZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5nZXRNYXRlcmlhbCgpPT09dGhpcyYmKCFvLmVmZmVjdHx8KG8uZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEpKX19fSxpLnByb3RvdHlwZS5fcHJlQmluZD1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PW51bGwpO3ZhciByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLG49dD09bnVsbD90aGlzLnNpZGVPcmllbnRhdGlvbjp0LGE9bj09PWkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uO3JldHVybiByLmVuYWJsZUVmZmVjdChlfHx0aGlzLl9nZXREcmF3V3JhcHBlcigpKSxyLnNldFN0YXRlKHRoaXMuYmFja0ZhY2VDdWxsaW5nLHRoaXMuek9mZnNldCwhMSxhLHRoaXMuY3VsbEJhY2tGYWNlcyx0aGlzLnN0ZW5jaWwsdGhpcy56T2Zmc2V0VW5pdHMpLGF9LGkucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSx0KXt9LGkucHJvdG90eXBlLmJ1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3VuaWZvcm1CdWZmZXI7dGhpcy5fZXZlbnRJbmZvLnVibz1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKERlLlByZXBhcmVVbmlmb3JtQnVmZmVyLHRoaXMuX2V2ZW50SW5mbyksZS5jcmVhdGUoKSx0aGlzLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQ9ITB9LGkucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yLmVmZmVjdDshbnx8KHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPXIsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbykpfSxpLnByb3RvdHlwZS5iaW5kT25seVdvcmxkTWF0cml4PWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuYmluZFZpZXc9ZnVuY3Rpb24oZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDplLnNldE1hdHJpeCgidmlldyIsdGhpcy5nZXRTY2VuZSgpLmdldFZpZXdNYXRyaXgoKSl9LGkucHJvdG90eXBlLmJpbmRWaWV3UHJvamVjdGlvbj1mdW5jdGlvbihlKXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOihlLnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksZS5zZXRNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRQcm9qZWN0aW9uTWF0cml4KCkpKX0saS5wcm90b3R5cGUuYmluZEV5ZVBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDp0aGlzLl9zY2VuZS5iaW5kRXllUG9zaXRpb24oZSx0KX0saS5wcm90b3R5cGUuX2FmdGVyQmluZD1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuX3NjZW5lLl9jYWNoZWRNYXRlcmlhbD10aGlzLHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibyYmdCYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMSxZLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodCx0aGlzLmdldFNjZW5lKCkuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSksZT90aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT1lLnZpc2liaWxpdHk6dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9MSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ci5nZXREZXB0aFdyaXRlKCksci5zZXREZXB0aFdyaXRlKCExKX1pZih0aGlzLmRpc2FibGVDb2xvcldyaXRlKXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWRDb2xvcldyaXRlU3RhdGU9ci5nZXRDb2xvcldyaXRlKCksci5zZXRDb2xvcldyaXRlKCExKX1pZih0aGlzLmRlcHRoRnVuY3Rpb24hPT0wKXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9ci5nZXREZXB0aEZ1bmN0aW9uKCl8fDAsci5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuZGVwdGhGdW5jdGlvbil9fSxpLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZSl9aWYodGhpcy5kaXNhYmxlRGVwdGhXcml0ZSl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5zZXREZXB0aFdyaXRlKHRoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZSl9aWYodGhpcy5kaXNhYmxlQ29sb3JXcml0ZSl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5zZXRDb2xvcldyaXRlKHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZSl9fSxpLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuR2V0QW5pbWF0YWJsZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXN9LGkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlcz1bXSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5HZXRBY3RpdmVUZXh0dXJlcyx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlc30saS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1RleHR1cmU9ITEsdGhpcy5fZXZlbnRJbmZvLnRleHR1cmU9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5IYXNUZXh0dXJlLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmhhc1RleHR1cmV9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5nZXRCaW5kZWRNZXNoZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMubWVzaE1hcCl7dmFyIHQ9bmV3IEFycmF5O2Zvcih2YXIgciBpbiB0aGlzLm1lc2hNYXApe3ZhciBuPXRoaXMubWVzaE1hcFtyXTtuJiZ0LnB1c2gobil9cmV0dXJuIHR9ZWxzZXt2YXIgYT10aGlzLl9zY2VuZS5tZXNoZXM7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiBzLm1hdGVyaWFsPT09ZX0pfX0saS5wcm90b3R5cGUuZm9yY2VDb21waWxhdGlvbj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLHM9YnQoe2NsaXBQbGFuZTohMSx1c2VJbnN0YW5jZXM6ITF9LHIpLG89dGhpcy5nZXRTY2VuZSgpLHU9dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nO3RoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMTt2YXIgZj1mdW5jdGlvbigpe2lmKCEoIWEuX3NjZW5lfHwhYS5fc2NlbmUuZ2V0RW5naW5lKCkpKXt2YXIgbD1vLmNsaXBQbGFuZTtpZihzLmNsaXBQbGFuZSYmKG8uY2xpcFBsYW5lPW5ldyBacigwLDAsMCwxKSksYS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7dmFyIGg9ITAsYz1udWxsO2lmKGUuc3ViTWVzaGVzKXt2YXIgZD1uZXcgU3QoMCwwLDAsMCwwLGUsdm9pZCAwLCExLCExKTtkLm1hdGVyaWFsRGVmaW5lcyYmKGQubWF0ZXJpYWxEZWZpbmVzLl9yZW5kZXJJZD0tMSksYS5pc1JlYWR5Rm9yU3ViTWVzaChlLGQscy51c2VJbnN0YW5jZXMpfHwoZC5lZmZlY3QmJmQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKSYmZC5lZmZlY3QuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCk/Yz1kLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCk6KGg9ITEsc2V0VGltZW91dChmLDE2KSkpfWgmJihhLmFsbG93U2hhZGVySG90U3dhcHBpbmc9dSxjJiZuJiZuKGMpLHQmJnQoYSkpfWVsc2UgYS5pc1JlYWR5KCk/KGEuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz11LHQmJnQoYSkpOnNldFRpbWVvdXQoZiwxNik7cy5jbGlwUGxhbmUmJihvLmNsaXBQbGFuZT1sKX19O2YoKX0saS5wcm90b3R5cGUuZm9yY2VDb21waWxhdGlvbkFzeW5jPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixhKXtyLmZvcmNlQ29tcGlsYXRpb24oZSxmdW5jdGlvbigpe24oKX0sdCxmdW5jdGlvbihzKXthKHMpfSl9KX0saS5wcm90b3R5cGUubWFya0FzRGlydHk9ZnVuY3Rpb24oZSl7dGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8KGkuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGg9MCxlJmkuVGV4dHVyZURpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fVGV4dHVyZURpcnR5Q2FsbEJhY2spLGUmaS5MaWdodERpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fTGlnaHRzRGlydHlDYWxsQmFjayksZSZpLkZyZXNuZWxEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKSxlJmkuQXR0cmlidXRlc0RpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fQXR0cmlidXRlRGlydHlDYWxsQmFjayksZSZpLk1pc2NEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX01pc2NEaXJ0eUNhbGxCYWNrKSxlJmkuUHJlUGFzc0RpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fUHJlUGFzc0RpcnR5Q2FsbEJhY2spLGkuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGgmJnRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX1J1bkRpcnR5Q2FsbEJhY2tzKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX0saS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcyx0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKCEhbi5zdWJNZXNoZXMpZm9yKHZhciBhPTAscz1uLnN1Yk1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLmdldE1hdGVyaWFsKCk9PT10aGlzJiZvLnJlc2V0RHJhd0NhY2hlKCl9fX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKWZvcih2YXIgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzLHI9MCxuPXQ7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoISFhLnN1Yk1lc2hlcylmb3IodmFyIHM9MCxvPWEuc3ViTWVzaGVzO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO2lmKCEoYS5fcmVuZGVySWQ9PT0wfHx1LmdldE1hdGVyaWFsKCkhPT10aGlzKSlmb3IodmFyIGY9MCxsPXUuX2RyYXdXcmFwcGVycztmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXTshaHx8IWguZGVmaW5lc3x8IWguZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dGhpcy5fbWF0ZXJpYWxDb250ZXh0PT09aC5tYXRlcmlhbENvbnRleHQmJmUoaC5kZWZpbmVzKX19fX0saS5wcm90b3R5cGUuX21hcmtTY2VuZVByZVBhc3NEaXJ0eT1mdW5jdGlvbigpe2lmKCF0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKXt2YXIgZT10aGlzLmdldFNjZW5lKCkuZW5hYmxlUHJlUGFzc1JlbmRlcmVyKCk7ZSYmZS5tYXJrQXNEaXJ0eSgpfX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fQWxsRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0ltYWdlUHJvY2Vzc2luZ0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxBbmRNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9MaWdodHNEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fTWlzY0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fTWlzY0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5zZXRQcmVQYXNzUmVuZGVyZXI9ZnVuY3Rpb24oZSl7cmV0dXJuITF9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuZ2V0U2NlbmUoKTtpZihuLnN0b3BBbmltYXRpb24odGhpcyksbi5mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzKCksbi5yZW1vdmVNYXRlcmlhbCh0aGlzKSx0aGlzLl9ldmVudEluZm8uZm9yY2VEaXNwb3NlVGV4dHVyZXM9dCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5EaXNwb3NlZCx0aGlzLl9ldmVudEluZm8pLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIGE9dGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5pbmRleE9mKHRoaXMpO2E+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5tYXRlcmlhbHMuc3BsaWNlKGEsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYociE9PSEwKWlmKHRoaXMubWVzaE1hcClmb3IodmFyIHMgaW4gdGhpcy5tZXNoTWFwKXt2YXIgbz10aGlzLm1lc2hNYXBbc107byYmKG8ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChvLGUpKX1lbHNlIGZvcih2YXIgdT1uLm1lc2hlcyxmPTAsbD11O2Y8bC5sZW5ndGg7ZisrKXt2YXIgbz1sW2ZdO28ubWF0ZXJpYWw9PT10aGlzJiYhby5zb3VyY2VNZXNoJiYoby5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG8sZSkpfXRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLGUmJnRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCYmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5kaXNwb3NlKCksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PW51bGwpLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uQmluZE9ic2VydmFibGUmJnRoaXMuX29uQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUmJnRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUuY2xlYXIoKX0saS5wcm90b3R5cGUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUsdCl7aWYoZS5nZW9tZXRyeSl7dmFyIHI9ZS5nZW9tZXRyeTtpZih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcih2YXIgbj0wLGE9ZS5zdWJNZXNoZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07ci5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHMuZWZmZWN0KSx0JiZzLmVmZmVjdCYmcy5lZmZlY3QuZGlzcG9zZSgpfWVsc2Ugci5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCl9fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT1KLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS5zdGVuY2lsPXRoaXMuc3RlbmNpbC5zZXJpYWxpemUoKSxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZX0saS5QYXJzZT1mdW5jdGlvbihlLHQscil7aWYoIWUuY3VzdG9tVHlwZSllLmN1c3RvbVR5cGU9IkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCI7ZWxzZSBpZihlLmN1c3RvbVR5cGU9PT0iQkFCWUxPTi5QQlJNYXRlcmlhbCImJmUub3ZlcmxvYWRlZEFsYmVkbyYmKGUuY3VzdG9tVHlwZT0iQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCIsIUJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwpKXJldHVybiBrLkVycm9yKCJZb3VyIHNjZW5lIGlzIHRyeWluZyB0byBsb2FkIGEgbGVnYWN5IHZlcnNpb24gb2YgdGhlIFBCUk1hdGVyaWFsLCBwbGVhc2UsIGluY2x1ZGUgaXQgZnJvbSB0aGUgbWF0ZXJpYWxzIGxpYnJhcnkuIiksbnVsbDt2YXIgbj1fZS5JbnN0YW50aWF0ZShlLmN1c3RvbVR5cGUpLGE9bi5QYXJzZShlLHQscik7cmV0dXJuIGEuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsYX0saS5UcmlhbmdsZUZpbGxNb2RlPTAsaS5XaXJlRnJhbWVGaWxsTW9kZT0xLGkuUG9pbnRGaWxsTW9kZT0yLGkuUG9pbnRMaXN0RHJhd01vZGU9MyxpLkxpbmVMaXN0RHJhd01vZGU9NCxpLkxpbmVMb29wRHJhd01vZGU9NSxpLkxpbmVTdHJpcERyYXdNb2RlPTYsaS5UcmlhbmdsZVN0cmlwRHJhd01vZGU9NyxpLlRyaWFuZ2xlRmFuRHJhd01vZGU9OCxpLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj0wLGkuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj0xLGkuVGV4dHVyZURpcnR5RmxhZz0xLGkuTGlnaHREaXJ0eUZsYWc9MixpLkZyZXNuZWxEaXJ0eUZsYWc9NCxpLkF0dHJpYnV0ZXNEaXJ0eUZsYWc9OCxpLk1pc2NEaXJ0eUZsYWc9MTYsaS5QcmVQYXNzRGlydHlGbGFnPTMyLGkuQWxsRGlydHlGbGFnPTYzLGkuTUFURVJJQUxfT1BBUVVFPTAsaS5NQVRFUklBTF9BTFBIQVRFU1Q9MSxpLk1BVEVSSUFMX0FMUEhBQkxFTkQ9MixpLk1BVEVSSUFMX0FMUEhBVEVTVEFOREJMRU5EPTMsaS5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9XSElURU9VVD0wLGkuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfUk5NPTEsaS5PbkV2ZW50T2JzZXJ2YWJsZT1uZXcgTyxpLl9BbGxEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBbGxBc0RpcnR5KCl9LGkuX0ltYWdlUHJvY2Vzc2luZ0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKX0saS5fVGV4dHVyZURpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzVGV4dHVyZXNEaXJ0eSgpfSxpLl9GcmVzbmVsRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNGcmVzbmVsRGlydHkoKX0saS5fTWlzY0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzTWlzY0RpcnR5KCl9LGkuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc1ByZVBhc3NEaXJ0eSgpfSxpLl9MaWdodHNEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0xpZ2h0RGlydHkoKX0saS5fQXR0cmlidXRlRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKX0saS5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe2kuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKGUpLGkuX01pc2NEaXJ0eUNhbGxCYWNrKGUpfSxpLl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7aS5fVGV4dHVyZURpcnR5Q2FsbEJhY2soZSksaS5fTWlzY0RpcnR5Q2FsbEJhY2soZSl9LGkuX0RpcnR5Q2FsbGJhY2tBcnJheT1bXSxpLl9SdW5EaXJ0eUNhbGxCYWNrcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPWkuX0RpcnR5Q2FsbGJhY2tBcnJheTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuKGUpfX0sVChbUCgpXSxpLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJjaGVja1JlYWR5T25FdmVyeUNhbGwiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiY2hlY2tSZWFkeU9ubHlPbmNlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW1AoImFscGhhIildLGkucHJvdG90eXBlLCJfYWxwaGEiLHZvaWQgMCksVChbUCgiYmFja0ZhY2VDdWxsaW5nIildLGkucHJvdG90eXBlLCJfYmFja0ZhY2VDdWxsaW5nIix2b2lkIDApLFQoW1AoImN1bGxCYWNrRmFjZXMiKV0saS5wcm90b3R5cGUsIl9jdWxsQmFja0ZhY2VzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInNpZGVPcmllbnRhdGlvbiIsdm9pZCAwKSxUKFtQKCJhbHBoYU1vZGUiKV0saS5wcm90b3R5cGUsIl9hbHBoYU1vZGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX25lZWREZXB0aFByZVBhc3MiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZGlzYWJsZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZGlzYWJsZUNvbG9yV3JpdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZm9yY2VEZXB0aFdyaXRlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImRlcHRoRnVuY3Rpb24iLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic2VwYXJhdGVDdWxsaW5nUGFzcyIsdm9pZCAwKSxUKFtQKCJmb2dFbmFibGVkIildLGkucHJvdG90eXBlLCJfZm9nRW5hYmxlZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJwb2ludFNpemUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiek9mZnNldCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ6T2Zmc2V0VW5pdHMiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwicG9pbnRzQ2xvdWQiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsImZpbGxNb2RlIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJ0cmFuc3BhcmVuY3lNb2RlIixudWxsKSxpfSgpLHJpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyLCEwKXx8dGhpcztyZXR1cm4gbi5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz1bXSxuLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHMucHVzaChuKSxuLnN1Yk1hdGVyaWFscz1uZXcgQXJyYXksbi5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMCxufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInN1Yk1hdGVyaWFscyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJNYXRlcmlhbHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zdWJNYXRlcmlhbHM9dCx0aGlzLl9ob29rQXJyYXkodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdWJNYXRlcmlhbHN9LGUucHJvdG90eXBlLl9ob29rQXJyYXk9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspc1tvXT1hcmd1bWVudHNbb107dmFyIHU9bi5hcHBseSh0LHMpO3JldHVybiByLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCksdX07dmFyIGE9dC5zcGxpY2U7dC5zcGxpY2U9ZnVuY3Rpb24ocyxvKXt2YXIgdT1hLmFwcGx5KHQsW3Msb10pO3JldHVybiByLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCksdX19LGUucHJvdG90eXBlLmdldFN1Yk1hdGVyaWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0PDB8fHQ+PXRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aD90aGlzLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOnRoaXMuc3ViTWF0ZXJpYWxzW3RdfSxlLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbigpe3ZhciB0O3JldHVybih0PWkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzLmNhbGwodGhpcykpLmNvbmNhdC5hcHBseSh0LHRoaXMuc3ViTWF0ZXJpYWxzLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gcj9yLmdldEFjdGl2ZVRleHR1cmVzKCk6W119KSl9LGUucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24odCl7dmFyIHI7aWYoaS5wcm90b3R5cGUuaGFzVGV4dHVyZS5jYWxsKHRoaXMsdCkpcmV0dXJuITA7Zm9yKHZhciBuPTA7bjx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7bisrKWlmKCEoKHI9dGhpcy5zdWJNYXRlcmlhbHNbbl0pPT09bnVsbHx8cj09PXZvaWQgMCkmJnIuaGFzVGV4dHVyZSh0KSlyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk11bHRpTWF0ZXJpYWwifSxlLnByb3RvdHlwZS5pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7Zm9yKHZhciBhPTA7YTx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7YSsrKXt2YXIgcz10aGlzLnN1Yk1hdGVyaWFsc1thXTtpZihzKXtpZihzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighcy5pc1JlYWR5Rm9yU3ViTWVzaCh0LHIsbikpcmV0dXJuITE7Y29udGludWV9aWYoIXMuaXNSZWFkeSh0KSlyZXR1cm4hMX19cmV0dXJuITB9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQscil7Zm9yKHZhciBuPW5ldyBlKHQsdGhpcy5nZXRTY2VuZSgpKSxhPTA7YTx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7YSsrKXt2YXIgcz1udWxsLG89dGhpcy5zdWJNYXRlcmlhbHNbYV07ciYmbz9zPW8uY2xvbmUodCsiLSIrby5uYW1lKTpzPXRoaXMuc3ViTWF0ZXJpYWxzW2FdLG4uc3ViTWF0ZXJpYWxzLnB1c2gocyl9cmV0dXJuIG59LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXt9O3QubmFtZT10aGlzLm5hbWUsdC5pZD10aGlzLmlkLHQudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxjZSYmKHQudGFncz1jZS5HZXRUYWdzKHRoaXMpKSx0Lm1hdGVyaWFsc1VuaXF1ZUlkcz1bXSx0Lm1hdGVyaWFscz1bXTtmb3IodmFyIHI9MDtyPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuc3ViTWF0ZXJpYWxzW3JdO24/KHQubWF0ZXJpYWxzVW5pcXVlSWRzLnB1c2gobi51bmlxdWVJZCksdC5tYXRlcmlhbHMucHVzaChuLmlkKSk6KHQubWF0ZXJpYWxzVW5pcXVlSWRzLnB1c2gobnVsbCksdC5tYXRlcmlhbHMucHVzaChudWxsKSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0U2NlbmUoKTtpZighIWEpe2lmKG4pZm9yKHZhciBzPTA7czx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7cysrKXt2YXIgbz10aGlzLnN1Yk1hdGVyaWFsc1tzXTtvJiZvLmRpc3Bvc2UodCxyKX12YXIgdT1hLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7dT49MCYmYS5tdWx0aU1hdGVyaWFscy5zcGxpY2UodSwxKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfX0sZS5QYXJzZU11bHRpTWF0ZXJpYWw9ZnVuY3Rpb24odCxyKXt2YXIgbj1uZXcgZSh0Lm5hbWUscik7cmV0dXJuIG4uaWQ9dC5pZCxuLl9sb2FkZWRVbmlxdWVJZD10LnVuaXF1ZUlkLGNlJiZjZS5BZGRUYWdzVG8obix0LnRhZ3MpLHQubWF0ZXJpYWxzVW5pcXVlSWRzP24uX3dhaXRpbmdTdWJNYXRlcmlhbHNVbmlxdWVJZHM9dC5tYXRlcmlhbHNVbmlxdWVJZHM6dC5tYXRlcmlhbHMuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gbi5zdWJNYXRlcmlhbHMucHVzaChyLmdldExhc3RNYXRlcmlhbEJ5SWQoYSkpfSksbn0sZX0oRmUpO3dlKCJCQUJZTE9OLk11bHRpTWF0ZXJpYWwiLHJpKTt2YXIgQWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dGhpcy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLm1lc2g9dH1yZXR1cm4gaX0oKSxSYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5iYXRjaENhY2hlPW5ldyBzbix0aGlzLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU9bmV3IHNuLHRoaXMuaW5zdGFuY2VzQnVmZmVyU2l6ZT0zMioxNio0fXJldHVybiBpfSgpLHNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMubXVzdFJldHVybj0hMSx0aGlzLnZpc2libGVJbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMucmVuZGVyU2VsZj1uZXcgQXJyYXksdGhpcy5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz1uZXcgQXJyYXl9cmV0dXJuIGl9KCksUGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5pbnN0YW5jZXNDb3VudD0wLHRoaXMubWF0cml4QnVmZmVyPW51bGwsdGhpcy5wcmV2aW91c01hdHJpeEJ1ZmZlcj1udWxsLHRoaXMubWF0cml4QnVmZmVyU2l6ZT0zMioxNix0aGlzLm1hdHJpeERhdGE9bnVsbCx0aGlzLmJvdW5kaW5nVmVjdG9ycz1bXSx0aGlzLndvcmxkTWF0cmljZXM9bnVsbH1yZXR1cm4gaX0oKSxDYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3ByZUFjdGl2YXRlSWQ9LTEsdGhpcy5fTE9ETGV2ZWxzPW5ldyBBcnJheSx0aGlzLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT0hMSx0aGlzLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2ZvcmNlZEluc3RhbmNlQ291bnQ9MH1yZXR1cm4gaX0oKSxRPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyxvKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxvPT09dm9pZCAwJiYobz0hMCk7dmFyIHU9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztpZih1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mbz1uZXcgQ2EsdS5kZWxheUxvYWRTdGF0ZT0wLHUuaW5zdGFuY2VzPW5ldyBBcnJheSx1Ll9jcmVhdGlvbkRhdGFTdG9yYWdlPW51bGwsdS5fZ2VvbWV0cnk9bnVsbCx1Ll9pbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBSYSx1Ll90aGluSW5zdGFuY2VEYXRhU3RvcmFnZT1uZXcgUGEsdS5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz0hMSx1Ll9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5ERUZBVUxUU0lERSx1Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249bnVsbCx1Lmlnbm9yZUNhbWVyYU1heFo9ITEscj11LmdldFNjZW5lKCksdS5fb25CZWZvcmVEcmF3PWZ1bmN0aW9uKHYseSxFKXt2JiZFJiYodS5fdW5pZm9ybUJ1ZmZlcj91LnRyYW5zZmVyVG9FZmZlY3QoeSk6RS5iaW5kT25seVdvcmxkTWF0cml4KHkpKX0sYSl7aWYoYS5fZ2VvbWV0cnkmJmEuX2dlb21ldHJ5LmFwcGx5VG9NZXNoKHUpLHpyLkRlZXBDb3B5KGEsdSxbIm5hbWUiLCJtYXRlcmlhbCIsInNrZWxldG9uIiwiaW5zdGFuY2VzIiwicGFyZW50IiwidW5pcXVlSWQiLCJzb3VyY2UiLCJtZXRhZGF0YSIsIm1vcnBoVGFyZ2V0TWFuYWdlciIsImhhc0luc3RhbmNlcyIsIndvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwicHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIsImhhc0xPRExldmVscyIsImdlb21ldHJ5IiwiaXNCbG9ja2VkIiwiYXJlTm9ybWFsc0Zyb3plbiIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJsaWdodFNvdXJjZXMiLCJ1c2VCb25lcyIsImlzQW5JbnN0YW5jZSIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiY2xvbmVNZXNoTWFwIiwiaGFzQm91bmRpbmdJbmZvIl0sWyJfcG9zZU1hdHJpeCJdKSx1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPWEsci51c2VDbG9uZWRNZXNoTWFwJiYoYS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcHx8KGEuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXA9e30pLGEuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdS51bmlxdWVJZF09dSksdS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPWEuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbix1Ll9jcmVhdGlvbkRhdGFTdG9yYWdlPWEuX2NyZWF0aW9uRGF0YVN0b3JhZ2UsYS5fcmFuZ2VzKXt2YXIgZj1hLl9yYW5nZXM7Zm9yKHZhciBsIGluIGYpIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmLGwpfHwhZltsXXx8dS5jcmVhdGVBbmltYXRpb25SYW5nZShsLGZbbF0uZnJvbSxmW2xdLnRvKX1pZihhLm1ldGFkYXRhJiZhLm1ldGFkYXRhLmNsb25lP3UubWV0YWRhdGE9YS5tZXRhZGF0YS5jbG9uZSgpOnUubWV0YWRhdGE9YS5tZXRhZGF0YSxjZSYmY2UuSGFzVGFncyhhKSYmY2UuQWRkVGFnc1RvKHUsY2UuR2V0VGFncyhhLCEwKSksdS5zZXRFbmFibGVkKGEuaXNFbmFibGVkKCkpLHUucGFyZW50PWEucGFyZW50LHUuc2V0UGl2b3RNYXRyaXgoYS5nZXRQaXZvdE1hdHJpeCgpKSx1LmlkPXQrIi4iK2EuaWQsdS5tYXRlcmlhbD1hLm1hdGVyaWFsLCFzKWZvcih2YXIgaD1hLmdldERlc2NlbmRhbnRzKCEwKSxjPTA7YzxoLmxlbmd0aDtjKyspe3ZhciBkPWhbY107ZC5jbG9uZSYmZC5jbG9uZSh0KyIuIitkLm5hbWUsdSl9aWYoYS5tb3JwaFRhcmdldE1hbmFnZXImJih1Lm1vcnBoVGFyZ2V0TWFuYWdlcj1hLm1vcnBoVGFyZ2V0TWFuYWdlciksci5nZXRQaHlzaWNzRW5naW5lKXt2YXIgcD1yLmdldFBoeXNpY3NFbmdpbmUoKTtpZihvJiZwKXt2YXIgZz1wLmdldEltcG9zdG9yRm9yUGh5c2ljc09iamVjdChhKTtnJiYodS5waHlzaWNzSW1wb3N0b3I9Zy5jbG9uZSh1KSl9fWZvcih2YXIgYz0wO2M8ci5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2MrKyl7dmFyIF89ci5wYXJ0aWNsZVN5c3RlbXNbY107Xy5lbWl0dGVyPT09YSYmXy5jbG9uZShfLm5hbWUsdSl9dS5za2VsZXRvbj1hLnNrZWxldG9uLHUucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdS5jb21wdXRlV29ybGRNYXRyaXgoITApfXJldHVybiBuIT09bnVsbCYmKHUucGFyZW50PW4pLHUuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmc9dS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzLHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbk1lc2hSZWFkeU9ic2VydmVyQWRkZWQ9ZnVuY3Rpb24odil7di51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMCx1LmlzUmVhZHkoITApP3Uub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KTp1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcnx8KHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPXUuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt1LmlzUmVhZHkoITApJiYodS5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlciksdS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9bnVsbCx1Lm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSkpfSkpfSx1Lm9uTWVzaFJlYWR5T2JzZXJ2YWJsZT1uZXcgTyh1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkKSxhJiZhLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSksdX1yZXR1cm4gZS5fR2V0RGVmYXVsdFNpZGVPcmllbnRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdHx8ZS5GUk9OVFNJREV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlTE9EU2NyZWVuQ292ZXJhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIT09dCYmKHQmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnMmJih0aGlzLnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscyYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zPW51bGwsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHM9bnVsbCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZWZvcmVCaW5kT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZXR3ZWVuUGFzc09ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZURyYXdPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZWZvcmVEcmF3Iix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyJiZ0aGlzLm9uQmVmb3JlRHJhd09ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyKSx0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlcj10aGlzLm9uQmVmb3JlRHJhd09ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzVGhpbkluc3RhbmNlcyIse2dldDpmdW5jdGlvbigpe3ZhciB0O3JldHVybigodD10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6MCk+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvcmNlZEluc3RhbmNlQ291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic291cmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjbG9uZU1lc2hNYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzVW5JbmRleGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuSW5kZXhlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VuSW5kZXhlZCE9PXQmJih0aGlzLl91bkluZGV4ZWQ9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ3b3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0RhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzUHJldmlvdXNEYXRhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYW51YWxVcGRhdGVPZlByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5pbnN0YW50aWF0ZUhpZXJhcmNoeT1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIGE9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk+MCYmKCFyfHwhci5kb05vdEluc3RhbnRpYXRlKT90aGlzLmNyZWF0ZUluc3RhbmNlKCJpbnN0YW5jZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpKTp0aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLHR8fHRoaXMucGFyZW50LCEwKTthLnBhcmVudD10fHx0aGlzLnBhcmVudCxhLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSxhLnNjYWxpbmc9dGhpcy5zY2FsaW5nLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/YS5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTphLnJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSxuJiZuKHRoaXMsYSk7Zm9yKHZhciBzPTAsbz10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UuaW5zdGFudGlhdGVIaWVyYXJjaHkoYSxyLG4pfXJldHVybiBhfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTWVzaCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX2lzTWVzaCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciByPWkucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcyx0KTtpZihyKz0iLCBuIHZlcnRpY2VzOiAiK3RoaXMuZ2V0VG90YWxWZXJ0aWNlcygpLHIrPSIsIHBhcmVudDogIisodGhpcy5fd2FpdGluZ1BhcmVudElkP3RoaXMuX3dhaXRpbmdQYXJlbnRJZDp0aGlzLnBhcmVudD90aGlzLnBhcmVudC5uYW1lOiJOT05FIiksdGhpcy5hbmltYXRpb25zKWZvcih2YXIgbj0wO248dGhpcy5hbmltYXRpb25zLmxlbmd0aDtuKyspcis9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tuXS50b1N0cmluZyh0KTtpZih0KWlmKHRoaXMuX2dlb21ldHJ5KXt2YXIgYT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtzJiZhJiYocis9IiwgZmxhdCBzaGFkaW5nOiAiKyhzLmxlbmd0aC8zPT09YS5sZW5ndGg/IllFUyI6Ik5PIikpfWVsc2Ugcis9IiwgZmxhdCBzaGFkaW5nOiBVTktOT1dOIjtyZXR1cm4gcn0sZS5wcm90b3R5cGUuX3VuQmluZEVmZmVjdD1mdW5jdGlvbigpe2kucHJvdG90eXBlLl91bkJpbmRFZmZlY3QuY2FsbCh0aGlzKTtmb3IodmFyIHQ9MCxyPXRoaXMuaW5zdGFuY2VzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3VuQmluZEVmZmVjdCgpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNMT0RMZXZlbHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5sZW5ndGg+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRMT0RMZXZlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVsc30sZS5wcm90b3R5cGUuX3NvcnRMT0RMZXZlbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U/LTE6MTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnNvcnQoZnVuY3Rpb24ocixuKXtyZXR1cm4gci5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8bi5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/dDpyLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT5uLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT8tdDowfSl9LGUucHJvdG90eXBlLmFkZExPRExldmVsPWZ1bmN0aW9uKHQscil7aWYociYmci5fbWFzdGVyTWVzaClyZXR1cm4gay5XYXJuKCJZb3UgY2Fubm90IHVzZSBhIG1lc2ggYXMgTE9EIGxldmVsIHR3aWNlIiksdGhpczt2YXIgbj1uZXcgQWEodCxyKTtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5wdXNoKG4pLHImJihyLl9tYXN0ZXJNZXNoPXRoaXMpLHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRMT0RMZXZlbEF0RGlzdGFuY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLG49MDtuPHIuX0xPRExldmVscy5sZW5ndGg7bisrKXt2YXIgYT1yLl9MT0RMZXZlbHNbbl07aWYoYS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9PT10KXJldHVybiBhLm1lc2h9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnJlbW92ZUxPRExldmVsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyxuPTA7bjxyLl9MT0RMZXZlbHMubGVuZ3RoO24rKylyLl9MT0RMZXZlbHNbbl0ubWVzaD09PXQmJihyLl9MT0RMZXZlbHMuc3BsaWNlKG4sMSksdCYmKHQuX21hc3Rlck1lc2g9bnVsbCkpO3JldHVybiB0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc30sZS5wcm90b3R5cGUuZ2V0TE9EPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIW4uX0xPRExldmVsc3x8bi5fTE9ETGV2ZWxzLmxlbmd0aD09PTApcmV0dXJuIHRoaXM7dmFyIGE7aWYocilhPXI7ZWxzZXt2YXIgcz10aGlzLmdldEJvdW5kaW5nSW5mbygpO2E9cy5ib3VuZGluZ1NwaGVyZX12YXIgbz1hLmNlbnRlcldvcmxkLnN1YnRyYWN0KHQuZ2xvYmFsUG9zaXRpb24pLmxlbmd0aCgpLHU9bi5fdXNlTE9EU2NyZWVuQ292ZXJhZ2UsZj1vLGw9MTtpZih1KXt2YXIgaD10LnNjcmVlbkFyZWEsYz1hLnJhZGl1c1dvcmxkKnQubWluWi9vO2M9YypjKk1hdGguUEksZj1jL2gsbD0tMX1pZihsKm4uX0xPRExldmVsc1tuLl9MT0RMZXZlbHMubGVuZ3RoLTFdLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT5sKmYpcmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKGYsdGhpcyx0aGlzKSx0aGlzO2Zvcih2YXIgZD0wO2Q8bi5fTE9ETGV2ZWxzLmxlbmd0aDtkKyspe3ZhciBwPW4uX0xPRExldmVsc1tkXTtpZihsKnAuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPGwqZil7aWYocC5tZXNoKXtpZihwLm1lc2guZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiBwLm1lc2guX2NoZWNrRGVsYXlTdGF0ZSgpLHRoaXM7aWYocC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4gdGhpcztwLm1lc2guX3ByZUFjdGl2YXRlKCkscC5tZXNoLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSl9cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKGYsdGhpcyxwLm1lc2gpLHAubWVzaH19cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKGYsdGhpcyx0aGlzKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdlb21ldHJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFRvdGFsVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk9PT1udWxsfHx0aGlzLl9nZW9tZXRyeT09PXZvaWQgMD8wOnRoaXMuX2dlb21ldHJ5LmdldFRvdGFsVmVydGljZXMoKX0sZS5wcm90b3R5cGUuZ2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzO2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gbnVsbDt2YXIgbz0ocz0oYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS52ZXJ0ZXhCdWZmZXJzW3RdKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZ2V0RmxvYXREYXRhKHRoaXMuX2dlb21ldHJ5LmdldFRvdGFsVmVydGljZXMoKSxufHxyJiZ0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoIT09MSk7cmV0dXJuIG98fChvPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YSh0LHIsbikpLG99LGUucHJvdG90eXBlLmdldFZlcnRleEJ1ZmZlcj1mdW5jdGlvbih0KXt2YXIgcixuO3JldHVybiB0aGlzLl9nZW9tZXRyeT8obj0ocj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci52ZXJ0ZXhCdWZmZXJzW3RdKSE9PW51bGwmJm4hPT12b2lkIDA/bjp0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXIodCk6bnVsbH0sZS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKHQpe3ZhciByO3JldHVybiB0aGlzLl9nZW9tZXRyeT8oKHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmVydGV4QnVmZmVyc1t0XSkhPT12b2lkIDB8fHRoaXMuX2dlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudCh0KTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YodCkhPT0tMTohMX0sZS5wcm90b3R5cGUuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGU9ZnVuY3Rpb24odCl7dmFyIHIsbjtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KChuPShyPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZlcnRleEJ1ZmZlcnNbdF0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5pc1VwZGF0YWJsZSgpKXx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUodCk6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKHQpIT09LTE6ITF9LGUucHJvdG90eXBlLmdldFZlcnRpY2VzRGF0YUtpbmRzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2dlb21ldHJ5KXt2YXIgdD1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2RlbGF5SW5mbyYmdGhpcy5fZGVsYXlJbmZvLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEpfSksdH12YXIgcj10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpO2lmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSlmb3IodmFyIG4gaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMpci5wdXNoKG4pO3JldHVybiByfSxlLnByb3RvdHlwZS5nZXRUb3RhbEluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxJbmRpY2VzKCk6MH0sZS5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRJbmRpY2VzKHQscik6W119LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNCbG9ja2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2ghPT1udWxsJiZ0aGlzLl9tYXN0ZXJNZXNoIT09dm9pZCAwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24odCxyKXt2YXIgbixhLHMsbyx1LGY7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLmRlbGF5TG9hZFN0YXRlPT09Mnx8IWkucHJvdG90eXBlLmlzUmVhZHkuY2FsbCh0aGlzLHQpKXJldHVybiExO2lmKCF0aGlzLnN1Yk1lc2hlc3x8dGhpcy5zdWJNZXNoZXMubGVuZ3RoPT09MHx8IXQpcmV0dXJuITA7dmFyIGw9dGhpcy5nZXRFbmdpbmUoKSxoPXRoaXMuZ2V0U2NlbmUoKSxjPXJ8fGwuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXMpO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7dmFyIGQ9dGhpcy5tYXRlcmlhbHx8aC5kZWZhdWx0TWF0ZXJpYWw7aWYoZCl7aWYoZC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IodmFyIHA9MCxnPXRoaXMuc3ViTWVzaGVzO3A8Zy5sZW5ndGg7cCsrKXt2YXIgXz1nW3BdLHY9Xy5nZXRNYXRlcmlhbCgpO2lmKHYpe2lmKHYuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCF2LmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsXyxjKSlyZXR1cm4hMX1lbHNlIGlmKCF2LmlzUmVhZHkodGhpcyxjKSlyZXR1cm4hMX19ZWxzZSBpZighZC5pc1JlYWR5KHRoaXMsYykpcmV0dXJuITF9Zm9yKHZhciB5PWwuY3VycmVudFJlbmRlclBhc3NJZCxFPTAsUj10aGlzLmxpZ2h0U291cmNlcztFPFIubGVuZ3RoO0UrKyl7dmFyIE09UltFXSxDPU0uZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYoQyYmKCEoISgobj1DLmdldFNoYWRvd01hcCgpKT09PW51bGx8fG49PT12b2lkIDApJiZuLnJlbmRlckxpc3QpfHwoKGE9Qy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnJlbmRlckxpc3QpJiYoKG89KHM9Qy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLnJlbmRlckxpc3QpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5pbmRleE9mKHRoaXMpKSE9PS0xKSl7Qy5nZXRTaGFkb3dNYXAoKSYmKGwuY3VycmVudFJlbmRlclBhc3NJZD1DLmdldFNoYWRvd01hcCgpLnJlbmRlclBhc3NJZCk7Zm9yKHZhciBBPTAsUz10aGlzLnN1Yk1lc2hlcztBPFMubGVuZ3RoO0ErKyl7dmFyIF89U1tBXTtpZighQy5pc1JlYWR5KF8sYywoZj0odT1fLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godGhpcykpIT09bnVsbCYmZiE9PXZvaWQgMD9mOiExKSlyZXR1cm4gbC5jdXJyZW50UmVuZGVyUGFzc0lkPXksITF9bC5jdXJyZW50UmVuZGVyUGFzc0lkPXl9fWZvcih2YXIgdz0wLEY9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVsczt3PEYubGVuZ3RoO3crKyl7dmFyIHg9Rlt3XTtpZih4Lm1lc2gmJiF4Lm1lc2guaXNSZWFkeShjKSlyZXR1cm4hMX1yZXR1cm4hMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhcmVOb3JtYWxzRnJvemVuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmZyZWV6ZU5vcm1hbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITAsdGhpc30sZS5wcm90b3R5cGUudW5mcmVlemVOb3JtYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib3ZlcnJpZGVuSW5zdGFuY2VDb3VudCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm92ZXJyaWRlbkluc3RhbmNlQ291bnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcHJlQWN0aXZhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyxyPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO3JldHVybiB0Ll9wcmVBY3RpdmF0ZUlkPT09cj90aGlzOih0Ll9wcmVBY3RpdmF0ZUlkPXIsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPW51bGwsdGhpcyl9LGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZD10KSx0aGlzfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc3x8KHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcz17ZGVmYXVsdFJlbmRlcklkOnIsc2VsZkRlZmF1bHRSZW5kZXJJZDp0aGlzLl9yZW5kZXJJZH0pLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1tyXXx8KHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZCE9PXZvaWQgMCYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbiYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWRdPW51bGwpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZD1yLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1tyXT1uZXcgQXJyYXkpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1tyXS5wdXNoKHQpLHRoaXN9LGUucHJvdG90eXBlLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeC5jYWxsKHRoaXMpLHRoaXMuaGFzVGhpbkluc3RhbmNlcyYmKHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHx0aGlzLnRoaW5JbnN0YW5jZVJlZnJlc2hCb3VuZGluZ0luZm8oITEpKX0sZS5wcm90b3R5cGUuX3Bvc3RBY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXMmJnRoaXMuZWRnZXNSZW5kZXJlciYmdGhpcy5lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fcmVuZGVyaW5nR3JvdXAmJih0aGlzLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuZWRnZXNSZW5kZXJlciksdGhpcy5lZGdlc1JlbmRlcmVyLmN1c3RvbUluc3RhbmNlcy5wdXNoKHRoaXMuZ2V0V29ybGRNYXRyaXgoKSkpfSxlLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpczt2YXIgbj10aGlzLmdlb21ldHJ5P3RoaXMuZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fZ2V0UG9zaXRpb25EYXRhKHQsciksbiksdGhpc30sZS5wcm90b3R5cGUuX2NyZWF0ZUdsb2JhbFN1Yk1lc2g9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk7aWYoIXJ8fCF0aGlzLmdldEluZGljZXMoKSlyZXR1cm4gbnVsbDtpZih0aGlzLnN1Yk1lc2hlcyYmdGhpcy5zdWJNZXNoZXMubGVuZ3RoPjApe3ZhciBuPXRoaXMuZ2V0SW5kaWNlcygpO2lmKCFuKXJldHVybiBudWxsO3ZhciBhPW4ubGVuZ3RoLHM9ITE7aWYodClzPSEwO2Vsc2UgZm9yKHZhciBvPTAsdT10aGlzLnN1Yk1lc2hlcztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtpZihmLmluZGV4U3RhcnQrZi5pbmRleENvdW50PmEpe3M9ITA7YnJlYWt9aWYoZi52ZXJ0aWNlc1N0YXJ0K2YudmVydGljZXNDb3VudD5yKXtzPSEwO2JyZWFrfX1pZighcylyZXR1cm4gdGhpcy5zdWJNZXNoZXNbMF19cmV0dXJuIHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLG5ldyBTdCgwLDAsciwwLHRoaXMuZ2V0VG90YWxJbmRpY2VzKCksdGhpcyl9LGUucHJvdG90eXBlLnN1YmRpdmlkZT1mdW5jdGlvbih0KXtpZighKHQ8MSkpe2Zvcih2YXIgcj10aGlzLmdldFRvdGFsSW5kaWNlcygpLG49ci90fDAsYT0wO24lMyE9PTA7KW4rKzt0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtmb3IodmFyIHM9MDtzPHQmJiEoYT49cik7cysrKVN0LkNyZWF0ZUZyb21JbmRpY2VzKDAsYSxzPT09dC0xP3ItYTpuLHRoaXMpLGErPW47dGhpcy5zeW5jaHJvbml6ZUluc3RhbmNlcygpfX0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe2lmKG49PT12b2lkIDAmJihuPSExKSx0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEodCxyLG4sYSk7ZWxzZXt2YXIgcz1uZXcgZ2U7cy5zZXQocix0KTt2YXIgbz10aGlzLmdldFNjZW5lKCk7bmV3IE10KE10LlJhbmRvbUlkKCksbyxzLG4sdGhpcyl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnJlbW92ZVZlcnRpY2VzRGF0YT1mdW5jdGlvbih0KXshdGhpcy5fZ2VvbWV0cnl8fHRoaXMuX2dlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YSh0KX0sZS5wcm90b3R5cGUubWFya1ZlcnRpY2VzRGF0YUFzVXBkYXRhYmxlPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITApO3ZhciBuPXRoaXMuZ2V0VmVydGV4QnVmZmVyKHQpOyFufHxuLmlzVXBkYXRhYmxlKCk9PT1yfHx0aGlzLnNldFZlcnRpY2VzRGF0YSh0LHRoaXMuZ2V0VmVydGljZXNEYXRhKHQpLHIpfSxlLnByb3RvdHlwZS5zZXRWZXJ0aWNlc0J1ZmZlcj1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0hMCksdGhpcy5fZ2VvbWV0cnl8fCh0aGlzLl9nZW9tZXRyeT1NdC5DcmVhdGVHZW9tZXRyeUZvck1lc2godGhpcykpLHRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzQnVmZmVyKHQsbnVsbCxyKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhhPyh0aGlzLm1ha2VHZW9tZXRyeVVuaXF1ZSgpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKHQscixuLCExKSk6dGhpcy5fZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhKHQscixuKSx0aGlzKTp0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVNZXNoUG9zaXRpb25zPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITApO3ZhciBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZighbilyZXR1cm4gdGhpcztpZih0KG4pLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLG4sITEsITEpLHIpe3ZhciBhPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKTtpZighcylyZXR1cm4gdGhpcztnZS5Db21wdXRlTm9ybWFscyhuLGEscyksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLHMsITEsITEpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5tYWtlR2VvbWV0cnlVbmlxdWU9ZnVuY3Rpb24oKXtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aD09PTEpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcy5fZ2VvbWV0cnkscj10aGlzLl9nZW9tZXRyeS5jb3B5KE10LlJhbmRvbUlkKCkpO3JldHVybiB0LnJlbGVhc2VGb3JNZXNoKHRoaXMsITApLHIuYXBwbHlUb01lc2godGhpcyksdGhpc30sZS5wcm90b3R5cGUuc2V0SW5kaWNlcz1mdW5jdGlvbih0LHIsbil7aWYocj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX2dlb21ldHJ5KXRoaXMuX2dlb21ldHJ5LnNldEluZGljZXModCxyLG4pO2Vsc2V7dmFyIGE9bmV3IGdlO2EuaW5kaWNlcz10O3ZhciBzPXRoaXMuZ2V0U2NlbmUoKTtuZXcgTXQoTXQuUmFuZG9tSWQoKSxzLGEsbix0aGlzKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUudXBkYXRlSW5kaWNlcz1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG49PT12b2lkIDAmJihuPSExKSx0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudXBkYXRlSW5kaWNlcyh0LHIsbiksdGhpcyk6dGhpc30sZS5wcm90b3R5cGUudG9MZWZ0SGFuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pyh0aGlzLl9nZW9tZXRyeS50b0xlZnRIYW5kZWQoKSx0aGlzKTp0aGlzfSxlLnByb3RvdHlwZS5fYmluZD1mdW5jdGlvbih0LHIsbil7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO3ZhciBhPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlciYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZChyKTt2YXIgcztpZih0aGlzLl91bkluZGV4ZWQpcz1udWxsO2Vsc2Ugc3dpdGNoKG4pe2Nhc2UgRmUuUG9pbnRGaWxsTW9kZTpzPW51bGw7YnJlYWs7Y2FzZSBGZS5XaXJlRnJhbWVGaWxsTW9kZTpzPXQuX2dldExpbmVzSW5kZXhCdWZmZXIodGhpcy5nZXRJbmRpY2VzKCksYSk7YnJlYWs7ZGVmYXVsdDpjYXNlIEZlLlRyaWFuZ2xlRmlsbE1vZGU6cz10aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpO2JyZWFrfXJldHVybiF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fHRoaXMuaGFzVGhpbkluc3RhbmNlcz90aGlzLl9nZW9tZXRyeS5fYmluZChyLHMpOnRoaXMuX2dlb21ldHJ5Ll9iaW5kKHIscyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzKSx0aGlzfSxlLnByb3RvdHlwZS5fZHJhdz1mdW5jdGlvbih0LHIsbil7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciBhPXRoaXMuZ2V0U2NlbmUoKSxzPWEuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMuX3VuSW5kZXhlZHx8cj09RmUuUG9pbnRGaWxsTW9kZT9zLmRyYXdBcnJheXNUeXBlKHIsdC52ZXJ0aWNlc1N0YXJ0LHQudmVydGljZXNDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fG4pOnI9PUZlLldpcmVGcmFtZUZpbGxNb2RlP3MuZHJhd0VsZW1lbnRzVHlwZShyLDAsdC5fbGluZXNJbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8bik6cy5kcmF3RWxlbWVudHNUeXBlKHIsdC5pbmRleFN0YXJ0LHQuaW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fG4pLHRoaXN9LGUucHJvdG90eXBlLnJlZ2lzdGVyQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCksdGhpc30sZS5wcm90b3R5cGUudW5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCksdGhpc30sZS5wcm90b3R5cGUucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCksdGhpc30sZS5wcm90b3R5cGUudW5yZWdpc3RlckFmdGVyUmVuZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpLHRoaXN9LGUucHJvdG90eXBlLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0PWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4pe2lmKHIpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1t0XT0hMSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUucmVuZGVyU2VsZlt0XT0hMCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoKXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2h9dmFyIG49dGhpcy5nZXRTY2VuZSgpLGE9bi5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpLHM9YT90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXMsbz10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGU7aWYoby5tdXN0UmV0dXJuPSExLG8ucmVuZGVyU2VsZlt0XT1yfHwhcyYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc1Zpc2libGUsby52aXNpYmxlSW5zdGFuY2VzW3RdPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYhcil7dmFyIHU9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLGY9bi5nZXRSZW5kZXJJZCgpLGw9YT91LmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZDp1LmRlZmF1bHRSZW5kZXJJZDtvLnZpc2libGVJbnN0YW5jZXNbdF09dVtmXSwhby52aXNpYmxlSW5zdGFuY2VzW3RdJiZsJiYoby52aXNpYmxlSW5zdGFuY2VzW3RdPXVbbF0pfXJldHVybiBvLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW3RdPSFyJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nJiZvLnZpc2libGVJbnN0YW5jZXNbdF0hPT1udWxsJiZvLnZpc2libGVJbnN0YW5jZXNbdF0hPT12b2lkIDAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW8sb30sZS5wcm90b3R5cGUuX3JlbmRlcldpdGhJbnN0YW5jZXM9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbyx1PW4udmlzaWJsZUluc3RhbmNlc1t0Ll9pZF07aWYoIXUpcmV0dXJuIHRoaXM7Zm9yKHZhciBmPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsbD1mLmluc3RhbmNlc0J1ZmZlclNpemUsaD1mLmluc3RhbmNlc0J1ZmZlcixjPWYuaW5zdGFuY2VzUHJldmlvdXNCdWZmZXIsZD11Lmxlbmd0aCsxLHA9ZCoxNio0O2YuaW5zdGFuY2VzQnVmZmVyU2l6ZTxwOylmLmluc3RhbmNlc0J1ZmZlclNpemUqPTI7KCFmLmluc3RhbmNlc0RhdGF8fGwhPWYuaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihmLmluc3RhbmNlc0RhdGE9bmV3IEZsb2F0MzJBcnJheShmLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpLCh0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWYuaW5zdGFuY2VzUHJldmlvdXNEYXRhfHxsIT1mLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGE9bmV3IEZsb2F0MzJBcnJheShmLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpO3ZhciBnPTAsXz0wLHY9bi5yZW5kZXJTZWxmW3QuX2lkXSx5PSFofHxsIT09Zi5pbnN0YW5jZXNCdWZmZXJTaXplfHx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWYuaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7aWYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIWYuaXNGcm96ZW58fHkpKXt2YXIgRT10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYodiYmKHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoZi5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeD8oZi5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShmLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxnKSxmLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlGcm9tKEUpKTooZi5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeD1FLmNsb25lKCksZi5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShmLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxnKSkpLEUuY29weVRvQXJyYXkoZi5pbnN0YW5jZXNEYXRhLGcpLGcrPTE2LF8rKyksdSl7aWYoZS5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSYmKChvPXQuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0LmdldFJlbmRlcmluZ01lc2goKSkpKXtmb3IodmFyIFI9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uLE09MDtNPHUubGVuZ3RoO00rKyl7dmFyIEM9dVtNXTtDLl9kaXN0YW5jZVRvQ2FtZXJhPWIuRGlzdGFuY2UoQy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxSKX11LnNvcnQoZnVuY3Rpb24odyxGKXtyZXR1cm4gdy5fZGlzdGFuY2VUb0NhbWVyYT5GLl9kaXN0YW5jZVRvQ2FtZXJhPy0xOncuX2Rpc3RhbmNlVG9DYW1lcmE8Ri5fZGlzdGFuY2VUb0NhbWVyYT8xOjB9KX1mb3IodmFyIE09MDtNPHUubGVuZ3RoO00rKyl7dmFyIEE9dVtNXSxTPUEuZ2V0V29ybGRNYXRyaXgoKTtTLmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzRGF0YSxnKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKEEuX3ByZXZpb3VzV29ybGRNYXRyaXg/KEEuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsZyksQS5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbShTKSk6KEEuX3ByZXZpb3VzV29ybGRNYXRyaXg9Uy5jbG9uZSgpLEEuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsZykpKSxnKz0xNixfKyt9fX1lbHNlIF89KHY/MTowKSt1Lmxlbmd0aDtyZXR1cm4geT8oaCYmaC5kaXNwb3NlKCksYyYmYy5kaXNwb3NlKCksaD1uZXcgVHIocyxmLmluc3RhbmNlc0RhdGEsITAsMTYsITEsITApLGYuaW5zdGFuY2VzQnVmZmVyPWgsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHwodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlPXtkYXRhOnt9LHZlcnRleEJ1ZmZlcnM6e30sc3RyaWRlczp7fSxzaXplczp7fSx2ZXJ0ZXhBcnJheU9iamVjdHM6dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3Q/e306dm9pZCAwfSksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQwPWguY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDAiLDAsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQxPWguY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDEiLDQsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQyPWguY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQzPWguY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDMiLDEyLDQpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoYz1uZXcgVHIocyxmLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwhMCwxNiwhMSwhMCksZi5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcj1jLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQwPWMuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMT1jLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDEiLDQsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDI9Yy5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQyIiw4LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQzPWMuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMyIsMTIsNCkpLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpOnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW58fChoLnVwZGF0ZURpcmVjdGx5KGYuaW5zdGFuY2VzRGF0YSwwLF8pLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlKSYmYy51cGRhdGVEaXJlY3RseShmLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwwLF8pKSx0aGlzLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycyh1LHYpLHRoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCh0LmluZGV4Q291bnQqXywhMSkscy5fY3VycmVudERyYXdDb250ZXh0JiYocy5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQodCxhLHIpLHRoaXMuX2RyYXcodCxyLF8pLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYheSYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGUmJiF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYhdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSYmYy51cGRhdGVEaXJlY3RseShmLmluc3RhbmNlc0RhdGEsMCxfKSxzLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpLHRoaXN9LGUucHJvdG90eXBlLl9yZW5kZXJXaXRoVGhpbkluc3RhbmNlcz1mdW5jdGlvbih0LHIsbixhKXt2YXIgcyxvLHU9KG89KHM9dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5pbnN0YW5jZXNDb3VudCkhPT1udWxsJiZvIT09dm9pZCAwP286MDt0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQodC5pbmRleENvdW50KnUsITEpLGEuX2N1cnJlbnREcmF3Q29udGV4dCYmKGEuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKHQsbixyKSx0aGlzLl9kcmF3KHQscix1KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4RGF0YSYmdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSYmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyP3RoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyLnVwZGF0ZURpcmVjdGx5KHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEsMCx1KTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlcj10aGlzLl90aGluSW5zdGFuY2VDcmVhdGVNYXRyaXhCdWZmZXIoInByZXZpb3VzV29ybGQiLHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEsITEpKSxhLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpfSxlLnByb3RvdHlwZS5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnM9ZnVuY3Rpb24odCxyKXt9LGUucHJvdG90eXBlLl9wcm9jZXNzUmVuZGVyaW5nPWZ1bmN0aW9uKHQscixuLGEscyxvLHUsZil7dmFyIGw9dGhpcy5nZXRTY2VuZSgpLGg9bC5nZXRFbmdpbmUoKTtpZihvJiZyLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzKXJldHVybiB0aGlzLl9yZW5kZXJXaXRoVGhpbkluc3RhbmNlcyhyLGEsbixoKSx0aGlzO2lmKG8pdGhpcy5fcmVuZGVyV2l0aEluc3RhbmNlcyhyLGEscyxuLGgpO2Vsc2V7aC5fY3VycmVudERyYXdDb250ZXh0JiYoaC5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITEpO3ZhciBjPTA7cy5yZW5kZXJTZWxmW3IuX2lkXSYmKHUmJnUoITEsdC5nZXRXb3JsZE1hdHJpeCgpLGYpLGMrKyx0aGlzLl9kcmF3KHIsYSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm92ZXJyaWRlbkluc3RhbmNlQ291bnQpKTt2YXIgZD1zLnZpc2libGVJbnN0YW5jZXNbci5faWRdO2lmKGQpe3ZhciBwPWQubGVuZ3RoO2MrPXA7Zm9yKHZhciBnPTA7ZzxwO2crKyl7dmFyIF89ZFtnXSx2PV8uZ2V0V29ybGRNYXRyaXgoKTt1JiZ1KCEwLHYsZiksdGhpcy5fZHJhdyhyLGEpfX1sLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHIuaW5kZXhDb3VudCpjLCExKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyJiYodCYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXIuZGlzcG9zZSgpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyPW51bGwpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSl7Zm9yKHZhciByIGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKXt2YXIgbj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXTtuJiYodCYmbi5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl09bnVsbCl9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e30pfXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLGkucHJvdG90eXBlLl9yZWJ1aWxkLmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuX2ZyZWV6ZT1mdW5jdGlvbigpe2lmKCEhdGhpcy5zdWJNZXNoZXMpe2Zvcih2YXIgdD0wO3Q8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO3QrKyl0aGlzLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KHQpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITB9fSxlLnByb3RvdHlwZS5fdW5GcmVlemU9ZnVuY3Rpb24oKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1udWxsfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHMsbyx1PXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSx0aGlzLl9jaGVja09jY2x1c2lvblF1ZXJ5KCkmJiF0aGlzLl9vY2NsdXNpb25EYXRhU3RvcmFnZS5mb3JjZVJlbmRlcmluZ1doZW5PY2NsdWRlZClyZXR1cm4gdGhpczt2YXIgZj10aGlzLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KHQuX2lkLCEhbik7aWYoZi5tdXN0UmV0dXJuKXJldHVybiB0aGlzO2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7dmFyIGw9dS5nZXRFbmdpbmUoKSxoPTAsYz1udWxsO3RoaXMuaWdub3JlQ2FtZXJhTWF4WiYmdS5hY3RpdmVDYW1lcmEmJiF1Ll9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCkmJihoPXUuYWN0aXZlQ2FtZXJhLm1heFosYz11LmFjdGl2ZUNhbWVyYSx1LmFjdGl2ZUNhbWVyYS5tYXhaPTAsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgZD1mLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW3QuX2lkXXx8dC5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyxwPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsZz10LmdldE1hdGVyaWFsKCk7aWYoIWcpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7aWYoIXAuaXNGcm96ZW58fCF0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWx8fHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCE9PWcpe2lmKGcuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFnLmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsdCxkKSlyZXR1cm4gYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpc31lbHNlIGlmKCFnLmlzUmVhZHkodGhpcyxkKSlyZXR1cm4gYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9Z31lbHNlIGlmKGcuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoISgoYT10LmVmZmVjdCk9PT1udWxsfHxhPT09dm9pZCAwKSYmYS5fd2FzUHJldmlvdXNseVJlYWR5KXx8IWcuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoISgocz1nLmdldEVmZmVjdCgpKT09PW51bGx8fHM9PT12b2lkIDApJiZzLl93YXNQcmV2aW91c2x5UmVhZHkpKXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3ImJmwuc2V0QWxwaGFNb2RlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5hbHBoYU1vZGUpO3ZhciBfO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz9fPXQuX2RyYXdXcmFwcGVyOl89dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9nZXREcmF3V3JhcHBlcigpO2Zvcih2YXIgdj0obz1fPT1udWxsP3ZvaWQgMDpfLmVmZmVjdCkhPT1udWxsJiZvIT09dm9pZCAwP286bnVsbCx5PTAsRT11Ll9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2U7eTxFLmxlbmd0aDt5Kyspe3ZhciBSPUVbeV07Ui5hY3Rpb24odGhpcyx0LGYsdil9aWYoIV98fCF2KXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3ZhciBNPW58fHRoaXMsQztpZighcC5pc0Zyb3plbiYmKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5iYWNrRmFjZUN1bGxpbmd8fHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbiE9PW51bGwpKXt2YXIgQT1NLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk7Qz10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sQz09bnVsbCYmKEM9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLnNpZGVPcmllbnRhdGlvbiksQTwwJiYoQz1DPT09RmUuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uP0ZlLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb246RmUuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uKSxwLnNpZGVPcmllbnRhdGlvbj1DfWVsc2UgQz1wLnNpZGVPcmllbnRhdGlvbjt2YXIgUz10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3ByZUJpbmQoXyxDKTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZm9yY2VEZXB0aFdyaXRlJiZsLnNldERlcHRoV3JpdGUoITApO3ZhciB3PXUuZm9yY2VQb2ludHNDbG91ZD9GZS5Qb2ludEZpbGxNb2RlOnUuZm9yY2VXaXJlZnJhbWU/RmUuV2lyZUZyYW1lRmlsbE1vZGU6dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmZpbGxNb2RlO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksZHx8dGhpcy5fYmluZCh0LHYsdyk7dmFyIEY9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLHg9TS5nZXRXb3JsZE1hdHJpeCgpO0YuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/Ri5iaW5kRm9yU3ViTWVzaCh4LHRoaXMsdCk6Ri5iaW5kKHgsdGhpcyksIUYuYmFja0ZhY2VDdWxsaW5nJiZGLnNlcGFyYXRlQ3VsbGluZ1Bhc3MmJihsLnNldFN0YXRlKCEwLEYuek9mZnNldCwhMSwhUyxGLmN1bGxCYWNrRmFjZXMsRi5zdGVuY2lsLEYuek9mZnNldFVuaXRzKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsdCx2LHcsZixkLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLGwuc2V0U3RhdGUoITAsRi56T2Zmc2V0LCExLFMsRi5jdWxsQmFja0ZhY2VzLEYuc3RlbmNpbCxGLnpPZmZzZXRVbml0cyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsdCx2LHcsZixkLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC51bmJpbmQoKTtmb3IodmFyIEc9MCxXPXUuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlO0c8Vy5sZW5ndGg7RysrKXt2YXIgUj1XW0ddO1IuYWN0aW9uKHRoaXMsdCxmLHYpfXJldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpc30sZS5wcm90b3R5cGUuY2xlYW5NYXRyaXhXZWlnaHRzPWZ1bmN0aW9uKCl7dGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKT90aGlzLl9ub3JtYWxpemVTa2luV2VpZ2h0c0FuZEV4dHJhKCk6dGhpcy5fbm9ybWFsaXplU2tpbkZvdXJXZWlnaHRzKCkpfSxlLnByb3RvdHlwZS5fbm9ybWFsaXplU2tpbkZvdXJXZWlnaHRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCkscj10Lmxlbmd0aCxuPTA7bjxyO24rPTQpe3ZhciBhPXRbbl0rdFtuKzFdK3RbbisyXSt0W24rM107aWYoYT09PTApdFtuXT0xO2Vsc2V7dmFyIHM9MS9hO3Rbbl0qPXMsdFtuKzFdKj1zLHRbbisyXSo9cyx0W24rM10qPXN9fXRoaXMuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0KX0sZS5wcm90b3R5cGUuX25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpLHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxuPXIubGVuZ3RoLGE9MDthPG47YSs9NCl7dmFyIHM9clthXStyW2ErMV0rclthKzJdK3JbYSszXTtpZihzKz10W2FdK3RbYSsxXSt0W2ErMl0rdFthKzNdLHM9PT0wKXJbYV09MTtlbHNle3ZhciBvPTEvcztyW2FdKj1vLHJbYSsxXSo9byxyW2ErMl0qPW8sclthKzNdKj1vLHRbYV0qPW8sdFthKzFdKj1vLHRbYSsyXSo9byx0W2ErM10qPW99fXRoaXMuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCxyKSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdCl9LGUucHJvdG90eXBlLnZhbGlkYXRlU2tpbm5pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkscj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHI9PT1udWxsfHx0aGlzLnNrZWxldG9uPT1udWxsKXJldHVybntza2lubmVkOiExLHZhbGlkOiEwLHJlcG9ydDoibm90IHNraW5uZWQifTtmb3IodmFyIG49ci5sZW5ndGgsYT0wLHM9MCxvPTAsdT0wLGY9dD09PW51bGw/NDo4LGw9bmV3IEFycmF5LGg9MDtoPD1mO2grKylsW2hdPTA7Zm9yKHZhciBjPS4wMDEsaD0wO2g8bjtoKz00KXtmb3IodmFyIGQ9cltoXSxwPWQsZz1wPT09MD8wOjEsXz0xO188ZjtfKyspe3ZhciB2PV88ND9yW2grX106dFtoK18tNF07dj5kJiZhKyssdiE9PTAmJmcrKyxwKz12LGQ9dn1pZihsW2ddKyssZz5vJiYobz1nKSxwPT09MClzKys7ZWxzZXtmb3IodmFyIHk9MS9wLEU9MCxfPTA7XzxmO18rKylfPDQ/RSs9TWF0aC5hYnMocltoK19dLXJbaCtfXSp5KTpFKz1NYXRoLmFicyh0W2grXy00XS10W2grXy00XSp5KTtFPmMmJnUrK319Zm9yKHZhciBSPXRoaXMuc2tlbGV0b24uYm9uZXMubGVuZ3RoLE09dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kKSxDPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxBPTAsaD0wO2g8bjtoKz00KWZvcih2YXIgXz0wO188ZjtfKyspe3ZhciBTPV88ND9NW2grX106Q1toK18tNF07KFM+PVJ8fFM8MCkmJkErK312YXIgdz0iTnVtYmVyIG9mIFdlaWdodHMgPSAiK24vNCtgCk1heGltdW0gaW5mbHVlbmNlcyA9IGArbytgCk1pc3NpbmcgV2VpZ2h0cyA9IGArcytgCk5vdCBTb3J0ZWQgPSBgK2ErYApOb3QgTm9ybWFsaXplZCA9IGArdStgCldlaWdodENvdW50cyA9IFtgK2wrYF0KTnVtYmVyIG9mIGJvbmVzID0gYCtSK2AKQmFkIEJvbmUgSW5kaWNlcyA9IGArQTtyZXR1cm57c2tpbm5lZDohMCx2YWxpZDpzPT09MCYmdT09PTAmJkE9PT0wLHJlcG9ydDp3fX0sZS5wcm90b3R5cGUuX2NoZWNrRGVsYXlTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkubG9hZCh0KTp0aGlzLmRlbGF5TG9hZFN0YXRlPT09NCYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQodCkpLHRoaXN9LGUucHJvdG90eXBlLl9xdWV1ZUxvYWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0Ll9hZGRQZW5kaW5nRGF0YSh0aGlzKTt2YXIgbj10aGlzLmRlbGF5TG9hZGluZ0ZpbGUuaW5kZXhPZigiLmJhYnlsb25iaW5hcnltZXNoZGF0YSIpIT09LTE7cmV0dXJuIF9lLkxvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ci5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oYSxyKTpyLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGEpLHIpLHIuaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24ocyl7cy5yZWZyZXNoQm91bmRpbmdJbmZvKCkscy5fc3luY1N1Yk1lc2hlcygpfSksci5kZWxheUxvYWRTdGF0ZT0xLHQuX3JlbW92ZVBlbmRpbmdEYXRhKHIpfSxmdW5jdGlvbigpe30sdC5vZmZsaW5lUHJvdmlkZXIsbiksdGhpc30sZS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhaS5wcm90b3R5cGUuaXNJbkZydXN0dW0uY2FsbCh0aGlzLHQpPyExOih0aGlzLl9jaGVja0RlbGF5U3RhdGUoKSwhMCl9LGUucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFNjZW5lKCkubWF0ZXJpYWxzLG47Zm9yKG49ci5sZW5ndGgtMTtuPi0xO24tLSlpZihyW25dLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbD1yW25dLHRoaXM7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzO2ZvcihuPWEubGVuZ3RoLTE7bj4tMTtuLS0paWYoYVtuXS5pZD09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWw9YVtuXSx0aGlzO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbigpe3ZhciB0PW5ldyBBcnJheTtyZXR1cm4gdGhpcy5tYXRlcmlhbCYmdC5wdXNoKHRoaXMubWF0ZXJpYWwpLHRoaXMuc2tlbGV0b24mJnQucHVzaCh0aGlzLnNrZWxldG9uKSx0fSxlLnByb3RvdHlwZS5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5zdWJNZXNoZXMuc3BsaWNlKDApO3RoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO3ZhciBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKSxhPW5ldyBBcnJheSxzO2ZvcihzPTA7czxuLmxlbmd0aDtzKz0zKWIuVHJhbnNmb3JtQ29vcmRpbmF0ZXMoYi5Gcm9tQXJyYXkobixzKSx0KS50b0FycmF5KGEscyk7aWYodGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsYSx0aGlzLmdldFZlcnRleEJ1ZmZlcihtLlBvc2l0aW9uS2luZCkuaXNVcGRhdGFibGUoKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSl7Zm9yKG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKSxhPVtdLHM9MDtzPG4ubGVuZ3RoO3MrPTMpYi5UcmFuc2Zvcm1Ob3JtYWwoYi5Gcm9tQXJyYXkobixzKSx0KS5ub3JtYWxpemUoKS50b0FycmF5KGEscyk7dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLGEsdGhpcy5nZXRWZXJ0ZXhCdWZmZXIobS5Ob3JtYWxLaW5kKS5pc1VwZGF0YWJsZSgpKX1yZXR1cm4gdC5kZXRlcm1pbmFudCgpPDAmJnRoaXMuZmxpcEZhY2VzKCksdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksdGhpcy5zdWJNZXNoZXM9cix0aGlzfSxlLnByb3RvdHlwZS5iYWtlQ3VycmVudFRyYW5zZm9ybUludG9WZXJ0aWNlcz1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuYmFrZVRyYW5zZm9ybUludG9WZXJ0aWNlcyh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMucmVzZXRMb2NhbE1hdHJpeCh0KSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wb3NpdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uczp0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5fcG9zaXRpb25zOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLHRoaXN9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVBvaW50c0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9nZW5lcmF0ZVBvaW50c0FycmF5KCk6ITF9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9bnVsbCksYT09PXZvaWQgMCYmKGE9ITApLG5ldyBlKHQsdGhpcy5nZXRTY2VuZSgpLHIsdGhpcyxuLGEpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5LnJlbGVhc2VGb3JNZXNoKHRoaXMsITApO3ZhciBuPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKG4uX29uQmVmb3JlRHJhd09ic2VydmFibGUmJm4uX29uQmVmb3JlRHJhd09ic2VydmFibGUuY2xlYXIoKSxuLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlJiZuLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksbi5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlJiZuLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSxuLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmbi5fb25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSxuLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmbi5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zY2VuZS51c2VDbG9uZWRNZXNoTWFwKXtpZihuLm1lc2hNYXApZm9yKHZhciBhIGluIG4ubWVzaE1hcCl7dmFyIHM9bi5tZXNoTWFwW2FdO3MmJihzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwsbi5tZXNoTWFwW2FdPXZvaWQgMCl9bi5fc291cmNlJiZuLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXAmJihuLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKX1lbHNlIGZvcih2YXIgbz10aGlzLmdldFNjZW5lKCkubWVzaGVzLHU9MCxmPW87dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV0scz1sO3MuX2ludGVybmFsTWVzaERhdGFJbmZvJiZzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlJiZzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPT09dGhpcyYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCl9bi5fc291cmNlPW51bGwsdGhpcy5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxlLnByb3RvdHlwZS5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hcHBseURpc3BsYWNlbWVudE1hcD1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt2YXIgZj10aGlzO3U9PT12b2lkIDAmJih1PSExKTt2YXIgbD10aGlzLmdldFNjZW5lKCksaD1mdW5jdGlvbihjKXt2YXIgZD1jLndpZHRoLHA9Yy5oZWlnaHQsZz1mLmdldEVuZ2luZSgpLmNyZWF0ZUNhbnZhcyhkLHApLF89Zy5nZXRDb250ZXh0KCIyZCIpO18uZHJhd0ltYWdlKGMsMCwwKTt2YXIgdj1fLmdldEltYWdlRGF0YSgwLDAsZCxwKS5kYXRhO2YuYXBwbHlEaXNwbGFjZW1lbnRNYXBGcm9tQnVmZmVyKHYsZCxwLHIsbixzLG8sdSksYSYmYShmKX07cmV0dXJuIF9lLkxvYWRJbWFnZSh0LGgsZnVuY3Rpb24oKXt9LGwub2ZmbGluZVByb3ZpZGVyKSx0aGlzfSxlLnByb3RvdHlwZS5hcHBseURpc3BsYWNlbWVudE1hcEZyb21CdWZmZXI9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmKXtpZihmPT09dm9pZCAwJiYoZj0hMSksIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uUG9zaXRpb25LaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWS2luZCkpcmV0dXJuIGsuV2FybigiQ2Fubm90IGNhbGwgYXBwbHlEaXNwbGFjZW1lbnRNYXA6IEdpdmVuIG1lc2ggaXMgbm90IGNvbXBsZXRlLiBQb3NpdGlvbiwgTm9ybWFsIG9yIFVWIGFyZSBtaXNzaW5nIiksdGhpczt2YXIgbD10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCwhMCwhMCksaD10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpLGM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQpLGQ9Yi5aZXJvKCkscD1iLlplcm8oKSxnPVNlLlplcm8oKTtvPW98fFNlLlplcm8oKSx1PXV8fG5ldyBTZSgxLDEpO2Zvcih2YXIgXz0wO188bC5sZW5ndGg7Xys9Myl7Yi5Gcm9tQXJyYXlUb1JlZihsLF8sZCksYi5Gcm9tQXJyYXlUb1JlZihoLF8scCksU2UuRnJvbUFycmF5VG9SZWYoYyxfLzMqMixnKTt2YXIgdj1NYXRoLmFicyhnLngqdS54K28ueCUxKSooci0xKSVyfDAseT1NYXRoLmFicyhnLnkqdS55K28ueSUxKSoobi0xKSVufDAsRT0odit5KnIpKjQsUj10W0VdLzI1NSxNPXRbRSsxXS8yNTUsQz10W0UrMl0vMjU1LEE9UiouMytNKi41OStDKi4xMTtwLm5vcm1hbGl6ZSgpLHAuc2NhbGVJblBsYWNlKGErKHMtYSkqQSksZD1kLmFkZChwKSxkLnRvQXJyYXkobCxfKX1yZXR1cm4gZ2UuQ29tcHV0ZU5vcm1hbHMobCx0aGlzLmdldEluZGljZXMoKSxoKSxmPyh0aGlzLnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxsKSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsaCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQsYykpOih0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxsKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsaCkpLHRoaXN9LGUucHJvdG90eXBlLmNvbnZlcnRUb0ZsYXRTaGFkZWRNZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHI9e30sbj17fSxhPXt9LHM9ITEsbyx1O2ZvcihvPTA7bzx0Lmxlbmd0aDtvKyspe3U9dFtvXTt2YXIgZj10aGlzLmdldFZlcnRleEJ1ZmZlcih1KSxsPWYuZ2V0RGF0YSgpO2lmKCEoKGwgaW5zdGFuY2VvZiBBcnJheXx8bCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkmJmwubGVuZ3RoPT09MCkpe2lmKHU9PT1tLk5vcm1hbEtpbmQpe3M9Zi5pc1VwZGF0YWJsZSgpLHQuc3BsaWNlKG8sMSksby0tO2NvbnRpbnVlfXJbdV09ZixuW3VdPXRoaXMuZ2V0VmVydGljZXNEYXRhKHUpLGFbdV09W119fXZhciBoPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLGM9dGhpcy5nZXRJbmRpY2VzKCksZD10aGlzLmdldFRvdGFsSW5kaWNlcygpLHA7Zm9yKHA9MDtwPGQ7cCsrKXt2YXIgZz1jW3BdO2ZvcihvPTA7bzx0Lmxlbmd0aDtvKyspaWYodT10W29dLCEhclt1XSlmb3IodmFyIF89clt1XS5nZXRTdHJpZGVTaXplKCksdj0wO3Y8Xzt2KyspYVt1XS5wdXNoKG5bdV1bZypfK3ZdKX12YXIgeT1bXSxFPWFbbS5Qb3NpdGlvbktpbmRdLFI9dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtLE07Zm9yKFI/TT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0xOk09dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MCxwPTA7cDxkO3ArPTMpe2NbcF09cCxjW3ArMV09cCsxLGNbcCsyXT1wKzI7dmFyIEM9Yi5Gcm9tQXJyYXkoRSxwKjMpLEE9Yi5Gcm9tQXJyYXkoRSwocCsxKSozKSxTPWIuRnJvbUFycmF5KEUsKHArMikqMyksdz1DLnN1YnRyYWN0KEEpLEY9Uy5zdWJ0cmFjdChBKSx4PWIuTm9ybWFsaXplKGIuQ3Jvc3ModyxGKSk7TSYmeC5zY2FsZUluUGxhY2UoLTEpO2Zvcih2YXIgRz0wO0c8MztHKyspeS5wdXNoKHgueCkseS5wdXNoKHgueSkseS5wdXNoKHgueil9Zm9yKHRoaXMuc2V0SW5kaWNlcyhjKSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQseSxzKSxvPTA7bzx0Lmxlbmd0aDtvKyspdT10W29dLGFbdV0mJnRoaXMuc2V0VmVydGljZXNEYXRhKHUsYVt1XSxyW3VdLmlzVXBkYXRhYmxlKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2Zvcih2YXIgVz0wO1c8aC5sZW5ndGg7VysrKXt2YXIgTj1oW1ddO1N0LkFkZFRvTWVzaChOLm1hdGVyaWFsSW5kZXgsTi5pbmRleFN0YXJ0LE4uaW5kZXhDb3VudCxOLmluZGV4U3RhcnQsTi5pbmRleENvdW50LHRoaXMpfXJldHVybiB0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc30sZS5wcm90b3R5cGUuY29udmVydFRvVW5JbmRleGVkTWVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSxyPXt9LG49e30sYT17fSxzLG87Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKyl7bz10W3NdO3ZhciB1PXRoaXMuZ2V0VmVydGV4QnVmZmVyKG8pO3Jbb109dSxuW29dPXJbb10uZ2V0RGF0YSgpLGFbb109W119dmFyIGY9dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCksbD10aGlzLmdldEluZGljZXMoKSxoPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCksYztmb3IoYz0wO2M8aDtjKyspe3ZhciBkPWxbY107Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKyl7bz10W3NdO2Zvcih2YXIgcD1yW29dLmdldFN0cmlkZVNpemUoKSxnPTA7ZzxwO2crKylhW29dLnB1c2gobltvXVtkKnArZ10pfX1mb3IoYz0wO2M8aDtjKz0zKWxbY109YyxsW2MrMV09YysxLGxbYysyXT1jKzI7Zm9yKHRoaXMuc2V0SW5kaWNlcyhsKSxzPTA7czx0Lmxlbmd0aDtzKyspbz10W3NdLHRoaXMuc2V0VmVydGljZXNEYXRhKG8sYVtvXSxyW29dLmlzVXBkYXRhYmxlKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2Zvcih2YXIgXz0wO188Zi5sZW5ndGg7XysrKXt2YXIgdj1mW19dO1N0LkFkZFRvTWVzaCh2Lm1hdGVyaWFsSW5kZXgsdi5pbmRleFN0YXJ0LHYuaW5kZXhDb3VudCx2LmluZGV4U3RhcnQsdi5pbmRleENvdW50LHRoaXMpfXJldHVybiB0aGlzLl91bkluZGV4ZWQ9ITAsdGhpcy5zeW5jaHJvbml6ZUluc3RhbmNlcygpLHRoaXN9LGUucHJvdG90eXBlLmZsaXBGYWNlcz1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9Z2UuRXh0cmFjdEZyb21NZXNoKHRoaXMpLG47aWYodCYmdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSYmci5ub3JtYWxzKWZvcihuPTA7bjxyLm5vcm1hbHMubGVuZ3RoO24rKylyLm5vcm1hbHNbbl0qPS0xO2lmKHIuaW5kaWNlcyl7dmFyIGE9dm9pZCAwO2ZvcihuPTA7bjxyLmluZGljZXMubGVuZ3RoO24rPTMpYT1yLmluZGljZXNbbisxXSxyLmluZGljZXNbbisxXT1yLmluZGljZXNbbisyXSxyLmluZGljZXNbbisyXT1hfXJldHVybiByLmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlBvc2l0aW9uS2luZCkpLHRoaXN9LGUucHJvdG90eXBlLmluY3JlYXNlVmVydGljZXM9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9MSk7dmFyIHI9Z2UuRXh0cmFjdEZyb21NZXNoKHRoaXMpLG49ci5pbmRpY2VzJiYhQXJyYXkuaXNBcnJheShyLmluZGljZXMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20oci5pbmRpY2VzKTpyLmluZGljZXMsYT1yLnBvc2l0aW9ucyYmIUFycmF5LmlzQXJyYXkoci5wb3NpdGlvbnMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20oci5wb3NpdGlvbnMpOnIucG9zaXRpb25zLHM9ci51dnMmJiFBcnJheS5pc0FycmF5KHIudXZzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHIudXZzKTpyLnV2cyxvPXIubm9ybWFscyYmIUFycmF5LmlzQXJyYXkoci5ub3JtYWxzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHIubm9ybWFscyk6ci5ub3JtYWxzO2lmKCFufHwhYSlrLldhcm4oIkNvdWxkbid0IGluY3JlYXNlIG51bWJlciBvZiB2ZXJ0aWNlcyA6IFZlcnRleERhdGEgbXVzdCBjb250YWluIGF0IGxlYXN0IGluZGljZXMgYW5kIHBvc2l0aW9ucyIpO2Vsc2V7ci5pbmRpY2VzPW4sci5wb3NpdGlvbnM9YSxzJiYoci51dnM9cyksbyYmKHIubm9ybWFscz1vKTtmb3IodmFyIHU9dCsxLGY9bmV3IEFycmF5LGw9MDtsPHUrMTtsKyspZltsXT1uZXcgQXJyYXk7dmFyIGg9dm9pZCAwLGM9dm9pZCAwLGQ9bmV3IGIoMCwwLDApLHA9bmV3IGIoMCwwLDApLGc9bmV3IFNlKDAsMCksXz1uZXcgQXJyYXksdj1uZXcgQXJyYXkseT1uZXcgQXJyYXksRT12b2lkIDAsUj1hLmxlbmd0aCxNPXZvaWQgMDtzJiYoTT1zLmxlbmd0aCk7dmFyIEM9dm9pZCAwO28mJihDPW8ubGVuZ3RoKTtmb3IodmFyIGw9MDtsPG4ubGVuZ3RoO2wrPTMpe3ZbMF09bltsXSx2WzFdPW5bbCsxXSx2WzJdPW5bbCsyXTtmb3IodmFyIEE9MDtBPDM7QSsrKWlmKGg9dltBXSxjPXZbKEErMSklM10seVtoXT09PXZvaWQgMCYmeVtjXT09PXZvaWQgMD8oeVtoXT1uZXcgQXJyYXkseVtjXT1uZXcgQXJyYXkpOih5W2hdPT09dm9pZCAwJiYoeVtoXT1uZXcgQXJyYXkpLHlbY109PT12b2lkIDAmJih5W2NdPW5ldyBBcnJheSkpLHlbaF1bY109PT12b2lkIDAmJnlbY11baF09PT12b2lkIDApe3lbaF1bY109W10sZC54PShhWzMqY10tYVszKmhdKS91LGQueT0oYVszKmMrMV0tYVszKmgrMV0pL3UsZC56PShhWzMqYysyXS1hWzMqaCsyXSkvdSxvJiYocC54PShvWzMqY10tb1szKmhdKS91LHAueT0ob1szKmMrMV0tb1szKmgrMV0pL3UscC56PShvWzMqYysyXS1vWzMqaCsyXSkvdSkscyYmKGcueD0oc1syKmNdLXNbMipoXSkvdSxnLnk9KHNbMipjKzFdLXNbMipoKzFdKS91KSx5W2hdW2NdLnB1c2goaCk7Zm9yKHZhciBTPTE7Uzx1O1MrKyl5W2hdW2NdLnB1c2goYS5sZW5ndGgvMyksYVtSKytdPWFbMypoXStTKmQueCxhW1IrK109YVszKmgrMV0rUypkLnksYVtSKytdPWFbMypoKzJdK1MqZC56LG8mJihvW0MrK109b1szKmhdK1MqcC54LG9bQysrXT1vWzMqaCsxXStTKnAueSxvW0MrK109b1szKmgrMl0rUypwLnopLHMmJihzW00rK109c1syKmhdK1MqZy54LHNbTSsrXT1zWzIqaCsxXStTKmcueSk7eVtoXVtjXS5wdXNoKGMpLHlbY11baF09bmV3IEFycmF5LEU9eVtoXVtjXS5sZW5ndGg7Zm9yKHZhciB3PTA7dzxFO3crKyl5W2NdW2hdW3ddPXlbaF1bY11bRS0xLXddfWZbMF1bMF09bltsXSxmWzFdWzBdPXlbbltsXV1bbltsKzFdXVsxXSxmWzFdWzFdPXlbbltsXV1bbltsKzJdXVsxXTtmb3IodmFyIFM9MjtTPHU7UysrKXtmW1NdWzBdPXlbbltsXV1bbltsKzFdXVtTXSxmW1NdW1NdPXlbbltsXV1bbltsKzJdXVtTXSxkLng9KGFbMypmW1NdW1NdXS1hWzMqZltTXVswXV0pL1MsZC55PShhWzMqZltTXVtTXSsxXS1hWzMqZltTXVswXSsxXSkvUyxkLno9KGFbMypmW1NdW1NdKzJdLWFbMypmW1NdWzBdKzJdKS9TLG8mJihwLng9KG9bMypmW1NdW1NdXS1vWzMqZltTXVswXV0pL1MscC55PShvWzMqZltTXVtTXSsxXS1vWzMqZltTXVswXSsxXSkvUyxwLno9KG9bMypmW1NdW1NdKzJdLW9bMypmW1NdWzBdKzJdKS9TKSxzJiYoZy54PShzWzIqZltTXVtTXV0tc1syKmZbU11bMF1dKS9TLGcueT0oc1syKmZbU11bU10rMV0tc1syKmZbU11bMF0rMV0pL1MpO2Zvcih2YXIgQT0xO0E8UztBKyspZltTXVtBXT1hLmxlbmd0aC8zLGFbUisrXT1hWzMqZltTXVswXV0rQSpkLngsYVtSKytdPWFbMypmW1NdWzBdKzFdK0EqZC55LGFbUisrXT1hWzMqZltTXVswXSsyXStBKmQueixvJiYob1tDKytdPW9bMypmW1NdWzBdXStBKnAueCxvW0MrK109b1szKmZbU11bMF0rMV0rQSpwLnksb1tDKytdPW9bMypmW1NdWzBdKzJdK0EqcC56KSxzJiYoc1tNKytdPXNbMipmW1NdWzBdXStBKmcueCxzW00rK109c1syKmZbU11bMF0rMV0rQSpnLnkpfWZbdV09eVtuW2wrMV1dW25bbCsyXV0sXy5wdXNoKGZbMF1bMF0sZlsxXVswXSxmWzFdWzFdKTtmb3IodmFyIFM9MTtTPHU7UysrKXt2YXIgQT12b2lkIDA7Zm9yKEE9MDtBPFM7QSsrKV8ucHVzaChmW1NdW0FdLGZbUysxXVtBXSxmW1MrMV1bQSsxXSksXy5wdXNoKGZbU11bQV0sZltTKzFdW0ErMV0sZltTXVtBKzFdKTtfLnB1c2goZltTXVtBXSxmW1MrMV1bQV0sZltTKzFdW0ErMV0pfX1yLmluZGljZXM9XyxyLmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlBvc2l0aW9uS2luZCkpfX0sZS5wcm90b3R5cGUuZm9yY2VTaGFyZWRWZXJ0aWNlcz1mdW5jdGlvbigpe3ZhciB0PWdlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSxyPXQudXZzLG49dC5pbmRpY2VzLGE9dC5wb3NpdGlvbnMscz10LmNvbG9ycztpZihuPT09dm9pZCAwfHxhPT09dm9pZCAwfHxuPT09bnVsbHx8YT09PW51bGwpay5XYXJuKCJWZXJ0ZXhEYXRhIGNvbnRhaW5zIGVtcHR5IGVudHJpZXMiKTtlbHNle2Zvcih2YXIgbz1uZXcgQXJyYXksdT1uZXcgQXJyYXksZj1uZXcgQXJyYXksbD1uZXcgQXJyYXksaD1uZXcgQXJyYXksYz0wLGQ9e30scD12b2lkIDAsZz12b2lkIDAsXz0wO188bi5sZW5ndGg7Xys9Myl7Zz1bbltfXSxuW18rMV0sbltfKzJdXSxoPW5ldyBBcnJheTtmb3IodmFyIHY9MDt2PDM7disrKXtoW3ZdPSIiO2Zvcih2YXIgeT0wO3k8Mzt5KyspTWF0aC5hYnMoYVszKmdbdl0reV0pPDFlLTgmJihhWzMqZ1t2XSt5XT0wKSxoW3ZdKz1hWzMqZ1t2XSt5XSsifCJ9aWYoIShoWzBdPT1oWzFdfHxoWzBdPT1oWzJdfHxoWzFdPT1oWzJdKSlmb3IodmFyIHY9MDt2PDM7disrKXtpZihwPWRbaFt2XV0scD09PXZvaWQgMCl7ZFtoW3ZdXT1jLHA9YysrO2Zvcih2YXIgeT0wO3k8Mzt5Kyspby5wdXNoKGFbMypnW3ZdK3ldKTtpZihzIT1udWxsKWZvcih2YXIgeT0wO3k8NDt5KyspbC5wdXNoKHNbNCpnW3ZdK3ldKTtpZihyIT1udWxsKWZvcih2YXIgeT0wO3k8Mjt5KyspZi5wdXNoKHJbMipnW3ZdK3ldKX11LnB1c2gocCl9fXZhciBFPW5ldyBBcnJheTtnZS5Db21wdXRlTm9ybWFscyhvLHUsRSksdC5wb3NpdGlvbnM9byx0LmluZGljZXM9dSx0Lm5vcm1hbHM9RSxyIT1udWxsJiYodC51dnM9ZikscyE9bnVsbCYmKHQuY29sb3JzPWwpLHQuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uUG9zaXRpb25LaW5kKSl9fSxlLl9pbnN0YW5jZWRNZXNoRmFjdG9yeT1mdW5jdGlvbih0LHIpe3Rocm93IFgoIkluc3RhbmNlZE1lc2giKX0sZS5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBYKCJQaHlzaWNzSW1wb3N0b3IiKX0sZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuX2luc3RhbmNlZE1lc2hGYWN0b3J5KHQsdGhpcyl9LGUucHJvdG90eXBlLnN5bmNocm9uaXplSW5zdGFuY2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmluc3RhbmNlcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmluc3RhbmNlc1t0XTtyLl9zeW5jU3ViTWVzaGVzKCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm9wdGltaXplSW5kaWNlcz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dGhpcy5nZXRJbmRpY2VzKCksYT10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCk7aWYoIWF8fCFuKXJldHVybiB0aGlzO2Zvcih2YXIgcz1uZXcgQXJyYXksbz0wO288YS5sZW5ndGg7bz1vKzMpcy5wdXNoKGIuRnJvbUFycmF5KGEsbykpO3ZhciB1PW5ldyBBcnJheTtyZXR1cm4gUW4uU3luY0FzeW5jRm9yTG9vcChzLmxlbmd0aCw0MCxmdW5jdGlvbihmKXtmb3IodmFyIGw9cy5sZW5ndGgtMS1mLGg9c1tsXSxjPTA7YzxsOysrYyl7dmFyIGQ9c1tjXTtpZihoLmVxdWFscyhkKSl7dVtsXT1jO2JyZWFrfX19LGZ1bmN0aW9uKCl7Zm9yKHZhciBmPTA7ZjxuLmxlbmd0aDsrK2YpbltmXT11W25bZl1dfHxuW2ZdO3ZhciBsPXIuc3ViTWVzaGVzLnNsaWNlKDApO3Iuc2V0SW5kaWNlcyhuKSxyLnN1Yk1lc2hlcz1sLHQmJnQocil9KSx0aGlzfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24odCl7dC5uYW1lPXRoaXMubmFtZSx0LmlkPXRoaXMuaWQsdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHQudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLGNlJiZjZS5IYXNUYWdzKHRoaXMpJiYodC50YWdzPWNlLkdldFRhZ3ModGhpcykpLHQucG9zaXRpb249dGhpcy5wb3NpdGlvbi5hc0FycmF5KCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dC5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uYXNBcnJheSgpOnRoaXMucm90YXRpb24mJih0LnJvdGF0aW9uPXRoaXMucm90YXRpb24uYXNBcnJheSgpKSx0LnNjYWxpbmc9dGhpcy5zY2FsaW5nLmFzQXJyYXkoKSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD90LnBpdm90TWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCk6dC5sb2NhbE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpLHQuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCExKSx0LmlzVmlzaWJsZT10aGlzLmlzVmlzaWJsZSx0LmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLHQucGlja2FibGU9dGhpcy5pc1BpY2thYmxlLHQucmVjZWl2ZVNoYWRvd3M9dGhpcy5yZWNlaXZlU2hhZG93cyx0LmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLHQudmlzaWJpbGl0eT10aGlzLnZpc2liaWxpdHksdC5jaGVja0NvbGxpc2lvbnM9dGhpcy5jaGVja0NvbGxpc2lvbnMsdC5pc0Jsb2NrZXI9dGhpcy5pc0Jsb2NrZXIsdC5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0aGlzLnBhcmVudCYmKHQucGFyZW50SWQ9dGhpcy5wYXJlbnQudW5pcXVlSWQpLHQuaXNVbkluZGV4ZWQ9dGhpcy5pc1VuSW5kZXhlZDt2YXIgcj10aGlzLl9nZW9tZXRyeTtpZihyJiZ0aGlzLnN1Yk1lc2hlcyl7dC5nZW9tZXRyeVVuaXF1ZUlkPXIudW5pcXVlSWQsdC5nZW9tZXRyeUlkPXIuaWQsdC5zdWJNZXNoZXM9W107Zm9yKHZhciBuPTA7bjx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7bisrKXt2YXIgYT10aGlzLnN1Yk1lc2hlc1tuXTt0LnN1Yk1lc2hlcy5wdXNoKHttYXRlcmlhbEluZGV4OmEubWF0ZXJpYWxJbmRleCx2ZXJ0aWNlc1N0YXJ0OmEudmVydGljZXNTdGFydCx2ZXJ0aWNlc0NvdW50OmEudmVydGljZXNDb3VudCxpbmRleFN0YXJ0OmEuaW5kZXhTdGFydCxpbmRleENvdW50OmEuaW5kZXhDb3VudH0pfX1pZih0aGlzLm1hdGVyaWFsP3RoaXMubWF0ZXJpYWwuZG9Ob3RTZXJpYWxpemV8fCh0Lm1hdGVyaWFsVW5pcXVlSWQ9dGhpcy5tYXRlcmlhbC51bmlxdWVJZCx0Lm1hdGVyaWFsSWQ9dGhpcy5tYXRlcmlhbC5pZCk6KHRoaXMubWF0ZXJpYWw9bnVsbCx0Lm1hdGVyaWFsVW5pcXVlSWQ9dGhpcy5fc2NlbmUuZGVmYXVsdE1hdGVyaWFsLnVuaXF1ZUlkLHQubWF0ZXJpYWxJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwuaWQpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiYodC5tb3JwaFRhcmdldE1hbmFnZXJJZD10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci51bmlxdWVJZCksdGhpcy5za2VsZXRvbiYmKHQuc2tlbGV0b25JZD10aGlzLnNrZWxldG9uLmlkLHQubnVtQm9uZUluZmx1ZW5jZXJzPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzKSx0aGlzLmdldFNjZW5lKCkuX2dldENvbXBvbmVudChCdC5OQU1FX1BIWVNJQ1NFTkdJTkUpKXt2YXIgcz10aGlzLmdldFBoeXNpY3NJbXBvc3RvcigpO3MmJih0LnBoeXNpY3NNYXNzPXMuZ2V0UGFyYW0oIm1hc3MiKSx0LnBoeXNpY3NGcmljdGlvbj1zLmdldFBhcmFtKCJmcmljdGlvbiIpLHQucGh5c2ljc1Jlc3RpdHV0aW9uPXMuZ2V0UGFyYW0oIm1hc3MiKSx0LnBoeXNpY3NJbXBvc3Rvcj1zLnR5cGUpfXRoaXMubWV0YWRhdGEmJih0Lm1ldGFkYXRhPXRoaXMubWV0YWRhdGEpLHQuaW5zdGFuY2VzPVtdO2Zvcih2YXIgbz0wO288dGhpcy5pbnN0YW5jZXMubGVuZ3RoO28rKyl7dmFyIHU9dGhpcy5pbnN0YW5jZXNbb107aWYoIXUuZG9Ob3RTZXJpYWxpemUpe3ZhciBmPXtuYW1lOnUubmFtZSxpZDp1LmlkLGlzRW5hYmxlZDp1LmlzRW5hYmxlZCghMSksaXNWaXNpYmxlOnUuaXNWaXNpYmxlLGlzUGlja2FibGU6dS5pc1BpY2thYmxlLGNoZWNrQ29sbGlzaW9uczp1LmNoZWNrQ29sbGlzaW9ucyxwb3NpdGlvbjp1LnBvc2l0aW9uLmFzQXJyYXkoKSxzY2FsaW5nOnUuc2NhbGluZy5hc0FycmF5KCl9O2lmKHUucGFyZW50JiYoZi5wYXJlbnRJZD11LnBhcmVudC51bmlxdWVJZCksdS5yb3RhdGlvblF1YXRlcm5pb24/Zi5yb3RhdGlvblF1YXRlcm5pb249dS5yb3RhdGlvblF1YXRlcm5pb24uYXNBcnJheSgpOnUucm90YXRpb24mJihmLnJvdGF0aW9uPXUucm90YXRpb24uYXNBcnJheSgpKSx0aGlzLmdldFNjZW5lKCkuX2dldENvbXBvbmVudChCdC5OQU1FX1BIWVNJQ1NFTkdJTkUpKXt2YXIgcz11LmdldFBoeXNpY3NJbXBvc3RvcigpO3MmJihmLnBoeXNpY3NNYXNzPXMuZ2V0UGFyYW0oIm1hc3MiKSxmLnBoeXNpY3NGcmljdGlvbj1zLmdldFBhcmFtKCJmcmljdGlvbiIpLGYucGh5c2ljc1Jlc3RpdHV0aW9uPXMuZ2V0UGFyYW0oIm1hc3MiKSxmLnBoeXNpY3NJbXBvc3Rvcj1zLnR5cGUpfXUubWV0YWRhdGEmJihmLm1ldGFkYXRhPXUubWV0YWRhdGEpLHQuaW5zdGFuY2VzLnB1c2goZiksSi5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh1LGYpLGYucmFuZ2VzPXUuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCl9fWlmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50JiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodC50aGluSW5zdGFuY2VzPXtpbnN0YW5jZXNDb3VudDp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCxtYXRyaXhEYXRhOkFycmF5LmZyb20odGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSksbWF0cml4QnVmZmVyU2l6ZTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplLGVuYWJsZVBpY2tpbmc6dGhpcy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nfSx0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UpKXt2YXIgbD17ZGF0YTp7fSxzaXplczp7fSxzdHJpZGVzOnt9fTtmb3IodmFyIGggaW4gdGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGEpbC5kYXRhW2hdPUFycmF5LmZyb20odGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGFbaF0pLGwuc2l6ZXNbaF09dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnNpemVzW2hdLGwuc3RyaWRlc1toXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1toXTt0LnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZT1sfUouQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0LnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLHQubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLHQuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsdC5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLHQub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLHQub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSx0LnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LHQuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJih0LmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKX0sZS5wcm90b3R5cGUuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXI9ZnVuY3Rpb24oKXtpZighIXRoaXMuZ2VvbWV0cnkpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcjtpZih0JiZ0LnZlcnRleENvdW50KXtpZih0LnZlcnRleENvdW50IT09dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkpe2suRXJyb3IoIk1lc2ggaXMgaW5jb21wYXRpYmxlIHdpdGggbW9ycGggdGFyZ2V0cy4gVGFyZ2V0cyBhbmQgbWVzaCBtdXN0IGFsbCBoYXZlIHRoZSBzYW1lIHZlcnRpY2VzIGNvdW50LiIpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGw7cmV0dXJufWlmKHQuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtmb3IodmFyIHI9MDtyPHQubnVtSW5mbHVlbmNlcnM7cisrKXt2YXIgbj10LmdldEFjdGl2ZVRhcmdldChyKSxhPW4uZ2V0UG9zaXRpb25zKCk7aWYoIWEpe2suRXJyb3IoIkludmFsaWQgbW9ycGggdGFyZ2V0LiBUYXJnZXQgbXVzdCBoYXZlIHBvc2l0aW9ucy4iKTtyZXR1cm59dGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQrcixhLCExLDMpO3ZhciBzPW4uZ2V0Tm9ybWFscygpO3MmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCtyLHMsITEsMyk7dmFyIG89bi5nZXRUYW5nZW50cygpO28mJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQrcixvLCExLDMpO3ZhciB1PW4uZ2V0VVZzKCk7dSYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQrIl8iK3IsdSwhMSwyKX19ZWxzZSBmb3IodmFyIHI9MDt0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChtLlBvc2l0aW9uS2luZCtyKTspdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kK3IpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5UYW5nZW50S2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCtyKSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWS2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5VVktpbmQrIl8iK3IpLHIrK319LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3ZhciBhO2lmKHQudHlwZSYmdC50eXBlPT09IkxpbmVzTWVzaCI/YT1lLl9MaW5lc01lc2hQYXJzZXIodCxyKTp0LnR5cGUmJnQudHlwZT09PSJHcm91bmRNZXNoIj9hPWUuX0dyb3VuZE1lc2hQYXJzZXIodCxyKTp0LnR5cGUmJnQudHlwZT09PSJHb2xkYmVyZ01lc2giP2E9ZS5fR29sZGJlcmdNZXNoUGFyc2VyKHQscik6YT1uZXcgZSh0Lm5hbWUsciksYS5pZD10LmlkLGNlJiZjZS5BZGRUYWdzVG8oYSx0LnRhZ3MpLGEucG9zaXRpb249Yi5Gcm9tQXJyYXkodC5wb3NpdGlvbiksdC5tZXRhZGF0YSE9PXZvaWQgMCYmKGEubWV0YWRhdGE9dC5tZXRhZGF0YSksdC5yb3RhdGlvblF1YXRlcm5pb24/YS5yb3RhdGlvblF1YXRlcm5pb249aWUuRnJvbUFycmF5KHQucm90YXRpb25RdWF0ZXJuaW9uKTp0LnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1iLkZyb21BcnJheSh0LnJvdGF0aW9uKSksYS5zY2FsaW5nPWIuRnJvbUFycmF5KHQuc2NhbGluZyksdC5sb2NhbE1hdHJpeD9hLnNldFByZVRyYW5zZm9ybU1hdHJpeChJLkZyb21BcnJheSh0LmxvY2FsTWF0cml4KSk6dC5waXZvdE1hdHJpeCYmYS5zZXRQaXZvdE1hdHJpeChJLkZyb21BcnJheSh0LnBpdm90TWF0cml4KSksYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxhLmlzVmlzaWJsZT10LmlzVmlzaWJsZSxhLmluZmluaXRlRGlzdGFuY2U9dC5pbmZpbml0ZURpc3RhbmNlLGEuc2hvd0JvdW5kaW5nQm94PXQuc2hvd0JvdW5kaW5nQm94LGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PXQuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94LHQuYXBwbHlGb2chPT12b2lkIDAmJihhLmFwcGx5Rm9nPXQuYXBwbHlGb2cpLHQucGlja2FibGUhPT12b2lkIDAmJihhLmlzUGlja2FibGU9dC5waWNrYWJsZSksdC5hbHBoYUluZGV4IT09dm9pZCAwJiYoYS5hbHBoYUluZGV4PXQuYWxwaGFJbmRleCksYS5yZWNlaXZlU2hhZG93cz10LnJlY2VpdmVTaGFkb3dzLGEuYmlsbGJvYXJkTW9kZT10LmJpbGxib2FyZE1vZGUsdC52aXNpYmlsaXR5IT09dm9pZCAwJiYoYS52aXNpYmlsaXR5PXQudmlzaWJpbGl0eSksYS5jaGVja0NvbGxpc2lvbnM9dC5jaGVja0NvbGxpc2lvbnMsYS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPXQub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0LmlzQmxvY2tlciE9PXZvaWQgMCYmKGEuaXNCbG9ja2VyPXQuaXNCbG9ja2VyKSxhLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPXQudXNlRmxhdFNoYWRpbmcsdC5mcmVlemVXb3JsZE1hdHJpeCYmKGEuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PXQuZnJlZXplV29ybGRNYXRyaXgpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksdC5hY3Rpb25zIT09dm9pZCAwJiYoYS5fd2FpdGluZ0RhdGEuYWN0aW9ucz10LmFjdGlvbnMpLHQub3ZlcmxheUFscGhhIT09dm9pZCAwJiYoYS5vdmVybGF5QWxwaGE9dC5vdmVybGF5QWxwaGEpLHQub3ZlcmxheUNvbG9yIT09dm9pZCAwJiYoYS5vdmVybGF5Q29sb3I9YmUuRnJvbUFycmF5KHQub3ZlcmxheUNvbG9yKSksdC5yZW5kZXJPdmVybGF5IT09dm9pZCAwJiYoYS5yZW5kZXJPdmVybGF5PXQucmVuZGVyT3ZlcmxheSksYS5pc1VuSW5kZXhlZD0hIXQuaXNVbkluZGV4ZWQsYS5oYXNWZXJ0ZXhBbHBoYT10Lmhhc1ZlcnRleEFscGhhLHQuZGVsYXlMb2FkaW5nRmlsZT8oYS5kZWxheUxvYWRTdGF0ZT00LGEuZGVsYXlMb2FkaW5nRmlsZT1uK3QuZGVsYXlMb2FkaW5nRmlsZSxhLmJ1aWxkQm91bmRpbmdJbmZvKGIuRnJvbUFycmF5KHQuYm91bmRpbmdCb3hNaW5pbXVtKSxiLkZyb21BcnJheSh0LmJvdW5kaW5nQm94TWF4aW11bSkpLHQuX2JpbmFyeUluZm8mJihhLl9iaW5hcnlJbmZvPXQuX2JpbmFyeUluZm8pLGEuX2RlbGF5SW5mbz1bXSx0Lmhhc1VWcyYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVktpbmQpLHQuaGFzVVZzMiYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVjJLaW5kKSx0Lmhhc1VWczMmJmEuX2RlbGF5SW5mby5wdXNoKG0uVVYzS2luZCksdC5oYXNVVnM0JiZhLl9kZWxheUluZm8ucHVzaChtLlVWNEtpbmQpLHQuaGFzVVZzNSYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVjVLaW5kKSx0Lmhhc1VWczYmJmEuX2RlbGF5SW5mby5wdXNoKG0uVVY2S2luZCksdC5oYXNDb2xvcnMmJmEuX2RlbGF5SW5mby5wdXNoKG0uQ29sb3JLaW5kKSx0Lmhhc01hdHJpY2VzSW5kaWNlcyYmYS5fZGVsYXlJbmZvLnB1c2gobS5NYXRyaWNlc0luZGljZXNLaW5kKSx0Lmhhc01hdHJpY2VzV2VpZ2h0cyYmYS5fZGVsYXlJbmZvLnB1c2gobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxhLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1NdC5fSW1wb3J0R2VvbWV0cnksbnQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwmJmEuX2NoZWNrRGVsYXlTdGF0ZSgpKTpNdC5fSW1wb3J0R2VvbWV0cnkodCxhKSx0Lm1hdGVyaWFsVW5pcXVlSWQ/YS5fd2FpdGluZ01hdGVyaWFsSWQ9dC5tYXRlcmlhbFVuaXF1ZUlkOnQubWF0ZXJpYWxJZCYmKGEuX3dhaXRpbmdNYXRlcmlhbElkPXQubWF0ZXJpYWxJZCksdC5tb3JwaFRhcmdldE1hbmFnZXJJZD4tMSYmKGEubW9ycGhUYXJnZXRNYW5hZ2VyPXIuZ2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZCh0Lm1vcnBoVGFyZ2V0TWFuYWdlcklkKSksdC5za2VsZXRvbklkIT09dm9pZCAwJiZ0LnNrZWxldG9uSWQhPT1udWxsJiYoYS5za2VsZXRvbj1yLmdldExhc3RTa2VsZXRvbkJ5SWQodC5za2VsZXRvbklkKSx0Lm51bUJvbmVJbmZsdWVuY2VycyYmKGEubnVtQm9uZUluZmx1ZW5jZXJzPXQubnVtQm9uZUluZmx1ZW5jZXJzKSksdC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPHQuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz10LmFuaW1hdGlvbnNbc10sdT1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZhLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX0kZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLHQscil9aWYodC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihhLHQuYXV0b0FuaW1hdGVGcm9tLHQuYXV0b0FuaW1hdGVUbyx0LmF1dG9BbmltYXRlTG9vcCx0LmF1dG9BbmltYXRlU3BlZWR8fDEpLHQubGF5ZXJNYXNrJiYhaXNOYU4odC5sYXllck1hc2spP2EubGF5ZXJNYXNrPU1hdGguYWJzKHBhcnNlSW50KHQubGF5ZXJNYXNrKSk6YS5sYXllck1hc2s9MjY4NDM1NDU1LHQucGh5c2ljc0ltcG9zdG9yJiZlLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXIocixhLHQpLHQubG9kTWVzaElkcyYmKGEuX3dhaXRpbmdEYXRhLmxvZHM9e2lkczp0LmxvZE1lc2hJZHMsZGlzdGFuY2VzOnQubG9kRGlzdGFuY2VzP3QubG9kRGlzdGFuY2VzOm51bGwsY292ZXJhZ2VzOnQubG9kQ292ZXJhZ2VzP3QubG9kQ292ZXJhZ2VzOm51bGx9KSx0Lmluc3RhbmNlcylmb3IodmFyIGY9MDtmPHQuaW5zdGFuY2VzLmxlbmd0aDtmKyspe3ZhciBsPXQuaW5zdGFuY2VzW2ZdLGg9YS5jcmVhdGVJbnN0YW5jZShsLm5hbWUpO2lmKGwuaWQmJihoLmlkPWwuaWQpLGNlJiYobC50YWdzP2NlLkFkZFRhZ3NUbyhoLGwudGFncyk6Y2UuQWRkVGFnc1RvKGgsdC50YWdzKSksaC5wb3NpdGlvbj1iLkZyb21BcnJheShsLnBvc2l0aW9uKSxsLm1ldGFkYXRhIT09dm9pZCAwJiYoaC5tZXRhZGF0YT1sLm1ldGFkYXRhKSxsLnBhcmVudElkIT09dm9pZCAwJiYoaC5fd2FpdGluZ1BhcmVudElkPWwucGFyZW50SWQpLGwuaXNFbmFibGVkIT09dm9pZCAwJiZsLmlzRW5hYmxlZCE9PW51bGwmJmguc2V0RW5hYmxlZChsLmlzRW5hYmxlZCksbC5pc1Zpc2libGUhPT12b2lkIDAmJmwuaXNWaXNpYmxlIT09bnVsbCYmKGguaXNWaXNpYmxlPWwuaXNWaXNpYmxlKSxsLmlzUGlja2FibGUhPT12b2lkIDAmJmwuaXNQaWNrYWJsZSE9PW51bGwmJihoLmlzUGlja2FibGU9bC5pc1BpY2thYmxlKSxsLnJvdGF0aW9uUXVhdGVybmlvbj9oLnJvdGF0aW9uUXVhdGVybmlvbj1pZS5Gcm9tQXJyYXkobC5yb3RhdGlvblF1YXRlcm5pb24pOmwucm90YXRpb24mJihoLnJvdGF0aW9uPWIuRnJvbUFycmF5KGwucm90YXRpb24pKSxoLnNjYWxpbmc9Yi5Gcm9tQXJyYXkobC5zY2FsaW5nKSxsLmNoZWNrQ29sbGlzaW9ucyE9bnVsbCYmbC5jaGVja0NvbGxpc2lvbnMhPW51bGwmJihoLmNoZWNrQ29sbGlzaW9ucz1sLmNoZWNrQ29sbGlzaW9ucyksbC5waWNrYWJsZSE9bnVsbCYmbC5waWNrYWJsZSE9bnVsbCYmKGguaXNQaWNrYWJsZT1sLnBpY2thYmxlKSxsLnNob3dCb3VuZGluZ0JveCE9bnVsbCYmbC5zaG93Qm91bmRpbmdCb3ghPW51bGwmJihoLnNob3dCb3VuZGluZ0JveD1sLnNob3dCb3VuZGluZ0JveCksbC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJmwuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoaC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9bC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gpLGwuYWxwaGFJbmRleCE9bnVsbCYmbC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJihoLmFscGhhSW5kZXg9bC5hbHBoYUluZGV4KSxsLnBoeXNpY3NJbXBvc3RvciYmZS5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHIsaCxsKSxsLmFuaW1hdGlvbnMpe2Zvcih2YXIgcz0wO3M8bC5hbmltYXRpb25zLmxlbmd0aDtzKyspe3ZhciBvPWwuYW5pbWF0aW9uc1tzXSx1PVJ0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO3UmJmguYW5pbWF0aW9ucy5wdXNoKHUuUGFyc2UobykpfSRlLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKGgsbCxyKSxsLmF1dG9BbmltYXRlJiZyLmJlZ2luQW5pbWF0aW9uKGgsbC5hdXRvQW5pbWF0ZUZyb20sbC5hdXRvQW5pbWF0ZVRvLGwuYXV0b0FuaW1hdGVMb29wLGwuYXV0b0FuaW1hdGVTcGVlZHx8MSl9fWlmKHQudGhpbkluc3RhbmNlcyl7dmFyIGM9dC50aGluSW5zdGFuY2VzO2lmKGEudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZz0hIWMuZW5hYmxlUGlja2luZyxjLm1hdHJpeERhdGE/KGEudGhpbkluc3RhbmNlU2V0QnVmZmVyKCJtYXRyaXgiLG5ldyBGbG9hdDMyQXJyYXkoYy5tYXRyaXhEYXRhKSwxNiwhMSksYS5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZT1jLm1hdHJpeEJ1ZmZlclNpemUsYS5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQ9Yy5pbnN0YW5jZXNDb3VudCk6YS5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZT1jLm1hdHJpeEJ1ZmZlclNpemUsdC50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2Upe3ZhciBkPXQudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlO2Zvcih2YXIgcCBpbiBkLmRhdGEpYS50aGluSW5zdGFuY2VTZXRCdWZmZXIocCxuZXcgRmxvYXQzMkFycmF5KGQuZGF0YVtwXSksZC5zdHJpZGVzW3BdLCExKSxhLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbcF09ZC5zaXplc1twXX19cmV0dXJuIGF9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIXQuX3NvdXJjZVBvc2l0aW9ucyl7dmFyIHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO2lmKCFyKXJldHVybiB0Ll9zb3VyY2VQb3NpdGlvbnM7dC5fc291cmNlUG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkociksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlBvc2l0aW9uS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHIsITApfXJldHVybiB0Ll9zb3VyY2VQb3NpdGlvbnN9LGUucHJvdG90eXBlLnNldE5vcm1hbHNGb3JDUFVTa2lubmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCF0Ll9zb3VyY2VOb3JtYWxzKXt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpO2lmKCFyKXJldHVybiB0Ll9zb3VyY2VOb3JtYWxzO3QuX3NvdXJjZU5vcm1hbHM9bmV3IEZsb2F0MzJBcnJheShyKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uTm9ybWFsS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxyLCEwKX1yZXR1cm4gdC5fc291cmNlTm9ybWFsc30sZS5wcm90b3R5cGUuYXBwbHlTa2VsZXRvbj1mdW5jdGlvbih0KXtpZighdGhpcy5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLmdlb21ldHJ5Ll9zb2Z0d2FyZVNraW5uaW5nRnJhbWVJZD09dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSlyZXR1cm4gdGhpcztpZih0aGlzLmdlb21ldHJ5Ll9zb2Z0d2FyZVNraW5uaW5nRnJhbWVJZD10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpLCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCkpcmV0dXJuIHRoaXM7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzS2luZCkpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSxuPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFuLl9zb3VyY2VQb3NpdGlvbnMpe3ZhciBhPXRoaXMuc3ViTWVzaGVzLnNsaWNlKCk7dGhpcy5zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpLHRoaXMuc3ViTWVzaGVzPWF9ciYmIW4uX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCk7dmFyIHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO2lmKCFzKXJldHVybiB0aGlzO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChzPW5ldyBGbG9hdDMyQXJyYXkocykpO3ZhciBvPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCk7aWYocil7aWYoIW8pcmV0dXJuIHRoaXM7byBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KG89bmV3IEZsb2F0MzJBcnJheShvKSl9dmFyIHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kKSxmPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCk7aWYoIWZ8fCF1KXJldHVybiB0aGlzO2Zvcih2YXIgbD10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LGg9bD90aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxjPWw/dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsZD10LmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLHA9Yi5aZXJvKCksZz1uZXcgSSxfPW5ldyBJLHY9MCx5LEU9MDtFPHMubGVuZ3RoO0UrPTMsdis9NCl7dmFyIFI9dm9pZCAwO2Zvcih5PTA7eTw0O3krKylSPWZbdit5XSxSPjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChkLE1hdGguZmxvb3IodVt2K3ldKjE2KSxSLF8pLGcuYWRkVG9TZWxmKF8pKTtpZihsKWZvcih5PTA7eTw0O3krKylSPWNbdit5XSxSPjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChkLE1hdGguZmxvb3IoaFt2K3ldKjE2KSxSLF8pLGcuYWRkVG9TZWxmKF8pKTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKG4uX3NvdXJjZVBvc2l0aW9uc1tFXSxuLl9zb3VyY2VQb3NpdGlvbnNbRSsxXSxuLl9zb3VyY2VQb3NpdGlvbnNbRSsyXSxnLHApLHAudG9BcnJheShzLEUpLHImJihiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihuLl9zb3VyY2VOb3JtYWxzW0VdLG4uX3NvdXJjZU5vcm1hbHNbRSsxXSxuLl9zb3VyY2VOb3JtYWxzW0UrMl0sZyxwKSxwLnRvQXJyYXkobyxFKSksZy5yZXNldCgpfXJldHVybiB0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxzKSxyJiZ0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsbyksdGhpc30sZS5NaW5NYXg9ZnVuY3Rpb24odCl7dmFyIHI9bnVsbCxuPW51bGw7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgcz1hLmdldEJvdW5kaW5nSW5mbygpLG89cy5ib3VuZGluZ0JveDshcnx8IW4/KHI9by5taW5pbXVtV29ybGQsbj1vLm1heGltdW1Xb3JsZCk6KHIubWluaW1pemVJblBsYWNlKG8ubWluaW11bVdvcmxkKSxuLm1heGltaXplSW5QbGFjZShvLm1heGltdW1Xb3JsZCkpfSksIXJ8fCFuP3ttaW46Yi5aZXJvKCksbWF4OmIuWmVybygpfTp7bWluOnIsbWF4Om59fSxlLkNlbnRlcj1mdW5jdGlvbih0KXt2YXIgcj10IGluc3RhbmNlb2YgQXJyYXk/ZS5NaW5NYXgodCk6dDtyZXR1cm4gYi5DZW50ZXIoci5taW4sci5tYXgpfSxlLk1lcmdlTWVzaGVzPWZ1bmN0aW9uKHQscixuLGEscyxvKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITApLFFyKGUuX01lcmdlTWVzaGVzQ29yb3V0aW5lKHQscixuLGEscyxvLCExKSl9LGUuTWVyZ2VNZXNoZXNBc3luYz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSxfYShlLl9NZXJnZU1lc2hlc0Nvcm91dGluZSh0LHIsbixhLHMsbywhMCkscGEoKSl9LGUuX01lcmdlTWVzaGVzQ29yb3V0aW5lPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe3ZhciBmLGwsaCxjLGQscCxnLF8sdixqLGosaix5LEUsUixNLEMsQSxTLHcsRix4LEcsVyxOLHEsJCxvZSxaLGo7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSxGdCh0aGlzLGZ1bmN0aW9uKHVlKXtzd2l0Y2godWUubGFiZWwpe2Nhc2UgMDppZih0PXQuZmlsdGVyKEJvb2xlYW4pLHQubGVuZ3RoPT09MClyZXR1cm5bMixudWxsXTtpZighbil7Zm9yKGw9MCxmPTA7Zjx0Lmxlbmd0aDtmKyspaWYobCs9dFtmXS5nZXRUb3RhbFZlcnRpY2VzKCksbD49NjU1MzYpcmV0dXJuIGsuV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyBiZWNhdXNlIHJlc3VsdGluZyBtZXNoIHdpbGwgaGF2ZSBtb3JlIHRoYW4gNjU1MzYgdmVydGljZXMuIFBsZWFzZSB1c2UgYWxsb3czMkJpdHNJbmRpY2VzID0gdHJ1ZSB0byB1c2UgMzIgYml0cyBpbmRpY2VzIiksWzIsbnVsbF19Zm9yKG8mJihzPSExKSxoPW5ldyBBcnJheSxjPW5ldyBBcnJheSxkPW5ldyBBcnJheSxwPXRbMF0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixmPTA7Zjx0Lmxlbmd0aDtmKyspe2lmKGc9dFtmXSxnLmlzQW5JbnN0YW5jZSlyZXR1cm4gay5XYXJuKCJDYW5ub3QgbWVyZ2UgaW5zdGFuY2UgbWVzaGVzLiIpLFsyLG51bGxdO2lmKHAhPT1nLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pcmV0dXJuIGsuV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyB3aXRoIGRpZmZlcmVudCBvdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIHZhbHVlcy4iKSxbMixudWxsXTtpZihzJiZkLnB1c2goZy5nZXRUb3RhbEluZGljZXMoKSksbylpZihnLm1hdGVyaWFsKWlmKF89Zy5tYXRlcmlhbCxfIGluc3RhbmNlb2Ygcmkpe2Zvcih2PTA7djxfLnN1Yk1hdGVyaWFscy5sZW5ndGg7disrKWguaW5kZXhPZihfLnN1Yk1hdGVyaWFsc1t2XSk8MCYmaC5wdXNoKF8uc3ViTWF0ZXJpYWxzW3ZdKTtmb3Ioaj0wO2o8Zy5zdWJNZXNoZXMubGVuZ3RoO2orKyljLnB1c2goaC5pbmRleE9mKF8uc3ViTWF0ZXJpYWxzW2cuc3ViTWVzaGVzW2pdLm1hdGVyaWFsSW5kZXhdKSksZC5wdXNoKGcuc3ViTWVzaGVzW2pdLmluZGV4Q291bnQpfWVsc2UgZm9yKGguaW5kZXhPZihfKTwwJiZoLnB1c2goXyksaj0wO2o8Zy5zdWJNZXNoZXMubGVuZ3RoO2orKyljLnB1c2goaC5pbmRleE9mKF8pKSxkLnB1c2goZy5zdWJNZXNoZXNbal0uaW5kZXhDb3VudCk7ZWxzZSBmb3Ioaj0wO2o8Zy5zdWJNZXNoZXMubGVuZ3RoO2orKyljLnB1c2goMCksZC5wdXNoKGcuc3ViTWVzaGVzW2pdLmluZGV4Q291bnQpfXJldHVybiB5PXRbMF0sRT1mdW5jdGlvbihQZSl7dmFyIFdlPVBlLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksWmU9Z2UuRXh0cmFjdEZyb21NZXNoKFBlLCExLCExKTtyZXR1cm5bWmUsV2VdfSxSPUUoeSksTT1SWzBdLEM9UlsxXSx1P1s0XTpbMywyXTtjYXNlIDE6dWUuc2VudCgpLHVlLmxhYmVsPTI7Y2FzZSAyOkE9bmV3IEFycmF5KHQubGVuZ3RoLTEpLFM9MSx1ZS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gUzx0Lmxlbmd0aD8oQVtTLTFdPUUodFtTXSksdT9bNF06WzMsNV0pOlszLDZdO2Nhc2UgNDp1ZS5zZW50KCksdWUubGFiZWw9NTtjYXNlIDU6cmV0dXJuIFMrKyxbMywzXTtjYXNlIDY6dz1NLl9tZXJnZUNvcm91dGluZShDLEEsbix1LCFyKSxGPXcubmV4dCgpLHVlLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBGLmRvbmU/WzMsMTBdOnU/WzRdOlszLDldO2Nhc2UgODp1ZS5zZW50KCksdWUubGFiZWw9OTtjYXNlIDk6cmV0dXJuIEY9dy5uZXh0KCksWzMsN107Y2FzZSAxMDp4PUYudmFsdWUsYXx8KGE9bmV3IGUoeS5uYW1lKyJfbWVyZ2VkIix5LmdldFNjZW5lKCkpKSxHPXguX2FwcGx5VG9Db3JvdXRpbmUoYSx2b2lkIDAsdSksVz1HLm5leHQoKSx1ZS5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBXLmRvbmU/WzMsMTRdOnU/WzRdOlszLDEzXTtjYXNlIDEyOnVlLnNlbnQoKSx1ZS5sYWJlbD0xMztjYXNlIDEzOnJldHVybiBXPUcubmV4dCgpLFszLDExXTtjYXNlIDE0OmlmKGEuY2hlY2tDb2xsaXNpb25zPXkuY2hlY2tDb2xsaXNpb25zLGEub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj15Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24scilmb3IoZj0wO2Y8dC5sZW5ndGg7ZisrKXRbZl0uZGlzcG9zZSgpO2lmKHN8fG8pe2ZvcihhLnJlbGVhc2VTdWJNZXNoZXMoKSxmPTAsTj0wO2Y8ZC5sZW5ndGg7KVN0LkNyZWF0ZUZyb21JbmRpY2VzKDAsTixkW2ZdLGEsdm9pZCAwLCExKSxOKz1kW2ZdLGYrKztmb3IocT0wLCQ9YS5zdWJNZXNoZXM7cTwkLmxlbmd0aDtxKyspb2U9JFtxXSxvZS5yZWZyZXNoQm91bmRpbmdJbmZvKCk7YS5jb21wdXRlV29ybGRNYXRyaXgoITApfWlmKG8pe2ZvcihaPW5ldyByaSh5Lm5hbWUrIl9tZXJnZWQiLHkuZ2V0U2NlbmUoKSksWi5zdWJNYXRlcmlhbHM9aCxqPTA7ajxhLnN1Yk1lc2hlcy5sZW5ndGg7aisrKWEuc3ViTWVzaGVzW2pdLm1hdGVyaWFsSW5kZXg9Y1tqXTthLm1hdGVyaWFsPVp9ZWxzZSBhLm1hdGVyaWFsPXkubWF0ZXJpYWw7cmV0dXJuWzIsYV19fSl9LGUucHJvdG90eXBlLmFkZEluc3RhbmNlPWZ1bmN0aW9uKHQpe3QuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10aGlzLmluc3RhbmNlcy5sZW5ndGgsdGhpcy5pbnN0YW5jZXMucHVzaCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlSW5zdGFuY2U9ZnVuY3Rpb24odCl7dmFyIHI9dC5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5O2lmKHIhPS0xKXtpZihyIT09dGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpe3ZhciBuPXRoaXMuaW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VzLmxlbmd0aC0xXTt0aGlzLmluc3RhbmNlc1tyXT1uLG4uX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT1yfXQuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLmluc3RhbmNlcy5wb3AoKX19LGUucHJvdG90eXBlLl9zaG91bGRDb252ZXJ0UkhTPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PUZlLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb259LGUuRlJPTlRTSURFPWdlLkZST05UU0lERSxlLkJBQ0tTSURFPWdlLkJBQ0tTSURFLGUuRE9VQkxFU0lERT1nZS5ET1VCTEVTSURFLGUuREVGQVVMVFNJREU9Z2UuREVGQVVMVFNJREUsZS5OT19DQVA9MCxlLkNBUF9TVEFSVD0xLGUuQ0FQX0VORD0yLGUuQ0FQX0FMTD0zLGUuTk9fRkxJUD0wLGUuRkxJUF9USUxFPTEsZS5ST1RBVEVfVElMRT0yLGUuRkxJUF9ST1c9MyxlLlJPVEFURV9ST1c9NCxlLkZMSVBfTl9ST1RBVEVfVElMRT01LGUuRkxJUF9OX1JPVEFURV9ST1c9NixlLkNFTlRFUj0wLGUuTEVGVD0xLGUuUklHSFQ9MixlLlRPUD0zLGUuQk9UVE9NPTQsZS5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQ9ITEsZS5fR3JvdW5kTWVzaFBhcnNlcj1mdW5jdGlvbih0LHIpe3Rocm93IFgoIkdyb3VuZE1lc2giKX0sZS5fR29sZGJlcmdNZXNoUGFyc2VyPWZ1bmN0aW9uKHQscil7dGhyb3cgWCgiR29sZGJlcmdNZXNoIil9LGUuX0xpbmVzTWVzaFBhcnNlcj1mdW5jdGlvbih0LHIpe3Rocm93IFgoIkxpbmVzTWVzaCIpfSxlfSh0aSk7d2UoIkJBQllMT04uTWVzaCIsUSksUS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLnNldE1hdGVyaWFsQnlJZChpKX0sUS5DcmVhdGVEaXNjPVEuQ3JlYXRlRGlzY3x8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlQm94PVEuQ3JlYXRlQm94fHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVTcGhlcmU9US5DcmVhdGVTcGhlcmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZUN5bGluZGVyPVEuQ3JlYXRlQ3lsaW5kZXJ8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVRvcnVzS25vdD1RLkNyZWF0ZVRvcnVzS25vdHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlVG9ydXM9US5DcmVhdGVUb3J1c3x8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlUGxhbmU9US5DcmVhdGVQbGFuZXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlR3JvdW5kPVEuQ3JlYXRlR3JvdW5kfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVUaWxlZEdyb3VuZD1RLkNyZWF0ZVRpbGVkR3JvdW5kfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwPVEuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlVHViZT1RLkNyZWF0ZVR1YmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVBvbHloZWRyb249US5DcmVhdGVQb2x5aGVkcm9ufHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVJY29TcGhlcmU9US5DcmVhdGVJY29TcGhlcmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZURlY2FsPVEuQ3JlYXRlRGVjYWx8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZUNhcHN1bGU9US5DcmVhdGVDYXBzdWxlfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5FeHRlbmRUb0dvbGRiZXJnPVEuRXh0ZW5kVG9Hb2xkYmVyZ3x8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9O3ZhciBjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7ZT09PXZvaWQgMCYmKGU9MCksdGhpcy5wcmlvcml0eT1lfXJldHVybiBpLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiIifSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiEwfSxpfSgpLGlpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0xMDI0KSxuPT09dm9pZCAwJiYobj0uNSk7dmFyIGE9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGEucHJpb3JpdHk9dCxhLm1heGltdW1TaXplPXIsYS5zdGVwPW4sYX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iUmVkdWNpbmcgcmVuZGVyIHRhcmdldCB0ZXh0dXJlIHNpemUgdG8gIit0aGlzLm1heGltdW1TaXplfSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0hMCxhPTA7YTx0LnRleHR1cmVzLmxlbmd0aDthKyspe3ZhciBzPXQudGV4dHVyZXNbYV07aWYoISghcy5jYW5SZXNjYWxlfHxzLmdldENvbnRleHQpKXt2YXIgbz1zLmdldFNpemUoKSx1PU1hdGgubWF4KG8ud2lkdGgsby5oZWlnaHQpO3U+dGhpcy5tYXhpbXVtU2l6ZSYmKHMuc2NhbGUodGhpcy5zdGVwKSxuPSExKX19cmV0dXJuIG59LGV9KGN0KSxvbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49LjI1KTt2YXIgYT1pLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gYS5wcmlvcml0eT10LGEubWF4aW11bVNjYWxlPXIsYS5zdGVwPW4sYS5fY3VycmVudFNjYWxlPS0xLGEuX2RpcmVjdGlvbk9mZnNldD0xLGF9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlNldHRpbmcgaGFyZHdhcmUgc2NhbGluZyBsZXZlbCB0byAiK3RoaXMuX2N1cnJlbnRTY2FsZX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fY3VycmVudFNjYWxlPT09LTEmJih0aGlzLl9jdXJyZW50U2NhbGU9dC5nZXRFbmdpbmUoKS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLHRoaXMuX2N1cnJlbnRTY2FsZT50aGlzLm1heGltdW1TY2FsZSYmKHRoaXMuX2RpcmVjdGlvbk9mZnNldD0tMSkpLHRoaXMuX2N1cnJlbnRTY2FsZSs9dGhpcy5fZGlyZWN0aW9uT2Zmc2V0KnRoaXMuc3RlcCx0LmdldEVuZ2luZSgpLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsKHRoaXMuX2N1cnJlbnRTY2FsZSksdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PT09MT90aGlzLl9jdXJyZW50U2NhbGU+PXRoaXMubWF4aW11bVNjYWxlOnRoaXMuX2N1cnJlbnRTY2FsZTw9dGhpcy5tYXhpbXVtU2NhbGV9LGV9KGN0KSxuaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgc2hhZG93cyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNoYWRvd3NFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLGFpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBwb3N0LXByb2Nlc3NlcyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnBvc3RQcm9jZXNzZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHNpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBsZW5zIGZsYXJlcyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LmxlbnNGbGFyZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHhhPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbkdldERlc2NyaXB0aW9uP3RoaXMub25HZXREZXNjcmlwdGlvbigpOiJSdW5uaW5nIHVzZXIgZGVmaW5lZCBjYWxsYmFjayJ9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMub25BcHBseT90aGlzLm9uQXBwbHkodCxyKTohMH0sZX0oY3QpLG9pPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBwYXJ0aWNsZXMgb24vb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5wYXJ0aWNsZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHVuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyByZW5kZXIgdGFyZ2V0cyBvZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnJlbmRlclRhcmdldHNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHVpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9jYW5CZU1lcmdlZD1mdW5jdGlvbihyKXtpZighKHIgaW5zdGFuY2VvZiBRKSlyZXR1cm4hMTt2YXIgbj1yO3JldHVybiEobi5pc0Rpc3Bvc2VkKCl8fCFuLmlzVmlzaWJsZXx8IW4uaXNFbmFibGVkKCl8fG4uaW5zdGFuY2VzLmxlbmd0aD4wfHxuLnNrZWxldG9ufHxuLmhhc0xPRExldmVscyl9LHR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVcGRhdGVTZWxlY3Rpb25UcmVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuX1VwZGF0ZVNlbGVjdGlvblRyZWV9LHNldDpmdW5jdGlvbih0KXtlLl9VcGRhdGVTZWxlY3Rpb25UcmVlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iTWVyZ2luZyBzaW1pbGFyIG1lc2hlcyB0b2dldGhlciJ9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9dC5tZXNoZXMuc2xpY2UoMCkscz1hLmxlbmd0aCxvPTA7bzxzO28rKyl7dmFyIHU9bmV3IEFycmF5LGY9YVtvXTtpZighIXRoaXMuX2NhbkJlTWVyZ2VkKGYpKXt1LnB1c2goZik7Zm9yKHZhciBsPW8rMTtsPHM7bCsrKXt2YXIgaD1hW2xdOyF0aGlzLl9jYW5CZU1lcmdlZChoKXx8aC5tYXRlcmlhbD09PWYubWF0ZXJpYWwmJmguY2hlY2tDb2xsaXNpb25zPT09Zi5jaGVja0NvbGxpc2lvbnMmJih1LnB1c2goaCkscy0tLGEuc3BsaWNlKGwsMSksbC0tKX11Lmxlbmd0aDwyfHxRLk1lcmdlTWVzaGVzKHUsdm9pZCAwLCEwKX19dmFyIGM9dDtyZXR1cm4gYy5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSYmKG4hPW51bGw/biYmYy5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpOmUuVXBkYXRlU2VsZWN0aW9uVHJlZSYmYy5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpKSwhMH0sZS5fVXBkYXRlU2VsZWN0aW9uVHJlZT0hMSxlfShjdCksZmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7ZT09PXZvaWQgMCYmKGU9NjApLHQ9PT12b2lkIDAmJih0PTJlMyksdGhpcy50YXJnZXRGcmFtZVJhdGU9ZSx0aGlzLnRyYWNrZXJEdXJhdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucz1uZXcgQXJyYXl9cmV0dXJuIGkucHJvdG90eXBlLmFkZE9wdGltaXphdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpbWl6YXRpb25zLnB1c2goZSksdGhpc30saS5wcm90b3R5cGUuYWRkQ3VzdG9tT3B0aW1pemF0aW9uPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0wKTt2YXIgbj1uZXcgeGEocik7cmV0dXJuIG4ub25BcHBseT1lLG4ub25HZXREZXNjcmlwdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKG4pLHRoaXN9LGkuTG93RGVncmFkYXRpb25BbGxvd2VkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGUpLHI9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IHVpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgbmkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBzaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBhaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IG9pKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGlpKHIsMTAyNCkpLHR9LGkuTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoZSkscj0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgdWkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBuaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IHNpKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGFpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgb2kocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgaWkociw1MTIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHVuKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IG9uKHIsMikpLHR9LGkuSGlnaERlZ3JhZGF0aW9uQWxsb3dlZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaShlKSxyPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyB1aShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IG5pKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgc2kocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgYWkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBvaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBpaShyLDI1NikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgdW4ocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgb24ociw0KSksdH0saX0oKSxEYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPSExKTt2YXIgYT10aGlzO2lmKHRoaXMuX2lzUnVubmluZz0hMSx0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wLHRoaXMuX3RhcmdldEZyYW1lUmF0ZT02MCx0aGlzLl90cmFja2VyRHVyYXRpb249MmUzLHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9MCx0aGlzLl9pbXByb3ZlbWVudE1vZGU9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGU9bmV3IE8sdD90aGlzLl9vcHRpb25zPXQ6dGhpcy5fb3B0aW9ucz1uZXcgZmksdGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUmJih0aGlzLl90YXJnZXRGcmFtZVJhdGU9dGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUpLHRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uJiYodGhpcy5fdHJhY2tlckR1cmF0aW9uPXRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uKSxyKWZvcih2YXIgcz0wLG89MCx1PXRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9ucztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLnByaW9yaXR5PXMrK310aGlzLl9pbXByb3ZlbWVudE1vZGU9bix0aGlzLl9zY2VuZT1lfHxyZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyPXRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7YS5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9bnVsbCxhLmRpc3Bvc2UoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzSW5JbXByb3ZlbWVudE1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wcm92ZW1lbnRNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faW1wcm92ZW1lbnRNb2RlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50UHJpb3JpdHlMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1cnJlbnRGcmFtZVJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lUmF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRhcmdldEZyYW1lUmF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXRGcmFtZVJhdGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90YXJnZXRGcmFtZVJhdGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYWNrZXJEdXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja2VyRHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFja2VyRHVyYXRpb249ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wdGltaXphdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9pc1J1bm5pbmc9ITF9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MH0saS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2lzUnVubmluZ3x8KHRoaXMuX2lzUnVubmluZz0hMCx0aGlzLl9zY2VuZS5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2NoZWNrQ3VycmVudFN0YXRlKCl9LGUuX3RyYWNrZXJEdXJhdGlvbil9KSl9LGkucHJvdG90eXBlLl9jaGVja0N1cnJlbnRTdGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoISF0aGlzLl9pc1J1bm5pbmcpe3ZhciB0PXRoaXMuX3NjZW5lLHI9dGhpcy5fb3B0aW9ucztpZih0aGlzLl9jdXJyZW50RnJhbWVSYXRlPU1hdGgucm91bmQodC5nZXRFbmdpbmUoKS5nZXRGcHMoKSksdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPD10aGlzLl90YXJnZXRGcmFtZVJhdGV8fCF0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU+PXRoaXMuX3RhcmdldEZyYW1lUmF0ZSl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufWZvcih2YXIgbj0hMCxhPSEwLHM9MDtzPHIub3B0aW1pemF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz1yLm9wdGltaXphdGlvbnNbc107by5wcmlvcml0eT09PXRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsJiYoYT0hMSxuPW4mJm8uYXBwbHkodCx0aGlzKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG8pKX1pZihhKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59biYmdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwrKyx0LmV4ZWN1dGVXaGVuUmVhZHkoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fY2hlY2tDdXJyZW50U3RhdGUoKX0sZS5fdHJhY2tlckR1cmF0aW9uKX0pfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuc3RvcCgpLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcil9LGkuT3B0aW1pemVBc3luYz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uZXcgaShlLHR8fGZpLk1vZGVyYXRlRGVncmFkYXRpb25BbGxvd2VkKCksITEpO3JldHVybiByJiZhLm9uU3VjY2Vzc09ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7cigpfSksbiYmYS5vbkZhaWx1cmVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe24oKX0pLGEuc3RhcnQoKSxhfSxpfSgpO2Z1bmN0aW9uIElhKGkpe2NvbnN0e2VuZ2luZTplfT1pLHQ9bmV3IGVlKGUpO3QuY2xlYXJDb2xvcj1uZXcgRWUoMCwwLDAsMCksdC5wb2ludGVyTW92ZVByZWRpY2F0ZT0oKT0+ITEsdC5wb2ludGVyRG93blByZWRpY2F0ZT0oKT0+ITEsdC5wb2ludGVyVXBQcmVkaWNhdGU9KCk9PiExLHQuY2xlYXJDYWNoZWRWZXJ0ZXhEYXRhKCksdC50aGVtZURhdGE9e307Y29uc3Qgcj1maS5Mb3dEZWdyYWRhdGlvbkFsbG93ZWQoKTtyZXR1cm4gci5vcHRpbWl6YXRpb25zPXIub3B0aW1pemF0aW9ucy5zcGxpY2UoMSksci50YXJnZXRGcmFtZVJhdGU9NjAsRGEuT3B0aW1pemVBc3luYyh0LHIpLHR9dmFyIE9hPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEpe2E9PT12b2lkIDAmJihhPSEwKTt2YXIgcz1pLmNhbGwodGhpcyx0LHIsbixhKXx8dGhpcztyZXR1cm4gcy5fdG1wVXBWZWN0b3I9Yi5aZXJvKCkscy5fdG1wVGFyZ2V0VmVjdG9yPWIuWmVybygpLHMuY2FtZXJhRGlyZWN0aW9uPW5ldyBiKDAsMCwwKSxzLmNhbWVyYVJvdGF0aW9uPW5ldyBTZSgwLDApLHMuaWdub3JlUGFyZW50U2NhbGluZz0hMSxzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uPSExLHMuX3RtcFF1YXRlcm5pb249bmV3IGllLHMucm90YXRpb249bmV3IGIoMCwwLDApLHMuc3BlZWQ9MixzLm5vUm90YXRpb25Db25zdHJhaW50PSExLHMuaW52ZXJ0Um90YXRpb249ITEscy5pbnZlcnNlUm90YXRpb25TcGVlZD0uMixzLmxvY2tlZFRhcmdldD1udWxsLHMuX2N1cnJlbnRUYXJnZXQ9Yi5aZXJvKCkscy5faW5pdGlhbEZvY2FsRGlzdGFuY2U9MSxzLl92aWV3TWF0cml4PUkuWmVybygpLHMuX2NhbU1hdHJpeD1JLlplcm8oKSxzLl9jYW1lcmFUcmFuc2Zvcm1NYXRyaXg9SS5aZXJvKCkscy5fY2FtZXJhUm90YXRpb25NYXRyaXg9SS5aZXJvKCkscy5fcmVmZXJlbmNlUG9pbnQ9bmV3IGIoMCwwLDEpLHMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQ9Yi5aZXJvKCkscy5fZGVmYXVsdFVwPWIuVXAoKSxzLl9jYWNoZWRSb3RhdGlvblo9MCxzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aPTAsc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RnJvbnRQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLmdldFdvcmxkTWF0cml4KCk7dmFyIHI9dGhpcy5nZXRUYXJnZXQoKS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTtyZXR1cm4gci5ub3JtYWxpemUoKSxyLnNjYWxlSW5QbGFjZSh0KSx0aGlzLmdsb2JhbFBvc2l0aW9uLmFkZChyKX0sZS5wcm90b3R5cGUuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0Pyh0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9uJiZ0aGlzLmxvY2tlZFRhcmdldC5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9ufHx0aGlzLmxvY2tlZFRhcmdldCk6bnVsbH0sZS5wcm90b3R5cGUuc3RvcmVTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZWRQb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5fc3RvcmVkUm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLGkucHJvdG90eXBlLnN0b3JlU3RhdGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiBpLnByb3RvdHlwZS5fcmVzdG9yZVN0YXRlVmFsdWVzLmNhbGwodGhpcyk/KHRoaXMucG9zaXRpb249dGhpcy5fc3RvcmVkUG9zaXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uPXRoaXMuX3N0b3JlZFJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksdGhpcy5jYW1lcmFEaXJlY3Rpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMuY2FtZXJhUm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwKSwhMCk6ITF9LGUucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5faW5pdENhY2hlLmNhbGwodGhpcyksdGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvbj1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBpZShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhY2hlPWZ1bmN0aW9uKHQpe3R8fGkucHJvdG90eXBlLl91cGRhdGVDYWNoZS5jYWxsKHRoaXMpO3ZhciByPXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7cj90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmNvcHlGcm9tKHIpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1yLmNsb25lKCk6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY2FjaGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9LGUucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXg9ZnVuY3Rpb24oKXtpZighaS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkVmlld01hdHJpeC5jYWxsKHRoaXMpKXJldHVybiExO3ZhciB0PXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7cmV0dXJuKHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQuZXF1YWxzKHQpOiF0KSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmVxdWFscyh0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24pOnRoaXMuX2NhY2hlLnJvdGF0aW9uLmVxdWFscyh0aGlzLnJvdGF0aW9uKSl9LGUucHJvdG90eXBlLl9jb21wdXRlTG9jYWxDYW1lcmFTcGVlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMuc3BlZWQqTWF0aC5zcXJ0KHQuZ2V0RGVsdGFUaW1lKCkvKHQuZ2V0RnBzKCkqMTAwKSl9LGUucHJvdG90eXBlLnNldFRhcmdldD1mdW5jdGlvbih0KXt0aGlzLnVwVmVjdG9yLm5vcm1hbGl6ZSgpLHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlPXQuc3VidHJhY3QodGhpcy5wb3NpdGlvbikubGVuZ3RoKCksdGhpcy5wb3NpdGlvbi56PT09dC56JiYodGhpcy5wb3NpdGlvbi56Kz1zZSksdGhpcy5fcmVmZXJlbmNlUG9pbnQubm9ybWFsaXplKCkuc2NhbGVJblBsYWNlKHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlKSxJLkxvb2tBdExIVG9SZWYodGhpcy5wb3NpdGlvbix0LHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1NYXRyaXgpLHRoaXMuX2NhbU1hdHJpeC5pbnZlcnQoKSx0aGlzLnJvdGF0aW9uLng9TWF0aC5hdGFuKHRoaXMuX2NhbU1hdHJpeC5tWzZdL3RoaXMuX2NhbU1hdHJpeC5tWzEwXSk7dmFyIHI9dC5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTtyLng+PTA/dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4oci56L3IueCkrTWF0aC5QSS8yOnRoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHIuei9yLngpLU1hdGguUEkvMix0aGlzLnJvdGF0aW9uLno9MCxpc05hTih0aGlzLnJvdGF0aW9uLngpJiYodGhpcy5yb3RhdGlvbi54PTApLGlzTmFOKHRoaXMucm90YXRpb24ueSkmJih0aGlzLnJvdGF0aW9uLnk9MCksaXNOYU4odGhpcy5yb3RhdGlvbi56KSYmKHRoaXMucm90YXRpb24uej0wKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmaWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidGFyZ2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGFyZ2V0KCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldFRhcmdldCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldH0sZS5wcm90b3R5cGUuX2RlY2lkZUlmTmVlZHNUb01vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik+MH0sZS5wcm90b3R5cGUuX3VwZGF0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5wYXJlbnQpe3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoRC5NYXRyaXhbMF0pLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5jYW1lcmFEaXJlY3Rpb24sRC5NYXRyaXhbMF0sRC5WZWN0b3IzWzBdKSx0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UoRC5WZWN0b3IzWzBdKTtyZXR1cm59dGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FtZXJhRGlyZWN0aW9uKX0sZS5wcm90b3R5cGUuX2NoZWNrSW5wdXRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbnZlcnRSb3RhdGlvbj8tdGhpcy5pbnZlcnNlUm90YXRpb25TcGVlZDoxLHI9dGhpcy5fZGVjaWRlSWZOZWVkc1RvTW92ZSgpLG49TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLnkpPjA7aWYociYmdGhpcy5fdXBkYXRlUG9zaXRpb24oKSxuKXtpZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb24ueCs9dGhpcy5jYW1lcmFSb3RhdGlvbi54KnQsdGhpcy5yb3RhdGlvbi55Kz10aGlzLmNhbWVyYVJvdGF0aW9uLnkqdCwhdGhpcy5ub1JvdGF0aW9uQ29uc3RyYWludCl7dmFyIGE9MS41NzA3OTY7dGhpcy5yb3RhdGlvbi54PmEmJih0aGlzLnJvdGF0aW9uLng9YSksdGhpcy5yb3RhdGlvbi54PC1hJiYodGhpcy5yb3RhdGlvbi54PS1hKX1pZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil7dmFyIHM9dGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCk7cyYmaWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9fXImJihNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KTx0aGlzLnNwZWVkKnNlJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24ueD0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KTx0aGlzLnNwZWVkKnNlJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24ueT0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KTx0aGlzLnNwZWVkKnNlJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24uej0wKSx0aGlzLmNhbWVyYURpcmVjdGlvbi5zY2FsZUluUGxhY2UodGhpcy5pbmVydGlhKSksbiYmKE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk8dGhpcy5zcGVlZCpzZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueD0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLnkpPHRoaXMuc3BlZWQqc2UmJih0aGlzLmNhbWVyYVJvdGF0aW9uLnk9MCksdGhpcy5jYW1lcmFSb3RhdGlvbi5zY2FsZUluUGxhY2UodGhpcy5pbmVydGlhKSksaS5wcm90b3R5cGUuX2NoZWNrSW5wdXRzLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe3RoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgodGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpOkkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCl9LGUucHJvdG90eXBlLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLnVwVmVjdG9yKSx0aGlzfSxlLnByb3RvdHlwZS5fZ2V0Vmlld01hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tlZFRhcmdldCYmdGhpcy5zZXRUYXJnZXQodGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKSksdGhpcy5fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWiE9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uej8odGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnopOnRoaXMuX2NhY2hlZFJvdGF0aW9uWiE9PXRoaXMucm90YXRpb24ueiYmKHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUm90YXRpb25aPXRoaXMucm90YXRpb24ueiksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX3JlZmVyZW5jZVBvaW50LHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQpLHRoaXMucG9zaXRpb24uYWRkVG9SZWYodGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCx0aGlzLl9jdXJyZW50VGFyZ2V0KSx0aGlzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/UHIuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnVwVmVjdG9yKTooaWUuRnJvbUV1bGVyVmVjdG9yVG9SZWYodGhpcy5yb3RhdGlvbix0aGlzLl90bXBRdWF0ZXJuaW9uKSxQci5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMuX3RtcFF1YXRlcm5pb24sdGhpcy51cFZlY3RvcikpKSx0aGlzLl9jb21wdXRlVmlld01hdHJpeCh0aGlzLnBvc2l0aW9uLHRoaXMuX2N1cnJlbnRUYXJnZXQsdGhpcy51cFZlY3RvciksdGhpcy5fdmlld01hdHJpeH0sZS5wcm90b3R5cGUuX2NvbXB1dGVWaWV3TWF0cml4PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzLmlnbm9yZVBhcmVudFNjYWxpbmcpe2lmKHRoaXMucGFyZW50KXt2YXIgYT10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO2IuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0LGEsdGhpcy5fZ2xvYmFsUG9zaXRpb24pLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihyLGEsdGhpcy5fdG1wVGFyZ2V0VmVjdG9yKSxiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKG4sYSx0aGlzLl90bXBVcFZlY3RvciksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXMuX3RtcFRhcmdldFZlY3Rvci5jb3B5RnJvbShyKSx0aGlzLl90bXBVcFZlY3Rvci5jb3B5RnJvbShuKTt0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/SS5Mb29rQXRSSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTpJLkxvb2tBdExIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpO3JldHVybn1pZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/SS5Mb29rQXRSSFRvUmVmKHQscixuLHRoaXMuX3ZpZXdNYXRyaXgpOkkuTG9va0F0TEhUb1JlZih0LHIsbix0aGlzLl92aWV3TWF0cml4KSx0aGlzLnBhcmVudCl7dmFyIGE9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTt0aGlzLl92aWV3TWF0cml4LmludmVydCgpLHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZihhLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMuX3ZpZXdNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbiksdGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20odCl9LGUucHJvdG90eXBlLmNyZWF0ZVJpZ0NhbWVyYT1mdW5jdGlvbih0LHIpe2lmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PU9lLlJJR19NT0RFX05PTkUpe3ZhciBuPW5ldyBlKHQsdGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuZ2V0U2NlbmUoKSk7cmV0dXJuIG4uaXNSaWdDYW1lcmE9ITAsbi5yaWdQYXJlbnQ9dGhpcywodGhpcy5jYW1lcmFSaWdNb2RlPT09T2UuUklHX01PREVfVlJ8fHRoaXMuY2FtZXJhUmlnTW9kZT09PU9lLlJJR19NT0RFX1dFQlZSKSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249bmV3IGllKSxuLl9jYW1lcmFSaWdQYXJhbXM9e30sbi5yb3RhdGlvblF1YXRlcm5pb249bmV3IGllKSxufXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5fdXBkYXRlUmlnQ2FtZXJhcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JpZ0NhbWVyYXNbMF0scj10aGlzLl9yaWdDYW1lcmFzWzFdO3N3aXRjaCh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuY2FtZXJhUmlnTW9kZSl7Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEg6Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTDpjYXNlIE9lLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRDpjYXNlIE9lLlJJR19NT0RFX1NURVJFT1NDT1BJQ19PVkVSVU5ERVI6Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRDp7dmFyIG49dGhpcy5jYW1lcmFSaWdNb2RlPT09T2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPzE6LTEsYT10aGlzLmNhbWVyYVJpZ01vZGU9PT1PZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ/LTE6MTt0aGlzLl9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldCh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlKm4sdCksdGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSphLHIpO2JyZWFrfWNhc2UgT2UuUklHX01PREVfVlI6dC5yb3RhdGlvblF1YXRlcm5pb24/KHQucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSxyLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbikpOih0LnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHIucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbikpLHQucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksci5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKTticmVha31pLnByb3RvdHlwZS5fdXBkYXRlUmlnQ2FtZXJhcy5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQ9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLmdldFRhcmdldCgpO24uc3VidHJhY3RUb1JlZih0aGlzLnBvc2l0aW9uLGUuX1RhcmdldEZvY2FsUG9pbnQpLGUuX1RhcmdldEZvY2FsUG9pbnQubm9ybWFsaXplKCkuc2NhbGVJblBsYWNlKHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlKTt2YXIgYT1lLl9UYXJnZXRGb2NhbFBvaW50LmFkZEluUGxhY2UodGhpcy5wb3NpdGlvbik7SS5UcmFuc2xhdGlvblRvUmVmKC1hLngsLWEueSwtYS56LGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCksZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4Lm11bHRpcGx5VG9SZWYoSS5Sb3RhdGlvbkF4aXMoci51cFZlY3Rvcix0KSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgpLEkuVHJhbnNsYXRpb25Ub1JlZihhLngsYS55LGEueixlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLGUuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgpLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLnBvc2l0aW9uLGUuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCxyLnBvc2l0aW9uKSxyLnNldFRhcmdldChhKX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRhcmdldENhbWVyYSJ9LGUuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeD1uZXcgSSxlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXg9bmV3IEksZS5fVGFyZ2V0Rm9jYWxQb2ludD1uZXcgYixUKFtmdCgpXSxlLnByb3RvdHlwZSwicm90YXRpb24iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwic3BlZWQiLHZvaWQgMCksVChbcmEoImxvY2tlZFRhcmdldElkIildLGUucHJvdG90eXBlLCJsb2NrZWRUYXJnZXQiLHZvaWQgMCksZX0oT2UpO2Z1bmN0aW9uIEZhKGkpe2NvbnN0e3NjZW5lOmV9PWk7bGV0IHQ7Y29uc3Qgcj0zNi41O3JldHVybiB0PW5ldyBPYSgiVGFyZ2V0Q2FtZXJhMSIsbmV3IGIoMCxyLDApLGUpLHQuZm92PS4yNSx0Lm1pblo9NSx0Lm1heFo9cisxLHQuc2V0VGFyZ2V0KGIuWmVybygpKSx0fXZhciB3YT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5fbmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlPSEwLHR9cmV0dXJuIGUucHJvdG90eXBlLl9zZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9wb3NpdGlvbj10fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2V0UG9zaXRpb24odCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3NldERpcmVjdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9kaXJlY3Rpb249dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkaXJlY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2V0RGlyZWN0aW9uKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93TWluWiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dNaW5afSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93TWluWj10LHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93TWF4WiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dNYXhafSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93TWF4Wj10LHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeD8odGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9ufHwodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPWIuWmVybygpKSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbiksdGhpcy5kaXJlY3Rpb24mJih0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9ufHwodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1iLlplcm8oKSksYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmRpcmVjdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24pKSwhMCk6ITF9LGUucHJvdG90eXBlLmdldERlcHRoU2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gNTB9LGUucHJvdG90eXBlLmdldFNoYWRvd0RpcmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj90aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufSxlLnByb3RvdHlwZS5nZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj90aGlzLnRyYW5zZm9ybWVkUG9zaXRpb246dGhpcy5wb3NpdGlvbn0sZS5wcm90b3R5cGUuc2V0RGlyZWN0aW9uVG9UYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uPWIuTm9ybWFsaXplKHQuc3VidHJhY3QodGhpcy5wb3NpdGlvbikpLHRoaXMuZGlyZWN0aW9ufSxlLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3RoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO3ZhciB0PWIuQ3Jvc3ModGhpcy5kaXJlY3Rpb24sUHIuWSkscj1iLkNyb3NzKHQsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBiLlJvdGF0aW9uRnJvbUF4aXModCxyLHRoaXMuZGlyZWN0aW9uKX0sZS5wcm90b3R5cGUubmVlZEN1YmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUubmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZX0sZS5wcm90b3R5cGUuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT1mdW5jdGlvbigpe3RoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH0sZS5wcm90b3R5cGUuX2luaXRDYWNoZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9pbml0Q2FjaGUuY2FsbCh0aGlzKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1iLlplcm8oKX0sZS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9jYWNoZS5wb3NpdGlvbi5lcXVhbHModGhpcy5wb3NpdGlvbil9LGUucHJvdG90eXBlLmNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5pc1N5bmNocm9uaXplZCgpPyh0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fd29ybGRNYXRyaXgpOih0aGlzLl91cGRhdGVDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpKSxJLlRyYW5zbGF0aW9uVG9SZWYodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnosdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCYmKHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXgpfSxlLnByb3RvdHlwZS5nZXREZXB0aE1pblo9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6dC5taW5afSxlLnByb3RvdHlwZS5nZXREZXB0aE1heFo9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6dC5tYXhafSxlLnByb3RvdHlwZS5zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcj90aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyKHIsbix0KTp0aGlzLl9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeCh0LHIsbiksdGhpc30sZS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZS5jYWxsKHRoaXMpLCghdGhpcy5wYXJlbnR8fCF0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCkmJih0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb249bnVsbCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uPW51bGwpfSxUKFtmdCgpXSxlLnByb3RvdHlwZSwicG9zaXRpb24iLG51bGwpLFQoW2Z0KCldLGUucHJvdG90eXBlLCJkaXJlY3Rpb24iLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsInNoYWRvd01pbloiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsInNoYWRvd01heFoiLG51bGwpLGV9KGV0KTskZS5BZGROb2RlQ29uc3RydWN0b3IoIkxpZ2h0X1R5cGVfMSIsZnVuY3Rpb24oaSxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZuKGksYi5aZXJvKCksZSl9fSk7dmFyIGZuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt2YXIgYT1pLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBhLl9zaGFkb3dGcnVzdHVtU2l6ZT0wLGEuX3NoYWRvd09ydGhvU2NhbGU9LjEsYS5hdXRvVXBkYXRlRXh0ZW5kcz0hMCxhLmF1dG9DYWxjU2hhZG93WkJvdW5kcz0hMSxhLl9vcnRob0xlZnQ9TnVtYmVyLk1BWF9WQUxVRSxhLl9vcnRob1JpZ2h0PU51bWJlci5NSU5fVkFMVUUsYS5fb3J0aG9Ub3A9TnVtYmVyLk1JTl9WQUxVRSxhLl9vcnRob0JvdHRvbT1OdW1iZXIuTUFYX1ZBTFVFLGEucG9zaXRpb249ci5zY2FsZSgtMSksYS5kaXJlY3Rpb249cixhfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd0ZydXN0dW1TaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd09ydGhvU2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93T3J0aG9TY2FsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd09ydGhvU2NhbGU9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9ydGhvTGVmdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcnRob0xlZnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vcnRob0xlZnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9ydGhvUmlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3J0aG9SaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29ydGhvUmlnaHQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9ydGhvVG9wIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ydGhvVG9wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3J0aG9Ub3A9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9ydGhvQm90dG9tIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3J0aG9Cb3R0b209dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iRGlyZWN0aW9uYWxMaWdodCJ9LGUucHJvdG90eXBlLmdldFR5cGVJRD1mdW5jdGlvbigpe3JldHVybiBldC5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUfSxlLnByb3RvdHlwZS5fc2V0RGVmYXVsdFNoYWRvd1Byb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCxyLG4pe3RoaXMuc2hhZG93RnJ1c3R1bVNpemU+MD90aGlzLl9zZXREZWZhdWx0Rml4ZWRGcnVzdHVtU2hhZG93UHJvamVjdGlvbk1hdHJpeCh0KTp0aGlzLl9zZXREZWZhdWx0QXV0b0V4dGVuZFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodCxyLG4pfSxlLnByb3RvdHlwZS5fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTshcnx8SS5PcnRob0xIVG9SZWYodGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6ci5taW5aLHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6ci5tYXhaLHQsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9LGUucHJvdG90eXBlLl9zZXREZWZhdWx0QXV0b0V4dGVuZFNoYWRvd1Byb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7aWYoISFhKXtpZih0aGlzLmF1dG9VcGRhdGVFeHRlbmRzfHx0aGlzLl9vcnRob0xlZnQ9PT1OdW1iZXIuTUFYX1ZBTFVFKXt2YXIgcz1iLlplcm8oKTt0aGlzLl9vcnRob0xlZnQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9vcnRob1JpZ2h0PU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Ub3A9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob0JvdHRvbT1OdW1iZXIuTUFYX1ZBTFVFO2Zvcih2YXIgbz1OdW1iZXIuTUFYX1ZBTFVFLHU9TnVtYmVyLk1JTl9WQUxVRSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBsPW5bZl07aWYoISFsKWZvcih2YXIgaD1sLmdldEJvdW5kaW5nSW5mbygpLGM9aC5ib3VuZGluZ0JveCxkPTA7ZDxjLnZlY3RvcnNXb3JsZC5sZW5ndGg7ZCsrKWIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihjLnZlY3RvcnNXb3JsZFtkXSxyLHMpLHMueDx0aGlzLl9vcnRob0xlZnQmJih0aGlzLl9vcnRob0xlZnQ9cy54KSxzLnk8dGhpcy5fb3J0aG9Cb3R0b20mJih0aGlzLl9vcnRob0JvdHRvbT1zLnkpLHMueD50aGlzLl9vcnRob1JpZ2h0JiYodGhpcy5fb3J0aG9SaWdodD1zLngpLHMueT50aGlzLl9vcnRob1RvcCYmKHRoaXMuX29ydGhvVG9wPXMueSksdGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJihzLno8byYmKG89cy56KSxzLno+dSYmKHU9cy56KSl9dGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJih0aGlzLl9zaGFkb3dNaW5aPW8sdGhpcy5fc2hhZG93TWF4Wj11KX12YXIgcD10aGlzLl9vcnRob1JpZ2h0LXRoaXMuX29ydGhvTGVmdCxnPXRoaXMuX29ydGhvVG9wLXRoaXMuX29ydGhvQm90dG9tLF89dGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjphLm1pblosdj10aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOmEubWF4Wix5PXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7SS5PcnRob09mZkNlbnRlckxIVG9SZWYodGhpcy5fb3J0aG9MZWZ0LXAqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvUmlnaHQrcCp0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9Cb3R0b20tZyp0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9Ub3ArZyp0aGlzLnNoYWRvd09ydGhvU2NhbGUseT92Ol8seT9fOnYsdCx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKX19LGUucHJvdG90eXBlLl9idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX0sZS5wcm90b3R5cGUudHJhbnNmZXJUb0VmZmVjdD1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCk/KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiwxLHIpLHRoaXMpOih0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnosMSxyKSx0aGlzKX0sZS5wcm90b3R5cGUudHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdD1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCk/KHQuc2V0RmxvYXQzKHIsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi54LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnopLHRoaXMpOih0LnNldEZsb2F0MyhyLHRoaXMuZGlyZWN0aW9uLngsdGhpcy5kaXJlY3Rpb24ueSx0aGlzLmRpcmVjdGlvbi56KSx0aGlzKX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNaW5aPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3JldHVybiFyLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmci5pc05EQ0hhbGZaUmFuZ2U/MDoxfSxlLnByb3RvdHlwZS5nZXREZXB0aE1heFo9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIHIudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZyLmlzTkRDSGFsZlpSYW5nZT8wOjF9LGUucHJvdG90eXBlLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcz1mdW5jdGlvbih0LHIpe3RbIkRJUkxJR0hUIityXT0hMH0sVChbUCgpXSxlLnByb3RvdHlwZSwic2hhZG93RnJ1c3R1bVNpemUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsInNoYWRvd09ydGhvU2NhbGUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImF1dG9VcGRhdGVFeHRlbmRzIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImF1dG9DYWxjU2hhZG93WkJvdW5kcyIsdm9pZCAwKSxUKFtQKCJvcnRob0xlZnQiKV0sZS5wcm90b3R5cGUsIl9vcnRob0xlZnQiLHZvaWQgMCksVChbUCgib3J0aG9SaWdodCIpXSxlLnByb3RvdHlwZSwiX29ydGhvUmlnaHQiLHZvaWQgMCksVChbUCgib3J0aG9Ub3AiKV0sZS5wcm90b3R5cGUsIl9vcnRob1RvcCIsdm9pZCAwKSxUKFtQKCJvcnRob0JvdHRvbSIpXSxlLnByb3RvdHlwZSwiX29ydGhvQm90dG9tIix2b2lkIDApLGV9KHdhKTskZS5BZGROb2RlQ29uc3RydWN0b3IoIkxpZ2h0X1R5cGVfMyIsZnVuY3Rpb24oaSxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxuKGksYi5aZXJvKCksZSl9fSk7dmFyIGxuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt2YXIgYT1pLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBhLmdyb3VuZENvbG9yPW5ldyBiZSgwLDAsMCksYS5kaXJlY3Rpb249cnx8Yi5VcCgpLGF9cmV0dXJuIGUucHJvdG90eXBlLl9idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRHcm91bmQiLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJIZW1pc3BoZXJpY0xpZ2h0In0sZS5wcm90b3R5cGUuc2V0RGlyZWN0aW9uVG9UYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uPWIuTm9ybWFsaXplKHQuc3VidHJhY3QoYi5aZXJvKCkpKSx0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0U2hhZG93R2VuZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnRyYW5zZmVyVG9FZmZlY3Q9ZnVuY3Rpb24odCxyKXt2YXIgbj1iLk5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIixuLngsbi55LG4ueiwwLHIpLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3IzKCJ2TGlnaHRHcm91bmQiLHRoaXMuZ3JvdW5kQ29sb3Iuc2NhbGUodGhpcy5pbnRlbnNpdHkpLHIpLHRoaXN9LGUucHJvdG90eXBlLnRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3Q9ZnVuY3Rpb24odCxyKXt2YXIgbj1iLk5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHQuc2V0RmxvYXQzKHIsbi54LG4ueSxuLnopLHRoaXN9LGUucHJvdG90eXBlLmNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXh9LGUucHJvdG90eXBlLmdldFR5cGVJRD1mdW5jdGlvbigpe3JldHVybiBldC5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUfSxlLnByb3RvdHlwZS5wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXM9ZnVuY3Rpb24odCxyKXt0WyJIRU1JTElHSFQiK3JdPSEwfSxUKFtPdCgpXSxlLnByb3RvdHlwZSwiZ3JvdW5kQ29sb3IiLHZvaWQgMCksVChbZnQoKV0sZS5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKSxlfShldCksaG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXR9cmV0dXJuIGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntXOiAiLmNvbmNhdCh0aGlzLndpZHRoLCIsIEg6ICIpLmNvbmNhdCh0aGlzLmhlaWdodCwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iU2l6ZSJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53aWR0aHwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmhlaWdodHwwKSxlfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXt0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHR9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCl9LGkucHJvdG90eXBlLm11bHRpcGx5QnlGbG9hdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMud2lkdGg9PT1lLndpZHRoJiZ0aGlzLmhlaWdodD09PWUuaGVpZ2h0OiExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN1cmZhY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aCp0aGlzLmhlaWdodH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLlplcm89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKHRoaXMud2lkdGgrZS53aWR0aCx0aGlzLmhlaWdodCtlLmhlaWdodCk7cmV0dXJuIHR9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKHRoaXMud2lkdGgtZS53aWR0aCx0aGlzLmhlaWdodC1lLmhlaWdodCk7cmV0dXJuIHR9LGkuTGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS53aWR0aCsodC53aWR0aC1lLndpZHRoKSpyLGE9ZS5oZWlnaHQrKHQuaGVpZ2h0LWUuaGVpZ2h0KSpyO3JldHVybiBuZXcgaShuLGEpfSxpfSgpLExhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLl93cmFwVT0xLHRoaXMuX3dyYXBWPTEsdGhpcy53cmFwUj0xLHRoaXMuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD00LHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90ZXh0dXJlPW51bGwsdGhpcy5fZW5naW5lPW51bGwsdGhpcy5fY2FjaGVkU2l6ZT1obi5aZXJvKCksdGhpcy5fY2FjaGVkQmFzZVNpemU9aG4uWmVybygpLHRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGU9Mix0aGlzLl90ZXh0dXJlPWUsdGhpcy5fdGV4dHVyZSYmKHRoaXMuX2VuZ2luZT10aGlzLl90ZXh0dXJlLmdldEVuZ2luZSgpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwVSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwVX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dyYXBVPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwViIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwVn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dyYXBWPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb29yZGluYXRlc01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzQ3ViZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOiExfSxzZXQ6ZnVuY3Rpb24oZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzQ3ViZT1lKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzM0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9LHNldDpmdW5jdGlvbihlKXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMzRD1lKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfSxzZXQ6ZnVuY3Rpb24oZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT1lKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVGhpblRleHR1cmUifSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT00Pyh0aGlzLmRlbGF5TG9hZCgpLCExKTp0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNSZWFkeTohMX0saS5wcm90b3R5cGUuZGVsYXlMb2FkPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5nZXRJbnRlcm5hbFRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX0saS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUud2lkdGgpcmV0dXJuIHRoaXMuX2NhY2hlZFNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS53aWR0aCx0aGlzLl9jYWNoZWRTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLmhlaWdodCx0aGlzLl9jYWNoZWRTaXplO2lmKHRoaXMuX3RleHR1cmUuX3NpemUpcmV0dXJuIHRoaXMuX2NhY2hlZFNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemV9cmV0dXJuIHRoaXMuX2NhY2hlZFNpemV9LGkucHJvdG90eXBlLmdldEJhc2VTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNSZWFkeSgpfHwhdGhpcy5fdGV4dHVyZT8odGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9MCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9MCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSk6dGhpcy5fdGV4dHVyZS5fc2l6ZT8odGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRCYXNlU2l6ZSk6KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuYmFzZVdpZHRoLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLmJhc2VIZWlnaHQsdGhpcy5fY2FjaGVkQmFzZVNpemUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNhbXBsaW5nTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuc2FtcGxpbmdNb2RlOnRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUudXBkYXRlU2FtcGxpbmdNb2RlPWZ1bmN0aW9uKGUpe3RoaXMuX3RleHR1cmUmJnRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLnVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoZSx0aGlzLl90ZXh0dXJlKX0saS5wcm90b3R5cGUucmVsZWFzZUludGVybmFsVGV4dHVyZT1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlPW51bGwpfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuX2VuZ2luZT1udWxsKX0saX0oKSxOYT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0KXt2YXIgcj1pLmNhbGwodGhpcyxudWxsKXx8dGhpcztyZXR1cm4gci5tZXRhZGF0YT1udWxsLHIucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCxyLl9oYXNBbHBoYT0hMSxyLl9nZXRBbHBoYUZyb21SR0I9ITEsci5sZXZlbD0xLHIuX2Nvb3JkaW5hdGVzSW5kZXg9MCxyLl9jb29yZGluYXRlc01vZGU9MCxyLndyYXBSPTEsci5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUwsci5faXNDdWJlPSExLHIuX2dhbW1hU3BhY2U9ITAsci5pbnZlcnRaPSExLHIubG9kTGV2ZWxJbkFscGhhPSExLHIuaXNSZW5kZXJUYXJnZXQ9ITEsci5fcHJlZmlsdGVyZWQ9ITEsci5fZm9yY2VTZXJpYWxpemU9ITEsci5hbmltYXRpb25zPW5ldyBBcnJheSxyLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sci5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCxyLl9zY2VuZT1udWxsLHIuX3VpZD1udWxsLHIuX3BhcmVudENvbnRhaW5lcj1udWxsLHIuX2xvYWRpbmdFcnJvcj0hMSx0P2UuX0lzU2NlbmUodCk/ci5fc2NlbmU9dDpyLl9lbmdpbmU9dDpyLl9zY2VuZT1yZS5MYXN0Q3JlYXRlZFNjZW5lLHIuX3NjZW5lJiYoci51bmlxdWVJZD1yLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHIuX3NjZW5lLmFkZFRleHR1cmUociksci5fZW5naW5lPXIuX3NjZW5lLmdldEVuZ2luZSgpKSxyLl91aWQ9bnVsbCxyfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc0FscGhhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc0FscGhhfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0aGlzLl9oYXNBbHBoYSE9PXQmJih0aGlzLl9oYXNBbHBoYT10LHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKG4pe3JldHVybiBuLmhhc1RleHR1cmUocil9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJnZXRBbHBoYUZyb21SR0IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0QWxwaGFGcm9tUkdCfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0aGlzLl9nZXRBbHBoYUZyb21SR0IhPT10JiYodGhpcy5fZ2V0QWxwaGFGcm9tUkdCPXQsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsZnVuY3Rpb24obil7cmV0dXJuIG4uaGFzVGV4dHVyZShyKX0pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvb3JkaW5hdGVzSW5kZXgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNJbmRleH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5fY29vcmRpbmF0ZXNJbmRleCE9PXQmJih0aGlzLl9jb29yZGluYXRlc0luZGV4PXQsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsZnVuY3Rpb24obil7cmV0dXJuIG4uaGFzVGV4dHVyZShyKX0pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvb3JkaW5hdGVzTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc01vZGV9LHNldDpmdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuX2Nvb3JkaW5hdGVzTW9kZSE9PXQmJih0aGlzLl9jb29yZGluYXRlc01vZGU9dCx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxmdW5jdGlvbihuKXtyZXR1cm4gbi5oYXNUZXh0dXJlKHIpfSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwid3JhcFUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcFV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93cmFwVT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwid3JhcFYiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcFZ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93cmFwVj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNDdWJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6dGhpcy5faXNDdWJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZT10OnRoaXMuX2lzQ3ViZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXMzRCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMzRDohMX0sc2V0OmZ1bmN0aW9uKHQpeyF0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZS5pczNEPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXMyREFycmF5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9LHNldDpmdW5jdGlvbih0KXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMyREFycmF5PXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZ2FtbWFTcGFjZSIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3RleHR1cmUpdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PW51bGwmJih0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPXRoaXMuX2dhbW1hU3BhY2UpO2Vsc2UgcmV0dXJuIHRoaXMuX2dhbW1hU3BhY2U7cmV0dXJuIHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2UmJiF0aGlzLl90ZXh0dXJlLl91c2VTUkdCQnVmZmVyfSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PXQpcmV0dXJuO3RoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9dH1lbHNle2lmKHRoaXMuX2dhbW1hU3BhY2U9PT10KXJldHVybjt0aGlzLl9nYW1tYVNwYWNlPXR9dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNSR0JEIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUhPW51bGwmJnRoaXMuX3RleHR1cmUuX2lzUkdCRH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pc1JHQkQ9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJub01pcG1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvbk9mZnNldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ6MH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0PXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvblNjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlOjB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGluZWFyU3BlY3VsYXJMT0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRDohMX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlycmFkaWFuY2VUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU6bnVsbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pcnJhZGlhbmNlVGV4dHVyZT10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9d2koKSksdGhpcy5fdWlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkJhc2VUZXh0dXJlIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkRpc3Bvc2UiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Jsb2NraW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsb2FkaW5nRXJyb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGluZ0Vycm9yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXJyb3JPYmplY3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JPYmplY3R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NlbmV9LGUucHJvdG90eXBlLl9nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxlLnByb3RvdHlwZS5jaGVja1RyYW5zZm9ybXNBcmVJZGVudGljYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1udWxsfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHlSZWFkT25seX0sZS5wcm90b3R5cGUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gSS5JZGVudGl0eVJlYWRPbmx5fSxlLnByb3RvdHlwZS5pc1JlYWR5T3JOb3RCbG9ja2luZz1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzQmxvY2tpbmd8fHRoaXMuaXNSZWFkeSgpfHx0aGlzLmxvYWRpbmdFcnJvcn0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhblJlc2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fZ2V0RnJvbUNhY2hlPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcy5fZ2V0RW5naW5lKCk7aWYoIW8pcmV0dXJuIG51bGw7Zm9yKHZhciB1PW8uX2dldFVzZVNSR0JCdWZmZXIoISFzLHIpLGY9by5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCksbD0wO2w8Zi5sZW5ndGg7bCsrKXt2YXIgaD1mW2xdO2lmKChzPT09dm9pZCAwfHx1PT09aC5fdXNlU1JHQkJ1ZmZlcikmJihhPT09dm9pZCAwfHxhPT09aC5pbnZlcnRZKSYmaC51cmw9PT10JiZoLmdlbmVyYXRlTWlwTWFwcz09PSFyJiYoIW58fG49PT1oLnNhbXBsaW5nTW9kZSkpcmV0dXJuIGguaW5jcmVtZW50UmVmZXJlbmNlcygpLGh9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRleHR1cmVUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUudHlwZSE9PXZvaWQgMD90aGlzLl90ZXh0dXJlLnR5cGU6MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRleHR1cmVGb3JtYXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5mb3JtYXQhPT12b2lkIDA/dGhpcy5fdGV4dHVyZS5mb3JtYXQ6NX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTshdHx8dC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX0sZS5wcm90b3R5cGUucmVhZFBpeGVscz1mdW5jdGlvbih0LHIsbixhLHMsbyx1LGYsbCl7aWYodD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9ITApLHM9PT12b2lkIDAmJihzPSExKSxvPT09dm9pZCAwJiYobz0wKSx1PT09dm9pZCAwJiYodT0wKSxmPT09dm9pZCAwJiYoZj1OdW1iZXIuTUFYX1ZBTFVFKSxsPT09dm9pZCAwJiYobD1OdW1iZXIuTUFYX1ZBTFVFKSwhdGhpcy5fdGV4dHVyZSlyZXR1cm4gbnVsbDt2YXIgaD10aGlzLl9nZXRFbmdpbmUoKTtpZighaClyZXR1cm4gbnVsbDt2YXIgYz10aGlzLmdldFNpemUoKSxkPWMud2lkdGgscD1jLmhlaWdodDtyIT09MCYmKGQ9ZC9NYXRoLnBvdygyLHIpLHA9cC9NYXRoLnBvdygyLHIpLGQ9TWF0aC5yb3VuZChkKSxwPU1hdGgucm91bmQocCkpLGY9TWF0aC5taW4oZCxmKSxsPU1hdGgubWluKHAsbCk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9oLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLGYsbCx0LHIsbixhLHMsbyx1KTpoLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLGYsbCwtMSxyLG4sYSxzLG8sdSl9Y2F0Y2h7cmV0dXJuIG51bGx9fSxlLnByb3RvdHlwZS5fcmVhZFBpeGVsc1N5bmM9ZnVuY3Rpb24odCxyLG4sYSxzKXtpZih0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO3ZhciBvPXRoaXMuZ2V0U2l6ZSgpLHU9by53aWR0aCxmPW8uaGVpZ2h0LGw9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWwpcmV0dXJuIG51bGw7ciE9MCYmKHU9dS9NYXRoLnBvdygyLHIpLGY9Zi9NYXRoLnBvdygyLHIpLHU9TWF0aC5yb3VuZCh1KSxmPU1hdGgucm91bmQoZikpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/bC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsdSxmLHQscixuLGEscyk6bC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsdSxmLC0xLHIsbixhLHMpfWNhdGNoe3JldHVybiBudWxsfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfbG9kVGV4dHVyZUhpZ2giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlSGlnaDpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX2xvZFRleHR1cmVNaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTWlkOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfbG9kVGV4dHVyZUxvdyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVMb3c6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2NlbmUpe3RoaXMuX3NjZW5lLnN0b3BBbmltYXRpb24mJnRoaXMuX3NjZW5lLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fc2NlbmUuX3JlbW92ZVBlbmRpbmdEYXRhKHRoaXMpO3ZhciB0PXRoaXMuX3NjZW5lLnRleHR1cmVzLmluZGV4T2YodGhpcyk7aWYodD49MCYmdGhpcy5fc2NlbmUudGV4dHVyZXMuc3BsaWNlKHQsMSksdGhpcy5fc2NlbmUub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3NjZW5lPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgcj10aGlzLl9wYXJlbnRDb250YWluZXIudGV4dHVyZXMuaW5kZXhPZih0aGlzKTtyPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudGV4dHVyZXMuc3BsaWNlKHIsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9fXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5tZXRhZGF0YT1udWxsLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7aWYoIXRoaXMubmFtZSlyZXR1cm4gbnVsbDt2YXIgdD1KLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gSi5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHR9LGUuV2hlbkFsbFJlYWR5PWZ1bmN0aW9uKHQscil7dmFyIG49dC5sZW5ndGg7aWYobj09PTApe3IoKTtyZXR1cm59Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXRbYV07aWYocy5pc1JlYWR5KCkpLS1uPT09MCYmcigpO2Vsc2V7dmFyIG89cy5vbkxvYWRPYnNlcnZhYmxlO28/by5hZGRPbmNlKGZ1bmN0aW9uKCl7LS1uPT09MCYmcigpfSk6LS1uPT09MCYmcigpfX19LGUuX0lzU2NlbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Q2xhc3NOYW1lKCk9PT0iU2NlbmUifSxlLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMPTQsVChbUCgpXSxlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtQKCJoYXNBbHBoYSIpXSxlLnByb3RvdHlwZSwiX2hhc0FscGhhIix2b2lkIDApLFQoW1AoImdldEFscGhhRnJvbVJHQiIpXSxlLnByb3RvdHlwZSwiX2dldEFscGhhRnJvbVJHQiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJsZXZlbCIsdm9pZCAwKSxUKFtQKCJjb29yZGluYXRlc0luZGV4IildLGUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNJbmRleCIsdm9pZCAwKSxUKFtQKCJjb29yZGluYXRlc01vZGUiKV0sZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc01vZGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwid3JhcFUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsIndyYXBWIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3cmFwUiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImlzQ3ViZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXMzRCIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXMyREFycmF5IixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJnYW1tYVNwYWNlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbnZlcnRaIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxvZExldmVsSW5BbHBoYSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uT2Zmc2V0IixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uU2NhbGUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIixudWxsKSxUKFtIZSgpXSxlLnByb3RvdHlwZSwiaXJyYWRpYW5jZVRleHR1cmUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImlzUmVuZGVyVGFyZ2V0Iix2b2lkIDApLGV9KExhKTtmdW5jdGlvbiBjbihpLGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPWUud2lkdGgsbj1lLmhlaWdodDtpZihpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtmb3IodmFyIGE9aS5ieXRlTGVuZ3RoL2kuQllURVNfUEVSX0VMRU1FTlQscz1uZXcgVWludDhBcnJheShhKTstLWE+PTA7KXt2YXIgbz1pW2FdO288MD9vPTA6bz4xJiYobz0xKSxzW2FdPW8qMjU1fWk9c312YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt1LndpZHRoPXIsdS5oZWlnaHQ9bjt2YXIgZj11LmdldENvbnRleHQoIjJkIik7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGw9Zi5jcmVhdGVJbWFnZURhdGEocixuKSxoPWwuZGF0YTtpZihoLnNldChpKSxmLnB1dEltYWdlRGF0YShsLDAsMCksdCl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7Yy53aWR0aD1yLGMuaGVpZ2h0PW47dmFyIGQ9Yy5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBkPyhkLnRyYW5zbGF0ZSgwLG4pLGQuc2NhbGUoMSwtMSksZC5kcmF3SW1hZ2UodSwwLDApLGMudG9EYXRhVVJMKCJpbWFnZS9wbmciKSk6bnVsbH1yZXR1cm4gdS50b0RhdGFVUkwoImltYWdlL3BuZyIpfWZ1bmN0aW9uIEJhKGksZSx0KXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKTt2YXIgcj1pLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPWkuX3JlYWRQaXhlbHNTeW5jKGUsdCk7cmV0dXJuIG4/Y24obixpLmdldFNpemUoKSxyLmludmVydFkpOm51bGx9ZnVuY3Rpb24gVWEoaSxlLHQpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSxCcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiBGdCh0aGlzLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9aS5nZXRJbnRlcm5hbFRleHR1cmUoKSxyP1s0LGkucmVhZFBpeGVscyhlLHQpXTpbMixudWxsXTtjYXNlIDE6cmV0dXJuIG49YS5zZW50KCksbj9bMixjbihuLGkuZ2V0U2l6ZSgpLHIuaW52ZXJ0WSldOlsyLG51bGxdfX0pfSl9dmFyIHRlPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyl7cz09PXZvaWQgMCYmKHM9ZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxmPT09dm9pZCAwJiYoZj1udWxsKSxsPT09dm9pZCAwJiYobD0hMSk7dmFyIF89dGhpcyx2LHksRSxSLE0sQyxBLFMsdztfPWkuY2FsbCh0aGlzLHIpfHx0aGlzLF8udXJsPW51bGwsXy51T2Zmc2V0PTAsXy52T2Zmc2V0PTAsXy51U2NhbGU9MSxfLnZTY2FsZT0xLF8udUFuZz0wLF8udkFuZz0wLF8ud0FuZz0wLF8udVJvdGF0aW9uQ2VudGVyPS41LF8udlJvdGF0aW9uQ2VudGVyPS41LF8ud1JvdGF0aW9uQ2VudGVyPS41LF8uaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsXy5pbnNwZWN0YWJsZUN1c3RvbVByb3BlcnRpZXM9bnVsbCxfLl9ub01pcG1hcD0hMSxfLl9pbnZlcnRZPSExLF8uX3Jvd0dlbmVyYXRpb25NYXRyaXg9bnVsbCxfLl9jYWNoZWRUZXh0dXJlTWF0cml4PW51bGwsXy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9bnVsbCxfLl90MD1udWxsLF8uX3QxPW51bGwsXy5fdDI9bnVsbCxfLl9jYWNoZWRVT2Zmc2V0PS0xLF8uX2NhY2hlZFZPZmZzZXQ9LTEsXy5fY2FjaGVkVVNjYWxlPTAsXy5fY2FjaGVkVlNjYWxlPTAsXy5fY2FjaGVkVUFuZz0tMSxfLl9jYWNoZWRWQW5nPS0xLF8uX2NhY2hlZFdBbmc9LTEsXy5fY2FjaGVkUHJvamVjdGlvbk1hdHJpeElkPS0xLF8uX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj0tMSxfLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9LTEsXy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPS0xLF8uX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPSExLF8uX2NhY2hlZENvb3JkaW5hdGVzTW9kZT0tMSxfLl9idWZmZXI9bnVsbCxfLl9kZWxldGVCdWZmZXI9ITEsXy5fZm9ybWF0PW51bGwsXy5fZGVsYXllZE9uTG9hZD1udWxsLF8uX2RlbGF5ZWRPbkVycm9yPW51bGwsXy5vbkxvYWRPYnNlcnZhYmxlPW5ldyBPLF8uX2lzQmxvY2tpbmc9ITAsXy5uYW1lPXR8fCIiLF8udXJsPXQ7dmFyIEYseD0hMSxHPW51bGw7dHlwZW9mIG49PSJvYmplY3QiJiZuIT09bnVsbD8oRj0odj1uLm5vTWlwbWFwKSE9PW51bGwmJnYhPT12b2lkIDA/djohMSxhPSh5PW4uaW52ZXJ0WSkhPT1udWxsJiZ5IT09dm9pZCAwP3k6IWplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYscz0oRT1uLnNhbXBsaW5nTW9kZSkhPT1udWxsJiZFIT09dm9pZCAwP0U6ZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG89KFI9bi5vbkxvYWQpIT09bnVsbCYmUiE9PXZvaWQgMD9SOm51bGwsdT0oTT1uLm9uRXJyb3IpIT09bnVsbCYmTSE9PXZvaWQgMD9NOm51bGwsZj0oQz1uLmJ1ZmZlcikhPT1udWxsJiZDIT09dm9pZCAwP0M6bnVsbCxsPShBPW4uZGVsZXRlQnVmZmVyKSE9PW51bGwmJkEhPT12b2lkIDA/QTohMSxoPW4uZm9ybWF0LGM9bi5taW1lVHlwZSxkPW4ubG9hZGVyT3B0aW9ucyxwPW4uY3JlYXRpb25GbGFncyx4PShTPW4udXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZTIT09dm9pZCAwP1M6ITEsRz0odz1uLmludGVybmFsVGV4dHVyZSkhPT1udWxsJiZ3IT09dm9pZCAwP3c6bnVsbCk6Rj0hIW4sXy5fbm9NaXBtYXA9RixfLl9pbnZlcnRZPWE9PT12b2lkIDA/IWplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY6YSxfLl9pbml0aWFsU2FtcGxpbmdNb2RlPXMsXy5fYnVmZmVyPWYsXy5fZGVsZXRlQnVmZmVyPWwsXy5fbWltZVR5cGU9YyxfLl9sb2FkZXJPcHRpb25zPWQsXy5fY3JlYXRpb25GbGFncz1wLF8uX3VzZVNSR0JCdWZmZXI9eCxfLl9mb3JjZWRFeHRlbnNpb249ZyxoJiYoXy5fZm9ybWF0PWgpO3ZhciBXPV8uZ2V0U2NlbmUoKSxOPV8uX2dldEVuZ2luZSgpO2lmKCFOKXJldHVybiBfO04ub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pO3ZhciBxPWZ1bmN0aW9uKCl7Xy5fdGV4dHVyZSYmKF8uX3RleHR1cmUuX2ludmVydFZTY2FsZSYmKF8udlNjYWxlKj0tMSxfLnZPZmZzZXQrPTEpLF8uX3RleHR1cmUuX2NhY2hlZFdyYXBVIT09bnVsbCYmKF8ud3JhcFU9Xy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUsXy5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCksXy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYhPT1udWxsJiYoXy53cmFwVj1fLl90ZXh0dXJlLl9jYWNoZWRXcmFwVixfLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsKSxfLl90ZXh0dXJlLl9jYWNoZWRXcmFwUiE9PW51bGwmJihfLndyYXBSPV8uX3RleHR1cmUuX2NhY2hlZFdyYXBSLF8uX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpKSxfLm9uTG9hZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJl8ub25Mb2FkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyksbyYmbygpLCFfLmlzQmxvY2tpbmcmJlcmJlcucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSwkPWZ1bmN0aW9uKFosail7Xy5fbG9hZGluZ0Vycm9yPSEwLF8uX2Vycm9yT2JqZWN0PXttZXNzYWdlOlosZXhjZXB0aW9uOmp9LHUmJnUoWixqKSxlLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pfTtpZighXy51cmwpcmV0dXJuIF8uX2RlbGF5ZWRPbkxvYWQ9cSxfLl9kZWxheWVkT25FcnJvcj0kLF87aWYoXy5fdGV4dHVyZT1HIT1udWxsP0c6Xy5fZ2V0RnJvbUNhY2hlKF8udXJsLEYscyxfLl9pbnZlcnRZLHgpLF8uX3RleHR1cmUpaWYoXy5fdGV4dHVyZS5pc1JlYWR5KXByLlNldEltbWVkaWF0ZShmdW5jdGlvbigpe3JldHVybiBxKCl9KTtlbHNle3ZhciBvZT1fLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQocSk7Xy5fdGV4dHVyZS5vbkVycm9yT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oWil7dmFyIGo7JChaLm1lc3NhZ2UsWi5leGNlcHRpb24pLChqPV8uX3RleHR1cmUpPT09bnVsbHx8aj09PXZvaWQgMHx8ai5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKG9lKX0pfWVsc2UgaWYoIVd8fCFXLnVzZURlbGF5ZWRUZXh0dXJlTG9hZGluZyl7dHJ5e18uX3RleHR1cmU9Ti5jcmVhdGVUZXh0dXJlKF8udXJsLEYsXy5faW52ZXJ0WSxXLHMscSwkLF8uX2J1ZmZlcix2b2lkIDAsXy5fZm9ybWF0LF8uX2ZvcmNlZEV4dGVuc2lvbixjLGQscCx4KX1jYXRjaChaKXt0aHJvdyAkKCJlcnJvciBsb2FkaW5nIixaKSxafWwmJihfLl9idWZmZXI9bnVsbCl9ZWxzZSBfLmRlbGF5TG9hZFN0YXRlPTQsXy5fZGVsYXllZE9uTG9hZD1xLF8uX2RlbGF5ZWRPbkVycm9yPSQ7cmV0dXJuIF99cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9NaXBtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9NaXBtYXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtaW1lVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW1lVHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQmxvY2tpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNCbG9ja2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lzQmxvY2tpbmc9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImludmVydFkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW52ZXJ0WX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS51cGRhdGVVUkw9ZnVuY3Rpb24odCxyLG4sYSl7cj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy51cmwmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLmdldFNjZW5lKCkubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpLCghdGhpcy5uYW1lfHx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSkmJih0aGlzLm5hbWU9dCksdGhpcy51cmw9dCx0aGlzLl9idWZmZXI9cix0aGlzLl9mb3JjZWRFeHRlbnNpb249YSx0aGlzLmRlbGF5TG9hZFN0YXRlPTQsbiYmKHRoaXMuX2RlbGF5ZWRPbkxvYWQ9biksdGhpcy5kZWxheUxvYWQoKX0sZS5wcm90b3R5cGUuZGVsYXlMb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5kZWxheUxvYWRTdGF0ZT09PTQpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTshdHx8KHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9wci5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT10LmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSx0LHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9fSxlLnByb3RvdHlwZS5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uPWZ1bmN0aW9uKHQscixuLGEpe3QqPXRoaXMuX2NhY2hlZFVTY2FsZSxyKj10aGlzLl9jYWNoZWRWU2NhbGUsdC09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHItPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxuLT10aGlzLndSb3RhdGlvbkNlbnRlcixiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsYSksYS54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxhLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LGEueis9dGhpcy53Um90YXRpb25DZW50ZXJ9LGUucHJvdG90eXBlLmNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PW51bGwmJnRoaXMudU9mZnNldD09PXQudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dC52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXQudVNjYWxlJiZ0aGlzLnZTY2FsZT09PXQudlNjYWxlJiZ0aGlzLnVBbmc9PT10LnVBbmcmJnRoaXMudkFuZz09PXQudkFuZyYmdGhpcy53QW5nPT09dC53QW5nfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9MSksdGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGUqdD09PXRoaXMuX2NhY2hlZFVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRWU2NhbGUmJnRoaXMudUFuZz09PXRoaXMuX2NhY2hlZFVBbmcmJnRoaXMudkFuZz09PXRoaXMuX2NhY2hlZFZBbmcmJnRoaXMud0FuZz09PXRoaXMuX2NhY2hlZFdBbmcmJnRoaXMudVJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyJiZ0aGlzLnZSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciYmdGhpcy53Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXImJnRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09PT10aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSlyZXR1cm4gdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUqdCx0aGlzLl9jYWNoZWRWU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkVUFuZz10aGlzLnVBbmcsdGhpcy5fY2FjaGVkVkFuZz10aGlzLnZBbmcsdGhpcy5fY2FjaGVkV0FuZz10aGlzLndBbmcsdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPXRoaXMudVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj10aGlzLnZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9dGhpcy53Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09dGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSwoIXRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh8fCF0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSYmKHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCksdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeD1uZXcgSSx0aGlzLl90MD1iLlplcm8oKSx0aGlzLl90MT1iLlplcm8oKSx0aGlzLl90Mj1iLlplcm8oKSksSS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMudkFuZyx0aGlzLnVBbmcsdGhpcy53QW5nLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpLHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0/KEkuVHJhbnNsYXRpb25Ub1JlZigtdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcixELk1hdHJpeFswXSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLEQuTWF0cml4WzFdKSxJLlNjYWxpbmdUb1JlZih0aGlzLl9jYWNoZWRVU2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlLDAsRC5NYXRyaXhbMl0pLEkuVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVT2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQsMCxELk1hdHJpeFszXSksRC5NYXRyaXhbMF0ubXVsdGlwbHlUb1JlZih0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFsxXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXguc2V0Um93RnJvbUZsb2F0cygyLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEzXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTRdLDEpKToodGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMCwwLHRoaXMuX3QwKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMSwwLDAsdGhpcy5fdDEpLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDEsMCx0aGlzLl90MiksdGhpcy5fdDEuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSx0aGlzLl90Mi5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLEkuRnJvbVZhbHVlc1RvUmVmKHRoaXMuX3QxLngsdGhpcy5fdDEueSx0aGlzLl90MS56LDAsdGhpcy5fdDIueCx0aGlzLl90Mi55LHRoaXMuX3QyLnosMCx0aGlzLl90MC54LHRoaXMuX3QwLnksdGhpcy5fdDAueiwwLDAsMCwwLDEsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCkpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gbj8obi5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc1RleHR1cmUocil9KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTp0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fSxlLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSlpZih0aGlzLmNvb3JkaW5hdGVzTW9kZT09PWUuUFJPSkVDVElPTl9NT0RFKXtpZih0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9PT1yLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9SS5aZXJvKCkpO3ZhciBuPXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBlLlBMQU5BUl9NT0RFOntJLklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeFswXT10aGlzLnVTY2FsZSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzVdPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXhbMTJdPXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzEzXT10aGlzLnZPZmZzZXQ7YnJlYWt9Y2FzZSBlLlBST0pFQ1RJT05fTU9ERTp7SS5Gcm9tVmFsdWVzVG9SZWYoLjUsMCwwLDAsMCwtLjUsMCwwLDAsMCwwLDAsLjUsLjUsMSwxLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4KTt2YXIgYT1yLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9YS51cGRhdGVGbGFnLGEubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0OkkuSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gbiYmci5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKHMpe3JldHVybiBzLmdldEFjdGl2ZVRleHR1cmVzKCkuaW5kZXhPZih0KSE9PS0xfSksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9e25vTWlwbWFwOnRoaXMuX25vTWlwbWFwLGludmVydFk6dGhpcy5faW52ZXJ0WSxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsb25Mb2FkOnZvaWQgMCxvbkVycm9yOnZvaWQgMCxidWZmZXI6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9idWZmZXI6dm9pZCAwLGRlbGV0ZUJ1ZmZlcjp0aGlzLl9kZWxldGVCdWZmZXIsZm9ybWF0OnRoaXMudGV4dHVyZUZvcm1hdCxtaW1lVHlwZTp0aGlzLm1pbWVUeXBlLGxvYWRlck9wdGlvbnM6dGhpcy5fbG9hZGVyT3B0aW9ucyxjcmVhdGlvbkZsYWdzOnRoaXMuX2NyZWF0aW9uRmxhZ3MsdXNlU1JHQkJ1ZmZlcjp0aGlzLl91c2VTUkdCQnVmZmVyfTtyZXR1cm4gSi5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Ll90ZXh0dXJlP3QuX3RleHR1cmUudXJsOm51bGwsdC5nZXRTY2VuZSgpLHIpfSx0aGlzKX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uYW1lO2UuU2VyaWFsaXplQnVmZmVyc3x8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikmJih0aGlzLm5hbWU9IiIpLHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTt2YXIgcj1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gcj8oKGUuU2VyaWFsaXplQnVmZmVyc3x8ZS5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnMpJiYodHlwZW9mIHRoaXMuX2J1ZmZlcj09InN0cmluZyImJnRoaXMuX2J1ZmZlci5zdWJzdHIoMCw1KT09PSJkYXRhOiI/KHIuYmFzZTY0U3RyaW5nPXRoaXMuX2J1ZmZlcixyLm5hbWU9ci5uYW1lLnJlcGxhY2UoImRhdGE6IiwiIikpOnRoaXMudXJsJiZ0aGlzLnVybC5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLl9idWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5P3IuYmFzZTY0U3RyaW5nPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsIitQaSh0aGlzLl9idWZmZXIpOihlLkZvcmNlU2VyaWFsaXplQnVmZmVyc3x8dGhpcy51cmwmJnRoaXMudXJsLnN0YXJ0c1dpdGgoImJsb2I6Iil8fHRoaXMuX2ZvcmNlU2VyaWFsaXplKSYmKHIuYmFzZTY0U3RyaW5nPSF0aGlzLl9lbmdpbmV8fHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuc3VwcG9ydFN5bmNUZXh0dXJlUmVhZD9CYSh0aGlzKTpVYSh0aGlzKSkpLHIuaW52ZXJ0WT10aGlzLl9pbnZlcnRZLHIuc2FtcGxpbmdNb2RlPXRoaXMuc2FtcGxpbmdNb2RlLHIuX2NyZWF0aW9uRmxhZ3M9dGhpcy5fY3JlYXRpb25GbGFncyxyLl91c2VTUkdCQnVmZmVyPXRoaXMuX3VzZVNSR0JCdWZmZXIsdGhpcy5uYW1lPXQscik6bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRleHR1cmUifSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMub25Mb2FkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsfSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXtpZih0LmN1c3RvbVR5cGUpe3ZhciBhPWdyLkluc3RhbnRpYXRlKHQuY3VzdG9tVHlwZSkscz1hLlBhcnNlKHQscixuKTtyZXR1cm4gdC5zYW1wbGluZ01vZGUmJnMudXBkYXRlU2FtcGxpbmdNb2RlJiZzLl9zYW1wbGluZ01vZGUmJnMuX3NhbXBsaW5nTW9kZSE9PXQuc2FtcGxpbmdNb2RlJiZzLnVwZGF0ZVNhbXBsaW5nTW9kZSh0LnNhbXBsaW5nTW9kZSksc31pZih0LmlzQ3ViZSYmIXQuaXNSZW5kZXJUYXJnZXQpcmV0dXJuIGUuX0N1YmVUZXh0dXJlUGFyc2VyKHQscixuKTtpZighdC5uYW1lJiYhdC5pc1JlbmRlclRhcmdldClyZXR1cm4gbnVsbDt2YXIgbz1mdW5jdGlvbigpe2lmKHUmJnUuX3RleHR1cmUmJih1Ll90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsLHUuX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwsdS5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCksdC5zYW1wbGluZ01vZGUpe3ZhciBmPXQuc2FtcGxpbmdNb2RlO3UmJnUuc2FtcGxpbmdNb2RlIT09ZiYmdS51cGRhdGVTYW1wbGluZ01vZGUoZil9aWYodSYmdC5hbmltYXRpb25zKWZvcih2YXIgbD0wO2w8dC5hbmltYXRpb25zLmxlbmd0aDtsKyspe3ZhciBoPXQuYW5pbWF0aW9uc1tsXSxjPVJ0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO2MmJnUuYW5pbWF0aW9ucy5wdXNoKGMuUGFyc2UoaCkpfX0sdT1KLlBhcnNlKGZ1bmN0aW9uKCl7dmFyIGYsbCxoLGM9ITA7aWYodC5ub01pcG1hcCYmKGM9ITEpLHQubWlycm9yUGxhbmUpe3ZhciBkPWUuX0NyZWF0ZU1pcnJvcih0Lm5hbWUsdC5yZW5kZXJUYXJnZXRTaXplLHIsYyk7cmV0dXJuIGQuX3dhaXRpbmdSZW5kZXJMaXN0PXQucmVuZGVyTGlzdCxkLm1pcnJvclBsYW5lPVpyLkZyb21BcnJheSh0Lm1pcnJvclBsYW5lKSxvKCksZH1lbHNlIGlmKHQuaXNSZW5kZXJUYXJnZXQpe3ZhciBwPW51bGw7aWYodC5pc0N1YmUpe2lmKHIucmVmbGVjdGlvblByb2Jlcylmb3IodmFyIGc9MDtnPHIucmVmbGVjdGlvblByb2Jlcy5sZW5ndGg7ZysrKXt2YXIgXz1yLnJlZmxlY3Rpb25Qcm9iZXNbZ107aWYoXy5uYW1lPT09dC5uYW1lKXJldHVybiBfLmN1YmVUZXh0dXJlfX1lbHNlIHA9ZS5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh0Lm5hbWUsdC5yZW5kZXJUYXJnZXRTaXplLHIsYywoZj10Ll9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmYhPT12b2lkIDA/ZjowKSxwLl93YWl0aW5nUmVuZGVyTGlzdD10LnJlbmRlckxpc3Q7cmV0dXJuIG8oKSxwfWVsc2V7dmFyIHY7aWYodC5iYXNlNjRTdHJpbmcpdj1lLkNyZWF0ZUZyb21CYXNlNjRTdHJpbmcodC5iYXNlNjRTdHJpbmcsdC5uYW1lLHIsIWMsdC5pbnZlcnRZLHQuc2FtcGxpbmdNb2RlLG8sKGw9dC5fY3JlYXRpb25GbGFncykhPT1udWxsJiZsIT09dm9pZCAwP2w6MCwoaD10Ll91c2VTUkdCQnVmZmVyKSE9PW51bGwmJmghPT12b2lkIDA/aDohMSk7ZWxzZXt2YXIgeT12b2lkIDA7dC5uYW1lJiZ0Lm5hbWUuaW5kZXhPZigiOi8vIik+MD95PXQubmFtZTp5PW4rdC5uYW1lLHQudXJsJiYodC51cmwuc3RhcnRzV2l0aCgiZGF0YToiKXx8ZS5Vc2VTZXJpYWxpemVkVXJsSWZBbnkpJiYoeT10LnVybCksdj1uZXcgZSh5LHIsIWMsdC5pbnZlcnRZLHQuc2FtcGxpbmdNb2RlLG8pfXJldHVybiB2fX0sdCxyKTtyZXR1cm4gdX0sZS5DcmVhdGVGcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQscixuLGEscyxvLHUsZixsLGgpe3JldHVybiBvPT09dm9pZCAwJiYobz1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPTUpLG5ldyBlKCJkYXRhOiIrcixuLGEscyxvLHUsZix0LCExLGwsdm9pZCAwLHZvaWQgMCxoKX0sZS5Mb2FkRnJvbURhdGFTdHJpbmc9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtyZXR1cm4gYT09PXZvaWQgMCYmKGE9ITEpLG89PT12b2lkIDAmJihvPSEwKSx1PT09dm9pZCAwJiYodT1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLGg9PT12b2lkIDAmJihoPTUpLHQuc3Vic3RyKDAsNSkhPT0iZGF0YToiJiYodD0iZGF0YToiK3QpLG5ldyBlKHQsbixzLG8sdSxmLGwscixhLGgsdm9pZCAwLHZvaWQgMCxjKX0sZS5TZXJpYWxpemVCdWZmZXJzPSEwLGUuRm9yY2VTZXJpYWxpemVCdWZmZXJzPSExLGUuT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZT1uZXcgTyxlLl9DdWJlVGV4dHVyZVBhcnNlcj1mdW5jdGlvbih0LHIsbil7dGhyb3cgWCgiQ3ViZVRleHR1cmUiKX0sZS5fQ3JlYXRlTWlycm9yPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIk1pcnJvclRleHR1cmUiKX0sZS5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbih0LHIsbixhLHMpe3Rocm93IFgoIlJlbmRlclRhcmdldFRleHR1cmUiKX0sZS5ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLGUuTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LGUuQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsZS5MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFPTMsZS5MSU5FQVJfTElORUFSX01JUExJTkVBUj0zLGUuTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxlLk5FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxlLk5FQVJFU1RfTElORUFSX01JUExJTkVBUj02LGUuTkVBUkVTVF9MSU5FQVI9NyxlLk5FQVJFU1RfTkVBUkVTVD0xLGUuTElORUFSX05FQVJFU1RfTUlQTkVBUkVTVD05LGUuTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLGUuTElORUFSX0xJTkVBUj0yLGUuTElORUFSX05FQVJFU1Q9MTIsZS5FWFBMSUNJVF9NT0RFPTAsZS5TUEhFUklDQUxfTU9ERT0xLGUuUExBTkFSX01PREU9MixlLkNVQklDX01PREU9MyxlLlBST0pFQ1RJT05fTU9ERT00LGUuU0tZQk9YX01PREU9NSxlLklOVkNVQklDX01PREU9NixlLkVRVUlSRUNUQU5HVUxBUl9NT0RFPTcsZS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERT04LGUuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxlLkNMQU1QX0FERFJFU1NNT0RFPTAsZS5XUkFQX0FERFJFU1NNT0RFPTEsZS5NSVJST1JfQUREUkVTU01PREU9MixlLlVzZVNlcmlhbGl6ZWRVcmxJZkFueT0hMSxUKFtQKCldLGUucHJvdG90eXBlLCJ1cmwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidU9mZnNldCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInVTY2FsZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2U2NhbGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidUFuZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2QW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIndBbmciLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidVJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInZSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNCbG9ja2luZyIsbnVsbCksZX0oTmEpO3dlKCJCQUJZTE9OLlRleHR1cmUiLHRlKSxKLl9UZXh0dXJlUGFyc2VyPXRlLlBhcnNlO3ZhciBWYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9hdHRhY2htZW50cz1udWxsLHRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj0hMSx0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyPSExLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD0hMSx0aGlzLl9pc011bHRpPWUsdGhpcy5faXNDdWJlPXQsdGhpcy5fc2l6ZT1yLHRoaXMuX2VuZ2luZT1uLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNDdWJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ3ViZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzTXVsdGkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNNdWx0aX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVycz4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2lkdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLmhlaWdodHx8dGhpcy5fc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImxheWVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLmxheWVyc3x8MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbMF0pIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNhbXBsZXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMudGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OjF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0U2FtcGxlcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5zYW1wbGVzPT09ZSYmIXI/ZTp0aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlcz1mdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9ITApLHRoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZyJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX0saS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzO3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0hMCkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPTEpLGE9PT12b2lkIDAmJihhPTE0KSwocz10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDB8fHMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1yLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZW5naW5lLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2l6ZSx7YmlsaW5lYXJGaWx0ZXJpbmc6dCxjb21wYXJpc29uRnVuY3Rpb246ZSxnZW5lcmF0ZVN0ZW5jaWw6cixpc0N1YmU6dGhpcy5faXNDdWJlLHNhbXBsZXM6bixkZXB0aFRleHR1cmVGb3JtYXQ6YX0sdGhpcyksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX0saS5wcm90b3R5cGUuX3NoYXJlRGVwdGg9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9LGkucHJvdG90eXBlLl9zd2FwQW5kRGllPWZ1bmN0aW9uKGUpe3RoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLl9zd2FwQW5kRGllKGUpLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5kaXNwb3NlKCEwKX0saS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbigpe3ZhciBlLHQscixuLGEscyxvPW51bGw7aWYodGhpcy5faXNNdWx0aSl7dmFyIHU9dGhpcy50ZXh0dXJlcztpZih1JiZ1Lmxlbmd0aD4wKXt2YXIgZj0hMSxsPXUubGVuZ3RoLGg9dVt1Lmxlbmd0aC0xXS5fc291cmNlOyhoPT09bWUuRGVwdGh8fGg9PT1tZS5EZXB0aFN0ZW5jaWwpJiYoZj0hMCxsLS0pO2Zvcih2YXIgYz1bXSxkPVtdLHA9MDtwPGw7KytwKXt2YXIgZz11W3BdO2MucHVzaChnLnNhbXBsaW5nTW9kZSksZC5wdXNoKGcudHlwZSl9dmFyIF89e3NhbXBsaW5nTW9kZXM6YyxnZW5lcmF0ZU1pcE1hcHM6dVswXS5nZW5lcmF0ZU1pcE1hcHMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsZ2VuZXJhdGVEZXB0aFRleHR1cmU6Zix0eXBlczpkLHRleHR1cmVDb3VudDpsfSx2PXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH07bz10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXQodixfKX19ZWxzZXt2YXIgeT17fTtpZih5LmdlbmVyYXRlRGVwdGhCdWZmZXI9dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcix5LmdlbmVyYXRlTWlwTWFwcz0odD0oZT10aGlzLnRleHR1cmUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5nZW5lcmF0ZU1pcE1hcHMpIT09bnVsbCYmdCE9PXZvaWQgMD90OiExLHkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcix5LnNhbXBsaW5nTW9kZT0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zYW1wbGluZ01vZGUseS50eXBlPShuPXRoaXMudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnR5cGUseS5mb3JtYXQ9KGE9dGhpcy50ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZm9ybWF0LHRoaXMuaXNDdWJlKW89dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMud2lkdGgseSk7ZWxzZXt2YXIgdj17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbGF5ZXJzOnRoaXMuaXMyREFycmF5PyhzPXRoaXMudGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmRlcHRoOnZvaWQgMH07bz10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh2LHkpfW8udGV4dHVyZS5pc1JlYWR5PSEwfXJldHVybiBvfSxpLnByb3RvdHlwZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5fdGV4dHVyZXMmJmUuX3RleHR1cmVzKWZvcih2YXIgdD0wO3Q8dGhpcy5fdGV4dHVyZXMubGVuZ3RoOysrdCl0aGlzLl90ZXh0dXJlc1t0XS5fc3dhcEFuZERpZShlLl90ZXh0dXJlc1t0XSwhMSksZS5fdGV4dHVyZXNbdF0uaXNSZWFkeT0hMDt0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fc3dhcEFuZERpZShlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmlzUmVhZHk9ITApLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpO2lmKCEhZSl7aWYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSl7dmFyIHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGluZ01vZGUscj10PT09Mnx8dD09PTN8fHQ9PT0xMTtlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fY29tcGFyaXNvbkZ1bmN0aW9uLHIsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxlcyl9dGhpcy5zYW1wbGVzPjEmJmUuc2V0U2FtcGxlcyh0aGlzLnNhbXBsZXMpLGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpLGUuZGlzcG9zZSgpfX0saS5wcm90b3R5cGUucmVsZWFzZVRleHR1cmVzPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZih0aGlzLl90ZXh0dXJlcylmb3IodmFyIHI9MDsodD1yPCgoZT10aGlzLl90ZXh0dXJlcyk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmxlbmd0aCkpIT09bnVsbCYmdCE9PXZvaWQgMCYmdDsrK3IpdGhpcy5fdGV4dHVyZXNbcl0uZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVzPW51bGx9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7dmFyIHQ7ZT09PXZvaWQgMCYmKGU9ITEpLGV8fCgodD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0aGlzLnJlbGVhc2VUZXh0dXJlcygpKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpfSxpfSgpLGthPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyl7dmFyIG89aS5jYWxsKHRoaXMsdCxyLG4sYSl8fHRoaXM7cmV0dXJuIG8uX2ZyYW1lYnVmZmVyPW51bGwsby5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwsby5fTVNBQUZyYW1lYnVmZmVyPW51bGwsby5fY29sb3JUZXh0dXJlQXJyYXk9bnVsbCxvLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbCxvLl9jb250ZXh0PXMsb31yZXR1cm4gZS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbigpe3ZhciB0PW51bGw7cmV0dXJuIHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5JiZ0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk/KHQ9dGhpcy5fZW5naW5lLmNyZWF0ZU11bHRpdmlld1JlbmRlclRhcmdldFRleHR1cmUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdC50ZXh0dXJlLmlzUmVhZHk9ITApOnQ9aS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlci5jYWxsKHRoaXMpLHR9LGUucHJvdG90eXBlLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbih0KXtpLnByb3RvdHlwZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIuY2FsbCh0aGlzLHQpLHQuX2ZyYW1lYnVmZmVyPXRoaXMuX2ZyYW1lYnVmZmVyLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsdC5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcix0Ll9jb2xvclRleHR1cmVBcnJheT10aGlzLl9jb2xvclRleHR1cmVBcnJheSx0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5LHRoaXMuX2ZyYW1lYnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGx9LGUucHJvdG90eXBlLl9zaGFyZURlcHRoPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLl9zaGFyZURlcHRoLmNhbGwodGhpcyx0KTt2YXIgcj10aGlzLl9jb250ZXh0LG49dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLGE9dC5fZnJhbWVidWZmZXI7dC5fZGVwdGhTdGVuY2lsQnVmZmVyJiZyLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0Ll9kZXB0aFN0ZW5jaWxCdWZmZXIpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpLHIuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoci5GUkFNRUJVRkZFUixyLkRFUFRIX0FUVEFDSE1FTlQsci5SRU5ERVJCVUZGRVIsbiksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfSxlLnByb3RvdHlwZS5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24odCxyLG4sYSl7aWYocj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49LTEpLGE9PT12b2lkIDAmJihhPTApLCEhdC5faGFyZHdhcmVUZXh0dXJlKXt2YXIgcz10aGlzLl9jb250ZXh0LG89dGhpcy5fZnJhbWVidWZmZXIsdT10aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZWJ1ZmZlcjt0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobyk7dmFyIGY9c1t0aGlzLl9lbmdpbmUud2ViR0xWZXJzaW9uPjE/IkNPTE9SX0FUVEFDSE1FTlQiK3I6IkNPTE9SX0FUVEFDSE1FTlQiK3IrIl9XRUJHTCJdLGw9biE9PS0xP3MuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK246cy5URVhUVVJFXzJEO3MuZnJhbWVidWZmZXJUZXh0dXJlMkQocy5GUkFNRUJVRkZFUixmLGwsdC5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSxhKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIodSl9fSxlLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0hMCksaS5wcm90b3R5cGUuc2V0VGV4dHVyZS5jYWxsKHRoaXMsdCxyLG4pLHRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KHQscil9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPXRoaXMuX2NvbnRleHQ7dHx8KHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5JiYodGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5KSx0aGlzLl9jb2xvclRleHR1cmVBcnJheT1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5KSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbCkpLHRoaXMuX2ZyYW1lYnVmZmVyJiYoci5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9mcmFtZWJ1ZmZlciksdGhpcy5fZnJhbWVidWZmZXI9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyJiYoci5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksdGhpcy5fTVNBQUZyYW1lYnVmZmVyJiYoci5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9NU0FBRnJhbWVidWZmZXIpLHRoaXMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0KX0sZX0oVmEpO2ZlLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1uZXcga2EoaSxlLHQsdGhpcyx0aGlzLl9nbCk7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5wdXNoKHIpLHJ9LGZlLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKGksZSl7dmFyIHQ9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCExLGkpLHI9e307ZSE9PXZvaWQgMCYmdHlwZW9mIGU9PSJvYmplY3QiPyhyLmdlbmVyYXRlRGVwdGhCdWZmZXI9ISFlLmdlbmVyYXRlRGVwdGhCdWZmZXIsci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ISFlLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLm5vQ29sb3JUYXJnZXQ9ISFlLm5vQ29sb3JUYXJnZXQpOihyLmdlbmVyYXRlRGVwdGhCdWZmZXI9ITAsci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ITEsci5ub0NvbG9yVGFyZ2V0PSExKTt2YXIgbj1yLm5vQ29sb3JUYXJnZXQ/bnVsbDp0aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoaSxlLCEwLG1lLlJlbmRlclRhcmdldCksYT1pLndpZHRofHxpLHM9aS5oZWlnaHR8fGksbz10aGlzLl9jdXJyZW50RnJhbWVidWZmZXIsdT10aGlzLl9nbCxmPXUuY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmKSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoISFyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLmdlbmVyYXRlRGVwdGhCdWZmZXIsYSxzKSxuJiYhbi5pczJEQXJyYXkmJnUuZnJhbWVidWZmZXJUZXh0dXJlMkQodS5GUkFNRUJVRkZFUix1LkNPTE9SX0FUVEFDSE1FTlQwLHUuVEVYVFVSRV8yRCxuLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLDApLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobyksdC5fZnJhbWVidWZmZXI9Zix0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPXIuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ISFyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix0LnNldFRleHR1cmVzKG4pLHR9LGZlLnByb3RvdHlwZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGksZSx0KXtpZihlLmlzQ3ViZSl7dmFyIHI9aS53aWR0aHx8aTtyZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsQ3ViZVRleHR1cmUocixlLHQpfWVsc2UgcmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoaSxlLHQpfSxmZS5wcm90b3R5cGUuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPXRoaXMuX2dsLG49aS5sYXllcnN8fDAsYT1uIT09MD9yLlRFWFRVUkVfMkRfQVJSQVk6ci5URVhUVVJFXzJELHM9bmV3IHd0KHRoaXMsbWUuRGVwdGhTdGVuY2lsKTtpZighdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb24pcmV0dXJuIGsuRXJyb3IoIkRlcHRoIHRleHR1cmUgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIgb3IgaGFyZHdhcmUuIiksczt2YXIgbz1idCh7YmlsaW5lYXJGaWx0ZXJpbmc6ITEsY29tcGFyaXNvbkZ1bmN0aW9uOjAsZ2VuZXJhdGVTdGVuY2lsOiExfSxlKTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGEscywhMCksdGhpcy5fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKHMsaSxvLmdlbmVyYXRlU3RlbmNpbCxvLmNvbXBhcmlzb25GdW5jdGlvbj09PTA/ITE6by5iaWxpbmVhckZpbHRlcmluZyxvLmNvbXBhcmlzb25GdW5jdGlvbikscy5mb3JtYXQ9by5nZW5lcmF0ZVN0ZW5jaWw/MTM6MTYsdC5fZGVwdGhTdGVuY2lsVGV4dHVyZT1zLHQuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1vLmdlbmVyYXRlU3RlbmNpbDt2YXIgdT1vLmdlbmVyYXRlU3RlbmNpbD9yLlVOU0lHTkVEX0lOVF8yNF84OnIuVU5TSUdORURfSU5ULGY9by5nZW5lcmF0ZVN0ZW5jaWw/ci5ERVBUSF9TVEVOQ0lMOnIuREVQVEhfQ09NUE9ORU5ULGw9ZjtyZXR1cm4gdGhpcy53ZWJHTFZlcnNpb24+MSYmKGw9by5nZW5lcmF0ZVN0ZW5jaWw/ci5ERVBUSDI0X1NURU5DSUw4OnIuREVQVEhfQ09NUE9ORU5UMjQpLHMuaXMyREFycmF5P3IudGV4SW1hZ2UzRChhLDAsbCxzLndpZHRoLHMuaGVpZ2h0LG4sMCxmLHUsbnVsbCk6ci50ZXhJbWFnZTJEKGEsMCxsLHMud2lkdGgscy5oZWlnaHQsMCxmLHUsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShhLG51bGwpLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKHMpLHN9LGZlLnByb3RvdHlwZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQ9ZnVuY3Rpb24oaSxlKXtpZih0aGlzLndlYkdMVmVyc2lvbjwyfHwhaXx8IWkudGV4dHVyZSlyZXR1cm4gMTtpZihpLnNhbXBsZXM9PT1lKXJldHVybiBlO3ZhciB0PXRoaXMuX2dsO2U9TWF0aC5taW4oZSx0aGlzLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksaS5fZGVwdGhTdGVuY2lsQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoaS5fZGVwdGhTdGVuY2lsQnVmZmVyKSxpLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksaS5fTVNBQUZyYW1lYnVmZmVyJiYodC5kZWxldGVGcmFtZWJ1ZmZlcihpLl9NU0FBRnJhbWVidWZmZXIpLGkuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKTt2YXIgcj1pLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZTtpZihyLl9NU0FBUmVuZGVyQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoci5fTVNBQVJlbmRlckJ1ZmZlciksci5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSxlPjEmJnQucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKXt2YXIgbj10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtpLl9NU0FBRnJhbWVidWZmZXI9bix0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGkuX01TQUFGcmFtZWJ1ZmZlcik7dmFyIGE9dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkudGV4dHVyZS53aWR0aCxpLnRleHR1cmUuaGVpZ2h0LGUsLTEsdGhpcy5fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGkudGV4dHVyZS50eXBlKSx0LkNPTE9SX0FUVEFDSE1FTlQwLCExKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO3IuX01TQUFSZW5kZXJCdWZmZXI9YX1lbHNlIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoaS5fZnJhbWVidWZmZXIpO3JldHVybiBpLnRleHR1cmUuc2FtcGxlcz1lLGkuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhpLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsaS5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixpLnRleHR1cmUud2lkdGgsaS50ZXh0dXJlLmhlaWdodCxlKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLGV9LGZlLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZT1mdW5jdGlvbihpLGUpe3ZhciB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMCxpKSxyPWJ0KHtnZW5lcmF0ZU1pcE1hcHM6ITAsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjohMCxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6ITEsdHlwZTowLHNhbXBsaW5nTW9kZTozLGZvcm1hdDo1fSxlKTtyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1yLmdlbmVyYXRlRGVwdGhCdWZmZXImJnIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLChyLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fHIudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoci5zYW1wbGluZ01vZGU9MSk7dmFyIG49dGhpcy5fZ2wsYT1uZXcgd3QodGhpcyxtZS5SZW5kZXJUYXJnZXQpO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLGEsITApO3ZhciBzPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhyLnNhbXBsaW5nTW9kZSxyLmdlbmVyYXRlTWlwTWFwcyk7ci50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoci50eXBlPTAsay5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gQ3ViZSByZW5kZXIgdGFyZ2V0IGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTkVTSUdORURfQllURSB0eXBlIikpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX01BR19GSUxURVIscy5tYWcpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX01JTl9GSUxURVIscy5taW4pLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX1dSQVBfUyxuLkNMQU1QX1RPX0VER0UpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX1dSQVBfVCxuLkNMQU1QX1RPX0VER0UpO2Zvcih2YXIgbz0wO288NjtvKyspbi50ZXhJbWFnZTJEKG4uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28sMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChyLnR5cGUsci5mb3JtYXQpLGksaSwwLHRoaXMuX2dldEludGVybmFsRm9ybWF0KHIuZm9ybWF0KSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKHIudHlwZSksbnVsbCk7dmFyIHU9bi5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JldHVybiB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHUpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLmdlbmVyYXRlRGVwdGhCdWZmZXIsaSxpKSxyLmdlbmVyYXRlTWlwTWFwcyYmbi5nZW5lcmF0ZU1pcG1hcChuLlRFWFRVUkVfQ1VCRV9NQVApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdC5fZnJhbWVidWZmZXI9dSx0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPXIuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsYS53aWR0aD1pLGEuaGVpZ2h0PWksYS5pc1JlYWR5PSEwLGEuaXNDdWJlPSEwLGEuc2FtcGxlcz0xLGEuZ2VuZXJhdGVNaXBNYXBzPXIuZ2VuZXJhdGVNaXBNYXBzLGEuc2FtcGxpbmdNb2RlPXIuc2FtcGxpbmdNb2RlLGEudHlwZT1yLnR5cGUsYS5mb3JtYXQ9ci5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2goYSksdC5zZXRUZXh0dXJlcyhhKSx0fTt2YXIgVnQ9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8sdix5KXtzPT09dm9pZCAwJiYocz0hMCksbz09PXZvaWQgMCYmKG89MCksdT09PXZvaWQgMCYmKHU9ITEpLGY9PT12b2lkIDAmJihmPXRlLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLGw9PT12b2lkIDAmJihsPSEwKSxoPT09dm9pZCAwJiYoaD0hMSksYz09PXZvaWQgMCYmKGM9ITEpLGQ9PT12b2lkIDAmJihkPTUpLHA9PT12b2lkIDAmJihwPSExKSx2PT09dm9pZCAwJiYodj0hMSkseT09PXZvaWQgMCYmKHk9ITEpO3ZhciBFPXRoaXMsUjtpZihFPWkuY2FsbCh0aGlzLG51bGwsbiwhYSx2b2lkIDAsZix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZCl8fHRoaXMsRS5yZW5kZXJQYXJ0aWNsZXM9ITAsRS5yZW5kZXJTcHJpdGVzPSExLEUuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITEsRS5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBPLEUub25BZnRlclVuYmluZE9ic2VydmFibGU9bmV3IE8sRS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sRS5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxFLm9uQ2xlYXJPYnNlcnZhYmxlPW5ldyBPLEUub25SZXNpemVPYnNlcnZhYmxlPW5ldyBPLEUuX2NsZWFyZWQ9ITEsRS5za2lwSW5pdGlhbENsZWFyPSExLEUuX2N1cnJlbnRSZWZyZXNoSWQ9LTEsRS5fcmVmcmVzaFJhdGU9MSxFLl9zYW1wbGVzPTEsRS5fY2FuUmVzY2FsZT0hMCxFLl9yZW5kZXJUYXJnZXQ9bnVsbCxFLmJvdW5kaW5nQm94UG9zaXRpb249Yi5aZXJvKCksbj1FLmdldFNjZW5lKCksIW4pcmV0dXJuIEU7dmFyIE09RS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3JldHVybiBFLl9jb29yZGluYXRlc01vZGU9dGUuUFJPSkVDVElPTl9NT0RFLEUucmVuZGVyTGlzdD1uZXcgQXJyYXksRS5uYW1lPXQsRS5pc1JlbmRlclRhcmdldD0hMCxFLl9pbml0aWFsU2l6ZVBhcmFtZXRlcj1yLEUuX3JlbmRlclBhc3NJZHM9W10sRS5faXNDdWJlRGF0YT11LEUuX3Byb2Nlc3NTaXplUGFyYW1ldGVyKHIpLEUucmVuZGVyUGFzc0lkPUUuX3JlbmRlclBhc3NJZHNbMF0sRS5fcmVzaXplT2JzZXJ2ZXI9TS5vblJlc2l6ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7fSksRS5fZ2VuZXJhdGVNaXBNYXBzPSEhYSxFLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvPXMsRS5fcmVuZGVyaW5nTWFuYWdlcj1uZXcgTXIobiksRS5fcmVuZGVyaW5nTWFuYWdlci5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMCxjfHwoRS5fcmVuZGVyVGFyZ2V0T3B0aW9ucz17Z2VuZXJhdGVNaXBNYXBzOmEsdHlwZTpvLGZvcm1hdDooUj1FLl9mb3JtYXQpIT09bnVsbCYmUiE9PXZvaWQgMD9SOnZvaWQgMCxzYW1wbGluZ01vZGU6RS5zYW1wbGluZ01vZGUsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpsLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjpoLHNhbXBsZXM6ZyxjcmVhdGlvbkZsYWdzOl8sbm9Db2xvclRhcmdldDp2LHVzZVNSR0JCdWZmZXI6eX0sRS5zYW1wbGluZ01vZGU9PT10ZS5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKEUud3JhcFU9dGUuQ0xBTVBfQUREUkVTU01PREUsRS53cmFwVj10ZS5DTEFNUF9BRERSRVNTTU9ERSkscHx8KHU/KEUuX3JlbmRlclRhcmdldD1uLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKEUuZ2V0UmVuZGVyU2l6ZSgpLEUuX3JlbmRlclRhcmdldE9wdGlvbnMpLEUuY29vcmRpbmF0ZXNNb2RlPXRlLklOVkNVQklDX01PREUsRS5fdGV4dHVyZU1hdHJpeD1JLklkZW50aXR5KCkpOkUuX3JlbmRlclRhcmdldD1uLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoRS5fc2l6ZSxFLl9yZW5kZXJUYXJnZXRPcHRpb25zKSxFLl90ZXh0dXJlPUUuX3JlbmRlclRhcmdldC50ZXh0dXJlLGchPT12b2lkIDAmJihFLnNhbXBsZXM9ZykpKSxFfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlckxpc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyTGlzdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlckxpc3Q9dCx0aGlzLl9yZW5kZXJMaXN0JiZ0aGlzLl9ob29rQXJyYXkodGhpcy5fcmVuZGVyTGlzdCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2hvb2tBcnJheT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcyxvPVtdLHU9MDt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKW9bdV09YXJndW1lbnRzW3VdO3ZhciBmPXQubGVuZ3RoPT09MCxsPW4uYXBwbHkodCxvKTtyZXR1cm4gZiYmKChzPXIuZ2V0U2NlbmUoKSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLm1lc2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2guX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0pKSxsfTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1LGY9YS5hcHBseSh0LFtzLG9dKTtyZXR1cm4gdC5sZW5ndGg9PT0wJiYoKHU9ci5nZXRTY2VuZSgpKT09PW51bGx8fHU9PT12b2lkIDB8fHUubWVzaGVzLmZvckVhY2goZnVuY3Rpb24obCl7bC5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSkpLGZ9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc3RQcm9jZXNzZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wcmVQYXNzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldCYmdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldC5lbmFibGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25BZnRlclVuYmluZCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXImJnRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciksdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZWZvcmVSZW5kZXIiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25BZnRlclJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25DbGVhciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkNsZWFyT2JzZXJ2ZXImJnRoaXMub25DbGVhck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ2xlYXJPYnNlcnZlciksdGhpcy5fb25DbGVhck9ic2VydmVyPXRoaXMub25DbGVhck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyUGFzc0lkcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY3VycmVudFJlZnJlc2hJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVmcmVzaElkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKHQscil7dmFyIG47QXJyYXkuaXNBcnJheSh0KT9uPXQ6bj1bdF07Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDsrK2EpZm9yKHZhciBzPTA7czx0aGlzLl9yZW5kZXJQYXNzSWRzLmxlbmd0aDsrK3MpblthXS5zZXRNYXRlcmlhbEZvclJlbmRlclBhc3ModGhpcy5fcmVuZGVyUGFzc0lkc1tzXSxyIT09dm9pZCAwP0FycmF5LmlzQXJyYXkocik/cltzXTpyOnZvaWQgMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyVGFyZ2V0T3B0aW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyVGFyZ2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fb25SYXRpb1Jlc2NhbGU9ZnVuY3Rpb24oKXt0aGlzLl9zaXplUmF0aW8mJnRoaXMucmVzaXplKHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJib3VuZGluZ0JveFNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCb3hTaXplfSxzZXQ6ZnVuY3Rpb24odCl7aWYoISh0aGlzLl9ib3VuZGluZ0JveFNpemUmJnRoaXMuX2JvdW5kaW5nQm94U2l6ZS5lcXVhbHModCkpKXt0aGlzLl9ib3VuZGluZ0JveFNpemU9dDt2YXIgcj10aGlzLmdldFNjZW5lKCk7ciYmci5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4ocj0odD10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5fZGVwdGhTdGVuY2lsVGV4dHVyZSkhPT1udWxsJiZyIT09dm9pZCAwP3I6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG87dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPSExKSxhPT09dm9pZCAwJiYoYT0xKSxzPT09dm9pZCAwJiYocz0xNCksKG89dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fG89PT12b2lkIDB8fG8uY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0LHIsbixhLHMpfSxlLnByb3RvdHlwZS5fcmVsZWFzZVJlbmRlclBhc3NJZD1mdW5jdGlvbigpe2lmKHRoaXMuX3NjZW5lKWZvcih2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPTA7cjx0aGlzLl9yZW5kZXJQYXNzSWRzLmxlbmd0aDsrK3IpdC5yZWxlYXNlUmVuZGVyUGFzc0lkKHRoaXMuX3JlbmRlclBhc3NJZHNbcl0pO3RoaXMuX3JlbmRlclBhc3NJZHM9W119LGUucHJvdG90eXBlLl9jcmVhdGVSZW5kZXJQYXNzSWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCk7Zm9yKHZhciB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9dGhpcy5faXNDdWJlRGF0YT82OnRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCl8fDEsbj0wO248cjsrK24pdGhpcy5fcmVuZGVyUGFzc0lkc1tuXT10LmNyZWF0ZVJlbmRlclBhc3NJZCgiUmVuZGVyVGFyZ2V0VGV4dHVyZSAtICIuY29uY2F0KHRoaXMubmFtZSwiIyIpLmNvbmNhdChuKSl9LGUucHJvdG90eXBlLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcj1mdW5jdGlvbih0KXtpZih0LnJhdGlvKXt0aGlzLl9zaXplUmF0aW89dC5yYXRpbzt2YXIgcj10aGlzLl9nZXRFbmdpbmUoKTt0aGlzLl9zaXplPXt3aWR0aDp0aGlzLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbihyLmdldFJlbmRlcldpZHRoKCksdGhpcy5fc2l6ZVJhdGlvKSxoZWlnaHQ6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oci5nZXRSZW5kZXJIZWlnaHQoKSx0aGlzLl9zaXplUmF0aW8pfX1lbHNlIHRoaXMuX3NpemU9dDt0aGlzLl9jcmVhdGVSZW5kZXJQYXNzSWQoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzYW1wbGVzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4ocj0odD10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0aGlzLl9zYW1wbGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVuZGVyVGFyZ2V0JiYodGhpcy5fc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXQuc2V0U2FtcGxlcyh0KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVzZXRSZWZyZXNoQ291bnRlcj1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVmcmVzaFJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVmcmVzaFJhdGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZWZyZXNoUmF0ZT10LHRoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFkZFBvc3RQcm9jZXNzPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIpe3ZhciByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm47dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBTcihyKSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX10aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2godCksdGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITF9LGUucHJvdG90eXBlLmNsZWFyUG9zdFByb2Nlc3Nlcz1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMSksISF0aGlzLl9wb3N0UHJvY2Vzc2VzKXtpZih0KWZvcih2YXIgcj0wLG49dGhpcy5fcG9zdFByb2Nlc3NlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLmRpc3Bvc2UoKX10aGlzLl9wb3N0UHJvY2Vzc2VzPVtdfX0sZS5wcm90b3R5cGUucmVtb3ZlUG9zdFByb2Nlc3M9ZnVuY3Rpb24odCl7aWYoISF0aGlzLl9wb3N0UHJvY2Vzc2VzKXt2YXIgcj10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCk7ciE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UociwxKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITEpKX19LGUucHJvdG90eXBlLl9zaG91bGRSZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZD09PS0xPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOnRoaXMucmVmcmVzaFJhdGU9PT10aGlzLl9jdXJyZW50UmVmcmVzaElkPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOih0aGlzLl9jdXJyZW50UmVmcmVzaElkKyssITEpfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgoKX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aD90aGlzLl9zaXplLndpZHRoOnRoaXMuX3NpemV9LGUucHJvdG90eXBlLmdldFJlbmRlckhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUuaGVpZ2h0OnRoaXMuX3NpemV9LGUucHJvdG90eXBlLmdldFJlbmRlckxheWVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NpemUubGF5ZXJzO3JldHVybiB0fHwwfSxlLnByb3RvdHlwZS5kaXNhYmxlUmVzY2FsaW5nPWZ1bmN0aW9uKCl7dGhpcy5fY2FuUmVzY2FsZT0hMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW5SZXNjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhblJlc2NhbGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7dmFyIHI9TWF0aC5tYXgoMSx0aGlzLmdldFJlbmRlclNpemUoKSp0KTt0aGlzLnJlc2l6ZShyKX0sZS5wcm90b3R5cGUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0N1YmU/dGhpcy5fdGV4dHVyZU1hdHJpeDppLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7dmFyIHIsbj10aGlzLmlzQ3ViZTsocj10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGw7dmFyIGE9dGhpcy5nZXRTY2VuZSgpOyFhfHwodGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIodCksbj90aGlzLl9yZW5kZXJUYXJnZXQ9YS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLmdldFJlbmRlclNpemUoKSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKTp0aGlzLl9yZW5kZXJUYXJnZXQ9YS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMhPT12b2lkIDAmJih0aGlzLnNhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQscil7dD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9yZW5kZXIodCxyKX0sZS5wcm90b3R5cGUuaXNSZWFkeUZvclJlbmRlcmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXIoITEsITEsITApfSxlLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKHQscixuKXt2YXIgYTt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSExKTt2YXIgcz10aGlzLmdldFNjZW5lKCk7aWYoIXMpcmV0dXJuIG47dmFyIG89cy5nZXRFbmdpbmUoKTtpZih0aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMhPT12b2lkIDAmJih0PXRoaXMudXNlQ2FtZXJhUG9zdFByb2Nlc3NlcyksdGhpcy5fd2FpdGluZ1JlbmRlckxpc3Qpe3RoaXMucmVuZGVyTGlzdD1bXTtmb3IodmFyIHU9MDt1PHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0Lmxlbmd0aDt1Kyspe3ZhciBmPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLGw9cy5nZXRNZXNoQnlJZChmKTtsJiZ0aGlzLnJlbmRlckxpc3QucHVzaChsKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTt2YXIgaD10aGlzLmdldFNjZW5lKCk7aWYoIWgpcmV0dXJuIG47Zm9yKHZhciBjPWgubWVzaGVzLHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIGw9Y1t1XTt0aGlzLnJlbmRlckxpc3RQcmVkaWNhdGUobCkmJnRoaXMucmVuZGVyTGlzdC5wdXNoKGwpfX12YXIgZD1vLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgcD0oYT10aGlzLmFjdGl2ZUNhbWVyYSkhPT1udWxsJiZhIT09dm9pZCAwP2E6cy5hY3RpdmVDYW1lcmE7cCYmKHAhPT1zLmFjdGl2ZUNhbWVyYSYmcy5zZXRUcmFuc2Zvcm1NYXRyaXgocC5nZXRWaWV3TWF0cml4KCkscC5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksby5zZXRWaWV3cG9ydChwLnZpZXdwb3J0LHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpKSksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMTt2YXIgZz1uO2lmKG4pe3MuZ2V0Vmlld01hdHJpeCgpfHxzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpO2Zvcih2YXIgeT10aGlzLmlzMkRBcnJheT90aGlzLmdldFJlbmRlckxheWVycygpOnRoaXMuaXNDdWJlPzY6MSxfPTA7Xzx5JiZnO18rKyl7dmFyIEU9bnVsbCxSPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3Q6cy5nZXRBY3RpdmVNZXNoZXMoKS5kYXRhLE09dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg6cy5nZXRBY3RpdmVNZXNoZXMoKS5sZW5ndGg7by5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbX10sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pLHRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKEU9dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KF8sUixNKSksRXx8KEU9UiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8cy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2Zvcih2YXIgQz0wO0M8RS5sZW5ndGgmJmc7KytDKXt2YXIgbD1FW0NdO2lmKCEoIWwuaXNFbmFibGVkKCl8fGwuaXNCbG9ja2VkfHwhbC5pc1Zpc2libGV8fCFsLnN1Yk1lc2hlcykpe2lmKHRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKXtpZighdGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24obCx0aGlzLnJlZnJlc2hSYXRlKSl7Zz0hMTticmVha319ZWxzZSBpZighbC5pc1JlYWR5KCEwKSl7Zz0hMTticmVha319fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pfX1lbHNlIGlmKHRoaXMuaXMyREFycmF5KWZvcih2YXIgXz0wO188dGhpcy5nZXRSZW5kZXJMYXllcnMoKTtfKyspdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCx0LHIsXyxwKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSBpZih0aGlzLmlzQ3ViZSlmb3IodmFyIHY9MDt2PDY7disrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KHYsdCxyLHZvaWQgMCxwKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSB0aGlzLl9yZW5kZXJUb1RhcmdldCgwLHQscix2b2lkIDAscCk7cmV0dXJuIHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLG8uY3VycmVudFJlbmRlclBhc3NJZD1kLHMuYWN0aXZlQ2FtZXJhJiYoKHMuZ2V0RW5naW5lKCkuc2NlbmVzLmxlbmd0aD4xfHx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEhPT1zLmFjdGl2ZUNhbWVyYSkmJnMuc2V0VHJhbnNmb3JtTWF0cml4KHMuYWN0aXZlQ2FtZXJhLmdldFZpZXdNYXRyaXgoKSxzLmFjdGl2ZUNhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksby5zZXRWaWV3cG9ydChzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCkpLHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGd9LGUucHJvdG90eXBlLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbj1mdW5jdGlvbih0LHIpe3ZhciBuPTEyOCxhPXQqcixzPWhlLk5lYXJlc3RQT1QoYStuKm4vKG4rYSkpO3JldHVybiBNYXRoLm1pbihoZS5GbG9vclBPVCh0KSxzKX0sZS5wcm90b3R5cGUuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyPWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzPXRoaXMuZ2V0U2NlbmUoKTtpZighIXMpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKTtmb3IodmFyIG89cy5nZXRSZW5kZXJJZCgpLHU9MDt1PHI7dSsrKXt2YXIgZj10W3VdO2lmKGYmJiFmLmlzQmxvY2tlZCl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihmLHRoaXMucmVmcmVzaFJhdGUpKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX19ZWxzZSBpZighZi5pc1JlYWR5KHRoaXMucmVmcmVzaFJhdGU9PT0wKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9aWYoIWYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlJiZzLmFjdGl2ZUNhbWVyYSYmKGYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9cy5jdXN0b21MT0RTZWxlY3Rvcj9zLmN1c3RvbUxPRFNlbGVjdG9yKGYsdGhpcy5hY3RpdmVDYW1lcmF8fHMuYWN0aXZlQ2FtZXJhKTpmLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYXx8cy5hY3RpdmVDYW1lcmEpLGYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwKSwhZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRCljb250aW51ZTt2YXIgbD1mLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EO2wuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKG8pO3ZhciBoPXZvaWQgMDtpZihhJiZuP2g9KGYubGF5ZXJNYXNrJm4ubGF5ZXJNYXNrKT09PTA6aD0hMSxmLmlzRW5hYmxlZCgpJiZmLmlzVmlzaWJsZSYmZi5zdWJNZXNoZXMmJiFoJiYobCE9PWYmJmwuX2FjdGl2YXRlKG8sITApLGYuX2FjdGl2YXRlKG8sITApJiZmLnN1Yk1lc2hlcy5sZW5ndGgpKXtmLmlzQW5JbnN0YW5jZT9mLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYobD1mKTpsLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLGwuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSEwO2Zvcih2YXIgYz0wO2M8bC5zdWJNZXNoZXMubGVuZ3RoO2MrKyl7dmFyIGQ9bC5zdWJNZXNoZXNbY107dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaChkLGwpfX19fWZvcih2YXIgcD0wO3A8cy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3ArKyl7dmFyIGc9cy5wYXJ0aWNsZVN5c3RlbXNbcF0sXz1nLmVtaXR0ZXI7IWcuaXNTdGFydGVkKCl8fCFffHwhXy5wb3NpdGlvbnx8IV8uaXNFbmFibGVkKCl8fHQuaW5kZXhPZihfKT49MCYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhnKX19fSxlLnByb3RvdHlwZS5fYmluZEZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQscil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCk7dmFyIG49dGhpcy5nZXRTY2VuZSgpO2lmKCEhbil7dmFyIGE9bi5nZXRFbmdpbmUoKTt0aGlzLl9yZW5kZXJUYXJnZXQmJmEuYmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlbmRlclRhcmdldCx0aGlzLmlzQ3ViZT90OnZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQsMCxyKX19LGUucHJvdG90eXBlLl91bmJpbmRGcmFtZUJ1ZmZlcj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7IXRoaXMuX3JlbmRlclRhcmdldHx8dC51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmUsZnVuY3Rpb24oKXtuLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX0pfSxlLnByb3RvdHlwZS5fcHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQscixuLGEpe3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wcmVQYXNzRW5hYmxlZHx8dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSx0aGlzLl9wb3N0UHJvY2Vzc2VzKTooIWF8fCF0LnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKHRoaXMuX3RleHR1cmUpKSYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHIsbil9LGUucHJvdG90eXBlLl9yZW5kZXJUb1RhcmdldD1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvLHUsZixsLGgsYzthPT09dm9pZCAwJiYoYT0wKSxzPT09dm9pZCAwJiYocz1udWxsKTt2YXIgZD10aGlzLmdldFNjZW5lKCk7aWYoISFkKXt2YXIgcD1kLmdldEVuZ2luZSgpOyhvPXAuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbChwLCJyZW5kZXIgdG8gZmFjZSAjIi5jb25jYXQodCwiIGxheWVyICMiKS5jb25jYXQoYSksMSksdGhpcy5fcHJlcGFyZUZyYW1lKGQsdCxhLHIpLHRoaXMuaXMyREFycmF5PyhwLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1thXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSkpOihwLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1t0XSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpO3ZhciBnPXAuc25hcHNob3RSZW5kZXJpbmcmJnAuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MTtpZihnKXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocCk6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxwLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKTtlbHNle3ZhciBfPW51bGwsdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OmQuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSx5PXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOmQuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3RoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKF89dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KHRoaXMuaXMyREFycmF5P2E6dCx2LHkpKSxfP3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKF8sXy5sZW5ndGgscywhMSk6KHRoaXMuX2RlZmF1bHRSZW5kZXJMaXN0UHJlcGFyZWR8fCh0aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcih2LHkscywhdGhpcy5yZW5kZXJMaXN0KSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSEwKSxfPXYpO2Zvcih2YXIgRT0wLFI9ZC5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZTtFPFIubGVuZ3RoO0UrKyl7dmFyIE09UltFXTtNLmFjdGlvbih0aGlzLHQsYSl9dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhwKTp0aGlzLnNraXBJbml0aWFsQ2xlYXJ8fHAuY2xlYXIodGhpcy5jbGVhckNvbG9yfHxkLmNsZWFyQ29sb3IsITAsITAsITApLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fGQudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKTtmb3IodmFyIEM9MCxBPWQuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZTtDPEEubGVuZ3RoO0MrKyl7dmFyIE09QVtDXTtNLmFjdGlvbih0aGlzLHQsYSl9dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIodGhpcy5jdXN0b21SZW5kZXJGdW5jdGlvbixfLHRoaXMucmVuZGVyUGFydGljbGVzLHRoaXMucmVuZGVyU3ByaXRlcyk7Zm9yKHZhciBTPTAsdz1kLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZTtTPHcubGVuZ3RoO1MrKyl7dmFyIE09d1tTXTtNLmFjdGlvbih0aGlzLHQsYSl9dmFyIEY9KGY9KHU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZmIT09dm9pZCAwP2Y6ITE7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChsPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZsIT09dm9pZCAwP2w6dm9pZCAwLHQsdGhpcy5fcG9zdFByb2Nlc3Nlcyx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0KTpyJiZkLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSghMSwoaD10aGlzLl9yZW5kZXJUYXJnZXQpIT09bnVsbCYmaCE9PXZvaWQgMD9oOnZvaWQgMCx0KSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9RiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ZC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApLG4mJl9lLkR1bXBGcmFtZWJ1ZmZlcih0aGlzLmdldFJlbmRlcldpZHRoKCksdGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxwKX10aGlzLl91bmJpbmRGcmFtZUJ1ZmZlcihwLHQpLHRoaXMuX3RleHR1cmUmJnRoaXMuaXNDdWJlJiZ0PT09NSYmcC5nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwKHRoaXMuX3RleHR1cmUpLChjPXAuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5jYWxsKHAsMSl9fSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdPcmRlcj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKHQscixuLGEpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24odCxyKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbCh0LHIpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITF9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTaXplKCkscj1uZXcgZSh0aGlzLm5hbWUsdCx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gci5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHIubGV2ZWw9dGhpcy5sZXZlbCxyLmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJihyLnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSxyfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO3ZhciB0PWkucHJvdG90eXBlLnNlcmlhbGl6ZS5jYWxsKHRoaXMpO2lmKHQucmVuZGVyVGFyZ2V0U2l6ZT10aGlzLmdldFJlbmRlclNpemUoKSx0LnJlbmRlckxpc3Q9W10sdGhpcy5yZW5kZXJMaXN0KWZvcih2YXIgcj0wO3I8dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDtyKyspdC5yZW5kZXJMaXN0LnB1c2godGhpcy5yZW5kZXJMaXN0W3JdLmlkKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cz1mdW5jdGlvbigpe3ZhciB0Oyh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoITApfSxlLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmKHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW51bGwpLHRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQmJnRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQuZGlzcG9zZSgpLHRoaXMuX3JlbGVhc2VSZW5kZXJQYXNzSWQoKSx0aGlzLmNsZWFyUG9zdFByb2Nlc3NlcyghMCksdGhpcy5fcmVzaXplT2JzZXJ2ZXImJih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkub25SZXNpemVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9yZXNpemVPYnNlcnZlciksdGhpcy5fcmVzaXplT2JzZXJ2ZXI9bnVsbCksdGhpcy5yZW5kZXJMaXN0PW51bGw7dmFyIHI9dGhpcy5nZXRTY2VuZSgpO2lmKCEhcil7dmFyIG49ci5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyk7bj49MCYmci5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShuLDEpO2Zvcih2YXIgYT0wLHM9ci5jYW1lcmFzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO249by5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksbj49MCYmby5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShuLDEpfSh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl90ZXh0dXJlPW51bGwsaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfX0sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hSYXRlPT09ZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSYmKHRoaXMucmVmcmVzaFJhdGU9ZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0sZS5wcm90b3R5cGUuZnJlZVJlbmRlcmluZ0dyb3Vwcz1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfSxlLnByb3RvdHlwZS5nZXRWaWV3Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRT0wLGUuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllGUkFNRT0xLGUuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllUV09GUkFNRVM9MixlfSh0ZSk7dGUuX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oaSxlLHQscixuKXtyZXR1cm4gbmV3IFZ0KGksZSx0LHIpfTt2YXIgV2E9InBvc3Rwcm9jZXNzVmVydGV4U2hhZGVyIix6YT1gYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CnVuaWZvcm0gdmVjMiBzY2FsZTsKdmFyeWluZyB2ZWMyIHZVVjsKY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2VVY9KHBvc2l0aW9uKm1hZGQrbWFkZCkqc2NhbGU7CmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtMLlNoYWRlcnNTdG9yZVtXYV09emE7dmFyIG5yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyl7bz09PXZvaWQgMCYmKG89MSksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9MCksYz09PXZvaWQgMCYmKGM9InBvc3Rwcm9jZXNzIikscD09PXZvaWQgMCYmKHA9ITEpLGc9PT12b2lkIDAmJihnPTUpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMud2lkdGg9LTEsdGhpcy5oZWlnaHQ9LTEsdGhpcy5ub2RlTWF0ZXJpYWxTb3VyY2U9bnVsbCx0aGlzLl9vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hbHBoYU1vZGU9MCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT0hMSx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuc2NhbGVNb2RlPTEsdGhpcy5hbHdheXNGb3JjZVBPVD0hMSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQ9ITEsdGhpcy5fcmV1c2FibGU9ITEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSExLHRoaXMuX3RleHR1cmVzPW5ldyBWZSgyKSx0aGlzLl90ZXh0dXJlQ2FjaGU9W10sdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9MCx0aGlzLl9zY2FsZVJhdGlvPW5ldyBTZSgxLDEpLHRoaXMuX3RleGVsU2l6ZT1TZS5aZXJvKCksdGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25BcHBseU9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm5hbWU9ZSxzIT1udWxsPyh0aGlzLl9jYW1lcmE9cyx0aGlzLl9zY2VuZT1zLmdldFNjZW5lKCkscy5hdHRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSk6dSYmKHRoaXMuX2VuZ2luZT11LHRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnB1c2godGhpcykpLHRoaXMuX29wdGlvbnM9YSx0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZT1vfHwxLHRoaXMuX3JldXNhYmxlPWZ8fCExLHRoaXMuX3RleHR1cmVUeXBlPWgsdGhpcy5fdGV4dHVyZUZvcm1hdD1nLHRoaXMuX3NhbXBsZXJzPW58fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9Yyx0aGlzLl9wYXJhbWV0ZXJzPXJ8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9ZCx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgcXQodGhpcy5fZW5naW5lKSxwfHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzYW1wbGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3NhbXBsZXM9TWF0aC5taW4oZSx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLm1heE1TQUFTYW1wbGVzKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Iuc2FtcGxlcyE9PXQuX3NhbXBsZXMmJnQuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQocix0Ll9zYW1wbGVzKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldEVmZmVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRVcmx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25BY3RpdmF0ZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvblNpemVDaGFuZ2VkIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlciYmdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyKSx0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXI9dGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkFwcGx5Iix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQXBwbHlPYnNlcnZlciYmdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BcHBseU9ic2VydmVyKSx0aGlzLl9vbkFwcGx5T2JzZXJ2ZXI9dGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJlZm9yZVJlbmRlciIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkFmdGVyUmVuZGVyIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpbnB1dFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXMuZGF0YVt0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF19LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzdG9yZURlZmF1bHRJbnB1dFRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1udWxsLHRoaXMubWFya1RleHR1cmVEaXJ0eSgpKX0saS5wcm90b3R5cGUuZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXhlbFNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MudGV4ZWxTaXplOih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiZ0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQpLHRoaXMuX3RleGVsU2l6ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlBvc3RQcm9jZXNzIn0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0saS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuc2hhcmVPdXRwdXRXaXRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaXNwb3NlVGV4dHVyZXMoKSx0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz1lLHRoaXN9LGkucHJvdG90eXBlLnVzZU93bk91dHB1dD1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD09MCYmKHRoaXMuX3RleHR1cmVzPW5ldyBWZSgyKSksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9bnVsbH0saS5wcm90b3R5cGUudXBkYXRlRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksdD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzPWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PXRoaXMuX2VuZ2luZS5jcmVhdGVFZmZlY3Qoe3ZlcnRleDpvIT1udWxsP286dGhpcy5fdmVydGV4VXJsLGZyYWdtZW50OnUhPW51bGw/dTp0aGlzLl9mcmFnbWVudFVybH0sWyJwb3NpdGlvbiJdLHR8fHRoaXMuX3BhcmFtZXRlcnMscnx8dGhpcy5fc2FtcGxlcnMsZSE9PW51bGw/ZToiIix2b2lkIDAsYSxzLG58fHRoaXMuX2luZGV4UGFyYW1ldGVycyl9LGkucHJvdG90eXBlLmlzUmV1c2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV1c2FibGV9LGkucHJvdG90eXBlLm1hcmtUZXh0dXJlRGlydHk9ZnVuY3Rpb24oKXt0aGlzLndpZHRoPS0xfSxpLnByb3RvdHlwZS5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9MCk7Zm9yKHZhciBuPTA7bjx0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoO24rKylpZih0aGlzLl90ZXh0dXJlQ2FjaGVbbl0udGV4dHVyZS53aWR0aD09PWUud2lkdGgmJnRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlLmhlaWdodD09PWUuaGVpZ2h0JiZ0aGlzLl90ZXh0dXJlQ2FjaGVbbl0ucG9zdFByb2Nlc3NDaGFubmVsPT09ciYmdGhpcy5fdGV4dHVyZUNhY2hlW25dLnRleHR1cmUuX2dlbmVyYXRlRGVwdGhCdWZmZXI9PT10LmdlbmVyYXRlRGVwdGhCdWZmZXIpcmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlO3ZhciBhPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOmEscG9zdFByb2Nlc3NDaGFubmVsOnIsbGFzdFVzZWRSZW5kZXJJZDotMX0pLGF9LGkucHJvdG90eXBlLl9mbHVzaFRleHR1cmVDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9yZW5kZXJJZCx0PXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihlLXRoaXMuX3RleHR1cmVDYWNoZVt0XS5sYXN0VXNlZFJlbmRlcklkPjEwMCl7Zm9yKHZhciByPSExLG49MDtuPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtuKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtuXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtyPSEwO2JyZWFrfXJ8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19LGkucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oZSx0LHIsbixhKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg+MCYmdGhpcy5fdGV4dHVyZXMucmVzZXQoKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dDtmb3IodmFyIHM9bnVsbCxvPTA7bzxyLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtvKyspaWYoci5fcG9zdFByb2Nlc3Nlc1tvXSE9PW51bGwpe3M9ci5fcG9zdFByb2Nlc3Nlc1tvXTticmVha312YXIgdT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LGY9e2dlbmVyYXRlTWlwTWFwczpuLGdlbmVyYXRlRGVwdGhCdWZmZXI6YXx8cz09PXRoaXMsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOihhfHxzPT09dGhpcykmJnRoaXMuX2VuZ2luZS5pc1N0ZW5jaWxFbmFibGUsc2FtcGxpbmdNb2RlOnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLHR5cGU6dGhpcy5fdGV4dHVyZVR5cGUsZm9ybWF0OnRoaXMuX3RleHR1cmVGb3JtYXR9O3RoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh1LGYsMCkpLHRoaXMuX3JldXNhYmxlJiZ0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodSxmLDEpKSx0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLndpZHRoLDEvdGhpcy5oZWlnaHQpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxpLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxhLHM7dD09PXZvaWQgMCYmKHQ9bnVsbCksZT1lfHx0aGlzLl9jYW1lcmE7dmFyIG89ZS5nZXRTY2VuZSgpLHU9by5nZXRFbmdpbmUoKSxmPXUuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLGw9KHQ/dC53aWR0aDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyV2lkdGgoITApKSp0aGlzLl9vcHRpb25zfDAsaD0odD90LmhlaWdodDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVySGVpZ2h0KCEwKSkqdGhpcy5fb3B0aW9uc3wwLGM9ZS5wYXJlbnQ7YyYmKGMubGVmdENhbWVyYT09ZXx8Yy5yaWdodENhbWVyYT09ZSkmJihsLz0yKTt2YXIgZD10aGlzLl9vcHRpb25zLndpZHRofHxsLHA9dGhpcy5fb3B0aW9ucy5oZWlnaHR8fGgsZz10aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTcmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MSYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0yO2lmKCF0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcyYmIXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe2lmKHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0KXt2YXIgXz11LmN1cnJlbnRWaWV3cG9ydDtfJiYoZCo9Xy53aWR0aCxwKj1fLmhlaWdodCl9KGd8fHRoaXMuYWx3YXlzRm9yY2VQT1QpJiYodGhpcy5fb3B0aW9ucy53aWR0aHx8KGQ9dS5uZWVkUE9UVGV4dHVyZXM/aGUuR2V0RXhwb25lbnRPZlR3byhkLGYsdGhpcy5zY2FsZU1vZGUpOmQpLHRoaXMuX29wdGlvbnMuaGVpZ2h0fHwocD11Lm5lZWRQT1RUZXh0dXJlcz9oZS5HZXRFeHBvbmVudE9mVHdvKHAsZix0aGlzLnNjYWxlTW9kZSk6cCkpLCh0aGlzLndpZHRoIT09ZHx8dGhpcy5oZWlnaHQhPT1wKSYmdGhpcy5fcmVzaXplKGQscCxlLGcsciksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbihSKXtSLnNhbXBsZXMhPT1uLnNhbXBsZXMmJm4uX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQoUixuLnNhbXBsZXMpfSksdGhpcy5fZmx1c2hUZXh0dXJlQ2FjaGUoKSx0aGlzLl9yZW5kZXJJZCsrfXZhciB2O2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzKXY9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlO2Vsc2UgaWYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSl2PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUsdGhpcy53aWR0aD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0O2Vsc2V7dj10aGlzLmlucHV0VGV4dHVyZTtmb3IodmFyIHk9dm9pZCAwLEU9MDtFPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7RSsrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtFXS50ZXh0dXJlPT09dil7eT10aGlzLl90ZXh0dXJlQ2FjaGVbRV07YnJlYWt9eSYmKHkubGFzdFVzZWRSZW5kZXJJZD10aGlzLl9yZW5kZXJJZCl9cmV0dXJuIHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT8odGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cyhsL2QsaC9wKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKHYsMCxsLGgsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpOih0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKDEsMSksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcih2LDAsdm9pZCAwLHZvaWQgMCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSksKHM9KGE9dGhpcy5fZW5naW5lKS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGEsInBvc3QgcHJvY2VzcyAiLmNvbmNhdCh0aGlzLm5hbWUsIiBpbnB1dCIpKSx0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmF1dG9DbGVhciYmdGhpcy5hbHBoYU1vZGU9PT0wJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yP3RoaXMuY2xlYXJDb2xvcjpvLmNsZWFyQ29sb3Isby5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3IsITAsITApLHRoaXMuX3JldXNhYmxlJiYodGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9KHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kKzEpJTIpLHZ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmlzU3VwcG9ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXNwZWN0UmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuYXNwZWN0UmF0aW86dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNSZWFkeSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZTtpZighKCEoKGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDApJiZlLmlzUmVhZHkoKSkpcmV0dXJuIG51bGw7dGhpcy5fZW5naW5lLmVuYWJsZUVmZmVjdCh0aGlzLl9kcmF3V3JhcHBlciksdGhpcy5fZW5naW5lLnNldFN0YXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhCdWZmZXIoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aFdyaXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0QWxwaGFNb2RlKHRoaXMuYWxwaGFNb2RlKSx0aGlzLmFscGhhQ29uc3RhbnRzJiZ0aGlzLmdldEVuZ2luZSgpLnNldEFscGhhQ29uc3RhbnRzKHRoaXMuYWxwaGFDb25zdGFudHMucix0aGlzLmFscGhhQ29uc3RhbnRzLmcsdGhpcy5hbHBoYUNvbnN0YW50cy5iLHRoaXMuYWxwaGFDb25zdGFudHMuYSk7dmFyIHQ7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3Q9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/dD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlOnQ9dGhpcy5pbnB1dFRleHR1cmUsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZ3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LnNldFZlY3RvcjIoInNjYWxlIix0aGlzLl9zY2FsZVJhdGlvKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuX2Rpc3Bvc2VUZXh0dXJlcz1mdW5jdGlvbigpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9kaXNwb3NlVGV4dHVyZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLl90ZXh0dXJlQ2FjaGVbZV0udGV4dHVyZS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5zZXRQcmVQYXNzUmVuZGVyZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPyh0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj1lLmFkZEVmZmVjdENvbmZpZ3VyYXRpb24odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24pLHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLmVuYWJsZWQ9ITAsITApOiExfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO3ZhciB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciByPXRoaXMuX3BhcmVudENvbnRhaW5lci5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHIsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodD10aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpLHQhPT0tMSYmdGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSksISFlKXtpZihlLmRldGFjaFBvc3RQcm9jZXNzKHRoaXMpLHQ9ZS5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpLHQ9PT0wJiZlLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wKXt2YXIgbj10aGlzLl9jYW1lcmEuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtuJiZuLm1hcmtUZXh0dXJlRGlydHkoKX10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BcHBseU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKX19LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPUouU2VyaWFsaXplKHRoaXMpLHQ9dGhpcy5nZXRDYW1lcmEoKXx8dGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLiIrdGhpcy5nZXRDbGFzc05hbWUoKSxlLmNhbWVyYUlkPXQ/dC5pZDpudWxsLGUucmV1c2FibGU9dGhpcy5fcmV1c2FibGUsZS50ZXh0dXJlVHlwZT10aGlzLl90ZXh0dXJlVHlwZSxlLmZyYWdtZW50VXJsPXRoaXMuX2ZyYWdtZW50VXJsLGUucGFyYW1ldGVycz10aGlzLl9wYXJhbWV0ZXJzLGUuc2FtcGxlcnM9dGhpcy5fc2FtcGxlcnMsZS5vcHRpb25zPXRoaXMuX29wdGlvbnMsZS5kZWZpbmVzPXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcyxlLnRleHR1cmVGb3JtYXQ9dGhpcy5fdGV4dHVyZUZvcm1hdCxlLnZlcnRleFVybD10aGlzLl92ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnM9dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGV9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXJpYWxpemUoKTtlLl9lbmdpbmU9dGhpcy5fZW5naW5lLGUuY2FtZXJhSWQ9bnVsbDt2YXIgdD1pLlBhcnNlKGUsdGhpcy5fc2NlbmUsIiIpO3JldHVybiB0Pyh0Lm9uQWN0aXZhdGVPYnNlcnZhYmxlPXRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPXRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQXBwbHlPYnNlcnZhYmxlPXRoaXMub25BcHBseU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25BZnRlclJlbmRlck9ic2VydmFibGU9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPXRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLHQpOm51bGx9LGkuUGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVJ0KGUuY3VzdG9tVHlwZSk7aWYoIW58fCFuLl9QYXJzZSlyZXR1cm4gbnVsbDt2YXIgYT10P3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsO3JldHVybiBuLl9QYXJzZShlLGEsdCxyKX0saS5fUGFyc2U9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIEouUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoZS5uYW1lLGUuZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzLGUuc2FtcGxlcnMsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsZS5fZW5naW5lLGUucmV1c2FibGUsZS5kZWZpbmVzLGUudGV4dHVyZVR5cGUsZS52ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnMsITEsZS50ZXh0dXJlRm9ybWF0KX0sZSxyLG4pfSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIndpZHRoIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImhlaWdodCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJyZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUiLHZvaWQgMCksVChbVWkoKV0saS5wcm90b3R5cGUsImNsZWFyQ29sb3IiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiYXV0b0NsZWFyIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFscGhhTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhbHBoYUNvbnN0YW50cyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJlbmFibGVQaXhlbFBlcmZlY3RNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImZvcmNlRnVsbHNjcmVlblZpZXdwb3J0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInNjYWxlTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhbHdheXNGb3JjZVBPVCIsdm9pZCAwKSxUKFtQKCJzYW1wbGVzIildLGkucHJvdG90eXBlLCJfc2FtcGxlcyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQiLHZvaWQgMCksaX0oKTt3ZSgiQkFCWUxPTi5Qb3N0UHJvY2VzcyIsbnIpO3ZhciBHYT0ia2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbiIsWGE9InZhcnlpbmcgdmVjMiBzYW1wbGVDb29yZHtYfTsiO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR2FdPVhhO3ZhciBIYT0icGFja2luZ0Z1bmN0aW9ucyIsamE9YHZlYzQgcGFjayhmbG9hdCBkZXB0aCkKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDI1NS4wKjI1NS4wKjI1NS4wLDI1NS4wKjI1NS4wLDI1NS4wLDEuMCk7CmNvbnN0IHZlYzQgYml0X21hc2s9dmVjNCgwLjAsMS4wLzI1NS4wLDEuMC8yNTUuMCwxLjAvMjU1LjApOwp2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpOwpyZXMtPXJlcy54eHl6KmJpdF9tYXNrOwpyZXR1cm4gcmVzOwp9CmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIYV09amE7dmFyIEthPSJrZXJuZWxCbHVyRnJhZ21lbnQiLFlhPWAjaWZkZWYgRE9GCmZhY3Rvcj1zYW1wbGVDb0Moc2FtcGxlQ29vcmR7WH0pOyAKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfSpmYWN0b3I7CnN1bU9mV2VpZ2h0cys9Y29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9XRUlHSFR7WH07CiNlbmRpZgojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ29vcmR7WH0pKSpjb21wdXRlZFdlaWdodDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkqY29tcHV0ZWRXZWlnaHQ7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbS2FdPVlhO3ZhciBaYT0ia2VybmVsQmx1ckZyYWdtZW50MiIscWE9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pOwpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfSpmYWN0b3I7CnN1bU9mV2VpZ2h0cys9Y29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkqY29tcHV0ZWRXZWlnaHQ7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWmFdPXFhO3ZhciBRYT0ia2VybmVsQmx1clBpeGVsU2hhZGVyIiwkYT1gdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CnVuaWZvcm0gdmVjMiBkZWx0YTsKdmFyeWluZyB2ZWMyIHNhbXBsZUNlbnRlcjsKI2lmZGVmIERPRgp1bmlmb3JtIHNhbXBsZXIyRCBjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXI7CnVuaWZvcm0gdmVjMiBjYW1lcmFNaW5NYXhaOwpmbG9hdCBzYW1wbGVEaXN0YW5jZShpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBkZXB0aD10ZXh0dXJlMkQoY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyLG9mZnNldCkuZzsgCnJldHVybiBjYW1lcmFNaW5NYXhaLngrKGNhbWVyYU1pbk1heFoueS1jYW1lcmFNaW5NYXhaLngpKmRlcHRoOyAKfQpmbG9hdCBzYW1wbGVDb0MoaW4gdmVjMiBvZmZzZXQpIHsKZmxvYXQgY29jPXRleHR1cmUyRChjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIsb2Zmc2V0KS5yOyAKcmV0dXJuIGNvYzsgCn0KI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewpmbG9hdCBjb21wdXRlZFdlaWdodD0wLjA7CiNpZmRlZiBQQUNLRURGTE9BVCAKZmxvYXQgYmxlbmQ9MC47CiNlbHNlCnZlYzQgYmxlbmQ9dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgRE9GCmZsb2F0IHN1bU9mV2VpZ2h0cz1DRU5URVJfV0VJR0hUOyAKZmxvYXQgZmFjdG9yPTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcikpKkNFTlRFUl9XRUlHSFQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSpDRU5URVJfV0VJR0hUOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudD5bMC4udmFyeWluZ0NvdW50XQojaW5jbHVkZTxrZXJuZWxCbHVyRnJhZ21lbnQyPlswLi5kZXBDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCmdsX0ZyYWdDb2xvcj1wYWNrKGJsZW5kKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPWJsZW5kOwojZW5kaWYKI2lmZGVmIERPRgpnbF9GcmFnQ29sb3IvPXN1bU9mV2VpZ2h0czsKI2VuZGlmCn1gO0wuU2hhZGVyc1N0b3JlW1FhXT0kYTt2YXIgSmE9Imtlcm5lbEJsdXJWZXJ0ZXgiLGVzPSJzYW1wbGVDb29yZHtYfT1zYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX09GRlNFVHtYfTsiO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSmFdPWVzO3ZhciB0cz0ia2VybmVsQmx1clZlcnRleFNoYWRlciIscnM9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgZGVsdGE7CnZhcnlpbmcgdmVjMiBzYW1wbGVDZW50ZXI7CiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgpzYW1wbGVDZW50ZXI9KHBvc2l0aW9uKm1hZGQrbWFkZCk7CiNpbmNsdWRlPGtlcm5lbEJsdXJWZXJ0ZXg+WzAuLnZhcnlpbmdDb3VudF0KZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW3RzXT1yczt2YXIgbGk9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtvPT09dm9pZCAwJiYobz10ZS5CSUxJTkVBUl9TQU1QTElOR01PREUpLGw9PT12b2lkIDAmJihsPTApLGg9PT12b2lkIDAmJihoPSIiKSxjPT09dm9pZCAwJiYoYz0hMSk7dmFyIGQ9aS5jYWxsKHRoaXMsdCwia2VybmVsQmx1ciIsWyJkZWx0YSIsImRpcmVjdGlvbiIsImNhbWVyYU1pbk1heFoiXSxbImNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlciJdLGEscyxvLHUsZixudWxsLGwsImtlcm5lbEJsdXIiLHt2YXJ5aW5nQ291bnQ6MCxkZXBDb3VudDowfSwhMCl8fHRoaXM7cmV0dXJuIGQuX2Jsb2NrQ29tcGlsYXRpb249YyxkLl9wYWNrZWRGbG9hdD0hMSxkLl9zdGF0aWNEZWZpbmVzPSIiLGQuX3N0YXRpY0RlZmluZXM9aCxkLmRpcmVjdGlvbj1yLGQub25BcHBseU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKHApe2QuX291dHB1dFRleHR1cmU/cC5zZXRGbG9hdDIoImRlbHRhIiwxL2QuX291dHB1dFRleHR1cmUud2lkdGgqZC5kaXJlY3Rpb24ueCwxL2QuX291dHB1dFRleHR1cmUuaGVpZ2h0KmQuZGlyZWN0aW9uLnkpOnAuc2V0RmxvYXQyKCJkZWx0YSIsMS9kLndpZHRoKmQuZGlyZWN0aW9uLngsMS9kLmhlaWdodCpkLmRpcmVjdGlvbi55KX0pLGQua2VybmVsPW4sZH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJrZXJuZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRlYWxLZXJuZWx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pZGVhbEtlcm5lbCE9PXQmJih0PU1hdGgubWF4KHQsMSksdGhpcy5faWRlYWxLZXJuZWw9dCx0aGlzLl9rZXJuZWw9dGhpcy5fbmVhcmVzdEJlc3RLZXJuZWwodCksdGhpcy5fYmxvY2tDb21waWxhdGlvbnx8dGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBhY2tlZEZsb2F0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhY2tlZEZsb2F0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcGFja2VkRmxvYXQhPT10JiYodGhpcy5fcGFja2VkRmxvYXQ9dCx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJCbHVyUG9zdFByb2Nlc3MifSxlLnByb3RvdHlwZS51cGRhdGVFZmZlY3Q9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe3RoaXMuX3VwZGF0ZVBhcmFtZXRlcnMocyxvKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVBhcmFtZXRlcnM9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49dGhpcy5fa2VybmVsLGE9KG4tMSkvMixzPVtdLG89W10sdT0wLGY9MDtmPG47ZisrKXt2YXIgbD1mLyhuLTEpLGg9dGhpcy5fZ2F1c3NpYW5XZWlnaHQobCoyLTEpO3NbZl09Zi1hLG9bZl09aCx1Kz1ofWZvcih2YXIgZj0wO2Y8by5sZW5ndGg7ZisrKW9bZl0vPXU7Zm9yKHZhciBjPVtdLGQ9W10scD1bXSxmPTA7Zjw9YTtmKz0yKXt2YXIgZz1NYXRoLm1pbihmKzEsTWF0aC5mbG9vcihhKSksXz1mPT09ZztpZihfKXAucHVzaCh7bzpzW2ZdLHc6b1tmXX0pO2Vsc2V7dmFyIHY9Zz09PWEseT1vW2ZdK29bZ10qKHY/LjU6MSksRT1zW2ZdKzEvKDErb1tmXS9vW2ddKTtFPT09MD8ocC5wdXNoKHtvOnNbZl0sdzpvW2ZdfSkscC5wdXNoKHtvOnNbZisxXSx3Om9bZisxXX0pKToocC5wdXNoKHtvOkUsdzp5fSkscC5wdXNoKHtvOi1FLHc6eX0pKX19Zm9yKHZhciBmPTA7ZjxwLmxlbmd0aDtmKyspZFtmXT1wW2ZdLm8sY1tmXT1wW2ZdLnc7cz1kLG89Yzt2YXIgUj10aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS5tYXhWYXJ5aW5nVmVjdG9ycyxNPU1hdGgubWF4KFIsMCktMSxDPU1hdGgubWluKHMubGVuZ3RoLE0pLEE9IiI7QSs9dGhpcy5fc3RhdGljRGVmaW5lcyx0aGlzLl9zdGF0aWNEZWZpbmVzLmluZGV4T2YoIkRPRiIpIT0tMSYmKEErPSIjZGVmaW5lIENFTlRFUl9XRUlHSFQgIi5jb25jYXQodGhpcy5fZ2xzbEZsb2F0KG9bQy0xXSksYFxyCmApLEMtLSk7Zm9yKHZhciBmPTA7ZjxDO2YrKylBKz0iI2RlZmluZSBLRVJORUxfT0ZGU0VUIi5jb25jYXQoZiwiICIpLmNvbmNhdCh0aGlzLl9nbHNsRmxvYXQoc1tmXSksYFxyCmApLEErPSIjZGVmaW5lIEtFUk5FTF9XRUlHSFQiLmNvbmNhdChmLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChvW2ZdKSxgXHIKYCk7Zm9yKHZhciBTPTAsZj1NO2Y8cy5sZW5ndGg7ZisrKUErPSIjZGVmaW5lIEtFUk5FTF9ERVBfT0ZGU0VUIi5jb25jYXQoUywiICIpLmNvbmNhdCh0aGlzLl9nbHNsRmxvYXQoc1tmXSksYFxyCmApLEErPSIjZGVmaW5lIEtFUk5FTF9ERVBfV0VJR0hUIi5jb25jYXQoUywiICIpLmNvbmNhdCh0aGlzLl9nbHNsRmxvYXQob1tmXSksYFxyCmApLFMrKzt0aGlzLnBhY2tlZEZsb2F0JiYoQSs9IiNkZWZpbmUgUEFDS0VERkxPQVQgMSIpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb249ITEsaS5wcm90b3R5cGUudXBkYXRlRWZmZWN0LmNhbGwodGhpcyxBLG51bGwsbnVsbCx7dmFyeWluZ0NvdW50OkMsZGVwQ291bnQ6U30sdCxyKX0sZS5wcm90b3R5cGUuX25lYXJlc3RCZXN0S2VybmVsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1NYXRoLnJvdW5kKHQpLG49MCxhPVtyLHItMSxyKzEsci0yLHIrMl07bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07aWYocyUyIT09MCYmTWF0aC5mbG9vcihzLzIpJTI9PT0wJiZzPjApcmV0dXJuIE1hdGgubWF4KHMsMyl9cmV0dXJuIE1hdGgubWF4KHIsMyl9LGUucHJvdG90eXBlLl9nYXVzc2lhbldlaWdodD1mdW5jdGlvbih0KXt2YXIgcj0uMzMzMzMzMzMzMzMzMzMzMyxuPU1hdGguc3FydCgyKk1hdGguUEkpKnIsYT0tKHQqdC8oMipyKnIpKSxzPTEvbipNYXRoLmV4cChhKTtyZXR1cm4gc30sZS5wcm90b3R5cGUuX2dsc2xGbG9hdD1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj04KSx0LnRvRml4ZWQocikucmVwbGFjZSgvMCskLywiIil9LGUuX1BhcnNlPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiBKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSx0LmRpcmVjdGlvbix0Lmtlcm5lbCx0Lm9wdGlvbnMscix0LnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxuLmdldEVuZ2luZSgpLHQucmV1c2FibGUsdC50ZXh0dXJlVHlwZSx2b2lkIDAsITEpfSx0LG4sYSl9LFQoW1AoImtlcm5lbCIpXSxlLnByb3RvdHlwZSwiX2tlcm5lbCIsdm9pZCAwKSxUKFtQKCJwYWNrZWRGbG9hdCIpXSxlLnByb3RvdHlwZSwiX3BhY2tlZEZsb2F0Iix2b2lkIDApLFQoW3RhKCldLGUucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksZX0obnIpO3dlKCJCQUJZTE9OLkJsdXJQb3N0UHJvY2VzcyIsbGkpO3ZhciBoaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9kZWZpbmVzPXt9LHRoaXMuX2N1cnJlbnRSYW5rPTMyLHRoaXMuX21heFJhbms9LTEsdGhpcy5fbWVzaD1udWxsfXJldHVybiBpLnByb3RvdHlwZS51bkJpbmRNZXNoPWZ1bmN0aW9uKCl7dGhpcy5fbWVzaD1udWxsfSxpLnByb3RvdHlwZS5hZGRGYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuX2RlZmluZXNbZV18fChlPHRoaXMuX2N1cnJlbnRSYW5rJiYodGhpcy5fY3VycmVudFJhbms9ZSksZT50aGlzLl9tYXhSYW5rJiYodGhpcy5fbWF4UmFuaz1lKSx0aGlzLl9kZWZpbmVzW2VdPW5ldyBBcnJheSksdGhpcy5fZGVmaW5lc1tlXS5wdXNoKHQpfSxpLnByb3RvdHlwZS5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5fbWVzaD10LGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhhc01vcmVGYWxsYmFja3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFJhbms8PXRoaXMuX21heFJhbmt9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fbWVzaCYmdGhpcy5fbWVzaC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnRoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzPjApe3RoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExLGU9ZS5yZXBsYWNlKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrdGhpcy5fbWVzaC5udW1Cb25lSW5mbHVlbmNlcnMsIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpLHQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMDtmb3IodmFyIHI9dGhpcy5fbWVzaC5nZXRTY2VuZSgpLG49MDtuPHIubWVzaGVzLmxlbmd0aDtuKyspe3ZhciBhPXIubWVzaGVzW25dO2lmKCFhLm1hdGVyaWFsKXshdGhpcy5fbWVzaC5tYXRlcmlhbCYmYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmEubnVtQm9uZUluZmx1ZW5jZXJzPjAmJihhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSk7Y29udGludWV9aWYoISghYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fGEubnVtQm9uZUluZmx1ZW5jZXJzPT09MCkpe2lmKGEubWF0ZXJpYWwuZ2V0RWZmZWN0KCk9PT10KWEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2Vsc2UgaWYoYS5zdWJNZXNoZXMpZm9yKHZhciBzPTAsbz1hLnN1Yk1lc2hlcztzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXSxmPXUuZWZmZWN0O2lmKGY9PT10KXthLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMTticmVha319fX19ZWxzZXt2YXIgbD10aGlzLl9kZWZpbmVzW3RoaXMuX2N1cnJlbnRSYW5rXTtpZihsKWZvcih2YXIgbj0wO248bC5sZW5ndGg7bisrKWU9ZS5yZXBsYWNlKCIjZGVmaW5lICIrbFtuXSwiIik7dGhpcy5fY3VycmVudFJhbmsrK31yZXR1cm4gZX0saX0oKSxpcz0iYmF5ZXJEaXRoZXJGdW5jdGlvbnMiLG5zPWBmbG9hdCBiYXllckRpdGhlcjIodmVjMiBfUCkgewpyZXR1cm4gbW9kKDIuMCpfUC55K19QLngrMS4wLDQuMCk7Cn0KZmxvYXQgYmF5ZXJEaXRoZXI0KHZlYzIgX1ApIHsKdmVjMiBQMT1tb2QoX1AsMi4wKTsgCnZlYzIgUDI9Zmxvb3IoMC41Km1vZChfUCw0LjApKTsgCnJldHVybiA0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpOwp9CmZsb2F0IGJheWVyRGl0aGVyOCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSAqbW9kKF9QLDQuMCkpOyAKdmVjMiBQND1mbG9vcigwLjI1Km1vZChfUCw4LjApKTsgCnJldHVybiA0LjAqKDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMikpK2JheWVyRGl0aGVyMihQNCk7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2lzXT1uczt2YXIgYXM9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIsc3M9YCNpZiBTTV9GTE9BVD09MAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaW5jbHVkZTxiYXllckRpdGhlckZ1bmN0aW9ucz4KdW5pZm9ybSBmbG9hdCBzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTTsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2FzXT1zczt2YXIgb3M9ImNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24iLHVzPWAjaWZkZWYgQ0xJUFBMQU5FCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2UzOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTQKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U2OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29zXT11czt2YXIgZnM9ImNsaXBQbGFuZUZyYWdtZW50Iixscz1gI2lmIGRlZmluZWQoQ0xJUFBMQU5FKSB8fCBkZWZpbmVkKENMSVBQTEFORTIpIHx8IGRlZmluZWQoQ0xJUFBMQU5FMykgfHwgZGVmaW5lZChDTElQUExBTkU0KSB8fCBkZWZpbmVkKENMSVBQTEFORTUpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNikKaWYgKGZhbHNlKSB7fQojZW5kaWYKI2lmZGVmIENMSVBQTEFORQplbHNlIGlmIChmQ2xpcERpc3RhbmNlPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgplbHNlIGlmIChmQ2xpcERpc3RhbmNlMj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTM+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U0PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQplbHNlIGlmIChmQ2xpcERpc3RhbmNlNT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTY+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmc109bHM7dmFyIGhzPSJzaGFkb3dNYXBGcmFnbWVudCIsY3M9YGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKI2lmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpkZXB0aFNNPSgtelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCmRlcHRoU009KHpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9GcmFnRGVwdGg9Y2xhbXAoMS4wLWRlcHRoU00sMC4wLDEuMCk7CiNlbHNlCmdsX0ZyYWdEZXB0aD1jbGFtcChkZXB0aFNNLDAuMCwxLjApOyAKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojaWYgU01fRVNNPT0xCmRlcHRoU009Y2xhbXAoZXhwKC1taW4oODcuLGJpYXNBbmRTY2FsZVNNLnoqZGVwdGhTTSkpLDAuLDEuKTsKI2VuZGlmCiNpZiBTTV9GTE9BVD09MQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2hzXT1jczt2YXIgZHM9InNoYWRvd01hcFBpeGVsU2hhZGVyIixwcz1gI2luY2x1ZGU8c2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uPgojaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CiNpZmRlZiBBTFBIQVRFU1QKZmxvYXQgYWxwaGFGcm9tQWxwaGFUZXh0dXJlPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2VVYpLmE7CmlmIChhbHBoYUZyb21BbHBoYVRleHR1cmU8QUxQSEFURVNUVkFMVUUpCmRpc2NhcmQ7CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpZmRlZiBBTFBIQVRFU1QKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhRnJvbUFscGhhVGV4dHVyZSkgZGlzY2FyZDsKI2Vsc2UKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKSBkaXNjYXJkOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50Pgp9YDtMLlNoYWRlcnNTdG9yZVtkc109cHM7dmFyIF9zPSJib25lc0RlY2xhcmF0aW9uIixncz1gI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHM7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlc0V4dHJhOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHNFeHRyYTsKI2VuZGlmCiNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZmRlZiBCT05FVEVYVFVSRQp1bmlmb3JtIHNhbXBsZXIyRCBib25lU2FtcGxlcjsKdW5pZm9ybSBmbG9hdCBib25lVGV4dHVyZVdpZHRoOwojZWxzZQp1bmlmb3JtIG1hdDQgbUJvbmVzW0JvbmVzUGVyTWVzaF07CiNpZmRlZiBCT05FU19WRUxPQ0lUWV9FTkFCTEVECnVuaWZvcm0gbWF0NCBtUHJldmlvdXNCb25lc1tCb25lc1Blck1lc2hdOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBCT05FVEVYVFVSRQojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4KQp7CmZsb2F0IG9mZnNldD1pbmRleCAqNC4wOwpmbG9hdCBkeD0xLjAvYm9uZVRleHR1cmVXaWR0aDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLDAuKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSwwLikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksMC4pKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLDAuKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbX3NdPWdzO3ZhciB2cz0iYmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbiIsbXM9YCNpZmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKdW5pZm9ybSBmbG9hdCBiYWtlZFZlcnRleEFuaW1hdGlvblRpbWU7CnVuaWZvcm0gdmVjMiBiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQ7CnVuaWZvcm0gdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzOwp1bmlmb3JtIHNhbXBsZXIyRCBiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmU7CiNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZDsKI2VuZGlmCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgsZmxvYXQgZnJhbWUpCnsKZmxvYXQgb2Zmc2V0PWluZGV4KjQuMDsKZmxvYXQgZnJhbWVVVj0oZnJhbWUrMC41KSpiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueTsKZmxvYXQgZHg9YmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLng7CnZlYzQgbTA9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMC41KSxmcmFtZVVWKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSxmcmFtZVVWKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSxmcmFtZVVWKSk7CnZlYzQgbTM9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMy41KSxmcmFtZVVWKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZzXT1tczt2YXIgeXM9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uIixicz1gI2lmZGVmIE1PUlBIVEFSR0VUUwp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUgCnByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyAKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CnVuaWZvcm0gdmVjMyBtb3JwaFRhcmdldFRleHR1cmVJbmZvOwp1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0czsKdmVjMyByZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKGludCB0YXJnZXRJbmRleCxmbG9hdCB2ZXJ0ZXhJbmRleCkKeyAKZmxvYXQgeT1mbG9vcih2ZXJ0ZXhJbmRleC9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnkpOwpmbG9hdCB4PXZlcnRleEluZGV4LXkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55Owp2ZWMzIHRleHR1cmVVVj12ZWMzKCh4KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55LCh5KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby56LG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbdGFyZ2V0SW5kZXhdKTsKcmV0dXJuIHRleHR1cmUobW9ycGhUYXJnZXRzLHRleHR1cmVVVikueHl6Owp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3lzXT1iczt2YXIgRXM9Im1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uIixUcz1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZuZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ue1h9OwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWx7WH07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKYXR0cmlidXRlIHZlYzMgdGFuZ2VudHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKYXR0cmlidXRlIHZlYzIgdXZfe1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRXNdPVRzO3ZhciBTcz0iaGVscGVyRnVuY3Rpb25zIixNcz1gY29uc3QgZmxvYXQgUEk9My4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1Owpjb25zdCBmbG9hdCBIQUxGX01JTj01Ljk2MDQ2NDQ4ZS0wODsgCmNvbnN0IGZsb2F0IExpbmVhckVuY29kZVBvd2VyQXBwcm94PTIuMjsKY29uc3QgZmxvYXQgR2FtbWFFbmNvZGVQb3dlckFwcHJveD0xLjAvTGluZWFyRW5jb2RlUG93ZXJBcHByb3g7CmNvbnN0IHZlYzMgTHVtaW5hbmNlRW5jb2RlQXBwcm94PXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpOwpjb25zdCBmbG9hdCBFcHNpbG9uPTAuMDAwMDAwMTsKI2RlZmluZSBzYXR1cmF0ZSh4KSBjbGFtcCh4LDAuMCwxLjApCiNkZWZpbmUgYWJzRXBzKHgpIGFicyh4KStFcHNpbG9uCiNkZWZpbmUgbWF4RXBzKHgpIG1heCh4LEVwc2lsb24pCiNkZWZpbmUgc2F0dXJhdGVFcHMoeCkgY2xhbXAoeCxFcHNpbG9uLDEuMCkKbWF0MyB0cmFuc3Bvc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKdmVjMyBpMD1pbk1hdHJpeFswXTsKdmVjMyBpMT1pbk1hdHJpeFsxXTsKdmVjMyBpMj1pbk1hdHJpeFsyXTsKbWF0MyBvdXRNYXRyaXg9bWF0MygKdmVjMyhpMC54LGkxLngsaTIueCksCnZlYzMoaTAueSxpMS55LGkyLnkpLAp2ZWMzKGkwLnosaTEueixpMi56KQopOwpyZXR1cm4gb3V0TWF0cml4Owp9Cm1hdDMgaW52ZXJzZU1hdDMobWF0MyBpbk1hdHJpeCkgewpmbG9hdCBhMDA9aW5NYXRyaXhbMF1bMF0sYTAxPWluTWF0cml4WzBdWzFdLGEwMj1pbk1hdHJpeFswXVsyXTsKZmxvYXQgYTEwPWluTWF0cml4WzFdWzBdLGExMT1pbk1hdHJpeFsxXVsxXSxhMTI9aW5NYXRyaXhbMV1bMl07CmZsb2F0IGEyMD1pbk1hdHJpeFsyXVswXSxhMjE9aW5NYXRyaXhbMl1bMV0sYTIyPWluTWF0cml4WzJdWzJdOwpmbG9hdCBiMDE9YTIyKmExMS1hMTIqYTIxOwpmbG9hdCBiMTE9LWEyMiphMTArYTEyKmEyMDsKZmxvYXQgYjIxPWEyMSphMTAtYTExKmEyMDsKZmxvYXQgZGV0PWEwMCpiMDErYTAxKmIxMSthMDIqYjIxOwpyZXR1cm4gbWF0MyhiMDEsKC1hMjIqYTAxK2EwMiphMjEpLChhMTIqYTAxLWEwMiphMTEpLApiMTEsKGEyMiphMDAtYTAyKmEyMCksKC1hMTIqYTAwK2EwMiphMTApLApiMjEsKC1hMjEqYTAwK2EwMSphMjApLChhMTEqYTAwLWEwMSphMTApKS9kZXQ7Cn0KZmxvYXQgdG9MaW5lYXJTcGFjZShmbG9hdCBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLExpbmVhckVuY29kZVBvd2VyQXBwcm94KTsKfQp2ZWMzIHRvTGluZWFyU3BhY2UodmVjMyBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKTsKfQp2ZWM0IHRvTGluZWFyU3BhY2UodmVjNCBjb2xvcikKewpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKfQp2ZWMzIHRvR2FtbWFTcGFjZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBwb3coY29sb3IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSk7Cn0KdmVjNCB0b0dhbW1hU3BhY2UodmVjNCBjb2xvcikKewpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpLGNvbG9yLmEpOwp9CmZsb2F0IHRvR2FtbWFTcGFjZShmbG9hdCBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpOwp9CmZsb2F0IHNxdWFyZShmbG9hdCB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KdmVjMyBzcXVhcmUodmVjMyB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KZmxvYXQgcG93NShmbG9hdCB2YWx1ZSkgewpmbG9hdCBzcT12YWx1ZSp2YWx1ZTsKcmV0dXJuIHNxKnNxKnZhbHVlOwp9CmZsb2F0IGdldEx1bWluYW5jZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBjbGFtcChkb3QoY29sb3IsTHVtaW5hbmNlRW5jb2RlQXBwcm94KSwwLiwxLik7Cn0KZmxvYXQgZ2V0UmFuZCh2ZWMyIHNlZWQpIHsKcmV0dXJuIGZyYWN0KHNpbihkb3Qoc2VlZC54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSo0Mzc1OC41NDUzKTsKfQpmbG9hdCBkaXRoZXIodmVjMiBzZWVkLGZsb2F0IHZhcmlhbmNlQW1vdW50KSB7CmZsb2F0IHJhbmQ9Z2V0UmFuZChzZWVkKTsKZmxvYXQgZGl0aGVyPW1peCgtdmFyaWFuY2VBbW91bnQvMjU1LjAsdmFyaWFuY2VBbW91bnQvMjU1LjAscmFuZCk7CnJldHVybiBkaXRoZXI7Cn0KY29uc3QgZmxvYXQgcmdiZE1heFJhbmdlPTI1NS4wOwp2ZWM0IHRvUkdCRCh2ZWMzIGNvbG9yKSB7CmZsb2F0IG1heFJHQj1tYXhFcHMobWF4KGNvbG9yLnIsbWF4KGNvbG9yLmcsY29sb3IuYikpKTsKZmxvYXQgRCA9bWF4KHJnYmRNYXhSYW5nZS9tYXhSR0IsMS4pOwpEID1jbGFtcChmbG9vcihEKS8yNTUuMCwwLiwxLik7CnZlYzMgcmdiPWNvbG9yLnJnYipEOwpyZ2I9dG9HYW1tYVNwYWNlKHJnYik7CnJldHVybiB2ZWM0KGNsYW1wKHJnYiwwLiwxLiksRCk7IAp9CnZlYzMgZnJvbVJHQkQodmVjNCByZ2JkKSB7CnJnYmQucmdiPXRvTGluZWFyU3BhY2UocmdiZC5yZ2IpOwpyZXR1cm4gcmdiZC5yZ2IvcmdiZC5hOwp9CnZlYzMgcGFyYWxsYXhDb3JyZWN0Tm9ybWFsKCB2ZWMzIHZlcnRleFBvcyx2ZWMzIG9yaWdWZWMsdmVjMyBjdWJlU2l6ZSx2ZWMzIGN1YmVQb3MgKSB7CnZlYzMgaW52T3JpZ1ZlYz12ZWMzKDEuMCwxLjAsMS4wKS9vcmlnVmVjOwp2ZWMzIGhhbGZTaXplPWN1YmVTaXplKjAuNTsKdmVjMyBpbnRlcnNlY0F0TWF4UGxhbmU9KGN1YmVQb3MraGFsZlNpemUtdmVydGV4UG9zKSppbnZPcmlnVmVjOwp2ZWMzIGludGVyc2VjQXRNaW5QbGFuZT0oY3ViZVBvcy1oYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgbGFyZ2VzdEludGVyc2VjPW1heChpbnRlcnNlY0F0TWF4UGxhbmUsaW50ZXJzZWNBdE1pblBsYW5lKTsKZmxvYXQgZGlzdGFuY2U9bWluKG1pbihsYXJnZXN0SW50ZXJzZWMueCxsYXJnZXN0SW50ZXJzZWMueSksbGFyZ2VzdEludGVyc2VjLnopOwp2ZWMzIGludGVyc2VjdFBvc2l0aW9uV1M9dmVydGV4UG9zK29yaWdWZWMqZGlzdGFuY2U7CnJldHVybiBpbnRlcnNlY3RQb3NpdGlvbldTLWN1YmVQb3M7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1NzXT1Nczt2YXIgQXM9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLFJzPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0FzXT1Sczt2YXIgUHM9Im1lc2hWZXJ0ZXhEZWNsYXJhdGlvbiIsQ3M9YHVuaWZvcm0gbWF0NCB3b3JsZDsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUHNdPUNzO3ZhciB4cz0ic2hhZG93TWFwVmVydGV4RGVjbGFyYXRpb24iLERzPWAjaW5jbHVkZTxzY2VuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVmVydGV4RGVjbGFyYXRpb24+CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt4c109RHM7dmFyIElzPSJzY2VuZVVib0RlY2xhcmF0aW9uIixPcz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYgCm1hdDQgdmlldzsKbWF0NCBwcm9qZWN0aW9uOwp2ZWM0IHZFeWVQb3NpdGlvbjsKfTsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0lzXT1Pczt2YXIgRnM9Im1lc2hVYm9EZWNsYXJhdGlvbiIsd3M9YCNpZmRlZiBXRUJHTDIKdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNlbHNlCmxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1lc2gKewptYXQ0IHdvcmxkOwpmbG9hdCB2aXNpYmlsaXR5Owp9OwojZW5kaWYKI2RlZmluZSBXT1JMRF9VQk8KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0ZzXT13czt2YXIgTHM9InNoYWRvd01hcFVib0RlY2xhcmF0aW9uIixOcz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0xzXT1Oczt2YXIgQnM9InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLFVzPWAjaWYgU01fTk9STUFMQklBUz09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0U9PTEKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQnNdPVVzO3ZhciBWcz0iY2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24iLGtzPWAjaWZkZWYgQ0xJUFBMQU5FCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lOwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTI7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTM7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTQ7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTY7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbVnNdPWtzO3ZhciBXcz0ibW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsIix6cz1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKZmxvYXQgdmVydGV4SUQ7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1dzXT16czt2YXIgR3M9Im1vcnBoVGFyZ2V0c1ZlcnRleCIsWHM9YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIAp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkueHktdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2Vsc2UKcG9zaXRpb25VcGRhdGVkKz0ocG9zaXRpb257WH0tcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0obm9ybWFse1h9LW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0odGFuZ2VudHtYfS10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHV2X3tYfS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHc109WHM7dmFyIEhzPSJpbnN0YW5jZXNWZXJ0ZXgiLGpzPWAjaWZkZWYgSU5TVEFOQ0VTCm1hdDQgZmluYWxXb3JsZD1tYXQ0KHdvcmxkMCx3b3JsZDEsd29ybGQyLHdvcmxkMyk7CiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpIHx8IGRlZmluZWQoVkVMT0NJVFkpCm1hdDQgZmluYWxQcmV2aW91c1dvcmxkPW1hdDQocHJldmlvdXNXb3JsZDAscHJldmlvdXNXb3JsZDEscHJldmlvdXNXb3JsZDIscHJldmlvdXNXb3JsZDMpOwojZW5kaWYKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCmZpbmFsV29ybGQ9d29ybGQqZmluYWxXb3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKZmluYWxQcmV2aW91c1dvcmxkPXByZXZpb3VzV29ybGQqZmluYWxQcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCm1hdDQgZmluYWxXb3JsZD13b3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSHNdPWpzO3ZhciBLcz0iYm9uZXNWZXJ0ZXgiLFlzPWAjaWZuZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAptYXQ0IGluZmx1ZW5jZTsKI2lmZGVmIEJPTkVURVhUVVJFCmluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzBdKSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1sxXSkqbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzJdKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbM10pKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdKSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdKSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbHNlCmluZmx1ZW5jZT1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1swXSldKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1sxXSldKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMl0pXSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKmluZmx1ZW5jZTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbS3NdPVlzO3ZhciBacz0iYmFrZWRWZXJ0ZXhBbmltYXRpb24iLHFzPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnsKI2lmZGVmIElOU1RBTkNFUwojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQKI2Vsc2UKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzCiNlbmRpZgpmbG9hdCBWQVRTdGFydEZyYW1lPUJWQVNOQU1FLng7CmZsb2F0IFZBVEVuZEZyYW1lPUJWQVNOQU1FLnk7CmZsb2F0IFZBVE9mZnNldEZyYW1lPUJWQVNOQU1FLno7CmZsb2F0IFZBVFNwZWVkPUJWQVNOQU1FLnc7CmZsb2F0IHRvdGFsRnJhbWVzPVZBVEVuZEZyYW1lLVZBVFN0YXJ0RnJhbWUrMS4wOwpmbG9hdCB0aW1lPWJha2VkVmVydGV4QW5pbWF0aW9uVGltZSpWQVRTcGVlZC90b3RhbEZyYW1lczsKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1pzXT1xczt2YXIgUXM9InNoYWRvd01hcFZlcnRleE5vcm1hbEJpYXMiLCRzPWAjaWYgU01fTk9STUFMQklBUz09MQojaWYgU01fRElSRUNUSU9OSU5MSUdIVERBVEE9PTEKdmVjMyB3b3JsZExpZ2h0RGlyU009bm9ybWFsaXplKC1saWdodERhdGFTTS54eXopOwojZWxzZQp2ZWMzIGRpcmVjdGlvblRvTGlnaHRTTT1saWdodERhdGFTTS54eXotd29ybGRQb3MueHl6Owp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodFNNKTsKI2VuZGlmCmZsb2F0IG5kbFNNPWRvdCh2Tm9ybWFsVyx3b3JsZExpZ2h0RGlyU00pOwpmbG9hdCBzaW5OTFNNPXNxcnQoMS4wLW5kbFNNKm5kbFNNKTsKZmxvYXQgbm9ybWFsQmlhc1NNPWJpYXNBbmRTY2FsZVNNLnkqc2luTkxTTTsKd29ybGRQb3MueHl6LT12Tm9ybWFsVypub3JtYWxCaWFzU007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUXNdPSRzO3ZhciBKcz0ic2hhZG93TWFwVmVydGV4TWV0cmljIixlbz1gI2lmIFNNX1VTRURJU1RBTkNFPT0xCnZQb3NpdGlvbldTTT13b3JsZFBvcy54eXo7CiNlbmRpZgojaWYgU01fREVQVEhURVhUVVJFPT0xCiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBCSUFTRkFDVE9SIDAuNQojZWxzZQojZGVmaW5lIEJJQVNGQUNUT1IgMS4wCiNlbmRpZgojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZ2xfUG9zaXRpb24uei09Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbHNlCmdsX1Bvc2l0aW9uLnorPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKelNNPWdsX1Bvc2l0aW9uLno7CmdsX1Bvc2l0aW9uLno9MC4wOwojZWxpZiBTTV9VU0VESVNUQU5DRT09MAojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljU009KC1nbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCnZEZXB0aE1ldHJpY1NNPShnbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0pzXT1lbzt2YXIgdG89ImNsaXBQbGFuZVZlcnRleCIscm89YCNpZmRlZiBDTElQUExBTkUKZkNsaXBEaXN0YW5jZT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgpmQ2xpcERpc3RhbmNlMj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTIpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZkNsaXBEaXN0YW5jZTM9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUzKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmZDbGlwRGlzdGFuY2U0PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNCk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQpmQ2xpcERpc3RhbmNlNT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZkNsaXBEaXN0YW5jZTY9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU2KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0b109cm87dmFyIGlvPSJzaGFkb3dNYXBWZXJ0ZXhTaGFkZXIiLG5vPWBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fc2hhZG93TWFwVmVydGV4PgojaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4RXh0cmFEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1Xb3JsZFNNPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdmVjMyB2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1Xb3JsZFNNWzBdLG5vcm1Xb3JsZFNNWzBdKSxkb3Qobm9ybVdvcmxkU01bMV0sbm9ybVdvcmxkU01bMV0pLGRvdChub3JtV29ybGRTTVsyXSxub3JtV29ybGRTTVsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybVdvcmxkU009dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtV29ybGRTTSkpOwojZW5kaWYKdmVjMyB2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcz4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleE1ldHJpYz4KI2lmZGVmIEFMUEhBVEVTVAojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+Cn1gO0wuU2hhZGVyc1N0b3JlW2lvXT1ubzt2YXIgYW89ImRlcHRoQm94Qmx1clBpeGVsU2hhZGVyIixzbz1gdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CnVuaWZvcm0gdmVjMiBzY3JlZW5TaXplOwojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWM0IGNvbG9yRGVwdGg9dmVjNCgwLjApOwpmb3IgKGludCB4PS1PRkZTRVQ7IHg8PU9GRlNFVDsgeCsrKQpmb3IgKGludCB5PS1PRkZTRVQ7IHk8PU9GRlNFVDsgeSsrKQpjb2xvckRlcHRoKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsdlVWK3ZlYzIoeCx5KS9zY3JlZW5TaXplKTsKZ2xfRnJhZ0NvbG9yPShjb2xvckRlcHRoL2Zsb2F0KChPRkZTRVQqMisxKSooT0ZGU0VUKjIrMSkpKTsKfWA7TC5TaGFkZXJzU3RvcmVbYW9dPXNvO3ZhciBvbz0ic2hhZG93TWFwRnJhZ21lbnRTb2Z0VHJhbnNwYXJlbnRTaGFkb3ciLHVvPWAjaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvb109dW87dmFyIGtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IE8sdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPWkuRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1pLlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1iLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PUkuWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9SS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD1JLklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHQuX3NoYWRvd0dlbmVyYXRvcj10aGlzLHRoaXMuaWQ9dC5pZCx0aGlzLl91c2VVQk89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZVVCT3M9W10sdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKCdTY2VuZSBmb3IgU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIicuY29uY2F0KHRoaXMuX2xpZ2h0Lm5hbWUsJyIpJykpKSksaS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7dmFyIG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO3I/bi50ZXh0dXJlRmxvYXRSZW5kZXImJm4udGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTE6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9Mjp0aGlzLl90ZXh0dXJlVHlwZT0wOm4udGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmbi50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTI6bi50ZXh0dXJlRmxvYXRSZW5kZXImJm4udGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTE6dGhpcy5fdGV4dHVyZVR5cGU9MCx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJiaWFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JpYXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9iaWFzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJub3JtYWxCaWFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcm1hbEJpYXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ub3JtYWxCaWFzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJibHVyQm94T2Zmc2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JsdXJCb3hPZmZzZXR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ibHVyQm94T2Zmc2V0IT09ZSYmKHRoaXMuX2JsdXJCb3hPZmZzZXQ9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJibHVyU2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1clNjYWxlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYmx1clNjYWxlIT09ZSYmKHRoaXMuX2JsdXJTY2FsZT1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJsdXJLZXJuZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1cktlcm5lbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JsdXJLZXJuZWwhPT1lJiYodGhpcy5fYmx1cktlcm5lbD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUtlcm5lbEJsdXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlS2VybmVsQmx1cn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3VzZUtlcm5lbEJsdXIhPT1lJiYodGhpcy5fdXNlS2VybmVsQmx1cj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoU2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhTY2FsZSE9PXZvaWQgMD90aGlzLl9kZXB0aFNjYWxlOnRoaXMuX2xpZ2h0LmdldERlcHRoU2NhbGUoKX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoU2NhbGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fdmFsaWRhdGVGaWx0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZmlsdGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcn0sc2V0OmZ1bmN0aW9uKGUpe2lmKGU9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoZSksdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl7aWYoZT09PWkuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09aS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApe3RoaXMudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09aS5GSUxURVJfUENGfHxlPT09aS5GSUxURVJfUENTUyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufX1pZigoZT09PWkuRklMVEVSX1BDRnx8ZT09PWkuRklMVEVSX1BDU1MpJiYhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLnN1cHBvcnRTaGFkb3dTYW1wbGVycyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufXRoaXMuX2ZpbHRlciE9PWUmJih0aGlzLl9maWx0ZXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlUG9pc3NvblNhbXBsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfUE9JU1NPTlNBTVBMSU5HfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfUE9JU1NPTlNBTVBMSU5HKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9QT0lTU09OU0FNUExJTkd8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VFeHBvbmVudGlhbFNoYWRvd01hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKGkuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX1BDRn0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKGkuRklMVEVSX1BDRik7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfUENGfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZmlsdGVyaW5nUXVhbGl0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWx0ZXJpbmdRdWFsaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZmlsdGVyaW5nUXVhbGl0eSE9PWUmJih0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3ciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QQ1NTfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfUENTUyk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfUENTU3x8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRhcmtuZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXREYXJrbmVzcyhlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXREYXJrbmVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXJrbmVzc30saS5wcm90b3R5cGUuc2V0RGFya25lc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTE/dGhpcy5fZGFya25lc3M9MTplPD0wP3RoaXMuX2RhcmtuZXNzPTA6dGhpcy5fZGFya25lc3M9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeVNoYWRvdyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3d9LHNldDpmdW5jdGlvbihlKXt0aGlzLnNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRUcmFuc3BhcmVuY3lTaGFkb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz1lLHRoaXN9LGkucHJvdG90eXBlLmdldFNoYWRvd01hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dNYXB9LGkucHJvdG90eXBlLmdldFNoYWRvd01hcEZvclJlbmRlcmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dNYXAyP3RoaXMuX3NoYWRvd01hcDI6dGhpcy5fc2hhZG93TWFwfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5DTEFTU05BTUV9LGkucHJvdG90eXBlLmFkZFNoYWRvd0Nhc3Rlcj1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSEwKSwhdGhpcy5fc2hhZG93TWFwKXJldHVybiB0aGlzO2lmKHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChlKSx0KWZvcih2YXIgcj0wLG49ZS5nZXRDaGlsZE1lc2hlcygpO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO3RoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoYSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChhKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUucmVtb3ZlU2hhZG93Q2FzdGVyPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCF0aGlzLl9zaGFkb3dNYXB8fCF0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdClyZXR1cm4gdGhpczt2YXIgcj10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpO2lmKHIhPT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Quc3BsaWNlKHIsMSksdClmb3IodmFyIG49MCxhPWUuZ2V0Q2hpbGRyZW4oKTtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTt0aGlzLnJlbW92ZVNoYWRvd0Nhc3RlcihzKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlnaHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWFwU2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXBTaXplfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9pbml0aWFsaXplR2VuZXJhdG9yPWZ1bmN0aW9uKCl7dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9pbml0aWFsaXplU2hhZG93TWFwKCl9LGkucHJvdG90eXBlLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5fZmVhdHVyZXMuc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU/KHRoaXMuX3NoYWRvd01hcD1uZXcgVnQodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpLHZvaWQgMCwhMSwhMSksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCkpOnRoaXMuX3NoYWRvd01hcD1uZXcgVnQodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKX0saS5wcm90b3R5cGUuX2luaXRpYWxpemVTaGFkb3dNYXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKSx0aGlzLl9zaGFkb3dNYXAhPT1udWxsKXt0aGlzLl9zaGFkb3dNYXAud3JhcFU9dGUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLndyYXBWPXRlLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTEsdGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZSh0ZS5CSUxJTkVBUl9TQU1QTElOR01PREUpLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fc2hhZG93TWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX3N0b3JlZFVuaXF1ZUlkJiYodGhpcy5fc2hhZG93TWFwLnVuaXF1ZUlkPXRoaXMuX3N0b3JlZFVuaXF1ZUlkKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyRm9yU2hhZG93TWFwLmJpbmQodGhpcyksdGhpcy5fc2hhZG93TWFwLmN1c3RvbUlzUmVhZHlGdW5jdGlvbj1mdW5jdGlvbigpe3JldHVybiEwfTt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgcztlLl9jdXJyZW50U2NlbmVVQk89ZS5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHM9dC5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKHQsInNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAiLmNvbmNhdCh0LmN1cnJlbnRSZW5kZXJQYXNzSWQpLDEpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7ZS5fc2NlbmVVQk9zJiZlLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZS5fc2NlbmVVQk9zWzBdKSxlLl9jdXJyZW50RmFjZUluZGV4PXMsZS5fZmlsdGVyPT09aS5GSUxURVJfUENGJiZ0LnNldENvbG9yV3JpdGUoITEpLGUuZ2V0VHJhbnNmb3JtTWF0cml4KCksZS5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KGUuX3ZpZXdNYXRyaXgsZS5fcHJvamVjdGlvbk1hdHJpeCksZS5fdXNlVUJPJiYoZS5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksZS5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgcyxvO2lmKGUuX3NjZW5lVUJPcyYmZS5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKGUuX2N1cnJlbnRTY2VuZVVCTyksZS5fc2NlbmUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksZS5fZmlsdGVyPT09aS5GSUxURVJfUENGJiZ0LnNldENvbG9yV3JpdGUoITApLCFlLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCYmIWUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApeyhzPXQuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKHQsMSk7cmV0dXJufXZhciB1PWUuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCk7dSYmKGUuX3NjZW5lLnBvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIoZS5fYmx1clBvc3RQcm9jZXNzZXMsdS5yZW5kZXJUYXJnZXQsITApLHQudW5CaW5kRnJhbWVidWZmZXIodS5yZW5kZXJUYXJnZXQsITApLChvPXQuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHQsMSkpfSk7dmFyIHI9bmV3IEVlKDAsMCwwLDApLG49bmV3IEVlKDEsMSwxLDEpO3RoaXMuX3NoYWRvd01hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7ZS5fZmlsdGVyPT09aS5GSUxURVJfUENGP3MuY2xlYXIobiwhMSwhMCwhMSk6ZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8ZS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/cy5jbGVhcihyLCEwLCEwLCExKTpzLmNsZWFyKG4sITAsITAsITEpfSksdGhpcy5fc2hhZG93TWFwLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7ZS5fc3RvcmVkVW5pcXVlSWQ9ZS5fc2hhZG93TWFwLnVuaXF1ZUlkLGUuX21hcFNpemU9cy5nZXRSZW5kZXJTaXplKCksZS5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSxlLnJlY3JlYXRlU2hhZG93TWFwKCl9KTtmb3IodmFyIGE9TXIuTUlOX1JFTkRFUklOR0dST1VQUzthPE1yLk1BWF9SRU5ERVJJTkdHUk9VUFM7YSsrKXRoaXMuX3NoYWRvd01hcC5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoYSwhMSl9fSxpLnByb3RvdHlwZS5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9dGhpcy5fbWFwU2l6ZS90aGlzLmJsdXJTY2FsZTsoIXRoaXMudXNlS2VybmVsQmx1cnx8dGhpcy5ibHVyU2NhbGUhPT0xKSYmKHRoaXMuX3NoYWRvd01hcDI9bmV3IFZ0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAyIixyLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHZvaWQgMCx2b2lkIDAsITEpLHRoaXMuX3NoYWRvd01hcDIud3JhcFU9dGUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi53cmFwVj10ZS5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLnVwZGF0ZVNhbXBsaW5nTW9kZSh0ZS5CSUxJTkVBUl9TQU1QTElOR01PREUpKSx0aGlzLnVzZUtlcm5lbEJsdXI/KHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bmV3IGxpKHRoaXMuX2xpZ2h0Lm5hbWUrIktlcm5lbEJsdXJYIixuZXcgU2UoMSwwKSx0aGlzLmJsdXJLZXJuZWwsMSxudWxsLHRlLkJJTElORUFSX1NBTVBMSU5HTU9ERSx0LCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLndpZHRoPXIsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5oZWlnaHQ9cix0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKG4pe24uc2V0VGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLGUuX3NoYWRvd01hcCl9KSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzPW5ldyBsaSh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWSIsbmV3IFNlKDAsMSksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCx0ZS5CSUxJTkVBUl9TQU1QTElOR01PREUsdCwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgbnIodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsdGUuQklMSU5FQVJfU0FNUExJTkdNT0RFLHQsITEsIiNkZWZpbmUgT0ZGU0VUICIrdGhpcy5fYmx1ckJveE9mZnNldCx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24obil7bi5zZXRGbG9hdDIoInNjcmVlblNpemUiLHIsciksbi5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsZS5fc2hhZG93TWFwKX0pLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2JveEJsdXJQb3N0cHJvY2Vzc10pfSxpLnByb3RvdHlwZS5fcmVuZGVyRm9yU2hhZG93TWFwPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhO2lmKG4ubGVuZ3RoKWZvcihhPTA7YTxuLmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChuLmRhdGFbYV0pO2ZvcihhPTA7YTxlLmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLmRhdGFbYV0pO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcCh0LmRhdGFbYV0pO2lmKHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdylmb3IoYT0wO2E8ci5sZW5ndGg7YSsrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoci5kYXRhW2FdLCEwKTtlbHNlIGZvcihhPTA7YTxyLmxlbmd0aDthKyspci5kYXRhW2FdLmdldEVmZmVjdGl2ZU1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITF9LGkucHJvdG90eXBlLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcD1mdW5jdGlvbihlLHQscil7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKX0saS5wcm90b3R5cGUuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXA9ZnVuY3Rpb24oZSx0KXt2YXIgcixuO3Q9PT12b2lkIDAmJih0PSExKTt2YXIgYT1lLmdldFJlbmRlcmluZ01lc2goKSxzPWUuZ2V0RWZmZWN0aXZlTWVzaCgpLG89dGhpcy5fc2NlbmUsdT1vLmdldEVuZ2luZSgpLGY9ZS5nZXRNYXRlcmlhbCgpO2lmKHMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExLCEoIWZ8fGUudmVydGljZXNDb3VudD09PTB8fGUuX3JlbmRlcklkPT09by5nZXRSZW5kZXJJZCgpKSl7dmFyIGw9cy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDAsaD0ocj1hLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmciE9PXZvaWQgMD9yOmYuc2lkZU9yaWVudGF0aW9uO2wmJihoPWg9PT0wPzE6MCk7dmFyIGM9aD09PTA7dS5zZXRTdGF0ZShmLmJhY2tGYWNlQ3VsbGluZyx2b2lkIDAsdm9pZCAwLGMsZi5jdWxsQmFja0ZhY2VzKTt2YXIgZD1hLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUuX2lkLCEhZS5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoIWQubXVzdFJldHVybil7dmFyIHA9dS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoZC52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PW51bGwmJmQudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0hPT12b2lkIDB8fGEuaGFzVGhpbkluc3RhbmNlcyk7aWYoISh0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nJiYhdGhpcy5jdXN0b21BbGxvd1JlbmRlcmluZyhlKSkpaWYodGhpcy5pc1JlYWR5KGUscCx0KSl7ZS5fcmVuZGVySWQ9by5nZXRSZW5kZXJJZCgpO3ZhciBnPWYuc2hhZG93RGVwdGhXcmFwcGVyLF89KG49Zz09bnVsbD92b2lkIDA6Zy5nZXRFZmZlY3QoZSx0aGlzLHUuY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmUuX2dldERyYXdXcmFwcGVyKCksdj1xdC5HZXRFZmZlY3QoXyk7aWYodS5lbmFibGVFZmZlY3QoXykscHx8YS5fYmluZChlLHYsZi5maWxsTW9kZSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSx2LnNldEZsb2F0MygiYmlhc0FuZFNjYWxlU00iLHRoaXMuYmlhcyx0aGlzLm5vcm1hbEJpYXMsdGhpcy5kZXB0aFNjYWxlKSx0aGlzLmdldExpZ2h0KCkuZ2V0VHlwZUlEKCk9PT1ldC5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUP3Yuc2V0VmVjdG9yMygibGlnaHREYXRhU00iLHRoaXMuX2NhY2hlZERpcmVjdGlvbik6di5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkUG9zaXRpb24pLG8uYWN0aXZlQ2FtZXJhJiZ2LnNldEZsb2F0MigiZGVwdGhWYWx1ZXNTTSIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihvLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihvLmFjdGl2ZUNhbWVyYSkrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihvLmFjdGl2ZUNhbWVyYSkpLHQmJnRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZ2LnNldEZsb2F0KCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIscy52aXNpYmlsaXR5KmYuYWxwaGEpLGcpZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUoXyksZy5zdGFuZGFsb25lP2cuYmFzZU1hdGVyaWFsLmJpbmRGb3JTdWJNZXNoKHMuZ2V0V29ybGRNYXRyaXgoKSxhLGUpOmYuYmluZEZvclN1Yk1lc2gocy5nZXRXb3JsZE1hdHJpeCgpLGEsZSksZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobnVsbCk7ZWxzZXtpZihmJiZ0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3cpe3ZhciB5PWYub3BhY2l0eVRleHR1cmU7eSYmKHYuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHkpLHYuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4Iix5LmdldFRleHR1cmVNYXRyaXgoKXx8dGhpcy5fZGVmYXVsdFRleHR1cmVNYXRyaXgpKX1lbHNlIGlmKGYmJmYubmVlZEFscGhhVGVzdGluZygpKXt2YXIgRT1mLmdldEFscGhhVGVzdFRleHR1cmUoKTtFJiYodi5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsRSksdi5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLEUuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWlmKGEudXNlQm9uZXMmJmEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZhLnNrZWxldG9uKXt2YXIgUj1hLnNrZWxldG9uO2lmKFIuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7dmFyIE09Ui5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGEpO2lmKCFNKXJldHVybjt2LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixNKSx2LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihSLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSB2LnNldE1hdHJpY2VzKCJtQm9uZXMiLFIuZ2V0VHJhbnNmb3JtTWF0cmljZXMoYSkpfVkuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhhLHYpLGEubW9ycGhUYXJnZXRNYW5hZ2VyJiZhLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmEubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHYpLFkuQmluZENsaXBQbGFuZSh2LG8pfSF0aGlzLl91c2VVQk8mJiFnJiZ0aGlzLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHYscyksWS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKHYsdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLmJpbmRVbmlmb3JtQnVmZmVyKCk7dmFyIEM9cy5nZXRXb3JsZE1hdHJpeCgpO3AmJihzLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxzLnRyYW5zZmVyVG9FZmZlY3QoQykpLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZ1LnNldFN0YXRlKCEwLDAsITEsITAsZi5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh2KSxhLl9wcm9jZXNzUmVuZGVyaW5nKHMsZSx2LGYuZmlsbE1vZGUsZCxwLGZ1bmN0aW9uKEEsUyl7cyE9PWEmJiFBPyhhLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxhLnRyYW5zZmVyVG9FZmZlY3QoUykpOihzLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxzLnRyYW5zZmVyVG9FZmZlY3QoQT9TOkMpKX0pLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZ1LnNldFN0YXRlKCEwLDAsITEsITEsZi5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh2KSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9ZWxzZSB0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZXNldFJlZnJlc2hDb3VudGVyKCl9fX0saS5wcm90b3R5cGUuX2FwcGx5RmlsdGVyVmFsdWVzPWZ1bmN0aW9uKCl7IXRoaXMuX3NoYWRvd01hcHx8KHRoaXMuZmlsdGVyPT09aS5GSUxURVJfTk9ORXx8dGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QQ1NTP3RoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUodGUuTkVBUkVTVF9TQU1QTElOR01PREUpOnRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUodGUuQklMSU5FQVJfU0FNUExJTkdNT0RFKSl9LGkucHJvdG90eXBlLmZvcmNlQ29tcGlsYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49YnQoe3VzZUluc3RhbmNlczohMX0sdCksYT10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFhKXtlJiZlKHRoaXMpO3JldHVybn12YXIgcz1hLnJlbmRlckxpc3Q7aWYoIXMpe2UmJmUodGhpcyk7cmV0dXJufWZvcih2YXIgbz1uZXcgQXJyYXksdT0wLGY9czt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XTtvLnB1c2guYXBwbHkobyxsLnN1Yk1lc2hlcyl9aWYoby5sZW5ndGg9PT0wKXtlJiZlKHRoaXMpO3JldHVybn12YXIgaD0wLGM9ZnVuY3Rpb24oKXt2YXIgZCxwO2lmKCEoIXIuX3NjZW5lfHwhci5fc2NlbmUuZ2V0RW5naW5lKCkpKXtmb3IoO3IuaXNSZWFkeShvW2hdLG4udXNlSW5zdGFuY2VzLChwPShkPW9baF0uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChvW2hdLmdldE1lc2goKSkpIT09bnVsbCYmcCE9PXZvaWQgMD9wOiExKTspaWYoaCsrLGg+PW8ubGVuZ3RoKXtlJiZlKHIpO3JldHVybn1zZXRUaW1lb3V0KGMsMTYpfX07YygpfSxpLnByb3RvdHlwZS5mb3JjZUNvbXBpbGF0aW9uQXN5bmM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocil7dC5mb3JjZUNvbXBpbGF0aW9uKGZ1bmN0aW9uKCl7cigpfSxlKX0pfSxpLnByb3RvdHlwZS5faXNSZWFkeUN1c3RvbURlZmluZXM9ZnVuY3Rpb24oZSx0LHIpe30saS5wcm90b3R5cGUuX3ByZXBhcmVTaGFkb3dEZWZpbmVzPWZ1bmN0aW9uKGUsdCxyLG4pe3IucHVzaCgiI2RlZmluZSBTTV9GTE9BVCAiKyh0aGlzLl90ZXh0dXJlVHlwZSE9PTA/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9FU00gIisodGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9ERVBUSFRFWFRVUkUgIisodGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nfHx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/IjEiOiIwIikpO3ZhciBhPWUuZ2V0TWVzaCgpO3JldHVybiByLnB1c2goIiNkZWZpbmUgU01fTk9STUFMQklBUyAiKyh0aGlzLm5vcm1hbEJpYXMmJmEuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCk/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQSAiKyh0aGlzLmdldExpZ2h0KCkuZ2V0VHlwZUlEKCk9PT1ldC5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fVVNFRElTVEFOQ0UgIisodGhpcy5fbGlnaHQubmVlZEN1YmUoKT8iMSI6IjAiKSksci5wdXNoKCIjZGVmaW5lIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVyAiKyh0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdyYmbj8iMSI6IjAiKSksdGhpcy5faXNSZWFkeUN1c3RvbURlZmluZXMocixlLHQpLHJ9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGE9ZS5nZXRNYXRlcmlhbCgpLHM9YT09bnVsbD92b2lkIDA6YS5zaGFkb3dEZXB0aFdyYXBwZXIsbz1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsbyxyKSxzKXtpZighcy5pc1JlYWR5Rm9yU3ViTWVzaChlLG8sdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7dmFyIHU9ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKSxmPXUuZWZmZWN0LGw9dS5kZWZpbmVzLGg9W20uUG9zaXRpb25LaW5kXSxjPWUuZ2V0TWVzaCgpO2lmKHRoaXMubm9ybWFsQmlhcyYmYy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSYmKGgucHVzaChtLk5vcm1hbEtpbmQpLG8ucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxjLm5vblVuaWZvcm1TY2FsaW5nJiZvLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSksYSYmYS5uZWVkQWxwaGFUZXN0aW5nKCkpe3ZhciBkPW51bGw7aWYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93P2Q9YS5vcGFjaXR5VGV4dHVyZTpkPWEuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLGQpe2lmKCFkLmlzUmVhZHkoKSlyZXR1cm4hMTt2YXIgcD0obj1hLmFscGhhQ3V0T2ZmKSE9PW51bGwmJm4hPT12b2lkIDA/bjppLkRFRkFVTFRfQUxQSEFfQ1VUT0ZGO28ucHVzaCgiI2RlZmluZSBBTFBIQVRFU1QiKSxvLnB1c2goIiNkZWZpbmUgQUxQSEFURVNUVkFMVUUgIi5jb25jYXQocCkuY29uY2F0KHAlMT09PTA/Ii4iOiIiKSksYy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpJiYoaC5wdXNoKG0uVVZLaW5kKSxvLnB1c2goIiNkZWZpbmUgVVYxIikpLGMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJmQuY29vcmRpbmF0ZXNJbmRleD09PTEmJihoLnB1c2gobS5VVjJLaW5kKSxvLnB1c2goIiNkZWZpbmUgVVYyIikpfX12YXIgZz1uZXcgaGk7aWYoYy51c2VCb25lcyYmYy5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmMuc2tlbGV0b24pe2gucHVzaChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGgucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGMubnVtQm9uZUluZmx1ZW5jZXJzPjQmJihoLnB1c2gobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGgucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpO3ZhciBfPWMuc2tlbGV0b247by5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrYy5udW1Cb25lSW5mbHVlbmNlcnMpLGMubnVtQm9uZUluZmx1ZW5jZXJzPjAmJmcuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGMpLF8uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcz9vLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKTpvLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKF8uYm9uZXMubGVuZ3RoKzEpKX1lbHNlIG8ucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7dmFyIHY9Yy5tb3JwaFRhcmdldE1hbmFnZXIseT0wO3YmJnYubnVtSW5mbHVlbmNlcnM+MCYmKG8ucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx5PXYubnVtSW5mbHVlbmNlcnMsby5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK3kpLHYuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZvLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMoaCxjLHkpKTt2YXIgRT10aGlzLl9zY2VuZTtpZihFLmNsaXBQbGFuZSYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORSIpLEUuY2xpcFBsYW5lMiYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTIiKSxFLmNsaXBQbGFuZTMmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkUzIiksRS5jbGlwUGxhbmU0JiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNCIpLEUuY2xpcFBsYW5lNSYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTUiKSxFLmNsaXBQbGFuZTYmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkU2IiksdCYmKG8ucHVzaCgiI2RlZmluZSBJTlNUQU5DRVMiKSxZLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGgpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJm8ucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcih2YXIgUj0wLE09dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmRlZmluZXM7UjxNLmxlbmd0aDtSKyspe3ZhciBDPU1bUl07by5pbmRleE9mKEMpPT09LTEmJm8ucHVzaChDKX12YXIgQT1vLmpvaW4oYApgKTtpZihsIT09QSl7bD1BO3ZhciBTPSJzaGFkb3dNYXAiLHc9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2Iiwic29mdFRyYW5zcGFyZW50U2hhZG93U00iLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLEY9WyJkaWZmdXNlU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIl0seD1bIlNjZW5lIiwiTWVzaCJdO2lmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucyl7aWYoUz10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2hhZGVyTmFtZSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcylmb3IodmFyIEc9MCxXPXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5hdHRyaWJ1dGVzO0c8Vy5sZW5ndGg7RysrKXt2YXIgTj1XW0ddO2guaW5kZXhPZihOKT09PS0xJiZoLnB1c2goTil9aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKWZvcih2YXIgcT0wLCQ9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zO3E8JC5sZW5ndGg7cSsrKXt2YXIgb2U9JFtxXTt3LmluZGV4T2Yob2UpPT09LTEmJncucHVzaChvZSl9aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKWZvcih2YXIgWj0wLGo9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzO1o8ai5sZW5ndGg7WisrKXt2YXIgdWU9altaXTtGLmluZGV4T2YodWUpPT09LTEmJkYucHVzaCh1ZSl9fXZhciBQZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmPVBlLmNyZWF0ZUVmZmVjdChTLHthdHRyaWJ1dGVzOmgsdW5pZm9ybXNOYW1lczp3LHVuaWZvcm1CdWZmZXJzTmFtZXM6eCxzYW1wbGVyczpGLGRlZmluZXM6QSxmYWxsYmFja3M6ZyxvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnl9fSxQZSksdS5zZXRFZmZlY3QoZixsKX1pZighZi5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuKHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKCF0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlc3x8IXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzLmxlbmd0aCkmJnRoaXMuX2luaXRpYWxpemVCbHVyUlRUQW5kUG9zdFByb2Nlc3NlcygpLCEodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmIXRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuaXNSZWFkeSgpfHx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2JveEJsdXJQb3N0cHJvY2VzcyYmIXRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5pc1JlYWR5KCkpfSxpLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3NjZW5lLG49dGhpcy5fbGlnaHQ7IXIuc2hhZG93c0VuYWJsZWR8fCFuLnNoYWRvd0VuYWJsZWR8fChlWyJTSEFET1ciK3RdPSEwLHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8oZVsiU0hBRE9XUENTUyIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PWkuUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PWkuUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz8oZVsiU0hBRE9XUENGIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09aS5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09aS5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQb2lzc29uU2FtcGxpbmc/ZVsiU0hBRE9XUE9JU1NPTiIrdF09ITA6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/ZVsiU0hBRE9XRVNNIit0XT0hMDoodGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKGVbIlNIQURPV0NMT1NFRVNNIit0XT0hMCksbi5uZWVkQ3ViZSgpJiYoZVsiU0hBRE9XQ1VCRSIrdF09ITApKX0saS5wcm90b3R5cGUuYmluZFNoYWRvd0xpZ2h0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbGlnaHQsbj10aGlzLl9zY2VuZTtpZighKCFuLnNoYWRvd3NFbmFibGVkfHwhci5zaGFkb3dFbmFibGVkKSl7dmFyIGE9bi5hY3RpdmVDYW1lcmE7aWYoISFhKXt2YXIgcz10aGlzLmdldFNoYWRvd01hcCgpOyFzfHwoci5uZWVkQ3ViZSgpfHx0LnNldE1hdHJpeCgibGlnaHRNYXRyaXgiK2UsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksdGhpcy5fZmlsdGVyPT09aS5GSUxURVJfUENGPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksci5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCkscy5nZXRTaXplKCkud2lkdGgsMS9zLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6dGhpcy5fZmlsdGVyPT09aS5GSUxURVJfUENTUz8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHIuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvcy5nZXRTaXplKCkud2lkdGgsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qcy5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOih0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksci5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdGhpcy5ibHVyU2NhbGUvcy5nZXRTaXplKCkud2lkdGgsdGhpcy5kZXB0aFNjYWxlLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKSxyLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pblooYSksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihhKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKGEpLGUpKX19fSxpLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zY2VuZTtpZih0aGlzLl9jdXJyZW50UmVuZGVySWQ9PT1lLmdldFJlbmRlcklkKCkmJnRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT09PXRoaXMuX2N1cnJlbnRGYWNlSW5kZXgpcmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeDt0aGlzLl9jdXJyZW50UmVuZGVySWQ9ZS5nZXRSZW5kZXJJZCgpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT10aGlzLl9jdXJyZW50RmFjZUluZGV4O3ZhciB0PXRoaXMuX2xpZ2h0LnBvc2l0aW9uO2lmKHRoaXMuX2xpZ2h0LmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCkmJih0PXRoaXMuX2xpZ2h0LnRyYW5zZm9ybWVkUG9zaXRpb24pLGIuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKHRoaXMuX2N1cnJlbnRGYWNlSW5kZXgpLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhiLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixiLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9saWdodC5uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKXx8IXRoaXMuX2NhY2hlZFBvc2l0aW9ufHwhdGhpcy5fY2FjaGVkRGlyZWN0aW9ufHwhdC5lcXVhbHModGhpcy5fY2FjaGVkUG9zaXRpb24pfHwhdGhpcy5fbGlnaHREaXJlY3Rpb24uZXF1YWxzKHRoaXMuX2NhY2hlZERpcmVjdGlvbikpe3RoaXMuX2NhY2hlZFBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbiksSS5Mb29rQXRMSFRvUmVmKHQsdC5hZGQodGhpcy5fbGlnaHREaXJlY3Rpb24pLGIuVXAoKSx0aGlzLl92aWV3TWF0cml4KTt2YXIgcj10aGlzLmdldFNoYWRvd01hcCgpO2lmKHIpe3ZhciBuPXIucmVuZGVyTGlzdDtuJiZ0aGlzLl9saWdodC5zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdmlld01hdHJpeCxuKX10aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpfXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9LGkucHJvdG90eXBlLnJlY3JlYXRlU2hhZG93TWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2hhZG93TWFwO2lmKCEhZSl7dmFyIHQ9ZS5yZW5kZXJMaXN0O2lmKHRoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5faW5pdGlhbGl6ZUdlbmVyYXRvcigpLHRoaXMuZmlsdGVyPXRoaXMuX2ZpbHRlcix0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHQpe3RoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pO2Zvcih2YXIgcj0wLG49dDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTt0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGEpfX1lbHNlIHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PW51bGx9fSxpLnByb3RvdHlwZS5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzPWZ1bmN0aW9uKCl7dGhpcy5fc2hhZG93TWFwMiYmKHRoaXMuX3NoYWRvd01hcDIuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcDI9bnVsbCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W119LGkucHJvdG90eXBlLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3Nlcz1mdW5jdGlvbigpe3RoaXMuX3NoYWRvd01hcCYmKHRoaXMuX3NoYWRvd01hcC5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwPW51bGwpLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpfSxpLnByb3RvdHlwZS5fZGlzcG9zZVNjZW5lVUJPcz1mdW5jdGlvbigpe2lmKHRoaXMuX3NjZW5lVUJPcyl7Zm9yKHZhciBlPTAsdD10aGlzLl9zY2VuZVVCT3M7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07ci5kaXNwb3NlKCl9dGhpcy5fc2NlbmVVQk9zPVtdfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX2xpZ2h0JiYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcj1udWxsLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighdClyZXR1cm4gZTtpZihlLmNsYXNzTmFtZT10aGlzLmdldENsYXNzTmFtZSgpLGUubGlnaHRJZD10aGlzLl9saWdodC5pZCxlLmlkPXRoaXMuaWQsZS5tYXBTaXplPXQuZ2V0UmVuZGVyU2l6ZSgpLGUuZm9yY2VCYWNrRmFjZXNPbmx5PXRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5LGUuZGFya25lc3M9dGhpcy5nZXREYXJrbmVzcygpLGUudHJhbnNwYXJlbmN5U2hhZG93PXRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdyxlLmZydXN0dW1FZGdlRmFsbG9mZj10aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlLmJpYXM9dGhpcy5iaWFzLGUubm9ybWFsQmlhcz10aGlzLm5vcm1hbEJpYXMsZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPXRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyxlLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c9dGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93LGUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89dGhpcy5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyxlLmZpbHRlcmluZ1F1YWxpdHk9dGhpcy5maWx0ZXJpbmdRdWFsaXR5LGUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZVBvaXNzb25TYW1wbGluZz10aGlzLnVzZVBvaXNzb25TYW1wbGluZyxlLmRlcHRoU2NhbGU9dGhpcy5kZXB0aFNjYWxlLGUuYmx1ckJveE9mZnNldD10aGlzLmJsdXJCb3hPZmZzZXQsZS5ibHVyS2VybmVsPXRoaXMuYmx1cktlcm5lbCxlLmJsdXJTY2FsZT10aGlzLmJsdXJTY2FsZSxlLnVzZUtlcm5lbEJsdXI9dGhpcy51c2VLZXJuZWxCbHVyLGUucmVuZGVyTGlzdD1bXSx0LnJlbmRlckxpc3QpZm9yKHZhciByPTA7cjx0LnJlbmRlckxpc3QubGVuZ3RoO3IrKyl7dmFyIG49dC5yZW5kZXJMaXN0W3JdO2UucmVuZGVyTGlzdC5wdXNoKG4uaWQpfXJldHVybiBlfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dC5nZXRMaWdodEJ5SWQoZS5saWdodElkKSxhPXI/cihlLm1hcFNpemUsbik6bmV3IGkoZS5tYXBTaXplLG4pLHM9YS5nZXRTaGFkb3dNYXAoKSxvPTA7bzxlLnJlbmRlckxpc3QubGVuZ3RoO28rKyl7dmFyIHU9dC5nZXRNZXNoZXNCeUlkKGUucmVuZGVyTGlzdFtvXSk7dS5mb3JFYWNoKGZ1bmN0aW9uKGYpeyFzfHwocy5yZW5kZXJMaXN0fHwocy5yZW5kZXJMaXN0PVtdKSxzLnJlbmRlckxpc3QucHVzaChmKSl9KX1yZXR1cm4gZS5pZCE9PXZvaWQgMCYmKGEuaWQ9ZS5pZCksYS5mb3JjZUJhY2tGYWNlc09ubHk9ISFlLmZvcmNlQmFja0ZhY2VzT25seSxlLmRhcmtuZXNzIT09dm9pZCAwJiZhLnNldERhcmtuZXNzKGUuZGFya25lc3MpLGUudHJhbnNwYXJlbmN5U2hhZG93JiZhLnNldFRyYW5zcGFyZW5jeVNoYWRvdyghMCksZS5mcnVzdHVtRWRnZUZhbGxvZmYhPT12b2lkIDAmJihhLmZydXN0dW1FZGdlRmFsbG9mZj1lLmZydXN0dW1FZGdlRmFsbG9mZiksZS5iaWFzIT09dm9pZCAwJiYoYS5iaWFzPWUuYmlhcyksZS5ub3JtYWxCaWFzIT09dm9pZCAwJiYoYS5ub3JtYWxCaWFzPWUubm9ybWFsQmlhcyksZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nP2EudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMDplLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/YS51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PSEwOmUudXNlUG9pc3NvblNhbXBsaW5nP2EudXNlUG9pc3NvblNhbXBsaW5nPSEwOmUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9hLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZVZhcmlhbmNlU2hhZG93TWFwP2EudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyVmFyaWFuY2VTaGFkb3dNYXAmJihhLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMCksZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyE9PXZvaWQgMCYmKGEuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyksZS5maWx0ZXJpbmdRdWFsaXR5IT09dm9pZCAwJiYoYS5maWx0ZXJpbmdRdWFsaXR5PWUuZmlsdGVyaW5nUXVhbGl0eSksZS5kZXB0aFNjYWxlJiYoYS5kZXB0aFNjYWxlPWUuZGVwdGhTY2FsZSksZS5ibHVyU2NhbGUmJihhLmJsdXJTY2FsZT1lLmJsdXJTY2FsZSksZS5ibHVyQm94T2Zmc2V0JiYoYS5ibHVyQm94T2Zmc2V0PWUuYmx1ckJveE9mZnNldCksZS51c2VLZXJuZWxCbHVyJiYoYS51c2VLZXJuZWxCbHVyPWUudXNlS2VybmVsQmx1ciksZS5ibHVyS2VybmVsJiYoYS5ibHVyS2VybmVsPWUuYmx1cktlcm5lbCksYX0saS5DTEFTU05BTUU9IlNoYWRvd0dlbmVyYXRvciIsaS5GSUxURVJfTk9ORT0wLGkuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQPTEsaS5GSUxURVJfUE9JU1NPTlNBTVBMSU5HPTIsaS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQPTMsaS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD00LGkuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTUsaS5GSUxURVJfUENGPTYsaS5GSUxURVJfUENTUz03LGkuUVVBTElUWV9ISUdIPTAsaS5RVUFMSVRZX01FRElVTT0xLGkuUVVBTElUWV9MT1c9MixpLkRFRkFVTFRfQUxQSEFfQ1VUT0ZGPS41LGkuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249ZnVuY3Rpb24oZSl7dGhyb3cgWCgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX0saX0oKSxmbz0iZGVwdGhQaXhlbFNoYWRlciIsbG89YCNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpYzsKI2lmZGVmIFBBQ0tFRAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKI2lmZGVmIEFMUEhBVEVTVAppZiAodGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTwwLjQpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgTk9OTElORUFSREVQVEgKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayhnbF9GcmFnQ29vcmQueik7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KGdsX0ZyYWdDb29yZC56LDAuMCwwLjAsMC4wKTsKI2VuZGlmCiNlbHNlCiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2sodkRlcHRoTWV0cmljKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQodkRlcHRoTWV0cmljLDAuMCwwLjAsMS4wKTsKI2VuZGlmCiNlbmRpZgp9YDtMLlNoYWRlcnNTdG9yZVtmb109bG87dmFyIGhvPSJpbnN0YW5jZXNEZWNsYXJhdGlvbiIsY289YCNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgd29ybGQwOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMjsKYXR0cmlidXRlIHZlYzQgd29ybGQzOwojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKSAmJiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQwOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMTsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQzOwojaWZkZWYgVEhJTl9JTlNUQU5DRVMKdW5pZm9ybSBtYXQ0IHByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKdW5pZm9ybSBtYXQ0IHByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2hvXT1jbzt2YXIgcG89ImRlcHRoVmVydGV4U2hhZGVyIixfbz1gYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXM7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgfHwgZGVmaW5lZChORUVEX1VWKQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpZmRlZiBVVjIKYXR0cmlidXRlIHZlYzIgdXYyOwojZW5kaWYKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljPSgoLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2Vsc2UKdkRlcHRoTWV0cmljPSgoZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO0wuU2hhZGVyc1N0b3JlW3BvXT1fbzt2YXIgZ289ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7dD09PXZvaWQgMCYmKHQ9MSkscj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49ITEpLGE9PT12b2lkIDAmJihhPXRlLlRSSUxJTkVBUl9TQU1QTElOR01PREUpO3ZhciBzPXRoaXM7dGhpcy5lbmFibGVkPSEwLHRoaXMuZm9yY2VEZXB0aFdyaXRlVHJhbnNwYXJlbnRNZXNoZXM9ITEsdGhpcy51c2VPbmx5SW5BY3RpdmVDYW1lcmE9ITEsdGhpcy5fc2NlbmU9ZSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoPW4sdGhpcy5pc1BhY2tlZD10PT09MCx0aGlzLmlzUGFja2VkP3RoaXMuX2NsZWFyQ29sb3I9bmV3IEVlKDEsMSwxLDEpOnRoaXMuX2NsZWFyQ29sb3I9bmV3IEVlKDEsMCwwLDEpLGkuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb24odGhpcy5fc2NlbmUpO3ZhciBvPWUuZ2V0RW5naW5lKCk7dGhpcy5fY2FtZXJhPXIsYSE9PXRlLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodD09PTEmJiFvLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZyYmKGE9dGUuTkVBUkVTVF9TQU1QTElOR01PREUpLHQ9PT0yJiYhby5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nJiYoYT10ZS5ORUFSRVNUX1NBTVBMSU5HTU9ERSkpO3ZhciB1PXRoaXMuaXNQYWNrZWR8fCFvLl9mZWF0dXJlcy5zdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0cz81OjY7dGhpcy5fZGVwdGhNYXA9bmV3IFZ0KCJEZXB0aFJlbmRlcmVyIix7d2lkdGg6by5nZXRSZW5kZXJXaWR0aCgpLGhlaWdodDpvLmdldFJlbmRlckhlaWdodCgpfSx0aGlzLl9zY2VuZSwhMSwhMCx0LCExLGEsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdSksdGhpcy5fZGVwdGhNYXAud3JhcFU9dGUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAud3JhcFY9dGUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAucmVmcmVzaFJhdGU9MSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fZGVwdGhNYXAucmVuZGVyTGlzdD1udWxsLHRoaXMuX2RlcHRoTWFwLmFjdGl2ZUNhbWVyYT10aGlzLl9jYW1lcmEsdGhpcy5fZGVwdGhNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fZGVwdGhNYXAudXNlQ2FtZXJhUG9zdFByb2Nlc3Nlcz0hMSx0aGlzLl9kZXB0aE1hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24obCl7bC5jbGVhcihzLl9jbGVhckNvbG9yLCEwLCEwLCEwKX0pLHRoaXMuX2RlcHRoTWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dmFyIGw7KGw9by5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8sImRlcHRoIHJlbmRlcmVyIiwxKX0pLHRoaXMuX2RlcHRoTWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBsOyhsPW8uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8sMSl9KSx0aGlzLl9kZXB0aE1hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249ZnVuY3Rpb24obCxoKXtpZighbC5pc1JlYWR5KCExKSlyZXR1cm4hMTtpZihoPT09MCYmbC5zdWJNZXNoZXMpZm9yKHZhciBjPTA7YzxsLnN1Yk1lc2hlcy5sZW5ndGg7KytjKXt2YXIgZD1sLnN1Yk1lc2hlc1tjXSxwPWQuZ2V0UmVuZGVyaW5nTWVzaCgpLGc9cC5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChkLl9pZCwhIWQuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpLF89by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoZy52aXNpYmxlSW5zdGFuY2VzW2QuX2lkXSE9PW51bGwmJmcudmlzaWJsZUluc3RhbmNlc1tkLl9pZF0hPT12b2lkIDB8fHAuaGFzVGhpbkluc3RhbmNlcyk7aWYoIXMuaXNSZWFkeShkLF8pKXJldHVybiExfXJldHVybiEwfTt2YXIgZj1mdW5jdGlvbihsKXt2YXIgaCxjLGQ9bC5nZXRSZW5kZXJpbmdNZXNoKCkscD1sLmdldEVmZmVjdGl2ZU1lc2goKSxnPXMuX3NjZW5lLF89Zy5nZXRFbmdpbmUoKSx2PWwuZ2V0TWF0ZXJpYWwoKTtpZihwLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhKCF2fHxwLmluZmluaXRlRGlzdGFuY2V8fHYuZGlzYWJsZURlcHRoV3JpdGV8fGwudmVydGljZXNDb3VudD09PTB8fGwuX3JlbmRlcklkPT09Zy5nZXRSZW5kZXJJZCgpKSl7dmFyIHk9cC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDAsRT0oaD1kLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmaCE9PXZvaWQgMD9oOnYuc2lkZU9yaWVudGF0aW9uO3kmJihFPUU9PT0wPzE6MCk7dmFyIFI9RT09PTA7Xy5zZXRTdGF0ZSh2LmJhY2tGYWNlQ3VsbGluZywwLCExLFIsdi5jdWxsQmFja0ZhY2VzKTt2YXIgTT1kLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGwuX2lkLCEhbC5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoIU0ubXVzdFJldHVybil7dmFyIEM9Xy5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoTS52aXNpYmxlSW5zdGFuY2VzW2wuX2lkXSE9PW51bGwmJk0udmlzaWJsZUluc3RhbmNlc1tsLl9pZF0hPT12b2lkIDB8fGQuaGFzVGhpbkluc3RhbmNlcyksQT1zLl9jYW1lcmF8fGcuYWN0aXZlQ2FtZXJhO2lmKHMuaXNSZWFkeShsLEMpJiZBKXtsLl9yZW5kZXJJZD1nLmdldFJlbmRlcklkKCk7dmFyIFM9KGM9cC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOmNbXy5jdXJyZW50UmVuZGVyUGFzc0lkXSx3PWwuX2dldERyYXdXcmFwcGVyKCk7IXcmJlMmJih3PVMuX2dldERyYXdXcmFwcGVyKCkpO3ZhciBGPUEubW9kZT09PU9lLk9SVEhPR1JBUEhJQ19DQU1FUkE7aWYoIXcpcmV0dXJuO3ZhciB4PXcuZWZmZWN0O18uZW5hYmxlRWZmZWN0KHcpLEN8fGQuX2JpbmQobCx4LHYuZmlsbE1vZGUpLFM/Uy5iaW5kRm9yU3ViTWVzaChwLmdldFdvcmxkTWF0cml4KCkscCxsKTooeC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIixnLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx4LnNldE1hdHJpeCgid29ybGQiLHAuZ2V0V29ybGRNYXRyaXgoKSkpO3ZhciBHPXZvaWQgMCxXPXZvaWQgMDtpZihGPyhHPSFfLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmXy5pc05EQ0hhbGZaUmFuZ2U/MDoxLFc9Xy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJl8uaXNORENIYWxmWlJhbmdlPzA6MSk6KEc9Xy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJl8uaXNORENIYWxmWlJhbmdlP0EubWluWjpfLmlzTkRDSGFsZlpSYW5nZT8wOkEubWluWixXPV8udXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZfLmlzTkRDSGFsZlpSYW5nZT8wOkEubWF4WikseC5zZXRGbG9hdDIoImRlcHRoVmFsdWVzIixHLEcrVyksIVMpe2lmKHYmJnYubmVlZEFscGhhVGVzdGluZygpKXt2YXIgTj12LmdldEFscGhhVGVzdFRleHR1cmUoKTtOJiYoeC5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsTikseC5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLE4uZ2V0VGV4dHVyZU1hdHJpeCgpKSl9aWYoZC51c2VCb25lcyYmZC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmQuc2tlbGV0b24pe3ZhciBxPWQuc2tlbGV0b247aWYocS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXt2YXIgJD1xLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZCk7aWYoISQpcmV0dXJuO3guc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLCQpLHguc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKHEuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHguc2V0TWF0cmljZXMoIm1Cb25lcyIscS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhkKSl9WS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGQseCksZC5tb3JwaFRhcmdldE1hbmFnZXImJmQubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmZC5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQoeCl9ZC5fcHJvY2Vzc1JlbmRlcmluZyhwLGwseCx2LmZpbGxNb2RlLE0sQyxmdW5jdGlvbihvZSxaKXtyZXR1cm4geC5zZXRNYXRyaXgoIndvcmxkIixaKX0pfX19fTt0aGlzLl9kZXB0aE1hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj1mdW5jdGlvbihsLGgsYyxkKXt2YXIgcDtpZihkLmxlbmd0aClmb3IocD0wO3A8ZC5sZW5ndGg7cCsrKWYoZC5kYXRhW3BdKTtmb3IocD0wO3A8bC5sZW5ndGg7cCsrKWYobC5kYXRhW3BdKTtmb3IocD0wO3A8aC5sZW5ndGg7cCsrKWYoaC5kYXRhW3BdKTtpZihzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzKWZvcihwPTA7cDxjLmxlbmd0aDtwKyspZihjLmRhdGFbcF0pO2Vsc2UgZm9yKHA9MDtwPGMubGVuZ3RoO3ArKyljLmRhdGFbcF0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX19cmV0dXJuIGkucHJvdG90eXBlLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGVwdGhNYXAuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KX0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksYT1lLmdldE1lc2goKSxzPShyPWEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW24uY3VycmVudFJlbmRlclBhc3NJZF07aWYocylyZXR1cm4gcy5pc1JlYWR5Rm9yU3ViTWVzaChhLGUsdCk7dmFyIG89ZS5nZXRNYXRlcmlhbCgpO2lmKCFvfHxvLmRpc2FibGVEZXB0aFdyaXRlKXJldHVybiExO3ZhciB1PVtdLGY9W20uUG9zaXRpb25LaW5kXTtpZihvJiZvLm5lZWRBbHBoYVRlc3RpbmcoKSYmby5nZXRBbHBoYVRlc3RUZXh0dXJlKCkmJih1LnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksYS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpJiYoZi5wdXNoKG0uVVZLaW5kKSx1LnB1c2goIiNkZWZpbmUgVVYxIikpLGEuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJihmLnB1c2gobS5VVjJLaW5kKSx1LnB1c2goIiNkZWZpbmUgVVYyIikpKSxhLnVzZUJvbmVzJiZhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyl7Zi5wdXNoKG0uTWF0cmljZXNJbmRpY2VzS2luZCksZi5wdXNoKG0uTWF0cmljZXNXZWlnaHRzS2luZCksYS5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKGYucHVzaChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZi5wdXNoKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSksdS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrYS5udW1Cb25lSW5mbHVlbmNlcnMpLHUucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoYS5za2VsZXRvbj9hLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxOjApKTt2YXIgbD1lLmdldFJlbmRlcmluZ01lc2goKS5za2VsZXRvbjtsIT1udWxsJiZsLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJnUucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpfWVsc2UgdS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTt2YXIgaD1hLm1vcnBoVGFyZ2V0TWFuYWdlcixjPTA7aCYmaC5udW1JbmZsdWVuY2Vycz4wJiYoYz1oLm51bUluZmx1ZW5jZXJzLHUucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx1LnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrYyksaC5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnUucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhmLGEsYykpLHQmJih1LnB1c2goIiNkZWZpbmUgSU5TVEFOQ0VTIiksWS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhmKSxlLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzJiZ1LnB1c2goIiNkZWZpbmUgVEhJTl9JTlNUQU5DRVMiKSksdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aCYmdS5wdXNoKCIjZGVmaW5lIE5PTkxJTkVBUkRFUFRIIiksdGhpcy5pc1BhY2tlZCYmdS5wdXNoKCIjZGVmaW5lIFBBQ0tFRCIpO3ZhciBkPWUuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCkscD1kLmRlZmluZXMsZz11LmpvaW4oYApgKTtyZXR1cm4gcCE9PWcmJmQuc2V0RWZmZWN0KG4uY3JlYXRlRWZmZWN0KCJkZXB0aCIsZixbIndvcmxkIiwibUJvbmVzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImRlcHRoVmFsdWVzIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxbImRpZmZ1c2VTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwiYm9uZVNhbXBsZXIiXSxnLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6Y30pLGcpLGQuZWZmZWN0LmlzUmVhZHkoKX0saS5wcm90b3R5cGUuZ2V0RGVwdGhNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhNYXB9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXIpe3ZhciByPXRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdO3I9PT10aGlzJiZlLnB1c2godCl9aWYoZS5sZW5ndGg+MCl7dGhpcy5fZGVwdGhNYXAuZGlzcG9zZSgpO2Zvcih2YXIgbj0wLGE9ZTtuPGEubGVuZ3RoO24rKyl7dmFyIHQ9YVtuXTtkZWxldGUgdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF19fX0saS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbihlKXt0aHJvdyBYKCJEZXB0aFJlbmRlcmVyU2NlbmVDb21wb25lbnQiKX0saX0oKSx2bz0ibWlubWF4UmVkdXhQaXhlbFNoYWRlciIsbW89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojaWYgZGVmaW5lZChJTklUSUFMKQp1bmlmb3JtIHNhbXBsZXIyRCBzb3VyY2VUZXh0dXJlOwp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwpmbG9hdCBmMT10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQsMCkucjsKZmxvYXQgZjI9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMCksMCkucjsKZmxvYXQgZjM9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMSksMCkucjsKZmxvYXQgZjQ9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDAsMSksMCkucjsKZmxvYXQgbWluej1taW4obWluKG1pbihmMSxmMiksZjMpLGY0KTsKI2lmZGVmIERFUFRIX1JFRFVYCmZsb2F0IG1heHo9bWF4KG1heChtYXgoc2lnbigxLjAtZjEpKmYxLHNpZ24oMS4wLWYyKSpmMiksc2lnbigxLjAtZjMpKmYzKSxzaWduKDEuMC1mNCkqZjQpOwojZWxzZQpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLGYyKSxmMyksZjQpOwojZW5kaWYKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTUFJTikKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwwKSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMSksMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigwLDEpLDApLnJnOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLngsZjIueCksZjMueCksZjQueCk7CmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEueSxmMi55KSxmMy55KSxmNC55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoT05FQkVGT1JFTEFTVCkKdW5pZm9ybSBpdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqdmVjMih0ZXhTaXplLTEpKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDApKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwxKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDAsMSkpICUgdGV4U2l6ZSwwKS5yZzsKZmxvYXQgbWluej1taW4oZjEueCxmMi54KTsKZmxvYXQgbWF4ej1tYXgoZjEueSxmMi55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTEFTVCkKdm9pZCBtYWluKHZvaWQpCnsKZ2xGcmFnQ29sb3I9dmVjNCgwLik7CmlmICh0cnVlKSB7IApkaXNjYXJkOwp9Cn0KI2VuZGlmCmA7TC5TaGFkZXJzU3RvcmVbdm9dPW1vO3ZhciB5bz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpczt0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQ9bmV3IE8sdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9ITAsdGhpcy5fYWN0aXZhdGVkPSExLHRoaXMuX2NhbWVyYT1lLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1uZXcgU3IoZS5nZXRTY2VuZSgpKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3QuX3Bvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpfSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic291cmNlVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldFNvdXJjZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcztpZihyPT09dm9pZCAwJiYocj0yKSxuPT09dm9pZCAwJiYobj0hMCksZSE9PXRoaXMuX3NvdXJjZVRleHR1cmUpe3RoaXMuZGlzcG9zZSghMSksdGhpcy5fc291cmNlVGV4dHVyZT1lLHRoaXMuX3JlZHVjdGlvblN0ZXBzPVtdLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PW47dmFyIHM9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCksbz1uZXcgbnIoIkluaXRpYWwgcmVkdWN0aW9uIHBoYXNlIiwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLFsic291cmNlVGV4dHVyZSJdLDEsbnVsbCwxLHMuZ2V0RW5naW5lKCksITEsIiNkZWZpbmUgSU5JVElBTCIrKHQ/YAojZGVmaW5lIERFUFRIX1JFRFVYYDoiIikscix2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtvLmF1dG9DbGVhcj0hMSxvLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PW47dmFyIHU9dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJXaWR0aCgpLGY9dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJIZWlnaHQoKTtvLm9uQXBwbHk9ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZnVuY3Rpb24oZyl7Zy5zZXRUZXh0dXJlKCJzb3VyY2VUZXh0dXJlIixhLl9zb3VyY2VUZXh0dXJlKSxnLnNldEZsb2F0MigidGV4U2l6ZSIsZCxwKX19KHUsZiksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChvKTtmb3IodmFyIGw9MTt1PjF8fGY+MTspe3U9TWF0aC5tYXgoTWF0aC5yb3VuZCh1LzIpLDEpLGY9TWF0aC5tYXgoTWF0aC5yb3VuZChmLzIpLDEpO3ZhciBoPW5ldyBucigiUmVkdWN0aW9uIHBoYXNlICIrbCwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLG51bGwse3dpZHRoOnUsaGVpZ2h0OmZ9LG51bGwsMSxzLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lICIrKHU9PTEmJmY9PTE/IkxBU1QiOnU9PTF8fGY9PTE/Ik9ORUJFRk9SRUxBU1QiOiJNQUlOIikscix2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtpZihoLmF1dG9DbGVhcj0hMSxoLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PW4saC5vbkFwcGx5PWZ1bmN0aW9uKGQscCl7cmV0dXJuIGZ1bmN0aW9uKGcpe2Q9PTF8fHA9PTE/Zy5zZXRJbnQyKCJ0ZXhTaXplIixkLHApOmcuc2V0RmxvYXQyKCJ0ZXhTaXplIixkLHApfX0odSxmKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5wdXNoKGgpLGwrKyx1PT0xJiZmPT0xKXt2YXIgYz1mdW5jdGlvbihkLHAsZyl7dmFyIF89bmV3IEZsb2F0MzJBcnJheSg0KmQqcCksdj17bWluOjAsbWF4OjB9O3JldHVybiBmdW5jdGlvbigpe3MuZ2V0RW5naW5lKCkuX3JlYWRUZXh0dXJlUGl4ZWxzKGcuaW5wdXRUZXh0dXJlLnRleHR1cmUsZCxwLC0xLDAsXywhMSksdi5taW49X1swXSx2Lm1heD1fWzFdLGEub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5ub3RpZnlPYnNlcnZlcnModil9fTtoLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChjKHUsZixoKSl9fX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVmcmVzaFJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZT90aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlOi0xfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc291cmNlVGV4dHVyZSYmKHRoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU9ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhY3RpdmF0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZhdGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dmFyIHQscixuPWUuX2NhbWVyYS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOyh0PW4uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChuLCJtaW4gbWF4IHJlZHVjdGlvbiIsMSksZS5fcmVkdWN0aW9uU3RlcHNbMF0uYWN0aXZhdGUoZS5fY2FtZXJhKSxlLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKGUuX3JlZHVjdGlvblN0ZXBzLGUuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSxlLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCksbi51bkJpbmRGcmFtZWJ1ZmZlcihlLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsITEpLChyPW4uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKG4sMSl9KSx0aGlzLl9hY3RpdmF0ZWQ9ITApfSxpLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7IXRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcnx8IXRoaXMuX3NvdXJjZVRleHR1cmV8fCh0aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FjdGl2YXRlZD0hMSl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9ITApLGUmJih0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuY2xlYXIoKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5fY2FtZXJhLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSksdGhpcy5kZWFjdGl2YXRlKCksdGhpcy5fcmVkdWN0aW9uU3RlcHMpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcmVkdWN0aW9uU3RlcHMubGVuZ3RoOysrdCl0aGlzLl9yZWR1Y3Rpb25TdGVwc1t0XS5kaXNwb3NlKCk7dGhpcy5fcmVkdWN0aW9uU3RlcHM9bnVsbH10aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJmUmJnRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fc291cmNlVGV4dHVyZT1udWxsfSxpfSgpLGJvPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQpe3JldHVybiBpLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXB0aFJlbmRlcmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoUmVuZGVyZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0RGVwdGhSZW5kZXJlcj1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49ITApO3ZhciBhPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpO3RoaXMuX2RlcHRoUmVuZGVyZXImJihkZWxldGUgYS5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdLHRoaXMuX2RlcHRoUmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXI9bnVsbCksdD09PW51bGwmJihhLl9kZXB0aFJlbmRlcmVyfHwoYS5fZGVwdGhSZW5kZXJlcj17fSksdD10aGlzLl9kZXB0aFJlbmRlcmVyPW5ldyBnbyhhLHIsdGhpcy5fY2FtZXJhLCExLDEpLHQuZW5hYmxlZD0hMSx0aGlzLl9kZXB0aFJlbmRlcmVySWQ9Im1pbm1heCIrdGhpcy5fY2FtZXJhLmlkLGEuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXT10KSxpLnByb3RvdHlwZS5zZXRTb3VyY2VUZXh0dXJlLmNhbGwodGhpcyx0LmdldERlcHRoTWFwKCksITAscixuKX0sZS5wcm90b3R5cGUuc2V0U291cmNlVGV4dHVyZT1mdW5jdGlvbih0LHIsbixhKXtuPT09dm9pZCAwJiYobj0yKSxhPT09dm9pZCAwJiYoYT0hMCksaS5wcm90b3R5cGUuc2V0U291cmNlVGV4dHVyZS5jYWxsKHRoaXMsdCxyLG4sYSl9LGUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMCksaS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmRlYWN0aXZhdGUuY2FsbCh0aGlzKSx0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSExKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMCksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCksdGhpcy5fZGVwdGhSZW5kZXJlciYmdCl7dmFyIHI9dGhpcy5fZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLmdldFNjZW5lKCk7ciYmZGVsZXRlIHIuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGx9fSxlfSh5byksZG49Yi5VcCgpLEVvPWIuWmVybygpLHZlPW5ldyBiLGt0PW5ldyBiLENyPW5ldyBJLHBuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt2YXIgYT10aGlzO3JldHVybiBlLklzU3VwcG9ydGVkPyhhPWkuY2FsbCh0aGlzLHQscixuKXx8dGhpcyxhLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITAsYSk6KGsuRXJyb3IoIkNhc2NhZGVkU2hhZG93TWFwIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpLGEpfXJldHVybiBlLnByb3RvdHlwZS5fdmFsaWRhdGVGaWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1rZS5GSUxURVJfTk9ORXx8dD09PWtlLkZJTFRFUl9QQ0Z8fHQ9PT1rZS5GSUxURVJfUENTUz90Oihjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBmaWx0ZXIgIicrdCsnIiEnKSxrZS5GSUxURVJfTk9ORSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVtQ2FzY2FkZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtQ2FzY2FkZXN9LHNldDpmdW5jdGlvbih0KXt0PU1hdGgubWluKE1hdGgubWF4KHQsZS5NSU5fQ0FTQ0FERVNfQ09VTlQpLGUuTUFYX0NBU0NBREVTX0NPVU5UKSx0IT09dGhpcy5fbnVtQ2FzY2FkZXMmJih0aGlzLl9udW1DYXNjYWRlcz10LHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiZ0JiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksIXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYhdCYmKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8uYmluZCh0aGlzKSkpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dCx0JiZ0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1mdW5jdGlvbigpe2lmKHRoaXMuX3NjYmlNaW4uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX3NjYmlNYXguY29weUZyb21GbG9hdHMoTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUpLHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qpe2Zvcih2YXIgdD10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07aWYoISFuKXt2YXIgYT1uLmdldEJvdW5kaW5nSW5mbygpLHM9YS5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShzLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uocy5tYXhpbXVtV29ybGQpfX1mb3IodmFyIG89dGhpcy5fc2NlbmUubWVzaGVzLHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIG49b1tyXTtpZighKCFufHwhbi5pc1Zpc2libGV8fCFuLmlzRW5hYmxlZHx8IW4ucmVjZWl2ZVNoYWRvd3MpKXt2YXIgYT1uLmdldEJvdW5kaW5nSW5mbygpLHM9YS5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShzLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uocy5tYXhpbXVtV29ybGQpfX19dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdCh0aGlzLl9zY2JpTWluLHRoaXMuX3NjYmlNYXgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRNaW5NYXhEaXN0YW5jZT1mdW5jdGlvbih0LHIpe3RoaXMuX21pbkRpc3RhbmNlPT09dCYmdGhpcy5fbWF4RGlzdGFuY2U9PT1yfHwodD5yJiYodD0wLHI9MSksdDwwJiYodD0wKSxyPjEmJihyPTEpLHRoaXMuX21pbkRpc3RhbmNlPXQsdGhpcy5fbWF4RGlzdGFuY2U9cix0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibWluRGlzdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRGlzdGFuY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYXhEaXN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhEaXN0YW5jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5DTEFTU05BTUV9LGUucHJvdG90eXBlLmdldENhc2NhZGVNaW5FeHRlbnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdOm51bGx9LGUucHJvdG90eXBlLmdldENhc2NhZGVNYXhFeHRlbnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3RdOm51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93TWF4WiIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9zY2VuZXx8IXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYT8wOnRoaXMuX3NoYWRvd01heFp9LHNldDpmdW5jdGlvbih0KXtpZighdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEpe3RoaXMuX3NoYWRvd01heFo9dDtyZXR1cm59dGhpcy5fc2hhZG93TWF4Wj09PXR8fHQ8dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLm1pblp8fHQ+dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLm1heFp8fCh0aGlzLl9zaGFkb3dNYXhaPXQsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZWJ1ZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlYnVnPXQsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRlcHRoQ2xhbXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDbGFtcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoQ2xhbXA9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9dCx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGFtYmRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhbWJkYX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPU1hdGgubWluKE1hdGgubWF4KHQsMCksMSk7dGhpcy5fbGFtYmRhIT1yJiYodGhpcy5fbGFtYmRhPXIsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENhc2NhZGVWaWV3TWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3ZpZXdNYXRyaWNlc1t0XTpudWxsfSxlLnByb3RvdHlwZS5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbdF06bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1t0XTpudWxsfSxlLnByb3RvdHlwZS5zZXREZXB0aFJlbmRlcmVyPWZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoUmVuZGVyZXI9dCx0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5zZXREZXB0aFJlbmRlcmVyKHRoaXMuX2RlcHRoUmVuZGVyZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImF1dG9DYWxjRGVwdGhCb3VuZHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kc30sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7aWYoISFuKXtpZih0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPXQsIXQpe3RoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLmRlYWN0aXZhdGUoKSx0aGlzLnNldE1pbk1heERpc3RhbmNlKDAsMSk7cmV0dXJufXRoaXMuX2RlcHRoUmVkdWNlcnx8KHRoaXMuX2RlcHRoUmVkdWNlcj1uZXcgYm8obiksdGhpcy5fZGVwdGhSZWR1Y2VyLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuYWRkKGZ1bmN0aW9uKGEpe3ZhciBzPWEubWluLG89YS5tYXg7cz49byYmKHM9MCxvPTEpLChzIT1yLl9taW5EaXN0YW5jZXx8byE9ci5fbWF4RGlzdGFuY2UpJiZyLnNldE1pbk1heERpc3RhbmNlKHMsbyl9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYXV0b0NhbGNEZXB0aEJvdW5kc1JlZnJlc2hSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscixuO3JldHVybihuPShyPSh0PXRoaXMuX2RlcHRoUmVkdWNlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmRlcHRoUmVuZGVyZXIpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlKSE9PW51bGwmJm4hPT12b2lkIDA/bjotMX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByOyEoKHI9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmRlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlZHVjZXIuZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNwbGl0RnJ1c3R1bT1mdW5jdGlvbigpe3RoaXMuX2JyZWFrc0FyZURpcnR5PSEwfSxlLnByb3RvdHlwZS5fc3BsaXRGcnVzdHVtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhdCl7Zm9yKHZhciByPXQubWluWixuPXQubWF4WixhPW4tcixzPXRoaXMuX21pbkRpc3RhbmNlLG89dGhpcy5fc2hhZG93TWF4WjxuJiZ0aGlzLl9zaGFkb3dNYXhaPj1yP01hdGgubWluKCh0aGlzLl9zaGFkb3dNYXhaLXIpLyhuLXIpLHRoaXMuX21heERpc3RhbmNlKTp0aGlzLl9tYXhEaXN0YW5jZSx1PXIrcyphLGY9citvKmEsbD1mLXUsaD1mL3UsYz0wO2M8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysrYyl7dmFyIGQ9KGMrMSkvdGhpcy5fbnVtQ2FzY2FkZXMscD11Kk1hdGgucG93KGgsZCksZz11K2wqZCxfPXRoaXMuX2xhbWJkYSoocC1nKStnO3RoaXMuX2Nhc2NhZGVzW2NdLnByZXZCcmVha0Rpc3RhbmNlPWM9PT0wP3M6dGhpcy5fY2FzY2FkZXNbYy0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW2NdLmJyZWFrRGlzdGFuY2U9KF8tcikvYSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbY109Xyx0aGlzLl9mcnVzdHVtTGVuZ3Roc1tjXT0odGhpcy5fY2FzY2FkZXNbY10uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1tjXS5wcmV2QnJlYWtEaXN0YW5jZSkqYX10aGlzLl9icmVha3NBcmVEaXJ0eT0hMX19LGUucHJvdG90eXBlLl9jb21wdXRlTWF0cmljZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zY2VuZSxyPXQuYWN0aXZlQ2FtZXJhO2lmKCEhcil7Yi5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24oMCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKGIuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLGIuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbik7Zm9yKHZhciBuPXQuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyLGE9MDthPHRoaXMuX251bUNhc2NhZGVzOysrYSl7dGhpcy5fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoYSksdGhpcy5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGEpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLnN1YnRyYWN0VG9SZWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0sdmUpLHRoaXMuX2ZydXN0dW1DZW50ZXJbYV0uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24uc2NhbGUodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0ueiksdGhpcy5fc2hhZG93Q2FtZXJhUG9zW2FdKSxJLkxvb2tBdExIVG9SZWYodGhpcy5fc2hhZG93Q2FtZXJhUG9zW2FdLHRoaXMuX2ZydXN0dW1DZW50ZXJbYV0sZG4sdGhpcy5fdmlld01hdHJpY2VzW2FdKTt2YXIgcz0wLG89dmUueix1PXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm87dS51cGRhdGUodGhpcy5fdmlld01hdHJpY2VzW2FdKSxvPU1hdGgubWluKG8sdS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQueiksIXRoaXMuX2RlcHRoQ2xhbXB8fHRoaXMuZmlsdGVyPT09a2UuRklMVEVSX1BDU1M/cz1NYXRoLm1pbihzLHUuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnM9TWF0aC5tYXgocyx1LmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSxJLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1thXS55LG4/bzpzLG4/czpvLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0LmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0uej1zLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLno9byx0aGlzLl92aWV3TWF0cmljZXNbYV0ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbYV0pLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihFbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSx2ZSksdmUuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMiksa3QuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZCh2ZS54KSxNYXRoLnJvdW5kKHZlLnkpLE1hdGgucm91bmQodmUueikpLGt0LnN1YnRyYWN0SW5QbGFjZSh2ZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSksSS5UcmFuc2xhdGlvblRvUmVmKGt0Lngsa3QueSwwLENyKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0ubXVsdGlwbHlUb1JlZihDcix0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0pLHRoaXMuX3ZpZXdNYXRyaWNlc1thXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbYV0uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LGEqMTYpfX19LGUucHJvdG90eXBlLl9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZT1mdW5jdGlvbih0KXtpZighIXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSl7dmFyIHI9dGhpcy5fY2FzY2FkZXNbdF0ucHJldkJyZWFrRGlzdGFuY2Usbj10aGlzLl9jYXNjYWRlc1t0XS5icmVha0Rpc3RhbmNlLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlO3RoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCk7Zm9yKHZhciBzPUkuSW52ZXJ0KHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpKSxvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj80OjAsdT0wO3U8ZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGg7Kyt1KXZlLmNvcHlGcm9tKGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKHUrbyklZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGhdKSxhJiZ2ZS56PT09LTEmJih2ZS56PTApLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih2ZSxzLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSk7Zm9yKHZhciB1PTA7dTxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aC8yOysrdSl2ZS5jb3B5RnJvbSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdSs0XSkuc3VidHJhY3RJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSksa3QuY29weUZyb20odmUpLnNjYWxlSW5QbGFjZShyKSx2ZS5zY2FsZUluUGxhY2UobiksdmUuYWRkSW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdV0pLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1KzRdLmNvcHlGcm9tKHZlKSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdV0uYWRkSW5QbGFjZShrdCl9fSxlLnByb3RvdHlwZS5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtPWZ1bmN0aW9uKHQpe3RoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5jb3B5RnJvbUZsb2F0cygwLDAsMCk7dmFyIHI9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhcil7Zm9yKHZhciBuPTA7bjx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF0ubGVuZ3RoOysrbil0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW25dKTtpZih0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLnNjYWxlSW5QbGFjZSgxL3RoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XS5sZW5ndGgpLHRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpe2Zvcih2YXIgYT0wLG49MDtuPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XS5sZW5ndGg7KytuKXt2YXIgcz10aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bbl0uc3VidHJhY3RUb1JlZih0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLHZlKS5sZW5ndGgoKTthPU1hdGgubWF4KGEscyl9YT1NYXRoLmNlaWwoYSoxNikvMTYsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF0uY29weUZyb21GbG9hdHMoYSxhLGEpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKC1hLC1hLC1hKX1lbHNle3ZhciBvPXRoaXMuX2ZydXN0dW1DZW50ZXJbdF07dGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5hZGRUb1JlZih0aGlzLl9saWdodERpcmVjdGlvbix2ZSksSS5Mb29rQXRMSFRvUmVmKG8sdmUsZG4sQ3IpO2Zvcih2YXIgbj0wO248dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdLmxlbmd0aDsrK24pYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVtuXSxDcix2ZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF0ubWluaW1pemVJblBsYWNlKHZlKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XS5tYXhpbWl6ZUluUGxhY2UodmUpfX19LGUucHJvdG90eXBlLl9yZWNyZWF0ZVNjZW5lVUJPcz1mdW5jdGlvbigpe2lmKHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9zY2VuZVVCT3MpZm9yKHZhciB0PTA7dDx0aGlzLl9udW1DYXNjYWRlczsrK3QpdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKCdTY2VuZSBmb3IgQ1NNIFNoYWRvdyBHZW5lcmF0b3IgKGxpZ2h0ICInLmNvbmNhdCh0aGlzLl9saWdodC5uYW1lLCciIGNhc2NhZGUgIycpLmNvbmNhdCh0LCIpIikpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIklzU3VwcG9ydGVkIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9cmUuTGFzdENyZWF0ZWRFbmdpbmU7cmV0dXJuIHQ/dC5fZmVhdHVyZXMuc3VwcG9ydENTTTohMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZUdlbmVyYXRvcj1mdW5jdGlvbigpe3ZhciB0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcsXyx2LHksRSxSLE07dGhpcy5wZW51bWJyYURhcmtuZXNzPSh0PXRoaXMucGVudW1icmFEYXJrbmVzcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6MSx0aGlzLl9udW1DYXNjYWRlcz0ocj10aGlzLl9udW1DYXNjYWRlcykhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5ERUZBVUxUX0NBU0NBREVTX0NPVU5ULHRoaXMuc3RhYmlsaXplQ2FzY2FkZXM9KG49dGhpcy5zdGFiaWxpemVDYXNjYWRlcykhPT1udWxsJiZuIT09dm9pZCAwP246ITEsdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9KGE9dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOm51bGwsdGhpcy5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPShzPXRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZzIT09dm9pZCAwP3M6ITEsdGhpcy5fc2NiaU1pbj0obz10aGlzLl9zY2JpTWluKSE9PW51bGwmJm8hPT12b2lkIDA/bzpuZXcgYigwLDAsMCksdGhpcy5fc2NiaU1heD0odT10aGlzLl9zY2JpTWF4KSE9PW51bGwmJnUhPT12b2lkIDA/dTpuZXcgYigwLDAsMCksdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0oZj10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSE9PW51bGwmJmYhPT12b2lkIDA/ZjpuZXcgVHQobmV3IGIoMCwwLDApLG5ldyBiKDAsMCwwKSksdGhpcy5fYnJlYWtzQXJlRGlydHk9KGw9dGhpcy5fYnJlYWtzQXJlRGlydHkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiEwLHRoaXMuX21pbkRpc3RhbmNlPShoPXRoaXMuX21pbkRpc3RhbmNlKSE9PW51bGwmJmghPT12b2lkIDA/aDowLHRoaXMuX21heERpc3RhbmNlPShjPXRoaXMuX21heERpc3RhbmNlKSE9PW51bGwmJmMhPT12b2lkIDA/YzoxLHRoaXMuX2N1cnJlbnRMYXllcj0oZD10aGlzLl9jdXJyZW50TGF5ZXIpIT09bnVsbCYmZCE9PXZvaWQgMD9kOjAsdGhpcy5fc2hhZG93TWF4Wj0oXz0ocD10aGlzLl9zaGFkb3dNYXhaKSE9PW51bGwmJnAhPT12b2lkIDA/cDooZz10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEpPT09bnVsbHx8Zz09PXZvaWQgMD92b2lkIDA6Zy5tYXhaKSE9PW51bGwmJl8hPT12b2lkIDA/XzoxZTQsdGhpcy5fZGVidWc9KHY9dGhpcy5fZGVidWcpIT09bnVsbCYmdiE9PXZvaWQgMD92OiExLHRoaXMuX2RlcHRoQ2xhbXA9KHk9dGhpcy5fZGVwdGhDbGFtcCkhPT1udWxsJiZ5IT09dm9pZCAwP3k6ITAsdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT0oRT10aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSE9PW51bGwmJkUhPT12b2lkIDA/RTouMSx0aGlzLl9sYW1iZGE9KFI9dGhpcy5fbGFtYmRhKSE9PW51bGwmJlIhPT12b2lkIDA/UjouNSx0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPShNPXRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHMpIT09bnVsbCYmTSE9PXZvaWQgMD9NOiExLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCksaS5wcm90b3R5cGUuX2luaXRpYWxpemVHZW5lcmF0b3IuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPXt3aWR0aDp0aGlzLl9tYXBTaXplLGhlaWdodDp0aGlzLl9tYXBTaXplLGxheWVyczp0aGlzLm51bUNhc2NhZGVzfTt0aGlzLl9zaGFkb3dNYXA9bmV3IFZ0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9DU01TaGFkb3dNYXAiLHIsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsITEsdm9pZCAwLCExLCExLHZvaWQgMCksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodC51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCl9LGUucHJvdG90eXBlLl9pbml0aWFsaXplU2hhZG93TWFwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihpLnByb3RvdHlwZS5faW5pdGlhbGl6ZVNoYWRvd01hcC5jYWxsKHRoaXMpLHRoaXMuX3NoYWRvd01hcCE9PW51bGwpe3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX251bUNhc2NhZGVzKjE2KSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1o9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9mcnVzdHVtTGVuZ3Rocz1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMqMiksdGhpcy5fZGVwdGhDb3JyZWN0aW9uPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fY2FzY2FkZXM9W10sdGhpcy5fdmlld01hdHJpY2VzPVtdLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlcz1bXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlcz1bXSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50cz1bXSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50cz1bXSx0aGlzLl9mcnVzdHVtQ2VudGVyPVtdLHRoaXMuX3NoYWRvd0NhbWVyYVBvcz1bXSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2U9W107Zm9yKHZhciByPTA7cjx0aGlzLl9udW1DYXNjYWRlczsrK3Ipe3RoaXMuX2Nhc2NhZGVzW3JdPXtwcmV2QnJlYWtEaXN0YW5jZTowLGJyZWFrRGlzdGFuY2U6MH0sdGhpcy5fdmlld01hdHJpY2VzW3JdPUkuWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tyXT1JLlplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tyXT1JLlplcm8oKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tyXT1uZXcgYix0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tyXT1uZXcgYix0aGlzLl9mcnVzdHVtQ2VudGVyW3JdPW5ldyBiLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tyXT1uZXcgYix0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2Vbcl09bmV3IEFycmF5KGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoKTtmb3IodmFyIG49MDtuPGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysrbil0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2Vbcl1bbl09bmV3IGJ9dmFyIGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7dC5fc2NlbmVVQk9zJiZ0Ll9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodC5fc2NlbmVVQk9zW3NdKSx0Ll9jdXJyZW50TGF5ZXI9cyx0Ll9maWx0ZXI9PT1rZS5GSUxURVJfUENGJiZhLnNldENvbG9yV3JpdGUoITEpLHQuX3NjZW5lLnNldFRyYW5zZm9ybU1hdHJpeCh0LmdldENhc2NhZGVWaWV3TWF0cml4KHMpLHQuZ2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXgocykpLHQuX3VzZVVCTyYmKHQuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLnVuYmluZEVmZmVjdCgpLHQuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSl9KSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgczt0Ll9jdXJyZW50U2NlbmVVQk89dC5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHM9YS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGEsImNhc2NhZGVkIHNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAiLmNvbmNhdChhLmN1cnJlbnRSZW5kZXJQYXNzSWQpLDEpLHQuX2JyZWFrc0FyZURpcnR5JiZ0Ll9zcGxpdEZydXN0dW0oKSx0Ll9jb21wdXRlTWF0cmljZXMoKX0pLHRoaXMuX3NwbGl0RnJ1c3R1bSgpfX0sZS5wcm90b3R5cGUuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwPWZ1bmN0aW9uKHQscil7ci5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgodGhpcy5fY3VycmVudExheWVyKSl9LGUucHJvdG90eXBlLl9pc1JlYWR5Q3VzdG9tRGVmaW5lcz1mdW5jdGlvbih0KXt0LnB1c2goIiNkZWZpbmUgU01fREVQVEhDTEFNUCAiKyh0aGlzLl9kZXB0aENsYW1wJiZ0aGlzLl9maWx0ZXIhPT1rZS5GSUxURVJfUENTUz8iMSI6IjAiKSl9LGUucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKHQscil7aS5wcm90b3R5cGUucHJlcGFyZURlZmluZXMuY2FsbCh0aGlzLHQscik7dmFyIG49dGhpcy5fc2NlbmUsYT10aGlzLl9saWdodDtpZighKCFuLnNoYWRvd3NFbmFibGVkfHwhYS5zaGFkb3dFbmFibGVkKSl7dFsiU0hBRE9XQ1NNIityXT0hMCx0WyJTSEFET1dDU01ERUJVRyIrcl09dGhpcy5kZWJ1Zyx0WyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3JdPXRoaXMubnVtQ2FzY2FkZXMsdFsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIityXT1uLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO3ZhciBzPW4uYWN0aXZlQ2FtZXJhO3MmJnRoaXMuX3NoYWRvd01heFo8cy5tYXhaJiYodFsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrcl09ITApLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTAmJih0WyJTSEFET1dDU01OT0JMRU5EIityXT0hMCl9fSxlLnByb3RvdHlwZS5iaW5kU2hhZG93TGlnaHQ9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9saWdodCxhPXRoaXMuX3NjZW5lO2lmKCEoIWEuc2hhZG93c0VuYWJsZWR8fCFuLnNoYWRvd0VuYWJsZWQpKXt2YXIgcz1hLmFjdGl2ZUNhbWVyYTtpZighIXMpe3ZhciBvPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoISFvKXt2YXIgdT1vLmdldFNpemUoKS53aWR0aDtpZihyLnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrdCx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHIuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrdCx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHIuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrdCx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksci5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK3QsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PWtlLkZJTFRFUl9QQ0Ypci5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIit0LG8pLG4uX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLHUsMS91LHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLHQpO2Vsc2UgaWYodGhpcy5fZmlsdGVyPT09a2UuRklMVEVSX1BDU1Mpe2Zvcih2YXIgZj0wO2Y8dGhpcy5fbnVtQ2FzY2FkZXM7KytmKXRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltmKjIrMF09Zj09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS54KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZl0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tmXS54KSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bZioyKzFdPWY9PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueSkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2ZdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZl0ueSksdGhpcy5fZGVwdGhDb3JyZWN0aW9uW2ZdPWY9PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2ZdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZl0ueikvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueik7ci5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIit0LG8pLHIuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIit0LG8pLHIuc2V0QXJyYXkyKCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK3QsdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uKSxyLnNldEFycmF5KCJkZXB0aENvcnJlY3Rpb24iK3QsdGhpcy5fZGVwdGhDb3JyZWN0aW9uKSxyLnNldEZsb2F0KCJwZW51bWJyYURhcmtuZXNzIit0LHRoaXMucGVudW1icmFEYXJrbmVzcyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS91LHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKnUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCl9ZWxzZSByLnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK3Qsbyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdSwxL3UsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCk7bi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHMpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocykrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihzKSx0KX19fX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLHRoaXMuX2RlcHRoUmVkdWNlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZWR1Y2VyPW51bGwpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKSxyPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXIpcmV0dXJuIHQ7aWYodC5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyx0LmRlYnVnPXRoaXMuX2RlYnVnLHQuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyx0LmxhbWJkYT10aGlzLl9sYW1iZGEsdC5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSx0LmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCx0LmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLHQuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLHQucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsdC5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sdC5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLHQubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSx0LnJlbmRlckxpc3Q9W10sci5yZW5kZXJMaXN0KWZvcih2YXIgbj0wO248ci5yZW5kZXJMaXN0Lmxlbmd0aDtuKyspe3ZhciBhPXIucmVuZGVyTGlzdFtuXTt0LnJlbmRlckxpc3QucHVzaChhLmlkKX1yZXR1cm4gdH0sZS5QYXJzZT1mdW5jdGlvbih0LHIpe3ZhciBuPWtlLlBhcnNlKHQscixmdW5jdGlvbihhLHMpe3JldHVybiBuZXcgZShhLHMpfSk7cmV0dXJuIHQubnVtQ2FzY2FkZXMhPT12b2lkIDAmJihuLm51bUNhc2NhZGVzPXQubnVtQ2FzY2FkZXMpLHQuZGVidWchPT12b2lkIDAmJihuLmRlYnVnPXQuZGVidWcpLHQuc3RhYmlsaXplQ2FzY2FkZXMhPT12b2lkIDAmJihuLnN0YWJpbGl6ZUNhc2NhZGVzPXQuc3RhYmlsaXplQ2FzY2FkZXMpLHQubGFtYmRhIT09dm9pZCAwJiYobi5sYW1iZGE9dC5sYW1iZGEpLHQuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSE9PXZvaWQgMCYmKG4uY2FzY2FkZUJsZW5kUGVyY2VudGFnZT10LmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpLHQuZGVwdGhDbGFtcCE9PXZvaWQgMCYmKG4uZGVwdGhDbGFtcD10LmRlcHRoQ2xhbXApLHQuYXV0b0NhbGNEZXB0aEJvdW5kcyE9PXZvaWQgMCYmKG4uYXV0b0NhbGNEZXB0aEJvdW5kcz10LmF1dG9DYWxjRGVwdGhCb3VuZHMpLHQuc2hhZG93TWF4WiE9PXZvaWQgMCYmKG4uc2hhZG93TWF4Wj10LnNoYWRvd01heFopLHQucGVudW1icmFEYXJrbmVzcyE9PXZvaWQgMCYmKG4ucGVudW1icmFEYXJrbmVzcz10LnBlbnVtYnJhRGFya25lc3MpLHQuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyE9PXZvaWQgMCYmKG4uZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz10LmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pLHQubWluRGlzdGFuY2UhPT12b2lkIDAmJnQubWF4RGlzdGFuY2UhPT12b2lkIDAmJm4uc2V0TWluTWF4RGlzdGFuY2UodC5taW5EaXN0YW5jZSx0Lm1heERpc3RhbmNlKSxufSxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlPVtuZXcgYigtMSwxLC0xKSxuZXcgYigxLDEsLTEpLG5ldyBiKDEsLTEsLTEpLG5ldyBiKC0xLC0xLC0xKSxuZXcgYigtMSwxLDEpLG5ldyBiKDEsMSwxKSxuZXcgYigxLC0xLDEpLG5ldyBiKC0xLC0xLDEpXSxlLkNMQVNTTkFNRT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiLGUuREVGQVVMVF9DQVNDQURFU19DT1VOVD00LGUuTUlOX0NBU0NBREVTX0NPVU5UPTIsZS5NQVhfQ0FTQ0FERVNfQ09VTlQ9NCxlLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKHQpe3Rocm93IFgoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9LGV9KGtlKTtOaS5BZGRQYXJzZXIoQnQuTkFNRV9TSEFET1dHRU5FUkFUT1IsZnVuY3Rpb24oaSxlKXtpZihpLnNoYWRvd0dlbmVyYXRvcnMhPT12b2lkIDAmJmkuc2hhZG93R2VuZXJhdG9ycyE9PW51bGwpZm9yKHZhciB0PTAscj1pLnNoYWRvd0dlbmVyYXRvcnMubGVuZ3RoO3Q8cjt0Kyspe3ZhciBuPWkuc2hhZG93R2VuZXJhdG9yc1t0XTtuLmNsYXNzTmFtZT09PXBuLkNMQVNTTkFNRT9wbi5QYXJzZShuLGUpOmtlLlBhcnNlKG4sZSl9fSk7dmFyIFRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLm5hbWU9QnQuTkFNRV9TSEFET1dHRU5FUkFUT1IsdGhpcy5zY2VuZT1lfXJldHVybiBpLnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbigpe3RoaXMuc2NlbmUuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5yZWdpc3RlclN0ZXAoQnQuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUix0aGlzLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHMpfSxpLnByb3RvdHlwZS5yZWJ1aWxkPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oZSl7ZS5zaGFkb3dHZW5lcmF0b3JzPVtdO2Zvcih2YXIgdD10aGlzLnNjZW5lLmxpZ2h0cyxyPTAsbj10O3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdLHM9YS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtzJiZlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChzLnNlcmlhbGl6ZSgpKX19LGkucHJvdG90eXBlLmFkZEZyb21Db250YWluZXI9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5yZW1vdmVGcm9tQ29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5fZ2F0aGVyUmVuZGVyVGFyZ2V0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjZW5lO2lmKHRoaXMuc2NlbmUuc2hhZG93c0VuYWJsZWQpZm9yKHZhciByPTA7cjx0LmxpZ2h0cy5sZW5ndGg7cisrKXt2YXIgbj10LmxpZ2h0c1tyXSxhPW4uZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYobi5pc0VuYWJsZWQoKSYmbi5zaGFkb3dFbmFibGVkJiZhKXt2YXIgcz1hLmdldFNoYWRvd01hcCgpO3QudGV4dHVyZXMuaW5kZXhPZihzKSE9PS0xJiZlLnB1c2gocyl9fX0saX0oKTtrZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbihpKXt2YXIgZT1pLl9nZXRDb21wb25lbnQoQnQuTkFNRV9TSEFET1dHRU5FUkFUT1IpO2V8fChlPW5ldyBUbyhpKSxpLl9hZGRDb21wb25lbnQoZSkpfTtjb25zdCBTbz17ZW5hYmxlU2hhZG93czohMH07ZnVuY3Rpb24gX24oaT1Tbyl7Y29uc3R7ZW5hYmxlU2hhZG93czplLHNoYWRvd1RyYW5zcGFyZW5jeTp0LGludGVuc2l0eTpyLHNjZW5lOm59PWksYT1uZXcgZm4oIkRpcmVjdGlvbmFsTGlnaHQiLG5ldyBiKC0uMywtMSwuNCksbik7YS5wb3NpdGlvbj1uZXcgYigtNTAsNjUsLTUwKSxhLmludGVuc2l0eT0uNjUqcjtjb25zdCBzPW5ldyBsbigiSGVtaXNwaGVyaWNMaWdodCIsbmV3IGIoMSwxLDApLG4pO3JldHVybiBzLmludGVuc2l0eT0uNCpyLGUmJihhLnNoYWRvd01pblo9MSxhLnNoYWRvd01heFo9NzAsYS5zaGFkb3dHZW5lcmF0b3I9bmV3IGtlKDIwNDgsYSksYS5zaGFkb3dHZW5lcmF0b3IudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMCxhLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10KSx7ZGlyZWN0aW9uYWw6YSxoZW1pc3BoZXJpYzpzfX1mdW5jdGlvbiBnbihpKXt2YXIgZT02LHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXSxyPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0sbj1bXSxhPVtdLHM9aS53aWR0aHx8aS5zaXplfHwxLG89aS5oZWlnaHR8fGkuc2l6ZXx8MSx1PWkuZGVwdGh8fGkuc2l6ZXx8MSxmPWkud3JhcHx8ITEsbD1pLnRvcEJhc2VBdD09PXZvaWQgMD8xOmkudG9wQmFzZUF0LGg9aS5ib3R0b21CYXNlQXQ9PT12b2lkIDA/MDppLmJvdHRvbUJhc2VBdDtsPShsKzQpJTQsaD0oaCs0KSU0O3ZhciBjPVsyLDAsMywxXSxkPVsyLDAsMSwzXSxwPWNbbF0sZz1kW2hdLF89WzEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwxXTtpZihmKXt0PVsyLDMsMCwyLDAsMSw0LDUsNiw0LDYsNyw5LDEwLDExLDksMTEsOCwxMiwxNCwxNSwxMiwxMywxNF0sXz1bLTEsMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLC0xLDEsLTEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTFdO2Zvcih2YXIgdj1bWzEsMSwxXSxbLTEsMSwxXSxbLTEsMSwtMV0sWzEsMSwtMV1dLHk9W1stMSwtMSwxXSxbMSwtMSwxXSxbMSwtMSwtMV0sWy0xLC0xLC0xXV0sRT1bMTcsMTgsMTksMTZdLFI9WzIyLDIzLDIwLDIxXTtwPjA7KXYudW5zaGlmdCh2LnBvcCgpKSxFLnVuc2hpZnQoRS5wb3AoKSkscC0tO2Zvcig7Zz4wOyl5LnVuc2hpZnQoeS5wb3AoKSksUi51bnNoaWZ0KFIucG9wKCkpLGctLTt2PXYuZmxhdCgpLHk9eS5mbGF0KCksXz1fLmNvbmNhdCh2KS5jb25jYXQoeSksdC5wdXNoKEVbMF0sRVsyXSxFWzNdLEVbMF0sRVsxXSxFWzJdKSx0LnB1c2goUlswXSxSWzJdLFJbM10sUlswXSxSWzFdLFJbMl0pfXZhciBNPVtzLzIsby8yLHUvMl07YT1fLnJlZHVjZShmdW5jdGlvbihxLCQsb2Upe3JldHVybiBxLmNvbmNhdCgkKk1bb2UlM10pfSxbXSk7Zm9yKHZhciBDPWkuc2lkZU9yaWVudGF0aW9uPT09MD8wOmkuc2lkZU9yaWVudGF0aW9ufHxnZS5ERUZBVUxUU0lERSxBPWkuZmFjZVVWfHxuZXcgQXJyYXkoNiksUz1pLmZhY2VDb2xvcnMsdz1bXSxGPTA7Rjw2O0YrKylBW0ZdPT09dm9pZCAwJiYoQVtGXT1uZXcgbXQoMCwwLDEsMSkpLFMmJlNbRl09PT12b2lkIDAmJihTW0ZdPW5ldyBFZSgxLDEsMSwxKSk7Zm9yKHZhciB4PTA7eDxlO3grKylpZihuLnB1c2goQVt4XS56LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnc6QVt4XS53KSxuLnB1c2goQVt4XS54LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnc6QVt4XS53KSxuLnB1c2goQVt4XS54LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnk6QVt4XS55KSxuLnB1c2goQVt4XS56LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnk6QVt4XS55KSxTKWZvcih2YXIgRz0wO0c8NDtHKyspdy5wdXNoKFNbeF0ucixTW3hdLmcsU1t4XS5iLFNbeF0uYSk7Z2UuX0NvbXB1dGVTaWRlcyhDLGEsdCxyLG4saS5mcm9udFVWcyxpLmJhY2tVVnMpO3ZhciBXPW5ldyBnZTtpZihXLmluZGljZXM9dCxXLnBvc2l0aW9ucz1hLFcubm9ybWFscz1yLFcudXZzPW4sUyl7dmFyIE49Qz09PWdlLkRPVUJMRVNJREU/dy5jb25jYXQodyk6dztXLmNvbG9ycz1OfXJldHVybiBXfWZ1bmN0aW9uIFd0KGksZSx0KXtlPT09dm9pZCAwJiYoZT17fSksdD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9bmV3IFEoaSx0KTtlLnNpZGVPcmllbnRhdGlvbj1RLl9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUuc2lkZU9yaWVudGF0aW9uKSxyLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5zaWRlT3JpZW50YXRpb247dmFyIG49Z24oZSk7cmV0dXJuIG4uYXBwbHlUb01lc2gocixlLnVwZGF0YWJsZSkscn1nZS5DcmVhdGVCb3g9Z24sUS5DcmVhdGVCb3g9ZnVuY3Rpb24oaSxlLHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT17c2l6ZTplLHNpZGVPcmllbnRhdGlvbjpuLHVwZGF0YWJsZTpyfTtyZXR1cm4gV3QoaSxhLHQpfTt2YXIgY2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXM9e30sdGhpcy5wcmV2aW91c0JvbmVzPXt9fXJldHVybiBpLkFkZFVuaWZvcm1zPWZ1bmN0aW9uKGUpe2UucHVzaCgicHJldmlvdXNXb3JsZCIsInByZXZpb3VzVmlld1Byb2plY3Rpb24iLCJtUHJldmlvdXNCb25lcyIpfSxpLkFkZFNhbXBsZXJzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0LnByZVBhc3NSZW5kZXJlciYmdC5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmdC5wcmVQYXNzUmVuZGVyZXIuY3VycmVudFJUaXNTY2VuZVJUJiZ0LnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSE9PS0xKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXXx8KHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW3IudW5pcXVlSWRdPW4uY2xvbmUoKSksdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9ufHwodGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCkpO3ZhciBzPXQuZ2V0RW5naW5lKCk7dGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24udXBkYXRlRmxhZyE9PXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkudXBkYXRlRmxhZz8odGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9cy5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbiksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24uY29weUZyb20odC5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkIT09cy5mcmFtZUlkJiYodGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9cy5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbikpLGUuc2V0TWF0cml4KCJwcmV2aW91c1dvcmxkIix0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXSksZS5zZXRNYXRyaXgoInByZXZpb3VzVmlld1Byb2plY3Rpb24iLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbiksdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbci51bmlxdWVJZF09bi5jbG9uZSgpfX0saX0oKSx2bj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7bj09PXZvaWQgMCYmKG49ITApO3ZhciBhPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGEuX25vcm1hbE1hdHJpeD1uZXcgSSxhLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPW4sYX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dGhpcy5fYWN0aXZlRWZmZWN0OmkucHJvdG90eXBlLmdldEVmZmVjdC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ/IXRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fCF0LnN1Yk1lc2hlc3x8dC5zdWJNZXNoZXMubGVuZ3RoPT09MD8hMDp0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKHQsdC5zdWJNZXNoZXNbMF0scik6ITF9LGUucHJvdG90eXBlLl9pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0KXt2YXIgcj10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4hISghdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGwmJnQuZWZmZWN0JiZyJiZyLl9yZW5kZXJJZD09PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpKX0sZS5wcm90b3R5cGUuYmluZE9ubHlXb3JsZE1hdHJpeD1mdW5jdGlvbih0KXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ3b3JsZCIsdCl9LGUucHJvdG90eXBlLmJpbmRPbmx5Tm9ybWFsTWF0cml4PWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIm5vcm1hbE1hdHJpeCIsdCl9LGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxyKXshcnx8dGhpcy5iaW5kRm9yU3ViTWVzaCh0LHIsci5zdWJNZXNoZXNbMF0pfSxlLnByb3RvdHlwZS5fYWZ0ZXJCaW5kPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCksaS5wcm90b3R5cGUuX2FmdGVyQmluZC5jYWxsKHRoaXMsdCxyKSx0aGlzLmdldFNjZW5lKCkuX2NhY2hlZEVmZmVjdD1yfSxlLnByb3RvdHlwZS5fbXVzdFJlYmluZD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG49PT12b2lkIDAmJihuPTEpLHQuaXNDYWNoZWRNYXRlcmlhbEludmFsaWQodGhpcyxyLG4pfSxlfShGZSksZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRGlmZnVzZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkRldGFpbFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkFtYmllbnRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJPcGFjaXR5VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmVmbGVjdGlvblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJCdW1wVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQnVtcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRnJlc25lbEVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRnJlc25lbEVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9GcmVzbmVsRW5hYmxlZCE9PWUmJih0aGlzLl9GcmVzbmVsRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaGVlblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkFuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD0hMCxpLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD0hMCxpLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ITAsaS5fT3BhY2l0eVRleHR1cmVFbmFibGVkPSEwLGkuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCxpLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPSEwLGkuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ITAsaS5fQnVtcFRleHR1cmVFbmFibGVkPSEwLGkuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ITAsaS5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPSEwLGkuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPSEwLGkuX0ZyZXNuZWxFbmFibGVkPSEwLGkuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPSEwLGkuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD0hMCxpLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ITAsaS5fU2hlZW5UZXh0dXJlRW5hYmxlZD0hMCxpLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPSEwLGkuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPSEwLGkuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCxpLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCxpLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPSEwLGl9KCksTW89ImRlZmF1bHRGcmFnbWVudERlY2xhcmF0aW9uIixBbz1gdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSB2ZWM0IHZEaWZmdXNlQ29sb3I7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZTcGVjdWxhckNvbG9yOwojZW5kaWYKdW5pZm9ybSB2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp1bmlmb3JtIHZlYzMgdkFtYmllbnRDb2xvcjsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkgCnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSB2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCnVuaWZvcm0gZmxvYXQgYWxwaGFDdXRPZmY7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGUkFDVElPTikgfHwgZGVmaW5lZChQUkVQQVNTKQp1bmlmb3JtIG1hdDQgdmlldzsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9OCnVuaWZvcm0gdmVjNCB2UmVmcmFjdGlvbkluZm9zOwojaWZuZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBtYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRlJBQ1RJT05NQVBfM0QpCnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTAp1bmlmb3JtIHZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCnVuaWZvcm0gdmVjNCBvcGFjaXR5UGFydHM7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCnVuaWZvcm0gdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gdmVjMiB2UmVmbGVjdGlvbkluZm9zOwojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BMQU5BUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NLWUJPWCkKdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZuZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpCnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CiNlbmRpZgojZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW01vXT1Bbzt2YXIgUm89ImRlZmF1bHRVYm9EZWNsYXJhdGlvbiIsUG89YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1hdGVyaWFsCnsKdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwp2ZWM0IG9wYWNpdHlQYXJ0czsKdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CnZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwp2ZWMyIHZEaWZmdXNlSW5mb3M7CnZlYzIgdkFtYmllbnRJbmZvczsKdmVjMiB2T3BhY2l0eUluZm9zOwp2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CnZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmbGVjdGlvblNpemU7CnZlYzIgdkVtaXNzaXZlSW5mb3M7CnZlYzIgdkxpZ2h0bWFwSW5mb3M7CnZlYzIgdlNwZWN1bGFySW5mb3M7CnZlYzMgdkJ1bXBJbmZvczsKbWF0NCBkaWZmdXNlTWF0cml4OwptYXQ0IGFtYmllbnRNYXRyaXg7Cm1hdDQgb3BhY2l0eU1hdHJpeDsKbWF0NCByZWZsZWN0aW9uTWF0cml4OwptYXQ0IGVtaXNzaXZlTWF0cml4OwptYXQ0IGxpZ2h0bWFwTWF0cml4OwptYXQ0IHNwZWN1bGFyTWF0cml4OwptYXQ0IGJ1bXBNYXRyaXg7CnZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKZmxvYXQgcG9pbnRTaXplOwpmbG9hdCBhbHBoYUN1dE9mZjsKbWF0NCByZWZyYWN0aW9uTWF0cml4Owp2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CnZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmcmFjdGlvblNpemU7CnZlYzQgdlNwZWN1bGFyQ29sb3I7CnZlYzMgdkVtaXNzaXZlQ29sb3I7CnZlYzQgdkRpZmZ1c2VDb2xvcjsKdmVjMyB2QW1iaWVudENvbG9yOwojZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OCn07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1JvXT1Qbzt2YXIgQ289InByZVBhc3NEZWNsYXJhdGlvbiIseG89YCNpZmRlZiBQUkVQQVNTCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCBoaWdocCB2ZWM0IGdsRnJhZ0RhdGFbe1h9XTtoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyBoaWdocCB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmFyeWluZyBoaWdocCB2ZWM0IHZDdXJyZW50UG9zaXRpb247dmFyeWluZyBoaWdocCB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtDb109eG87dmFyIERvPSJvaXREZWNsYXJhdGlvbiIsSW89YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IHZlYzIgZGVwdGg7IApsYXlvdXQobG9jYXRpb249MSkgb3V0IHZlYzQgZnJvbnRDb2xvcjsKbGF5b3V0KGxvY2F0aW9uPTIpIG91dCB2ZWM0IGJhY2tDb2xvcjsKI2RlZmluZSBNQVhfREVQVEggOTk5OTkuMApoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RGVwdGhTYW1wbGVyOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXRGcm9udENvbG9yU2FtcGxlcjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtEb109SW87dmFyIE9vPSJtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24iLEZvPWAjaWZkZWYgTUFJTlVWe1h9CnZhcnlpbmcgdmVjMiB2TWFpblVWe1h9OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW09vXT1Gbzt2YXIgd289ImxpZ2h0RnJhZ21lbnREZWNsYXJhdGlvbiIsTG89YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd29dPUxvO3ZhciBObz0ibGlnaHRVYm9EZWNsYXJhdGlvbiIsQm89YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OyAKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtOb109Qm87dmFyIFVvPSJsaWdodHNGcmFnbWVudEZ1bmN0aW9ucyIsVm89YHN0cnVjdCBsaWdodGluZ0luZm8Kewp2ZWMzIGRpZmZ1c2U7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhcjsKI2VuZGlmCiNpZmRlZiBORE9UTApmbG9hdCBuZGw7CiNlbmRpZgp9OwpsaWdodGluZ0luZm8gY29tcHV0ZUxpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgbGlnaHRWZWN0b3JXOwpmbG9hdCBhdHRlbnVhdGlvbj0xLjA7CmlmIChsaWdodERhdGEudz09MC4pCnsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwphdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwp9CmVsc2UKewpsaWdodFZlY3Rvclc9bm9ybWFsaXplKC1saWdodERhdGEueHl6KTsKfQpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVTcG90TGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjNCBsaWdodERpcmVjdGlvbix2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CnZlYzMgbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwpmbG9hdCBhdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKZmxvYXQgY29zQW5nbGU9bWF4KDAuLGRvdChsaWdodERpcmVjdGlvbi54eXosLWxpZ2h0VmVjdG9yVykpOwppZiAoY29zQW5nbGU+PWxpZ2h0RGlyZWN0aW9uLncpCnsKY29zQW5nbGU9bWF4KDAuLHBvdyhjb3NBbmdsZSxsaWdodERhdGEudykpOwphdHRlbnVhdGlvbio9Y29zQW5nbGU7CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpyZXN1bHQuZGlmZnVzZT12ZWMzKDAuKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZXN1bHQuc3BlY3VsYXI9dmVjMygwLik7CiNlbmRpZgojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD0wLjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcix2ZWMzIGdyb3VuZENvbG9yLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKZmxvYXQgbmRsPWRvdCh2Tm9ybWFsLGxpZ2h0RGF0YS54eXopKjAuNSswLjU7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW1peChncm91bmRDb2xvcixkaWZmdXNlQ29sb3IsbmRsKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHREYXRhLnh5eik7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQojZGVmaW5lIGlubGluZQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcixtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4KXsKdmVjNCBzdHJxPXRleHR1cmVQcm9qZWN0aW9uTWF0cml4KnZlYzQodlBvc2l0aW9uVywxLjApOwpzdHJxLz1zdHJxLnc7CnZlYzMgdGV4dHVyZUNvbG9yPXRleHR1cmUyRChwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLHN0cnEueHkpLnJnYjsKcmV0dXJuIHRleHR1cmVDb2xvcjsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtVb109Vm87dmFyIGtvPSJzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnMiLFdvPWAjaWZkZWYgU0hBRE9XUwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfQojZW5kaWYKZmxvYXQgY29tcHV0ZUZhbGxPZmYoZmxvYXQgdmFsdWUsdmVjMiBjbGlwU3BhY2UsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmZsb2F0IG1hc2s9c21vb3Roc3RlcCgxLjAtZnJ1c3R1bUVkZ2VGYWxsb2ZmLDEuMDAwMDAwMTIsY2xhbXAoZG90KGNsaXBTcGFjZSxjbGlwU3BhY2UpLDAuLDEuKSk7CnJldHVybiBtaXgodmFsdWUsMS4wLG1hc2spOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCnJldHVybiBkZXB0aD5zaGFkb3cgPyBkYXJrbmVzcyA6IDEuMDsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMzIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMzKC0xLjAsMS4wLC0xLjApOwpwb2lzc29uRGlza1sxXT12ZWMzKDEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1syXT12ZWMzKC0xLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbM109dmVjMygxLjAsLTEuMCwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7IApyZXR1cm4gZXNtOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGVzbTsKfQojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q1NNKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CnZlYzMgdXZMYXllcj12ZWMzKHV2LngsdXYueSxsYXllcik7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9CiNlbmRpZgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMiBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMigtMC45NDIwMTYyNCwtMC4zOTkwNjIxNik7CnBvaXNzb25EaXNrWzFdPXZlYzIoMC45NDU1ODYwOSwtMC43Njg5MDcyNSk7CnBvaXNzb25EaXNrWzJdPXZlYzIoLTAuMDk0MTg0MTAxLC0wLjkyOTM4ODcwKTsKcG9pc3NvbkRpc2tbM109dmVjMigwLjM0NDk1OTM4LDAuMjkzODc3NjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gY29tcHV0ZUZhbGxPZmYobWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsgCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBaSU5DTElQIGNsaXBTcGFjZS56CiNlbHNlCiNkZWZpbmUgWklOQ0xJUCB1dkRlcHRoLnoKI2VuZGlmCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCiNkZWZpbmUgR1JFQVRFU1RfTEVTU19USEFOX09ORSAwLjk5OTk5OTk0CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGgpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjUodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSx1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczMyWzY0XT12ZWMzWzY0XSgKdmVjMygwLjA2NDA3MDEzLDAuMDU0MDk5MjcsMC4pLAp2ZWMzKDAuNzM2NjU3NywwLjU3ODkzOTQsMC4pLAp2ZWMzKC0wLjYyNzA1NDIsLTAuNTMyMDI3OCwwLiksCnZlYzMoLTAuNDA5NjEwNywwLjg0MTEwOTUsMC4pLAp2ZWMzKDAuNjg0OTU2NCwtMC40OTkwODE4LDAuKSwKdmVjMygtMC44NzQxODEsLTAuMDQ1Nzk3MzUsMC4pLAp2ZWMzKDAuOTk4OTk5OCwwLjAwMDk4ODAwNjYsMC4pLAp2ZWMzKC0wLjAwNDkyMDU3OCwtMC45MTUxNjQ5LDAuKSwKdmVjMygwLjE4MDU3NjMsMC45NzQ3NDgzLDAuKSwKdmVjMygtMC4yMTM4NDUxLDAuMjYzNTgxOCwwLiksCnZlYzMoMC4xMDk4NDUsMC4zODg0Nzg1LDAuKSwKdmVjMygwLjA2ODc2NzU1LC0wLjM1ODEwNzQsMC4pLAp2ZWMzKDAuMzc0MDczLC0wLjc2NjEyNjYsMC4pLAp2ZWMzKDAuMzA3OTEzMiwtMC4xMjE2NzYzLDAuKSwKdmVjMygtMC4zNzk0MzM1LC0wLjgyNzE1ODMsMC4pLAp2ZWMzKC0wLjIwMzg3OCwtMC4wNzcxNTAzNCwwLiksCnZlYzMoMC41OTEyNjk3LDAuMTQ2OTc5OSwwLiksCnZlYzMoLTAuODgwNjksMC4zMDMxNzg0LDAuKSwKdmVjMygwLjUwNDAxMDgsMC44MjgzNzIyLDAuKSwKdmVjMygtMC41ODQ0MTI0LDAuNTQ5NDg3NywwLiksCnZlYzMoMC42MDE3Nzk5LC0wLjE3MjY2NTQsMC4pLAp2ZWMzKC0wLjU1NTQ5ODEsMC4xNTU5OTk3LDAuKSwKdmVjMygtMC4zMDE2MzY5LC0wLjM5MDA5MjgsMC4pLAp2ZWMzKC0wLjU1NTA2MzIsLTAuMTcyMzc2MiwwLiksCnZlYzMoMC45MjUwMjksMC4yOTk1MDQxLDAuKSwKdmVjMygtMC4yNDczMTM3LDAuNTUzODUwNSwwLiksCnZlYzMoMC45MTgzMDM3LC0wLjI4NjIzOTIsMC4pLAp2ZWMzKDAuMjQ2OTQyMSwwLjY3MTg3MTIsMC4pLAp2ZWMzKDAuMzkxNjM5NywtMC40MzI4MjA5LDAuKSwKdmVjMygtMC4wMzU3NjkyNywtMC42MjIwMDMyLDAuKSwKdmVjMygtMC4wNDY2MTI1NSwwLjc5OTUyMDEsMC4pLAp2ZWMzKDAuNDQwMjkyNCwwLjM2NDAzMTIsMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLikKKTsKY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnM2NFs2NF09dmVjM1s2NF0oCnZlYzMoLTAuNjEzMzkyLDAuNjE3NDgxLDAuKSwKdmVjMygwLjE3MDAxOSwtMC4wNDAyNTQsMC4pLAp2ZWMzKC0wLjI5OTQxNywwLjc5MTkyNSwwLiksCnZlYzMoMC42NDU2ODAsMC40OTMyMTAsMC4pLAp2ZWMzKC0wLjY1MTc4NCwwLjcxNzg4NywwLiksCnZlYzMoMC40MjEwMDMsMC4wMjcwNzAsMC4pLAp2ZWMzKC0wLjgxNzE5NCwtMC4yNzEwOTYsMC4pLAp2ZWMzKC0wLjcwNTM3NCwtMC42NjgyMDMsMC4pLAp2ZWMzKDAuOTc3MDUwLC0wLjEwODYxNSwwLiksCnZlYzMoMC4wNjMzMjYsMC4xNDIzNjksMC4pLAp2ZWMzKDAuMjAzNTI4LDAuMjE0MzMxLDAuKSwKdmVjMygtMC42Njc1MzEsMC4zMjYwOTAsMC4pLAp2ZWMzKC0wLjA5ODQyMiwtMC4yOTU3NTUsMC4pLAp2ZWMzKC0wLjg4NTkyMiwwLjIxNTM2OSwwLiksCnZlYzMoMC41NjY2MzcsMC42MDUyMTMsMC4pLAp2ZWMzKDAuMDM5NzY2LC0wLjM5NjEwMCwwLiksCnZlYzMoMC43NTE5NDYsMC40NTMzNTIsMC4pLAp2ZWMzKDAuMDc4NzA3LC0wLjcxNTMyMywwLiksCnZlYzMoLTAuMDc1ODM4LC0wLjUyOTM0NCwwLiksCnZlYzMoMC43MjQ0NzksLTAuNTgwNzk4LDAuKSwKdmVjMygwLjIyMjk5OSwtMC4yMTUxMjUsMC4pLAp2ZWMzKC0wLjQ2NzU3NCwtMC40MDU0MzgsMC4pLAp2ZWMzKC0wLjI0ODI2OCwtMC44MTQ3NTMsMC4pLAp2ZWMzKDAuMzU0NDExLC0wLjg4NzU3MCwwLiksCnZlYzMoMC4xNzU4MTcsMC4zODIzNjYsMC4pLAp2ZWMzKDAuNDg3NDcyLC0wLjA2MzA4MiwwLiksCnZlYzMoLTAuMDg0MDc4LDAuODk4MzEyLDAuKSwKdmVjMygwLjQ4ODg3NiwtMC43ODM0NDEsMC4pLAp2ZWMzKDAuNDcwMDE2LDAuMjE3OTMzLDAuKSwKdmVjMygtMC42OTY4OTAsLTAuNTQ5NzkxLDAuKSwKdmVjMygtMC4xNDk2OTMsMC42MDU3NjIsMC4pLAp2ZWMzKDAuMDM0MjExLDAuOTc5OTgwLDAuKSwKdmVjMygwLjUwMzA5OCwtMC4zMDg4NzgsMC4pLAp2ZWMzKC0wLjAxNjIwNSwtMC44NzI5MjEsMC4pLAp2ZWMzKDAuMzg1Nzg0LC0wLjM5MzkwMiwwLiksCnZlYzMoLTAuMTQ2ODg2LC0wLjg1OTI0OSwwLiksCnZlYzMoMC42NDMzNjEsMC4xNjQwOTgsMC4pLAp2ZWMzKDAuNjM0Mzg4LC0wLjA0OTQ3MSwwLiksCnZlYzMoLTAuNjg4ODk0LDAuMDA3ODQzLDAuKSwKdmVjMygwLjQ2NDAzNCwtMC4xODg4MTgsMC4pLAp2ZWMzKC0wLjQ0MDg0MCwwLjEzNzQ4NiwwLiksCnZlYzMoMC4zNjQ0ODMsMC41MTE3MDQsMC4pLAp2ZWMzKDAuMDM0MDI4LDAuMzI1OTY4LDAuKSwKdmVjMygwLjA5OTA5NCwtMC4zMDgwMjMsMC4pLAp2ZWMzKDAuNjkzOTYwLC0wLjM2NjI1MywwLiksCnZlYzMoMC42Nzg4ODQsLTAuMjA0Njg4LDAuKSwKdmVjMygwLjAwMTgwMSwwLjc4MDMyOCwwLiksCnZlYzMoMC4xNDUxNzcsLTAuODk4OTg0LDAuKSwKdmVjMygwLjA2MjY1NSwtMC42MTE4NjYsMC4pLAp2ZWMzKDAuMzE1MjI2LC0wLjYwNDI5NywwLiksCnZlYzMoLTAuNzgwMTQ1LDAuNDg2MjUxLDAuKSwKdmVjMygtMC4zNzE4NjgsMC44ODIxMzgsMC4pLAp2ZWMzKDAuMjAwNDc2LDAuNDk0NDMwLDAuKSwKdmVjMygtMC40OTQ1NTIsLTAuNzExMDUxLDAuKSwKdmVjMygwLjYxMjQ3NiwwLjcwNTI1MiwwLiksCnZlYzMoLTAuNTc4ODQ1LC0wLjc2ODc5MiwwLiksCnZlYzMoLTAuNzcyNDU0LC0wLjA5MDk3NiwwLiksCnZlYzMoMC41MDQ0NDAsMC4zNzIyOTUsMC4pLAp2ZWMzKDAuMTU1NzM2LDAuMDY1MTU3LDAuKSwKdmVjMygwLjM5MTUyMiwwLjg0OTYwNSwwLiksCnZlYzMoLTAuNjIwMTA2LC0wLjMyODEwNCwwLiksCnZlYzMoMC43ODkyMzksLTAuNDE5OTY1LDAuKSwKdmVjMygtMC41NDUzOTYsMC41MzgxMzMsMC4pLAp2ZWMzKC0wLjE3ODU2NCwtMC41OTYwNTcsMC4pCik7CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD10ZXh0dXJlMkQoZGVwdGhTYW1wbGVyLHZlYzModXZEZXB0aC54eSsobGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSxsYXllcikpLnI7CmlmIChibG9ja2VyRGVwdGg8ZGVwdGhNZXRyaWMpIHsKc3VtQmxvY2tlckRlcHRoKz1ibG9ja2VyRGVwdGg7Cm51bUJsb2NrZXIrKzsKfQp9CmlmIChudW1CbG9ja2VyPDEuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBhdmdCbG9ja2VyRGVwdGg9c3VtQmxvY2tlckRlcHRoL251bUJsb2NrZXI7CmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKZmxvYXQgcGVudW1icmFSYXRpbz0oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uK0FBT2Zmc2V0KTsKdmVjNCBmaWx0ZXJSYWRpdXM9dmVjNChwZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKmxpZ2h0U2l6ZVVWQ29ycmVjdGlvbipzaGFkb3dNYXBTaXplSW52ZXJzZSwwLiwwLik7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzQgb2Zmc2V0PXZlYzQocG9pc3NvblNhbXBsZXJzW2ldLDAuKTsKb2Zmc2V0PXZlYzQob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLiwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyK29mZnNldCpmaWx0ZXJSYWRpdXMpOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwpzaGFkb3c9bWl4KHNoYWRvdywxLixtaW4oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uKnBlbnVtYnJhRGFya25lc3MsMS4pKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLGludCBzZWFyY2hUYXBDb3VudCxpbnQgcGNmVGFwQ291bnQsdmVjM1s2NF0gcG9pc3NvblNhbXBsZXJzKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD10ZXh0dXJlMkQoZGVwdGhTYW1wbGVyLHV2RGVwdGgueHkrKGxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKStBQU9mZnNldCk7CmZsb2F0IGZpbHRlclJhZGl1cz1wZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlOwpmbG9hdCByYW5kb209Z2V0UmFuZCh2UG9zaXRpb25Gcm9tTGlnaHQueHkpOwpmbG9hdCByb3RhdGlvbkFuZ2xlPXJhbmRvbSozLjE0MTU5MjY7CnZlYzIgcm90YXRpb25WZWN0b3I9dmVjMihjb3Mocm90YXRpb25BbmdsZSksc2luKHJvdGF0aW9uQW5nbGUpKTsKZmxvYXQgc2hhZG93PTAuOwpmb3IgKGludCBpPTA7IGk8cGNmVGFwQ291bnQ7IGkrKykgewp2ZWMzIG9mZnNldD1wb2lzc29uU2FtcGxlcnNbaV07Cm9mZnNldD12ZWMzKG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4pOwpzaGFkb3crPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGgrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MzMih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVba29dPVdvO3ZhciB6bz0ic2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24iLEdvPWAjaWZkZWYgX0RFRklORU5BTUVfCiNpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjEKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTIKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYyCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0zCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMwojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NAojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjQKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTUKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY1CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT02CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNgojZWxzZQp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCnVuaWZvcm0gc2FtcGxlcjJEIF9TQU1QTEVSTkFNRV9TYW1wbGVyOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3pvXT1Hbzt2YXIgWG89ImZyZXNuZWxGdW5jdGlvbiIsSG89YCNpZmRlZiBGUkVTTkVMCmZsb2F0IGNvbXB1dGVGcmVzbmVsVGVybSh2ZWMzIHZpZXdEaXJlY3Rpb24sdmVjMyB3b3JsZE5vcm1hbCxmbG9hdCBiaWFzLGZsb2F0IHBvd2VyKQp7CmZsb2F0IGZyZXNuZWxUZXJtPXBvdyhiaWFzK2Ficyhkb3Qodmlld0RpcmVjdGlvbix3b3JsZE5vcm1hbCkpLHBvd2VyKTsKcmV0dXJuIGNsYW1wKGZyZXNuZWxUZXJtLDAuLDEuKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1hvXT1Ibzt2YXIgam89InJlZmxlY3Rpb25GdW5jdGlvbiIsS289YHZlYzMgY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVNaXJyb3JlZEZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMoMS4wLXMsdCwwKTsgCn0KdmVjMyBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIGNhbWVyYVRvVmVydGV4PW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIHI9bm9ybWFsaXplKHJlZmxlY3QoY2FtZXJhVG9WZXJ0ZXgsd29ybGROb3JtYWwpKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKZmxvYXQgbG9uPWF0YW4oci56LHIueCk7CmZsb2F0IGxhdD1hY29zKHIueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsKfQp2ZWMzIGNvbXB1dGVTcGhlcmljYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqd29ybGRQb3MpKTsKdmVjMyB2aWV3Tm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqdmVjNCh3b3JsZE5vcm1hbCwwLjApKSk7CnZlYzMgcj1yZWZsZWN0KHZpZXdEaXIsdmlld05vcm1hbCk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CnIuej1yLnotMS4wOwpmbG9hdCBtPTIuMCpsZW5ndGgocik7CnJldHVybiB2ZWMzKHIueC9tKzAuNSwxLjAtci55L20tMC41LDApOwp9CnZlYzMgY29tcHV0ZVBsYW5hckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPXdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbjsKdmVjMyBjb29yZHM9bm9ybWFsaXplKHJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCkpOwpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDEpKTsKfQp2ZWMzIGNvbXB1dGVDdWJpY0Nvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDApKTsKI2lmZGVmIElOVkVSVENVQklDTUFQCmNvb3Jkcy55Kj0tMS4wOwojZW5kaWYKcmV0dXJuIGNvb3JkczsKfQp2ZWMzIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCx2ZWMzIHJlZmxlY3Rpb25TaXplLHZlYzMgcmVmbGVjdGlvblBvc2l0aW9uKQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh3b3JsZFBvcy54eXosY29vcmRzLHJlZmxlY3Rpb25TaXplLHJlZmxlY3Rpb25Qb3NpdGlvbik7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZVByb2plY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyxtYXQ0IHZpZXcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqKHZpZXcqd29ybGRQb3MpKTsKfQp2ZWMzIGNvbXB1dGVTa3lCb3hDb29yZHModmVjMyBwb3NpdGlvblcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChwb3NpdGlvblcsMS4pKTsKfQojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIGNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCkKewojaWZkZWYgUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLGRpcmVjdGlvbik7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIKcmV0dXJuIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTApyZXR1cm4gY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUExBTkFSCnJldHVybiBjb21wdXRlUGxhbmFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9DVUJJQwojaWZkZWYgVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMKcmV0dXJuIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCx2UmVmbGVjdGlvblNpemUsdlJlZmxlY3Rpb25Qb3NpdGlvbik7CiNlbHNlCnJldHVybiBjb21wdXRlQ3ViaWNDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCnJldHVybiBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh3b3JsZFBvcyx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnJldHVybiBjb21wdXRlU2t5Qm94Q29vcmRzKHZQb3NpdGlvblVWVyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VYUExJQ0lUCnJldHVybiB2ZWMzKDAsMCwwKTsKI2VuZGlmCn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtqb109S287dmFyIFlvPSJpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbiIsWm89YCNpZmRlZiBFWFBPU1VSRQp1bmlmb3JtIGZsb2F0IGV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIENPTlRSQVNUCnVuaWZvcm0gZmxvYXQgY29udHJhc3Q7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdW5pZm9ybSB2ZWMyIHZJbnZlcnNlU2NyZWVuU2l6ZTsKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MxOwp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczI7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWw7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlOwojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdW5pZm9ybSBoaWdocCBzYW1wbGVyM0QgdHhDb2xvclRyYW5zZm9ybTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgdHhDb2xvclRyYW5zZm9ybTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBjb2xvclRyYW5zZm9ybVNldHRpbmdzOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lvXT1abzt2YXIgcW89ImltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucyIsUW89YCNpZiBkZWZpbmVkKENPTE9SR1JBRElORykgJiYgIWRlZmluZWQoQ09MT1JHUkFESU5HM0QpCi8qKiAKKiBQb2x5ZmlsbCBmb3IgU0FNUExFX1RFWFRVUkVfM0Qsd2hpY2ggaXMgdW5zdXBwb3J0ZWQgaW4gV2ViR0wuCiogc2FtcGxlcjNkU2V0dGluZy54PXRleHR1cmVPZmZzZXQgKDAuNS90ZXh0dXJlU2l6ZSkuCiogc2FtcGxlcjNkU2V0dGluZy55PXRleHR1cmVTaXplLgoqLwojZGVmaW5lIGlubGluZQp2ZWMzIHNhbXBsZVRleHR1cmUzRChzYW1wbGVyMkQgY29sb3JUcmFuc2Zvcm0sdmVjMyBjb2xvcix2ZWMyIHNhbXBsZXIzZFNldHRpbmcpCnsKZmxvYXQgc2xpY2VTaXplPTIuMCpzYW1wbGVyM2RTZXR0aW5nLng7IAojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSApmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmctc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbHNlCmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuYi1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2VuZGlmCmZsb2F0IHNsaWNlSW50ZWdlcj1mbG9vcihzbGljZUNvbnRpbnVvdXMpOwpmbG9hdCBzbGljZUZyYWN0aW9uPXNsaWNlQ29udGludW91cy1zbGljZUludGVnZXI7CiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICnZlYzIgc2xpY2VVVj1jb2xvci5yYjsKI2Vsc2UKdmVjMiBzbGljZVVWPWNvbG9yLnJnOwojZW5kaWYKc2xpY2VVVi54Kj1zbGljZVNpemU7CnNsaWNlVVYueCs9c2xpY2VJbnRlZ2VyKnNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTBDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnNsaWNlVVYueCs9c2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMUNvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKdmVjMyByZXN1bHQ9bWl4KHNsaWNlMENvbG9yLnJnYixzbGljZTFDb2xvci5yZ2Isc2xpY2VGcmFjdGlvbik7CiNpZmRlZiBTQU1QTEVSM0RCR1JNQVAKY29sb3IucmdiPXJlc3VsdC5yZ2I7CiNlbHNlCmNvbG9yLnJnYj1yZXN1bHQuYmdyOwojZW5kaWYKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpjb25zdCBtYXQzIEFDRVNJbnB1dE1hdD1tYXQzKAp2ZWMzKDAuNTk3MTksMC4wNzYwMCwwLjAyODQwKSwKdmVjMygwLjM1NDU4LDAuOTA4MzQsMC4xMzM4MyksCnZlYzMoMC4wNDgyMywwLjAxNTY2LDAuODM3NzcpCik7CmNvbnN0IG1hdDMgQUNFU091dHB1dE1hdD1tYXQzKAp2ZWMzKCAxLjYwNDc1LC0wLjEwMjA4LC0wLjAwMzI3KSwKdmVjMygtMC41MzEwOCwgMS4xMDgxMywtMC4wNzI3NiksCnZlYzMoLTAuMDczNjcsLTAuMDA2MDUsIDEuMDc2MDIpCik7CnZlYzMgUlJUQW5kT0RURml0KHZlYzMgdikKewp2ZWMzIGE9dioodiswLjAyNDU3ODYpLTAuMDAwMDkwNTM3Owp2ZWMzIGI9diooMC45ODM3MjkqdiswLjQzMjk1MTApKzAuMjM4MDgxOwpyZXR1cm4gYS9iOwp9CnZlYzMgQUNFU0ZpdHRlZCh2ZWMzIGNvbG9yKQp7CmNvbG9yPUFDRVNJbnB1dE1hdCpjb2xvcjsKY29sb3I9UlJUQW5kT0RURml0KGNvbG9yKTsKY29sb3I9QUNFU091dHB1dE1hdCpjb2xvcjsKY29sb3I9c2F0dXJhdGUoY29sb3IpOwpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCnZlYzQgYXBwbHlJbWFnZVByb2Nlc3NpbmcodmVjNCByZXN1bHQpIHsKI2lmZGVmIEVYUE9TVVJFCnJlc3VsdC5yZ2IqPWV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnZlYzIgdmlld3BvcnRYWT1nbF9GcmFnQ29vcmQueHkqdkludmVyc2VTY3JlZW5TaXplOwp2aWV3cG9ydFhZPXZpZXdwb3J0WFkqMi4wLTEuMDsKdmVjMyB2aWduZXR0ZVhZMT12ZWMzKHZpZXdwb3J0WFkqdmlnbmV0dGVTZXR0aW5nczEueHkrdmlnbmV0dGVTZXR0aW5nczEuencsMS4wKTsKZmxvYXQgdmlnbmV0dGVUZXJtPWRvdCh2aWduZXR0ZVhZMSx2aWduZXR0ZVhZMSk7CmZsb2F0IHZpZ25ldHRlPXBvdyh2aWduZXR0ZVRlcm0sdmlnbmV0dGVTZXR0aW5nczIudyk7CnZlYzMgdmlnbmV0dGVDb2xvcj12aWduZXR0ZVNldHRpbmdzMi5yZ2I7CiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU1VTFRJUExZCnZlYzMgdmlnbmV0dGVDb2xvck11bHRpcGxpZXI9bWl4KHZpZ25ldHRlQ29sb3IsdmVjMygxLDEsMSksdmlnbmV0dGUpOwpyZXN1bHQucmdiKj12aWduZXR0ZUNvbG9yTXVsdGlwbGllcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU9QQVFVRQpyZXN1bHQucmdiPW1peCh2aWduZXR0ZUNvbG9yLHJlc3VsdC5yZ2IsdmlnbmV0dGUpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBUT05FTUFQUElORwojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpyZXN1bHQucmdiPUFDRVNGaXR0ZWQocmVzdWx0LnJnYik7CiNlbHNlCmNvbnN0IGZsb2F0IHRvbmVtYXBwaW5nQ2FsaWJyYXRpb249MS41OTA1Nzk7CnJlc3VsdC5yZ2I9MS4wLWV4cDIoLXRvbmVtYXBwaW5nQ2FsaWJyYXRpb24qcmVzdWx0LnJnYik7CiNlbmRpZgojZW5kaWYKcmVzdWx0LnJnYj10b0dhbW1hU3BhY2UocmVzdWx0LnJnYik7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYik7CiNpZmRlZiBDT05UUkFTVAp2ZWMzIHJlc3VsdEhpZ2hDb250cmFzdD1yZXN1bHQucmdiKnJlc3VsdC5yZ2IqKDMuMC0yLjAqcmVzdWx0LnJnYik7CmlmIChjb250cmFzdDwxLjApIHsKcmVzdWx0LnJnYj1taXgodmVjMygwLjUsMC41LDAuNSkscmVzdWx0LnJnYixjb250cmFzdCk7Cn0gZWxzZSB7CnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IscmVzdWx0SGlnaENvbnRyYXN0LGNvbnRyYXN0LTEuMCk7Cn0KI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKdmVjMyBjb2xvclRyYW5zZm9ybUlucHV0PXJlc3VsdC5yZ2IqY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy54eHgrY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eXk7CiNpZmRlZiBDT0xPUkdSQURJTkczRAp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXRleHR1cmUodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0KS5yZ2I7CiNlbHNlCnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9c2FtcGxlVGV4dHVyZTNEKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl6KS5yZ2I7CiNlbmRpZgpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLGNvbG9yVHJhbnNmb3JtT3V0cHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3Mud3d3KTsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwpmbG9hdCBsdW1hPWdldEx1bWluYW5jZShyZXN1bHQucmdiKTsKdmVjMiBjdXJ2ZU1peD1jbGFtcCh2ZWMyKGx1bWEqMy4wLTEuNSxsdW1hKi0zLjArMS41KSx2ZWMyKDAuMCksdmVjMigxLjApKTsKdmVjNCBjb2xvckN1cnZlPXZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCtjdXJ2ZU1peC54KnZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUtY3VydmVNaXgueSp2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwpyZXN1bHQucmdiKj1jb2xvckN1cnZlLnJnYjsKcmVzdWx0LnJnYj1taXgodmVjMyhsdW1hKSxyZXN1bHQucmdiLGNvbG9yQ3VydmUuYSk7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3FvXT1Rbzt2YXIgJG89ImJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnMiLEpvPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKdW5pZm9ybSBtYXQ0IG5vcm1hbE1hdHJpeDsKI2VuZGlmCnZlYzMgcGVydHVyYk5vcm1hbEJhc2UobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIG5vcm1hbCxmbG9hdCBzY2FsZSkKewojaWZkZWYgTk9STUFMWFlTQ0FMRQpub3JtYWw9bm9ybWFsaXplKG5vcm1hbCp2ZWMzKHNjYWxlLHNjYWxlLDEuMCkpOwojZW5kaWYKcmV0dXJuIG5vcm1hbGl6ZShjb3RhbmdlbnRGcmFtZSpub3JtYWwpOwp9CnZlYzMgcGVydHVyYk5vcm1hbChtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgdGV4dHVyZVNhbXBsZSxmbG9hdCBzY2FsZSkKewpyZXR1cm4gcGVydHVyYk5vcm1hbEJhc2UoY290YW5nZW50RnJhbWUsdGV4dHVyZVNhbXBsZSoyLjAtMS4wLHNjYWxlKTsKfQptYXQzIGNvdGFuZ2VudF9mcmFtZSh2ZWMzIG5vcm1hbCx2ZWMzIHAsdmVjMiB1dix2ZWMyIHRhbmdlbnRTcGFjZVBhcmFtcykKewp2ZWMzIGRwMT1kRmR4KHApOwp2ZWMzIGRwMj1kRmR5KHApOwp2ZWMyIGR1djE9ZEZkeCh1dik7CnZlYzIgZHV2Mj1kRmR5KHV2KTsKdmVjMyBkcDJwZXJwPWNyb3NzKGRwMixub3JtYWwpOwp2ZWMzIGRwMXBlcnA9Y3Jvc3Mobm9ybWFsLGRwMSk7CnZlYzMgdGFuZ2VudD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDsKdmVjMyBiaXRhbmdlbnQ9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7CnRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy54OwpiaXRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy55OwpmbG9hdCBpbnZtYXg9aW52ZXJzZXNxcnQobWF4KGRvdCh0YW5nZW50LHRhbmdlbnQpLGRvdChiaXRhbmdlbnQsYml0YW5nZW50KSkpOwpyZXR1cm4gbWF0Myh0YW5nZW50Kmludm1heCxiaXRhbmdlbnQqaW52bWF4LG5vcm1hbCk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVskb109Sm87dmFyIGV1PSJidW1wRnJhZ21lbnRGdW5jdGlvbnMiLHR1PWAjaWYgZGVmaW5lZChCVU1QKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9TQU1QTEVSTkFNRV8sYnVtcCkKI2VuZGlmCiNpZiBkZWZpbmVkKERFVEFJTCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX1NBTVBMRVJOQU1FXyxkZXRhaWwpCiNlbmRpZgojaWYgZGVmaW5lZChCVU1QKSAmJiBkZWZpbmVkKFBBUkFMTEFYKQpjb25zdCBmbG9hdCBtaW5TYW1wbGVzPTQuOwpjb25zdCBmbG9hdCBtYXhTYW1wbGVzPTE1LjsKY29uc3QgaW50IGlNYXhTYW1wbGVzPTE1Owp2ZWMyIHBhcmFsbGF4T2NjbHVzaW9uKHZlYzMgdlZpZXdEaXJDb1QsdmVjMyB2Tm9ybWFsQ29ULHZlYzIgdGV4Q29vcmQsZmxvYXQgcGFyYWxsYXhTY2FsZSkgewpmbG9hdCBwYXJhbGxheExpbWl0PWxlbmd0aCh2Vmlld0RpckNvVC54eSkvdlZpZXdEaXJDb1QuejsKcGFyYWxsYXhMaW1pdCo9cGFyYWxsYXhTY2FsZTsKdmVjMiB2T2Zmc2V0RGlyPW5vcm1hbGl6ZSh2Vmlld0RpckNvVC54eSk7CnZlYzIgdk1heE9mZnNldD12T2Zmc2V0RGlyKnBhcmFsbGF4TGltaXQ7CmZsb2F0IG51bVNhbXBsZXM9bWF4U2FtcGxlcysoZG90KHZWaWV3RGlyQ29ULHZOb3JtYWxDb1QpKihtaW5TYW1wbGVzLW1heFNhbXBsZXMpKTsKZmxvYXQgc3RlcFNpemU9MS4wL251bVNhbXBsZXM7CmZsb2F0IGN1cnJSYXlIZWlnaHQ9MS4wOwp2ZWMyIHZDdXJyT2Zmc2V0PXZlYzIoMCwwKTsKdmVjMiB2TGFzdE9mZnNldD12ZWMyKDAsMCk7CmZsb2F0IGxhc3RTYW1wbGVkSGVpZ2h0PTEuMDsKZmxvYXQgY3VyclNhbXBsZWRIZWlnaHQ9MS4wOwpmb3IgKGludCBpPTA7IGk8aU1heFNhbXBsZXM7IGkrKykKewpjdXJyU2FtcGxlZEhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdGV4Q29vcmQrdkN1cnJPZmZzZXQpLnc7CmlmIChjdXJyU2FtcGxlZEhlaWdodD5jdXJyUmF5SGVpZ2h0KQp7CmZsb2F0IGRlbHRhMT1jdXJyU2FtcGxlZEhlaWdodC1jdXJyUmF5SGVpZ2h0OwpmbG9hdCBkZWx0YTI9KGN1cnJSYXlIZWlnaHQrc3RlcFNpemUpLWxhc3RTYW1wbGVkSGVpZ2h0OwpmbG9hdCByYXRpbz1kZWx0YTEvKGRlbHRhMStkZWx0YTIpOwp2Q3Vyck9mZnNldD0ocmF0aW8pKiB2TGFzdE9mZnNldCsoMS4wLXJhdGlvKSp2Q3Vyck9mZnNldDsKYnJlYWs7Cn0KZWxzZQp7CmN1cnJSYXlIZWlnaHQtPXN0ZXBTaXplOwp2TGFzdE9mZnNldD12Q3Vyck9mZnNldDsKdkN1cnJPZmZzZXQrPXN0ZXBTaXplKnZNYXhPZmZzZXQ7Cmxhc3RTYW1wbGVkSGVpZ2h0PWN1cnJTYW1wbGVkSGVpZ2h0Owp9Cn0KcmV0dXJuIHZDdXJyT2Zmc2V0Owp9CnZlYzIgcGFyYWxsYXhPZmZzZXQodmVjMyB2aWV3RGlyLGZsb2F0IGhlaWdodFNjYWxlKQp7CmZsb2F0IGhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikudzsKdmVjMiB0ZXhDb29yZE9mZnNldD1oZWlnaHRTY2FsZSp2aWV3RGlyLnh5KmhlaWdodDsKcmV0dXJuIC10ZXhDb29yZE9mZnNldDsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2V1XT10dTt2YXIgcnU9ImxvZ0RlcHRoRGVjbGFyYXRpb24iLGl1PWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp1bmlmb3JtIGZsb2F0IGxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKdmFyeWluZyBmbG9hdCB2RnJhZ21lbnREZXB0aDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtydV09aXU7dmFyIG51PSJmb2dGcmFnbWVudERlY2xhcmF0aW9uIixhdT1gI2lmZGVmIEZPRwojZGVmaW5lIEZPR01PREVfTk9ORSAwLgojZGVmaW5lIEZPR01PREVfRVhQIDEuCiNkZWZpbmUgRk9HTU9ERV9FWFAyIDIuCiNkZWZpbmUgRk9HTU9ERV9MSU5FQVIgMy4KI2RlZmluZSBFIDIuNzE4MjgKdW5pZm9ybSB2ZWM0IHZGb2dJbmZvczsKdW5pZm9ybSB2ZWMzIHZGb2dDb2xvcjsKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKZmxvYXQgQ2FsY0ZvZ0ZhY3RvcigpCnsKZmxvYXQgZm9nQ29lZmY9MS4wOwpmbG9hdCBmb2dTdGFydD12Rm9nSW5mb3MueTsKZmxvYXQgZm9nRW5kPXZGb2dJbmZvcy56OwpmbG9hdCBmb2dEZW5zaXR5PXZGb2dJbmZvcy53OwpmbG9hdCBmb2dEaXN0YW5jZT1sZW5ndGgodkZvZ0Rpc3RhbmNlKTsKaWYgKEZPR01PREVfTElORUFSPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0oZm9nRW5kLWZvZ0Rpc3RhbmNlKS8oZm9nRW5kLWZvZ1N0YXJ0KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUD09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQMj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkqZm9nRGVuc2l0eSk7Cn0KcmV0dXJuIGNsYW1wKGZvZ0NvZWZmLDAuMCwxLjApOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbnVdPWF1O3ZhciBzdT0ib2l0RnJhZ21lbnQiLG91PWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmZsb2F0IGZyYWdEZXB0aD1nbF9GcmFnQ29vcmQuejsgCiNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTCnVpbnQgaGFsZkZsb2F0PXBhY2tIYWxmMngxNih2ZWMyKGZyYWdEZXB0aCkpOwp2ZWMyIGZ1bGw9dW5wYWNrSGFsZjJ4MTYoaGFsZkZsb2F0KTsKZnJhZ0RlcHRoPWZ1bGwueDsKI2VuZGlmCml2ZWMyIGZyYWdDb29yZD1pdmVjMihnbF9GcmFnQ29vcmQueHkpOwp2ZWMyIGxhc3REZXB0aD10ZXhlbEZldGNoKG9pdERlcHRoU2FtcGxlcixmcmFnQ29vcmQsMCkucmc7CnZlYzQgbGFzdEZyb250Q29sb3I9dGV4ZWxGZXRjaChvaXRGcm9udENvbG9yU2FtcGxlcixmcmFnQ29vcmQsMCk7CmRlcHRoLnJnPXZlYzIoLU1BWF9ERVBUSCk7CmZyb250Q29sb3I9bGFzdEZyb250Q29sb3I7CmJhY2tDb2xvcj12ZWM0KDAuMCk7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpmbG9hdCBmdXJ0aGVzdERlcHRoPS1sYXN0RGVwdGgueDsKZmxvYXQgbmVhcmVzdERlcHRoPWxhc3REZXB0aC55OwojZWxzZQpmbG9hdCBuZWFyZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBmdXJ0aGVzdERlcHRoPWxhc3REZXB0aC55OwojZW5kaWYKZmxvYXQgYWxwaGFNdWx0aXBsaWVyPTEuMC1sYXN0RnJvbnRDb2xvci5hOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCnJldHVybjsKfQojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCmRlcHRoLnJnPXZlYzIoLWZyYWdEZXB0aCxmcmFnRGVwdGgpOwpyZXR1cm47Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzdV09b3U7dmFyIHV1PSJidW1wRnJhZ21lbnQiLGZ1PWB2ZWMyIHV2T2Zmc2V0PXZlYzIoMC4wLDAuMCk7CiNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoREVUQUlMKQojaWZkZWYgTk9STUFMWFlTQ0FMRQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbGlmIGRlZmluZWQoQlVNUCkKZmxvYXQgbm9ybWFsU2NhbGU9dkJ1bXBJbmZvcy55OwojZWxzZQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbmRpZgojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2VsaWYgZGVmaW5lZChCVU1QKQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkJ1bXBVViA6IC12QnVtcFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZUYW5nZW50U3BhY2VQYXJhbXMpOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkRldGFpbFVWIDogLXZEZXRhaWxVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZNYWluVVYxIDogLXZNYWluVVYxOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVyx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUEFSQUxMQVgKbWF0MyBpbnZUQk49dHJhbnNwb3NlTWF0MyhUQk4pOwojaWZkZWYgUEFSQUxMQVhPQ0NMVVNJT04KdXZPZmZzZXQ9cGFyYWxsYXhPY2NsdXNpb24oaW52VEJOKi12aWV3RGlyZWN0aW9uVyxpbnZUQk4qbm9ybWFsVyx2QnVtcFVWLHZCdW1wSW5mb3Mueik7CiNlbHNlCnV2T2Zmc2V0PXBhcmFsbGF4T2Zmc2V0KGludlRCTip2aWV3RGlyZWN0aW9uVyx2QnVtcEluZm9zLnopOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdmVjNCBkZXRhaWxDb2xvcj10ZXh0dXJlMkQoZGV0YWlsU2FtcGxlcix2RGV0YWlsVVYrdXZPZmZzZXQpOwp2ZWMyIGRldGFpbE5vcm1hbFJHPWRldGFpbENvbG9yLnd5KjIuMC0xLjA7CmZsb2F0IGRldGFpbE5vcm1hbEI9c3FydCgxLi1zYXR1cmF0ZShkb3QoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsUkcpKSk7CnZlYzMgZGV0YWlsTm9ybWFsPXZlYzMoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsQik7CiNlbmRpZgojaWZkZWYgQlVNUAojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCm5vcm1hbFc9bm9ybWFsaXplKHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS54eXogKjIuMC0xLjApOwpub3JtYWxXPW5vcm1hbGl6ZShtYXQzKG5vcm1hbE1hdHJpeCkqbm9ybWFsVyk7CiNlbGlmICFkZWZpbmVkKERFVEFJTCkKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsKFRCTix0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6LHZCdW1wSW5mb3MueSk7CiNlbHNlCnZlYzMgYnVtcE5vcm1hbD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6KjIuMC0xLjA7CiNpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTAgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CnZlYzMgYmxlbmRlZE5vcm1hbD1ub3JtYWxpemUodmVjMyhidW1wTm9ybWFsLnh5K2RldGFpbE5vcm1hbC54eSxidW1wTm9ybWFsLnoqZGV0YWlsTm9ybWFsLnopKTsKI2VsaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0xIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56OwpidW1wTm9ybWFsKz12ZWMzKDAuMCwwLjAsMS4wKTsKZGV0YWlsTm9ybWFsKj12ZWMzKC0xLjAsLTEuMCwxLjApOwp2ZWMzIGJsZW5kZWROb3JtYWw9YnVtcE5vcm1hbCpkb3QoYnVtcE5vcm1hbCxkZXRhaWxOb3JtYWwpL2J1bXBOb3JtYWwuei1kZXRhaWxOb3JtYWw7CiNlbmRpZgpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixibGVuZGVkTm9ybWFsLHZCdW1wSW5mb3MueSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKERFVEFJTCkKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sZGV0YWlsTm9ybWFsLHZEZXRhaWxJbmZvcy56KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1dV09ZnU7dmFyIGx1PSJkZXB0aFByZVBhc3MiLGh1PWAjaWZkZWYgREVQVEhQUkVQQVNTCmdsX0ZyYWdDb2xvcj12ZWM0KDAuLDAuLDAuLDEuMCk7CnJldHVybjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsdV09aHU7dmFyIGN1PSJsaWdodEZyYWdtZW50IixkdT1gI2lmZGVmIExJR0hUe1h9CiNpZiBkZWZpbmVkKFNIQURPV09OTFkpIHx8IGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkgJiYgZGVmaW5lZChMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0pCiNlbHNlCiNpZmRlZiBQQlIKI2lmZGVmIFNQT1RMSUdIVHtYfQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZUhlbWlzcGhlcmljUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoRElSTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZURpcmVjdGlvbmFsUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbmRpZgpwcmVJbmZvLk5kb3RWPU5kb3RWOwojaWZkZWYgU1BPVExJR0hUe1h9CiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9HTFRGKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfUGh5c2ljYWwobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VuZGlmCiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249MS4wOwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1yb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMocm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNpZmRlZiBJUklERVNDRU5DRQpwcmVJbmZvLmlyaWRlc2NlbmNlSW50ZW5zaXR5PWlyaWRlc2NlbmNlSW50ZW5zaXR5OwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQppbmZvLmRpZmZ1c2U9Y29tcHV0ZUhlbWlzcGhlcmljRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kKTsKI2VsaWYgZGVmaW5lZChTU19UUkFOU0xVQ0VOQ1kpCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUFuZFRyYW5zbWl0dGVkTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixzdWJTdXJmYWNlT3V0LnRyYW5zbWl0dGFuY2UpOwojZWxzZQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIEFOSVNPVFJPUElDCmluZm8uc3BlY3VsYXI9Y29tcHV0ZUFuaXNvdHJvcGljU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNUYW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljQml0YW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcHksY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2Vsc2UKaW5mby5zcGVjdWxhcj1jb21wdXRlU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmZGVmIFNIRUVOX0xJTktXSVRIQUxCRURPCnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuSW50ZW5zaXR5OwojZWxzZQojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuUm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHNoZWVuT3V0LnNoZWVuUm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNlbmRpZgppbmZvLnNoZWVuPWNvbXB1dGVTaGVlbkxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxzaGVlbk91dC5zaGVlbkNvbG9yLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPWNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgppbmZvLmNsZWFyQ29hdD1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmcocHJlSW5mbyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0QUFSb3VnaG5lc3NGYWN0b3JzLngsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNpZmRlZiBDTEVBUkNPQVRfVElOVAphYnNvcnB0aW9uPWNvbXB1dGVDbGVhckNvYXRMaWdodGluZ0Fic29ycHRpb24oY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5kb3RWUmVmcmFjdCxwcmVJbmZvLkwsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdENvbG9yLGNsZWFyY29hdE91dC5jbGVhckNvYXRUaGlja25lc3MsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSk7CmluZm8uZGlmZnVzZSo9YWJzb3JwdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1hYnNvcnB0aW9uOwojZW5kaWYKI2VuZGlmCmluZm8uZGlmZnVzZSo9aW5mby5jbGVhckNvYXQudzsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2lmZGVmIFNIRUVOCmluZm8uc2hlZW4qPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNQT1RMSUdIVHtYfQppbmZvPWNvbXB1dGVTcG90TGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbixsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKaW5mbz1jb21wdXRlSGVtaXNwaGVyaWNMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KSB8fCBkZWZpbmVkKERJUkxJR0hUe1h9KQppbmZvPWNvbXB1dGVMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CmluZm8uZGlmZnVzZSo9Y29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH0sdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH0pOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQpmb3IgKGludCBpPTA7IGk8U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9OyBpKyspIAp7CiNpZmRlZiBTSEFET1dDU01fUklHSFRIQU5ERUR7WH0KZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0rdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZWxzZQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXS12UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbmRpZgppZiAoZGlmZntYfT49MC4pIHsKaW5kZXh7WH09aTsKYnJlYWs7Cn0KfQojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppZiAoaW5kZXh7WH0+PTApCiNlbmRpZgp7CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT12ZWMzKHNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XTsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XQ1NNTk9CTEVORHtYfQpmbG9hdCBmcnVzdHVtTGVuZ3RoPWZydXN0dW1MZW5ndGhze1h9W2luZGV4e1h9XTsKZmxvYXQgZGlmZlJhdGlvPWNsYW1wKGRpZmZ7WH0vZnJ1c3R1bUxlbmd0aCwwLiwxLikqY2FzY2FkZUJsZW5kRmFjdG9ye1h9OwppZiAoaW5kZXh7WH08KFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xKSAmJiBkaWZmUmF0aW88MS4pCnsKaW5kZXh7WH0rPTE7CmZsb2F0IG5leHRTaGFkb3c9MC47CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgpzaGFkb3c9bWl4KG5leHRTaGFkb3csc2hhZG93LGRpZmZSYXRpbyk7CiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT1taXgodmVjMyhuZXh0U2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dLHNoYWRvd0RlYnVne1h9LGRpZmZSYXRpbyk7CiNlbmRpZgp9CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9XQ0xPU0VFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV0VTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQT0lTU09Oe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxzZQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3codlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV09OTFkKI2lmbmRlZiBTSEFET1dJTlVTRQojZGVmaW5lIFNIQURPV0lOVVNFCiNlbmRpZgpnbG9iYWxTaGFkb3crPXNoYWRvdzsKc2hhZG93TGlnaHRDb3VudCs9MS4wOwojZW5kaWYKI2Vsc2UKc2hhZG93PTEuOwojZW5kaWYKI2lmbmRlZiBTSEFET1dPTkxZCiNpZmRlZiBDVVNUT01VU0VSTElHSFRJTkcKZGlmZnVzZUJhc2UrPWNvbXB1dGVDdXN0b21EaWZmdXNlTGlnaHRpbmcoaW5mbyxkaWZmdXNlQmFzZSxzaGFkb3cpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9Y29tcHV0ZUN1c3RvbVNwZWN1bGFyTGlnaHRpbmcoaW5mbyxzcGVjdWxhckJhc2Usc2hhZG93KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkKZGlmZnVzZUJhc2UrPWxpZ2h0bWFwQ29sb3IucmdiKnNoYWRvdzsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0KY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93RGVidWd7WH07CiNlbHNlIApkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTSEVFTgpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtjdV09ZHU7dmFyIHB1PSJsb2dEZXB0aEZyYWdtZW50IixfdT1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKZ2xfRnJhZ0RlcHRoRVhUPWxvZzIodkZyYWdtZW50RGVwdGgpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudCowLjU7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcHVdPV91O3ZhciBndT0iZm9nRnJhZ21lbnQiLHZ1PWAjaWZkZWYgRk9HCmZsb2F0IGZvZz1DYWxjRm9nRmFjdG9yKCk7CiNpZmRlZiBQQlIKZm9nPXRvTGluZWFyU3BhY2UoZm9nKTsKI2VuZGlmCmNvbG9yLnJnYj1taXgodkZvZ0NvbG9yLGNvbG9yLnJnYixmb2cpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2d1XT12dTt2YXIgbXU9ImRlZmF1bHRQaXhlbFNoYWRlciIseXU9YCNpbmNsdWRlPF9fZGVjbF9fZGVmYXVsdEZyYWdtZW50PgojaWYgZGVmaW5lZChCVU1QKSB8fCAhZGVmaW5lZChOT1JNQUwpCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCiNlbmRpZgojaW5jbHVkZTxwcmVQYXNzRGVjbGFyYXRpb24+W1NDRU5FX01SVF9DT1VOVF0KI2luY2x1ZGU8b2l0RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOCiNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUKI2VuZGlmCiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfU0FNUExFUk5BTUVfLGRpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQsX1NBTVBMRVJOQU1FXyxhbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9TQU1QTEVSTkFNRV8sb3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9TQU1QTEVSTkFNRV8sZW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfU0FNUExFUk5BTUVfLGxpZ2h0bWFwKQojaWZkZWYgUkVGUkFDVElPTgojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZnJhY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmcmFjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfU0FNUExFUk5BTUVfLHNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8ZnJlc25lbEZ1bmN0aW9uPgojaWZkZWYgUkVGTEVDVElPTgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZmxlY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmbGVjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZWxzZQojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8cmVmbGVjdGlvbkZ1bmN0aW9uPgojZW5kaWYKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24+CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPG9pdEZyYWdtZW50PgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKdmVjNCBiYXNlQ29sb3I9dmVjNCgxLiwxLiwxLiwxLik7CnZlYzMgZGlmZnVzZUNvbG9yPXZEaWZmdXNlQ29sb3IucmdiOwpmbG9hdCBhbHBoYT12RGlmZnVzZUNvbG9yLmE7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUoLWNyb3NzKGRGZHgodlBvc2l0aW9uVyksZEZkeSh2UG9zaXRpb25XKSkpOwojZW5kaWYKI2luY2x1ZGU8YnVtcEZyYWdtZW50PgojaWZkZWYgVFdPU0lERURMSUdIVElORwpub3JtYWxXPWdsX0Zyb250RmFjaW5nID8gbm9ybWFsVyA6IC1ub3JtYWxXOwojZW5kaWYKI2lmZGVmIERJRkZVU0UKYmFzZUNvbG9yPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2RGlmZnVzZVVWK3V2T2Zmc2V0KTsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSAmJiAhZGVmaW5lZChBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUykKaWYgKGJhc2VDb2xvci5hPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIEFMUEhBRlJPTURJRkZVU0UKYWxwaGEqPWJhc2VDb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBCmJhc2VDb2xvci5yZ2IqPXZEaWZmdXNlSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGRlcHRoUHJlUGFzcz4KI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCmJhc2VDb2xvci5yZ2IqPXZDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgREVUQUlMCmJhc2VDb2xvci5yZ2I9YmFzZUNvbG9yLnJnYioyLjAqbWl4KDAuNSxkZXRhaWxDb2xvci5yLHZEZXRhaWxJbmZvcy55KTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFCnZlYzMgYmFzZUFtYmllbnRDb2xvcj12ZWMzKDEuLDEuLDEuKTsKI2lmZGVmIEFNQklFTlQKYmFzZUFtYmllbnRDb2xvcj10ZXh0dXJlMkQoYW1iaWVudFNhbXBsZXIsdkFtYmllbnRVVit1dk9mZnNldCkucmdiKnZBbWJpZW50SW5mb3MueTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMKI2lmZGVmIFNQRUNVTEFSVEVSTQpmbG9hdCBnbG9zc2luZXNzPXZTcGVjdWxhckNvbG9yLmE7CnZlYzMgc3BlY3VsYXJDb2xvcj12U3BlY3VsYXJDb2xvci5yZ2I7CiNpZmRlZiBTUEVDVUxBUgp2ZWM0IHNwZWN1bGFyTWFwQ29sb3I9dGV4dHVyZTJEKHNwZWN1bGFyU2FtcGxlcix2U3BlY3VsYXJVVit1dk9mZnNldCk7CnNwZWN1bGFyQ29sb3I9c3BlY3VsYXJNYXBDb2xvci5yZ2I7CiNpZmRlZiBHTE9TU0lORVNTCmdsb3NzaW5lc3M9Z2xvc3NpbmVzcypzcGVjdWxhck1hcENvbG9yLmE7CiNlbmRpZgojZW5kaWYKI2Vsc2UKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXJCYXNlPXZlYzMoMC4sMC4sMC4pOwojZW5kaWYKZmxvYXQgc2hhZG93PTEuOwojaWZkZWYgTElHSFRNQVAKdmVjNCBsaWdodG1hcENvbG9yPXRleHR1cmUyRChsaWdodG1hcFNhbXBsZXIsdkxpZ2h0bWFwVVYrdXZPZmZzZXQpOwojaWZkZWYgUkdCRExJR0hUTUFQCmxpZ2h0bWFwQ29sb3IucmdiPWZyb21SR0JEKGxpZ2h0bWFwQ29sb3IpOwojZW5kaWYKbGlnaHRtYXBDb2xvci5yZ2IqPXZMaWdodG1hcEluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCnZlYzQgcmVmcmFjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGUkFDVElPTgp2ZWMzIHJlZnJhY3Rpb25WZWN0b3I9bm9ybWFsaXplKHJlZnJhY3QoLXZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsdlJlZnJhY3Rpb25JbmZvcy55KSk7CiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECiNpZmRlZiBVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQwpyZWZyYWN0aW9uVmVjdG9yPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh2UG9zaXRpb25XLHJlZnJhY3Rpb25WZWN0b3IsdlJlZnJhY3Rpb25TaXplLHZSZWZyYWN0aW9uUG9zaXRpb24pOwojZW5kaWYKcmVmcmFjdGlvblZlY3Rvci55PXJlZnJhY3Rpb25WZWN0b3IueSp2UmVmcmFjdGlvbkluZm9zLnc7CmlmIChkb3QocmVmcmFjdGlvblZlY3Rvcix2aWV3RGlyZWN0aW9uVyk8MS4wKSB7CnJlZnJhY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZyYWN0aW9uQ3ViZVNhbXBsZXIscmVmcmFjdGlvblZlY3Rvcik7Cn0KI2Vsc2UKdmVjMyB2UmVmcmFjdGlvblVWVz12ZWMzKHJlZnJhY3Rpb25NYXRyaXgqKHZpZXcqdmVjNCh2UG9zaXRpb25XK3JlZnJhY3Rpb25WZWN0b3IqdlJlZnJhY3Rpb25JbmZvcy56LDEuMCkpKTsKdmVjMiByZWZyYWN0aW9uQ29vcmRzPXZSZWZyYWN0aW9uVVZXLnh5L3ZSZWZyYWN0aW9uVVZXLno7CnJlZnJhY3Rpb25Db29yZHMueT0xLjAtcmVmcmFjdGlvbkNvb3Jkcy55OwpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZnJhY3Rpb24yRFNhbXBsZXIscmVmcmFjdGlvbkNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRlJBQ1RJT04KcmVmcmFjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZyYWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRlJBQ1RJT05fTElORUFSCnJlZnJhY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZnJhY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmcmFjdGlvbkNvbG9yLnJnYio9dlJlZnJhY3Rpb25JbmZvcy54OwojZW5kaWYKdmVjNCByZWZsZWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgdlJlZmxlY3Rpb25VVlc9Y29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCh2UG9zaXRpb25XLDEuMCksbm9ybWFsVyk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX09QUE9TSVRFWgp2UmVmbGVjdGlvblVWVy56Kj0tMS4wOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfM0QKI2lmZGVmIFJPVUdITkVTUwpmbG9hdCBiaWFzPXZSZWZsZWN0aW9uSW5mb3MueTsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgU1BFQ1VMQVIKI2lmZGVmIEdMT1NTSU5FU1MKYmlhcyo9KDEuMC1zcGVjdWxhck1hcENvbG9yLmEpOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXLGJpYXMpOwojZWxzZQpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXKTsKI2VuZGlmCiNlbHNlCnZlYzIgY29vcmRzPXZSZWZsZWN0aW9uVVZXLnh5OwojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCmNvb3Jkcy89dlJlZmxlY3Rpb25VVlcuejsKI2VuZGlmCmNvb3Jkcy55PTEuMC1jb29yZHMueTsKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZsZWN0aW9uMkRTYW1wbGVyLGNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRkxFQ1RJT04KcmVmbGVjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZsZWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRkxFQ1RJT05fTElORUFSCnJlZmxlY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZmxlY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmbGVjdGlvbkNvbG9yLnJnYio9dlJlZmxlY3Rpb25JbmZvcy54OwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKZmxvYXQgcmVmbGVjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZmxlY3Rpb25SaWdodENvbG9yLmEscmVmbGVjdGlvbkxlZnRDb2xvci5hKTsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSCiNpZmRlZiBTUEVDVUxBUlRFUk0KcmVmbGVjdGlvbkNvbG9yLnJnYio9c3BlY3VsYXJDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTApmbG9hdCByZWZyYWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmcmFjdGlvblJpZ2h0Q29sb3IuYSxyZWZyYWN0aW9uTGVmdENvbG9yLmEpOwpyZWZyYWN0aW9uQ29sb3IucmdiKj1yZWZyYWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZnJhY3Rpb25GcmVzbmVsVGVybSkrcmVmcmFjdGlvbkZyZXNuZWxUZXJtKnJlZnJhY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnZlYzQgb3BhY2l0eU1hcD10ZXh0dXJlMkQob3BhY2l0eVNhbXBsZXIsdk9wYWNpdHlVVit1dk9mZnNldCk7CiNpZmRlZiBPUEFDSVRZUkdCCm9wYWNpdHlNYXAucmdiPW9wYWNpdHlNYXAucmdiKnZlYzMoMC4zLDAuNTksMC4xMSk7CmFscGhhKj0ob3BhY2l0eU1hcC54K29wYWNpdHlNYXAueStvcGFjaXR5TWFwLnopKiB2T3BhY2l0eUluZm9zLnk7CiNlbHNlCmFscGhhKj1vcGFjaXR5TWFwLmEqdk9wYWNpdHlJbmZvcy55OwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWEFMUEhBKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQphbHBoYSo9dkNvbG9yLmE7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKZmxvYXQgb3BhY2l0eUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLG9wYWNpdHlQYXJ0cy56LG9wYWNpdHlQYXJ0cy53KTsKYWxwaGErPW9wYWNpdHlQYXJ0cy54KigxLjAtb3BhY2l0eUZyZXNuZWxUZXJtKStvcGFjaXR5RnJlc25lbFRlcm0qb3BhY2l0eVBhcnRzLnk7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUwppZiAoYWxwaGE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZuZGVmIEFMUEhBQkxFTkQKYWxwaGE9MS4wOwojZW5kaWYKI2VuZGlmCnZlYzMgZW1pc3NpdmVDb2xvcj12RW1pc3NpdmVDb2xvcjsKI2lmZGVmIEVNSVNTSVZFCmVtaXNzaXZlQ29sb3IrPXRleHR1cmUyRChlbWlzc2l2ZVNhbXBsZXIsdkVtaXNzaXZlVVYrdXZPZmZzZXQpLnJnYip2RW1pc3NpdmVJbmZvcy55OwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTApmbG9hdCBlbWlzc2l2ZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGVtaXNzaXZlUmlnaHRDb2xvci5hLGVtaXNzaXZlTGVmdENvbG9yLmEpOwplbWlzc2l2ZUNvbG9yKj1lbWlzc2l2ZUxlZnRDb2xvci5yZ2IqKDEuMC1lbWlzc2l2ZUZyZXNuZWxUZXJtKStlbWlzc2l2ZUZyZXNuZWxUZXJtKmVtaXNzaXZlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKZmxvYXQgZGlmZnVzZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGRpZmZ1c2VSaWdodENvbG9yLmEsZGlmZnVzZUxlZnRDb2xvci5hKTsKZGlmZnVzZUJhc2UqPWRpZmZ1c2VMZWZ0Q29sb3IucmdiKigxLjAtZGlmZnVzZUZyZXNuZWxUZXJtKStkaWZmdXNlRnJlc25lbFRlcm0qZGlmZnVzZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKI2lmZGVmIExJTktFTUlTU0lWRVdJVEhESUZGVVNFCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKChkaWZmdXNlQmFzZStlbWlzc2l2ZUNvbG9yKSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrZW1pc3NpdmVDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGZpbmFsU3BlY3VsYXI9c3BlY3VsYXJCYXNlKnNwZWN1bGFyQ29sb3I7CiNpZmRlZiBTUEVDVUxBUk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QoZmluYWxTcGVjdWxhcix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojZWxzZQp2ZWMzIGZpbmFsU3BlY3VsYXI9dmVjMygwLjApOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05PVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KHJlZmxlY3Rpb25Db2xvci5yZ2IsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjNCBjb2xvcj12ZWM0KGNsYW1wKGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYitlbWlzc2l2ZUNvbG9yK3JlZnJhY3Rpb25Db2xvci5yZ2IsMC4wLDEuMCksYWxwaGEpOwojZWxzZQp2ZWM0IGNvbG9yPXZlYzQoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK3JlZnJhY3Rpb25Db2xvci5yZ2IsYWxwaGEpOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCiNpZm5kZWYgTElHSFRNQVBFWENMVURFRAojaWZkZWYgVVNFTElHSFRNQVBBU1NIQURPV01BUApjb2xvci5yZ2IqPWxpZ2h0bWFwQ29sb3IucmdiOwojZWxzZQpjb2xvci5yZ2IrPWxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HCmNvbG9yLnJnYj1tYXgoY29sb3IucmdiLDAuKTsKI2luY2x1ZGU8bG9nRGVwdGhGcmFnbWVudD4KI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CiNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwojZWxzZQojaWZkZWYgSU1BR0VQUk9DRVNTSU5HCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CmNvbG9yPWFwcGx5SW1hZ2VQcm9jZXNzaW5nKGNvbG9yKTsKI2VuZGlmCiNlbmRpZgpjb2xvci5hKj12aXNpYmlsaXR5OwojaWZkZWYgUFJFTVVMVElQTFlBTFBIQQpjb2xvci5yZ2IqPWNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SCiNpZmRlZiBQUkVQQVNTCmZsb2F0IHdyaXRlR2VvbWV0cnlJbmZvPWNvbG9yLmE+MC40ID8gMS4wIDogMC4wOwpnbF9GcmFnRGF0YVswXT1jb2xvcjsgCiNpZmRlZiBQUkVQQVNTX1BPU0lUSU9OCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUE9TSVRJT05fSU5ERVhdPXZlYzQodlBvc2l0aW9uVyx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2ZWMyIGE9KHZDdXJyZW50UG9zaXRpb24ueHkvdkN1cnJlbnRQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIGI9KHZQcmV2aW91c1Bvc2l0aW9uLnh5L3ZQcmV2aW91c1Bvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgdmVsb2NpdHk9YWJzKGEtYik7CnZlbG9jaXR5PXZlYzIocG93KHZlbG9jaXR5LngsMS4wLzMuMCkscG93KHZlbG9jaXR5LnksMS4wLzMuMCkpKnNpZ24oYS1iKSowLjUrMC41OwpnbF9GcmFnRGF0YVtQUkVQQVNTX1ZFTE9DSVRZX0lOREVYXT12ZWM0KHZlbG9jaXR5LDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19JUlJBRElBTkNFCmdsX0ZyYWdEYXRhW1BSRVBBU1NfSVJSQURJQU5DRV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfREVQVEgKZ2xfRnJhZ0RhdGFbUFJFUEFTU19ERVBUSF9JTkRFWF09dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX05PUk1BTApnbF9GcmFnRGF0YVtQUkVQQVNTX05PUk1BTF9JTkRFWF09dmVjNCgodmlldyp2ZWM0KG5vcm1hbFcsMC4wKSkucmdiLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19BTEJFRE9fU1FSVApnbF9GcmFnRGF0YVtQUkVQQVNTX0FMQkVET19TUVJUX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19SRUZMRUNUSVZJVFkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaWYgZGVmaW5lZChTUEVDVUxBUikKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoc3BlY3VsYXJNYXBDb2xvcikqd3JpdGVHZW9tZXRyeUluZm87IAojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNChzcGVjdWxhckNvbG9yLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWYgIWRlZmluZWQoUFJFUEFTUykgfHwgZGVmaW5lZChXRUJHTDIpCmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2VuZGlmCiNpZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKaWYgKGZyYWdEZXB0aD09bmVhcmVzdERlcHRoKSB7CmZyb250Q29sb3IucmdiKz1jb2xvci5yZ2IqY29sb3IuYSphbHBoYU11bHRpcGxpZXI7CmZyb250Q29sb3IuYT0xLjAtYWxwaGFNdWx0aXBsaWVyKigxLjAtY29sb3IuYSk7Cn0gZWxzZSB7CmJhY2tDb2xvcis9Y29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVttdV09eXU7dmFyIGJ1PSJkZWZhdWx0VmVydGV4RGVjbGFyYXRpb24iLEV1PWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gbWF0NCB2aWV3OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIG1hdDQgYW1iaWVudE1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp1bmlmb3JtIG1hdDQgb3BhY2l0eU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwp1bmlmb3JtIG1hdDQgZW1pc3NpdmVNYXRyaXg7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwp1bmlmb3JtIG1hdDQgbGlnaHRtYXBNYXRyaXg7CiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKdW5pZm9ybSBtYXQ0IHNwZWN1bGFyTWF0cml4OwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gbWF0NCBidW1wTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwp1bmlmb3JtIG1hdDQgZGV0YWlsTWF0cml4OwojZW5kaWYKI2RlZmluZSBBRERJVElPTkFMX1ZFUlRFWF9ERUNMQVJBVElPTgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYnVdPUV1O3ZhciBUdT0idXZBdHRyaWJ1dGVEZWNsYXJhdGlvbiIsU3U9YCNpZmRlZiBVVntYfQphdHRyaWJ1dGUgdmVjMiB1dntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtUdV09U3U7dmFyIE11PSJwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24iLEF1PWAjaWZkZWYgUFJFUEFTUwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp1bmlmb3JtIG1hdDQgcHJldmlvdXNWaWV3UHJvamVjdGlvbjsKdmFyeWluZyB2ZWM0IHZDdXJyZW50UG9zaXRpb247CnZhcnlpbmcgdmVjNCB2UHJldmlvdXNQb3NpdGlvbjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTXVdPUF1O3ZhciBSdT0ic2FtcGxlclZlcnRleERlY2xhcmF0aW9uIixQdT1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtSdV09UHU7dmFyIEN1PSJidW1wVmVydGV4RGVjbGFyYXRpb24iLHh1PWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtDdV09eHU7dmFyIER1PSJmb2dWZXJ0ZXhEZWNsYXJhdGlvbiIsSXU9YCNpZmRlZiBGT0cKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtEdV09SXU7dmFyIE91PSJsaWdodFZ4RnJhZ21lbnREZWNsYXJhdGlvbiIsRnU9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtPdV09RnU7dmFyIHd1PSJsaWdodFZ4VWJvRGVjbGFyYXRpb24iLEx1PWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3d1XT1MdTt2YXIgTnU9InByZVBhc3NWZXJ0ZXgiLEJ1PWAjaWZkZWYgUFJFUEFTU19ERVBUSAp2Vmlld1Bvcz0odmlldyp3b3JsZFBvcykucmdiOwojZW5kaWYKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgJiYgZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAptYXQ0IHByZXZpb3VzSW5mbHVlbmNlOwpwcmV2aW91c0luZmx1ZW5jZT1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1sxXSldKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnByZXZpb3VzSW5mbHVlbmNlKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbHNlCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW051XT1CdTt2YXIgVXU9InV2VmFyaWFibGVEZWNsYXJhdGlvbiIsVnU9YCNpZiAhZGVmaW5lZChVVntYfSkgJiYgZGVmaW5lZChNQUlOVVZ7WH0pCnZlYzIgdXZ7WH09dmVjMigwLiwwLik7CiNlbmRpZgojaWZkZWYgTUFJTlVWe1h9CnZNYWluVVZ7WH09dXZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbVXVdPVZ1O3ZhciBrdT0ic2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uIixXdT1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAppZiAodl9JTkZPTkFNRV89PTAuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwp9CiNpZmRlZiBVVjIKZWxzZSBpZiAodl9JTkZPTkFNRV89PTEuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVYzCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0yLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYzLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNAplbHNlIGlmICh2X0lORk9OQU1FXz09My4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NCwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjUKZWxzZSBpZiAodl9JTkZPTkFNRV89PTQuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djUsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY2CmVsc2UgaWYgKHZfSU5GT05BTUVfPT01LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY2LDEuMCwwLjApKTsKfQojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrdV09V3U7dmFyIHp1PSJidW1wVmVydGV4IixHdT1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCnZlYzMgdGJuTm9ybWFsPW5vcm1hbGl6ZShub3JtYWxVcGRhdGVkKTsKdmVjMyB0Ym5UYW5nZW50PW5vcm1hbGl6ZSh0YW5nZW50VXBkYXRlZC54eXopOwp2ZWMzIHRibkJpdGFuZ2VudD1jcm9zcyh0Ym5Ob3JtYWwsdGJuVGFuZ2VudCkqdGFuZ2VudFVwZGF0ZWQudzsKdlRCTj1tYXQzKGZpbmFsV29ybGQpKm1hdDModGJuVGFuZ2VudCx0Ym5CaXRhbmdlbnQsdGJuTm9ybWFsKTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbenVdPUd1O3ZhciBYdT0iZm9nVmVydGV4IixIdT1gI2lmZGVmIEZPRwp2Rm9nRGlzdGFuY2U9KHZpZXcqd29ybGRQb3MpLnh5ejsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtYdV09SHU7dmFyIGp1PSJzaGFkb3dzVmVydGV4IixLdT1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoU0hBRE9XQ1NNe1h9KQp2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9PXZpZXcqd29ybGRQb3M7CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgewp2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV09bGlnaHRNYXRyaXh7WH1baV0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH1baV09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH1baV09KHZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9Xe1h9KSAmJiAhZGVmaW5lZChTSEFET1dDVUJFe1h9KQp2UG9zaXRpb25Gcm9tTGlnaHR7WH09bGlnaHRNYXRyaXh7WH0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH09KHZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtqdV09S3U7dmFyIFl1PSJ2ZXJ0ZXhDb2xvck1peGluZyIsWnU9YCNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQp2Q29sb3I9dmVjNCgxLjApOwojaWZkZWYgVkVSVEVYQ09MT1IKI2lmZGVmIFZFUlRFWEFMUEhBCnZDb2xvcio9Y29sb3I7CiNlbHNlCnZDb2xvci5yZ2IqPWNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKdkNvbG9yKj1pbnN0YW5jZUNvbG9yOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtZdV09WnU7dmFyIHF1PSJwb2ludENsb3VkVmVydGV4IixRdT1gI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcXVdPVF1O3ZhciAkdT0ibG9nRGVwdGhWZXJ0ZXgiLEp1PWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp2RnJhZ21lbnREZXB0aD0xLjArZ2xfUG9zaXRpb24udzsKZ2xfUG9zaXRpb24uej1sb2cyKG1heCgwLjAwMDAwMSx2RnJhZ21lbnREZXB0aCkpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVskdV09SnU7dmFyIGVmPSJkZWZhdWx0VmVydGV4U2hhZGVyIix0Zj1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0VmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4KYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKYXR0cmlidXRlIHZlYzQgdGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaW5jbHVkZTx1dkF0dHJpYnV0ZURlY2xhcmF0aW9uPlsyLi43XQojaWZkZWYgVkVSVEVYQ09MT1IKYXR0cmlidXRlIHZlYzQgY29sb3I7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwKQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCkKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxidW1wVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodFZ4RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uPlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdmFyeWluZyB2ZWMzIHZEaXJlY3Rpb25XOwojZW5kaWYKI2luY2x1ZGU8bG9nRGVwdGhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVXBkYXRlZD1ub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAp2ZWM0IHRhbmdlbnRVcGRhdGVkPXRhbmdlbnQ7CiNlbmRpZgojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZQb3NpdGlvblVWVz1wb3NpdGlvblVwZGF0ZWQ7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2lmIGRlZmluZWQoUFJFUEFTUykgJiYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiAhZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKmZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpZmRlZiBOT1JNQUwKbWF0MyBub3JtYWxXb3JsZD1tYXQzKGZpbmFsV29ybGQpOwojaWYgZGVmaW5lZChJTlNUQU5DRVMpICYmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpCnZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybWFsV29ybGRbMF0sbm9ybWFsV29ybGRbMF0pLGRvdChub3JtYWxXb3JsZFsxXSxub3JtYWxXb3JsZFsxXSksZG90KG5vcm1hbFdvcmxkWzJdLG5vcm1hbFdvcmxkWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtYWxXb3JsZD10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1hbFdvcmxkKSk7CiNlbmRpZgp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUwojaWZkZWYgTVVMVElWSUVXCmlmIChnbF9WaWV3SURfT1ZSPT0wdSkgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKfSBlbHNlIHsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb25SKndvcmxkUG9zOwp9CiNlbHNlCmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojZW5kaWYKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2luY2x1ZGU8cHJlUGFzc1ZlcnRleD4KI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdkRpcmVjdGlvblc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwwLjApKSk7CiNlbmRpZgojaWZuZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVYxCnZNYWluVVYxPXV2VXBkYXRlZDsKI2VuZGlmCiNpbmNsdWRlPHV2VmFyaWFibGVEZWNsYXJhdGlvbj5bMi4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX01BVFJJWE5BTUVfLGRpZmZ1c2UsX0lORk9OQU1FXyxEaWZmdXNlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9NQVRSSVhOQU1FXyxkZXRhaWwsX0lORk9OQU1FXyxEZXRhaWxJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfTUFUUklYTkFNRV8sYW1iaWVudCxfSU5GT05BTUVfLEFtYmllbnRJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfTUFUUklYTkFNRV8sb3BhY2l0eSxfSU5GT05BTUVfLE9wYWNpdHlJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9NQVRSSVhOQU1FXyxlbWlzc2l2ZSxfSU5GT05BTUVfLEVtaXNzaXZlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfTUFUUklYTkFNRV8sbGlnaHRtYXAsX0lORk9OQU1FXyxMaWdodG1hcEluZm9zLngpCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfTUFUUklYTkFNRV8sc3BlY3VsYXIsX0lORk9OQU1FXyxTcGVjdWxhckluZm9zLngpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfTUFUUklYTkFNRV8sYnVtcCxfSU5GT05BTUVfLEJ1bXBJbmZvcy54KQojaW5jbHVkZTxidW1wVmVydGV4PgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTx2ZXJ0ZXhDb2xvck1peGluZz4KI2luY2x1ZGU8cG9pbnRDbG91ZFZlcnRleD4KI2luY2x1ZGU8bG9nRGVwdGhWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbZWZdPXRmO3ZhciByZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fcGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cz1bXSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMuX3NjZW5lPWUuZ2V0U2NlbmUoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9cmV0dXJuIGkucHJvdG90eXBlLl9hZGRQbHVnaW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZS5uYW1lKXRocm93J1BsdWdpbiAiJy5jb25jYXQoZS5uYW1lLCciIGFscmVhZHkgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICInKS5jb25jYXQodGhpcy5fbWF0ZXJpYWwubmFtZSwnIiEnKTtpZih0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0KXRocm93J1RoZSBwbHVnaW4gIicuY29uY2F0KGUubmFtZSxgIiBjYW4ndCBiZSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgImApLmNvbmNhdCh0aGlzLl9tYXRlcmlhbC5uYW1lLCciIGJlY2F1c2UgdGhpcyBtYXRlcmlhbCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgZm9yIHJlbmRlcmluZyEgUGxlYXNlIGFkZCBwbHVnaW5zIHRvIG1hdGVyaWFscyBiZWZvcmUgYW55IHJlbmRlcmluZyB3aXRoIHRoaXMgbWF0ZXJpYWwgb2NjdXJzLicpO3ZhciByPWUuZ2V0Q2xhc3NOYW1lKCk7aS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVtyXXx8KGkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbcl09Ik1BVEVSSUFMUExVR0lOXyIrICsraS5fTWF0ZXJpYWxQbHVnaW5Db3VudGVyKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnQuYmluZCh0aGlzKSx0aGlzLl9wbHVnaW5zLnB1c2goZSksdGhpcy5fcGx1Z2lucy5zb3J0KGZ1bmN0aW9uKHUsZil7cmV0dXJuIHUucHJpb3JpdHktZi5wcmlvcml0eX0pLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHM9e307dmFyIG49e307bltpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3JdXT17dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMH07Zm9yKHZhciBhPTAscz10aGlzLl9wbHVnaW5zO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uY29sbGVjdERlZmluZXMobiksdGhpcy5fY29sbGVjdFBvaW50TmFtZXMoInZlcnRleCIsby5nZXRDdXN0b21Db2RlKCJ2ZXJ0ZXgiKSksdGhpcy5fY29sbGVjdFBvaW50TmFtZXMoImZyYWdtZW50IixvLmdldEN1c3RvbUNvZGUoImZyYWdtZW50IikpfXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM9bn0saS5wcm90b3R5cGUuX2FjdGl2YXRlUGx1Z2luPWZ1bmN0aW9uKGUpe3RoaXMuX2FjdGl2ZVBsdWdpbnMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUGx1Z2lucy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnMuc29ydChmdW5jdGlvbih0LHIpe3JldHVybiB0LnByaW9yaXR5LXIucHJpb3JpdHl9KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2guYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSxlLnJlZ2lzdGVyRm9yRXh0cmFFdmVudHMmJih0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMuc29ydChmdW5jdGlvbih0LHIpe3JldHVybiB0LnByaW9yaXR5LXIucHJpb3JpdHl9KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcykpKX0saS5wcm90b3R5cGUuZ2V0UGx1Z2luPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcGx1Z2lucy5sZW5ndGg7Kyt0KWlmKHRoaXMuX3BsdWdpbnNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuX3BsdWdpbnNbdF07cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0hMCxyPTAsbj10aGlzLl9hY3RpdmVQbHVnaW5zO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO3Q9dCYmYS5pc1JlYWR5Rm9yU3ViTWVzaChlLmRlZmluZXMsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9ZS5pc1JlYWR5Rm9yU3ViTWVzaD10fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMuX2FjdGl2ZVBsdWdpbnM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5wcmVwYXJlRGVmaW5lcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX19LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX19LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfX0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSExLHI9MCxuPXRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZih0PWEuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSx0KWJyZWFrfWUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dH0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uZmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUucmVuZGVyVGFyZ2V0cyl9fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE7c3dpdGNoKGUpe2Nhc2UgRGUuR2V0QWN0aXZlVGV4dHVyZXM6e2Zvcih2YXIgcz10LG89MCx1PXRoaXMuX2FjdGl2ZVBsdWdpbnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5nZXRBY3RpdmVUZXh0dXJlcyhzLmFjdGl2ZVRleHR1cmVzKX1icmVha31jYXNlIERlLkdldEFuaW1hdGFibGVzOntmb3IodmFyIHM9dCxsPTAsaD10aGlzLl9hY3RpdmVQbHVnaW5zO2w8aC5sZW5ndGg7bCsrKXt2YXIgZj1oW2xdO2YuZ2V0QW5pbWF0YWJsZXMocy5hbmltYXRhYmxlcyl9YnJlYWt9Y2FzZSBEZS5IYXNUZXh0dXJlOntmb3IodmFyIHM9dCxjPSExLGQ9MCxwPXRoaXMuX2FjdGl2ZVBsdWdpbnM7ZDxwLmxlbmd0aDtkKyspe3ZhciBmPXBbZF07aWYoYz1mLmhhc1RleHR1cmUocy50ZXh0dXJlKSxjKWJyZWFrfXMuaGFzVGV4dHVyZT1jO2JyZWFrfWNhc2UgRGUuRGlzcG9zZWQ6e2Zvcih2YXIgcz10LGc9MCxfPXRoaXMuX3BsdWdpbnM7ZzxfLmxlbmd0aDtnKyspe3ZhciBmPV9bZ107Zi5kaXNwb3NlKHMuZm9yY2VEaXNwb3NlVGV4dHVyZXMpfWJyZWFrfWNhc2UgRGUuR2V0RGVmaW5lTmFtZXM6e3ZhciBzPXQ7cy5kZWZpbmVOYW1lcz10aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zO2JyZWFrfWNhc2UgRGUuUHJlcGFyZUVmZmVjdDp7Zm9yKHZhciBzPXQsdj0wLHk9dGhpcy5fYWN0aXZlUGx1Z2luczt2PHkubGVuZ3RoO3YrKyl7dmFyIGY9eVt2XTtzLmZhbGxiYWNrUmFuaz1mLmFkZEZhbGxiYWNrcyhzLmRlZmluZXMscy5mYWxsYmFja3Mscy5mYWxsYmFja1JhbmspfXRoaXMuX3VuaWZvcm1MaXN0Lmxlbmd0aD4wJiYocj1zLnVuaWZvcm1zKS5wdXNoLmFwcGx5KHIsdGhpcy5fdW5pZm9ybUxpc3QpLHRoaXMuX3NhbXBsZXJMaXN0Lmxlbmd0aD4wJiYobj1zLnNhbXBsZXJzKS5wdXNoLmFwcGx5KG4sdGhpcy5fc2FtcGxlckxpc3QpLHRoaXMuX3Vib0xpc3QubGVuZ3RoPjAmJihhPXMudW5pZm9ybUJ1ZmZlcnNOYW1lcykucHVzaC5hcHBseShhLHRoaXMuX3Vib0xpc3QpLHMuY3VzdG9tQ29kZT10aGlzLl9pbmplY3RDdXN0b21Db2RlKHMuY3VzdG9tQ29kZSk7YnJlYWt9Y2FzZSBEZS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcjp7dmFyIHM9dDt0aGlzLl91Ym9EZWNsYXJhdGlvbj0iIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbj0iIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uPSIiLHRoaXMuX3VuaWZvcm1MaXN0PVtdLHRoaXMuX3NhbXBsZXJMaXN0PVtdLHRoaXMuX3Vib0xpc3Q9W107Zm9yKHZhciBFPTAsUj10aGlzLl9wbHVnaW5zO0U8Ui5sZW5ndGg7RSsrKXt2YXIgZj1SW0VdLE09Zi5nZXRVbmlmb3JtcygpO2lmKE0pe2lmKE0udWJvKWZvcih2YXIgQz0wLEE9TS51Ym87QzxBLmxlbmd0aDtDKyspe3ZhciBTPUFbQ107cy51Ym8uYWRkVW5pZm9ybShTLm5hbWUsUy5zaXplKSx0aGlzLl91Ym9EZWNsYXJhdGlvbis9IiIuY29uY2F0KFMudHlwZSwiICIpLmNvbmNhdChTLm5hbWUsYDtccgpgKSx0aGlzLl91bmlmb3JtTGlzdC5wdXNoKFMubmFtZSl9TS52ZXJ0ZXgmJih0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbis9TS52ZXJ0ZXgrYFxyCmApLE0uZnJhZ21lbnQmJih0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKz1NLmZyYWdtZW50K2BccgpgKX1mLmdldFNhbXBsZXJzKHRoaXMuX3NhbXBsZXJMaXN0KSxmLmdldFVuaWZvcm1CdWZmZXJzTmFtZXModGhpcy5fdWJvTGlzdCl9YnJlYWt9fX0saS5wcm90b3R5cGUuX2NvbGxlY3RQb2ludE5hbWVzPWZ1bmN0aW9uKGUsdCl7aWYoISF0KWZvcih2YXIgciBpbiB0KXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV18fCh0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdPXt9KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdW3JdPSEwfSxpLnByb3RvdHlwZS5faW5qZWN0Q3VzdG9tQ29kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihyLG4pe3ZhciBhO2UmJihuPWUocixuKSksdC5fdWJvRGVjbGFyYXRpb24mJihuPW4ucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTiIsdC5fdWJvRGVjbGFyYXRpb24pKSx0Ll92ZXJ0ZXhEZWNsYXJhdGlvbiYmKG49bi5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OIix0Ll92ZXJ0ZXhEZWNsYXJhdGlvbikpLHQuX2ZyYWdtZW50RGVjbGFyYXRpb24mJihuPW4ucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OIix0Ll9mcmFnbWVudERlY2xhcmF0aW9uKSk7dmFyIHM9KGE9dC5fY29kZUluamVjdGlvblBvaW50cyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW3JdO2lmKCFzKXJldHVybiBuO2Zvcih2YXIgbyBpbiBzKXtmb3IodmFyIHU9IiIsZj0wLGw9dC5fYWN0aXZlUGx1Z2lucztmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXSxjPWguZ2V0Q3VzdG9tQ29kZShyKTtjIT1udWxsJiZjW29dJiYodSs9Y1tvXStgXHIKYCl9aWYodS5sZW5ndGg+MClpZihvLmNoYXJBdCgwKT09PSIhIilmb3IodmFyIGQ9bmV3IFJlZ0V4cChvLnN1YnN0cmluZygxKSwiZyIpLHA9ZC5leGVjKG4pO3AhPT1udWxsOyluPW4ucmVwbGFjZShwWzBdLHUpLHA9ZC5leGVjKG4pO2Vsc2V7dmFyIGc9IiNkZWZpbmUgIitvO249bi5yZXBsYWNlKGcsYFxyCmArdStgXHIKYCtnKX19cmV0dXJuIG59fSxpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LGkuX01hdGVyaWFsUGx1Z2luQ291bnRlcj0wLGl9KCksbmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLHRoaXMucHJpb3JpdHk9NTAwLHRoaXMucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cz0hMSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMubmFtZT10LHRoaXMucHJpb3JpdHk9cixlLnBsdWdpbk1hbmFnZXJ8fChlLnBsdWdpbk1hbmFnZXI9bmV3IHJmKGUpKSx0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcz1uLHRoaXMuX3BsdWdpbk1hbmFnZXI9ZS5wbHVnaW5NYW5hZ2VyLGEmJnRoaXMuX3BsdWdpbk1hbmFnZXIuX2FkZFBsdWdpbih0aGlzKSxzJiZ0aGlzLl9lbmFibGUoITApLHRoaXMubWFya0FsbERlZmluZXNBc0RpcnR5PWUuX2RpcnR5Q2FsbGJhY2tzWzYzXX1yZXR1cm4gaS5wcm90b3R5cGUuX2VuYWJsZT1mdW5jdGlvbihlKXtlJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hY3RpdmF0ZVBsdWdpbih0aGlzKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9LGkucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiEwfSxpLnByb3RvdHlwZS5oYXJkQmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbil7fSxpLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscixuKXt9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRDdXN0b21Db2RlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5jb2xsZWN0RGVmaW5lcz1mdW5jdGlvbihlKXtpZighIXRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKWZvcih2YXIgdD0wLHI9T2JqZWN0LmtleXModGhpcy5fcGx1Z2luRGVmaW5lTmFtZXMpO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG5bMF0hPT0iXyIpe3ZhciBhPXR5cGVvZiB0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1tuXTtlW25dPXt0eXBlOmE9PT0ibnVtYmVyIj8ibnVtYmVyIjphPT09InN0cmluZyI/InN0cmluZyI6YT09PSJib29sZWFuIj8iYm9vbGVhbiI6Im9iamVjdCIsZGVmYXVsdDp0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1tuXX19fX0saS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24oZSx0LHIpe30saS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbihlKXtyZXR1cm4hMX0saS5wcm90b3R5cGUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saS5wcm90b3R5cGUuZmlsbFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXM9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmFkZEZhbGxiYWNrcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHJ9LGkucHJvdG90eXBlLmdldFNhbXBsZXJzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmdldFVuaWZvcm1zPWZ1bmN0aW9uKCl7cmV0dXJue319LGkucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbihlKXtKLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIGV9LHRoaXMpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gSi5TZXJpYWxpemUodGhpcyl9LGkucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO0ouUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbn0sZSx0LHIpfSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInByaW9yaXR5Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInJlZ2lzdGVyRm9yRXh0cmFFdmVudHMiLHZvaWQgMCksaX0oKSxhZj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5ERVRBSUw9ITEsdC5ERVRBSUxESVJFQ1RVVj0wLHQuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPTAsdH1yZXR1cm4gZX0oeXIpLHNmPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7cj09PXZvaWQgMCYmKHI9ITApO3ZhciBuPWkuY2FsbCh0aGlzLHQsIkRldGFpbE1hcCIsMTQwLG5ldyBhZixyKXx8dGhpcztyZXR1cm4gbi5fdGV4dHVyZT1udWxsLG4uZGlmZnVzZUJsZW5kTGV2ZWw9MSxuLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSxuLmJ1bXBMZXZlbD0xLG4uX25vcm1hbEJsZW5kTWV0aG9kPUZlLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VULG4uX2lzRW5hYmxlZD0hMSxuLmlzRW5hYmxlZD0hMSxuLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9dC5fZGlydHlDYWxsYmFja3NbMV0sbn1yZXR1cm4gZS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGUodGhpcy5faXNFbmFibGVkKSx0aGlzLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX0sZS5wcm90b3R5cGUuaXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLl9pc0VuYWJsZWQ/ISh0Ll9hcmVUZXh0dXJlc0RpcnR5JiZyLnRleHR1cmVzRW5hYmxlZCYmbi5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fdGV4dHVyZSYmZGUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJiF0aGlzLl90ZXh0dXJlLmlzUmVhZHkoKSk6ITB9LGUucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKHQscil7aWYodGhpcy5faXNFbmFibGVkKXt0LkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZDt2YXIgbj1yLmdldEVuZ2luZSgpO3QuX2FyZVRleHR1cmVzRGlydHkmJihuLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZkZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdGhpcy5faXNFbmFibGVkPyhZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fdGV4dHVyZSx0LCJERVRBSUwiKSx0LkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZCk6dC5ERVRBSUw9ITEpfWVsc2UgdC5ERVRBSUw9ITF9LGUucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscil7aWYoISF0aGlzLl9pc0VuYWJsZWQpe3ZhciBuPXRoaXMuX21hdGVyaWFsLmlzRnJvemVuOyghdC51c2VVYm98fCFufHwhdC5pc1N5bmMpJiZ0aGlzLl90ZXh0dXJlJiZkZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmKHQudXBkYXRlRmxvYXQ0KCJ2RGV0YWlsSW5mb3MiLHRoaXMuX3RleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsLHRoaXMuYnVtcExldmVsLHRoaXMucm91Z2huZXNzQmxlbmRMZXZlbCksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl90ZXh0dXJlLHQsImRldGFpbCIpKSxyLnRleHR1cmVzRW5hYmxlZCYmdGhpcy5fdGV4dHVyZSYmZGUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJnQuc2V0VGV4dHVyZSgiZGV0YWlsU2FtcGxlciIsdGhpcy5fdGV4dHVyZSl9fSxlLnByb3RvdHlwZS5oYXNUZXh0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90ZXh0dXJlPT09dH0sZS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXM9ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSYmdC5wdXNoKHRoaXMuX3RleHR1cmUpfSxlLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3RleHR1cmUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3ZhciByO3QmJigocj10aGlzLl90ZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZGlzcG9zZSgpKX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkRldGFpbE1hcENvbmZpZ3VyYXRpb24ifSxlLnByb3RvdHlwZS5nZXRTYW1wbGVycz1mdW5jdGlvbih0KXt0LnB1c2goImRldGFpbFNhbXBsZXIiKX0sZS5wcm90b3R5cGUuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm57dWJvOlt7bmFtZToidkRldGFpbEluZm9zIixzaXplOjQsdHlwZToidmVjNCJ9LHtuYW1lOiJkZXRhaWxNYXRyaXgiLHNpemU6MTYsdHlwZToibWF0NCJ9XX19LFQoW0hlKCJkZXRhaWxUZXh0dXJlIiksbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ0ZXh0dXJlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VCbGVuZExldmVsIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInJvdWdobmVzc0JsZW5kTGV2ZWwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiYnVtcExldmVsIix2b2lkIDApLFQoW1AoKSxuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsIm5vcm1hbEJsZW5kTWV0aG9kIix2b2lkIDApLFQoW1AoKSxuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImlzRW5hYmxlZCIsdm9pZCAwKSxlfShuZiksZGk9e2VmZmVjdDpudWxsLHN1Yk1lc2g6bnVsbH0sb2Y9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCl7dmFyIHI9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuTUFJTlVWMT0hMSxyLk1BSU5VVjI9ITEsci5NQUlOVVYzPSExLHIuTUFJTlVWND0hMSxyLk1BSU5VVjU9ITEsci5NQUlOVVY2PSExLHIuRElGRlVTRT0hMSxyLkRJRkZVU0VESVJFQ1RVVj0wLHIuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSExLHIuQU1CSUVOVD0hMSxyLkFNQklFTlRESVJFQ1RVVj0wLHIuT1BBQ0lUWT0hMSxyLk9QQUNJVFlESVJFQ1RVVj0wLHIuT1BBQ0lUWVJHQj0hMSxyLlJFRkxFQ1RJT049ITEsci5FTUlTU0lWRT0hMSxyLkVNSVNTSVZFRElSRUNUVVY9MCxyLlNQRUNVTEFSPSExLHIuU1BFQ1VMQVJESVJFQ1RVVj0wLHIuQlVNUD0hMSxyLkJVTVBESVJFQ1RVVj0wLHIuUEFSQUxMQVg9ITEsci5QQVJBTExBWE9DQ0xVU0lPTj0hMSxyLlNQRUNVTEFST1ZFUkFMUEhBPSExLHIuQ0xJUFBMQU5FPSExLHIuQ0xJUFBMQU5FMj0hMSxyLkNMSVBQTEFORTM9ITEsci5DTElQUExBTkU0PSExLHIuQ0xJUFBMQU5FNT0hMSxyLkNMSVBQTEFORTY9ITEsci5BTFBIQVRFU1Q9ITEsci5ERVBUSFBSRVBBU1M9ITEsci5BTFBIQUZST01ESUZGVVNFPSExLHIuUE9JTlRTSVpFPSExLHIuRk9HPSExLHIuU1BFQ1VMQVJURVJNPSExLHIuRElGRlVTRUZSRVNORUw9ITEsci5PUEFDSVRZRlJFU05FTD0hMSxyLlJFRkxFQ1RJT05GUkVTTkVMPSExLHIuUkVGUkFDVElPTkZSRVNORUw9ITEsci5FTUlTU0lWRUZSRVNORUw9ITEsci5GUkVTTkVMPSExLHIuTk9STUFMPSExLHIuVEFOR0VOVD0hMSxyLlVWMT0hMSxyLlVWMj0hMSxyLlVWMz0hMSxyLlVWND0hMSxyLlVWNT0hMSxyLlVWNj0hMSxyLlZFUlRFWENPTE9SPSExLHIuVkVSVEVYQUxQSEE9ITEsci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHIuQm9uZXNQZXJNZXNoPTAsci5CT05FVEVYVFVSRT0hMSxyLkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9ITEsci5JTlNUQU5DRVM9ITEsci5USElOX0lOU1RBTkNFUz0hMSxyLklOU1RBTkNFU0NPTE9SPSExLHIuR0xPU1NJTkVTUz0hMSxyLlJPVUdITkVTUz0hMSxyLkVNSVNTSVZFQVNJTExVTUlOQVRJT049ITEsci5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT0hMSxyLlJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSPSExLHIuTElHSFRNQVA9ITEsci5MSUdIVE1BUERJUkVDVFVWPTAsci5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9ITEsci5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPSExLHIuUkVGTEVDVElPTk1BUF8zRD0hMSxyLlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMPSExLHIuUkVGTEVDVElPTk1BUF9QTEFOQVI9ITEsci5SRUZMRUNUSU9OTUFQX0NVQklDPSExLHIuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsci5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hMSxyLlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTj0hMSxyLlJFRkxFQ1RJT05NQVBfU0tZQk9YPSExLHIuUkVGTEVDVElPTk1BUF9FWFBMSUNJVD0hMSxyLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSPSExLHIuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsci5SRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHIuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITEsci5JTlZFUlRDVUJJQ01BUD0hMSxyLkxPR0FSSVRITUlDREVQVEg9ITEsci5SRUZSQUNUSU9OPSExLHIuUkVGUkFDVElPTk1BUF8zRD0hMSxyLlJFRkxFQ1RJT05PVkVSQUxQSEE9ITEsci5UV09TSURFRExJR0hUSU5HPSExLHIuU0hBRE9XRkxPQVQ9ITEsci5NT1JQSFRBUkdFVFM9ITEsci5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHIuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsci5NT1JQSFRBUkdFVFNfVVY9ITEsci5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCxyLk1PUlBIVEFSR0VUU19URVhUVVJFPSExLHIuTk9OVU5JRk9STVNDQUxJTkc9ITEsci5QUkVNVUxUSVBMWUFMUEhBPSExLHIuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9ITEsci5BTFBIQUJMRU5EPSEwLHIuUFJFUEFTUz0hMSxyLlBSRVBBU1NfSVJSQURJQU5DRT0hMSxyLlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWD0tMSxyLlBSRVBBU1NfQUxCRURPX1NRUlQ9ITEsci5QUkVQQVNTX0FMQkVET19TUVJUX0lOREVYPS0xLHIuUFJFUEFTU19ERVBUSD0hMSxyLlBSRVBBU1NfREVQVEhfSU5ERVg9LTEsci5QUkVQQVNTX05PUk1BTD0hMSxyLlBSRVBBU1NfTk9STUFMX0lOREVYPS0xLHIuUFJFUEFTU19QT1NJVElPTj0hMSxyLlBSRVBBU1NfUE9TSVRJT05fSU5ERVg9LTEsci5QUkVQQVNTX1ZFTE9DSVRZPSExLHIuUFJFUEFTU19WRUxPQ0lUWV9JTkRFWD0tMSxyLlBSRVBBU1NfUkVGTEVDVElWSVRZPSExLHIuUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVg9LTEsci5TQ0VORV9NUlRfQ09VTlQ9MCxyLlJHQkRMSUdIVE1BUD0hMSxyLlJHQkRSRUZMRUNUSU9OPSExLHIuUkdCRFJFRlJBQ1RJT049ITEsci5JTUFHRVBST0NFU1NJTkc9ITEsci5WSUdORVRURT0hMSxyLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsci5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSxyLlRPTkVNQVBQSU5HPSExLHIuVE9ORU1BUFBJTkdfQUNFUz0hMSxyLkNPTlRSQVNUPSExLHIuQ09MT1JDVVJWRVM9ITEsci5DT0xPUkdSQURJTkc9ITEsci5DT0xPUkdSQURJTkczRD0hMSxyLlNBTVBMRVIzREdSRUVOREVQVEg9ITEsci5TQU1QTEVSM0RCR1JNQVA9ITEsci5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSxyLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsci5NVUxUSVZJRVc9ITEsci5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ITEsci5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSExLHIuSVNfUkVGTEVDVElPTl9MSU5FQVI9ITEsci5JU19SRUZSQUNUSU9OX0xJTkVBUj0hMSxyLkVYUE9TVVJFPSExLHIucmVidWlsZCgpLHJ9cmV0dXJuIGUucHJvdG90eXBlLnNldFJlZmxlY3Rpb25Nb2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bIlJFRkxFQ1RJT05NQVBfQ1VCSUMiLCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIiwiUkVGTEVDVElPTk1BUF9QTEFOQVIiLCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iLCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iLCJSRUZMRUNUSU9OTUFQX1NLWUJPWCIsIlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMIiwiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCIsIlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQiXSxuPTAsYT1yO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3RoaXNbc109cz09PXR9fSxlfSh5ciksYXI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLl9kaWZmdXNlVGV4dHVyZT1udWxsLG4uX2FtYmllbnRUZXh0dXJlPW51bGwsbi5fb3BhY2l0eVRleHR1cmU9bnVsbCxuLl9yZWZsZWN0aW9uVGV4dHVyZT1udWxsLG4uX2VtaXNzaXZlVGV4dHVyZT1udWxsLG4uX3NwZWN1bGFyVGV4dHVyZT1udWxsLG4uX2J1bXBUZXh0dXJlPW51bGwsbi5fbGlnaHRtYXBUZXh0dXJlPW51bGwsbi5fcmVmcmFjdGlvblRleHR1cmU9bnVsbCxuLmFtYmllbnRDb2xvcj1uZXcgYmUoMCwwLDApLG4uZGlmZnVzZUNvbG9yPW5ldyBiZSgxLDEsMSksbi5zcGVjdWxhckNvbG9yPW5ldyBiZSgxLDEsMSksbi5lbWlzc2l2ZUNvbG9yPW5ldyBiZSgwLDAsMCksbi5zcGVjdWxhclBvd2VyPTY0LG4uX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlPSExLG4uX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb249ITEsbi5fbGlua0VtaXNzaXZlV2l0aERpZmZ1c2U9ITEsbi5fdXNlU3BlY3VsYXJPdmVyQWxwaGE9ITEsbi5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYT0hMSxuLl9kaXNhYmxlTGlnaHRpbmc9ITEsbi5fdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXA9ITEsbi5fdXNlUGFyYWxsYXg9ITEsbi5fdXNlUGFyYWxsYXhPY2NsdXNpb249ITEsbi5wYXJhbGxheFNjYWxlQmlhcz0uMDUsbi5fcm91Z2huZXNzPTAsbi5pbmRleE9mUmVmcmFjdGlvbj0uOTgsbi5pbnZlcnRSZWZyYWN0aW9uWT0hMCxuLmFscGhhQ3V0T2ZmPS40LG4uX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXA9ITEsbi5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXI9ITEsbi5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhPSExLG4uX21heFNpbXVsdGFuZW91c0xpZ2h0cz00LG4uX2ludmVydE5vcm1hbE1hcFg9ITEsbi5faW52ZXJ0Tm9ybWFsTWFwWT0hMSxuLl90d29TaWRlZExpZ2h0aW5nPSExLG4uX3JlbmRlclRhcmdldHM9bmV3IFZlKDE2KSxuLl93b3JsZFZpZXdQcm9qZWN0aW9uTWF0cml4PUkuWmVybygpLG4uX2dsb2JhbEFtYmllbnRDb2xvcj1uZXcgYmUoMCwwLDApLG4uX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsbi5kZXRhaWxNYXA9bmV3IHNmKG4pLG4uX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24obnVsbCksbi5wcmVQYXNzQ29uZmlndXJhdGlvbj1uZXcgY2ksbi5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBuLl9yZW5kZXJUYXJnZXRzLnJlc2V0KCksZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJm4uX3JlZmxlY3Rpb25UZXh0dXJlJiZuLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmbi5fcmVuZGVyVGFyZ2V0cy5wdXNoKG4uX3JlZmxlY3Rpb25UZXh0dXJlKSxlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmbi5fcmVmcmFjdGlvblRleHR1cmUmJm4uX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZuLl9yZW5kZXJUYXJnZXRzLnB1c2gobi5fcmVmcmFjdGlvblRleHR1cmUpLG4uX2V2ZW50SW5mby5yZW5kZXJUYXJnZXRzPW4uX3JlbmRlclRhcmdldHMsbi5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhuLl9ldmVudEluZm8pLG4uX3JlbmRlclRhcmdldHN9LG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbih0KSx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0IT09dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLHQ/dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10OnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249dGhpcy5nZXRTY2VuZSgpLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24sdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyPXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLmFkZChmdW5jdGlvbigpe3IuX21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl9KSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzUHJlUGFzc0NhcGFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5kaXNhYmxlRGVwdGhXcml0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29sb3JHcmFkaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uZXhwb3N1cmU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYUNvbnRyYXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3R9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29sb3JDdXJ2ZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXM9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhblJlbmRlclRvTVJUIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0fHxlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0PyEwOnRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlN0YW5kYXJkTWF0ZXJpYWwifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZUxvZ2FyaXRobWljRGVwdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGg9dCYmdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmdldENhcHMoKS5mcmFnbWVudERlcHRoU3VwcG9ydGVkLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5lZWRBbHBoYUJsZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx8fHRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCl8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZH0sZS5wcm90b3R5cGUubmVlZEFscGhhVGVzdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JjZUFscGhhVGVzdD8hMDp0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PW51bGx8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1GZS5NQVRFUklBTF9BTFBIQVRFU1QpfSxlLnByb3RvdHlwZS5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUhPW51bGwmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmhhc0FscGhhJiZ0aGlzLl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSYmdGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PUZlLk1BVEVSSUFMX09QQVFVRX0sZS5wcm90b3R5cGUuX2hhc0FscGhhQ2hhbm5lbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfSxlLnByb3RvdHlwZS5nZXRBbHBoYVRlc3RUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlfSxlLnByb3RvdHlwZS5pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7aWYobj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdHx8dGhpcy5idWlsZFVuaWZvcm1MYXlvdXQoKSxyLmVmZmVjdCYmdGhpcy5pc0Zyb3plbiYmci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSlyZXR1cm4hMDtyLm1hdGVyaWFsRGVmaW5lc3x8KHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKERlLkdldERlZmluZU5hbWVzLHRoaXMuX2V2ZW50SW5mbyksci5tYXRlcmlhbERlZmluZXM9bmV3IG9mKHRoaXMuX2V2ZW50SW5mby5kZWZpbmVOYW1lcykpO3ZhciBhPXRoaXMuZ2V0U2NlbmUoKSxzPXIubWF0ZXJpYWxEZWZpbmVzO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHIpKXJldHVybiEwO3ZhciBvPWEuZ2V0RW5naW5lKCk7cy5fbmVlZE5vcm1hbHM9WS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhhLHQscywhMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nKSxZLlByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KGEscyk7dmFyIHU9dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCkmJnRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5O2lmKFkuUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKGEscyx0aGlzLmNhblJlbmRlclRvTVJUJiYhdSksWS5QcmVwYXJlRGVmaW5lc0Zvck9JVChhLHMsdSkscy5fYXJlVGV4dHVyZXNEaXJ0eSl7dGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzLHMuX25lZWRVVnM9ITE7Zm9yKHZhciBmPTE7Zjw9NjsrK2Ypc1siTUFJTlVWIitmXT0hMTtpZihhLnRleHR1cmVzRW5hYmxlZCl7aWYodGhpcy5fZGlmZnVzZVRleHR1cmUmJmUuRGlmZnVzZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLHMsIkRJRkZVU0UiKTtlbHNlIHJldHVybiExO2Vsc2Ugcy5ESUZGVVNFPSExO2lmKHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLkFtYmllbnRUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9hbWJpZW50VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKVkuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9hbWJpZW50VGV4dHVyZSxzLCJBTUJJRU5UIik7ZWxzZSByZXR1cm4hMTtlbHNlIHMuQU1CSUVOVD0hMTtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fb3BhY2l0eVRleHR1cmUscywiT1BBQ0lUWSIpLHMuT1BBQ0lUWVJHQj10aGlzLl9vcGFjaXR5VGV4dHVyZS5nZXRBbHBoYUZyb21SR0I7ZWxzZSByZXR1cm4hMTtlbHNlIHMuT1BBQ0lUWT0hMTtpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSl7c3dpdGNoKHMuX25lZWROb3JtYWxzPSEwLHMuUkVGTEVDVElPTj0hMCxzLlJPVUdITkVTUz10aGlzLl9yb3VnaG5lc3M+MCxzLlJFRkxFQ1RJT05PVkVSQUxQSEE9dGhpcy5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSxzLklOVkVSVENVQklDTUFQPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmNvb3JkaW5hdGVzTW9kZT09PXRlLklOVkNVQklDX01PREUscy5SRUZMRUNUSU9OTUFQXzNEPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZSxzLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPXMuUkVGTEVDVElPTk1BUF8zRCYmdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPyF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaOnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFoscy5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIHRlLkVYUExJQ0lUX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FWFBMSUNJVCIpO2JyZWFrO2Nhc2UgdGUuUExBTkFSX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9QTEFOQVIiKTticmVhaztjYXNlIHRlLlBST0pFQ1RJT05fTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iKTticmVhaztjYXNlIHRlLlNLWUJPWF9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfU0tZQk9YIik7YnJlYWs7Y2FzZSB0ZS5TUEhFUklDQUxfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIpO2JyZWFrO2Nhc2UgdGUuRVFVSVJFQ1RBTkdVTEFSX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiKTticmVhaztjYXNlIHRlLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSB0ZS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSB0ZS5DVUJJQ19NT0RFOmNhc2UgdGUuSU5WQ1VCSUNfTU9ERTpkZWZhdWx0OnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfQ1VCSUMiKTticmVha31zLlVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplfWVsc2UgcmV0dXJuITE7ZWxzZSBzLlJFRkxFQ1RJT049ITEscy5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMTtpZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLHMsIkVNSVNTSVZFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHMuRU1JU1NJVkU9ITE7aWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxzLCJMSUdIVE1BUCIpLHMuVVNFTElHSFRNQVBBU1NIQURPV01BUD10aGlzLl91c2VMaWdodG1hcEFzU2hhZG93bWFwLHMuUkdCRExJR0hUTUFQPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5pc1JHQkQ7ZWxzZSByZXR1cm4hMTtlbHNlIHMuTElHSFRNQVA9ITE7aWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSxzLCJTUEVDVUxBUiIpLHMuR0xPU1NJTkVTUz10aGlzLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE7ZWxzZSByZXR1cm4hMTtlbHNlIHMuU1BFQ1VMQVI9ITE7aWYoYS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fYnVtcFRleHR1cmUmJmUuQnVtcFRleHR1cmVFbmFibGVkKXtpZih0aGlzLl9idW1wVGV4dHVyZS5pc1JlYWR5KCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2J1bXBUZXh0dXJlLHMsIkJVTVAiKSxzLlBBUkFMTEFYPXRoaXMuX3VzZVBhcmFsbGF4LHMuUEFSQUxMQVhPQ0NMVVNJT049dGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb247ZWxzZSByZXR1cm4hMTtzLk9CSkVDVFNQQUNFX05PUk1BTE1BUD10aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcH1lbHNlIHMuQlVNUD0hMTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzLl9uZWVkVVZzPSEwLHMuUkVGUkFDVElPTj0hMCxzLlJFRlJBQ1RJT05NQVBfM0Q9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlLHMuUkdCRFJFRlJBQ1RJT049dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSR0JELHMuVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemU7ZWxzZSByZXR1cm4hMTtlbHNlIHMuUkVGUkFDVElPTj0hMTtzLlRXT1NJREVETElHSFRJTkc9IXRoaXMuX2JhY2tGYWNlQ3VsbGluZyYmdGhpcy5fdHdvU2lkZWRMaWdodGluZ31lbHNlIHMuRElGRlVTRT0hMSxzLkFNQklFTlQ9ITEscy5PUEFDSVRZPSExLHMuUkVGTEVDVElPTj0hMSxzLkVNSVNTSVZFPSExLHMuTElHSFRNQVA9ITEscy5CVU1QPSExLHMuUkVGUkFDVElPTj0hMTtzLkFMUEhBRlJPTURJRkZVU0U9dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKSxzLkVNSVNTSVZFQVNJTExVTUlOQVRJT049dGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbixzLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPXRoaXMuX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlLHMuU1BFQ1VMQVJPVkVSQUxQSEE9dGhpcy5fdXNlU3BlY3VsYXJPdmVyQWxwaGEscy5QUkVNVUxUSVBMWUFMUEhBPXRoaXMuYWxwaGFNb2RlPT09N3x8dGhpcy5hbHBoYU1vZGU9PT04LHMuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9dGhpcy50cmFuc3BhcmVuY3lNb2RlIT09bnVsbCxzLkFMUEhBQkxFTkQ9dGhpcy50cmFuc3BhcmVuY3lNb2RlPT09bnVsbHx8dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCl9aWYodGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksIXRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaClyZXR1cm4hMTtpZihzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eSYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbil7aWYoIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uaXNSZWFkeSgpKXJldHVybiExO3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ucHJlcGFyZURlZmluZXMocykscy5JU19SRUZMRUNUSU9OX0xJTkVBUj10aGlzLnJlZmxlY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZsZWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlLHMuSVNfUkVGUkFDVElPTl9MSU5FQVI9dGhpcy5yZWZyYWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmcmFjdGlvblRleHR1cmUuZ2FtbWFTcGFjZX1pZihzLl9hcmVGcmVzbmVsRGlydHkmJihlLkZyZXNuZWxFbmFibGVkPyh0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMpJiYocy5ESUZGVVNFRlJFU05FTD10aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5PUEFDSVRZRlJFU05FTD10aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5SRUZMRUNUSU9ORlJFU05FTD10aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj10aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcixzLlJFRlJBQ1RJT05GUkVTTkVMPXRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLkVNSVNTSVZFRlJFU05FTD10aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLl9uZWVkTm9ybWFscz0hMCxzLkZSRVNORUw9ITApOnMuRlJFU05FTD0hMSksWS5QcmVwYXJlRGVmaW5lc0Zvck1pc2ModCxhLHRoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGgsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKHQpfHx0aGlzLl9mb3JjZUFscGhhVGVzdCxzKSxZLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyh0LHMsITAsITAsITApLFkuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKGEsbyxzLG4sbnVsbCxyLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzKSx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1zLHRoaXMuX2V2ZW50SW5mby5tZXNoPXQsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKHRoaXMuX2V2ZW50SW5mbykscy5pc0RpcnR5KXt2YXIgbD1zLl9hcmVMaWdodHNEaXNwb3NlZDtzLm1hcmtBc1Byb2Nlc3NlZCgpO3ZhciBoPW5ldyBoaTtzLlJFRkxFQ1RJT04mJmguYWRkRmFsbGJhY2soMCwiUkVGTEVDVElPTiIpLHMuU1BFQ1VMQVImJmguYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVIiKSxzLkJVTVAmJmguYWRkRmFsbGJhY2soMCwiQlVNUCIpLHMuUEFSQUxMQVgmJmguYWRkRmFsbGJhY2soMSwiUEFSQUxMQVgiKSxzLlBBUkFMTEFYT0NDTFVTSU9OJiZoLmFkZEZhbGxiYWNrKDAsIlBBUkFMTEFYT0NDTFVTSU9OIikscy5TUEVDVUxBUk9WRVJBTFBIQSYmaC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUk9WRVJBTFBIQSIpLHMuRk9HJiZoLmFkZEZhbGxiYWNrKDEsIkZPRyIpLHMuUE9JTlRTSVpFJiZoLmFkZEZhbGxiYWNrKDAsIlBPSU5UU0laRSIpLHMuTE9HQVJJVEhNSUNERVBUSCYmaC5hZGRGYWxsYmFjaygwLCJMT0dBUklUSE1JQ0RFUFRIIiksWS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHMsaCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLHMuU1BFQ1VMQVJURVJNJiZoLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSVEVSTSIpLHMuRElGRlVTRUZSRVNORUwmJmguYWRkRmFsbGJhY2soMSwiRElGRlVTRUZSRVNORUwiKSxzLk9QQUNJVFlGUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDIsIk9QQUNJVFlGUkVTTkVMIikscy5SRUZMRUNUSU9ORlJFU05FTCYmaC5hZGRGYWxsYmFjaygzLCJSRUZMRUNUSU9ORlJFU05FTCIpLHMuRU1JU1NJVkVGUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDQsIkVNSVNTSVZFRlJFU05FTCIpLHMuRlJFU05FTCYmaC5hZGRGYWxsYmFjayg0LCJGUkVTTkVMIikscy5NVUxUSVZJRVcmJmguYWRkRmFsbGJhY2soMCwiTVVMVElWSUVXIik7dmFyIGM9W20uUG9zaXRpb25LaW5kXTtzLk5PUk1BTCYmYy5wdXNoKG0uTm9ybWFsS2luZCkscy5UQU5HRU5UJiZjLnB1c2gobS5UYW5nZW50S2luZCk7Zm9yKHZhciBmPTE7Zjw9NjsrK2Ypc1siVVYiK2ZdJiZjLnB1c2goInV2Ii5jb25jYXQoZj09PTE/IiI6ZikpO3MuVkVSVEVYQ09MT1ImJmMucHVzaChtLkNvbG9yS2luZCksWS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGMsdCxzLGgpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoYyxzKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGMsdCxzKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oYyx0LHMpO3ZhciBkPSJkZWZhdWx0IixwPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZBbWJpZW50Q29sb3IiLCJ2RGlmZnVzZUNvbG9yIiwidlNwZWN1bGFyQ29sb3IiLCJ2RW1pc3NpdmVDb2xvciIsInZpc2liaWxpdHkiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJ2RGlmZnVzZUluZm9zIiwidkFtYmllbnRJbmZvcyIsInZPcGFjaXR5SW5mb3MiLCJ2UmVmbGVjdGlvbkluZm9zIiwidkVtaXNzaXZlSW5mb3MiLCJ2U3BlY3VsYXJJbmZvcyIsInZCdW1wSW5mb3MiLCJ2TGlnaHRtYXBJbmZvcyIsInZSZWZyYWN0aW9uSW5mb3MiLCJtQm9uZXMiLCJ2Q2xpcFBsYW5lIiwidkNsaXBQbGFuZTIiLCJ2Q2xpcFBsYW5lMyIsInZDbGlwUGxhbmU0IiwidkNsaXBQbGFuZTUiLCJ2Q2xpcFBsYW5lNiIsImRpZmZ1c2VNYXRyaXgiLCJhbWJpZW50TWF0cml4Iiwib3BhY2l0eU1hdHJpeCIsInJlZmxlY3Rpb25NYXRyaXgiLCJlbWlzc2l2ZU1hdHJpeCIsInNwZWN1bGFyTWF0cml4IiwiYnVtcE1hdHJpeCIsIm5vcm1hbE1hdHJpeCIsImxpZ2h0bWFwTWF0cml4IiwicmVmcmFjdGlvbk1hdHJpeCIsImRpZmZ1c2VMZWZ0Q29sb3IiLCJkaWZmdXNlUmlnaHRDb2xvciIsIm9wYWNpdHlQYXJ0cyIsInJlZmxlY3Rpb25MZWZ0Q29sb3IiLCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsImVtaXNzaXZlTGVmdENvbG9yIiwiZW1pc3NpdmVSaWdodENvbG9yIiwicmVmcmFjdGlvbkxlZnRDb2xvciIsInJlZnJhY3Rpb25SaWdodENvbG9yIiwidlJlZmxlY3Rpb25Qb3NpdGlvbiIsInZSZWZsZWN0aW9uU2l6ZSIsInZSZWZyYWN0aW9uUG9zaXRpb24iLCJ2UmVmcmFjdGlvblNpemUiLCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwiYWxwaGFDdXRPZmYiLCJib25lVGV4dHVyZVdpZHRoIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxnPVsiZGlmZnVzZVNhbXBsZXIiLCJhbWJpZW50U2FtcGxlciIsIm9wYWNpdHlTYW1wbGVyIiwicmVmbGVjdGlvbkN1YmVTYW1wbGVyIiwicmVmbGVjdGlvbjJEU2FtcGxlciIsImVtaXNzaXZlU2FtcGxlciIsInNwZWN1bGFyU2FtcGxlciIsImJ1bXBTYW1wbGVyIiwibGlnaHRtYXBTYW1wbGVyIiwicmVmcmFjdGlvbkN1YmVTYW1wbGVyIiwicmVmcmFjdGlvbjJEU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwib2l0RGVwdGhTYW1wbGVyIiwib2l0RnJvbnRDb2xvclNhbXBsZXIiXSxfPVsiTWF0ZXJpYWwiLCJTY2VuZSIsIk1lc2giXTt0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tzPWgsdGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrUmFuaz0wLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1zPXAsdGhpcy5fZXZlbnRJbmZvLnNhbXBsZXJzPWcsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1CdWZmZXJzTmFtZXM9Xyx0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuUHJlcGFyZUVmZmVjdCx0aGlzLl9ldmVudEluZm8pLGNpLkFkZFVuaWZvcm1zKHApLGNpLkFkZFNhbXBsZXJzKGcpLE50JiYoTnQuUHJlcGFyZVVuaWZvcm1zKHAscyksTnQuUHJlcGFyZVNhbXBsZXJzKGcscykpLFkuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOnAsdW5pZm9ybUJ1ZmZlcnNOYW1lczpfLHNhbXBsZXJzOmcsZGVmaW5lczpzLG1heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHN9KTt2YXIgdj17fTt0aGlzLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlJiYoZD10aGlzLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlKGQscCxfLGcscyxjLHYpKTt2YXIgeT1zLnRvU3RyaW5nKCksRT1yLmVmZmVjdCxSPWEuZ2V0RW5naW5lKCkuY3JlYXRlRWZmZWN0KGQse2F0dHJpYnV0ZXM6Yyx1bmlmb3Jtc05hbWVzOnAsdW5pZm9ybUJ1ZmZlcnNOYW1lczpfLHNhbXBsZXJzOmcsZGVmaW5lczp5LGZhbGxiYWNrczpoLG9uQ29tcGlsZWQ6dGhpcy5vbkNvbXBpbGVkLG9uRXJyb3I6dGhpcy5vbkVycm9yLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyxtYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6cy5OVU1fTU9SUEhfSU5GTFVFTkNFUlN9LHByb2Nlc3NGaW5hbENvZGU6di5wcm9jZXNzRmluYWxDb2RlLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczp0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZSxtdWx0aVRhcmdldDpzLlBSRVBBU1N9LG8pO2lmKFIpaWYodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmKGRpLmVmZmVjdD1SLGRpLnN1Yk1lc2g9cix0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkaSkpLHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZyYmRSYmIVIuaXNSZWFkeSgpKXtpZihSPUUscy5tYXJrQXNVbnByb2Nlc3NlZCgpLGwpcmV0dXJuIHMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSEwLCExfWVsc2UgYS5yZXNldENhY2hlZE1hdGVyaWFsKCksci5zZXRFZmZlY3QoUixzLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXIuZWZmZWN0fHwhci5lZmZlY3QuaXNSZWFkeSgpPyExOihzLl9yZW5kZXJJZD1hLmdldFJlbmRlcklkKCksci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMCwhMCl9LGUucHJvdG90eXBlLmJ1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3VuaWZvcm1CdWZmZXI7dC5hZGRVbmlmb3JtKCJkaWZmdXNlTGVmdENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oImRpZmZ1c2VSaWdodENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oIm9wYWNpdHlQYXJ0cyIsNCksdC5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTGVmdENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInJlZmxlY3Rpb25SaWdodENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInJlZnJhY3Rpb25MZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgiZW1pc3NpdmVMZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgiZW1pc3NpdmVSaWdodENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInZEaWZmdXNlSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidkFtYmllbnRJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2T3BhY2l0eUluZm9zIiwyKSx0LmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25Qb3NpdGlvbiIsMyksdC5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblNpemUiLDMpLHQuYWRkVW5pZm9ybSgidkVtaXNzaXZlSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidkxpZ2h0bWFwSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidlNwZWN1bGFySW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidkJ1bXBJbmZvcyIsMyksdC5hZGRVbmlmb3JtKCJkaWZmdXNlTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJhbWJpZW50TWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJvcGFjaXR5TWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJlbWlzc2l2ZU1hdHJpeCIsMTYpLHQuYWRkVW5pZm9ybSgibGlnaHRtYXBNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInNwZWN1bGFyTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJidW1wTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwyKSx0LmFkZFVuaWZvcm0oInBvaW50U2l6ZSIsMSksdC5hZGRVbmlmb3JtKCJhbHBoYUN1dE9mZiIsMSksdC5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvbkluZm9zIiw0KSx0LmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uUG9zaXRpb24iLDMpLHQuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25TaXplIiwzKSx0LmFkZFVuaWZvcm0oInZTcGVjdWxhckNvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInZFbWlzc2l2ZUNvbG9yIiwzKSx0LmFkZFVuaWZvcm0oInZEaWZmdXNlQ29sb3IiLDQpLHQuYWRkVW5pZm9ybSgidkFtYmllbnRDb2xvciIsMyksaS5wcm90b3R5cGUuYnVpbGRVbmlmb3JtTGF5b3V0LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzPXRoaXMuZ2V0U2NlbmUoKSxvPW4ubWF0ZXJpYWxEZWZpbmVzO2lmKCEhbyl7dmFyIHU9bi5lZmZlY3Q7aWYoISF1KXt0aGlzLl9hY3RpdmVFZmZlY3Q9dSxyLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHUsIk1lc2giKSxyLnRyYW5zZmVyVG9FZmZlY3QodCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QodSwiTWF0ZXJpYWwiKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uLmJpbmRGb3JTdWJNZXNoKHRoaXMuX2FjdGl2ZUVmZmVjdCxzLHIsdCx0aGlzLmlzRnJvemVuKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1uLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxvLk9CSkVDVFNQQUNFX05PUk1BTE1BUCYmKHQudG9Ob3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSx0aGlzLmJpbmRPbmx5Tm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCkpO3ZhciBmPXRoaXMuX211c3RSZWJpbmQocyx1LHIudmlzaWJpbGl0eSk7WS5CaW5kQm9uZXNQYXJhbWV0ZXJzKHIsdSk7dmFyIGw9dGhpcy5fdW5pZm9ybUJ1ZmZlcjtpZihmKXtpZih0aGlzLmJpbmRWaWV3UHJvamVjdGlvbih1KSwhbC51c2VVYm98fCF0aGlzLmlzRnJvemVufHwhbC5pc1N5bmMpe2lmKGUuRnJlc25lbEVuYWJsZWQmJm8uRlJFU05FTCYmKHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZUxlZnRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZVJpZ2h0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJmwudXBkYXRlQ29sb3I0KCJvcGFjaXR5UGFydHMiLG5ldyBiZSh0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuYmlhcyksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGwudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZUxlZnRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGwudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSkpLHMudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidkRpZmZ1c2VJbmZvcyIsdGhpcy5fZGlmZnVzZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9kaWZmdXNlVGV4dHVyZS5sZXZlbCksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9kaWZmdXNlVGV4dHVyZSxsLCJkaWZmdXNlIikpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2QW1iaWVudEluZm9zIix0aGlzLl9hbWJpZW50VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2FtYmllbnRUZXh0dXJlLmxldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2FtYmllbnRUZXh0dXJlLGwsImFtYmllbnQiKSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJmUuT3BhY2l0eVRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZPcGFjaXR5SW5mb3MiLHRoaXMuX29wYWNpdHlUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fb3BhY2l0eVRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fb3BhY2l0eVRleHR1cmUsbCwib3BhY2l0eSIpKSx0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmbC51cGRhdGVGbG9hdCgiYWxwaGFDdXRPZmYiLHRoaXMuYWxwaGFDdXRPZmYpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2UmVmbGVjdGlvbkluZm9zIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLnJvdWdobmVzcyksbC51cGRhdGVNYXRyaXgoInJlZmxlY3Rpb25NYXRyaXgiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSkpe3ZhciBoPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlO2wudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25Qb3NpdGlvbiIsaC5ib3VuZGluZ0JveFBvc2l0aW9uKSxsLnVwZGF0ZVZlY3RvcjMoInZSZWZsZWN0aW9uU2l6ZSIsaC5ib3VuZGluZ0JveFNpemUpfWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZFbWlzc2l2ZUluZm9zIix0aGlzLl9lbWlzc2l2ZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9lbWlzc2l2ZVRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZW1pc3NpdmVUZXh0dXJlLGwsImVtaXNzaXZlIikpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmZS5MaWdodG1hcFRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZMaWdodG1hcEluZm9zIix0aGlzLl9saWdodG1hcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9saWdodG1hcFRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fbGlnaHRtYXBUZXh0dXJlLGwsImxpZ2h0bWFwIikpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5TcGVjdWxhclRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZTcGVjdWxhckluZm9zIix0aGlzLl9zcGVjdWxhclRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9zcGVjdWxhclRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fc3BlY3VsYXJUZXh0dXJlLGwsInNwZWN1bGFyIikpLHRoaXMuX2J1bXBUZXh0dXJlJiZzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZlLkJ1bXBUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQzKCJ2QnVtcEluZm9zIix0aGlzLl9idW1wVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LDEvdGhpcy5fYnVtcFRleHR1cmUubGV2ZWwsdGhpcy5wYXJhbGxheFNjYWxlQmlhcyksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9idW1wVGV4dHVyZSxsLCJidW1wIikscy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj9sLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8xOi0xLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/MTotMSk6bC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/LTE6MSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPy0xOjEpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpe3ZhciBjPTE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlfHwobC51cGRhdGVNYXRyaXgoInJlZnJhY3Rpb25NYXRyaXgiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoJiYoYz10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCkpLGwudXBkYXRlRmxvYXQ0KCJ2UmVmcmFjdGlvbkluZm9zIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uLGMsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT8tMToxKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpe3ZhciBoPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlO2wudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25Qb3NpdGlvbiIsaC5ib3VuZGluZ0JveFBvc2l0aW9uKSxsLnVwZGF0ZVZlY3RvcjMoInZSZWZyYWN0aW9uU2l6ZSIsaC5ib3VuZGluZ0JveFNpemUpfX19dGhpcy5wb2ludHNDbG91ZCYmbC51cGRhdGVGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksby5TUEVDVUxBUlRFUk0mJmwudXBkYXRlQ29sb3I0KCJ2U3BlY3VsYXJDb2xvciIsdGhpcy5zcGVjdWxhckNvbG9yLHRoaXMuc3BlY3VsYXJQb3dlciksbC51cGRhdGVDb2xvcjMoInZFbWlzc2l2ZUNvbG9yIixlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ/dGhpcy5lbWlzc2l2ZUNvbG9yOmJlLkJsYWNrUmVhZE9ubHkpLGwudXBkYXRlQ29sb3I0KCJ2RGlmZnVzZUNvbG9yIix0aGlzLmRpZmZ1c2VDb2xvcix0aGlzLmFscGhhKSxzLmFtYmllbnRDb2xvci5tdWx0aXBseVRvUmVmKHRoaXMuYW1iaWVudENvbG9yLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvciksbC51cGRhdGVDb2xvcjMoInZBbWJpZW50Q29sb3IiLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvcil9cy50ZXh0dXJlc0VuYWJsZWQmJih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiYW1iaWVudFNhbXBsZXIiLHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgib3BhY2l0eVNhbXBsZXIiLHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc0N1YmU/dS5zZXRUZXh0dXJlKCJyZWZsZWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKTp1LnNldFRleHR1cmUoInJlZmxlY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSksdGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiZW1pc3NpdmVTYW1wbGVyIix0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmZS5MaWdodG1hcFRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImxpZ2h0bWFwU2FtcGxlciIsdGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJmUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJzcGVjdWxhclNhbXBsZXIiLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJmUuQnVtcFRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImJ1bXBTYW1wbGVyIix0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJmUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlP3Uuc2V0VGV4dHVyZSgicmVmcmFjdGlvbkN1YmVTYW1wbGVyIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk6dS5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uMkRTYW1wbGVyIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSkpKSx0aGlzLmdldFNjZW5lKCkudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2gocikmJnRoaXMuZ2V0U2NlbmUoKS5kZXB0aFBlZWxpbmdSZW5kZXJlci5iaW5kKHUpLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPW4sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksWS5CaW5kQ2xpcFBsYW5lKHUscyksdGhpcy5iaW5kRXllUG9zaXRpb24odSl9ZWxzZSBzLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5uZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnMmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITApOyhmfHwhdGhpcy5pc0Zyb3plbikmJihzLmxpZ2h0c0VuYWJsZWQmJiF0aGlzLl9kaXNhYmxlTGlnaHRpbmcmJlkuQmluZExpZ2h0cyhzLHIsdSxvLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksKHMuZm9nRW5hYmxlZCYmci5hcHBseUZvZyYmcy5mb2dNb2RlIT09ZWUuRk9HTU9ERV9OT05FfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmV8fHIucmVjZWl2ZVNoYWRvd3N8fG8uUFJFUEFTUykmJnRoaXMuYmluZFZpZXcodSksWS5CaW5kRm9nUGFyYW1ldGVycyhzLHIsdSksby5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJlkuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhyLHUpLG8uQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKGE9ci5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5iaW5kKHUsby5JTlNUQU5DRVMpKSx0aGlzLnVzZUxvZ2FyaXRobWljRGVwdGgmJlkuQmluZExvZ0RlcHRoKG8sdSxzKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYhdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzLl9hY3RpdmVFZmZlY3QpKSx0aGlzLl9hZnRlckJpbmQocix0aGlzLl9hY3RpdmVFZmZlY3QpLGwudXBkYXRlKCl9fX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0YWJsZXM9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcy5jYWxsKHRoaXMpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0fSxlLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbigpe3ZhciB0PWkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZ0LnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZ0LnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZ0LnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0LnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0LnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJnQucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0LnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLHR9LGUucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuISEoaS5wcm90b3R5cGUuaGFzVGV4dHVyZS5jYWxsKHRoaXMsdCl8fHRoaXMuX2RpZmZ1c2VUZXh0dXJlPT09dHx8dGhpcy5fYW1iaWVudFRleHR1cmU9PT10fHx0aGlzLl9vcGFjaXR5VGV4dHVyZT09PXR8fHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPT09dHx8dGhpcy5fZW1pc3NpdmVUZXh0dXJlPT09dHx8dGhpcy5fc3BlY3VsYXJUZXh0dXJlPT09dHx8dGhpcy5fYnVtcFRleHR1cmU9PT10fHx0aGlzLl9saWdodG1hcFRleHR1cmU9PT10fHx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT09PXQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7dmFyIG4sYSxzLG8sdSxmLGwsaCxjO3ImJigobj10aGlzLl9kaWZmdXNlVGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc3Bvc2UoKSwoYT10aGlzLl9hbWJpZW50VGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwfHxhLmRpc3Bvc2UoKSwocz10aGlzLl9vcGFjaXR5VGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmRpc3Bvc2UoKSwobz10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmRpc3Bvc2UoKSwodT10aGlzLl9lbWlzc2l2ZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5kaXNwb3NlKCksKGY9dGhpcy5fc3BlY3VsYXJUZXh0dXJlKT09PW51bGx8fGY9PT12b2lkIDB8fGYuZGlzcG9zZSgpLChsPXRoaXMuX2J1bXBUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDB8fGwuZGlzcG9zZSgpLChoPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmRpc3Bvc2UoKSwoYz10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk9PT1udWxsfHxjPT09dm9pZCAwfHxjLmRpc3Bvc2UoKSksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPUouQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodCxyLmdldFNjZW5lKCkpfSx0aGlzKTtyZXR1cm4gbi5uYW1lPXQsbi5pZD10LHRoaXMuc3RlbmNpbC5jb3B5VG8obi5zdGVuY2lsKSxufSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXt2YXIgYT1KLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSxyKX0sdCxyLG4pO3JldHVybiB0LnN0ZW5jaWwmJmEuc3RlbmNpbC5wYXJzZSh0LnN0ZW5jaWwscixuKSxhfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGlmZnVzZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZXRhaWxUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5EZXRhaWxUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkRldGFpbFRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFtYmllbnRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5BbWJpZW50VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiT3BhY2l0eVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7ZGUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5TcGVjdWxhclRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7ZGUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCdW1wVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuQnVtcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7ZGUuQnVtcFRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZyZXNuZWxFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLkZyZXNuZWxFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7ZGUuRnJlc25lbEVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxUKFtIZSgiZGlmZnVzZVRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9kaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLGUucHJvdG90eXBlLCJkaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgiYW1iaWVudFRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9hbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImFtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJvcGFjaXR5VGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX29wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sZS5wcm90b3R5cGUsIm9wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJyZWZsZWN0aW9uVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwicmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbSGUoImVtaXNzaXZlVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2VtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImVtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgic3BlY3VsYXJUZXh0dXJlIildLGUucHJvdG90eXBlLCJfc3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwic3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJidW1wVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2J1bXBUZXh0dXJlIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiYnVtcFRleHR1cmUiLHZvaWQgMCksVChbSGUoImxpZ2h0bWFwVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2xpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImxpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgicmVmcmFjdGlvblRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9yZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInJlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW090KCJhbWJpZW50IildLGUucHJvdG90eXBlLCJhbWJpZW50Q29sb3IiLHZvaWQgMCksVChbT3QoImRpZmZ1c2UiKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VDb2xvciIsdm9pZCAwKSxUKFtPdCgic3BlY3VsYXIiKV0sZS5wcm90b3R5cGUsInNwZWN1bGFyQ29sb3IiLHZvaWQgMCksVChbT3QoImVtaXNzaXZlIildLGUucHJvdG90eXBlLCJlbWlzc2l2ZUNvbG9yIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNwZWN1bGFyUG93ZXIiLHZvaWQgMCksVChbUCgidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtQKCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIildLGUucHJvdG90eXBlLCJfdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbUCgibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiKV0sZS5wcm90b3R5cGUsIl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW1AoInVzZVNwZWN1bGFyT3ZlckFscGhhIildLGUucHJvdG90eXBlLCJfdXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFtQKCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIildLGUucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbUCgiZGlzYWJsZUxpZ2h0aW5nIildLGUucHJvdG90eXBlLCJfZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sZS5wcm90b3R5cGUsImRpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFtQKCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIpXSxlLnByb3RvdHlwZSwiX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbUCgidXNlUGFyYWxsYXgiKV0sZS5wcm90b3R5cGUsIl91c2VQYXJhbGxheCIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVBhcmFsbGF4Iix2b2lkIDApLFQoW1AoInVzZVBhcmFsbGF4T2NjbHVzaW9uIildLGUucHJvdG90eXBlLCJfdXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJwYXJhbGxheFNjYWxlQmlhcyIsdm9pZCAwKSxUKFtQKCJyb3VnaG5lc3MiKV0sZS5wcm90b3R5cGUsIl9yb3VnaG5lc3MiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJyb3VnaG5lc3MiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW5kZXhPZlJlZnJhY3Rpb24iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW52ZXJ0UmVmcmFjdGlvblkiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiYWxwaGFDdXRPZmYiLHZvaWQgMCksVChbUCgidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIpXSxlLnByb3RvdHlwZSwiX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW3RyKCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFt0cigib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSIpXSxlLnByb3RvdHlwZSwib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3RyKCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFt0cigicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbdHIoImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1AoInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIildLGUucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW1AoInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIpXSxlLnByb3RvdHlwZSwiX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFtQKCJtYXhTaW11bHRhbmVvdXNMaWdodHMiKV0sZS5wcm90b3R5cGUsIl9tYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxlLnByb3RvdHlwZSwibWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW1AoImludmVydE5vcm1hbE1hcFgiKV0sZS5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFtQKCJpbnZlcnROb3JtYWxNYXBZIildLGUucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbUCgidHdvU2lkZWRMaWdodGluZyIpXSxlLnByb3RvdHlwZSwiX3R3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ0d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInVzZUxvZ2FyaXRobWljRGVwdGgiLG51bGwpLGV9KHZuKTt3ZSgiQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIixhciksZWUuRGVmYXVsdE1hdGVyaWFsRmFjdG9yeT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IGFyKCJkZWZhdWx0IG1hdGVyaWFsIixpKX07dmFyIHVmPSJpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5IixmZj1gI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmdsX0ZyYWdDb2xvci5yZ2I9cG93KGdsX0ZyYWdDb2xvci5yZ2IsdmVjMygyLjIpKTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1Zl09ZmY7dmFyIGxmPSJzaGFkb3dPbmx5UGl4ZWxTaGFkZXIiLGhmPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gZmxvYXQgYWxwaGE7CnVuaWZvcm0gdmVjMyBzaGFkb3dDb2xvcjsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPXZlYzMoMS4wLDEuMCwxLjApOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CmZsb2F0IHNoYWRvdz0xLjsKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4uMV0KdmVjNCBjb2xvcj12ZWM0KHNoYWRvd0NvbG9yLCgxLjAtY2xhbXAoc2hhZG93LDAuLDEuKSkqYWxwaGEpOwojaW5jbHVkZTxmb2dGcmFnbWVudD4KZ2xfRnJhZ0NvbG9yPWNvbG9yOwojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5PgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORAp9YDtMLlNoYWRlcnNTdG9yZVtsZl09aGY7dmFyIGNmPSJzaGFkb3dPbmx5VmVydGV4U2hhZGVyIixkZj1gcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OwphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZmRlZiBWRVJURVhDT0xPUgp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvbiwxLjApOwpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2lmZGVmIE5PUk1BTAp2Tm9ybWFsVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQobm9ybWFsLDAuMCkpKTsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVtjZl09ZGY7dmFyIHBmPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0LkNMSVBQTEFORT0hMSx0LkNMSVBQTEFORTI9ITEsdC5DTElQUExBTkUzPSExLHQuQ0xJUFBMQU5FND0hMSx0LkNMSVBQTEFORTU9ITEsdC5DTElQUExBTkU2PSExLHQuUE9JTlRTSVpFPSExLHQuRk9HPSExLHQuTk9STUFMPSExLHQuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0LkJvbmVzUGVyTWVzaD0wLHQuSU5TVEFOQ0VTPSExLHQuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdC5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHQucmVidWlsZCgpLHR9cmV0dXJuIGV9KHlyKSxtbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIG4uX25lZWRBbHBoYUJsZW5kaW5nPSEwLG4uc2hhZG93Q29sb3I9YmUuQmxhY2soKSxufXJldHVybiBlLnByb3RvdHlwZS5uZWVkQWxwaGFCbGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZWVkQWxwaGFCbGVuZGluZ30sZS5wcm90b3R5cGUubmVlZEFscGhhVGVzdGluZz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRBbHBoYVRlc3RUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlTGlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlTGlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hY3RpdmVMaWdodD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MCxuPXQubGlnaHRTb3VyY2VzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKGEuc2hhZG93RW5hYmxlZClyZXR1cm4gYX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuaXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3ZhciBhO2lmKHRoaXMuaXNGcm96ZW4mJnIuZWZmZWN0JiZyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5KXJldHVybiEwO3IubWF0ZXJpYWxEZWZpbmVzfHwoci5tYXRlcmlhbERlZmluZXM9bmV3IHBmKTt2YXIgcz1yLm1hdGVyaWFsRGVmaW5lcyxvPXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLl9pc1JlYWR5Rm9yU3ViTWVzaChyKSlyZXR1cm4hMDt2YXIgdT1vLmdldEVuZ2luZSgpO2lmKHRoaXMuX2FjdGl2ZUxpZ2h0KWZvcih2YXIgZj0wLGw9dC5saWdodFNvdXJjZXM7ZjxsLmxlbmd0aDtmKyspe3ZhciBoPWxbZl07aWYoaC5zaGFkb3dFbmFibGVkKXtpZih0aGlzLl9hY3RpdmVMaWdodD09PWgpYnJlYWs7dmFyIGM9dC5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzLl9hY3RpdmVMaWdodCk7YyE9PS0xJiYodC5saWdodFNvdXJjZXMuc3BsaWNlKGMsMSksdC5saWdodFNvdXJjZXMuc3BsaWNlKDAsMCx0aGlzLl9hY3RpdmVMaWdodCkpO2JyZWFrfX1ZLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhvLHUscywhIW4pLFkuUHJlcGFyZURlZmluZXNGb3JNaXNjKHQsbywhMSx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24odCkscykscy5fbmVlZE5vcm1hbHM9WS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhvLHQscywhMSwxKTt2YXIgZD0oYT10aGlzLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaCh0KSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSEwLGQmJmQuZ2V0Q2xhc3NOYW1lJiZkLmdldENsYXNzTmFtZSgpPT09IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIil7dmFyIHA9ZDt0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hcC5hdXRvQ2FsY0RlcHRoQm91bmRzfWlmKFkuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKHQscywhMSwhMCkscy5pc0RpcnR5KXtzLm1hcmtBc1Byb2Nlc3NlZCgpLG8ucmVzZXRDYWNoZWRNYXRlcmlhbCgpO3ZhciBnPW5ldyBoaTtzLkZPRyYmZy5hZGRGYWxsYmFjaygxLCJGT0ciKSxZLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocyxnLDEpLHMuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmZy5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsdCkscy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz1vLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzO3ZhciBfPVttLlBvc2l0aW9uS2luZF07cy5OT1JNQUwmJl8ucHVzaChtLk5vcm1hbEtpbmQpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhfLHQscyxnKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKF8scyk7dmFyIHY9InNoYWRvd09ubHkiLHk9cy50b1N0cmluZygpLEU9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkZvZ0luZm9zIiwidkZvZ0NvbG9yIiwicG9pbnRTaXplIiwiYWxwaGEiLCJzaGFkb3dDb2xvciIsIm1Cb25lcyIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2Il0sUj1uZXcgQXJyYXksTT1uZXcgQXJyYXk7WS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6RSx1bmlmb3JtQnVmZmVyc05hbWVzOk0sc2FtcGxlcnM6UixkZWZpbmVzOnMsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOjF9KSxyLnNldEVmZmVjdChvLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdCh2LHthdHRyaWJ1dGVzOl8sdW5pZm9ybXNOYW1lczpFLHVuaWZvcm1CdWZmZXJzTmFtZXM6TSxzYW1wbGVyczpSLGRlZmluZXM6eSxmYWxsYmFja3M6ZyxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czoxfX0sdSkscyx0aGlzLl9tYXRlcmlhbENvbnRleHQpfXJldHVybiFyLmVmZmVjdHx8IXIuZWZmZWN0LmlzUmVhZHkoKT8hMToocy5fcmVuZGVySWQ9by5nZXRSZW5kZXJJZCgpLHIuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITAsITApfSxlLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLHM9bi5tYXRlcmlhbERlZmluZXM7aWYoISFzKXt2YXIgbz1uLmVmZmVjdDtpZighIW8pe2lmKHRoaXMuX2FjdGl2ZUVmZmVjdD1vLHRoaXMuYmluZE9ubHlXb3JsZE1hdHJpeCh0KSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsYS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksWS5CaW5kQm9uZXNQYXJhbWV0ZXJzKHIsdGhpcy5fYWN0aXZlRWZmZWN0KSx0aGlzLl9tdXN0UmViaW5kKGEsbykmJihZLkJpbmRDbGlwUGxhbmUodGhpcy5fYWN0aXZlRWZmZWN0LGEpLHRoaXMucG9pbnRzQ2xvdWQmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJhbHBoYSIsdGhpcy5hbHBoYSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldENvbG9yMygic2hhZG93Q29sb3IiLHRoaXMuc2hhZG93Q29sb3IpLGEuYmluZEV5ZVBvc2l0aW9uKG8pKSxhLmxpZ2h0c0VuYWJsZWQpe1kuQmluZExpZ2h0cyhhLHIsdGhpcy5fYWN0aXZlRWZmZWN0LHMsMSk7dmFyIHU9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2gocik7dSYmKHUuX3JlbmRlcklkPS0xKX0oYS5mb2dFbmFibGVkJiZyLmFwcGx5Rm9nJiZhLmZvZ01vZGUhPT1lZS5GT0dNT0RFX05PTkV8fHMuU0hBRE9XQ1NNMCkmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoInZpZXciLGEuZ2V0Vmlld01hdHJpeCgpKSxZLkJpbmRGb2dQYXJhbWV0ZXJzKGEscix0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX2FmdGVyQmluZChyLHRoaXMuX2FjdGl2ZUVmZmVjdCl9fX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gSi5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LHIuZ2V0U2NlbmUoKSl9LHRoaXMpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5jdXN0b21UeXBlPSJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsdH0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlNoYWRvd09ubHlNYXRlcmlhbCJ9LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSxyKX0sdCxyLG4pfSxlfSh2bik7d2UoIkJBQllMT04uU2hhZG93T25seU1hdGVyaWFsIixtbik7Y29uc3QgX2Y9e2FzcGVjdDozMDAvMTUwLGVuYWJsZURlYnVnZ2luZzohMSxlbmFibGVTaGFkb3dzOiEwfTtjbGFzcyBnZntjb25zdHJ1Y3RvcihlKXtxZSh0aGlzLCJzaXplIiw5LjUpO3RoaXMuY29uZmlnPXsuLi5fZiwuLi5lfSx0aGlzLmNyZWF0ZSgpfWNyZWF0ZShlKXt0aGlzLmRlc3Ryb3koKSxPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLGUpO2NvbnN0e2FzcGVjdDp0LGVuYWJsZURlYnVnZ2luZzpyPSEwLGVuYWJsZVNoYWRvd3M6bn09dGhpcy5jb25maWcsYT0zMDtsZXQgczt0aGlzLmJveD1uZXcgSmUoImRpY2VCb3giKSxyPyhzPW5ldyBhcigiZGljZUJveF9tYXRlcmlhbCIpLHMuYWxwaGE9Ljcscy5kaWZmdXNlQ29sb3I9bmV3IGJlKDEsMSwwKSk6biYmKHM9bmV3IG1uKCJzaGFkb3dPbmx5Iix0aGlzLmNvbmZpZy5zY2VuZSkpO2NvbnN0IG89V3QoImdyb3VuZCIse3dpZHRoOnRoaXMuc2l6ZSoyLGhlaWdodDoxLGRlcHRoOnRoaXMuc2l6ZSoyfSx0aGlzLmNvbmZpZy5zY2VuZSk7aWYoby5zY2FsaW5nPW5ldyBiKHQsMSwxKSxvLm1hdGVyaWFsPXMsby5yZWNlaXZlU2hhZG93cz0hMCxvLnNldFBhcmVudCh0aGlzLmJveCkscil7Y29uc3QgdT1XdCgid2FsbFRvcCIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6YSxkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7dS5wb3NpdGlvbi55PWEvMix1LnBvc2l0aW9uLno9dGhpcy5zaXplLy0yLHUuc2NhbGluZz1uZXcgYih0LDEsMSksdS5tYXRlcmlhbD1zLHUuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBmPVd0KCJ3YWxsUmlnaHQiLHt3aWR0aDoxLGhlaWdodDphLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2YucG9zaXRpb24ueD10aGlzLnNpemUqdC8yLGYucG9zaXRpb24ueT1hLzIsZi5tYXRlcmlhbD1zLGYuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBsPVd0KCJ3YWxsQm90dG9tIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDphLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtsLnBvc2l0aW9uLnk9YS8yLGwucG9zaXRpb24uej10aGlzLnNpemUvMixsLnNjYWxpbmc9bmV3IGIodCwxLDEpLGwubWF0ZXJpYWw9cyxsLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgaD1XdCgid2FsbExlZnQiLHt3aWR0aDoxLGhlaWdodDphLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2gucG9zaXRpb24ueD10aGlzLnNpemUqdC8tMixoLnBvc2l0aW9uLnk9YS8yLGgubWF0ZXJpYWw9cyxoLnNldFBhcmVudCh0aGlzLmJveCl9fWRlc3Ryb3koKXt0aGlzLmJveCYmdGhpcy5ib3guZGlzcG9zZSgpfX12YXIgQXQ7KGZ1bmN0aW9uKGkpe2lbaS5DbGVhbj0wXT0iQ2xlYW4iLGlbaS5TdG9wPTFdPSJTdG9wIixpW2kuU3luYz0yXT0iU3luYyIsaVtpLk5vU3luYz0zXT0iTm9TeW5jIn0pKEF0fHwoQXQ9e30pKTt2YXIgS2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9LHNldDpmdW5jdGlvbihlKXtudC5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaG93TG9hZGluZ1NjcmVlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiBudC5TaG93TG9hZGluZ1NjcmVlbn0sc2V0OmZ1bmN0aW9uKGUpe250LlNob3dMb2FkaW5nU2NyZWVuPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImxvZ2dpbmdMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudC5sb2dnaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXtudC5sb2dnaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBudC5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfSxzZXQ6ZnVuY3Rpb24oZSl7bnQuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuR2V0RGVmYXVsdFBsdWdpbj1mdW5jdGlvbigpe3JldHVybiBpLl9SZWdpc3RlcmVkUGx1Z2luc1siLmJhYnlsb24iXX0saS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWkuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdO3JldHVybiB0fHwoay5XYXJuKCJVbmFibGUgdG8gZmluZCBhIHBsdWdpbiB0byBsb2FkICIrZSsiIGZpbGVzLiBUcnlpbmcgdG8gdXNlIC5iYWJ5bG9uIGRlZmF1bHQgcGx1Z2luLiBUbyBsb2FkIGZyb20gYSBzcGVjaWZpYyBmaWxldHlwZSAoZWcuIGdsdGYpIHNlZTogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9ob3dfdG8vbG9hZF9mcm9tX2FueV9maWxlX3R5cGUiKSxpLkdldERlZmF1bHRQbHVnaW4oKSl9LGkuX0dldFBsdWdpbkZvckRpcmVjdExvYWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGkuX1JlZ2lzdGVyZWRQbHVnaW5zKXt2YXIgcj1pLl9SZWdpc3RlcmVkUGx1Z2luc1t0XS5wbHVnaW47aWYoci5jYW5EaXJlY3RMb2FkJiZyLmNhbkRpcmVjdExvYWQoZSkpcmV0dXJuIGkuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdfXJldHVybiBpLkdldERlZmF1bHRQbHVnaW4oKX0saS5fR2V0UGx1Z2luRm9yRmlsZW5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCI/Iik7dCE9PS0xJiYoZT1lLnN1YnN0cmluZygwLHQpKTt2YXIgcj1lLmxhc3RJbmRleE9mKCIuIiksbj1lLnN1YnN0cmluZyhyLGUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBpLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24obil9LGkuX0dldERpcmVjdExvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDAsNSk9PT0iZGF0YToiP2Uuc3Vic3RyKDUpOm51bGx9LGkuX0Zvcm1hdEVycm9yTWVzc2FnZT1mdW5jdGlvbihlLHQscil7dmFyIG49IlVuYWJsZSB0byBsb2FkIGZyb20gIitlLnVybDtyZXR1cm4gdD9uKz0iOiAiLmNvbmNhdCh0KTpyJiYobis9IjogIi5jb25jYXQocikpLG59LGkuX0xvYWREYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PWkuX0dldERpcmVjdExvYWQoZS51cmwpLGY9bz9pLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24obyk6dT9pLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUudXJsKTppLl9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlLnVybCksbDtpZihmLnBsdWdpbi5jcmVhdGVQbHVnaW4hPT12b2lkIDA/bD1mLnBsdWdpbi5jcmVhdGVQbHVnaW4oKTpsPWYucGx1Z2luLCFsKXRocm93IlRoZSBsb2FkZXIgcGx1Z2luIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZpbGUgdHlwZSB5b3UgYXJlIHRyeWluZyB0byBsb2FkIGhhcyBub3QgYmVlbiBmb3VuZC4gSWYgdXNpbmcgZXM2LCBwbGVhc2UgaW1wb3J0IHRoZSBwbHVnaW4geW91IHdpc2ggdG8gdXNlIGJlZm9yZS4iO2lmKGkuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKSx1JiYobC5jYW5EaXJlY3RMb2FkJiZsLmNhbkRpcmVjdExvYWQoZS51cmwpfHwhX3IoZS51cmwpKSl7aWYobC5kaXJlY3RMb2FkKXt2YXIgaD1sLmRpcmVjdExvYWQodCx1KTtoLnRoZW4/aC50aGVuKGZ1bmN0aW9uKFMpe3IobCxTKX0pLmNhdGNoKGZ1bmN0aW9uKFMpe2EoIkVycm9yIGluIGRpcmVjdExvYWQgb2YgX2xvYWREYXRhOiAiK1MsUyl9KTpyKGwsaCl9ZWxzZSByKGwsdSk7cmV0dXJuIGx9dmFyIGM9Zi5pc0JpbmFyeSxkPWZ1bmN0aW9uKFMsdyl7aWYodC5pc0Rpc3Bvc2VkKXthKCJTY2VuZSBoYXMgYmVlbiBkaXNwb3NlZCIpO3JldHVybn1yKGwsUyx3KX0scD1udWxsLGc9ITEsXz1sLm9uRGlzcG9zZU9ic2VydmFibGU7XyYmXy5hZGQoZnVuY3Rpb24oKXtnPSEwLHAmJihwLmFib3J0KCkscD1udWxsKSxzKCl9KTt2YXIgdj1mdW5jdGlvbigpe2lmKCFnKXt2YXIgUz1mdW5jdGlvbihGLHgpe2EoRj09bnVsbD92b2lkIDA6Ri5zdGF0dXNUZXh0LHgpfSx3PWUuZmlsZXx8ZS51cmw7cD1sLmxvYWRGaWxlP2wubG9hZEZpbGUodCx3LGQsbixjLFMpOnQuX2xvYWRGaWxlKHcsZCxuLCEwLGMsUyl9fSx5PXQuZ2V0RW5naW5lKCksRT15LmVuYWJsZU9mZmxpbmVTdXBwb3J0O2lmKEUpe2Zvcih2YXIgUj0hMSxNPTAsQz10LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzO008Qy5sZW5ndGg7TSsrKXt2YXIgQT1DW01dO2lmKEEudGVzdChlLnVybCkpe1I9ITA7YnJlYWt9fUU9IVJ9cmV0dXJuIEUmJmhlLk9mZmxpbmVQcm92aWRlckZhY3Rvcnk/dC5vZmZsaW5lUHJvdmlkZXI9aGUuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCx2LHkuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOnYoKSxsfSxpLl9HZXRGaWxlSW5mbz1mdW5jdGlvbihlLHQpe3ZhciByLG4sYT1udWxsO2lmKCF0KXI9ZSxuPV9lLkdldEZpbGVuYW1lKGUpLGU9X2UuR2V0Rm9sZGVyUGF0aChlKTtlbHNlIGlmKHQubmFtZSl7dmFyIHM9dDtyPSJmaWxlOiIuY29uY2F0KHMubmFtZSksbj1zLm5hbWUsYT1zfWVsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0LnN0YXJ0c1dpdGgoImRhdGE6Iikpcj10LG49IiI7ZWxzZXt2YXIgbz10O2lmKG8uc3Vic3RyKDAsMSk9PT0iLyIpcmV0dXJuIF9lLkVycm9yKCJXcm9uZyBzY2VuZUZpbGVuYW1lIHBhcmFtZXRlciIpLG51bGw7cj1lK28sbj1vfXJldHVybnt1cmw6cixyb290VXJsOmUsbmFtZTpuLGZpbGU6YX19LGkuR2V0UGx1Z2luRm9yRXh0ZW5zaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSkucGx1Z2lufSxpLklzUGx1Z2luRm9yRXh0ZW5zaW9uQXZhaWxhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiEhaS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV19LGkuUmVnaXN0ZXJQbHVnaW49ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUuZXh0ZW5zaW9ucz09InN0cmluZyIpe3ZhciB0PWUuZXh0ZW5zaW9ucztpLl9SZWdpc3RlcmVkUGx1Z2luc1t0LnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTohMX19ZWxzZXt2YXIgcj1lLmV4dGVuc2lvbnM7T2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihuKXtpLl9SZWdpc3RlcmVkUGx1Z2luc1tuLnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTpyW25dLmlzQmluYXJ5fX0pfX0saS5JbXBvcnRNZXNoPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7aWYocj09PXZvaWQgMCYmKHI9IiIpLG49PT12b2lkIDAmJihuPXJlLkxhc3RDcmVhdGVkU2NlbmUpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLCFuKXJldHVybiBrLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gaW1wb3J0IG1lc2ggdG8iKSxudWxsO3ZhciBmPWkuX0dldEZpbGVJbmZvKHQscik7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGw9e307bi5fYWRkUGVuZGluZ0RhdGEobCk7dmFyIGg9ZnVuY3Rpb24oKXtuLl9yZW1vdmVQZW5kaW5nRGF0YShsKX0sYz1mdW5jdGlvbihnLF8pe3ZhciB2PWkuX0Zvcm1hdEVycm9yTWVzc2FnZShmLGcsXyk7bz9vKG4sdixuZXcgeHQodixDdC5TY2VuZUxvYWRlckVycm9yLF8pKTprLkVycm9yKHYpLGgoKX0sZD1zP2Z1bmN0aW9uKGcpe3RyeXtzKGcpfWNhdGNoKF8pe2MoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2s6ICIrXyxfKX19OnZvaWQgMCxwPWZ1bmN0aW9uKGcsXyx2LHksRSxSLE0pe2lmKG4uaW1wb3J0ZWRNZXNoZXNGaWxlcy5wdXNoKGYudXJsKSxhKXRyeXthKGcsXyx2LHksRSxSLE0pfWNhdGNoKEMpe2MoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjazogIitDLEMpfW4uX3JlbW92ZVBlbmRpbmdEYXRhKGwpfTtyZXR1cm4gaS5fTG9hZERhdGEoZixuLGZ1bmN0aW9uKGcsXyx2KXtpZihnLnJld3JpdGVSb290VVJMJiYoZi5yb290VXJsPWcucmV3cml0ZVJvb3RVUkwoZi5yb290VXJsLHYpKSxnLmltcG9ydE1lc2gpe3ZhciB5PWcsRT1uZXcgQXJyYXksUj1uZXcgQXJyYXksTT1uZXcgQXJyYXk7aWYoIXkuaW1wb3J0TWVzaChlLG4sXyxmLnJvb3RVcmwsRSxSLE0sYykpcmV0dXJuO24ubG9hZGluZ1BsdWdpbk5hbWU9Zy5uYW1lLHAoRSxSLE0sW10sW10sW10sW10pfWVsc2V7dmFyIEM9ZztDLmltcG9ydE1lc2hBc3luYyhlLG4sXyxmLnJvb3RVcmwsZCxmLm5hbWUpLnRoZW4oZnVuY3Rpb24oQSl7bi5sb2FkaW5nUGx1Z2luTmFtZT1nLm5hbWUscChBLm1lc2hlcyxBLnBhcnRpY2xlU3lzdGVtcyxBLnNrZWxldG9ucyxBLmFuaW1hdGlvbkdyb3VwcyxBLnRyYW5zZm9ybU5vZGVzLEEuZ2VvbWV0cmllcyxBLmxpZ2h0cyl9KS5jYXRjaChmdW5jdGlvbihBKXtjKEEubWVzc2FnZSxBKX0pfX0sZCxjLGgsdSl9LGkuSW1wb3J0TWVzaEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9IiIpLG49PT12b2lkIDAmJihuPXJlLkxhc3RDcmVhdGVkU2NlbmUpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKG8sdSl7aS5JbXBvcnRNZXNoKGUsdCxyLG4sZnVuY3Rpb24oZixsLGgsYyxkLHAsZyl7byh7bWVzaGVzOmYscGFydGljbGVTeXN0ZW1zOmwsc2tlbGV0b25zOmgsYW5pbWF0aW9uR3JvdXBzOmMsdHJhbnNmb3JtTm9kZXM6ZCxnZW9tZXRyaWVzOnAsbGlnaHRzOmd9KX0sYSxmdW5jdGlvbihmLGwsaCl7dShofHxuZXcgRXJyb3IobCkpfSxzKX0pfSxpLkxvYWQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1yZS5MYXN0Q3JlYXRlZEVuZ2luZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCkscj9pLkFwcGVuZChlLHQsbmV3IGVlKHIpLG4sYSxzLG8pOihfZS5FcnJvcigiTm8gZW5naW5lIGF2YWlsYWJsZSIpLG51bGwpfSxpLkxvYWRBc3luYz1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRFbmdpbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5Mb2FkKGUsdCxyLGZ1bmN0aW9uKHUpe3ModSl9LG4sZnVuY3Rpb24odSxmLGwpe28obHx8bmV3IEVycm9yKGYpKX0sYSl9KX0saS5BcHBlbmQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9dGhpcztpZih0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksIXIpcmV0dXJuIGsuRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBhcHBlbmQgdG8iKSxudWxsO3ZhciBmPWkuX0dldEZpbGVJbmZvKGUsdCk7aWYoIWYpcmV0dXJuIG51bGw7aS5TaG93TG9hZGluZ1NjcmVlbiYmIXRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuJiYodGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITAsci5nZXRFbmdpbmUoKS5kaXNwbGF5TG9hZGluZ1VJKCksci5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7ci5nZXRFbmdpbmUoKS5oaWRlTG9hZGluZ1VJKCksdS5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITF9KSk7dmFyIGw9e307ci5fYWRkUGVuZGluZ0RhdGEobCk7dmFyIGg9ZnVuY3Rpb24oKXtyLl9yZW1vdmVQZW5kaW5nRGF0YShsKX0sYz1mdW5jdGlvbihnLF8pe3ZhciB2PWkuX0Zvcm1hdEVycm9yTWVzc2FnZShmLGcsXyk7cz9zKHIsdixuZXcgeHQodixDdC5TY2VuZUxvYWRlckVycm9yLF8pKTprLkVycm9yKHYpLGgoKX0sZD1hP2Z1bmN0aW9uKGcpe3RyeXthKGcpfWNhdGNoKF8pe2MoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLF8pfX06dm9pZCAwLHA9ZnVuY3Rpb24oKXtpZihuKXRyeXtuKHIpfWNhdGNoKGcpe2MoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsZyl9ci5fcmVtb3ZlUGVuZGluZ0RhdGEobCl9O3JldHVybiBpLl9Mb2FkRGF0YShmLHIsZnVuY3Rpb24oZyxfKXtpZihnLmxvYWQpe3ZhciB2PWc7aWYoIXYubG9hZChyLF8sZi5yb290VXJsLGMpKXJldHVybjtyLmxvYWRpbmdQbHVnaW5OYW1lPWcubmFtZSxwKCl9ZWxzZXt2YXIgeT1nO3kubG9hZEFzeW5jKHIsXyxmLnJvb3RVcmwsZCxmLm5hbWUpLnRoZW4oZnVuY3Rpb24oKXtyLmxvYWRpbmdQbHVnaW5OYW1lPWcubmFtZSxwKCl9KS5jYXRjaChmdW5jdGlvbihFKXtjKEUubWVzc2FnZSxFKX0pfX0sZCxjLGgsbyl9LGkuQXBwZW5kQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPXJlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5BcHBlbmQoZSx0LHIsZnVuY3Rpb24odSl7cyh1KX0sbixmdW5jdGlvbih1LGYsbCl7byhsfHxuZXcgRXJyb3IoZikpfSxhKX0pfSxpLkxvYWRBc3NldENvbnRhaW5lcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXtpZih0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksIXIpcmV0dXJuIGsuRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFzc2V0IGNvbnRhaW5lciB0byIpLG51bGw7dmFyIHU9aS5fR2V0RmlsZUluZm8oZSx0KTtpZighdSlyZXR1cm4gbnVsbDt2YXIgZj17fTtyLl9hZGRQZW5kaW5nRGF0YShmKTt2YXIgbD1mdW5jdGlvbigpe3IuX3JlbW92ZVBlbmRpbmdEYXRhKGYpfSxoPWZ1bmN0aW9uKHAsZyl7dmFyIF89aS5fRm9ybWF0RXJyb3JNZXNzYWdlKHUscCxnKTtzP3MocixfLG5ldyB4dChfLEN0LlNjZW5lTG9hZGVyRXJyb3IsZykpOmsuRXJyb3IoXyksbCgpfSxjPWE/ZnVuY3Rpb24ocCl7dHJ5e2EocCl9Y2F0Y2goZyl7aCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsZyl9fTp2b2lkIDAsZD1mdW5jdGlvbihwKXtpZihuKXRyeXtuKHApfWNhdGNoKGcpe2goIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsZyl9ci5fcmVtb3ZlUGVuZGluZ0RhdGEoZil9O3JldHVybiBpLl9Mb2FkRGF0YSh1LHIsZnVuY3Rpb24ocCxnKXtpZihwLmxvYWRBc3NldENvbnRhaW5lcil7dmFyIF89cCx2PV8ubG9hZEFzc2V0Q29udGFpbmVyKHIsZyx1LnJvb3RVcmwsaCk7aWYoIXYpcmV0dXJuO3IubG9hZGluZ1BsdWdpbk5hbWU9cC5uYW1lLGQodil9ZWxzZSBpZihwLmxvYWRBc3NldENvbnRhaW5lckFzeW5jKXt2YXIgeT1wO3kubG9hZEFzc2V0Q29udGFpbmVyQXN5bmMocixnLHUucm9vdFVybCxjLHUubmFtZSkudGhlbihmdW5jdGlvbihFKXtyLmxvYWRpbmdQbHVnaW5OYW1lPXAubmFtZSxkKEUpfSkuY2F0Y2goZnVuY3Rpb24oRSl7aChFLm1lc3NhZ2UsRSl9KX1lbHNlIGgoIkxvYWRBc3NldENvbnRhaW5lciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGx1Z2luLiBQbHVnaW4gZGlkIG5vdCBwcm92aWRlIGEgbG9hZEFzc2V0Q29udGFpbmVyIG9yIGxvYWRBc3NldENvbnRhaW5lckFzeW5jIG1ldGhvZC4iKX0sYyxoLGwsbyl9LGkuTG9hZEFzc2V0Q29udGFpbmVyQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPXJlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5Mb2FkQXNzZXRDb250YWluZXIoZSx0LHIsZnVuY3Rpb24odSl7cyh1KX0sbixmdW5jdGlvbih1LGYsbCl7byhsfHxuZXcgRXJyb3IoZikpfSxhKX0pfSxpLkltcG9ydEFuaW1hdGlvbnM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7aWYodD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPXJlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPSEwKSxhPT09dm9pZCAwJiYoYT1BdC5DbGVhbikscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksdT09PXZvaWQgMCYmKHU9bnVsbCksZj09PXZvaWQgMCYmKGY9bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksIXIpe2suRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFuaW1hdGlvbnMgdG8iKTtyZXR1cm59aWYobil7Zm9yKHZhciBoPTAsYz1yLmFuaW1hdGFibGVzO2g8Yy5sZW5ndGg7aCsrKXt2YXIgZD1jW2hdO2QucmVzZXQoKX1yLnN0b3BBbGxBbmltYXRpb25zKCksci5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHYpe3YuZGlzcG9zZSgpfSk7dmFyIHA9ci5nZXROb2RlcygpO3AuZm9yRWFjaChmdW5jdGlvbih2KXt2LmFuaW1hdGlvbnMmJih2LmFuaW1hdGlvbnM9W10pfSl9ZWxzZSBzd2l0Y2goYSl7Y2FzZSBBdC5DbGVhbjpyLmFuaW1hdGlvbkdyb3Vwcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24odil7di5kaXNwb3NlKCl9KTticmVhaztjYXNlIEF0LlN0b3A6ci5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmdW5jdGlvbih2KXt2LnN0b3AoKX0pO2JyZWFrO2Nhc2UgQXQuU3luYzpyLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKHYpe3YucmVzZXQoKSx2LnJlc3RhcnQoKX0pO2JyZWFrO2Nhc2UgQXQuTm9TeW5jOmJyZWFrO2RlZmF1bHQ6ay5FcnJvcigiVW5rbm93biBhbmltYXRpb24gZ3JvdXAgbG9hZGluZyBtb2RlIHZhbHVlICciK2ErIiciKTtyZXR1cm59dmFyIGc9ci5hbmltYXRhYmxlcy5sZW5ndGgsXz1mdW5jdGlvbih2KXt2Lm1lcmdlQW5pbWF0aW9uc1RvKHIsci5hbmltYXRhYmxlcy5zbGljZShnKSxzKSx2LmRpc3Bvc2UoKSxyLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksbyYmbyhyKX07dGhpcy5Mb2FkQXNzZXRDb250YWluZXIoZSx0LHIsXyx1LGYsbCl9LGkuSW1wb3J0QW5pbWF0aW9uc0FzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49ITApLGE9PT12b2lkIDAmJihhPUF0LkNsZWFuKSxzPT09dm9pZCAwJiYocz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxsPT09dm9pZCAwJiYobD1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihoLGMpe2kuSW1wb3J0QW5pbWF0aW9ucyhlLHQscixuLGEscyxmdW5jdGlvbihkKXtoKGQpfSx1LGZ1bmN0aW9uKGQscCxnKXtjKGd8fG5ldyBFcnJvcihwKSl9LGwpfSl9LGkuTk9fTE9HR0lORz0wLGkuTUlOSU1BTF9MT0dHSU5HPTEsaS5TVU1NQVJZX0xPR0dJTkc9MixpLkRFVEFJTEVEX0xPR0dJTkc9MyxpLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZT1uZXcgTyxpLl9SZWdpc3RlcmVkUGx1Z2lucz17fSxpLl9TaG93aW5nTG9hZGluZ1NjcmVlbj0hMSxpfSgpLGF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7cj09PXZvaWQgMCYmKHI9TnVtYmVyLk1BWF9WQUxVRSksdGhpcy5vcmlnaW49ZSx0aGlzLmRpcmVjdGlvbj10LHRoaXMubGVuZ3RoPXJ9cmV0dXJuIGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMub3JpZ2luLmNsb25lKCksdGhpcy5kaXJlY3Rpb24uY2xvbmUoKSx0aGlzLmxlbmd0aCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNCb3hNaW5NYXg9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPTApO3ZhciBuPWkuX1RtcFZlY3RvcjNbMF0uY29weUZyb21GbG9hdHMoZS54LXIsZS55LXIsZS56LXIpLGE9aS5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyh0Lngrcix0Lnkrcix0Lnorcikscz0wLG89TnVtYmVyLk1BWF9WQUxVRSx1LGYsbCxoO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLngpPDFlLTcpe2lmKHRoaXMub3JpZ2luLng8bi54fHx0aGlzLm9yaWdpbi54PmEueClyZXR1cm4hMX1lbHNlIGlmKHU9MS90aGlzLmRpcmVjdGlvbi54LGY9KG4ueC10aGlzLm9yaWdpbi54KSp1LGw9KGEueC10aGlzLm9yaWdpbi54KSp1LGw9PT0tMS8wJiYobD0xLzApLGY+bCYmKGg9ZixmPWwsbD1oKSxzPU1hdGgubWF4KGYscyksbz1NYXRoLm1pbihsLG8pLHM+bylyZXR1cm4hMTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi55KTwxZS03KXtpZih0aGlzLm9yaWdpbi55PG4ueXx8dGhpcy5vcmlnaW4ueT5hLnkpcmV0dXJuITF9ZWxzZSBpZih1PTEvdGhpcy5kaXJlY3Rpb24ueSxmPShuLnktdGhpcy5vcmlnaW4ueSkqdSxsPShhLnktdGhpcy5vcmlnaW4ueSkqdSxsPT09LTEvMCYmKGw9MS8wKSxmPmwmJihoPWYsZj1sLGw9aCkscz1NYXRoLm1heChmLHMpLG89TWF0aC5taW4obCxvKSxzPm8pcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueik8MWUtNyl7aWYodGhpcy5vcmlnaW4uejxuLnp8fHRoaXMub3JpZ2luLno+YS56KXJldHVybiExfWVsc2UgaWYodT0xL3RoaXMuZGlyZWN0aW9uLnosZj0obi56LXRoaXMub3JpZ2luLnopKnUsbD0oYS56LXRoaXMub3JpZ2luLnopKnUsbD09PS0xLzAmJihsPTEvMCksZj5sJiYoaD1mLGY9bCxsPWgpLHM9TWF0aC5tYXgoZixzKSxvPU1hdGgubWluKGwsbykscz5vKXJldHVybiExO3JldHVybiEwfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzQm94PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLHRoaXMuaW50ZXJzZWN0c0JveE1pbk1heChlLm1pbmltdW0sZS5tYXhpbXVtLHQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9ZS5jZW50ZXIueC10aGlzLm9yaWdpbi54LG49ZS5jZW50ZXIueS10aGlzLm9yaWdpbi55LGE9ZS5jZW50ZXIuei10aGlzLm9yaWdpbi56LHM9cipyK24qbithKmEsbz1lLnJhZGl1cyt0LHU9bypvO2lmKHM8PXUpcmV0dXJuITA7dmFyIGY9cip0aGlzLmRpcmVjdGlvbi54K24qdGhpcy5kaXJlY3Rpb24ueSthKnRoaXMuZGlyZWN0aW9uLno7aWYoZjwwKXJldHVybiExO3ZhciBsPXMtZipmO3JldHVybiBsPD11fSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzVHJpYW5nbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuX1RtcFZlY3RvcjNbMF0sYT1pLl9UbXBWZWN0b3IzWzFdLHM9aS5fVG1wVmVjdG9yM1syXSxvPWkuX1RtcFZlY3RvcjNbM10sdT1pLl9UbXBWZWN0b3IzWzRdO3Quc3VidHJhY3RUb1JlZihlLG4pLHIuc3VidHJhY3RUb1JlZihlLGEpLGIuQ3Jvc3NUb1JlZih0aGlzLmRpcmVjdGlvbixhLHMpO3ZhciBmPWIuRG90KG4scyk7aWYoZj09PTApcmV0dXJuIG51bGw7dmFyIGw9MS9mO3RoaXMub3JpZ2luLnN1YnRyYWN0VG9SZWYoZSxvKTt2YXIgaD1iLkRvdChvLHMpKmw7aWYoaDwwfHxoPjEpcmV0dXJuIG51bGw7Yi5Dcm9zc1RvUmVmKG8sbix1KTt2YXIgYz1iLkRvdCh0aGlzLmRpcmVjdGlvbix1KSpsO2lmKGM8MHx8aCtjPjEpcmV0dXJuIG51bGw7dmFyIGQ9Yi5Eb3QoYSx1KSpsO3JldHVybiBkPnRoaXMubGVuZ3RoP251bGw6bmV3ICRyKDEtaC1jLGgsZCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNQbGFuZT1mdW5jdGlvbihlKXt2YXIgdCxyPWIuRG90KGUubm9ybWFsLHRoaXMuZGlyZWN0aW9uKTtpZihNYXRoLmFicyhyKTw5OTk5OTk5OTc0NzUyNDNlLTIxKXJldHVybiBudWxsO3ZhciBuPWIuRG90KGUubm9ybWFsLHRoaXMub3JpZ2luKTtyZXR1cm4gdD0oLWUuZC1uKS9yLHQ8MD90PC05OTk5OTk5OTc0NzUyNDNlLTIxP251bGw6MDp0fSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzQXhpcz1mdW5jdGlvbihlLHQpe3N3aXRjaCh0PT09dm9pZCAwJiYodD0wKSxlKXtjYXNlInkiOnt2YXIgcj0odGhpcy5vcmlnaW4ueS10KS90aGlzLmRpcmVjdGlvbi55O3JldHVybiByPjA/bnVsbDpuZXcgYih0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLXIsdCx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLXIpfWNhc2UieCI6e3ZhciByPSh0aGlzLm9yaWdpbi54LXQpL3RoaXMuZGlyZWN0aW9uLng7cmV0dXJuIHI+MD9udWxsOm5ldyBiKHQsdGhpcy5vcmlnaW4ueSt0aGlzLmRpcmVjdGlvbi55Ki1yLHRoaXMub3JpZ2luLnordGhpcy5kaXJlY3Rpb24ueiotcil9Y2FzZSJ6Ijp7dmFyIHI9KHRoaXMub3JpZ2luLnotdCkvdGhpcy5kaXJlY3Rpb24uejtyZXR1cm4gcj4wP251bGw6bmV3IGIodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1yLHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotcix0KX1kZWZhdWx0OnJldHVybiBudWxsfX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c01lc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1ELk1hdHJpeFswXTtyZXR1cm4gZS5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHIpLHRoaXMuX3RtcFJheT9pLlRyYW5zZm9ybVRvUmVmKHRoaXMscix0aGlzLl90bXBSYXkpOnRoaXMuX3RtcFJheT1pLlRyYW5zZm9ybSh0aGlzLHIpLGUuaW50ZXJzZWN0cyh0aGlzLl90bXBSYXksdCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNNZXNoZXM9ZnVuY3Rpb24oZSx0LHIpe3I/ci5sZW5ndGg9MDpyPVtdO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgYT10aGlzLmludGVyc2VjdHNNZXNoKGVbbl0sdCk7YS5oaXQmJnIucHVzaChhKX1yZXR1cm4gci5zb3J0KHRoaXMuX2NvbXBhcmVQaWNraW5nSW5mbykscn0saS5wcm90b3R5cGUuX2NvbXBhcmVQaWNraW5nSW5mbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmRpc3RhbmNlPHQuZGlzdGFuY2U/LTE6ZS5kaXN0YW5jZT50LmRpc3RhbmNlPzE6MH0saS5wcm90b3R5cGUuaW50ZXJzZWN0aW9uU2VnbWVudD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5vcmlnaW4sYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1ELlZlY3RvcjNbMl0sdT1ELlZlY3RvcjNbM107dC5zdWJ0cmFjdFRvUmVmKGUsYSksdGhpcy5kaXJlY3Rpb24uc2NhbGVUb1JlZihpLl9SYXlsLG8pLG4uYWRkVG9SZWYobyxzKSxlLnN1YnRyYWN0VG9SZWYobix1KTt2YXIgZj1iLkRvdChhLGEpLGw9Yi5Eb3QoYSxvKSxoPWIuRG90KG8sbyksYz1iLkRvdChhLHUpLGQ9Yi5Eb3Qobyx1KSxwPWYqaC1sKmwsZyxfPXAsdix5PXA7cDxpLl9TbWFsbG51bT8oZz0wLF89MSx2PWQseT1oKTooZz1sKmQtaCpjLHY9ZipkLWwqYyxnPDA/KGc9MCx2PWQseT1oKTpnPl8mJihnPV8sdj1kK2wseT1oKSksdjwwPyh2PTAsLWM8MD9nPTA6LWM+Zj9nPV86KGc9LWMsXz1mKSk6dj55JiYodj15LC1jK2w8MD9nPTA6LWMrbD5mP2c9XzooZz0tYytsLF89ZikpO3ZhciBFPU1hdGguYWJzKGcpPGkuX1NtYWxsbnVtPzA6Zy9fLFI9TWF0aC5hYnModik8aS5fU21hbGxudW0/MDp2L3ksTT1ELlZlY3RvcjNbNF07by5zY2FsZVRvUmVmKFIsTSk7dmFyIEM9RC5WZWN0b3IzWzVdO2Euc2NhbGVUb1JlZihFLEMpLEMuYWRkSW5QbGFjZSh1KTt2YXIgQT1ELlZlY3RvcjNbNl07Qy5zdWJ0cmFjdFRvUmVmKE0sQSk7dmFyIFM9Uj4wJiZSPD10aGlzLmxlbmd0aCYmQS5sZW5ndGhTcXVhcmVkKCk8cipyO3JldHVybiBTP0MubGVuZ3RoKCk6LTF9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2lmKHU9PT12b2lkIDAmJih1PSExKSx1KXtpLl9SYXlEaXN0YW50fHwoaS5fUmF5RGlzdGFudD1pLlplcm8oKSksaS5fUmF5RGlzdGFudC51bnByb2plY3RSYXlUb1JlZihlLHQscixuLEkuSWRlbnRpdHlSZWFkT25seSxzLG8pO3ZhciBmPUQuTWF0cml4WzBdO2EuaW52ZXJ0VG9SZWYoZiksaS5UcmFuc2Zvcm1Ub1JlZihpLl9SYXlEaXN0YW50LGYsdGhpcyl9ZWxzZSB0aGlzLnVucHJvamVjdFJheVRvUmVmKGUsdCxyLG4sYSxzLG8pO3JldHVybiB0aGlzfSxpLlplcm89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoYi5aZXJvKCksYi5aZXJvKCkpfSxpLkNyZWF0ZU5ldz1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT1pLlplcm8oKTtyZXR1cm4gdS51cGRhdGUoZSx0LHIsbixhLHMsbyl9LGkuQ3JlYXRlTmV3RnJvbVRvPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj1JLklkZW50aXR5UmVhZE9ubHkpO3ZhciBuPXQuc3VidHJhY3QoZSksYT1NYXRoLnNxcnQobi54Km4ueCtuLnkqbi55K24ueipuLnopO3JldHVybiBuLm5vcm1hbGl6ZSgpLGkuVHJhbnNmb3JtKG5ldyBpKGUsbixhKSxyKX0saS5UcmFuc2Zvcm09ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaShuZXcgYigwLDAsMCksbmV3IGIoMCwwLDApKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ub1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ub1JlZj1mdW5jdGlvbihlLHQscil7Yi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLHQsci5vcmlnaW4pLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZS5kaXJlY3Rpb24sdCxyLmRpcmVjdGlvbiksci5sZW5ndGg9ZS5sZW5ndGg7dmFyIG49ci5kaXJlY3Rpb24sYT1uLmxlbmd0aCgpO2lmKCEoYT09PTB8fGE9PT0xKSl7dmFyIHM9MS9hO24ueCo9cyxuLnkqPXMsbi56Kj1zLHIubGVuZ3RoKj1hfX0saS5wcm90b3R5cGUudW5wcm9qZWN0UmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHUsZj1ELk1hdHJpeFswXTthLm11bHRpcGx5VG9SZWYocyxmKSxmLm11bHRpcGx5VG9SZWYobyxmKSxmLmludmVydCgpO3ZhciBsPUQuVmVjdG9yM1swXTtsLng9ZS9yKjItMSxsLnk9LSh0L24qMi0xKSxsLno9ISgodT1yZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHx1PT09dm9pZCAwKSYmdS5pc05EQ0hhbGZaUmFuZ2U/MDotMTt2YXIgaD1ELlZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMobC54LGwueSwxLTFlLTgpLGM9RC5WZWN0b3IzWzJdLGQ9RC5WZWN0b3IzWzNdO2IuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGwsZixjKSxiLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihoLGYsZCksdGhpcy5vcmlnaW4uY29weUZyb20oYyksZC5zdWJ0cmFjdFRvUmVmKGMsdGhpcy5kaXJlY3Rpb24pLHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpfSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoNixiLlplcm8pLGkuX1JheURpc3RhbnQ9aS5aZXJvKCksaS5fU21hbGxudW09MWUtOCxpLl9SYXlsPTFlOSxpfSgpO2VlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5PWZ1bmN0aW9uKGksZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBhPWF0Llplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoaSxlLHQsYSxyLG4pLGF9LGVlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9ITEpLHM9PT12b2lkIDAmJihzPSExKTt2YXIgbz10aGlzLmdldEVuZ2luZSgpO2lmKCFuKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuIHRoaXM7bj10aGlzLmFjdGl2ZUNhbWVyYX12YXIgdT1uLnZpZXdwb3J0LGY9dS50b0dsb2JhbChvLmdldFJlbmRlcldpZHRoKCksby5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGk9aS9vLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktZi54LGU9ZS9vLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKG8uZ2V0UmVuZGVySGVpZ2h0KCktZi55LWYuaGVpZ2h0KSxyLnVwZGF0ZShpLGUsZi53aWR0aCxmLmhlaWdodCx0fHxJLklkZW50aXR5UmVhZE9ubHksYT9JLklkZW50aXR5UmVhZE9ubHk6bi5nZXRWaWV3TWF0cml4KCksbi5nZXRQcm9qZWN0aW9uTWF0cml4KCkscyksdGhpc30sZWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1hdC5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihpLGUscix0KSxyfSxlZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbihpLGUsdCxyKXtpZighUWUpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5nZXRFbmdpbmUoKTtpZighcil7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7cj10aGlzLmFjdGl2ZUNhbWVyYX12YXIgYT1yLnZpZXdwb3J0LHM9YS50b0dsb2JhbChuLmdldFJlbmRlcldpZHRoKCksbi5nZXRSZW5kZXJIZWlnaHQoKSksbz1JLklkZW50aXR5KCk7cmV0dXJuIGk9aS9uLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktcy54LGU9ZS9uLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKG4uZ2V0UmVuZGVySGVpZ2h0KCktcy55LXMuaGVpZ2h0KSx0LnVwZGF0ZShpLGUscy53aWR0aCxzLmhlaWdodCxvLG8sci5nZXRQcm9qZWN0aW9uTWF0cml4KCkpLHRoaXN9LGVlLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrRm9yTWVzaD1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8pe3ZhciB1PWUocix0LmVuYWJsZURpc3RhbnRQaWNraW5nKSxmPXQuaW50ZXJzZWN0cyh1LG4scyxhLHIsbyk7cmV0dXJuIWZ8fCFmLmhpdHx8IW4mJmkhPW51bGwmJmYuZGlzdGFuY2U+PWkuZGlzdGFuY2U/bnVsbDpmfSxlZS5wcm90b3R5cGUuX2ludGVybmFsUGljaz1mdW5jdGlvbihpLGUsdCxyLG4pe2lmKCFRZSlyZXR1cm4gbnVsbDtmb3IodmFyIGE9bnVsbCxzPTA7czx0aGlzLm1lc2hlcy5sZW5ndGg7cysrKXt2YXIgbz10aGlzLm1lc2hlc1tzXTtpZihlKXtpZighZShvKSljb250aW51ZX1lbHNlIGlmKCFvLmlzRW5hYmxlZCgpfHwhby5pc1Zpc2libGV8fCFvLmlzUGlja2FibGUpY29udGludWU7dmFyIHU9by5nZXRXb3JsZE1hdHJpeCgpO2lmKG8uaGFzVGhpbkluc3RhbmNlcyYmby50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXt2YXIgZj10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKGEsaSxvLHUsITAsITAsbik7aWYoZil7aWYocilyZXR1cm4gZjtmb3IodmFyIGw9RC5NYXRyaXhbMV0saD1vLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKSxjPTA7YzxoLmxlbmd0aDtjKyspe3ZhciBkPWhbY107ZC5tdWx0aXBseVRvUmVmKHUsbCk7dmFyIHA9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyxsLHQscixuLCEwKTtpZihwJiYoYT1wLGEudGhpbkluc3RhbmNlSW5kZXg9Yyx0KSlyZXR1cm4gYX19fWVsc2V7dmFyIGY9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyx1LHQscixuKTtpZihmJiYoYT1mLHQpKXJldHVybiBhfX1yZXR1cm4gYXx8bmV3IFFlfSxlZS5wcm90b3R5cGUuX2ludGVybmFsTXVsdGlQaWNrPWZ1bmN0aW9uKGksZSx0KXtpZighUWUpcmV0dXJuIG51bGw7Zm9yKHZhciByPW5ldyBBcnJheSxuPTA7bjx0aGlzLm1lc2hlcy5sZW5ndGg7bisrKXt2YXIgYT10aGlzLm1lc2hlc1tuXTtpZihlKXtpZighZShhKSljb250aW51ZX1lbHNlIGlmKCFhLmlzRW5hYmxlZCgpfHwhYS5pc1Zpc2libGV8fCFhLmlzUGlja2FibGUpY29udGludWU7dmFyIHM9YS5nZXRXb3JsZE1hdHJpeCgpO2lmKGEuaGFzVGhpbkluc3RhbmNlcyYmYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXt2YXIgbz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsaSxhLHMsITAsITAsdCk7aWYobylmb3IodmFyIHU9RC5NYXRyaXhbMV0sZj1hLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKSxsPTA7bDxmLmxlbmd0aDtsKyspe3ZhciBoPWZbbF07aC5tdWx0aXBseVRvUmVmKHMsdSk7dmFyIGM9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGksYSx1LCExLCExLHQsITApO2MmJihjLnRoaW5JbnN0YW5jZUluZGV4PWwsci5wdXNoKGMpKX19ZWxzZXt2YXIgbz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsaSxhLHMsITEsITEsdCk7byYmci5wdXNoKG8pfX1yZXR1cm4gcn0sZWUucHJvdG90eXBlLnBpY2tXaXRoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGksZSx0LHIsbil7dmFyIGE9dGhpcztpZighUWUpcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5faW50ZXJuYWxQaWNrKGZ1bmN0aW9uKG8pe3JldHVybiBhLl90ZW1wUGlja2luZ1JheXx8KGEuX3RlbXBQaWNraW5nUmF5PWF0Llplcm8oKSksYS5jcmVhdGVQaWNraW5nUmF5VG9SZWYoaSxlLG8sYS5fdGVtcFBpY2tpbmdSYXksbnx8bnVsbCksYS5fdGVtcFBpY2tpbmdSYXl9LHQsciwhMCk7cmV0dXJuIHMmJihzLnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoaSxlLEkuSWRlbnRpdHkoKSxufHxudWxsKSksc30sZWUucHJvdG90eXBlLnBpY2s9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7dmFyIG89dGhpcztpZighUWUpcmV0dXJuIG51bGw7dmFyIHU9dGhpcy5faW50ZXJuYWxQaWNrKGZ1bmN0aW9uKGYsbCl7cmV0dXJuIG8uX3RlbXBQaWNraW5nUmF5fHwoby5fdGVtcFBpY2tpbmdSYXk9YXQuWmVybygpKSxvLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihpLGUsZixvLl90ZW1wUGlja2luZ1JheSxufHxudWxsLCExLGwpLG8uX3RlbXBQaWNraW5nUmF5fSx0LHIsITEsYSk7cmV0dXJuIHUmJih1LnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoaSxlLEkuSWRlbnRpdHkoKSxufHxudWxsKSksdX0sZWUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKGksZSx0LHIpe3ZhciBuPXRoaXMsYT10aGlzLl9pbnRlcm5hbFBpY2soZnVuY3Rpb24ocyl7cmV0dXJuIG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1JLklkZW50aXR5KCkpLHMuaW52ZXJ0VG9SZWYobi5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSxuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fChuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09YXQuWmVybygpKSxhdC5UcmFuc2Zvcm1Ub1JlZihpLG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCxuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLG4uX2NhY2hlZFJheUZvclRyYW5zZm9ybX0sZSx0LCExLHIpO3JldHVybiBhJiYoYS5yYXk9aSksYX0sZWUucHJvdG90eXBlLm11bHRpUGljaz1mdW5jdGlvbihpLGUsdCxyLG4pe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuX2ludGVybmFsTXVsdGlQaWNrKGZ1bmN0aW9uKHMpe3JldHVybiBhLmNyZWF0ZVBpY2tpbmdSYXkoaSxlLHMscnx8bnVsbCl9LHQsbil9LGVlLnByb3RvdHlwZS5tdWx0aVBpY2tXaXRoUmF5PWZ1bmN0aW9uKGksZSx0KXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhmdW5jdGlvbihuKXtyZXR1cm4gci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwoci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PUkuSWRlbnRpdHkoKSksbi5pbnZlcnRUb1JlZihyLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybT1hdC5aZXJvKCkpLGF0LlRyYW5zZm9ybVRvUmVmKGksci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksci5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfSxlLHQpfSxPZS5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheT1mdW5jdGlvbihpLGUsdCl7cmV0dXJuIGk9PT12b2lkIDAmJihpPTEwMCksdGhpcy5nZXRGb3J3YXJkUmF5VG9SZWYobmV3IGF0KGIuWmVybygpLGIuWmVybygpLGkpLGksZSx0KX0sT2UucHJvdG90eXBlLmdldEZvcndhcmRSYXlUb1JlZj1mdW5jdGlvbihpLGUsdCxyKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MTAwKSx0fHwodD10aGlzLmdldFdvcmxkTWF0cml4KCkpLGkubGVuZ3RoPWUscj9pLm9yaWdpbi5jb3B5RnJvbShyKTppLm9yaWdpbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSxELlZlY3RvcjNbMl0uc2V0KDAsMCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxKSxiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKEQuVmVjdG9yM1syXSx0LEQuVmVjdG9yM1szXSksYi5Ob3JtYWxpemVUb1JlZihELlZlY3RvcjNbM10saS5kaXJlY3Rpb24pLGl9O3ZhciB2Zj1mdW5jdGlvbihpLGUsdCl7Zm9yKHZhciByIGluIGUpaWYoaS5uYW1lPT09ZVtyXSlyZXR1cm4gdC5wdXNoKGkuaWQpLCEwO3JldHVybiBpLnBhcmVudElkJiZ0LmluZGV4T2YoaS5wYXJlbnRJZCkhPT0tMT8odC5wdXNoKGkuaWQpLCEwKTohMX0seHI9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gaSsiIG9mICIrKGU/ZS5maWxlKyIgZnJvbSAiK2UubmFtZSsiIHZlcnNpb246ICIrZS52ZXJzaW9uKyIsIGV4cG9ydGVyIHZlcnNpb246ICIrZS5leHBvcnRlcl92ZXJzaW9uOiJ1bmtub3duIil9O0tlLlJlZ2lzdGVyUGx1Z2luKHtuYW1lOiJiYWJ5bG9uLmpzIixleHRlbnNpb25zOiIuanNvbiIsY2FuRGlyZWN0TG9hZDpmdW5jdGlvbihpKXtyZXR1cm4gaS5pbmRleE9mKCJqc29uIikhPT0tMSwhMH0saW1wb3J0TWVzaDpmdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8pe3ZhciB1PSJpbXBvcnRNZXNoIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBmPUpTT04ucGFyc2UodCk7Zi5waHlzaWNzRW5hYmxlZD0hMSxmPT1udWxsfHxmLm1lc2hlcy5tYXAoeT0+ZGVsZXRlIHkucGh5c2ljc0ltcG9zdG9yKSx1PSIiO3ZhciBsPUtlLmxvZ2dpbmdMZXZlbD09PUtlLkRFVEFJTEVEX0xPR0dJTkc7aT9BcnJheS5pc0FycmF5KGkpfHwoaT1baV0pOmk9bnVsbDt2YXIgaD1uZXcgQXJyYXk7aWYoZi5tZXNoZXMhPT12b2lkIDAmJmYubWVzaGVzIT09bnVsbCl7dmFyIGMsZDtmb3IoYz0wLGQ9Zi5tZXNoZXMubGVuZ3RoO2M8ZDtjKyspe3ZhciBwPWYubWVzaGVzW2NdO2lmKGk9PT1udWxsfHx2ZihwLGksaCkpe2khPT1udWxsJiZkZWxldGUgaVtpLmluZGV4T2YocC5uYW1lKV07dmFyIGc9US5QYXJzZShwLGUscik7bi5wdXNoKGcpLHUrPWAKCU1lc2ggYCtnLnRvU3RyaW5nKGwpfX12YXIgXztmb3IoYz0wLGQ9ZS5tZXNoZXMubGVuZ3RoO2M8ZDtjKyspXz1lLm1lc2hlc1tjXSxfLl93YWl0aW5nUGFyZW50SWQmJihfLnBhcmVudD1lLmdldExhc3RFbnRyeUJ5SUQoXy5fd2FpdGluZ1BhcmVudElkKSxfLl93YWl0aW5nUGFyZW50SWQ9bnVsbCksXy5jb21wdXRlV29ybGRNYXRyaXgoITApfXJldHVybiEwfWNhdGNoKHkpe3ZhciB2PXhyKCJpbXBvcnRNZXNoIixmP2YucHJvZHVjZXI6IlVua25vd24iKSt1O2lmKG8pbyh2LHkpO2Vsc2UgdGhyb3cgay5Mb2codikseX1maW5hbGx5e3UhPT1udWxsJiZLZS5sb2dnaW5nTGV2ZWwhPT1LZS5OT19MT0dHSU5HJiZrLkxvZyh4cigiaW1wb3J0TWVzaCIsZj9mLnByb2R1Y2VyOiJVbmtub3duIikrKEtlLmxvZ2dpbmdMZXZlbCE9PUtlLk1JTklNQUxfTE9HR0lORz91OiIiKSl9cmV0dXJuITF9LGxvYWQ6ZnVuY3Rpb24oaSxlLHQscil7dmFyIG49ImltcG9ydFNjZW5lIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBhPUpTT04ucGFyc2UoZSk7bj0iIixhLmNsZWFyQ29sb3IhPT12b2lkIDAmJmEuY2xlYXJDb2xvciE9PW51bGwmJihpLmNsZWFyQ29sb3I9Q29sb3I0LkZyb21BcnJheShhLmNsZWFyQ29sb3IpKTt2YXIgcz1sb2FkQXNzZXRDb250YWluZXIoaSxlLHQsciwhMCk7cmV0dXJuISFzfWNhdGNoKHUpe3ZhciBvPXhyKCJpbXBvcnRTY2VuZSIsYT9hLnByb2R1Y2VyOiJVbmtub3duIikrbjtpZihyKXIobyx1KTtlbHNlIHRocm93IGsuTG9nKG8pLHV9ZmluYWxseXtuIT09bnVsbCYmS2UubG9nZ2luZ0xldmVsIT09S2UuTk9fTE9HR0lORyYmay5Mb2coeHIoImltcG9ydFNjZW5lIixhP2EucHJvZHVjZXI6IlVua25vd24iKSsoS2UubG9nZ2luZ0xldmVsIT09S2UuTUlOSU1BTF9MT0dHSU5HP246IiIpKX1yZXR1cm4hMX0sbG9hZEFzc2V0Q29udGFpbmVyOmZ1bmN0aW9uKGksZSx0LHIpe3ZhciBuPWxvYWRBc3NldENvbnRhaW5lcihpLGUsdCxyKTtyZXR1cm4gbn19KSxRLl9pbnN0YW5jZWRNZXNoRmFjdG9yeT1mdW5jdGlvbihpLGUpe3ZhciB0PW5ldyBtZihpLGUpO2lmKGUuaW5zdGFuY2VkQnVmZmVycyl7dC5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcih2YXIgciBpbiBlLmluc3RhbmNlZEJ1ZmZlcnMpdC5pbnN0YW5jZWRCdWZmZXJzW3JdPWUuaW5zdGFuY2VkQnVmZmVyc1tyXX1yZXR1cm4gdH07dmFyIG1mPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyLmdldFNjZW5lKCkpfHx0aGlzO24uX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSxuLl9kaXN0YW5jZVRvQ2FtZXJhPTAsci5hZGRJbnN0YW5jZShuKSxuLl9zb3VyY2VNZXNoPXIsbi5fdW5JbmRleGVkPXIuX3VuSW5kZXhlZCxuLnBvc2l0aW9uLmNvcHlGcm9tKHIucG9zaXRpb24pLG4ucm90YXRpb24uY29weUZyb20oci5yb3RhdGlvbiksbi5zY2FsaW5nLmNvcHlGcm9tKHIuc2NhbGluZyksci5yb3RhdGlvblF1YXRlcm5pb24mJihuLnJvdGF0aW9uUXVhdGVybmlvbj1yLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxuLmFuaW1hdGlvbnM9ci5hbmltYXRpb25zLnNsaWNlKCk7Zm9yKHZhciBhPTAscz1yLmdldEFuaW1hdGlvblJhbmdlcygpO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28hPW51bGwmJm4uY3JlYXRlQW5pbWF0aW9uUmFuZ2Uoby5uYW1lLG8uZnJvbSxvLnRvKX1yZXR1cm4gbi5pbmZpbml0ZURpc3RhbmNlPXIuaW5maW5pdGVEaXN0YW5jZSxuLnNldFBpdm90TWF0cml4KHIuZ2V0UGl2b3RNYXRyaXgoKSksbi5yZWZyZXNoQm91bmRpbmdJbmZvKCEwLCEwKSxuLl9zeW5jU3ViTWVzaGVzKCksbn1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkluc3RhbmNlZE1lc2gifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0U291cmNlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9saWdodFNvdXJjZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3Jlc3luY0xpZ2h0U291cmNlcz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3Jlc3luY0xpZ2h0U291cmNlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcmVtb3ZlTGlnaHRTb3VyY2U9ZnVuY3Rpb24oKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVjZWl2ZVNoYWRvd3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZWNlaXZlU2hhZG93c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gubWF0ZXJpYWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ2aXNpYmlsaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guc2tlbGV0b259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJpbmdHcm91cElkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZH0sc2V0OmZ1bmN0aW9uKHQpeyF0aGlzLl9zb3VyY2VNZXNofHx0PT09dGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfHxrLldhcm4oIk5vdGUgLSBzZXR0aW5nIHJlbmRlcmluZ0dyb3VwSWQgb2YgYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCBvbiB0aGUgc2NlbmUiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2g/dGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk6MH0sZS5wcm90b3R5cGUuZ2V0VG90YWxJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxJbmRpY2VzKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic291cmNlTWVzaCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKHQpfSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksdGhpcy5fc291cmNlTWVzaC5pc1JlYWR5KHQsITApfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRWZXJ0aWNlc0RhdGEodCxyKX0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRWZXJ0aWNlc0RhdGEodCxyLG4sYSksdGhpcy5zb3VyY2VNZXNofSxlLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbixhKSx0aGlzLnNvdXJjZU1lc2h9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0SW5kaWNlcyh0LHIpLHRoaXMuc291cmNlTWVzaH0sZS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudCh0KX0sZS5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldEluZGljZXMoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfcG9zaXRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX3Bvc2l0aW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpczt2YXIgbj10aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5P3RoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fc291cmNlTWVzaC5fZ2V0UG9zaXRpb25EYXRhKHQsciksbiksdGhpc30sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuX3ByZUFjdGl2YXRlKCksdGhpc30sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQscil7aWYoaS5wcm90b3R5cGUuX2FjdGl2YXRlLmNhbGwodGhpcyx0LHIpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzfHxrLldhcm4oIkluc3RhbmNlcyBzaG91bGQgb25seSBiZSBjcmVhdGVkIGZvciBtZXNoZXMgd2l0aCBnZW9tZXRyeS4iKSx0aGlzLl9jdXJyZW50TE9EKXt2YXIgbj10aGlzLl9jdXJyZW50TE9ELl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTAhPXRoaXMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MDtpZihuKXJldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSEwLCEwO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRC5fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKHRoaXMsdCkscil7aWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSEwLCEwfWVsc2UgaWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSEwLCEwfXJldHVybiExfSxlLnByb3RvdHlwZS5fcG9zdEFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fc291cmNlTWVzaC5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwPyh0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSk6dGhpcy5fZWRnZXNSZW5kZXJlciYmdGhpcy5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaCh0aGlzLl9lZGdlc1JlbmRlcmVyKX0sZS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtpZih0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELmJpbGxib2FyZE1vZGUhPT1KZS5CSUxMQk9BUkRNT0RFX05PTkUmJnRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2ghPT10aGlzKXt0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeHx8KHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4PW5ldyBJKTt2YXIgdD10aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoO3JldHVybiB0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXRoaXMsRC5WZWN0b3IzWzddLmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24pLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uY29weUZyb20oRC5WZWN0b3IzWzddKSx0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXQsdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh9cmV0dXJuIGkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4LmNhbGwodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNBbkluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TE9EPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciByPXRoaXMuc291cmNlTWVzaC5nZXRMT0RMZXZlbHMoKTtpZighcnx8ci5sZW5ndGg9PT0wKXRoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoO2Vsc2V7dmFyIG49dGhpcy5nZXRCb3VuZGluZ0luZm8oKTt0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaC5nZXRMT0QodCxuLmJvdW5kaW5nU3BoZXJlKX1yZXR1cm4gdGhpcy5fY3VycmVudExPRH0sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvdXJjZU1lc2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKHQpfSxlLnByb3RvdHlwZS5fc3luY1N1Yk1lc2hlcz1mdW5jdGlvbigpe2lmKHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzKWZvcih2YXIgdD0wO3Q8dGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMubGVuZ3RoO3QrKyl0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc1t0XS5jbG9uZSh0aGlzLHRoaXMuX3NvdXJjZU1lc2gpO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fZ2VuZXJhdGVQb2ludHNBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9nZW5lcmF0ZVBvaW50c0FycmF5KCl9LGUucHJvdG90eXBlLl91cGRhdGVCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNCb3VuZGluZ0luZm8/dGhpcy5nZXRCb3VuZGluZ0luZm8oKS51cGRhdGUodGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSk6dGhpcy5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLmFic29sdXRlUG9zaXRpb24sdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXMuX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9bnVsbCk7dmFyIGE9dGhpcy5fc291cmNlTWVzaC5jcmVhdGVJbnN0YW5jZSh0KTtpZih6ci5EZWVwQ29weSh0aGlzLGEsWyJuYW1lIiwic3ViTWVzaGVzIiwidW5pcXVlSWQiLCJwYXJlbnQiLCJsaWdodFNvdXJjZXMiLCJyZWNlaXZlU2hhZG93cyIsIm1hdGVyaWFsIiwidmlzaWJpbGl0eSIsInNrZWxldG9uIiwic291cmNlTWVzaCIsImlzQW5JbnN0YW5jZSIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJpc0Jsb2NrZWQiLCJ1c2VCb25lcyIsImhhc0luc3RhbmNlcyIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiaGFzQm91bmRpbmdJbmZvIl0sW10pLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHImJihhLnBhcmVudD1yKSwhbilmb3IodmFyIHM9MDtzPHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5nZXRTY2VuZSgpLm1lc2hlc1tzXTtvLnBhcmVudD09PXRoaXMmJm8uY2xvbmUoby5uYW1lLGEpfXJldHVybiBhLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLGF9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fc291cmNlTWVzaC5yZW1vdmVJbnN0YW5jZSh0aGlzKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxlfSh0aSk7US5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXI9ZnVuY3Rpb24oaSxlKXt2YXIgdCxyO2lmKChyPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbaV0pPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksIXRoaXMuaW5zdGFuY2VkQnVmZmVycyl7dGhpcy5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcih2YXIgbj0wLGE9dGhpcy5pbnN0YW5jZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5pbnN0YW5jZWRCdWZmZXJzPXt9fXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZT17ZGF0YTp7fSx2ZXJ0ZXhCdWZmZXJzOnt9LHN0cmlkZXM6e30sc2l6ZXM6e30sdmVydGV4QXJyYXlPYmplY3RzOnRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0P3t9OnZvaWQgMH0pfXRoaXMuaW5zdGFuY2VkQnVmZmVyc1tpXT1udWxsLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW2ldPWUsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldPWUqMzIsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheSh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV0pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldPW5ldyBtKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0saSwhMCwhMSxlLCEwKTtmb3IodmFyIG89MCx1PXRoaXMuaW5zdGFuY2VzO288dS5sZW5ndGg7bysrKXt2YXIgcz11W29dO3MuaW5zdGFuY2VkQnVmZmVyc1tpXT1udWxsfXRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9LFEucHJvdG90eXBlLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycz1mdW5jdGlvbihpLGUpe3ZhciB0PWkubGVuZ3RoO2Zvcih2YXIgciBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe2Zvcih2YXIgbj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbcl0sYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tyXSxzPSh0KzEpKmE7bjxzOyluKj0yO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdLmxlbmd0aCE9biYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdPW5ldyBGbG9hdDMyQXJyYXkobiksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW3JdPW4sdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl0mJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl09bnVsbCkpO3ZhciBvPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdLHU9MDtpZihlKXt2YXIgZj10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbcl07Zi50b0FycmF5P2YudG9BcnJheShvLHUpOmYuY29weVRvQXJyYXk/Zi5jb3B5VG9BcnJheShvLHUpOm9bdV09Zix1Kz1hfWZvcih2YXIgbD0wO2w8dDtsKyspe3ZhciBoPWlbbF0sZj1oLmluc3RhbmNlZEJ1ZmZlcnNbcl07Zi50b0FycmF5P2YudG9BcnJheShvLHUpOmYuY29weVRvQXJyYXk/Zi5jb3B5VG9BcnJheShvLHUpOm9bdV09Zix1Kz1hfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdP3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdLnVwZGF0ZURpcmVjdGx5KG8sMCk6KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdPW5ldyBtKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbcl0sciwhMCwhMSxhLCEwKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKX19LFEucHJvdG90eXBlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpe2lmKCEoIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz09PXZvaWQgMCkpe2Zvcih2YXIgaSBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzKXRoaXMuZ2V0RW5naW5lKCkucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHNbaV0pO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e319fSxRLnByb3RvdHlwZS5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXIuZGlzcG9zZSgpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyPW51bGwpO3RoaXMuaW5zdGFuY2VzLmxlbmd0aDspdGhpcy5pbnN0YW5jZXNbMF0uZGlzcG9zZSgpO2Zvcih2YXIgaSBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgeW49aT0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSkseWY9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsfSxkdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3FlKHRoaXMsInZhbHVlIiwwKTtxZSh0aGlzLCJhc2xlZXAiLCExKTt0aGlzLmNvbmZpZz17Li4ueWYsLi4uZX0sdGhpcy5pZD10aGlzLmNvbmZpZy5pZCE9PXZvaWQgMD90aGlzLmNvbmZpZy5pZDpEYXRlLm5vdygpLHRoaXMuZGllVHlwZT1gZCR7dGhpcy5jb25maWcuc2lkZXN9YCx0aGlzLmNvbWJvS2V5PWAke3RoaXMuY29uZmlnLnRoZW1lfV8ke3RoaXMuZGllVHlwZX1gLHRoaXMuc2NlbmU9dCx0aGlzLmNyZWF0ZUluc3RhbmNlKCl9Y3JlYXRlSW5zdGFuY2UoKXtjb25zdCBlPWAke3RoaXMuY29uZmlnLm1lc2hOYW1lfV8ke3RoaXMuZGllVHlwZX1fJHt0aGlzLmNvbmZpZy50aGVtZX0ke3RoaXMuY29uZmlnLmNvbG9yU3VmZml4fWAsdD1gJHtlfS1pbnN0YW5jZS0ke3RoaXMuaWR9YCxyPXRoaXMuc2NlbmUuZ2V0TWVzaEJ5TmFtZShlKS5jcmVhdGVJbnN0YW5jZSh0KTtpZih0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeC5sZW5ndGg+MCl7Y29uc3Qgbj1iZS5Gcm9tSGV4U3RyaW5nKHRoaXMuY29uZmlnLnRoZW1lQ29sb3IpO3IuaW5zdGFuY2VkQnVmZmVycy5jdXN0b21Db2xvcj1ufXIucG9zaXRpb24ueT0tMTAwLHIuc2NhbGluZz1uZXcgYih0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSksdGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmdGhpcy5jb25maWcubGlnaHRzLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5hZGRTaGFkb3dDYXN0ZXIociksdGhpcy5tZXNoPXJ9c3RhdGljIGFzeW5jIGxvYWREaWUoZSx0KXtjb25zdHtzaWRlczpyLHRoZW1lOm49ImRlZmF1bHQiLG1lc2hOYW1lOmEsY29sb3JTdWZmaXg6c309ZSxvPWErIl9kIityLHU9bysiXyIrbitzO2xldCBmPXQuZ2V0TWVzaEJ5TmFtZSh1KTtyZXR1cm4gZnx8KGY9dC5nZXRNZXNoQnlOYW1lKG8pLmNsb25lKHUpKSxmLm1hdGVyaWFsfHwoZi5tYXRlcmlhbD10LmdldE1hdGVyaWFsQnlOYW1lKG4rcykscy5sZW5ndGg+MCYmZi5yZWdpc3Rlckluc3RhbmNlZEJ1ZmZlcigiY3VzdG9tQ29sb3IiLDMpKSxlfXN0YXRpYyBhc3luYyBsb2FkTW9kZWxzKGUsdCl7Y29uc3R7bWVzaEZpbGVQYXRoOnIsbWVzaE5hbWU6bixzY2FsZTphLGQ0RmFjZURvd246cz0hMH09ZTtsZXQgbz0hMSx1PSExO2NvbnN0IGY9YXdhaXQgZmV0Y2goYCR7cn1gKS50aGVuKGw9PntpZihsLm9rKXtjb25zdCBoPWwuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpO2lmKGgmJmguaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpIT09LTEpcmV0dXJuIGwuanNvbigpO2lmKGwudHlwZSYmbC50eXBlPT09ImJhc2ljIilyZXR1cm4gbC5qc29uKCk7dGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgY29udGVudFR5cGU6ICR7aH0uIEV4cGVjdGVkICJhcHBsaWNhdGlvbi9qc29uIiBvciAiYmFzaWMiYCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBsb2FkIDNEIG1lc2ggZmlsZTogJyR7cn0nLiBSZXF1ZXN0IHJlamVjdGVkIHdpdGggc3RhdHVzICR7bC5zdGF0dXN9OiAke2wuc3RhdHVzVGV4dH1gKX0pLmNhdGNoKGw9PmNvbnNvbGUuZXJyb3IobCkpO2lmKCEhZilyZXR1cm4gS2UuSW1wb3J0TWVzaEFzeW5jKG51bGwsbnVsbCwiZGF0YToiK0pTT04uc3RyaW5naWZ5KGYpLHQpLnRoZW4obD0+e2lmKGwubWVzaGVzLmZvckVhY2goaD0+e2gubmFtZT09PSJfX3Jvb3RfXyImJmguZGlzcG9zZSgpLGgubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSYmKGguc2NhbGluZz1uZXcgYiguOSwuOSwuOSkpLG98fChvPWgubmFtZT09PSJkMTAwIiksdXx8KHU9aC5uYW1lPT09ImQxMCIpLGguc2V0RW5hYmxlZCghMSksaC5mcmVlemVOb3JtYWxzKCksaC5mcmVlemVXb3JsZE1hdHJpeCgpLGguaXNQaWNrYWJsZT0hMSxoLmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMCxoLm5hbWU9bisiXyIraC5uYW1lfSksIW8mJnUmJih0LmdldE1lc2hCeU5hbWUobisiX2QxMCIpLmNsb25lKG4rIl9kMTAwIiksdC5nZXRNZXNoQnlOYW1lKG4rIl9kMTBfY29sbGlkZXIiKS5jbG9uZShuKyJfZDEwMF9jb2xsaWRlciIpLGYuY29sbGlkZXJGYWNlTWFwJiYoZi5jb2xsaWRlckZhY2VNYXAuZDEwMD15bihmLmNvbGxpZGVyRmFjZU1hcC5kMTApLE9iamVjdC52YWx1ZXMoZi5jb2xsaWRlckZhY2VNYXAuZDEwMCkuZm9yRWFjaCgoaCxjKT0+e2YuY29sbGlkZXJGYWNlTWFwLmQxMDBbY109aCooaD09PTEwPzA6MTApfSkpKSwhZi5jb2xsaWRlckZhY2VNYXApdGhyb3cgbmV3IEVycm9yKGAnY29sbGlkZXJGYWNlTWFwJyBkYXRhIG5vdCBmb3VuZCBpbiAke3J9LiBXaXRob3V0IHRoZSBjb2xsaWRlckZhY2VNYXAgZGF0YSBkaWNlIHZhbHVlcyBjYW4gbm90IGJlIHJlc29sdmVkLmApO3QudGhlbWVEYXRhW25dPXt9LHQudGhlbWVEYXRhW25dLmNvbGxpZGVyRmFjZU1hcD1mLmNvbGxpZGVyRmFjZU1hcCx0LnRoZW1lRGF0YVtuXS5kNEZhY2VEb3duPXN9KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKSxmLm1lc2hlcy5maWx0ZXIobD0+bC5uYW1lLmluY2x1ZGVzKCJjb2xsaWRlciIpKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ey4uLnRoaXMuY29uZmlnLC4uLmV9fXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxyKXtyZXR1cm4gZHQudmVjdG9yMy5zZXQoZSx0LHIpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIGR0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSx0KXtjb25zdCByPShuPWUpPT5uZXcgUHJvbWlzZSgoYSxzKT0+e2NvbnN0IG89ZS5jb25maWcucGFyZW50TWVzaHx8ZS5jb25maWcubWVzaE5hbWUsdT10LnRoZW1lRGF0YVtvXS5jb2xsaWRlckZhY2VNYXAsZj10LnRoZW1lRGF0YVtvXS5kNEZhY2VEb3duO2lmKCF1W24uZGllVHlwZV0pdGhyb3cgbmV3IEVycm9yKGBObyBjb2xsaWRlckZhY2VNYXAgZGF0YSBmb3IgJHtuLmRpZVR5cGV9YCk7Y29uc3QgbD10LmdldE1lc2hCeU5hbWUoYCR7b31fJHtuLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7b31fJHtuLmRpZVR5cGV9LWhpdGJveC0ke24uaWR9YCk7bC5pc1BpY2thYmxlPSEwLGwuaXNWaXNpYmxlPSEwLGwuc2V0RW5hYmxlZCghMCksbC5wb3NpdGlvbj1uLm1lc2gucG9zaXRpb24sbC5yb3RhdGlvblF1YXRlcm5pb249bi5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbjtsZXQgaD1kdC5zZXRWZWN0b3IzKDAsMSwwKTtuLmRpZVR5cGU9PT0iZDQiJiZmJiYoaD1kdC5zZXRWZWN0b3IzKDAsLTEsMCkpLGR0LnJheS5kaXJlY3Rpb249aCxkdC5yYXkub3JpZ2luPWUubWVzaC5wb3NpdGlvbjtjb25zdCBjPXQucGlja1dpdGhSYXkoZHQucmF5KTtpZihsLmRpc3Bvc2UoKSxuLnZhbHVlPXVbbi5kaWVUeXBlXVtjLmZhY2VJZF0sbi52YWx1ZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYGNvbGxpZGVyRmFjZU1hcCBFcnJvcjogTm8gdmFsdWUgZm91bmQgZm9yICR7bi5kaWVUeXBlfSBtZXNoIGZhY2UgJHtjLmZhY2VJZH1gKTtyZXR1cm4gYShuLnZhbHVlKX0pLmNhdGNoKGE9PmNvbnNvbGUuZXJyb3IoYSkpO3JldHVybiBlLm1lc2g/YXdhaXQgcigpOmUudmFsdWV9fTtsZXQgc3Q9ZHQ7cWUoc3QsInJheSIsbmV3IGF0KGIuWmVybygpLGIuWmVybygpLDEpKSxxZShzdCwidmVjdG9yMyIsbmV3IGIuWmVybyk7dmFyIGJmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaX0oKSxEcj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIG4uQ3VzdG9tUGFydHM9bmV3IGJmLG4uY3VzdG9tU2hhZGVyTmFtZVJlc29sdmU9bi5CdWlsZGVyLG4uRnJhZ21lbnRTaGFkZXI9R2UuU2hhZGVyc1N0b3JlLmRlZmF1bHRQaXhlbFNoYWRlcixuLlZlcnRleFNoYWRlcj1HZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFZlcnRleFNoYWRlcixufXJldHVybiBlLnByb3RvdHlwZS5BdHRhY2hBZnRlckJpbmQ9ZnVuY3Rpb24odCxyKXtpZih0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKWZvcih2YXIgbiBpbiB0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKXt2YXIgYT1uLnRvU3RyaW5nKCkuc3BsaXQoIi0iKTthWzBdPT0idmVjMiI/ci5zZXRWZWN0b3IyKGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSk6YVswXT09InZlYzMiP3Iuc2V0VmVjdG9yMyhhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pOmFbMF09PSJ2ZWM0Ij9yLnNldFZlY3RvcjQoYVsxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW25dKTphWzBdPT0ibWF0NCI/ci5zZXRNYXRyaXgoYVsxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW25dKTphWzBdPT0iZmxvYXQiJiZyLnNldEZsb2F0KGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSl9aWYodGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcylmb3IodmFyIG4gaW4gdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcyl7dmFyIGE9bi50b1N0cmluZygpLnNwbGl0KCItIik7YVswXT09InNhbXBsZXIyRCImJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbbl0uaXNSZWFkeSYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tuXS5pc1JlYWR5KCkmJnIuc2V0VGV4dHVyZShhWzFdLHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbbl0pfX0sZS5wcm90b3R5cGUuUmV2aWV3VW5pZm9ybT1mdW5jdGlvbih0LHIpe2lmKHQ9PSJ1bmlmb3JtIiYmdGhpcy5fbmV3VW5pZm9ybXMpZm9yKHZhciBuPTA7bjx0aGlzLl9uZXdVbmlmb3Jtcy5sZW5ndGg7bisrKXRoaXMuX2N1c3RvbVVuaWZvcm1bbl0uaW5kZXhPZigic2FtcGxlciIpPT0tMSYmci5wdXNoKHRoaXMuX25ld1VuaWZvcm1zW25dKTtpZih0PT0ic2FtcGxlciImJnRoaXMuX25ld1VuaWZvcm1zKWZvcih2YXIgbj0wO248dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO24rKyl0aGlzLl9jdXN0b21Vbmlmb3JtW25dLmluZGV4T2YoInNhbXBsZXIiKSE9LTEmJnIucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tuXSk7cmV0dXJuIHJ9LGUucHJvdG90eXBlLkJ1aWxkZXI9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe3ZhciB1PXRoaXM7aWYobyYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcyYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcy5sZW5ndGg+MCYmby5wdXNoLmFwcGx5KG8sdGhpcy5fY3VzdG9tQXR0cmlidXRlcyksdGhpcy5SZXZpZXdVbmlmb3JtKCJ1bmlmb3JtIixyKSx0aGlzLlJldmlld1VuaWZvcm0oInNhbXBsZXIiLGEpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcilyZXR1cm4gdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU7dGhpcy5faXNDcmVhdGVkU2hhZGVyPSExLGUuU2hhZGVySW5kZXhlcisrO3ZhciBmPSJjdXN0b21fIitlLlNoYWRlckluZGV4ZXIsbD10aGlzLl9hZnRlckJpbmQuYmluZCh0aGlzKTtyZXR1cm4gdGhpcy5fYWZ0ZXJCaW5kPWZ1bmN0aW9uKGgsYyl7aWYoISFjKXt1LkF0dGFjaEFmdGVyQmluZChoLGMpO3RyeXtsKGgsYyl9Y2F0Y2h7fX19LEdlLlNoYWRlcnNTdG9yZVtmKyJWZXJ0ZXhTaGFkZXIiXT10aGlzLlZlcnRleFNoYWRlci5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMiLCh0aGlzLl9jdXN0b21Vbmlmb3JtP3RoaXMuX2N1c3RvbVVuaWZvcm0uam9pbihgCmApOiIiKSsodGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9QT1NJVElPTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX05PUk1BTCIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kOiIiKSx0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkJiYoR2UuU2hhZGVyc1N0b3JlW2YrIlZlcnRleFNoYWRlciJdPUdlLlNoYWRlcnNTdG9yZVtmKyJWZXJ0ZXhTaGFkZXIiXS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkKSksR2UuU2hhZGVyc1N0b3JlW2YrIlBpeGVsU2hhZGVyIl09dGhpcy5GcmFnbWVudFNoYWRlci5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMiLCh0aGlzLl9jdXN0b21Vbmlmb3JtP3RoaXMuX2N1c3RvbVVuaWZvcm0uam9pbihgCmApOiIiKSsodGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zOiIiKSkucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0RJRkZVU0UiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZToiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYToiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0xJR0hUUyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0czoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZSQUdDT0xPUiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZyYmKEdlLlNoYWRlcnNTdG9yZVtmKyJQaXhlbFNoYWRlciJdPUdlLlNoYWRlcnNTdG9yZVtmKyJQaXhlbFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0ciLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZykpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMCx0aGlzLl9jcmVhdGVkU2hhZGVyTmFtZT1mLGZ9LGUucHJvdG90eXBlLkFkZFVuaWZvcm09ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLl9jdXN0b21Vbmlmb3JtfHwodGhpcy5fY3VzdG9tVW5pZm9ybT1uZXcgQXJyYXksdGhpcy5fbmV3VW5pZm9ybXM9bmV3IEFycmF5LHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXM9e30sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcz17fSksbiYmKHIuaW5kZXhPZigic2FtcGxlciIpIT0tMT90aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW3IrIi0iK3RdPW46dGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tyKyItIit0XT1uKSx0aGlzLl9jdXN0b21Vbmlmb3JtLnB1c2goInVuaWZvcm0gIityKyIgIit0KyI7IiksdGhpcy5fbmV3VW5pZm9ybXMucHVzaCh0KSx0aGlzfSxlLnByb3RvdHlwZS5BZGRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXN8fCh0aGlzLl9jdXN0b21BdHRyaWJ1dGVzPVtdKSx0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLnB1c2godCksdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW49dCx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9EZWZpbml0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X01haW5CZWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW49dCx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9NYWluRW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ9dCx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT10LnJlcGxhY2UoInJlc3VsdCIsImRpZmZ1c2VDb2xvciIpLHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0N1c3RvbV9BbHBoYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9dC5yZXBsYWNlKCJyZXN1bHQiLCJhbHBoYSIpLHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cz10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj10LnJlcGxhY2UoInJlc3VsdCIsImNvbG9yIiksdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0JlZ2luPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9EZWZpbml0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9dCx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfTWFpbkJlZ2luPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49dCx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZD10LnJlcGxhY2UoInJlc3VsdCIsInBvc2l0aW9uVXBkYXRlZCIpLHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9dC5yZXBsYWNlKCJyZXN1bHQiLCJub3JtYWxVcGRhdGVkIiksdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQ9dCx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfTWFpbkVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD10LHRoaXN9LGUuU2hhZGVySW5kZXhlcj0xLGV9KGFyKTt3ZSgiQkFCWUxPTi5DdXN0b21NYXRlcmlhbCIsRHIpLERyLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihpKXtjb25zdCBlPXRoaXMsdD1KLkNsb25lKCgpPT5uZXcgRHIoaSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO3JldHVybiB0Lm5hbWU9aSx0LmlkPWksdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4sdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnMsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkLHQuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZCx0fTtjbGFzcyBFZntjb25zdHJ1Y3RvcihlKXtxZSh0aGlzLCJsb2FkZWRUaGVtZXMiLHt9KTtxZSh0aGlzLCJ0aGVtZURhdGEiLHt9KTt0aGlzLnNjZW5lPWUuc2NlbmV9YXN5bmMgbG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDpyfT1lLG49bmV3IGFyKHQsdGhpcy5zY2VuZSk7ci5kaWZmdXNlVGV4dHVyZSYmKG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixlKSksci5idW1wVGV4dHVyZSYmKG4uYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksci5zcGVjdWxhclRleHR1cmUmJihuLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSksbi5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExfWFzeW5jIGxvYWRDb2xvck1hdGVyaWFsKGUpe2NvbnN0e3RoZW1lOnQsbWF0ZXJpYWw6cn09ZSxuPW5ldyBEcih0KyJfbGlnaHQiLHRoaXMuc2NlbmUpLGE9eW4oZSk7ci5kaWZmdXNlVGV4dHVyZSYmci5kaWZmdXNlVGV4dHVyZS5saWdodCYmKGEubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5saWdodCxuLmRpZmZ1c2VUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiZGlmZnVzZSIsYSkpLHIuYnVtcFRleHR1cmUmJihuLmJ1bXBUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiYnVtcCIsZSkpLHIuc3BlY3VsYXJUZXh0dXJlJiYobi5zcGVjdWxhclRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJzcGVjdWxhciIsZSkpLG4uYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMSxuLlZlcnRleF9EZWZpbml0aW9ucyhgCiAgICAgIGF0dHJpYnV0ZSB2ZWMzIGN1c3RvbUNvbG9yOwogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuVmVydGV4X01haW5FbmQoYAogICAgICB2Q29sb3IgPSBjdXN0b21Db2xvcjsKICAgIGApLkZyYWdtZW50X0RlZmluaXRpb25zKGAKICAgICAgdmFyeWluZyB2ZWMzIHZDb2xvcjsKICAgIGApLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlKGAKICAgICAgYmFzZUNvbG9yLnJnYiA9IG1peCh2Q29sb3IucmdiLCBiYXNlQ29sb3IucmdiLCBiYXNlQ29sb3IuYSk7CiAgICBgKSxuLkFkZEF0dHJpYnV0ZSgiY3VzdG9tQ29sb3IiKTtjb25zdCBzPW4uY2xvbmUodCsiX2RhcmsiKTtyLmRpZmZ1c2VUZXh0dXJlJiZyLmRpZmZ1c2VUZXh0dXJlLmRhcmsmJihhLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlPWUubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUuZGFyayxzLmRpZmZ1c2VUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiZGlmZnVzZSIsYSkpLHMuQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpfWFzeW5jIGdldFRleHR1cmUoZSx0KXtjb25zdHtiYXNlUGF0aDpyLG1hdGVyaWFsOm4sdGhlbWU6YX09dDtsZXQgcztjb25zdCBvPWUrIkxldmVsIix1PWUrIlRleHR1cmUiO3RyeXtzd2l0Y2goZSl7Y2FzZSJkaWZmdXNlIjpzPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke3J9LyR7blt1XX1gLGEpLG5bb10mJihzLmxldmVsPW5bb10pO2JyZWFrO2Nhc2UiYnVtcCI6cz1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtyfS8ke25bdV19YCxhKSxuW29dJiYocy5sZXZlbD1uW29dKTticmVhaztjYXNlInNwZWN1bGFyIjpzPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke3J9LyR7blt1XX1gLGEpLG4uc3BlY3VsYXJQb3dlciYmKHMuc3BlY3VsYXJQb3dlcj1uLnNwZWN1bGFyUG93ZXIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBUZXh0dXJlIHR5cGU6ICR7ZX0gaXMgbm90IHN1cHBvcnRlZGApfX1jYXRjaChmKXtjb25zb2xlLmVycm9yKGYpfXJldHVybiBzfWFzeW5jIGltcG9ydFRleHR1cmVBc3luYyhlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgocixuKT0+e2xldCBhPWUubWF0Y2goL14oLipcLykoLiopJC8pLHM9bmV3IHRlKGUsdGhpcy5zY2VuZSx2b2lkIDAsITAsdm9pZCAwLCgpPT5yKHMpLCgpPT5uKGBVbmFibGUgdG8gbG9hZCB0ZXh0dXJlICcke2FbMl19JyBmb3IgdGhlbWU6ICcke3R9Jy4gQ2hlY2sgdGhhdCB5b3VyIGFzc2V0UGF0aCBpcyBjb25maWd1cmVkIGNvcnJlY3RseSBhbmQgdGhhdCB0aGUgZmlsZXMgZXhpc3QgYXQgcGF0aDogJyR7YVsxXX0nYCkpfSkuY2F0Y2gocj0+Y29uc29sZS5lcnJvcihyKSl9YXN5bmMgbG9hZChlKXtjb25zdHttYXRlcmlhbDp0fT1lO3QudHlwZT09PSJjb2xvciI/YXdhaXQgdGhpcy5sb2FkQ29sb3JNYXRlcmlhbChlKTp0LnR5cGU9PT0ic3RhbmRhcmQiP2F3YWl0IHRoaXMubG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSk6Y29uc29sZS5lcnJvcihgTWF0ZXJpYWwgdHlwZTogJHt0LnR5cGV9IG5vdCBzdXBwb3J0ZWRgKX19Y2xhc3MgVGZ7Y29uc3RydWN0b3IoZSl7VWUodGhpcyxPcik7cWUodGhpcywiY29uZmlnIik7cWUodGhpcywiaW5pdGlhbGl6ZWQiLCExKTtVZSh0aGlzLE1lLHt9KTtVZSh0aGlzLHp0LDApO1VlKHRoaXMsdXQsMCk7VWUodGhpcyxHdCxbXSk7VWUodGhpcyx0dCx2b2lkIDApO1VlKHRoaXMsWWUsdm9pZCAwKTtVZSh0aGlzLEllLHZvaWQgMCk7VWUodGhpcyxJcix2b2lkIDApO1VlKHRoaXMscnQsdm9pZCAwKTtVZSh0aGlzLHNyLHZvaWQgMCk7VWUodGhpcyxvcix2b2lkIDApO1VlKHRoaXMsWGUsdm9pZCAwKTtVZSh0aGlzLHVyLHt9KTtxZSh0aGlzLCJub29wIiwoKT0+e30pO3FlKHRoaXMsImRpY2VCdWZmZXJWaWV3IixuZXcgRmxvYXQzMkFycmF5KDhlMykpO3RoaXMub25Jbml0Q29tcGxldGU9ZS5vbkluaXRDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25UaGVtZUxvYWRlZD1lLm9uVGhlbWVMb2FkZWR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbFJlc3VsdD1lLm9uUm9sbFJlc3VsdHx8dGhpcy5ub29wLHRoaXMub25Sb2xsQ29tcGxldGU9ZS5vblJvbGxDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25EaWVSZW1vdmVkPWUub25EaWVSZW1vdmVkfHx0aGlzLm5vb3AsdGhpcy5pbml0aWFsaXplZD10aGlzLmluaXRTY2VuZShlKX1hc3luYyBpbml0U2NlbmUoZSl7emUodGhpcyx0dCxlLmNhbnZhcyksVih0aGlzLHR0KS53aWR0aD1lLndpZHRoLFYodGhpcyx0dCkuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuY29uZmlnPWUub3B0aW9ucyx6ZSh0aGlzLFllLHpuKFYodGhpcyx0dCkpKSx6ZSh0aGlzLEllLElhKHtlbmdpbmU6Vih0aGlzLFllKX0pKSx6ZSh0aGlzLElyLEZhKHtlbmdpbmU6Vih0aGlzLFllKSxzY2VuZTpWKHRoaXMsSWUpfSkpLHplKHRoaXMscnQsX24oe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzaGFkb3dUcmFuc3BhcmVuY3k6dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5LGludGVuc2l0eTp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxzY2VuZTpWKHRoaXMsSWUpfSkpLHplKHRoaXMsc3IsbmV3IGdmKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MsYXNwZWN0OlYodGhpcyx0dCkud2lkdGgvVih0aGlzLHR0KS5oZWlnaHQsbGlnaHRzOlYodGhpcyxydCksc2NlbmU6Vih0aGlzLEllKX0pKSx6ZSh0aGlzLG9yLG5ldyBFZih7c2NlbmU6Vih0aGlzLEllKX0pKSx0aGlzLm9uSW5pdENvbXBsZXRlKCl9Y29ubmVjdChlKXt6ZSh0aGlzLFhlLGUpLFYodGhpcyxYZSkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdEJ1ZmZlciIsZGljZUJ1ZmZlcjp0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcn0sW3RoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyXSksVih0aGlzLFhlKS5vbm1lc3NhZ2U9dD0+e3N3aXRjaCh0LmRhdGEuYWN0aW9uKXtjYXNlInVwZGF0ZXMiOnRoaXMudXBkYXRlc0Zyb21QaHlzaWNzKHQuZGF0YS5kaWNlQnVmZmVyKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBmcm9tIHBoeXNpY3NXb3JrZXIgbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKTticmVha319fXVwZGF0ZUNvbmZpZyhlKXtjb25zdCB0PXRoaXMuY29uZmlnO3RoaXMuY29uZmlnPWUsdC5lbmFibGVTaGFkb3dzIT09dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmKE9iamVjdC52YWx1ZXMoVih0aGlzLHJ0KSkuZm9yRWFjaChyPT5yLmRpc3Bvc2UoKSksemUodGhpcyxydCxfbih7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzfSkpKSx0LnNjYWxlIT09dGhpcy5jb25maWcuc2NhbGUmJk9iamVjdC52YWx1ZXMoVih0aGlzLE1lKSkuZm9yRWFjaCgoe21lc2g6cn0pPT57ciYmKHIuc2NhbGluZz1uZXcgYih0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSkpfSksdC5zaGFkb3dUcmFuc3BhcmVuY3khPT10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kmJihWKHRoaXMscnQpLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kpLHQubGlnaHRJbnRlbnNpdHkhPT10aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSYmKFYodGhpcyxydCkuZGlyZWN0aW9uYWwuaW50ZW5zaXR5PS42NSp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxWKHRoaXMscnQpLmhlbWlzcGhlcmljLmludGVuc2l0eT0uNCp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSl9cmVuZGVyKGUpe1YodGhpcyxZZSkucnVuUmVuZGVyTG9vcCh0aGlzLnJlbmRlckxvb3AuYmluZCh0aGlzKSksVih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZXN1bWVTaW11bGF0aW9uIixuZXdTdGFydFBvaW50OmV9KX1yZW5kZXJMb29wKCl7Vih0aGlzLHV0KSYmVih0aGlzLHV0KT09PU9iamVjdC5rZXlzKFYodGhpcyxNZSkpLmxlbmd0aD8oVih0aGlzLFllKS5zdG9wUmVuZGVyTG9vcCgpLFYodGhpcyxYZSkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RvcFNpbXVsYXRpb24ifSksdGhpcy5vblJvbGxDb21wbGV0ZSgpKTpWKHRoaXMsSWUpLnJlbmRlcigpfWFzeW5jIGxvYWRUaGVtZShlKXtjb25zdHt0aGVtZTp0LGJhc2VQYXRoOnIsbWF0ZXJpYWw6bixtZXNoRmlsZVBhdGg6YSxtZXNoTmFtZTpzfT1lO2lmKGF3YWl0IFYodGhpcyxvcikubG9hZCh7dGhlbWU6dCxiYXNlUGF0aDpyLG1hdGVyaWFsOm59KSwhT2JqZWN0LmtleXMoVih0aGlzLHVyKSkuaW5jbHVkZXMocykpe1YodGhpcyx1cilbc109YTtjb25zdCBvPWF3YWl0IHN0LmxvYWRNb2RlbHMoe21lc2hGaWxlUGF0aDphLG1lc2hOYW1lOnN9LFYodGhpcyxJZSkpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiTm8gY29sbGlkZXJzIHJldHVybmVkIGZyb20gdGhlIDNEIG1lc2ggZmlsZS4gTG93IHBvbHkgY29sbGlkZXJzIGFyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgc2FtZSBmaWxlIGFzIHRoZSBoaWdoIHBvbHkgZGljZSBhbmQgdGhlIG1lc2ggbmFtZSBjb250YWlucyB0aGUgd29yZCAnY29sbGlkZXInIik7Vih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJsb2FkTW9kZWxzIixvcHRpb25zOntjb2xsaWRlcnM6byxtZXNoTmFtZTpzfX0pfXRoaXMub25UaGVtZUxvYWRlZCh7aWQ6dH0pfWNsZWFyKCl7IU9iamVjdC5rZXlzKFYodGhpcyxNZSkpLmxlbmd0aCYmIVYodGhpcyx1dCl8fCh0aGlzLmRpY2VCdWZmZXJWaWV3LmJ5dGVMZW5ndGgmJnRoaXMuZGljZUJ1ZmZlclZpZXcuZmlsbCgwKSxWKHRoaXMsR3QpLmZvckVhY2goZT0+Y2xlYXJUaW1lb3V0KGUpKSxWKHRoaXMsWWUpLnN0b3BSZW5kZXJMb29wKCksT2JqZWN0LnZhbHVlcyhWKHRoaXMsTWUpKS5mb3JFYWNoKGU9PntlLm1lc2gmJmUubWVzaC5kaXNwb3NlKCl9KSx6ZSh0aGlzLE1lLHt9KSx6ZSh0aGlzLHp0LDApLHplKHRoaXMsdXQsMCksVih0aGlzLEllKS5yZW5kZXIoKSl9YWRkKGUpe3N0LmxvYWREaWUoZSxWKHRoaXMsSWUpKS50aGVuKHQ9PntWKHRoaXMsR3QpLnB1c2goc2V0VGltZW91dCgoKT0+e2JuKHRoaXMsT3IsRW4pLmNhbGwodGhpcyx0KX0sSHQodGhpcyx6dCkuXysrKnRoaXMuY29uZmlnLmRlbGF5KSl9KX1hZGROb25EaWUoZSl7Vih0aGlzLFllKS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcighMSk7Y29uc3R7aWQ6dCx2YWx1ZTpyLC4uLm59PWUsYT17aWQ6dCx2YWx1ZTpyLGNvbmZpZzpufTtWKHRoaXMsTWUpW3RdPWEsc2V0VGltZW91dCgoKT0+e1YodGhpcyxHdCkucHVzaChzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVBc2xlZXAoYSl9LEh0KHRoaXMsenQpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSwxMCl9cmVtb3ZlKGUpe2NvbnN0IHQ9Vih0aGlzLE1lKVtlLmlkXTt0Lmhhc093blByb3BlcnR5KCJkMTBJbnN0YW5jZSIpJiYoVih0aGlzLE1lKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoJiYoVih0aGlzLE1lKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoLmRpc3Bvc2UoKSxWKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlbW92ZURpZSIsaWQ6dC5kMTBJbnN0YW5jZS5pZH0pKSxkZWxldGUgVih0aGlzLE1lKVt0LmQxMEluc3RhbmNlLmlkXSxIdCh0aGlzLHV0KS5fLS0pLFYodGhpcyxNZSlbZS5pZF0ubWVzaCYmVih0aGlzLE1lKVtlLmlkXS5tZXNoLmRpc3Bvc2UoKSxkZWxldGUgVih0aGlzLE1lKVtlLmlkXSxIdCh0aGlzLHV0KS5fLS0sVih0aGlzLEllKS5yZW5kZXIoKSx0aGlzLm9uRGllUmVtb3ZlZChlLnJvbGxJZCl9dXBkYXRlc0Zyb21QaHlzaWNzKGUpe3RoaXMuZGljZUJ1ZmZlclZpZXc9bmV3IEZsb2F0MzJBcnJheShlKTtsZXQgdD0xO2ZvcihsZXQgcj0wLG49dGhpcy5kaWNlQnVmZmVyVmlld1swXTtyPG47cisrKXtpZighT2JqZWN0LmtleXMoVih0aGlzLE1lKSkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGE9Vih0aGlzLE1lKVtgJHt0aGlzLmRpY2VCdWZmZXJWaWV3W3RdfWBdO2lmKCFhKXtjb25zb2xlLmxvZygiRXJyb3I6IGRpZSBub3QgYXZhaWxhYmxlIGluIHNjZW5lIHRvIGFuaW1hdGUiKTticmVha31pZih0aGlzLmRpY2VCdWZmZXJWaWV3W3QrMV09PT0tMSl0aGlzLmhhbmRsZUFzbGVlcChhKTtlbHNle2NvbnN0IHM9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdLG89dGhpcy5kaWNlQnVmZmVyVmlld1t0KzJdLHU9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzNdLGY9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzRdLGw9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzVdLGg9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzZdLGM9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzddO2EubWVzaC5wb3NpdGlvbi5zZXQocyxvLHUpLGEubWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KGYsbCxoLGMpfXQ9dCs4fXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1YodGhpcyxYZSkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RlcFNpbXVsYXRpb24iLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pfSl9YXN5bmMgaGFuZGxlQXNsZWVwKGUpe3ZhciB0LHI7aWYoZS5hc2xlZXA9ITAsYXdhaXQgc3QuZ2V0Um9sbFJlc3VsdChlLFYodGhpcyxJZSkpLGUuZDEwSW5zdGFuY2V8fGUuZGllUGFyZW50KXtpZigoKHQ9ZT09bnVsbD92b2lkIDA6ZS5kMTBJbnN0YW5jZSk9PW51bGw/dm9pZCAwOnQuYXNsZWVwKXx8KChyPWU9PW51bGw/dm9pZCAwOmUuZGllUGFyZW50KT09bnVsbD92b2lkIDA6ci5hc2xlZXApKXtjb25zdCBuPWUuY29uZmlnLnNpZGVzPT09MTAwP2U6ZS5kaWVQYXJlbnQsYT1lLmNvbmZpZy5zaWRlcz09PTEwP2U6ZS5kMTBJbnN0YW5jZTthLnZhbHVlPT09MCYmbi52YWx1ZT09PTA/bi52YWx1ZT0xMDA6bi52YWx1ZT1uLnZhbHVlK2EudmFsdWUsdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDpuLmNvbmZpZy5yb2xsSWQsdmFsdWU6bi52YWx1ZX0pfX1lbHNlIGUuY29uZmlnLnNpZGVzPT09MTAmJmUudmFsdWU9PT0wJiYoZS52YWx1ZT0xMCksdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDplLmNvbmZpZy5yb2xsSWQsdmFsdWU6ZS52YWx1ZX0pO0h0KHRoaXMsdXQpLl8rK31yZXNpemUoZSl7Y29uc3QgdD1WKHRoaXMsdHQpLndpZHRoPWUud2lkdGgscj1WKHRoaXMsdHQpLmhlaWdodD1lLmhlaWdodDtWKHRoaXMsc3IpLmNyZWF0ZSh7YXNwZWN0OnQvcn0pLFYodGhpcyxZZSkucmVzaXplKCl9fU1lPW5ldyBXZWFrTWFwLHp0PW5ldyBXZWFrTWFwLHV0PW5ldyBXZWFrTWFwLEd0PW5ldyBXZWFrTWFwLHR0PW5ldyBXZWFrTWFwLFllPW5ldyBXZWFrTWFwLEllPW5ldyBXZWFrTWFwLElyPW5ldyBXZWFrTWFwLHJ0PW5ldyBXZWFrTWFwLHNyPW5ldyBXZWFrTWFwLG9yPW5ldyBXZWFrTWFwLFhlPW5ldyBXZWFrTWFwLHVyPW5ldyBXZWFrTWFwLE9yPW5ldyBXZWFrU2V0LEVuPWFzeW5jIGZ1bmN0aW9uKGUpe1YodGhpcyxZZSkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoZS5uZXdTdGFydFBvaW50KTtjb25zdCB0PXsuLi5lLGFzc2V0UGF0aDp0aGlzLmNvbmZpZy5hc3NldFBhdGgsZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGxpZ2h0czpWKHRoaXMscnQpfSxyPW5ldyBzdCh0LFYodGhpcyxJZSkpO3JldHVybiBWKHRoaXMsTWUpW3IuaWRdPXIsVih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOmUuc2lkZXMsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6ci5pZCxuZXdTdGFydFBvaW50OmUubmV3U3RhcnRQb2ludCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSksZS5zaWRlcz09PTEwMCYmKHIuZDEwSW5zdGFuY2U9YXdhaXQgc3QubG9hZERpZSh7Li4udCxzaWRlczoxMCxpZDpyLmlkKzFlNH0sVih0aGlzLEllKSkudGhlbihuPT57Y29uc3QgYT1uZXcgc3QobixWKHRoaXMsSWUpKTtyZXR1cm4gYS5kaWVQYXJlbnQ9cixhfSksVih0aGlzLE1lKVtgJHtyLmQxMEluc3RhbmNlLmlkfWBdPXIuZDEwSW5zdGFuY2UsVih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOjEwLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGlkOnIuZDEwSW5zdGFuY2UuaWQsdGhlbWU6ZS50aGVtZSxtZXNoTmFtZTplLm1lc2hOYW1lfX0pKSxyfTtsZXQgb3Q7c2VsZi5vbm1lc3NhZ2U9YXN5bmMgaT0+e3N3aXRjaChpLmRhdGEuYWN0aW9uKXtjYXNlInJvbGxEaWUiOm90LnBoeXNpY3NXb3JrZXJQb3J0LnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwifSk7YnJlYWs7Y2FzZSJhZGREaWUiOm90LmFkZChpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJhZGROb25EaWUiOm90LmFkZE5vbkRpZShpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJsb2FkVGhlbWUiOmF3YWl0IG90LmxvYWRUaGVtZShpLmRhdGEub3B0aW9ucykuY2F0Y2goZT0+Y29uc29sZS5lcnJvcihlKSk7YnJlYWs7Y2FzZSJjbGVhckRpY2UiOm90LmNsZWFyKCk7YnJlYWs7Y2FzZSJyZW1vdmVEaWUiOm90LnJlbW92ZShpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJyZXNpemUiOm90LnJlc2l6ZShpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJpbml0IjpvdD1uZXcgVGYoey4uLmkuZGF0YSxvbkluaXRDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdC1jb21wbGV0ZSJ9KX0sb25UaGVtZUxvYWRlZDooe2lkOmV9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoidGhlbWUtbG9hZGVkIixpZDplfSl9LG9uUm9sbFJlc3VsdDooe3JvbGxJZDplLHZhbHVlOnR9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1yZXN1bHQiLGRpZTp7cm9sbElkOmUsdmFsdWU6dH19KX0sb25Sb2xsQ29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtY29tcGxldGUifSl9LG9uRGllUmVtb3ZlZDplPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJkaWUtcmVtb3ZlZCIscm9sbElkOmV9KX19KTticmVhaztjYXNlInVwZGF0ZUNvbmZpZyI6b3QudXBkYXRlQ29uZmlnKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImNvbm5lY3QiOm90LmNvbm5lY3QoaS5kYXRhLnBvcnQpLHNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiY29ubmVjdC1jb21wbGV0ZSJ9KTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpfX19KSgpOwo=", Y = typeof window < "u" && window.Blob && new Blob([atob(y)], { type: "text/javascript;charset=utf-8" });
function L() {
  const m = Y && (window.URL || window.webkitURL).createObjectURL(Y);
  try {
    return m ? new Worker(m) : new Worker("data:application/javascript;base64," + y);
  } finally {
    m && (window.URL || window.webkitURL).revokeObjectURL(m);
  }
}
var X, d, W, p;
class F {
  constructor(l) {
    c(this, W);
    G(this, "initialized", !1);
    G(this, "offscreenWorkerInit", !1);
    G(this, "themeLoadedInit", !1);
    G(this, "pendingThemePromises", {});
    c(this, X, void 0);
    c(this, d, void 0);
    G(this, "onRollResult", () => {
    });
    G(this, "onRollComplete", () => {
    });
    this.onInitComplete = l.onInitComplete, u(this, X, l.canvas.transferControlToOffscreen()), u(this, d, new L()), b(this, d).init = new Promise((Z, V) => {
      this.offscreenWorkerInit = Z;
    }), this.initialized = h(this, W, p).call(this, l);
  }
  connect(l) {
    b(this, d).postMessage({
      action: "connect",
      port: l
    }, [l]);
  }
  updateConfig(l) {
    b(this, d).postMessage({ action: "updateConfig", options: l });
  }
  resize(l) {
    b(this, d).postMessage({ action: "resize", options: l });
  }
  async loadTheme(l) {
    return new Promise((Z, V) => {
      if (Object.keys(this.pendingThemePromises).includes(l.theme))
        return Z();
      this.pendingThemePromises[l.theme] = Z, b(this, d).postMessage({ action: "loadTheme", options: l });
    }).catch((Z) => console.error(Z));
  }
  clear() {
    b(this, d).postMessage({ action: "clearDice" });
  }
  add(l) {
    b(this, d).postMessage({ action: "addDie", options: l });
  }
  addNonDie(l) {
    b(this, d).postMessage({ action: "addNonDie", options: l });
  }
  remove(l) {
    b(this, d).postMessage({ action: "removeDie", options: l });
  }
}
X = new WeakMap(), d = new WeakMap(), W = new WeakSet(), p = async function(l) {
  return b(this, d).postMessage({
    action: "init",
    canvas: b(this, X),
    width: l.canvas.clientWidth,
    height: l.canvas.clientHeight,
    options: l.options
  }, [b(this, X)]), b(this, d).onmessage = (Z) => {
    switch (Z.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "connect-complete":
        break;
      case "theme-loaded":
        Z.data.id && this.pendingThemePromises[Z.data.id](Z.data.id);
        break;
      case "roll-result":
        this.onRollResult(Z.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(Z.data.rollId);
        break;
    }
  }, await b(this, d).init, this.onInitComplete(!0), !0;
};
export {
  F as default
};
