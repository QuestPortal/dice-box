var u = Object.defineProperty;
var J = (X, l, Z) => l in X ? u(X, l, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : X[l] = Z;
var d = (X, l, Z) => (J(X, typeof l != "symbol" ? l + "" : l, Z), Z), R = (X, l, Z) => {
  if (!l.has(X))
    throw TypeError("Cannot " + Z);
};
var V = (X, l, Z) => (R(X, l, "read from private field"), Z ? Z.call(X) : l.get(X)), m = (X, l, Z) => {
  if (l.has(X))
    throw TypeError("Cannot add the same private member more than once");
  l instanceof WeakSet ? l.add(X) : l.set(X, Z);
}, h = (X, l, Z, c) => (R(X, l, "write to private field"), c ? c.call(X, Z) : l.set(X, Z), Z);
var a = (X, l, Z) => (R(X, l, "access private method"), Z);
const p = "dmFyIEVsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgVGw9KHosdmUsQ2UpPT52ZSBpbiB6P0VsKHosdmUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkNlfSk6elt2ZV09Q2U7dmFyIFN0PSh6LHZlLENlKT0+KFRsKHosdHlwZW9mIHZlIT0ic3ltYm9sIj92ZSsiIjp2ZSxDZSksQ2UpLFhzPSh6LHZlLENlKT0+e2lmKCF2ZS5oYXMoeikpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitDZSl9O3ZhciBZPSh6LHZlLENlKT0+KFhzKHosdmUsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIiksQ2U/Q2UuY2FsbCh6KTp2ZS5nZXQoeikpLHJ0PSh6LHZlLENlKT0+e2lmKHZlLmhhcyh6KSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTt2ZSBpbnN0YW5jZW9mIFdlYWtTZXQ/dmUuYWRkKHopOnZlLnNldCh6LENlKX0saHQ9KHosdmUsQ2UsTWUpPT4oWHMoeix2ZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLE1lP01lLmNhbGwoeixDZSk6dmUuc2V0KHosQ2UpLENlKSx4aT0oeix2ZSxDZSxNZSk9Pih7c2V0IF8oQWUpe2h0KHosdmUsQWUsQ2UpfSxnZXQgXygpe3JldHVybiBZKHosdmUsTWUpfX0pLEZyPSh6LHZlLENlKT0+KFhzKHosdmUsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLENlKTsoZnVuY3Rpb24oKXt2YXIgWGUsU2ksRHQsYmksTXQsVHQsSmUsYXMsQXQsTGksTmksX3QsQmksb3Msd3I7InVzZSBzdHJpY3QiO2NsYXNzIHp7c3RhdGljIFdpdGhpbkVwc2lsb24oZSx0LGk9MTQwMTI5OGUtNTEpe3JldHVybiBNYXRoLmFicyhlLXQpPD1pfXN0YXRpYyBUb0hleChlKXtjb25zdCB0PWUudG9TdHJpbmcoMTYpO3JldHVybiBlPD0xNT8oIjAiK3QpLnRvVXBwZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfXN0YXRpYyBTaWduKGUpe3JldHVybiBlPStlLGU9PT0wfHxpc05hTihlKT9lOmU+MD8xOi0xfXN0YXRpYyBDbGFtcChlLHQ9MCxpPTEpe3JldHVybiBNYXRoLm1pbihpLE1hdGgubWF4KHQsZSkpfXN0YXRpYyBMb2cyKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzJFfXN0YXRpYyBJTG9nMihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO2xldCB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH1zdGF0aWMgUmVwZWF0KGUsdCl7cmV0dXJuIGUtTWF0aC5mbG9vcihlL3QpKnR9c3RhdGljIE5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuKGUtdCkvKGktdCl9c3RhdGljIERlbm9ybWFsaXplKGUsdCxpKXtyZXR1cm4gZSooaS10KSt0fXN0YXRpYyBEZWx0YUFuZ2xlKGUsdCl7bGV0IGk9ei5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIGk+MTgwJiYoaS09MzYwKSxpfXN0YXRpYyBQaW5nUG9uZyhlLHQpe2NvbnN0IGk9ei5SZXBlYXQoZSx0KjIpO3JldHVybiB0LU1hdGguYWJzKGktdCl9c3RhdGljIFNtb290aFN0ZXAoZSx0LGkpe2xldCBzPXouQ2xhbXAoaSk7cmV0dXJuIHM9LTIqcypzKnMrMypzKnMsdCpzK2UqKDEtcyl9c3RhdGljIE1vdmVUb3dhcmRzKGUsdCxpKXtsZXQgcz0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1pP3M9dDpzPWUrei5TaWduKHQtZSkqaSxzfXN0YXRpYyBNb3ZlVG93YXJkc0FuZ2xlKGUsdCxpKXtjb25zdCBzPXouRGVsdGFBbmdsZShlLHQpO2xldCByPTA7cmV0dXJuLWk8cyYmczxpP3I9dDoodD1lK3Mscj16Lk1vdmVUb3dhcmRzKGUsdCxpKSkscn1zdGF0aWMgTGVycChlLHQsaSl7cmV0dXJuIGUrKHQtZSkqaX1zdGF0aWMgTGVycEFuZ2xlKGUsdCxpKXtsZXQgcz16LlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcz4xODAmJihzLT0zNjApLGUrcyp6LkNsYW1wKGkpfXN0YXRpYyBJbnZlcnNlTGVycChlLHQsaSl7bGV0IHM9MDtyZXR1cm4gZSE9dD9zPXouQ2xhbXAoKGktZSkvKHQtZSkpOnM9MCxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW47cmV0dXJuIGUqbytpKmgrdCpsK3MqdX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXIqcjtyZXR1cm4obi1yKSo2KmUrKDMqbi00KnIrMSkqdCsoLW4rcikqNippKygzKm4tMipyKSpzfXN0YXRpYyBSYW5kb21SYW5nZShlLHQpe3JldHVybiBlPT09dD9lOk1hdGgucmFuZG9tKCkqKHQtZSkrZX1zdGF0aWMgUmFuZ2VUb1BlcmNlbnQoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBQZXJjZW50VG9SYW5nZShlLHQsaSl7cmV0dXJuKGktdCkqZSt0fXN0YXRpYyBOb3JtYWxpemVSYWRpYW5zKGUpe3JldHVybiBlLT16LlR3b1BpKk1hdGguZmxvb3IoKGUrTWF0aC5QSSkvei5Ud29QaSksZX1zdGF0aWMgSENGKGUsdCl7Y29uc3QgaT1lJXQ7cmV0dXJuIGk9PT0wP3Q6ei5IQ0YodCxpKX19ei5Ud29QaT1NYXRoLlBJKjI7Y29uc3QgdmU9MS8yLjIsQ2U9Mi4yLE1lPS4wMDE7Y2xhc3MgQWV7c3RhdGljIEJ1aWxkQXJyYXkoZSx0KXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZTsrK3MpaS5wdXNoKHQoKSk7cmV0dXJuIGl9c3RhdGljIEJ1aWxkVHVwbGUoZSx0KXtyZXR1cm4gQWUuQnVpbGRBcnJheShlLHQpfXN0YXRpYyBfUHJveHlTZXQoZSx0LGkscyl7cmV0dXJuIGUubm90aWZ5T2JzZXJ2ZXJzKHt0YXJnZXQ6dCxwcmV2aW91c0xlbmd0aDp0Lmxlbmd0aH0pLFJlZmxlY3Quc2V0KHQsaSxzKX1zdGF0aWMgX1Byb3h5UHVzaE9yVW5zaGlmdChlLHQsaSwuLi5zKXtyZXR1cm4gdC5ub3RpZnlPYnNlcnZlcnMoe3RhcmdldDppLHByZXZpb3VzTGVuZ3RoOmkubGVuZ3RofSksZT09PSJwdXNoIj9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShpLHMpOkFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGkscyl9c3RhdGljIF9Qcm94eURlbGV0ZShlLHQsaSl7cmV0dXJuIGUubm90aWZ5T2JzZXJ2ZXJzKHt0YXJnZXQ6dCxwcmV2aW91c0xlbmd0aDp0Lmxlbmd0aH0pLFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodCxpKX1zdGF0aWMgX1Byb3h5UG9wT3JTaGlmdChlLHQsaSl7Y29uc3Qgcz1lPT09InBvcCI/QXJyYXkucHJvdG90eXBlLnBvcC5hcHBseShpKTpBcnJheS5wcm90b3R5cGUuc2hpZnQuYXBwbHkoaSk7cmV0dXJuIHQubm90aWZ5T2JzZXJ2ZXJzKHt0YXJnZXQ6aSxwcmV2aW91c0xlbmd0aDppLmxlbmd0aH0pLHN9c3RhdGljIF9Qcm94eVNwbGljZShlLHQsaSxzLC4uLnIpe2NvbnN0IG49QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseSh0LFtpLHMscl0pO3JldHVybiBlLm5vdGlmeU9ic2VydmVycyh7dGFyZ2V0OnQscHJldmlvdXNMZW5ndGg6dC5sZW5ndGh9KSxufXN0YXRpYyBNYWtlT2JzZXJ2YWJsZUFycmF5KGUsdCl7bGV0IGk7aWYodCYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJpc09ic2VydmVkIikpe2NvbnN0IHM9e3NldDoocixuLGEpPT5BZS5fUHJveHlTZXQoZSxyLG4sYSkscHVzaDoociwuLi5uKT0+QWUuX1Byb3h5UHVzaE9yVW5zaGlmdCgicHVzaCIsZSxyLC4uLm4pLHVuc2hpZnQ6KHIsLi4ubik9PkFlLl9Qcm94eVB1c2hPclVuc2hpZnQoInVuc2hpZnQiLGUsciwuLi5uKSxkZWxldGU6KHIsbik9PkFlLl9Qcm94eURlbGV0ZShlLHIsbikscG9wOnI9PkFlLl9Qcm94eVBvcE9yU2hpZnQoInBvcCIsZSxyKSxzaGlmdDpyPT5BZS5fUHJveHlQb3BPclNoaWZ0KCJzaGlmdCIsZSxyKSxzcGxpY2U6KHIsbixhLC4uLm8pPT5BZS5fUHJveHlTcGxpY2UoZSxyLG4sYSwuLi5vKSxpc09ic2VydmVkOiEwfTtpPW5ldyBQcm94eSh0LHMpfWVsc2UgaT10O3JldHVybiBlLm5vdGlmeU9ic2VydmVycyh7dGFyZ2V0Oml9KSxpfX1jb25zdCBIcz17fTtmdW5jdGlvbiB0dChjLGUpe0hzW2NdPWV9ZnVuY3Rpb24gaWkoYyl7cmV0dXJuIEhzW2NdfWNsYXNzIGtle3N0YXRpYyBTZXRNYXRyaXhQcmVjaXNpb24oZSl7aWYoa2UuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2U9ITEsZSYmIWtlLk1hdHJpeFVzZTY0Qml0cyYma2UuTWF0cml4VHJhY2tlZE1hdHJpY2VzKWZvcihsZXQgdD0wO3Q8a2UuTWF0cml4VHJhY2tlZE1hdHJpY2VzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9a2UuTWF0cml4VHJhY2tlZE1hdHJpY2VzW3RdLHM9aS5fbTtpLl9tPW5ldyBBcnJheSgxNik7Zm9yKGxldCByPTA7cjwxNjsrK3IpaS5fbVtyXT1zW3JdfWtlLk1hdHJpeFVzZTY0Qml0cz1lLGtlLk1hdHJpeEN1cnJlbnRUeXBlPWtlLk1hdHJpeFVzZTY0Qml0cz9BcnJheTpGbG9hdDMyQXJyYXksa2UuTWF0cml4VHJhY2tlZE1hdHJpY2VzPW51bGx9fWtlLk1hdHJpeFVzZTY0Qml0cz0hMSxrZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMCxrZS5NYXRyaXhDdXJyZW50VHlwZT1GbG9hdDMyQXJyYXksa2UuTWF0cml4VHJhY2tlZE1hdHJpY2VzPVtdO2NsYXNzIGRle3N0YXRpYyBnZXQgTGFzdENyZWF0ZWRFbmdpbmUoKXtyZXR1cm4gdGhpcy5JbnN0YW5jZXMubGVuZ3RoPT09MD9udWxsOnRoaXMuSW5zdGFuY2VzW3RoaXMuSW5zdGFuY2VzLmxlbmd0aC0xXX1zdGF0aWMgZ2V0IExhc3RDcmVhdGVkU2NlbmUoKXtyZXR1cm4gdGhpcy5fTGFzdENyZWF0ZWRTY2VuZX19ZGUuSW5zdGFuY2VzPW5ldyBBcnJheSxkZS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsLGRlLlVzZUZhbGxiYWNrVGV4dHVyZT0hMCxkZS5GYWxsYmFja1RleHR1cmU9IiI7Y29uc3QgaXQ9Yz0+cGFyc2VJbnQoYy50b1N0cmluZygpLnJlcGxhY2UoL1xXL2csIiIpKTtjbGFzcyB0ZXtjb25zdHJ1Y3RvcihlPTAsdD0wKXt0aGlzLng9ZSx0aGlzLnk9dH10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IyIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9aXQodGhpcy54KSx0PWl0KHRoaXMueSk7bGV0IGk9ZTtyZXR1cm4gaT1pKjM5N150LGl9dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0ZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hc0FycmF5KCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXN9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX1hZGQoZSl7cmV0dXJuIG5ldyB0ZSh0aGlzLngrZS54LHRoaXMueStlLnkpfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngrZS54LHQueT10aGlzLnkrZS55LHRoaXN9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc31hZGRWZWN0b3IzKGUpe3JldHVybiBuZXcgdGUodGhpcy54K2UueCx0aGlzLnkrZS55KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRlKHRoaXMueC1lLngsdGhpcy55LWUueSl9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54LWUueCx0Lnk9dGhpcy55LWUueSx0aGlzfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpc31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0ZSh0aGlzLngqZS54LHRoaXMueSplLnkpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdGhpc31tdWx0aXBseUJ5RmxvYXRzKGUsdCl7cmV0dXJuIG5ldyB0ZSh0aGlzLngqZSx0aGlzLnkqdCl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGUodGhpcy54L2UueCx0aGlzLnkvZS55KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0aGlzfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1uZWdhdGUoKXtyZXR1cm4gbmV3IHRlKC10aGlzLngsLXRoaXMueSl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpc31uZWdhdGVUb1JlZihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLngqLTEsdGhpcy55Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc31zY2FsZShlKXtjb25zdCB0PW5ldyB0ZSgwLDApO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9TWUpe3JldHVybiBlJiZ6LldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRlKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSkpfWZyYWN0KCl7cmV0dXJuIG5ldyB0ZSh0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSkpfXJvdGF0ZVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLmNvcyhlKSxzPU1hdGguc2luKGUpO3JldHVybiB0Lng9aSp0aGlzLngtcyp0aGlzLnksdC55PXMqdGhpcy54K2kqdGhpcy55LHRoaXN9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fW5vcm1hbGl6ZSgpe3JldHVybiB0ZS5Ob3JtYWxpemVUb1JlZih0aGlzLHRoaXMpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRlKHRoaXMueCx0aGlzLnkpfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyB0ZSgwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHRlKDEsMSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4gdGUuX1plcm9SZWFkT25seX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHRlKGVbdF0sZVt0KzFdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe2kueD1lW3RdLGkueT1lW3QrMV19c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQueCsoLWUueCtpLngpKnIrKDIqZS54LTUqdC54KzQqaS54LXMueCkqbisoLWUueCszKnQueC0zKmkueCtzLngpKmEpLGg9LjUqKDIqdC55KygtZS55K2kueSkqcisoMiplLnktNSp0LnkrNCppLnktcy55KSpuKygtZS55KzMqdC55LTMqaS55K3MueSkqYSk7cmV0dXJuIG5ldyB0ZShvLGgpfXN0YXRpYyBDbGFtcChlLHQsaSl7bGV0IHM9ZS54O3M9cz5pLng/aS54OnMscz1zPHQueD90Lng6cztsZXQgcj1lLnk7cmV0dXJuIHI9cj5pLnk/aS55OnIscj1yPHQueT90Lnk6cixuZXcgdGUocyxyKX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGY9ZS54Km8raS54KmgrdC54Kmwrcy54KnUsZD1lLnkqbytpLnkqaCt0LnkqbCtzLnkqdTtyZXR1cm4gbmV3IHRlKGYsZCl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj10ZS5aZXJvKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7bi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55fXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPWUueCsodC54LWUueCkqaSxyPWUueSsodC55LWUueSkqaTtyZXR1cm4gbmV3IHRlKHMscil9c3RhdGljIERvdChlLHQpe3JldHVybiBlLngqdC54K2UueSp0Lnl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PXRlLlplcm8oKTtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aCgpO2khPT0wJiYodC54PWUueC9pLHQueT1lLnkvaSl9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLng8dC54P2UueDp0Lngscz1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyB0ZShpLHMpfXN0YXRpYyBNYXhpbWl6ZShlLHQpe2NvbnN0IGk9ZS54PnQueD9lLng6dC54LHM9ZS55PnQueT9lLnk6dC55O3JldHVybiBuZXcgdGUoaSxzKX1zdGF0aWMgVHJhbnNmb3JtKGUsdCl7Y29uc3QgaT10ZS5aZXJvKCk7cmV0dXJuIHRlLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7Y29uc3Qgcz10Lm0scj1lLngqc1swXStlLnkqc1s0XStzWzEyXSxuPWUueCpzWzFdK2UueSpzWzVdK3NbMTNdO2kueD1yLGkueT1ufXN0YXRpYyBQb2ludEluVHJpYW5nbGUoZSx0LGkscyl7Y29uc3Qgcj0uNSooLWkueSpzLngrdC55KigtaS54K3MueCkrdC54KihpLnktcy55KStpLngqcy55KSxuPXI8MD8tMToxLGE9KHQueSpzLngtdC54KnMueSsocy55LXQueSkqZS54Kyh0Lngtcy54KSplLnkpKm4sbz0odC54KmkueS10LnkqaS54Kyh0LnktaS55KSplLngrKGkueC10LngpKmUueSkqbjtyZXR1cm4gYT4wJiZvPjAmJmErbzwyKnIqbn1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHRlLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueTtyZXR1cm4gaSppK3Mqc31zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIHRlLkNlbnRlclRvUmVmKGUsdCx0ZS5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfXN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChlLHQsaSl7Y29uc3Qgcz10ZS5EaXN0YW5jZVNxdWFyZWQodCxpKTtpZihzPT09MClyZXR1cm4gdGUuRGlzdGFuY2UoZSx0KTtjb25zdCByPWkuc3VidHJhY3QodCksbj1NYXRoLm1heCgwLE1hdGgubWluKDEsdGUuRG90KGUuc3VidHJhY3QodCkscikvcykpLGE9dC5hZGQoci5tdWx0aXBseUJ5RmxvYXRzKG4sbikpO3JldHVybiB0ZS5EaXN0YW5jZShlLGEpfX10ZS5fWmVyb1JlYWRPbmx5PXRlLlplcm8oKTtjbGFzcyBne2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pfWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IzIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9aXQodGhpcy5feCksdD1pdCh0aGlzLl95KSxpPWl0KHRoaXMuX3opO2xldCBzPWU7cmV0dXJuIHM9cyozOTdedCxzPXMqMzk3Xmksc31hc0FycmF5KCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gZy5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b1F1YXRlcm5pb24oKXtyZXR1cm4gRy5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl95LHRoaXMuX3gsdGhpcy5feil9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9YWRkSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9aSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IGcodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IGcodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3opfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0KX1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBuZXcgZyh0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otaSl9c3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHMuY29weUZyb21GbG9hdHModGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LWkpfW5lZ2F0ZSgpe3JldHVybiBuZXcgZygtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feil9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqLTEsdGhpcy5feSotMSx0aGlzLl96Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyBnKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0KXtjb25zdCBpPWUudyp0aGlzLngrZS55KnRoaXMuei1lLnoqdGhpcy55LHM9ZS53KnRoaXMueStlLnoqdGhpcy54LWUueCp0aGlzLnoscj1lLncqdGhpcy56K2UueCp0aGlzLnktZS55KnRoaXMueCxuPS1lLngqdGhpcy54LWUueSp0aGlzLnktZS56KnRoaXMuejtyZXR1cm4gdC54PWkqZS53K24qLWUueCtzKi1lLnotciotZS55LHQueT1zKmUudytuKi1lLnkrciotZS54LWkqLWUueix0Lno9ciplLncrbiotZS56K2kqLWUueS1zKi1lLngsdH1hcHBseVJvdGF0aW9uUXVhdGVybmlvbkluUGxhY2UoZSl7cmV0dXJuIHRoaXMuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZihlLHRoaXMpfWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSxnLlplcm8oKSl9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LmFkZEluUGxhY2VGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1wcm9qZWN0T25QbGFuZShlLHQpe2NvbnN0IGk9Zy5aZXJvKCk7cmV0dXJuIHRoaXMucHJvamVjdE9uUGxhbmVUb1JlZihlLHQsaSksaX1wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxpKXtjb25zdCBzPWUubm9ybWFsLHI9ZS5kLG49WC5WZWN0b3IzWzBdO3RoaXMuc3VidHJhY3RUb1JlZih0LG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgYT1nLkRvdChuLHMpO2lmKE1hdGguYWJzKGEpPE1hdGgucG93KDEwLC0xMCkpaS5zZXRBbGwoMS8wKTtlbHNle2NvbnN0IG89LShnLkRvdCh0LHMpK3IpL2EsaD1uLnNjYWxlSW5QbGFjZShvKTt0LmFkZFRvUmVmKGgsaSl9fWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5fen1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9TWUpe3JldHVybiBlJiZ6LldpdGhpbkVwc2lsb24odGhpcy5feCxlLl94LHQpJiZ6LldpdGhpbkVwc2lsb24odGhpcy5feSxlLl95LHQpJiZ6LldpdGhpbkVwc2lsb24odGhpcy5feixlLl96LHQpfWVxdWFsc1RvRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5feD09PWUmJnRoaXMuX3k9PT10JiZ0aGlzLl96PT09aX1tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhlLl94LGUuX3ksZS5feil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IGcodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KmkpfWRpdmlkZShlKXtyZXR1cm4gbmV3IGcodGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLGk8dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfW1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPnRoaXMuX3gmJih0aGlzLng9ZSksdD50aGlzLl95JiYodGhpcy55PXQpLGk+dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfWlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oZSl7Y29uc3QgdD1NYXRoLmFicyh0aGlzLl94KSxpPU1hdGguYWJzKHRoaXMuX3kpO2lmKCF6LldpdGhpbkVwc2lsb24odCxpLGUpKXJldHVybiEwO2NvbnN0IHM9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIXouV2l0aGluRXBzaWxvbih0LHMsZSl8fCF6LldpdGhpbkVwc2lsb24oaSxzLGUpfWdldCBpc05vblVuaWZvcm0oKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuX3gpLHQ9TWF0aC5hYnModGhpcy5feSk7aWYoZSE9PXQpcmV0dXJuITA7Y29uc3QgaT1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PWl9Zmxvb3IoKXtyZXR1cm4gbmV3IGcoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfWZyYWN0KCl7cmV0dXJuIG5ldyBnKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fWdldCBoYXNBWmVyb0NvbXBvbmVudCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3kqdGhpcy5fej09PTB9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKX1yZW9yZGVySW5QbGFjZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZT09PSJ4eXoiP3RoaXM6KFguVmVjdG9yM1swXS5jb3B5RnJvbSh0aGlzKSxbIngiLCJ5IiwieiJdLmZvckVhY2goKHQsaSk9Pnt0aGlzW3RdPVguVmVjdG9yM1swXVtlW2ldXX0pLHRoaXMpfXJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChYLk1hdHJpeFswXSksZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsWC5NYXRyaXhbMF0sdCksdH1yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmKGUsdCxpKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsWC5WZWN0b3IzWzBdKSxYLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxYLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoWC5WZWN0b3IzWzBdLGkpLGl9Y3Jvc3MoZSl7cmV0dXJuIGcuQ3Jvc3ModGhpcyxlKX1ub3JtYWxpemVGcm9tTGVuZ3RoKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT1uZXcgZygwLDAsMCk7cmV0dXJuIHRoaXMubm9ybWFsaXplVG9SZWYoZSksZX1ub3JtYWxpemVUb1JlZihlKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfWNsb25lKCl7cmV0dXJuIG5ldyBnKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzfXNldChlLHQsaSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkpfXNldEFsbChlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9ZSx0aGlzfXN0YXRpYyBHZXRDbGlwRmFjdG9yKGUsdCxpLHMpe2NvbnN0IHI9Zy5Eb3QoZSxpKS1zLG49Zy5Eb3QodCxpKS1zO3JldHVybiByLyhyLW4pfXN0YXRpYyBHZXRBbmdsZUJldHdlZW5WZWN0b3JzKGUsdCxpKXtjb25zdCBzPWUubm9ybWFsaXplVG9SZWYoWC5WZWN0b3IzWzFdKSxyPXQubm9ybWFsaXplVG9SZWYoWC5WZWN0b3IzWzJdKTtsZXQgbj1nLkRvdChzLHIpO249ei5DbGFtcChuLC0xLDEpO2NvbnN0IGE9TWF0aC5hY29zKG4pLG89WC5WZWN0b3IzWzNdO3JldHVybiBnLkNyb3NzVG9SZWYocyxyLG8pLGcuRG90KG8saSk+MD9pc05hTihhKT8wOmE6aXNOYU4oYSk/LU1hdGguUEk6LU1hdGguYWNvcyhuKX1zdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9yc09uUGxhbmUoZSx0LGkpe1guVmVjdG9yM1swXS5jb3B5RnJvbShlKTtjb25zdCBzPVguVmVjdG9yM1swXTtYLlZlY3RvcjNbMV0uY29weUZyb20odCk7Y29uc3Qgcj1YLlZlY3RvcjNbMV07WC5WZWN0b3IzWzJdLmNvcHlGcm9tKGkpO2NvbnN0IG49WC5WZWN0b3IzWzJdLGE9WC5WZWN0b3IzWzNdLG89WC5WZWN0b3IzWzRdO3Mubm9ybWFsaXplKCksci5ub3JtYWxpemUoKSxuLm5vcm1hbGl6ZSgpLGcuQ3Jvc3NUb1JlZihuLHMsYSksZy5Dcm9zc1RvUmVmKGEsbixvKTtjb25zdCBoPU1hdGguYXRhbjIoZy5Eb3QocixhKSxnLkRvdChyLG8pKTtyZXR1cm4gei5Ob3JtYWxpemVSYWRpYW5zKGgpfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2k9ei5DbGFtcChpLDAsMSk7Y29uc3Qgcj1YLlZlY3RvcjNbMF0sbj1YLlZlY3RvcjNbMV07ci5jb3B5RnJvbShlKTtjb25zdCBhPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKGEpLG4uY29weUZyb20odCk7Y29uc3Qgbz1uLmxlbmd0aCgpO24ubm9ybWFsaXplRnJvbUxlbmd0aChvKTtjb25zdCBoPWcuRG90KHIsbik7bGV0IGwsdTtpZihoPDEtTWUpe2NvbnN0IGY9TWF0aC5hY29zKGgpLGQ9MS9NYXRoLnNpbihmKTtsPU1hdGguc2luKCgxLWkpKmYpKmQsdT1NYXRoLnNpbihpKmYpKmR9ZWxzZSBsPTEtaSx1PWk7ci5zY2FsZUluUGxhY2UobCksbi5zY2FsZUluUGxhY2UodSkscy5jb3B5RnJvbShyKS5hZGRJblBsYWNlKG4pLHMuc2NhbGVJblBsYWNlKHouTGVycChhLG8saSkpfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe2cuU2xlcnBUb1JlZihlLHQscz09PTA/MTppL3Mscil9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBnKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21GbG9hdEFycmF5KGUsdCl7cmV0dXJuIGcuRnJvbUFycmF5KGUsdCl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtpLng9ZVt0XSxpLnk9ZVt0KzFdLGkuej1lW3QrMl19c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBnLkZyb21BcnJheVRvUmVmKGUsdCxpKX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3MuY29weUZyb21GbG9hdHMoZSx0LGkpfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBnKDAsMCwwKX1zdGF0aWMgT25lKCl7cmV0dXJuIG5ldyBnKDEsMSwxKX1zdGF0aWMgVXAoKXtyZXR1cm4gbmV3IGcoMCwxLDApfXN0YXRpYyBnZXQgVXBSZWFkT25seSgpe3JldHVybiBnLl9VcFJlYWRPbmx5fXN0YXRpYyBnZXQgRG93blJlYWRPbmx5KCl7cmV0dXJuIGcuX0Rvd25SZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0UmVhZE9ubHkoKXtyZXR1cm4gZy5fUmlnaHRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRSZWFkT25seSgpe3JldHVybiBnLl9MZWZ0UmVhZE9ubHl9c3RhdGljIGdldCBMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIGcuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSgpe3JldHVybiBnLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFplcm9SZWFkT25seSgpe3JldHVybiBnLl9aZXJvUmVhZE9ubHl9c3RhdGljIERvd24oKXtyZXR1cm4gbmV3IGcoMCwtMSwwKX1zdGF0aWMgRm9yd2FyZChlPSExKXtyZXR1cm4gbmV3IGcoMCwwLGU/LTE6MSl9c3RhdGljIEJhY2t3YXJkKGU9ITEpe3JldHVybiBuZXcgZygwLDAsZT8xOi0xKX1zdGF0aWMgUmlnaHQoKXtyZXR1cm4gbmV3IGcoMSwwLDApfXN0YXRpYyBMZWZ0KCl7cmV0dXJuIG5ldyBnKC0xLDAsMCl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1nLlplcm8oKTtyZXR1cm4gZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtnLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyLng9YSpsLHIueT1vKmwsci56PWgqbH1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1nLlplcm8oKTtyZXR1cm4gZy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpe3RoaXMuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tO3IueD1lKm5bMF0rdCpuWzRdK2kqbls4XSxyLnk9ZSpuWzFdK3Qqbls1XStpKm5bOV0sci56PWUqblsyXSt0Km5bNl0raSpuWzEwXX1zdGF0aWMgQ2F0bXVsbFJvbShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89LjUqKDIqdC5feCsoLWUuX3graS5feCkqcisoMiplLl94LTUqdC5feCs0KmkuX3gtcy5feCkqbisoLWUuX3grMyp0Ll94LTMqaS5feCtzLl94KSphKSxoPS41KigyKnQuX3krKC1lLl95K2kuX3kpKnIrKDIqZS5feS01KnQuX3krNCppLl95LXMuX3kpKm4rKC1lLl95KzMqdC5feS0zKmkuX3krcy5feSkqYSksbD0uNSooMip0Ll96KygtZS5feitpLl96KSpyKygyKmUuX3otNSp0Ll96KzQqaS5fei1zLl96KSpuKygtZS5feiszKnQuX3otMyppLl96K3MuX3opKmEpO3JldHVybiBuZXcgZyhvLGgsbCl9c3RhdGljIENsYW1wKGUsdCxpKXtjb25zdCBzPW5ldyBnO3JldHVybiBnLkNsYW1wVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ2xhbXBUb1JlZihlLHQsaSxzKXtsZXQgcj1lLl94O3I9cj5pLl94P2kuX3g6cixyPXI8dC5feD90Ll94OnI7bGV0IG49ZS5feTtuPW4+aS5feT9pLl95Om4sbj1uPHQuX3k/dC5feTpuO2xldCBhPWUuX3o7YT1hPmkuX3o/aS5fejphLGE9YTx0Ll96P3QuX3o6YSxzLmNvcHlGcm9tRmxvYXRzKHIsbixhKX1zdGF0aWMgQ2hlY2tFeHRlbmRzKGUsdCxpKXt0Lm1pbmltaXplSW5QbGFjZShlKSxpLm1heGltaXplSW5QbGFjZShlKX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGY9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LGQ9ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LF89ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1O3JldHVybiBuZXcgZyhmLGQsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1nLlplcm8oKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLng9KGEtcikqNiplLngrKDMqYS00KnIrMSkqdC54KygtYStyKSo2KmkueCsoMyphLTIqcikqcy54LG4ueT0oYS1yKSo2KmUueSsoMyphLTQqcisxKSp0LnkrKC1hK3IpKjYqaS55KygzKmEtMipyKSpzLnksbi56PShhLXIpKjYqZS56KygzKmEtNCpyKzEpKnQueisoLWErcikqNippLnorKDMqYS0yKnIpKnMuen1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZygwLDAsMCk7cmV0dXJuIGcuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLng9ZS5feCsodC5feC1lLl94KSppLHMueT1lLl95Kyh0Ll95LWUuX3kpKmkscy56PWUuX3orKHQuX3otZS5feikqaX1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96fXN0YXRpYyBDcm9zcyhlLHQpe2NvbnN0IGk9Zy5aZXJvKCk7cmV0dXJuIGcuQ3Jvc3NUb1JlZihlLHQsaSksaX1zdGF0aWMgQ3Jvc3NUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLl95KnQuX3otZS5feip0Ll95LHI9ZS5feip0Ll94LWUuX3gqdC5feixuPWUuX3gqdC5feS1lLl95KnQuX3g7aS5jb3B5RnJvbUZsb2F0cyhzLHIsbil9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PWcuWmVybygpO3JldHVybiBnLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH1zdGF0aWMgTm9ybWFsaXplVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZVRvUmVmKHQpfXN0YXRpYyBQcm9qZWN0KGUsdCxpLHMpe2NvbnN0IHI9bmV3IGc7cmV0dXJuIGcuUHJvamVjdFRvUmVmKGUsdCxpLHMscikscn1zdGF0aWMgUHJvamVjdFRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLndpZHRoLGE9cy5oZWlnaHQsbz1zLngsaD1zLnksbD1YLk1hdHJpeFsxXTt4LkZyb21WYWx1ZXNUb1JlZihuLzIsMCwwLDAsMCwtYS8yLDAsMCwwLDAsLjUsMCxvK24vMixhLzIraCwuNSwxLGwpO2NvbnN0IHU9WC5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihpLHUpLHUubXVsdGlwbHlUb1JlZihsLHUpLGcuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHUscikscn1zdGF0aWMgX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGUsdCxpKXtnLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LGkpO2NvbnN0IHM9dC5tLHI9ZS5feCpzWzNdK2UuX3kqc1s3XStlLl96KnNbMTFdK3NbMTVdO3ouV2l0aGluRXBzaWxvbihyLDEpJiZpLnNjYWxlSW5QbGFjZSgxL3IpfXN0YXRpYyBVbnByb2plY3RGcm9tVHJhbnNmb3JtKGUsdCxpLHMscil7cmV0dXJuIHRoaXMuVW5wcm9qZWN0KGUsdCxpLHMscix4LklkZW50aXR5UmVhZE9ubHkpfXN0YXRpYyBVbnByb2plY3QoZSx0LGkscyxyLG4pe2NvbnN0IGE9Zy5aZXJvKCk7cmV0dXJuIGcuVW5wcm9qZWN0VG9SZWYoZSx0LGkscyxyLG4sYSksYX1zdGF0aWMgVW5wcm9qZWN0VG9SZWYoZSx0LGkscyxyLG4sYSl7Zy5VbnByb2plY3RGbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkscyxyLG4sYSl9c3RhdGljIFVucHJvamVjdEZsb2F0c1RvUmVmKGUsdCxpLHMscixuLGEsbyxoKXt2YXIgZjtjb25zdCBsPVguTWF0cml4WzBdO24ubXVsdGlwbHlUb1JlZihhLGwpLGwubXVsdGlwbHlUb1JlZihvLGwpLGwuaW52ZXJ0KCk7Y29uc3QgdT1YLlZlY3RvcjNbMF07dS54PWUvcyoyLTEsdS55PS0odC9yKjItMSksKGY9ZGUuTGFzdENyZWF0ZWRFbmdpbmUpIT1udWxsJiZmLmlzTkRDSGFsZlpSYW5nZT91Lno9aTp1Lno9MippLTEsZy5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYodSxsLGgpfXN0YXRpYyBNaW5pbWl6ZShlLHQpe2NvbnN0IGk9ZS5jbG9uZSgpO3JldHVybiBpLm1pbmltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBNYXhpbWl6ZShlLHQpe2NvbnN0IGk9ZS5jbG9uZSgpO3JldHVybiBpLm1heGltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBEaXN0YW5jZShlLHQpe3JldHVybiBNYXRoLnNxcnQoZy5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9c3RhdGljIERpc3RhbmNlU3F1YXJlZChlLHQpe2NvbnN0IGk9ZS5feC10Ll94LHM9ZS5feS10Ll95LHI9ZS5fei10Ll96O3JldHVybiBpKmkrcypzK3Iqcn1zdGF0aWMgUHJvamVjdE9uVHJpYW5nbGVUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49WC5WZWN0b3IzWzBdLGE9WC5WZWN0b3IzWzFdLG89WC5WZWN0b3IzWzJdLGg9WC5WZWN0b3IzWzNdLGw9WC5WZWN0b3IzWzRdO2kuc3VidHJhY3RUb1JlZih0LG4pLHMuc3VidHJhY3RUb1JlZih0LGEpLHMuc3VidHJhY3RUb1JlZihpLG8pO2NvbnN0IHU9bi5sZW5ndGgoKSxmPWEubGVuZ3RoKCksZD1vLmxlbmd0aCgpO2lmKHU8TWV8fGY8TWV8fGQ8TWUpcmV0dXJuIHIuY29weUZyb20odCksZy5EaXN0YW5jZShlLHQpO2Uuc3VidHJhY3RUb1JlZih0LGwpLGcuQ3Jvc3NUb1JlZihuLGEsaCk7Y29uc3QgXz1oLmxlbmd0aCgpO2lmKF88TWUpcmV0dXJuIHIuY29weUZyb20odCksZy5EaXN0YW5jZShlLHQpO2gubm9ybWFsaXplRnJvbUxlbmd0aChfKTtsZXQgRT1sLmxlbmd0aCgpO2lmKEU8TWUpcmV0dXJuIHIuY29weUZyb20odCksMDtsLm5vcm1hbGl6ZUZyb21MZW5ndGgoRSk7Y29uc3QgbT1nLkRvdChoLGwpLFQ9WC5WZWN0b3IzWzVdLGI9WC5WZWN0b3IzWzZdO1QuY29weUZyb20oaCkuc2NhbGVJblBsYWNlKC1FKm0pLGIuY29weUZyb20oZSkuYWRkSW5QbGFjZShUKTtjb25zdCBSPVguVmVjdG9yM1s0XSx5PVguVmVjdG9yM1s1XSxEPVguVmVjdG9yM1s3XSx2PVguVmVjdG9yM1s4XTtSLmNvcHlGcm9tKG4pLnNjYWxlSW5QbGFjZSgxL3UpLHYuY29weUZyb20oYSkuc2NhbGVJblBsYWNlKDEvZiksUi5hZGRJblBsYWNlKHYpLnNjYWxlSW5QbGFjZSgtMSkseS5jb3B5RnJvbShuKS5zY2FsZUluUGxhY2UoLTEvdSksdi5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoMS9kKSx5LmFkZEluUGxhY2Uodikuc2NhbGVJblBsYWNlKC0xKSxELmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgtMS9kKSx2LmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgtMS9mKSxELmFkZEluUGxhY2Uodikuc2NhbGVJblBsYWNlKC0xKTtjb25zdCBBPVguVmVjdG9yM1s5XTtsZXQgTDtBLmNvcHlGcm9tKGIpLnN1YnRyYWN0SW5QbGFjZSh0KSxnLkNyb3NzVG9SZWYoUixBLHYpLEw9Zy5Eb3QodixoKTtjb25zdCBKPUw7QS5jb3B5RnJvbShiKS5zdWJ0cmFjdEluUGxhY2UoaSksZy5Dcm9zc1RvUmVmKHksQSx2KSxMPWcuRG90KHYsaCk7Y29uc3QgaGU9TDtBLmNvcHlGcm9tKGIpLnN1YnRyYWN0SW5QbGFjZShzKSxnLkNyb3NzVG9SZWYoRCxBLHYpLEw9Zy5Eb3QodixoKTtjb25zdCB4ZT1MLGZlPVguVmVjdG9yM1sxMF07bGV0IHVlLHNlO0o+MCYmaGU8MD8oZmUuY29weUZyb20obiksdWU9dCxzZT1pKTpoZT4wJiZ4ZTwwPyhmZS5jb3B5RnJvbShvKSx1ZT1pLHNlPXMpOihmZS5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEpLHVlPXMsc2U9dCk7Y29uc3QgUGU9WC5WZWN0b3IzWzldLERlPVguVmVjdG9yM1s0XTtpZih1ZS5zdWJ0cmFjdFRvUmVmKGIsdiksc2Uuc3VidHJhY3RUb1JlZihiLFBlKSxnLkNyb3NzVG9SZWYodixQZSxEZSksIShnLkRvdChEZSxoKTwwKSlyZXR1cm4gci5jb3B5RnJvbShiKSxNYXRoLmFicyhFKm0pO2NvbnN0IEhlPVguVmVjdG9yM1s1XTtnLkNyb3NzVG9SZWYoZmUsRGUsSGUpLEhlLm5vcm1hbGl6ZSgpO2NvbnN0IEtlPVguVmVjdG9yM1s5XTtLZS5jb3B5RnJvbSh1ZSkuc3VidHJhY3RJblBsYWNlKGIpO2NvbnN0IGd0PUtlLmxlbmd0aCgpO2lmKGd0PE1lKXJldHVybiByLmNvcHlGcm9tKHVlKSxnLkRpc3RhbmNlKGUsdWUpO0tlLm5vcm1hbGl6ZUZyb21MZW5ndGgoZ3QpO2NvbnN0IG90PWcuRG90KEhlLEtlKSxGdD1YLlZlY3RvcjNbN107RnQuY29weUZyb20oYikuYWRkSW5QbGFjZShIZS5zY2FsZUluUGxhY2UoZ3Qqb3QpKSx2LmNvcHlGcm9tKEZ0KS5zdWJ0cmFjdEluUGxhY2UodWUpLEU9ZmUubGVuZ3RoKCksZmUubm9ybWFsaXplRnJvbUxlbmd0aChFKTtsZXQgdGk9Zy5Eb3QodixmZSkvTWF0aC5tYXgoRSxNZSk7cmV0dXJuIHRpPXouQ2xhbXAodGksMCwxKSxGdC5jb3B5RnJvbSh1ZSkuYWRkSW5QbGFjZShmZS5zY2FsZUluUGxhY2UodGkqRSkpLHIuY29weUZyb20oRnQpLGcuRGlzdGFuY2UoZSxGdCl9c3RhdGljIENlbnRlcihlLHQpe3JldHVybiBnLkNlbnRlclRvUmVmKGUsdCxnLlplcm8oKSl9c3RhdGljIENlbnRlclRvUmVmKGUsdCxpKXtyZXR1cm4gaS5jb3B5RnJvbUZsb2F0cygoZS5feCt0Ll94KS8yLChlLl95K3QuX3kpLzIsKGUuX3ordC5feikvMil9c3RhdGljIFJvdGF0aW9uRnJvbUF4aXMoZSx0LGkpe2NvbnN0IHM9Zy5aZXJvKCk7cmV0dXJuIGcuUm90YXRpb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKXtjb25zdCByPVguUXVhdGVybmlvblswXTtHLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGksciksci50b0V1bGVyQW5nbGVzVG9SZWYocyl9fWcuX1VwUmVhZE9ubHk9Zy5VcCgpLGcuX0Rvd25SZWFkT25seT1nLkRvd24oKSxnLl9MZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5PWcuRm9yd2FyZCghMSksZy5fUmlnaHRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9Zy5Gb3J3YXJkKCEwKSxnLl9SaWdodFJlYWRPbmx5PWcuUmlnaHQoKSxnLl9MZWZ0UmVhZE9ubHk9Zy5MZWZ0KCksZy5fWmVyb1JlYWRPbmx5PWcuWmVybygpO2NsYXNzIEVle2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMueD1lLHRoaXMueT10LHRoaXMuej1pLHRoaXMudz1zfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9IFo6ICR7dGhpcy56fSBXOiAke3RoaXMud319YH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVmVjdG9yNCJ9Z2V0SGFzaENvZGUoKXtjb25zdCBlPWl0KHRoaXMueCksdD1pdCh0aGlzLnkpLGk9aXQodGhpcy56KSxzPWl0KHRoaXMudyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9dG9BcnJheShlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIEVlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMueis9ZS56LHRoaXMudys9ZS53LHRoaXN9YWRkKGUpe3JldHVybiBuZXcgRWUodGhpcy54K2UueCx0aGlzLnkrZS55LHRoaXMueitlLnosdGhpcy53K2Uudyl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdGhpc31zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyBFZSh0aGlzLngtZS54LHRoaXMueS1lLnksdGhpcy56LWUueix0aGlzLnctZS53KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHQuej10aGlzLnotZS56LHQudz10aGlzLnctZS53LHRoaXN9c3VidHJhY3RGcm9tRmxvYXRzKGUsdCxpLHMpe3JldHVybiBuZXcgRWUodGhpcy54LWUsdGhpcy55LXQsdGhpcy56LWksdGhpcy53LXMpfXN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD10aGlzLngtZSxyLnk9dGhpcy55LXQsci56PXRoaXMuei1pLHIudz10aGlzLnctcyx0aGlzfW5lZ2F0ZSgpe3JldHVybiBuZXcgRWUoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSx0aGlzLnoqLTEsdGhpcy53Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgRWUodGhpcy54KmUsdGhpcy55KmUsdGhpcy56KmUsdGhpcy53KmUpfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0Lno9dGhpcy56KmUsdC53PXRoaXMudyplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LngrPXRoaXMueCplLHQueSs9dGhpcy55KmUsdC56Kz10aGlzLnoqZSx0LncrPXRoaXMudyplLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueSYmdGhpcy56PT09ZS56JiZ0aGlzLnc9PT1lLnd9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PU1lKXtyZXR1cm4gZSYmei5XaXRoaW5FcHNpbG9uKHRoaXMueCxlLngsdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLnksZS55LHQpJiZ6LldpdGhpbkVwc2lsb24odGhpcy56LGUueix0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMudyxlLncsdCl9ZXF1YWxzVG9GbG9hdHMoZSx0LGkscyl7cmV0dXJuIHRoaXMueD09PWUmJnRoaXMueT09PXQmJnRoaXMuej09PWkmJnRoaXMudz09PXN9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzLnoqPWUueix0aGlzLncqPWUudyx0aGlzfW11bHRpcGx5KGUpe3JldHVybiBuZXcgRWUodGhpcy54KmUueCx0aGlzLnkqZS55LHRoaXMueiplLnosdGhpcy53KmUudyl9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUueCx0Lnk9dGhpcy55KmUueSx0Lno9dGhpcy56KmUueix0Lnc9dGhpcy53KmUudyx0aGlzfW11bHRpcGx5QnlGbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyBFZSh0aGlzLngqZSx0aGlzLnkqdCx0aGlzLnoqaSx0aGlzLncqcyl9ZGl2aWRlKGUpe3JldHVybiBuZXcgRWUodGhpcy54L2UueCx0aGlzLnkvZS55LHRoaXMuei9lLnosdGhpcy53L2Uudyl9ZGl2aWRlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueC9lLngsdC55PXRoaXMueS9lLnksdC56PXRoaXMuei9lLnosdC53PXRoaXMudy9lLncsdGhpc31kaXZpZGVJblBsYWNlKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9bWluaW1pemVJblBsYWNlKGUpe3JldHVybiBlLng8dGhpcy54JiYodGhpcy54PWUueCksZS55PHRoaXMueSYmKHRoaXMueT1lLnkpLGUuejx0aGlzLnomJih0aGlzLno9ZS56KSxlLnc8dGhpcy53JiYodGhpcy53PWUudyksdGhpc31tYXhpbWl6ZUluUGxhY2UoZSl7cmV0dXJuIGUueD50aGlzLngmJih0aGlzLng9ZS54KSxlLnk+dGhpcy55JiYodGhpcy55PWUueSksZS56PnRoaXMueiYmKHRoaXMuej1lLnopLGUudz50aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfWZsb29yKCl7cmV0dXJuIG5ldyBFZShNYXRoLmZsb29yKHRoaXMueCksTWF0aC5mbG9vcih0aGlzLnkpLE1hdGguZmxvb3IodGhpcy56KSxNYXRoLmZsb29yKHRoaXMudykpfWZyYWN0KCl7cmV0dXJuIG5ldyBFZSh0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31ub3JtYWxpemUoKXtjb25zdCBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX10b1ZlY3RvcjMoKXtyZXR1cm4gbmV3IGcodGhpcy54LHRoaXMueSx0aGlzLnopfWNsb25lKCl7cmV0dXJuIG5ldyBFZSh0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLncpfWNvcHlGcm9tKGUpe3JldHVybiB0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUueix0aGlzLnc9ZS53LHRoaXN9Y29weUZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1pLHRoaXMudz1zLHRoaXN9c2V0KGUsdCxpLHMpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpfXNldEFsbChlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9dGhpcy53PWUsdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdCl7cmV0dXJuIHR8fCh0PTApLG5ldyBFZShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe2kueD1lW3RdLGkueT1lW3QrMV0saS56PWVbdCsyXSxpLnc9ZVt0KzNdfXN0YXRpYyBGcm9tRmxvYXRBcnJheVRvUmVmKGUsdCxpKXtFZS5Gcm9tQXJyYXlUb1JlZihlLHQsaSl9c3RhdGljIEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe3IueD1lLHIueT10LHIuej1pLHIudz1zfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBFZSgwLDAsMCwwKX1zdGF0aWMgT25lKCl7cmV0dXJuIG5ldyBFZSgxLDEsMSwxKX1zdGF0aWMgZ2V0IFplcm9SZWFkT25seSgpe3JldHVybiBFZS5fWmVyb1JlYWRPbmx5fXN0YXRpYyBOb3JtYWxpemUoZSl7Y29uc3QgdD1FZS5aZXJvKCk7cmV0dXJuIEVlLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH1zdGF0aWMgTm9ybWFsaXplVG9SZWYoZSx0KXt0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCl9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLmNsb25lKCk7cmV0dXJuIGkubWluaW1pemVJblBsYWNlKHQpLGl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1lLmNsb25lKCk7cmV0dXJuIGkubWF4aW1pemVJblBsYWNlKHQpLGl9c3RhdGljIERpc3RhbmNlKGUsdCl7cmV0dXJuIE1hdGguc3FydChFZS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9c3RhdGljIERpc3RhbmNlU3F1YXJlZChlLHQpe2NvbnN0IGk9ZS54LXQueCxzPWUueS10Lnkscj1lLnotdC56LG49ZS53LXQudztyZXR1cm4gaSppK3MqcytyKnIrbipufXN0YXRpYyBDZW50ZXIoZSx0KXtyZXR1cm4gRWUuQ2VudGVyVG9SZWYoZSx0LEVlLlplcm8oKSl9c3RhdGljIENlbnRlclRvUmVmKGUsdCxpKXtyZXR1cm4gaS5jb3B5RnJvbUZsb2F0cygoZS54K3QueCkvMiwoZS55K3QueSkvMiwoZS56K3QueikvMiwoZS53K3QudykvMil9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1FZS5aZXJvKCk7cmV0dXJuIEVlLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LGkpe0VlLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9ZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdO3IueD1hLHIueT1vLHIuej1oLHIudz1sfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWwoZSx0KXtjb25zdCBpPUVlLlplcm8oKTtyZXR1cm4gRWUuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKXtjb25zdCBzPXQubSxyPWUueCpzWzBdK2UueSpzWzRdK2UueipzWzhdLG49ZS54KnNbMV0rZS55KnNbNV0rZS56KnNbOV0sYT1lLngqc1syXStlLnkqc1s2XStlLnoqc1sxMF07aS54PXIsaS55PW4saS56PWEsaS53PWUud31zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIubTtuLng9ZSphWzBdK3QqYVs0XStpKmFbOF0sbi55PWUqYVsxXSt0KmFbNV0raSphWzldLG4uej1lKmFbMl0rdCphWzZdK2kqYVsxMF0sbi53PXN9c3RhdGljIEZyb21WZWN0b3IzKGUsdD0wKXtyZXR1cm4gbmV3IEVlKGUuX3gsZS5feSxlLl96LHQpfX1FZS5fWmVyb1JlYWRPbmx5PUVlLlplcm8oKTtjbGFzcyBHe2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHM9MSl7dGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aSx0aGlzLl93PXN9Z2V0IHgoKXtyZXR1cm4gdGhpcy5feH1zZXQgeChlKXt0aGlzLl94PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KGUpe3RoaXMuX3k9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHcoKXtyZXR1cm4gdGhpcy5fd31zZXQgdyhlKXt0aGlzLl93PWUsdGhpcy5faXNEaXJ0eT0hMH10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen0gVzogJHt0aGlzLl93fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJRdWF0ZXJuaW9uIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9aXQodGhpcy5feCksdD1pdCh0aGlzLl95KSxpPWl0KHRoaXMuX3opLHM9aXQodGhpcy5fdyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7cmV0dXJuW3RoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3ddfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5feiYmdGhpcy5fdz09PWUuX3d9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PU1lKXtyZXR1cm4gZSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3csZS5fdyx0KX1jbG9uZSgpe3JldHVybiBuZXcgRyh0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9YWRkKGUpe3JldHVybiBuZXcgRyh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3grPWUuX3gsdGhpcy5feSs9ZS5feSx0aGlzLl96Kz1lLl96LHRoaXMuX3crPWUuX3csdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IEcodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IEcodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUsdGhpcy5fdyplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLl94KmUsdC55PXRoaXMuX3kqZSx0Lno9dGhpcy5feiplLHQudz10aGlzLl93KmUsdGhpc31zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLl94KmUsdC55Kz10aGlzLl95KmUsdC56Kz10aGlzLl96KmUsdC53Kz10aGlzLl93KmUsdGhpc31tdWx0aXBseShlKXtjb25zdCB0PW5ldyBHKDAsMCwwLDEpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fW11bHRpcGx5VG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuX3gqZS5fdyt0aGlzLl95KmUuX3otdGhpcy5feiplLl95K3RoaXMuX3cqZS5feCxzPS10aGlzLl94KmUuX3ordGhpcy5feSplLl93K3RoaXMuX3oqZS5feCt0aGlzLl93KmUuX3kscj10aGlzLl94KmUuX3ktdGhpcy5feSplLl94K3RoaXMuX3oqZS5fdyt0aGlzLl93KmUuX3osbj0tdGhpcy5feCplLl94LXRoaXMuX3kqZS5feS10aGlzLl96KmUuX3ordGhpcy5fdyplLl93O3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKGkscyxyLG4pLHRoaXN9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0aGlzKSx0aGlzfWNvbmp1Z2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96LHRoaXMuX3cpLHRoaXN9Y29uanVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfWNvbmp1Z2F0ZSgpe3JldHVybiBuZXcgRygtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX1pbnZlcnQoKXtjb25zdCBlPXRoaXMuY29uanVnYXRlKCksdD10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gdD09MHx8dD09MXx8ZS5zY2FsZUluUGxhY2UoMS90KSxlfWludmVydEluUGxhY2UoKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTtjb25zdCBlPXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiBlPT0wfHxlPT0xP3RoaXM6KHRoaXMuc2NhbGVJblBsYWNlKDEvZSksdGhpcyl9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9bm9ybWFsaXplKCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzLmNsb25lKCk7Y29uc3QgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9dG9FdWxlckFuZ2xlcygpe2NvbnN0IGU9Zy5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9dG9FdWxlckFuZ2xlc1RvUmVmKGUpe2NvbnN0IHQ9dGhpcy5feixpPXRoaXMuX3gscz10aGlzLl95LHI9dGhpcy5fdyxuPXMqdC1pKnIsYT0uNDk5OTk5OTtpZihuPC1hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9TWF0aC5QSS8yLGUuej0wO2Vsc2UgaWYobj5hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9LU1hdGguUEkvMixlLno9MDtlbHNle2NvbnN0IG89cipyLGg9dCp0LGw9aSppLHU9cypzO2Uuej1NYXRoLmF0YW4yKDIqKGkqcyt0KnIpLC1oLWwrdStvKSxlLng9TWF0aC5hc2luKC0yKm4pLGUueT1NYXRoLmF0YW4yKDIqKHQqaStzKnIpLGgtbC11K28pfXJldHVybiB0aGlzfXRvUm90YXRpb25NYXRyaXgoZSl7cmV0dXJuIHguRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLHRoaXN9ZnJvbVJvdGF0aW9uTWF0cml4KGUpe3JldHVybiBHLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdGhpcyksdGhpc31zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4KGUpe2NvbnN0IHQ9bmV3IEc7cmV0dXJuIEcuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KSx0fXN0YXRpYyBGcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpe2NvbnN0IGk9ZS5tLHM9aVswXSxyPWlbNF0sbj1pWzhdLGE9aVsxXSxvPWlbNV0saD1pWzldLGw9aVsyXSx1PWlbNl0sZj1pWzEwXSxkPXMrbytmO2xldCBfO2Q+MD8oXz0uNS9NYXRoLnNxcnQoZCsxKSx0Lnc9LjI1L18sdC54PSh1LWgpKl8sdC55PShuLWwpKl8sdC56PShhLXIpKl8pOnM+byYmcz5mPyhfPTIqTWF0aC5zcXJ0KDErcy1vLWYpLHQudz0odS1oKS9fLHQueD0uMjUqXyx0Lnk9KHIrYSkvXyx0Lno9KG4rbCkvXyk6bz5mPyhfPTIqTWF0aC5zcXJ0KDErby1zLWYpLHQudz0obi1sKS9fLHQueD0ocithKS9fLHQueT0uMjUqXyx0Lno9KGgrdSkvXyk6KF89MipNYXRoLnNxcnQoMStmLXMtbyksdC53PShhLXIpL18sdC54PShuK2wpL18sdC55PShoK3UpL18sdC56PS4yNSpfKX1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd31zdGF0aWMgQXJlQ2xvc2UoZSx0KXtyZXR1cm4gRy5Eb3QoZSx0KT49MH1zdGF0aWMgU21vb3RoVG9SZWYoZSx0LGkscyxyKXtsZXQgbj1zPT09MD8xOmkvcztuPXouQ2xhbXAobiwwLDEpLEcuU2xlcnBUb1JlZihlLHQsbixyKX1zdGF0aWMgWmVybygpe3JldHVybiBuZXcgRygwLDAsMCwwKX1zdGF0aWMgSW52ZXJzZShlKXtyZXR1cm4gbmV3IEcoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyl9c3RhdGljIEludmVyc2VUb1JlZihlLHQpe3JldHVybiB0LnNldCgtZS5feCwtZS5feSwtZS5feixlLl93KSx0fXN0YXRpYyBJZGVudGl0eSgpe3JldHVybiBuZXcgRygwLDAsMCwxKX1zdGF0aWMgSXNJZGVudGl0eShlKXtyZXR1cm4gZSYmZS5feD09PTAmJmUuX3k9PT0wJiZlLl96PT09MCYmZS5fdz09PTF9c3RhdGljIFJvdGF0aW9uQXhpcyhlLHQpe3JldHVybiBHLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxuZXcgRyl9c3RhdGljIFJvdGF0aW9uQXhpc1RvUmVmKGUsdCxpKXtjb25zdCBzPU1hdGguc2luKHQvMik7cmV0dXJuIGUubm9ybWFsaXplKCksaS53PU1hdGguY29zKHQvMiksaS54PWUuX3gqcyxpLnk9ZS5feSpzLGkuej1lLl96KnMsaX1zdGF0aWMgRnJvbUFycmF5KGUsdCl7cmV0dXJuIHR8fCh0PTApLG5ldyBHKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7aS54PWVbdF0saS55PWVbdCsxXSxpLno9ZVt0KzJdLGkudz1lW3QrM119c3RhdGljIEZyb21FdWxlckFuZ2xlcyhlLHQsaSl7Y29uc3Qgcz1uZXcgRztyZXR1cm4gRy5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHMpLHN9c3RhdGljIEZyb21FdWxlckFuZ2xlc1RvUmVmKGUsdCxpLHMpe3JldHVybiBHLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLGkscyksc31zdGF0aWMgRnJvbUV1bGVyVmVjdG9yKGUpe2NvbnN0IHQ9bmV3IEc7cmV0dXJuIEcuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fXN0YXRpYyBGcm9tRXVsZXJWZWN0b3JUb1JlZihlLHQpe3JldHVybiBHLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZS5feSxlLl94LGUuX3osdCksdH1zdGF0aWMgRnJvbVVuaXRWZWN0b3JzVG9SZWYoZSx0LGkpe2NvbnN0IHM9Zy5Eb3QoZSx0KSsxO3JldHVybiBzPE1lP01hdGguYWJzKGUueCk+TWF0aC5hYnMoZS56KT9pLnNldCgtZS55LGUueCwwLDApOmkuc2V0KDAsLWUueixlLnksMCk6KGcuQ3Jvc3NUb1JlZihlLHQsUC5WZWN0b3IzWzBdKSxpLnNldChQLlZlY3RvcjNbMF0ueCxQLlZlY3RvcjNbMF0ueSxQLlZlY3RvcjNbMF0ueixzKSksaS5ub3JtYWxpemUoKX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IEc7cmV0dXJuIEcuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9aSouNSxuPXQqLjUsYT1lKi41LG89TWF0aC5zaW4ociksaD1NYXRoLmNvcyhyKSxsPU1hdGguc2luKG4pLHU9TWF0aC5jb3MobiksZj1NYXRoLnNpbihhKSxkPU1hdGguY29zKGEpO3MueD1kKmwqaCtmKnUqbyxzLnk9Zip1KmgtZCpsKm8scy56PWQqdSpvLWYqbCpoLHMudz1kKnUqaCtmKmwqb31zdGF0aWMgUm90YXRpb25BbHBoYUJldGFHYW1tYShlLHQsaSl7Y29uc3Qgcz1uZXcgRztyZXR1cm4gRy5Sb3RhdGlvbkFscGhhQmV0YUdhbW1hVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9KGkrZSkqLjUsbj0oaS1lKSouNSxhPXQqLjU7cy54PU1hdGguY29zKG4pKk1hdGguc2luKGEpLHMueT1NYXRoLnNpbihuKSpNYXRoLnNpbihhKSxzLno9TWF0aC5zaW4ocikqTWF0aC5jb3MoYSkscy53PU1hdGguY29zKHIpKk1hdGguY29zKGEpfXN0YXRpYyBSb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpcyhlLHQsaSl7Y29uc3Qgcz1uZXcgRygwLDAsMCwwKTtyZXR1cm4gRy5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1YLk1hdHJpeFswXTt4LkZyb21YWVpBeGVzVG9SZWYoZS5ub3JtYWxpemUoKSx0Lm5vcm1hbGl6ZSgpLGkubm9ybWFsaXplKCksciksRy5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihyLHMpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgRztyZXR1cm4gRy5Gcm9tTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpLGl9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSl7Y29uc3Qgcz1YLk1hdHJpeFswXTt4Lkxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxzKSxHLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHMsaSl9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uUkgoZSx0KXtjb25zdCBpPW5ldyBHO3JldHVybiBHLkZyb21Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxpKXtjb25zdCBzPVguTWF0cml4WzBdO3JldHVybiB4Lkxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxzKSxHLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHMsaSl9c3RhdGljIFNsZXJwKGUsdCxpKXtjb25zdCBzPUcuSWRlbnRpdHkoKTtyZXR1cm4gRy5TbGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFNsZXJwVG9SZWYoZSx0LGkscyl7bGV0IHIsbixhPWUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fdyxvPSExO2lmKGE8MCYmKG89ITAsYT0tYSksYT4uOTk5OTk5KW49MS1pLHI9bz8taTppO2Vsc2V7Y29uc3QgaD1NYXRoLmFjb3MoYSksbD0xL01hdGguc2luKGgpO249TWF0aC5zaW4oKDEtaSkqaCkqbCxyPW8/LU1hdGguc2luKGkqaCkqbDpNYXRoLnNpbihpKmgpKmx9cy54PW4qZS5feCtyKnQuX3gscy55PW4qZS5feStyKnQuX3kscy56PW4qZS5feityKnQuX3oscy53PW4qZS5fdytyKnQuX3d9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixmPWUuX3gqbytpLl94KmgrdC5feCpsK3MuX3gqdSxkPWUuX3kqbytpLl95KmgrdC5feSpsK3MuX3kqdSxfPWUuX3oqbytpLl96KmgrdC5feipsK3MuX3oqdSxFPWUuX3cqbytpLl93KmgrdC5fdypsK3MuX3cqdTtyZXR1cm4gbmV3IEcoZixkLF8sRSl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1HLlplcm8oKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLng9KGEtcikqNiplLngrKDMqYS00KnIrMSkqdC54KygtYStyKSo2KmkueCsoMyphLTIqcikqcy54LG4ueT0oYS1yKSo2KmUueSsoMyphLTQqcisxKSp0LnkrKC1hK3IpKjYqaS55KygzKmEtMipyKSpzLnksbi56PShhLXIpKjYqZS56KygzKmEtNCpyKzEpKnQueisoLWErcikqNippLnorKDMqYS0yKnIpKnMueixuLnc9KGEtcikqNiplLncrKDMqYS00KnIrMSkqdC53KygtYStyKSo2KmkudysoMyphLTIqcikqcy53fX1jbGFzcyB4e2NvbnN0cnVjdG9yKCl7dGhpcy5faXNJZGVudGl0eT0hMSx0aGlzLl9pc0lkZW50aXR5RGlydHk9ITAsdGhpcy5faXNJZGVudGl0eTN4Mj0hMCx0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITAsdGhpcy51cGRhdGVGbGFnPS0xLGtlLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlJiZrZS5NYXRyaXhUcmFja2VkTWF0cmljZXMucHVzaCh0aGlzKSx0aGlzLl9tPW5ldyBrZS5NYXRyaXhDdXJyZW50VHlwZSgxNiksdGhpcy5tYXJrQXNVcGRhdGVkKCl9c3RhdGljIGdldCBVc2U2NEJpdHMoKXtyZXR1cm4ga2UuTWF0cml4VXNlNjRCaXRzfWdldCBtKCl7cmV0dXJuIHRoaXMuX219bWFya0FzVXBkYXRlZCgpe3RoaXMudXBkYXRlRmxhZz14Ll9VcGRhdGVGbGFnU2VlZCsrLHRoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eTN4Mj0hMSx0aGlzLl9pc0lkZW50aXR5RGlydHk9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwfV91cGRhdGVJZGVudGl0eVN0YXR1cyhlLHQ9ITEsaT0hMSxzPSEwKXt0aGlzLl9pc0lkZW50aXR5PWUsdGhpcy5faXNJZGVudGl0eTN4Mj1lfHxpLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT10aGlzLl9pc0lkZW50aXR5PyExOnQsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PXRoaXMuX2lzSWRlbnRpdHkzeDI/ITE6c31pc0lkZW50aXR5KCl7aWYodGhpcy5faXNJZGVudGl0eURpcnR5KXt0aGlzLl9pc0lkZW50aXR5RGlydHk9ITE7Y29uc3QgZT10aGlzLl9tO3RoaXMuX2lzSWRlbnRpdHk9ZVswXT09PTEmJmVbMV09PT0wJiZlWzJdPT09MCYmZVszXT09PTAmJmVbNF09PT0wJiZlWzVdPT09MSYmZVs2XT09PTAmJmVbN109PT0wJiZlWzhdPT09MCYmZVs5XT09PTAmJmVbMTBdPT09MSYmZVsxMV09PT0wJiZlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTF9cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHl9aXNJZGVudGl0eUFzM3gyKCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSYmKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMSx0aGlzLl9tWzBdIT09MXx8dGhpcy5fbVs1XSE9PTF8fHRoaXMuX21bMTVdIT09MT90aGlzLl9pc0lkZW50aXR5M3gyPSExOnRoaXMuX21bMV0hPT0wfHx0aGlzLl9tWzJdIT09MHx8dGhpcy5fbVszXSE9PTB8fHRoaXMuX21bNF0hPT0wfHx0aGlzLl9tWzZdIT09MHx8dGhpcy5fbVs3XSE9PTB8fHRoaXMuX21bOF0hPT0wfHx0aGlzLl9tWzldIT09MHx8dGhpcy5fbVsxMF0hPT0wfHx0aGlzLl9tWzExXSE9PTB8fHRoaXMuX21bMTJdIT09MHx8dGhpcy5fbVsxM10hPT0wfHx0aGlzLl9tWzE0XSE9PTA/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9pc0lkZW50aXR5M3gyPSEwKSx0aGlzLl9pc0lkZW50aXR5M3gyfWRldGVybWluYW50KCl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiAxO2NvbnN0IGU9dGhpcy5fbSx0PWVbMF0saT1lWzFdLHM9ZVsyXSxyPWVbM10sbj1lWzRdLGE9ZVs1XSxvPWVbNl0saD1lWzddLGw9ZVs4XSx1PWVbOV0sZj1lWzEwXSxkPWVbMTFdLF89ZVsxMl0sRT1lWzEzXSxtPWVbMTRdLFQ9ZVsxNV0sYj1mKlQtbSpkLFI9dSpULUUqZCx5PXUqbS1FKmYsRD1sKlQtXypkLHY9bCptLWYqXyxBPWwqRS1fKnUsTD0rKGEqYi1vKlIraCp5KSxKPS0obipiLW8qRCtoKnYpLGhlPSsobipSLWEqRCtoKkEpLHhlPS0obip5LWEqditvKkEpO3JldHVybiB0KkwraSpKK3MqaGUrcip4ZX10b0FycmF5KCl7cmV0dXJuIHRoaXMuX219YXNBcnJheSgpe3JldHVybiB0aGlzLl9tfWludmVydCgpe3JldHVybiB0aGlzLmludmVydFRvUmVmKHRoaXMpLHRoaXN9cmVzZXQoKXtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksdGhpc31hZGQoZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4gdGhpcy5hZGRUb1JlZihlLHQpLHR9YWRkVG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuX20scz10Ll9tLHI9ZS5tO2ZvcihsZXQgbj0wO248MTY7bisrKXNbbl09aVtuXStyW25dO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWFkZFRvU2VsZihlKXtjb25zdCB0PXRoaXMuX20saT1lLm07Zm9yKGxldCBzPTA7czwxNjtzKyspdFtzXSs9aVtzXTtyZXR1cm4gdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31pbnZlcnRUb1JlZihlKXtpZih0aGlzLl9pc0lkZW50aXR5PT09ITApcmV0dXJuIHguSWRlbnRpdHlUb1JlZihlKSx0aGlzO2NvbnN0IHQ9dGhpcy5fbSxpPXRbMF0scz10WzFdLHI9dFsyXSxuPXRbM10sYT10WzRdLG89dFs1XSxoPXRbNl0sbD10WzddLHU9dFs4XSxmPXRbOV0sZD10WzEwXSxfPXRbMTFdLEU9dFsxMl0sbT10WzEzXSxUPXRbMTRdLGI9dFsxNV0sUj1kKmItVCpfLHk9ZipiLW0qXyxEPWYqVC1tKmQsdj11KmItRSpfLEE9dSpULWQqRSxMPXUqbS1FKmYsSj0rKG8qUi1oKnkrbCpEKSxoZT0tKGEqUi1oKnYrbCpBKSx4ZT0rKGEqeS1vKnYrbCpMKSxmZT0tKGEqRC1vKkEraCpMKSx1ZT1pKkorcypoZStyKnhlK24qZmU7aWYodWU9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLHRoaXM7Y29uc3Qgc2U9MS91ZSxQZT1oKmItVCpsLERlPW8qYi1tKmwsWmU9bypULW0qaCxIZT1hKmItRSpsLEtlPWEqVC1FKmgsZ3Q9YSptLUUqbyxvdD1oKl8tZCpsLEZ0PW8qXy1mKmwsdGk9bypkLWYqaCxocz1hKl8tdSpsLGxzPWEqZC11KmgsY3M9YSpmLXUqbyxVcz0tKHMqUi1yKnkrbipEKSxrcz0rKGkqUi1yKnYrbipBKSxWcz0tKGkqeS1zKnYrbipMKSxXcz0rKGkqRC1zKkErcipMKSx6cz0rKHMqUGUtcipEZStuKlplKSxHcz0tKGkqUGUtcipIZStuKktlKSxHdD0rKGkqRGUtcypIZStuKmd0KSxYdD0tKGkqWmUtcypLZStyKmd0KSxIdD0tKHMqb3QtcipGdCtuKnRpKSxLdD0rKGkqb3QtcipocytuKmxzKSxwbD0tKGkqRnQtcypocytuKmNzKSxtbD0rKGkqdGktcypscytyKmNzKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoSipzZSxVcypzZSx6cypzZSxIdCpzZSxoZSpzZSxrcypzZSxHcypzZSxLdCpzZSx4ZSpzZSxWcypzZSxHdCpzZSxwbCpzZSxmZSpzZSxXcypzZSxYdCpzZSxtbCpzZSxlKSx0aGlzfWFkZEF0SW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSs9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfW11bHRpcGx5QXRJbmRleChlLHQpe3JldHVybiB0aGlzLl9tW2VdKj10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9c2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5fbVsxMl09ZSx0aGlzLl9tWzEzXT10LHRoaXMuX21bMTRdPWksdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl9tWzEyXSs9ZSx0aGlzLl9tWzEzXSs9dCx0aGlzLl9tWzE0XSs9aSx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNldFRyYW5zbGF0aW9uKGUpe3JldHVybiB0aGlzLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Z2V0VHJhbnNsYXRpb24oKXtyZXR1cm4gbmV3IGcodGhpcy5fbVsxMl0sdGhpcy5fbVsxM10sdGhpcy5fbVsxNF0pfWdldFRyYW5zbGF0aW9uVG9SZWYoZSl7cmV0dXJuIGUueD10aGlzLl9tWzEyXSxlLnk9dGhpcy5fbVsxM10sZS56PXRoaXMuX21bMTRdLHRoaXN9cmVtb3ZlUm90YXRpb25BbmRTY2FsaW5nKCl7Y29uc3QgZT10aGlzLm07cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdLHRoaXMpLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGVbMTJdPT09MCYmZVsxM109PT0wJiZlWzE0XT09PTAmJmVbMTVdPT09MSksdGhpc31tdWx0aXBseShlKXtjb25zdCB0PW5ldyB4O3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fWNvcHlGcm9tKGUpe2UuY29weVRvQXJyYXkodGhpcy5fbSk7Y29uc3QgdD1lO3JldHVybiB0aGlzLnVwZGF0ZUZsYWc9dC51cGRhdGVGbGFnLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHQuX2lzSWRlbnRpdHksdC5faXNJZGVudGl0eURpcnR5LHQuX2lzSWRlbnRpdHkzeDIsdC5faXNJZGVudGl0eTN4MkRpcnR5KSx0aGlzfWNvcHlUb0FycmF5KGUsdD0wKXtjb25zdCBpPXRoaXMuX207cmV0dXJuIGVbdF09aVswXSxlW3QrMV09aVsxXSxlW3QrMl09aVsyXSxlW3QrM109aVszXSxlW3QrNF09aVs0XSxlW3QrNV09aVs1XSxlW3QrNl09aVs2XSxlW3QrN109aVs3XSxlW3QrOF09aVs4XSxlW3QrOV09aVs5XSxlW3QrMTBdPWlbMTBdLGVbdCsxMV09aVsxMV0sZVt0KzEyXT1pWzEyXSxlW3QrMTNdPWlbMTNdLGVbdCsxNF09aVsxNF0sZVt0KzE1XT1pWzE1XSx0aGlzfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdGhpcy5faXNJZGVudGl0eT8odC5jb3B5RnJvbShlKSx0aGlzKTplLl9pc0lkZW50aXR5Pyh0LmNvcHlGcm9tKHRoaXMpLHRoaXMpOih0aGlzLm11bHRpcGx5VG9BcnJheShlLHQuX20sMCksdC5tYXJrQXNVcGRhdGVkKCksdGhpcyl9bXVsdGlwbHlUb0FycmF5KGUsdCxpKXtjb25zdCBzPXRoaXMuX20scj1lLm0sbj1zWzBdLGE9c1sxXSxvPXNbMl0saD1zWzNdLGw9c1s0XSx1PXNbNV0sZj1zWzZdLGQ9c1s3XSxfPXNbOF0sRT1zWzldLG09c1sxMF0sVD1zWzExXSxiPXNbMTJdLFI9c1sxM10seT1zWzE0XSxEPXNbMTVdLHY9clswXSxBPXJbMV0sTD1yWzJdLEo9clszXSxoZT1yWzRdLHhlPXJbNV0sZmU9cls2XSx1ZT1yWzddLHNlPXJbOF0sUGU9cls5XSxEZT1yWzEwXSxaZT1yWzExXSxIZT1yWzEyXSxLZT1yWzEzXSxndD1yWzE0XSxvdD1yWzE1XTtyZXR1cm4gdFtpXT1uKnYrYSpoZStvKnNlK2gqSGUsdFtpKzFdPW4qQSthKnhlK28qUGUraCpLZSx0W2krMl09bipMK2EqZmUrbypEZStoKmd0LHRbaSszXT1uKkorYSp1ZStvKlplK2gqb3QsdFtpKzRdPWwqdit1KmhlK2Yqc2UrZCpIZSx0W2krNV09bCpBK3UqeGUrZipQZStkKktlLHRbaSs2XT1sKkwrdSpmZStmKkRlK2QqZ3QsdFtpKzddPWwqSit1KnVlK2YqWmUrZCpvdCx0W2krOF09Xyp2K0UqaGUrbSpzZStUKkhlLHRbaSs5XT1fKkErRSp4ZSttKlBlK1QqS2UsdFtpKzEwXT1fKkwrRSpmZSttKkRlK1QqZ3QsdFtpKzExXT1fKkorRSp1ZSttKlplK1Qqb3QsdFtpKzEyXT1iKnYrUipoZSt5KnNlK0QqSGUsdFtpKzEzXT1iKkErUip4ZSt5KlBlK0QqS2UsdFtpKzE0XT1iKkwrUipmZSt5KkRlK0QqZ3QsdFtpKzE1XT1iKkorUip1ZSt5KlplK0Qqb3QsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB4O3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1pdCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3Xml0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBHLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxYLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7eC5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsWC5NYXRyaXhbMF0pLEcuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoWC5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgRWUodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdGhpc31zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtyZXR1cm4geC5UcmFuc3Bvc2UodGhpcyl9dHJhbnNwb3NlVG9SZWYoZSl7cmV0dXJuIHguVHJhbnNwb3NlVG9SZWYodGhpcyxlKSx0aGlzfXNldFJvd0Zyb21GbG9hdHMoZSx0LGkscyxyKXtpZihlPDB8fGU+MylyZXR1cm4gdGhpcztjb25zdCBuPWUqNDtyZXR1cm4gdGhpcy5fbVtuKzBdPXQsdGhpcy5fbVtuKzFdPWksdGhpcy5fbVtuKzJdPXMsdGhpcy5fbVtuKzNdPXIsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zY2FsZShlKXtjb25zdCB0PW5ldyB4O3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldPXRoaXMuX21baV0qZTtyZXR1cm4gdC5tYXJrQXNVcGRhdGVkKCksdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7Zm9yKGxldCBpPTA7aTwxNjtpKyspdC5fbVtpXSs9dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXRvTm9ybWFsTWF0cml4KGUpe2NvbnN0IHQ9WC5NYXRyaXhbMF07dGhpcy5pbnZlcnRUb1JlZih0KSx0LnRyYW5zcG9zZVRvUmVmKGUpO2NvbnN0IGk9ZS5fbTt4LkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKX1nZXRSb3RhdGlvbk1hdHJpeCgpe2NvbnN0IGU9bmV3IHg7cmV0dXJuIHRoaXMuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihlKSxlfWdldFJvdGF0aW9uTWF0cml4VG9SZWYoZSl7Y29uc3QgdD1YLlZlY3RvcjNbMF07aWYoIXRoaXMuZGVjb21wb3NlKHQpKXJldHVybiB4LklkZW50aXR5VG9SZWYoZSksdGhpcztjb25zdCBpPXRoaXMuX20scz0xL3QuX3gscj0xL3QuX3ksbj0xL3QuX3o7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGlbMF0qcyxpWzFdKnMsaVsyXSpzLDAsaVs0XSpyLGlbNV0qcixpWzZdKnIsMCxpWzhdKm4saVs5XSpuLGlbMTBdKm4sMCwwLDAsMCwxLGUpLHRoaXN9dG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZSgpe2NvbnN0IGU9dGhpcy5fbTtlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCl9dG9nZ2xlUHJvamVjdGlvbk1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO2VbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCl9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Gcm9tQXJyYXlUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe2ZvcihsZXQgcz0wO3M8MTY7cysrKWkuX21bc109ZVtzK3RdO2kubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoZSx0LGkscyl7Zm9yKGxldCByPTA7cjwxNjtyKyspcy5fbVtyXT1lW3IrdF0qaTtzLm1hcmtBc1VwZGF0ZWQoKX1zdGF0aWMgZ2V0IElkZW50aXR5UmVhZE9ubHkoKXtyZXR1cm4geC5fSWRlbnRpdHlSZWFkT25seX1zdGF0aWMgRnJvbVZhbHVlc1RvUmVmKGUsdCxpLHMscixuLGEsbyxoLGwsdSxmLGQsXyxFLG0sVCl7Y29uc3QgYj1ULl9tO2JbMF09ZSxiWzFdPXQsYlsyXT1pLGJbM109cyxiWzRdPXIsYls1XT1uLGJbNl09YSxiWzddPW8sYls4XT1oLGJbOV09bCxiWzEwXT11LGJbMTFdPWYsYlsxMl09ZCxiWzEzXT1fLGJbMTRdPUUsYlsxNV09bSxULm1hcmtBc1VwZGF0ZWQoKX1zdGF0aWMgRnJvbVZhbHVlcyhlLHQsaSxzLHIsbixhLG8saCxsLHUsZixkLF8sRSxtKXtjb25zdCBUPW5ldyB4LGI9VC5fbTtyZXR1cm4gYlswXT1lLGJbMV09dCxiWzJdPWksYlszXT1zLGJbNF09cixiWzVdPW4sYls2XT1hLGJbN109byxiWzhdPWgsYls5XT1sLGJbMTBdPXUsYlsxMV09ZixiWzEyXT1kLGJbMTNdPV8sYlsxNF09RSxiWzE1XT1tLFQubWFya0FzVXBkYXRlZCgpLFR9c3RhdGljIENvbXBvc2UoZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguQ29tcG9zZVRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIENvbXBvc2VUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj10Ll94LGE9dC5feSxvPXQuX3osaD10Ll93LGw9bituLHU9YSthLGY9bytvLGQ9bipsLF89bip1LEU9bipmLG09YSp1LFQ9YSpmLGI9bypmLFI9aCpsLHk9aCp1LEQ9aCpmLHY9ZS5feCxBPWUuX3ksTD1lLl96O3JbMF09KDEtKG0rYikpKnYsclsxXT0oXytEKSp2LHJbMl09KEUteSkqdixyWzNdPTAscls0XT0oXy1EKSpBLHJbNV09KDEtKGQrYikpKkEscls2XT0oVCtSKSpBLHJbN109MCxyWzhdPShFK3kpKkwscls5XT0oVC1SKSpMLHJbMTBdPSgxLShkK20pKSpMLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKX1zdGF0aWMgSWRlbnRpdHkoKXtjb25zdCBlPXguRnJvbVZhbHVlcygxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKTtyZXR1cm4gZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITApLGV9c3RhdGljIElkZW50aXR5VG9SZWYoZSl7eC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCl9c3RhdGljIFplcm8oKXtjb25zdCBlPXguRnJvbVZhbHVlcygwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtyZXR1cm4gZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLGV9c3RhdGljIFJvdGF0aW9uWChlKXtjb25zdCB0PW5ldyB4O3JldHVybiB4LlJvdGF0aW9uWFRvUmVmKGUsdCksdH1zdGF0aWMgSW52ZXJ0KGUpe2NvbnN0IHQ9bmV3IHg7cmV0dXJuIGUuaW52ZXJ0VG9SZWYodCksdH1zdGF0aWMgUm90YXRpb25YVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7eC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKX1zdGF0aWMgUm90YXRpb25ZKGUpe2NvbnN0IHQ9bmV3IHg7cmV0dXJuIHguUm90YXRpb25ZVG9SZWYoZSx0KSx0fXN0YXRpYyBSb3RhdGlvbllUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTt4LkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApfXN0YXRpYyBSb3RhdGlvblooZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvblpUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWlRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3guRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCl9c3RhdGljIFJvdGF0aW9uQXhpcyhlLHQpe2NvbnN0IGk9bmV3IHg7cmV0dXJuIHguUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpLGl9c3RhdGljIFJvdGF0aW9uQXhpc1RvUmVmKGUsdCxpKXtjb25zdCBzPU1hdGguc2luKC10KSxyPU1hdGguY29zKC10KSxuPTEtcjtlLm5vcm1hbGl6ZSgpO2NvbnN0IGE9aS5fbTthWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCl9c3RhdGljIFJvdGF0aW9uQWxpZ25Ub1JlZihlLHQsaSl7Y29uc3Qgcz1nLkRvdCh0LGUpLHI9aS5fbTtpZihzPC0xK01lKXJbMF09LTEsclsxXT0wLHJbMl09MCxyWzNdPTAscls0XT0wLHJbNV09LTEscls2XT0wLHJbN109MCxyWzhdPTAscls5XT0wLHJbMTBdPTEsclsxMV09MDtlbHNle2NvbnN0IG49Zy5Dcm9zcyh0LGUpLGE9MS8oMStzKTtyWzBdPW4uX3gqbi5feCphK3MsclsxXT1uLl95Km4uX3gqYS1uLl96LHJbMl09bi5feipuLl94KmErbi5feSxyWzNdPTAscls0XT1uLl94Km4uX3kqYStuLl96LHJbNV09bi5feSpuLl95KmErcyxyWzZdPW4uX3oqbi5feSphLW4uX3gscls3XT0wLHJbOF09bi5feCpuLl96KmEtbi5feSxyWzldPW4uX3kqbi5feiphK24uX3gsclsxMF09bi5feipuLl96KmErcyxyWzExXT0wfXJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCl9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKXtHLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksWC5RdWF0ZXJuaW9uWzBdKSxYLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKX1zdGF0aWMgU2NhbGluZyhlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5TY2FsaW5nVG9SZWYoZSx0LGkscyksc31zdGF0aWMgU2NhbGluZ1RvUmVmKGUsdCxpLHMpe3guRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSl9c3RhdGljIFRyYW5zbGF0aW9uKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4LlRyYW5zbGF0aW9uVG9SZWYoZSx0LGkscyksc31zdGF0aWMgVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKXt4LkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4LkxlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMZXJwVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1zLl9tLG49ZS5tLGE9dC5tO2ZvcihsZXQgbz0wO288MTY7bysrKXJbb109bltvXSooMS1pKSthW29dKmk7cy5tYXJrQXNVcGRhdGVkKCl9c3RhdGljIERlY29tcG9zZUxlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIERlY29tcG9zZUxlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPVguVmVjdG9yM1swXSxuPVguUXVhdGVybmlvblswXSxhPVguVmVjdG9yM1sxXTtlLmRlY29tcG9zZShyLG4sYSk7Y29uc3Qgbz1YLlZlY3RvcjNbMl0saD1YLlF1YXRlcm5pb25bMV0sbD1YLlZlY3RvcjNbM107dC5kZWNvbXBvc2UobyxoLGwpO2NvbnN0IHU9WC5WZWN0b3IzWzRdO2cuTGVycFRvUmVmKHIsbyxpLHUpO2NvbnN0IGY9WC5RdWF0ZXJuaW9uWzJdO0cuU2xlcnBUb1JlZihuLGgsaSxmKTtjb25zdCBkPVguVmVjdG9yM1s1XTtnLkxlcnBUb1JlZihhLGwsaSxkKSx4LkNvbXBvc2VUb1JlZih1LGYsZCxzKX1zdGF0aWMgTG9va0F0TEgoZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguTG9va0F0TEhUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMb29rQXRMSFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9WC5WZWN0b3IzWzBdLG49WC5WZWN0b3IzWzFdLGE9WC5WZWN0b3IzWzJdO3Quc3VidHJhY3RUb1JlZihlLGEpLGEubm9ybWFsaXplKCksZy5Dcm9zc1RvUmVmKGksYSxyKTtjb25zdCBvPXIubGVuZ3RoU3F1YXJlZCgpO289PT0wP3IueD0xOnIubm9ybWFsaXplRnJvbUxlbmd0aChNYXRoLnNxcnQobykpLGcuQ3Jvc3NUb1JlZihhLHIsbiksbi5ub3JtYWxpemUoKTtjb25zdCBoPS1nLkRvdChyLGUpLGw9LWcuRG90KG4sZSksdT0tZy5Eb3QoYSxlKTt4LkZyb21WYWx1ZXNUb1JlZihyLl94LG4uX3gsYS5feCwwLHIuX3ksbi5feSxhLl95LDAsci5feixuLl96LGEuX3osMCxoLGwsdSwxLHMpfXN0YXRpYyBMb29rQXRSSChlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Mb29rQXRSSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdFJIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1YLlZlY3RvcjNbMF0sbj1YLlZlY3RvcjNbMV0sYT1YLlZlY3RvcjNbMl07ZS5zdWJ0cmFjdFRvUmVmKHQsYSksYS5ub3JtYWxpemUoKSxnLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSksZy5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LWcuRG90KHIsZSksbD0tZy5Eb3QobixlKSx1PS1nLkRvdChhLGUpO3guRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tEaXJlY3Rpb25MSChlLHQpe2NvbnN0IGk9bmV3IHg7cmV0dXJuIHguTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpLGl9c3RhdGljIExvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKXtjb25zdCBzPVguVmVjdG9yM1swXTtzLmNvcHlGcm9tKGUpLHMuc2NhbGVJblBsYWNlKC0xKTtjb25zdCByPVguVmVjdG9yM1sxXTtnLkNyb3NzVG9SZWYodCxzLHIpLHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSl9c3RhdGljIExvb2tEaXJlY3Rpb25SSChlLHQpe2NvbnN0IGk9bmV3IHg7cmV0dXJuIHguTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpLGl9c3RhdGljIExvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxpKXtjb25zdCBzPVguVmVjdG9yM1syXTtnLkNyb3NzVG9SZWYodCxlLHMpLHguRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSl9c3RhdGljIE9ydGhvTEgoZSx0LGkscyxyKXtjb25zdCBuPW5ldyB4O3JldHVybiB4Lk9ydGhvTEhUb1JlZihlLHQsaSxzLG4sciksbn1zdGF0aWMgT3J0aG9MSFRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPWksbz1zLGg9Mi9lLGw9Mi90LHU9Mi8oby1hKSxmPS0obythKS8oby1hKTt4LkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZiwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihZdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZmPT09MCl9c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEgoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1uZXcgeDtyZXR1cm4geC5PcnRob09mZkNlbnRlckxIVG9SZWYoZSx0LGkscyxyLG4sbyxhKSxvfXN0YXRpYyBPcnRob09mZkNlbnRlckxIVG9SZWYoZSx0LGkscyxyLG4sYSxvKXtjb25zdCBoPXIsbD1uLHU9Mi8odC1lKSxmPTIvKHMtaSksZD0yLyhsLWgpLF89LShsK2gpLyhsLWgpLEU9KGUrdCkvKGUtdCksbT0ocytpKS8oaS1zKTt4LkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZiwwLDAsMCwwLGQsMCxFLG0sXywxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihZdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKX1zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyB4O3JldHVybiB4Lk9ydGhvT2ZmQ2VudGVyUkhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyUkhUb1JlZihlLHQsaSxzLHIsbixhLG8pe3guT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xfXN0YXRpYyBQZXJzcGVjdGl2ZUxIKGUsdCxpLHMscixuPTApe2NvbnN0IGE9bmV3IHgsbz1pLGg9cyxsPTIqby9lLHU9MipvL3QsZj0oaCtvKS8oaC1vKSxkPS0yKmgqby8oaC1vKSxfPU1hdGgudGFuKG4pO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsdSwwLF8sMCwwLGYsMSwwLDAsZCwwLGEpLHImJmEubXVsdGlwbHlUb1JlZihZdCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksYX1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZMSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZj0xL01hdGgudGFuKGUqLjUpLGQ9bj9mL3Q6ZixfPW4/ZjpmKnQsRT1oJiZsPT09MD8tMTp1IT09MD8odStsKS8odS1sKToxLG09aCYmbD09PTA/Mip1OnUhPT0wPy0yKnUqbC8odS1sKTotMipsLFQ9TWF0aC50YW4obyk7eC5Gcm9tVmFsdWVzVG9SZWYoZCwwLDAsMCwwLF8sMCxULDAsMCxFLDEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoWXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdlJldmVyc2VMSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wKXtjb25zdCBoPTEvTWF0aC50YW4oZSouNSksbD1uP2gvdDpoLHU9bj9oOmgqdCxmPU1hdGgudGFuKG8pO3guRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZiwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihZdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9c3RhdGljIFBlcnNwZWN0aXZlRm92UkgoZSx0LGkscyxyLG49MCxhPSExKXtjb25zdCBvPW5ldyB4O3JldHVybiB4LlBlcnNwZWN0aXZlRm92UkhUb1JlZihlLHQsaSxzLG8sITAscixuLGEpLG99c3RhdGljIFBlcnNwZWN0aXZlRm92UkhUb1JlZihlLHQsaSxzLHIsbj0hMCxhLG89MCxoPSExKXtjb25zdCBsPWksdT1zLGY9MS9NYXRoLnRhbihlKi41KSxkPW4/Zi90OmYsXz1uP2Y6Zip0LEU9aCYmbD09PTA/MTp1IT09MD8tKHUrbCkvKHUtbCk6LTEsbT1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsVD1NYXRoLnRhbihvKTt4LkZyb21WYWx1ZXNUb1JlZihkLDAsMCwwLDAsXywwLFQsMCwwLEUsLTEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoWXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdlJldmVyc2VSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wKXtjb25zdCBoPTEvTWF0aC50YW4oZSouNSksbD1uP2gvdDpoLHU9bj9oOmgqdCxmPU1hdGgudGFuKG8pO3guRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZiwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKFl0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKX1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmKGUsdCxpLHMscj0hMSxuLGE9MCl7Y29uc3Qgbz1yPy0xOjEsaD1NYXRoLnRhbihlLnVwRGVncmVlcypNYXRoLlBJLzE4MCksbD1NYXRoLnRhbihlLmRvd25EZWdyZWVzKk1hdGguUEkvMTgwKSx1PU1hdGgudGFuKGUubGVmdERlZ3JlZXMqTWF0aC5QSS8xODApLGY9TWF0aC50YW4oZS5yaWdodERlZ3JlZXMqTWF0aC5QSS8xODApLGQ9Mi8odStmKSxfPTIvKGgrbCksRT1NYXRoLnRhbihhKSxtPXMuX207bVswXT1kLG1bMV09bVsyXT1tWzNdPW1bNF09MCxtWzVdPV8sbVs2XT0wLG1bN109RSxtWzhdPSh1LWYpKmQqLjUsbVs5XT0tKChoLWwpKl8qLjUpLG1bMTBdPS1pLyh0LWkpLG1bMTFdPTEqbyxtWzEyXT1tWzEzXT1tWzE1XT0wLG1bMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihZdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKX1zdGF0aWMgR2V0RmluYWxNYXRyaXgoZSx0LGkscyxyLG4pe2NvbnN0IGE9ZS53aWR0aCxvPWUuaGVpZ2h0LGg9ZS54LGw9ZS55LHU9eC5Gcm9tVmFsdWVzKGEvMiwwLDAsMCwwLC1vLzIsMCwwLDAsMCxuLXIsMCxoK2EvMixvLzIrbCxyLDEpLGY9WC5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihpLGYpLGYubXVsdGlwbHlUb1JlZihzLGYpLGYubXVsdGlwbHkodSl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBrZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBrZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO2lbMF09c1swXSxpWzFdPXNbNF0saVsyXT1zWzhdLGlbM109c1sxMl0saVs0XT1zWzFdLGlbNV09c1s1XSxpWzZdPXNbOV0saVs3XT1zWzEzXSxpWzhdPXNbMl0saVs5XT1zWzZdLGlbMTBdPXNbMTBdLGlbMTFdPXNbMTRdLGlbMTJdPXNbM10saVsxM109c1s3XSxpWzE0XT1zWzExXSxpWzE1XT1zWzE1XSx0Lm1hcmtBc1VwZGF0ZWQoKSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhlLl9pc0lkZW50aXR5LGUuX2lzSWRlbnRpdHlEaXJ0eSl9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3guRnJvbVZhbHVlc1RvUmVmKG4qaSsxLGEqaSxvKmksMCxuKnMsYSpzKzEsbypzLDAsbipyLGEqcixvKnIrMSwwLG4qZS5kLGEqZS5kLG8qZS5kLDEsdCl9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7eC5Gcm9tVmFsdWVzVG9SZWYoZS5feCxlLl95LGUuX3osMCx0Ll94LHQuX3ksdC5feiwwLGkuX3gsaS5feSxpLl96LDAsMCwwLDAsMSxzKX1zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3QuX21bMF09MS0yKihzK3IpLHQuX21bMV09MioobithKSx0Ll9tWzJdPTIqKG8taCksdC5fbVszXT0wLHQuX21bNF09Mioobi1hKSx0Ll9tWzVdPTEtMioocitpKSx0Ll9tWzZdPTIqKGwrdSksdC5fbVs3XT0wLHQuX21bOF09MioobytoKSx0Ll9tWzldPTIqKGwtdSksdC5fbVsxMF09MS0yKihzK2kpLHQuX21bMTFdPTAsdC5fbVsxMl09MCx0Ll9tWzEzXT0wLHQuX21bMTRdPTAsdC5fbVsxNV09MSx0Lm1hcmtBc1VwZGF0ZWQoKX19eC5fVXBkYXRlRmxhZ1NlZWQ9MCx4Ll9JZGVudGl0eVJlYWRPbmx5PXguSWRlbnRpdHkoKTtjbGFzcyBYe31YLlZlY3RvcjM9QWUuQnVpbGRUdXBsZSgxMSxnLlplcm8pLFguTWF0cml4PUFlLkJ1aWxkVHVwbGUoMix4LklkZW50aXR5KSxYLlF1YXRlcm5pb249QWUuQnVpbGRUdXBsZSgzLEcuWmVybyk7Y2xhc3MgUHt9UC5WZWN0b3IyPUFlLkJ1aWxkVHVwbGUoMyx0ZS5aZXJvKSxQLlZlY3RvcjM9QWUuQnVpbGRUdXBsZSgxMyxnLlplcm8pLFAuVmVjdG9yND1BZS5CdWlsZFR1cGxlKDMsRWUuWmVybyksUC5RdWF0ZXJuaW9uPUFlLkJ1aWxkVHVwbGUoMixHLlplcm8pLFAuTWF0cml4PUFlLkJ1aWxkVHVwbGUoOCx4LklkZW50aXR5KSx0dCgiQkFCWUxPTi5WZWN0b3IyIix0ZSksdHQoIkJBQllMT04uVmVjdG9yMyIsZyksdHQoIkJBQllMT04uVmVjdG9yNCIsRWUpLHR0KCJCQUJZTE9OLk1hdHJpeCIseCk7Y29uc3QgWXQ9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3MgT3J7Y29uc3RydWN0b3IoZSx0PSExLGkscyl7dGhpcy5pbml0aWFsaXplKGUsdCxpLHMpfWluaXRpYWxpemUoZSx0PSExLGkscyl7cmV0dXJuIHRoaXMubWFzaz1lLHRoaXMuc2tpcE5leHRPYnNlcnZlcnM9dCx0aGlzLnRhcmdldD1pLHRoaXMuY3VycmVudFRhcmdldD1zLHRoaXN9fWNsYXNzIExye2NvbnN0cnVjdG9yKGUsdCxpPW51bGwpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hc2s9dCx0aGlzLnNjb3BlPWksdGhpcy5fd2lsbEJlVW5yZWdpc3RlcmVkPSExLHRoaXMudW5yZWdpc3Rlck9uTmV4dENhbGw9ITF9fWNsYXNzIEZ7Y29uc3RydWN0b3IoZSl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9ldmVudFN0YXRlPW5ldyBPcigwKSxlJiYodGhpcy5fb25PYnNlcnZlckFkZGVkPWUpfXN0YXRpYyBGcm9tUHJvbWlzZShlLHQpe2NvbnN0IGk9bmV3IEY7cmV0dXJuIGUudGhlbihzPT57aS5ub3RpZnlPYnNlcnZlcnMocyl9KS5jYXRjaChzPT57aWYodCl0Lm5vdGlmeU9ic2VydmVycyhzKTtlbHNlIHRocm93IHN9KSxpfWdldCBvYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfWFkZChlLHQ9LTEsaT0hMSxzPW51bGwscj0hMSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1uZXcgTHIoZSx0LHMpO3JldHVybiBuLnVucmVnaXN0ZXJPbk5leHRDYWxsPXIsaT90aGlzLl9vYnNlcnZlcnMudW5zaGlmdChuKTp0aGlzLl9vYnNlcnZlcnMucHVzaChuKSx0aGlzLl9vbk9ic2VydmVyQWRkZWQmJnRoaXMuX29uT2JzZXJ2ZXJBZGRlZChuKSxufWFkZE9uY2UoZSl7cmV0dXJuIHRoaXMuYWRkKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfXJlbW92ZShlKXtyZXR1cm4gZSYmdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSkhPT0tMT8odGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpLCEwKTohMX1yZW1vdmVDYWxsYmFjayhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5fb2JzZXJ2ZXJzW2ldO2lmKCFzLl93aWxsQmVVbnJlZ2lzdGVyZWQmJnMuY2FsbGJhY2s9PT1lJiYoIXR8fHQ9PT1zLnNjb3BlKSlyZXR1cm4gdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHMpLCEwfXJldHVybiExfV9kZWZlclVucmVnaXN0ZXIoZSl7ZS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITAsc2V0VGltZW91dCgoKT0+e3RoaXMuX3JlbW92ZShlKX0sMCl9X3JlbW92ZShlKXtpZighZSlyZXR1cm4hMTtjb25zdCB0PXRoaXMuX29ic2VydmVycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTE/KHRoaXMuX29ic2VydmVycy5zcGxpY2UodCwxKSwhMCk6ITF9bWFrZU9ic2VydmVyVG9wUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUpLHRoaXMuX29ic2VydmVycy51bnNoaWZ0KGUpfW1ha2VPYnNlcnZlckJvdHRvbVByaW9yaXR5KGUpe3RoaXMuX3JlbW92ZShlKSx0aGlzLl9vYnNlcnZlcnMucHVzaChlKX1ub3RpZnlPYnNlcnZlcnMoZSx0PS0xLGkscyxyKXtpZighdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4hMDtjb25zdCBuPXRoaXMuX2V2ZW50U3RhdGU7bi5tYXNrPXQsbi50YXJnZXQ9aSxuLmN1cnJlbnRUYXJnZXQ9cyxuLnNraXBOZXh0T2JzZXJ2ZXJzPSExLG4ubGFzdFJldHVyblZhbHVlPWUsbi51c2VySW5mbz1yO2Zvcihjb25zdCBhIG9mIHRoaXMuX29ic2VydmVycylpZighYS5fd2lsbEJlVW5yZWdpc3RlcmVkJiYoYS5tYXNrJnQmJihhLnNjb3BlP24ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2suYXBwbHkoYS5zY29wZSxbZSxuXSk6bi5sYXN0UmV0dXJuVmFsdWU9YS5jYWxsYmFjayhlLG4pLGEudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihhKSksbi5za2lwTmV4dE9ic2VydmVycykpcmV0dXJuITE7cmV0dXJuITB9bm90aWZ5T2JzZXJ2ZXIoZSx0LGk9LTEpe2lmKGUuX3dpbGxCZVVucmVnaXN0ZXJlZClyZXR1cm47Y29uc3Qgcz10aGlzLl9ldmVudFN0YXRlO3MubWFzaz1pLHMuc2tpcE5leHRPYnNlcnZlcnM9ITEsZS5jYWxsYmFjayh0LHMpLGUudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKX1oYXNPYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aD4wfWNsZWFyKCl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9vbk9ic2VydmVyQWRkZWQ9bnVsbH1jbG9uZSgpe2NvbnN0IGU9bmV3IEY7cmV0dXJuIGUuX29ic2VydmVycz10aGlzLl9vYnNlcnZlcnMuc2xpY2UoMCksZX1oYXNTcGVjaWZpY01hc2soZT0tMSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKHQubWFzayZlfHx0Lm1hc2s9PT1lKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBOcntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fY2FjaGVkV3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX2NhY2hlZFdyYXBWPWV9Z2V0IHdyYXBSKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBSfXNldCB3cmFwUihlKXt0aGlzLl9jYWNoZWRXcmFwUj1lfWdldCBhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWx9c2V0IGFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwoZSl7dGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1lfWdldCBjb21wYXJpc29uRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9ufXNldCBjb21wYXJpc29uRnVuY3Rpb24oZSl7dGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPWV9Z2V0IHVzZU1pcE1hcHMoKXtyZXR1cm4gdGhpcy5fdXNlTWlwTWFwc31zZXQgdXNlTWlwTWFwcyhlKXt0aGlzLl91c2VNaXBNYXBzPWV9c2V0UGFyYW1ldGVycyhlPTEsdD0xLGk9MSxzPTEscj0yLG49MCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPWUsdGhpcy5fY2FjaGVkV3JhcFY9dCx0aGlzLl9jYWNoZWRXcmFwUj1pLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9cyx0aGlzLnNhbXBsaW5nTW9kZT1yLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj1uLHRoaXN9Y29tcGFyZVNhbXBsZXIoZSl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPT09ZS5fY2FjaGVkV3JhcFUmJnRoaXMuX2NhY2hlZFdyYXBWPT09ZS5fY2FjaGVkV3JhcFYmJnRoaXMuX2NhY2hlZFdyYXBSPT09ZS5fY2FjaGVkV3JhcFImJnRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9PT1lLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsJiZ0aGlzLnNhbXBsaW5nTW9kZT09PWUuc2FtcGxpbmdNb2RlJiZ0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249PT1lLl9jb21wYXJpc29uRnVuY3Rpb24mJnRoaXMuX3VzZU1pcE1hcHM9PT1lLl91c2VNaXBNYXBzfX12YXIgQmU7KGZ1bmN0aW9uKGMpe2NbYy5Vbmtub3duPTBdPSJVbmtub3duIixjW2MuVXJsPTFdPSJVcmwiLGNbYy5UZW1wPTJdPSJUZW1wIixjW2MuUmF3PTNdPSJSYXciLGNbYy5EeW5hbWljPTRdPSJEeW5hbWljIixjW2MuUmVuZGVyVGFyZ2V0PTVdPSJSZW5kZXJUYXJnZXQiLGNbYy5NdWx0aVJlbmRlclRhcmdldD02XT0iTXVsdGlSZW5kZXJUYXJnZXQiLGNbYy5DdWJlPTddPSJDdWJlIixjW2MuQ3ViZVJhdz04XT0iQ3ViZVJhdyIsY1tjLkN1YmVQcmVmaWx0ZXJlZD05XT0iQ3ViZVByZWZpbHRlcmVkIixjW2MuUmF3M0Q9MTBdPSJSYXczRCIsY1tjLlJhdzJEQXJyYXk9MTFdPSJSYXcyREFycmF5IixjW2MuRGVwdGhTdGVuY2lsPTEyXT0iRGVwdGhTdGVuY2lsIixjW2MuQ3ViZVJhd1JHQkQ9MTNdPSJDdWJlUmF3UkdCRCIsY1tjLkRlcHRoPTE0XT0iRGVwdGgifSkoQmV8fChCZT17fSkpO2NsYXNzIHd0IGV4dGVuZHMgTnJ7Y29uc3RydWN0b3IoZSx0LGk9ITEpe3N1cGVyKCksdGhpcy5pc1JlYWR5PSExLHRoaXMuaXNDdWJlPSExLHRoaXMuaXMzRD0hMSx0aGlzLmlzMkRBcnJheT0hMSx0aGlzLmlzTXVsdGl2aWV3PSExLHRoaXMudXJsPSIiLHRoaXMuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuc2FtcGxlcz0wLHRoaXMudHlwZT0tMSx0aGlzLmZvcm1hdD0tMSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZWJ1aWxkQ2FsbGJhY2s9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5iYXNlV2lkdGg9MCx0aGlzLmJhc2VIZWlnaHQ9MCx0aGlzLmJhc2VEZXB0aD0wLHRoaXMuaW52ZXJ0WT0hMSx0aGlzLl9pbnZlcnRWU2NhbGU9ITEsdGhpcy5fYXNzb2NpYXRlZENoYW5uZWw9LTEsdGhpcy5fc291cmNlPUJlLlVua25vd24sdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fYnVmZmVyVmlldz1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheT1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheUFycmF5PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXMuX2V4dGVuc2lvbj0iIix0aGlzLl9maWxlcz1udWxsLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2lzRGlzYWJsZWQ9ITEsdGhpcy5fY29tcHJlc3Npb249bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbFByb21pc2U9bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsQ29tcHV0ZWQ9ITEsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlPTAsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldD0wLHRoaXMuX3VzZVNSR0JCdWZmZXI9ITEsdGhpcy5fbG9kVGV4dHVyZUhpZ2g9bnVsbCx0aGlzLl9sb2RUZXh0dXJlTWlkPW51bGwsdGhpcy5fbG9kVGV4dHVyZUxvdz1udWxsLHRoaXMuX2lzUkdCRD0hMSx0aGlzLl9saW5lYXJTcGVjdWxhckxPRD0hMSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZT1udWxsLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsLHRoaXMuX21heExvZExldmVsPW51bGwsdGhpcy5fcmVmZXJlbmNlcz0xLHRoaXMuX2dhbW1hU3BhY2U9bnVsbCx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9zb3VyY2U9dCx0aGlzLl91bmlxdWVJZD13dC5fQ291bnRlcisrLGl8fCh0aGlzLl9oYXJkd2FyZVRleHR1cmU9ZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpfWdldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPWV9Z2V0IHVuaXF1ZUlkKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUlkfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9aW5jcmVtZW50UmVmZXJlbmNlcygpe3RoaXMuX3JlZmVyZW5jZXMrK311cGRhdGVTaXplKGUsdCxpPTEpe3RoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlRGltZW5zaW9ucyh0aGlzLGUsdCxpKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPWksdGhpcy5iYXNlV2lkdGg9ZSx0aGlzLmJhc2VIZWlnaHQ9dCx0aGlzLmJhc2VEZXB0aD1pLHRoaXMuX3NpemU9ZSp0Kml9X3JlYnVpbGQoKXt2YXIgdDtpZih0aGlzLmlzUmVhZHk9ITEsdGhpcy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPW51bGwsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMub25SZWJ1aWxkQ2FsbGJhY2spe2NvbnN0IGk9dGhpcy5vblJlYnVpbGRDYWxsYmFjayh0aGlzKSxzPXI9PntyLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT1pLmlzUmVhZHl9O2kuaXNBc3luYz9pLnByb3h5LnRoZW4ocyk6cyhpLnByb3h5KTtyZXR1cm59bGV0IGU7c3dpdGNoKHRoaXMuc291cmNlKXtjYXNlIEJlLlRlbXA6YnJlYWs7Y2FzZSBCZS5Vcmw6ZT10aGlzLl9lbmdpbmUuY3JlYXRlVGV4dHVyZSgodD10aGlzLl9vcmlnaW5hbFVybCkhPW51bGw/dDp0aGlzLnVybCwhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLG51bGwsdGhpcy5zYW1wbGluZ01vZGUsKCk9PntlLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbix2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSBCZS5SYXc6ZT10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKSxlLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIEJlLlJhdzNEOmU9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUzRCh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSxlLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIEJlLlJhdzJEQXJyYXk6ZT10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksZS5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBCZS5EeW5hbWljOmU9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLnNhbXBsaW5nTW9kZSksZS5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1RleHR1cmUodGhpcyx0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5pbnZlcnRZLHZvaWQgMCx2b2lkIDAsITApO2JyZWFrO2Nhc2UgQmUuQ3ViZTplPXRoaXMuX2VuZ2luZS5jcmVhdGVDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2ZpbGVzLCF0aGlzLmdlbmVyYXRlTWlwTWFwcywoKT0+e2UuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiwhMSwwLDAsbnVsbCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgQmUuQ3ViZVJhdzplPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3QXJyYXksdGhpcy53aWR0aCx0aGlzLmZvcm1hdCx0aGlzLnR5cGUsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uKSxlLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIEJlLkN1YmVSYXdSR0JEOnJldHVybjtjYXNlIEJlLkN1YmVQcmVmaWx0ZXJlZDplPXRoaXMuX2VuZ2luZS5jcmVhdGVQcmVmaWx0ZXJlZEN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlLHRoaXMuX2xvZEdlbmVyYXRpb25PZmZzZXQsaT0+e2kmJmkuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiksZS5fc3BoZXJpY2FsUG9seW5vbWlhbD10aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsO3JldHVybn19X3N3YXBBbmREaWUoZSx0PSEwKXt2YXIgcjsocj10aGlzLl9oYXJkd2FyZVRleHR1cmUpPT1udWxsfHxyLnNldFVzYWdlKGUuX3NvdXJjZSx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmlzQ3ViZSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxlLl9oYXJkd2FyZVRleHR1cmU9dGhpcy5faGFyZHdhcmVUZXh0dXJlLHQmJihlLl9pc1JHQkQ9dGhpcy5faXNSR0JEKSx0aGlzLl9sb2RUZXh0dXJlSGlnaCYmKGUuX2xvZFRleHR1cmVIaWdoJiZlLl9sb2RUZXh0dXJlSGlnaC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUhpZ2g9dGhpcy5fbG9kVGV4dHVyZUhpZ2gpLHRoaXMuX2xvZFRleHR1cmVNaWQmJihlLl9sb2RUZXh0dXJlTWlkJiZlLl9sb2RUZXh0dXJlTWlkLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTWlkPXRoaXMuX2xvZFRleHR1cmVNaWQpLHRoaXMuX2xvZFRleHR1cmVMb3cmJihlLl9sb2RUZXh0dXJlTG93JiZlLl9sb2RUZXh0dXJlTG93LmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTG93PXRoaXMuX2xvZFRleHR1cmVMb3cpLHRoaXMuX2lycmFkaWFuY2VUZXh0dXJlJiYoZS5faXJyYWRpYW5jZVRleHR1cmUmJmUuX2lycmFkaWFuY2VUZXh0dXJlLmRpc3Bvc2UoKSxlLl9pcnJhZGlhbmNlVGV4dHVyZT10aGlzLl9pcnJhZGlhbmNlVGV4dHVyZSk7Y29uc3QgaT10aGlzLl9lbmdpbmUuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2xldCBzPWkuaW5kZXhPZih0aGlzKTtzIT09LTEmJmkuc3BsaWNlKHMsMSkscz1pLmluZGV4T2YoZSkscz09PS0xJiZpLnB1c2goZSl9ZGlzcG9zZSgpe3RoaXMuX3JlZmVyZW5jZXMtLSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FcnJvck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9yZWZlcmVuY2VzPT09MCYmKHRoaXMuX2VuZ2luZS5fcmVsZWFzZVRleHR1cmUodGhpcyksdGhpcy5faGFyZHdhcmVUZXh0dXJlPW51bGwpfX13dC5fQ291bnRlcj0wO2Z1bmN0aW9uIFVlKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8InUifWZ1bmN0aW9uIEtzKCl7cmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3I8InUifWZ1bmN0aW9uIFVpKCl7cmV0dXJuIHR5cGVvZiBkb2N1bWVudDwidSJ9ZnVuY3Rpb24gdXMoYyl7bGV0IGU9IiIsdD1jLmZpcnN0Q2hpbGQ7Zm9yKDt0Oyl0Lm5vZGVUeXBlPT09MyYmKGUrPXQudGV4dENvbnRlbnQpLHQ9dC5uZXh0U2libGluZztyZXR1cm4gZX1jb25zdCBmcz17SXNXaW5kb3dPYmplY3RFeGlzdDpVZSxJc05hdmlnYXRvckF2YWlsYWJsZTpLcyxJc0RvY3VtZW50QXZhaWxhYmxlOlVpLEdldERPTVRleHRDb250ZW50OnVzfTtmdW5jdGlvbiBxKGMpe3JldHVybmAke2N9IG5lZWRzIHRvIGJlIGltcG9ydGVkIGJlZm9yZSBhcyBpdCBjb250YWlucyBhIHNpZGUtZWZmZWN0IHJlcXVpcmVkIGJ5IHlvdXIgY29kZS5gfWNsYXNzIHd7c3RhdGljIF9DaGVja0xpbWl0KGUsdCl7bGV0IGk9dy5fTG9nTGltaXRPdXRwdXRzW2VdO3JldHVybiBpP2kuY3VycmVudCsrOihpPXtsaW1pdDp0LGN1cnJlbnQ6MX0sdy5fTG9nTGltaXRPdXRwdXRzW2VdPWkpLGkuY3VycmVudDw9aS5saW1pdH1zdGF0aWMgX0dlbmVyYXRlTGltaXRNZXNzYWdlKGUsdD0xKXt2YXIgcjtjb25zdCBpPXcuX0xvZ0xpbWl0T3V0cHV0c1tlXTtpZighaXx8IXcuTWVzc2FnZUxpbWl0UmVhY2hlZClyZXR1cm47Y29uc3Qgcz10aGlzLl9MZXZlbHNbdF07aS5jdXJyZW50PT09aS5saW1pdCYmd1tzLm5hbWVdKHcuTWVzc2FnZUxpbWl0UmVhY2hlZC5yZXBsYWNlKC8lTElNSVQlL2csIiIraS5saW1pdCkucmVwbGFjZSgvJVRZUEUlL2csKHI9cy5uYW1lKSE9bnVsbD9yOiIiKSl9c3RhdGljIF9BZGRMb2dFbnRyeShlKXt3Ll9Mb2dDYWNoZT1lK3cuX0xvZ0NhY2hlLHcuT25OZXdDYWNoZUVudHJ5JiZ3Lk9uTmV3Q2FjaGVFbnRyeShlKX1zdGF0aWMgX0Zvcm1hdE1lc3NhZ2UoZSl7Y29uc3QgdD1zPT5zPDEwPyIwIitzOiIiK3MsaT1uZXcgRGF0ZTtyZXR1cm4iWyIrdChpLmdldEhvdXJzKCkpKyI6Iit0KGkuZ2V0TWludXRlcygpKSsiOiIrdChpLmdldFNlY29uZHMoKSkrIl06ICIrZX1zdGF0aWMgX0xvZ0Rpc2FibGVkKGUsdCl7fXN0YXRpYyBfTG9nRW5hYmxlZChlPTEsdCxpKXtpZihpIT09dm9pZCAwJiYhdy5fQ2hlY2tMaW1pdCh0LGkpKXJldHVybjtjb25zdCBzPXcuX0Zvcm1hdE1lc3NhZ2UodCkscj10aGlzLl9MZXZlbHNbZV07ci5sb2dGdW5jJiZyLmxvZ0Z1bmMoIkJKUyAtICIrcyk7Y29uc3Qgbj1gPGRpdiBzdHlsZT0nY29sb3I6JHtyLmNvbG9yfSc+JHtzfTwvZGl2Pjxicj5gO3cuX0FkZExvZ0VudHJ5KG4pLHcuX0dlbmVyYXRlTGltaXRNZXNzYWdlKHQsZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiB3Ll9Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe3cuX0xvZ0NhY2hlPSIiLHcuX0xvZ0xpbWl0T3V0cHV0cz17fSx3LmVycm9yc0NvdW50PTB9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7dy5Mb2c9dy5fTG9nRGlzYWJsZWQsdy5XYXJuPXcuX0xvZ0Rpc2FibGVkLHcuRXJyb3I9dy5fTG9nRGlzYWJsZWQsW3cuTWVzc2FnZUxvZ0xldmVsLHcuV2FybmluZ0xvZ0xldmVsLHcuRXJyb3JMb2dMZXZlbF0uZm9yRWFjaCh0PT57aWYoKGUmdCk9PT10KXtjb25zdCBpPXRoaXMuX0xldmVsc1t0XTt3W2kubmFtZV09dy5fTG9nRW5hYmxlZC5iaW5kKHcsdCl9fSl9fXcuTm9uZUxvZ0xldmVsPTAsdy5NZXNzYWdlTG9nTGV2ZWw9MSx3Lldhcm5pbmdMb2dMZXZlbD0yLHcuRXJyb3JMb2dMZXZlbD00LHcuQWxsTG9nTGV2ZWw9Nyx3Lk1lc3NhZ2VMaW1pdFJlYWNoZWQ9IlRvbyBtYW55ICVUWVBFJXMgKCVMSU1JVCUpLCBubyBtb3JlICVUWVBFJXMgd2lsbCBiZSByZXBvcnRlZCBmb3IgdGhpcyBtZXNzYWdlLiIsdy5fTG9nQ2FjaGU9IiIsdy5fTG9nTGltaXRPdXRwdXRzPXt9LHcuX0xldmVscz1be30se2NvbG9yOiJ3aGl0ZSIsbG9nRnVuYzpjb25zb2xlLmxvZyxuYW1lOiJMb2cifSx7Y29sb3I6Im9yYW5nZSIsbG9nRnVuYzpjb25zb2xlLndhcm4sbmFtZToiV2FybiJ9LHt9LHtjb2xvcjoicmVkIixsb2dGdW5jOmNvbnNvbGUuZXJyb3IsbmFtZToiRXJyb3IifV0sdy5lcnJvcnNDb3VudD0wLHcuTG9nPXcuX0xvZ0VuYWJsZWQuYmluZCh3LHcuTWVzc2FnZUxvZ0xldmVsKSx3Lldhcm49dy5fTG9nRW5hYmxlZC5iaW5kKHcsdy5XYXJuaW5nTG9nTGV2ZWwpLHcuRXJyb3I9dy5fTG9nRW5hYmxlZC5iaW5kKHcsdy5FcnJvckxvZ0xldmVsKTtjbGFzcyB2aXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2hpbGRyZW49W119aXNWYWxpZChlKXtyZXR1cm4hMH1wcm9jZXNzKGUsdCl7bGV0IGk9IiI7aWYodGhpcy5saW5lKXtsZXQgcz10aGlzLmxpbmU7Y29uc3Qgcj10LnByb2Nlc3NvcjtyJiYoci5saW5lUHJvY2Vzc29yJiYocz1yLmxpbmVQcm9jZXNzb3Iocyx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLHIuYXR0cmlidXRlUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgiYXR0cmlidXRlIik/cz1yLmF0dHJpYnV0ZVByb2Nlc3Nvcih0aGlzLmxpbmUsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTpyLnZhcnlpbmdQcm9jZXNzb3ImJnRoaXMubGluZS5zdGFydHNXaXRoKCJ2YXJ5aW5nIik/cz1yLnZhcnlpbmdQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnIudW5pZm9ybVByb2Nlc3NvciYmci51bmlmb3JtUmVnZXhwJiZyLnVuaWZvcm1SZWdleHAudGVzdCh0aGlzLmxpbmUpP3QubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KHM9ci51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6ci51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiZyLnVuaWZvcm1CdWZmZXJSZWdleHAmJnIudW5pZm9ybUJ1ZmZlclJlZ2V4cC50ZXN0KHRoaXMubGluZSk/dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwocz1yLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApOnIudGV4dHVyZVByb2Nlc3NvciYmci50ZXh0dXJlUmVnZXhwJiZyLnRleHR1cmVSZWdleHAudGVzdCh0aGlzLmxpbmUpP3M9ci50ZXh0dXJlUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTooci51bmlmb3JtUHJvY2Vzc29yfHxyLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IpJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyJiYoL3VuaWZvcm1ccysoPzooPzpoaWdocCk/fCg/Omxvd3ApPylccyooXFMrKVxzKyhcUyspXHMqOy8udGVzdCh0aGlzLmxpbmUpP3IudW5pZm9ybVByb2Nlc3NvciYmKHM9ci51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6ci51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiYocz1yLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApKSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSxyLmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKHM9ci5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpKSxpKz1zK2BccgpgfXJldHVybiB0aGlzLmNoaWxkcmVuLmZvckVhY2gocz0+e2krPXMucHJvY2VzcyhlLHQpfSksdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5JiYoZVt0aGlzLmFkZGl0aW9uYWxEZWZpbmVLZXldPXRoaXMuYWRkaXRpb25hbERlZmluZVZhbHVlfHwidHJ1ZSIpLGl9fWNsYXNzIEJye2NvbnN0cnVjdG9yKCl7dGhpcy5fbGluZXM9W119Z2V0IGN1cnJlbnRMaW5lKCl7cmV0dXJuIHRoaXMuX2xpbmVzW3RoaXMubGluZUluZGV4XX1nZXQgY2FuUmVhZCgpe3JldHVybiB0aGlzLmxpbmVJbmRleDx0aGlzLl9saW5lcy5sZW5ndGgtMX1zZXQgbGluZXMoZSl7dGhpcy5fbGluZXMubGVuZ3RoPTA7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodFswXT09PSIjIil7dGhpcy5fbGluZXMucHVzaCh0KTtjb250aW51ZX1pZih0LnRyaW0oKS5zdGFydHNXaXRoKCIvLyIpKXt0aGlzLl9saW5lcy5wdXNoKHQpO2NvbnRpbnVlfWNvbnN0IGk9dC5zcGxpdCgiOyIpO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKXtsZXQgcj1pW3NdO3I9ci50cmltKCksciYmdGhpcy5fbGluZXMucHVzaChyKyhzIT09aS5sZW5ndGgtMT8iOyI6IiIpKX19fX1jbGFzcyBkcyBleHRlbmRzIHZpe3Byb2Nlc3MoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmNoaWxkcmVuW2ldO2lmKHMuaXNWYWxpZChlKSlyZXR1cm4gcy5wcm9jZXNzKGUsdCl9cmV0dXJuIiJ9fWNsYXNzIFVyIGV4dGVuZHMgdml7aXNWYWxpZChlKXtyZXR1cm4gdGhpcy50ZXN0RXhwcmVzc2lvbi5pc1RydWUoZSl9fWNsYXNzIGV0e2lzVHJ1ZShlKXtyZXR1cm4hMH1zdGF0aWMgcG9zdGZpeFRvSW5maXgoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlKWlmKGV0Ll9PcGVyYXRvclByaW9yaXR5W2ldPT09dm9pZCAwKXQucHVzaChpKTtlbHNle2NvbnN0IHM9dFt0Lmxlbmd0aC0xXSxyPXRbdC5sZW5ndGgtMl07dC5sZW5ndGgtPTIsdC5wdXNoKGAoJHtyfSR7aX0ke3N9KWApfXJldHVybiB0W3QubGVuZ3RoLTFdfXN0YXRpYyBpbmZpeFRvUG9zdGZpeChlKXtjb25zdCB0PVtdO2xldCBpPS0xO2NvbnN0IHM9KCk9PntoPWgudHJpbSgpLGghPT0iIiYmKHQucHVzaChoKSxoPSIiKX0scj1sPT57aTxldC5fU3RhY2subGVuZ3RoLTEmJihldC5fU3RhY2tbKytpXT1sKX0sbj0oKT0+ZXQuX1N0YWNrW2ldLGE9KCk9Pmk9PT0tMT8iISFJTlZBTElEIEVYUFJFU1NJT04hISI6ZXQuX1N0YWNrW2ktLV07bGV0IG89MCxoPSIiO2Zvcig7bzxlLmxlbmd0aDspe2NvbnN0IGw9ZS5jaGFyQXQobyksdT1vPGUubGVuZ3RoLTE/ZS5zdWJzdHIobywyKToiIjtpZihsPT09IigiKWg9IiIscihsKTtlbHNlIGlmKGw9PT0iKSIpe2ZvcihzKCk7aSE9PS0xJiZuKCkhPT0iKCI7KXQucHVzaChhKCkpO2EoKX1lbHNlIGlmKGV0Ll9PcGVyYXRvclByaW9yaXR5W3VdPjEpe2ZvcihzKCk7aSE9PS0xJiZldC5fT3BlcmF0b3JQcmlvcml0eVtuKCldPj1ldC5fT3BlcmF0b3JQcmlvcml0eVt1XTspdC5wdXNoKGEoKSk7cih1KSxvKyt9ZWxzZSBoKz1sO28rK31mb3IocygpO2khPT0tMTspbigpPT09IigiP2EoKTp0LnB1c2goYSgpKTtyZXR1cm4gdH19ZXQuX09wZXJhdG9yUHJpb3JpdHk9eyIpIjowLCIoIjoxLCJ8fCI6MiwiJiYiOjN9LGV0Ll9TdGFjaz1bIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiJdO2NsYXNzIGtpIGV4dGVuZHMgZXR7Y29uc3RydWN0b3IoZSx0PSExKXtzdXBlcigpLHRoaXMuZGVmaW5lPWUsdGhpcy5ub3Q9dH1pc1RydWUoZSl7bGV0IHQ9ZVt0aGlzLmRlZmluZV0hPT12b2lkIDA7cmV0dXJuIHRoaXMubm90JiYodD0hdCksdH19Y2xhc3Mga3IgZXh0ZW5kcyBldHtpc1RydWUoZSl7cmV0dXJuIHRoaXMubGVmdE9wZXJhbmQuaXNUcnVlKGUpfHx0aGlzLnJpZ2h0T3BlcmFuZC5pc1RydWUoZSl9fWNsYXNzIFZyIGV4dGVuZHMgZXR7aXNUcnVlKGUpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZShlKSYmdGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKGUpfX1jbGFzcyBXciBleHRlbmRzIGV0e2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcigpLHRoaXMuZGVmaW5lPWUsdGhpcy5vcGVyYW5kPXQsdGhpcy50ZXN0VmFsdWU9aX1pc1RydWUoZSl7bGV0IHQ9ZVt0aGlzLmRlZmluZV07dD09PXZvaWQgMCYmKHQ9dGhpcy5kZWZpbmUpO2xldCBpPSExO2NvbnN0IHM9cGFyc2VJbnQodCkscj1wYXJzZUludCh0aGlzLnRlc3RWYWx1ZSk7c3dpdGNoKHRoaXMub3BlcmFuZCl7Y2FzZSI+IjppPXM+cjticmVhaztjYXNlIjwiOmk9czxyO2JyZWFrO2Nhc2UiPD0iOmk9czw9cjticmVhaztjYXNlIj49IjppPXM+PXI7YnJlYWs7Y2FzZSI9PSI6aT1zPT09cjticmVha31yZXR1cm4gaX19dmFyIHFlOyhmdW5jdGlvbihjKXtjW2MuR0xTTD0wXT0iR0xTTCIsY1tjLldHU0w9MV09IldHU0wifSkocWV8fChxZT17fSkpO2NvbnN0IHpyPS9kZWZpbmVkXHMqP1woKC4rPylcKS9nLF9zPS9kZWZpbmVkXHMqP1xbKC4rPylcXS9nLFlzPS8jaW5jbHVkZVxzPzwoLispPihcKCguKilcKSkqKFxbKC4qKVxdKSovZztjbGFzcyBzaXtzdGF0aWMgSW5pdGlhbGl6ZShlKXtlLnByb2Nlc3NvciYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMmJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzKGUucHJvY2Vzc2luZ0NvbnRleHQpfXN0YXRpYyBQcm9jZXNzKGUsdCxpLHMpe3ZhciByOyhyPXQucHJvY2Vzc29yKSE9bnVsbCYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24obix0LHMpO2koYSl9KX1zdGF0aWMgUHJlUHJvY2VzcyhlLHQsaSxzKXt2YXIgcjsocj10LnByb2Nlc3NvcikhPW51bGwmJnIucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxuPT57dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMmJihuPXQucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHQuaXNGcmFnbWVudD8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLG4pKTtjb25zdCBhPXRoaXMuX0FwcGx5UHJlUHJvY2Vzc2luZyhuLHQscyk7aShhKX0pfXN0YXRpYyBGaW5hbGl6ZShlLHQsaSl7cmV0dXJuIWkucHJvY2Vzc29yfHwhaS5wcm9jZXNzb3IuZmluYWxpemVTaGFkZXJzP3t2ZXJ0ZXhDb2RlOmUsZnJhZ21lbnRDb2RlOnR9OmkucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycyhlLHQsaS5wcm9jZXNzaW5nQ29udGV4dCl9c3RhdGljIF9Qcm9jZXNzUHJlY2lzaW9uKGUsdCl7dmFyIHM7aWYoKHM9dC5wcm9jZXNzb3IpIT1udWxsJiZzLm5vUHJlY2lzaW9uKXJldHVybiBlO2NvbnN0IGk9dC5zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyO3JldHVybiBlLmluZGV4T2YoInByZWNpc2lvbiBoaWdocCBmbG9hdCIpPT09LTE/aT9lPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmArZTplPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKYCtlOml8fChlPWUucmVwbGFjZSgicHJlY2lzaW9uIGhpZ2hwIGZsb2F0IiwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQiKSksZX1zdGF0aWMgX0V4dHJhY3RPcGVyYXRpb24oZSl7Y29uc3QgaT0vZGVmaW5lZFwoKC4rKVwpLy5leGVjKGUpO2lmKGkmJmkubGVuZ3RoKXJldHVybiBuZXcga2koaVsxXS50cmltKCksZVswXT09PSIhIik7Y29uc3Qgcz1bIj09IiwiPj0iLCI8PSIsIjwiLCI+Il07bGV0IHI9IiIsbj0wO2ZvcihyIG9mIHMpaWYobj1lLmluZGV4T2Yociksbj4tMSlicmVhaztpZihuPT09LTEpcmV0dXJuIG5ldyBraShlKTtjb25zdCBhPWUuc3Vic3RyaW5nKDAsbikudHJpbSgpLG89ZS5zdWJzdHJpbmcobityLmxlbmd0aCkudHJpbSgpO3JldHVybiBuZXcgV3IoYSxyLG8pfXN0YXRpYyBfQnVpbGRTdWJFeHByZXNzaW9uKGUpe2U9ZS5yZXBsYWNlKHpyLCJkZWZpbmVkWyQxXSIpO2NvbnN0IHQ9ZXQuaW5maXhUb1Bvc3RmaXgoZSksaT1bXTtmb3IoY29uc3QgciBvZiB0KWlmKHIhPT0ifHwiJiZyIT09IiYmIilpLnB1c2gocik7ZWxzZSBpZihpLmxlbmd0aD49Mil7bGV0IG49aVtpLmxlbmd0aC0xXSxhPWlbaS5sZW5ndGgtMl07aS5sZW5ndGgtPTI7Y29uc3Qgbz1yPT0iJiYiP25ldyBWcjpuZXcga3I7dHlwZW9mIG49PSJzdHJpbmciJiYobj1uLnJlcGxhY2UoX3MsImRlZmluZWQoJDEpIikpLHR5cGVvZiBhPT0ic3RyaW5nIiYmKGE9YS5yZXBsYWNlKF9zLCJkZWZpbmVkKCQxKSIpKSxvLmxlZnRPcGVyYW5kPXR5cGVvZiBhPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKGEpOmEsby5yaWdodE9wZXJhbmQ9dHlwZW9mIG49PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obik6bixpLnB1c2gobyl9bGV0IHM9aVtpLmxlbmd0aC0xXTtyZXR1cm4gdHlwZW9mIHM9PSJzdHJpbmciJiYocz1zLnJlcGxhY2UoX3MsImRlZmluZWQoJDEpIikpLHR5cGVvZiBzPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHMpOnN9c3RhdGljIF9CdWlsZEV4cHJlc3Npb24oZSx0KXtjb25zdCBpPW5ldyBVcixzPWUuc3Vic3RyaW5nKDAsdCk7bGV0IHI9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIHI9ci5zdWJzdHJpbmcoMCwoci5pbmRleE9mKCIvLyIpKzF8fHIubGVuZ3RoKzEpLTEpLnRyaW0oKSxzPT09IiNpZmRlZiI/aS50ZXN0RXhwcmVzc2lvbj1uZXcga2kocik6cz09PSIjaWZuZGVmIj9pLnRlc3RFeHByZXNzaW9uPW5ldyBraShyLCEwKTppLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihyKSxpfXN0YXRpYyBfTW92ZUN1cnNvcldpdGhpbklmKGUsdCxpKXtsZXQgcz1lLmN1cnJlbnRMaW5lO2Zvcig7dGhpcy5fTW92ZUN1cnNvcihlLGkpOyl7cz1lLmN1cnJlbnRMaW5lO2NvbnN0IHI9cy5zdWJzdHJpbmcoMCw1KS50b0xvd2VyQ2FzZSgpO2lmKHI9PT0iI2Vsc2UiKXtjb25zdCBuPW5ldyB2aTt0LmNoaWxkcmVuLnB1c2gobiksdGhpcy5fTW92ZUN1cnNvcihlLG4pO3JldHVybn1lbHNlIGlmKHI9PT0iI2VsaWYiKXtjb25zdCBuPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihzLDUpO3QuY2hpbGRyZW4ucHVzaChuKSxpPW59fX1zdGF0aWMgX01vdmVDdXJzb3IoZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7Y29uc3QgaT1lLmN1cnJlbnRMaW5lLHI9LygjaWZkZWYpfCgjZWxzZSl8KCNlbGlmKXwoI2VuZGlmKXwoI2lmbmRlZil8KCNpZikvLmV4ZWMoaSk7aWYociYmci5sZW5ndGgpc3dpdGNoKHJbMF0pe2Nhc2UiI2lmZGVmIjp7Y29uc3QgYT1uZXcgZHM7dC5jaGlsZHJlbi5wdXNoKGEpO2NvbnN0IG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksNik7YS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9Y2FzZSIjZWxzZSI6Y2FzZSIjZWxpZiI6cmV0dXJuITA7Y2FzZSIjZW5kaWYiOnJldHVybiExO2Nhc2UiI2lmbmRlZiI6e2NvbnN0IGE9bmV3IGRzO3QuY2hpbGRyZW4ucHVzaChhKTtjb25zdCBvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDcpO2EuY2hpbGRyZW4ucHVzaChvKSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxhLG8pO2JyZWFrfWNhc2UiI2lmIjp7Y29uc3QgYT1uZXcgZHMsbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSwzKTt0LmNoaWxkcmVuLnB1c2goYSksYS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9fWVsc2V7Y29uc3Qgbj1uZXcgdmk7aWYobi5saW5lPWksdC5jaGlsZHJlbi5wdXNoKG4pLGlbMF09PT0iIyImJmlbMV09PT0iZCIpe2NvbnN0IGE9aS5yZXBsYWNlKCI7IiwiIikuc3BsaXQoIiAiKTtuLmFkZGl0aW9uYWxEZWZpbmVLZXk9YVsxXSxhLmxlbmd0aD09PTMmJihuLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZT1hWzJdKX19fXJldHVybiExfXN0YXRpYyBfRXZhbHVhdGVQcmVQcm9jZXNzb3JzKGUsdCxpKXtjb25zdCBzPW5ldyB2aSxyPW5ldyBCcjtyZXR1cm4gci5saW5lSW5kZXg9LTEsci5saW5lcz1lLnNwbGl0KGAKYCksdGhpcy5fTW92ZUN1cnNvcihyLHMpLHMucHJvY2Vzcyh0LGkpfXN0YXRpYyBfUHJlcGFyZVByZVByb2Nlc3NvcnMoZSx0KXt2YXIgcjtjb25zdCBpPWUuZGVmaW5lcyxzPXt9O2Zvcihjb25zdCBuIG9mIGkpe2NvbnN0IG89bi5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKS5zcGxpdCgiICIpO3Nbb1swXV09by5sZW5ndGg+MT9vWzFdOiIifXJldHVybigocj1lLnByb2Nlc3Nvcik9PW51bGw/dm9pZCAwOnIuc2hhZGVyTGFuZ3VhZ2UpPT09cWUuR0xTTCYmKHMuR0xfRVM9InRydWUiKSxzLl9fVkVSU0lPTl9fPWUudmVyc2lvbixzW2UucGxhdGZvcm1OYW1lXT0idHJ1ZSIsdC5fZ2V0R2xvYmFsRGVmaW5lcyhzKSxzfXN0YXRpYyBfUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24oZSx0LGkpe2xldCBzPXRoaXMuX1Byb2Nlc3NQcmVjaXNpb24oZSx0KTtpZighdC5wcm9jZXNzb3IpcmV0dXJuIHM7aWYodC5wcm9jZXNzb3Iuc2hhZGVyTGFuZ3VhZ2U9PT1xZS5HTFNMJiZzLmluZGV4T2YoIiN2ZXJzaW9uIDMiKSE9PS0xKXJldHVybiBzLnJlcGxhY2UoIiN2ZXJzaW9uIDMwMCBlcyIsIiIpO2NvbnN0IHI9dC5kZWZpbmVzLG49dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4gdC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkscz10aGlzLl9FdmFsdWF0ZVByZVByb2Nlc3NvcnMocyxuLHQpLHQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYocz1pLmlubGluZVNoYWRlckNvZGUocykpLHN9c3RhdGljIF9BcHBseVByZVByb2Nlc3NpbmcoZSx0LGkpe3ZhciBhLG87bGV0IHM9ZTtjb25zdCByPXQuZGVmaW5lcyxuPXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQsaSk7cmV0dXJuKGE9dC5wcm9jZXNzb3IpIT1udWxsJiZhLnByZVByb2Nlc3NvciYmKHM9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yKHMscix0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLHM9dGhpcy5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzKHMsbix0KSwobz10LnByb2Nlc3NvcikhPW51bGwmJm8ucG9zdFByb2Nlc3NvciYmKHM9dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQsaSkpLGkuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihzPWkuaW5saW5lU2hhZGVyQ29kZShzKSksc31zdGF0aWMgX1Byb2Nlc3NJbmNsdWRlcyhlLHQsaSl7bGV0IHM9WXMuZXhlYyhlKSxyPW5ldyBTdHJpbmcoZSksbj0hMTtmb3IoO3MhPW51bGw7KXtsZXQgYT1zWzFdO2lmKGEuaW5kZXhPZigiX19kZWNsX18iKSE9PS0xJiYoYT1hLnJlcGxhY2UoL19fZGVjbF9fLywiIiksdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzJiYoYT1hLnJlcGxhY2UoL1ZlcnRleC8sIlVibyIpLGE9YS5yZXBsYWNlKC9GcmFnbWVudC8sIlVibyIpKSxhPWErIkRlY2xhcmF0aW9uIiksdC5pbmNsdWRlc1NoYWRlcnNTdG9yZVthXSl7bGV0IG89dC5pbmNsdWRlc1NoYWRlcnNTdG9yZVthXTtpZihzWzJdKXtjb25zdCBoPXNbM10uc3BsaXQoIiwiKTtmb3IobGV0IGw9MDtsPGgubGVuZ3RoO2wrPTIpe2NvbnN0IHU9bmV3IFJlZ0V4cChoW2xdLCJnIiksZj1oW2wrMV07bz1vLnJlcGxhY2UodSxmKX19aWYoc1s0XSl7Y29uc3QgaD1zWzVdO2lmKGguaW5kZXhPZigiLi4iKSE9PS0xKXtjb25zdCBsPWguc3BsaXQoIi4uIiksdT1wYXJzZUludChsWzBdKTtsZXQgZj1wYXJzZUludChsWzFdKSxkPW8uc2xpY2UoMCk7bz0iIixpc05hTihmKSYmKGY9dC5pbmRleFBhcmFtZXRlcnNbbFsxXV0pO2ZvcihsZXQgXz11O188ZjtfKyspdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHwoZD1kLnJlcGxhY2UoL2xpZ2h0XHtYXH0uKFx3KikvZywoRSxtKT0+bSsie1h9IikpLG8rPWQucmVwbGFjZSgvXHtYXH0vZyxfLnRvU3RyaW5nKCkpK2AKYH1lbHNlIHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8KG89by5yZXBsYWNlKC9saWdodFx7WFx9LihcdyopL2csKGwsdSk9PnUrIntYfSIpKSxvPW8ucmVwbGFjZSgvXHtYXH0vZyxoKX1yPXIucmVwbGFjZShzWzBdLG8pLG49bnx8by5pbmRleE9mKCIjaW5jbHVkZTwiKT49MHx8by5pbmRleE9mKCIjaW5jbHVkZSA8Iik+PTB9ZWxzZXtjb25zdCBvPXQuc2hhZGVyc1JlcG9zaXRvcnkrIlNoYWRlcnNJbmNsdWRlLyIrYSsiLmZ4IjtzaS5fRmlsZVRvb2xzTG9hZEZpbGUobyxoPT57dC5pbmNsdWRlc1NoYWRlcnNTdG9yZVthXT1oLHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhyLHQsaSl9KTtyZXR1cm59cz1Zcy5leGVjKGUpfW4/dGhpcy5fUHJvY2Vzc0luY2x1ZGVzKHIudG9TdHJpbmcoKSx0LGkpOmkocil9c3RhdGljIF9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbil7dGhyb3cgcSgiRmlsZVRvb2xzIil9fWNsYXNzIE57c3RhdGljIEdldFNoYWRlcnNSZXBvc2l0b3J5KGU9cWUuR0xTTCl7cmV0dXJuIGU9PT1xZS5HTFNMP04uU2hhZGVyc1JlcG9zaXRvcnk6Ti5TaGFkZXJzUmVwb3NpdG9yeVdHU0x9c3RhdGljIEdldFNoYWRlcnNTdG9yZShlPXFlLkdMU0wpe3JldHVybiBlPT09cWUuR0xTTD9OLlNoYWRlcnNTdG9yZTpOLlNoYWRlcnNTdG9yZVdHU0x9c3RhdGljIEdldEluY2x1ZGVzU2hhZGVyc1N0b3JlKGU9cWUuR0xTTCl7cmV0dXJuIGU9PT1xZS5HTFNMP04uSW5jbHVkZXNTaGFkZXJzU3RvcmU6Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVdHU0x9fU4uU2hhZGVyc1JlcG9zaXRvcnk9InNyYy9TaGFkZXJzLyIsTi5TaGFkZXJzU3RvcmU9e30sTi5JbmNsdWRlc1NoYWRlcnNTdG9yZT17fSxOLlNoYWRlcnNSZXBvc2l0b3J5V0dTTD0ic3JjL1NoYWRlcnNXR1NMLyIsTi5TaGFkZXJzU3RvcmVXR1NMPXt9LE4uSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMPXt9O2NsYXNzIEZle2NvbnN0cnVjdG9yKGUsdCxpLHM9bnVsbCxyLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsLHU9IiIsZj1xZS5HTFNMKXt2YXIgRCx2LEE7dGhpcy5uYW1lPW51bGwsdGhpcy5kZWZpbmVzPSIiLHRoaXMub25Db21waWxlZD1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMub25CaW5kPW51bGwsdGhpcy51bmlxdWVJZD0wLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl93YXNQcmV2aW91c2x5UmVhZHk9ITEsdGhpcy5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPW51bGwsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITEsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcz17fSx0aGlzLl9tdWx0aVRhcmdldD0hMSx0aGlzLl9zYW1wbGVycz17fSx0aGlzLl9pc1JlYWR5PSExLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSExLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2tleT0iIix0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1udWxsLHRoaXMuX3BpcGVsaW5lQ29udGV4dD1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMubmFtZT1lLHRoaXMuX2tleT11O2xldCBkLF89bnVsbDtpZih0LmF0dHJpYnV0ZXMpe2NvbnN0IEw9dDtpZih0aGlzLl9lbmdpbmU9aSx0aGlzLl9hdHRyaWJ1dGVzTmFtZXM9TC5hdHRyaWJ1dGVzLHRoaXMuX3VuaWZvcm1zTmFtZXM9TC51bmlmb3Jtc05hbWVzLmNvbmNhdChMLnNhbXBsZXJzKSx0aGlzLl9zYW1wbGVyTGlzdD1MLnNhbXBsZXJzLnNsaWNlKCksdGhpcy5kZWZpbmVzPUwuZGVmaW5lcyx0aGlzLm9uRXJyb3I9TC5vbkVycm9yLHRoaXMub25Db21waWxlZD1MLm9uQ29tcGlsZWQsdGhpcy5fZmFsbGJhY2tzPUwuZmFsbGJhY2tzLHRoaXMuX2luZGV4UGFyYW1ldGVycz1MLmluZGV4UGFyYW1ldGVycyx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPUwudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nc3x8bnVsbCx0aGlzLl9tdWx0aVRhcmdldD0hIUwubXVsdGlUYXJnZXQsdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9KEQ9TC5zaGFkZXJMYW5ndWFnZSkhPW51bGw/RDpxZS5HTFNMLEwudW5pZm9ybUJ1ZmZlcnNOYW1lcyl7dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9TC51bmlmb3JtQnVmZmVyc05hbWVzLnNsaWNlKCk7Zm9yKGxldCBKPTA7SjxMLnVuaWZvcm1CdWZmZXJzTmFtZXMubGVuZ3RoO0orKyl0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW0wudW5pZm9ybUJ1ZmZlcnNOYW1lc1tKXV09Sn1fPSh2PUwucHJvY2Vzc0ZpbmFsQ29kZSkhPW51bGw/djpudWxsLGQ9KEE9TC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMpIT1udWxsP0E6dm9pZCAwfWVsc2UgdGhpcy5fZW5naW5lPXIsdGhpcy5kZWZpbmVzPW49PW51bGw/IiI6bix0aGlzLl91bmlmb3Jtc05hbWVzPWkuY29uY2F0KHMpLHRoaXMuX3NhbXBsZXJMaXN0PXM/cy5zbGljZSgpOltdLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz10LHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0PVtdLHRoaXMuX3NoYWRlckxhbmd1YWdlPWYsdGhpcy5vbkVycm9yPWgsdGhpcy5vbkNvbXBpbGVkPW8sdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWwsdGhpcy5fZmFsbGJhY2tzPWE7dGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWU9e30sdGhpcy51bmlxdWVJZD1GZS5fVW5pcXVlSWRTZWVkKys7bGV0IEUsbTtjb25zdCBUPVVlKCk/dGhpcy5fZW5naW5lLmdldEhvc3REb2N1bWVudCgpOm51bGw7ZS52ZXJ0ZXhTb3VyY2U/RT0ic291cmNlOiIrZS52ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhFbGVtZW50PyhFPVQ/VC5nZXRFbGVtZW50QnlJZChlLnZlcnRleEVsZW1lbnQpOm51bGwsRXx8KEU9ZS52ZXJ0ZXhFbGVtZW50KSk6RT1lLnZlcnRleHx8ZSxlLmZyYWdtZW50U291cmNlP209InNvdXJjZToiK2UuZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudEVsZW1lbnQ/KG09VD9ULmdldEVsZW1lbnRCeUlkKGUuZnJhZ21lbnRFbGVtZW50KTpudWxsLG18fChtPWUuZnJhZ21lbnRFbGVtZW50KSk6bT1lLmZyYWdtZW50fHxlLHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0PXRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO2NvbnN0IGI9e2RlZmluZXM6dGhpcy5kZWZpbmVzLnNwbGl0KGAKYCksaW5kZXhQYXJhbWV0ZXJzOnRoaXMuX2luZGV4UGFyYW1ldGVycyxpc0ZyYWdtZW50OiExLHNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI6dGhpcy5fZW5naW5lLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyLHByb2Nlc3Nvcjp0aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3Nvcih0aGlzLl9zaGFkZXJMYW5ndWFnZSksc3VwcG9ydHNVbmlmb3JtQnVmZmVyczp0aGlzLl9lbmdpbmUuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyxzaGFkZXJzUmVwb3NpdG9yeTpOLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKSxpbmNsdWRlc1NoYWRlcnNTdG9yZTpOLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKSx2ZXJzaW9uOih0aGlzLl9lbmdpbmUudmVyc2lvbioxMDApLnRvU3RyaW5nKCkscGxhdGZvcm1OYW1lOnRoaXMuX2VuZ2luZS5zaGFkZXJQbGF0Zm9ybU5hbWUscHJvY2Vzc2luZ0NvbnRleHQ6dGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQsaXNORENIYWxmWlJhbmdlOnRoaXMuX2VuZ2luZS5pc05EQ0hhbGZaUmFuZ2UsdXNlUmV2ZXJzZURlcHRoQnVmZmVyOnRoaXMuX2VuZ2luZS51c2VSZXZlcnNlRGVwdGhCdWZmZXIscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOmR9LFI9W3ZvaWQgMCx2b2lkIDBdLHk9KCk9PntpZihSWzBdJiZSWzFdKXtiLmlzRnJhZ21lbnQ9ITA7Y29uc3RbTCxKXT1SO3NpLlByb2Nlc3MoSixiLGhlPT57XyYmKGhlPV8oImZyYWdtZW50IixoZSkpO2NvbnN0IHhlPXNpLkZpbmFsaXplKEwsaGUsYik7dGhpcy5fdXNlRmluYWxDb2RlKHhlLnZlcnRleENvZGUseGUuZnJhZ21lbnRDb2RlLGUpfSx0aGlzLl9lbmdpbmUpfX07dGhpcy5fbG9hZFNoYWRlcihFLCJWZXJ0ZXgiLCIiLEw9PntzaS5Jbml0aWFsaXplKGIpLHNpLlByb2Nlc3MoTCxiLEo9Pnt0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlPUwsXyYmKEo9XygidmVydGV4IixKKSksUlswXT1KLHkoKX0sdGhpcy5fZW5naW5lKX0pLHRoaXMuX2xvYWRTaGFkZXIobSwiRnJhZ21lbnQiLCJQaXhlbCIsTD0+e3RoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZT1MLFJbMV09TCx5KCl9KX1zdGF0aWMgZ2V0IFNoYWRlcnNSZXBvc2l0b3J5KCl7cmV0dXJuIE4uU2hhZGVyc1JlcG9zaXRvcnl9c3RhdGljIHNldCBTaGFkZXJzUmVwb3NpdG9yeShlKXtOLlNoYWRlcnNSZXBvc2l0b3J5PWV9Z2V0IG9uQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uQmluZE9ic2VydmFibGV9X3VzZUZpbmFsQ29kZShlLHQsaSl7aWYoaSl7Y29uc3Qgcz1pLnZlcnRleEVsZW1lbnR8fGkudmVydGV4fHxpLnNwZWN0b3JOYW1lfHxpLHI9aS5mcmFnbWVudEVsZW1lbnR8fGkuZnJhZ21lbnR8fGkuc3BlY3Rvck5hbWV8fGk7dGhpcy5fdmVydGV4U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1xZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIHZlcnRleDoiK3MrYApgK2UsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PXFlLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgZnJhZ21lbnQ6IityK2AKYCt0fWVsc2UgdGhpcy5fdmVydGV4U291cmNlQ29kZT1lLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT10O3RoaXMuX3ByZXBhcmVFZmZlY3QoKX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX2tleX1pc1JlYWR5KCl7dHJ5e3JldHVybiB0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKX1jYXRjaHtyZXR1cm4hMX19X2lzUmVhZHlJbnRlcm5hbCgpe3JldHVybiB0aGlzLl9pc1JlYWR5PyEwOnRoaXMuX3BpcGVsaW5lQ29udGV4dD90aGlzLl9waXBlbGluZUNvbnRleHQuaXNSZWFkeTohMX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldFBpcGVsaW5lQ29udGV4dCgpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHR9Z2V0QXR0cmlidXRlc05hbWVzKCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNOYW1lc31nZXRBdHRyaWJ1dGVMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc1tlXX1nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbZV19Z2V0QXR0cmlidXRlc0NvdW50KCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMubGVuZ3RofWdldFVuaWZvcm1JbmRleChlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNOYW1lcy5pbmRleE9mKGUpfWdldFVuaWZvcm0oZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zW2VdfWdldFNhbXBsZXJzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXJMaXN0fWdldFVuaWZvcm1OYW1lcygpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzfWdldFVuaWZvcm1CdWZmZXJzTmFtZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3R9Z2V0SW5kZXhQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2luZGV4UGFyYW1ldGVyc31nZXRDb21waWxhdGlvbkVycm9yKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3J9YWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCl7cmV0dXJuIHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZH1leGVjdXRlV2hlbkNvbXBpbGVkKGUpe2lmKHRoaXMuaXNSZWFkeSgpKXtlKHRoaXMpO3JldHVybn10aGlzLm9uQ29tcGlsZU9ic2VydmFibGUuYWRkKHQ9PntlKHQpfSksKCF0aGlzLl9waXBlbGluZUNvbnRleHR8fHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jKSYmc2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrSXNSZWFkeShudWxsKX0sMTYpfV9jaGVja0lzUmVhZHkoZSl7dHJ5e2lmKHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpKXJldHVybn1jYXRjaCh0KXt0aGlzLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnModCxlKTtyZXR1cm59dGhpcy5faXNEaXNwb3NlZHx8c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrSXNSZWFkeShlKX0sMTYpfV9sb2FkU2hhZGVyKGUsdCxpLHMpe2lmKHR5cGVvZiBIVE1MRWxlbWVudDwidSImJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3QgYT11cyhlKTtzKGEpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09InNvdXJjZToiKXtzKGUuc3Vic3RyKDcpKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJiYXNlNjQ6Iil7Y29uc3QgYT13aW5kb3cuYXRvYihlLnN1YnN0cig3KSk7cyhhKTtyZXR1cm59Y29uc3Qgcj1OLkdldFNoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7aWYocltlK3QrIlNoYWRlciJdKXtzKHJbZSt0KyJTaGFkZXIiXSk7cmV0dXJufWlmKGkmJnJbZStpKyJTaGFkZXIiXSl7cyhyW2UraSsiU2hhZGVyIl0pO3JldHVybn1sZXQgbjtlWzBdPT09Ii4ifHxlWzBdPT09Ii8ifHxlLmluZGV4T2YoImh0dHAiKT4tMT9uPWU6bj1OLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKStlLHRoaXMuX2VuZ2luZS5fbG9hZEZpbGUobisiLiIrdC50b0xvd2VyQ2FzZSgpKyIuZngiLHMpfWdldCB2ZXJ0ZXhTb3VyY2VDb2RlKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09bnVsbD92b2lkIDA6ZS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpKSE9bnVsbD90OnRoaXMuX3ZlcnRleFNvdXJjZUNvZGV9Z2V0IGZyYWdtZW50U291cmNlQ29kZSgpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09bnVsbD92b2lkIDA6ZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkpIT1udWxsP3Q6dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlfWdldCByYXdWZXJ0ZXhTb3VyY2VDb2RlKCl7cmV0dXJuIHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGV9Z2V0IHJhd0ZyYWdtZW50U291cmNlQ29kZSgpe3JldHVybiB0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGV9X3JlYnVpbGRQcm9ncmFtKGUsdCxpLHMpe3RoaXMuX2lzUmVhZHk9ITEsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9dCx0aGlzLm9uRXJyb3I9KHIsbik9PntzJiZzKG4pfSx0aGlzLm9uQ29tcGlsZWQ9KCk9Pntjb25zdCByPXRoaXMuZ2V0RW5naW5lKCkuc2NlbmVzO2lmKHIpZm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspcltuXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2Myk7dGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhpKX0sdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fcHJlcGFyZUVmZmVjdCgpfV9wcmVwYXJlRWZmZWN0KCl7Y29uc3QgZT10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsdD10aGlzLmRlZmluZXMsaT10aGlzLl9waXBlbGluZUNvbnRleHQ7dGhpcy5faXNSZWFkeT0hMTt0cnl7Y29uc3Qgcz10aGlzLl9lbmdpbmU7dGhpcy5fcGlwZWxpbmVDb250ZXh0PXMuY3JlYXRlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0KSx0aGlzLl9waXBlbGluZUNvbnRleHQuX25hbWU9dGhpcy5fa2V5O2NvbnN0IHI9dGhpcy5fcmVidWlsZFByb2dyYW0uYmluZCh0aGlzKTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3MuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZSwhMCx0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZSxyLG51bGwsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyx0aGlzLl9rZXkpOnMuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlLCExLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHIsdCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSkscy5fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQodGhpcy5fcGlwZWxpbmVDb250ZXh0LCgpPT57aWYodGhpcy5fYXR0cmlidXRlcz1bXSx0aGlzLl9waXBlbGluZUNvbnRleHQuX2ZpbGxFZmZlY3RJbmZvcm1hdGlvbih0aGlzLHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXMsdGhpcy5fdW5pZm9ybXNOYW1lcyx0aGlzLl91bmlmb3Jtcyx0aGlzLl9zYW1wbGVyTGlzdCx0aGlzLl9zYW1wbGVycyxlLHRoaXMuX2F0dHJpYnV0ZXMpLGUpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGE9ZVtuXTt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVthXT10aGlzLl9hdHRyaWJ1dGVzW25dfXMuYmluZFNhbXBsZXJzKHRoaXMpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5faXNSZWFkeT0hMCx0aGlzLm9uQ29tcGlsZWQmJnRoaXMub25Db21waWxlZCh0aGlzKSx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSxpJiZ0aGlzLmdldEVuZ2luZSgpLl9kZWxldGVQaXBlbGluZUNvbnRleHQoaSl9KSx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYyYmdGhpcy5fY2hlY2tJc1JlYWR5KGkpfWNhdGNoKHMpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhzLGkpfX1fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZShlLHQsaSl7Y29uc3Qgcz1pPy9GUkFHTUVOVCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi86L1ZFUlRFWCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi87bGV0IHI9bnVsbDtpZih0JiZlKXtjb25zdCBuPXQubWF0Y2gocyk7aWYobiYmbi5sZW5ndGg9PT0yKXtjb25zdCBhPXBhcnNlSW50KG5bMV0pLG89ZS5zcGxpdChgCmAsLTEpO28ubGVuZ3RoPj1hJiYocj1gT2ZmZW5kaW5nIGxpbmUgWyR7YX1dIGluICR7aT8iZnJhZ21lbnQiOiJ2ZXJ0ZXgifSBjb2RlOiAke29bYS0xXX1gKX19cmV0dXJuW2Uscl19X3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhlLHQ9bnVsbCl7dmFyIHIsbixhO3RoaXMuX2NvbXBpbGF0aW9uRXJyb3I9ZS5tZXNzYWdlO2NvbnN0IGk9dGhpcy5fYXR0cmlidXRlc05hbWVzLHM9dGhpcy5fZmFsbGJhY2tzO2lmKHcuRXJyb3IoIlVuYWJsZSB0byBjb21waWxlIGVmZmVjdDoiKSx3LkVycm9yKCJVbmlmb3JtczogIit0aGlzLl91bmlmb3Jtc05hbWVzLm1hcChmdW5jdGlvbihvKXtyZXR1cm4iICIrb30pKSx3LkVycm9yKCJBdHRyaWJ1dGVzOiAiK2kubWFwKGZ1bmN0aW9uKG8pe3JldHVybiIgIitvfSkpLHcuRXJyb3IoYERlZmluZXM6XHIKYCt0aGlzLmRlZmluZXMpLEZlLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3Ipe2xldCBvPW51bGwsaD1udWxsLGw9bnVsbDsocj10aGlzLl9waXBlbGluZUNvbnRleHQpIT1udWxsJiZyLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkmJihbbCxvXT10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITEpLGwmJih3LkVycm9yKCJWZXJ0ZXggY29kZToiKSx3LkVycm9yKGwpKSksKG49dGhpcy5fcGlwZWxpbmVDb250ZXh0KSE9bnVsbCYmbi5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkmJihbbCxoXT10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKChhPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PW51bGw/dm9pZCAwOmEuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITApLGwmJih3LkVycm9yKCJGcmFnbWVudCBjb2RlOiIpLHcuRXJyb3IobCkpKSxvJiZ3LkVycm9yKG8pLGgmJncuRXJyb3IoaCl9dy5FcnJvcigiRXJyb3I6ICIrdGhpcy5fY29tcGlsYXRpb25FcnJvciksdCYmKHRoaXMuX3BpcGVsaW5lQ29udGV4dD10LHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSkscz8odGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwscy5oYXNNb3JlRmFsbGJhY2tzPyh0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsdy5FcnJvcigiVHJ5aW5nIG5leHQgZmFsbGJhY2suIiksdGhpcy5kZWZpbmVzPXMucmVkdWNlKHRoaXMuZGVmaW5lcyx0aGlzKSx0aGlzLl9wcmVwYXJlRWZmZWN0KCkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsdGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpKSk6dGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwfWdldCBpc1N1cHBvcnRlZCgpe3JldHVybiB0aGlzLl9jb21waWxhdGlvbkVycm9yPT09IiJ9X2JpbmRUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLl9iaW5kVGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfXNldFRleHR1cmUoZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfXNldERlcHRoU3RlbmNpbFRleHR1cmUoZSx0KXt0aGlzLl9lbmdpbmUuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfXNldFRleHR1cmVBcnJheShlLHQpe2NvbnN0IGk9ZSsiRXgiO2lmKHRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YoaSsiMCIpPT09LTEpe2NvbnN0IHM9dGhpcy5fc2FtcGxlckxpc3QuaW5kZXhPZihlKTtmb3IobGV0IG49MTtuPHQubGVuZ3RoO24rKyl7Y29uc3QgYT1pKyhuLTEpLnRvU3RyaW5nKCk7dGhpcy5fc2FtcGxlckxpc3Quc3BsaWNlKHMrbiwwLGEpfWxldCByPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fc2FtcGxlckxpc3QpdGhpcy5fc2FtcGxlcnNbbl09cixyKz0xfXRoaXMuX2VuZ2luZS5zZXRUZXh0dXJlQXJyYXkodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3ModGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0KGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1iaW5kVW5pZm9ybUJ1ZmZlcihlLHQpe2NvbnN0IGk9dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc1t0XTtpPT09dm9pZCAwfHxGZS5fQmFzZUNhY2hlW2ldPT09ZSYmdGhpcy5fZW5naW5lLl9mZWF0dXJlcy51c2VVQk9CaW5kaW5nQ2FjaGV8fChGZS5fQmFzZUNhY2hlW2ldPWUsdGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQnVmZmVyQmFzZShlLGksdCkpfWJpbmRVbmlmb3JtQmxvY2soZSx0KXt0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CbG9jayh0aGlzLl9waXBlbGluZUNvbnRleHQsZSx0KX1zZXRJbnQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQpLHRoaXN9c2V0SW50MihlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQyKGUsdCxpKSx0aGlzfXNldEludDMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQzKGUsdCxpLHMpLHRoaXN9c2V0SW50NChlLHQsaSxzLHIpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50NChlLHQsaSxzLHIpLHRoaXN9c2V0SW50QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5KGUsdCksdGhpc31zZXRJbnRBcnJheTIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5MihlLHQpLHRoaXN9c2V0SW50QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTMoZSx0KSx0aGlzfXNldEludEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXk0KGUsdCksdGhpc31zZXRGbG9hdEFycmF5KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9c2V0RmxvYXRBcnJheTIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MihlLHQpLHRoaXN9c2V0RmxvYXRBcnJheTMoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MyhlLHQpLHRoaXN9c2V0RmxvYXRBcnJheTQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9c2V0QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5KGUsdCksdGhpc31zZXRBcnJheTIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MihlLHQpLHRoaXN9c2V0QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfXNldEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXk0KGUsdCksdGhpc31zZXRNYXRyaWNlcyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cmljZXMoZSx0KSx0aGlzfXNldE1hdHJpeChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4KGUsdCksdGhpc31zZXRNYXRyaXgzeDMoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeDN4MyhlLHQpLHRoaXN9c2V0TWF0cml4MngyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgyeDIoZSx0KSx0aGlzfXNldEZsb2F0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdChlLHQpLHRoaXN9c2V0Qm9vbChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50KGUsdD8xOjApLHRoaXN9c2V0VmVjdG9yMihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMihlLHQpLHRoaXN9c2V0RmxvYXQyKGUsdCxpKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0MihlLHQsaSksdGhpc31zZXRWZWN0b3IzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3IzKGUsdCksdGhpc31zZXRGbG9hdDMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDMoZSx0LGkscyksdGhpc31zZXRWZWN0b3I0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3I0KGUsdCksdGhpc31zZXRRdWF0ZXJuaW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRRdWF0ZXJuaW9uKGUsdCksdGhpc31zZXRGbG9hdDQoZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0NChlLHQsaSxzLHIpLHRoaXN9c2V0Q29sb3IzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjMoZSx0KSx0aGlzfXNldENvbG9yNChlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjQoZSx0LGkpLHRoaXN9c2V0RGlyZWN0Q29sb3I0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXREaXJlY3RDb2xvcjQoZSx0KSx0aGlzfWRpc3Bvc2UoKXt0aGlzLl9waXBlbGluZUNvbnRleHQmJnRoaXMuX3BpcGVsaW5lQ29udGV4dC5kaXNwb3NlKCksdGhpcy5fZW5naW5lLl9yZWxlYXNlRWZmZWN0KHRoaXMpLHRoaXMuX2lzRGlzcG9zZWQ9ITB9c3RhdGljIFJlZ2lzdGVyU2hhZGVyKGUsdCxpLHM9cWUuR0xTTCl7dCYmKE4uR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9UGl4ZWxTaGFkZXJgXT10KSxpJiYoTi5HZXRTaGFkZXJzU3RvcmUocylbYCR7ZX1WZXJ0ZXhTaGFkZXJgXT1pKX1zdGF0aWMgUmVzZXRDYWNoZSgpe0ZlLl9CYXNlQ2FjaGU9e319fUZlLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3I9ITAsRmUuX1VuaXF1ZUlkU2VlZD0wLEZlLl9CYXNlQ2FjaGU9e30sRmUuU2hhZGVyc1N0b3JlPU4uU2hhZGVyc1N0b3JlLEZlLkluY2x1ZGVzU2hhZGVyc1N0b3JlPU4uSW5jbHVkZXNTaGFkZXJzU3RvcmU7Y2xhc3MgR3J7Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEsdGhpcy5faXNDdWxsRmFjZURpcnR5PSExLHRoaXMuX2lzQ3VsbERpcnR5PSExLHRoaXMuX2lzWk9mZnNldERpcnR5PSExLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEsZSYmdGhpcy5yZXNldCgpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGVwdGhGdW5jRGlydHl8fHRoaXMuX2lzRGVwdGhUZXN0RGlydHl8fHRoaXMuX2lzRGVwdGhNYXNrRGlydHl8fHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eXx8dGhpcy5faXNDdWxsRGlydHl8fHRoaXMuX2lzWk9mZnNldERpcnR5fHx0aGlzLl9pc0Zyb250RmFjZURpcnR5fWdldCB6T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3pPZmZzZXR9c2V0IHpPZmZzZXQoZSl7dGhpcy5fek9mZnNldCE9PWUmJih0aGlzLl96T2Zmc2V0PWUsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITApfWdldCB6T2Zmc2V0VW5pdHMoKXtyZXR1cm4gdGhpcy5fek9mZnNldFVuaXRzfXNldCB6T2Zmc2V0VW5pdHMoZSl7dGhpcy5fek9mZnNldFVuaXRzIT09ZSYmKHRoaXMuX3pPZmZzZXRVbml0cz1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgY3VsbEZhY2UoKXtyZXR1cm4gdGhpcy5fY3VsbEZhY2V9c2V0IGN1bGxGYWNlKGUpe3RoaXMuX2N1bGxGYWNlIT09ZSYmKHRoaXMuX2N1bGxGYWNlPWUsdGhpcy5faXNDdWxsRmFjZURpcnR5PSEwKX1nZXQgY3VsbCgpe3JldHVybiB0aGlzLl9jdWxsfXNldCBjdWxsKGUpe3RoaXMuX2N1bGwhPT1lJiYodGhpcy5fY3VsbD1lLHRoaXMuX2lzQ3VsbERpcnR5PSEwKX1nZXQgZGVwdGhGdW5jKCl7cmV0dXJuIHRoaXMuX2RlcHRoRnVuY31zZXQgZGVwdGhGdW5jKGUpe3RoaXMuX2RlcHRoRnVuYyE9PWUmJih0aGlzLl9kZXB0aEZ1bmM9ZSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSEwKX1nZXQgZGVwdGhNYXNrKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFza31zZXQgZGVwdGhNYXNrKGUpe3RoaXMuX2RlcHRoTWFzayE9PWUmJih0aGlzLl9kZXB0aE1hc2s9ZSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSEwKX1nZXQgZGVwdGhUZXN0KCl7cmV0dXJuIHRoaXMuX2RlcHRoVGVzdH1zZXQgZGVwdGhUZXN0KGUpe3RoaXMuX2RlcHRoVGVzdCE9PWUmJih0aGlzLl9kZXB0aFRlc3Q9ZSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwKX1nZXQgZnJvbnRGYWNlKCl7cmV0dXJuIHRoaXMuX2Zyb250RmFjZX1zZXQgZnJvbnRGYWNlKGUpe3RoaXMuX2Zyb250RmFjZSE9PWUmJih0aGlzLl9mcm9udEZhY2U9ZSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2RlcHRoTWFzaz0hMCx0aGlzLl9kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhGdW5jPW51bGwsdGhpcy5fY3VsbEZhY2U9bnVsbCx0aGlzLl9jdWxsPW51bGwsdGhpcy5fek9mZnNldD0wLHRoaXMuX3pPZmZzZXRVbml0cz0wLHRoaXMuX2Zyb250RmFjZT1udWxsLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITAsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExfWFwcGx5KGUpeyF0aGlzLmlzRGlydHl8fCh0aGlzLl9pc0N1bGxEaXJ0eSYmKHRoaXMuY3VsbD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSksdGhpcy5faXNDdWxsRmFjZURpcnR5JiYoZS5jdWxsRmFjZSh0aGlzLmN1bGxGYWNlKSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhNYXNrRGlydHkmJihlLmRlcHRoTWFzayh0aGlzLmRlcHRoTWFzayksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSksdGhpcy5faXNEZXB0aFRlc3REaXJ0eSYmKHRoaXMuZGVwdGhUZXN0P2UuZW5hYmxlKGUuREVQVEhfVEVTVCk6ZS5kaXNhYmxlKGUuREVQVEhfVEVTVCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eSYmKGUuZGVwdGhGdW5jKHRoaXMuZGVwdGhGdW5jKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExKSx0aGlzLl9pc1pPZmZzZXREaXJ0eSYmKHRoaXMuek9mZnNldHx8dGhpcy56T2Zmc2V0VW5pdHM/KGUuZW5hYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksZS5wb2x5Z29uT2Zmc2V0KHRoaXMuek9mZnNldCx0aGlzLnpPZmZzZXRVbml0cykpOmUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHRoaXMuX2lzWk9mZnNldERpcnR5PSExKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5JiYoZS5mcm9udEZhY2UodGhpcy5mcm9udEZhY2UpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEpKX19Y2xhc3MgT3R7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9T3QuQUxXQVlTLHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD1PdC5LRUVQLHRoaXMub3BEZXB0aEZhaWw9T3QuS0VFUCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1PdC5SRVBMQUNFfWdldCBzdGVuY2lsRnVuYygpe3JldHVybiB0aGlzLmZ1bmN9c2V0IHN0ZW5jaWxGdW5jKGUpe3RoaXMuZnVuYz1lfWdldCBzdGVuY2lsRnVuY1JlZigpe3JldHVybiB0aGlzLmZ1bmNSZWZ9c2V0IHN0ZW5jaWxGdW5jUmVmKGUpe3RoaXMuZnVuY1JlZj1lfWdldCBzdGVuY2lsRnVuY01hc2soKXtyZXR1cm4gdGhpcy5mdW5jTWFza31zZXQgc3RlbmNpbEZ1bmNNYXNrKGUpe3RoaXMuZnVuY01hc2s9ZX1nZXQgc3RlbmNpbE9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxGYWlsfXNldCBzdGVuY2lsT3BTdGVuY2lsRmFpbChlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX1nZXQgc3RlbmNpbE9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMub3BEZXB0aEZhaWx9c2V0IHN0ZW5jaWxPcERlcHRoRmFpbChlKXt0aGlzLm9wRGVwdGhGYWlsPWV9Z2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9ZX1nZXQgc3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5tYXNrfXNldCBzdGVuY2lsTWFzayhlKXt0aGlzLm1hc2s9ZX1nZXQgc3RlbmNpbFRlc3QoKXtyZXR1cm4gdGhpcy5lbmFibGVkfXNldCBzdGVuY2lsVGVzdChlKXt0aGlzLmVuYWJsZWQ9ZX19T3QuQUxXQVlTPTUxOSxPdC5LRUVQPTc2ODAsT3QuUkVQTEFDRT03NjgxO2NsYXNzIFhye2NvbnN0cnVjdG9yKCl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDQpLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSgyKSx0aGlzLl9ibGVuZENvbnN0YW50cz1uZXcgQXJyYXkoNCksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExLHRoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLnJlc2V0KCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fWdldCBhbHBoYUJsZW5kKCl7cmV0dXJuIHRoaXMuX2FscGhhQmxlbmR9c2V0IGFscGhhQmxlbmQoZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfXNldEFscGhhQmxlbmRDb25zdGFudHMoZSx0LGkscyl7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09aSYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1zfHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPWksdGhpcy5fYmxlbmRDb25zdGFudHNbM109cyx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfXNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnMoZSx0LGkscyl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT09PXQmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPT09aSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109PT1zfHwodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPWksdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109cyx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITApfXNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKGUsdCl7dGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT09PXR8fCh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1lLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPXQsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX1hcHBseShlKXshdGhpcy5pc0RpcnR5fHwodGhpcy5faXNBbHBoYUJsZW5kRGlydHkmJih0aGlzLl9hbHBoYUJsZW5kP2UuZW5hYmxlKGUuQkxFTkQpOmUuZGlzYWJsZShlLkJMRU5EKSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMSksdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEZ1bmNTZXBhcmF0ZSh0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXSksdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExKSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHkmJihlLmJsZW5kRXF1YXRpb25TZXBhcmF0ZSh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHkmJihlLmJsZW5kQ29sb3IodGhpcy5fYmxlbmRDb25zdGFudHNbMF0sdGhpcy5fYmxlbmRDb25zdGFudHNbMV0sdGhpcy5fYmxlbmRDb25zdGFudHNbMl0sdGhpcy5fYmxlbmRDb25zdGFudHNbM10pLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSkpfX1jbGFzcyBIcntjb25zdHJ1Y3Rvcigpe3RoaXMuc2hhZGVyTGFuZ3VhZ2U9cWUuR0xTTH1wb3N0UHJvY2Vzc29yKGUsdCxpLHMscil7aWYoIXIuZ2V0Q2FwcygpLmRyYXdCdWZmZXJzRXh0ZW5zaW9uKXtjb25zdCBuPS8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLisoZW5hYmxlfHJlcXVpcmUpL2c7ZT1lLnJlcGxhY2UobiwiIil9cmV0dXJuIGV9fWNsYXNzIEtye2NvbnN0cnVjdG9yKCl7dGhpcy5zaGFkZXJMYW5ndWFnZT1xZS5HTFNMfWF0dHJpYnV0ZVByb2Nlc3NvcihlKXtyZXR1cm4gZS5yZXBsYWNlKCJhdHRyaWJ1dGUiLCJpbiIpfXZhcnlpbmdQcm9jZXNzb3IoZSx0KXtyZXR1cm4gZS5yZXBsYWNlKCJ2YXJ5aW5nIix0PyJpbiI6Im91dCIpfXBvc3RQcm9jZXNzb3IoZSx0LGkpe2NvbnN0IHM9ZS5zZWFyY2goLyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuK3JlcXVpcmUvKSE9PS0xLHI9LyNleHRlbnNpb24uKyhHTF9PVlJfbXVsdGl2aWV3MnxHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXN8R0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZHxHTF9FWFRfZnJhZ19kZXB0aHxHTF9FWFRfZHJhd19idWZmZXJzKS4rKGVuYWJsZXxyZXF1aXJlKS9nO2lmKGU9ZS5yZXBsYWNlKHIsIiIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRccypcKC9nLCJ0ZXh0dXJlKCIpLGkpZT1lLnJlcGxhY2UoL3RleHR1cmUyRExvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlTG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVccypcKC9nLCJ0ZXh0dXJlKCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnRGVwdGhFWFQvZywiZ2xfRnJhZ0RlcHRoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdDb2xvci9nLCJnbEZyYWdDb2xvciIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnRGF0YS9nLCJnbEZyYWdEYXRhIiksZT1lLnJlcGxhY2UoL3ZvaWRccys/bWFpblxzKlwoL2csKHM/IiI6YG91dCB2ZWM0IGdsRnJhZ0NvbG9yOwpgKSsidm9pZCBtYWluKCIpO2Vsc2UgaWYodC5pbmRleE9mKCIjZGVmaW5lIE1VTFRJVklFVyIpIT09LTEpcmV0dXJuYCNleHRlbnNpb24gR0xfT1ZSX211bHRpdmlldzIgOiByZXF1aXJlCmxheW91dCAobnVtX3ZpZXdzID0gMikgaW47CmArZTtyZXR1cm4gZX19Y2xhc3MgTWl7Y29uc3RydWN0b3IoKXt0aGlzLnJlZmVyZW5jZXM9MCx0aGlzLmNhcGFjaXR5PTAsdGhpcy5pczMyQml0cz0hMSx0aGlzLnVuaXF1ZUlkPU1pLl9Db3VudGVyKyt9Z2V0IHVuZGVybHlpbmdSZXNvdXJjZSgpe3JldHVybiBudWxsfX1NaS5fQ291bnRlcj0wO2NsYXNzIEFpIGV4dGVuZHMgTWl7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9idWZmZXI9ZX1nZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn19Y2xhc3MgWXJ7Y29uc3RydWN0b3IoKXt0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMudmVydGV4Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5wcm9ncmFtTGlua0Vycm9yPW51bGwsdGhpcy5wcm9ncmFtVmFsaWRhdGlvbkVycm9yPW51bGx9Z2V0IGlzQXN5bmMoKXtyZXR1cm4gdGhpcy5pc1BhcmFsbGVsQ29tcGlsZWR9Z2V0IGlzUmVhZHkoKXtyZXR1cm4gdGhpcy5wcm9ncmFtP3RoaXMuaXNQYXJhbGxlbENvbXBpbGVkP3RoaXMuZW5naW5lLl9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQodGhpcyk6ITA6ITF9X2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKGUpe2UmJnRoaXMucHJvZ3JhbSYmZSh0aGlzLnByb2dyYW0pfV9maWxsRWZmZWN0SW5mb3JtYXRpb24oZSx0LGkscyxyLG4sYSxvKXtjb25zdCBoPXRoaXMuZW5naW5lO2lmKGguc3VwcG9ydHNVbmlmb3JtQnVmZmVycylmb3IoY29uc3QgZiBpbiB0KWUuYmluZFVuaWZvcm1CbG9jayhmLHRbZl0pO3RoaXMuZW5naW5lLmdldFVuaWZvcm1zKHRoaXMsaSkuZm9yRWFjaCgoZixkKT0+e3NbaVtkXV09Zn0pLHRoaXMuX3VuaWZvcm1zPXM7bGV0IHU7Zm9yKHU9MDt1PHIubGVuZ3RoO3UrKyllLmdldFVuaWZvcm0oclt1XSk9PW51bGwmJihyLnNwbGljZSh1LDEpLHUtLSk7ci5mb3JFYWNoKChmLGQpPT57bltmXT1kfSk7Zm9yKGNvbnN0IGYgb2YgaC5nZXRBdHRyaWJ1dGVzKHRoaXMsYSkpby5wdXNoKGYpfWRpc3Bvc2UoKXt0aGlzLl91bmlmb3Jtcz17fX1fY2FjaGVNYXRyaXgoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV0scz10LnVwZGF0ZUZsYWc7cmV0dXJuIGkhPT12b2lkIDAmJmk9PT1zPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITApfV9jYWNoZUZsb2F0MihlLHQsaSl7bGV0IHM9dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighc3x8cy5sZW5ndGghPT0yKXJldHVybiBzPVt0LGldLHRoaXMuX3ZhbHVlQ2FjaGVbZV09cywhMDtsZXQgcj0hMTtyZXR1cm4gc1swXSE9PXQmJihzWzBdPXQscj0hMCksc1sxXSE9PWkmJihzWzFdPWkscj0hMCkscn1fY2FjaGVGbG9hdDMoZSx0LGkscyl7bGV0IHI9dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighcnx8ci5sZW5ndGghPT0zKXJldHVybiByPVt0LGksc10sdGhpcy5fdmFsdWVDYWNoZVtlXT1yLCEwO2xldCBuPSExO3JldHVybiByWzBdIT09dCYmKHJbMF09dCxuPSEwKSxyWzFdIT09aSYmKHJbMV09aSxuPSEwKSxyWzJdIT09cyYmKHJbMl09cyxuPSEwKSxufV9jYWNoZUZsb2F0NChlLHQsaSxzLHIpe2xldCBuPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIW58fG4ubGVuZ3RoIT09NClyZXR1cm4gbj1bdCxpLHMscl0sdGhpcy5fdmFsdWVDYWNoZVtlXT1uLCEwO2xldCBhPSExO3JldHVybiBuWzBdIT09dCYmKG5bMF09dCxhPSEwKSxuWzFdIT09aSYmKG5bMV09aSxhPSEwKSxuWzJdIT09cyYmKG5bMl09cyxhPSEwKSxuWzNdIT09ciYmKG5bM109cixhPSEwKSxhfXNldEludChlLHQpe2NvbnN0IGk9dGhpcy5fdmFsdWVDYWNoZVtlXTtpIT09dm9pZCAwJiZpPT09dHx8dGhpcy5lbmdpbmUuc2V0SW50KHRoaXMuX3VuaWZvcm1zW2VdLHQpJiYodGhpcy5fdmFsdWVDYWNoZVtlXT10KX1zZXRJbnQyKGUsdCxpKXt0aGlzLl9jYWNoZUZsb2F0MihlLHQsaSkmJih0aGlzLmVuZ2luZS5zZXRJbnQyKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRJbnQzKGUsdCxpLHMpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdCxpLHMpJiYodGhpcy5lbmdpbmUuc2V0SW50Myh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRJbnQ0KGUsdCxpLHMscil7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LGkscyxyKSYmKHRoaXMuZW5naW5lLnNldEludDQodGhpcy5fdW5pZm9ybXNbZV0sdCxpLHMscil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRJbnRBcnJheShlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRJbnRBcnJheTIoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEludEFycmF5MyhlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTModGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0SW50QXJyYXk0KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRBcnJheShlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRBcnJheTIoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEFycmF5MyhlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTModGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0QXJyYXk0KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRNYXRyaWNlcyhlLHQpeyF0fHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQpKX1zZXRNYXRyaXgoZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiYodGhpcy5lbmdpbmUuc2V0TWF0cmljZXModGhpcy5fdW5pZm9ybXNbZV0sdC50b0FycmF5KCkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0TWF0cml4M3gzKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpeDN4Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRNYXRyaXgyeDIoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4MngyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEZsb2F0KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdO2khPT12b2lkIDAmJmk9PT10fHx0aGlzLmVuZ2luZS5zZXRGbG9hdCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9c2V0VmVjdG9yMihlLHQpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdC54LHQueSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRGbG9hdDIoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxpKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Mih0aGlzLl91bmlmb3Jtc1tlXSx0LGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0VmVjdG9yMyhlLHQpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdC54LHQueSx0LnopJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEZsb2F0MyhlLHQsaSxzKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQsaSxzKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRWZWN0b3I0KGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRRdWF0ZXJuaW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRGbG9hdDQoZSx0LGkscyxyKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQsaSxzLHIpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzLHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0Q29sb3IzKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LnIsdC5nLHQuYikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0Q29sb3I0KGUsdCxpKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLGkpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0RGlyZWN0Q29sb3I0KGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LnIsdC5nLHQuYix0LmEpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLHQuYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1fZ2V0VmVydGV4U2hhZGVyQ29kZSgpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfV9nZXRGcmFnbWVudFNoYWRlckNvZGUoKXtyZXR1cm4gdGhpcy5mcmFnbWVudFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMuZnJhZ21lbnRTaGFkZXIpOm51bGx9fWNsYXNzIFpze2NvbnN0cnVjdG9yKGU9bnVsbCx0KXtpZih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwsdGhpcy5fY29udGV4dD10LCFlJiYoZT10LmNyZWF0ZVRleHR1cmUoKSwhZSkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHdlYkdMIHRleHR1cmUiKTt0aGlzLnNldChlKX1nZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIHRoaXMuX3dlYkdMVGV4dHVyZX1zZXRVc2FnZSgpe31zZXQoZSl7dGhpcy5fd2ViR0xUZXh0dXJlPWV9cmVzZXQoKXt0aGlzLl93ZWJHTFRleHR1cmU9bnVsbCx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGx9cmVsZWFzZSgpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXImJih0aGlzLl9jb250ZXh0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyKSx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfX1jbGFzcyBSaXtjb25zdHJ1Y3RvcihlLHQ9ITApe3RoaXMuZWZmZWN0PW51bGwsdGhpcy5kZWZpbmVzPW51bGwsdGhpcy5kcmF3Q29udGV4dD1lLmNyZWF0ZURyYXdDb250ZXh0KCksdCYmKHRoaXMubWF0ZXJpYWxDb250ZXh0PWUuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCkpfXN0YXRpYyBJc1dyYXBwZXIoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwfXN0YXRpYyBHZXRFZmZlY3QoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwP2UuZWZmZWN0OmV9c2V0RWZmZWN0KGUsdCxpPSEwKXt2YXIgczt0aGlzLmVmZmVjdD1lLHQhPT12b2lkIDAmJih0aGlzLmRlZmluZXM9dCksaSYmKChzPXRoaXMuZHJhd0NvbnRleHQpPT1udWxsfHxzLnJlc2V0KCkpfWRpc3Bvc2UoKXt2YXIgZTsoZT10aGlzLmRyYXdDb250ZXh0KT09bnVsbHx8ZS5kaXNwb3NlKCl9fWNsYXNzIFpye2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITEsdGhpcy51c2VTdGVuY2lsR2xvYmFsT25seT0hMSxlJiZ0aGlzLnJlc2V0KCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5fHx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHl8fHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eXx8dGhpcy5faXNTdGVuY2lsT3BEaXJ0eX1nZXQgZnVuYygpe3JldHVybiB0aGlzLl9mdW5jfXNldCBmdW5jKGUpe3RoaXMuX2Z1bmMhPT1lJiYodGhpcy5fZnVuYz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmIT09ZSYmKHRoaXMuX2Z1bmNSZWY9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBmdW5jTWFzaygpe3JldHVybiB0aGlzLl9mdW5jTWFza31zZXQgZnVuY01hc2soZSl7dGhpcy5fZnVuY01hc2shPT1lJiYodGhpcy5fZnVuY01hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbCE9PWUmJih0aGlzLl9vcFN0ZW5jaWxGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfXNldCBvcERlcHRoRmFpbChlKXt0aGlzLl9vcERlcHRoRmFpbCE9PWUmJih0aGlzLl9vcERlcHRoRmFpbD1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBvcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfXNldCBvcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzIT09ZSYmKHRoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzayE9PWUmJih0aGlzLl9tYXNrPWUsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwKX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCl9cmVzZXQoKXt2YXIgZTt0aGlzLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsKGU9dGhpcy5zdGVuY2lsR2xvYmFsKT09bnVsbHx8ZS5yZXNldCgpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITB9YXBwbHkoZSl7dmFyIGk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9IXRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHkmJiEhKChpPXRoaXMuc3RlbmNpbE1hdGVyaWFsKSE9bnVsbCYmaS5lbmFibGVkKTt0aGlzLmVuYWJsZWQ9dD90aGlzLnN0ZW5jaWxNYXRlcmlhbC5lbmFibGVkOnRoaXMuc3RlbmNpbEdsb2JhbC5lbmFibGVkLHRoaXMuZnVuYz10P3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmM6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmMsdGhpcy5mdW5jUmVmPXQ/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuY1JlZjp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY1JlZix0aGlzLmZ1bmNNYXNrPXQ/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuY01hc2s6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNNYXNrLHRoaXMub3BTdGVuY2lsRmFpbD10P3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wU3RlbmNpbEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbD10P3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wRGVwdGhGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz10P3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wU3RlbmNpbERlcHRoUGFzczp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRGVwdGhQYXNzLHRoaXMubWFzaz10P3RoaXMuc3RlbmNpbE1hdGVyaWFsLm1hc2s6dGhpcy5zdGVuY2lsR2xvYmFsLm1hc2ssdGhpcy5pc0RpcnR5JiYodGhpcy5faXNTdGVuY2lsVGVzdERpcnR5JiYodGhpcy5lbmFibGVkP2UuZW5hYmxlKGUuU1RFTkNJTF9URVNUKTplLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5JiYoZS5zdGVuY2lsTWFzayh0aGlzLm1hc2spLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5JiYoZS5zdGVuY2lsRnVuYyh0aGlzLmZ1bmMsdGhpcy5mdW5jUmVmLHRoaXMuZnVuY01hc2spLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eSYmKGUuc3RlbmNpbE9wKHRoaXMub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzKSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSExKSl9fWNsYXNzIHFye31jbGFzcyBsZXtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl9uYW1lPSJXZWJHTCIsdGhpcy5mb3JjZVBPVFRleHR1cmVzPSExLHRoaXMuaXNGdWxsc2NyZWVuPSExLHRoaXMuY3VsbEJhY2tGYWNlcz1udWxsLHRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZD0hMCx0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcz0hMSx0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ITEsdGhpcy5pc05EQ0hhbGZaUmFuZ2U9ITEsdGhpcy5oYXNPcmlnaW5Cb3R0b21MZWZ0PSEwLHRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSExLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9mcmFtZUlkPTAsdGhpcy5fdW5pZm9ybUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3N0b3JhZ2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITEsdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPSEwLHRoaXMuX2JhZE9TPSExLHRoaXMuX2JhZERlc2t0b3BPUz0hMSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExLHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPW5ldyBBcnJheSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ITEsdGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSExLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGU9bmV3IEdyLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyPW5ldyBacix0aGlzLl9zdGVuY2lsU3RhdGU9bmV3IE90LHRoaXMuX2FscGhhU3RhdGU9bmV3IFhyLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9bmV3IEFycmF5LHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZT1uZXcgQXJyYXksdGhpcy5fYWN0aXZlQ2hhbm5lbD0wLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGU9e30sdGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9LHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQ9W10sdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ITEsdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExLHRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzPW5ldyBBcnJheSx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz0wLHRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89MSx0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsPW51bGwsdGhpcy5ob3N0SW5mb3JtYXRpb249e2lzTW9iaWxlOiExfSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMCx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2lzV2ViR1BVPSExLHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT0wLHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zPSExLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkPXt4OjAseTowLHo6MCx3OjB9LHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZD0hMCx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9O2xldCByPW51bGw7aWYoaT1pfHx7fSx0aGlzLl9jcmVhdGlvbk9wdGlvbnM9aSx0aGlzLmFkYXB0VG9EZXZpY2VSYXRpbz1zIT1udWxsP3M6ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsa2UuU2V0TWF0cml4UHJlY2lzaW9uKCEhaS51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSwhZSlyZXR1cm47aWYocz1zfHxpLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITEsZS5nZXRDb250ZXh0KXtpZihyPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXIsdCE9PXZvaWQgMCYmKGkuYW50aWFsaWFzPXQpLGkuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPT09dm9pZCAwJiYoaS5kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEpLGkubG9ja3N0ZXBNYXhTdGVwcz09PXZvaWQgMCYmKGkubG9ja3N0ZXBNYXhTdGVwcz00KSxpLnRpbWVTdGVwPT09dm9pZCAwJiYoaS50aW1lU3RlcD0xLzYwKSxpLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj09PXZvaWQgMCYmKGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPSExKSxpLmF1ZGlvRW5naW5lPT09dm9pZCAwJiYoaS5hdWRpb0VuZ2luZT0hMCksaS5hdWRpb0VuZ2luZU9wdGlvbnMhPT12b2lkIDAmJmkuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvQ29udGV4dCE9PXZvaWQgMCYmKHRoaXMuX2F1ZGlvQ29udGV4dD1pLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0NvbnRleHQpLGkuYXVkaW9FbmdpbmVPcHRpb25zIT09dm9pZCAwJiZpLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uIT09dm9pZCAwJiYodGhpcy5fYXVkaW9EZXN0aW5hdGlvbj1pLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uKSxpLnN0ZW5jaWw9PT12b2lkIDAmJihpLnN0ZW5jaWw9ITApLGkucHJlbXVsdGlwbGllZEFscGhhPT09ITEmJih0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSksaS54ckNvbXBhdGlibGU9PT12b2lkIDAmJihpLnhyQ29tcGF0aWJsZT0hMCksaS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyE9PXZvaWQgMCYmKHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zPWkudXNlRXhhY3RTcmdiQ29udmVyc2lvbnMpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ISFpLmRvTm90SGFuZGxlQ29udGV4dExvc3QsbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt0aGlzLl9jaGVja0Zvck1vYmlsZT0oKT0+e2NvbnN0IGw9bmF2aWdhdG9yLnVzZXJBZ2VudDt0aGlzLmhvc3RJbmZvcm1hdGlvbi5pc01vYmlsZT1sLmluZGV4T2YoIk1vYmlsZSIpIT09LTF8fGwuaW5kZXhPZigiTWFjIikhPT0tMSYmVWkoKSYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnR9LHRoaXMuX2NoZWNrRm9yTW9iaWxlKCksVWUoKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fY2hlY2tGb3JNb2JpbGUpO2NvbnN0IGg9bmF2aWdhdG9yLnVzZXJBZ2VudDtmb3IoY29uc3QgbCBvZiBsZS5FeGNlcHRpb25MaXN0KXtjb25zdCB1PWwua2V5LGY9bC50YXJnZXRzO2lmKG5ldyBSZWdFeHAodSkudGVzdChoKSl7aWYobC5jYXB0dXJlJiZsLmNhcHR1cmVDb25zdHJhaW50KXtjb25zdCBfPWwuY2FwdHVyZSxFPWwuY2FwdHVyZUNvbnN0cmFpbnQsVD1uZXcgUmVnRXhwKF8pLmV4ZWMoaCk7aWYoVCYmVC5sZW5ndGg+MCYmcGFyc2VJbnQoVFtULmxlbmd0aC0xXSk+PUUpY29udGludWV9Zm9yKGNvbnN0IF8gb2YgZilzd2l0Y2goXyl7Y2FzZSJ1bmlmb3JtQnVmZmVyIjp0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVycz0hMDticmVhaztjYXNlInZhbyI6dGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSEwO2JyZWFrO2Nhc2UiYW50aWFsaWFzIjppLmFudGlhbGlhcz0hMTticmVhaztjYXNlIm1heE1TQUFTYW1wbGVzIjp0aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlPTE7YnJlYWt9fX19aWYodGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KHRoaXMuX29uQ29udGV4dExvc3Q9aD0+e2gucHJldmVudERlZmF1bHQoKSx0aGlzLl9jb250ZXh0V2FzTG9zdD0hMCx3Lldhcm4oIldlYkdMIGNvbnRleHQgbG9zdC4iKSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sdGhpcy5fb25Db250ZXh0UmVzdG9yZWQ9KCk9Pnt0aGlzLl9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdCh0aGlzLl9pbml0R0xDb250ZXh0LmJpbmQodGhpcykpfSxyLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QsITEpLHIuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkLCExKSxpLnBvd2VyUHJlZmVyZW5jZT0iaGlnaC1wZXJmb3JtYW5jZSIpLHRoaXMuX2JhZERlc2t0b3BPUz0vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRoaXMuX2JhZERlc2t0b3BPUyYmKGkueHJDb21wYXRpYmxlPSExKSwhaS5kaXNhYmxlV2ViR0wyU3VwcG9ydCl0cnl7dGhpcy5fZ2w9ci5nZXRDb250ZXh0KCJ3ZWJnbDIiLGkpfHxyLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbDIiLGkpLHRoaXMuX2dsJiYodGhpcy5fd2ViR0xWZXJzaW9uPTIsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDIiLHRoaXMuX2dsLmRlbGV0ZVF1ZXJ5fHwodGhpcy5fd2ViR0xWZXJzaW9uPTEsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiKSl9Y2F0Y2h7fWlmKCF0aGlzLl9nbCl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJvdmlkZWQgY2FudmFzIGlzIG51bGwgb3IgdW5kZWZpbmVkLiIpO3RyeXt0aGlzLl9nbD1yLmdldENvbnRleHQoIndlYmdsIixpKXx8ci5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLGkpfWNhdGNoe3Rocm93IG5ldyBFcnJvcigiV2ViR0wgbm90IHN1cHBvcnRlZCIpfX1pZighdGhpcy5fZ2wpdGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9ZWxzZXt0aGlzLl9nbD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz10aGlzLl9nbC5jYW52YXMsdGhpcy5fZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlPyh0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIpOnRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wxIjtjb25zdCBoPXRoaXMuX2dsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7aCYmKGkuc3RlbmNpbD1oLnN0ZW5jaWwpfXRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksaS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzIT09dm9pZCAwJiYodGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPWkudXNlSGlnaFByZWNpc2lvbkZsb2F0cyk7Y29uc3Qgbj1VZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxhPWkubGltaXREZXZpY2VSYXRpb3x8bjt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1zPzEvTWF0aC5taW4oYSxuKToxLHRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPW4sdGhpcy5yZXNpemUoKSx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFpLnN0ZW5jaWwsdGhpcy5faW5pdEdMQ29udGV4dCgpLHRoaXMuX2luaXRGZWF0dXJlcygpO2ZvcihsZXQgaD0wO2g8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO2grKyl0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbaF09bmV3IHFyO3RoaXMuX3NoYWRlclByb2Nlc3Nvcj10aGlzLndlYkdMVmVyc2lvbj4xP25ldyBLcjpuZXcgSHIsdGhpcy5fYmFkT1M9L2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvaVBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtjb25zdCBvPWBCYWJ5bG9uLmpzIHYke2xlLlZlcnNpb259YDtjb25zb2xlLmxvZyhvK2AgLSAke3RoaXMuZGVzY3JpcHRpb259YCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJkYXRhLWVuZ2luZSIsbyl9c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuImJhYnlsb25qc0A1LjIzLjAifXN0YXRpYyBnZXQgVmVyc2lvbigpe3JldHVybiI1LjIzLjAifWdldCBkZXNjcmlwdGlvbigpe2xldCBlPXRoaXMubmFtZSt0aGlzLndlYkdMVmVyc2lvbjtyZXR1cm4gdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJihlKz0iIC0gUGFyYWxsZWwgc2hhZGVyIGNvbXBpbGF0aW9uIiksZX1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfXNldCBuYW1lKGUpe3RoaXMuX25hbWU9ZX1nZXQgdmVyc2lvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBGZS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe0ZlLlNoYWRlcnNSZXBvc2l0b3J5PWV9X2dldFNoYWRlclByb2Nlc3NvcihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfWdldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfXNldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX1nZXQgZnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWdldCBzdXBwb3J0c1VuaWZvcm1CdWZmZXJzKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc31nZXRDcmVhdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfWdldCBfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX1nZXQgbmVlZFBPVFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9Z2V0IGFjdGl2ZVJlbmRlckxvb3BzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfWdldCBkb05vdEhhbmRsZUNvbnRleHRMb3N0KCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9c2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfWdldCBfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcoKXtyZXR1cm4hMX1zZXQgZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0KGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfWdldCBjdXJyZW50Vmlld3BvcnQoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9Z2V0IGVtcHR5VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9Z2V0IGVtcHR5VGV4dHVyZTNEKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9Z2V0IGVtcHR5VGV4dHVyZTJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fWdldCBlbXB0eUN1YmVUZXh0dXJlKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfWdldCBpc1dlYkdQVSgpe3JldHVybiB0aGlzLl9pc1dlYkdQVX1nZXQgc2hhZGVyUGxhdGZvcm1OYW1lKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX1nZXQgc25hcHNob3RSZW5kZXJpbmcoKXtyZXR1cm4hMX1zZXQgc25hcHNob3RSZW5kZXJpbmcoZSl7fWdldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfXNldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9Z2V0IHVzZUV4YWN0U3JnYkNvbnZlcnNpb25zKCl7cmV0dXJuIHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zfXNuYXBzaG90UmVuZGVyaW5nUmVzZXQoKXt0aGlzLnNuYXBzaG90UmVuZGVyaW5nPSExfXN0YXRpYyBfQ3JlYXRlQ2FudmFzKGUsdCl7aWYodHlwZW9mIGRvY3VtZW50PiJ1IilyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcyhlLHQpO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIGkud2lkdGg9ZSxpLmhlaWdodD10LGl9Y3JlYXRlQ2FudmFzKGUsdCl7cmV0dXJuIGxlLl9DcmVhdGVDYW52YXMoZSx0KX1jcmVhdGVDYW52YXNJbWFnZSgpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKX1fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QoZSl7c2V0VGltZW91dChhc3luYygpPT57dmFyIG47dGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcj1udWxsO2NvbnN0IHQ9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0LGk9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jLHM9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrLHI9dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0O2F3YWl0IGUoKSx0aGlzLl9yZWJ1aWxkRWZmZWN0cygpLChuPXRoaXMuX3JlYnVpbGRDb21wdXRlRWZmZWN0cyk9PW51bGx8fG4uY2FsbCh0aGlzKSx0aGlzLl9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcygpLHRoaXMuX3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycygpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy53aXBlQ2FjaGVzKCEwKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9dCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9aSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9cyx0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9cix3Lldhcm4odGhpcy5uYW1lKyIgY29udGV4dCBzdWNjZXNzZnVsbHkgcmVzdG9yZWQuIiksdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExfSwwKX1fc2hhcmVkSW5pdChlLHQsaSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzPWV9X2dldFNoYWRlclByb2Nlc3NpbmdDb250ZXh0KGUpe3JldHVybiBudWxsfV9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNsaWNlKCk7Zm9yKGNvbnN0IHQgb2YgZSl0Ll9yZWJ1aWxkKCl9X3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycygpe2NvbnN0IGU9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNsaWNlKCk7Zm9yKGNvbnN0IHQgb2YgZSl0Ll9yZWJ1aWxkKCl9X3JlYnVpbGRFZmZlY3RzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXtjb25zdCB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXTt0Ll9waXBlbGluZUNvbnRleHQ9bnVsbCx0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEsdC5fcHJlcGFyZUVmZmVjdCgpfUZlLlJlc2V0Q2FjaGUoKX1hcmVBbGxFZmZlY3RzUmVhZHkoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpaWYoIXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXS5pc1JlYWR5KCkpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGRCdWZmZXJzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdW5pZm9ybUJ1ZmZlcnMpZS5fcmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3N0b3JhZ2VCdWZmZXJzKWUuX3JlYnVpbGQoKX1faW5pdEdMQ29udGV4dCgpe3ZhciB0O3RoaXMuX2NhcHM9e21heFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heENvbWJpbmVkVGV4dHVyZXNJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VmVydGV4VGV4dHVyZUltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX1NJWkUpLG1heFNhbXBsZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKToxLG1heEN1YmVtYXBUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRSksbWF4UmVuZGVyVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9SRU5ERVJCVUZGRVJfU0laRSksbWF4VmVydGV4QXR0cmliczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKSxtYXhWYXJ5aW5nVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyksbWF4RnJhZ21lbnRVbmlmb3JtVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUyksbWF4VmVydGV4VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTKSxwYXJhbGxlbFNoYWRlckNvbXBpbGU6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKXx8dm9pZCAwLHN0YW5kYXJkRGVyaXZhdGl2ZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIikhPT1udWxsLG1heEFuaXNvdHJvcHk6MSxhc3RjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKSxicHRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjIiksczN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiksczN0Y19zcmdiOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIikscHZydGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIiksZXRjMTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiksZXRjMjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9lczNfMCIpLHRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIiksdWludEluZGljZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpIT09bnVsbCxmcmFnbWVudERlcHRoU3VwcG9ydGVkOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9mcmFnX2RlcHRoIikhPT1udWxsLGhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ6ITEsdGltZXJRdWVyeTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKSxzdXBwb3J0T2NjbHVzaW9uUXVlcnk6dGhpcy5fd2ViR0xWZXJzaW9uPjEsY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeTohMSxkcmF3QnVmZmVyc0V4dGVuc2lvbjohMSxtYXhNU0FBU2FtcGxlczoxLGNvbG9yQnVmZmVyRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpKSx0ZXh0dXJlRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHRleHR1cmVGbG9hdFJlbmRlcjohMSx0ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHZlcnRleEFycmF5T2JqZWN0OiExLGluc3RhbmNlZEFycmF5czohMSx0ZXh0dXJlTE9EOiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiKSksYmxlbmRNaW5NYXg6ITEsbXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT1ZSX211bHRpdmlldzIiKSxvY3VsdXNNdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPQ1VMVVNfbXVsdGl2aWV3IiksZGVwdGhUZXh0dXJlRXh0ZW5zaW9uOiExLGNhblVzZUdMSW5zdGFuY2VJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VHTFZlcnRleElEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHN1cHBvcnRDb21wdXRlU2hhZGVyczohMSxzdXBwb3J0U1JHQkJ1ZmZlcnM6ITEsc3VwcG9ydFRyYW5zZm9ybUZlZWRiYWNrczp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlTWF4TGV2ZWw6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZTJEQXJyYXlNYXhMYXllckNvdW50OnRoaXMuX3dlYkdMVmVyc2lvbj4xPzI1NjoxMjh9LHRoaXMuX2dsVmVyc2lvbj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVSU0lPTik7Y29uc3QgZT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtpZihlIT1udWxsJiYodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIoZS5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKGUuVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5fZ2xWZW5kb3J8fCh0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVORE9SKXx8IlVua25vd24gdmVuZG9yIiksdGhpcy5fZ2xSZW5kZXJlcnx8KHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlJFTkRFUkVSKXx8IlVua25vd24gcmVuZGVyZXIiKSx0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTM2MTkzJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9MzYxOTMpLHRoaXMuX2dsLlJHQkExNkYhPT0zNDg0MiYmKHRoaXMuX2dsLlJHQkExNkY9MzQ4NDIpLHRoaXMuX2dsLlJHQkEzMkYhPT0zNDgzNiYmKHRoaXMuX2dsLlJHQkEzMkY9MzQ4MzYpLHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDghPT0zNTA1NiYmKHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDg9MzUwNTYpLHRoaXMuX2NhcHMudGltZXJRdWVyeSYmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEmJih0aGlzLl9nbC5nZXRRdWVyeT10aGlzLl9jYXBzLnRpbWVyUXVlcnkuZ2V0UXVlcnlFWFQuYmluZCh0aGlzLl9jYXBzLnRpbWVyUXVlcnkpKSx0aGlzLl9jYXBzLmNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk9KCh0PXRoaXMuX2dsLmdldFF1ZXJ5KHRoaXMuX2NhcHMudGltZXJRdWVyeS5USU1FU1RBTVBfRVhULHRoaXMuX2NhcHMudGltZXJRdWVyeS5RVUVSWV9DT1VOVEVSX0JJVFNfRVhUKSkhPW51bGw/dDowKT4wKSx0aGlzLl9jYXBzLm1heEFuaXNvdHJvcHk9dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb24/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCk6MCx0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz0hISh0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRSZW5kZXI9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2NhblJlbmRlclRvRmxvYXRGcmFtZWJ1ZmZlcigpKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdCYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpKSx0aGlzLl9jYXBzLmFzdGMmJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFI9dGhpcy5fY2Fwcy5hc3RjLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUiksdGhpcy5fY2Fwcy5icHRjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUPXRoaXMuX2NhcHMuYnB0Yy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQpLHRoaXMuX2NhcHMuczN0Y19zcmdiJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQpLHRoaXMuX2NhcHMuZXRjMiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfRVRDMj10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9FVEMyLHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDPXRoaXMuX2NhcHMuZXRjMi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQyksdGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTIT09NTEzMSYmKHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTPTUxMzEpLHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdFJlbmRlcj10aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKSx0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmRyYXdCdWZmZXJzRXh0ZW5zaW9uPSEwLHRoaXMuX2NhcHMubWF4TVNBQVNhbXBsZXM9dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZSE9PW51bGw/dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1NBTVBMRVMpO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO2lmKGkhPT1udWxsKXt0aGlzLl9jYXBzLmRyYXdCdWZmZXJzRXh0ZW5zaW9uPSEwLHRoaXMuX2dsLmRyYXdCdWZmZXJzPWkuZHJhd0J1ZmZlcnNXRUJHTC5iaW5kKGkpLHRoaXMuX2dsLkRSQVdfRlJBTUVCVUZGRVI9dGhpcy5fZ2wuRlJBTUVCVUZGRVI7Zm9yKGxldCBzPTA7czwxNjtzKyspdGhpcy5fZ2xbIkNPTE9SX0FUVEFDSE1FTlQiK3MrIl9XRUJHTCJdPWlbIkNPTE9SX0FUVEFDSE1FTlQiK3MrIl9XRUJHTCJdfX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIik7aSE9bnVsbCYmKHRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uPSEwLHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84PWkuVU5TSUdORURfSU5UXzI0XzhfV0VCR0wpfWlmKHRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSExO2Vsc2UgaWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpO2khPW51bGwmJih0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwLHRoaXMuX2dsLmNyZWF0ZVZlcnRleEFycmF5PWkuY3JlYXRlVmVydGV4QXJyYXlPRVMuYmluZChpKSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXk9aS5iaW5kVmVydGV4QXJyYXlPRVMuYmluZChpKSx0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheT1pLmRlbGV0ZVZlcnRleEFycmF5T0VTLmJpbmQoaSkpfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKTtpIT1udWxsPyh0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMCx0aGlzLl9nbC5kcmF3QXJyYXlzSW5zdGFuY2VkPWkuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFLmJpbmQoaSksdGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkPWkuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUuYmluZChpKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yPWkudmVydGV4QXR0cmliRGl2aXNvckFOR0xFLmJpbmQoaSkpOnRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSExfWlmKHRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCl7Y29uc3QgaT10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuVkVSVEVYX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKSxzPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5GUkFHTUVOVF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCk7aSYmcyYmKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZD1pLnByZWNpc2lvbiE9PTAmJnMucHJlY2lzaW9uIT09MCl9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5ibGVuZE1pbk1heD0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfYmxlbmRfbWlubWF4Iik7aSE9bnVsbCYmKHRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITAsdGhpcy5fZ2wuTUFYPWkuTUFYX0VYVCx0aGlzLl9nbC5NSU49aS5NSU5fRVhUKX1pZighdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zUkdCIik7aSE9bnVsbCYmKHRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwLHRoaXMuX2dsLlNSR0I9aS5TUkdCX0VYVCx0aGlzLl9nbC5TUkdCOD1pLlNSR0JfQUxQSEFfRVhULHRoaXMuX2dsLlNSR0I4X0FMUEhBOD1pLlNSR0JfQUxQSEFfRVhUKX10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmISEodGhpcy5fY3JlYXRpb25PcHRpb25zJiZ0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZm9yY2VTUkdCQnVmZmVyU3VwcG9ydFN0YXRlKX10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkxFUVVBTCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9ITAsdGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM9dGhpcy5fY2Fwcy5tYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0cztmb3IobGV0IGk9MDtpPHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzO2krKyl0aGlzLl9uZXh0RnJlZVRleHR1cmVTbG90cy5wdXNoKGkpfV9pbml0RmVhdHVyZXMoKXt0aGlzLl9mZWF0dXJlcz17Zm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudDohMSxzdXBwb3J0UmVuZGVyQW5kQ29weVRvTG9kRm9yRmxvYXRUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNoYWRvd1NhbXBsZXJzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeDohMSxhbGxvd1RleHR1cmVQcmVmaWx0ZXJpbmc6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx0cmFja1Vib3NJbkZyYW1lOiExLGNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ6ITEsc3VwcG9ydENTTTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLGJhc2lzTmVlZHNQT1Q6dGhpcy5fd2ViR0xWZXJzaW9uPT09MSxzdXBwb3J0M0RUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLG5lZWRUeXBlU3VmZml4SW5TaGFkZXJDb25zdGFudHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0TVNBQTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTU0FPMjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN3aXRjaENhc2VJblNoYWRlcjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ6ITAsbmVlZHNJbnZlcnRpbmdCaXRtYXA6ITAsdXNlVUJPQmluZGluZ0NhY2hlOiEwLG5lZWRTaGFkZXJDb2RlSW5saW5pbmc6ITEsbmVlZFRvQWx3YXlzQmluZFVuaWZvcm1CdWZmZXJzOiExLHN1cHBvcnRSZW5kZXJQYXNzZXM6ITEsc3VwcG9ydFNwcml0ZUluc3RhbmNpbmc6ITAsX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWU6ITF9fWdldCB3ZWJHTFZlcnNpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufWdldENsYXNzTmFtZSgpe3JldHVybiJUaGluRW5naW5lIn1nZXQgaXNTdGVuY2lsRW5hYmxlKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbEVuYWJsZX1fcHJlcGFyZVdvcmtpbmdDYW52YXMoKXtpZih0aGlzLl93b3JraW5nQ2FudmFzKXJldHVybjt0aGlzLl93b3JraW5nQ2FudmFzPXRoaXMuY3JlYXRlQ2FudmFzKDEsMSk7Y29uc3QgZT10aGlzLl93b3JraW5nQ2FudmFzLmdldENvbnRleHQoIjJkIik7ZSYmKHRoaXMuX3dvcmtpbmdDb250ZXh0PWUpfXJlc2V0VGV4dHVyZUNhY2hlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlKSFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlLGUpfHwodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPW51bGwpO3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMX1nZXRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0R2xJbmZvKCl9Z2V0R2xJbmZvKCl7cmV0dXJue3ZlbmRvcjp0aGlzLl9nbFZlbmRvcixyZW5kZXJlcjp0aGlzLl9nbFJlbmRlcmVyLHZlcnNpb246dGhpcy5fZ2xWZXJzaW9ufX1zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbChlKXt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1lLHRoaXMucmVzaXplKCl9Z2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKXtyZXR1cm4gdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWx9Z2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGV9Z2V0Q2Fwcygpe3JldHVybiB0aGlzLl9jYXBzfXN0b3BSZW5kZXJMb29wKGUpe2lmKCFlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcz1bXTtyZXR1cm59Y29uc3QgdD10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpO3Q+PTAmJnRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLnNwbGljZSh0LDEpfV9yZW5kZXJMb29wKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXtsZXQgZT0hMDtpZighdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQmJihlPSExKSxlKXt0aGlzLmJlZ2luRnJhbWUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07aSgpfXRoaXMuZW5kRnJhbWUoKX19dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX1nZXRSZW5kZXJpbmdDYW52YXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfWdldEF1ZGlvQ29udGV4dCgpe3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHR9Z2V0QXVkaW9EZXN0aW5hdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0Rlc3RpbmF0aW9ufWdldEhvc3RXaW5kb3coKXtyZXR1cm4gVWUoKT90aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50JiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp3aW5kb3c6bnVsbH1nZXRSZW5kZXJXaWR0aChlPSExKXtyZXR1cm4hZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LndpZHRoOnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJXaWR0aDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVyV2lkdGh9Z2V0UmVuZGVySGVpZ2h0KGU9ITEpe3JldHVybiFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQuaGVpZ2h0OnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJIZWlnaHQ6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH1fcXVldWVOZXdGcmFtZShlLHQpe3JldHVybiBsZS5RdWV1ZU5ld0ZyYW1lKGUsdCl9cnVuUmVuZGVyTG9vcChlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5wdXNoKGUpLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWR8fCh0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSEwLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyTG9vcC5iaW5kKHRoaXMpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpKSl9Y2xlYXIoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5O3RoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITAsdGhpcy5hcHBseVN0YXRlcygpLHRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9cjtsZXQgbj0wO3QmJmUmJih0aGlzLl9nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSE9PXZvaWQgMD9lLmE6MSksbnw9dGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCksaSYmKHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuR0VRVUFMLHRoaXMuX2dsLmNsZWFyRGVwdGgoMCkpOnRoaXMuX2dsLmNsZWFyRGVwdGgoMSksbnw9dGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCkscyYmKHRoaXMuX2dsLmNsZWFyU3RlbmNpbCgwKSxufD10aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX2dsLmNsZWFyKG4pfV92aWV3cG9ydChlLHQsaSxzKXsoZSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnh8fHQhPT10aGlzLl92aWV3cG9ydENhY2hlZC55fHxpIT09dGhpcy5fdmlld3BvcnRDYWNoZWQuenx8cyE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLncpJiYodGhpcy5fdmlld3BvcnRDYWNoZWQueD1lLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9dCx0aGlzLl92aWV3cG9ydENhY2hlZC56PWksdGhpcy5fdmlld3BvcnRDYWNoZWQudz1zLHRoaXMuX2dsLnZpZXdwb3J0KGUsdCxpLHMpKX1zZXRWaWV3cG9ydChlLHQsaSl7Y29uc3Qgcz10fHx0aGlzLmdldFJlbmRlcldpZHRoKCkscj1pfHx0aGlzLmdldFJlbmRlckhlaWdodCgpLG49ZS54fHwwLGE9ZS55fHwwO3RoaXMuX2NhY2hlZFZpZXdwb3J0PWUsdGhpcy5fdmlld3BvcnQobipzLGEqcixzKmUud2lkdGgsciplLmhlaWdodCl9YmVnaW5GcmFtZSgpe31lbmRGcmFtZSgpe3RoaXMuX2JhZE9TJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSx0aGlzLl9mcmFtZUlkKyt9cmVzaXplKGU9ITEpe2xldCB0LGk7aWYodGhpcy5hZGFwdFRvRGV2aWNlUmF0aW8pe2NvbnN0IHM9VWUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEscj10aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpby9zO3RoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPXMsdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwqPXJ9VWUoKT8odD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6d2luZG93LmlubmVyV2lkdGgsaT10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudEhlaWdodHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQpOih0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6MTAwLGk9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6MTAwKSx0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxpL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfXNldFNpemUoZSx0LGk9ITEpe3JldHVybiF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhaSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfWJpbmRGcmFtZWJ1ZmZlcihlLHQ9MCxpLHMscixuPTAsYT0wKXt2YXIgdSxmLGQsXyxFO2NvbnN0IG89ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0JiZ0aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpLHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9ZSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG8uX01TQUFGcmFtZWJ1ZmZlcj9vLl9NU0FBRnJhbWVidWZmZXI6by5fZnJhbWVidWZmZXIpO2NvbnN0IGg9dGhpcy5fZ2w7ZS5pczJEQXJyYXk/aC5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihoLkZSQU1FQlVGRkVSLGguQ09MT1JfQVRUQUNITUVOVDAsKHU9ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT1udWxsP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxuLGEpOmUuaXNDdWJlJiZoLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGguRlJBTUVCVUZGRVIsaC5DT0xPUl9BVFRBQ0hNRU5UMCxoLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LChmPWUudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlKT09bnVsbD92b2lkIDA6Zi51bmRlcmx5aW5nUmVzb3VyY2Usbik7Y29uc3QgbD1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKGwpe2NvbnN0IG09ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsP2guREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UOmguREVQVEhfQVRUQUNITUVOVDtlLmlzMkRBcnJheT9oLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKGguRlJBTUVCVUZGRVIsbSwoZD1sLl9oYXJkd2FyZVRleHR1cmUpPT1udWxsP3ZvaWQgMDpkLnVuZGVybHlpbmdSZXNvdXJjZSxuLGEpOmUuaXNDdWJlP2guZnJhbWVidWZmZXJUZXh0dXJlMkQoaC5GUkFNRUJVRkZFUixtLGguVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3QsKF89bC5faGFyZHdhcmVUZXh0dXJlKT09bnVsbD92b2lkIDA6Xy51bmRlcmx5aW5nUmVzb3VyY2Usbik6aC5mcmFtZWJ1ZmZlclRleHR1cmUyRChoLkZSQU1FQlVGRkVSLG0saC5URVhUVVJFXzJELChFPWwuX2hhcmR3YXJlVGV4dHVyZSk9PW51bGw/dm9pZCAwOkUudW5kZXJseWluZ1Jlc291cmNlLG4pfXRoaXMuX2NhY2hlZFZpZXdwb3J0JiYhcj90aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0LGkscyk6KGl8fChpPWUud2lkdGgsbiYmKGk9aS9NYXRoLnBvdygyLG4pKSksc3x8KHM9ZS5oZWlnaHQsbiYmKHM9cy9NYXRoLnBvdygyLG4pKSksdGhpcy5fdmlld3BvcnQoMCwwLGkscykpLHRoaXMud2lwZUNhY2hlcygpfXNldFN0YXRlKGUsdD0wLGkscz0hMSxyLG4sYT0wKXt2YXIgbCx1Oyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsIT09ZXx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsPWUpO2NvbnN0IG89KHU9KGw9dGhpcy5jdWxsQmFja0ZhY2VzKSE9bnVsbD9sOnIpPT1udWxsfHx1P3RoaXMuX2dsLkJBQ0s6dGhpcy5fZ2wuRlJPTlQ7KHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlIT09b3x8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsRmFjZT1vKSx0aGlzLnNldFpPZmZzZXQodCksdGhpcy5zZXRaT2Zmc2V0VW5pdHMoYSk7Y29uc3QgaD1zP3RoaXMuX2dsLkNXOnRoaXMuX2dsLkNDVzsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZnJvbnRGYWNlIT09aHx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2U9aCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPW59Z2V0RGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0fXNldERlcHRoQnVmZmVyKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1lfXNldFpPZmZzZXQoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldD10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfWdldFpPZmZzZXQoKXtjb25zdCBlPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXQ7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9c2V0Wk9mZnNldFVuaXRzKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cz10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfWdldFpPZmZzZXRVbml0cygpe2NvbnN0IGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzO3JldHVybiB0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfV9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGUpe3RoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlciE9PWUmJih0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsZSksdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPWUpfV9jdXJyZW50RnJhbWVCdWZmZXJJc0RlZmF1bHRGcmFtZUJ1ZmZlcigpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9PT1udWxsfWdlbmVyYXRlTWlwbWFwcyhlKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAodGhpcy5fZ2wuVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpfXVuQmluZEZyYW1lYnVmZmVyKGUsdD0hMSxpKXt2YXIgbjtjb25zdCBzPWU7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldD1udWxsO2NvbnN0IHI9dGhpcy5fZ2w7aWYocy5fTVNBQUZyYW1lYnVmZmVyKXtpZihlLmlzTXVsdGkpe3RoaXMudW5CaW5kTXVsdGlDb2xvckF0dGFjaG1lbnRGcmFtZWJ1ZmZlcihlLHQsaSk7cmV0dXJufXIuYmluZEZyYW1lYnVmZmVyKHIuUkVBRF9GUkFNRUJVRkZFUixzLl9NU0FBRnJhbWVidWZmZXIpLHIuYmluZEZyYW1lYnVmZmVyKHIuRFJBV19GUkFNRUJVRkZFUixzLl9mcmFtZWJ1ZmZlciksci5ibGl0RnJhbWVidWZmZXIoMCwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLGUud2lkdGgsZS5oZWlnaHQsci5DT0xPUl9CVUZGRVJfQklULHIuTkVBUkVTVCl9KChuPWUudGV4dHVyZSk9PW51bGw/dm9pZCAwOm4uZ2VuZXJhdGVNaXBNYXBzKSYmIXQmJiFlLmlzQ3ViZSYmdGhpcy5nZW5lcmF0ZU1pcG1hcHMoZS50ZXh0dXJlKSxpJiYocy5fTVNBQUZyYW1lYnVmZmVyJiZ0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHMuX2ZyYW1lYnVmZmVyKSxpKCkpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9Zmx1c2hGcmFtZWJ1ZmZlcigpe3RoaXMuX2dsLmZsdXNoKCl9cmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpe3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0KTp0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZpZXdwb3J0JiZ0aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0KSx0aGlzLndpcGVDYWNoZXMoKX1fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCl7dGhpcy5iaW5kQXJyYXlCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsfWNyZWF0ZVZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuU1RBVElDX0RSQVcpfV9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJ0ZXggYnVmZmVyIik7Y29uc3Qgcz1uZXcgQWkoaSk7cmV0dXJuIHRoaXMuYmluZEFycmF5QnVmZmVyKHMpLGUgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGUpLHQpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdCksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCkscy5yZWZlcmVuY2VzPTEsc31jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLl9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpfV9yZXNldEluZGV4QnVmZmVyQmluZGluZygpe3RoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGx9Y3JlYXRlSW5kZXhCdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpLHM9bmV3IEFpKGkpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbmRleCBidWZmZXIiKTt0aGlzLmJpbmRJbmRleEJ1ZmZlcihzKTtjb25zdCByPXRoaXMuX25vcm1hbGl6ZUluZGV4RGF0YShlKTtyZXR1cm4gdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixyLHQ/dGhpcy5fZ2wuRFlOQU1JQ19EUkFXOnRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpLHMucmVmZXJlbmNlcz0xLHMuaXMzMkJpdHM9ci5CWVRFU19QRVJfRUxFTUVOVD09PTQsc31fbm9ybWFsaXplSW5kZXhEYXRhKGUpe2lmKGUuQllURVNfUEVSX0VMRU1FTlQ9PT0yKXJldHVybiBlO2lmKHRoaXMuX2NhcHMudWludEluZGljZXMpe2lmKGUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gZTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldPj02NTUzNSlyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO3JldHVybiBuZXcgVWludDE2QXJyYXkoZSl9cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX1iaW5kQXJyYXlCdWZmZXIoZSl7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuQVJSQVlfQlVGRkVSKX1iaW5kVW5pZm9ybUJsb2NrKGUsdCxpKXtjb25zdCBzPWUucHJvZ3JhbSxyPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KHMsdCk7dGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhzLHIsaSl9YmluZEluZGV4QnVmZmVyKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKX1fYmluZEJ1ZmZlcihlLHQpeyh0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF0hPT1lKSYmKHRoaXMuX2dsLmJpbmRCdWZmZXIodCxlP2UudW5kZXJseWluZ1Jlc291cmNlOm51bGwpLHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XT1lKX11cGRhdGVBcnJheUJ1ZmZlcihlKXt0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpfV92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsdCxpLHMscixuLGEpe2NvbnN0IG89dGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3RdO2lmKCFvKXJldHVybjtsZXQgaD0hMTtvLmFjdGl2ZT8oby5idWZmZXIhPT1lJiYoby5idWZmZXI9ZSxoPSEwKSxvLnNpemUhPT1pJiYoby5zaXplPWksaD0hMCksby50eXBlIT09cyYmKG8udHlwZT1zLGg9ITApLG8ubm9ybWFsaXplZCE9PXImJihvLm5vcm1hbGl6ZWQ9cixoPSEwKSxvLnN0cmlkZSE9PW4mJihvLnN0cmlkZT1uLGg9ITApLG8ub2Zmc2V0IT09YSYmKG8ub2Zmc2V0PWEsaD0hMCkpOihoPSEwLG8uYWN0aXZlPSEwLG8uaW5kZXg9dCxvLnNpemU9aSxvLnR5cGU9cyxvLm5vcm1hbGl6ZWQ9cixvLnN0cmlkZT1uLG8ub2Zmc2V0PWEsby5idWZmZXI9ZSksKGh8fHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3MpJiYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSkscz09PXRoaXMuX2dsLlVOU0lHTkVEX0lOVHx8cz09PXRoaXMuX2dsLklOVD90aGlzLl9nbC52ZXJ0ZXhBdHRyaWJJUG9pbnRlcih0LGkscyxuLGEpOnRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodCxpLHMscixuLGEpKX1fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKGUpe2UhPW51bGwmJnRoaXMuX2NhY2hlZEluZGV4QnVmZmVyIT09ZSYmKHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPWUsdGhpcy5iaW5kSW5kZXhCdWZmZXIoZSksdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ZS5pczMyQml0cyl9X2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHQsaSl7Y29uc3Qgcz10LmdldEF0dHJpYnV0ZXNOYW1lcygpO3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKGxldCByPTA7cjxzLmxlbmd0aDtyKyspe2NvbnN0IG49dC5nZXRBdHRyaWJ1dGVMb2NhdGlvbihyKTtpZihuPj0wKXtjb25zdCBhPXNbcl07bGV0IG89bnVsbDtpZihpJiYobz1pW2FdKSxvfHwobz1lW2FdKSwhbyljb250aW51ZTt0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuXT0hMCk7Y29uc3QgaD1vLmdldEJ1ZmZlcigpO2gmJih0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsbixvLmdldFNpemUoKSxvLnR5cGUsby5ub3JtYWxpemVkLG8uYnl0ZVN0cmlkZSxvLmJ5dGVPZmZzZXQpLG8uZ2V0SXNJbnN0YW5jZWQoKSYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IobixvLmdldEluc3RhbmNlRGl2aXNvcigpKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gobiksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGgpKSkpfX19cmVjb3JkVmVydGV4QXJyYXlPYmplY3QoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBWQU8iKTtyZXR1cm4gdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkociksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLGkscyksdGhpcy5iaW5kSW5kZXhCdWZmZXIodCksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkscn1iaW5kVmVydGV4QXJyYXlPYmplY3QoZSx0KXt0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdCE9PWUmJih0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdD1lLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShlKSx0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD10IT1udWxsJiZ0LmlzMzJCaXRzLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCl9YmluZEJ1ZmZlcnNEaXJlY3RseShlLHQsaSxzLHIpe2lmKHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09cil7dGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9cjtjb25zdCBuPXIuZ2V0QXR0cmlidXRlc0NvdW50KCk7dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtsZXQgYT0wO2ZvcihsZXQgbz0wO288bjtvKyspaWYobzxpLmxlbmd0aCl7Y29uc3QgaD1yLmdldEF0dHJpYnV0ZUxvY2F0aW9uKG8pO2g+PTAmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2hdPSEwLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxoLGlbb10sdGhpcy5fZ2wuRkxPQVQsITEscyxhKSksYSs9aVtvXSo0fX10aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9X3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCl7IXRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0fHwodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkpfWJpbmRCdWZmZXJzKGUsdCxpLHMpeyh0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PWkpJiYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9aSx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpKSx0aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9dW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl7bGV0IGU7Zm9yKGxldCB0PTAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1zJiZzLnJlZmVyZW5jZXMmJihlPXMsdGhpcy5iaW5kQXJyYXlCdWZmZXIocykpO2NvbnN0IHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zW3RdO3RoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IociwwKX10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg9MH1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSl7dGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSl9X3JlbGVhc2VCdWZmZXIoZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9X2RlbGV0ZUJ1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZS51bmRlcmx5aW5nUmVzb3VyY2UpfXVwZGF0ZUFuZEJpbmRJbnN0YW5jZXNCdWZmZXIoZSx0LGkpe2lmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHQmJnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsdCksaVswXS5pbmRleCE9PXZvaWQgMCl0aGlzLmJpbmRJbnN0YW5jZXNCdWZmZXIoZSxpLCEwKTtlbHNlIGZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IHI9aVtzXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3JdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkociksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtyXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLHIsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxzKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gociksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX1iaW5kSW5zdGFuY2VzQnVmZmVyKGUsdCxpPSEwKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKTtsZXQgcz0wO2lmKGkpZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspcys9dFtyXS5hdHRyaWJ1dGVTaXplKjQ7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtuLmluZGV4PT09dm9pZCAwJiYobi5pbmRleD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKG4uYXR0cmlidXRlTmFtZSkpLCEobi5pbmRleDwwKSYmKHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbi5pbmRleF18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuLmluZGV4KSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW24uaW5kZXhdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsbi5pbmRleCxuLmF0dHJpYnV0ZVNpemUsbi5hdHRyaWJ1dGVUeXBlfHx0aGlzLl9nbC5GTE9BVCxuLm5vcm1hbGl6ZWR8fCExLHMsbi5vZmZzZXQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3Iobi5pbmRleCxuLmRpdmlzb3I9PT12b2lkIDA/MTpuLmRpdmlzb3IpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKG4uaW5kZXgpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKSl9fWRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZUJ5TmFtZShlKXtpZighdGhpcy5fY3VycmVudEVmZmVjdClyZXR1cm47Y29uc3QgdD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpO3RoaXMuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKHQpfWRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZShlKXtsZXQgdD0hMSxpO2Zvcig7KGk9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSkpIT09LTE7KXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5zcGxpY2UoaSwxKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnNwbGljZShpLDEpLHQ9ITAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKTt0JiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihlLDApLHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSkpfWRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpe3RoaXMuX2dsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdPSExLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1tlXS5hY3RpdmU9ITF9ZHJhdyhlLHQsaSxzKXt0aGlzLmRyYXdFbGVtZW50c1R5cGUoZT8wOjEsdCxpLHMpfWRyYXdQb2ludENsb3VkcyhlLHQsaSl7dGhpcy5kcmF3QXJyYXlzVHlwZSgyLGUsdCxpKX1kcmF3VW5JbmRleGVkKGUsdCxpLHMpe3RoaXMuZHJhd0FycmF5c1R5cGUoZT8wOjEsdCxpLHMpfWRyYXdFbGVtZW50c1R5cGUoZSx0LGkscyl7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7Y29uc3Qgcj10aGlzLl9kcmF3TW9kZShlKSxuPXRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0P3RoaXMuX2dsLlVOU0lHTkVEX0lOVDp0aGlzLl9nbC5VTlNJR05FRF9TSE9SVCxhPXRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PzQ6MjtzP3RoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZChyLGksbix0KmEscyk6dGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHIsaSxuLHQqYSl9ZHJhd0FycmF5c1R5cGUoZSx0LGkscyl7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7Y29uc3Qgcj10aGlzLl9kcmF3TW9kZShlKTtzP3RoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQocix0LGkscyk6dGhpcy5fZ2wuZHJhd0FycmF5cyhyLHQsaSl9X2RyYXdNb2RlKGUpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFUztjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5MSU5FX0xPT1A7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5MSU5FX1NUUklQO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfU1RSSVA7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9GQU47ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTfX1fcmVwb3J0RHJhd0NhbGwoKXt9X3JlbGVhc2VFZmZlY3QoZSl7aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV0pe2RlbGV0ZSB0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XTtjb25zdCB0PWUuZ2V0UGlwZWxpbmVDb250ZXh0KCk7dCYmdGhpcy5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KHQpfX1fZGVsZXRlUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9ZTt0JiZ0LnByb2dyYW0mJih0LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPW51bGwsdGhpcy5fZ2wuZGVsZXRlUHJvZ3JhbSh0LnByb2dyYW0pKX1fZ2V0R2xvYmFsRGVmaW5lcyhlKXtpZihlKXt0aGlzLmlzTkRDSGFsZlpSYW5nZT9lLklTX05EQ19IQUxGX1pSQU5HRT0iIjpkZWxldGUgZS5JU19ORENfSEFMRl9aUkFOR0UsdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/ZS5VU0VfUkVWRVJTRV9ERVBUSEJVRkZFUj0iIjpkZWxldGUgZS5VU0VfUkVWRVJTRV9ERVBUSEJVRkZFUix0aGlzLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zP2UuVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlM9IiI6ZGVsZXRlIGUuVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlM7cmV0dXJufWVsc2V7bGV0IHQ9IiI7cmV0dXJuIHRoaXMuaXNORENIYWxmWlJhbmdlJiYodCs9IiNkZWZpbmUgSVNfTkRDX0hBTEZfWlJBTkdFIiksdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUiIpLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnMmJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUyIpLHR9fWNyZWF0ZUVmZmVjdChlLHQsaSxzLHIsbixhLG8saCxsPXFlLkdMU0wpe3ZhciBUO2NvbnN0IHU9ZS52ZXJ0ZXhFbGVtZW50fHxlLnZlcnRleHx8ZS52ZXJ0ZXhUb2tlbnx8ZS52ZXJ0ZXhTb3VyY2V8fGUsZj1lLmZyYWdtZW50RWxlbWVudHx8ZS5mcmFnbWVudHx8ZS5mcmFnbWVudFRva2VufHxlLmZyYWdtZW50U291cmNlfHxlLGQ9dGhpcy5fZ2V0R2xvYmFsRGVmaW5lcygpO2xldCBfPShUPXIhPW51bGw/cjp0LmRlZmluZXMpIT1udWxsP1Q6IiI7ZCYmKF8rPWQpO2NvbnN0IEU9dSsiKyIrZisiQCIrXztpZih0aGlzLl9jb21waWxlZEVmZmVjdHNbRV0pe2NvbnN0IGI9dGhpcy5fY29tcGlsZWRFZmZlY3RzW0VdO3JldHVybiBhJiZiLmlzUmVhZHkoKSYmYShiKSxifWNvbnN0IG09bmV3IEZlKGUsdCxpLHMsdGhpcyxyLG4sYSxvLGgsRSxsKTtyZXR1cm4gdGhpcy5fY29tcGlsZWRFZmZlY3RzW0VdPW0sbX1zdGF0aWMgX0NvbmNhdGVuYXRlU2hhZGVyKGUsdCxpPSIiKXtyZXR1cm4gaSsodD90K2AKYDoiIikrZX1fY29tcGlsZVNoYWRlcihlLHQsaSxzKXtyZXR1cm4gdGhpcy5fY29tcGlsZVJhd1NoYWRlcihsZS5fQ29uY2F0ZW5hdGVTaGFkZXIoZSxpLHMpLHQpfV9jb21waWxlUmF3U2hhZGVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbCxzPWkuY3JlYXRlU2hhZGVyKHQ9PT0idmVydGV4Ij9pLlZFUlRFWF9TSEFERVI6aS5GUkFHTUVOVF9TSEFERVIpO2lmKCFzKXtsZXQgcj1pLk5PX0VSUk9SLG49aS5OT19FUlJPUjtmb3IoOyhuPWkuZ2V0RXJyb3IoKSkhPT1pLk5PX0VSUk9SOylyPW47dGhyb3cgbmV3IEVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBjcmVhdGluZyBhIGdsICR7dH0gc2hhZGVyIG9iamVjdC4gZ2wgZXJyb3I9JHtyfSwgZ2wgaXNDb250ZXh0TG9zdD0ke2kuaXNDb250ZXh0TG9zdCgpfSwgX2NvbnRleHRXYXNMb3N0PSR7dGhpcy5fY29udGV4dFdhc0xvc3R9YCl9cmV0dXJuIGkuc2hhZGVyU291cmNlKHMsZSksaS5jb21waWxlU2hhZGVyKHMpLHN9X2dldFNoYWRlclNvdXJjZShlKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKGUpfWNyZWF0ZVJhd1NoYWRlclByb2dyYW0oZSx0LGkscyxyPW51bGwpe3M9c3x8dGhpcy5fZ2w7Y29uc3Qgbj10aGlzLl9jb21waWxlUmF3U2hhZGVyKHQsInZlcnRleCIpLGE9dGhpcy5fY29tcGlsZVJhd1NoYWRlcihpLCJmcmFnbWVudCIpO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsbixhLHMscil9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsO2NvbnN0IGE9dGhpcy5fd2ViR0xWZXJzaW9uPjE/YCN2ZXJzaW9uIDMwMCBlcwojZGVmaW5lIFdFQkdMMiAKYDoiIixvPXRoaXMuX2NvbXBpbGVTaGFkZXIodCwidmVydGV4IixzLGEpLGg9dGhpcy5fY29tcGlsZVNoYWRlcihpLCJmcmFnbWVudCIscyxhKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLG8saCxyLG4pfWlubGluZVNoYWRlckNvZGUoZSl7cmV0dXJuIGV9Y3JlYXRlUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9bmV3IFlyO3JldHVybiB0LmVuZ2luZT10aGlzLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYodC5pc1BhcmFsbGVsQ29tcGlsZWQ9ITApLHR9Y3JlYXRlTWF0ZXJpYWxDb250ZXh0KCl7fWNyZWF0ZURyYXdDb250ZXh0KCl7fV9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtjb25zdCBuPXMuY3JlYXRlUHJvZ3JhbSgpO2lmKGUucHJvZ3JhbT1uLCFuKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBwcm9ncmFtIik7cmV0dXJuIHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSxzLmxpbmtQcm9ncmFtKG4pLGUuY29udGV4dD1zLGUudmVydGV4U2hhZGVyPXQsZS5mcmFnbWVudFNoYWRlcj1pLGUuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKSxufV9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWUuY29udGV4dCxpPWUudmVydGV4U2hhZGVyLHM9ZS5mcmFnbWVudFNoYWRlcixyPWUucHJvZ3JhbTtpZighdC5nZXRQcm9ncmFtUGFyYW1ldGVyKHIsdC5MSU5LX1NUQVRVUykpe2lmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoaSx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe2NvbnN0IG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhpKTtpZihvKXRocm93IGUudmVydGV4Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiVkVSVEVYIFNIQURFUiAiK28pfWlmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIocyx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe2NvbnN0IG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhzKTtpZihvKXRocm93IGUuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJGUkFHTUVOVCBTSEFERVIgIitvKX1jb25zdCBhPXQuZ2V0UHJvZ3JhbUluZm9Mb2cocik7aWYoYSl0aHJvdyBlLnByb2dyYW1MaW5rRXJyb3I9YSxuZXcgRXJyb3IoYSl9aWYodGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zJiYodC52YWxpZGF0ZVByb2dyYW0ociksIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihyLHQuVkFMSURBVEVfU1RBVFVTKSkpe2NvbnN0IG89dC5nZXRQcm9ncmFtSW5mb0xvZyhyKTtpZihvKXRocm93IGUucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1vLG5ldyBFcnJvcihvKX10LmRlbGV0ZVNoYWRlcihpKSx0LmRlbGV0ZVNoYWRlcihzKSxlLnZlcnRleFNoYWRlcj12b2lkIDAsZS5mcmFnbWVudFNoYWRlcj12b2lkIDAsZS5vbkNvbXBpbGVkJiYoZS5vbkNvbXBpbGVkKCksZS5vbkNvbXBpbGVkPXZvaWQgMCl9X3ByZXBhcmVQaXBlbGluZUNvbnRleHQoZSx0LGkscyxyLG4sYSxvLGgsbCl7Y29uc3QgdT1lO3M/dS5wcm9ncmFtPXRoaXMuY3JlYXRlUmF3U2hhZGVyUHJvZ3JhbSh1LHQsaSx2b2lkIDAsaCk6dS5wcm9ncmFtPXRoaXMuY3JlYXRlU2hhZGVyUHJvZ3JhbSh1LHQsaSxvLHZvaWQgMCxoKSx1LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPWF9X2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZChlKXtjb25zdCB0PWU7cmV0dXJuIHRoaXMuX2dsLmdldFByb2dyYW1QYXJhbWV0ZXIodC5wcm9ncmFtLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlLkNPTVBMRVRJT05fU1RBVFVTX0tIUik/KHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KHQpLCEwKTohMX1fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQoZSx0KXtjb25zdCBpPWU7aWYoIWkuaXNQYXJhbGxlbENvbXBpbGVkKXt0KCk7cmV0dXJufWNvbnN0IHM9aS5vbkNvbXBpbGVkO3M/aS5vbkNvbXBpbGVkPSgpPT57cygpLHQoKX06aS5vbkNvbXBpbGVkPXR9Z2V0VW5pZm9ybXMoZSx0KXtjb25zdCBpPW5ldyBBcnJheSxzPWU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaS5wdXNoKHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbihzLnByb2dyYW0sdFtyXSkpO3JldHVybiBpfWdldEF0dHJpYnV0ZXMoZSx0KXtjb25zdCBpPVtdLHM9ZTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl0cnl7aS5wdXNoKHRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHMucHJvZ3JhbSx0W3JdKSl9Y2F0Y2h7aS5wdXNoKC0xKX1yZXR1cm4gaX1lbmFibGVFZmZlY3QoZSl7ZT1lIT09bnVsbCYmUmkuSXNXcmFwcGVyKGUpP2UuZWZmZWN0OmUsISghZXx8ZT09PXRoaXMuX2N1cnJlbnRFZmZlY3QpJiYodGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCxlPWUsdGhpcy5iaW5kU2FtcGxlcnMoZSksdGhpcy5fY3VycmVudEVmZmVjdD1lLGUub25CaW5kJiZlLm9uQmluZChlKSxlLl9vbkJpbmRPYnNlcnZhYmxlJiZlLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9c2V0SW50KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xaShlLHQpLCEwKTohMX1zZXRJbnQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJpKGUsdCxpKSwhMCk6ITF9c2V0SW50MyhlLHQsaSxzKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNpKGUsdCxpLHMpLCEwKTohMX1zZXRJbnQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00aShlLHQsaSxzLHIpLCEwKTohMX1zZXRJbnRBcnJheShlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWl2KGUsdCksITApOiExfXNldEludEFycmF5MihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJpdihlLHQpLCEwKX1zZXRJbnRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zaXYoZSx0KSwhMCl9c2V0SW50QXJyYXk0KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGl2KGUsdCksITApfXNldEFycmF5KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoPDE/ITE6KHRoaXMuX2dsLnVuaWZvcm0xZnYoZSx0KSwhMCl9c2V0QXJyYXkyKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMmZ2KGUsdCksITApfXNldEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNmdihlLHQpLCEwKX1zZXRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00ZnYoZSx0KSwhMCl9c2V0TWF0cmljZXMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDRmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgzeDMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgyeDIoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDJmdihlLCExLHQpLCEwKTohMX1zZXRGbG9hdChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWYoZSx0KSwhMCk6ITF9c2V0RmxvYXQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJmKGUsdCxpKSwhMCk6ITF9c2V0RmxvYXQzKGUsdCxpLHMpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2YoZSx0LGkscyksITApOiExfXNldEZsb2F0NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGYoZSx0LGkscyxyKSwhMCk6ITF9YXBwbHlTdGF0ZXMoKXtpZih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2FscGhhU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkKXt0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMTtjb25zdCBlPXRoaXMuX2NvbG9yV3JpdGU7dGhpcy5fZ2wuY29sb3JNYXNrKGUsZSxlLGUpfX1zZXRDb2xvcldyaXRlKGUpe2UhPT10aGlzLl9jb2xvcldyaXRlJiYodGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fY29sb3JXcml0ZT1lKX1nZXRDb2xvcldyaXRlKCl7cmV0dXJuIHRoaXMuX2NvbG9yV3JpdGV9Z2V0IGRlcHRoQ3VsbGluZ1N0YXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlfWdldCBhbHBoYVN0YXRlKCl7cmV0dXJuIHRoaXMuX2FscGhhU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZSgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZUNvbXBvc2VyKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyfWNsZWFySW50ZXJuYWxUZXh0dXJlc0NhY2hlKCl7dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmxlbmd0aD0wfXdpcGVDYWNoZXMoZSl7dGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcyYmIWV8fCh0aGlzLl9jdXJyZW50RWZmZWN0PW51bGwsdGhpcy5fdmlld3BvcnRDYWNoZWQueD0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9MCx0aGlzLl92aWV3cG9ydENhY2hlZC56PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQudz0wLHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksZSYmKHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5yZXNldFRleHR1cmVDYWNoZSgpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2FscGhhU3RhdGUucmVzZXQoKSx0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLDApLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCkpfV9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2dsO2xldCBzPWkuTkVBUkVTVCxyPWkuTkVBUkVTVDtzd2l0Y2goZSl7Y2FzZSAxMTpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDpyPWkuTElORUFSO2JyZWFrO2Nhc2UgMzpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA4OnM9aS5ORUFSRVNULHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDQ6cz1pLk5FQVJFU1QsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyPWkuTkVBUkVTVDticmVhaztjYXNlIDU6cz1pLk5FQVJFU1QsdD9yPWkuTElORUFSX01JUE1BUF9ORUFSRVNUOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA2OnM9aS5ORUFSRVNULHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA3OnM9aS5ORUFSRVNULHI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAxOnM9aS5ORUFSRVNULHI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgOTpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSAxMDpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDI6cz1pLkxJTkVBUixyPWkuTElORUFSO2JyZWFrO2Nhc2UgMTI6cz1pLkxJTkVBUixyPWkuTkVBUkVTVDticmVha31yZXR1cm57bWluOnIsbWFnOnN9fV9jcmVhdGVUZXh0dXJlKCl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRleHR1cmUiKTtyZXR1cm4gZX1fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCl7cmV0dXJuIG5ldyBacyh0aGlzLl9jcmVhdGVUZXh0dXJlKCksdGhpcy5fZ2wpfV9jcmVhdGVJbnRlcm5hbFRleHR1cmUoZSx0LGk9ITAscz1CZS5Vbmtub3duKXtjb25zdCByPXt9O3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8oci5nZW5lcmF0ZU1pcE1hcHM9dC5nZW5lcmF0ZU1pcE1hcHMsci50eXBlPXQudHlwZT09PXZvaWQgMD8wOnQudHlwZSxyLnNhbXBsaW5nTW9kZT10LnNhbXBsaW5nTW9kZT09PXZvaWQgMD8zOnQuc2FtcGxpbmdNb2RlLHIuZm9ybWF0PXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsci51c2VTUkdCQnVmZmVyPXQudXNlU1JHQkJ1ZmZlcj09PXZvaWQgMD8hMTp0LnVzZVNSR0JCdWZmZXIpOihyLmdlbmVyYXRlTWlwTWFwcz10LHIudHlwZT0wLHIuc2FtcGxpbmdNb2RlPTMsci5mb3JtYXQ9NSxyLnVzZVNSR0JCdWZmZXI9ITEpLHIudXNlU1JHQkJ1ZmZlcj1yLnVzZVNSR0JCdWZmZXImJnRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYodGhpcy53ZWJHTFZlcnNpb24+MXx8dGhpcy5pc1dlYkdQVSksKHIudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8ci50eXBlPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihyLnNhbXBsaW5nTW9kZT0xKSxyLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJihyLnR5cGU9MCx3Lldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBUeXBlIGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFIikpO2NvbnN0IG49dGhpcy5fZ2wsYT1uZXcgd3QodGhpcyxzKTthLl91c2VTUkdCQnVmZmVyPSEhci51c2VTUkdCQnVmZmVyO2NvbnN0IG89ZS53aWR0aHx8ZSxoPWUuaGVpZ2h0fHxlLGw9ZS5sYXllcnN8fDAsdT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoci5zYW1wbGluZ01vZGUsISFyLmdlbmVyYXRlTWlwTWFwcyksZj1sIT09MD9uLlRFWFRVUkVfMkRfQVJSQVk6bi5URVhUVVJFXzJELGQ9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoci50eXBlLHIuZm9ybWF0LHIudXNlU1JHQkJ1ZmZlciksXz10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChyLmZvcm1hdCksRT10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKHIudHlwZSk7cmV0dXJuIHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZixhKSxsIT09MD8oYS5pczJEQXJyYXk9ITAsbi50ZXhJbWFnZTNEKGYsMCxkLG8saCxsLDAsXyxFLG51bGwpKTpuLnRleEltYWdlMkQoZiwwLGQsbyxoLDAsXyxFLG51bGwpLG4udGV4UGFyYW1ldGVyaShmLG4uVEVYVFVSRV9NQUdfRklMVEVSLHUubWFnKSxuLnRleFBhcmFtZXRlcmkoZixuLlRFWFRVUkVfTUlOX0ZJTFRFUix1Lm1pbiksbi50ZXhQYXJhbWV0ZXJpKGYsbi5URVhUVVJFX1dSQVBfUyxuLkNMQU1QX1RPX0VER0UpLG4udGV4UGFyYW1ldGVyaShmLG4uVEVYVFVSRV9XUkFQX1Qsbi5DTEFNUF9UT19FREdFKSxyLmdlbmVyYXRlTWlwTWFwcyYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoZiksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShmLG51bGwpLGEuYmFzZVdpZHRoPW8sYS5iYXNlSGVpZ2h0PWgsYS53aWR0aD1vLGEuaGVpZ2h0PWgsYS5kZXB0aD1sLGEuaXNSZWFkeT0hMCxhLnNhbXBsZXM9MSxhLmdlbmVyYXRlTWlwTWFwcz0hIXIuZ2VuZXJhdGVNaXBNYXBzLGEuc2FtcGxpbmdNb2RlPXIuc2FtcGxpbmdNb2RlLGEudHlwZT1yLnR5cGUsYS5mb3JtYXQ9ci5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2goYSksYX1fZ2V0VXNlU1JHQkJ1ZmZlcihlLHQpe3JldHVybiBlJiZ0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmKHRoaXMud2ViR0xWZXJzaW9uPjF8fHRoaXMuaXNXZWJHUFV8fHQpfV9jcmVhdGVUZXh0dXJlQmFzZShlLHQsaSxzLHI9MyxuPW51bGwsYT1udWxsLG8saCxsPW51bGwsdT1udWxsLGY9bnVsbCxkPW51bGwsXyxFLG0pe2U9ZXx8IiI7Y29uc3QgVD1lLnN1YnN0cigwLDUpPT09ImRhdGE6IixiPWUuc3Vic3RyKDAsNSk9PT0iYmxvYjoiLFI9VCYmZS5pbmRleE9mKCI7YmFzZTY0LCIpIT09LTEseT11fHxuZXcgd3QodGhpcyxCZS5VcmwpLEQ9ZTt0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsJiYhUiYmIXUmJiFsJiYoZT10aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsKGUpKSxEIT09ZSYmKHkuX29yaWdpbmFsVXJsPUQpO2NvbnN0IHY9ZS5sYXN0SW5kZXhPZigiLiIpO2xldCBBPWR8fCh2Pi0xP2Uuc3Vic3RyaW5nKHYpLnRvTG93ZXJDYXNlKCk6IiIpLEw9bnVsbDtBLmluZGV4T2YoIj8iKT4tMSYmKEE9QS5zcGxpdCgiPyIpWzBdKTtmb3IoY29uc3QgZmUgb2YgbGUuX1RleHR1cmVMb2FkZXJzKWlmKGZlLmNhbkxvYWQoQSxfKSl7TD1mZTticmVha31zJiZzLmFkZFBlbmRpbmdEYXRhKHkpLHkudXJsPWUseS5nZW5lcmF0ZU1pcE1hcHM9IXQseS5zYW1wbGluZ01vZGU9cix5LmludmVydFk9aSx5Ll91c2VTUkdCQnVmZmVyPXRoaXMuX2dldFVzZVNSR0JCdWZmZXIoISFtLHQpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh5Ll9idWZmZXI9bCk7bGV0IGhlPW51bGw7biYmIXUmJihoZT15Lm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQobikpLHV8fHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKHkpO2NvbnN0IHhlPShmZSx1ZSk9PntzJiZzLnJlbW92ZVBlbmRpbmdEYXRhKHkpLGU9PT1EPyhoZSYmeS5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKGhlKSxkZS5Vc2VGYWxsYmFja1RleHR1cmUmJnRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGRlLkZhbGxiYWNrVGV4dHVyZSx0LHkuaW52ZXJ0WSxzLHIsbnVsbCxhLG8saCxsLHkpLGZlPShmZXx8IlVua25vd24gZXJyb3IiKSsoZGUuVXNlRmFsbGJhY2tUZXh0dXJlPyIgLSBGYWxsYmFjayB0ZXh0dXJlIHdhcyB1c2VkIjoiIikseS5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe21lc3NhZ2U6ZmUsZXhjZXB0aW9uOnVlfSksYSYmYShmZSx1ZSkpOih3Lldhcm4oYEZhaWxlZCB0byBsb2FkICR7ZX0sIGZhbGxpbmcgYmFjayB0byAke0R9YCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoRCx0LHkuaW52ZXJ0WSxzLHIsbixhLG8saCxsLHksZixkLF8sRSxtKSl9O2lmKEwpe2NvbnN0IGZlPXVlPT57TC5sb2FkRGF0YSh1ZSx5LChzZSxQZSxEZSxaZSxIZSxLZSk9PntLZT94ZSgiVGV4dHVyZUxvYWRlciBmYWlsZWQgdG8gbG9hZCBkYXRhIik6byh5LEEscyx7d2lkdGg6c2UsaGVpZ2h0OlBlfSx5LmludmVydFksIURlLFplLCgpPT4oSGUoKSwhMSkscil9LEUpfTtsP2wgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9mZShuZXcgVWludDhBcnJheShsKSk6QXJyYXlCdWZmZXIuaXNWaWV3KGwpP2ZlKGwpOmEmJmEoIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsdWU9PmZlKG5ldyBVaW50OEFycmF5KHVlKSksdm9pZCAwLHM/cy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLCEwLCh1ZSxzZSk9Pnt4ZSgiVW5hYmxlIHRvIGxvYWQgIisodWUmJnVlLnJlc3BvbnNlVVJMLHNlKSl9KX1lbHNle2NvbnN0IGZlPXVlPT57YiYmIXRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3QmJih5Ll9idWZmZXI9dWUpLG8oeSxBLHMsdWUseS5pbnZlcnRZLHQsITEsaCxyKX07IVR8fFI/bCYmKHR5cGVvZiBsLmRlY29kaW5nPT0ic3RyaW5nInx8bC5jbG9zZSk/ZmUobCk6bGUuX0ZpbGVUb29sc0xvYWRJbWFnZShlLGZlLHhlLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxfLHkuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTp0eXBlb2YgbD09InN0cmluZyJ8fGwgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGwpfHxsIGluc3RhbmNlb2YgQmxvYj9sZS5fRmlsZVRvb2xzTG9hZEltYWdlKGwsZmUseGUscz9zLm9mZmxpbmVQcm92aWRlcjpudWxsLF8seS5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOmwmJmZlKGwpfXJldHVybiB5fWNyZWF0ZVRleHR1cmUoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCx1PW51bGwsZixkLF8sRSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscixuLGEsdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZS5iaW5kKHRoaXMpLChtLFQsYixSLHksRCk9Pntjb25zdCB2PXRoaXMuX2dsLEE9Yi53aWR0aD09PW0mJmIuaGVpZ2h0PT09VCxMPWw/dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQobCx5Ll91c2VTUkdCQnVmZmVyKTpSPT09Ii5qcGciJiYheS5fdXNlU1JHQkJ1ZmZlcj92LlJHQjp5Ll91c2VTUkdCQnVmZmVyP3YuU1JHQjhfQUxQSEE4OnYuUkdCQTtsZXQgSj1sP3RoaXMuX2dldEludGVybmFsRm9ybWF0KGwpOlI9PT0iLmpwZyImJiF5Ll91c2VTUkdCQnVmZmVyP3YuUkdCOnYuUkdCQTtpZih5Ll91c2VTUkdCQnVmZmVyJiZ0aGlzLndlYkdMVmVyc2lvbj09PTEmJihKPUwpLEEpcmV0dXJuIHYudGV4SW1hZ2UyRCh2LlRFWFRVUkVfMkQsMCxMLEosdi5VTlNJR05FRF9CWVRFLGIpLCExO2NvbnN0IGhlPXRoaXMuX2NhcHMubWF4VGV4dHVyZVNpemU7aWYoYi53aWR0aD5oZXx8Yi5oZWlnaHQ+aGV8fCF0aGlzLl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZylyZXR1cm4gdGhpcy5fcHJlcGFyZVdvcmtpbmdDYW52YXMoKSwhdGhpcy5fd29ya2luZ0NhbnZhc3x8IXRoaXMuX3dvcmtpbmdDb250ZXh0fHwodGhpcy5fd29ya2luZ0NhbnZhcy53aWR0aD1tLHRoaXMuX3dvcmtpbmdDYW52YXMuaGVpZ2h0PVQsdGhpcy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKGIsMCwwLGIud2lkdGgsYi5oZWlnaHQsMCwwLG0sVCksdi50ZXhJbWFnZTJEKHYuVEVYVFVSRV8yRCwwLEwsSix2LlVOU0lHTkVEX0JZVEUsdGhpcy5fd29ya2luZ0NhbnZhcykseS53aWR0aD1tLHkuaGVpZ2h0PVQpLCExO3tjb25zdCB4ZT1uZXcgd3QodGhpcyxCZS5UZW1wKTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHYuVEVYVFVSRV8yRCx4ZSwhMCksdi50ZXhJbWFnZTJEKHYuVEVYVFVSRV8yRCwwLEwsSix2LlVOU0lHTkVEX0JZVEUsYiksdGhpcy5fcmVzY2FsZVRleHR1cmUoeGUseSxzLEwsKCk9Pnt0aGlzLl9yZWxlYXNlVGV4dHVyZSh4ZSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh2LlRFWFRVUkVfMkQseSwhMCksRCgpfSl9cmV0dXJuITB9LG8saCxsLHUsZixkLEUpfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEltYWdlKGUsdCxpLHMscixuKXt0aHJvdyBxKCJGaWxlVG9vbHMiKX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt9Y3JlYXRlUmF3VGV4dHVyZShlLHQsaSxzLHIsbixhLG89bnVsbCxoPTAsbD0wLHU9ITEpe3Rocm93IHEoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3Q3ViZVRleHR1cmUoZSx0LGkscyxyLG4sYSxvPW51bGwpe3Rocm93IHEoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3VGV4dHVyZTNEKGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyBxKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd1RleHR1cmUyREFycmF5KGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyBxKCJFbmdpbmUuUmF3VGV4dHVyZSIpfV91bnBhY2tGbGlwWShlKXt0aGlzLl91bnBhY2tGbGlwWUNhY2hlZCE9PWUmJih0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGU/MTowKSx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkJiYodGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9ZSkpfV9nZXRVbnBhY2tBbGlnbmVtZW50KCl7cmV0dXJuIHRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5VTlBBQ0tfQUxJR05NRU5UKX1fZ2V0VGV4dHVyZVRhcmdldChlKXtyZXR1cm4gZS5pc0N1YmU/dGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUDplLmlzM0Q/dGhpcy5fZ2wuVEVYVFVSRV8zRDplLmlzMkRBcnJheXx8ZS5pc011bHRpdmlldz90aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZOnRoaXMuX2dsLlRFWFRVUkVfMkR9dXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHQsaT0hMSl7Y29uc3Qgcz10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpLHI9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUsdC5nZW5lcmF0ZU1pcE1hcHN8fGkpO3RoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHMsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHIubWFnLHQpLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHMsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHIubWluKSxpJiYodC5nZW5lcmF0ZU1pcE1hcHM9ITAsdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAocykpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocyxudWxsKSx0LnNhbXBsaW5nTW9kZT1lfXVwZGF0ZVRleHR1cmVEaW1lbnNpb25zKGUsdCxpLHM9MSl7fXVwZGF0ZVRleHR1cmVXcmFwcGluZ01vZGUoZSx0LGk9bnVsbCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKTt0IT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQpLGUpLGUuX2NhY2hlZFdyYXBVPXQpLGkhPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIocix0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUoaSksZSksZS5fY2FjaGVkV3JhcFY9aSksKGUuaXMyREFycmF5fHxlLmlzM0QpJiZzIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHMpLGUpLGUuX2NhY2hlZFdyYXBSPXMpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixudWxsKX1fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMscixuPTEpe2NvbnN0IGE9dC53aWR0aHx8dCxvPXQuaGVpZ2h0fHx0LGg9dC5sYXllcnN8fDA7ZS5iYXNlV2lkdGg9YSxlLmJhc2VIZWlnaHQ9byxlLndpZHRoPWEsZS5oZWlnaHQ9byxlLmlzMkRBcnJheT1oPjAsZS5kZXB0aD1oLGUuaXNSZWFkeT0hMCxlLnNhbXBsZXM9bixlLmdlbmVyYXRlTWlwTWFwcz0hMSxlLnNhbXBsaW5nTW9kZT1zPzI6MSxlLnR5cGU9MCxlLl9jb21wYXJpc29uRnVuY3Rpb249cjtjb25zdCBsPXRoaXMuX2dsLHU9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKSxmPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLnNhbXBsaW5nTW9kZSwhMSk7bC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX01BR19GSUxURVIsZi5tYWcpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NSU5fRklMVEVSLGYubWluKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfV1JBUF9TLGwuQ0xBTVBfVE9fRURHRSksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfVCxsLkNMQU1QX1RPX0VER0UpLHRoaXMud2ViR0xWZXJzaW9uPjEmJihyPT09MD8obC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5OT05FKSk6KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsciksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX0NPTVBBUkVfTU9ERSxsLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSl9X3VwbG9hZENvbXByZXNzZWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyxyLG49MCxhPTApe2NvbnN0IG89dGhpcy5fZ2w7bGV0IGg9by5URVhUVVJFXzJEO2lmKGUuaXNDdWJlJiYoaD1vLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtuKSxlLl91c2VTUkdCQnVmZmVyKXN3aXRjaCh0KXtjYXNlIDM3NDkyOmNhc2UgMzYxOTY6dGhpcy5fY2Fwcy5ldGMyP3Q9by5DT01QUkVTU0VEX1NSR0I4X0VUQzI6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM3NDk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUM6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM2NDkyOnQ9by5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ7YnJlYWs7Y2FzZSAzNzgwODp0PW8uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSO2JyZWFrO2Nhc2UgMzM3NzY6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3Nzp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDMzNzc5OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2RlZmF1bHQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVha310aGlzLl9nbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChoLGEsdCxpLHMsMCxyKX1fdXBsb2FkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpPTAscz0wLHIsbj0hMSl7Y29uc3QgYT10aGlzLl9nbCxvPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxoPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxsPXI9PT12b2lkIDA/dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZS50eXBlLGUuZm9ybWF0LGUuX3VzZVNSR0JCdWZmZXIpOnRoaXMuX2dldEludGVybmFsRm9ybWF0KHIsZS5fdXNlU1JHQkJ1ZmZlcik7dGhpcy5fdW5wYWNrRmxpcFkoZS5pbnZlcnRZKTtsZXQgdT1hLlRFWFRVUkVfMkQ7ZS5pc0N1YmUmJih1PWEuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2kpO2NvbnN0IGY9TWF0aC5yb3VuZChNYXRoLmxvZyhlLndpZHRoKSpNYXRoLkxPRzJFKSxkPU1hdGgucm91bmQoTWF0aC5sb2coZS5oZWlnaHQpKk1hdGguTE9HMkUpLF89bj9lLndpZHRoOk1hdGgucG93KDIsTWF0aC5tYXgoZi1zLDApKSxFPW4/ZS5oZWlnaHQ6TWF0aC5wb3coMixNYXRoLm1heChkLXMsMCkpO2EudGV4SW1hZ2UyRCh1LHMsbCxfLEUsMCxoLG8sdCl9dXBkYXRlVGV4dHVyZURhdGEoZSx0LGkscyxyLG4sYT0wLG89MCxoPSExKXtjb25zdCBsPXRoaXMuX2dsLHU9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlLnR5cGUpLGY9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoZS5mb3JtYXQpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IGQ9bC5URVhUVVJFXzJEO2UuaXNDdWJlJiYoZD1sLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCthKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGQsZSwhMCksbC50ZXhTdWJJbWFnZTJEKGQsbyxpLHMscixuLGYsdSx0KSxoJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChkKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGQsbnVsbCl9X3VwbG9hZEFycmF5QnVmZmVyVmlld1RvVGV4dHVyZShlLHQsaT0wLHM9MCl7Y29uc3Qgcj10aGlzLl9nbCxuPWUuaXNDdWJlP3IuVEVYVFVSRV9DVUJFX01BUDpyLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLGUsITApLHRoaXMuX3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaSxzKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4sbnVsbCwhMCl9X3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSx0LGkscyxyKXtjb25zdCBuPXRoaXMuX2dsO2lmKCFuKXJldHVybjtjb25zdCBhPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhyLCFpKTtuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLGEubWFnKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLGEubWluKSwhaSYmIXMmJm4uZ2VuZXJhdGVNaXBtYXAobi5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV8yRCxudWxsKSx0JiZ0LnJlbW92ZVBlbmRpbmdEYXRhKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpfV9wcmVwYXJlV2ViR0xUZXh0dXJlKGUsdCxpLHMscixuLGEsbyxoPTMpe2NvbnN0IGw9dGhpcy5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemUsdT1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP2xlLkdldEV4cG9uZW50T2ZUd28ocy53aWR0aCxsKTpzLndpZHRoKSxmPU1hdGgubWluKGwsdGhpcy5uZWVkUE9UVGV4dHVyZXM/bGUuR2V0RXhwb25lbnRPZlR3byhzLmhlaWdodCxsKTpzLmhlaWdodCksZD10aGlzLl9nbDtpZighIWQpe2lmKCFlLl9oYXJkd2FyZVRleHR1cmUpe2kmJmkucmVtb3ZlUGVuZGluZ0RhdGEoZSk7cmV0dXJufXRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZC5URVhUVVJFXzJELGUsITApLHRoaXMuX3VucGFja0ZsaXBZKHI9PT12b2lkIDA/ITA6ISFyKSxlLmJhc2VXaWR0aD1zLndpZHRoLGUuYmFzZUhlaWdodD1zLmhlaWdodCxlLndpZHRoPXUsZS5oZWlnaHQ9ZixlLmlzUmVhZHk9ITAsIW8odSxmLHMsdCxlLCgpPT57dGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbihlLGksbixhLGgpfSkmJnRoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSxpLG4sYSxoKX19X3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGUsdCxpLHMscj0xKXtjb25zdCBuPXRoaXMuX2dsO2lmKGUmJnQpcmV0dXJuIHRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihpLHMscixuLkRFUFRIX1NURU5DSUwsbi5ERVBUSDI0X1NURU5DSUw4LG4uREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UKTtpZih0KXtsZXQgYT1uLkRFUFRIX0NPTVBPTkVOVDE2O3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb24+MSYmKGE9bi5ERVBUSF9DT01QT05FTlQzMkYpLHRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihpLHMscixhLGEsbi5ERVBUSF9BVFRBQ0hNRU5UKX1yZXR1cm4gZT90aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsbi5TVEVOQ0lMX0lOREVYOCxuLlNURU5DSUxfSU5ERVg4LG4uU1RFTkNJTF9BVFRBQ0hNRU5UKTpudWxsfV9jcmVhdGVSZW5kZXJCdWZmZXIoZSx0LGkscyxyLG4sYT0hMCl7Y29uc3Qgbz10aGlzLl9nbCxoPW8uY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIG8uYmluZFJlbmRlcmJ1ZmZlcihvLlJFTkRFUkJVRkZFUixoKSxpPjEmJm8ucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlP28ucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKG8uUkVOREVSQlVGRkVSLGkscixlLHQpOm8ucmVuZGVyYnVmZmVyU3RvcmFnZShvLlJFTkRFUkJVRkZFUixzLGUsdCksby5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihvLkZSQU1FQlVGRkVSLG4sby5SRU5ERVJCVUZGRVIsaCksYSYmby5iaW5kUmVuZGVyYnVmZmVyKG8uUkVOREVSQlVGRkVSLG51bGwpLGh9X3JlbGVhc2VUZXh0dXJlKGUpe3ZhciBpO3RoaXMuX2RlbGV0ZVRleHR1cmUoKGk9ZS5faGFyZHdhcmVUZXh0dXJlKT09bnVsbD92b2lkIDA6aS51bmRlcmx5aW5nUmVzb3VyY2UpLHRoaXMudW5iaW5kQWxsVGV4dHVyZXMoKTtjb25zdCB0PXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5pbmRleE9mKGUpO3QhPT0tMSYmdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNwbGljZSh0LDEpLGUuX2xvZFRleHR1cmVIaWdoJiZlLl9sb2RUZXh0dXJlSGlnaC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZU1pZCYmZS5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUxvdyYmZS5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksZS5faXJyYWRpYW5jZVRleHR1cmUmJmUuX2lycmFkaWFuY2VUZXh0dXJlLmRpc3Bvc2UoKX1fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSl7Y29uc3QgdD10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zcGxpY2UodCwxKX1fZGVsZXRlVGV4dHVyZShlKXtlJiZ0aGlzLl9nbC5kZWxldGVUZXh0dXJlKGUpfV9zZXRQcm9ncmFtKGUpe3RoaXMuX2N1cnJlbnRQcm9ncmFtIT09ZSYmKHRoaXMuX2dsLnVzZVByb2dyYW0oZSksdGhpcy5fY3VycmVudFByb2dyYW09ZSl9YmluZFNhbXBsZXJzKGUpe2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9zZXRQcm9ncmFtKHQucHJvZ3JhbSk7Y29uc3QgaT1lLmdldFNhbXBsZXJzKCk7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS5nZXRVbmlmb3JtKGlbc10pO3ImJih0aGlzLl9ib3VuZFVuaWZvcm1zW3NdPXIpfXRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbH1fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpe3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbCE9PXRoaXMuX2FjdGl2ZUNoYW5uZWwmJih0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwK3RoaXMuX2FjdGl2ZUNoYW5uZWwpLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1fYmluZFRleHR1cmVEaXJlY3RseShlLHQsaT0hMSxzPSExKXt2YXIgbyxoO2xldCByPSExO2NvbnN0IG49dCYmdC5fYXNzb2NpYXRlZENoYW5uZWw+LTE7aWYoaSYmbiYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9dC5fYXNzb2NpYXRlZENoYW5uZWwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXSE9PXR8fHMpe2lmKHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSx0JiZ0LmlzTXVsdGl2aWV3KXRocm93IGNvbnNvbGUuZXJyb3IoZSx0KSwiX2JpbmRUZXh0dXJlRGlyZWN0bHkgY2FsbGVkIHdpdGggYSBtdWx0aXZpZXcgdGV4dHVyZSEiO3RoaXMuX2dsLmJpbmRUZXh0dXJlKGUsKGg9KG89dD09bnVsbD92b2lkIDA6dC5faGFyZHdhcmVUZXh0dXJlKT09bnVsbD92b2lkIDA6by51bmRlcmx5aW5nUmVzb3VyY2UpIT1udWxsP2g6bnVsbCksdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW3RoaXMuX2FjdGl2ZUNoYW5uZWxdPXQsdCYmKHQuX2Fzc29jaWF0ZWRDaGFubmVsPXRoaXMuX2FjdGl2ZUNoYW5uZWwpfWVsc2UgaSYmKHI9ITAsdGhpcy5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpKTtyZXR1cm4gbiYmIWkmJnRoaXMuX2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbCh0Ll9hc3NvY2lhdGVkQ2hhbm5lbCx0aGlzLl9hY3RpdmVDaGFubmVsKSxyfV9iaW5kVGV4dHVyZShlLHQsaSl7aWYoZT09PXZvaWQgMClyZXR1cm47dCYmKHQuX2Fzc29jaWF0ZWRDaGFubmVsPWUpLHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZTtjb25zdCBzPXQ/dGhpcy5fZ2V0VGV4dHVyZVRhcmdldCh0KTp0aGlzLl9nbC5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocyx0KX11bmJpbmRBbGxUZXh0dXJlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM7ZSsrKXRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKX1zZXRUZXh0dXJlKGUsdCxpLHMpe2UhPT12b2lkIDAmJih0JiYodGhpcy5fYm91bmRVbmlmb3Jtc1tlXT10KSx0aGlzLl9zZXRUZXh0dXJlKGUsaSkpfV9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwoZSx0KXtjb25zdCBpPXRoaXMuX2JvdW5kVW5pZm9ybXNbZV07IWl8fGkuX2N1cnJlbnRTdGF0ZT09PXR8fCh0aGlzLl9nbC51bmlmb3JtMWkoaSx0KSxpLl9jdXJyZW50U3RhdGU9dCl9X2dldFRleHR1cmVXcmFwTW9kZShlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5SRVBFQVQ7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5DTEFNUF9UT19FREdFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTUlSUk9SRURfUkVQRUFUfXJldHVybiB0aGlzLl9nbC5SRVBFQVR9X3NldFRleHR1cmUoZSx0LGk9ITEscz0hMSxyPSIiKXtpZighdClyZXR1cm4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdIT1udWxsJiYodGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpKSwhMTtpZih0LnZpZGVvKXRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0LnVwZGF0ZSgpO2Vsc2UgaWYodC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIHQuZGVsYXlMb2FkKCksITE7bGV0IG47cz9uPXQuZGVwdGhTdGVuY2lsVGV4dHVyZTp0LmlzUmVhZHkoKT9uPXQuZ2V0SW50ZXJuYWxUZXh0dXJlKCk6dC5pc0N1YmU/bj10aGlzLmVtcHR5Q3ViZVRleHR1cmU6dC5pczNEP249dGhpcy5lbXB0eVRleHR1cmUzRDp0LmlzMkRBcnJheT9uPXRoaXMuZW1wdHlUZXh0dXJlMkRBcnJheTpuPXRoaXMuZW1wdHlUZXh0dXJlLCFpJiZuJiYobi5fYXNzb2NpYXRlZENoYW5uZWw9ZSk7bGV0IGE9ITA7dGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPT09biYmKGl8fHRoaXMuX2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbChuLl9hc3NvY2lhdGVkQ2hhbm5lbCxlKSxhPSExKSx0aGlzLl9hY3RpdmVDaGFubmVsPWU7Y29uc3Qgbz10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KG4pO2lmKGEmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobyxuLGkpLG4mJiFuLmlzTXVsdGl2aWV3KXtpZihuLmlzQ3ViZSYmbi5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlIT09dC5jb29yZGluYXRlc01vZGUpe24uX2NhY2hlZENvb3JkaW5hdGVzTW9kZT10LmNvb3JkaW5hdGVzTW9kZTtjb25zdCBoPXQuY29vcmRpbmF0ZXNNb2RlIT09MyYmdC5jb29yZGluYXRlc01vZGUhPT01PzE6MDt0LndyYXBVPWgsdC53cmFwVj1ofW4uX2NhY2hlZFdyYXBVIT09dC53cmFwVSYmKG4uX2NhY2hlZFdyYXBVPXQud3JhcFUsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobyx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwVSksbikpLG4uX2NhY2hlZFdyYXBWIT09dC53cmFwViYmKG4uX2NhY2hlZFdyYXBWPXQud3JhcFYsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobyx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwViksbikpLG4uaXMzRCYmbi5fY2FjaGVkV3JhcFIhPT10LndyYXBSJiYobi5fY2FjaGVkV3JhcFI9dC53cmFwUix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBSKSxuKSksdGhpcy5fc2V0QW5pc290cm9waWNMZXZlbChvLG4sdC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKX1yZXR1cm4hMH1zZXRUZXh0dXJlQXJyYXkoZSx0LGkscyl7aWYoIShlPT09dm9pZCAwfHwhdCkpeyghdGhpcy5fdGV4dHVyZVVuaXRzfHx0aGlzLl90ZXh0dXJlVW5pdHMubGVuZ3RoIT09aS5sZW5ndGgpJiYodGhpcy5fdGV4dHVyZVVuaXRzPW5ldyBJbnQzMkFycmF5KGkubGVuZ3RoKSk7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspe2NvbnN0IG49aVtyXS5nZXRJbnRlcm5hbFRleHR1cmUoKTtuPyh0aGlzLl90ZXh0dXJlVW5pdHNbcl09ZStyLG4uX2Fzc29jaWF0ZWRDaGFubmVsPWUrcik6dGhpcy5fdGV4dHVyZVVuaXRzW3JdPS0xfXRoaXMuX2dsLnVuaWZvcm0xaXYodCx0aGlzLl90ZXh0dXJlVW5pdHMpO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKXRoaXMuX3NldFRleHR1cmUodGhpcy5fdGV4dHVyZVVuaXRzW3JdLGlbcl0sITApfX1fc2V0QW5pc290cm9waWNMZXZlbChlLHQsaSl7Y29uc3Qgcz10aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjt0LnNhbXBsaW5nTW9kZSE9PTExJiZ0LnNhbXBsaW5nTW9kZSE9PTMmJnQuc2FtcGxpbmdNb2RlIT09MiYmKGk9MSkscyYmdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCE9PWkmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVyRmxvYXQoZSxzLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKGksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5KSx0KSx0Ll9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWkpfV9zZXRUZXh0dXJlUGFyYW1ldGVyRmxvYXQoZSx0LGkscyl7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShlLHMsITAsITApLHRoaXMuX2dsLnRleFBhcmFtZXRlcmYoZSx0LGkpfV9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihlLHQsaSxzKXtzJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUscywhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaShlLHQsaSl9dW5iaW5kQWxsQXR0cmlidXRlcygpe2lmKHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcyl7dGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExO2ZvcihsZXQgZT0wO2U8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO2UrKyl0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpO3JldHVybn1mb3IobGV0IGU9MCx0PXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQubGVuZ3RoO2U8dDtlKyspZT49dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzfHwhdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtlXXx8dGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKX1yZWxlYXNlRWZmZWN0cygpe2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7Y29uc3QgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV0uZ2V0UGlwZWxpbmVDb250ZXh0KCk7dGhpcy5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KHQpfXRoaXMuX2NvbXBpbGVkRWZmZWN0cz17fX1kaXNwb3NlKCl7dmFyIGU7dGhpcy5zdG9wUmVuZGVyTG9vcCgpLHRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUmJnRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9lbXB0eVRleHR1cmUmJih0aGlzLl9yZWxlYXNlVGV4dHVyZSh0aGlzLl9lbXB0eVRleHR1cmUpLHRoaXMuX2VtcHR5VGV4dHVyZT1udWxsKSx0aGlzLl9lbXB0eUN1YmVUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlDdWJlVGV4dHVyZSksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZT1udWxsKSx0aGlzLl9kdW1teUZyYW1lYnVmZmVyJiZ0aGlzLl9nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSx0aGlzLnJlbGVhc2VFZmZlY3RzKCksKGU9dGhpcy5yZWxlYXNlQ29tcHV0ZUVmZmVjdHMpPT1udWxsfHxlLmNhbGwodGhpcyksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCksdGhpcy5fYm91bmRVbmlmb3Jtcz17fSxVZSgpJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fb25Db250ZXh0UmVzdG9yZWQpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVycy5sZW5ndGg9MCx0aGlzLl9yZW5kZXJpbmdDYW52YXM9bnVsbCx0aGlzLl9jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249bnVsbCxGZS5SZXNldENhY2hlKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUmVxdWVzdHMpdC5hYm9ydCgpO3RoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCl9YXR0YWNoQ29udGV4dExvc3RFdmVudChlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0IixlLCExKX1hdHRhY2hDb250ZXh0UmVzdG9yZWRFdmVudChlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsZSwhMSl9Z2V0RXJyb3IoKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0RXJyb3IoKX1fY2FuUmVuZGVyVG9GbG9hdEZyYW1lYnVmZmVyKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDEpfV9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDIpfV9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKGUpe2NvbnN0IHQ9dGhpcy5fZ2w7Zm9yKDt0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7bGV0IGk9ITA7Y29uc3Qgcz10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxzKSx0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZSksMSwxLDAsdC5SR0JBLHRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZSksbnVsbCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0Lk5FQVJFU1QpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsdC5ORUFSRVNUKTtjb25zdCByPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLHIpLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxzLDApO2NvbnN0IG49dC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQuRlJBTUVCVUZGRVIpO2lmKGk9aSYmbj09PXQuRlJBTUVCVUZGRVJfQ09NUExFVEUsaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SLGkmJih0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SKSxpKXt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpO2NvbnN0IGE9dC5SR0JBLG89dC5VTlNJR05FRF9CWVRFLGg9bmV3IFVpbnQ4QXJyYXkoNCk7dC5yZWFkUGl4ZWxzKDAsMCwxLDEsYSxvLGgpLGk9aSYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUn1mb3IodC5kZWxldGVUZXh0dXJlKHMpLHQuZGVsZXRlRnJhbWVidWZmZXIociksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKTshaSYmdC5nZXRFcnJvcigpIT09dC5OT19FUlJPUjspO3JldHVybiBpfV9nZXRXZWJHTFRleHR1cmVUeXBlKGUpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkZMT0FUO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzV9cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEV9c3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuQllURTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5TSE9SVDtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuSU5UO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzU7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWO2Nhc2UgMTI6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzVfOV85XzlfUkVWO2Nhc2UgMTU6cmV0dXJuIHRoaXMuX2dsLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVn1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1fZ2V0SW50ZXJuYWxGb3JtYXQoZSx0PSExKXtsZXQgaT10P3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBO3N3aXRjaChlKXtjYXNlIDA6aT10aGlzLl9nbC5BTFBIQTticmVhaztjYXNlIDE6aT10aGlzLl9nbC5MVU1JTkFOQ0U7YnJlYWs7Y2FzZSAyOmk9dGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2JyZWFrO2Nhc2UgNjppPXRoaXMuX2dsLlJFRDticmVhaztjYXNlIDc6aT10aGlzLl9nbC5SRzticmVhaztjYXNlIDQ6aT10P3RoaXMuX2dsLlNSR0I6dGhpcy5fZ2wuUkdCO2JyZWFrO2Nhc2UgNTppPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7YnJlYWt9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpc3dpdGNoKGUpe2Nhc2UgODppPXRoaXMuX2dsLlJFRF9JTlRFR0VSO2JyZWFrO2Nhc2UgOTppPXRoaXMuX2dsLlJHX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMDppPXRoaXMuX2dsLlJHQl9JTlRFR0VSO2JyZWFrO2Nhc2UgMTE6aT10aGlzLl9nbC5SR0JBX0lOVEVHRVI7YnJlYWt9cmV0dXJuIGl9X2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUsdCxpPSExKXtpZih0aGlzLl93ZWJHTFZlcnNpb249PT0xKXtpZih0IT09dm9pZCAwKXN3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbC5TUkdCOnRoaXMuX2dsLlJHQn1yZXR1cm4gdGhpcy5fZ2wuUkdCQX1zd2l0Y2goZSl7Y2FzZSAzOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4X1NOT1JNO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4X1NOT1JNO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOF9TTk9STTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOEk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOEk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4X1NOT1JNfWNhc2UgMDpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SODtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHODtjYXNlIDQ6cmV0dXJuIGk/dGhpcy5fZ2wuU1JHQjg6dGhpcy5fZ2wuUkdCODtjYXNlIDU6cmV0dXJuIGk/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE4O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOFVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjhVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOFVJO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTh9Y2FzZSA0OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2STtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZJfWNhc2UgNTpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJfWNhc2UgNjpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySX1jYXNlIDc6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMyVUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMyVUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSX1jYXNlIDE6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjMyRjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMzJGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGfWNhc2UgMjpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMTZGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkcxNkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IxNkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkZ9Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCNTY1O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlIxMUZfRzExRl9CMTBGO2Nhc2UgMTQ6cmV0dXJuIHRoaXMuX2dsLlJHQjlfRTU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SR0JBNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHQjVfQTE7Y2FzZSAxMTpzd2l0Y2godCl7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMjtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyfX1yZXR1cm4gaT90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTh9X2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChlKXtyZXR1cm4gZT09PTE/dGhpcy5fZ2wuUkdCQTMyRjplPT09Mj90aGlzLl9nbC5SR0JBMTZGOnRoaXMuX2dsLlJHQkE4fV9sb2FkRmlsZShlLHQsaSxzLHIsbil7Y29uc3QgYT1sZS5fRmlsZVRvb2xzTG9hZEZpbGUoZSx0LGkscyxyLG4pO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKGEpLGEub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKG89Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihvKSwxKX0pLGF9c3RhdGljIF9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbil7dGhyb3cgcSgiRmlsZVRvb2xzIil9cmVhZFBpeGVscyhlLHQsaSxzLHI9ITAsbj0hMCl7Y29uc3QgYT1yPzQ6MyxvPXI/dGhpcy5fZ2wuUkdCQTp0aGlzLl9nbC5SR0IsaD1uZXcgVWludDhBcnJheShzKmkqYSk7cmV0dXJuIG4mJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2dsLnJlYWRQaXhlbHMoZSx0LGkscyxvLHRoaXMuX2dsLlVOU0lHTkVEX0JZVEUsaCksUHJvbWlzZS5yZXNvbHZlKGgpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWRBc3luYygpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5pc1N1cHBvcnRlZCgpKX1zdGF0aWMgZ2V0IElzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWQoKX1zdGF0aWMgaXNTdXBwb3J0ZWQoKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IT09bnVsbClyZXR1cm4hdGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtpZih0aGlzLl9Jc1N1cHBvcnRlZD09PW51bGwpdHJ5e2NvbnN0IGU9dGhpcy5fQ3JlYXRlQ2FudmFzKDEsMSksdD1lLmdldENvbnRleHQoIndlYmdsIil8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIik7dGhpcy5fSXNTdXBwb3J0ZWQ9dCE9bnVsbCYmISF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWNhdGNoe3RoaXMuX0lzU3VwcG9ydGVkPSExfXJldHVybiB0aGlzLl9Jc1N1cHBvcnRlZH1zdGF0aWMgZ2V0IEhhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQoKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSl8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIix7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH0pO3RoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9IXR9Y2F0Y2h7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hMX1yZXR1cm4gdGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdH1zdGF0aWMgQ2VpbGluZ1BPVChlKXtyZXR1cm4gZS0tLGV8PWU+PjEsZXw9ZT4+MixlfD1lPj40LGV8PWU+PjgsZXw9ZT4+MTYsZSsrLGV9c3RhdGljIEZsb29yUE9UKGUpe3JldHVybiBlPWV8ZT4+MSxlPWV8ZT4+MixlPWV8ZT4+NCxlPWV8ZT4+OCxlPWV8ZT4+MTYsZS0oZT4+MSl9c3RhdGljIE5lYXJlc3RQT1QoZSl7Y29uc3QgdD1sZS5DZWlsaW5nUE9UKGUpLGk9bGUuRmxvb3JQT1QoZSk7cmV0dXJuIHQtZT5lLWk/aTp0fXN0YXRpYyBHZXRFeHBvbmVudE9mVHdvKGUsdCxpPTIpe2xldCBzO3N3aXRjaChpKXtjYXNlIDE6cz1sZS5GbG9vclBPVChlKTticmVhaztjYXNlIDI6cz1sZS5OZWFyZXN0UE9UKGUpO2JyZWFrO2Nhc2UgMzpkZWZhdWx0OnM9bGUuQ2VpbGluZ1BPVChlKTticmVha31yZXR1cm4gTWF0aC5taW4ocyx0KX1zdGF0aWMgUXVldWVOZXdGcmFtZShlLHQpe3JldHVybiBVZSgpPyh0fHwodD13aW5kb3cpLHQucmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZT90LnJlcXVlc3RQb3N0QW5pbWF0aW9uRnJhbWUoZSk6dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZT90Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lP3Qud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lP3QubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnQub1JlcXVlc3RBbmltYXRpb25GcmFtZT90Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6d2luZG93LnNldFRpbWVvdXQoZSwxNikpOnR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU8InUiP3JlcXVlc3RBbmltYXRpb25GcmFtZShlKTpzZXRUaW1lb3V0KGUsMTYpfWdldEhvc3REb2N1bWVudCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50OlVpKCk/ZG9jdW1lbnQ6bnVsbH19bGUuRXhjZXB0aW9uTGlzdD1be2tleToiQ2hyb21lLzYzLjAiLGNhcHR1cmU6IjYzXFwuMFxcLjMyMzlcXC4oXFxkKykiLGNhcHR1cmVDb25zdHJhaW50OjEwOCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJGaXJlZm94LzU4IixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJGaXJlZm94LzU5IixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJDaHJvbWUvNzIuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzczLis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6IkNocm9tZS83NC4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZS83MSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZS83MiIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInVuaWZvcm1CdWZmZXIiXX0se2tleToiLipBcHBsZVdlYktpdC4qKDE1LjQpLipTYWZhcmkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJhbnRpYWxpYXMiLCJtYXhNU0FBU2FtcGxlcyJdfSx7a2V5OiIuKigxNS40KS4qQXBwbGVXZWJLaXQuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19XSxsZS5fVGV4dHVyZUxvYWRlcnM9W10sbGUuQ29sbGlzaW9uc0Vwc2lsb249LjAwMSxsZS5fSXNTdXBwb3J0ZWQ9bnVsbCxsZS5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1udWxsO2NsYXNzIF9pe3N0YXRpYyBnZXQgTm93KCl7cmV0dXJuIGZzLklzV2luZG93T2JqZWN0RXhpc3QoKSYmd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpfX1jbGFzcyBqcntjb25zdHJ1Y3RvcihlPTMwKXt0aGlzLl9lbmFibGVkPSEwLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWU9bmV3IFFyKGUpfXNhbXBsZUZyYW1lKGU9X2kuTm93KXtpZighIXRoaXMuX2VuYWJsZWQpe2lmKHRoaXMuX2xhc3RGcmFtZVRpbWVNcyE9bnVsbCl7Y29uc3QgdD1lLXRoaXMuX2xhc3RGcmFtZVRpbWVNczt0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmFkZCh0KX10aGlzLl9sYXN0RnJhbWVUaW1lTXM9ZX19Z2V0IGF2ZXJhZ2VGcmFtZVRpbWUoKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfWdldCBhdmVyYWdlRnJhbWVUaW1lVmFyaWFuY2UoKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS52YXJpYW5jZX1nZXQgaW5zdGFudGFuZW91c0ZyYW1lVGltZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCl9Z2V0IGF2ZXJhZ2VGUFMoKXtyZXR1cm4gMWUzL3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYXZlcmFnZX1nZXQgaW5zdGFudGFuZW91c0ZQUygpe2NvbnN0IGU9dGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5oaXN0b3J5KDApO3JldHVybiBlPT09MD8wOjFlMy9lfWdldCBpc1NhdHVyYXRlZCgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmlzU2F0dXJhdGVkKCl9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbH1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9cmVzZXQoKXt0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnJlc2V0KCl9fWNsYXNzIFFye2NvbnN0cnVjdG9yKGUpe3RoaXMuX3NhbXBsZXM9bmV3IEFycmF5KGUpLHRoaXMucmVzZXQoKX1hZGQoZSl7bGV0IHQ7aWYodGhpcy5pc1NhdHVyYXRlZCgpKXtjb25zdCBpPXRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXTt0PWktdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZS09dC8odGhpcy5fc2FtcGxlQ291bnQtMSksdGhpcy5fbTItPXQqKGktdGhpcy5hdmVyYWdlKX1lbHNlIHRoaXMuX3NhbXBsZUNvdW50Kys7dD1lLXRoaXMuYXZlcmFnZSx0aGlzLmF2ZXJhZ2UrPXQvdGhpcy5fc2FtcGxlQ291bnQsdGhpcy5fbTIrPXQqKGUtdGhpcy5hdmVyYWdlKSx0aGlzLnZhcmlhbmNlPXRoaXMuX20yLyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9zYW1wbGVzW3RoaXMuX3Bvc109ZSx0aGlzLl9wb3MrKyx0aGlzLl9wb3MlPXRoaXMuX3NhbXBsZXMubGVuZ3RofWhpc3RvcnkoZSl7aWYoZT49dGhpcy5fc2FtcGxlQ291bnR8fGU+PXRoaXMuX3NhbXBsZXMubGVuZ3RoKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fd3JhcFBvc2l0aW9uKHRoaXMuX3Bvcy0xKTtyZXR1cm4gdGhpcy5fc2FtcGxlc1t0aGlzLl93cmFwUG9zaXRpb24odC1lKV19aXNTYXR1cmF0ZWQoKXtyZXR1cm4gdGhpcy5fc2FtcGxlQ291bnQ+PXRoaXMuX3NhbXBsZXMubGVuZ3RofXJlc2V0KCl7dGhpcy5hdmVyYWdlPTAsdGhpcy52YXJpYW5jZT0wLHRoaXMuX3NhbXBsZUNvdW50PTAsdGhpcy5fcG9zPTAsdGhpcy5fbTI9MH1fd3JhcFBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fc2FtcGxlcy5sZW5ndGg7cmV0dXJuKGUldCt0KSV0fX1jbGFzcyBSdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9MCx0aGlzLl9taW49MCx0aGlzLl9tYXg9MCx0aGlzLl9hdmVyYWdlPTAsdGhpcy5fbGFzdFNlY0F2ZXJhZ2U9MCx0aGlzLl9jdXJyZW50PTAsdGhpcy5fdG90YWxWYWx1ZUNvdW50PTAsdGhpcy5fdG90YWxBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNUaW1lPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MH1nZXQgbWluKCl7cmV0dXJuIHRoaXMuX21pbn1nZXQgbWF4KCl7cmV0dXJuIHRoaXMuX21heH1nZXQgYXZlcmFnZSgpe3JldHVybiB0aGlzLl9hdmVyYWdlfWdldCBsYXN0U2VjQXZlcmFnZSgpe3JldHVybiB0aGlzLl9sYXN0U2VjQXZlcmFnZX1nZXQgY3VycmVudCgpe3JldHVybiB0aGlzLl9jdXJyZW50fWdldCB0b3RhbCgpe3JldHVybiB0aGlzLl90b3RhbEFjY3VtdWxhdGVkfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl90b3RhbFZhbHVlQ291bnR9ZmV0Y2hOZXdGcmFtZSgpe3RoaXMuX3RvdGFsVmFsdWVDb3VudCsrLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudCsrfWFkZENvdW50KGUsdCl7IVJ0LkVuYWJsZWR8fCh0aGlzLl9jdXJyZW50Kz1lLHQmJnRoaXMuX2ZldGNoUmVzdWx0KCkpfWJlZ2luTW9uaXRvcmluZygpeyFSdC5FbmFibGVkfHwodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1faS5Ob3cpfWVuZE1vbml0b3JpbmcoZT0hMCl7aWYoIVJ0LkVuYWJsZWQpcmV0dXJuO2UmJnRoaXMuZmV0Y2hOZXdGcmFtZSgpO2NvbnN0IHQ9X2kuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9X2ZldGNoUmVzdWx0KCl7dGhpcy5fdG90YWxBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbWluPU1hdGgubWluKHRoaXMuX21pbix0aGlzLl9jdXJyZW50KSx0aGlzLl9tYXg9TWF0aC5tYXgodGhpcy5fbWF4LHRoaXMuX2N1cnJlbnQpLHRoaXMuX2F2ZXJhZ2U9dGhpcy5fdG90YWxBY2N1bXVsYXRlZC90aGlzLl90b3RhbFZhbHVlQ291bnQ7Y29uc3QgZT1faS5Ob3c7ZS10aGlzLl9sYXN0U2VjVGltZT4xZTMmJih0aGlzLl9sYXN0U2VjQXZlcmFnZT10aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQvdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQsdGhpcy5fbGFzdFNlY1RpbWU9ZSx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wKX19UnQuRW5hYmxlZD0hMCxsZS5wcm90b3R5cGUuc2V0QWxwaGFDb25zdGFudHM9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kQ29uc3RhbnRzKGMsZSx0LGkpfSxsZS5wcm90b3R5cGUuc2V0QWxwaGFNb2RlPWZ1bmN0aW9uKGMsZT0hMSl7aWYodGhpcy5fYWxwaGFNb2RlIT09Yyl7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITE7YnJlYWs7Y2FzZSA3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA4OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkRTVF9DT0xPUix0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDk6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkNPTlNUQU5UX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5DT05TVEFOVF9BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEwOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkRTVF9BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5aRVJPKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FX01JTlVTX0RTVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTc6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWt9ZXx8KHRoaXMuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWM9PT0wKSx0aGlzLl9hbHBoYU1vZGU9Y319LGxlLnByb3RvdHlwZS5nZXRBbHBoYU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfSxsZS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbihjKXtpZih0aGlzLl9hbHBoYUVxdWF0aW9uIT09Yyl7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc0LDMyNzc0KTticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OCwzMjc3OCk7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzksMzI3NzkpO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc2LDMyNzc2KTticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NSk7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzQpO2JyZWFrfXRoaXMuX2FscGhhRXF1YXRpb249Y319LGxlLnByb3RvdHlwZS5nZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhRXF1YXRpb259O2Z1bmN0aW9uICRyKGMsZSx0PSExLGkpe3N3aXRjaChjKXtjYXNlIDM6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQ4QXJyYXkoZSk6bmV3IEludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDhBcnJheShpKSkscn1jYXNlIDA6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDhBcnJheShpKSkscn1jYXNlIDQ6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQxNkFycmF5KGUpOm5ldyBJbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MTZBcnJheShpKSkscn1jYXNlIDU6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQxNkFycmF5KGUpOm5ldyBVaW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQxNkFycmF5KGkpKSxyfWNhc2UgNjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDMyQXJyYXkoZSk6bmV3IEludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQzMkFycmF5KGkpKSxyfWNhc2UgNzpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MzJBcnJheShlKTpuZXcgVWludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MzJBcnJheShpKSkscn1jYXNlIDE6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBGbG9hdDMyQXJyYXkoZSk6bmV3IEZsb2F0MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gaSYmci5zZXQobmV3IEZsb2F0MzJBcnJheShpKSkscn19Y29uc3Qgcz1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnMuc2V0KG5ldyBVaW50OEFycmF5KGkpKSxzfWxlLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHNTeW5jPWZ1bmN0aW9uKGMsZSx0LGk9LTEscz0wLHI9bnVsbCxuPSEwLGE9ITEsbz0wLGg9MCl7dmFyIGYsZDtjb25zdCBsPXRoaXMuX2dsO2lmKCFsKXRocm93IG5ldyBFcnJvcigiRW5naW5lIGRvZXMgbm90IGhhdmUgZ2wgcmVuZGVyaW5nIGNvbnRleHQuIik7aWYoIXRoaXMuX2R1bW15RnJhbWVidWZmZXIpe2NvbnN0IF89bC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFfKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkdW1teSBmcmFtZWJ1ZmZlciIpO3RoaXMuX2R1bW15RnJhbWVidWZmZXI9X31sLmJpbmRGcmFtZWJ1ZmZlcihsLkZSQU1FQlVGRkVSLHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLGk+LTE/bC5mcmFtZWJ1ZmZlclRleHR1cmUyRChsLkZSQU1FQlVGRkVSLGwuQ09MT1JfQVRUQUNITUVOVDAsbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSwoZj1jLl9oYXJkd2FyZVRleHR1cmUpPT1udWxsP3ZvaWQgMDpmLnVuZGVybHlpbmdSZXNvdXJjZSxzKTpsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGwuRlJBTUVCVUZGRVIsbC5DT0xPUl9BVFRBQ0hNRU5UMCxsLlRFWFRVUkVfMkQsKGQ9Yy5faGFyZHdhcmVUZXh0dXJlKT09bnVsbD92b2lkIDA6ZC51bmRlcmx5aW5nUmVzb3VyY2Uscyk7bGV0IHU9Yy50eXBlIT09dm9pZCAwP3RoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYy50eXBlKTpsLlVOU0lHTkVEX0JZVEU7aWYoYSlyfHwocj0kcihjLnR5cGUsNCplKnQpKTtlbHNlIHN3aXRjaCh1KXtjYXNlIGwuVU5TSUdORURfQllURTpyfHwocj1uZXcgVWludDhBcnJheSg0KmUqdCkpLHU9bC5VTlNJR05FRF9CWVRFO2JyZWFrO2RlZmF1bHQ6cnx8KHI9bmV3IEZsb2F0MzJBcnJheSg0KmUqdCkpLHU9bC5GTE9BVDticmVha31yZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksbC5yZWFkUGl4ZWxzKG8saCxlLHQsbC5SR0JBLHUsciksbC5iaW5kRnJhbWVidWZmZXIobC5GUkFNRUJVRkZFUix0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIpLHJ9LGxlLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHM9ZnVuY3Rpb24oYyxlLHQsaT0tMSxzPTAscj1udWxsLG49ITAsYT0hMSxvPTAsaD0wKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyhjLGUsdCxpLHMscixuLGEsbyxoKSl9LGxlLnByb3RvdHlwZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQ9MCl7dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSXT1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKGMpO2xldCBpO2MuaXMzMkJpdHM/aT1lIGluc3RhbmNlb2YgVWludDMyQXJyYXk/ZTpuZXcgVWludDMyQXJyYXkoZSk6aT1lIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZTpuZXcgVWludDE2QXJyYXkoZSksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKX0sbGUucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5iaW5kQXJyYXlCdWZmZXIoYyksdD09PXZvaWQgMCYmKHQ9MCk7Y29uc3Qgcz1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO2k9PT12b2lkIDB8fGk+PXMmJnQ9PT0wP2UgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsZSk6ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpOihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1uZXcgVWludDhBcnJheShlLHQsaSk6ZT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQrdCxpKSx0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKX07Y2xhc3MgQyBleHRlbmRzIGxle2NvbnN0cnVjdG9yKGUsdCxpLHM9ITEpe2lmKHN1cGVyKGUsdCxpLHMpLHRoaXMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9ITEsdGhpcy5kaXNhYmxlTWFuaWZlc3RDaGVjaz0hMSx0aGlzLmRpc2FibGVDb250ZXh0TWVudT0hMCx0aGlzLnNjZW5lcz1uZXcgQXJyYXksdGhpcy5fdmlydHVhbFNjZW5lcz1uZXcgQXJyYXksdGhpcy5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXksdGhpcy5pc1BvaW50ZXJMb2NrPSExLHRoaXMub25SZXNpemVPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGU9bmV3IEYsdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj1udWxsLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IEYsdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSExLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9NCx0aGlzLl90aW1lU3RlcD0xLzYwLHRoaXMuX2Zwcz02MCx0aGlzLl9kZWx0YVRpbWU9MCx0aGlzLl9kcmF3Q2FsbHM9bmV3IFJ0LHRoaXMuY2FudmFzVGFiSW5kZXg9MSx0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQ9ITEsdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yPW5ldyBqcix0aGlzLl9jb21wYXRpYmlsaXR5TW9kZT0hMCx0aGlzLmN1cnJlbnRSZW5kZXJQYXNzSWQ9MCx0aGlzLl9yZW5kZXJQYXNzTmFtZXM9WyJtYWluIl0sQy5JbnN0YW5jZXMucHVzaCh0aGlzKSwhIWUpe2lmKHRoaXMuX2ZlYXR1cmVzLnN1cHBvcnRSZW5kZXJQYXNzZXM9ITAsaT10aGlzLl9jcmVhdGlvbk9wdGlvbnMsZS5nZXRDb250ZXh0KXtjb25zdCByPWU7aWYodGhpcy5fc2hhcmVkSW5pdChyLCEhaS5kb05vdEhhbmRsZVRvdWNoQWN0aW9uLGkuYXVkaW9FbmdpbmUpLFVlKCkpe2NvbnN0IG49ZG9jdW1lbnQ7dGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlPSgpPT57bi5mdWxsc2NyZWVuIT09dm9pZCAwP3RoaXMuaXNGdWxsc2NyZWVuPW4uZnVsbHNjcmVlbjpuLm1vekZ1bGxTY3JlZW4hPT12b2lkIDA/dGhpcy5pc0Z1bGxzY3JlZW49bi5tb3pGdWxsU2NyZWVuOm4ud2Via2l0SXNGdWxsU2NyZWVuIT09dm9pZCAwP3RoaXMuaXNGdWxsc2NyZWVuPW4ud2Via2l0SXNGdWxsU2NyZWVuOm4ubXNJc0Z1bGxTY3JlZW4hPT12b2lkIDAmJih0aGlzLmlzRnVsbHNjcmVlbj1uLm1zSXNGdWxsU2NyZWVuKSx0aGlzLmlzRnVsbHNjcmVlbiYmdGhpcy5fcG9pbnRlckxvY2tSZXF1ZXN0ZWQmJnImJkMuX1JlcXVlc3RQb2ludGVybG9jayhyKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3pmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibXNmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2U9KCk9Pnt0aGlzLmlzUG9pbnRlckxvY2s9bi5tb3pQb2ludGVyTG9ja0VsZW1lbnQ9PT1yfHxuLndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudD09PXJ8fG4ubXNQb2ludGVyTG9ja0VsZW1lbnQ9PT1yfHxuLnBvaW50ZXJMb2NrRWxlbWVudD09PXJ9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtc3BvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLCFDLmF1ZGlvRW5naW5lJiZpLmF1ZGlvRW5naW5lJiZDLkF1ZGlvRW5naW5lRmFjdG9yeSYmKEMuYXVkaW9FbmdpbmU9Qy5BdWRpb0VuZ2luZUZhY3RvcnkodGhpcy5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmdldEF1ZGlvQ29udGV4dCgpLHRoaXMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSl9dGhpcy5fY29ubmVjdFZSRXZlbnRzKCksdGhpcy5lbmFibGVPZmZsaW5lU3VwcG9ydD1DLk9mZmxpbmVQcm92aWRlckZhY3RvcnkhPT12b2lkIDAsdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSEhaS5kZXRlcm1pbmlzdGljTG9ja3N0ZXAsdGhpcy5fbG9ja3N0ZXBNYXhTdGVwcz1pLmxvY2tzdGVwTWF4U3RlcHN8fDAsdGhpcy5fdGltZVN0ZXA9aS50aW1lU3RlcHx8MS82MH10aGlzLl9wcmVwYXJlVlJDb21wb25lbnQoKSxpLmF1dG9FbmFibGVXZWJWUiYmdGhpcy5pbml0V2ViVlIoKX19c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuIGxlLk5wbVBhY2thZ2V9c3RhdGljIGdldCBWZXJzaW9uKCl7cmV0dXJuIGxlLlZlcnNpb259c3RhdGljIGdldCBJbnN0YW5jZXMoKXtyZXR1cm4gZGUuSW5zdGFuY2VzfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRFbmdpbmUoKXtyZXR1cm4gZGUuTGFzdENyZWF0ZWRFbmdpbmV9c3RhdGljIGdldCBMYXN0Q3JlYXRlZFNjZW5lKCl7cmV0dXJuIGRlLkxhc3RDcmVhdGVkU2NlbmV9X2NyZWF0ZUltYWdlQml0bWFwRnJvbVNvdXJjZShlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e2NvbnN0IG49bmV3IEltYWdlO24ub25sb2FkPSgpPT57bi5kZWNvZGUoKS50aGVuKCgpPT57dGhpcy5jcmVhdGVJbWFnZUJpdG1hcChuLHQpLnRoZW4oYT0+e3MoYSl9KX0pfSxuLm9uZXJyb3I9KCk9PntyKGBFcnJvciBsb2FkaW5nIGltYWdlICR7bi5zcmN9YCl9LG4uc3JjPWV9KX1jcmVhdGVJbWFnZUJpdG1hcChlLHQpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChlLHQpfXJlc2l6ZUltYWdlQml0bWFwKGUsdCxpKXtjb25zdCByPXRoaXMuY3JlYXRlQ2FudmFzKHQsaSkuZ2V0Q29udGV4dCgiMmQiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgMmQgY29udGV4dCBmb3IgcmVzaXplSW1hZ2VCaXRtYXAiKTtyZXR1cm4gci5kcmF3SW1hZ2UoZSwwLDApLHIuZ2V0SW1hZ2VEYXRhKDAsMCx0LGkpLmRhdGF9c3RhdGljIE1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7Zm9yKGxldCBpPTA7aTxDLkluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPUMuSW5zdGFuY2VzW2ldO2ZvcihsZXQgcj0wO3I8cy5zY2VuZXMubGVuZ3RoO3IrKylzLnNjZW5lc1tyXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpfX1zdGF0aWMgRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KGUpe3Rocm93IHEoIkxvYWRpbmdTY3JlZW4iKX1nZXQgX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nKCl7cmV0dXJuISFDLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5fWdldCBwZXJmb3JtYW5jZU1vbml0b3IoKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yfWdldCBjb21wYXRpYmlsaXR5TW9kZSgpe3JldHVybiB0aGlzLl9jb21wYXRpYmlsaXR5TW9kZX1zZXQgY29tcGF0aWJpbGl0eU1vZGUoZSl7dGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITB9Z2V0SW5wdXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc31fc2hhcmVkSW5pdChlLHQsaSl7aWYoc3VwZXIuX3NoYXJlZEluaXQoZSx0LGkpLHRoaXMuX29uQ2FudmFzRm9jdXM9KCk9Pnt0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sdGhpcy5fb25DYW52YXNCbHVyPSgpPT57dGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sdGhpcy5fb25DYW52YXNDb250ZXh0TWVudT1zPT57dGhpcy5kaXNhYmxlQ29udGV4dE1lbnUmJnMucHJldmVudERlZmF1bHQoKX0sZS5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksZS5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLGUuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLHRoaXMuX29uQ2FudmFzQ29udGV4dE1lbnUpLHRoaXMuX29uQmx1cj0oKT0+e3RoaXMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmRpc2FibGUoKSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITB9LHRoaXMuX29uRm9jdXM9KCk9Pnt0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJnRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5lbmFibGUoKSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITF9LHRoaXMuX29uQ2FudmFzUG9pbnRlck91dD1zPT57ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChzLmNsaWVudFgscy5jbGllbnRZKSE9PWUmJnRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyl9LFVlKCkpe2NvbnN0IHM9dGhpcy5nZXRIb3N0V2luZG93KCk7cyYmKHMuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSxzLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSl9ZS5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpLHR8fHRoaXMuX2Rpc2FibGVUb3VjaEFjdGlvbigpLCFDLmF1ZGlvRW5naW5lJiZpJiZDLkF1ZGlvRW5naW5lRmFjdG9yeSYmKEMuYXVkaW9FbmdpbmU9Qy5BdWRpb0VuZ2luZUZhY3RvcnkodGhpcy5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmdldEF1ZGlvQ29udGV4dCgpLHRoaXMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSl9Z2V0QXNwZWN0UmF0aW8oZSx0PSExKXtjb25zdCBpPWUudmlld3BvcnQ7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgodCkqaS53aWR0aC8odGhpcy5nZXRSZW5kZXJIZWlnaHQodCkqaS5oZWlnaHQpfWdldFNjcmVlbkFzcGVjdFJhdGlvKCl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgoITApL3RoaXMuZ2V0UmVuZGVySGVpZ2h0KCEwKX1nZXRSZW5kZXJpbmdDYW52YXNDbGllbnRSZWN0KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbH1nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLmdldElucHV0RWxlbWVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9aXNEZXRlcm1pbmlzdGljTG9ja1N0ZXAoKXtyZXR1cm4gdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwfWdldExvY2tzdGVwTWF4U3RlcHMoKXtyZXR1cm4gdGhpcy5fbG9ja3N0ZXBNYXhTdGVwc31nZXRUaW1lU3RlcCgpe3JldHVybiB0aGlzLl90aW1lU3RlcCoxZTN9Z2VuZXJhdGVNaXBNYXBzRm9yQ3ViZW1hcChlLHQ9ITApe2lmKGUuZ2VuZXJhdGVNaXBNYXBzKXtjb25zdCBpPXRoaXMuX2dsO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaS5URVhUVVJFX0NVQkVfTUFQLGUsITApLGkuZ2VuZXJhdGVNaXBtYXAoaS5URVhUVVJFX0NVQkVfTUFQKSx0JiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGkuVEVYVFVSRV9DVUJFX01BUCxudWxsKX19Z2V0RGVwdGhXcml0ZSgpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2t9c2V0RGVwdGhXcml0ZShlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9ZX1nZXRTdGVuY2lsQnVmZmVyKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdH1zZXRTdGVuY2lsQnVmZmVyKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD1lfWdldFN0ZW5jaWxNYXNrKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsTWFza31zZXRTdGVuY2lsTWFzayhlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2s9ZX1nZXRTdGVuY2lsRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jfWdldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWZ9Z2V0U3RlbmNpbEZ1bmN0aW9uTWFzaygpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNNYXNrfXNldFN0ZW5jaWxGdW5jdGlvbihlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmM9ZX1zZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jUmVmPWV9c2V0U3RlbmNpbEZ1bmN0aW9uTWFzayhlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNNYXNrPWV9Z2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsfWdldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbH1nZXRTdGVuY2lsT3BlcmF0aW9uUGFzcygpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzc31zZXRTdGVuY2lsT3BlcmF0aW9uRmFpbChlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbEZhaWw9ZX1zZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BEZXB0aEZhaWw9ZX1zZXRTdGVuY2lsT3BlcmF0aW9uUGFzcyhlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcz1lfXNldERpdGhlcmluZ1N0YXRlKGUpe2U/dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRJVEhFUik6dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5ESVRIRVIpfXNldFJhc3Rlcml6ZXJTdGF0ZShlKXtlP3RoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKTp0aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKX1nZXREZXB0aEZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuY31zZXREZXB0aEZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz1lfXNldERlcHRoRnVuY3Rpb25Ub0dyZWF0ZXIoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE2KX1zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyT3JFcXVhbCgpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTgpfXNldERlcHRoRnVuY3Rpb25Ub0xlc3MoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTEzKX1zZXREZXB0aEZ1bmN0aW9uVG9MZXNzT3JFcXVhbCgpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTUpfWNhY2hlU3RlbmNpbFN0YXRlKCl7dGhpcy5fY2FjaGVkU3RlbmNpbEJ1ZmZlcj10aGlzLmdldFN0ZW5jaWxCdWZmZXIoKSx0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb249dGhpcy5nZXRTdGVuY2lsRnVuY3Rpb24oKSx0aGlzLl9jYWNoZWRTdGVuY2lsTWFzaz10aGlzLmdldFN0ZW5jaWxNYXNrKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3M9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uUGFzcygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxSZWZlcmVuY2U9dGhpcy5nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoKX1yZXN0b3JlU3RlbmNpbFN0YXRlKCl7dGhpcy5zZXRTdGVuY2lsRnVuY3Rpb24odGhpcy5fY2FjaGVkU3RlbmNpbEZ1bmN0aW9uKSx0aGlzLnNldFN0ZW5jaWxNYXNrKHRoaXMuX2NhY2hlZFN0ZW5jaWxNYXNrKSx0aGlzLnNldFN0ZW5jaWxCdWZmZXIodGhpcy5fY2FjaGVkU3RlbmNpbEJ1ZmZlciksdGhpcy5zZXRTdGVuY2lsT3BlcmF0aW9uUGFzcyh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uUGFzcyksdGhpcy5zZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRmFpbCksdGhpcy5zZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwpLHRoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKHRoaXMuX2NhY2hlZFN0ZW5jaWxSZWZlcmVuY2UpfXNldERpcmVjdFZpZXdwb3J0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fY2FjaGVkVmlld3BvcnQ7cmV0dXJuIHRoaXMuX2NhY2hlZFZpZXdwb3J0PW51bGwsdGhpcy5fdmlld3BvcnQoZSx0LGkscykscn1zY2lzc29yQ2xlYXIoZSx0LGkscyxyKXt0aGlzLmVuYWJsZVNjaXNzb3IoZSx0LGkscyksdGhpcy5jbGVhcihyLCEwLCEwLCEwKSx0aGlzLmRpc2FibGVTY2lzc29yKCl9ZW5hYmxlU2Npc3NvcihlLHQsaSxzKXtjb25zdCByPXRoaXMuX2dsO3IuZW5hYmxlKHIuU0NJU1NPUl9URVNUKSxyLnNjaXNzb3IoZSx0LGkscyl9ZGlzYWJsZVNjaXNzb3IoKXtjb25zdCBlPXRoaXMuX2dsO2UuZGlzYWJsZShlLlNDSVNTT1JfVEVTVCl9X3JlcG9ydERyYXdDYWxsKGU9MSl7dGhpcy5fZHJhd0NhbGxzLmFkZENvdW50KGUsITEpfWluaXRXZWJWUigpe3Rocm93IHEoIldlYlZSQ2FtZXJhIil9X3ByZXBhcmVWUkNvbXBvbmVudCgpe31fY29ubmVjdFZSRXZlbnRzKGUsdCl7fV9zdWJtaXRWUkZyYW1lKCl7fWRpc2FibGVWUigpe31pc1ZSUHJlc2VudGluZygpe3JldHVybiExfV9yZXF1ZXN0VlJGcmFtZSgpe31fbG9hZEZpbGVBc3luYyhlLHQsaSl7cmV0dXJuIG5ldyBQcm9taXNlKChzLHIpPT57dGhpcy5fbG9hZEZpbGUoZSxuPT57cyhuKX0sdm9pZCAwLHQsaSwobixhKT0+e3IoYSl9KX0pfWdldFZlcnRleFNoYWRlclNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dsLmdldEF0dGFjaGVkU2hhZGVycyhlKTtyZXR1cm4gdD90aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UodFswXSk6bnVsbH1nZXRGcmFnbWVudFNoYWRlclNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dsLmdldEF0dGFjaGVkU2hhZGVycyhlKTtyZXR1cm4gdD90aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UodFsxXSk6bnVsbH1zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMpe2UhPT12b2lkIDAmJih0JiYodGhpcy5fYm91bmRVbmlmb3Jtc1tlXT10KSwhaXx8IWkuZGVwdGhTdGVuY2lsVGV4dHVyZT90aGlzLl9zZXRUZXh0dXJlKGUsbnVsbCx2b2lkIDAsdm9pZCAwLHMpOnRoaXMuX3NldFRleHR1cmUoZSxpLCExLCEwLHMpKX1zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKGUsdCxpKXt2YXIgcjtsZXQgcz1udWxsO3QmJih0Ll90ZXh0dXJlcy5kYXRhW3QuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXT9zPXQuX3RleHR1cmVzLmRhdGFbdC5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdOnQuX2ZvcmNlZE91dHB1dFRleHR1cmUmJihzPXQuX2ZvcmNlZE91dHB1dFRleHR1cmUpKSx0aGlzLl9iaW5kVGV4dHVyZShlLChyPXM9PW51bGw/dm9pZCAwOnMudGV4dHVyZSkhPW51bGw/cjpudWxsLGkpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQoZSx0LGkpe3ZhciBzLHI7dGhpcy5fYmluZFRleHR1cmUoZSwocj0ocz10PT1udWxsP3ZvaWQgMDp0Ll9vdXRwdXRUZXh0dXJlKT09bnVsbD92b2lkIDA6cy50ZXh0dXJlKSE9bnVsbD9yOm51bGwsaSl9X3JlYnVpbGRCdWZmZXJzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zY2VuZXMpZS5yZXNldENhY2hlZE1hdGVyaWFsKCksZS5fcmVidWlsZEdlb21ldHJpZXMoKSxlLl9yZWJ1aWxkVGV4dHVyZXMoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl92aXJ0dWFsU2NlbmVzKWUucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGUuX3JlYnVpbGRHZW9tZXRyaWVzKCksZS5fcmVidWlsZFRleHR1cmVzKCk7c3VwZXIuX3JlYnVpbGRCdWZmZXJzKCl9X3JlbmRlckZyYW1lKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzW2VdO3QoKX19X3JlbmRlckxvb3AoKXtpZighdGhpcy5fY29udGV4dFdhc0xvc3Qpe2xldCBlPSEwOyF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCYmKGU9ITEpLGUmJih0aGlzLmJlZ2luRnJhbWUoKSx0aGlzLl9yZW5kZXJWaWV3cygpfHx0aGlzLl9yZW5kZXJGcmFtZSgpLHRoaXMuZW5kRnJhbWUoKSl9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj8odGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZXF1ZXN0SUQ9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlbmRlckZ1bmN0aW9ufHx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRCk6dGhpcy5pc1ZSUHJlc2VudGluZygpP3RoaXMuX3JlcXVlc3RWUkZyYW1lKCk6dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX1fcmVuZGVyVmlld3MoKXtyZXR1cm4hMX1zd2l0Y2hGdWxsc2NyZWVuKGUpe3RoaXMuaXNGdWxsc2NyZWVuP3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLmVudGVyRnVsbHNjcmVlbihlKX1lbnRlckZ1bGxzY3JlZW4oZSl7dGhpcy5pc0Z1bGxzY3JlZW58fCh0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmQy5fUmVxdWVzdEZ1bGxzY3JlZW4odGhpcy5fcmVuZGVyaW5nQ2FudmFzKSl9ZXhpdEZ1bGxzY3JlZW4oKXt0aGlzLmlzRnVsbHNjcmVlbiYmQy5fRXhpdEZ1bGxzY3JlZW4oKX1lbnRlclBvaW50ZXJsb2NrKCl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZDLl9SZXF1ZXN0UG9pbnRlcmxvY2sodGhpcy5fcmVuZGVyaW5nQ2FudmFzKX1leGl0UG9pbnRlcmxvY2soKXtDLl9FeGl0UG9pbnRlcmxvY2soKX1iZWdpbkZyYW1lKCl7dGhpcy5fbWVhc3VyZUZwcygpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksc3VwZXIuYmVnaW5GcmFtZSgpfWVuZEZyYW1lKCl7c3VwZXIuZW5kRnJhbWUoKSx0aGlzLl9zdWJtaXRWUkZyYW1lKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmVzaXplKGU9ITEpe3RoaXMuaXNWUlByZXNlbnRpbmcoKXx8c3VwZXIucmVzaXplKGUpfXNldFNpemUoZSx0LGk9ITEpe2lmKCF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fCFzdXBlci5zZXRTaXplKGUsdCxpKSlyZXR1cm4hMTtpZih0aGlzLnNjZW5lcyl7Zm9yKGxldCBzPTA7czx0aGlzLnNjZW5lcy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuc2NlbmVzW3NdO2ZvcihsZXQgbj0wO248ci5jYW1lcmFzLmxlbmd0aDtuKyspe2NvbnN0IGE9ci5jYW1lcmFzW25dO2EuX2N1cnJlbnRSZW5kZXJJZD0wfX10aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfXJldHVybiEwfV9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lO3QmJnQucHJvZ3JhbSYmdC50cmFuc2Zvcm1GZWVkYmFjayYmKHRoaXMuZGVsZXRlVHJhbnNmb3JtRmVlZGJhY2sodC50cmFuc2Zvcm1GZWVkYmFjayksdC50cmFuc2Zvcm1GZWVkYmFjaz1udWxsKSxzdXBlci5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KGUpfWNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG49bnVsbCl7cj1yfHx0aGlzLl9nbCx0aGlzLm9uQmVmb3JlU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBhPXN1cGVyLmNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG4pO3JldHVybiB0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGF9X2NyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyPW51bGwpe2NvbnN0IG49cy5jcmVhdGVQcm9ncmFtKCk7aWYoZS5wcm9ncmFtPW4sIW4pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHByb2dyYW0iKTtpZihzLmF0dGFjaFNoYWRlcihuLHQpLHMuYXR0YWNoU2hhZGVyKG4saSksdGhpcy53ZWJHTFZlcnNpb24+MSYmcil7Y29uc3QgYT10aGlzLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCk7dGhpcy5iaW5kVHJhbnNmb3JtRmVlZGJhY2soYSksdGhpcy5zZXRUcmFuZm9ybUZlZWRiYWNrVmFyeWluZ3MobixyKSxlLnRyYW5zZm9ybUZlZWRiYWNrPWF9cmV0dXJuIHMubGlua1Byb2dyYW0obiksdGhpcy53ZWJHTFZlcnNpb24+MSYmciYmdGhpcy5iaW5kVHJhbnNmb3JtRmVlZGJhY2sobnVsbCksZS5jb250ZXh0PXMsZS52ZXJ0ZXhTaGFkZXI9dCxlLmZyYWdtZW50U2hhZGVyPWksZS5pc1BhcmFsbGVsQ29tcGlsZWR8fHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KGUpLG59X3JlbGVhc2VUZXh0dXJlKGUpe3N1cGVyLl9yZWxlYXNlVGV4dHVyZShlKX1fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSl7c3VwZXIuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKGUpLHRoaXMuc2NlbmVzLmZvckVhY2godD0+e3QucG9zdFByb2Nlc3Nlcy5mb3JFYWNoKGk9PntpLl9vdXRwdXRUZXh0dXJlPT09ZSYmKGkuX291dHB1dFRleHR1cmU9bnVsbCl9KSx0LmNhbWVyYXMuZm9yRWFjaChpPT57aS5fcG9zdFByb2Nlc3Nlcy5mb3JFYWNoKHM9PntzJiZzLl9vdXRwdXRUZXh0dXJlPT09ZSYmKHMuX291dHB1dFRleHR1cmU9bnVsbCl9KX0pfSl9Z2V0UmVuZGVyUGFzc05hbWVzKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc31nZXRDdXJyZW50UmVuZGVyUGFzc05hbWUoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzW3RoaXMuY3VycmVudFJlbmRlclBhc3NJZF19Y3JlYXRlUmVuZGVyUGFzc0lkKGUpe2NvbnN0IHQ9KytDLl9SZW5kZXJQYXNzSWRDb3VudGVyO3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdF09ZSE9bnVsbD9lOiJOT05BTUUiLHR9cmVsZWFzZVJlbmRlclBhc3NJZChlKXt0aGlzLl9yZW5kZXJQYXNzTmFtZXNbZV09dm9pZCAwO2ZvcihsZXQgdD0wO3Q8dGhpcy5zY2VuZXMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLnNjZW5lc1t0XTtmb3IobGV0IHM9MDtzPGkubWVzaGVzLmxlbmd0aDsrK3Mpe2NvbnN0IHI9aS5tZXNoZXNbc107aWYoci5zdWJNZXNoZXMpZm9yKGxldCBuPTA7bjxyLnN1Yk1lc2hlcy5sZW5ndGg7KytuKXIuc3ViTWVzaGVzW25dLl9yZW1vdmVEcmF3V3JhcHBlcihlKX19fV9yZXNjYWxlVGV4dHVyZShlLHQsaSxzLHIpe3RoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKTtjb25zdCBuPXRoaXMuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9LHtnZW5lcmF0ZU1pcE1hcHM6ITEsdHlwZTowLHNhbXBsaW5nTW9kZToyLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITEsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExfSk7IXRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmQy5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSYmKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcz1DLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5KHRoaXMpKSx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmdldEVmZmVjdCgpLmV4ZWN1dGVXaGVuQ29tcGlsZWQoKCk9Pnt0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3Mub25BcHBseT1mdW5jdGlvbihvKXtvLl9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLGUpfTtsZXQgYT1pO2F8fChhPXRoaXMuc2NlbmVzW3RoaXMuc2NlbmVzLmxlbmd0aC0xXSksYS5wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKFt0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3NdLG4sITApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0LCEwKSx0aGlzLl9nbC5jb3B5VGV4SW1hZ2UyRCh0aGlzLl9nbC5URVhUVVJFXzJELDAscywwLDAsdC53aWR0aCx0LmhlaWdodCwwKSx0aGlzLnVuQmluZEZyYW1lYnVmZmVyKG4pLG4uZGlzcG9zZSgpLHImJnIoKX0pfWdldEZwcygpe3JldHVybiB0aGlzLl9mcHN9Z2V0RGVsdGFUaW1lKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX1fbWVhc3VyZUZwcygpe3RoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5zYW1wbGVGcmFtZSgpLHRoaXMuX2Zwcz10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuYXZlcmFnZUZQUyx0aGlzLl9kZWx0YVRpbWU9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmluc3RhbnRhbmVvdXNGcmFtZVRpbWV8fDB9d3JhcFdlYkdMVGV4dHVyZShlKXtjb25zdCB0PW5ldyBacyhlLHRoaXMuX2dsKSxpPW5ldyB3dCh0aGlzLEJlLlVua25vd24sITApO3JldHVybiBpLl9oYXJkd2FyZVRleHR1cmU9dCxpLmlzUmVhZHk9ITAsaX1fdXBsb2FkSW1hZ2VUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksYT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbz10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlLnR5cGUsYSksaD1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBsPXIuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGw9ci5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSksci50ZXhJbWFnZTJEKGwscyxvLGEsbix0KSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGgsbnVsbCwhMCl9dXBkYXRlVGV4dHVyZUNvbXBhcmlzb25GdW5jdGlvbihlLHQpe2lmKHRoaXMud2ViR0xWZXJzaW9uPT09MSl7dy5FcnJvcigiV2ViR0wgMSBkb2VzIG5vdCBzdXBwb3J0IHRleHR1cmUgY29tcGFyaXNvbi4iKTtyZXR1cm59Y29uc3QgaT10aGlzLl9nbDtlLmlzQ3ViZT8odGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLGUsITApLHQ9PT0wPyhpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5OT05FKSk6KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpKToodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELGUsITApLHQ9PT0wPyhpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5OT05FKSk6KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpKSxlLl9jb21wYXJpc29uRnVuY3Rpb249dH1jcmVhdGVJbnN0YW5jZXNCdWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5zdGFuY2UgYnVmZmVyIik7Y29uc3QgaT1uZXcgQWkodCk7cmV0dXJuIGkuY2FwYWNpdHk9ZSx0aGlzLmJpbmRBcnJheUJ1ZmZlcihpKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksaS5yZWZlcmVuY2VzPTEsaX1kZWxldGVJbnN0YW5jZXNCdWZmZXIoZSl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKGUpfV9jbGllbnRXYWl0QXN5bmMoZSx0PTAsaT0xMCl7Y29uc3Qgcz10aGlzLl9nbDtyZXR1cm4gbmV3IFByb21pc2UoKHIsbik9Pntjb25zdCBhPSgpPT57Y29uc3Qgbz1zLmNsaWVudFdhaXRTeW5jKGUsdCwwKTtpZihvPT1zLldBSVRfRkFJTEVEKXtuKCk7cmV0dXJufWlmKG89PXMuVElNRU9VVF9FWFBJUkVEKXtzZXRUaW1lb3V0KGEsaSk7cmV0dXJufXIoKX07YSgpfSl9X3JlYWRQaXhlbHNBc3luYyhlLHQsaSxzLHIsbixhKXtpZih0aGlzLl93ZWJHTFZlcnNpb248Mil0aHJvdyBuZXcgRXJyb3IoIl9yZWFkUGl4ZWxzQXN5bmMgb25seSB3b3JrIG9uIFdlYkdMMisiKTtjb25zdCBvPXRoaXMuX2dsLGg9by5jcmVhdGVCdWZmZXIoKTtvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixoKSxvLmJ1ZmZlckRhdGEoby5QSVhFTF9QQUNLX0JVRkZFUixhLmJ5dGVMZW5ndGgsby5TVFJFQU1fUkVBRCksby5yZWFkUGl4ZWxzKGUsdCxpLHMscixuLDApLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpO2NvbnN0IGw9by5mZW5jZVN5bmMoby5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwwKTtyZXR1cm4gbD8oby5mbHVzaCgpLHRoaXMuX2NsaWVudFdhaXRBc3luYyhsLDAsMTApLnRoZW4oKCk9PihvLmRlbGV0ZVN5bmMobCksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsaCksby5nZXRCdWZmZXJTdWJEYXRhKG8uUElYRUxfUEFDS19CVUZGRVIsMCxhKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixudWxsKSxvLmRlbGV0ZUJ1ZmZlcihoKSxhKSkpOm51bGx9ZGlzcG9zZSgpe2Zvcih0aGlzLmhpZGVMb2FkaW5nVUkoKSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKTt0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOyl0aGlzLnBvc3RQcm9jZXNzZXNbMF0uZGlzcG9zZSgpO2Zvcih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJnRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5kaXNwb3NlKCk7dGhpcy5zY2VuZXMubGVuZ3RoOyl0aGlzLnNjZW5lc1swXS5kaXNwb3NlKCk7Zm9yKDt0aGlzLl92aXJ0dWFsU2NlbmVzLmxlbmd0aDspdGhpcy5fdmlydHVhbFNjZW5lc1swXS5kaXNwb3NlKCk7Qy5JbnN0YW5jZXMubGVuZ3RoPT09MSYmQy5hdWRpb0VuZ2luZSYmKEMuYXVkaW9FbmdpbmUuZGlzcG9zZSgpLEMuYXVkaW9FbmdpbmU9bnVsbCksdGhpcy5kaXNhYmxlVlIoKSxVZSgpJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5fb25DYW52YXNDb250ZXh0TWVudSkpLFVpKCkmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vemZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSkpKSxzdXBlci5kaXNwb3NlKCk7Y29uc3QgZT1DLkluc3RhbmNlcy5pbmRleE9mKHRoaXMpO2U+PTAmJkMuSW5zdGFuY2VzLnNwbGljZShlLDEpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGUuY2xlYXIoKX1fZGlzYWJsZVRvdWNoQWN0aW9uKCl7IXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGV8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUubXNUb3VjaEFjdGlvbj0ibm9uZSIsdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJ0cmFuc3BhcmVudCIpfWRpc3BsYXlMb2FkaW5nVUkoKXtpZighVWUoKSlyZXR1cm47Y29uc3QgZT10aGlzLmxvYWRpbmdTY3JlZW47ZSYmZS5kaXNwbGF5TG9hZGluZ1VJKCl9aGlkZUxvYWRpbmdVSSgpe2lmKCFVZSgpKXJldHVybjtjb25zdCBlPXRoaXMuX2xvYWRpbmdTY3JlZW47ZSYmZS5oaWRlTG9hZGluZ1VJKCl9Z2V0IGxvYWRpbmdTY3JlZW4oKXtyZXR1cm4hdGhpcy5fbG9hZGluZ1NjcmVlbiYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fbG9hZGluZ1NjcmVlbj1DLkRlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeSh0aGlzLl9yZW5kZXJpbmdDYW52YXMpKSx0aGlzLl9sb2FkaW5nU2NyZWVufXNldCBsb2FkaW5nU2NyZWVuKGUpe3RoaXMuX2xvYWRpbmdTY3JlZW49ZX1zZXQgbG9hZGluZ1VJVGV4dChlKXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJVGV4dD1lfXNldCBsb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3IoZSl7dGhpcy5sb2FkaW5nU2NyZWVuLmxvYWRpbmdVSUJhY2tncm91bmRDb2xvcj1lfWNyZWF0ZVZpZGVvRWxlbWVudChlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidmlkZW8iKX1zdGF0aWMgX1JlcXVlc3RQb2ludGVybG9jayhlKXtlLnJlcXVlc3RQb2ludGVyTG9jaz1lLnJlcXVlc3RQb2ludGVyTG9ja3x8ZS5tc1JlcXVlc3RQb2ludGVyTG9ja3x8ZS5tb3pSZXF1ZXN0UG9pbnRlckxvY2t8fGUud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrLGUucmVxdWVzdFBvaW50ZXJMb2NrJiYoZS5yZXF1ZXN0UG9pbnRlckxvY2soKSxlLmZvY3VzKCkpfXN0YXRpYyBfRXhpdFBvaW50ZXJsb2NrKCl7Y29uc3QgZT1kb2N1bWVudDtkb2N1bWVudC5leGl0UG9pbnRlckxvY2s9ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrfHxlLm1zRXhpdFBvaW50ZXJMb2NrfHxlLm1vekV4aXRQb2ludGVyTG9ja3x8ZS53ZWJraXRFeGl0UG9pbnRlckxvY2ssZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX1zdGF0aWMgX1JlcXVlc3RGdWxsc2NyZWVuKGUpe2NvbnN0IHQ9ZS5yZXF1ZXN0RnVsbHNjcmVlbnx8ZS5tc1JlcXVlc3RGdWxsc2NyZWVufHxlLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVufHxlLm1velJlcXVlc3RGdWxsU2NyZWVuOyF0fHx0LmNhbGwoZSl9c3RhdGljIF9FeGl0RnVsbHNjcmVlbigpe2NvbnN0IGU9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLm1vekNhbmNlbEZ1bGxTY3JlZW4/ZS5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6ZS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuP2Uud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOmUubXNDYW5jZWxGdWxsU2NyZWVuJiZlLm1zQ2FuY2VsRnVsbFNjcmVlbigpfWdldEZvbnRPZmZzZXQoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7dC5pbm5lckhUTUw9IkhnIix0LnNldEF0dHJpYnV0ZSgic3R5bGUiLGBmb250OiAke2V9ICFpbXBvcnRhbnRgKTtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixpLnN0eWxlLndpZHRoPSIxcHgiLGkuc3R5bGUuaGVpZ2h0PSIwcHgiLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYm90dG9tIjtjb25zdCBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIixzLmFwcGVuZENoaWxkKHQpLHMuYXBwZW5kQ2hpbGQoaSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtsZXQgcj0wLG49MDt0cnl7bj1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxpLnN0eWxlLnZlcnRpY2FsQWxpZ249ImJhc2VsaW5lIixyPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wfWZpbmFsbHl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzKX1yZXR1cm57YXNjZW50OnIsaGVpZ2h0Om4sZGVzY2VudDpuLXJ9fX1DLkFMUEhBX0RJU0FCTEU9MCxDLkFMUEhBX0FERD0xLEMuQUxQSEFfQ09NQklORT0yLEMuQUxQSEFfU1VCVFJBQ1Q9MyxDLkFMUEhBX01VTFRJUExZPTQsQy5BTFBIQV9NQVhJTUlaRUQ9NSxDLkFMUEhBX09ORU9ORT02LEMuQUxQSEFfUFJFTVVMVElQTElFRD03LEMuQUxQSEFfUFJFTVVMVElQTElFRF9QT1JURVJEVUZGPTgsQy5BTFBIQV9JTlRFUlBPTEFURT05LEMuQUxQSEFfU0NSRUVOTU9ERT0xMCxDLkRFTEFZTE9BRFNUQVRFX05PTkU9MCxDLkRFTEFZTE9BRFNUQVRFX0xPQURFRD0xLEMuREVMQVlMT0FEU1RBVEVfTE9BRElORz0yLEMuREVMQVlMT0FEU1RBVEVfTk9UTE9BREVEPTQsQy5ORVZFUj01MTIsQy5BTFdBWVM9NTE5LEMuTEVTUz01MTMsQy5FUVVBTD01MTQsQy5MRVFVQUw9NTE1LEMuR1JFQVRFUj01MTYsQy5HRVFVQUw9NTE4LEMuTk9URVFVQUw9NTE3LEMuS0VFUD03NjgwLEMuUkVQTEFDRT03NjgxLEMuSU5DUj03NjgyLEMuREVDUj03NjgzLEMuSU5WRVJUPTUzODYsQy5JTkNSX1dSQVA9MzQwNTUsQy5ERUNSX1dSQVA9MzQwNTYsQy5URVhUVVJFX0NMQU1QX0FERFJFU1NNT0RFPTAsQy5URVhUVVJFX1dSQVBfQUREUkVTU01PREU9MSxDLlRFWFRVUkVfTUlSUk9SX0FERFJFU1NNT0RFPTIsQy5URVhUVVJFRk9STUFUX0FMUEhBPTAsQy5URVhUVVJFRk9STUFUX0xVTUlOQU5DRT0xLEMuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0VfQUxQSEE9MixDLlRFWFRVUkVGT1JNQVRfUkdCPTQsQy5URVhUVVJFRk9STUFUX1JHQkE9NSxDLlRFWFRVUkVGT1JNQVRfUkVEPTYsQy5URVhUVVJFRk9STUFUX1I9NixDLlRFWFRVUkVGT1JNQVRfUkc9NyxDLlRFWFRVUkVGT1JNQVRfUkVEX0lOVEVHRVI9OCxDLlRFWFRVUkVGT1JNQVRfUl9JTlRFR0VSPTgsQy5URVhUVVJFRk9STUFUX1JHX0lOVEVHRVI9OSxDLlRFWFRVUkVGT1JNQVRfUkdCX0lOVEVHRVI9MTAsQy5URVhUVVJFRk9STUFUX1JHQkFfSU5URUdFUj0xMSxDLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEU9MCxDLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVD0wLEMuVEVYVFVSRVRZUEVfRkxPQVQ9MSxDLlRFWFRVUkVUWVBFX0hBTEZfRkxPQVQ9MixDLlRFWFRVUkVUWVBFX0JZVEU9MyxDLlRFWFRVUkVUWVBFX1NIT1JUPTQsQy5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVD01LEMuVEVYVFVSRVRZUEVfSU5UPTYsQy5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRFR0VSPTcsQy5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF80XzRfNF80PTgsQy5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzVfNV8xPTksQy5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzZfNT0xMCxDLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVj0xMSxDLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yNF84PTEyLEMuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVj0xMyxDLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF81XzlfOV85X1JFVj0xNCxDLlRFWFRVUkVUWVBFX0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVj0xNSxDLlRFWFRVUkVfTkVBUkVTVF9TQU1QTElOR01PREU9MSxDLlRFWFRVUkVfQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsQy5URVhUVVJFX1RSSUxJTkVBUl9TQU1QTElOR01PREU9MyxDLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LEMuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsQy5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsQy5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsQy5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxDLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsQy5URVhUVVJFX05FQVJFU1RfTElORUFSPTcsQy5URVhUVVJFX05FQVJFU1RfTkVBUkVTVD0xLEMuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksQy5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxDLlRFWFRVUkVfTElORUFSX0xJTkVBUj0yLEMuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVD0xMixDLlRFWFRVUkVfRVhQTElDSVRfTU9ERT0wLEMuVEVYVFVSRV9TUEhFUklDQUxfTU9ERT0xLEMuVEVYVFVSRV9QTEFOQVJfTU9ERT0yLEMuVEVYVFVSRV9DVUJJQ19NT0RFPTMsQy5URVhUVVJFX1BST0pFQ1RJT05fTU9ERT00LEMuVEVYVFVSRV9TS1lCT1hfTU9ERT01LEMuVEVYVFVSRV9JTlZDVUJJQ19NT0RFPTYsQy5URVhUVVJFX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTcsQy5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsQy5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksQy5TQ0FMRU1PREVfRkxPT1I9MSxDLlNDQUxFTU9ERV9ORUFSRVNUPTIsQy5TQ0FMRU1PREVfQ0VJTElORz0zLEMuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnk9bnVsbCxDLl9SZW5kZXJQYXNzSWRDb3VudGVyPTAsbGUucHJvdG90eXBlLl9kZWJ1Z1B1c2hHcm91cD1mdW5jdGlvbihjLGUpe30sbGUucHJvdG90eXBlLl9kZWJ1Z1BvcEdyb3VwPWZ1bmN0aW9uKGMpe30sbGUucHJvdG90eXBlLl9kZWJ1Z0luc2VydE1hcmtlcj1mdW5jdGlvbihjLGUpe30sbGUucHJvdG90eXBlLl9kZWJ1Z0ZsdXNoUGVuZGluZ0NvbW1hbmRzPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBKcihjKXtyZXR1cm4gbmV3IEMoYywhMCx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLHN0ZW5jaWw6ITB9KX1jbGFzcyBpZXtjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWl9dG9TdHJpbmcoKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIn0ifWdldENsYXNzTmFtZSgpe3JldHVybiJDb2xvcjMifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gaWUuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9dG9Db2xvcjQoZT0xKXtyZXR1cm4gbmV3IGdlKHRoaXMucix0aGlzLmcsdGhpcy5iLGUpfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmJdfXRvTHVtaW5hbmNlKCl7cmV0dXJuIHRoaXMuciouMyt0aGlzLmcqLjU5K3RoaXMuYiouMTF9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyBpZSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYn1lcXVhbHNGbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLnI9PT1lJiZ0aGlzLmc9PT10JiZ0aGlzLmI9PT1pfXNjYWxlKGUpe3JldHVybiBuZXcgaWUodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKj1lLHRoaXMuZyo9ZSx0aGlzLmIqPWUsdGhpc31zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0aGlzfWNsYW1wVG9SZWYoZT0wLHQ9MSxpKXtyZXR1cm4gaS5yPXouQ2xhbXAodGhpcy5yLGUsdCksaS5nPXouQ2xhbXAodGhpcy5nLGUsdCksaS5iPXouQ2xhbXAodGhpcy5iLGUsdCksdGhpc31hZGQoZSl7cmV0dXJuIG5ldyBpZSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYil9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMucitlLnIsdC5nPXRoaXMuZytlLmcsdC5iPXRoaXMuYitlLmIsdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IGllKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iKX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IGllKHRoaXMucix0aGlzLmcsdGhpcy5iKX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXN9c2V0KGUsdCxpKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSl9dG9IZXhTdHJpbmcoKXtjb25zdCBlPU1hdGgucm91bmQodGhpcy5yKjI1NSksdD1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLGk9TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtyZXR1cm4iIyIrei5Ub0hleChlKSt6LlRvSGV4KHQpK3ouVG9IZXgoaSl9dG9MaW5lYXJTcGFjZSgpe2NvbnN0IGU9bmV3IGllO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZihlKSxlfXRvSFNWKCl7Y29uc3QgZT1uZXcgaWU7cmV0dXJuIHRoaXMudG9IU1ZUb1JlZihlKSxlfXRvSFNWVG9SZWYoZSl7Y29uc3QgdD10aGlzLnIsaT10aGlzLmcscz10aGlzLmIscj1NYXRoLm1heCh0LGkscyksbj1NYXRoLm1pbih0LGkscyk7bGV0IGE9MCxvPTA7Y29uc3QgaD1yLGw9ci1uO3IhPT0wJiYobz1sL3IpLHIhPW4mJihyPT10PyhhPShpLXMpL2wsaTxzJiYoYSs9NikpOnI9PWk/YT0ocy10KS9sKzI6cj09cyYmKGE9KHQtaSkvbCs0KSxhKj02MCksZS5yPWEsZS5nPW8sZS5iPWh9dG9MaW5lYXJTcGFjZVRvUmVmKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLENlKSxlLmc9TWF0aC5wb3codGhpcy5nLENlKSxlLmI9TWF0aC5wb3codGhpcy5iLENlKSx0aGlzfXRvR2FtbWFTcGFjZSgpe2NvbnN0IGU9bmV3IGllO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9dG9HYW1tYVNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsdmUpLGUuZz1NYXRoLnBvdyh0aGlzLmcsdmUpLGUuYj1NYXRoLnBvdyh0aGlzLmIsdmUpLHRoaXN9c3RhdGljIEhTVnRvUkdCVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1pKnQsbj1lLzYwLGE9ciooMS1NYXRoLmFicyhuJTItMSkpO2xldCBvPTAsaD0wLGw9MDtuPj0wJiZuPD0xPyhvPXIsaD1hKTpuPj0xJiZuPD0yPyhvPWEsaD1yKTpuPj0yJiZuPD0zPyhoPXIsbD1hKTpuPj0zJiZuPD00PyhoPWEsbD1yKTpuPj00JiZuPD01PyhvPWEsbD1yKTpuPj01JiZuPD02JiYobz1yLGw9YSk7Y29uc3QgdT1pLXI7cy5zZXQobyt1LGgrdSxsK3UpfXN0YXRpYyBGcm9tSFNWKGUsdCxpKXtjb25zdCBzPW5ldyBpZSgwLDAsMCk7cmV0dXJuIGllLkhTVnRvUkdCVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRnJvbUhleFN0cmluZyhlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyBpZSgwLDAsMCk7Y29uc3QgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLHM9cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNik7cmV0dXJuIGllLkZyb21JbnRzKHQsaSxzKX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IGllKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdD0wLGkpe2kucj1lW3RdLGkuZz1lW3QrMV0saS5iPWVbdCsyXX1zdGF0aWMgRnJvbUludHMoZSx0LGkpe3JldHVybiBuZXcgaWUoZS8yNTUsdC8yNTUsaS8yNTUpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyBpZSgwLDAsMCk7cmV0dXJuIGllLkxlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMZXJwVG9SZWYoZSx0LGkscyl7cy5yPWUucisodC5yLWUucikqaSxzLmc9ZS5nKyh0LmctZS5nKSppLHMuYj1lLmIrKHQuYi1lLmIpKml9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixmPWUucipvK2kucipoK3QucipsK3Mucip1LGQ9ZS5nKm8raS5nKmgrdC5nKmwrcy5nKnUsXz1lLmIqbytpLmIqaCt0LmIqbCtzLmIqdTtyZXR1cm4gbmV3IGllKGYsZCxfKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPWllLkJsYWNrKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7bi5yPShhLXIpKjYqZS5yKygzKmEtNCpyKzEpKnQucisoLWErcikqNippLnIrKDMqYS0yKnIpKnMucixuLmc9KGEtcikqNiplLmcrKDMqYS00KnIrMSkqdC5nKygtYStyKSo2KmkuZysoMyphLTIqcikqcy5nLG4uYj0oYS1yKSo2KmUuYisoMyphLTQqcisxKSp0LmIrKC1hK3IpKjYqaS5iKygzKmEtMipyKSpzLmJ9c3RhdGljIFJlZCgpe3JldHVybiBuZXcgaWUoMSwwLDApfXN0YXRpYyBHcmVlbigpe3JldHVybiBuZXcgaWUoMCwxLDApfXN0YXRpYyBCbHVlKCl7cmV0dXJuIG5ldyBpZSgwLDAsMSl9c3RhdGljIEJsYWNrKCl7cmV0dXJuIG5ldyBpZSgwLDAsMCl9c3RhdGljIGdldCBCbGFja1JlYWRPbmx5KCl7cmV0dXJuIGllLl9CbGFja1JlYWRPbmx5fXN0YXRpYyBXaGl0ZSgpe3JldHVybiBuZXcgaWUoMSwxLDEpfXN0YXRpYyBQdXJwbGUoKXtyZXR1cm4gbmV3IGllKC41LDAsLjUpfXN0YXRpYyBNYWdlbnRhKCl7cmV0dXJuIG5ldyBpZSgxLDAsMSl9c3RhdGljIFllbGxvdygpe3JldHVybiBuZXcgaWUoMSwxLDApfXN0YXRpYyBHcmF5KCl7cmV0dXJuIG5ldyBpZSguNSwuNSwuNSl9c3RhdGljIFRlYWwoKXtyZXR1cm4gbmV3IGllKDAsMSwxKX1zdGF0aWMgUmFuZG9tKCl7cmV0dXJuIG5ldyBpZShNYXRoLnJhbmRvbSgpLE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSl9fWllLl9CbGFja1JlYWRPbmx5PWllLkJsYWNrKCk7Y2xhc3MgZ2V7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0xKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aSx0aGlzLmE9c31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzLmErPWUuYSx0aGlzfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hXX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLGVbdCszXT10aGlzLmEsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiBnZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmImJnRoaXMuYT09PWUuYX1hZGQoZSl7cmV0dXJuIG5ldyBnZSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYix0aGlzLmErZS5hKX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IGdlKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iLHRoaXMuYS1lLmEpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdC5hPXRoaXMuYS1lLmEsdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IGdlKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplLHRoaXMuYSplKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMucio9ZSx0aGlzLmcqPWUsdGhpcy5iKj1lLHRoaXMuYSo9ZSx0aGlzfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdC5hPXRoaXMuYSplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0LmErPXRoaXMuYSplLHRoaXN9Y2xhbXBUb1JlZihlPTAsdD0xLGkpe3JldHVybiBpLnI9ei5DbGFtcCh0aGlzLnIsZSx0KSxpLmc9ei5DbGFtcCh0aGlzLmcsZSx0KSxpLmI9ei5DbGFtcCh0aGlzLmIsZSx0KSxpLmE9ei5DbGFtcCh0aGlzLmEsZSx0KSx0aGlzfW11bHRpcGx5KGUpe3JldHVybiBuZXcgZ2UodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIsdGhpcy5hKmUuYSl9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0LmE9dGhpcy5hKmUuYSx0fXRvU3RyaW5nKCl7cmV0dXJuIntSOiAiK3RoaXMucisiIEc6Iit0aGlzLmcrIiBCOiIrdGhpcy5iKyIgQToiK3RoaXMuYSsifSJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yNCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmEqMjU1fDApLGV9Y2xvbmUoKXtyZXR1cm4gbmV3IGdlKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMucj1lLnIsdGhpcy5nPWUuZyx0aGlzLmI9ZS5iLHRoaXMuYT1lLmEsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpcy5hPXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9dG9IZXhTdHJpbmcoZT0hMSl7Y29uc3QgdD1NYXRoLnJvdW5kKHRoaXMucioyNTUpLGk9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxzPU1hdGgucm91bmQodGhpcy5iKjI1NSk7aWYoZSlyZXR1cm4iIyIrei5Ub0hleCh0KSt6LlRvSGV4KGkpK3ouVG9IZXgocyk7Y29uc3Qgcj1NYXRoLnJvdW5kKHRoaXMuYSoyNTUpO3JldHVybiIjIit6LlRvSGV4KHQpK3ouVG9IZXgoaSkrei5Ub0hleChzKSt6LlRvSGV4KHIpfXRvTGluZWFyU3BhY2UoKXtjb25zdCBlPW5ldyBnZTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYoZSksZX10b0xpbmVhclNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsQ2UpLGUuZz1NYXRoLnBvdyh0aGlzLmcsQ2UpLGUuYj1NYXRoLnBvdyh0aGlzLmIsQ2UpLGUuYT10aGlzLmEsdGhpc310b0dhbW1hU3BhY2UoKXtjb25zdCBlPW5ldyBnZTtyZXR1cm4gdGhpcy50b0dhbW1hU3BhY2VUb1JlZihlKSxlfXRvR2FtbWFTcGFjZVRvUmVmKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLHZlKSxlLmc9TWF0aC5wb3codGhpcy5nLHZlKSxlLmI9TWF0aC5wb3codGhpcy5iLHZlKSxlLmE9dGhpcy5hLHRoaXN9c3RhdGljIEZyb21IZXhTdHJpbmcoZSl7aWYoZS5zdWJzdHJpbmcoMCwxKSE9PSIjInx8ZS5sZW5ndGghPT05JiZlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyBnZSgwLDAsMCwwKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNikscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KSxyPWUubGVuZ3RoPT09OT9wYXJzZUludChlLnN1YnN0cmluZyg3LDkpLDE2KToyNTU7cmV0dXJuIGdlLkZyb21JbnRzKHQsaSxzLHIpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyBnZSgwLDAsMCwwKTtyZXR1cm4gZ2UuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLnI9ZS5yKyh0LnItZS5yKSppLHMuZz1lLmcrKHQuZy1lLmcpKmkscy5iPWUuYisodC5iLWUuYikqaSxzLmE9ZS5hKyh0LmEtZS5hKSppfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZj1lLnIqbytpLnIqaCt0LnIqbCtzLnIqdSxkPWUuZypvK2kuZypoK3QuZypsK3MuZyp1LF89ZS5iKm8raS5iKmgrdC5iKmwrcy5iKnUsRT1lLmEqbytpLmEqaCt0LmEqbCtzLmEqdTtyZXR1cm4gbmV3IGdlKGYsZCxfLEUpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGdlO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO24ucj0oYS1yKSo2KmUucisoMyphLTQqcisxKSp0LnIrKC1hK3IpKjYqaS5yKygzKmEtMipyKSpzLnIsbi5nPShhLXIpKjYqZS5nKygzKmEtNCpyKzEpKnQuZysoLWErcikqNippLmcrKDMqYS0yKnIpKnMuZyxuLmI9KGEtcikqNiplLmIrKDMqYS00KnIrMSkqdC5iKygtYStyKSo2KmkuYisoMyphLTIqcikqcy5iLG4uYT0oYS1yKSo2KmUuYSsoMyphLTQqcisxKSp0LmErKC1hK3IpKjYqaS5hKygzKmEtMipyKSpzLmF9c3RhdGljIEZyb21Db2xvcjMoZSx0PTEpe3JldHVybiBuZXcgZ2UoZS5yLGUuZyxlLmIsdCl9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBnZShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0PTAsaSl7aS5yPWVbdF0saS5nPWVbdCsxXSxpLmI9ZVt0KzJdLGkuYT1lW3QrM119c3RhdGljIEZyb21JbnRzKGUsdCxpLHMpe3JldHVybiBuZXcgZ2UoZS8yNTUsdC8yNTUsaS8yNTUscy8yNTUpfXN0YXRpYyBDaGVja0NvbG9yczQoZSx0KXtpZihlLmxlbmd0aD09PXQqMyl7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTMpe2NvbnN0IHI9cy8zKjQ7aVtyXT1lW3NdLGlbcisxXT1lW3MrMV0saVtyKzJdPWVbcysyXSxpW3IrM109MX1yZXR1cm4gaX1yZXR1cm4gZX19Y2xhc3MgZ2l7fWdpLkNvbG9yMz1BZS5CdWlsZEFycmF5KDMsaWUuQmxhY2spLGdpLkNvbG9yND1BZS5CdWlsZEFycmF5KDMsKCk9Pm5ldyBnZSgwLDAsMCwwKSksdHQoIkJBQllMT04uQ29sb3IzIixpZSksdHQoIkJBQllMT04uQ29sb3I0IixnZSk7Y29uc3QgcXM9KGMsZSk9PiFjfHxjLmdldENsYXNzTmFtZSYmYy5nZXRDbGFzc05hbWUoKT09PSJNZXNoIj9udWxsOmMuZ2V0Q2xhc3NOYW1lJiZjLmdldENsYXNzTmFtZSgpPT09IlN1Yk1lc2giP2MuY2xvbmUoZSk6Yy5jbG9uZT9jLmNsb25lKCk6bnVsbDtmdW5jdGlvbiBlbihjKXtjb25zdCBlPVtdO2RvIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5pbmRleE9mKHQpPT09LTEmJmUucHVzaCh0KX0pO3doaWxlKGM9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpKTtyZXR1cm4gZX1jbGFzcyBnc3tzdGF0aWMgRGVlcENvcHkoZSx0LGkscyl7Y29uc3Qgcj1lbihlKTtmb3IoY29uc3QgbiBvZiByKXtpZihuWzBdPT09Il8iJiYoIXN8fHMuaW5kZXhPZihuKT09PS0xKXx8bi5lbmRzV2l0aCgiT2JzZXJ2YWJsZSIpfHxpJiZpLmluZGV4T2YobikhPT0tMSljb250aW51ZTtjb25zdCBhPWVbbl0sbz10eXBlb2YgYTtpZihvIT09ImZ1bmN0aW9uIil0cnl7aWYobz09PSJvYmplY3QiKWlmKGEgaW5zdGFuY2VvZiBBcnJheSl7aWYodFtuXT1bXSxhLmxlbmd0aD4wKWlmKHR5cGVvZiBhWzBdPT0ib2JqZWN0Iilmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1xcyhhW2hdLHQpO3Rbbl0uaW5kZXhPZihsKT09PS0xJiZ0W25dLnB1c2gobCl9ZWxzZSB0W25dPWEuc2xpY2UoMCl9ZWxzZSB0W25dPXFzKGEsdCk7ZWxzZSB0W25dPWF9Y2F0Y2goaCl7dy5XYXJuKGgubWVzc2FnZSl9fX19ZnVuY3Rpb24gdG4oKXtyZXR1cm4gdHlwZW9mIF9uYXRpdmU8InUiJiZfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0P25ldyBfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdH1jbGFzcyBsdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3hocj10bigpLHRoaXMuX3JlcXVlc3RVUkw9IiJ9X2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzKCl7aWYoIXRoaXMuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyh0aGlzLl9yZXF1ZXN0VVJMKSlmb3IoY29uc3QgZSBpbiBsdC5DdXN0b21SZXF1ZXN0SGVhZGVycyl7Y29uc3QgdD1sdC5DdXN0b21SZXF1ZXN0SGVhZGVyc1tlXTt0JiZ0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfX1fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKGUpe3JldHVybiBsdC5Ta2lwUmVxdWVzdE1vZGlmaWNhdGlvbkZvckJhYnlsb25DRE4mJihlLmluY2x1ZGVzKCJwcmV2aWV3LmJhYnlsb25qcy5jb20iKXx8ZS5pbmNsdWRlcygiY2RuLmJhYnlsb25qcy5jb20iKSl9Z2V0IG9ucHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy5feGhyLm9ucHJvZ3Jlc3N9c2V0IG9ucHJvZ3Jlc3MoZSl7dGhpcy5feGhyLm9ucHJvZ3Jlc3M9ZX1nZXQgcmVhZHlTdGF0ZSgpe3JldHVybiB0aGlzLl94aHIucmVhZHlTdGF0ZX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXN9Z2V0IHN0YXR1c1RleHQoKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c1RleHR9Z2V0IHJlc3BvbnNlKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZX1nZXQgcmVzcG9uc2VVUkwoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVVJMfWdldCByZXNwb25zZVRleHQoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVGV4dH1nZXQgcmVzcG9uc2VUeXBlKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVR5cGV9c2V0IHJlc3BvbnNlVHlwZShlKXt0aGlzLl94aHIucmVzcG9uc2VUeXBlPWV9Z2V0IHRpbWVvdXQoKXtyZXR1cm4gdGhpcy5feGhyLnRpbWVvdXR9c2V0IHRpbWVvdXQoZSl7dGhpcy5feGhyLnRpbWVvdXQ9ZX1hZGRFdmVudExpc3RlbmVyKGUsdCxpKXt0aGlzLl94aHIuYWRkRXZlbnRMaXN0ZW5lcihlLHQsaSl9cmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsaSl7dGhpcy5feGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LGkpfWFib3J0KCl7dGhpcy5feGhyLmFib3J0KCl9c2VuZChlKXtsdC5DdXN0b21SZXF1ZXN0SGVhZGVycyYmdGhpcy5faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKSx0aGlzLl94aHIuc2VuZChlKX1vcGVuKGUsdCl7Zm9yKGNvbnN0IGkgb2YgbHQuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycyl7aWYodGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHQpKXJldHVybjtpKHRoaXMuX3hocix0KX1yZXR1cm4gdD10LnJlcGxhY2UoImZpbGU6aHR0cDoiLCJodHRwOiIpLHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHBzOiIsImh0dHBzOiIpLHRoaXMuX3JlcXVlc3RVUkw9dCx0aGlzLl94aHIub3BlbihlLHQsITApfXNldFJlcXVlc3RIZWFkZXIoZSx0KXt0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfWdldFJlc3BvbnNlSGVhZGVyKGUpe3JldHVybiB0aGlzLl94aHIuZ2V0UmVzcG9uc2VIZWFkZXIoZSl9fWx0LkN1c3RvbVJlcXVlc3RIZWFkZXJzPXt9LGx0LkN1c3RvbVJlcXVlc3RNb2RpZmllcnM9bmV3IEFycmF5LGx0LlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETj0hMDtjbGFzcyB5aXt9eWkuRmlsZXNUb0xvYWQ9e307Y2xhc3Mgc257c3RhdGljIEV4cG9uZW50aWFsQmFja29mZihlPTMsdD01MDApe3JldHVybihpLHMscik9PnMuc3RhdHVzIT09MHx8cj49ZXx8aS5pbmRleE9mKCJmaWxlOiIpIT09LTE/LTE6TWF0aC5wb3coMixyKSp0fX1jbGFzcyBwaSBleHRlbmRzIEVycm9ye31waS5fc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoKGMsZSk9PihjLl9fcHJvdG9fXz1lLGMpKTtjb25zdCByaT17TWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcjowLFVuc3VwcG9ydGVkVGV4dHVyZUVycm9yOjFlMyxHTFRGTG9hZGVyVW5leHBlY3RlZE1hZ2ljRXJyb3I6MmUzLFNjZW5lTG9hZGVyRXJyb3I6M2UzLExvYWRGaWxlRXJyb3I6NGUzLFJlcXVlc3RGaWxlRXJyb3I6NDAwMSxSZWFkRmlsZUVycm9yOjQwMDJ9O2NsYXNzIEx0IGV4dGVuZHMgcGl7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUpLHRoaXMuZXJyb3JDb2RlPXQsdGhpcy5pbm5lckVycm9yPWksdGhpcy5uYW1lPSJSdW50aW1lRXJyb3IiLHBpLl9zZXRQcm90b3R5cGVPZih0aGlzLEx0LnByb3RvdHlwZSl9fWNvbnN0IGpzPWM9Pntjb25zdCBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7bGV0IHQ9IiIsaSxzLHIsbixhLG8saCxsPTA7Y29uc3QgdT1BcnJheUJ1ZmZlci5pc1ZpZXcoYyk/bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIsYy5ieXRlT2Zmc2V0LGMuYnl0ZUxlbmd0aCk6bmV3IFVpbnQ4QXJyYXkoYyk7Zm9yKDtsPHUubGVuZ3RoOylpPXVbbCsrXSxzPWw8dS5sZW5ndGg/dVtsKytdOk51bWJlci5OYU4scj1sPHUubGVuZ3RoP3VbbCsrXTpOdW1iZXIuTmFOLG49aT4+MixhPShpJjMpPDw0fHM+PjQsbz0ocyYxNSk8PDJ8cj4+NixoPXImNjMsaXNOYU4ocyk/bz1oPTY0OmlzTmFOKHIpJiYoaD02NCksdCs9ZS5jaGFyQXQobikrZS5jaGFyQXQoYSkrZS5jaGFyQXQobykrZS5jaGFyQXQoaCk7cmV0dXJuIHR9LFFzPWM9PmF0b2IoYykscm49Yz0+e2NvbnN0IGU9UXMoYyksdD1lLmxlbmd0aCxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0KSk7Zm9yKGxldCBzPTA7czx0O3MrKylpW3NdPWUuY2hhckNvZGVBdChzKTtyZXR1cm4gaS5idWZmZXJ9O2NsYXNzIFZpe3N0YXRpYyBTZXRJbW1lZGlhdGUoZSl7VWUoKSYmd2luZG93LnNldEltbWVkaWF0ZT93aW5kb3cuc2V0SW1tZWRpYXRlKGUpOnNldFRpbWVvdXQoZSwxKX19Y29uc3QgJHM9bmV3IFJlZ0V4cCgvXmRhdGE6KFteLF0rXC9bXixdKyk/O2Jhc2U2NCwvaSk7Y2xhc3MgV2kgZXh0ZW5kcyBMdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUscmkuTG9hZEZpbGVFcnJvciksdGhpcy5uYW1lPSJMb2FkRmlsZUVycm9yIixwaS5fc2V0UHJvdG90eXBlT2YodGhpcyxXaS5wcm90b3R5cGUpLHQgaW5zdGFuY2VvZiBsdD90aGlzLnJlcXVlc3Q9dDp0aGlzLmZpbGU9dH19Y2xhc3MgemkgZXh0ZW5kcyBMdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUscmkuUmVxdWVzdEZpbGVFcnJvciksdGhpcy5yZXF1ZXN0PXQsdGhpcy5uYW1lPSJSZXF1ZXN0RmlsZUVycm9yIixwaS5fc2V0UHJvdG90eXBlT2YodGhpcyx6aS5wcm90b3R5cGUpfX1jbGFzcyBwcyBleHRlbmRzIEx0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxyaS5SZWFkRmlsZUVycm9yKSx0aGlzLmZpbGU9dCx0aGlzLm5hbWU9IlJlYWRGaWxlRXJyb3IiLHBpLl9zZXRQcm90b3R5cGVPZih0aGlzLHBzLnByb3RvdHlwZSl9fWNvbnN0IFllPXtEZWZhdWx0UmV0cnlTdHJhdGVneTpzbi5FeHBvbmVudGlhbEJhY2tvZmYoKSxCYXNlVXJsOiIiLENvcnNCZWhhdmlvcjoiYW5vbnltb3VzIixQcmVwcm9jZXNzVXJsOmM9PmN9LEpzPWM9PihjPWMucmVwbGFjZSgvIy9nbSwiJTIzIiksYyksbXM9KGMsZSk9PntpZighKGMmJmMuaW5kZXhPZigiZGF0YToiKT09PTApJiZZZS5Db3JzQmVoYXZpb3IpaWYodHlwZW9mIFllLkNvcnNCZWhhdmlvcj09InN0cmluZyJ8fFllLkNvcnNCZWhhdmlvciBpbnN0YW5jZW9mIFN0cmluZyllLmNyb3NzT3JpZ2luPVllLkNvcnNCZWhhdmlvcjtlbHNle2NvbnN0IHQ9WWUuQ29yc0JlaGF2aW9yKGMpO3QmJihlLmNyb3NzT3JpZ2luPXQpfX0sRXM9KGMsZSx0LGkscz0iIixyKT0+e3ZhciBFO2xldCBuLGE9ITE7YyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcoYyk/dHlwZW9mIEJsb2I8InUiJiZ0eXBlb2YgVVJMPCJ1Ij8obj1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtjXSx7dHlwZTpzfSkpLGE9ITApOm49YGRhdGE6JHtzfTtiYXNlNjQsYCtqcyhjKTpjIGluc3RhbmNlb2YgQmxvYj8obj1VUkwuY3JlYXRlT2JqZWN0VVJMKGMpLGE9ITApOihuPUpzKGMpLG49WWUuUHJlcHJvY2Vzc1VybChjKSk7Y29uc3Qgbz1kZS5MYXN0Q3JlYXRlZEVuZ2luZSxoPW09PntpZih0KXtjb25zdCBUPW58fGMudG9TdHJpbmcoKTt0KGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCBpbWFnZTogJHtULmluZGV4T2YoImh0dHAiKT09PTB8fFQubGVuZ3RoPD0xMjg/VDpULnNsaWNlKDAsMTI4KSsiLi4uIn1gLG0pfX07aWYodHlwZW9mIEltYWdlPiJ1Inx8KChFPW89PW51bGw/dm9pZCAwOm8uX2ZlYXR1cmVzLmZvcmNlQml0bWFwT3ZlckhUTUxJbWFnZUVsZW1lbnQpIT1udWxsP0U6ITEpKXJldHVybiBadChuLG09PntvLmNyZWF0ZUltYWdlQml0bWFwKG5ldyBCbG9iKFttXSx7dHlwZTpzfSkse3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLC4uLnJ9KS50aGVuKFQ9PntlKFQpLGEmJlVSTC5yZXZva2VPYmplY3RVUkwobil9KS5jYXRjaChUPT57dCYmdCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIrYyxUKX0pfSx2b2lkIDAsaXx8dm9pZCAwLCEwLChtLFQpPT57aChUKX0pLG51bGw7Y29uc3QgbD1uZXcgSW1hZ2U7bXMobixsKTtjb25zdCB1PSgpPT57bC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIix1KSxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixmKSxlKGwpLGEmJmwuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKGwuc3JjKX0sZj1tPT57bC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIix1KSxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixmKSxoKG0pLGEmJmwuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKGwuc3JjKX07bC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix1KSxsLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixmKTtjb25zdCBkPSgpPT57WnQobiwobSxULGIpPT57Y29uc3QgUj0hcyYmYj9iOnMseT1uZXcgQmxvYihbbV0se3R5cGU6Un0pLEQ9VVJMLmNyZWF0ZU9iamVjdFVSTCh5KTthPSEwLGwuc3JjPUR9LHZvaWQgMCxpfHx2b2lkIDAsITAsKG0sVCk9PntoKFQpfSl9LF89KCk9PntpJiZpLmxvYWRJbWFnZShuLGwpfTtpZihuLnN1YnN0cigwLDUpIT09ImJsb2I6IiYmbi5zdWJzdHIoMCw1KSE9PSJkYXRhOiImJmkmJmkuZW5hYmxlVGV4dHVyZXNPZmZsaW5lKWkub3BlbihfLGQpO2Vsc2V7aWYobi5pbmRleE9mKCJmaWxlOiIpIT09LTEpe2NvbnN0IG09ZGVjb2RlVVJJQ29tcG9uZW50KG4uc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO2lmKHlpLkZpbGVzVG9Mb2FkW21dJiZ0eXBlb2YgVVJMPCJ1Iil7dHJ5e2xldCBUO3RyeXtUPVVSTC5jcmVhdGVPYmplY3RVUkwoeWkuRmlsZXNUb0xvYWRbbV0pfWNhdGNoe1Q9VVJMLmNyZWF0ZU9iamVjdFVSTCh5aS5GaWxlc1RvTG9hZFttXSl9bC5zcmM9VCxhPSEwfWNhdGNoe2wuc3JjPSIifXJldHVybiBsfX1kKCl9cmV0dXJuIGx9LENpPShjLGUsdCxpLHMpPT57Y29uc3Qgcj1uZXcgRmlsZVJlYWRlcixuPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgRixhYm9ydDooKT0+ci5hYm9ydCgpfTtyZXR1cm4gci5vbmxvYWRlbmQ9KCk9Pm4ub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4pLHMmJihyLm9uZXJyb3I9KCk9PntzKG5ldyBwcyhgVW5hYmxlIHRvIHJlYWQgJHtjLm5hbWV9YCxjKSl9KSxyLm9ubG9hZD1hPT57ZShhLnRhcmdldC5yZXN1bHQpfSx0JiYoci5vbnByb2dyZXNzPXQpLGk/ci5yZWFkQXNBcnJheUJ1ZmZlcihjKTpyLnJlYWRBc1RleHQoYyksbn0sWnQ9KGMsZSx0LGkscyxyLG4pPT57aWYoYy5uYW1lKXJldHVybiBDaShjLGUsdCxzLHI/bD0+e3Iodm9pZCAwLGwpfTp2b2lkIDApO2NvbnN0IGE9YztpZihhLmluZGV4T2YoImZpbGU6IikhPT0tMSl7bGV0IGw9ZGVjb2RlVVJJQ29tcG9uZW50KGEuc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO2wuaW5kZXhPZigiLi8iKT09PTAmJihsPWwuc3Vic3RyaW5nKDIpKTtjb25zdCB1PXlpLkZpbGVzVG9Mb2FkW2xdO2lmKHUpcmV0dXJuIENpKHUsZSx0LHMscj9mPT5yKHZvaWQgMCxuZXcgV2koZi5tZXNzYWdlLGYuZmlsZSkpOnZvaWQgMCl9Y29uc3R7bWF0Y2g6byx0eXBlOmh9PW5uKGEpO2lmKG8pe2NvbnN0IGw9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBGLGFib3J0OigpPT4oKT0+e319O3RyeXtjb25zdCB1PXM/YnMoYSk6dHIoYSk7ZSh1LHZvaWQgMCxoKX1jYXRjaCh1KXtyP3Iodm9pZCAwLHUpOncuRXJyb3IodS5tZXNzYWdlfHwiRmFpbGVkIHRvIHBhcnNlIHRoZSBEYXRhIFVSTCIpfXJldHVybiBWaS5TZXRJbW1lZGlhdGUoKCk9PntsLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKX0pLGx9cmV0dXJuIFRzKGEsKGwsdSk9PntlKGwsdT09bnVsbD92b2lkIDA6dS5yZXNwb25zZVVSTCx1PT1udWxsP3ZvaWQgMDp1LmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSl9LHQsaSxzLHI/bD0+e3IobC5yZXF1ZXN0LG5ldyBXaShsLm1lc3NhZ2UsbC5yZXF1ZXN0KSl9OnZvaWQgMCxuKX0sVHM9KGMsZSx0LGkscyxyLG4pPT57Yz1KcyhjKSxjPVllLlByZXByb2Nlc3NVcmwoYyk7Y29uc3QgYT1ZZS5CYXNlVXJsK2M7bGV0IG89ITE7Y29uc3QgaD17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IEYsYWJvcnQ6KCk9Pm89ITB9LGw9KCk9PntsZXQgdT1uZXcgbHQsZj1udWxsLGQ7Y29uc3QgXz0oKT0+eyF1fHwodCYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdCksZCYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixkKSx1LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLEUpKX07bGV0IEU9KCk9PntfKCksaC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCksaC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5jbGVhcigpLHQ9dm9pZCAwLGQ9bnVsbCxFPW51bGwscj12b2lkIDAsbj12b2lkIDAsZT12b2lkIDB9O2guYWJvcnQ9KCk9PntvPSEwLEUmJkUoKSx1JiZ1LnJlYWR5U3RhdGUhPT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkmJnUuYWJvcnQoKSxmIT09bnVsbCYmKGNsZWFyVGltZW91dChmKSxmPW51bGwpLHU9bnVsbH07Y29uc3QgbT1iPT57Y29uc3QgUj1iLm1lc3NhZ2V8fCJVbmtub3duIGVycm9yIjtyJiZ1P3IobmV3IHppKFIsdSkpOncuRXJyb3IoUil9LFQ9Yj0+e2lmKCEhdSl7aWYodS5vcGVuKCJHRVQiLGEpLG4pdHJ5e24odSl9Y2F0Y2goUil7bShSKTtyZXR1cm59cyYmKHUucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpLHQmJnUuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLEUmJnUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZGVuZCIsRSksZD0oKT0+e2lmKCEob3x8IXUpJiZ1LnJlYWR5U3RhdGU9PT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkpe2lmKGQmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZCksdS5zdGF0dXM+PTIwMCYmdS5zdGF0dXM8MzAwfHx1LnN0YXR1cz09PTAmJighVWUoKXx8ZXIoKSkpe3RyeXtlJiZlKHM/dS5yZXNwb25zZTp1LnJlc3BvbnNlVGV4dCx1KX1jYXRjaChEKXttKEQpfXJldHVybn1jb25zdCBSPVllLkRlZmF1bHRSZXRyeVN0cmF0ZWd5O2lmKFIpe2NvbnN0IEQ9UihhLHUsYik7aWYoRCE9PS0xKXtfKCksdT1uZXcgbHQsZj1zZXRUaW1lb3V0KCgpPT5UKGIrMSksRCk7cmV0dXJufX1jb25zdCB5PW5ldyB6aSgiRXJyb3Igc3RhdHVzOiAiK3Uuc3RhdHVzKyIgIit1LnN0YXR1c1RleHQrIiAtIFVuYWJsZSB0byBsb2FkICIrYSx1KTtyJiZyKHkpfX0sdS5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixkKSx1LnNlbmQoKX19O1QoMCl9O2lmKGkmJmkuZW5hYmxlU2NlbmVPZmZsaW5lKXtjb25zdCB1PWQ9PntkJiZkLnN0YXR1cz40MDA/ciYmcihkKTpsKCl9LGY9KCk9PntpJiZpLmxvYWRGaWxlKFllLkJhc2VVcmwrYyxkPT57IW8mJmUmJmUoZCksaC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCl9LHQ/ZD0+eyFvJiZ0JiZ0KGQpfTp2b2lkIDAsdSxzKX07aS5vcGVuKGYsdSl9ZWxzZSBsKCk7cmV0dXJuIGh9LGVyPSgpPT50eXBlb2YgbG9jYXRpb248InUiJiZsb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiIsU3M9Yz0+JHMudGVzdChjKSxubj1jPT57Y29uc3QgZT0kcy5leGVjKGMpO2lmKGU9PT1udWxsfHxlLmxlbmd0aD09PTApcmV0dXJue21hdGNoOiExLHR5cGU6IiJ9O3tjb25zdCB0PWVbMF0ucmVwbGFjZSgiZGF0YToiLCIiKS5yZXBsYWNlKCJiYXNlNjQsIiwiIik7cmV0dXJue21hdGNoOiEwLHR5cGU6dH19fTtmdW5jdGlvbiBicyhjKXtyZXR1cm4gcm4oYy5zcGxpdCgiLCIpWzFdKX1jb25zdCB0cj1jPT5RcyhjLnNwbGl0KCIsIilbMV0pOygoKT0+e2xlLl9GaWxlVG9vbHNMb2FkSW1hZ2U9RXMsbGUuX0ZpbGVUb29sc0xvYWRGaWxlPVp0LHNpLl9GaWxlVG9vbHNMb2FkRmlsZT1adH0pKCk7bGV0IElpOygoYyxlLHQsaSxzLHIsbixhLG8saCk9PntJaT17RGVjb2RlQmFzZTY0VXJsVG9CaW5hcnk6YyxEZWNvZGVCYXNlNjRVcmxUb1N0cmluZzplLERlZmF1bHRSZXRyeVN0cmF0ZWd5OnQuRGVmYXVsdFJldHJ5U3RyYXRlZ3ksQmFzZVVybDp0LkJhc2VVcmwsQ29yc0JlaGF2aW9yOnQuQ29yc0JlaGF2aW9yLFByZXByb2Nlc3NVcmw6dC5QcmVwcm9jZXNzVXJsLElzQmFzZTY0RGF0YVVybDppLElzRmlsZVVSTDpzLExvYWRGaWxlOnIsTG9hZEltYWdlOm4sUmVhZEZpbGU6YSxSZXF1ZXN0RmlsZTpvLFNldENvcnNCZWhhdmlvcjpofSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSWksIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihsKXt0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KElpLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGwpe3QuQmFzZVVybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJaSwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlByZXByb2Nlc3NVcmx9LHNldDpmdW5jdGlvbihsKXt0LlByZXByb2Nlc3NVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSWksIkNvcnNCZWhhdmlvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGwpe3QuQ29yc0JlaGF2aW9yPWx9fSl9KShicyx0cixZZSxTcyxlcixadCxFcyxDaSxUcyxtcyk7Y2xhc3MgUGl7c3RhdGljIEluc3RhbnRpYXRlKGUpe2lmKHRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyYmdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdKXJldHVybiB0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXNbZV07Y29uc3QgdD1paShlKTtpZih0KXJldHVybiB0O3cuV2FybihlKyIgbm90IGZvdW5kLCB5b3UgbWF5IGhhdmUgbWlzc2VkIGFuIGltcG9ydC4iKTtjb25zdCBpPWUuc3BsaXQoIi4iKTtsZXQgcz13aW5kb3d8fHRoaXM7Zm9yKGxldCByPTAsbj1pLmxlbmd0aDtyPG47cisrKXM9c1tpW3JdXTtyZXR1cm4gdHlwZW9mIHMhPSJmdW5jdGlvbiI/bnVsbDpzfX1QaS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9O2Z1bmN0aW9uIGlyKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLGM9Pntjb25zdCBlPU1hdGgucmFuZG9tKCkqMTZ8MDtyZXR1cm4oYz09PSJ4Ij9lOmUmM3w4KS50b1N0cmluZygxNil9KX1jbGFzcyBVe3N0YXRpYyBnZXQgQmFzZVVybCgpe3JldHVybiBZZS5CYXNlVXJsfXN0YXRpYyBzZXQgQmFzZVVybChlKXtZZS5CYXNlVXJsPWV9c3RhdGljIGdldCBEZWZhdWx0UmV0cnlTdHJhdGVneSgpe3JldHVybiBZZS5EZWZhdWx0UmV0cnlTdHJhdGVneX1zdGF0aWMgc2V0IERlZmF1bHRSZXRyeVN0cmF0ZWd5KGUpe1llLkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWV9c3RhdGljIGdldCBDb3JzQmVoYXZpb3IoKXtyZXR1cm4gWWUuQ29yc0JlaGF2aW9yfXN0YXRpYyBzZXQgQ29yc0JlaGF2aW9yKGUpe1llLkNvcnNCZWhhdmlvcj1lfXN0YXRpYyBnZXQgVXNlRmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGRlLlVzZUZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IFVzZUZhbGxiYWNrVGV4dHVyZShlKXtkZS5Vc2VGYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgZ2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoKXtyZXR1cm4gUGkuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc31zdGF0aWMgc2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoZSl7UGkuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz1lfXN0YXRpYyBnZXQgZmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGRlLkZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IGZhbGxiYWNrVGV4dHVyZShlKXtkZS5GYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgRmV0Y2hUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1NYXRoLmFicyhlKSppJWl8MCxvPU1hdGguYWJzKHQpKnMlc3wwLGg9KGErbyppKSo0O24ucj1yW2hdLzI1NSxuLmc9cltoKzFdLzI1NSxuLmI9cltoKzJdLzI1NSxuLmE9cltoKzNdLzI1NX1zdGF0aWMgTWl4KGUsdCxpKXtyZXR1cm4gZSooMS1pKSt0Kml9c3RhdGljIEluc3RhbnRpYXRlKGUpe3JldHVybiBQaS5JbnN0YW50aWF0ZShlKX1zdGF0aWMgU2V0SW1tZWRpYXRlKGUpe1ZpLlNldEltbWVkaWF0ZShlKX1zdGF0aWMgSXNFeHBvbmVudE9mVHdvKGUpe2xldCB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX1zdGF0aWMgRmxvYXRSb3VuZChlKXtyZXR1cm4gTWF0aC5mcm91bmQ/TWF0aC5mcm91bmQoZSk6KFUuX1RtcEZsb2F0QXJyYXlbMF09ZSxVLl9UbXBGbG9hdEFycmF5WzBdKX1zdGF0aWMgR2V0RmlsZW5hbWUoZSl7Y29uc3QgdD1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIHQ8MD9lOmUuc3Vic3RyaW5nKHQrMSl9c3RhdGljIEdldEZvbGRlclBhdGgoZSx0PSExKXtjb25zdCBpPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gaTwwP3Q/ZToiIjplLnN1YnN0cmluZygwLGkrMSl9c3RhdGljIFRvRGVncmVlcyhlKXtyZXR1cm4gZSoxODAvTWF0aC5QSX1zdGF0aWMgVG9SYWRpYW5zKGUpe3JldHVybiBlKk1hdGguUEkvMTgwfXN0YXRpYyBNYWtlQXJyYXkoZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfXN0YXRpYyBHZXRQb2ludGVyUHJlZml4KGUpe2xldCB0PSJwb2ludGVyIjtyZXR1cm4gVWUoKSYmIXdpbmRvdy5Qb2ludGVyRXZlbnQmJih0PSJtb3VzZSIpLGUuX2JhZERlc2t0b3BPUyYmIWUuX2JhZE9TJiYhKGRvY3VtZW50JiYib250b3VjaGVuZCJpbiBkb2N1bWVudCkmJih0PSJtb3VzZSIpLHR9c3RhdGljIFNldENvcnNCZWhhdmlvcihlLHQpe21zKGUsdCl9c3RhdGljIFNldFJlZmVycmVyUG9saWN5QmVoYXZpb3IoZSx0KXt0LnJlZmVycmVyUG9saWN5PWV9c3RhdGljIENsZWFuVXJsKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX1zdGF0aWMgZ2V0IFByZXByb2Nlc3NVcmwoKXtyZXR1cm4gWWUuUHJlcHJvY2Vzc1VybH1zdGF0aWMgc2V0IFByZXByb2Nlc3NVcmwoZSl7WWUuUHJlcHJvY2Vzc1VybD1lfXN0YXRpYyBMb2FkSW1hZ2UoZSx0LGkscyxyLG4pe3JldHVybiBFcyhlLHQsaSxzLHIsbil9c3RhdGljIExvYWRGaWxlKGUsdCxpLHMscixuKXtyZXR1cm4gWnQoZSx0LGkscyxyLG4pfXN0YXRpYyBMb2FkRmlsZUFzeW5jKGUsdD0hMCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57WnQoZSxyPT57aShyKX0sdm9pZCAwLHZvaWQgMCx0LChyLG4pPT57cyhuKX0pfSl9c3RhdGljIExvYWRTY3JpcHQoZSx0LGkscyl7aWYodHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cz09ImZ1bmN0aW9uIil7dHJ5e3NlbGYuaW1wb3J0U2NyaXB0cyhlKSx0KCl9Y2F0Y2goYSl7aT09bnVsbHx8aShgVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICcke2V9JyBpbiB3b3JrZXJgLGEpfXJldHVybn1lbHNlIGlmKCFVZSgpKXtpPT1udWxsfHxpKGBDYW5ub3QgbG9hZCBzY3JpcHQgJyR7ZX0nIG91dHNpZGUgb2YgYSB3aW5kb3cgb3IgYSB3b3JrZXJgKTtyZXR1cm59Y29uc3Qgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2phdmFzY3JpcHQiKSxuLnNldEF0dHJpYnV0ZSgic3JjIixlKSxzJiYobi5pZD1zKSxuLm9ubG9hZD0oKT0+e3QmJnQoKX0sbi5vbmVycm9yPWE9PntpJiZpKGBVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyR7ZX0nYCxhKX0sci5hcHBlbmRDaGlsZChuKX1zdGF0aWMgTG9hZFNjcmlwdEFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCxpKT0+e3RoaXMuTG9hZFNjcmlwdChlLCgpPT57dCgpfSwocyxyKT0+e2kocil9KX0pfXN0YXRpYyBSZWFkRmlsZUFzRGF0YVVSTChlLHQsaSl7Y29uc3Qgcz1uZXcgRmlsZVJlYWRlcixyPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgRixhYm9ydDooKT0+cy5hYm9ydCgpfTtyZXR1cm4gcy5vbmxvYWRlbmQ9KCk9PntyLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX0scy5vbmxvYWQ9bj0+e3Qobi50YXJnZXQucmVzdWx0KX0scy5vbnByb2dyZXNzPWkscy5yZWFkQXNEYXRhVVJMKGUpLHJ9c3RhdGljIFJlYWRGaWxlKGUsdCxpLHMscil7cmV0dXJuIENpKGUsdCxpLHMscil9c3RhdGljIEZpbGVBc1VSTChlKXtjb25zdCB0PW5ldyBCbG9iKFtlXSk7cmV0dXJuKHdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwpLmNyZWF0ZU9iamVjdFVSTCh0KX1zdGF0aWMgRm9ybWF0KGUsdD0yKXtyZXR1cm4gZS50b0ZpeGVkKHQpfXN0YXRpYyBEZWVwQ29weShlLHQsaSxzKXtncy5EZWVwQ29weShlLHQsaSxzKX1zdGF0aWMgSXNFbXB0eShlKXtmb3IoY29uc3QgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfXN0YXRpYyBSZWdpc3RlclRvcFJvb3RFdmVudHMoZSx0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2UuYWRkRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyLCExKTt0cnl7d2luZG93LnBhcmVudCYmd2luZG93LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIsITEpfWNhdGNoe319fXN0YXRpYyBVbnJlZ2lzdGVyVG9wUm9vdEV2ZW50cyhlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07ZS5yZW1vdmVFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIpO3RyeXtlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyKX1jYXRjaHt9fX1zdGF0aWMgYXN5bmMgRHVtcEZyYW1lYnVmZmVyKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuKXtjb25zdCBhPWF3YWl0IGkucmVhZFBpeGVscygwLDAsZSx0KSxvPW5ldyBVaW50OEFycmF5KGEuYnVmZmVyKTtVLkR1bXBEYXRhKGUsdCxvLHMscixuLCEwKX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe1UuX1NjcmVlbnNob3RDYW52YXN8fChVLl9TY3JlZW5zaG90Q2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKSxVLl9TY3JlZW5zaG90Q2FudmFzLndpZHRoPWUsVS5fU2NyZWVuc2hvdENhbnZhcy5oZWlnaHQ9dDtjb25zdCBsPVUuX1NjcmVlbnNob3RDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtpZihsKXtpZihpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBfPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoKTtsZXQgRT1pLmxlbmd0aDtmb3IoO0UtLTspe2NvbnN0IG09aVtFXTtfW0VdPW08MD8wOm0+MT8xOk1hdGgucm91bmQobSoyNTUpfWk9X31jb25zdCB1PWwuY3JlYXRlSW1hZ2VEYXRhKGUsdCk7dS5kYXRhLnNldChpKSxsLnB1dEltYWdlRGF0YSh1LDAsMCk7bGV0IGQ9VS5fU2NyZWVuc2hvdENhbnZhcztpZihhKXtjb25zdCBfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO18ud2lkdGg9ZSxfLmhlaWdodD10O2NvbnN0IEU9Xy5nZXRDb250ZXh0KCIyZCIpO2lmKCFFKXJldHVybjtFLnRyYW5zbGF0ZSgwLHQpLEUuc2NhbGUoMSwtMSksRS5kcmF3SW1hZ2UoVS5fU2NyZWVuc2hvdENhbnZhcywwLDApLGQ9X31vP1UuVG9CbG9iKGQsXz0+e2NvbnN0IEU9bmV3IEZpbGVSZWFkZXI7RS5vbmxvYWQ9bT0+e2NvbnN0IFQ9bS50YXJnZXQucmVzdWx0O3MmJnMoVCl9LEUucmVhZEFzQXJyYXlCdWZmZXIoXyl9LHIsaCk6VS5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShzLHIsbixkLGgpfX1zdGF0aWMgRHVtcERhdGFBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHIsbj0hMSxhPSExLG8pe3JldHVybiBuZXcgUHJvbWlzZShoPT57VS5EdW1wRGF0YShlLHQsaSxsPT5oKGwpLHMscixuLGEsbyl9KX1zdGF0aWMgVG9CbG9iKGUsdCxpPSJpbWFnZS9wbmciLHMpe2UudG9CbG9ifHwoZS50b0Jsb2I9ZnVuY3Rpb24ocixuLGEpe3NldFRpbWVvdXQoKCk9Pntjb25zdCBvPWF0b2IodGhpcy50b0RhdGFVUkwobixhKS5zcGxpdCgiLCIpWzFdKSxoPW8ubGVuZ3RoLGw9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKGxldCB1PTA7dTxoO3UrKylsW3VdPW8uY2hhckNvZGVBdCh1KTtyKG5ldyBCbG9iKFtsXSkpfSl9KSxlLnRvQmxvYihmdW5jdGlvbihyKXt0KHIpfSxpLHMpfXN0YXRpYyBEb3dubG9hZEJsb2IoZSx0KXtpZigiZG93bmxvYWQiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKXtpZighdCl7Y29uc3QgaT1uZXcgRGF0ZSxzPShpLmdldEZ1bGxZZWFyKCkrIi0iKyhpLmdldE1vbnRoKCkrMSkpLnNsaWNlKDIpKyItIitpLmdldERhdGUoKSsiXyIraS5nZXRIb3VycygpKyItIisoIjAiK2kuZ2V0TWludXRlcygpKS5zbGljZSgtMik7dD0ic2NyZWVuc2hvdF8iK3MrIi5wbmcifVUuRG93bmxvYWQoZSx0KX1lbHNlIGlmKGUmJnR5cGVvZiBVUkw8InUiKXtjb25zdCBpPVVSTC5jcmVhdGVPYmplY3RVUkwoZSkscz13aW5kb3cub3BlbigiIik7aWYoIXMpcmV0dXJuO2NvbnN0IHI9cy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtyLm9ubG9hZD1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoaSl9LHIuc3JjPWkscy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpfX1zdGF0aWMgRW5jb2RlU2NyZWVuc2hvdENhbnZhc0RhdGEoZSx0PSJpbWFnZS9wbmciLGkscyxyKXtpZihlKXtjb25zdCBuPShzIT1udWxsP3M6VS5fU2NyZWVuc2hvdENhbnZhcykudG9EYXRhVVJMKHQscik7ZShuKX1lbHNlIHRoaXMuVG9CbG9iKHMhPW51bGw/czpVLl9TY3JlZW5zaG90Q2FudmFzLGZ1bmN0aW9uKG4pe24mJlUuRG93bmxvYWRCbG9iKG4saSl9LHQscil9c3RhdGljIERvd25sb2FkKGUsdCl7aWYobmF2aWdhdG9yJiZuYXZpZ2F0b3IubXNTYXZlQmxvYil7bmF2aWdhdG9yLm1zU2F2ZUJsb2IoZSx0KTtyZXR1cm59aWYodHlwZW9mIFVSTD4idSIpcmV0dXJuO2NvbnN0IGk9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZSkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKSxzLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHMuaHJlZj1pLHMuZG93bmxvYWQ9dCxzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoKT0+e3MucGFyZW50RWxlbWVudCYmcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHMpfSkscy5jbGljaygpLHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGkpfXN0YXRpYyBCYWNrQ29tcGF0Q2FtZXJhTm9QcmV2ZW50RGVmYXVsdChlKXtyZXR1cm4gdHlwZW9mIGVbMF09PSJib29sZWFuIj9lWzBdOnR5cGVvZiBlWzFdPT0iYm9vbGVhbiI/ZVsxXTohMX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdChlLHQsaSxzLHI9ImltYWdlL3BuZyIpe3Rocm93IHEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90QXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIil7dGhyb3cgcSgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIENyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldChlLHQsaSxzLHI9ImltYWdlL3BuZyIsbj0xLGE9ITEsbyl7dGhyb3cgcSgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIENyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldEFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscj0xLG49ITEsYSl7dGhyb3cgcSgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIFJhbmRvbUlkKCl7cmV0dXJuIGlyKCl9c3RhdGljIElzQmFzZTY0KGUpe3JldHVybiBTcyhlKX1zdGF0aWMgRGVjb2RlQmFzZTY0KGUpe3JldHVybiBicyhlKX1zdGF0aWMgZ2V0IGVycm9yc0NvdW50KCl7cmV0dXJuIHcuZXJyb3JzQ291bnR9c3RhdGljIExvZyhlKXt3LkxvZyhlKX1zdGF0aWMgV2FybihlKXt3Lldhcm4oZSl9c3RhdGljIEVycm9yKGUpe3cuRXJyb3IoZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiB3LkxvZ0NhY2hlfXN0YXRpYyBDbGVhckxvZ0NhY2hlKCl7dy5DbGVhckxvZ0NhY2hlKCl9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7dy5Mb2dMZXZlbHM9ZX1zdGF0aWMgc2V0IFBlcmZvcm1hbmNlTG9nTGV2ZWwoZSl7aWYoKGUmVS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpPT09VS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpe1UuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9VS5fU3RhcnRVc2VyTWFyayxVLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1VLl9FbmRVc2VyTWFyaztyZXR1cm59aWYoKGUmVS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCk9PT1VLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKXtVLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPVUuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlLFUuRW5kUGVyZm9ybWFuY2VDb3VudGVyPVUuX0VuZFBlcmZvcm1hbmNlQ29uc29sZTtyZXR1cm59VS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1VLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLFUuRW5kUGVyZm9ybWFuY2VDb3VudGVyPVUuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkfXN0YXRpYyBfU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZChlLHQpe31zdGF0aWMgX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkKGUsdCl7fXN0YXRpYyBfU3RhcnRVc2VyTWFyayhlLHQ9ITApe2lmKCFVLl9QZXJmb3JtYW5jZSl7aWYoIVVlKCkpcmV0dXJuO1UuX1BlcmZvcm1hbmNlPXdpbmRvdy5wZXJmb3JtYW5jZX0hdHx8IVUuX1BlcmZvcm1hbmNlLm1hcmt8fFUuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUJlZ2luIil9c3RhdGljIF9FbmRVc2VyTWFyayhlLHQ9ITApeyF0fHwhVS5fUGVyZm9ybWFuY2UubWFya3x8KFUuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUVuZCIpLFUuX1BlcmZvcm1hbmNlLm1lYXN1cmUoZSxlKyItQmVnaW4iLGUrIi1FbmQiKSl9c3RhdGljIF9TdGFydFBlcmZvcm1hbmNlQ29uc29sZShlLHQ9ITApeyF0fHwoVS5fU3RhcnRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZSYmY29uc29sZS50aW1lKGUpKX1zdGF0aWMgX0VuZFBlcmZvcm1hbmNlQ29uc29sZShlLHQ9ITApeyF0fHwoVS5fRW5kVXNlck1hcmsoZSx0KSxjb25zb2xlLnRpbWVFbmQoZSkpfXN0YXRpYyBnZXQgTm93KCl7cmV0dXJuIF9pLk5vd31zdGF0aWMgR2V0Q2xhc3NOYW1lKGUsdD0hMSl7bGV0IGk9bnVsbDtyZXR1cm4hdCYmZS5nZXRDbGFzc05hbWU/aT1lLmdldENsYXNzTmFtZSgpOihlIGluc3RhbmNlb2YgT2JqZWN0JiYoaT0odD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKSkuY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfXyksaXx8KGk9dHlwZW9mIGUpKSxpfXN0YXRpYyBGaXJzdChlLHQpe2Zvcihjb25zdCBpIG9mIGUpaWYodChpKSlyZXR1cm4gaTtyZXR1cm4gbnVsbH1zdGF0aWMgZ2V0RnVsbENsYXNzTmFtZShlLHQ9ITEpe2xldCBpPW51bGwscz1udWxsO2lmKCF0JiZlLmdldENsYXNzTmFtZSlpPWUuZ2V0Q2xhc3NOYW1lKCk7ZWxzZXtpZihlIGluc3RhbmNlb2YgT2JqZWN0KXtjb25zdCByPXQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aT1yLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX18scz1yLmNvbnN0cnVjdG9yLl9fYmpzbW9kdWxlTmFtZV9ffWl8fChpPXR5cGVvZiBlKX1yZXR1cm4gaT8ocyE9bnVsbD9zKyIuIjoiIikraTpudWxsfXN0YXRpYyBEZWxheUFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57c2V0VGltZW91dCgoKT0+e3QoKX0sZSl9KX1zdGF0aWMgSXNTYWZhcmkoKXtyZXR1cm4gS3MoKT8vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOiExfX1VLlVzZUN1c3RvbVJlcXVlc3RIZWFkZXJzPSExLFUuQ3VzdG9tUmVxdWVzdEhlYWRlcnM9bHQuQ3VzdG9tUmVxdWVzdEhlYWRlcnMsVS5fVG1wRmxvYXRBcnJheT1uZXcgRmxvYXQzMkFycmF5KDEpLFUuR2V0RE9NVGV4dENvbnRlbnQ9dXMsVS5HZXRBYnNvbHV0ZVVybD10eXBlb2YgZG9jdW1lbnQ9PSJvYmplY3QiP2M9Pntjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gZS5ocmVmPWMsZS5ocmVmfTp0eXBlb2YgVVJMPT0iZnVuY3Rpb24iJiZ0eXBlb2YgbG9jYXRpb249PSJvYmplY3QiP2M9Pm5ldyBVUkwoYyxsb2NhdGlvbi5vcmlnaW4pLmhyZWY6KCk9Pnt0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgYWJzb2x1dGUgVVJMLiBPdmVycmlkZSBCQUJZTE9OLlRvb2xzLkdldEFic29sdXRlVXJsIHRvIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uIGZvciB0aGUgY3VycmVudCBjb250ZXh0LiIpfSxVLk5vbmVMb2dMZXZlbD13Lk5vbmVMb2dMZXZlbCxVLk1lc3NhZ2VMb2dMZXZlbD13Lk1lc3NhZ2VMb2dMZXZlbCxVLldhcm5pbmdMb2dMZXZlbD13Lldhcm5pbmdMb2dMZXZlbCxVLkVycm9yTG9nTGV2ZWw9dy5FcnJvckxvZ0xldmVsLFUuQWxsTG9nTGV2ZWw9dy5BbGxMb2dMZXZlbCxVLklzV2luZG93T2JqZWN0RXhpc3Q9VWUsVS5QZXJmb3JtYW5jZU5vbmVMb2dMZXZlbD0wLFUuUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsPTEsVS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbD0yLFUuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9VS5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxVLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1VLl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZDtjbGFzcyBHaXtjb25zdHJ1Y3RvcihlLHQsaSxzPTApe3RoaXMuaXRlcmF0aW9ucz1lLHRoaXMuaW5kZXg9cy0xLHRoaXMuX2RvbmU9ITEsdGhpcy5fZm49dCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9aX1leGVjdXRlTmV4dCgpe3RoaXMuX2RvbmV8fCh0aGlzLmluZGV4KzE8dGhpcy5pdGVyYXRpb25zPygrK3RoaXMuaW5kZXgsdGhpcy5fZm4odGhpcykpOnRoaXMuYnJlYWtMb29wKCkpfWJyZWFrTG9vcCgpe3RoaXMuX2RvbmU9ITAsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrKCl9c3RhdGljIFJ1bihlLHQsaSxzPTApe2NvbnN0IHI9bmV3IEdpKGUsdCxpLHMpO3JldHVybiByLmV4ZWN1dGVOZXh0KCkscn1zdGF0aWMgU3luY0FzeW5jRm9yTG9vcChlLHQsaSxzLHIsbj0wKXtyZXR1cm4gR2kuUnVuKE1hdGguY2VpbChlL3QpLGE9PntyJiZyKCk/YS5icmVha0xvb3AoKTpzZXRUaW1lb3V0KCgpPT57Zm9yKGxldCBvPTA7bzx0Oysrbyl7Y29uc3QgaD1hLmluZGV4KnQrbztpZihoPj1lKWJyZWFrO2lmKGkoaCksciYmcigpKXthLmJyZWFrTG9vcCgpO2JyZWFrfX1hLmV4ZWN1dGVOZXh0KCl9LG4pfSxzKX19ZGUuRmFsbGJhY2tUZXh0dXJlPSJkYXRhOmltYWdlL2pwZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRRUFZQUJnQUFELzRRQm1SWGhwWmdBQVRVMEFLZ0FBQUFnQUJBRWFBQVVBQUFBQkFBQUFQZ0ViQUFVQUFBQUJBQUFBUmdFb0FBTUFBQUFCQUFJQUFBRXhBQUlBQUFBUUFBQUFUZ0FBQUFBQUFBQmdBQUFBQVFBQUFHQUFBQUFCY0dGcGJuUXVibVYwSURRdU1DNDFBUC9iQUVNQUJBSURBd01DQkFNREF3UUVCQVFGQ1FZRkJRVUZDd2dJQmdrTkN3ME5EUXNNREE0UUZCRU9EeE1QREF3U0dCSVRGUllYRnhjT0VSa2JHUllhRkJZWEZ2L2JBRU1CQkFRRUJRVUZDZ1lHQ2hZUERBOFdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRnYvQUFCRUlBUUFCQUFNQklnQUNFUUVERVFIL3hBQWZBQUFCQlFFQkFRRUJBUUFBQUFBQUFBQUFBUUlEQkFVR0J3Z0pDZ3YveEFDMUVBQUNBUU1EQWdRREJRVUVCQUFBQVgwQkFnTUFCQkVGRWlFeFFRWVRVV0VISW5FVU1vR1JvUWdqUXJIQkZWTFI4Q1F6WW5LQ0NRb1dGeGdaR2lVbUp5Z3BLalExTmpjNE9UcERSRVZHUjBoSlNsTlVWVlpYV0ZsYVkyUmxabWRvYVdwemRIVjJkM2g1ZW9PRWhZYUhpSW1La3BPVWxaYVhtSm1hb3FPa3BhYW5xS21xc3JPMHRiYTN1TG02d3NQRXhjYkh5TW5LMHRQVTFkYlgyTm5hNGVMajVPWG01K2pwNnZIeTgvVDE5dmY0K2ZyL3hBQWZBUUFEQVFFQkFRRUJBUUVCQUFBQUFBQUFBUUlEQkFVR0J3Z0pDZ3YveEFDMUVRQUNBUUlFQkFNRUJ3VUVCQUFCQW5jQUFRSURFUVFGSVRFR0VrRlJCMkZ4RXlJeWdRZ1VRcEdoc2NFSkl6TlM4QlZpY3RFS0ZpUTA0U1h4RnhnWkdpWW5LQ2txTlRZM09EazZRMFJGUmtkSVNVcFRWRlZXVjFoWldtTmtaV1puYUdscWMzUjFkbmQ0ZVhxQ2c0U0Zob2VJaVlxU2s1U1ZscGVZbVpxaW82U2xwcWVvcWFxeXM3UzF0cmU0dWJyQ3c4VEZ4c2ZJeWNyUzA5VFYxdGZZMmRyaTQrVGw1dWZvNmVyeTgvVDE5dmY0K2ZyLzJnQU1Bd0VBQWhFREVRQS9BUEg2S0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NkNpaWlnRDVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JRb29vb0Erb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92b0tLS0tBUGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UC8vWiI7Y2xhc3MgUWV7Y29uc3RydWN0b3IoZSl7dGhpcy5sZW5ndGg9MCx0aGlzLmRhdGE9bmV3IEFycmF5KGUpLHRoaXMuX2lkPVFlLl9HbG9iYWxJZCsrfXB1c2goZSl7dGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPWUsdGhpcy5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGgqPTIpfWZvckVhY2goZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxlbmd0aDt0KyspZSh0aGlzLmRhdGFbdF0pfXNvcnQoZSl7dGhpcy5kYXRhLnNvcnQoZSl9cmVzZXQoKXt0aGlzLmxlbmd0aD0wfWRpc3Bvc2UoKXt0aGlzLnJlc2V0KCksdGhpcy5kYXRhJiYodGhpcy5kYXRhLmxlbmd0aD0wKX1jb25jYXQoZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT0oZS5kYXRhfHxlKVt0XX19aW5kZXhPZihlKXtjb25zdCB0PXRoaXMuZGF0YS5pbmRleE9mKGUpO3JldHVybiB0Pj10aGlzLmxlbmd0aD8tMTp0fWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLmluZGV4T2YoZSkhPT0tMX19UWUuX0dsb2JhbElkPTA7Y2xhc3MgbmkgZXh0ZW5kcyBRZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZHVwbGljYXRlSWQ9MH1wdXNoKGUpe3N1cGVyLnB1c2goZSksZS5fX3NtYXJ0QXJyYXlGbGFnc3x8KGUuX19zbWFydEFycmF5RmxhZ3M9e30pLGUuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPXRoaXMuX2R1cGxpY2F0ZUlkfXB1c2hOb0R1cGxpY2F0ZShlKXtyZXR1cm4gZS5fX3NtYXJ0QXJyYXlGbGFncyYmZS5fX3NtYXJ0QXJyYXlGbGFnc1t0aGlzLl9pZF09PT10aGlzLl9kdXBsaWNhdGVJZD8hMToodGhpcy5wdXNoKGUpLCEwKX1yZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fZHVwbGljYXRlSWQrK31jb25jYXRXaXRoTm9EdXBsaWNhdGUoZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPShlLmRhdGF8fGUpW3RdO3RoaXMucHVzaE5vRHVwbGljYXRlKGkpfX19fWNsYXNzIHNye2NvbnN0cnVjdG9yKCl7dGhpcy5fY291bnQ9MCx0aGlzLl9kYXRhPXt9fWNvcHlGcm9tKGUpe3RoaXMuY2xlYXIoKSxlLmZvckVhY2goKHQsaSk9PnRoaXMuYWRkKHQsaSkpfWdldChlKXtjb25zdCB0PXRoaXMuX2RhdGFbZV07aWYodCE9PXZvaWQgMClyZXR1cm4gdH1nZXRPckFkZFdpdGhGYWN0b3J5KGUsdCl7bGV0IGk9dGhpcy5nZXQoZSk7cmV0dXJuIGkhPT12b2lkIDB8fChpPXQoZSksaSYmdGhpcy5hZGQoZSxpKSksaX1nZXRPckFkZChlLHQpe2NvbnN0IGk9dGhpcy5nZXQoZSk7cmV0dXJuIGkhPT12b2lkIDA/aToodGhpcy5hZGQoZSx0KSx0KX1jb250YWlucyhlKXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMH1hZGQoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMD8hMToodGhpcy5fZGF0YVtlXT10LCsrdGhpcy5fY291bnQsITApfXNldChlLHQpe3JldHVybiB0aGlzLl9kYXRhW2VdPT09dm9pZCAwPyExOih0aGlzLl9kYXRhW2VdPXQsITApfWdldEFuZFJlbW92ZShlKXtjb25zdCB0PXRoaXMuZ2V0KGUpO3JldHVybiB0IT09dm9pZCAwPyhkZWxldGUgdGhpcy5fZGF0YVtlXSwtLXRoaXMuX2NvdW50LHQpOm51bGx9cmVtb3ZlKGUpe3JldHVybiB0aGlzLmNvbnRhaW5zKGUpPyhkZWxldGUgdGhpcy5fZGF0YVtlXSwtLXRoaXMuX2NvdW50LCEwKTohMX1jbGVhcigpe3RoaXMuX2RhdGE9e30sdGhpcy5fY291bnQ9MH1nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5fY291bnR9Zm9yRWFjaChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9kYXRhKXtjb25zdCBpPXRoaXMuX2RhdGFbdF07ZSh0LGkpfX1maXJzdChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9kYXRhKXtjb25zdCBpPXRoaXMuX2RhdGFbdF0scz1lKHQsaSk7aWYocylyZXR1cm4gc31yZXR1cm4gbnVsbH19Y2xhc3MgYWl7c3RhdGljIEV2YWwoZSx0KXtyZXR1cm4gZS5tYXRjaCgvXChbXigpXSpcKS9nKT9lPWUucmVwbGFjZSgvXChbXigpXSpcKS9nLGk9PihpPWkuc2xpY2UoMSxpLmxlbmd0aC0xKSxhaS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGksdCkpKTplPWFpLl9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoZSx0KSxlPT09InRydWUiPyEwOmU9PT0iZmFsc2UiPyExOmFpLkV2YWwoZSx0KX1zdGF0aWMgX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChlLHQpe3Q9dHx8KHI9PnI9PT0idHJ1ZSIpO2xldCBpO2NvbnN0IHM9ZS5zcGxpdCgifHwiKTtmb3IoY29uc3QgciBpbiBzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHIpKXtsZXQgbj1haS5fU2ltcGxpZnlOZWdhdGlvbihzW3JdLnRyaW0oKSk7Y29uc3QgYT1uLnNwbGl0KCImJiIpO2lmKGEubGVuZ3RoPjEpZm9yKGxldCBvPTA7bzxhLmxlbmd0aDsrK28pe2NvbnN0IGg9YWkuX1NpbXBsaWZ5TmVnYXRpb24oYVtvXS50cmltKCkpO2lmKGghPT0idHJ1ZSImJmghPT0iZmFsc2UiP2hbMF09PT0iISI/aT0hdChoLnN1YnN0cmluZygxKSk6aT10KGgpOmk9aD09PSJ0cnVlIiwhaSl7bj0iZmFsc2UiO2JyZWFrfX1pZihpfHxuPT09InRydWUiKXtpPSEwO2JyZWFrfW4hPT0idHJ1ZSImJm4hPT0iZmFsc2UiP25bMF09PT0iISI/aT0hdChuLnN1YnN0cmluZygxKSk6aT10KG4pOmk9bj09PSJ0cnVlIn1yZXR1cm4gaT8idHJ1ZSI6ImZhbHNlIn1zdGF0aWMgX1NpbXBsaWZ5TmVnYXRpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC9eW1xzIV0rLyx0PT4odD10LnJlcGxhY2UoL1tcc10vZywoKT0+IiIpLHQubGVuZ3RoJTI/IiEiOiIiKSksZT1lLnRyaW0oKSxlPT09IiF0cnVlIj9lPSJmYWxzZSI6ZT09PSIhZmFsc2UiJiYoZT0idHJ1ZSIpLGV9fWNsYXNzIHBle3N0YXRpYyBFbmFibGVGb3IoZSl7ZS5fdGFncz1lLl90YWdzfHx7fSxlLmhhc1RhZ3M9KCk9PnBlLkhhc1RhZ3MoZSksZS5hZGRUYWdzPXQ9PnBlLkFkZFRhZ3NUbyhlLHQpLGUucmVtb3ZlVGFncz10PT5wZS5SZW1vdmVUYWdzRnJvbShlLHQpLGUubWF0Y2hlc1RhZ3NRdWVyeT10PT5wZS5NYXRjaGVzUXVlcnkoZSx0KX1zdGF0aWMgRGlzYWJsZUZvcihlKXtkZWxldGUgZS5fdGFncyxkZWxldGUgZS5oYXNUYWdzLGRlbGV0ZSBlLmFkZFRhZ3MsZGVsZXRlIGUucmVtb3ZlVGFncyxkZWxldGUgZS5tYXRjaGVzVGFnc1F1ZXJ5fXN0YXRpYyBIYXNUYWdzKGUpe2lmKCFlLl90YWdzKXJldHVybiExO2NvbnN0IHQ9ZS5fdGFncztmb3IoY29uc3QgaSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpKXJldHVybiEwO3JldHVybiExfXN0YXRpYyBHZXRUYWdzKGUsdD0hMCl7aWYoIWUuX3RhZ3MpcmV0dXJuIG51bGw7aWYodCl7Y29uc3QgaT1bXTtmb3IoY29uc3QgcyBpbiBlLl90YWdzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLl90YWdzLHMpJiZlLl90YWdzW3NdPT09ITAmJmkucHVzaChzKTtyZXR1cm4gaS5qb2luKCIgIil9ZWxzZSByZXR1cm4gZS5fdGFnc31zdGF0aWMgQWRkVGFnc1RvKGUsdCl7aWYoIXR8fHR5cGVvZiB0IT0ic3RyaW5nIilyZXR1cm47dC5zcGxpdCgiICIpLmZvckVhY2goZnVuY3Rpb24ocyl7cGUuX0FkZFRhZ1RvKGUscyl9KX1zdGF0aWMgX0FkZFRhZ1RvKGUsdCl7dD10LnRyaW0oKSwhKHQ9PT0iInx8dD09PSJ0cnVlInx8dD09PSJmYWxzZSIpJiYodC5tYXRjaCgvW1xzXS8pfHx0Lm1hdGNoKC9eKFshXXwoW3xdfFsmXSl7Mn0pLyl8fChwZS5FbmFibGVGb3IoZSksZS5fdGFnc1t0XT0hMCkpfXN0YXRpYyBSZW1vdmVUYWdzRnJvbShlLHQpe2lmKCFwZS5IYXNUYWdzKGUpKXJldHVybjtjb25zdCBpPXQuc3BsaXQoIiAiKTtmb3IoY29uc3QgcyBpbiBpKXBlLl9SZW1vdmVUYWdGcm9tKGUsaVtzXSl9c3RhdGljIF9SZW1vdmVUYWdGcm9tKGUsdCl7ZGVsZXRlIGUuX3RhZ3NbdF19c3RhdGljIE1hdGNoZXNRdWVyeShlLHQpe3JldHVybiB0PT09dm9pZCAwPyEwOnQ9PT0iIj9wZS5IYXNUYWdzKGUpOmFpLkV2YWwodCxpPT5wZS5IYXNUYWdzKGUpJiZlLl90YWdzW2ldKX19Y2xhc3MgWGl7Y29uc3RydWN0b3IoKXt0aGlzLnJvb3ROb2Rlcz1uZXcgQXJyYXksdGhpcy5jYW1lcmFzPW5ldyBBcnJheSx0aGlzLmxpZ2h0cz1uZXcgQXJyYXksdGhpcy5tZXNoZXM9bmV3IEFycmF5LHRoaXMuc2tlbGV0b25zPW5ldyBBcnJheSx0aGlzLnBhcnRpY2xlU3lzdGVtcz1uZXcgQXJyYXksdGhpcy5hbmltYXRpb25zPVtdLHRoaXMuYW5pbWF0aW9uR3JvdXBzPW5ldyBBcnJheSx0aGlzLm11bHRpTWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLmdlb21ldHJpZXM9bmV3IEFycmF5LHRoaXMudHJhbnNmb3JtTm9kZXM9bmV3IEFycmF5LHRoaXMuYWN0aW9uTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMudGV4dHVyZXM9bmV3IEFycmF5LHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1udWxsLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXl9c3RhdGljIEFkZFBhcnNlcihlLHQpe3RoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXT10fXN0YXRpYyBHZXRQYXJzZXIoZSl7cmV0dXJuIHRoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXT90aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH1zdGF0aWMgQWRkSW5kaXZpZHVhbFBhcnNlcihlLHQpe3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH1zdGF0aWMgR2V0SW5kaXZpZHVhbFBhcnNlcihlKXtyZXR1cm4gdGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXT90aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9c3RhdGljIFBhcnNlKGUsdCxpLHMpe2Zvcihjb25zdCByIGluIHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzLHIpJiZ0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbcl0oZSx0LGkscyl9Z2V0IGVudmlyb25tZW50VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9c2V0IGVudmlyb25tZW50VGV4dHVyZShlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9ZX1nZXROb2Rlcygpe2xldCBlPW5ldyBBcnJheTtyZXR1cm4gZT1lLmNvbmNhdCh0aGlzLm1lc2hlcyksZT1lLmNvbmNhdCh0aGlzLmxpZ2h0cyksZT1lLmNvbmNhdCh0aGlzLmNhbWVyYXMpLGU9ZS5jb25jYXQodGhpcy50cmFuc2Zvcm1Ob2RlcyksdGhpcy5za2VsZXRvbnMuZm9yRWFjaCh0PT5lPWUuY29uY2F0KHQuYm9uZXMpKSxlfX1YaS5fQmFieWxvbkZpbGVQYXJzZXJzPXt9LFhpLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzPXt9O2Z1bmN0aW9uIFMoYyxlLHQsaSl7dmFyIHM9YXJndW1lbnRzLmxlbmd0aCxyPXM8Mz9lOmk9PT1udWxsP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpOmksbjtpZih0eXBlb2YgUmVmbGVjdD09Im9iamVjdCImJnR5cGVvZiBSZWZsZWN0LmRlY29yYXRlPT0iZnVuY3Rpb24iKXI9UmVmbGVjdC5kZWNvcmF0ZShjLGUsdCxpKTtlbHNlIGZvcih2YXIgYT1jLmxlbmd0aC0xO2E+PTA7YS0tKShuPWNbYV0pJiYocj0oczwzP24ocik6cz4zP24oZSx0LHIpOm4oZSx0KSl8fHIpO3JldHVybiBzPjMmJnImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQscikscn1jb25zdCBIaT17fSxLaT17fSxycj1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1jKCk7cGUmJnBlLkFkZFRhZ3NUbyhpLGUudGFncyk7Y29uc3Qgcz14cyhpKTtmb3IoY29uc3QgciBpbiBzKXtjb25zdCBuPXNbcl0sYT1lW3JdLG89bi50eXBlO2lmKGEhPW51bGwmJihyIT09InVuaXF1ZUlkInx8cmUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChvKXtjYXNlIDA6Y2FzZSA2OmNhc2UgMTE6aVtyXT1hO2JyZWFrO2Nhc2UgMTppW3JdPXR8fGEuaXNSZW5kZXJUYXJnZXQ/YTphLmNsb25lKCk7YnJlYWs7Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNzpjYXNlIDEwOmNhc2UgMTI6aVtyXT10P2E6YS5jbG9uZSgpO2JyZWFrfX1yZXR1cm4gaX07ZnVuY3Rpb24gYW4oYyl7Y29uc3QgZT1jLmdldENsYXNzTmFtZSgpO3JldHVybiBIaVtlXXx8KEhpW2VdPXt9KSxIaVtlXX1mdW5jdGlvbiB4cyhjKXtjb25zdCBlPWMuZ2V0Q2xhc3NOYW1lKCk7aWYoS2lbZV0pcmV0dXJuIEtpW2VdO0tpW2VdPXt9O2NvbnN0IHQ9S2lbZV07bGV0IGk9YyxzPWU7Zm9yKDtzOyl7Y29uc3Qgcj1IaVtzXTtmb3IoY29uc3QgbyBpbiByKXRbb109cltvXTtsZXQgbixhPSExO2Rve2lmKG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpLCFuLmdldENsYXNzTmFtZSl7YT0hMDticmVha31pZihuLmdldENsYXNzTmFtZSgpIT09cylicmVhaztpPW59d2hpbGUobik7aWYoYSlicmVhaztzPW4uZ2V0Q2xhc3NOYW1lKCksaT1ufXJldHVybiB0fWZ1bmN0aW9uIHl0KGMsZSl7cmV0dXJuKHQsaSk9Pntjb25zdCBzPWFuKHQpO3NbaV18fChzW2ldPXt0eXBlOmMsc291cmNlTmFtZTplfSl9fWZ1bmN0aW9uIG9uKGMsZT1udWxsKXtyZXR1cm4odCxpKT0+e2NvbnN0IHM9ZXx8Il8iK2k7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbc119LHNldDpmdW5jdGlvbihyKXt0eXBlb2YgdGhpcy5lcXVhbHM9PSJmdW5jdGlvbiImJnRoaXMuZXF1YWxzKHIpfHx0aGlzW3NdIT09ciYmKHRoaXNbc109cix0W2NdLmFwcGx5KHRoaXMpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19ZnVuY3Rpb24gYmUoYyxlPW51bGwpe3JldHVybiBvbihjLGUpfWZ1bmN0aW9uIE0oYyl7cmV0dXJuIHl0KDAsYyl9ZnVuY3Rpb24gcHQoYyl7cmV0dXJuIHl0KDEsYyl9ZnVuY3Rpb24gb2koYyl7cmV0dXJuIHl0KDIsYyl9ZnVuY3Rpb24gRGkoYyl7cmV0dXJuIHl0KDMsYyl9ZnVuY3Rpb24gaG4oYyl7cmV0dXJuIHl0KDQsYyl9ZnVuY3Rpb24gTnQoYyl7cmV0dXJuIHl0KDUsYyl9ZnVuY3Rpb24gbG4oYyl7cmV0dXJuIHl0KDYsYyl9ZnVuY3Rpb24gY24oYyl7cmV0dXJuIHl0KDcsYyl9ZnVuY3Rpb24gbnIoYyl7cmV0dXJuIHl0KDgsYyl9ZnVuY3Rpb24gdW4oYyl7cmV0dXJuIHl0KDEwLGMpfWNsYXNzIHJle3N0YXRpYyBBcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyhlLHQpe2lmKGUuYW5pbWF0aW9ucyl7dC5hbmltYXRpb25zPVtdO2ZvcihsZXQgaT0wO2k8ZS5hbmltYXRpb25zLmxlbmd0aDtpKyspe2NvbnN0IHM9ZS5hbmltYXRpb25zW2ldO3QuYW5pbWF0aW9ucy5wdXNoKHMuc2VyaWFsaXplKCkpfX19c3RhdGljIFNlcmlhbGl6ZShlLHQpe3R8fCh0PXt9KSxwZSYmKHQudGFncz1wZS5HZXRUYWdzKGUpKTtjb25zdCBpPXhzKGUpO2Zvcihjb25zdCBzIGluIGkpe2NvbnN0IHI9aVtzXSxuPXIuc291cmNlTmFtZXx8cyxhPXIudHlwZSxvPWVbc107aWYobyE9bnVsbCYmKHMhPT0idW5pcXVlSWQifHxyZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpc3dpdGNoKGEpe2Nhc2UgMDp0W25dPW87YnJlYWs7Y2FzZSAxOnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDI6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDM6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgNDp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgNTp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgNjp0W25dPW8uaWQ7YnJlYWs7Y2FzZSA3OnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDg6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDk6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgMTA6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDExOnRbbl09by5pZDticmVhaztjYXNlIDEyOnRbbl09by5hc0FycmF5KCk7YnJlYWt9fXJldHVybiB0fXN0YXRpYyBQYXJzZShlLHQsaSxzPW51bGwpe2NvbnN0IHI9ZSgpO3N8fChzPSIiKSxwZSYmcGUuQWRkVGFnc1RvKHIsdC50YWdzKTtjb25zdCBuPXhzKHIpO2Zvcihjb25zdCBhIGluIG4pe2NvbnN0IG89blthXSxoPXRbby5zb3VyY2VOYW1lfHxhXSxsPW8udHlwZTtpZihoIT1udWxsJiYoYSE9PSJ1bmlxdWVJZCJ8fHJlLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSl7Y29uc3QgdT1yO3N3aXRjaChsKXtjYXNlIDA6dVthXT1oO2JyZWFrO2Nhc2UgMTppJiYodVthXT1yZS5fVGV4dHVyZVBhcnNlcihoLGkscykpO2JyZWFrO2Nhc2UgMjp1W2FdPWllLkZyb21BcnJheShoKTticmVhaztjYXNlIDM6dVthXT1yZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXIoaCk7YnJlYWs7Y2FzZSA0OnVbYV09dGUuRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgNTp1W2FdPWcuRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgNjppJiYodVthXT1pLmdldExhc3RNZXNoQnlJZChoKSk7YnJlYWs7Y2FzZSA3OnVbYV09cmUuX0NvbG9yQ3VydmVzUGFyc2VyKGgpO2JyZWFrO2Nhc2UgODp1W2FdPWdlLkZyb21BcnJheShoKTticmVhaztjYXNlIDk6dVthXT1yZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcihoKTticmVhaztjYXNlIDEwOnVbYV09Ry5Gcm9tQXJyYXkoaCk7YnJlYWs7Y2FzZSAxMTppJiYodVthXT1pLmdldENhbWVyYUJ5SWQoaCkpO2JyZWFrO2Nhc2UgMTI6dVthXT14LkZyb21BcnJheShoKTticmVha319fXJldHVybiByfXN0YXRpYyBDbG9uZShlLHQpe3JldHVybiBycihlLHQsITEpfXN0YXRpYyBJbnN0YW5jaWF0ZShlLHQpe3JldHVybiBycihlLHQsITApfX1yZS5BbGxvd0xvYWRpbmdVbmlxdWVJZD0hMSxyZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1jPT57dGhyb3cgcSgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxyZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXI9Yz0+e3Rocm93IHEoIkZyZXNuZWxQYXJhbWV0ZXJzIil9LHJlLl9Db2xvckN1cnZlc1BhcnNlcj1jPT57dGhyb3cgcSgiQ29sb3JDdXJ2ZXMiKX0scmUuX1RleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93IHEoIlRleHR1cmUiKX07ZnVuY3Rpb24gcXQoYyxlLHQsaSl7Y29uc3Qgcz10LnZhbHVlO3QudmFsdWU9KC4uLnIpPT57bGV0IG49cztpZih0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmVbZV0pe2NvbnN0IGE9X25hdGl2ZVtlXTtpP249KC4uLm8pPT5pKC4uLm8pP2EoLi4ubyk6cyguLi5vKTpuPWF9cmV0dXJuIGNbZV09bixuKC4uLnIpfX1xdC5maWx0ZXI9ZnVuY3Rpb24oYyl7cmV0dXJuKGUsdCxpKT0+cXQoZSx0LGksYyl9O2NsYXNzIHZze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX2tleXM9W10sdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9ub3JtYWxzPSExLHRoaXMuX3V2cz0hMSx0aGlzLl9uZWVkTm9ybWFscz0hMSx0aGlzLl9uZWVkVVZzPSExLHRoaXMuX2V4dGVybmFsUHJvcGVydGllcz1lLGUpZm9yKGNvbnN0IHQgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmdGhpcy5fc2V0RGVmYXVsdFZhbHVlKHQpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9bWFya0FzUHJvY2Vzc2VkKCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITEsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMSx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlTWlzY0RpcnR5PSExLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMX1tYXJrQXNVbnByb2Nlc3NlZCgpe3RoaXMuX2lzRGlydHk9ITB9bWFya0FsbEFzRGlydHkoKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKXt0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0xpZ2h0RGlydHkoZT0hMSl7dGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9dGhpcy5fYXJlTGlnaHRzRGlzcG9zZWR8fGUsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKXt0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNUZXh0dXJlc0RpcnR5KCl7dGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0ZyZXNuZWxEaXJ0eSgpe3RoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc01pc2NEaXJ0eSgpe3RoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc1ByZVBhc3NEaXJ0eSgpe3RoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfXJlYnVpbGQoKXt0aGlzLl9rZXlzLmxlbmd0aD0wO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMpKWVbMF0hPT0iXyImJnRoaXMuX2tleXMucHVzaChlKTtpZih0aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpZm9yKGNvbnN0IGUgaW4gdGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKXRoaXMuX2tleXMuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9rZXlzLnB1c2goZSl9aXNFcXVhbChlKXtpZih0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2tleXNbdF07aWYodGhpc1tpXSE9PWVbaV0pcmV0dXJuITF9cmV0dXJuITB9Y2xvbmVUbyhlKXt0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoJiYoZS5fa2V5cz10aGlzLl9rZXlzLnNsaWNlKDApKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdO2VbaV09dGhpc1tpXX19cmVzZXQoKXt0aGlzLl9rZXlzLmZvckVhY2goZT0+dGhpcy5fc2V0RGVmYXVsdFZhbHVlKGUpKX1fc2V0RGVmYXVsdFZhbHVlKGUpe3ZhciBzLHIsbixhLG87Y29uc3QgdD0obj0ocj0ocz10aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDpzW2VdKT09bnVsbD92b2lkIDA6ci50eXBlKSE9bnVsbD9uOnR5cGVvZiB0aGlzW2VdLGk9KG89KGE9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6YVtlXSk9PW51bGw/dm9pZCAwOm8uZGVmYXVsdDtzd2l0Y2godCl7Y2FzZSJudW1iZXIiOnRoaXNbZV09aSE9bnVsbD9pOjA7YnJlYWs7Y2FzZSJzdHJpbmciOnRoaXNbZV09aSE9bnVsbD9pOiIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT1pIT1udWxsP2k6ITE7YnJlYWt9fXRvU3RyaW5nKCl7bGV0IGU9IiI7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XSxzPXRoaXNbaV07c3dpdGNoKHR5cGVvZiBzKXtjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOmUrPSIjZGVmaW5lICIraSsiICIrcytgCmA7YnJlYWs7ZGVmYXVsdDpzJiYoZSs9IiNkZWZpbmUgIitpK2AKYCk7YnJlYWt9fXJldHVybiBlfX1jbGFzcyBSZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3RlbXBDb2xvcj1uZXcgZ2UoMCwwLDAsMCksdGhpcy5fZ2xvYmFsQ3VydmU9bmV3IGdlKDAsMCwwLDApLHRoaXMuX2hpZ2hsaWdodHNDdXJ2ZT1uZXcgZ2UoMCwwLDAsMCksdGhpcy5fbWlkdG9uZXNDdXJ2ZT1uZXcgZ2UoMCwwLDAsMCksdGhpcy5fc2hhZG93c0N1cnZlPW5ldyBnZSgwLDAsMCwwKSx0aGlzLl9wb3NpdGl2ZUN1cnZlPW5ldyBnZSgwLDAsMCwwKSx0aGlzLl9uZWdhdGl2ZUN1cnZlPW5ldyBnZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxIdWU9MzAsdGhpcy5fZ2xvYmFsRGVuc2l0eT0wLHRoaXMuX2dsb2JhbFNhdHVyYXRpb249MCx0aGlzLl9nbG9iYWxFeHBvc3VyZT0wLHRoaXMuX2hpZ2hsaWdodHNIdWU9MzAsdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9MCx0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj0wLHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT0wLHRoaXMuX21pZHRvbmVzSHVlPTMwLHRoaXMuX21pZHRvbmVzRGVuc2l0eT0wLHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj0wLHRoaXMuX21pZHRvbmVzRXhwb3N1cmU9MCx0aGlzLl9zaGFkb3dzSHVlPTMwLHRoaXMuX3NoYWRvd3NEZW5zaXR5PTAsdGhpcy5fc2hhZG93c1NhdHVyYXRpb249MCx0aGlzLl9zaGFkb3dzRXhwb3N1cmU9MH1nZXQgZ2xvYmFsSHVlKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEh1ZX1zZXQgZ2xvYmFsSHVlKGUpe3RoaXMuX2dsb2JhbEh1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2dsb2JhbERlbnNpdHl9c2V0IGdsb2JhbERlbnNpdHkoZSl7dGhpcy5fZ2xvYmFsRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFNhdHVyYXRpb259c2V0IGdsb2JhbFNhdHVyYXRpb24oZSl7dGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9nbG9iYWxFeHBvc3VyZX1zZXQgZ2xvYmFsRXhwb3N1cmUoZSl7dGhpcy5fZ2xvYmFsRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0h1ZSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzSHVlfXNldCBoaWdobGlnaHRzSHVlKGUpe3RoaXMuX2hpZ2hsaWdodHNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHl9c2V0IGhpZ2hsaWdodHNEZW5zaXR5KGUpe3RoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9ufXNldCBoaWdobGlnaHRzU2F0dXJhdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlfXNldCBoaWdobGlnaHRzRXhwb3N1cmUoZSl7dGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzSHVlKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzSHVlfXNldCBtaWR0b25lc0h1ZShlKXt0aGlzLl9taWR0b25lc0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNEZW5zaXR5fXNldCBtaWR0b25lc0RlbnNpdHkoZSl7dGhpcy5fbWlkdG9uZXNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc1NhdHVyYXRpb259c2V0IG1pZHRvbmVzU2F0dXJhdGlvbihlKXt0aGlzLl9taWR0b25lc1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9taWR0b25lc0V4cG9zdXJlfXNldCBtaWR0b25lc0V4cG9zdXJlKGUpe3RoaXMuX21pZHRvbmVzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0h1ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dzSHVlfXNldCBzaGFkb3dzSHVlKGUpe3RoaXMuX3NoYWRvd3NIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0RlbnNpdHl9c2V0IHNoYWRvd3NEZW5zaXR5KGUpe3RoaXMuX3NoYWRvd3NEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9ufXNldCBzaGFkb3dzU2F0dXJhdGlvbihlKXt0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0V4cG9zdXJlfXNldCBzaGFkb3dzRXhwb3N1cmUoZSl7dGhpcy5fc2hhZG93c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yQ3VydmVzIn1zdGF0aWMgQmluZChlLHQsaT0idkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIscz0idkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIixyPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil7ZS5fZGlydHkmJihlLl9kaXJ0eT0hMSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fZ2xvYmFsSHVlLGUuX2dsb2JhbERlbnNpdHksZS5fZ2xvYmFsU2F0dXJhdGlvbixlLl9nbG9iYWxFeHBvc3VyZSxlLl9nbG9iYWxDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2hpZ2hsaWdodHNIdWUsZS5faGlnaGxpZ2h0c0RlbnNpdHksZS5faGlnaGxpZ2h0c1NhdHVyYXRpb24sZS5faGlnaGxpZ2h0c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5faGlnaGxpZ2h0c0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fbWlkdG9uZXNIdWUsZS5fbWlkdG9uZXNEZW5zaXR5LGUuX21pZHRvbmVzU2F0dXJhdGlvbixlLl9taWR0b25lc0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fbWlkdG9uZXNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX3NoYWRvd3NIdWUsZS5fc2hhZG93c0RlbnNpdHksZS5fc2hhZG93c1NhdHVyYXRpb24sZS5fc2hhZG93c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fc2hhZG93c0N1cnZlKSxlLl9oaWdobGlnaHRzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9taWR0b25lc0N1cnZlLGUuX3Bvc2l0aXZlQ3VydmUpLGUuX21pZHRvbmVzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9zaGFkb3dzQ3VydmUsZS5fbmVnYXRpdmVDdXJ2ZSkpLHQmJih0LnNldEZsb2F0NChpLGUuX3Bvc2l0aXZlQ3VydmUucixlLl9wb3NpdGl2ZUN1cnZlLmcsZS5fcG9zaXRpdmVDdXJ2ZS5iLGUuX3Bvc2l0aXZlQ3VydmUuYSksdC5zZXRGbG9hdDQocyxlLl9taWR0b25lc0N1cnZlLnIsZS5fbWlkdG9uZXNDdXJ2ZS5nLGUuX21pZHRvbmVzQ3VydmUuYixlLl9taWR0b25lc0N1cnZlLmEpLHQuc2V0RmxvYXQ0KHIsZS5fbmVnYXRpdmVDdXJ2ZS5yLGUuX25lZ2F0aXZlQ3VydmUuZyxlLl9uZWdhdGl2ZUN1cnZlLmIsZS5fbmVnYXRpdmVDdXJ2ZS5hKSl9c3RhdGljIFByZXBhcmVVbmlmb3JtcyhlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9X2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLHQsaSxzLHIpe2UhPW51bGwmJihlPVJlLl9DbGFtcChlLDAsMzYwKSx0PVJlLl9DbGFtcCh0LC0xMDAsMTAwKSxpPVJlLl9DbGFtcChpLC0xMDAsMTAwKSxzPVJlLl9DbGFtcChzLC0xMDAsMTAwKSx0PVJlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcih0KSx0Kj0uNSxzPVJlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihzKSx0PDAmJih0Kj0tMSxlPShlKzE4MCklMzYwKSxSZS5fRnJvbUhTQlRvUmVmKGUsdCw1MCsuMjUqcyxyKSxyLnNjYWxlVG9SZWYoMixyKSxyLmE9MSsuMDEqaSl9c3RhdGljIF9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihlKXtlLz0xMDA7bGV0IHQ9TWF0aC5hYnMoZSk7cmV0dXJuIHQ9TWF0aC5wb3codCwyKSxlPDAmJih0Kj0tMSksdCo9MTAwLHR9c3RhdGljIF9Gcm9tSFNCVG9SZWYoZSx0LGkscyl7bGV0IHI9UmUuX0NsYW1wKGUsMCwzNjApO2NvbnN0IG49UmUuX0NsYW1wKHQvMTAwLDAsMSksYT1SZS5fQ2xhbXAoaS8xMDAsMCwxKTtpZihuPT09MClzLnI9YSxzLmc9YSxzLmI9YTtlbHNle3IvPTYwO2NvbnN0IG89TWF0aC5mbG9vcihyKSxoPXItbyxsPWEqKDEtbiksdT1hKigxLW4qaCksZj1hKigxLW4qKDEtaCkpO3N3aXRjaChvKXtjYXNlIDA6cy5yPWEscy5nPWYscy5iPWw7YnJlYWs7Y2FzZSAxOnMucj11LHMuZz1hLHMuYj1sO2JyZWFrO2Nhc2UgMjpzLnI9bCxzLmc9YSxzLmI9ZjticmVhaztjYXNlIDM6cy5yPWwscy5nPXUscy5iPWE7YnJlYWs7Y2FzZSA0OnMucj1mLHMuZz1sLHMuYj1hO2JyZWFrO2RlZmF1bHQ6cy5yPWEscy5nPWwscy5iPXU7YnJlYWt9fXMuYT0xfXN0YXRpYyBfQ2xhbXAoZSx0LGkpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLGkpfWNsb25lKCl7cmV0dXJuIHJlLkNsb25lKCgpPT5uZXcgUmUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIHJlLlNlcmlhbGl6ZSh0aGlzKX1zdGF0aWMgUGFyc2UoZSl7cmV0dXJuIHJlLlBhcnNlKCgpPT5uZXcgUmUsZSxudWxsLG51bGwpfX1TKFtNKCldLFJlLnByb3RvdHlwZSwiX2dsb2JhbEh1ZSIsdm9pZCAwKSxTKFtNKCldLFJlLnByb3RvdHlwZSwiX2dsb2JhbERlbnNpdHkiLHZvaWQgMCksUyhbTSgpXSxSZS5wcm90b3R5cGUsIl9nbG9iYWxTYXR1cmF0aW9uIix2b2lkIDApLFMoW00oKV0sUmUucHJvdG90eXBlLCJfZ2xvYmFsRXhwb3N1cmUiLHZvaWQgMCksUyhbTSgpXSxSZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzSHVlIix2b2lkIDApLFMoW00oKV0sUmUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0RlbnNpdHkiLHZvaWQgMCksUyhbTSgpXSxSZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzU2F0dXJhdGlvbiIsdm9pZCAwKSxTKFtNKCldLFJlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNFeHBvc3VyZSIsdm9pZCAwKSxTKFtNKCldLFJlLnByb3RvdHlwZSwiX21pZHRvbmVzSHVlIix2b2lkIDApLFMoW00oKV0sUmUucHJvdG90eXBlLCJfbWlkdG9uZXNEZW5zaXR5Iix2b2lkIDApLFMoW00oKV0sUmUucHJvdG90eXBlLCJfbWlkdG9uZXNTYXR1cmF0aW9uIix2b2lkIDApLFMoW00oKV0sUmUucHJvdG90eXBlLCJfbWlkdG9uZXNFeHBvc3VyZSIsdm9pZCAwKSxyZS5fQ29sb3JDdXJ2ZXNQYXJzZXI9UmUuUGFyc2U7Y2xhc3MgbWV7Y29uc3RydWN0b3IoKXt0aGlzLmNvbG9yQ3VydmVzPW5ldyBSZSx0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD0hMCx0aGlzLl9jb2xvckdyYWRpbmdCR1I9ITAsdGhpcy5fZXhwb3N1cmU9MSx0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ITEsdGhpcy5fdG9uZU1hcHBpbmdUeXBlPW1lLlRPTkVNQVBQSU5HX1NUQU5EQVJELHRoaXMuX2NvbnRyYXN0PTEsdGhpcy52aWduZXR0ZVN0cmV0Y2g9MCx0aGlzLnZpZ25ldHRlQ2VudHJlWD0wLHRoaXMudmlnbmV0dGVDZW50cmVZPTAsdGhpcy52aWduZXR0ZVdlaWdodD0xLjUsdGhpcy52aWduZXR0ZUNvbG9yPW5ldyBnZSgwLDAsMCwwKSx0aGlzLnZpZ25ldHRlQ2FtZXJhRm92PS41LHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPW1lLlZJR05FVFRFTU9ERV9NVUxUSVBMWSx0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ITEsdGhpcy5fZGl0aGVyaW5nRW5hYmxlZD0hMSx0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9MS8yNTUsdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD0hMSx0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ITEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMub25VcGRhdGVQYXJhbWV0ZXJzPW5ldyBGfWdldCBjb2xvckN1cnZlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkfXNldCBjb2xvckN1cnZlc0VuYWJsZWQoZSl7dGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZX1zZXQgY29sb3JHcmFkaW5nVGV4dHVyZShlKXt0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGh9c2V0IGNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nQkdSKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0JHUn1zZXQgY29sb3JHcmFkaW5nQkdSKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0JHUiE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdCR1I9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBleHBvc3VyZSgpe3JldHVybiB0aGlzLl9leHBvc3VyZX1zZXQgZXhwb3N1cmUoZSl7dGhpcy5fZXhwb3N1cmUhPT1lJiYodGhpcy5fZXhwb3N1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB0b25lTWFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkfXNldCB0b25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHRvbmVNYXBwaW5nVHlwZSgpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ1R5cGV9c2V0IHRvbmVNYXBwaW5nVHlwZShlKXt0aGlzLl90b25lTWFwcGluZ1R5cGUhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdUeXBlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29udHJhc3QoKXtyZXR1cm4gdGhpcy5fY29udHJhc3R9c2V0IGNvbnRyYXN0KGUpe3RoaXMuX2NvbnRyYXN0IT09ZSYmKHRoaXMuX2NvbnRyYXN0PWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVCbGVuZE1vZGUoKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGV9c2V0IHZpZ25ldHRlQmxlbmRNb2RlKGUpe3RoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlIT09ZSYmKHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlRW5hYmxlZH1zZXQgdmlnbmV0dGVFbmFibGVkKGUpe3RoaXMuX3ZpZ25ldHRlRW5hYmxlZCE9PWUmJih0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBkaXRoZXJpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0VuYWJsZWR9c2V0IGRpdGhlcmluZ0VuYWJsZWQoZSl7dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9kaXRoZXJpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgZGl0aGVyaW5nSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eX1zZXQgZGl0aGVyaW5nSW50ZW5zaXR5KGUpe3RoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSE9PWUmJih0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBza2lwRmluYWxDb2xvckNsYW1wKCl7cmV0dXJuIHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXB9c2V0IHNraXBGaW5hbENvbG9yQ2xhbXAoZSl7dGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcCE9PWUmJih0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgYXBwbHlCeVBvc3RQcm9jZXNzKCl7cmV0dXJuIHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzc31zZXQgYXBwbHlCeVBvc3RQcm9jZXNzKGUpe3RoaXMuX2FwcGx5QnlQb3N0UHJvY2VzcyE9PWUmJih0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkfXNldCBpc0VuYWJsZWQoZSl7dGhpcy5faXNFbmFibGVkIT09ZSYmKHRoaXMuX2lzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9X3VwZGF0ZVBhcmFtZXRlcnMoKXt0aGlzLm9uVXBkYXRlUGFyYW1ldGVycy5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ifXN0YXRpYyBQcmVwYXJlVW5pZm9ybXMoZSx0KXt0LkVYUE9TVVJFJiZlLnB1c2goImV4cG9zdXJlTGluZWFyIiksdC5DT05UUkFTVCYmZS5wdXNoKCJjb250cmFzdCIpLHQuQ09MT1JHUkFESU5HJiZlLnB1c2goImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiKSwodC5WSUdORVRURXx8dC5ESVRIRVIpJiZlLnB1c2goInZJbnZlcnNlU2NyZWVuU2l6ZSIpLHQuVklHTkVUVEUmJihlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MxIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMiIpKSx0LkNPTE9SQ1VSVkVTJiZSZS5QcmVwYXJlVW5pZm9ybXMoZSksdC5ESVRIRVImJmUucHVzaCgiZGl0aGVySW50ZW5zaXR5Iil9c3RhdGljIFByZXBhcmVTYW1wbGVycyhlLHQpe3QuQ09MT1JHUkFESU5HJiZlLnB1c2goInR4Q29sb3JUcmFuc2Zvcm0iKX1wcmVwYXJlRGVmaW5lcyhlLHQ9ITEpe2lmKHQhPT10aGlzLmFwcGx5QnlQb3N0UHJvY2Vzc3x8IXRoaXMuX2lzRW5hYmxlZCl7ZS5WSUdORVRURT0hMSxlLlRPTkVNQVBQSU5HPSExLGUuVE9ORU1BUFBJTkdfQUNFUz0hMSxlLkNPTlRSQVNUPSExLGUuRVhQT1NVUkU9ITEsZS5DT0xPUkNVUlZFUz0hMSxlLkNPTE9SR1JBRElORz0hMSxlLkNPTE9SR1JBRElORzNEPSExLGUuRElUSEVSPSExLGUuSU1BR0VQUk9DRVNTSU5HPSExLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyYmdGhpcy5faXNFbmFibGVkO3JldHVybn1zd2l0Y2goZS5WSUdORVRURT10aGlzLnZpZ25ldHRlRW5hYmxlZCxlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9dGhpcy52aWduZXR0ZUJsZW5kTW9kZT09PW1lLl9WSUdORVRURU1PREVfTVVMVElQTFksZS5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZLGUuVE9ORU1BUFBJTkc9dGhpcy50b25lTWFwcGluZ0VuYWJsZWQsdGhpcy5fdG9uZU1hcHBpbmdUeXBlKXtjYXNlIG1lLlRPTkVNQVBQSU5HX0FDRVM6ZS5UT05FTUFQUElOR19BQ0VTPSEwO2JyZWFrO2RlZmF1bHQ6ZS5UT05FTUFQUElOR19BQ0VTPSExO2JyZWFrfWUuQ09OVFJBU1Q9dGhpcy5jb250cmFzdCE9PTEsZS5FWFBPU1VSRT10aGlzLmV4cG9zdXJlIT09MSxlLkNPTE9SQ1VSVkVTPXRoaXMuY29sb3JDdXJ2ZXNFbmFibGVkJiYhIXRoaXMuY29sb3JDdXJ2ZXMsZS5DT0xPUkdSQURJTkc9dGhpcy5jb2xvckdyYWRpbmdFbmFibGVkJiYhIXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSxlLkNPTE9SR1JBRElORz9lLkNPTE9SR1JBRElORzNEPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pczNEOmUuQ09MT1JHUkFESU5HM0Q9ITEsZS5TQU1QTEVSM0RHUkVFTkRFUFRIPXRoaXMuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgsZS5TQU1QTEVSM0RCR1JNQVA9dGhpcy5jb2xvckdyYWRpbmdCR1IsZS5ESVRIRVI9dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkc9ZS5WSUdORVRURXx8ZS5UT05FTUFQUElOR3x8ZS5DT05UUkFTVHx8ZS5FWFBPU1VSRXx8ZS5DT0xPUkNVUlZFU3x8ZS5DT0xPUkdSQURJTkd8fGUuRElUSEVSfWlzUmVhZHkoKXtyZXR1cm4hdGhpcy5jb2xvckdyYWRpbmdFbmFibGVkfHwhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlfHx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXNSZWFkeSgpfWJpbmQoZSx0KXtpZih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQmJnRoaXMuY29sb3JDdXJ2ZXMmJlJlLkJpbmQodGhpcy5jb2xvckN1cnZlcyxlKSx0aGlzLl92aWduZXR0ZUVuYWJsZWR8fHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQpe2NvbnN0IGk9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCkscz0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCk7aWYoZS5zZXRGbG9hdDIoInZJbnZlcnNlU2NyZWVuU2l6ZSIsaSxzKSx0aGlzLl9kaXRoZXJpbmdFbmFibGVkJiZlLnNldEZsb2F0KCJkaXRoZXJJbnRlbnNpdHkiLC41KnRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSksdGhpcy5fdmlnbmV0dGVFbmFibGVkKXtjb25zdCByPXQhPW51bGw/dDpzL2k7bGV0IG49TWF0aC50YW4odGhpcy52aWduZXR0ZUNhbWVyYUZvdiouNSksYT1uKnI7Y29uc3Qgbz1NYXRoLnNxcnQoYSpuKTthPVUuTWl4KGEsbyx0aGlzLnZpZ25ldHRlU3RyZXRjaCksbj1VLk1peChuLG8sdGhpcy52aWduZXR0ZVN0cmV0Y2gpLGUuc2V0RmxvYXQ0KCJ2aWduZXR0ZVNldHRpbmdzMSIsYSxuLC1hKnRoaXMudmlnbmV0dGVDZW50cmVYLC1uKnRoaXMudmlnbmV0dGVDZW50cmVZKTtjb25zdCBoPS0yKnRoaXMudmlnbmV0dGVXZWlnaHQ7ZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MyIix0aGlzLnZpZ25ldHRlQ29sb3Iucix0aGlzLnZpZ25ldHRlQ29sb3IuZyx0aGlzLnZpZ25ldHRlQ29sb3IuYixoKX19aWYoZS5zZXRGbG9hdCgiZXhwb3N1cmVMaW5lYXIiLHRoaXMuZXhwb3N1cmUpLGUuc2V0RmxvYXQoImNvbnRyYXN0Iix0aGlzLmNvbnRyYXN0KSx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpe2Uuc2V0VGV4dHVyZSgidHhDb2xvclRyYW5zZm9ybSIsdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlKTtjb25zdCBpPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5nZXRTaXplKCkuaGVpZ2h0O2Uuc2V0RmxvYXQ0KCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiwoaS0xKS9pLC41L2ksaSx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUubGV2ZWwpfX1jbG9uZSgpe3JldHVybiByZS5DbG9uZSgoKT0+bmV3IG1lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiByZS5TZXJpYWxpemUodGhpcyl9c3RhdGljIFBhcnNlKGUpe3JldHVybiByZS5QYXJzZSgoKT0+bmV3IG1lLGUsbnVsbCxudWxsKX1zdGF0aWMgZ2V0IFZJR05FVFRFTU9ERV9NVUxUSVBMWSgpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfTVVMVElQTFl9c3RhdGljIGdldCBWSUdORVRURU1PREVfT1BBUVVFKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9PUEFRVUV9fW1lLlRPTkVNQVBQSU5HX1NUQU5EQVJEPTAsbWUuVE9ORU1BUFBJTkdfQUNFUz0xLG1lLl9WSUdORVRURU1PREVfTVVMVElQTFk9MCxtZS5fVklHTkVUVEVNT0RFX09QQVFVRT0xLFMoW2NuKCldLG1lLnByb3RvdHlwZSwiY29sb3JDdXJ2ZXMiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsIl9jb2xvckN1cnZlc0VuYWJsZWQiLHZvaWQgMCksUyhbcHQoImNvbG9yR3JhZGluZ1RleHR1cmUiKV0sbWUucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nVGV4dHVyZSIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0VuYWJsZWQiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0JHUiIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwiX2V4cG9zdXJlIix2b2lkIDApLFMoW00oKV0sbWUucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdFbmFibGVkIix2b2lkIDApLFMoW00oKV0sbWUucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdUeXBlIix2b2lkIDApLFMoW00oKV0sbWUucHJvdG90eXBlLCJfY29udHJhc3QiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsInZpZ25ldHRlU3RyZXRjaCIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwidmlnbmV0dGVDZW50cmVYIix2b2lkIDApLFMoW00oKV0sbWUucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRyZVkiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsInZpZ25ldHRlV2VpZ2h0Iix2b2lkIDApLFMoW25yKCldLG1lLnByb3RvdHlwZSwidmlnbmV0dGVDb2xvciIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwidmlnbmV0dGVDYW1lcmFGb3YiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsIl92aWduZXR0ZUJsZW5kTW9kZSIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwiX3ZpZ25ldHRlRW5hYmxlZCIsdm9pZCAwKSxTKFtNKCldLG1lLnByb3RvdHlwZSwiX2RpdGhlcmluZ0VuYWJsZWQiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsIl9kaXRoZXJpbmdJbnRlbnNpdHkiLHZvaWQgMCksUyhbTSgpXSxtZS5wcm90b3R5cGUsIl9za2lwRmluYWxDb2xvckNsYW1wIix2b2lkIDApLFMoW00oKV0sbWUucHJvdG90eXBlLCJfYXBwbHlCeVBvc3RQcm9jZXNzIix2b2lkIDApLFMoW00oKV0sbWUucHJvdG90eXBlLCJfaXNFbmFibGVkIix2b2lkIDApLHJlLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyPW1lLlBhcnNlLGxlLnByb3RvdHlwZS5jcmVhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHVuaWZvcm0gYnVmZmVyIik7Y29uc3QgdD1uZXcgQWkoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGMsdGhpcy5fZ2wuU1RBVElDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShjKSx0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxsZS5wcm90b3R5cGUuY3JlYXRlRHluYW1pY1VuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHluYW1pYyB1bmlmb3JtIGJ1ZmZlciIpO2NvbnN0IHQ9bmV3IEFpKGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGMpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxsZS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjLGUsdCxpKXt0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKGMpLHQ9PT12b2lkIDAmJih0PTApLGk9PT12b2lkIDA/ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsZSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLGUuc3ViYXJyYXkodCx0K2kpKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCl9LGxlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXt0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGM/Yy51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LGxlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2U9ZnVuY3Rpb24oYyxlLHQpe3RoaXMuX2dsLmJpbmRCdWZmZXJCYXNlKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGUsYz9jLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sbGUucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9Yy5wcm9ncmFtLHM9dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgoaSxlKTtzIT09NDI5NDk2NzI5NSYmdGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhpLHMsdCl9O2NsYXNzIEh7Y29uc3RydWN0b3IoZSx0LGkscyxyPSExKXt0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMuX2VuZ2luZT1lLHRoaXMuX25vVUJPPSFlLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fHIsdGhpcy5fZHluYW1pYz1pLHRoaXMuX25hbWU9cyE9bnVsbD9zOiJuby1uYW1lIix0aGlzLl9kYXRhPXR8fFtdLHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnM9e30sdGhpcy5fdW5pZm9ybVNpemVzPXt9LHRoaXMuX3VuaWZvcm1BcnJheVNpemVzPXt9LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI9MCx0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzPVtdLHRoaXMuX2J1ZmZlckluZGV4PS0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEsdGhpcy5fY3VycmVudEZyYW1lSWQ9MCksdGhpcy5fbm9VQk8/KHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpeDJ4Mj10aGlzLl91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDM9dGhpcy5fdXBkYXRlRmxvYXQzRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUFycmF5PXRoaXMuX3VwZGF0ZUFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cmljZXM9dGhpcy5fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjM9dGhpcy5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ9dGhpcy5fdXBkYXRlSW50Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50ND10aGlzLl91cGRhdGVJbnQ0Rm9yRWZmZWN0KToodGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycy5wdXNoKHRoaXMpLHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0PXRoaXMuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDQ9dGhpcy5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnRBcnJheT10aGlzLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVZlY3RvcjM9dGhpcy5fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvclVuaWZvcm0sdGhpcy51cGRhdGVDb2xvcjQ9dGhpcy5fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQyPXRoaXMuX3VwZGF0ZUludDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvclVuaWZvcm0pfWdldCB1c2VVYm8oKXtyZXR1cm4hdGhpcy5fbm9VQk99Z2V0IGlzU3luYygpe3JldHVybiF0aGlzLl9uZWVkU3luY31pc0R5bmFtaWMoKXtyZXR1cm4gdGhpcy5fZHluYW1pYyE9PXZvaWQgMH1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckRhdGF9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1fZmlsbEFsaWdubWVudChlKXtsZXQgdDtpZihlPD0yP3Q9ZTp0PTQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0IT09MCl7Y29uc3QgaT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyO3RoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQtdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0O2NvbnN0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlci1pO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fZGF0YS5wdXNoKDApfX1hZGRVbmlmb3JtKGUsdCxpPTApe2lmKHRoaXMuX25vVUJPfHx0aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdIT09dm9pZCAwKXJldHVybjtsZXQgcztpZihpPjApe2lmKHQgaW5zdGFuY2VvZiBBcnJheSl0aHJvdyJhZGRVbmlmb3JtIHNob3VsZCBub3QgYmUgdXNlIHdpdGggQXJyYXkgaW4gVUJPOiAiK2U7aWYodGhpcy5fZmlsbEFsaWdubWVudCg0KSx0aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXT17c3RyaWRlU2l6ZTp0LGFycmF5U2l6ZTppfSx0PT0xNil0PXQqaTtlbHNle2NvbnN0IG49KDQtdCkqaTt0PXQqaStufXM9W107Zm9yKGxldCByPTA7cjx0O3IrKylzLnB1c2goMCl9ZWxzZXtpZih0IGluc3RhbmNlb2YgQXJyYXkpcz10LHQ9cy5sZW5ndGg7ZWxzZXt0PXQscz1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKXMucHVzaCgwKX10aGlzLl9maWxsQWxpZ25tZW50KHQpfXRoaXMuX3VuaWZvcm1TaXplc1tlXT10LHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV09dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcix0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyKz10O2ZvcihsZXQgcj0wO3I8dDtyKyspdGhpcy5fZGF0YS5wdXNoKHNbcl0pO3RoaXMuX25lZWRTeW5jPSEwfWFkZE1hdHJpeChlLHQpe3RoaXMuYWRkVW5pZm9ybShlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQudG9BcnJheSgpKSl9YWRkRmxvYXQyKGUsdCxpKXtjb25zdCBzPVt0LGldO3RoaXMuYWRkVW5pZm9ybShlLHMpfWFkZEZsb2F0MyhlLHQsaSxzKXtjb25zdCByPVt0LGksc107dGhpcy5hZGRVbmlmb3JtKGUscil9YWRkQ29sb3IzKGUsdCl7Y29uc3QgaT1bdC5yLHQuZyx0LmJdO3RoaXMuYWRkVW5pZm9ybShlLGkpfWFkZENvbG9yNChlLHQsaSl7Y29uc3Qgcz1bdC5yLHQuZyx0LmIsaV07dGhpcy5hZGRVbmlmb3JtKGUscyl9YWRkVmVjdG9yMyhlLHQpe2NvbnN0IGk9W3QueCx0LnksdC56XTt0aGlzLmFkZFVuaWZvcm0oZSxpKX1hZGRNYXRyaXgzeDMoZSl7dGhpcy5hZGRVbmlmb3JtKGUsMTIpfWFkZE1hdHJpeDJ4MihlKXt0aGlzLmFkZFVuaWZvcm0oZSw4KX1jcmVhdGUoKXt0aGlzLl9ub1VCT3x8dGhpcy5fYnVmZmVyfHwodGhpcy5fZmlsbEFsaWdubWVudCg0KSx0aGlzLl9idWZmZXJEYXRhPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZGF0YSksdGhpcy5fcmVidWlsZCgpLHRoaXMuX25lZWRTeW5jPSEwKX1fcmVidWlsZCgpe3RoaXMuX25vVUJPfHwhdGhpcy5fYnVmZmVyRGF0YXx8KHRoaXMuX2R5bmFtaWM/dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycy5wdXNoKFt0aGlzLl9idWZmZXIsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5jaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkP3RoaXMuX2J1ZmZlckRhdGEuc2xpY2UoKTp2b2lkIDBdKSx0aGlzLl9idWZmZXJJbmRleD10aGlzLl9idWZmZXJzLmxlbmd0aC0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEpKX1nZXQgX251bUJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVycy5sZW5ndGh9Z2V0IF9pbmRleEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJJbmRleH1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfV9idWZmZXJzRXF1YWwoZSx0KXtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSlpZihlW2ldIT09dFtpXSlyZXR1cm4hMTtyZXR1cm4hMH1fY29weUJ1ZmZlcihlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXRbaV09ZVtpXX11cGRhdGUoKXtpZighdGhpcy5fbm9VQk8pe2lmKHRoaXMuYmluZFVuaWZvcm1CdWZmZXIoKSwhdGhpcy5fYnVmZmVyKXt0aGlzLmNyZWF0ZSgpO3JldHVybn1pZighdGhpcy5fZHluYW1pYyYmIXRoaXMuX25lZWRTeW5jKXt0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZTtyZXR1cm59aWYodGhpcy5fYnVmZmVycyYmdGhpcy5fYnVmZmVycy5sZW5ndGg+MSYmdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0paWYodGhpcy5fYnVmZmVyc0VxdWFsKHRoaXMuX2J1ZmZlckRhdGEsdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0pKXt0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZTtyZXR1cm59ZWxzZSB0aGlzLl9jb3B5QnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEsdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0pO3RoaXMuX2VuZ2luZS51cGRhdGVVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLl9jb2xsZWN0VWJvc1VwZGF0ZWRJbkZyYW1lJiYoSC5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdfHwoSC5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdPTApLEguX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXSsrKSx0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZX19X2NyZWF0ZU5ld0J1ZmZlcigpe3RoaXMuX2J1ZmZlckluZGV4KzE8dGhpcy5fYnVmZmVycy5sZW5ndGg/KHRoaXMuX2J1ZmZlckluZGV4KyssdGhpcy5fYnVmZmVyPXRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzBdLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEsdGhpcy5fbmVlZFN5bmM9ITApOnRoaXMuX3JlYnVpbGQoKX1fY2hlY2tOZXdGcmFtZSgpe3RoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZSYmdGhpcy5fY3VycmVudEZyYW1lSWQhPT10aGlzLl9lbmdpbmUuZnJhbWVJZCYmKHRoaXMuX2N1cnJlbnRGcmFtZUlkPXRoaXMuX2VuZ2luZS5mcmFtZUlkLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEsdGhpcy5fYnVmZmVycyYmdGhpcy5fYnVmZmVycy5sZW5ndGg+MD8odGhpcy5fbmVlZFN5bmM9dGhpcy5fYnVmZmVySW5kZXghPT0wLHRoaXMuX2J1ZmZlckluZGV4PTAsdGhpcy5fYnVmZmVyPXRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzBdKTp0aGlzLl9idWZmZXJJbmRleD0tMSl9dXBkYXRlVW5pZm9ybShlLHQsaSl7dGhpcy5fY2hlY2tOZXdGcmFtZSgpO2xldCBzPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYocz09PXZvaWQgMCl7aWYodGhpcy5fYnVmZmVyKXt3LkVycm9yKCJDYW5ub3QgYWRkIGFuIHVuaWZvcm0gYWZ0ZXIgVUJPIGhhcyBiZWVuIGNyZWF0ZWQuIik7cmV0dXJufXRoaXMuYWRkVW5pZm9ybShlLGkpLHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXX1pZih0aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCksdGhpcy5fZHluYW1pYylmb3IobGV0IHI9MDtyPGk7cisrKXRoaXMuX2J1ZmZlckRhdGFbcytyXT10W3JdO2Vsc2V7bGV0IHI9ITE7Zm9yKGxldCBuPTA7bjxpO24rKykoaT09PTE2JiYhdGhpcy5fZW5naW5lLl9mZWF0dXJlcy51bmlmb3JtQnVmZmVySGFyZENoZWNrTWF0cml4fHx0aGlzLl9idWZmZXJEYXRhW3Mrbl0hPT1VLkZsb2F0Um91bmQodFtuXSkpJiYocj0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW3Mrbl09dFtuXSk7dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fHJ9fXVwZGF0ZVVuaWZvcm1BcnJheShlLHQsaSl7dGhpcy5fY2hlY2tOZXdGcmFtZSgpO2NvbnN0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXTtpZihzPT09dm9pZCAwKXt3LkVycm9yKCJDYW5ub3QgYWRkIGFuIHVuaWZvcm0gQXJyYXkgZHluYW1pY2FsbHkuIFBsZWFzZSwgYWRkIGl0IHVzaW5nIGFkZFVuaWZvcm0uIik7cmV0dXJufXRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKTtjb25zdCByPXRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdO2lmKHRoaXMuX2R5bmFtaWMpZm9yKGxldCBuPTA7bjxpO24rKyl0aGlzLl9idWZmZXJEYXRhW3Mrbl09dFtuXTtlbHNle2xldCBuPSExLGE9MCxvPTA7Zm9yKGxldCBoPTA7aDxpO2grKylpZih0aGlzLl9idWZmZXJEYXRhW3Mrbyo0K2FdIT09VS5GbG9hdFJvdW5kKHRbaF0pJiYobj0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW3Mrbyo0K2FdPXRbaF0pLGErKyxhPT09ci5zdHJpZGVTaXplKXtmb3IoO2E8NDthKyspdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT0wO2E9MCxvKyt9dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fG59fV9jYWNoZU1hdHJpeChlLHQpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV0scz10LnVwZGF0ZUZsYWc7cmV0dXJuIGkhPT12b2lkIDAmJmk9PT1zPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITApfV91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwzO2krKylILl9UZW1wQnVmZmVyW2kqNF09dFtpKjNdLEguX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSozKzFdLEguX1RlbXBCdWZmZXJbaSo0KzJdPXRbaSozKzJdLEguX1RlbXBCdWZmZXJbaSo0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciwxMil9X3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4M3gzKGUsdCl9X3VwZGF0ZU1hdHJpeDJ4MkZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4MngyKGUsdCl9X3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0oZSx0KXtmb3IobGV0IGk9MDtpPDI7aSsrKUguX1RlbXBCdWZmZXJbaSo0XT10W2kqMl0sSC5fVGVtcEJ1ZmZlcltpKjQrMV09dFtpKjIrMV0sSC5fVGVtcEJ1ZmZlcltpKjQrMl09MCxILl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLEguX1RlbXBCdWZmZXIsOCl9X3VwZGF0ZUZsb2F0Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdChlLHQpfV91cGRhdGVGbG9hdEZvclVuaWZvcm0oZSx0KXtILl9UZW1wQnVmZmVyWzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlRmxvYXQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQyKGUrcyx0LGkpfV91cGRhdGVGbG9hdDJGb3JVbmlmb3JtKGUsdCxpKXtILl9UZW1wQnVmZmVyWzBdPXQsSC5fVGVtcEJ1ZmZlclsxXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLEguX1RlbXBCdWZmZXIsMil9X3VwZGF0ZUZsb2F0M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQzKGUrcix0LGkscyl9X3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0oZSx0LGkscyl7SC5fVGVtcEJ1ZmZlclswXT10LEguX1RlbXBCdWZmZXJbMV09aSxILl9UZW1wQnVmZmVyWzJdPXMsdGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0NChlK24sdCxpLHMscil9X3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0oZSx0LGkscyxyKXtILl9UZW1wQnVmZmVyWzBdPXQsSC5fVGVtcEJ1ZmZlclsxXT1pLEguX1RlbXBCdWZmZXJbMl09cyxILl9UZW1wQnVmZmVyWzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXRBcnJheShlLHQpfV91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsdCx0Lmxlbmd0aCl9X3VwZGF0ZUFycmF5Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRBcnJheShlLHQpfV91cGRhdGVBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50QXJyYXkoZSx0KX1fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtKGUsdCl7SC5fVGVtcEJ1ZmZlckludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxILl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlTWF0cml4Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX1fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybShlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJnRoaXMudXBkYXRlVW5pZm9ybShlLHQudG9BcnJheSgpLDE2KX1fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpY2VzKGUsdCl9X3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfV91cGRhdGVWZWN0b3IzRm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3IzKGUsdCl9X3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtKGUsdCl7SC5fVGVtcEJ1ZmZlclswXT10LngsSC5fVGVtcEJ1ZmZlclsxXT10LnksSC5fVGVtcEJ1ZmZlclsyXT10LnosdGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlVmVjdG9yNEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfV91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybShlLHQpe0guX1RlbXBCdWZmZXJbMF09dC54LEguX1RlbXBCdWZmZXJbMV09dC55LEguX1RlbXBCdWZmZXJbMl09dC56LEguX1RlbXBCdWZmZXJbM109dC53LHRoaXMudXBkYXRlVW5pZm9ybShlLEguX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUNvbG9yM0ZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStpLHQpfV91cGRhdGVDb2xvcjNGb3JVbmlmb3JtKGUsdCl7SC5fVGVtcEJ1ZmZlclswXT10LnIsSC5fVGVtcEJ1ZmZlclsxXT10LmcsSC5fVGVtcEJ1ZmZlclsyXT10LmIsdGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrcyx0LGkpfV91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RGlyZWN0Q29sb3I0KGUraSx0KX1fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybShlLHQsaSl7SC5fVGVtcEJ1ZmZlclswXT10LnIsSC5fVGVtcEJ1ZmZlclsxXT10LmcsSC5fVGVtcEJ1ZmZlclsyXT10LmIsSC5fVGVtcEJ1ZmZlclszXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLEguX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0oZSx0KXtILl9UZW1wQnVmZmVyWzBdPXQucixILl9UZW1wQnVmZmVyWzFdPXQuZyxILl9UZW1wQnVmZmVyWzJdPXQuYixILl9UZW1wQnVmZmVyWzNdPXQuYSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxILl9UZW1wQnVmZmVyLDQpfV91cGRhdGVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUraSx0KX1fdXBkYXRlSW50Rm9yVW5pZm9ybShlLHQpe0guX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxILl9UZW1wQnVmZmVyLDEpfV91cGRhdGVJbnQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK3MsdCxpKX1fdXBkYXRlSW50MkZvclVuaWZvcm0oZSx0LGkpe0guX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxILl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsSC5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK3IsdCxpLHMpfV91cGRhdGVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtILl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsSC5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1pLEguX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxILl9UZW1wQnVmZmVyLDMpfV91cGRhdGVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStuLHQsaSxzLHIpfV91cGRhdGVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe0guX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxILl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksSC5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLEguX1RlbXBCdWZmZXJJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxILl9UZW1wQnVmZmVyLDQpfXNldFRleHR1cmUoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFRleHR1cmUoZSx0KX11cGRhdGVVbmlmb3JtRGlyZWN0bHkoZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LHQubGVuZ3RoKSx0aGlzLnVwZGF0ZSgpfWJpbmRUb0VmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Q9ZSx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT10fWJpbmRVbmlmb3JtQnVmZmVyKCl7IXRoaXMuX25vVUJPJiZ0aGlzLl9idWZmZXImJnRoaXMuX2N1cnJlbnRFZmZlY3QmJnRoaXMuX2N1cnJlbnRFZmZlY3QuYmluZFVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2N1cnJlbnRFZmZlY3ROYW1lKX11bmJpbmRFZmZlY3QoKXt0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT12b2lkIDB9c2V0RGF0YUJ1ZmZlcihlKXtpZighdGhpcy5fYnVmZmVycylyZXR1cm4gdGhpcy5fYnVmZmVyPT09ZTtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1ZmZlcnMubGVuZ3RoOysrdClpZih0aGlzLl9idWZmZXJzW3RdWzBdPT09ZSlyZXR1cm4gdGhpcy5fYnVmZmVySW5kZXg9dCx0aGlzLl9idWZmZXI9ZSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRFZmZlY3Q9dm9pZCAwLCEwO3JldHVybiExfWRpc3Bvc2UoKXtpZih0aGlzLl9ub1VCTylyZXR1cm47Y29uc3QgZT10aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLHQ9ZS5pbmRleE9mKHRoaXMpO2lmKHQhPT0tMSYmKGVbdF09ZVtlLmxlbmd0aC0xXSxlLnBvcCgpKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2J1ZmZlcnMpZm9yKGxldCBpPTA7aTx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK2kpe2NvbnN0IHM9dGhpcy5fYnVmZmVyc1tpXVswXTt0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIocyl9ZWxzZSB0aGlzLl9idWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwpfX1ILl9VcGRhdGVkVWJvc0luRnJhbWU9e30sSC5fTUFYX1VOSUZPUk1fU0laRT0yNTYsSC5fVGVtcEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KEguX01BWF9VTklGT1JNX1NJWkUpLEguX1RlbXBCdWZmZXJJbnQzMlZpZXc9bmV3IFVpbnQzMkFycmF5KEguX1RlbXBCdWZmZXIuYnVmZmVyKTtjbGFzcyBZaXtjb25zdHJ1Y3RvcihlLHQsaSxzPTAscj0hMSxuPSExLGE9ITEsbyl7dGhpcy5faXNBbHJlYWR5T3duZWQ9ITEsZS5nZXRTY2VuZT90aGlzLl9lbmdpbmU9ZS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOnRoaXMuX2VuZ2luZT1lLHRoaXMuX3VwZGF0YWJsZT1pLHRoaXMuX2luc3RhbmNlZD1uLHRoaXMuX2Rpdmlzb3I9b3x8MSx0IGluc3RhbmNlb2YgTWk/KHRoaXMuX2RhdGE9bnVsbCx0aGlzLl9idWZmZXI9dCk6KHRoaXMuX2RhdGE9dCx0aGlzLl9idWZmZXI9bnVsbCksdGhpcy5ieXRlU3RyaWRlPWE/czpzKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxyfHx0aGlzLmNyZWF0ZSgpfWNyZWF0ZVZlcnRleEJ1ZmZlcihlLHQsaSxzLHIsbj0hMSxhKXtjb25zdCBvPW4/dDp0KkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxoPXM/bj9zOnMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UOnRoaXMuYnl0ZVN0cmlkZTtyZXR1cm4gbmV3IHAodGhpcy5fZW5naW5lLHRoaXMsZSx0aGlzLl91cGRhdGFibGUsITAsaCxyPT09dm9pZCAwP3RoaXMuX2luc3RhbmNlZDpyLG8saSx2b2lkIDAsdm9pZCAwLCEwLHRoaXMuX2Rpdmlzb3J8fGEpfWlzVXBkYXRhYmxlKCl7cmV0dXJuIHRoaXMuX3VwZGF0YWJsZX1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2RhdGF9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1nZXRTdHJpZGVTaXplKCl7cmV0dXJuIHRoaXMuYnl0ZVN0cmlkZS9GbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlR9Y3JlYXRlKGU9bnVsbCl7IWUmJnRoaXMuX2J1ZmZlcnx8KGU9ZXx8dGhpcy5fZGF0YSxlJiYodGhpcy5fYnVmZmVyP3RoaXMuX3VwZGF0YWJsZSYmKHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyKHRoaXMuX2J1ZmZlcixlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX3VwZGF0YWJsZT8odGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyKGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoZSkpKX1fcmVidWlsZCgpe3RoaXMuX2J1ZmZlcj1udWxsLHRoaXMuY3JlYXRlKHRoaXMuX2RhdGEpfXVwZGF0ZShlKXt0aGlzLmNyZWF0ZShlKX11cGRhdGVEaXJlY3RseShlLHQsaSxzPSExKXshdGhpcy5fYnVmZmVyfHx0aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSxzP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsaT9pKnRoaXMuYnl0ZVN0cmlkZTp2b2lkIDApLHQ9PT0wJiZpPT09dm9pZCAwP3RoaXMuX2RhdGE9ZTp0aGlzLl9kYXRhPW51bGwpfV9pbmNyZWFzZVJlZmVyZW5jZXMoKXtpZighIXRoaXMuX2J1ZmZlcil7aWYoIXRoaXMuX2lzQWxyZWFkeU93bmVkKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMDtyZXR1cm59dGhpcy5fYnVmZmVyLnJlZmVyZW5jZXMrK319ZGlzcG9zZSgpeyF0aGlzLl9idWZmZXJ8fHRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fZGF0YT1udWxsKX19Y2xhc3MgcHtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhLG8saCxsLHU9ITEsZj0hMSxkPTEsXz0hMSl7aWYodCBpbnN0YW5jZW9mIFlpPyh0aGlzLl9idWZmZXI9dCx0aGlzLl9vd25zQnVmZmVyPV8pOih0aGlzLl9idWZmZXI9bmV3IFlpKGUsdCxzLG4scixhLGYpLHRoaXMuX293bnNCdWZmZXI9ITApLHRoaXMudW5pcXVlSWQ9cC5fQ291bnRlcisrLHRoaXMuX2tpbmQ9aSxsPT1udWxsKXtjb25zdCBtPXRoaXMuZ2V0RGF0YSgpO3RoaXMudHlwZT1wLkZMT0FULG0gaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dGhpcy50eXBlPXAuQllURTptIGluc3RhbmNlb2YgVWludDhBcnJheT90aGlzLnR5cGU9cC5VTlNJR05FRF9CWVRFOm0gaW5zdGFuY2VvZiBJbnQxNkFycmF5P3RoaXMudHlwZT1wLlNIT1JUOm0gaW5zdGFuY2VvZiBVaW50MTZBcnJheT90aGlzLnR5cGU9cC5VTlNJR05FRF9TSE9SVDptIGluc3RhbmNlb2YgSW50MzJBcnJheT90aGlzLnR5cGU9cC5JTlQ6bSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYodGhpcy50eXBlPXAuVU5TSUdORURfSU5UKX1lbHNlIHRoaXMudHlwZT1sO2NvbnN0IEU9cC5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpO2Y/KHRoaXMuX3NpemU9aHx8KG4/bi9FOnAuRGVkdWNlU3RyaWRlKGkpKSx0aGlzLmJ5dGVTdHJpZGU9bnx8dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqRSx0aGlzLmJ5dGVPZmZzZXQ9b3x8MCk6KHRoaXMuX3NpemU9aHx8bnx8cC5EZWR1Y2VTdHJpZGUoaSksdGhpcy5ieXRlU3RyaWRlPW4/bipFOnRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKkUsdGhpcy5ieXRlT2Zmc2V0PShvfHwwKSpFKSx0aGlzLm5vcm1hbGl6ZWQ9dSx0aGlzLl9pbnN0YW5jZWQ9YSE9PXZvaWQgMD9hOiExLHRoaXMuX2luc3RhbmNlRGl2aXNvcj1hP2Q6MCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX1nZXQgaW5zdGFuY2VEaXZpc29yKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn1zZXQgaW5zdGFuY2VEaXZpc29yKGUpe3RoaXMuX2luc3RhbmNlRGl2aXNvcj1lLGU9PTA/dGhpcy5faW5zdGFuY2VkPSExOnRoaXMuX2luc3RhbmNlZD0hMCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX1fY29tcHV0ZUhhc2hDb2RlKCl7dGhpcy5oYXNoQ29kZT0odGhpcy50eXBlLTUxMjA8PDApKygodGhpcy5ub3JtYWxpemVkPzE6MCk8PDMpKyh0aGlzLl9zaXplPDw0KSsoKHRoaXMuX2luc3RhbmNlZD8xOjApPDw2KSsodGhpcy5ieXRlU3RyaWRlPDwxMil9X3JlYnVpbGQoKXshdGhpcy5fYnVmZmVyfHx0aGlzLl9idWZmZXIuX3JlYnVpbGQoKX1nZXRLaW5kKCl7cmV0dXJuIHRoaXMuX2tpbmR9aXNVcGRhdGFibGUoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmlzVXBkYXRhYmxlKCl9Z2V0RGF0YSgpe3JldHVybiB0aGlzLl9idWZmZXIuZ2V0RGF0YSgpfWdldEZsb2F0RGF0YShlLHQpe2NvbnN0IGk9dGhpcy5nZXREYXRhKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz10aGlzLmdldFNpemUoKSpwLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSkscj1lKnRoaXMuZ2V0U2l6ZSgpO2lmKHRoaXMudHlwZSE9PXAuRkxPQVR8fHRoaXMuYnl0ZVN0cmlkZSE9PXMpe2NvbnN0IG49bmV3IEZsb2F0MzJBcnJheShyKTtyZXR1cm4gdGhpcy5mb3JFYWNoKHIsKGEsbyk9Pm5bb109YSksbn1pZighKGkgaW5zdGFuY2VvZiBBcnJheXx8aSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl8fHRoaXMuYnl0ZU9mZnNldCE9PTB8fGkubGVuZ3RoIT09cilpZihpIGluc3RhbmNlb2YgQXJyYXkpe2NvbnN0IG49dGhpcy5ieXRlT2Zmc2V0LzQ7cmV0dXJuIGkuc2xpY2UobixuK3IpfWVsc2V7aWYoaSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgRmxvYXQzMkFycmF5KGksdGhpcy5ieXRlT2Zmc2V0LHIpO3tsZXQgbj1pLmJ5dGVPZmZzZXQrdGhpcy5ieXRlT2Zmc2V0O2lmKHQpe2NvbnN0IG89bmV3IEZsb2F0MzJBcnJheShyKSxoPW5ldyBGbG9hdDMyQXJyYXkoaS5idWZmZXIsbixyKTtyZXR1cm4gby5zZXQoaCksb31jb25zdCBhPW4lNDtyZXR1cm4gYSYmKG49TWF0aC5tYXgoMCxuLWEpKSxuZXcgRmxvYXQzMkFycmF5KGkuYnVmZmVyLG4scil9fXJldHVybiB0P2kuc2xpY2UoKTppfWdldEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXIuZ2V0QnVmZmVyKCl9Z2V0U3RyaWRlU2l6ZSgpe3JldHVybiB0aGlzLmJ5dGVTdHJpZGUvcC5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpfWdldE9mZnNldCgpe3JldHVybiB0aGlzLmJ5dGVPZmZzZXQvcC5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpfWdldFNpemUoZT0hMSl7cmV0dXJuIGU/dGhpcy5fc2l6ZSpwLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSk6dGhpcy5fc2l6ZX1nZXRJc0luc3RhbmNlZCgpe3JldHVybiB0aGlzLl9pbnN0YW5jZWR9Z2V0SW5zdGFuY2VEaXZpc29yKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn1jcmVhdGUoZSl7dGhpcy5fYnVmZmVyLmNyZWF0ZShlKX11cGRhdGUoZSl7dGhpcy5fYnVmZmVyLnVwZGF0ZShlKX11cGRhdGVEaXJlY3RseShlLHQsaT0hMSl7dGhpcy5fYnVmZmVyLnVwZGF0ZURpcmVjdGx5KGUsdCx2b2lkIDAsaSl9ZGlzcG9zZSgpe3RoaXMuX293bnNCdWZmZXImJnRoaXMuX2J1ZmZlci5kaXNwb3NlKCl9Zm9yRWFjaChlLHQpe3AuRm9yRWFjaCh0aGlzLl9idWZmZXIuZ2V0RGF0YSgpLHRoaXMuYnl0ZU9mZnNldCx0aGlzLmJ5dGVTdHJpZGUsdGhpcy5fc2l6ZSx0aGlzLnR5cGUsZSx0aGlzLm5vcm1hbGl6ZWQsdCl9c3RhdGljIERlZHVjZVN0cmlkZShlKXtzd2l0Y2goZSl7Y2FzZSBwLlVWS2luZDpjYXNlIHAuVVYyS2luZDpjYXNlIHAuVVYzS2luZDpjYXNlIHAuVVY0S2luZDpjYXNlIHAuVVY1S2luZDpjYXNlIHAuVVY2S2luZDpyZXR1cm4gMjtjYXNlIHAuTm9ybWFsS2luZDpjYXNlIHAuUG9zaXRpb25LaW5kOnJldHVybiAzO2Nhc2UgcC5Db2xvcktpbmQ6Y2FzZSBwLk1hdHJpY2VzSW5kaWNlc0tpbmQ6Y2FzZSBwLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZDpjYXNlIHAuTWF0cmljZXNXZWlnaHRzS2luZDpjYXNlIHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kOmNhc2UgcC5UYW5nZW50S2luZDpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBraW5kICciK2UrIiciKX19c3RhdGljIEdldFR5cGVCeXRlTGVuZ3RoKGUpe3N3aXRjaChlKXtjYXNlIHAuQllURTpjYXNlIHAuVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIHAuU0hPUlQ6Y2FzZSBwLlVOU0lHTkVEX1NIT1JUOnJldHVybiAyO2Nhc2UgcC5JTlQ6Y2FzZSBwLlVOU0lHTkVEX0lOVDpjYXNlIHAuRkxPQVQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHlwZSAnJHtlfSdgKX19c3RhdGljIEZvckVhY2goZSx0LGkscyxyLG4sYSxvKXtpZihlIGluc3RhbmNlb2YgQXJyYXkpe2xldCBoPXQvNDtjb25zdCBsPWkvNDtmb3IobGV0IHU9MDt1PG47dSs9cyl7Zm9yKGxldCBmPTA7ZjxzO2YrKylvKGVbaCtmXSx1K2YpO2grPWx9fWVsc2V7Y29uc3QgaD1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IERhdGFWaWV3KGUpOm5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxsPXAuR2V0VHlwZUJ5dGVMZW5ndGgocik7Zm9yKGxldCB1PTA7dTxuO3UrPXMpe2xldCBmPXQ7Zm9yKGxldCBkPTA7ZDxzO2QrKyl7Y29uc3QgXz1wLl9HZXRGbG9hdFZhbHVlKGgscixmLGEpO28oXyx1K2QpLGYrPWx9dCs9aX19fXN0YXRpYyBfR2V0RmxvYXRWYWx1ZShlLHQsaSxzKXtzd2l0Y2godCl7Y2FzZSBwLkJZVEU6e2xldCByPWUuZ2V0SW50OChpKTtyZXR1cm4gcyYmKHI9TWF0aC5tYXgoci8xMjcsLTEpKSxyfWNhc2UgcC5VTlNJR05FRF9CWVRFOntsZXQgcj1lLmdldFVpbnQ4KGkpO3JldHVybiBzJiYocj1yLzI1NSkscn1jYXNlIHAuU0hPUlQ6e2xldCByPWUuZ2V0SW50MTYoaSwhMCk7cmV0dXJuIHMmJihyPU1hdGgubWF4KHIvMzI3NjcsLTEpKSxyfWNhc2UgcC5VTlNJR05FRF9TSE9SVDp7bGV0IHI9ZS5nZXRVaW50MTYoaSwhMCk7cmV0dXJuIHMmJihyPXIvNjU1MzUpLHJ9Y2FzZSBwLklOVDpyZXR1cm4gZS5nZXRJbnQzMihpLCEwKTtjYXNlIHAuVU5TSUdORURfSU5UOnJldHVybiBlLmdldFVpbnQzMihpLCEwKTtjYXNlIHAuRkxPQVQ6cmV0dXJuIGUuZ2V0RmxvYXQzMihpLCEwKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb21wb25lbnQgdHlwZSAke3R9YCl9fX1wLl9Db3VudGVyPTAscC5CWVRFPTUxMjAscC5VTlNJR05FRF9CWVRFPTUxMjEscC5TSE9SVD01MTIyLHAuVU5TSUdORURfU0hPUlQ9NTEyMyxwLklOVD01MTI0LHAuVU5TSUdORURfSU5UPTUxMjUscC5GTE9BVD01MTI2LHAuUG9zaXRpb25LaW5kPSJwb3NpdGlvbiIscC5Ob3JtYWxLaW5kPSJub3JtYWwiLHAuVGFuZ2VudEtpbmQ9InRhbmdlbnQiLHAuVVZLaW5kPSJ1diIscC5VVjJLaW5kPSJ1djIiLHAuVVYzS2luZD0idXYzIixwLlVWNEtpbmQ9InV2NCIscC5VVjVLaW5kPSJ1djUiLHAuVVY2S2luZD0idXY2IixwLkNvbG9yS2luZD0iY29sb3IiLHAuQ29sb3JJbnN0YW5jZUtpbmQ9Imluc3RhbmNlQ29sb3IiLHAuTWF0cmljZXNJbmRpY2VzS2luZD0ibWF0cmljZXNJbmRpY2VzIixwLk1hdHJpY2VzV2VpZ2h0c0tpbmQ9Im1hdHJpY2VzV2VpZ2h0cyIscC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ9Im1hdHJpY2VzSW5kaWNlc0V4dHJhIixwLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZD0ibWF0cmljZXNXZWlnaHRzRXh0cmEiO2NsYXNzIGJ0e2NvbnN0cnVjdG9yKCl7dGhpcy5fcGlja2luZ1VuYXZhaWxhYmxlPSExLHRoaXMuaGl0PSExLHRoaXMuZGlzdGFuY2U9MCx0aGlzLnBpY2tlZFBvaW50PW51bGwsdGhpcy5waWNrZWRNZXNoPW51bGwsdGhpcy5idT0wLHRoaXMuYnY9MCx0aGlzLmZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hGYWNlSWQ9LTEsdGhpcy5zdWJNZXNoSWQ9MCx0aGlzLnBpY2tlZFNwcml0ZT1udWxsLHRoaXMudGhpbkluc3RhbmNlSW5kZXg9LTEsdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbk1lc2g9bnVsbCx0aGlzLmFpbVRyYW5zZm9ybT1udWxsLHRoaXMuZ3JpcFRyYW5zZm9ybT1udWxsfWdldE5vcm1hbChlPSExLHQ9ITApe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTm9ybWFsS2luZCkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFpKXJldHVybiBudWxsO2xldCBzO2lmKHQpe2NvbnN0IHI9dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQpO2xldCBuPWcuRnJvbUFycmF5KHIsaVt0aGlzLmZhY2VJZCozXSozKSxhPWcuRnJvbUFycmF5KHIsaVt0aGlzLmZhY2VJZCozKzFdKjMpLG89Zy5Gcm9tQXJyYXkocixpW3RoaXMuZmFjZUlkKjMrMl0qMyk7bj1uLnNjYWxlKHRoaXMuYnUpLGE9YS5zY2FsZSh0aGlzLmJ2KSxvPW8uc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLHM9bmV3IGcobi54K2EueCtvLngsbi55K2EueStvLnksbi56K2EueitvLnopfWVsc2V7Y29uc3Qgcj10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kKSxuPWcuRnJvbUFycmF5KHIsaVt0aGlzLmZhY2VJZCozXSozKSxhPWcuRnJvbUFycmF5KHIsaVt0aGlzLmZhY2VJZCozKzFdKjMpLG89Zy5Gcm9tQXJyYXkocixpW3RoaXMuZmFjZUlkKjMrMl0qMyksaD1uLnN1YnRyYWN0KGEpLGw9by5zdWJ0cmFjdChhKTtzPWcuQ3Jvc3MoaCxsKX1pZihlKXtsZXQgcj10aGlzLnBpY2tlZE1lc2guZ2V0V29ybGRNYXRyaXgoKTt0aGlzLnBpY2tlZE1lc2gubm9uVW5pZm9ybVNjYWxpbmcmJihQLk1hdHJpeFswXS5jb3B5RnJvbShyKSxyPVAuTWF0cml4WzBdLHIuc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSxyLmludmVydCgpLHIudHJhbnNwb3NlVG9SZWYoUC5NYXRyaXhbMV0pLHI9UC5NYXRyaXhbMV0pLHM9Zy5UcmFuc2Zvcm1Ob3JtYWwocyxyKX1yZXR1cm4gcy5ub3JtYWxpemUoKSxzfWdldFRleHR1cmVDb29yZGluYXRlcygpe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuVVZLaW5kKSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMucGlja2VkTWVzaC5nZXRJbmRpY2VzKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKHAuVVZLaW5kKTtpZighdClyZXR1cm4gbnVsbDtsZXQgaT10ZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjNdKjIpLHM9dGUuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozKzFdKjIpLHI9dGUuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozKzJdKjIpO3JldHVybiBpPWkuc2NhbGUodGhpcy5idSkscz1zLnNjYWxlKHRoaXMuYnYpLHI9ci5zY2FsZSgxLXRoaXMuYnUtdGhpcy5idiksbmV3IHRlKGkueCtzLngrci54LGkueStzLnkrci55KX19Y2xhc3MgV2V7Y29uc3RydWN0b3IoZSx0LGkscyxyLG4pe3RoaXMuc291cmNlPWUsdGhpcy5wb2ludGVyWD10LHRoaXMucG9pbnRlclk9aSx0aGlzLm1lc2hVbmRlclBvaW50ZXI9cyx0aGlzLnNvdXJjZUV2ZW50PXIsdGhpcy5hZGRpdGlvbmFsRGF0YT1ufXN0YXRpYyBDcmVhdGVOZXcoZSx0LGkpe2NvbnN0IHM9ZS5nZXRTY2VuZSgpO3JldHVybiBuZXcgV2UoZSxzLnBvaW50ZXJYLHMucG9pbnRlclkscy5tZXNoVW5kZXJQb2ludGVyfHxlLHQsaSl9c3RhdGljIENyZWF0ZU5ld0Zyb21TcHJpdGUoZSx0LGkscyl7cmV0dXJuIG5ldyBXZShlLHQucG9pbnRlclgsdC5wb2ludGVyWSx0Lm1lc2hVbmRlclBvaW50ZXIsaSxzKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVNjZW5lKGUsdCl7cmV0dXJuIG5ldyBXZShudWxsLGUucG9pbnRlclgsZS5wb2ludGVyWSxlLm1lc2hVbmRlclBvaW50ZXIsdCl9c3RhdGljIENyZWF0ZU5ld0Zyb21QcmltaXRpdmUoZSx0LGkscyl7cmV0dXJuIG5ldyBXZShlLHQueCx0LnksbnVsbCxpLHMpfX1jbGFzcyBaaXtjb25zdHJ1Y3RvcihlKXt0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3NjZW5lPWV9X3ByZXBhcmVCdWZmZXJzKCl7aWYodGhpcy5fdmVydGV4QnVmZmVyc1twLlBvc2l0aW9uS2luZF0pcmV0dXJuO2NvbnN0IGU9W107ZS5wdXNoKDEsMSksZS5wdXNoKC0xLDEpLGUucHVzaCgtMSwtMSksZS5wdXNoKDEsLTEpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbcC5Qb3NpdGlvbktpbmRdPW5ldyBwKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGUscC5Qb3NpdGlvbktpbmQsITEsITEsMiksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpfV9idWlsZEluZGV4QnVmZmVyKCl7Y29uc3QgZT1bXTtlLnB1c2goMCksZS5wdXNoKDEpLGUucHVzaCgyKSxlLnB1c2goMCksZS5wdXNoKDIpLGUucHVzaCgzKSx0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVJbmRleEJ1ZmZlcihlKX1fcmVidWlsZCgpe2NvbnN0IGU9dGhpcy5fdmVydGV4QnVmZmVyc1twLlBvc2l0aW9uS2luZF07IWV8fChlLl9yZWJ1aWxkKCksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpKX1fcHJlcGFyZUZyYW1lKGU9bnVsbCx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiFpfHwodD10fHxpLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihzPT5zIT1udWxsKSwhdHx8dC5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpPyExOih0WzBdLmFjdGl2YXRlKGksZSx0IT1udWxsKSwhMCl9ZGlyZWN0UmVuZGVyKGUsdD1udWxsLGk9ITEscz0wLHI9MCxuPSExKXt2YXIgbztjb25zdCBhPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgaD0wO2g8ZS5sZW5ndGg7aCsrKXtoPGUubGVuZ3RoLTE/ZVtoKzFdLmFjdGl2YXRlKHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0P2EuYmluZEZyYW1lYnVmZmVyKHQscyx2b2lkIDAsdm9pZCAwLGkscik6bnx8YS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksKG89YS5fZGVidWdJbnNlcnRNYXJrZXIpPT1udWxsfHxvLmNhbGwoYSxgcG9zdCBwcm9jZXNzICR7ZVtoXS5uYW1lfSBvdXRwdXRgKSk7Y29uc3QgbD1lW2hdLHU9bC5hcHBseSgpO3UmJihsLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSxhLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsdSksYS5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSxsLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSl9YS5zZXREZXB0aEJ1ZmZlcighMCksYS5zZXREZXB0aFdyaXRlKCEwKX1fZmluYWxpemVGcmFtZShlLHQsaSxzLHI9ITEpe3ZhciBvO2NvbnN0IG49dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCFufHwocz1zfHxuLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihoPT5oIT1udWxsKSxzLmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCkpcmV0dXJuO2NvbnN0IGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7Zm9yKGxldCBoPTAsbD1zLmxlbmd0aDtoPGw7aCsrKXtjb25zdCB1PXNbaF07aWYoaDxsLTE/dS5fb3V0cHV0VGV4dHVyZT1zW2grMV0uYWN0aXZhdGUobix0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0PyhhLmJpbmRGcmFtZWJ1ZmZlcih0LGksdm9pZCAwLHZvaWQgMCxyKSx1Ll9vdXRwdXRUZXh0dXJlPXQpOihhLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSx1Ll9vdXRwdXRUZXh0dXJlPW51bGwpLChvPWEuX2RlYnVnSW5zZXJ0TWFya2VyKT09bnVsbHx8by5jYWxsKGEsYHBvc3QgcHJvY2VzcyAke3NbaF0ubmFtZX0gb3V0cHV0YCkpLGUpYnJlYWs7Y29uc3QgZj11LmFwcGx5KCk7ZiYmKHUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhmKSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLGEuYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcixmKSxhLmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLHUub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpKX1hLnNldERlcHRoQnVmZmVyKCEwKSxhLnNldERlcHRoV3JpdGUoITApLGEuc2V0QWxwaGFNb2RlKDApfWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbcC5Qb3NpdGlvbktpbmRdO2UmJihlLmRpc3Bvc2UoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW3AuUG9zaXRpb25LaW5kXT1udWxsKSx0aGlzLl9pbmRleEJ1ZmZlciYmKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsKX19Y2xhc3MgeHR7Y29uc3RydWN0b3IoZSx0LGk9bnVsbCxzPW51bGwscj1udWxsKXt0aGlzLmluZGV4PWUsdGhpcy5fb3BhcXVlU3ViTWVzaGVzPW5ldyBRZSgyNTYpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzPW5ldyBRZSgyNTYpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcz1uZXcgUWUoMjU2KSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXM9bmV3IFFlKDI1NiksdGhpcy5fcGFydGljbGVTeXN0ZW1zPW5ldyBRZSgyNTYpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzPW5ldyBRZSgyNTYpLHRoaXMuX2VtcHR5PSEwLHRoaXMuX2VkZ2VzUmVuZGVyZXJzPW5ldyBuaSgxNiksdGhpcy5fc2NlbmU9dCx0aGlzLm9wYXF1ZVNvcnRDb21wYXJlRm49aSx0aGlzLmFscGhhVGVzdFNvcnRDb21wYXJlRm49cyx0aGlzLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj1yfXNldCBvcGFxdWVTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbj1lOnRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49eHQuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlck9wYXF1ZT10aGlzLl9yZW5kZXJPcGFxdWVTb3J0ZWR9c2V0IGFscGhhVGVzdFNvcnRDb21wYXJlRm4oZSl7ZT90aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPWU6dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj14dC5QYWludGVyU29ydENvbXBhcmUsdGhpcy5fcmVuZGVyQWxwaGFUZXN0PXRoaXMuX3JlbmRlckFscGhhVGVzdFNvcnRlZH1zZXQgdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPWU6dGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXh0LmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlLHRoaXMuX3JlbmRlclRyYW5zcGFyZW50PXRoaXMuX3JlbmRlclRyYW5zcGFyZW50U29ydGVkfXJlbmRlcihlLHQsaSxzKXtpZihlKXtlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMsdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMsdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKTtyZXR1cm59Y29uc3Qgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMubGVuZ3RoIT09MCYmKHIuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcyksci5zZXRDb2xvcldyaXRlKCEwKSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX3JlbmRlck9wYXF1ZSh0aGlzLl9vcGFxdWVTdWJNZXNoZXMpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJBbHBoYVRlc3QodGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzKTtjb25zdCBuPXIuZ2V0U3RlbmNpbEJ1ZmZlcigpO2lmKHIuc2V0U3RlbmNpbEJ1ZmZlcighMSksdCYmdGhpcy5fcmVuZGVyU3ByaXRlcygpLGkmJnRoaXMuX3JlbmRlclBhcnRpY2xlcyhzKSx0aGlzLm9uQmVmb3JlVHJhbnNwYXJlbnRSZW5kZXJpbmcmJnRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZygpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmxlbmd0aCE9PTB8fHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe2lmKHIuc2V0U3RlbmNpbEJ1ZmZlcihuKSx0aGlzLl9zY2VuZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5KXtjb25zdCBhPXRoaXMuX3NjZW5lLmRlcHRoUGVlbGluZ1JlbmRlcmVyLnJlbmRlcih0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7YS5sZW5ndGgmJnRoaXMuX3JlbmRlclRyYW5zcGFyZW50KGEpfWVsc2UgdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO3Iuc2V0QWxwaGFNb2RlKDApfWlmKHIuc2V0U3RlbmNpbEJ1ZmZlcighMSksdGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoKXtmb3IobGV0IGE9MDthPHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aDthKyspdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGF0YVthXS5yZW5kZXIoKTtyLnNldEFscGhhTW9kZSgwKX1yLnNldFN0ZW5jaWxCdWZmZXIobil9X3JlbmRlck9wYXF1ZVNvcnRlZChlKXtyZXR1cm4geHQuX1JlbmRlclNvcnRlZChlLHRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX1fcmVuZGVyQWxwaGFUZXN0U29ydGVkKGUpe3JldHVybiB4dC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfV9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZChlKXtyZXR1cm4geHQuX1JlbmRlclNvcnRlZChlLHRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITApfXN0YXRpYyBfUmVuZGVyU29ydGVkKGUsdCxpLHMpe2xldCByPTAsbjtjb25zdCBhPWk/aS5nbG9iYWxQb3NpdGlvbjp4dC5fWmVyb1ZlY3RvcjtpZihzKWZvcig7cjxlLmxlbmd0aDtyKyspbj1lLmRhdGFbcl0sbi5fYWxwaGFJbmRleD1uLmdldE1lc2goKS5hbHBoYUluZGV4LG4uX2Rpc3RhbmNlVG9DYW1lcmE9Zy5EaXN0YW5jZShuLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLGEpO2NvbnN0IG89ZS5sZW5ndGg9PT1lLmRhdGEubGVuZ3RoP2UuZGF0YTplLmRhdGEuc2xpY2UoMCxlLmxlbmd0aCk7dCYmby5zb3J0KHQpO2NvbnN0IGg9b1swXS5nZXRNZXNoKCkuZ2V0U2NlbmUoKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKWlmKG49b1tyXSwhKGguX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZyYmIW4uaXNJbkZydXN0dW0oaC5fZnJ1c3R1bVBsYW5lcykpKXtpZihzKXtjb25zdCBsPW4uZ2V0TWF0ZXJpYWwoKTtpZihsJiZsLm5lZWREZXB0aFByZVBhc3Mpe2NvbnN0IHU9bC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3Uuc2V0Q29sb3JXcml0ZSghMSksdS5zZXRBbHBoYU1vZGUoMCksbi5yZW5kZXIoITEpLHUuc2V0Q29sb3JXcml0ZSghMCl9fW4ucmVuZGVyKHMpfX1zdGF0aWMgZGVmYXVsdFRyYW5zcGFyZW50U29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fYWxwaGFJbmRleD50Ll9hbHBoYUluZGV4PzE6ZS5fYWxwaGFJbmRleDx0Ll9hbHBoYUluZGV4Py0xOnh0LmJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KX1zdGF0aWMgYmFja1RvRnJvbnRTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/MTplLl9kaXN0YW5jZVRvQ2FtZXJhPnQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6MH1zdGF0aWMgZnJvbnRUb0JhY2tTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6MH1zdGF0aWMgUGFpbnRlclNvcnRDb21wYXJlKGUsdCl7Y29uc3QgaT1lLmdldE1lc2goKSxzPXQuZ2V0TWVzaCgpO3JldHVybiBpLm1hdGVyaWFsJiZzLm1hdGVyaWFsP2kubWF0ZXJpYWwudW5pcXVlSWQtcy5tYXRlcmlhbC51bmlxdWVJZDppLnVuaXF1ZUlkLXMudW5pcXVlSWR9cHJlcGFyZSgpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fc3ByaXRlTWFuYWdlcnMucmVzZXQoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5yZXNldCgpLHRoaXMuX2VtcHR5PSEwfWRpc3Bvc2UoKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5kaXNwb3NlKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGlzcG9zZSgpfWRpc3BhdGNoKGUsdCxpKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSksaT09PXZvaWQgMCYmKGk9ZS5nZXRNYXRlcmlhbCgpKSxpIT1udWxsJiYoaS5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCk/dGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucHVzaChlKTppLm5lZWRBbHBoYVRlc3RpbmcoKT8oaS5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucHVzaChlKSk6KGkubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLnB1c2goZSkpLHQuX3JlbmRlcmluZ0dyb3VwPXRoaXMsdC5fZWRnZXNSZW5kZXJlciYmdC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0Ll9lZGdlc1JlbmRlcmVyKSx0aGlzLl9lbXB0eT0hMSl9ZGlzcGF0Y2hTcHJpdGVzKGUpe3RoaXMuX3Nwcml0ZU1hbmFnZXJzLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9ZGlzcGF0Y2hQYXJ0aWNsZXMoZSl7dGhpcy5fcGFydGljbGVTeXN0ZW1zLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9X3JlbmRlclBhcnRpY2xlcyhlKXtpZih0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgdD10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGF0YVtpXTtpZigodCYmdC5sYXllck1hc2smcy5sYXllck1hc2spPT09MCljb250aW51ZTtjb25zdCByPXMuZW1pdHRlcjsoIXIucG9zaXRpb258fCFlfHxlLmluZGV4T2YocikhPT0tMSkmJnRoaXMuX3NjZW5lLl9hY3RpdmVQYXJ0aWNsZXMuYWRkQ291bnQocy5yZW5kZXIoKSwhMSl9dGhpcy5fc2NlbmUub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX1fcmVuZGVyU3ByaXRlcygpe2lmKCF0aGlzLl9zY2VuZS5zcHJpdGVzRW5hYmxlZHx8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgZT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9zcHJpdGVNYW5hZ2Vycy5kYXRhW3RdOyhlJiZlLmxheWVyTWFzayZpLmxheWVyTWFzaykhPT0wJiZpLnJlbmRlcigpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX14dC5fWmVyb1ZlY3Rvcj1nLlplcm8oKTtjbGFzcyBmbnt9Y2xhc3MgamV7Y29uc3RydWN0b3IoZSl7dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMSx0aGlzLl9yZW5kZXJpbmdHcm91cHM9bmV3IEFycmF5LHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbD17fSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm49e30sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1uZXcgZm4sdGhpcy5fc2NlbmU9ZTtmb3IobGV0IHQ9amUuTUlOX1JFTkRFUklOR0dST1VQUzt0PGplLk1BWF9SRU5ERVJJTkdHUk9VUFM7dCsrKXRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFt0XT17YXV0b0NsZWFyOiEwLGRlcHRoOiEwLHN0ZW5jaWw6ITB9fV9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihlPSEwLHQ9ITApe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkfHwodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY2xlYXIobnVsbCwhMSxlLHQpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPSEwKX1yZW5kZXIoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9yZW5kZXJpbmdHcm91cEluZm87aWYoci5zY2VuZT10aGlzLl9zY2VuZSxyLmNhbWVyYT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMmJnMpZm9yKGxldCBuPTA7bjx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzW25dO3RoaXMuZGlzcGF0Y2hTcHJpdGVzKGEpfWZvcihsZXQgbj1qZS5NSU5fUkVOREVSSU5HR1JPVVBTO248amUuTUFYX1JFTkRFUklOR0dST1VQUztuKyspe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPW49PT1qZS5NSU5fUkVOREVSSU5HR1JPVVBTO2NvbnN0IGE9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW25dO2lmKCFhfHxhLl9lbXB0eSljb250aW51ZTtjb25zdCBvPU1hdGgucG93KDIsbik7aWYoci5yZW5kZXJpbmdHcm91cElkPW4sdGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsbyksamUuQVVUT0NMRUFSKXtjb25zdCBoPXRoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA/dGhpcy5fc2NlbmUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAobik6dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW25dO2gmJmguYXV0b0NsZWFyJiZ0aGlzLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihoLmRlcHRoLGguc3RlbmNpbCl9Zm9yKGNvbnN0IGggb2YgdGhpcy5fc2NlbmUuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlKWguYWN0aW9uKG4pO2EucmVuZGVyKGUscyxpLHQpO2Zvcihjb25zdCBoIG9mIHRoaXMuX3NjZW5lLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlKWguYWN0aW9uKG4pO3RoaXMuX3NjZW5lLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsbyl9fXJlc2V0KCl7Zm9yKGxldCBlPWplLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxqZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5wcmVwYXJlKCl9fWRpc3Bvc2UoKXt0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLl9yZW5kZXJpbmdHcm91cHMubGVuZ3RoPTAsdGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvPW51bGx9ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe2ZvcihsZXQgZT1qZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8amUuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQuZGlzcG9zZSgpfX1fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKGUpe3RoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT09PXZvaWQgMCYmKHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT1uZXcgeHQoZSx0aGlzLl9zY2VuZSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdKSl9ZGlzcGF0Y2hTcHJpdGVzKGUpe2NvbnN0IHQ9ZS5yZW5kZXJpbmdHcm91cElkfHwwO3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdHcm91cCh0KSx0aGlzLl9yZW5kZXJpbmdHcm91cHNbdF0uZGlzcGF0Y2hTcHJpdGVzKGUpfWRpc3BhdGNoUGFydGljbGVzKGUpe2NvbnN0IHQ9ZS5yZW5kZXJpbmdHcm91cElkfHwwO3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdHcm91cCh0KSx0aGlzLl9yZW5kZXJpbmdHcm91cHNbdF0uZGlzcGF0Y2hQYXJ0aWNsZXMoZSl9ZGlzcGF0Y2goZSx0LGkpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKTtjb25zdCBzPXQucmVuZGVyaW5nR3JvdXBJZHx8MDt0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAocyksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW3NdLmRpc3BhdGNoKGUsdCxpKX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXtpZih0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdPXQsdGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXT1pLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXT1zLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXSl7Y29uc3Qgcj10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07ci5vcGFxdWVTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sci5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sci50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdfX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdPXthdXRvQ2xlYXI6dCxkZXB0aDppLHN0ZW5jaWw6c319Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXX19amUuTUFYX1JFTkRFUklOR0dST1VQUz00LGplLk1JTl9SRU5ERVJJTkdHUk9VUFM9MCxqZS5BVVRPQ0xFQVI9ITA7Y2xhc3Mgant9ai5OQU1FX0VGRkVDVExBWUVSPSJFZmZlY3RMYXllciIsai5OQU1FX0xBWUVSPSJMYXllciIsai5OQU1FX0xFTlNGTEFSRVNZU1RFTT0iTGVuc0ZsYXJlU3lzdGVtIixqLk5BTUVfQk9VTkRJTkdCT1hSRU5ERVJFUj0iQm91bmRpbmdCb3hSZW5kZXJlciIsai5OQU1FX1BBUlRJQ0xFU1lTVEVNPSJQYXJ0aWNsZVN5c3RlbSIsai5OQU1FX0dBTUVQQUQ9IkdhbWVwYWQiLGouTkFNRV9TSU1QTElGSUNBVElPTlFVRVVFPSJTaW1wbGlmaWNhdGlvblF1ZXVlIixqLk5BTUVfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0iR2VvbWV0cnlCdWZmZXJSZW5kZXJlciIsai5OQU1FX1BSRVBBU1NSRU5ERVJFUj0iUHJlUGFzc1JlbmRlcmVyIixqLk5BTUVfREVQVEhSRU5ERVJFUj0iRGVwdGhSZW5kZXJlciIsai5OQU1FX0RFUFRIUEVFTElOR1JFTkRFUkVSPSJEZXB0aFBlZWxpbmdSZW5kZXJlciIsai5OQU1FX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPSJQb3N0UHJvY2Vzc1JlbmRlclBpcGVsaW5lTWFuYWdlciIsai5OQU1FX1NQUklURT0iU3ByaXRlIixqLk5BTUVfU1VCU1VSRkFDRT0iU3ViU3VyZmFjZSIsai5OQU1FX09VVExJTkVSRU5ERVJFUj0iT3V0bGluZSIsai5OQU1FX1BST0NFRFVSQUxURVhUVVJFPSJQcm9jZWR1cmFsVGV4dHVyZSIsai5OQU1FX1NIQURPV0dFTkVSQVRPUj0iU2hhZG93R2VuZXJhdG9yIixqLk5BTUVfT0NUUkVFPSJPY3RyZWUiLGouTkFNRV9QSFlTSUNTRU5HSU5FPSJQaHlzaWNzRW5naW5lIixqLk5BTUVfQVVESU89IkF1ZGlvIixqLlNURVBfSVNSRUFEWUZPUk1FU0hfRUZGRUNUTEFZRVI9MCxqLlNURVBfQkVGT1JFRVZBTFVBVEVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxqLlNURVBfRVZBTFVBVEVTVUJNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxqLlNURVBfUFJFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsai5TVEVQX0NBTUVSQURSQVdSRU5ERVJUQVJHRVRfRUZGRUNUTEFZRVI9MSxqLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19QUkVQQVNTPTAsai5TVEVQX0JFRk9SRUNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxqLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19MQVlFUj0yLGouU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxqLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLGouU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxqLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9PVVRMSU5FPTEsai5TVEVQX0FGVEVSUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAsai5TVEVQX0FGVEVSUkVOREVSSU5HTUVTSF9PVVRMSU5FPTEsai5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0VGRkVDVExBWUVSX0RSQVc9MCxqLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfQk9VTkRJTkdCT1hSRU5ERVJFUj0xLGouU1RFUF9CRUZPUkVDQU1FUkFVUERBVEVfU0lNUExJRklDQVRJT05RVUVVRT0wLGouU1RFUF9CRUZPUkVDQU1FUkFVUERBVEVfR0FNRVBBRD0xLGouU1RFUF9CRUZPUkVDTEVBUl9QUk9DRURVUkFMVEVYVFVSRT0wLGouU1RFUF9CRUZPUkVDTEVBUl9QUkVQQVNTPTEsai5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVENMRUFSX1BSRVBBU1M9MCxqLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxqLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEsai5TVEVQX0FGVEVSQ0FNRVJBRFJBV19QUkVQQVNTPTAsai5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfTEVOU0ZMQVJFU1lTVEVNPTIsai5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTMsai5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MQVlFUj00LGouU1RFUF9BRlRFUlJFTkRFUl9BVURJTz0wLGouU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPTEsai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SPTIsai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9MyxqLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAsai5TVEVQX1BPSU5URVJNT1ZFX1NQUklURT0wLGouU1RFUF9QT0lOVEVSRE9XTl9TUFJJVEU9MCxqLlNURVBfUE9JTlRFUlVQX1NQUklURT0wO2NsYXNzIHdlIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3IoZSl7c3VwZXIoLi4uZSl9c3RhdGljIENyZWF0ZSgpe3JldHVybiBPYmplY3QuY3JlYXRlKHdlLnByb3RvdHlwZSl9cmVnaXN0ZXJTdGVwKGUsdCxpKXtsZXQgcz0wLHI9TnVtYmVyLk1BWF9WQUxVRTtmb3IoO3M8dGhpcy5sZW5ndGgmJihyPXRoaXNbc10uaW5kZXgsIShlPHIpKTtzKyspO3RoaXMuc3BsaWNlKHMsMCx7aW5kZXg6ZSxjb21wb25lbnQ6dCxhY3Rpb246aS5iaW5kKHQpfSl9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wfX1jbGFzcyBTZXt9U2UuUE9JTlRFUkRPV049MSxTZS5QT0lOVEVSVVA9MixTZS5QT0lOVEVSTU9WRT00LFNlLlBPSU5URVJXSEVFTD04LFNlLlBPSU5URVJQSUNLPTE2LFNlLlBPSU5URVJUQVA9MzIsU2UuUE9JTlRFUkRPVUJMRVRBUD02NDtjbGFzcyBhcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgZG4gZXh0ZW5kcyBhcntjb25zdHJ1Y3RvcihlLHQsaSxzKXtzdXBlcihlLHQpLHRoaXMucmF5PW51bGwsdGhpcy5za2lwT25Qb2ludGVyT2JzZXJ2YWJsZT0hMSx0aGlzLmxvY2FsUG9zaXRpb249bmV3IHRlKGkscyl9fWNsYXNzIEZpIGV4dGVuZHMgYXJ7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCksdGhpcy5waWNrSW5mbz1pfX1jbGFzcyBjdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaG92ZXJDdXJzb3I9IiIsdGhpcy5hY3Rpb25zPW5ldyBBcnJheSx0aGlzLmlzUmVjdXJzaXZlPSExfXN0YXRpYyBnZXQgSGFzVHJpZ2dlcnMoKXtmb3IoY29uc3QgZSBpbiBjdC5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY3QuVHJpZ2dlcnMsZSkpcmV0dXJuITA7cmV0dXJuITF9c3RhdGljIGdldCBIYXNQaWNrVHJpZ2dlcnMoKXtmb3IoY29uc3QgZSBpbiBjdC5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY3QuVHJpZ2dlcnMsZSkpe2NvbnN0IHQ9cGFyc2VJbnQoZSk7aWYodD49MSYmdDw9NylyZXR1cm4hMH1yZXR1cm4hMX1zdGF0aWMgSGFzU3BlY2lmaWNUcmlnZ2VyKGUpe2Zvcihjb25zdCB0IGluIGN0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjdC5UcmlnZ2Vycyx0KSYmcGFyc2VJbnQodCk9PT1lKXJldHVybiEwO3JldHVybiExfX1jdC5UcmlnZ2Vycz17fTtjbGFzcyBxaXt9cWkuS0VZRE9XTj0xLHFpLktFWVVQPTI7Y2xhc3MgTXN7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXR9fWNsYXNzIG9yIGV4dGVuZHMgTXN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dCx0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT0hMX1nZXQgc2tpcE9uUG9pbnRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGV9c2V0IHNraXBPblBvaW50ZXJPYnNlcnZhYmxlKGUpe3RoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPWV9fXZhciBWOyhmdW5jdGlvbihjKXtjW2MuR2VuZXJpYz0wXT0iR2VuZXJpYyIsY1tjLktleWJvYXJkPTFdPSJLZXlib2FyZCIsY1tjLk1vdXNlPTJdPSJNb3VzZSIsY1tjLlRvdWNoPTNdPSJUb3VjaCIsY1tjLkR1YWxTaG9jaz00XT0iRHVhbFNob2NrIixjW2MuWGJveD01XT0iWGJveCIsY1tjLlN3aXRjaD02XT0iU3dpdGNoIixjW2MuRHVhbFNlbnNlPTddPSJEdWFsU2Vuc2UifSkoVnx8KFY9e30pKTt2YXIgSzsoZnVuY3Rpb24oYyl7Y1tjLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGNbYy5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGNbYy5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsY1tjLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsY1tjLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGNbYy5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGNbYy5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGNbYy5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGNbYy5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGNbYy5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGNbYy5Nb3ZlPTEyXT0iTW92ZSJ9KShLfHwoSz17fSkpO3ZhciBqaTsoZnVuY3Rpb24oYyl7Y1tjLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGNbYy5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGNbYy5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsY1tjLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsY1tjLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGNbYy5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGNbYy5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGNbYy5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGNbYy5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGNbYy5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGNbYy5EZWx0YUhvcml6b250YWw9MTBdPSJEZWx0YUhvcml6b250YWwiLGNbYy5EZWx0YVZlcnRpY2FsPTExXT0iRGVsdGFWZXJ0aWNhbCJ9KShqaXx8KGppPXt9KSk7dmFyIGhyOyhmdW5jdGlvbihjKXtjW2MuQ3Jvc3M9MF09IkNyb3NzIixjW2MuQ2lyY2xlPTFdPSJDaXJjbGUiLGNbYy5TcXVhcmU9Ml09IlNxdWFyZSIsY1tjLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsY1tjLkwxPTRdPSJMMSIsY1tjLlIxPTVdPSJSMSIsY1tjLkwyPTZdPSJMMiIsY1tjLlIyPTddPSJSMiIsY1tjLlNoYXJlPThdPSJTaGFyZSIsY1tjLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGNbYy5MMz0xMF09IkwzIixjW2MuUjM9MTFdPSJSMyIsY1tjLkRQYWRVcD0xMl09IkRQYWRVcCIsY1tjLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGNbYy5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixjW2MuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixjW2MuSG9tZT0xNl09IkhvbWUiLGNbYy5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShocnx8KGhyPXt9KSk7dmFyIGxyOyhmdW5jdGlvbihjKXtjW2MuQ3Jvc3M9MF09IkNyb3NzIixjW2MuQ2lyY2xlPTFdPSJDaXJjbGUiLGNbYy5TcXVhcmU9Ml09IlNxdWFyZSIsY1tjLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsY1tjLkwxPTRdPSJMMSIsY1tjLlIxPTVdPSJSMSIsY1tjLkwyPTZdPSJMMiIsY1tjLlIyPTddPSJSMiIsY1tjLkNyZWF0ZT04XT0iQ3JlYXRlIixjW2MuT3B0aW9ucz05XT0iT3B0aW9ucyIsY1tjLkwzPTEwXT0iTDMiLGNbYy5SMz0xMV09IlIzIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKGxyfHwobHI9e30pKTt2YXIgY3I7KGZ1bmN0aW9uKGMpe2NbYy5BPTBdPSJBIixjW2MuQj0xXT0iQiIsY1tjLlg9Ml09IlgiLGNbYy5ZPTNdPSJZIixjW2MuTEI9NF09IkxCIixjW2MuUkI9NV09IlJCIixjW2MuTFQ9Nl09IkxUIixjW2MuUlQ9N109IlJUIixjW2MuQmFjaz04XT0iQmFjayIsY1tjLlN0YXJ0PTldPSJTdGFydCIsY1tjLkxTPTEwXT0iTFMiLGNbYy5SUz0xMV09IlJTIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLkxTdGlja1hBeGlzPTE3XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOF09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MTldPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIwXT0iUlN0aWNrWUF4aXMifSkoY3J8fChjcj17fSkpO3ZhciB1cjsoZnVuY3Rpb24oYyl7Y1tjLkI9MF09IkIiLGNbYy5BPTFdPSJBIixjW2MuWT0yXT0iWSIsY1tjLlg9M109IlgiLGNbYy5MPTRdPSJMIixjW2MuUj01XT0iUiIsY1tjLlpMPTZdPSJaTCIsY1tjLlpSPTddPSJaUiIsY1tjLk1pbnVzPThdPSJNaW51cyIsY1tjLlBsdXM9OV09IlBsdXMiLGNbYy5MUz0xMF09IkxTIixjW2MuUlM9MTFdPSJSUyIsY1tjLkRQYWRVcD0xMl09IkRQYWRVcCIsY1tjLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGNbYy5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixjW2MuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixjW2MuSG9tZT0xNl09IkhvbWUiLGNbYy5DYXB0dXJlPTE3XT0iQ2FwdHVyZSIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkodXJ8fCh1cj17fSkpO3ZhciBmcjsoZnVuY3Rpb24oYyl7Y1tjLlBvaW50ZXJNb3ZlPTBdPSJQb2ludGVyTW92ZSIsY1tjLlBvaW50ZXJEb3duPTFdPSJQb2ludGVyRG93biIsY1tjLlBvaW50ZXJVcD0yXT0iUG9pbnRlclVwIn0pKGZyfHwoZnI9e30pKTtjbGFzcyBRaXt9UWkuRE9NX0RFTFRBX1BJWEVMPTAsUWkuRE9NX0RFTFRBX0xJTkU9MSxRaS5ET01fREVMVEFfUEFHRT0yO2NsYXNzIGhpe3N0YXRpYyBDcmVhdGVEZXZpY2VFdmVudChlLHQsaSxzLHIsbil7c3dpdGNoKGUpe2Nhc2UgVi5LZXlib2FyZDpyZXR1cm4gdGhpcy5fQ3JlYXRlS2V5Ym9hcmRFdmVudChpLHMscixuKTtjYXNlIFYuTW91c2U6aWYoaT09PUsuTW91c2VXaGVlbFh8fGk9PT1LLk1vdXNlV2hlZWxZfHxpPT09Sy5Nb3VzZVdoZWVsWilyZXR1cm4gdGhpcy5fQ3JlYXRlV2hlZWxFdmVudChlLHQsaSxzLHIsbik7Y2FzZSBWLlRvdWNoOnJldHVybiB0aGlzLl9DcmVhdGVQb2ludGVyRXZlbnQoZSx0LGkscyxyLG4pO2RlZmF1bHQ6dGhyb3dgVW5hYmxlIHRvIGdlbmVyYXRlIGV2ZW50IGZvciBkZXZpY2UgJHtWW2VdfWB9fXN0YXRpYyBfQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pO3JldHVybiBlPT09Vi5Nb3VzZT8oYS5kZXZpY2VUeXBlPVYuTW91c2UsYS5wb2ludGVySWQ9MSxhLnBvaW50ZXJUeXBlPSJtb3VzZSIpOihhLmRldmljZVR5cGU9Vi5Ub3VjaCxhLnBvaW50ZXJJZD10LGEucG9pbnRlclR5cGU9InRvdWNoIiksaT09PUsuTW92ZT9hLnR5cGU9InBvaW50ZXJtb3ZlIjppPj1LLkxlZnRDbGljayYmaTw9Sy5SaWdodENsaWNrJiYoYS50eXBlPXM9PT0xPyJwb2ludGVyZG93biI6InBvaW50ZXJ1cCIsYS5idXR0b249aS0yKSxhfXN0YXRpYyBfQ3JlYXRlV2hlZWxFdmVudChlLHQsaSxzLHIsbil7Y29uc3QgYT10aGlzLl9DcmVhdGVNb3VzZUV2ZW50KGUsdCxpLHMscixuKTtzd2l0Y2goYS50eXBlPSJ3aGVlbCIsYS5kZWx0YU1vZGU9UWkuRE9NX0RFTFRBX1BJWEVMLGEuZGVsdGFYPTAsYS5kZWx0YVk9MCxhLmRlbHRhWj0wLGkpe2Nhc2UgSy5Nb3VzZVdoZWVsWDphLmRlbHRhWD1zO2JyZWFrO2Nhc2UgSy5Nb3VzZVdoZWVsWTphLmRlbHRhWT1zO2JyZWFrO2Nhc2UgSy5Nb3VzZVdoZWVsWjphLmRlbHRhWj1zO2JyZWFrfXJldHVybiBhfXN0YXRpYyBfQ3JlYXRlTW91c2VFdmVudChlLHQsaSxzLHIsbil7Y29uc3QgYT10aGlzLl9DcmVhdGVFdmVudChuKSxvPXIucG9sbElucHV0KGUsdCxLLkhvcml6b250YWwpLGg9ci5wb2xsSW5wdXQoZSx0LEsuVmVydGljYWwpO3JldHVybiBuPyhhLm1vdmVtZW50WD0wLGEubW92ZW1lbnRZPTAsYS5vZmZzZXRYPWEubW92ZW1lbnRYLW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxhLm9mZnNldFk9YS5tb3ZlbWVudFktbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55KTooYS5tb3ZlbWVudFg9ci5wb2xsSW5wdXQoZSx0LGppLkRlbHRhSG9yaXpvbnRhbCksYS5tb3ZlbWVudFk9ci5wb2xsSW5wdXQoZSx0LGppLkRlbHRhVmVydGljYWwpLGEub2Zmc2V0WD0wLGEub2Zmc2V0WT0wKSx0aGlzLl9DaGVja05vbkNoYXJhY3RlcktleXMoYSxyKSxhLmNsaWVudFg9byxhLmNsaWVudFk9aCxhLng9byxhLnk9aCxhLmRldmljZVR5cGU9ZSxhLmRldmljZVNsb3Q9dCxhLmlucHV0SW5kZXg9aSxhfXN0YXRpYyBfQ3JlYXRlS2V5Ym9hcmRFdmVudChlLHQsaSxzKXtjb25zdCByPXRoaXMuX0NyZWF0ZUV2ZW50KHMpO3JldHVybiB0aGlzLl9DaGVja05vbkNoYXJhY3RlcktleXMocixpKSxyLmRldmljZVR5cGU9Vi5LZXlib2FyZCxyLmRldmljZVNsb3Q9MCxyLmlucHV0SW5kZXg9ZSxyLnR5cGU9dD09PTE/ImtleWRvd24iOiJrZXl1cCIsci5rZXk9U3RyaW5nLmZyb21DaGFyQ29kZShlKSxyLmtleUNvZGU9ZSxyfXN0YXRpYyBfQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKGUsdCl7Y29uc3QgaT10LmlzRGV2aWNlQXZhaWxhYmxlKFYuS2V5Ym9hcmQpLHM9aSYmdC5wb2xsSW5wdXQoVi5LZXlib2FyZCwwLDE4KT09PTEscj1pJiZ0LnBvbGxJbnB1dChWLktleWJvYXJkLDAsMTcpPT09MSxuPWkmJih0LnBvbGxJbnB1dChWLktleWJvYXJkLDAsOTEpPT09MXx8dC5wb2xsSW5wdXQoVi5LZXlib2FyZCwwLDkyKT09PTF8fHQucG9sbElucHV0KFYuS2V5Ym9hcmQsMCw5Myk9PT0xKSxhPWkmJnQucG9sbElucHV0KFYuS2V5Ym9hcmQsMCwxNik9PT0xO2UuYWx0S2V5PXMsZS5jdHJsS2V5PXIsZS5tZXRhS2V5PW4sZS5zaGlmdEtleT1hfXN0YXRpYyBfQ3JlYXRlRXZlbnQoZSl7Y29uc3QgdD17fTtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdD0oKT0+e30sdC50YXJnZXQ9ZSx0fX1jbGFzcyBfbntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5fbmF0aXZlSW5wdXQ9X25hdGl2ZS5EZXZpY2VJbnB1dFN5c3RlbT9uZXcgX25hdGl2ZS5EZXZpY2VJbnB1dFN5c3RlbShlLHQsKHMscixuLGEpPT57Y29uc3Qgbz1oaS5DcmVhdGVEZXZpY2VFdmVudChzLHIsbixhLHRoaXMpO2kocyxyLG8pfSk6dGhpcy5fY3JlYXRlRHVtbXlOYXRpdmVJbnB1dCgpfXBvbGxJbnB1dChlLHQsaSl7cmV0dXJuIHRoaXMuX25hdGl2ZUlucHV0LnBvbGxJbnB1dChlLHQsaSl9aXNEZXZpY2VBdmFpbGFibGUoZSl7cmV0dXJuIGU9PT1WLk1vdXNlfHxlPT09Vi5Ub3VjaH1kaXNwb3NlKCl7dGhpcy5fbmF0aXZlSW5wdXQuZGlzcG9zZSgpfV9jcmVhdGVEdW1teU5hdGl2ZUlucHV0KCl7cmV0dXJue3BvbGxJbnB1dDooKT0+MCxpc0RldmljZUF2YWlsYWJsZTooKT0+ITEsZGlzcG9zZTooKT0+e319fX1jb25zdCBkcj0yNTUsX3I9T2JqZWN0LmtleXMoSykubGVuZ3RoLzI7Y2xhc3MgZ257Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5faW5wdXRzPVtdLHRoaXMuX2tleWJvYXJkQWN0aXZlPSExLHRoaXMuX3BvaW50ZXJBY3RpdmU9ITEsdGhpcy5fdXNpbmdTYWZhcmk9VS5Jc1NhZmFyaSgpLHRoaXMuX3VzaW5nTWFjT1M9LyhNYWN8aVBob25lfGlQb2R8aVBhZCkvaS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksdGhpcy5fa2V5Ym9hcmREb3duRXZlbnQ9cj0+e30sdGhpcy5fa2V5Ym9hcmRVcEV2ZW50PXI9Pnt9LHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlckRvd25FdmVudD1yPT57fSx0aGlzLl9wb2ludGVyVXBFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlckJsdXJFdmVudD1yPT57fSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMSx0aGlzLl9tb3VzZUlkPS0xLHRoaXMuX2lzVXNpbmdGaXJlZm94PWZzLklzTmF2aWdhdG9yQXZhaWxhYmxlKCkmJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpIT09LTEsdGhpcy5fbWF4VG91Y2hQb2ludHM9MCx0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyPW51bGwsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50PXI9Pnt9LHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudD1yPT57fSx0aGlzLl9ldmVudFByZWZpeD1VLkdldFBvaW50ZXJQcmVmaXgoZSksdGhpcy5fZW5naW5lPWUsdGhpcy5fb25EZXZpY2VDb25uZWN0ZWQ9dCx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZD1pLHRoaXMuX29uSW5wdXRDaGFuZ2VkPXMsdGhpcy5fZW5hYmxlRXZlbnRzKCksdGhpcy5fdXNpbmdNYWNPUyYmKHRoaXMuX21ldGFLZXlzPVtdKSx0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWR8fCh0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWQ9KCk9Pnt0aGlzLl9lbmFibGVFdmVudHMoKX0pfXBvbGxJbnB1dChlLHQsaSl7Y29uc3Qgcz10aGlzLl9pbnB1dHNbZV1bdF07aWYoIXMpdGhyb3dgVW5hYmxlIHRvIGZpbmQgZGV2aWNlICR7VltlXX1gO2U+PVYuRHVhbFNob2NrJiZlPD1WLkR1YWxTZW5zZSYmdGhpcy5fdXBkYXRlRGV2aWNlKGUsdCxpKTtjb25zdCByPXNbaV07aWYocj09PXZvaWQgMCl0aHJvd2BVbmFibGUgdG8gZmluZCBpbnB1dCAke2l9IGZvciBkZXZpY2UgJHtWW2VdfSBpbiBzbG90ICR7dH1gO3JldHVybiBpPT09Sy5Nb3ZlJiZVLldhcm4oIlVuYWJsZSB0byBwcm92aWRlIGluZm9ybWF0aW9uIGZvciBQb2ludGVySW5wdXQuTW92ZS4gIFRyeSB1c2luZyBQb2ludGVySW5wdXQuSG9yaXpvbnRhbCBvciBQb2ludGVySW5wdXQuVmVydGljYWwgZm9yIG1vdmUgZGF0YS4iKSxyfWlzRGV2aWNlQXZhaWxhYmxlKGUpe3JldHVybiB0aGlzLl9pbnB1dHNbZV0hPT12b2lkIDB9ZGlzcG9zZSgpe3RoaXMuX29uRGV2aWNlQ29ubmVjdGVkPSgpPT57fSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZD0oKT0+e30sdGhpcy5fb25JbnB1dENoYW5nZWQ9KCk9Pnt9LGRlbGV0ZSB0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWQsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8mJnRoaXMuX2Rpc2FibGVFdmVudHMoKX1fZW5hYmxlRXZlbnRzKCl7Y29uc3QgZT10aGlzPT1udWxsP3ZvaWQgMDp0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCk7aWYoZSYmKCF0aGlzLl9ldmVudHNBdHRhY2hlZHx8dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8hPT1lKSl7aWYodGhpcy5fZGlzYWJsZUV2ZW50cygpLHRoaXMuX2lucHV0cyl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5faW5wdXRzKWlmKHQpZm9yKGNvbnN0IGkgaW4gdCl7Y29uc3Qgcz0raSxyPXRbc107aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dPTB9fXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvPWUsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXg9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXghPT0tMT90aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleDp0aGlzLl9lbmdpbmUuY2FudmFzVGFiSW5kZXgsdGhpcy5faGFuZGxlS2V5QWN0aW9ucygpLHRoaXMuX2hhbmRsZVBvaW50ZXJBY3Rpb25zKCksdGhpcy5faGFuZGxlR2FtZXBhZEFjdGlvbnMoKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMCx0aGlzLl9jaGVja0ZvckNvbm5lY3RlZERldmljZXMoKX19X2Rpc2FibGVFdmVudHMoKXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmKHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCkpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXImJnRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITF9X2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcyl7Y29uc3QgZT1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtmb3IoY29uc3QgdCBvZiBlKXQmJnRoaXMuX2FkZEdhbWVQYWQodCl9dHlwZW9mIG1hdGNoTWVkaWE9PSJmdW5jdGlvbiImJm1hdGNoTWVkaWEoIihwb2ludGVyOmZpbmUpIikubWF0Y2hlcyYmdGhpcy5fYWRkUG9pbnRlckRldmljZShWLk1vdXNlLDAsMCwwKX1fYWRkR2FtZVBhZChlKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuaWQpLGk9ZS5pbmRleDt0aGlzLl9nYW1lcGFkcz10aGlzLl9nYW1lcGFkc3x8bmV3IEFycmF5KGUuaW5kZXgrMSksdGhpcy5fcmVnaXN0ZXJEZXZpY2UodCxpLGUuYnV0dG9ucy5sZW5ndGgrZS5heGVzLmxlbmd0aCksdGhpcy5fZ2FtZXBhZHNbaV09dH1fYWRkUG9pbnRlckRldmljZShlLHQsaSxzKXt0aGlzLl9wb2ludGVyQWN0aXZlfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCksdGhpcy5fcmVnaXN0ZXJEZXZpY2UoZSx0LF9yKTtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtyWzBdPWksclsxXT1zfV9yZWdpc3RlckRldmljZShlLHQsaSl7aWYodD09PXZvaWQgMCl0aHJvd2BVbmFibGUgdG8gcmVnaXN0ZXIgZGV2aWNlICR7VltlXX0gdG8gdW5kZWZpbmVkIHNsb3QuYDtpZih0aGlzLl9pbnB1dHNbZV18fCh0aGlzLl9pbnB1dHNbZV09e30pLCF0aGlzLl9pbnB1dHNbZV1bdF0pe2NvbnN0IHM9bmV3IEFycmF5KGkpO3MuZmlsbCgwKSx0aGlzLl9pbnB1dHNbZV1bdF09cyx0aGlzLl9vbkRldmljZUNvbm5lY3RlZChlLHQpfX1fdW5yZWdpc3RlckRldmljZShlLHQpe3RoaXMuX2lucHV0c1tlXVt0XSYmKGRlbGV0ZSB0aGlzLl9pbnB1dHNbZV1bdF0sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoZSx0KSl9X2hhbmRsZUtleUFjdGlvbnMoKXt0aGlzLl9rZXlib2FyZERvd25FdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZShWLktleWJvYXJkLDAsZHIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1tWLktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MTtjb25zdCBpPWU7aS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLm1ldGFLZXkmJmUua2V5IT09Ik1ldGEiJiYodGhpcy5fbWV0YUtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKXx8dGhpcy5fbWV0YUtleXMucHVzaChlLmtleUNvZGUpKSx0aGlzLl9vbklucHV0Q2hhbmdlZChWLktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZT0+e3RoaXMuX2tleWJvYXJkQWN0aXZlfHwodGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2UoVi5LZXlib2FyZCwwLGRyKSk7Y29uc3QgdD10aGlzLl9pbnB1dHNbVi5LZXlib2FyZF1bMF07aWYodCl7dFtlLmtleUNvZGVdPTA7Y29uc3QgaT1lO2lmKGkuaW5wdXRJbmRleD1lLmtleUNvZGUsdGhpcy5fdXNpbmdNYWNPUyYmZS5rZXk9PT0iTWV0YSImJnRoaXMuX21ldGFLZXlzLmxlbmd0aD4wKXtmb3IoY29uc3QgcyBvZiB0aGlzLl9tZXRhS2V5cyl7Y29uc3Qgcj1oaS5DcmVhdGVEZXZpY2VFdmVudChWLktleWJvYXJkLDAscywwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3Rbc109MCx0aGlzLl9vbklucHV0Q2hhbmdlZChWLktleWJvYXJkLDAscil9dGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX10aGlzLl9vbklucHV0Q2hhbmdlZChWLktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD0oKT0+e2lmKHRoaXMuX2tleWJvYXJkQWN0aXZlKXtjb25zdCBlPXRoaXMuX2lucHV0c1tWLktleWJvYXJkXVswXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdIT09MCl7ZVt0XT0wO2NvbnN0IGk9aGkuQ3JlYXRlRGV2aWNlRXZlbnQoVi5LZXlib2FyZCwwLHQsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZChWLktleWJvYXJkLDAsaSl9dGhpcy5fdXNpbmdNYWNPUyYmdGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9rZXlib2FyZEJsdXJFdmVudCl9X2hhbmRsZVBvaW50ZXJBY3Rpb25zKCl7dGhpcy5fbWF4VG91Y2hQb2ludHM9ZnMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzfHwyLHRoaXMuX2FjdGl2ZVRvdWNoSWRzfHwodGhpcy5fYWN0aXZlVG91Y2hJZHM9bmV3IEFycmF5KHRoaXMuX21heFRvdWNoUG9pbnRzKSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhUb3VjaFBvaW50cztpKyspdGhpcy5fYWN0aXZlVG91Y2hJZHNbaV09LTE7dGhpcy5fcG9pbnRlck1vdmVFdmVudD1pPT57Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxyPXM9PT1WLk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPXt9KSx0aGlzLl9pbnB1dHNbc11bcl18fHRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9aTthLmlucHV0SW5kZXg9Sy5Nb3ZlLGkubW92ZW1lbnRYPT09dm9pZCAwJiYoaS5tb3ZlbWVudFg9aS5tb3pNb3ZlbWVudFh8fGkud2Via2l0TW92ZW1lbnRYfHxpLm1zTW92ZW1lbnRYfHxpLmNsaWVudFgtbltLLkhvcml6b250YWxdKSxpLm1vdmVtZW50WT09PXZvaWQgMCYmKGkubW92ZW1lbnRZPWkubW96TW92ZW1lbnRZfHxpLndlYmtpdE1vdmVtZW50WXx8aS5tc01vdmVtZW50WXx8aS5jbGllbnRZLW5bSy5WZXJ0aWNhbF0pLG5bSy5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltLLlZlcnRpY2FsXT1pLmNsaWVudFksdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpLCF0aGlzLl91c2luZ1NhZmFyaSYmaS5idXR0b24hPT0tMSYmKGEuaW5wdXRJbmRleD1pLmJ1dHRvbisyLG5baS5idXR0b24rMl09bltpLmJ1dHRvbisyXT8wOjEsdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9aT0+e2NvbnN0IHM9dGhpcy5fZ2V0UG9pbnRlclR5cGUoaSk7bGV0IHI9cz09PVYuTW91c2U/MDppLnBvaW50ZXJJZDtpZihzPT09Vi5Ub3VjaCl7Y29uc3QgYT10aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKC0xKTtpZihhPj0wKXI9YSx0aGlzLl9hY3RpdmVUb3VjaElkc1thXT1pLnBvaW50ZXJJZDtlbHNle1UuV2FybihgTWF4IG51bWJlciBvZiB0b3VjaGVzIGV4Y2VlZGVkLiAgSWdub3JpbmcgdG91Y2hlcyBpbiBleGNlc3Mgb2YgJHt0aGlzLl9tYXhUb3VjaFBvaW50c31gKTtyZXR1cm59fXRoaXMuX2lucHV0c1tzXXx8KHRoaXMuX2lucHV0c1tzXT17fSksdGhpcy5faW5wdXRzW3NdW3JdP3M9PT1WLlRvdWNoJiZ0aGlzLl9vbkRldmljZUNvbm5lY3RlZChzLHIpOnRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9bltLLkhvcml6b250YWxdLG89bltLLlZlcnRpY2FsXTtpZihzPT09Vi5Nb3VzZSl7aWYodGhpcy5fbW91c2VJZD09PS0xJiYoaS5wb2ludGVySWQ9PT12b2lkIDA/dGhpcy5fbW91c2VJZD10aGlzLl9pc1VzaW5nRmlyZWZveD8wOjE6dGhpcy5fbW91c2VJZD1pLnBvaW50ZXJJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCl0cnl7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCl9Y2F0Y2h7fX1lbHNlIGlmKGkucG9pbnRlcklkJiYhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KXRyeXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5zZXRQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCl9Y2F0Y2h7fW5bSy5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltLLlZlcnRpY2FsXT1pLmNsaWVudFksbltpLmJ1dHRvbisyXT0xO2NvbnN0IGg9aTtoLmlucHV0SW5kZXg9aS5idXR0b24rMix0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCksKGEhPT1pLmNsaWVudFh8fG8hPT1pLmNsaWVudFkpJiYoaC5pbnB1dEluZGV4PUsuTW92ZSxpLm1vdmVtZW50WD09PXZvaWQgMCYmKGkubW92ZW1lbnRYPWkubW96TW92ZW1lbnRYfHxpLndlYmtpdE1vdmVtZW50WHx8aS5tc01vdmVtZW50WHx8aS5jbGllbnRYLW5bSy5Ib3Jpem9udGFsXSksaS5tb3ZlbWVudFk9PT12b2lkIDAmJihpLm1vdmVtZW50WT1pLm1vek1vdmVtZW50WXx8aS53ZWJraXRNb3ZlbWVudFl8fGkubXNNb3ZlbWVudFl8fGkuY2xpZW50WS1uW0suVmVydGljYWxdKSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9aT0+e3ZhciBhLG8saCxsLHU7Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxyPXM9PT1WLk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7aWYocz09PVYuVG91Y2gpe2lmKHI9PT0tMSlyZXR1cm47dGhpcy5fYWN0aXZlVG91Y2hJZHNbcl09LTF9Y29uc3Qgbj0oYT10aGlzLl9pbnB1dHNbc10pPT1udWxsP3ZvaWQgMDphW3JdO2lmKG4mJm5baS5idXR0b24rMl0hPT0wKXtjb25zdCBmPW5bSy5Ib3Jpem9udGFsXSxkPW5bSy5WZXJ0aWNhbF07bltLLkhvcml6b250YWxdPWkuY2xpZW50WCxuW0suVmVydGljYWxdPWkuY2xpZW50WSxuW2kuYnV0dG9uKzJdPTA7Y29uc3QgXz1pOyhmIT09aS5jbGllbnRYfHxkIT09aS5jbGllbnRZKSYmKF8uaW5wdXRJbmRleD1LLk1vdmUsaS5tb3ZlbWVudFg9PT12b2lkIDAmJihpLm1vdmVtZW50WD1pLm1vek1vdmVtZW50WHx8aS53ZWJraXRNb3ZlbWVudFh8fGkubXNNb3ZlbWVudFh8fGkuY2xpZW50WC1uW0suSG9yaXpvbnRhbF0pLGkubW92ZW1lbnRZPT09dm9pZCAwJiYoaS5tb3ZlbWVudFk9aS5tb3pNb3ZlbWVudFl8fGkud2Via2l0TW92ZW1lbnRZfHxpLm1zTW92ZW1lbnRZfHxpLmNsaWVudFktbltLLlZlcnRpY2FsXSksdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLF8pKSxfLmlucHV0SW5kZXg9aS5idXR0b24rMixzPT09Vi5Nb3VzZSYmdGhpcy5fbW91c2VJZD49MCYmKChoPShvPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PW51bGw/dm9pZCAwOmguY2FsbChvLHRoaXMuX21vdXNlSWQpKT90aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCk6aS5wb2ludGVySWQmJigodT0obD10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT1udWxsP3ZvaWQgMDp1LmNhbGwobCxpLnBvaW50ZXJJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoaS5wb2ludGVySWQpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixfKSxzPT09Vi5Ub3VjaCYmdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQocyxyKX19LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1pPT57dmFyIHMscixuLGE7aWYoaS5wb2ludGVyVHlwZT09PSJtb3VzZSIpe2NvbnN0IG89dGhpcy5faW5wdXRzW1YuTW91c2VdWzBdO3RoaXMuX21vdXNlSWQ+PTAmJigocj0ocz10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT1udWxsP3ZvaWQgMDpyLmNhbGwocyx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9Sy5MZWZ0Q2xpY2s7aDw9Sy5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWhpLkNyZWF0ZURldmljZUV2ZW50KFYuTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoVi5Nb3VzZSwwLGwpfX1lbHNle2NvbnN0IG89dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7KGE9KG49dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKSE9bnVsbCYmYS5jYWxsKG4saS5wb2ludGVySWQpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoaS5wb2ludGVySWQpLHRoaXMuX2lucHV0c1tWLlRvdWNoXVtvXVtLLkxlZnRDbGlja109MDtjb25zdCBoPWhpLkNyZWF0ZURldmljZUV2ZW50KFYuVG91Y2gsbyxLLkxlZnRDbGljaywwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKFYuVG91Y2gsbyxoKSx0aGlzLl9hY3RpdmVUb3VjaElkc1tvXT0tMSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChWLlRvdWNoLG8pfX0sdGhpcy5fd2hlZWxFdmVudE5hbWU9Im9ud2hlZWwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik/IndoZWVsIjpkb2N1bWVudC5vbm1vdXNld2hlZWwhPT12b2lkIDA/Im1vdXNld2hlZWwiOiJET01Nb3VzZVNjcm9sbCI7bGV0IGU9ITE7Y29uc3QgdD1mdW5jdGlvbigpe307dHJ5e2NvbnN0IGk9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJwYXNzaXZlIix7Z2V0OmZ1bmN0aW9uKCl7ZT0hMH19KTt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0Iix0LGkpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLHQsaSl9Y2F0Y2h7fXRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9KCk9Pnt2YXIgaSxzLHIsbixhO2lmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoVi5Nb3VzZSkpe2NvbnN0IG89dGhpcy5faW5wdXRzW1YuTW91c2VdWzBdO3RoaXMuX21vdXNlSWQ+PTAmJigocz0oaT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT1udWxsP3ZvaWQgMDpzLmNhbGwoaSx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9Sy5MZWZ0Q2xpY2s7aDw9Sy5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWhpLkNyZWF0ZURldmljZUV2ZW50KFYuTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoVi5Nb3VzZSwwLGwpfX1pZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKFYuVG91Y2gpKXtjb25zdCBvPXRoaXMuX2lucHV0c1tWLlRvdWNoXTtmb3IobGV0IGg9MDtoPHRoaXMuX2FjdGl2ZVRvdWNoSWRzLmxlbmd0aDtoKyspe2NvbnN0IGw9dGhpcy5fYWN0aXZlVG91Y2hJZHNbaF07aWYoKG49KHI9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKSE9bnVsbCYmbi5jYWxsKHIsbCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShsKSxsIT09LTEmJigoYT1vW2hdKT09bnVsbD92b2lkIDA6YVtLLkxlZnRDbGlja10pPT09MSl7b1toXVtLLkxlZnRDbGlja109MDtjb25zdCB1PWhpLkNyZWF0ZURldmljZUV2ZW50KFYuVG91Y2gsaCxLLkxlZnRDbGljaywwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKFYuVG91Y2gsaCx1KSx0aGlzLl9hY3RpdmVUb3VjaElkc1toXT0tMSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChWLlRvdWNoLGgpfX19fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1pPT57Y29uc3Qgcz1WLk1vdXNlLHI9MDt0aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109W10pLHRoaXMuX2lucHV0c1tzXVtyXXx8KHRoaXMuX3BvaW50ZXJBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2UocyxyLF9yKSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7bltLLk1vdXNlV2hlZWxYXT1pLmRlbHRhWHx8MCxuW0suTW91c2VXaGVlbFldPWkuZGVsdGFZfHxpLndoZWVsRGVsdGF8fDAsbltLLk1vdXNlV2hlZWxaXT1pLmRlbHRhWnx8MDtjb25zdCBhPWk7bltLLk1vdXNlV2hlZWxYXSE9PTAmJihhLmlucHV0SW5kZXg9Sy5Nb3VzZVdoZWVsWCx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpLG5bSy5Nb3VzZVdoZWVsWV0hPT0wJiYoYS5pbnB1dEluZGV4PUsuTW91c2VXaGVlbFksdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKSxuW0suTW91c2VXaGVlbFpdIT09MCYmKGEuaW5wdXRJbmRleD1LLk1vdXNlV2hlZWxaLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSl9fSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50LGU/e3Bhc3NpdmU6ITF9OiExKSx0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyPXRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5hZGQoKCk9PntpZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKFYuTW91c2UpKXtjb25zdCBpPXRoaXMuX2lucHV0c1tWLk1vdXNlXVswXTtpW0suTW91c2VXaGVlbFhdPTAsaVtLLk1vdXNlV2hlZWxZXT0wLGlbSy5Nb3VzZVdoZWVsWl09MH19KX1faGFuZGxlR2FtZXBhZEFjdGlvbnMoKXt0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9ZT0+e3RoaXMuX2FkZEdhbWVQYWQoZS5nYW1lcGFkKX0sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PWU9PntpZih0aGlzLl9nYW1lcGFkcyl7Y29uc3QgdD10aGlzLl9nZXRHYW1lcGFkRGV2aWNlVHlwZShlLmdhbWVwYWQuaWQpLGk9ZS5nYW1lcGFkLmluZGV4O3RoaXMuX3VucmVnaXN0ZXJEZXZpY2UodCxpKSxkZWxldGUgdGhpcy5fZ2FtZXBhZHNbaV19fSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KX1fdXBkYXRlRGV2aWNlKGUsdCxpKXtjb25zdCBzPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpW3RdO2lmKHMmJmU9PT10aGlzLl9nYW1lcGFkc1t0XSl7Y29uc3Qgcj10aGlzLl9pbnB1dHNbZV1bdF07aT49cy5idXR0b25zLmxlbmd0aD9yW2ldPXMuYXhlc1tpLXMuYnV0dG9ucy5sZW5ndGhdLnZhbHVlT2YoKTpyW2ldPXMuYnV0dG9uc1tpXS52YWx1ZX19X2dldEdhbWVwYWREZXZpY2VUeXBlKGUpe3JldHVybiBlLmluZGV4T2YoIjA1NGMiKSE9PS0xP2UuaW5kZXhPZigiMGNlNiIpIT09LTE/Vi5EdWFsU2Vuc2U6Vi5EdWFsU2hvY2s6ZS5pbmRleE9mKCJYYm94IE9uZSIpIT09LTF8fGUuc2VhcmNoKCJYYm94IDM2MCIpIT09LTF8fGUuc2VhcmNoKCJ4aW5wdXQiKSE9PS0xP1YuWGJveDplLmluZGV4T2YoIjA1N2UiKSE9PS0xP1YuU3dpdGNoOlYuR2VuZXJpY31fZ2V0UG9pbnRlclR5cGUoZSl7bGV0IHQ9Vi5Nb3VzZTtyZXR1cm4oZS5wb2ludGVyVHlwZT09PSJ0b3VjaCJ8fGUucG9pbnRlclR5cGU9PT0icGVuInx8ZS50b3VjaGVzKSYmKHQ9Vi5Ub3VjaCksdH19Y2xhc3MgZ3J7Y29uc3RydWN0b3IoZSx0LGk9MCl7dGhpcy5kZXZpY2VUeXBlPXQsdGhpcy5kZXZpY2VTbG90PWksdGhpcy5vbklucHV0Q2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09ZX1nZXRJbnB1dChlKXtyZXR1cm4gdGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0ucG9sbElucHV0KHRoaXMuZGV2aWNlVHlwZSx0aGlzLmRldmljZVNsb3QsZSl9fWNsYXNzIHBue2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5fcmVmQ291bnQ9MCx0aGlzLnJlZ2lzdGVyTWFuYWdlcj1uPT57Zm9yKGxldCBhPTA7YTx0aGlzLl9kZXZpY2VzLmxlbmd0aDthKyspe2NvbnN0IG89dGhpcy5fZGV2aWNlc1thXTtmb3IoY29uc3QgaCBpbiBvKXtjb25zdCBsPStoO24uX2FkZERldmljZShuZXcgZ3IodGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0sYSxsKSl9fXRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5wdXNoKG4pfSx0aGlzLnVucmVnaXN0ZXJNYW5hZ2VyPW49Pntjb25zdCBhPXRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5pbmRleE9mKG4pO2E+LTEmJnRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5zcGxpY2UoYSwxKX07Y29uc3QgdD1PYmplY3Qua2V5cyhWKS5sZW5ndGgvMjt0aGlzLl9kZXZpY2VzPW5ldyBBcnJheSh0KTtjb25zdCBpPShuLGEpPT57dGhpcy5fZGV2aWNlc1tuXXx8KHRoaXMuX2RldmljZXNbbl09bmV3IEFycmF5KSx0aGlzLl9kZXZpY2VzW25dW2FdfHwodGhpcy5fZGV2aWNlc1tuXVthXT1hKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpe2NvbnN0IGg9bmV3IGdyKHRoaXMuX2RldmljZUlucHV0U3lzdGVtLG4sYSk7by5fYWRkRGV2aWNlKGgpfX0scz0obixhKT0+e3ZhciBvOyhvPXRoaXMuX2RldmljZXNbbl0pIT1udWxsJiZvW2FdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tuXVthXTtmb3IoY29uc3QgaCBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpaC5fcmVtb3ZlRGV2aWNlKG4sYSl9LHI9KG4sYSxvKT0+e2lmKG8pZm9yKGNvbnN0IGggb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKWguX29uSW5wdXRDaGFuZ2VkKG4sYSxvKX07dHlwZW9mIF9uYXRpdmU8InUiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBfbihpLHMscik6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IGduKGUsaSxzLHIpfWRpc3Bvc2UoKXt0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5kaXNwb3NlKCl9fWNsYXNzIG1ue2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXMoVikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkodCksdGhpcy5fZmlyc3REZXZpY2U9bmV3IEFycmF5KHQpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcnx8KHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgcG4oZSkpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQrKyx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZT1uZXcgRihpPT57Zm9yKGNvbnN0IHMgb2YgdGhpcy5fZGV2aWNlcylpZihzKWZvcihjb25zdCByIG9mIHMpciYmdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXIoaSxyKX0pLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5yZWdpc3Rlck1hbmFnZXIodGhpcyksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9ZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuZGlzcG9zZSgpfSl9Z2V0RGV2aWNlU291cmNlKGUsdCl7aWYodD09PXZvaWQgMCl7aWYodGhpcy5fZmlyc3REZXZpY2VbZV09PT12b2lkIDApcmV0dXJuIG51bGw7dD10aGlzLl9maXJzdERldmljZVtlXX1yZXR1cm4hdGhpcy5fZGV2aWNlc1tlXXx8dGhpcy5fZGV2aWNlc1tlXVt0XT09PXZvaWQgMD9udWxsOnRoaXMuX2RldmljZXNbZV1bdF19Z2V0RGV2aWNlU291cmNlcyhlKXtyZXR1cm4gdGhpcy5fZGV2aWNlc1tlXT90aGlzLl9kZXZpY2VzW2VdLmZpbHRlcih0PT4hIXQpOltdfWRpc3Bvc2UoKXt0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnVucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLC0tdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudDwxJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyKSksdGhpcy5fZW5naW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKX1fYWRkRGV2aWNlKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfV9yZW1vdmVEZXZpY2UoZSx0KXt2YXIgcyxyO2NvbnN0IGk9KHM9dGhpcy5fZGV2aWNlc1tlXSk9PW51bGw/dm9pZCAwOnNbdF07dGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLChyPXRoaXMuX2RldmljZXNbZV0pIT1udWxsJiZyW3RdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tlXVt0XSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZSl9X29uSW5wdXRDaGFuZ2VkKGUsdCxpKXt2YXIgcyxyOyhyPShzPXRoaXMuX2RldmljZXNbZV0pPT1udWxsP3ZvaWQgMDpzW3RdKT09bnVsbHx8ci5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpfV91cGRhdGVGaXJzdERldmljZXMoZSl7c3dpdGNoKGUpe2Nhc2UgVi5LZXlib2FyZDpjYXNlIFYuTW91c2U6dGhpcy5fZmlyc3REZXZpY2VbZV09MDticmVhaztjYXNlIFYuVG91Y2g6Y2FzZSBWLkR1YWxTZW5zZTpjYXNlIFYuRHVhbFNob2NrOmNhc2UgVi5YYm94OmNhc2UgVi5Td2l0Y2g6Y2FzZSBWLkdlbmVyaWM6e2RlbGV0ZSB0aGlzLl9maXJzdERldmljZVtlXTtjb25zdCB0PXRoaXMuX2RldmljZXNbZV07aWYodCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXSl7dGhpcy5fZmlyc3REZXZpY2VbZV09aTticmVha319YnJlYWt9fX19Y2xhc3MgcHJ7Y29uc3RydWN0b3IoKXt0aGlzLl9zaW5nbGVDbGljaz0hMSx0aGlzLl9kb3VibGVDbGljaz0hMSx0aGlzLl9oYXNTd2lwZWQ9ITEsdGhpcy5faWdub3JlPSExfWdldCBzaW5nbGVDbGljaygpe3JldHVybiB0aGlzLl9zaW5nbGVDbGlja31nZXQgZG91YmxlQ2xpY2soKXtyZXR1cm4gdGhpcy5fZG91YmxlQ2xpY2t9Z2V0IGhhc1N3aXBlZCgpe3JldHVybiB0aGlzLl9oYXNTd2lwZWR9Z2V0IGlnbm9yZSgpe3JldHVybiB0aGlzLl9pZ25vcmV9c2V0IHNpbmdsZUNsaWNrKGUpe3RoaXMuX3NpbmdsZUNsaWNrPWV9c2V0IGRvdWJsZUNsaWNrKGUpe3RoaXMuX2RvdWJsZUNsaWNrPWV9c2V0IGhhc1N3aXBlZChlKXt0aGlzLl9oYXNTd2lwZWQ9ZX1zZXQgaWdub3JlKGUpe3RoaXMuX2lnbm9yZT1lfX1jbGFzcyBJZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITEsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW51bGwsdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0PW51bGwsdGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQ9MCx0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdGhpcy5fcG9pbnRlclg9MCx0aGlzLl9wb2ludGVyWT0wLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uPW5ldyB0ZSgwLDApLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IHRlKDAsMCksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX3BvaW50ZXJDYXB0dXJlcz17fSx0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQ9e30sdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1udWxsLHRoaXMuX3NjZW5lPWV8fGRlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmV9Z2V0IG1lc2hVbmRlclBvaW50ZXIoKXtyZXR1cm4gdGhpcy5fcG9pbnRlck92ZXJNZXNofWdldE1lc2hVbmRlclBvaW50ZXJCeVBvaW50ZXJJZChlKXtyZXR1cm4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW2VdfHxudWxsfWdldCB1blRyYW5zbGF0ZWRQb2ludGVyKCl7cmV0dXJuIG5ldyB0ZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJYfXNldCBwb2ludGVyWChlKXt0aGlzLl9wb2ludGVyWD1lfWdldCBwb2ludGVyWSgpe3JldHVybiB0aGlzLl9wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5fcG9pbnRlclk9ZX1fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpOyF0fHwodGhpcy5fcG9pbnRlclg9ZS5jbGllbnRYLXQubGVmdCx0aGlzLl9wb2ludGVyWT1lLmNsaWVudFktdC50b3AsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclg9dGhpcy5fcG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclk9dGhpcy5fcG9pbnRlclkpfV9wcm9jZXNzUG9pbnRlck1vdmUoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLHM9aS5nZXRFbmdpbmUoKSxyPXMuZ2V0SW5wdXRFbGVtZW50KCk7ciYmKHIudGFiSW5kZXg9cy5jYW52YXNUYWJJbmRleCxpLmRvTm90SGFuZGxlQ3Vyc29yc3x8KHIuc3R5bGUuY3Vyc29yPWkuZGVmYXVsdEN1cnNvcikpO2NvbnN0IG49ISEoZSYmZS5oaXQmJmUucGlja2VkTWVzaCk7aWYobil7aWYoaS5zZXRQb2ludGVyT3Zlck1lc2goZS5waWNrZWRNZXNoLHQucG9pbnRlcklkLGUpLCFpLmRvTm90SGFuZGxlQ3Vyc29ycyYmciYmdGhpcy5fcG9pbnRlck92ZXJNZXNoKXtjb25zdCBhPXRoaXMuX3BvaW50ZXJPdmVyTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTthJiZhLmhhc1BvaW50ZXJUcmlnZ2VycyYmKHIuc3R5bGUuY3Vyc29yPWEuaG92ZXJDdXJzb3J8fGkuaG92ZXJDdXJzb3IpfX1lbHNlIGkuc2V0UG9pbnRlck92ZXJNZXNoKG51bGwsdC5wb2ludGVySWQsZSk7Zm9yKGNvbnN0IGEgb2YgaS5fcG9pbnRlck1vdmVTdGFnZSllPWEuYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsbixyKTtpZihlKXtjb25zdCBhPXQuaW5wdXRJbmRleD49Sy5Nb3VzZVdoZWVsWCYmdC5pbnB1dEluZGV4PD1LLk1vdXNlV2hlZWxaP1NlLlBPSU5URVJXSEVFTDpTZS5QT0lOVEVSTU9WRTtpZihpLm9uUG9pbnRlck1vdmUmJmkub25Qb2ludGVyTW92ZSh0LGUsYSksaS5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBvPW5ldyBGaShhLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhvKSxpLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG8sYSl9fX1fc2V0UmF5T25Qb2ludGVySW5mbyhlKXtjb25zdCB0PXRoaXMuX3NjZW5lO2UucGlja0luZm8mJiFlLnBpY2tJbmZvLl9waWNraW5nVW5hdmFpbGFibGUmJihlLnBpY2tJbmZvLnJheXx8KGUucGlja0luZm8ucmF5PXQuY3JlYXRlUGlja2luZ1JheShlLmV2ZW50Lm9mZnNldFgsZS5ldmVudC5vZmZzZXRZLHguSWRlbnRpdHkoKSx0LmFjdGl2ZUNhbWVyYSkpKX1fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLHQsaSl7Y29uc3Qgcz10aGlzLl9zY2VuZSxyPW5ldyBkbihpLHQsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclkpO3JldHVybiBlJiYoci5yYXk9ZS5yYXksZS5vcmlnaW5NZXNoJiYoci5uZWFySW50ZXJhY3Rpb25QaWNraW5nSW5mbz1lKSkscy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLGkpLCEhci5za2lwT25Qb2ludGVyT2JzZXJ2YWJsZX1zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVybW92ZSIsdCk7aS5pbnB1dEluZGV4PUsuTW92ZSwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLGksU2UuUE9JTlRFUk1PVkUpJiZ0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUoZSxpKX1zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7aS5pbnB1dEluZGV4PWkuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxpLFNlLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUsaSl9X3Byb2Nlc3NQb2ludGVyRG93bihlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7aWYoZSYmZS5oaXQmJmUucGlja2VkTWVzaCl7dGhpcy5fcGlja2VkRG93bk1lc2g9ZS5waWNrZWRNZXNoO2NvbnN0IHM9ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO2lmKHMpe2lmKHMuaGFzUGlja1RyaWdnZXJzKXN3aXRjaChzLnByb2Nlc3NUcmlnZ2VyKDUsV2UuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSksdC5idXR0b24pe2Nhc2UgMDpzLnByb2Nlc3NUcmlnZ2VyKDIsV2UuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAxOnMucHJvY2Vzc1RyaWdnZXIoNCxXZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDI6cy5wcm9jZXNzVHJpZ2dlcigzLFdlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrfXMuaGFzU3BlY2lmaWNUcmlnZ2VyKDgpJiZ3aW5kb3cuc2V0VGltZW91dCgoKT0+e2NvbnN0IHI9aS5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLG49Pm4uaXNQaWNrYWJsZSYmbi5pc1Zpc2libGUmJm4uaXNSZWFkeSgpJiZuLmFjdGlvbk1hbmFnZXImJm4uYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJm49PT10aGlzLl9waWNrZWREb3duTWVzaCwhMSxpLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO3ImJnIuaGl0JiZyLnBpY2tlZE1lc2gmJnMmJnRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmRGF0ZS5ub3coKS10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPkllLkxvbmdQcmVzc0RlbGF5JiYhdGhpcy5faXNQb2ludGVyU3dpcGluZygpJiYodGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT0wLHMucHJvY2Vzc1RyaWdnZXIoOCxXZS5DcmVhdGVOZXcoci5waWNrZWRNZXNoLHQpKSl9LEllLkxvbmdQcmVzc0RlbGF5KX19ZWxzZSBmb3IoY29uc3QgcyBvZiBpLl9wb2ludGVyRG93blN0YWdlKWU9cy5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSx0LCExKTtpZihlKXtjb25zdCBzPVNlLlBPSU5URVJET1dOO2lmKGkub25Qb2ludGVyRG93biYmaS5vblBvaW50ZXJEb3duKHQsZSxzKSxpLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IHI9bmV3IEZpKHMsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKHIpLGkub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixzKX19fV9pc1BvaW50ZXJTd2lwaW5nKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngtdGhpcy5fcG9pbnRlclgpPkllLkRyYWdNb3ZlbWVudFRocmVzaG9sZHx8TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueS10aGlzLl9wb2ludGVyWSk+SWUuRHJhZ01vdmVtZW50VGhyZXNob2xkfXNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKXtjb25zdCBzPW5ldyBQb2ludGVyRXZlbnQoInBvaW50ZXJ1cCIsdCk7cy5pbnB1dEluZGV4PUsuTW92ZTtjb25zdCByPW5ldyBwcjtpP3IuZG91YmxlQ2xpY2s9ITA6ci5zaW5nbGVDbGljaz0hMCwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLHMsU2UuUE9JTlRFUlVQKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJVcChlLHMscil9X3Byb2Nlc3NQb2ludGVyVXAoZSx0LGkpe2NvbnN0IHM9dGhpcy5fc2NlbmU7aWYoZSYmZS5oaXQmJmUucGlja2VkTWVzaCl7aWYodGhpcy5fcGlja2VkVXBNZXNoPWUucGlja2VkTWVzaCx0aGlzLl9waWNrZWREb3duTWVzaD09PXRoaXMuX3BpY2tlZFVwTWVzaCYmKHMub25Qb2ludGVyUGljayYmcy5vblBvaW50ZXJQaWNrKHQsZSksaS5zaW5nbGVDbGljayYmIWkuaWdub3JlJiZzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpKXtjb25zdCBhPVNlLlBPSU5URVJQSUNLLG89bmV3IEZpKGEsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKG8pLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobyxhKX1jb25zdCBuPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihuJiYhaS5pZ25vcmUpe24ucHJvY2Vzc1RyaWdnZXIoNyxXZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpLCFpLmhhc1N3aXBlZCYmaS5zaW5nbGVDbGljayYmbi5wcm9jZXNzVHJpZ2dlcigxLFdlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSk7Y29uc3QgYT1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDYpO2kuZG91YmxlQ2xpY2smJmEmJmEucHJvY2Vzc1RyaWdnZXIoNixXZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpfX1lbHNlIGlmKCFpLmlnbm9yZSlmb3IoY29uc3QgbiBvZiBzLl9wb2ludGVyVXBTdGFnZSllPW4uYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCxpLmRvdWJsZUNsaWNrKTtpZih0aGlzLl9waWNrZWREb3duTWVzaCYmdGhpcy5fcGlja2VkRG93bk1lc2ghPT10aGlzLl9waWNrZWRVcE1lc2gpe2NvbnN0IG49dGhpcy5fcGlja2VkRG93bk1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDE2KTtuJiZuLnByb2Nlc3NUcmlnZ2VyKDE2LFdlLkNyZWF0ZU5ldyh0aGlzLl9waWNrZWREb3duTWVzaCx0KSl9bGV0IHI9MDtpZihzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2lmKCFpLmlnbm9yZSYmIWkuaGFzU3dpcGVkJiYoaS5zaW5nbGVDbGljayYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhTZS5QT0lOVEVSVEFQKT9yPVNlLlBPSU5URVJUQVA6aS5kb3VibGVDbGljayYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhTZS5QT0lOVEVSRE9VQkxFVEFQKSYmKHI9U2UuUE9JTlRFUkRPVUJMRVRBUCkscikpe2NvbnN0IG49bmV3IEZpKHIsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKG4pLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobixyKX1pZighaS5pZ25vcmUpe3I9U2UuUE9JTlRFUlVQO2NvbnN0IG49bmV3IEZpKHIsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKG4pLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobixyKX19cy5vblBvaW50ZXJVcCYmIWkuaWdub3JlJiZzLm9uUG9pbnRlclVwKHQsZSxyKX1pc1BvaW50ZXJDYXB0dXJlZChlPTApe3JldHVybiB0aGlzLl9wb2ludGVyQ2FwdHVyZXNbZV19YXR0YWNoQ29udHJvbChlPSEwLHQ9ITAsaT0hMCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fc2NlbmUsbj1yLmdldEVuZ2luZSgpO3N8fChzPW4uZ2V0SW5wdXRFbGVtZW50KCkpLHRoaXMuX2FscmVhZHlBdHRhY2hlZCYmdGhpcy5kZXRhY2hDb250cm9sKCkscyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPXMpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IG1uKG4pLHRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyPWE9PntpZighdGhpcy5fbWVzaFBpY2tQcm9jZWVkKXtjb25zdCBvPXIuc2tpcFBvaW50ZXJVcFBpY2tpbmc/bnVsbDpyLnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksci5wb2ludGVyVXBQcmVkaWNhdGUsITEsci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTt0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1vLG8mJihhPW8uaGl0JiZvLnBpY2tlZE1lc2g/by5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpOm51bGwpLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMH1yZXR1cm4gYX0sdGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrPShhLG8saCk9PnsoRGF0ZS5ub3coKS10aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU+SWUuRG91YmxlQ2xpY2tEZWxheSYmIXRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZHx8YSE9PXRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJih0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsby5zaW5nbGVDbGljaz0hMCxvLmlnbm9yZT0hMSxoKG8sdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpKX0sdGhpcy5faW5pdENsaWNrRXZlbnQ9KGEsbyxoLGwpPT57Y29uc3QgdT1uZXcgcHI7dGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9bnVsbDtsZXQgZj1udWxsLGQ9YS5oYXNTcGVjaWZpY01hc2soU2UuUE9JTlRFUlBJQ0spfHxvLmhhc1NwZWNpZmljTWFzayhTZS5QT0lOVEVSUElDSyl8fGEuaGFzU3BlY2lmaWNNYXNrKFNlLlBPSU5URVJUQVApfHxvLmhhc1NwZWNpZmljTWFzayhTZS5QT0lOVEVSVEFQKXx8YS5oYXNTcGVjaWZpY01hc2soU2UuUE9JTlRFUkRPVUJMRVRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKFNlLlBPSU5URVJET1VCTEVUQVApOyFkJiZjdCYmKGY9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZix1KSxmJiYoZD1mLmhhc1BpY2tUcmlnZ2VycykpO2xldCBfPSExO2lmKGQpe2NvbnN0IEU9aC5idXR0b247aWYodS5oYXNTd2lwZWQ9dGhpcy5faXNQb2ludGVyU3dpcGluZygpLCF1Lmhhc1N3aXBlZCl7bGV0IG09IUllLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZTttfHwobT0hYS5oYXNTcGVjaWZpY01hc2soU2UuUE9JTlRFUkRPVUJMRVRBUCkmJiFvLmhhc1NwZWNpZmljTWFzayhTZS5QT0lOVEVSRE9VQkxFVEFQKSxtJiYhY3QuSGFzU3BlY2lmaWNUcmlnZ2VyKDYpJiYoZj10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihmLHUpLGYmJihtPSFmLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpKSxtPyhEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5JZS5Eb3VibGVDbGlja0RlbGF5fHxFIT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKHUuc2luZ2xlQ2xpY2s9ITAsbCh1LHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSxfPSEwKToodGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PXRoaXMuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsdGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD13aW5kb3cuc2V0VGltZW91dCh0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2suYmluZCh0aGlzLEUsdSxsKSxJZS5Eb3VibGVDbGlja0RlbGF5KSk7bGV0IFQ9YS5oYXNTcGVjaWZpY01hc2soU2UuUE9JTlRFUkRPVUJMRVRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKFNlLlBPSU5URVJET1VCTEVUQVApOyFUJiZjdC5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihmPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKGYsdSksZiYmKFQ9Zi5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSxUJiYoRT09PXRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCYmRGF0ZS5ub3coKS10aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU8SWUuRG91YmxlQ2xpY2tEZWxheSYmIXRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD8oIXUuaGFzU3dpcGVkJiYhdGhpcy5faXNQb2ludGVyU3dpcGluZygpPyh0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITAsdS5kb3VibGVDbGljaz0hMCx1Lmlnbm9yZT0hMSxJZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGUmJnRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCksdGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PXRoaXMuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsbCh1LHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSk6KHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9dGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSx0aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9RSxJZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU/KHRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCksdGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PXRoaXMuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsbCh1LHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdCkpOmwodSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCkpLF89ITApOih0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPXRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWUsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksdGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkPUUpKX19X3x8bCh1LHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KX0sdGhpcy5fb25Qb2ludGVyTW92ZT1hPT57aWYoYS5wb2ludGVySWQ9PT12b2lkIDAmJihhLnBvaW50ZXJJZD0wKSx0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSksdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsYS5pbnB1dEluZGV4Pj1LLk1vdXNlV2hlZWxYJiZhLmlucHV0SW5kZXg8PUsuTW91c2VXaGVlbFo/U2UuUE9JTlRFUldIRUVMOlNlLlBPSU5URVJNT1ZFKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjtpZihyLnNraXBQb2ludGVyTW92ZVBpY2tpbmcpe3RoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShuZXcgYnQsYSk7cmV0dXJufXIucG9pbnRlck1vdmVQcmVkaWNhdGV8fChyLnBvaW50ZXJNb3ZlUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoaC5lbmFibGVQb2ludGVyTW92ZUV2ZW50c3x8ci5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcnx8aC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKSE9PW51bGwpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpO2NvbnN0IG89ci5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHIucG9pbnRlck1vdmVQcmVkaWNhdGUsITEsci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLHIucG9pbnRlck1vdmVUcmlhbmdsZVByZWRpY2F0ZSk7dGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKG8sYSl9LHRoaXMuX29uUG9pbnRlckRvd249YT0+e2lmKHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkKyssdGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbCx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITEsYS5wb2ludGVySWQ9PT12b2lkIDAmJihhLnBvaW50ZXJJZD0wKSx0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSksci5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24mJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3BvaW50ZXJYLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fcG9pbnRlclksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT1EYXRlLm5vdygpLHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFNlLlBPSU5URVJET1dOKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjt0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSEwLHIucG9pbnRlckRvd25QcmVkaWNhdGV8fChyLnBvaW50ZXJEb3duUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpLHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGw7bGV0IG87ci5za2lwUG9pbnRlckRvd25QaWNraW5nP289bmV3IGJ0Om89ci5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHIucG9pbnRlckRvd25QcmVkaWNhdGUsITEsci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKSx0aGlzLl9wcm9jZXNzUG9pbnRlckRvd24obyxhKX0sdGhpcy5fb25Qb2ludGVyVXA9YT0+e3RoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmKHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkLS0sdGhpcy5fcGlja2VkVXBNZXNoPW51bGwsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLGEucG9pbnRlcklkPT09dm9pZCAwJiYoYS5wb2ludGVySWQ9MCksdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLHIucHJldmVudERlZmF1bHRPblBvaW50ZXJVcCYmcyYmKGEucHJldmVudERlZmF1bHQoKSxzLmZvY3VzKCkpLHRoaXMuX2luaXRDbGlja0V2ZW50KHIub25QcmVQb2ludGVyT2JzZXJ2YWJsZSxyLm9uUG9pbnRlck9ic2VydmFibGUsYSwobyxoKT0+e3Iub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmIW8uaWdub3JlJiYoIW8uaGFzU3dpcGVkJiYoby5zaW5nbGVDbGljayYmci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhTZS5QT0lOVEVSVEFQKSYmdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsU2UuUE9JTlRFUlRBUCl8fG8uZG91YmxlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soU2UuUE9JTlRFUkRPVUJMRVRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFNlLlBPSU5URVJET1VCTEVUQVApKXx8dGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsU2UuUE9JTlRFUlVQKSl8fCh0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSExLCEoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKSYmKHIucG9pbnRlclVwUHJlZGljYXRlfHwoci5wb2ludGVyVXBQcmVkaWNhdGU9bD0+bC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKSksIXRoaXMuX21lc2hQaWNrUHJvY2VlZCYmKGN0JiZjdC5IYXNUcmlnZ2Vyc3x8ci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSYmdGhpcy5faW5pdEFjdGlvbk1hbmFnZXIobnVsbCxvKSxofHwoaD10aGlzLl9jdXJyZW50UGlja1Jlc3VsdCksdGhpcy5fcHJvY2Vzc1BvaW50ZXJVcChoLGEsbyksdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0PXRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSl9KSl9LHRoaXMuX29uS2V5RG93bj1hPT57Y29uc3Qgbz1xaS5LRVlET1dOO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IG9yKG8sYSk7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKSxoLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYoci5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgTXMobyxhKTtyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pfXIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE0LFdlLkNyZWF0ZU5ld0Zyb21TY2VuZShyLGEpKX0sdGhpcy5fb25LZXlVcD1hPT57Y29uc3Qgbz1xaS5LRVlVUDtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyBvcihvLGEpO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyksaC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHIub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IE1zKG8sYSk7ci5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKX1yLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNSxXZS5DcmVhdGVOZXdGcm9tU2NlbmUocixhKSl9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmFkZChhPT57YS5kZXZpY2VUeXBlPT09Vi5Nb3VzZT9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PUsuTGVmdENsaWNrfHxvLmlucHV0SW5kZXg9PT1LLk1pZGRsZUNsaWNrfHxvLmlucHV0SW5kZXg9PT1LLlJpZ2h0Q2xpY2t8fG8uaW5wdXRJbmRleD09PUsuQnJvd3NlckJhY2t8fG8uaW5wdXRJbmRleD09PUsuQnJvd3NlckZvcndhcmQ/dCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT90aGlzLl9vblBvaW50ZXJEb3duKG8pOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJnRoaXMuX29uUG9pbnRlclVwKG8pOmkmJihvLmlucHV0SW5kZXg9PT1LLk1vdmU/dGhpcy5fb25Qb2ludGVyTW92ZShvKTooby5pbnB1dEluZGV4PT09Sy5Nb3VzZVdoZWVsWHx8by5pbnB1dEluZGV4PT09Sy5Nb3VzZVdoZWVsWXx8by5pbnB1dEluZGV4PT09Sy5Nb3VzZVdoZWVsWikmJnRoaXMuX29uUG9pbnRlck1vdmUobykpfSk6YS5kZXZpY2VUeXBlPT09Vi5Ub3VjaD9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PUsuTGVmdENsaWNrJiYodCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT90aGlzLl9vblBvaW50ZXJEb3duKG8pOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJnRoaXMuX29uUG9pbnRlclVwKG8pKSxpJiZvLmlucHV0SW5kZXg9PT1LLk1vdmUmJnRoaXMuX29uUG9pbnRlck1vdmUobyl9KTphLmRldmljZVR5cGU9PT1WLktleWJvYXJkJiZhLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28udHlwZT09PSJrZXlkb3duIj90aGlzLl9vbktleURvd24obyk6by50eXBlPT09ImtleXVwIiYmdGhpcy5fb25LZXlVcChvKX0pfSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSEwfWRldGFjaENvbnRyb2woKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJih0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8mJiF0aGlzLl9zY2VuZS5kb05vdEhhbmRsZUN1cnNvcnMmJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUby5zdHlsZS5jdXJzb3I9dGhpcy5fc2NlbmUuZGVmYXVsdEN1cnNvciksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPW51bGwpfXNldFBvaW50ZXJPdmVyTWVzaChlLHQ9MCxpKXtpZih0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09PT1lKXJldHVybjtjb25zdCBzPXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XTtsZXQgcjtzJiYocj1zLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxMCksciYmci5wcm9jZXNzVHJpZ2dlcigxMCxXZS5DcmVhdGVOZXcocyx2b2lkIDAse3BvaW50ZXJJZDp0fSkpKSxlPyh0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09ZSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9ZSxyPWUuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDkpLHImJnIucHJvY2Vzc1RyaWdnZXIoOSxXZS5DcmVhdGVOZXcoZSx2b2lkIDAse3BvaW50ZXJJZDp0LHBpY2tSZXN1bHQ6aX0pKSk6KGRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF0sdGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLl9wb2ludGVyT3Zlck1lc2h9X2ludmFsaWRhdGVNZXNoKGUpe3RoaXMuX3BvaW50ZXJPdmVyTWVzaD09PWUmJih0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCksdGhpcy5fcGlja2VkRG93bk1lc2g9PT1lJiYodGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbCksdGhpcy5fcGlja2VkVXBNZXNoPT09ZSYmKHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsKTtmb3IoY29uc3QgdCBpbiB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQpdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XX19SWUuRHJhZ01vdmVtZW50VGhyZXNob2xkPTEwLEllLkxvbmdQcmVzc0RlbGF5PTUwMCxJZS5Eb3VibGVDbGlja0RlbGF5PTMwMCxJZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU9ITE7Y2xhc3MgdnR7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5ub3JtYWw9bmV3IGcoZSx0LGkpLHRoaXMuZD1zfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kXX1jbG9uZSgpe3JldHVybiBuZXcgdnQodGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iUGxhbmUifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5ub3JtYWwuZ2V0SGFzaENvZGUoKTtyZXR1cm4gZT1lKjM5N14odGhpcy5kfDApLGV9bm9ybWFsaXplKCl7Y29uc3QgZT1NYXRoLnNxcnQodGhpcy5ub3JtYWwueCp0aGlzLm5vcm1hbC54K3RoaXMubm9ybWFsLnkqdGhpcy5ub3JtYWwueSt0aGlzLm5vcm1hbC56KnRoaXMubm9ybWFsLnopO2xldCB0PTA7cmV0dXJuIGUhPT0wJiYodD0xL2UpLHRoaXMubm9ybWFsLngqPXQsdGhpcy5ub3JtYWwueSo9dCx0aGlzLm5vcm1hbC56Kj10LHRoaXMuZCo9dCx0aGlzfXRyYW5zZm9ybShlKXtjb25zdCB0PXZ0Ll9UbXBNYXRyaXg7ZS5pbnZlcnRUb1JlZih0KTtjb25zdCBpPXQubSxzPXRoaXMubm9ybWFsLngscj10aGlzLm5vcm1hbC55LG49dGhpcy5ub3JtYWwueixhPXRoaXMuZCxvPXMqaVswXStyKmlbMV0rbippWzJdK2EqaVszXSxoPXMqaVs0XStyKmlbNV0rbippWzZdK2EqaVs3XSxsPXMqaVs4XStyKmlbOV0rbippWzEwXSthKmlbMTFdLHU9cyppWzEyXStyKmlbMTNdK24qaVsxNF0rYSppWzE1XTtyZXR1cm4gbmV3IHZ0KG8saCxsLHUpfWRvdENvb3JkaW5hdGUoZSl7cmV0dXJuIHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56K3RoaXMuZH1jb3B5RnJvbVBvaW50cyhlLHQsaSl7Y29uc3Qgcz10LngtZS54LHI9dC55LWUueSxuPXQuei1lLnosYT1pLngtZS54LG89aS55LWUueSxoPWkuei1lLnosbD1yKmgtbipvLHU9biphLXMqaCxmPXMqby1yKmEsZD1NYXRoLnNxcnQobCpsK3UqdStmKmYpO2xldCBfO3JldHVybiBkIT09MD9fPTEvZDpfPTAsdGhpcy5ub3JtYWwueD1sKl8sdGhpcy5ub3JtYWwueT11Kl8sdGhpcy5ub3JtYWwuej1mKl8sdGhpcy5kPS0odGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnopLHRoaXN9aXNGcm9udEZhY2luZ1RvKGUsdCl7cmV0dXJuIGcuRG90KHRoaXMubm9ybWFsLGUpPD10fXNpZ25lZERpc3RhbmNlVG8oZSl7cmV0dXJuIGcuRG90KGUsdGhpcy5ub3JtYWwpK3RoaXMuZH1zdGF0aWMgRnJvbUFycmF5KGUpe3JldHVybiBuZXcgdnQoZVswXSxlWzFdLGVbMl0sZVszXSl9c3RhdGljIEZyb21Qb2ludHMoZSx0LGkpe2NvbnN0IHM9bmV3IHZ0KDAsMCwwLDApO3JldHVybiBzLmNvcHlGcm9tUG9pbnRzKGUsdCxpKSxzfXN0YXRpYyBGcm9tUG9zaXRpb25BbmROb3JtYWwoZSx0KXtjb25zdCBpPW5ldyB2dCgwLDAsMCwwKTtyZXR1cm4gdC5ub3JtYWxpemUoKSxpLm5vcm1hbD10LGkuZD0tKHQueCplLngrdC55KmUueSt0LnoqZS56KSxpfXN0YXRpYyBTaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwoZSx0LGkpe2NvbnN0IHM9LSh0LngqZS54K3QueSplLnkrdC56KmUueik7cmV0dXJuIGcuRG90KGksdCkrc319dnQuX1RtcE1hdHJpeD14LklkZW50aXR5KCk7Y2xhc3MgbXR7c3RhdGljIEdldFBsYW5lcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8NjtpKyspdC5wdXNoKG5ldyB2dCgwLDAsMCwwKSk7cmV0dXJuIG10LkdldFBsYW5lc1RvUmVmKGUsdCksdH1zdGF0aWMgR2V0TmVhclBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVsyXSx0Lm5vcm1hbC55PWlbN10raVs2XSx0Lm5vcm1hbC56PWlbMTFdK2lbMTBdLHQuZD1pWzE1XStpWzE0XSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRGYXJQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMl0sdC5ub3JtYWwueT1pWzddLWlbNl0sdC5ub3JtYWwuej1pWzExXS1pWzEwXSx0LmQ9aVsxNV0taVsxNF0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0TGVmdFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVswXSx0Lm5vcm1hbC55PWlbN10raVs0XSx0Lm5vcm1hbC56PWlbMTFdK2lbOF0sdC5kPWlbMTVdK2lbMTJdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFJpZ2h0UGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzBdLHQubm9ybWFsLnk9aVs3XS1pWzRdLHQubm9ybWFsLno9aVsxMV0taVs4XSx0LmQ9aVsxNV0taVsxMl0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0VG9wUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzFdLHQubm9ybWFsLnk9aVs3XS1pWzVdLHQubm9ybWFsLno9aVsxMV0taVs5XSx0LmQ9aVsxNV0taVsxM10sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0Qm90dG9tUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzFdLHQubm9ybWFsLnk9aVs3XStpWzVdLHQubm9ybWFsLno9aVsxMV0raVs5XSx0LmQ9aVsxNV0raVsxM10sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0UGxhbmVzVG9SZWYoZSx0KXttdC5HZXROZWFyUGxhbmVUb1JlZihlLHRbMF0pLG10LkdldEZhclBsYW5lVG9SZWYoZSx0WzFdKSxtdC5HZXRMZWZ0UGxhbmVUb1JlZihlLHRbMl0pLG10LkdldFJpZ2h0UGxhbmVUb1JlZihlLHRbM10pLG10LkdldFRvcFBsYW5lVG9SZWYoZSx0WzRdKSxtdC5HZXRCb3R0b21QbGFuZVRvUmVmKGUsdFs1XSl9fWNsYXNzIG1ye3N0YXRpYyBnZXQgVW5pcXVlSWQoKXtjb25zdCBlPXRoaXMuX1VuaXF1ZUlkQ291bnRlcjtyZXR1cm4gdGhpcy5fVW5pcXVlSWRDb3VudGVyKyssZX19bXIuX1VuaXF1ZUlkQ291bnRlcj0xO2NsYXNzIFRle3N0YXRpYyBDb21wYXJlTGlnaHRzUHJpb3JpdHkoZSx0KXtyZXR1cm4gZS5zaGFkb3dFbmFibGVkIT09dC5zaGFkb3dFbmFibGVkPyh0LnNoYWRvd0VuYWJsZWQ/MTowKS0oZS5zaGFkb3dFbmFibGVkPzE6MCk6dC5yZW5kZXJQcmlvcml0eS1lLnJlbmRlclByaW9yaXR5fX1UZS5GQUxMT0ZGX0RFRkFVTFQ9MCxUZS5GQUxMT0ZGX1BIWVNJQ0FMPTEsVGUuRkFMTE9GRl9HTFRGPTIsVGUuRkFMTE9GRl9TVEFOREFSRD0zLFRlLkxJR0hUTUFQX0RFRkFVTFQ9MCxUZS5MSUdIVE1BUF9TUEVDVUxBUj0xLFRlLkxJR0hUTUFQX1NIQURPV1NPTkxZPTIsVGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9MCxUZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9MSxUZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPTIsVGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT0zLFRlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPTQsVGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVD0wLFRlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9MSxUZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9MixUZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPTM7Y2xhc3MgJGl7Y29uc3RydWN0b3IoZSx0KXskaS5Jc0F2YWlsYWJsZSYmKHRoaXMuX29ic2VydmVyPW5ldyB3aW5kb3cuQ29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIoZSx0KSl9c3RhdGljIGdldCBJc0F2YWlsYWJsZSgpe3ZhciBlLHQ7cmV0dXJuIFVlKCkmJiJDb21wdXRlUHJlc3N1cmVPYnNlcnZlciJpbiB3aW5kb3cmJigodD0oZT13aW5kb3cuQ29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIpPT1udWxsP3ZvaWQgMDplLnN1cHBvcnRlZFNvdXJjZXMpPT1udWxsP3ZvaWQgMDp0LmluY2x1ZGVzKCJjcHUiKSl9b2JzZXJ2ZShlKXt2YXIgdCxpOyh0PXRoaXMuX29ic2VydmVyKSE9bnVsbCYmdC5vYnNlcnZlJiYoKGk9dGhpcy5fb2JzZXJ2ZXIpPT1udWxsfHxpLm9ic2VydmUoZSkuY2F0Y2goKCk9Pnt9KSl9dW5vYnNlcnZlKGUpe3ZhciB0LGk7dHJ5eyh0PXRoaXMuX29ic2VydmVyKSE9bnVsbCYmdC51bm9ic2VydmUmJigoaT10aGlzLl9vYnNlcnZlcik9PW51bGx8fGkudW5vYnNlcnZlKGUpKX1jYXRjaHt9fX12YXIgbGk7KGZ1bmN0aW9uKGMpe2NbYy5CYWNrd2FyZENvbXBhdGlibGU9MF09IkJhY2t3YXJkQ29tcGF0aWJsZSIsY1tjLkludGVybWVkaWF0ZT0xXT0iSW50ZXJtZWRpYXRlIixjW2MuQWdncmVzc2l2ZT0yXT0iQWdncmVzc2l2ZSJ9KShsaXx8KGxpPXt9KSk7Y2xhc3MgbmUgZXh0ZW5kcyBYaXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5faW5wdXRNYW5hZ2VyPW5ldyBJZSh0aGlzKSx0aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnM9bnVsbCx0aGlzLl9pc1NjZW5lPSEwLHRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbj0hMSx0aGlzLmF1dG9DbGVhcj0hMCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbD0hMCx0aGlzLmNsZWFyQ29sb3I9bmV3IGdlKC4yLC4yLC4zLDEpLHRoaXMuYW1iaWVudENvbG9yPW5ldyBpZSgwLDAsMCksdGhpcy5lbnZpcm9ubWVudEludGVuc2l0eT0xLHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHk9bGkuQmFja3dhcmRDb21wYXRpYmxlLHRoaXMuX2ZvcmNlV2lyZWZyYW1lPSExLHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fZm9yY2VQb2ludHNDbG91ZD0hMSx0aGlzLmFuaW1hdGlvbnNFbmFibGVkPSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMudXNlQ29uc3RhbnRBbmltYXRpb25EZWx0YVRpbWU9ITEsdGhpcy5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcj0hMSx0aGlzLmhvdmVyQ3Vyc29yPSJwb2ludGVyIix0aGlzLmRlZmF1bHRDdXJzb3I9IiIsdGhpcy5kb05vdEhhbmRsZUN1cnNvcnM9ITEsdGhpcy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd249ITAsdGhpcy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlclVwPSEwLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5kaXNhYmxlT2ZmbGluZVN1cHBvcnRFeGNlcHRpb25SdWxlcz1uZXcgQXJyYXksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUmVhZHlPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkPW5ldyBGLHRoaXMub25BY3RpdmVDYW1lcmFzQ2hhbmdlZD1uZXcgRix0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9yZWdpc3RlcmVkRm9yTGF0ZUFuaW1hdGlvbkJpbmRpbmdzPW5ldyBuaSgyNTYpLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSx0aGlzLnNraXBQb2ludGVyRG93blBpY2tpbmc9ITEsdGhpcy5za2lwUG9pbnRlclVwUGlja2luZz0hMSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vblBvaW50ZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbT0hMSx0aGlzLl90aW1lQWNjdW11bGF0b3I9MCx0aGlzLl9jdXJyZW50U3RlcElkPTAsdGhpcy5fY3VycmVudEludGVybmFsU3RlcD0wLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5fZm9nTW9kZT1uZS5GT0dNT0RFX05PTkUsdGhpcy5mb2dDb2xvcj1uZXcgaWUoLjIsLjIsLjMpLHRoaXMuZm9nRGVuc2l0eT0uMSx0aGlzLmZvZ1N0YXJ0PTAsdGhpcy5mb2dFbmQ9MWUzLHRoaXMubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXM9ITEsdGhpcy5fc2hhZG93c0VuYWJsZWQ9ITAsdGhpcy5fbGlnaHRzRW5hYmxlZD0hMCx0aGlzLl9hY3RpdmVDYW1lcmFzPUFlLk1ha2VPYnNlcnZhYmxlQXJyYXkodGhpcy5vbkFjdGl2ZUNhbWVyYXNDaGFuZ2VkLFtdKSx0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9ITAsdGhpcy5waHlzaWNzRW5hYmxlZD0hMCx0aGlzLnBhcnRpY2xlc0VuYWJsZWQ9ITAsdGhpcy5zcHJpdGVzRW5hYmxlZD0hMCx0aGlzLl9za2VsZXRvbnNFbmFibGVkPSEwLHRoaXMubGVuc0ZsYXJlc0VuYWJsZWQ9ITAsdGhpcy5jb2xsaXNpb25zRW5hYmxlZD0hMCx0aGlzLmdyYXZpdHk9bmV3IGcoMCwtOS44MDcsMCksdGhpcy5wb3N0UHJvY2Vzc2VzRW5hYmxlZD0hMCx0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkPSEwLHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cz1uZXcgQXJyYXksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnByb2Jlc0VuYWJsZWQ9ITAsdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucz1uZXcgbmkoMjU2KSx0aGlzLnByb2NlZHVyYWxUZXh0dXJlc0VuYWJsZWQ9ITAsdGhpcy5fdG90YWxWZXJ0aWNlcz1uZXcgUnQsdGhpcy5fYWN0aXZlSW5kaWNlcz1uZXcgUnQsdGhpcy5fYWN0aXZlUGFydGljbGVzPW5ldyBSdCx0aGlzLl9hY3RpdmVCb25lcz1uZXcgUnQsdGhpcy5fYW5pbWF0aW9uVGltZT0wLHRoaXMuYW5pbWF0aW9uVGltZVNjYWxlPTEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLHRoaXMuX3ZpZXdVcGRhdGVGbGFnPS0xLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPS0xLHRoaXMuX3RvQmVEaXNwb3NlZD1uZXcgQXJyYXkoMjU2KSx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5fcGVuZGluZ0RhdGE9bmV3IEFycmF5LHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5kaXNwYXRjaEFsbFN1Yk1lc2hlc09mQWN0aXZlTWVzaGVzPSExLHRoaXMuX2FjdGl2ZU1lc2hlcz1uZXcgUWUoMjU2KSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHM9bmV3IFFlKDI1NiksdGhpcy5fcmVuZGVyVGFyZ2V0cz1uZXcgbmkoMjU2KSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzPW5ldyBuaSgyNTYpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcz1uZXcgUWUoMjU2KSx0aGlzLl9hY3RpdmVTa2VsZXRvbnM9bmV3IG5pKDMyKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXM9bmV3IG5pKDMyKSx0aGlzLl9hY3RpdmVBbmltYXRhYmxlcz1uZXcgQXJyYXksdGhpcy5fdHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMucmVxdWlyZUxpZ2h0U29ydGluZz0hMSx0aGlzLl9jb21wb25lbnRzPVtdLHRoaXMuX3NlcmlhbGl6YWJsZUNvbXBvbmVudHM9W10sdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cz1bXSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2U9d2UuQ3JlYXRlKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2U9d2UuQ3JlYXRlKCksdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2U9d2UuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2U9d2UuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlPXdlLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJNb3ZlU3RhZ2U9d2UuQ3JlYXRlKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyVXBTdGFnZT13ZS5DcmVhdGUoKSx0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZD1udWxsLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSx0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz0hMSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nPSExLHRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHk9ITEsdGhpcy5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3I9ITAsdGhpcy5nZXREZXRlcm1pbmlzdGljRnJhbWVUaW1lPSgpPT50aGlzLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKSx0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc209ITEsdGhpcy5fcGVyZkNvbGxlY3Rvcj1udWxsLHRoaXMub25Db21wdXRlUHJlc3N1cmVDaGFuZ2VkPW5ldyBGO2NvbnN0IGk9e3VzZUdlb21ldHJ5VW5pcXVlSWRzTWFwOiEwLHVzZU1hdGVyaWFsTWVzaE1hcDohMCx1c2VDbG9uZWRNZXNoTWFwOiEwLHZpcnR1YWw6ITEsLi4udH07dGhpcy5fZW5naW5lPWV8fGRlLkxhc3RDcmVhdGVkRW5naW5lLGkudmlydHVhbD90aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMucHVzaCh0aGlzKTooZGUuX0xhc3RDcmVhdGVkU2NlbmU9dGhpcyx0aGlzLl9lbmdpbmUuc2NlbmVzLnB1c2godGhpcykpLHRoaXMuX3VpZD1udWxsLHRoaXMuX3JlbmRlcmluZ01hbmFnZXI9bmV3IGplKHRoaXMpLFppJiYodGhpcy5wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IFppKHRoaXMpKSxVZSgpJiZ0aGlzLmF0dGFjaENvbnRyb2woKSx0aGlzLl9jcmVhdGVVYm8oKSxtZSYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249bmV3IG1lKSx0aGlzLnNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnMoKSxpLnVzZUdlb21ldHJ5VW5pcXVlSWRzTWFwJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9e30pLHRoaXMudXNlTWF0ZXJpYWxNZXNoTWFwPWkudXNlTWF0ZXJpYWxNZXNoTWFwLHRoaXMudXNlQ2xvbmVkTWVzaE1hcD1pLnVzZUNsb25lZE1lc2hNYXAsKCF0fHwhdC52aXJ0dWFsKSYmdGhpcy5fZW5naW5lLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLCRpLklzQXZhaWxhYmxlJiYodGhpcy5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXI9bmV3ICRpKHM9Pnt0aGlzLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMocyl9LHtjcHVVdGlsaXphdGlvblRocmVzaG9sZHM6Wy4yNSwuNSwuNzUsLjldLGNwdVNwZWVkVGhyZXNob2xkczpbLjVdfSksdGhpcy5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIub2JzZXJ2ZSgiY3B1IikpfXN0YXRpYyBEZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KGUpe3Rocm93IHEoIlN0YW5kYXJkTWF0ZXJpYWwiKX1zdGF0aWMgQ29sbGlzaW9uQ29vcmRpbmF0b3JGYWN0b3J5KCl7dGhyb3cgcSgiRGVmYXVsdENvbGxpc2lvbkNvb3JkaW5hdG9yIil9Z2V0IGVudmlyb25tZW50VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9c2V0IGVudmlyb25tZW50VGV4dHVyZShlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmUhPT1lJiYodGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9Z2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbn1nZXQgcGVyZm9ybWFuY2VQcmlvcml0eSgpe3JldHVybiB0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5fXNldCBwZXJmb3JtYW5jZVByaW9yaXR5KGUpe2lmKGUhPT10aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5KXN3aXRjaCh0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5PWUsZSl7Y2FzZSBsaS5BZ2dyZXNzaXZlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMDtjYXNlIGxpLkludGVybWVkaWF0ZTp0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITAsdGhpcy5hdXRvQ2xlYXI9ITE7YnJlYWt9fXNldCBmb3JjZVdpcmVmcmFtZShlKXt0aGlzLl9mb3JjZVdpcmVmcmFtZSE9PWUmJih0aGlzLl9mb3JjZVdpcmVmcmFtZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9yY2VXaXJlZnJhbWUoKXtyZXR1cm4gdGhpcy5fZm9yY2VXaXJlZnJhbWV9c2V0IHNraXBGcnVzdHVtQ2xpcHBpbmcoZSl7dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZyE9PWUmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPWUpfWdldCBza2lwRnJ1c3R1bUNsaXBwaW5nKCl7cmV0dXJuIHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd9c2V0IGZvcmNlUG9pbnRzQ2xvdWQoZSl7dGhpcy5fZm9yY2VQb2ludHNDbG91ZCE9PWUmJih0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb3JjZVBvaW50c0Nsb3VkKCl7cmV0dXJuIHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWR9Z2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSgpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9c2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZShlKXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9ZX1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfXNldCBiZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSl9c2V0IGFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSxlJiYodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpKX1zZXQgYmVmb3JlQ2FtZXJhUmVuZGVyKGUpe3RoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1zZXQgYWZ0ZXJDYW1lcmFSZW5kZXIoZSl7dGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgdW5UcmFuc2xhdGVkUG9pbnRlcigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIudW5UcmFuc2xhdGVkUG9pbnRlcn1zdGF0aWMgZ2V0IERyYWdNb3ZlbWVudFRocmVzaG9sZCgpe3JldHVybiBJZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR9c3RhdGljIHNldCBEcmFnTW92ZW1lbnRUaHJlc2hvbGQoZSl7SWUuRHJhZ01vdmVtZW50VGhyZXNob2xkPWV9c3RhdGljIGdldCBMb25nUHJlc3NEZWxheSgpe3JldHVybiBJZS5Mb25nUHJlc3NEZWxheX1zdGF0aWMgc2V0IExvbmdQcmVzc0RlbGF5KGUpe0llLkxvbmdQcmVzc0RlbGF5PWV9c3RhdGljIGdldCBEb3VibGVDbGlja0RlbGF5KCl7cmV0dXJuIEllLkRvdWJsZUNsaWNrRGVsYXl9c3RhdGljIHNldCBEb3VibGVDbGlja0RlbGF5KGUpe0llLkRvdWJsZUNsaWNrRGVsYXk9ZX1zdGF0aWMgZ2V0IEV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSgpe3JldHVybiBJZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGV9c3RhdGljIHNldCBFeGNsdXNpdmVEb3VibGVDbGlja01vZGUoZSl7SWUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPWV9YmluZEV5ZVBvc2l0aW9uKGUsdD0idkV5ZVBvc2l0aW9uIixpPSExKXt2YXIgbjtjb25zdCBzPXRoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbj90aGlzLl9mb3JjZWRWaWV3UG9zaXRpb246dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj90aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uOihuPXRoaXMuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uKSE9bnVsbD9uOnRoaXMuYWN0aXZlQ2FtZXJhLmRldmljZVBvc2l0aW9uLHI9dGhpcy51c2VSaWdodEhhbmRlZFN5c3RlbT09PSh0aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uIT1udWxsKTtyZXR1cm4gUC5WZWN0b3I0WzBdLnNldChzLngscy55LHMueixyPy0xOjEpLGUmJihpP2Uuc2V0RmxvYXQzKHQsUC5WZWN0b3I0WzBdLngsUC5WZWN0b3I0WzBdLnksUC5WZWN0b3I0WzBdLnopOmUuc2V0VmVjdG9yNCh0LFAuVmVjdG9yNFswXSkpLFAuVmVjdG9yNFswXX1maW5hbGl6ZVNjZW5lVWJvKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLHQ9dGhpcy5iaW5kRXllUG9zaXRpb24obnVsbCk7cmV0dXJuIGUudXBkYXRlRmxvYXQ0KCJ2RXllUG9zaXRpb24iLHQueCx0LnksdC56LHQudyksZS51cGRhdGUoKSxlfXNldCB1c2VSaWdodEhhbmRlZFN5c3RlbShlKXt0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbSE9PWUmJih0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgdXNlUmlnaHRIYW5kZWRTeXN0ZW0oKXtyZXR1cm4gdGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW19c2V0U3RlcElkKGUpe3RoaXMuX2N1cnJlbnRTdGVwSWQ9ZX1nZXRTdGVwSWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFN0ZXBJZH1nZXRJbnRlcm5hbFN0ZXAoKXtyZXR1cm4gdGhpcy5fY3VycmVudEludGVybmFsU3RlcH1zZXQgZm9nRW5hYmxlZChlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH1zZXQgZm9nTW9kZShlKXt0aGlzLl9mb2dNb2RlIT09ZSYmKHRoaXMuX2ZvZ01vZGU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvZ01vZGUoKXtyZXR1cm4gdGhpcy5fZm9nTW9kZX1nZXQgcHJlUGFzcygpe3JldHVybiEhdGhpcy5wcmVQYXNzUmVuZGVyZXImJnRoaXMucHJlUGFzc1JlbmRlcmVyLmRlZmF1bHRSVC5lbmFibGVkfXNldCBzaGFkb3dzRW5hYmxlZChlKXt0aGlzLl9zaGFkb3dzRW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfWdldCBzaGFkb3dzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9zaGFkb3dzRW5hYmxlZH1zZXQgbGlnaHRzRW5hYmxlZChlKXt0aGlzLl9saWdodHNFbmFibGVkIT09ZSYmKHRoaXMuX2xpZ2h0c0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX1nZXQgbGlnaHRzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9saWdodHNFbmFibGVkfWdldCBhY3RpdmVDYW1lcmFzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYXN9c2V0IGFjdGl2ZUNhbWVyYXMoZSl7dGhpcy5fYWN0aXZlQ2FtZXJhcz1BZS5NYWtlT2JzZXJ2YWJsZUFycmF5KHRoaXMub25BY3RpdmVDYW1lcmFzQ2hhbmdlZCxlKX1nZXQgYWN0aXZlQ2FtZXJhKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYX1zZXQgYWN0aXZlQ2FtZXJhKGUpe2UhPT10aGlzLl9hY3RpdmVDYW1lcmEmJih0aGlzLl9hY3RpdmVDYW1lcmE9ZSx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcykpfWdldCBkZWZhdWx0TWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1hdGVyaWFsfHwodGhpcy5fZGVmYXVsdE1hdGVyaWFsPW5lLkRlZmF1bHRNYXRlcmlhbEZhY3RvcnkodGhpcykpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbH1zZXQgZGVmYXVsdE1hdGVyaWFsKGUpe3RoaXMuX2RlZmF1bHRNYXRlcmlhbD1lfXNldCB0ZXh0dXJlc0VuYWJsZWQoZSl7dGhpcy5fdGV4dHVyZXNFbmFibGVkIT09ZSYmKHRoaXMuX3RleHR1cmVzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfWdldCB0ZXh0dXJlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNFbmFibGVkfXNldCBza2VsZXRvbnNFbmFibGVkKGUpe3RoaXMuX3NrZWxldG9uc0VuYWJsZWQhPT1lJiYodGhpcy5fc2tlbGV0b25zRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoOCkpfWdldCBza2VsZXRvbnNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NrZWxldG9uc0VuYWJsZWR9Z2V0IGNvbGxpc2lvbkNvb3JkaW5hdG9yKCl7cmV0dXJuIHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfHwodGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3I9bmUuQ29sbGlzaW9uQ29vcmRpbmF0b3JGYWN0b3J5KCksdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3IuaW5pdCh0aGlzKSksdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J9Z2V0IGZydXN0dW1QbGFuZXMoKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bVBsYW5lc31fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCl7aWYodGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg+MCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cyllLnJlZ2lzdGVyKCk7dGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MH19X2FkZENvbXBvbmVudChlKXt0aGlzLl9jb21wb25lbnRzLnB1c2goZSksdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5wdXNoKGUpO2NvbnN0IHQ9ZTt0LmFkZEZyb21Db250YWluZXImJnQuc2VyaWFsaXplJiZ0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzLnB1c2godCl9X2dldENvbXBvbmVudChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jb21wb25lbnRzKWlmKHQubmFtZT09PWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNjZW5lIn1fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5kYXRhPXRoaXMubWVzaGVzLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9dGhpcy5tZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlc31fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzKGUpe3JldHVybiB0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuZGF0YT1lLnN1Yk1lc2hlcyx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMubGVuZ3RoPWUuc3ViTWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXN9c2V0RGVmYXVsdENhbmRpZGF0ZVByb3ZpZGVycygpe3RoaXMuZ2V0QWN0aXZlTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEludGVyc2VjdGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyl9Z2V0IG1lc2hVbmRlclBvaW50ZXIoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLm1lc2hVbmRlclBvaW50ZXJ9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWH1zZXQgcG9pbnRlclgoZSl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYPWV9Z2V0IHBvaW50ZXJZKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJZPWV9Z2V0Q2FjaGVkTWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fY2FjaGVkTWF0ZXJpYWx9Z2V0Q2FjaGVkRWZmZWN0KCl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdH1nZXRDYWNoZWRWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX2NhY2hlZFZpc2liaWxpdHl9aXNDYWNoZWRNYXRlcmlhbEludmFsaWQoZSx0LGk9MSl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdCE9PXR8fHRoaXMuX2NhY2hlZE1hdGVyaWFsIT09ZXx8dGhpcy5fY2FjaGVkVmlzaWJpbGl0eSE9PWl9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXMuY3VycmVudH1nZXQgdG90YWxWZXJ0aWNlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXN9Z2V0QWN0aXZlSW5kaWNlcygpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzLmN1cnJlbnR9Z2V0IHRvdGFsQWN0aXZlSW5kaWNlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXN9Z2V0QWN0aXZlUGFydGljbGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5jdXJyZW50fWdldCBhY3RpdmVQYXJ0aWNsZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVQYXJ0aWNsZXN9Z2V0QWN0aXZlQm9uZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXMuY3VycmVudH1nZXQgYWN0aXZlQm9uZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lc31nZXRBY3RpdmVNZXNoZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfWdldEFuaW1hdGlvblJhdGlvKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblJhdGlvIT09dm9pZCAwP3RoaXMuX2FuaW1hdGlvblJhdGlvOjF9Z2V0UmVuZGVySWQoKXtyZXR1cm4gdGhpcy5fcmVuZGVySWR9Z2V0RnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWluY3JlbWVudFJlbmRlcklkKCl7dGhpcy5fcmVuZGVySWQrK31fY3JlYXRlVWJvKCl7dGhpcy5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoKSl9c2ltdWxhdGVQb2ludGVyTW92ZShlLHQpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyTW92ZShlLHQpLHRoaXN9c2ltdWxhdGVQb2ludGVyRG93bihlLHQpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyRG93bihlLHQpLHRoaXN9c2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpLHRoaXN9aXNQb2ludGVyQ2FwdHVyZWQoZT0wKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmlzUG9pbnRlckNhcHR1cmVkKGUpfWF0dGFjaENvbnRyb2woZT0hMCx0PSEwLGk9ITApe3RoaXMuX2lucHV0TWFuYWdlci5hdHRhY2hDb250cm9sKGUsdCxpKX1kZXRhY2hDb250cm9sKCl7dGhpcy5faW5wdXRNYW5hZ2VyLmRldGFjaENvbnRyb2woKX1pc1JlYWR5KGU9ITApe2lmKHRoaXMuX2lzRGlzcG9zZWQpcmV0dXJuITE7bGV0IHQ7Y29uc3QgaT10aGlzLmdldEVuZ2luZSgpO2xldCBzPSEwO2Zvcih0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MCYmKHM9ITEpLGUmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCkpLHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5tZXNoZXNbdF07aWYoIXIuc3ViTWVzaGVzfHxyLnN1Yk1lc2hlcy5sZW5ndGg9PT0wKWNvbnRpbnVlO2lmKCFyLmlzUmVhZHkoITApKXtzPSExO2NvbnRpbnVlfWNvbnN0IG49ci5oYXNUaGluSW5zdGFuY2VzfHxyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2gifHxyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fGkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmci5pbnN0YW5jZXMubGVuZ3RoPjA7Zm9yKGNvbnN0IG8gb2YgdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZSlvLmFjdGlvbihyLG4pfHwocz0hMSk7aWYoIWUpY29udGludWU7Y29uc3QgYT1yLm1hdGVyaWFsfHx0aGlzLmRlZmF1bHRNYXRlcmlhbDtpZihhKWlmKGEuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IG8gb2Ygci5zdWJNZXNoZXMpe2NvbnN0IGg9by5nZXRNYXRlcmlhbCgpO2gmJmguaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmguZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGgpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShoLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1lbHNlIGEuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmEuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGEpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChhKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShhLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1pZighc3x8IWkuYXJlQWxsRWZmZWN0c1JlYWR5KCkpcmV0dXJuITE7aWYoZSl7Zm9yKHQ9MDt0PHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMubGVuZ3RoOysrdClpZighdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kYXRhW3RdLmlzUmVhZHlGb3JSZW5kZXJpbmcoKSlyZXR1cm4hMX1mb3IodD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4hMTtpZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MCl7Zm9yKGNvbnN0IHIgb2YgdGhpcy5hY3RpdmVDYW1lcmFzKWlmKCFyLmlzUmVhZHkoITApKXJldHVybiExfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJiF0aGlzLmFjdGl2ZUNhbWVyYS5pc1JlYWR5KCEwKSlyZXR1cm4hMTtmb3IoY29uc3QgciBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcylpZighci5pc1JlYWR5KCkpcmV0dXJuITE7cmV0dXJuITB9cmVzZXRDYWNoZWRNYXRlcmlhbCgpe3RoaXMuX2NhY2hlZE1hdGVyaWFsPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0PW51bGwsdGhpcy5fY2FjaGVkVmlzaWJpbGl0eT1udWxsfXJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX11bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpfXJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9dW5yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3RoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSl9X2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpe2NvbnN0IHQ9KCk9PntlKCksc2V0VGltZW91dCgoKT0+e3RoaXMudW5yZWdpc3RlckJlZm9yZVJlbmRlcih0KX0pfTt0aGlzLnJlZ2lzdGVyQmVmb3JlUmVuZGVyKHQpfWV4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUsdCl7dCE9PXZvaWQgMD9zZXRUaW1lb3V0KCgpPT57dGhpcy5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl9LHQpOnRoaXMuX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpfWFkZFBlbmRpbmdEYXRhKGUpe3RoaXMuX3BlbmRpbmdEYXRhLnB1c2goZSl9cmVtb3ZlUGVuZGluZ0RhdGEoZSl7Y29uc3QgdD10aGlzLmlzTG9hZGluZyxpPXRoaXMuX3BlbmRpbmdEYXRhLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLl9wZW5kaW5nRGF0YS5zcGxpY2UoaSwxKSx0JiYhdGhpcy5pc0xvYWRpbmcmJnRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0V2FpdGluZ0l0ZW1zQ291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RofWdldCBpc0xvYWRpbmcoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjB9ZXhlY3V0ZVdoZW5SZWFkeShlLHQ9ITEpe3RoaXMub25SZWFkeU9ic2VydmFibGUuYWRkKGUpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkodCl9d2hlblJlYWR5QXN5bmMoZT0hMSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9Pnt0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoKCk9Pnt0KCl9LGUpfSl9X2NoZWNrSXNSZWFkeShlPSExKXtpZih0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLmlzUmVhZHkoZSkpe3RoaXMub25SZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufWlmKHRoaXMuX2lzRGlzcG9zZWQpe3RoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufXRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9c2V0VGltZW91dCgoKT0+e3RoaXMuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLl9jaGVja0lzUmVhZHkoZSl9LDEwMCl9Z2V0IGFuaW1hdGFibGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzfXJlc2V0TGFzdEFuaW1hdGlvblRpbWVGcmFtZSgpe3RoaXMuX2FuaW1hdGlvblRpbWVMYXN0PV9pLk5vd31nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHRoaXMuX3ZpZXdNYXRyaXh9Z2V0UHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9uTWF0cml4fWdldFRyYW5zZm9ybU1hdHJpeCgpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9c2V0VHJhbnNmb3JtTWF0cml4KGUsdCxpLHMpeyFpJiYhcyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJih0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm89bnVsbCksISh0aGlzLl92aWV3VXBkYXRlRmxhZz09PWUudXBkYXRlRmxhZyYmdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9PT10LnVwZGF0ZUZsYWcpJiYodGhpcy5fdmlld1VwZGF0ZUZsYWc9ZS51cGRhdGVGbGFnLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl92aWV3TWF0cml4PWUsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD10LHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fZnJ1c3R1bVBsYW5lcz9tdC5HZXRQbGFuZXNUb1JlZih0aGlzLl90cmFuc2Zvcm1NYXRyaXgsdGhpcy5fZnJ1c3R1bVBsYW5lcyk6dGhpcy5fZnJ1c3R1bVBsYW5lcz1tdC5HZXRQbGFuZXModGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8udXNlVWJvP3RoaXMuX3VwZGF0ZU11bHRpdmlld1VibyhpLHMpOnRoaXMuX3NjZW5lVWJvLnVzZVVibyYmKHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3Iix0aGlzLl92aWV3TWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpKSl9Z2V0U2NlbmVVbmlmb3JtQnVmZmVyKCl7cmV0dXJuIHRoaXMuX211bHRpdmlld1NjZW5lVWJvP3RoaXMuX211bHRpdmlld1NjZW5lVWJvOnRoaXMuX3NjZW5lVWJvfWNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihlKXtjb25zdCB0PW5ldyBIKHRoaXMuX2VuZ2luZSx2b2lkIDAsITEsZSE9bnVsbD9lOiJzY2VuZSIpO3JldHVybiB0LmFkZFVuaWZvcm0oInZpZXdQcm9qZWN0aW9uIiwxNiksdC5hZGRVbmlmb3JtKCJ2aWV3IiwxNiksdC5hZGRVbmlmb3JtKCJwcm9qZWN0aW9uIiwxNiksdC5hZGRVbmlmb3JtKCJ2RXllUG9zaXRpb24iLDQpLHR9c2V0U2NlbmVVbmlmb3JtQnVmZmVyKGUpe3RoaXMuX3NjZW5lVWJvPWUsdGhpcy5fdmlld1VwZGF0ZUZsYWc9LTEsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTF9Z2V0VW5pcXVlSWQoKXtyZXR1cm4gbXIuVW5pcXVlSWR9YWRkTWVzaChlLHQ9ITEpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMubWVzaGVzLnB1c2goZSksZS5fcmVzeW5jTGlnaHRTb3VyY2VzKCksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdCYmZS5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2goaT0+e3RoaXMuYWRkTWVzaChpKX0pKX1yZW1vdmVNZXNoKGUsdD0hMSl7Y29uc3QgaT10aGlzLm1lc2hlcy5pbmRleE9mKGUpO3JldHVybiBpIT09LTEmJih0aGlzLm1lc2hlc1tpXT10aGlzLm1lc2hlc1t0aGlzLm1lc2hlcy5sZW5ndGgtMV0sdGhpcy5tZXNoZXMucG9wKCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9pbnB1dE1hbmFnZXIuX2ludmFsaWRhdGVNZXNoKGUpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHQmJmUuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKHM9Pnt0aGlzLnJlbW92ZU1lc2gocyl9KSxpfWFkZFRyYW5zZm9ybU5vZGUoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHxlLmdldFNjZW5lKCk9PT10aGlzJiZlLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5IT09LTF8fChlLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLHRoaXMudHJhbnNmb3JtTm9kZXMucHVzaChlKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9cmVtb3ZlVHJhbnNmb3JtTm9kZShlKXtjb25zdCB0PWUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk7aWYodCE9PS0xKXtpZih0IT09dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybU5vZGVzW3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTFdO3RoaXMudHJhbnNmb3JtTm9kZXNbdF09aSxpLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXR9ZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLnRyYW5zZm9ybU5vZGVzLnBvcCgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVTa2VsZXRvbihlKXtjb25zdCB0PXRoaXMuc2tlbGV0b25zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKHRoaXMuc2tlbGV0b25zLnNwbGljZSh0LDEpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVTa2VsZXRvbnMpKSx0fXJlbW92ZU1vcnBoVGFyZ2V0TWFuYWdlcihlKXtjb25zdCB0PXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5zcGxpY2UodCwxKSx0fXJlbW92ZUxpZ2h0KGUpe2NvbnN0IHQ9dGhpcy5saWdodHMuaW5kZXhPZihlKTtpZih0IT09LTEpe2Zvcihjb25zdCBpIG9mIHRoaXMubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKGUsITEpO3RoaXMubGlnaHRzLnNwbGljZSh0LDEpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl9cmV0dXJuIHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZUNhbWVyYShlKXtjb25zdCB0PXRoaXMuY2FtZXJhcy5pbmRleE9mKGUpO2lmKHQhPT0tMSYmKHRoaXMuY2FtZXJhcy5zcGxpY2UodCwxKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuYWN0aXZlQ2FtZXJhcyl7Y29uc3QgaT10aGlzLmFjdGl2ZUNhbWVyYXMuaW5kZXhPZihlKTtpIT09LTEmJnRoaXMuYWN0aXZlQ2FtZXJhcy5zcGxpY2UoaSwxKX1yZXR1cm4gdGhpcy5hY3RpdmVDYW1lcmE9PT1lJiYodGhpcy5jYW1lcmFzLmxlbmd0aD4wP3RoaXMuYWN0aXZlQ2FtZXJhPXRoaXMuY2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlUGFydGljbGVTeXN0ZW0oZSl7Y29uc3QgdD10aGlzLnBhcnRpY2xlU3lzdGVtcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJih0aGlzLnBhcnRpY2xlU3lzdGVtcy5zcGxpY2UodCwxKSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMpKSx0fXJlbW92ZUFuaW1hdGlvbihlKXtjb25zdCB0PXRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodCwxKSx0fXN0b3BBbmltYXRpb24oZSx0LGkpe31yZW1vdmVBbmltYXRpb25Hcm91cChlKXtjb25zdCB0PXRoaXMuYW5pbWF0aW9uR3JvdXBzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hbmltYXRpb25Hcm91cHMuc3BsaWNlKHQsMSksdH1yZW1vdmVNdWx0aU1hdGVyaWFsKGUpe2NvbnN0IHQ9dGhpcy5tdWx0aU1hdGVyaWFscy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMubXVsdGlNYXRlcmlhbHMuc3BsaWNlKHQsMSksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVNYXRlcmlhbChlKXtjb25zdCB0PWUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk7aWYodCE9PS0xJiZ0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aCl7aWYodCE9PXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMubWF0ZXJpYWxzW3RoaXMubWF0ZXJpYWxzLmxlbmd0aC0xXTt0aGlzLm1hdGVyaWFsc1t0XT1pLGkuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9dH1lLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWF0ZXJpYWxzLnBvcCgpfXJldHVybiB0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVBY3Rpb25NYW5hZ2VyKGUpe2NvbnN0IHQ9dGhpcy5hY3Rpb25NYW5hZ2Vycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYWN0aW9uTWFuYWdlcnMuc3BsaWNlKHQsMSksdH1yZW1vdmVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy50ZXh0dXJlcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMudGV4dHVyZXMuc3BsaWNlKHQsMSksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1hZGRMaWdodChlKXtpZighdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uKXt0aGlzLmxpZ2h0cy5wdXNoKGUpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpO2Zvcihjb25zdCB0IG9mIHRoaXMubWVzaGVzKXQubGlnaHRTb3VyY2VzLmluZGV4T2YoZSk9PT0tMSYmKHQubGlnaHRTb3VyY2VzLnB1c2goZSksdC5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpO3RoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9fXNvcnRMaWdodHNCeVByaW9yaXR5KCl7dGhpcy5yZXF1aXJlTGlnaHRTb3J0aW5nJiZ0aGlzLmxpZ2h0cy5zb3J0KFRlLkNvbXBhcmVMaWdodHNQcmlvcml0eSl9YWRkQ2FtZXJhKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuY2FtZXJhcy5wdXNoKGUpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCkpfWFkZFNrZWxldG9uKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuc2tlbGV0b25zLnB1c2goZSksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkUGFydGljbGVTeXN0ZW0oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLnBhcnRpY2xlU3lzdGVtcy5wdXNoKGUpfWFkZEFuaW1hdGlvbihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMuYW5pbWF0aW9ucy5wdXNoKGUpfWFkZEFuaW1hdGlvbkdyb3VwKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25Hcm91cHMucHVzaChlKX1hZGRNdWx0aU1hdGVyaWFsKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMubXVsdGlNYXRlcmlhbHMucHVzaChlKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZE1hdGVyaWFsKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8ZS5nZXRTY2VuZSgpPT09dGhpcyYmZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheSE9PS0xfHwoZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10aGlzLm1hdGVyaWFscy5sZW5ndGgsdGhpcy5tYXRlcmlhbHMucHVzaChlKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRNb3JwaFRhcmdldE1hbmFnZXIoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMucHVzaChlKX1hZGRHZW9tZXRyeShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdPXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgpLHRoaXMuZ2VvbWV0cmllcy5wdXNoKGUpKX1hZGRBY3Rpb25NYW5hZ2VyKGUpe3RoaXMuYWN0aW9uTWFuYWdlcnMucHVzaChlKX1hZGRUZXh0dXJlKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMudGV4dHVyZXMucHVzaChlKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXN3aXRjaEFjdGl2ZUNhbWVyYShlLHQ9ITApeyF0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCl8fCh0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuZGV0YWNoQ29udHJvbCgpLHRoaXMuYWN0aXZlQ2FtZXJhPWUsdCYmZS5hdHRhY2hDb250cm9sKCkpfXNldEFjdGl2ZUNhbWVyYUJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldENhbWVyYUJ5SWQoZSk7cmV0dXJuIHQ/KHRoaXMuYWN0aXZlQ2FtZXJhPXQsdCk6bnVsbH1zZXRBY3RpdmVDYW1lcmFCeU5hbWUoZSl7Y29uc3QgdD10aGlzLmdldENhbWVyYUJ5TmFtZShlKTtyZXR1cm4gdD8odGhpcy5hY3RpdmVDYW1lcmE9dCx0KTpudWxsfWdldEFuaW1hdGlvbkdyb3VwQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hbmltYXRpb25Hcm91cHMubGVuZ3RoO3QrKylpZih0aGlzLmFuaW1hdGlvbkdyb3Vwc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5hbmltYXRpb25Hcm91cHNbdF07cmV0dXJuIG51bGx9Z2V0TWF0ZXJpYWxCeVVuaXF1ZUlEKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3QrKylpZih0aGlzLm1hdGVyaWFsc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW3RdO3JldHVybiBudWxsfWdldE1hdGVyaWFsQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aDt0KyspaWYodGhpcy5tYXRlcmlhbHNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1hdGVyaWFsc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0TWF0ZXJpYWxCeUlkKGUsdD0hMSl7Zm9yKGxldCBpPXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMubWF0ZXJpYWxzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbHNbaV07aWYodCl7Zm9yKGxldCBpPXRoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoLTE7aT49MDtpLS0paWYodGhpcy5tdWx0aU1hdGVyaWFsc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubXVsdGlNYXRlcmlhbHNbaV19cmV0dXJuIG51bGx9Z2V0TWF0ZXJpYWxCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1hdGVyaWFscy5sZW5ndGg7dCsrKWlmKHRoaXMubWF0ZXJpYWxzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLm1hdGVyaWFsc1t0XTtyZXR1cm4gbnVsbH1nZXRUZXh0dXJlQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMudGV4dHVyZXMubGVuZ3RoO3QrKylpZih0aGlzLnRleHR1cmVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy50ZXh0dXJlc1t0XTtyZXR1cm4gbnVsbH1nZXRUZXh0dXJlQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0dXJlcy5sZW5ndGg7dCsrKWlmKHRoaXMudGV4dHVyZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMudGV4dHVyZXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuY2FtZXJhcy5sZW5ndGg7dCsrKWlmKHRoaXMuY2FtZXJhc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuY2FtZXJhcy5sZW5ndGg7dCsrKWlmKHRoaXMuY2FtZXJhc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldEJvbmVCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnNrZWxldG9uc1t0XTtmb3IobGV0IHM9MDtzPGkuYm9uZXMubGVuZ3RoO3MrKylpZihpLmJvbmVzW3NdLmlkPT09ZSlyZXR1cm4gaS5ib25lc1tzXX1yZXR1cm4gbnVsbH1nZXRCb25lQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnNrZWxldG9uc1t0XTtmb3IobGV0IHM9MDtzPGkuYm9uZXMubGVuZ3RoO3MrKylpZihpLmJvbmVzW3NdLm5hbWU9PT1lKXJldHVybiBpLmJvbmVzW3NdfXJldHVybiBudWxsfWdldExpZ2h0QnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0TGlnaHRCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldExpZ2h0QnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGlnaHRzLmxlbmd0aDt0KyspaWYodGhpcy5saWdodHNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7dCsrKWlmKHRoaXMucGFydGljbGVTeXN0ZW1zW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5wYXJ0aWNsZVN5c3RlbXNbdF07cmV0dXJuIG51bGx9Z2V0R2VvbWV0cnlCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3RdO3JldHVybiBudWxsfV9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQoZSl7aWYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQpe2NvbnN0IHQ9dGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZV07aWYodCE9PXZvaWQgMClyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3RdfWVsc2UgZm9yKGxldCB0PTA7dDx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3QrKylpZih0aGlzLmdlb21ldHJpZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF07cmV0dXJuIG51bGx9cHVzaEdlb21ldHJ5KGUsdCl7cmV0dXJuIXQmJnRoaXMuX2dldEdlb21ldHJ5QnlVbmlxdWVJZChlLnVuaXF1ZUlkKT8hMToodGhpcy5hZGRHZW9tZXRyeShlKSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLCEwKX1yZW1vdmVHZW9tZXRyeShlKXtsZXQgdDtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7aWYodD10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlLnVuaXF1ZUlkXSx0PT09dm9pZCAwKXJldHVybiExfWVsc2UgaWYodD10aGlzLmdlb21ldHJpZXMuaW5kZXhPZihlKSx0PDApcmV0dXJuITE7aWYodCE9PXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLmdlb21ldHJpZXNbdGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xXTtpJiYodGhpcy5nZW9tZXRyaWVzW3RdPWksdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtpLnVuaXF1ZUlkXT10KSl9cmV0dXJuIHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF09dm9pZCAwKSx0aGlzLmdlb21ldHJpZXMucG9wKCksdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLCEwfWdldEdlb21ldHJpZXMoKXtyZXR1cm4gdGhpcy5nZW9tZXRyaWVzfWdldE1lc2hCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKylpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldE1lc2hlc0J5SWQoZSl7cmV0dXJuIHRoaXMubWVzaGVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KX1nZXRUcmFuc2Zvcm1Ob2RlQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3QrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3QrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2Rlc0J5SWQoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pfWdldE1lc2hCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKylpZih0aGlzLm1lc2hlc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldExhc3RNZXNoQnlJZChlKXtmb3IobGV0IHQ9dGhpcy5tZXNoZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0RW50cnlCeUlkKGUpe2xldCB0O2Zvcih0PXRoaXMubWVzaGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07Zm9yKHQ9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtmb3IodD10aGlzLmNhbWVyYXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5jYW1lcmFzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO2Zvcih0PXRoaXMubGlnaHRzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMubGlnaHRzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0Tm9kZUJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldE1lc2hCeUlkKGUpO2lmKHQpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKGUpO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcz10aGlzLmdldExpZ2h0QnlJZChlKTtpZihzKXJldHVybiBzO2NvbnN0IHI9dGhpcy5nZXRDYW1lcmFCeUlkKGUpO2lmKHIpcmV0dXJuIHI7Y29uc3Qgbj10aGlzLmdldEJvbmVCeUlkKGUpO3JldHVybiBufHxudWxsfWdldE5vZGVCeU5hbWUoZSl7Y29uc3QgdD10aGlzLmdldE1lc2hCeU5hbWUoZSk7aWYodClyZXR1cm4gdDtjb25zdCBpPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5TmFtZShlKTtpZihpKXJldHVybiBpO2NvbnN0IHM9dGhpcy5nZXRMaWdodEJ5TmFtZShlKTtpZihzKXJldHVybiBzO2NvbnN0IHI9dGhpcy5nZXRDYW1lcmFCeU5hbWUoZSk7aWYocilyZXR1cm4gcjtjb25zdCBuPXRoaXMuZ2V0Qm9uZUJ5TmFtZShlKTtyZXR1cm4gbnx8bnVsbH1nZXRNZXNoQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKylpZih0aGlzLm1lc2hlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0VHJhbnNmb3JtTm9kZUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3QrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldExhc3RTa2VsZXRvbkJ5SWQoZSl7Zm9yKGxldCB0PXRoaXMuc2tlbGV0b25zLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMuc2tlbGV0b25zW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0KyspaWYodGhpcy5za2VsZXRvbnNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0KyspaWYodGhpcy5za2VsZXRvbnNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldE1vcnBoVGFyZ2V0TWFuYWdlckJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoO3QrKylpZih0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdO2ZvcihsZXQgcz0wO3M8aS5udW1UYXJnZXRzOysrcyl7Y29uc3Qgcj1pLmdldFRhcmdldChzKTtpZihyLmlkPT09ZSlyZXR1cm4gcn19cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07Zm9yKGxldCBzPTA7czxpLm51bVRhcmdldHM7KytzKXtjb25zdCByPWkuZ2V0VGFyZ2V0KHMpO2lmKHIubmFtZT09PWUpcmV0dXJuIHJ9fXJldHVybiBudWxsfWdldFBvc3RQcm9jZXNzQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5wb3N0UHJvY2Vzc2VzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5wb3N0UHJvY2Vzc2VzW3RdO2lmKGkubmFtZT09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9aXNBY3RpdmVNZXNoKGUpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXMuaW5kZXhPZihlKSE9PS0xfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPVUuUmFuZG9tSWQoKSksdGhpcy5fdWlkfWFkZEV4dGVybmFsRGF0YShlLHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IHNyKSx0aGlzLl9leHRlcm5hbERhdGEuYWRkKGUsdCl9Z2V0RXh0ZXJuYWxEYXRhKGUpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGE/dGhpcy5fZXh0ZXJuYWxEYXRhLmdldChlKTpudWxsfWdldE9yQWRkRXh0ZXJuYWxEYXRhV2l0aEZhY3RvcnkoZSx0KXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBzciksdGhpcy5fZXh0ZXJuYWxEYXRhLmdldE9yQWRkV2l0aEZhY3RvcnkoZSx0KX1yZW1vdmVFeHRlcm5hbERhdGEoZSl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YS5yZW1vdmUoZSl9X2V2YWx1YXRlU3ViTWVzaChlLHQsaSl7aWYoaS5oYXNJbnN0YW5jZXN8fGkuaXNBbkluc3RhbmNlfHx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXN8fHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHQuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHx0LnN1Yk1lc2hlcy5sZW5ndGg9PT0xfHxlLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKXtmb3IoY29uc3QgciBvZiB0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZSlyLmFjdGlvbih0LGUpO2NvbnN0IHM9ZS5nZXRNYXRlcmlhbCgpO3MhPW51bGwmJihzLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZzLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihzKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2gocyksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUocy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaChlLHQscykpfX1mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzKCl7dGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmRpc3Bvc2UoKX1nZXQgYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzKCl7cmV0dXJuIHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzfXNldCBibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMoZSl7dGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMhPT1lJiYoZSYmKHRoaXMuZnJlZUFjdGl2ZU1lc2hlcygpLHRoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpKSx0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz1lKX1mcmVlQWN0aXZlTWVzaGVzKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcyYmdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmFzKSlmb3IobGV0IGU9MDtlPHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuYWN0aXZlQ2FtZXJhc1tlXTt0JiZ0Ll9hY3RpdmVNZXNoZXMmJnQuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCl9fWZyZWVSZW5kZXJpbmdHcm91cHMoKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLnRleHR1cmVzKSlmb3IobGV0IGU9MDtlPHRoaXMudGV4dHVyZXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLnRleHR1cmVzW2VdO3QmJnQucmVuZGVyTGlzdCYmdC5mcmVlUmVuZGVyaW5nR3JvdXBzKCl9fV9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCl7cmV0dXJuIHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZ31mcmVlemVBY3RpdmVNZXNoZXMoZT0hMSx0LGkscz0hMCxyPSExKXtyZXR1cm4gdGhpcy5leGVjdXRlV2hlblJlYWR5KCgpPT57aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXtpJiZpKCJObyBhY3RpdmUgY2FtZXJhIGZvdW5kIik7cmV0dXJufWlmKHRoaXMuX2ZydXN0dW1QbGFuZXN8fHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITAsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nPXIsdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT1lLHMpZm9yKGxldCBuPTA7bjx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO24rKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtuXS5fZnJlZXplKCk7dCYmdCgpfSksdGhpc311bmZyZWV6ZUFjdGl2ZU1lc2hlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tZXNoZXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLm1lc2hlc1tlXTt0Ll9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvJiYodC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITEpfWZvcihsZXQgZT0wO2U8dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbZV0uX3VuRnJlZXplKCk7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMSx0aGlzfV9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cChlKXshKHRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpJiZ0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW4mJnRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGh8fHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PmUuZGlzcG9zZSgpKX1fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKXt2YXIgaTtpZih0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKXt0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoPjAmJigoaT10aGlzLmFjdGl2ZUNhbWVyYSk9PW51bGx8fGkuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSk7cmV0dXJufWlmKHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCl7aWYoIXRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHkpe2NvbnN0IHM9dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW3JdLmNvbXB1dGVXb3JsZE1hdHJpeCgpfWlmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcyl7Y29uc3Qgcz10aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRhdGFbcl0uYW5pbWF0ZSgpfXJldHVybn1pZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuO3RoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2Upcy5hY3Rpb24oKTtjb25zdCBlPXRoaXMuZ2V0QWN0aXZlTWVzaENhbmRpZGF0ZXMoKSx0PWUubGVuZ3RoO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9ZS5kYXRhW3NdO2lmKHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLHIuaXNCbG9ja2VkfHwodGhpcy5fdG90YWxWZXJ0aWNlcy5hZGRDb3VudChyLmdldFRvdGFsVmVydGljZXMoKSwhMSksIXIuaXNSZWFkeSgpfHwhci5pc0VuYWJsZWQoKXx8ci5zY2FsaW5nLmhhc0FaZXJvQ29tcG9uZW50KSljb250aW51ZTtyLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcnMyKDEyLDEzKSYmdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5wdXNoTm9EdXBsaWNhdGUocik7bGV0IG49dGhpcy5jdXN0b21MT0RTZWxlY3Rvcj90aGlzLmN1c3RvbUxPRFNlbGVjdG9yKHIsdGhpcy5hY3RpdmVDYW1lcmEpOnIuZ2V0TE9EKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZihyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EPW4sci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITAsbiE9bnVsbCYmKG4hPT1yJiZuLmJpbGxib2FyZE1vZGUhPT0wJiZuLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHIuX3ByZUFjdGl2YXRlKCksci5pc1Zpc2libGUmJnIudmlzaWJpbGl0eT4wJiYoci5sYXllck1hc2smdGhpcy5hY3RpdmVDYW1lcmEubGF5ZXJNYXNrKSE9PTAmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfHxyLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaHx8ci5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKSkpKXt0aGlzLl9hY3RpdmVNZXNoZXMucHVzaChyKSx0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLnB1c2gociksbiE9PXImJm4uX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKTtmb3IoY29uc3QgYSBvZiB0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2UpYS5hY3Rpb24ocik7ci5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpJiYoci5pc0FuSW5zdGFuY2U/ci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaCYmKG49cik6bi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMSxuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVNZXNoKHIsbikpLHIuX3Bvc3RBY3RpdmF0ZSgpfX1pZih0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wYXJ0aWNsZXNFbmFibGVkKXt0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKGxldCBzPTA7czx0aGlzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMucGFydGljbGVTeXN0ZW1zW3NdO2lmKCFyLmlzU3RhcnRlZCgpfHwhci5lbWl0dGVyKWNvbnRpbnVlO2NvbnN0IG49ci5lbWl0dGVyOyghbi5wb3NpdGlvbnx8bi5pc0VuYWJsZWQoKSkmJih0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucHVzaChyKSxyLmFuaW1hdGUoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoUGFydGljbGVzKHIpKX10aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX19X2FjdGl2ZU1lc2goZSx0KXtpZih0aGlzLl9za2VsZXRvbnNFbmFibGVkJiZ0LnNrZWxldG9uIT09bnVsbCYmdC5za2VsZXRvbiE9PXZvaWQgMCYmKHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5wdXNoTm9EdXBsaWNhdGUodC5za2VsZXRvbikmJih0LnNrZWxldG9uLnByZXBhcmUoKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCh0LnNrZWxldG9uLmJvbmVzLmxlbmd0aCwhMSkpLHQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfHx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucHVzaE5vRHVwbGljYXRlKHQpKSx0JiZ0LnN1Yk1lc2hlcyYmdC5zdWJNZXNoZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcyh0KSxzPWkubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspe2NvbnN0IG49aS5kYXRhW3JdO3RoaXMuX2V2YWx1YXRlU3ViTWVzaChuLHQsZSl9fX11cGRhdGVUcmFuc2Zvcm1NYXRyaXgoZSl7aWYoISF0aGlzLmFjdGl2ZUNhbWVyYSlpZih0aGlzLmFjdGl2ZUNhbWVyYS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtjb25zdCB0PXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzBdLGk9dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbMV07dGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodC5nZXRWaWV3TWF0cml4KCksdC5nZXRQcm9qZWN0aW9uTWF0cml4KGUpLGkuZ2V0Vmlld01hdHJpeCgpLGkuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSl9ZWxzZSB0aGlzLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCksdGhpcy5hY3RpdmVDYW1lcmEuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSl9X2JpbmRGcmFtZUJ1ZmZlcihlLHQ9ITApe2UmJmUuX211bHRpdmlld1RleHR1cmU/ZS5fbXVsdGl2aWV3VGV4dHVyZS5fYmluZEZyYW1lQnVmZmVyKCk6ZSYmZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQuX2JpbmRGcmFtZUJ1ZmZlcigpOnRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXx8dGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSx0JiZ0aGlzLl9jbGVhckZyYW1lQnVmZmVyKGUpfV9jbGVhckZyYW1lQnVmZmVyKGUpe2lmKCEoZSYmZS5fbXVsdGl2aWV3VGV4dHVyZSkpaWYoZSYmZS5vdXRwdXRSZW5kZXJUYXJnZXQpe2NvbnN0IHQ9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ7dC5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90Lm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9lbmdpbmUpOnQuc2tpcEluaXRpYWxDbGVhcnx8KHRoaXMuYXV0b0NsZWFyJiZ0aGlzLl9lbmdpbmUuY2xlYXIodC5jbGVhckNvbG9yfHx0aGlzLmNsZWFyQ29sb3IsIXQuX2NsZWFyZWQsITAsITApLHQuX2NsZWFyZWQ9ITApfWVsc2UgdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD90aGlzLl9lbmdpbmUuY2xlYXIobnVsbCwhMSwhMCwhMCk6KHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITAsdGhpcy5fY2xlYXIoKSl9X3JlbmRlckZvckNhbWVyYShlLHQsaT0hMCl7dmFyIG4sYSxvO2lmKGUmJmUuX3NraXBSZW5kZXJpbmcpcmV0dXJuO2NvbnN0IHM9dGhpcy5fZW5naW5lO2lmKHRoaXMuX2FjdGl2ZUNhbWVyYT1lLCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2lmKHMuc2V0Vmlld3BvcnQodGhpcy5hY3RpdmVDYW1lcmEudmlld3BvcnQpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuX3JlbmRlcklkKyssIXRoaXMucHJlUGFzcyYmaSl7bGV0IGg9ITA7ZS5fcmVuZGVyaW5nTXVsdGl2aWV3JiZlLm91dHB1dFJlbmRlclRhcmdldCYmKGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcix0aGlzLmF1dG9DbGVhciYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9ITEpKSx0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhKSxlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcj1oKX10aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKTtmb3IobGV0IGg9MDtoPHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kYXRhW2hdO2wuYXBwbHlTa2VsZXRvbihsLnNrZWxldG9uKX10aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMpLGUuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmZS5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlLmN1c3RvbVJlbmRlclRhcmdldHMpLHQmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0LmN1c3RvbVJlbmRlclRhcmdldHMpLHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlJiZ0aGlzLmVudmlyb25tZW50VGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lbnZpcm9ubWVudFRleHR1cmUpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZSloLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtsZXQgcj0hMTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtpZih0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCl7VS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApO2ZvcihsZXQgaD0wO2g8dGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtoXTtpZihsLl9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKztjb25zdCB1PWwuYWN0aXZlQ2FtZXJhJiZsLmFjdGl2ZUNhbWVyYSE9PXRoaXMuYWN0aXZlQ2FtZXJhO2wucmVuZGVyKHUsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpLHI9ITB9fVUuRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5fcmVuZGVySWQrK31mb3IoY29uc3QgaCBvZiB0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2Upcj1oLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl8fHI7dGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShvPShhPShuPWUub3V0cHV0UmVuZGVyVGFyZ2V0KT09bnVsbD92b2lkIDA6bi5yZW5kZXJQYXNzSWQpIT1udWxsP2E6ZS5yZW5kZXJQYXNzSWQpIT1udWxsP286MCxyJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTt0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykscy5zbmFwc2hvdFJlbmRlcmluZyYmcy5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmIWUuX211bHRpdmlld1RleHR1cmUpe2NvbnN0IGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZShlLmlzSW50ZXJtZWRpYXRlLGgpfXRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSl9X3Byb2Nlc3NTdWJDYW1lcmFzKGUsdD0hMCl7aWYoZS5jYW1lcmFSaWdNb2RlPT09MHx8ZS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJiF0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fY3JlYXRlTXVsdGl2aWV3VWJvKCksdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUsdm9pZCAwLHQpLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpO3JldHVybn1pZihlLl91c2VNdWx0aXZpZXdUb1NpbmdsZVZpZXcpdGhpcy5fcmVuZGVyTXVsdGl2aWV3VG9TaW5nbGVWaWV3KGUpO2Vsc2V7dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpO2ZvcihsZXQgaT0wO2k8ZS5fcmlnQ2FtZXJhcy5sZW5ndGg7aSsrKXRoaXMuX3JlbmRlckZvckNhbWVyYShlLl9yaWdDYW1lcmFzW2ldLGUpfXRoaXMuX2FjdGl2ZUNhbWVyYT1lLHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9X2NoZWNrSW50ZXJzZWN0aW9ucygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGF0YVtlXTtpZighIXQuYWN0aW9uTWFuYWdlcilmb3IobGV0IGk9MDt0LmFjdGlvbk1hbmFnZXImJmk8dC5hY3Rpb25NYW5hZ2VyLmFjdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmFjdGlvbk1hbmFnZXIuYWN0aW9uc1tpXTtpZihzLnRyaWdnZXI9PT0xMnx8cy50cmlnZ2VyPT09MTMpe2NvbnN0IHI9cy5nZXRUcmlnZ2VyUGFyYW1ldGVyKCksbj1yLm1lc2g/ci5tZXNoOnIsYT1uLmludGVyc2VjdHNNZXNoKHQsci51c2VQcmVjaXNlSW50ZXJzZWN0aW9uKSxvPXQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2Yobik7YSYmbz09PS0xP3MudHJpZ2dlcj09PTEyPyhzLl9leGVjdXRlQ3VycmVudChXZS5DcmVhdGVOZXcodCx2b2lkIDAsbikpLHQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2gobikpOnMudHJpZ2dlcj09PTEzJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG4pOiFhJiZvPi0xJiYocy50cmlnZ2VyPT09MTMmJnMuX2V4ZWN1dGVDdXJyZW50KFdlLkNyZWF0ZU5ldyh0LHZvaWQgMCxuKSksKCF0LmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDEzLGg9Pntjb25zdCBsPWgubWVzaD9oLm1lc2g6aDtyZXR1cm4gbj09PWx9KXx8cy50cmlnZ2VyPT09MTMpJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UobywxKSl9fX19X2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKXt9X2FuaW1hdGUoKXt9YW5pbWF0ZSgpe2lmKHRoaXMuX2VuZ2luZS5pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpKXtsZXQgZT1NYXRoLm1heChuZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLG5lLk1heERlbHRhVGltZSkpK3RoaXMuX3RpbWVBY2N1bXVsYXRvcjtjb25zdCB0PXRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLGk9MWUzL3QvMWUzO2xldCBzPTA7Y29uc3Qgcj10aGlzLl9lbmdpbmUuZ2V0TG9ja3N0ZXBNYXhTdGVwcygpO2xldCBuPU1hdGguZmxvb3IoZS90KTtmb3Iobj1NYXRoLm1pbihuLHIpO2U+MCYmczxuOyl0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2FuaW1hdGlvblJhdGlvPXQqaSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcCh0KSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY3VycmVudFN0ZXBJZCsrLHMrKyxlLT10O3RoaXMuX3RpbWVBY2N1bXVsYXRvcj1lPDA/MDplfWVsc2V7Y29uc3QgZT10aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPzE2Ok1hdGgubWF4KG5lLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksbmUuTWF4RGVsdGFUaW1lKSk7dGhpcy5fYW5pbWF0aW9uUmF0aW89ZSooNjAvMWUzKSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKX19X2NsZWFyKCl7KHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsfHx0aGlzLmF1dG9DbGVhcikmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5hdXRvQ2xlYXJ8fHRoaXMuZm9yY2VXaXJlZnJhbWV8fHRoaXMuZm9yY2VQb2ludHNDbG91ZCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCl9X2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KGUpe3ZhciB0O2lmKChlPT1udWxsP3ZvaWQgMDplLm91dHB1dFJlbmRlclRhcmdldCkmJiEoZSE9bnVsbCYmZS5pc1JpZ0NhbWVyYSkmJihlLm91dHB1dFJlbmRlclRhcmdldC5fY2xlYXJlZD0hMSksKHQ9ZT09bnVsbD92b2lkIDA6ZS5yaWdDYW1lcmFzKSE9bnVsbCYmdC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLnJpZ0NhbWVyYXMubGVuZ3RoOysraSl7Y29uc3Qgcz1lLnJpZ0NhbWVyYXNbaV0ub3V0cHV0UmVuZGVyVGFyZ2V0O3MmJihzLl9jbGVhcmVkPSExKX19cmVzZXREcmF3Q2FjaGUoZSl7aWYoISF0aGlzLm1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLm1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfXJlbmRlcihlPSEwLHQ9ITEpe3ZhciBuLGEsbztpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMub25SZWFkeU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkoKSx0aGlzLl9mcmFtZUlkKyssdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCh0aGlzLmFjdGl2ZUNhbWVyYSksKG49dGhpcy5hY3RpdmVDYW1lcmFzKSE9bnVsbCYmbi5sZW5ndGgmJnRoaXMuYWN0aXZlQ2FtZXJhcy5mb3JFYWNoKHRoaXMuX2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KSx0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX3RvdGFsVmVydGljZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX2FjdGl2ZUluZGljZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX2FjdGl2ZUJvbmVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnJlc2V0KCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmFjdGlvbk1hbmFnZXImJnRoaXMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxMSksdHx8dGhpcy5hbmltYXRlKCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2UpaC5hY3Rpb24oKTtpZihlKXtpZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MClmb3IobGV0IGg9MDtoPHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuYWN0aXZlQ2FtZXJhc1toXTtpZihsLnVwZGF0ZSgpLGwuY2FtZXJhUmlnTW9kZSE9PTApZm9yKGxldCB1PTA7dTxsLl9yaWdDYW1lcmFzLmxlbmd0aDt1KyspbC5fcmlnQ2FtZXJhc1t1XS51cGRhdGUoKX1lbHNlIGlmKHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEudXBkYXRlKCksdGhpcy5hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTApKWZvcihsZXQgaD0wO2g8dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXMubGVuZ3RoO2grKyl0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1toXS51cGRhdGUoKX10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3QgaT10aGlzLmdldEVuZ2luZSgpO3RoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3Qgcz0oYT10aGlzLmFjdGl2ZUNhbWVyYXMpIT1udWxsJiZhLmxlbmd0aD90aGlzLmFjdGl2ZUNhbWVyYXNbMF06dGhpcy5hY3RpdmVDYW1lcmE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7VS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMDtmb3IobGV0IGg9MDtoPHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1toXTtpZihsLl9zaG91bGRSZW5kZXIoKSl7aWYodGhpcy5fcmVuZGVySWQrKyx0aGlzLmFjdGl2ZUNhbWVyYT1sLmFjdGl2ZUNhbWVyYXx8dGhpcy5hY3RpdmVDYW1lcmEsIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7aS5zZXRWaWV3cG9ydCh0aGlzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCksdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxsLnJlbmRlcihzIT09dGhpcy5hY3RpdmVDYW1lcmEsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpfX1VLkVuZFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9yZW5kZXJJZCsrfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShvPXM9PW51bGw/dm9pZCAwOnMucmVuZGVyUGFzc0lkKSE9bnVsbD9vOjAsdGhpcy5hY3RpdmVDYW1lcmE9cyx0aGlzLl9hY3RpdmVDYW1lcmEmJnRoaXMuX2FjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MjImJiF0aGlzLnByZVBhc3MmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcih0aGlzLl9hY3RpdmVDYW1lcmEsITEpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgaCBvZiB0aGlzLl9iZWZvcmVDbGVhclN0YWdlKWguYWN0aW9uKCk7dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlKWguYWN0aW9uKHRoaXMuX3JlbmRlclRhcmdldHMpO2NvbnN0IHI9dGhpcy5fYWN0aXZlQ2FtZXJhO2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgaD0wO2g8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtoKyspdGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmFzW2hdLGg+MCk7ZWxzZXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJObyBjYW1lcmEgZGVmaW5lZCIpO3RoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhLCEhdGhpcy5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0KX10aGlzLl9hY3RpdmVDYW1lcmE9cix0aGlzLl9jaGVja0ludGVyc2VjdGlvbnMoKTtmb3IoY29uc3QgaCBvZiB0aGlzLl9hZnRlclJlbmRlclN0YWdlKWguYWN0aW9uKCk7aWYodGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGgpe2ZvcihsZXQgaD0wO2g8dGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aDtoKyspe2NvbnN0IGw9dGhpcy5fdG9CZURpc3Bvc2VkW2hdO2wmJmwuZGlzcG9zZSgpfXRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MH10aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyYmKHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpfWZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS5mcmVlemUoKX11bmZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS51bmZyZWV6ZSgpfWRpc3Bvc2UoKXt2YXIgcztpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMuYmVmb3JlUmVuZGVyPW51bGwsdGhpcy5hZnRlclJlbmRlcj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNrZWxldG9ucy5sZW5ndGg9MCx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoPTAsdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MCx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJVcFN0YWdlLmNsZWFyKCksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnN0b3BBbGxBbmltYXRpb25zJiZ0aGlzLnN0b3BBbGxBbmltYXRpb25zKCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMuZGlzcG9zZSgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncy5kaXNwb3NlKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kaXNwb3NlKCksdGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aD0wO2NvbnN0IGU9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKTtmb3IoY29uc3QgciBvZiBlKXIuYWJvcnQoKTtpZih0aGlzLl9hY3RpdmVSZXF1ZXN0cy5sZW5ndGg9MCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQuY2xlYXIoKSx0aGlzLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZC5jbGVhcigpLChzPXRoaXMuX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyKT09bnVsbHx8cy51bm9ic2VydmUoImNwdSIpLHRoaXMuX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyPXZvaWQgMCx0aGlzLmRldGFjaENvbnRyb2woKSx0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCkpZm9yKGxldCByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKyl0aGlzLmNhbWVyYXNbcl0uZGV0YWNoQ29udHJvbCgpO3RoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuYW5pbWF0aW9uR3JvdXBzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmxpZ2h0cyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tZXNoZXMscj0+ci5kaXNwb3NlKCEwKSksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50cmFuc2Zvcm1Ob2RlcyxyPT5yLmRpc3Bvc2UoITApKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmNhbWVyYXMpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbCYmdGhpcy5fZGVmYXVsdE1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm11bHRpTWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1hdGVyaWFscyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wYXJ0aWNsZVN5c3RlbXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMucG9zdFByb2Nlc3NlcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50ZXh0dXJlcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzKSx0aGlzLl9zY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5fY29tcG9uZW50cyk7bGV0IGk9dGhpcy5fZW5naW5lLnNjZW5lcy5pbmRleE9mKHRoaXMpO2k+LTEmJnRoaXMuX2VuZ2luZS5zY2VuZXMuc3BsaWNlKGksMSksZGUuX0xhc3RDcmVhdGVkU2NlbmU9PT10aGlzJiYodGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGg+MD9kZS5fTGFzdENyZWF0ZWRTY2VuZT10aGlzLl9lbmdpbmUuc2NlbmVzW3RoaXMuX2VuZ2luZS5zY2VuZXMubGVuZ3RoLTFdOmRlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwpLGk9dGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLmluZGV4T2YodGhpcyksaT4tMSYmdGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnNwbGljZShpLDEpLHRoaXMuX2VuZ2luZS53aXBlQ2FjaGVzKCEwKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfV9kaXNwb3NlTGlzdChlLHQpe2NvbnN0IGk9ZS5zbGljZSgwKTt0PXQhPW51bGw/dDpzPT5zLmRpc3Bvc2UoKTtmb3IoY29uc3QgcyBvZiBpKXQocyk7ZS5sZW5ndGg9MH1nZXQgaXNEaXNwb3NlZCgpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfWNsZWFyQ2FjaGVkVmVydGV4RGF0YSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5tZXNoZXMubGVuZ3RoO2UrKyl7Y29uc3QgaT10aGlzLm1lc2hlc1tlXS5nZW9tZXRyeTtpJiZpLmNsZWFyQ2FjaGVkRGF0YSgpfX1jbGVhbkNhY2hlZFRleHR1cmVCdWZmZXIoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnRleHR1cmVzKWUuX2J1ZmZlciYmKGUuX2J1ZmZlcj1udWxsKX1nZXRXb3JsZEV4dGVuZHMoZSl7Y29uc3QgdD1uZXcgZyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksaT1uZXcgZygtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIGU9ZXx8KCgpPT4hMCksdGhpcy5tZXNoZXMuZmlsdGVyKGUpLmZvckVhY2gocz0+e2lmKHMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSwhcy5zdWJNZXNoZXN8fHMuc3ViTWVzaGVzLmxlbmd0aD09PTB8fHMuaW5maW5pdGVEaXN0YW5jZSlyZXR1cm47Y29uc3Qgcj1zLmdldEJvdW5kaW5nSW5mbygpLG49ci5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsYT1yLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZDtnLkNoZWNrRXh0ZW5kcyhuLHQsaSksZy5DaGVja0V4dGVuZHMoYSx0LGkpfSkse21pbjp0LG1heDppfX1jcmVhdGVQaWNraW5nUmF5KGUsdCxpLHMscj0hMSl7dGhyb3cgcSgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheVRvUmVmKGUsdCxpLHMscixuPSExLGE9ITEpe3Rocm93IHEoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlKGUsdCxpKXt0aHJvdyBxKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmKGUsdCxpLHMpe3Rocm93IHEoIlJheSIpfXBpY2soZSx0LGkscyxyLG4pe2NvbnN0IGE9bmV3IGJ0O3JldHVybiBhLl9waWNraW5nVW5hdmFpbGFibGU9ITAsYX1waWNrV2l0aEJvdW5kaW5nSW5mbyhlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGJ0O3JldHVybiBuLl9waWNraW5nVW5hdmFpbGFibGU9ITAsbn1waWNrV2l0aFJheShlLHQsaSxzKXt0aHJvdyBxKCJSYXkiKX1tdWx0aVBpY2soZSx0LGkscyxyKXt0aHJvdyBxKCJSYXkiKX1tdWx0aVBpY2tXaXRoUmF5KGUsdCxpKXt0aHJvdyBxKCJSYXkiKX1zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpe3RoaXMuX2lucHV0TWFuYWdlci5zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuZ2V0UG9pbnRlck92ZXJNZXNoKCl9X3JlYnVpbGRHZW9tZXRyaWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZW9tZXRyaWVzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLm1lc2hlcyllLl9yZWJ1aWxkKCk7dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29tcG9uZW50cyllLnJlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcyllLnJlYnVpbGQoKTtpZih0aGlzLnNwcml0ZU1hbmFnZXJzKWZvcihjb25zdCBlIG9mIHRoaXMuc3ByaXRlTWFuYWdlcnMpZS5yZWJ1aWxkKCl9X3JlYnVpbGRUZXh0dXJlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGV4dHVyZXMpZS5fcmVidWlsZCgpO3RoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9X2dldEJ5VGFncyhlLHQsaSl7aWYodD09PXZvaWQgMClyZXR1cm4gZTtjb25zdCBzPVtdO2k9aXx8KHI9Pnt9KTtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl07cGUmJnBlLk1hdGNoZXNRdWVyeShuLHQpJiYocy5wdXNoKG4pLGkobikpfXJldHVybiBzfWdldE1lc2hlc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tZXNoZXMsZSx0KX1nZXRDYW1lcmFzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmNhbWVyYXMsZSx0KX1nZXRMaWdodHNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubGlnaHRzLGUsdCl9Z2V0TWF0ZXJpYWxCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWF0ZXJpYWxzLGUsdCkuY29uY2F0KHRoaXMuX2dldEJ5VGFncyh0aGlzLm11bHRpTWF0ZXJpYWxzLGUsdCkpfWdldFRyYW5zZm9ybU5vZGVzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLnRyYW5zZm9ybU5vZGVzLGUsdCl9c2V0UmVuZGVyaW5nT3JkZXIoZSx0PW51bGwsaT1udWxsLHM9bnVsbCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdPcmRlcihlLHQsaSxzKX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGkscyl9Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl9Z2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSgpe3JldHVybiB0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc219c2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20hPT1lJiYodGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2MykpfW1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7aWYoIXRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSlmb3IoY29uc3QgaSBvZiB0aGlzLm1hdGVyaWFscyl0JiYhdChpKXx8aS5tYXJrQXNEaXJ0eShlKX1fbG9hZEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1adChlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fbG9hZEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX2xvYWRGaWxlKGUsbz0+e24obyl9LHQsaSxzLChvLGgpPT57YShoKX0scil9KX1fcmVxdWVzdEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1UcyhlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fcmVxdWVzdEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX3JlcXVlc3RGaWxlKGUsbz0+e24obyl9LHQsaSxzLG89PnthKG8pfSxyKX0pfV9yZWFkRmlsZShlLHQsaSxzLHIpe2NvbnN0IG49Q2koZSx0LGkscyxyKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChuKSxuLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChhPT57dGhpcy5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKHRoaXMuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoYSksMSl9KSxufV9yZWFkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9yZWFkRmlsZShlLG49PntzKG4pfSx0LGksbj0+e3Iobil9KX0pfWdldFBlcmZDb2xsZWN0b3IoKXt0aHJvdyBxKCJwZXJmb3JtYW5jZVZpZXdlclNjZW5lRXh0ZW5zaW9uIil9fW5lLkZPR01PREVfTk9ORT0wLG5lLkZPR01PREVfRVhQPTEsbmUuRk9HTU9ERV9FWFAyPTIsbmUuRk9HTU9ERV9MSU5FQVI9MyxuZS5NaW5EZWx0YVRpbWU9MSxuZS5NYXhEZWx0YVRpbWU9MWUzLG5lLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnNldEFjdGl2ZUNhbWVyYUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RNYXRlcmlhbEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWF0ZXJpYWxCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VGV4dHVyZUJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRDYW1lcmFCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRCb25lQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRCb25lQnlJZChjKX0sbmUucHJvdG90eXBlLmdldExpZ2h0QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMaWdodEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMaWdodEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeVVuaXF1ZUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFBhcnRpY2xlU3lzdGVtQnlJZChjKX0sbmUucHJvdG90eXBlLmdldEdlb21ldHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRHZW9tZXRyeUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRNZXNoQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlJZChjKX0sbmUucHJvdG90eXBlLmdldE1lc2hlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaGVzQnlJZChjKX0sbmUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZXNCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TWVzaEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0TWVzaEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1lc2hCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGFzdEVudHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0RW50cnlCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0Tm9kZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0U2tlbGV0b25CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RTa2VsZXRvbkJ5SWQoYyl9O2Z1bmN0aW9uIEFzKGMsZSx0KXt0cnl7Y29uc3QgaT1jLm5leHQoKTtpLmRvbmU/ZShpKTppLnZhbHVlP2kudmFsdWUudGhlbigoKT0+e2kudmFsdWU9dm9pZCAwLGUoaSl9LHQpOmUoaSl9Y2F0Y2goaSl7dChpKX19ZnVuY3Rpb24gRW4oYz0yNSl7bGV0IGU7cmV0dXJuKHQsaSxzKT0+e2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCk7ZT09PXZvaWQgMHx8ci1lPmM/KGU9cixzZXRUaW1lb3V0KCgpPT57QXModCxpLHMpfSwwKSk6QXModCxpLHMpfX1mdW5jdGlvbiBFcihjLGUsdCxpLHMpe2NvbnN0IHI9KCk9PntsZXQgbjtjb25zdCBhPW89PntvLmRvbmU/dChvLnZhbHVlKTpuPT09dm9pZCAwP249ITA6cigpfTtkbyBuPXZvaWQgMCwhc3x8IXMuYWJvcnRlZD9lKGMsYSxpKTppKG5ldyBFcnJvcigiQWJvcnRlZCIpKSxuPT09dm9pZCAwJiYobj0hMSk7d2hpbGUobil9O3IoKX1mdW5jdGlvbiBScyhjLGUpe2xldCB0O3JldHVybiBFcihjLEFzLGk9PnQ9aSxpPT57dGhyb3cgaX0sZSksdH1mdW5jdGlvbiBUbihjLGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57RXIoYyxlLGkscyx0KX0pfWZ1bmN0aW9uIFNuKGMsZSl7cmV0dXJuKC4uLnQpPT5ScyhjKC4uLnQpLGUpfWNsYXNzIGJue2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLl9pc1BhcmVudEVuYWJsZWQ9ITAsdGhpcy5faXNSZWFkeT0hMCx0aGlzLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQ2xvbmVkT2JzZXJ2YWJsZT1uZXcgRn19Y2xhc3MgemV7Y29uc3RydWN0b3IoZSx0PW51bGwpe3RoaXMuX2lzRGlydHk9ITEsdGhpcy5fbm9kZURhdGFTdG9yYWdlPW5ldyBibix0aGlzLnN0YXRlPSIiLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLl9yYW5nZXM9e30sdGhpcy5vblJlYWR5PW51bGwsdGhpcy5fY3VycmVudFJlbmRlcklkPS0xLHRoaXMuX3BhcmVudFVwZGF0ZUlkPS0xLHRoaXMuX2NoaWxkVXBkYXRlSWQ9LTEsdGhpcy5fd2FpdGluZ1BhcmVudElkPW51bGwsdGhpcy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9bnVsbCx0aGlzLl93YWl0aW5nUGFyc2VkVW5pcXVlSWQ9bnVsbCx0aGlzLl9jYWNoZT17fSx0aGlzLl9wYXJlbnROb2RlPW51bGwsdGhpcy5fY2hpbGRyZW49bnVsbCx0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD0wLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMuX2lzTm9kZT0hMCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9iZWhhdmlvcnM9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaWQ9ZSx0aGlzLl9zY2VuZT10fHxkZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9pbml0Q2FjaGUoKX1zdGF0aWMgQWRkTm9kZUNvbnN0cnVjdG9yKGUsdCl7dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXT10fXN0YXRpYyBDb25zdHJ1Y3QoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdO3JldHVybiByP3IodCxpLHMpOm51bGx9Z2V0IGRvTm90U2VyaWFsaXplKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fZG9Ob3RTZXJpYWxpemU/ITA6dGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLmRvTm90U2VyaWFsaXplOiExfXNldCBkb05vdFNlcmlhbGl6ZShlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPWV9aXNEaXNwb3NlZCgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWR9c2V0IHBhcmVudChlKXtpZih0aGlzLl9wYXJlbnROb2RlPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9wYXJlbnROb2RlO2lmKHRoaXMuX3BhcmVudE5vZGUmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuIT09dm9pZCAwJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PW51bGwpe2NvbnN0IGk9dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtpIT09LTEmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLnNwbGljZShpLDEpLCFlJiYhdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkJiZ0aGlzLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCl9dGhpcy5fcGFyZW50Tm9kZT1lLHRoaXMuX3BhcmVudE5vZGUmJigodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49PT12b2lkIDB8fHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09bnVsbCkmJih0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj1uZXcgQXJyYXkpLHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLnB1c2godGhpcyksdHx8dGhpcy5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3BhcmVudE5vZGV9X3NlcmlhbGl6ZUFzUGFyZW50KGUpe2UucGFyZW50SWQ9dGhpcy51bmlxdWVJZH1fYWRkVG9TY2VuZVJvb3ROb2Rlcygpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD09PS0xJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PXRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5sZW5ndGgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnB1c2godGhpcykpfV9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKXtpZih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXghPT0tMSl7Y29uc3QgZT10aGlzLl9zY2VuZS5yb290Tm9kZXMsdD1lLmxlbmd0aC0xO2VbdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4XT1lW3RdLGVbdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4XS5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PXRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleCx0aGlzLl9zY2VuZS5yb290Tm9kZXMucG9wKCksdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xfX1nZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT90aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU6dGhpcy5fc2NlbmUuYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlfXNldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoZSl7dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk5vZGUifXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IG9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlfWdldCBvbkNsb25lZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkNsb25lZE9ic2VydmFibGV9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfWFkZEJlaGF2aW9yKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpIT09LTE/dGhpczooZS5pbml0KCksdGhpcy5fc2NlbmUuaXNMb2FkaW5nJiYhdD90aGlzLl9zY2VuZS5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PntlLmF0dGFjaCh0aGlzKX0pOmUuYXR0YWNoKHRoaXMpLHRoaXMuX2JlaGF2aW9ycy5wdXNoKGUpLHRoaXMpfXJlbW92ZUJlaGF2aW9yKGUpe2NvbnN0IHQ9dGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSk7cmV0dXJuIHQ9PT0tMT90aGlzOih0aGlzLl9iZWhhdmlvcnNbdF0uZGV0YWNoKCksdGhpcy5fYmVoYXZpb3JzLnNwbGljZSh0LDEpLHRoaXMpfWdldCBiZWhhdmlvcnMoKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzfWdldEJlaGF2aW9yQnlOYW1lKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2JlaGF2aW9ycylpZih0Lm5hbWU9PT1lKXJldHVybiB0O3JldHVybiBudWxsfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZCE9PXRoaXMuX3NjZW5lLmdldFJlbmRlcklkKCkmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXh9X2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHkmJih0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PXRoaXMuX3dvcmxkTWF0cml4LmRldGVybWluYW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnR9Z2V0IHdvcmxkTWF0cml4RnJvbUNhY2hlKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV9pbml0Q2FjaGUoKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9jYWNoZS5wYXJlbnQ9dm9pZCAwfXVwZGF0ZUNhY2hlKGUpeyFlJiZ0aGlzLmlzU3luY2hyb25pemVkKCl8fCh0aGlzLl9jYWNoZS5wYXJlbnQ9dGhpcy5wYXJlbnQsdGhpcy5fdXBkYXRlQ2FjaGUoKSl9X2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsdD0hMCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV91cGRhdGVDYWNoZShlKXt9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuITB9X21hcmtTeW5jZWRXaXRoUGFyZW50KCl7dGhpcy5fcGFyZW50Tm9kZSYmKHRoaXMuX3BhcmVudFVwZGF0ZUlkPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQpfWlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuX2lzRGlydHl8fHRoaXMuX3BhcmVudFVwZGF0ZUlkIT09dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZD8hMTp0aGlzLl9wYXJlbnROb2RlLmlzU3luY2hyb25pemVkKCk6ITB9aXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5fY2FjaGUucGFyZW50IT09dGhpcy5fcGFyZW50Tm9kZT8odGhpcy5fY2FjaGUucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsITEpOnRoaXMuX3BhcmVudE5vZGUmJiF0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpPyExOnRoaXMuX2lzU3luY2hyb25pemVkKCl9aXNSZWFkeShlPSExKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5fW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9aXNFbmFibGVkKGU9ITApe3JldHVybiBlPT09ITE/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ6dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ6ITF9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZT0+e2UuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX0pfXNldEVuYWJsZWQoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSl9aXNEZXNjZW5kYW50T2YoZSl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50PT09ZT8hMDp0aGlzLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihlKTohMX1fZ2V0RGVzY2VuZGFudHMoZSx0PSExLGkpe2lmKCEhdGhpcy5fY2hpbGRyZW4pZm9yKGxldCBzPTA7czx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuX2NoaWxkcmVuW3NdOyghaXx8aShyKSkmJmUucHVzaChyKSx0fHxyLl9nZXREZXNjZW5kYW50cyhlLCExLGkpfX1nZXREZXNjZW5kYW50cyhlLHQpe2NvbnN0IGk9bmV3IEFycmF5O3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUsdCksaX1nZXRDaGlsZE1lc2hlcyhlLHQpe2NvbnN0IGk9W107cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKGksZSxzPT4oIXR8fHQocykpJiZzLmN1bGxpbmdTdHJhdGVneSE9PXZvaWQgMCksaX1nZXRDaGlsZHJlbihlLHQ9ITApe3JldHVybiB0aGlzLmdldERlc2NlbmRhbnRzKHQsZSl9X3NldFJlYWR5KGUpe2lmKGUhPT10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHkpe2lmKCFlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITE7cmV0dXJufXRoaXMub25SZWFkeSYmdGhpcy5vblJlYWR5KHRoaXMpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeT0hMH19Z2V0QW5pbWF0aW9uQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hbmltYXRpb25zLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5hbmltYXRpb25zW3RdO2lmKGkubmFtZT09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9Y3JlYXRlQW5pbWF0aW9uUmFuZ2UoZSx0LGkpe2lmKCF0aGlzLl9yYW5nZXNbZV0pe3RoaXMuX3Jhbmdlc1tlXT16ZS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5KGUsdCxpKTtmb3IobGV0IHM9MCxyPXRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7czxyO3MrKyl0aGlzLmFuaW1hdGlvbnNbc10mJnRoaXMuYW5pbWF0aW9uc1tzXS5jcmVhdGVSYW5nZShlLHQsaSl9fWRlbGV0ZUFuaW1hdGlvblJhbmdlKGUsdD0hMCl7Zm9yKGxldCBpPTAscz10aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2k8cztpKyspdGhpcy5hbmltYXRpb25zW2ldJiZ0aGlzLmFuaW1hdGlvbnNbaV0uZGVsZXRlUmFuZ2UoZSx0KTt0aGlzLl9yYW5nZXNbZV09bnVsbH1nZXRBbmltYXRpb25SYW5nZShlKXtyZXR1cm4gdGhpcy5fcmFuZ2VzW2VdfHxudWxsfWdldEFuaW1hdGlvblJhbmdlcygpe2NvbnN0IGU9W107bGV0IHQ7Zm9yKHQgaW4gdGhpcy5fcmFuZ2VzKWUucHVzaCh0aGlzLl9yYW5nZXNbdF0pO3JldHVybiBlfWJlZ2luQW5pbWF0aW9uKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5nZXRBbmltYXRpb25SYW5nZShlKTtyZXR1cm4gcj90aGlzLl9zY2VuZS5iZWdpbkFuaW1hdGlvbih0aGlzLHIuZnJvbSxyLnRvLHQsaSxzKTpudWxsfXNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fcmFuZ2VzKXtjb25zdCBpPXRoaXMuX3Jhbmdlc1t0XTtpZighaSljb250aW51ZTtjb25zdCBzPXt9O3MubmFtZT10LHMuZnJvbT1pLmZyb20scy50bz1pLnRvLGUucHVzaChzKX1yZXR1cm4gZX1jb21wdXRlV29ybGRNYXRyaXgoZSl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH1kaXNwb3NlKGUsdD0hMSl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkPSEwLCFlKXtjb25zdCBpPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApO2Zvcihjb25zdCBzIG9mIGkpcy5kaXNwb3NlKGUsdCl9dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQ9bnVsbDp0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLmNsZWFyKCk7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYmVoYXZpb3JzKWkuZGV0YWNoKCk7dGhpcy5fYmVoYXZpb3JzLmxlbmd0aD0wLHRoaXMubWV0YWRhdGE9bnVsbH1zdGF0aWMgUGFyc2VBbmltYXRpb25SYW5nZXMoZSx0LGkpe2lmKHQucmFuZ2VzKWZvcihsZXQgcz0wO3M8dC5yYW5nZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10LnJhbmdlc1tzXTtlLmNyZWF0ZUFuaW1hdGlvblJhbmdlKHIubmFtZSxyLmZyb20sci50byl9fWdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycyhlPSEwLHQ9bnVsbCl7dGhpcy5nZXRTY2VuZSgpLmluY3JlbWVudFJlbmRlcklkKCksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2xldCBpLHM7Y29uc3Qgcj10aGlzO2lmKHIuZ2V0Qm91bmRpbmdJbmZvJiZyLnN1Yk1lc2hlcyl7Y29uc3Qgbj1yLmdldEJvdW5kaW5nSW5mbygpO2k9bi5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQuY2xvbmUoKSxzPW4uYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLmNsb25lKCl9ZWxzZSBpPW5ldyBnKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxzPW5ldyBnKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtpZihlKXtjb25zdCBuPXRoaXMuZ2V0RGVzY2VuZGFudHMoITEpO2Zvcihjb25zdCBhIG9mIG4pe2NvbnN0IG89YTtpZihvLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdCYmIXQobyl8fCFvLmdldEJvdW5kaW5nSW5mb3x8by5nZXRUb3RhbFZlcnRpY2VzKCk9PT0wKWNvbnRpbnVlO2NvbnN0IGw9by5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveCx1PWwubWluaW11bVdvcmxkLGY9bC5tYXhpbXVtV29ybGQ7Zy5DaGVja0V4dGVuZHModSxpLHMpLGcuQ2hlY2tFeHRlbmRzKGYsaSxzKX19cmV0dXJue21pbjppLG1heDpzfX19emUuX0FuaW1hdGlvblJhbmdlRmFjdG9yeT0oYyxlLHQpPT57dGhyb3cgcSgiQW5pbWF0aW9uUmFuZ2UiKX0semUuX05vZGVDb25zdHJ1Y3RvcnM9e30sUyhbTSgpXSx6ZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksUyhbTSgpXSx6ZS5wcm90b3R5cGUsImlkIix2b2lkIDApLFMoW00oKV0semUucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxTKFtNKCldLHplLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksUyhbTSgpXSx6ZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApO2NsYXNzIFF7Y29uc3RydWN0b3IoKXt0aGlzLl9hcHBseVRvPVNuKHRoaXMuX2FwcGx5VG9Db3JvdXRpbmUuYmluZCh0aGlzKSl9c2V0KGUsdCl7c3dpdGNoKGUubGVuZ3RofHx3Lldhcm4oYFNldHRpbmcgdmVydGV4IGRhdGEga2luZCAnJHt0fScgd2l0aCBhbiBlbXB0eSBhcnJheWApLHQpe2Nhc2UgcC5Qb3NpdGlvbktpbmQ6dGhpcy5wb3NpdGlvbnM9ZTticmVhaztjYXNlIHAuTm9ybWFsS2luZDp0aGlzLm5vcm1hbHM9ZTticmVhaztjYXNlIHAuVGFuZ2VudEtpbmQ6dGhpcy50YW5nZW50cz1lO2JyZWFrO2Nhc2UgcC5VVktpbmQ6dGhpcy51dnM9ZTticmVhaztjYXNlIHAuVVYyS2luZDp0aGlzLnV2czI9ZTticmVhaztjYXNlIHAuVVYzS2luZDp0aGlzLnV2czM9ZTticmVhaztjYXNlIHAuVVY0S2luZDp0aGlzLnV2czQ9ZTticmVhaztjYXNlIHAuVVY1S2luZDp0aGlzLnV2czU9ZTticmVhaztjYXNlIHAuVVY2S2luZDp0aGlzLnV2czY9ZTticmVhaztjYXNlIHAuQ29sb3JLaW5kOnRoaXMuY29sb3JzPWU7YnJlYWs7Y2FzZSBwLk1hdHJpY2VzSW5kaWNlc0tpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXM9ZTticmVhaztjYXNlIHAuTWF0cmljZXNXZWlnaHRzS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lO2JyZWFrO2Nhc2UgcC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lO2JyZWFrO2Nhc2UgcC5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lO2JyZWFrfX1hcHBseVRvTWVzaChlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc31hcHBseVRvR2VvbWV0cnkoZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9dXBkYXRlTWVzaChlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9dXBkYXRlR2VvbWV0cnkoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfSpfYXBwbHlUb0Nvcm91dGluZShlLHQ9ITEsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCksaSYmKHlpZWxkKSksdGhpcy5ub3JtYWxzJiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0KSxpJiYoeWllbGQpKSx0aGlzLnRhbmdlbnRzJiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzJiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5VVktpbmQsdGhpcy51dnMsdCksaSYmKHlpZWxkKSksdGhpcy51dnMyJiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5VVjJLaW5kLHRoaXMudXZzMix0KSxpJiYoeWllbGQpKSx0aGlzLnV2czMmJihlLnNldFZlcnRpY2VzRGF0YShwLlVWM0tpbmQsdGhpcy51dnMzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNCYmKGUuc2V0VmVydGljZXNEYXRhKHAuVVY0S2luZCx0aGlzLnV2czQsdCksaSYmKHlpZWxkKSksdGhpcy51dnM1JiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5VVjVLaW5kLHRoaXMudXZzNSx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czYmJihlLnNldFZlcnRpY2VzRGF0YShwLlVWNktpbmQsdGhpcy51dnM2LHQpLGkmJih5aWVsZCkpLHRoaXMuY29sb3JzJiYoZS5zZXRWZXJ0aWNlc0RhdGEocC5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5pbmRpY2VzPyhlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwsdCksaSYmKHlpZWxkKSk6ZS5zZXRJbmRpY2VzKFtdLG51bGwpLHRoaXN9X3VwZGF0ZShlLHQsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyx0LGkpLHRoaXMubm9ybWFscyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0LGkpLHRoaXMudGFuZ2VudHMmJmUudXBkYXRlVmVydGljZXNEYXRhKHAuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyx0LGkpLHRoaXMudXZzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShwLlVWS2luZCx0aGlzLnV2cyx0LGkpLHRoaXMudXZzMiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5VVjJLaW5kLHRoaXMudXZzMix0LGkpLHRoaXMudXZzMyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5VVjNLaW5kLHRoaXMudXZzMyx0LGkpLHRoaXMudXZzNCYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5VVjRLaW5kLHRoaXMudXZzNCx0LGkpLHRoaXMudXZzNSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5VVjVLaW5kLHRoaXMudXZzNSx0LGkpLHRoaXMudXZzNiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5VVjZLaW5kLHRoaXMudXZzNix0LGkpLHRoaXMuY29sb3JzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShwLkNvbG9yS2luZCx0aGlzLmNvbG9ycyx0LGkpLHRoaXMubWF0cmljZXNJbmRpY2VzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCxpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQsaSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSx0LGkpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCxpKSx0aGlzLmluZGljZXMmJmUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCksdGhpc31zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9UC5WZWN0b3IzWzBdLG49UC5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpZy5Gcm9tQXJyYXlUb1JlZihlLGEsciksZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnp9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9UC5WZWN0b3IzWzBdLG49UC5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpZy5Gcm9tQXJyYXlUb1JlZihlLGEsciksZy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56fXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMoZSx0LGk9MCxzPWUubGVuZ3RoKXtjb25zdCByPVAuVmVjdG9yNFswXSxuPVAuVmVjdG9yNFsxXTtmb3IobGV0IGE9aTthPGkrczthKz00KUVlLkZyb21BcnJheVRvUmVmKGUsYSxyKSxFZS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56LGVbYSszXT1uLnd9c3RhdGljIF9GbGlwRmFjZXMoZSx0PTAsaT1lLmxlbmd0aCl7Zm9yKGxldCBzPXQ7czx0K2k7cys9Myl7Y29uc3Qgcj1lW3MrMV07ZVtzKzFdPWVbcysyXSxlW3MrMl09cn19dHJhbnNmb3JtKGUpe2NvbnN0IHQ9ZS5kZXRlcm1pbmFudCgpPDA7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZRLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXModGhpcy5wb3NpdGlvbnMsZSksdGhpcy5ub3JtYWxzJiZRLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyh0aGlzLm5vcm1hbHMsZSksdGhpcy50YW5nZW50cyYmUS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHModGhpcy50YW5nZW50cyxlKSx0JiZ0aGlzLmluZGljZXMmJlEuX0ZsaXBGYWNlcyh0aGlzLmluZGljZXMpLHRoaXN9bWVyZ2UoZSx0PSExLGk9ITEpe2NvbnN0IHM9QXJyYXkuaXNBcnJheShlKT9lLm1hcChyPT5bcix2b2lkIDBdKTpbW2Usdm9pZCAwXV07cmV0dXJuIFJzKHRoaXMuX21lcmdlQ29yb3V0aW5lKHZvaWQgMCxzLHQsITEsaSkpfSpfbWVyZ2VDb3JvdXRpbmUoZSx0LGk9ITEscyxyKXt2YXIgbCx1LGYsZDt0aGlzLl92YWxpZGF0ZSgpO2NvbnN0IG49dC5tYXAoXz0+X1swXSk7Zm9yKGNvbnN0IF8gb2YgbilpZihfLl92YWxpZGF0ZSgpLCF0aGlzLm5vcm1hbHMhPSFfLm5vcm1hbHN8fCF0aGlzLnRhbmdlbnRzIT0hXy50YW5nZW50c3x8IXRoaXMudXZzIT0hXy51dnN8fCF0aGlzLnV2czIhPSFfLnV2czJ8fCF0aGlzLnV2czMhPSFfLnV2czN8fCF0aGlzLnV2czQhPSFfLnV2czR8fCF0aGlzLnV2czUhPSFfLnV2czV8fCF0aGlzLnV2czYhPSFfLnV2czZ8fCF0aGlzLmNvbG9ycyE9IV8uY29sb3JzfHwhdGhpcy5tYXRyaWNlc0luZGljZXMhPSFfLm1hdHJpY2VzSW5kaWNlc3x8IXRoaXMubWF0cmljZXNXZWlnaHRzIT0hXy5tYXRyaWNlc1dlaWdodHN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhIT0hXy5tYXRyaWNlc0luZGljZXNFeHRyYXx8IXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEhPSFfLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG1lcmdlIHZlcnRleCBkYXRhIHRoYXQgZG8gbm90IGhhdmUgdGhlIHNhbWUgc2V0IG9mIGF0dHJpYnV0ZXMiKTtjb25zdCBhPW4ucmVkdWNlKChfLEUpPT57dmFyIG0sVDtyZXR1cm4gXysoKFQ9KG09RS5pbmRpY2VzKT09bnVsbD92b2lkIDA6bS5sZW5ndGgpIT1udWxsP1Q6MCl9LCh1PShsPXRoaXMuaW5kaWNlcyk9PW51bGw/dm9pZCAwOmwubGVuZ3RoKSE9bnVsbD91OjApO2xldCBoPXJ8fG4uc29tZShfPT5fLmluZGljZXM9PT10aGlzLmluZGljZXMpPyhmPXRoaXMuaW5kaWNlcyk9PW51bGw/dm9pZCAwOmYuc2xpY2UoKTp0aGlzLmluZGljZXM7aWYoYT4wKXtsZXQgXz0oZD1oPT1udWxsP3ZvaWQgMDpoLmxlbmd0aCkhPW51bGw/ZDowO2lmKGh8fChoPW5ldyBBcnJheShhKSksaC5sZW5ndGghPT1hKXtpZihBcnJheS5pc0FycmF5KGgpKWgubGVuZ3RoPWE7ZWxzZXtjb25zdCBtPWl8fGggaW5zdGFuY2VvZiBVaW50MzJBcnJheT9uZXcgVWludDMyQXJyYXkoYSk6bmV3IFVpbnQxNkFycmF5KGEpO20uc2V0KGgpLGg9bX1lJiZlLmRldGVybWluYW50KCk8MCYmUS5fRmxpcEZhY2VzKGgsMCxfKX1sZXQgRT10aGlzLnBvc2l0aW9ucz90aGlzLnBvc2l0aW9ucy5sZW5ndGgvMzowO2Zvcihjb25zdFttLFRdb2YgdClpZihtLmluZGljZXMpe2ZvcihsZXQgYj0wO2I8bS5pbmRpY2VzLmxlbmd0aDtiKyspaFtfK2JdPW0uaW5kaWNlc1tiXStFO1QmJlQuZGV0ZXJtaW5hbnQoKTwwJiZRLl9GbGlwRmFjZXMoaCxfLG0uaW5kaWNlcy5sZW5ndGgpLEUrPW0ucG9zaXRpb25zLmxlbmd0aC8zLF8rPW0uaW5kaWNlcy5sZW5ndGgscyYmKHlpZWxkKX19cmV0dXJuIHRoaXMuaW5kaWNlcz1oLHRoaXMucG9zaXRpb25zPVEuX01lcmdlRWxlbWVudChwLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyxlLHQubWFwKF89PltfWzBdLnBvc2l0aW9ucyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5ub3JtYWxzPVEuX01lcmdlRWxlbWVudChwLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLGUsdC5tYXAoXz0+W19bMF0ubm9ybWFscyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy50YW5nZW50cz1RLl9NZXJnZUVsZW1lbnQocC5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLGUsdC5tYXAoXz0+W19bMF0udGFuZ2VudHMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzPVEuX01lcmdlRWxlbWVudChwLlVWS2luZCx0aGlzLnV2cyxlLHQubWFwKF89PltfWzBdLnV2cyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnMyPVEuX01lcmdlRWxlbWVudChwLlVWMktpbmQsdGhpcy51dnMyLGUsdC5tYXAoXz0+W19bMF0udXZzMixfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnMzPVEuX01lcmdlRWxlbWVudChwLlVWM0tpbmQsdGhpcy51dnMzLGUsdC5tYXAoXz0+W19bMF0udXZzMyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM0PVEuX01lcmdlRWxlbWVudChwLlVWNEtpbmQsdGhpcy51dnM0LGUsdC5tYXAoXz0+W19bMF0udXZzNCxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM1PVEuX01lcmdlRWxlbWVudChwLlVWNUtpbmQsdGhpcy51dnM1LGUsdC5tYXAoXz0+W19bMF0udXZzNSxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM2PVEuX01lcmdlRWxlbWVudChwLlVWNktpbmQsdGhpcy51dnM2LGUsdC5tYXAoXz0+W19bMF0udXZzNixfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5jb2xvcnM9US5fTWVyZ2VFbGVtZW50KHAuQ29sb3JLaW5kLHRoaXMuY29sb3JzLGUsdC5tYXAoXz0+W19bMF0uY29sb3JzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlcz1RLl9NZXJnZUVsZW1lbnQocC5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNJbmRpY2VzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cz1RLl9NZXJnZUVsZW1lbnQocC5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNXZWlnaHRzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPVEuX01lcmdlRWxlbWVudChwLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNJbmRpY2VzRXh0cmEsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9US5fTWVyZ2VFbGVtZW50KHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsZSx0Lm1hcChfPT5bX1swXS5tYXRyaWNlc1dlaWdodHNFeHRyYSxfWzFdXSkpLHRoaXN9c3RhdGljIF9NZXJnZUVsZW1lbnQoZSx0LGkscyl7Y29uc3Qgcj1zLmZpbHRlcihvPT5vWzBdIT09bnVsbCYmb1swXSE9PXZvaWQgMCk7aWYoIXQmJnIubGVuZ3RoPT0wKXJldHVybiB0O2lmKCF0KXJldHVybiB0aGlzLl9NZXJnZUVsZW1lbnQoZSxyWzBdWzBdLHJbMF1bMV0sci5zbGljZSgxKSk7Y29uc3Qgbj1yLnJlZHVjZSgobyxoKT0+bytoWzBdLmxlbmd0aCx0Lmxlbmd0aCksYT1lPT09cC5Qb3NpdGlvbktpbmQ/US5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzOmU9PT1wLk5vcm1hbEtpbmQ/US5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM6ZT09PXAuVGFuZ2VudEtpbmQ/US5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHM6KCk9Pnt9O2lmKHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2NvbnN0IG89bmV3IEZsb2F0MzJBcnJheShuKTtvLnNldCh0KSxpJiZhKG8saSwwLHQubGVuZ3RoKTtsZXQgaD10Lmxlbmd0aDtmb3IoY29uc3RbbCx1XW9mIHIpby5zZXQobCxoKSx1JiZhKG8sdSxoLGwubGVuZ3RoKSxoKz1sLmxlbmd0aDtyZXR1cm4gb31lbHNle2NvbnN0IG89bmV3IEFycmF5KG4pO2ZvcihsZXQgbD0wO2w8dC5sZW5ndGg7bCsrKW9bbF09dFtsXTtpJiZhKG8saSwwLHQubGVuZ3RoKTtsZXQgaD10Lmxlbmd0aDtmb3IoY29uc3RbbCx1XW9mIHIpe2ZvcihsZXQgZj0wO2Y8bC5sZW5ndGg7ZisrKW9baCtmXT1sW2ZdO3UmJmEobyx1LGgsbC5sZW5ndGgpLGgrPWwubGVuZ3RofXJldHVybiBvfX1fdmFsaWRhdGUoKXtpZighdGhpcy5wb3NpdGlvbnMpdGhyb3cgbmV3IEx0KCJQb3NpdGlvbnMgYXJlIHJlcXVpcmVkIixyaS5NZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yKTtjb25zdCBlPShzLHIpPT57Y29uc3Qgbj1wLkRlZHVjZVN0cmlkZShzKTtpZihyLmxlbmd0aCVuIT09MCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK3MrInMgYXJyYXkgY291bnQgbXVzdCBiZSBhIG11bHRpcGxlIG9mICIrbik7cmV0dXJuIHIubGVuZ3RoL259LHQ9ZShwLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyksaT0ocyxyKT0+e2NvbnN0IG49ZShzLHIpO2lmKG4hPT10KXRocm93IG5ldyBFcnJvcigiVGhlICIrcysicyBlbGVtZW50IGNvdW50ICgiK24rIikgZG9lcyBub3QgbWF0Y2ggdGhlIHBvc2l0aW9ucyBjb3VudCAoIit0KyIpIil9O3RoaXMubm9ybWFscyYmaShwLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzKSx0aGlzLnRhbmdlbnRzJiZpKHAuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyksdGhpcy51dnMmJmkocC5VVktpbmQsdGhpcy51dnMpLHRoaXMudXZzMiYmaShwLlVWMktpbmQsdGhpcy51dnMyKSx0aGlzLnV2czMmJmkocC5VVjNLaW5kLHRoaXMudXZzMyksdGhpcy51dnM0JiZpKHAuVVY0S2luZCx0aGlzLnV2czQpLHRoaXMudXZzNSYmaShwLlVWNUtpbmQsdGhpcy51dnM1KSx0aGlzLnV2czYmJmkocC5VVjZLaW5kLHRoaXMudXZzNiksdGhpcy5jb2xvcnMmJmkocC5Db2xvcktpbmQsdGhpcy5jb2xvcnMpLHRoaXMubWF0cmljZXNJbmRpY2VzJiZpKHAuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyksdGhpcy5tYXRyaWNlc1dlaWdodHMmJmkocC5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiZpKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJmkocC5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSl9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJihlLnBvc2l0aW9ucz10aGlzLnBvc2l0aW9ucyksdGhpcy5ub3JtYWxzJiYoZS5ub3JtYWxzPXRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmKGUudGFuZ2VudHM9dGhpcy50YW5nZW50cyksdGhpcy51dnMmJihlLnV2cz10aGlzLnV2cyksdGhpcy51dnMyJiYoZS51dnMyPXRoaXMudXZzMiksdGhpcy51dnMzJiYoZS51dnMzPXRoaXMudXZzMyksdGhpcy51dnM0JiYoZS51dnM0PXRoaXMudXZzNCksdGhpcy51dnM1JiYoZS51dnM1PXRoaXMudXZzNSksdGhpcy51dnM2JiYoZS51dnM2PXRoaXMudXZzNiksdGhpcy5jb2xvcnMmJihlLmNvbG9ycz10aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLm1hdHJpY2VzSW5kaWNlcyxlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUubWF0cmljZXNJbmRpY2VzRXh0cmE9dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT10aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKSxlLmluZGljZXM9dGhpcy5pbmRpY2VzLGV9c3RhdGljIEV4dHJhY3RGcm9tTWVzaChlLHQsaSl7cmV0dXJuIFEuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgRXh0cmFjdEZyb21HZW9tZXRyeShlLHQsaSl7cmV0dXJuIFEuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgX0V4dHJhY3RGcm9tKGUsdCxpKXtjb25zdCBzPW5ldyBRO3JldHVybiBlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlBvc2l0aW9uS2luZCkmJihzLnBvc2l0aW9ucz1lLmdldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk5vcm1hbEtpbmQpJiYocy5ub3JtYWxzPWUuZ2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlRhbmdlbnRLaW5kKSYmKHMudGFuZ2VudHM9ZS5nZXRWZXJ0aWNlc0RhdGEocC5UYW5nZW50S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWS2luZCkmJihzLnV2cz1lLmdldFZlcnRpY2VzRGF0YShwLlVWS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWMktpbmQpJiYocy51dnMyPWUuZ2V0VmVydGljZXNEYXRhKHAuVVYyS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWM0tpbmQpJiYocy51dnMzPWUuZ2V0VmVydGljZXNEYXRhKHAuVVYzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWNEtpbmQpJiYocy51dnM0PWUuZ2V0VmVydGljZXNEYXRhKHAuVVY0S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWNUtpbmQpJiYocy51dnM1PWUuZ2V0VmVydGljZXNEYXRhKHAuVVY1S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWNktpbmQpJiYocy51dnM2PWUuZ2V0VmVydGljZXNEYXRhKHAuVVY2S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLkNvbG9yS2luZCkmJihzLmNvbG9ycz1lLmdldFZlcnRpY2VzRGF0YShwLkNvbG9yS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYocy5tYXRyaWNlc0luZGljZXM9ZS5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTWF0cmljZXNXZWlnaHRzS2luZCkmJihzLm1hdHJpY2VzV2VpZ2h0cz1lLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpJiYocy5tYXRyaWNlc0luZGljZXNFeHRyYT1lLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkmJihzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHQsaSkpLHMuaW5kaWNlcz1lLmdldEluZGljZXModCxpKSxzfXN0YXRpYyBDcmVhdGVSaWJib24oZSl7dGhyb3cgcSgicmliYm9uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVCb3goZSl7dGhyb3cgcSgiYm94QnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZEJveChlKXt0aHJvdyBxKCJ0aWxlZEJveEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVGlsZWRQbGFuZShlKXt0aHJvdyBxKCJ0aWxlZFBsYW5lQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVTcGhlcmUoZSl7dGhyb3cgcSgic3BoZXJlQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVDeWxpbmRlcihlKXt0aHJvdyBxKCJjeWxpbmRlckJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVG9ydXMoZSl7dGhyb3cgcSgidG9ydXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZUxpbmVTeXN0ZW0oZSl7dGhyb3cgcSgibGluZXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZURhc2hlZExpbmVzKGUpe3Rocm93IHEoImxpbmVzQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVHcm91bmQoZSl7dGhyb3cgcSgiZ3JvdW5kQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZEdyb3VuZChlKXt0aHJvdyBxKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXAoZSl7dGhyb3cgcSgiZ3JvdW5kQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVQbGFuZShlKXt0aHJvdyBxKCJwbGFuZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlRGlzYyhlKXt0aHJvdyBxKCJkaXNjQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVQb2x5Z29uKGUsdCxpLHMscixuLGEpe3Rocm93IHEoInBvbHlnb25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUljb1NwaGVyZShlKXt0aHJvdyBxKCJpY29TcGhlcmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBvbHloZWRyb24oZSl7dGhyb3cgcSgicG9seWhlZHJvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlQ2Fwc3VsZShlPXtvcmllbnRhdGlvbjpnLlVwKCksc3ViZGl2aXNpb25zOjIsdGVzc2VsbGF0aW9uOjE2LGhlaWdodDoxLHJhZGl1czouMjUsY2FwU3ViZGl2aXNpb25zOjZ9KXt0aHJvdyBxKCJjYXBzdWxlQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUb3J1c0tub3QoZSl7dGhyb3cgcSgidG9ydXNLbm90QnVpbGRlciIpfXN0YXRpYyBDb21wdXRlTm9ybWFscyhlLHQsaSxzKXtsZXQgcj0wLG49MCxhPTAsbz0wLGg9MCxsPTAsdT0wLGY9MCxkPTAsXz0wLEU9MCxtPTAsVD0wLGI9MCxSPTAseT0wLEQ9MCx2PTAsQT0wLEw9MCxKPSExLGhlPSExLHhlPSExLGZlPSExLHVlPTEsc2U9MCxQZT1udWxsO3MmJihKPSEhcy5mYWNldE5vcm1hbHMsaGU9ISFzLmZhY2V0UG9zaXRpb25zLHhlPSEhcy5mYWNldFBhcnRpdGlvbmluZyx1ZT1zLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09ITA/LTE6MSxzZT1zLnJhdGlvfHwwLGZlPSEhcy5kZXB0aFNvcnQsUGU9cy5kaXN0YW5jZVRvLGZlJiZQZT09PXZvaWQgMCYmKFBlPWcuWmVybygpKSk7bGV0IERlPTAsWmU9MCxIZT0wLEtlPTA7Zm9yKHhlJiZzJiZzLmJiU2l6ZSYmKERlPXMuc3ViRGl2Llgqc2Uvcy5iYlNpemUueCxaZT1zLnN1YkRpdi5ZKnNlL3MuYmJTaXplLnksSGU9cy5zdWJEaXYuWipzZS9zLmJiU2l6ZS56LEtlPXMuc3ViRGl2Lm1heCpzLnN1YkRpdi5tYXgscy5mYWNldFBhcnRpdGlvbmluZy5sZW5ndGg9MCkscj0wO3I8ZS5sZW5ndGg7cisrKWlbcl09MDtjb25zdCBndD10Lmxlbmd0aC8zfDA7Zm9yKHI9MDtyPGd0O3IrKyl7aWYobT10W3IqM10qMyxUPW0rMSxiPW0rMixSPXRbciozKzFdKjMseT1SKzEsRD1SKzIsdj10W3IqMysyXSozLEE9disxLEw9disyLG49ZVttXS1lW1JdLGE9ZVtUXS1lW3ldLG89ZVtiXS1lW0RdLGg9ZVt2XS1lW1JdLGw9ZVtBXS1lW3ldLHU9ZVtMXS1lW0RdLGY9dWUqKGEqdS1vKmwpLGQ9dWUqKG8qaC1uKnUpLF89dWUqKG4qbC1hKmgpLEU9TWF0aC5zcXJ0KGYqZitkKmQrXypfKSxFPUU9PT0wPzE6RSxmLz1FLGQvPUUsXy89RSxKJiZzJiYocy5mYWNldE5vcm1hbHNbcl0ueD1mLHMuZmFjZXROb3JtYWxzW3JdLnk9ZCxzLmZhY2V0Tm9ybWFsc1tyXS56PV8pLGhlJiZzJiYocy5mYWNldFBvc2l0aW9uc1tyXS54PShlW21dK2VbUl0rZVt2XSkvMyxzLmZhY2V0UG9zaXRpb25zW3JdLnk9KGVbVF0rZVt5XStlW0FdKS8zLHMuZmFjZXRQb3NpdGlvbnNbcl0uej0oZVtiXStlW0RdK2VbTF0pLzMpLHhlJiZzKXtjb25zdCBvdD1NYXRoLmZsb29yKChzLmZhY2V0UG9zaXRpb25zW3JdLngtcy5iSW5mby5taW5pbXVtLngqc2UpKkRlKSxGdD1NYXRoLmZsb29yKChzLmZhY2V0UG9zaXRpb25zW3JdLnktcy5iSW5mby5taW5pbXVtLnkqc2UpKlplKSx0aT1NYXRoLmZsb29yKChzLmZhY2V0UG9zaXRpb25zW3JdLnotcy5iSW5mby5taW5pbXVtLnoqc2UpKkhlKSxocz1NYXRoLmZsb29yKChlW21dLXMuYkluZm8ubWluaW11bS54KnNlKSpEZSksbHM9TWF0aC5mbG9vcigoZVtUXS1zLmJJbmZvLm1pbmltdW0ueSpzZSkqWmUpLGNzPU1hdGguZmxvb3IoKGVbYl0tcy5iSW5mby5taW5pbXVtLnoqc2UpKkhlKSxVcz1NYXRoLmZsb29yKChlW1JdLXMuYkluZm8ubWluaW11bS54KnNlKSpEZSksa3M9TWF0aC5mbG9vcigoZVt5XS1zLmJJbmZvLm1pbmltdW0ueSpzZSkqWmUpLFZzPU1hdGguZmxvb3IoKGVbRF0tcy5iSW5mby5taW5pbXVtLnoqc2UpKkhlKSxXcz1NYXRoLmZsb29yKChlW3ZdLXMuYkluZm8ubWluaW11bS54KnNlKSpEZSksenM9TWF0aC5mbG9vcigoZVtBXS1zLmJJbmZvLm1pbmltdW0ueSpzZSkqWmUpLEdzPU1hdGguZmxvb3IoKGVbTF0tcy5iSW5mby5taW5pbXVtLnoqc2UpKkhlKSxHdD1ocytzLnN1YkRpdi5tYXgqbHMrS2UqY3MsWHQ9VXMrcy5zdWJEaXYubWF4KmtzK0tlKlZzLEh0PVdzK3Muc3ViRGl2Lm1heCp6cytLZSpHcyxLdD1vdCtzLnN1YkRpdi5tYXgqRnQrS2UqdGk7cy5mYWNldFBhcnRpdGlvbmluZ1tLdF09cy5mYWNldFBhcnRpdGlvbmluZ1tLdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tLdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbR3RdPXMuZmFjZXRQYXJ0aXRpb25pbmdbR3RdP3MuZmFjZXRQYXJ0aXRpb25pbmdbR3RdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW1h0XT1zLmZhY2V0UGFydGl0aW9uaW5nW1h0XT9zLmZhY2V0UGFydGl0aW9uaW5nW1h0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tIdF09cy5mYWNldFBhcnRpdGlvbmluZ1tIdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tIdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbR3RdLnB1c2gociksWHQhPUd0JiZzLmZhY2V0UGFydGl0aW9uaW5nW1h0XS5wdXNoKHIpLEh0PT1YdHx8SHQ9PUd0fHxzLmZhY2V0UGFydGl0aW9uaW5nW0h0XS5wdXNoKHIpLEt0PT1HdHx8S3Q9PVh0fHxLdD09SHR8fHMuZmFjZXRQYXJ0aXRpb25pbmdbS3RdLnB1c2gocil9aWYoZmUmJnMmJnMuZmFjZXRQb3NpdGlvbnMpe2NvbnN0IG90PXMuZGVwdGhTb3J0ZWRGYWNldHNbcl07b3QuaW5kPXIqMyxvdC5zcURpc3RhbmNlPWcuRGlzdGFuY2VTcXVhcmVkKHMuZmFjZXRQb3NpdGlvbnNbcl0sUGUpfWlbbV0rPWYsaVtUXSs9ZCxpW2JdKz1fLGlbUl0rPWYsaVt5XSs9ZCxpW0RdKz1fLGlbdl0rPWYsaVtBXSs9ZCxpW0xdKz1ffWZvcihyPTA7cjxpLmxlbmd0aC8zO3IrKylmPWlbciozXSxkPWlbciozKzFdLF89aVtyKjMrMl0sRT1NYXRoLnNxcnQoZipmK2QqZCtfKl8pLEU9RT09PTA/MTpFLGYvPUUsZC89RSxfLz1FLGlbciozXT1mLGlbciozKzFdPWQsaVtyKjMrMl09X31zdGF0aWMgX0NvbXB1dGVTaWRlcyhlLHQsaSxzLHIsbixhKXtjb25zdCBvPWkubGVuZ3RoLGg9cy5sZW5ndGg7bGV0IGwsdTtzd2l0Y2goZT1lfHxRLkRFRkFVTFRTSURFLGUpe2Nhc2UgUS5GUk9OVFNJREU6YnJlYWs7Y2FzZSBRLkJBQ0tTSURFOmZvcihsPTA7bDxvO2wrPTMpe2NvbnN0IGY9aVtsXTtpW2xdPWlbbCsyXSxpW2wrMl09Zn1mb3IodT0wO3U8aDt1Kyspc1t1XT0tc1t1XTticmVhaztjYXNlIFEuRE9VQkxFU0lERTp7Y29uc3QgZj10Lmxlbmd0aCxkPWYvMztmb3IobGV0IG09MDttPGY7bSsrKXRbZittXT10W21dO2ZvcihsPTA7bDxvO2wrPTMpaVtsK29dPWlbbCsyXStkLGlbbCsxK29dPWlbbCsxXStkLGlbbCsyK29dPWlbbF0rZDtmb3IodT0wO3U8aDt1Kyspc1toK3VdPS1zW3VdO2NvbnN0IF89ci5sZW5ndGg7bGV0IEU9MDtmb3IoRT0wO0U8XztFKyspcltFK19dPXJbRV07Zm9yKG49bnx8bmV3IEVlKDAsMCwxLDEpLGE9YXx8bmV3IEVlKDAsMCwxLDEpLEU9MCxsPTA7bDxfLzI7bCsrKXJbRV09bi54KyhuLnotbi54KSpyW0VdLHJbRSsxXT1uLnkrKG4udy1uLnkpKnJbRSsxXSxyW0UrX109YS54KyhhLnotYS54KSpyW0UrX10scltFK18rMV09YS55KyhhLnctYS55KSpyW0UrXysxXSxFKz0yO2JyZWFrfX19c3RhdGljIEltcG9ydFZlcnRleERhdGEoZSx0KXtjb25zdCBpPW5ldyBRLHM9ZS5wb3NpdGlvbnM7cyYmaS5zZXQocyxwLlBvc2l0aW9uS2luZCk7Y29uc3Qgcj1lLm5vcm1hbHM7ciYmaS5zZXQocixwLk5vcm1hbEtpbmQpO2NvbnN0IG49ZS50YW5nZW50cztuJiZpLnNldChuLHAuVGFuZ2VudEtpbmQpO2NvbnN0IGE9ZS51dnM7YSYmaS5zZXQoYSxwLlVWS2luZCk7Y29uc3Qgbz1lLnV2MnM7byYmaS5zZXQobyxwLlVWMktpbmQpO2NvbnN0IGg9ZS51djNzO2gmJmkuc2V0KGgscC5VVjNLaW5kKTtjb25zdCBsPWUudXY0cztsJiZpLnNldChsLHAuVVY0S2luZCk7Y29uc3QgdT1lLnV2NXM7dSYmaS5zZXQodSxwLlVWNUtpbmQpO2NvbnN0IGY9ZS51djZzO2YmJmkuc2V0KGYscC5VVjZLaW5kKTtjb25zdCBkPWUuY29sb3JzO2QmJmkuc2V0KGdlLkNoZWNrQ29sb3JzNChkLHMubGVuZ3RoLzMpLHAuQ29sb3JLaW5kKTtjb25zdCBfPWUubWF0cmljZXNJbmRpY2VzO18mJmkuc2V0KF8scC5NYXRyaWNlc0luZGljZXNLaW5kKTtjb25zdCBFPWUubWF0cmljZXNXZWlnaHRzO0UmJmkuc2V0KEUscC5NYXRyaWNlc1dlaWdodHNLaW5kKTtjb25zdCBtPWUuaW5kaWNlczttJiYoaS5pbmRpY2VzPW0pLHQuc2V0QWxsVmVydGljZXNEYXRhKGksZS51cGRhdGFibGUpfX1RLkZST05UU0lERT0wLFEuQkFDS1NJREU9MSxRLkRPVUJMRVNJREU9MixRLkRFRkFVTFRTSURFPTAsUyhbcXQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLFEsIl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXMiLG51bGwpLFMoW3F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxRLCJfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMiLG51bGwpLFMoW3F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxRLCJfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMiLG51bGwpLFMoW3F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxRLCJfRmxpcEZhY2VzIixudWxsKTtjbGFzcyB5c3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5idT1lLHRoaXMuYnY9dCx0aGlzLmRpc3RhbmNlPWksdGhpcy5mYWNlSWQ9MCx0aGlzLnN1Yk1lc2hJZD0wfX1jbGFzcyBCdHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy52ZWN0b3JzPUFlLkJ1aWxkQXJyYXkoOCxnLlplcm8pLHRoaXMuY2VudGVyPWcuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9Zy5aZXJvKCksdGhpcy5leHRlbmRTaXplPWcuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZVdvcmxkPWcuWmVybygpLHRoaXMuZGlyZWN0aW9ucz1BZS5CdWlsZEFycmF5KDMsZy5aZXJvKSx0aGlzLnZlY3RvcnNXb3JsZD1BZS5CdWlsZEFycmF5KDgsZy5aZXJvKSx0aGlzLm1pbmltdW1Xb3JsZD1nLlplcm8oKSx0aGlzLm1heGltdW1Xb3JsZD1nLlplcm8oKSx0aGlzLm1pbmltdW09Zy5aZXJvKCksdGhpcy5tYXhpbXVtPWcuWmVybygpLHRoaXMuX2RyYXdXcmFwcGVyRnJvbnQ9bnVsbCx0aGlzLl9kcmF3V3JhcHBlckJhY2s9bnVsbCx0aGlzLnJlQ29uc3RydWN0KGUsdCxpKX1yZUNvbnN0cnVjdChlLHQsaSl7Y29uc3Qgcz1lLngscj1lLnksbj1lLnosYT10Lngsbz10LnksaD10LnosbD10aGlzLnZlY3RvcnM7dGhpcy5taW5pbXVtLmNvcHlGcm9tRmxvYXRzKHMscixuKSx0aGlzLm1heGltdW0uY29weUZyb21GbG9hdHMoYSxvLGgpLGxbMF0uY29weUZyb21GbG9hdHMocyxyLG4pLGxbMV0uY29weUZyb21GbG9hdHMoYSxvLGgpLGxbMl0uY29weUZyb21GbG9hdHMoYSxyLG4pLGxbM10uY29weUZyb21GbG9hdHMocyxvLG4pLGxbNF0uY29weUZyb21GbG9hdHMocyxyLGgpLGxbNV0uY29weUZyb21GbG9hdHMoYSxvLG4pLGxbNl0uY29weUZyb21GbG9hdHMocyxvLGgpLGxbN10uY29weUZyb21GbG9hdHMoYSxyLGgpLHQuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0LnN1YnRyYWN0VG9SZWYoZSx0aGlzLmV4dGVuZFNpemUpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5fd29ybGRNYXRyaXg9aXx8eC5JZGVudGl0eVJlYWRPbmx5LHRoaXMuX3VwZGF0ZSh0aGlzLl93b3JsZE1hdHJpeCl9c2NhbGUoZSl7Y29uc3QgdD1CdC5fVG1wVmVjdG9yMyxpPXRoaXMubWF4aW11bS5zdWJ0cmFjdFRvUmVmKHRoaXMubWluaW11bSx0WzBdKSxzPWkubGVuZ3RoKCk7aS5ub3JtYWxpemVGcm9tTGVuZ3RoKHMpO2NvbnN0IHI9cyplLG49aS5zY2FsZUluUGxhY2UociouNSksYT10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKG4sdFsxXSksbz10aGlzLmNlbnRlci5hZGRUb1JlZihuLHRbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KGEsbyx0aGlzLl93b3JsZE1hdHJpeCksdGhpc31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1fdXBkYXRlKGUpe2NvbnN0IHQ9dGhpcy5taW5pbXVtV29ybGQsaT10aGlzLm1heGltdW1Xb3JsZCxzPXRoaXMuZGlyZWN0aW9ucyxyPXRoaXMudmVjdG9yc1dvcmxkLG49dGhpcy52ZWN0b3JzO2lmKGUuaXNJZGVudGl0eSgpKXt0LmNvcHlGcm9tKHRoaXMubWluaW11bSksaS5jb3B5RnJvbSh0aGlzLm1heGltdW0pO2ZvcihsZXQgYT0wO2E8ODsrK2EpclthXS5jb3B5RnJvbShuW2FdKTt0aGlzLmV4dGVuZFNpemVXb3JsZC5jb3B5RnJvbSh0aGlzLmV4dGVuZFNpemUpLHRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpfWVsc2V7dC5zZXRBbGwoTnVtYmVyLk1BWF9WQUxVRSksaS5zZXRBbGwoLU51bWJlci5NQVhfVkFMVUUpO2ZvcihsZXQgYT0wO2E8ODsrK2Epe2NvbnN0IG89clthXTtnLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoblthXSxlLG8pLHQubWluaW1pemVJblBsYWNlKG8pLGkubWF4aW1pemVJblBsYWNlKG8pfWkuc3VidHJhY3RUb1JlZih0LHRoaXMuZXh0ZW5kU2l6ZVdvcmxkKS5zY2FsZUluUGxhY2UoLjUpLGkuYWRkVG9SZWYodCx0aGlzLmNlbnRlcldvcmxkKS5zY2FsZUluUGxhY2UoLjUpfWcuRnJvbUFycmF5VG9SZWYoZS5tLDAsc1swXSksZy5Gcm9tQXJyYXlUb1JlZihlLm0sNCxzWzFdKSxnLkZyb21BcnJheVRvUmVmKGUubSw4LHNbMl0pLHRoaXMuX3dvcmxkTWF0cml4PWV9aXNJbkZydXN0dW0oZSl7cmV0dXJuIEJ0LklzSW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gQnQuSXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfWludGVyc2VjdHNQb2ludChlKXtjb25zdCB0PXRoaXMubWluaW11bVdvcmxkLGk9dGhpcy5tYXhpbXVtV29ybGQscz10Lngscj10Lnksbj10LnosYT1pLngsbz1pLnksaD1pLnosbD1lLngsdT1lLnksZj1lLnosZD0tTWU7cmV0dXJuIShhLWw8ZHx8ZD5sLXN8fG8tdTxkfHxkPnUtcnx8aC1mPGR8fGQ+Zi1uKX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiBCdC5JbnRlcnNlY3RzU3BoZXJlKHRoaXMubWluaW11bVdvcmxkLHRoaXMubWF4aW11bVdvcmxkLGUuY2VudGVyV29ybGQsZS5yYWRpdXNXb3JsZCl9aW50ZXJzZWN0c01pbk1heChlLHQpe2NvbnN0IGk9dGhpcy5taW5pbXVtV29ybGQscz10aGlzLm1heGltdW1Xb3JsZCxyPWkueCxuPWkueSxhPWkueixvPXMueCxoPXMueSxsPXMueix1PWUueCxmPWUueSxkPWUueixfPXQueCxFPXQueSxtPXQuejtyZXR1cm4hKG88dXx8cj5ffHxoPGZ8fG4+RXx8bDxkfHxhPm0pfWRpc3Bvc2UoKXt2YXIgZSx0OyhlPXRoaXMuX2RyYXdXcmFwcGVyRnJvbnQpPT1udWxsfHxlLmRpc3Bvc2UoKSwodD10aGlzLl9kcmF3V3JhcHBlckJhY2spPT1udWxsfHx0LmRpc3Bvc2UoKX1zdGF0aWMgSW50ZXJzZWN0cyhlLHQpe3JldHVybiBlLmludGVyc2VjdHNNaW5NYXgodC5taW5pbXVtV29ybGQsdC5tYXhpbXVtV29ybGQpfXN0YXRpYyBJbnRlcnNlY3RzU3BoZXJlKGUsdCxpLHMpe2NvbnN0IHI9QnQuX1RtcFZlY3RvcjNbMF07cmV0dXJuIGcuQ2xhbXBUb1JlZihpLGUsdCxyKSxnLkRpc3RhbmNlU3F1YXJlZChpLHIpPD1zKnN9c3RhdGljIElzQ29tcGxldGVseUluRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjsrK2kpe2NvbnN0IHM9dFtpXTtmb3IobGV0IHI9MDtyPDg7KytyKWlmKHMuZG90Q29vcmRpbmF0ZShlW3JdKTwwKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBJc0luRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjsrK2kpe2xldCBzPSEwO2NvbnN0IHI9dFtpXTtmb3IobGV0IG49MDtuPDg7KytuKWlmKHIuZG90Q29vcmRpbmF0ZShlW25dKT49MCl7cz0hMTticmVha31pZihzKXJldHVybiExfXJldHVybiEwfX1CdC5fVG1wVmVjdG9yMz1BZS5CdWlsZEFycmF5KDMsZy5aZXJvKTtjbGFzcyBjaXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5jZW50ZXI9Zy5aZXJvKCksdGhpcy5jZW50ZXJXb3JsZD1nLlplcm8oKSx0aGlzLm1pbmltdW09Zy5aZXJvKCksdGhpcy5tYXhpbXVtPWcuWmVybygpLHRoaXMucmVDb25zdHJ1Y3QoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXt0aGlzLm1pbmltdW0uY29weUZyb20oZSksdGhpcy5tYXhpbXVtLmNvcHlGcm9tKHQpO2NvbnN0IHM9Zy5EaXN0YW5jZShlLHQpO3QuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0aGlzLnJhZGl1cz1zKi41LHRoaXMuX3VwZGF0ZShpfHx4LklkZW50aXR5UmVhZE9ubHkpfXNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5yYWRpdXMqZSxpPWNpLl9UbXBWZWN0b3IzLHM9aVswXS5zZXRBbGwodCkscj10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKHMsaVsxXSksbj10aGlzLmNlbnRlci5hZGRUb1JlZihzLGlbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHIsbix0aGlzLl93b3JsZE1hdHJpeCksdGhpc31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1fdXBkYXRlKGUpe2lmKGUuaXNJZGVudGl0eSgpKXRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpLHRoaXMucmFkaXVzV29ybGQ9dGhpcy5yYWRpdXM7ZWxzZXtnLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5jZW50ZXIsZSx0aGlzLmNlbnRlcldvcmxkKTtjb25zdCB0PWNpLl9UbXBWZWN0b3IzWzBdO2cuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDEsMSwxLGUsdCksdGhpcy5yYWRpdXNXb3JsZD1NYXRoLm1heChNYXRoLmFicyh0LngpLE1hdGguYWJzKHQueSksTWF0aC5hYnModC56KSkqdGhpcy5yYWRpdXN9fWlzSW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXJXb3JsZCxpPXRoaXMucmFkaXVzV29ybGQ7Zm9yKGxldCBzPTA7czw2O3MrKylpZihlW3NdLmRvdENvb3JkaW5hdGUodCk8PS1pKXJldHVybiExO3JldHVybiEwfWlzQ2VudGVySW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXJXb3JsZDtmb3IobGV0IGk9MDtpPDY7aSsrKWlmKGVbaV0uZG90Q29vcmRpbmF0ZSh0KTwwKXJldHVybiExO3JldHVybiEwfWludGVyc2VjdHNQb2ludChlKXtjb25zdCB0PWcuRGlzdGFuY2VTcXVhcmVkKHRoaXMuY2VudGVyV29ybGQsZSk7cmV0dXJuISh0aGlzLnJhZGl1c1dvcmxkKnRoaXMucmFkaXVzV29ybGQ8dCl9c3RhdGljIEludGVyc2VjdHMoZSx0KXtjb25zdCBpPWcuRGlzdGFuY2VTcXVhcmVkKGUuY2VudGVyV29ybGQsdC5jZW50ZXJXb3JsZCkscz1lLnJhZGl1c1dvcmxkK3QucmFkaXVzV29ybGQ7cmV0dXJuIShzKnM8aSl9c3RhdGljIENyZWF0ZUZyb21DZW50ZXJBbmRSYWRpdXMoZSx0LGkpe3RoaXMuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cygwLDAsdCksdGhpcy5fVG1wVmVjdG9yM1syXS5jb3B5RnJvbShlKSx0aGlzLl9UbXBWZWN0b3IzWzBdLmFkZEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSksdGhpcy5fVG1wVmVjdG9yM1syXS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSk7Y29uc3Qgcz1uZXcgY2kodGhpcy5fVG1wVmVjdG9yM1swXSx0aGlzLl9UbXBWZWN0b3IzWzJdKTtyZXR1cm4gaT9zLl93b3JsZE1hdHJpeD1pOnMuX3dvcmxkTWF0cml4PXguSWRlbnRpdHkoKSxzfX1jaS5fVG1wVmVjdG9yMz1BZS5CdWlsZEFycmF5KDMsZy5aZXJvKTtjb25zdCBDcz17bWluOjAsbWF4OjB9LElzPXttaW46MCxtYXg6MH0sVHI9KGMsZSx0KT0+e2NvbnN0IGk9Zy5Eb3QoZS5jZW50ZXJXb3JsZCxjKSxzPU1hdGguYWJzKGcuRG90KGUuZGlyZWN0aW9uc1swXSxjKSkqZS5leHRlbmRTaXplLngscj1NYXRoLmFicyhnLkRvdChlLmRpcmVjdGlvbnNbMV0sYykpKmUuZXh0ZW5kU2l6ZS55LG49TWF0aC5hYnMoZy5Eb3QoZS5kaXJlY3Rpb25zWzJdLGMpKSplLmV4dGVuZFNpemUueixhPXMrcituO3QubWluPWktYSx0Lm1heD1pK2F9LHN0PShjLGUsdCk9PihUcihjLGUsQ3MpLFRyKGMsdCxJcyksIShDcy5taW4+SXMubWF4fHxJcy5taW4+Q3MubWF4KSk7Y2xhc3MgdXR7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX2lzTG9ja2VkPSExLHRoaXMuYm91bmRpbmdCb3g9bmV3IEJ0KGUsdCxpKSx0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBjaShlLHQsaSl9cmVDb25zdHJ1Y3QoZSx0LGkpe3RoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QoZSx0LGkpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoZSx0LGkpfWdldCBtaW5pbXVtKCl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gubWluaW11bX1nZXQgbWF4aW11bSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1heGltdW19Z2V0IGlzTG9ja2VkKCl7cmV0dXJuIHRoaXMuX2lzTG9ja2VkfXNldCBpc0xvY2tlZChlKXt0aGlzLl9pc0xvY2tlZD1lfXVwZGF0ZShlKXt0aGlzLl9pc0xvY2tlZHx8KHRoaXMuYm91bmRpbmdCb3guX3VwZGF0ZShlKSx0aGlzLmJvdW5kaW5nU3BoZXJlLl91cGRhdGUoZSkpfWNlbnRlck9uKGUsdCl7Y29uc3QgaT11dC5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2UodCkscz11dC5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHQpO3JldHVybiB0aGlzLmJvdW5kaW5nQm94LnJlQ29uc3RydWN0KGkscyx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoaSxzLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc31lbmNhcHN1bGF0ZShlKXtjb25zdCB0PWcuTWluaW1pemUodGhpcy5taW5pbXVtLGUpLGk9Zy5NYXhpbWl6ZSh0aGlzLm1heGltdW0sZSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QodCxpLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc31lbmNhcHN1bGF0ZUJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5lbmNhcHN1bGF0ZShlLmJvdW5kaW5nQm94LmNlbnRlcldvcmxkLnN1YnRyYWN0KGUuYm91bmRpbmdCb3guZXh0ZW5kU2l6ZVdvcmxkKSksdGhpcy5lbmNhcHN1bGF0ZShlLmJvdW5kaW5nQm94LmNlbnRlcldvcmxkLmFkZChlLmJvdW5kaW5nQm94LmV4dGVuZFNpemVXb3JsZCkpLHRoaXN9c2NhbGUoZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guc2NhbGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5zY2FsZShlKSx0aGlzfWlzSW5GcnVzdHVtKGUsdD0wKXtyZXR1cm4odD09PTJ8fHQ9PT0zKSYmdGhpcy5ib3VuZGluZ1NwaGVyZS5pc0NlbnRlckluRnJ1c3R1bShlKT8hMDp0aGlzLmJvdW5kaW5nU3BoZXJlLmlzSW5GcnVzdHVtKGUpP3Q9PT0xfHx0PT09Mz8hMDp0aGlzLmJvdW5kaW5nQm94LmlzSW5GcnVzdHVtKGUpOiExfWdldCBkaWFnb25hbExlbmd0aCgpe2NvbnN0IGU9dGhpcy5ib3VuZGluZ0JveDtyZXR1cm4gZS5tYXhpbXVtV29ybGQuc3VidHJhY3RUb1JlZihlLm1pbmltdW1Xb3JsZCx1dC5fVG1wVmVjdG9yM1swXSkubGVuZ3RoKCl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1fY2hlY2tDb2xsaXNpb24oZSl7cmV0dXJuIGUuX2NhbkRvQ29sbGlzaW9uKHRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXNXb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZCl9aW50ZXJzZWN0c1BvaW50KGUpe3JldHVybiEoIXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGR8fCF0aGlzLmJvdW5kaW5nU3BoZXJlLmludGVyc2VjdHNQb2ludChlKXx8IXRoaXMuYm91bmRpbmdCb3guaW50ZXJzZWN0c1BvaW50KGUpKX1pbnRlcnNlY3RzKGUsdCl7aWYoIWNpLkludGVyc2VjdHModGhpcy5ib3VuZGluZ1NwaGVyZSxlLmJvdW5kaW5nU3BoZXJlKXx8IUJ0LkludGVyc2VjdHModGhpcy5ib3VuZGluZ0JveCxlLmJvdW5kaW5nQm94KSlyZXR1cm4hMTtpZighdClyZXR1cm4hMDtjb25zdCBpPXRoaXMuYm91bmRpbmdCb3gscz1lLmJvdW5kaW5nQm94O3JldHVybiEoIXN0KGkuZGlyZWN0aW9uc1swXSxpLHMpfHwhc3QoaS5kaXJlY3Rpb25zWzFdLGkscyl8fCFzdChpLmRpcmVjdGlvbnNbMl0saSxzKXx8IXN0KHMuZGlyZWN0aW9uc1swXSxpLHMpfHwhc3Qocy5kaXJlY3Rpb25zWzFdLGkscyl8fCFzdChzLmRpcmVjdGlvbnNbMl0saSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1syXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1syXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IXN0KGcuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1syXSksaSxzKSl9fXV0Ll9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoMixnLlplcm8pO2NsYXNzIEppe3N0YXRpYyBleHRyYWN0TWluQW5kTWF4SW5kZXhlZChlLHQsaSxzLHIsbil7Zm9yKGxldCBhPWk7YTxpK3M7YSsrKXtjb25zdCBvPXRbYV0qMyxoPWVbb10sbD1lW28rMV0sdT1lW28rMl07ci5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KSxuLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpfX1zdGF0aWMgZXh0cmFjdE1pbkFuZE1heChlLHQsaSxzLHIsbil7Zm9yKGxldCBhPXQsbz10KnM7YTx0K2k7YSsrLG8rPXMpe2NvbnN0IGg9ZVtvXSxsPWVbbysxXSx1PWVbbysyXTtyLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpLG4ubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSl9fX1TKFtxdC5maWx0ZXIoKC4uLltjLGVdKT0+IUFycmF5LmlzQXJyYXkoYykmJiFBcnJheS5pc0FycmF5KGUpKV0sSmksImV4dHJhY3RNaW5BbmRNYXhJbmRleGVkIixudWxsKSxTKFtxdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sSmksImV4dHJhY3RNaW5BbmRNYXgiLG51bGwpO2Z1bmN0aW9uIHhuKGMsZSx0LGkscz1udWxsKXtjb25zdCByPW5ldyBnKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBnKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gSmkuZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoYyxlLHQsaSxyLG4pLHMmJihyLngtPXIueCpzLngrcy55LHIueS09ci55KnMueCtzLnksci56LT1yLnoqcy54K3MueSxuLngrPW4ueCpzLngrcy55LG4ueSs9bi55KnMueCtzLnksbi56Kz1uLnoqcy54K3MueSkse21pbmltdW06cixtYXhpbXVtOm59fWZ1bmN0aW9uIFNyKGMsZSx0LGk9bnVsbCxzKXtjb25zdCByPW5ldyBnKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBnKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gc3x8KHM9MyksSmkuZXh0cmFjdE1pbkFuZE1heChjLGUsdCxzLHIsbiksaSYmKHIueC09ci54KmkueCtpLnksci55LT1yLnkqaS54K2kueSxyLnotPXIueippLngraS55LG4ueCs9bi54KmkueCtpLnksbi55Kz1uLnkqaS54K2kueSxuLnorPW4ueippLngraS55KSx7bWluaW11bTpyLG1heGltdW06bn19Y2xhc3MgRXR7Y29uc3RydWN0b3IoZSx0LGkscyxyLG4sYSxvPSEwLGg9ITApe3RoaXMubWF0ZXJpYWxJbmRleD1lLHRoaXMudmVydGljZXNTdGFydD10LHRoaXMudmVydGljZXNDb3VudD1pLHRoaXMuaW5kZXhTdGFydD1zLHRoaXMuaW5kZXhDb3VudD1yLHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPW51bGwsdGhpcy5fbGluZXNJbmRleENvdW50PTAsdGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9bnVsbCx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2FscGhhSW5kZXg9MCx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPTAsdGhpcy5fY3VycmVudE1hdGVyaWFsPW51bGwsdGhpcy5fbWVzaD1uLHRoaXMuX3JlbmRlcmluZ01lc2g9YXx8bixoJiZuLnN1Yk1lc2hlcy5wdXNoKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3RyaWFuZ2xlUGxhbmVzPVtdLHRoaXMuX2lkPW4uc3ViTWVzaGVzLmxlbmd0aC0xLG8mJih0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxuLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpfWdldCBtYXRlcmlhbERlZmluZXMoKXt2YXIgZTtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZGVmaW5lczooZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09bnVsbD92b2lkIDA6ZS5kZWZpbmVzfXNldCBtYXRlcmlhbERlZmluZXMoZSl7dmFyIGk7Y29uc3QgdD0oaT10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPW51bGw/aTp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO3QuZGVmaW5lcz1lfV9nZXREcmF3V3JhcHBlcihlLHQ9ITEpe2U9ZSE9bnVsbD9lOnRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkO2xldCBpPXRoaXMuX2RyYXdXcmFwcGVyc1tlXTtyZXR1cm4haSYmdCYmKHRoaXMuX2RyYXdXcmFwcGVyc1tlXT1pPW5ldyBSaSh0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkpKSxpfV9yZW1vdmVEcmF3V3JhcHBlcihlLHQ9ITApe3ZhciBpO3QmJigoaT10aGlzLl9kcmF3V3JhcHBlcnNbZV0pPT1udWxsfHxpLmRpc3Bvc2UoKSksdGhpcy5fZHJhd1dyYXBwZXJzW2VdPXZvaWQgMH1nZXQgZWZmZWN0KCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZWZmZWN0Oih0PShlPXRoaXMuX2dldERyYXdXcmFwcGVyKCkpPT1udWxsP3ZvaWQgMDplLmVmZmVjdCkhPW51bGw/dDpudWxsfWdldCBfZHJhd1dyYXBwZXIoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPW51bGw/ZTp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApfWdldCBfZHJhd1dyYXBwZXJPdmVycmlkZSgpe3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZX1fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUoZSl7dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU9ZX1zZXRFZmZlY3QoZSx0PW51bGwsaSxzPSEwKXtjb25zdCByPXRoaXMuX2RyYXdXcmFwcGVyO3Iuc2V0RWZmZWN0KGUsdCxzKSxpIT09dm9pZCAwJiYoci5tYXRlcmlhbENvbnRleHQ9aSksZXx8KHIuZGVmaW5lcz1udWxsLHIubWF0ZXJpYWxDb250ZXh0PXZvaWQgMCl9cmVzZXREcmF3Q2FjaGUoZSl7aWYodGhpcy5fZHJhd1dyYXBwZXJzKWlmKGUhPT12b2lkIDApe3RoaXMuX3JlbW92ZURyYXdXcmFwcGVyKGUpO3JldHVybn1lbHNlIGZvcihjb25zdCB0IG9mIHRoaXMuX2RyYXdXcmFwcGVycyl0PT1udWxsfHx0LmRpc3Bvc2UoKTt0aGlzLl9kcmF3V3JhcHBlcnM9W119c3RhdGljIEFkZFRvTWVzaChlLHQsaSxzLHIsbixhLG89ITApe3JldHVybiBuZXcgRXQoZSx0LGkscyxyLG4sYSxvKX1nZXQgSXNHbG9iYWwoKXtyZXR1cm4gdGhpcy52ZXJ0aWNlc1N0YXJ0PT09MCYmdGhpcy52ZXJ0aWNlc0NvdW50PT09dGhpcy5fbWVzaC5nZXRUb3RhbFZlcnRpY2VzKCkmJnRoaXMuaW5kZXhTdGFydD09PTAmJnRoaXMuaW5kZXhDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxJbmRpY2VzKCl9Z2V0Qm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuSXNHbG9iYWw/dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKTp0aGlzLl9ib3VuZGluZ0luZm99c2V0Qm91bmRpbmdJbmZvKGUpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89ZSx0aGlzfWdldE1lc2goKXtyZXR1cm4gdGhpcy5fbWVzaH1nZXRSZW5kZXJpbmdNZXNoKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2h9Z2V0UmVwbGFjZW1lbnRNZXNoKCl7cmV0dXJuIHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDpudWxsfWdldEVmZmVjdGl2ZU1lc2goKXtjb25zdCBlPXRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDpudWxsO3JldHVybiBlfHx0aGlzLl9yZW5kZXJpbmdNZXNofWdldE1hdGVyaWFsKGU9ITApe3ZhciBpO2NvbnN0IHQ9KGk9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRNYXRlcmlhbEZvclJlbmRlclBhc3ModGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQpKSE9bnVsbD9pOnRoaXMuX3JlbmRlcmluZ01lc2gubWF0ZXJpYWw7aWYodCl7aWYodGhpcy5faXNNdWx0aU1hdGVyaWFsKHQpKXtjb25zdCBzPXQuZ2V0U3ViTWF0ZXJpYWwodGhpcy5tYXRlcmlhbEluZGV4KTtyZXR1cm4gdGhpcy5fY3VycmVudE1hdGVyaWFsIT09cyYmKHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1zLHRoaXMucmVzZXREcmF3Q2FjaGUoKSksc319ZWxzZSByZXR1cm4gZT90aGlzLl9tZXNoLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOm51bGw7cmV0dXJuIHR9X2lzTXVsdGlNYXRlcmlhbChlKXtyZXR1cm4gZS5nZXRTdWJNYXRlcmlhbCE9PXZvaWQgMH1yZWZyZXNoQm91bmRpbmdJbmZvKGU9bnVsbCl7aWYodGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuSXNHbG9iYWx8fCF0aGlzLl9yZW5kZXJpbmdNZXNofHwhdGhpcy5fcmVuZGVyaW5nTWVzaC5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZihlfHwoZT10aGlzLl9yZW5kZXJpbmdNZXNoLmdldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCkpLCFlKXJldHVybiB0aGlzLl9ib3VuZGluZ0luZm89dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKSx0aGlzO2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRJbmRpY2VzKCk7bGV0IGk7aWYodGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dC5sZW5ndGgpe2NvbnN0IHM9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRCb3VuZGluZ0luZm8oKTtpPXttaW5pbXVtOnMubWluaW11bS5jbG9uZSgpLG1heGltdW06cy5tYXhpbXVtLmNsb25lKCl9fWVsc2UgaT14bihlLHQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCx0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhcyk7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QoaS5taW5pbXVtLGkubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyB1dChpLm1pbmltdW0saS5tYXhpbXVtKSx0aGlzfV9jaGVja0NvbGxpc2lvbihlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24oZSl9dXBkYXRlQm91bmRpbmdJbmZvKGUpe2xldCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHR8fCh0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkpLHQmJnQudXBkYXRlKGUpLHRoaXN9aXNJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNJbkZydXN0dW0oZSx0aGlzLl9tZXNoLmN1bGxpbmdTdHJhdGVneSk6ITF9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD90LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKTohMX1yZW5kZXIoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2gucmVuZGVyKHRoaXMsZSx0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6dm9pZCAwKSx0aGlzfV9nZXRMaW5lc0luZGV4QnVmZmVyKGUsdCl7aWYoIXRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpe2NvbnN0IGk9W107Zm9yKGxldCBzPXRoaXMuaW5kZXhTdGFydDtzPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7cys9MylpLnB1c2goZVtzXSxlW3MrMV0sZVtzKzFdLGVbcysyXSxlW3MrMl0sZVtzXSk7dGhpcy5fbGluZXNJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuX2xpbmVzSW5kZXhDb3VudD1pLmxlbmd0aH1yZXR1cm4gdGhpcy5fbGluZXNJbmRleEJ1ZmZlcn1jYW5JbnRlcnNlY3RzKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD9lLmludGVyc2VjdHNCb3godC5ib3VuZGluZ0JveCk6ITF9aW50ZXJzZWN0cyhlLHQsaSxzLHIpe2NvbnN0IG49dGhpcy5nZXRNYXRlcmlhbCgpO2lmKCFuKXJldHVybiBudWxsO2xldCBhPTMsbz0hMTtzd2l0Y2gobi5maWxsTW9kZSl7Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA4OnJldHVybiBudWxsO2Nhc2UgNzphPTEsbz0hMDticmVha31yZXR1cm4gbi5maWxsTW9kZT09PTQ/aS5sZW5ndGg/dGhpcy5faW50ZXJzZWN0TGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6IWkubGVuZ3RoJiZ0aGlzLl9tZXNoLl91bkluZGV4ZWQ/dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscik6dGhpcy5faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLGEsbyxzLHIpfV9pbnRlcnNlY3RMaW5lcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMuaW5kZXhTdGFydDthPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7YSs9Mil7Y29uc3Qgbz10W2lbYV1dLGg9dFtpW2ErMV1dLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KG8saCxzKTtpZighKGw8MCkmJihyfHwhbnx8bDxuLmRpc3RhbmNlKSYmKG49bmV3IHlzKG51bGwsbnVsbCxsKSxuLmZhY2VJZD1hLzIscikpYnJlYWt9cmV0dXJuIG59X2ludGVyc2VjdFVuSW5kZXhlZExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0yKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgeXMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLHMscixuLGEpe2xldCBvPW51bGwsaD0tMTtmb3IobGV0IGw9dGhpcy5pbmRleFN0YXJ0O2w8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudC0oMy1zKTtsKz1zKXtoKys7Y29uc3QgdT1pW2xdLGY9aVtsKzFdLGQ9aVtsKzJdO2lmKHImJmQ9PT00Mjk0OTY3Mjk1KXtsKz0yO2NvbnRpbnVlfWNvbnN0IF89dFt1XSxFPXRbZl0sbT10W2RdO2lmKCFffHwhRXx8IW18fGEmJiFhKF8sRSxtLGUpKWNvbnRpbnVlO2NvbnN0IFQ9ZS5pbnRlcnNlY3RzVHJpYW5nbGUoXyxFLG0pO2lmKFQpe2lmKFQuZGlzdGFuY2U8MCljb250aW51ZTtpZigobnx8IW98fFQuZGlzdGFuY2U8by5kaXN0YW5jZSkmJihvPVQsby5mYWNlSWQ9aCxuKSlicmVha319cmV0dXJuIG99X2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMudmVydGljZXNTdGFydDthPHRoaXMudmVydGljZXNTdGFydCt0aGlzLnZlcnRpY2VzQ291bnQ7YSs9Myl7Y29uc3Qgbz10W2FdLGg9dFthKzFdLGw9dFthKzJdO2lmKHImJiFyKG8saCxsLGUpKWNvbnRpbnVlO2NvbnN0IHU9ZS5pbnRlcnNlY3RzVHJpYW5nbGUobyxoLGwpO2lmKHUpe2lmKHUuZGlzdGFuY2U8MCljb250aW51ZTtpZigoc3x8IW58fHUuZGlzdGFuY2U8bi5kaXN0YW5jZSkmJihuPXUsbi5mYWNlSWQ9YS8zLHMpKWJyZWFrfX1yZXR1cm4gbn1fcmVidWlsZCgpe3RoaXMuX2xpbmVzSW5kZXhCdWZmZXImJih0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgRXQodGhpcy5tYXRlcmlhbEluZGV4LHRoaXMudmVydGljZXNTdGFydCx0aGlzLnZlcnRpY2VzQ291bnQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCxlLHQsITEpO2lmKCF0aGlzLklzR2xvYmFsKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXMpcmV0dXJuIGk7aS5fYm91bmRpbmdJbmZvPW5ldyB1dChzLm1pbmltdW0scy5tYXhpbXVtKX1yZXR1cm4gaX1kaXNwb3NlKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9saW5lc0luZGV4QnVmZmVyKSx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpO2NvbnN0IGU9dGhpcy5fbWVzaC5zdWJNZXNoZXMuaW5kZXhPZih0aGlzKTt0aGlzLl9tZXNoLnN1Yk1lc2hlcy5zcGxpY2UoZSwxKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN1Yk1lc2gifXN0YXRpYyBDcmVhdGVGcm9tSW5kaWNlcyhlLHQsaSxzLHIsbj0hMCl7bGV0IGE9TnVtYmVyLk1BWF9WQUxVRSxvPS1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGw9KHJ8fHMpLmdldEluZGljZXMoKTtmb3IobGV0IHU9dDt1PHQraTt1Kyspe2NvbnN0IGY9bFt1XTtmPGEmJihhPWYpLGY+byYmKG89Zil9cmV0dXJuIG5ldyBFdChlLGEsby1hKzEsdCxpLHMscixuKX19Y2xhc3MgT2V7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiBPZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9c3RhdGljIHNldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbChlKXtPZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX1zdGF0aWMgZ2V0IFNob3dMb2FkaW5nU2NyZWVuKCl7cmV0dXJuIE9lLl9TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe09lLl9TaG93TG9hZGluZ1NjcmVlbj1lfXN0YXRpYyBnZXQgbG9nZ2luZ0xldmVsKCl7cmV0dXJuIE9lLl9Mb2dnaW5nTGV2ZWx9c3RhdGljIHNldCBsb2dnaW5nTGV2ZWwoZSl7T2UuX0xvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiBPZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c31zdGF0aWMgc2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoZSl7T2UuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX19T2UuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPSExLE9lLl9TaG93TG9hZGluZ1NjcmVlbj0hMCxPZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz0hMSxPZS5fTG9nZ2luZ0xldmVsPTA7Y2xhc3MgZnR7fWZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY9ITE7Y2xhc3MgbnR7Y29uc3RydWN0b3IoZSx0LGkscz0hMSxyPW51bGwpe3RoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPSExLHRoaXMuX3Bvc2l0aW9uc0NhY2hlPVtdLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5PSExLHRoaXMuX3NjZW5lPXR8fGRlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLmlkPWUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0aGlzLl9tZXNoZXM9W10sdGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3VwZGF0YWJsZT1zLGk/dGhpcy5zZXRBbGxWZXJ0aWNlc0RhdGEoaSxzKTp0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5fZW5naW5lLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksciYmKHRoaXMuYXBwbHlUb01lc2gociksci5jb21wdXRlV29ybGRNYXRyaXgoITApKSl9Z2V0IGJvdW5kaW5nQmlhcygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0JpYXN9c2V0IGJvdW5kaW5nQmlhcyhlKXt0aGlzLl9ib3VuZGluZ0JpYXM/dGhpcy5fYm91bmRpbmdCaWFzLmNvcHlGcm9tKGUpOnRoaXMuX2JvdW5kaW5nQmlhcz1lLmNsb25lKCksdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCEwLG51bGwpfXN0YXRpYyBDcmVhdGVHZW9tZXRyeUZvck1lc2goZSl7Y29uc3QgdD1uZXcgbnQobnQuUmFuZG9tSWQoKSxlLmdldFNjZW5lKCkpO3JldHVybiB0LmFwcGx5VG9NZXNoKGUpLHR9Z2V0IG1lc2hlcygpe3JldHVybiB0aGlzLl9tZXNoZXN9Z2V0IGV4dGVuZCgpe3JldHVybiB0aGlzLl9leHRlbmR9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1pc1JlYWR5KCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0xfHx0aGlzLmRlbGF5TG9hZFN0YXRlPT09MH1nZXQgZG9Ob3RTZXJpYWxpemUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21lc2hlcy5sZW5ndGg7ZSsrKWlmKCF0aGlzLl9tZXNoZXNbZV0uZG9Ob3RTZXJpYWxpemUpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGQoKXt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e30pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9yZWJ1aWxkKCl9c2V0QWxsVmVydGljZXNEYXRhKGUsdCl7ZS5hcHBseVRvR2VvbWV0cnkodGhpcyx0KSx0aGlzLl9ub3RpZnlVcGRhdGUoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aSYmQXJyYXkuaXNBcnJheSh0KSYmKHQ9bmV3IEZsb2F0MzJBcnJheSh0KSk7Y29uc3Qgcj1uZXcgcCh0aGlzLl9lbmdpbmUsdCxlLGksdGhpcy5fbWVzaGVzLmxlbmd0aD09PTAscyk7dGhpcy5zZXRWZXJ0aWNlc0J1ZmZlcihyKX1yZW1vdmVWZXJ0aWNlc0RhdGEoZSl7dGhpcy5fdmVydGV4QnVmZmVyc1tlXSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9bnVsbCxpPSEwKXtjb25zdCBzPWUuZ2V0S2luZCgpO3RoaXMuX3ZlcnRleEJ1ZmZlcnNbc10mJmkmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbc10uZGlzcG9zZSgpLGUuX2J1ZmZlciYmZS5fYnVmZmVyLl9pbmNyZWFzZVJlZmVyZW5jZXMoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdPWU7Y29uc3Qgcj10aGlzLl9tZXNoZXMsbj1yLmxlbmd0aDtpZihzPT09cC5Qb3NpdGlvbktpbmQpe2NvbnN0IGE9ZS5nZXREYXRhKCk7dCE9bnVsbD90aGlzLl90b3RhbFZlcnRpY2VzPXQ6YSE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9YS5sZW5ndGgvKGUudHlwZT09PXAuQllURT9lLmJ5dGVTdHJpZGU6ZS5ieXRlU3RyaWRlLzQpKSx0aGlzLl91cGRhdGVFeHRlbmQoYSksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKGxldCBvPTA7bzxuO28rKyl7Y29uc3QgaD1yW29dO2guYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGguX2NyZWF0ZUdsb2JhbFN1Yk1lc2goaC5pc1VuSW5kZXhlZCksaC5jb21wdXRlV29ybGRNYXRyaXgoITApLGguc3luY2hyb25pemVJbnN0YW5jZXMoKX19dGhpcy5fbm90aWZ5VXBkYXRlKHMpfXVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KGUsdCxpLHM9ITEpe2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7IXJ8fChyLnVwZGF0ZURpcmVjdGx5KHQsaSxzKSx0aGlzLl9ub3RpZnlVcGRhdGUoZSkpfXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaT0hMSl7Y29uc3Qgcz10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshc3x8KHMudXBkYXRlKHQpLGU9PT1wLlBvc2l0aW9uS2luZCYmdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKGksdCksdGhpcy5fbm90aWZ5VXBkYXRlKGUpKX1fdXBkYXRlQm91bmRpbmdJbmZvKGUsdCl7aWYoZSYmdGhpcy5fdXBkYXRlRXh0ZW5kKHQpLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLGUpe2NvbnN0IGk9dGhpcy5fbWVzaGVzO2Zvcihjb25zdCBzIG9mIGkpe3MuaGFzQm91bmRpbmdJbmZvP3MuZ2V0Qm91bmRpbmdJbmZvKCkucmVDb25zdHJ1Y3QodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pOnMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pO2NvbnN0IHI9cy5zdWJNZXNoZXM7Zm9yKGNvbnN0IG4gb2YgciluLnJlZnJlc2hCb3VuZGluZ0luZm8oKX19fV9iaW5kKGUsdCxpLHMpe2lmKCFlKXJldHVybjt0PT09dm9pZCAwJiYodD10aGlzLl9pbmRleEJ1ZmZlcik7Y29uc3Qgcj10aGlzLmdldFZlcnRleEJ1ZmZlcnMoKTtpZighcilyZXR1cm47aWYodCE9dGhpcy5faW5kZXhCdWZmZXJ8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJiFzKXt0aGlzLl9lbmdpbmUuYmluZEJ1ZmZlcnMocix0LGUsaSk7cmV0dXJufWNvbnN0IG49c3x8dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzO25bZS5rZXldfHwobltlLmtleV09dGhpcy5fZW5naW5lLnJlY29yZFZlcnRleEFycmF5T2JqZWN0KHIsdCxlLGkpKSx0aGlzLl9lbmdpbmUuYmluZFZlcnRleEFycmF5T2JqZWN0KG5bZS5rZXldLHQpfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdG90YWxWZXJ0aWNlczowfWdldFZlcnRpY2VzRGF0YShlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtyZXR1cm4gcz9zLmdldEZsb2F0RGF0YSh0aGlzLl90b3RhbFZlcnRpY2VzLGl8fHQmJnRoaXMuX21lc2hlcy5sZW5ndGghPT0xKTpudWxsfWlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpe2NvbnN0IHQ9dGhpcy5fdmVydGV4QnVmZmVyc1tlXTtyZXR1cm4gdD90LmlzVXBkYXRhYmxlKCk6ITF9Z2V0VmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdOm51bGx9Z2V0VmVydGV4QnVmZmVycygpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzOm51bGx9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiB0aGlzLl92ZXJ0ZXhCdWZmZXJzP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0hPT12b2lkIDA6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9Z2V0VmVydGljZXNEYXRhS2luZHMoKXtjb25zdCBlPVtdO2xldCB0O2lmKCF0aGlzLl92ZXJ0ZXhCdWZmZXJzJiZ0aGlzLl9kZWxheUluZm8pZm9yKHQgaW4gdGhpcy5fZGVsYXlJbmZvKWUucHVzaCh0KTtlbHNlIGZvcih0IGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpZS5wdXNoKHQpO3JldHVybiBlfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe2lmKCEhdGhpcy5faW5kZXhCdWZmZXIpaWYoIXRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGUpdGhpcy5zZXRJbmRpY2VzKGUsbnVsbCwhMCk7ZWxzZXtjb25zdCBzPWUubGVuZ3RoIT09dGhpcy5faW5kaWNlcy5sZW5ndGg7aWYoaXx8KHRoaXMuX2luZGljZXM9ZS5zbGljZSgpKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY0luZGV4QnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyLGUsdCkscylmb3IoY29uc3QgciBvZiB0aGlzLl9tZXNoZXMpci5fY3JlYXRlR2xvYmFsU3ViTWVzaCghMCl9fXNldEluZGljZXMoZSx0PW51bGwsaT0hMSl7dGhpcy5faW5kZXhCdWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kaWNlcz1lLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9aSx0aGlzLl9tZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5faW5kaWNlcyYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLGkpKSx0IT1udWxsJiYodGhpcy5fdG90YWxWZXJ0aWNlcz10KTtmb3IoY29uc3QgcyBvZiB0aGlzLl9tZXNoZXMpcy5fY3JlYXRlR2xvYmFsU3ViTWVzaCghMCkscy5zeW5jaHJvbml6ZUluc3RhbmNlcygpO3RoaXMuX25vdGlmeVVwZGF0ZSgpfWdldFRvdGFsSW5kaWNlcygpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl9pbmRpY2VzLmxlbmd0aDowfWdldEluZGljZXMoZSx0KXtpZighdGhpcy5pc1JlYWR5KCkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLl9pbmRpY2VzO3JldHVybiF0JiYoIWV8fHRoaXMuX21lc2hlcy5sZW5ndGg9PT0xKT9pOmkuc2xpY2UoKX1nZXRJbmRleEJ1ZmZlcigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl9pbmRleEJ1ZmZlcjpudWxsfV9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZT1udWxsKXshZXx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c3x8dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSYmKHRoaXMuX2VuZ2luZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSksZGVsZXRlIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0pfXJlbGVhc2VGb3JNZXNoKGUsdCl7Y29uc3QgaT10aGlzLl9tZXNoZXMscz1pLmluZGV4T2YoZSk7cyE9PS0xJiYoaS5zcGxpY2UocywxKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJmUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksZS5fZ2VvbWV0cnk9bnVsbCxpLmxlbmd0aD09PTAmJnQmJnRoaXMuZGlzcG9zZSgpKX1hcHBseVRvTWVzaChlKXtpZihlLl9nZW9tZXRyeT09PXRoaXMpcmV0dXJuO2NvbnN0IHQ9ZS5fZ2VvbWV0cnk7dCYmdC5yZWxlYXNlRm9yTWVzaChlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJmUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCk7Y29uc3QgaT10aGlzLl9tZXNoZXM7ZS5fZ2VvbWV0cnk9dGhpcyxlLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9zY2VuZS5wdXNoR2VvbWV0cnkodGhpcyksaS5wdXNoKGUpLHRoaXMuaXNSZWFkeSgpP3RoaXMuX2FwcGx5VG9NZXNoKGUpOnRoaXMuX2JvdW5kaW5nSW5mbyYmZS5zZXRCb3VuZGluZ0luZm8odGhpcy5fYm91bmRpbmdJbmZvKX1fdXBkYXRlRXh0ZW5kKGU9bnVsbCl7aWYodGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnkmJnRoaXMuX2JvdW5kaW5nSW5mbyl0aGlzLl9leHRlbmQ9e21pbmltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1pbmltdW0uY2xvbmUoKSxtYXhpbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5tYXhpbXVtLmNsb25lKCl9O2Vsc2V7aWYoIWUmJihlPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kKSwhZSkpcmV0dXJuO3RoaXMuX2V4dGVuZD1TcihlLDAsdGhpcy5fdG90YWxWZXJ0aWNlcyx0aGlzLmJvdW5kaW5nQmlhcywzKX19X2FwcGx5VG9NZXNoKGUpe2NvbnN0IHQ9dGhpcy5fbWVzaGVzLmxlbmd0aDtmb3IoY29uc3QgaSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXQ9PT0xJiZ0aGlzLl92ZXJ0ZXhCdWZmZXJzW2ldLmNyZWF0ZSgpLGk9PT1wLlBvc2l0aW9uS2luZCYmKHRoaXMuX2V4dGVuZHx8dGhpcy5fdXBkYXRlRXh0ZW5kKCksZS5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksZS5fY3JlYXRlR2xvYmFsU3ViTWVzaChlLmlzVW5JbmRleGVkKSxlLl91cGRhdGVCb3VuZGluZ0luZm8oKSk7dD09PTEmJnRoaXMuX2luZGljZXMmJnRoaXMuX2luZGljZXMubGVuZ3RoPjAmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKSxlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCksZS5zeW5jaHJvbml6ZUluc3RhbmNlcygpfV9ub3RpZnlVcGRhdGUoZSl7dGhpcy5vbkdlb21ldHJ5VXBkYXRlZCYmdGhpcy5vbkdlb21ldHJ5VXBkYXRlZCh0aGlzLGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpO2Zvcihjb25zdCB0IG9mIHRoaXMuX21lc2hlcyl0Ll9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX1sb2FkKGUsdCl7aWYodGhpcy5kZWxheUxvYWRTdGF0ZSE9PTIpe2lmKHRoaXMuaXNSZWFkeSgpKXt0JiZ0KCk7cmV0dXJufXRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQoZSx0KX19X3F1ZXVlTG9hZChlLHQpeyF0aGlzLmRlbGF5TG9hZGluZ0ZpbGV8fChlLmFkZFBlbmRpbmdEYXRhKHRoaXMpLGUuX2xvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxpPT57aWYoIXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKXJldHVybjt0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl9kZWxheUluZm89W10sZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTtjb25zdCBzPXRoaXMuX21lc2hlcyxyPXMubGVuZ3RoO2ZvcihsZXQgbj0wO248cjtuKyspdGhpcy5fYXBwbHlUb01lc2goc1tuXSk7dCYmdCgpfSx2b2lkIDAsITApKX10b0xlZnRIYW5kZWQoKXtjb25zdCBlPXRoaXMuZ2V0SW5kaWNlcyghMSk7aWYoZSE9bnVsbCYmZS5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0zKXtjb25zdCByPWVbcyswXTtlW3MrMF09ZVtzKzJdLGVbcysyXT1yfXRoaXMuc2V0SW5kaWNlcyhlKX1jb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kLCExKTtpZih0IT1udWxsJiZ0Lmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrPTMpdFtzKzJdPS10W3MrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQsdCwhMSl9Y29uc3QgaT10aGlzLmdldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQsITEpO2lmKGkhPW51bGwmJmkubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cys9MylpW3MrMl09LWlbcysyXTt0aGlzLnNldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQsaSwhMSl9fV9yZXNldFBvaW50c0FycmF5Q2FjaGUoKXt0aGlzLl9wb3NpdGlvbnM9bnVsbH1fZ2VuZXJhdGVQb2ludHNBcnJheSgpe2lmKHRoaXMuX3Bvc2l0aW9ucylyZXR1cm4hMDtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kKTtpZighZXx8ZS5sZW5ndGg9PT0wKXJldHVybiExO2ZvcihsZXQgdD10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGgqMyxpPXRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aDt0PGUubGVuZ3RoO3QrPTMsKytpKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW2ldPWcuRnJvbUFycmF5KGUsdCk7Zm9yKGxldCB0PTAsaT0wO3Q8ZS5sZW5ndGg7dCs9MywrK2kpdGhpcy5fcG9zaXRpb25zQ2FjaGVbaV0uc2V0KGVbMCt0XSxlWzErdF0sZVsyK3RdKTtyZXR1cm4gdGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoPWUubGVuZ3RoLzMsdGhpcy5fcG9zaXRpb25zPXRoaXMuX3Bvc2l0aW9uc0NhY2hlLCEwfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH1fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpe2lmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzKXRoaXMuX2VuZ2luZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2ldKTt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e307Y29uc3QgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPHQ7aSsrKWVbaV0uX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCl9fWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoO2xldCBpO2ZvcihpPTA7aTx0O2krKyl0aGlzLnJlbGVhc2VGb3JNZXNoKGVbaV0pO3RoaXMuX21lc2hlcy5sZW5ndGg9MCx0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHMgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdLmRpc3Bvc2UoKTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGljZXM9W10sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuZGVsYXlMb2FkaW5nRmlsZT1udWxsLHRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW51bGwsdGhpcy5fZGVsYXlJbmZvPVtdLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX3NjZW5lLnJlbW92ZUdlb21ldHJ5KHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcz10aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5pbmRleE9mKHRoaXMpO3M+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5nZW9tZXRyaWVzLnNwbGljZShzLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfXRoaXMuX2lzRGlzcG9zZWQ9ITB9Y29weShlKXtjb25zdCB0PW5ldyBRO3QuaW5kaWNlcz1bXTtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpO2lmKGkpZm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspdC5pbmRpY2VzLnB1c2goaVtvXSk7bGV0IHM9ITEscj0hMSxuO2ZvcihuIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpe2NvbnN0IG89dGhpcy5nZXRWZXJ0aWNlc0RhdGEobik7aWYobyYmKG8gaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dC5zZXQobmV3IEZsb2F0MzJBcnJheShvKSxuKTp0LnNldChvLnNsaWNlKDApLG4pLCFyKSl7Y29uc3QgaD10aGlzLmdldFZlcnRleEJ1ZmZlcihuKTtoJiYocz1oLmlzVXBkYXRhYmxlKCkscj0hcyl9fWNvbnN0IGE9bmV3IG50KGUsdGhpcy5fc2NlbmUsdCxzKTthLmRlbGF5TG9hZFN0YXRlPXRoaXMuZGVsYXlMb2FkU3RhdGUsYS5kZWxheUxvYWRpbmdGaWxlPXRoaXMuZGVsYXlMb2FkaW5nRmlsZSxhLl9kZWxheUxvYWRpbmdGdW5jdGlvbj10aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbjtmb3IobiBpbiB0aGlzLl9kZWxheUluZm8pYS5fZGVsYXlJbmZvPWEuX2RlbGF5SW5mb3x8W10sYS5fZGVsYXlJbmZvLnB1c2gobik7cmV0dXJuIGEuX2JvdW5kaW5nSW5mbz1uZXcgdXQodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGF9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnVwZGF0YWJsZT10aGlzLl91cGRhdGFibGUscGUmJnBlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9cGUuR2V0VGFncyh0aGlzKSksZX1fdG9OdW1iZXJBcnJheShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpfWNsZWFyQ2FjaGVkRGF0YSgpe3RoaXMuX2luZGljZXM9W10sdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycykhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsZSl8fCh0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9idWZmZXIuX2RhdGE9bnVsbCl9c2VyaWFsaXplVmVydGljZURhdGEoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKHAuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShwLlRhbmdlbnRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuVVZLaW5kKSYmKGUudXZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5VVktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKHAuVVZLaW5kKSYmKGUudXZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWMktpbmQpJiYoZS51djJzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5VVjJLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlVWMktpbmQpJiYoZS51djJzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWM0tpbmQpJiYoZS51djNzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5VVjNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlVWM0tpbmQpJiYoZS51djNzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWNEtpbmQpJiYoZS51djRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5VVjRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlVWNEtpbmQpJiYoZS51djRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWNUtpbmQpJiYoZS51djVzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5VVjVLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlVWNUtpbmQpJiYoZS51djVzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWNktpbmQpJiYoZS51djZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5VVjZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlVWNktpbmQpJiYoZS51djZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLkNvbG9yS2luZCkmJihlLmNvbG9ycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKHAuQ29sb3JLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLkNvbG9yS2luZCkmJihlLmNvbG9ycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNLaW5kKSksZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITAsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUocC5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGU9ITApKSxlLmluZGljZXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldEluZGljZXMoKSksZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCl7Y29uc3QgaT1lLl9nZW9tZXRyeTtyZXR1cm4gaT9pLmNvcHkodCk6bnVsbH1zdGF0aWMgUmFuZG9tSWQoKXtyZXR1cm4gVS5SYW5kb21JZCgpfXN0YXRpYyBfR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKylpZih0Lmdlb21ldHJpZXNbaV0uX2xvYWRlZFVuaXF1ZUlkPT09ZSlyZXR1cm4gdC5nZW9tZXRyaWVzW2ldO3JldHVybiBudWxsfXN0YXRpYyBfSW1wb3J0R2VvbWV0cnkoZSx0KXtjb25zdCBpPXQuZ2V0U2NlbmUoKSxzPWUuZ2VvbWV0cnlVbmlxdWVJZCxyPWUuZ2VvbWV0cnlJZDtpZihzfHxyKXtjb25zdCBuPXM/dGhpcy5fR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKHMsaSk6aS5nZXRHZW9tZXRyeUJ5SWQocik7biYmbi5hcHBseVRvTWVzaCh0KX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3Qgbj10Ll9iaW5hcnlJbmZvO2lmKG4ucG9zaXRpb25zQXR0ckRlc2MmJm4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5wb3NpdGlvbnNBdHRyRGVzYy5vZmZzZXQsbi5wb3NpdGlvbnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQsYSwhMSl9aWYobi5ub3JtYWxzQXR0ckRlc2MmJm4ubm9ybWFsc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubm9ybWFsc0F0dHJEZXNjLm9mZnNldCxuLm5vcm1hbHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kLGEsITEpfWlmKG4udGFuZ2V0c0F0dHJEZXNjJiZuLnRhbmdldHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnRhbmdldHNBdHRyRGVzYy5vZmZzZXQsbi50YW5nZXRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKHAuVGFuZ2VudEtpbmQsYSwhMSl9aWYobi51dnNBdHRyRGVzYyYmbi51dnNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2c0F0dHJEZXNjLm9mZnNldCxuLnV2c0F0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShwLlVWS2luZCxhLCExKX1pZihuLnV2czJBdHRyRGVzYyYmbi51dnMyQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnMyQXR0ckRlc2Mub2Zmc2V0LG4udXZzMkF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShwLlVWMktpbmQsYSwhMSl9aWYobi51dnMzQXR0ckRlc2MmJm4udXZzM0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzM0F0dHJEZXNjLm9mZnNldCxuLnV2czNBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEocC5VVjNLaW5kLGEsITEpfWlmKG4udXZzNEF0dHJEZXNjJiZuLnV2czRBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czRBdHRyRGVzYy5vZmZzZXQsbi51dnM0QXR0ckRlc2MuY291bnQpO2lmKGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKHAuVVY0S2luZCxhLCExKX1pZihuLnV2czVBdHRyRGVzYyYmbi51dnM1QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM1QXR0ckRlc2Mub2Zmc2V0LG4udXZzNUF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShwLlVWNUtpbmQsYSwhMSl9aWYobi51dnM2QXR0ckRlc2MmJm4udXZzNkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNkF0dHJEZXNjLm9mZnNldCxuLnV2czZBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEocC5VVjZLaW5kLGEsITEpfWlmKG4uY29sb3JzQXR0ckRlc2MmJm4uY29sb3JzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5jb2xvcnNBdHRyRGVzYy5vZmZzZXQsbi5jb2xvcnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEocC5Db2xvcktpbmQsYSwhMSxuLmNvbG9yc0F0dHJEZXNjLnN0cmlkZSl9aWYobi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYyYmbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudCksbz1bXTtmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1hW2hdO28ucHVzaChsJjI1NSksby5wdXNoKChsJjY1MjgwKT4+OCksby5wdXNoKChsJjE2NzExNjgwKT4+MTYpLG8ucHVzaChsPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNJbmRpY2VzS2luZCxvLCExKX1pZihuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxvLCExKX1pZihuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjJiZuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzS2luZCxhLCExKX1pZihuLmluZGljZXNBdHRyRGVzYyYmbi5pbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uaW5kaWNlc0F0dHJEZXNjLm9mZnNldCxuLmluZGljZXNBdHRyRGVzYy5jb3VudCk7dC5zZXRJbmRpY2VzKGEsbnVsbCl9aWYobi5zdWJNZXNoZXNBdHRyRGVzYyYmbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5zdWJNZXNoZXNBdHRyRGVzYy5vZmZzZXQsbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudCo1KTt0LnN1Yk1lc2hlcz1bXTtmb3IobGV0IG89MDtvPG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ7bysrKXtjb25zdCBoPWFbbyo1KzBdLGw9YVtvKjUrMV0sdT1hW28qNSsyXSxmPWFbbyo1KzNdLGQ9YVtvKjUrNF07RXQuQWRkVG9NZXNoKGgsbCx1LGYsZCx0KX19fWVsc2UgaWYoZS5wb3NpdGlvbnMmJmUubm9ybWFscyYmZS5pbmRpY2VzKXtpZih0LnNldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCxlLnBvc2l0aW9ucyxlLnBvc2l0aW9ucy5fdXBkYXRhYmxlKSx0LnNldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQsZS5ub3JtYWxzLGUubm9ybWFscy5fdXBkYXRhYmxlKSxlLnRhbmdlbnRzJiZ0LnNldFZlcnRpY2VzRGF0YShwLlRhbmdlbnRLaW5kLGUudGFuZ2VudHMsZS50YW5nZW50cy5fdXBkYXRhYmxlKSxlLnV2cyYmdC5zZXRWZXJ0aWNlc0RhdGEocC5VVktpbmQsZS51dnMsZS51dnMuX3VwZGF0YWJsZSksZS51dnMyJiZ0LnNldFZlcnRpY2VzRGF0YShwLlVWMktpbmQsZS51dnMyLGUudXZzMi5fdXBkYXRhYmxlKSxlLnV2czMmJnQuc2V0VmVydGljZXNEYXRhKHAuVVYzS2luZCxlLnV2czMsZS51dnMzLl91cGRhdGFibGUpLGUudXZzNCYmdC5zZXRWZXJ0aWNlc0RhdGEocC5VVjRLaW5kLGUudXZzNCxlLnV2czQuX3VwZGF0YWJsZSksZS51dnM1JiZ0LnNldFZlcnRpY2VzRGF0YShwLlVWNUtpbmQsZS51dnM1LGUudXZzNS5fdXBkYXRhYmxlKSxlLnV2czYmJnQuc2V0VmVydGljZXNEYXRhKHAuVVY2S2luZCxlLnV2czYsZS51dnM2Ll91cGRhdGFibGUpLGUuY29sb3JzJiZ0LnNldFZlcnRpY2VzRGF0YShwLkNvbG9yS2luZCxnZS5DaGVja0NvbG9yczQoZS5jb2xvcnMsZS5wb3NpdGlvbnMubGVuZ3RoLzMpLGUuY29sb3JzLl91cGRhdGFibGUpLGUubWF0cmljZXNJbmRpY2VzKWlmKGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0tpbmQsZS5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz1lLm1hdHJpY2VzSW5kaWNlc1thXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0tpbmQsbixlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlKX1pZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhKWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQpZGVsZXRlIGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkLHQuc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLGUubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5fdXBkYXRhYmxlKTtlbHNle2NvbnN0IG49W107Zm9yKGxldCBhPTA7YTxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNFeHRyYVthXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxuLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSl9ZS5tYXRyaWNlc1dlaWdodHMmJihudC5fQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KSx0LnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZS5tYXRyaWNlc1dlaWdodHMsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSkpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLGUubWF0cmljZXNXZWlnaHRzRXh0cmEsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSksdC5zZXRJbmRpY2VzKGUuaW5kaWNlcyxudWxsKX1pZihlLnN1Yk1lc2hlcyl7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBuPTA7bjxlLnN1Yk1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPWUuc3ViTWVzaGVzW25dO0V0LkFkZFRvTWVzaChhLm1hdGVyaWFsSW5kZXgsYS52ZXJ0aWNlc1N0YXJ0LGEudmVydGljZXNDb3VudCxhLmluZGV4U3RhcnQsYS5pbmRleENvdW50LHQpfX10Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nJiYodC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpLHQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEpLHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxpLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9c3RhdGljIF9DbGVhbk1hdHJpY2VzV2VpZ2h0cyhlLHQpe2lmKCFPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzKXJldHVybjtsZXQgcz0wO2lmKGUuc2tlbGV0b25JZD4tMSl7Y29uc3QgdT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCF1KXJldHVybjtzPXUuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2NvbnN0IHI9dC5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXQuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxhPWUubWF0cmljZXNXZWlnaHRzLG89ZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxoPWUubnVtQm9uZUluZmx1ZW5jZXIsbD1hLmxlbmd0aDtmb3IobGV0IHU9MDt1PGw7dSs9NCl7bGV0IGY9MCxkPS0xO2ZvcihsZXQgXz0wO188NDtfKyspe2NvbnN0IEU9YVt1K19dO2YrPUUsRTwuMDAxJiZkPDAmJihkPV8pfWlmKG8pZm9yKGxldCBfPTA7Xzw0O18rKyl7Y29uc3QgRT1vW3UrX107Zis9RSxFPC4wMDEmJmQ8MCYmKGQ9Xys0KX1pZigoZDwwfHxkPmgtMSkmJihkPWgtMSksZj4uMDAxKXtjb25zdCBfPTEvZjtmb3IobGV0IEU9MDtFPDQ7RSsrKWFbdStFXSo9XztpZihvKWZvcihsZXQgRT0wO0U8NDtFKyspb1t1K0VdKj1ffWVsc2UgZD49ND8ob1t1K2QtNF09MS1mLG5bdStkLTRdPXMpOihhW3UrZF09MS1mLHJbdStkXT1zKX10LnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0tpbmQsciksZS5tYXRyaWNlc1dlaWdodHNFeHRyYSYmdC5zZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbil9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPW5ldyBudChlLmlkLHQsdm9pZCAwLGUudXBkYXRhYmxlKTtyZXR1cm4gcy5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxwZSYmcGUuQWRkVGFnc1RvKHMsZS50YWdzKSxlLmRlbGF5TG9hZGluZ0ZpbGU/KHMuZGVsYXlMb2FkU3RhdGU9NCxzLmRlbGF5TG9hZGluZ0ZpbGU9aStlLmRlbGF5TG9hZGluZ0ZpbGUscy5fYm91bmRpbmdJbmZvPW5ldyB1dChnLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWluaW11bSksZy5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1heGltdW0pKSxzLl9kZWxheUluZm89W10sZS5oYXNVVnMmJnMuX2RlbGF5SW5mby5wdXNoKHAuVVZLaW5kKSxlLmhhc1VWczImJnMuX2RlbGF5SW5mby5wdXNoKHAuVVYyS2luZCksZS5oYXNVVnMzJiZzLl9kZWxheUluZm8ucHVzaChwLlVWM0tpbmQpLGUuaGFzVVZzNCYmcy5fZGVsYXlJbmZvLnB1c2gocC5VVjRLaW5kKSxlLmhhc1VWczUmJnMuX2RlbGF5SW5mby5wdXNoKHAuVVY1S2luZCksZS5oYXNVVnM2JiZzLl9kZWxheUluZm8ucHVzaChwLlVWNktpbmQpLGUuaGFzQ29sb3JzJiZzLl9kZWxheUluZm8ucHVzaChwLkNvbG9yS2luZCksZS5oYXNNYXRyaWNlc0luZGljZXMmJnMuX2RlbGF5SW5mby5wdXNoKHAuTWF0cmljZXNJbmRpY2VzS2luZCksZS5oYXNNYXRyaWNlc1dlaWdodHMmJnMuX2RlbGF5SW5mby5wdXNoKHAuTWF0cmljZXNXZWlnaHRzS2luZCkscy5fZGVsYXlMb2FkaW5nRnVuY3Rpb249US5JbXBvcnRWZXJ0ZXhEYXRhKTpRLkltcG9ydFZlcnRleERhdGEoZSxzKSx0LnB1c2hHZW9tZXRyeShzLCEwKSxzfX12YXIgVXQ7KGZ1bmN0aW9uKGMpe2NbYy5MT0NBTD0wXT0iTE9DQUwiLGNbYy5XT1JMRD0xXT0iV09STEQiLGNbYy5CT05FPTJdPSJCT05FIn0pKFV0fHwoVXQ9e30pKTtjbGFzcyB1aXt9dWkuWD1uZXcgZygxLDAsMCksdWkuWT1uZXcgZygwLDEsMCksdWkuWj1uZXcgZygwLDAsMSk7dmFyIGJyOyhmdW5jdGlvbihjKXtjW2MuWD0wXT0iWCIsY1tjLlk9MV09IlkiLGNbYy5aPTJdPSJaIn0pKGJyfHwoYnI9e30pKTtjbGFzcyAkIGV4dGVuZHMgemV7Y29uc3RydWN0b3IoZSx0PW51bGwsaT0hMCl7c3VwZXIoZSx0KSx0aGlzLl9mb3J3YXJkPW5ldyBnKDAsMCwxKSx0aGlzLl91cD1uZXcgZygwLDEsMCksdGhpcy5fcmlnaHQ9bmV3IGcoMSwwLDApLHRoaXMuX3Bvc2l0aW9uPWcuWmVybygpLHRoaXMuX3JvdGF0aW9uPWcuWmVybygpLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1udWxsLHRoaXMuX3NjYWxpbmc9Zy5PbmUoKSx0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPW51bGwsdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLl9iaWxsYm9hcmRNb2RlPSQuQklMTEJPQVJETU9ERV9OT05FLHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9ITEsdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQ9MSx0aGlzLl9pbmZpbml0ZURpc3RhbmNlPSExLHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc9ITEsdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbj0hMSx0aGlzLl9wb3NlTWF0cml4PW51bGwsdGhpcy5fbG9jYWxNYXRyaXg9eC5aZXJvKCksdGhpcy5fdXNlUGl2b3RNYXRyaXg9ITEsdGhpcy5fYWJzb2x1dGVQb3NpdGlvbj1nLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmc9Zy5aZXJvKCksdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb249Ry5JZGVudGl0eSgpLHRoaXMuX3Bpdm90TWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD0hMSx0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9LTEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPSExLGkmJnRoaXMuZ2V0U2NlbmUoKS5hZGRUcmFuc2Zvcm1Ob2RlKHRoaXMpfWdldCBiaWxsYm9hcmRNb2RlKCl7cmV0dXJuIHRoaXMuX2JpbGxib2FyZE1vZGV9c2V0IGJpbGxib2FyZE1vZGUoZSl7dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUmJih0aGlzLl9iaWxsYm9hcmRNb2RlPWUpfWdldCBwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9c2V0IHByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQoZSl7ZSE9PXRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQmJih0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPWUpfWdldCBpbmZpbml0ZURpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9c2V0IGluZmluaXRlRGlzdGFuY2UoZSl7dGhpcy5faW5maW5pdGVEaXN0YW5jZSE9PWUmJih0aGlzLl9pbmZpbml0ZURpc3RhbmNlPWUpfWdldENsYXNzTmFtZSgpe3JldHVybiJUcmFuc2Zvcm1Ob2RlIn1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWUsdGhpcy5faXNEaXJ0eT0hMH1pc1VzaW5nUGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fdXNlUGl2b3RNYXRyaXh9Z2V0IHJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufXNldCByb3RhdGlvbihlKXt0aGlzLl9yb3RhdGlvbj1lLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1udWxsLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc2NhbGluZ31zZXQgc2NhbGluZyhlKXt0aGlzLl9zY2FsaW5nPWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgcm90YXRpb25RdWF0ZXJuaW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbn1zZXQgcm90YXRpb25RdWF0ZXJuaW9uKGUpe3RoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1lLGUmJnRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9pc0RpcnR5PSEwfWdldCBmb3J3YXJkKCl7cmV0dXJuIGcuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDAsMCx0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fZm9yd2FyZCksdGhpcy5fZm9yd2FyZC5ub3JtYWxpemUoKX1nZXQgdXAoKXtyZXR1cm4gZy5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwxLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3VwKSx0aGlzLl91cC5ub3JtYWxpemUoKX1nZXQgcmlnaHQoKXtyZXR1cm4gZy5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsMCwwLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9yaWdodCksdGhpcy5fcmlnaHQubm9ybWFsaXplKCl9dXBkYXRlUG9zZU1hdHJpeChlKXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeD8odGhpcy5fcG9zZU1hdHJpeC5jb3B5RnJvbShlKSx0aGlzKToodGhpcy5fcG9zZU1hdHJpeD1lLmNsb25lKCksdGhpcyl9Z2V0UG9zZU1hdHJpeCgpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD14LklkZW50aXR5KCkpLHRoaXMuX3Bvc2VNYXRyaXh9X2lzU3luY2hyb25pemVkKCl7Y29uc3QgZT10aGlzLl9jYWNoZTtyZXR1cm4hKHRoaXMuX2JpbGxib2FyZE1vZGUhPT1lLmJpbGxib2FyZE1vZGV8fHRoaXMuX2JpbGxib2FyZE1vZGUhPT0kLkJJTExCT0FSRE1PREVfTk9ORXx8ZS5waXZvdE1hdHJpeFVwZGF0ZWR8fHRoaXMuX2luZmluaXRlRGlzdGFuY2V8fHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5fHx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb24uX2lzRGlydHkpfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCk7Y29uc3QgZT10aGlzLl9jYWNoZTtlLmxvY2FsTWF0cml4VXBkYXRlZD0hMSxlLmJpbGxib2FyZE1vZGU9LTEsZS5pbmZpbml0ZURpc3RhbmNlPSExfWdldCBhYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpfWdldCBhYnNvbHV0ZVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVTY2FsaW5nfWdldCBhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn1zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoZSwhMSl9c2V0UGl2b3RNYXRyaXgoZSx0PSEwKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXguY29weUZyb20oZSksdGhpcy5fdXNlUGl2b3RNYXRyaXg9IXRoaXMuX3Bpdm90TWF0cml4LmlzSWRlbnRpdHkoKSx0aGlzLl9jYWNoZS5waXZvdE1hdHJpeFVwZGF0ZWQ9ITAsdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg9dCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT90aGlzLl9waXZvdE1hdHJpeC5pbnZlcnRUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UpOnRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT14LkludmVydCh0aGlzLl9waXZvdE1hdHJpeCkpLHRoaXN9Z2V0UGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31mcmVlemVXb3JsZE1hdHJpeChlPW51bGwsdD0hMSl7cmV0dXJuIGU/dD8odGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9yb3RhdGlvblF1YXRlcm5pb258fEcuSWRlbnRpdHkoKSxlLmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9ZSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfXVuZnJlZXplV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpc31nZXQgaXNXb3JsZE1hdHJpeEZyb3plbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufXNldEFic29sdXRlUG9zaXRpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXM7bGV0IHQsaSxzO2lmKGUueD09PXZvaWQgMCl7aWYoYXJndW1lbnRzLmxlbmd0aDwzKXJldHVybiB0aGlzO3Q9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdfWVsc2UgdD1lLngsaT1lLnkscz1lLno7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHI9UC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSxnLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQsaSxzLHIsdGhpcy5wb3NpdGlvbil9ZWxzZSB0aGlzLnBvc2l0aW9uLng9dCx0aGlzLnBvc2l0aW9uLnk9aSx0aGlzLnBvc2l0aW9uLno9cztyZXR1cm4gdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbShlKSx0aGlzfXNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249Zy5UcmFuc2Zvcm1Ob3JtYWwoZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc31nZXRQb3NpdGlvbkV4cHJlc3NlZEluTG9jYWxTcGFjZSgpe3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3QgZT1QLk1hdHJpeFswXTtyZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXguaW52ZXJ0VG9SZWYoZSksZy5UcmFuc2Zvcm1Ob3JtYWwodGhpcy5wb3NpdGlvbixlKX1sb2NhbGx5VHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1nLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9bG9va0F0KGUsdD0wLGk9MCxzPTAscj1VdC5MT0NBTCl7Y29uc3Qgbj0kLl9Mb29rQXRWZWN0b3JDYWNoZSxhPXI9PT1VdC5MT0NBTD90aGlzLnBvc2l0aW9uOnRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO2lmKGUuc3VidHJhY3RUb1JlZihhLG4pLHRoaXMuc2V0RGlyZWN0aW9uKG4sdCxpLHMpLHI9PT1VdC5XT1JMRCYmdGhpcy5wYXJlbnQpaWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe2NvbnN0IG89UC5NYXRyaXhbMF07dGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeChvKTtjb25zdCBoPVAuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihoKSxoLmludmVydCgpLG8ubXVsdGlwbHlUb1JlZihoLG8pLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeChvKX1lbHNle2NvbnN0IG89UC5RdWF0ZXJuaW9uWzBdO0cuRnJvbUV1bGVyVmVjdG9yVG9SZWYodGhpcy5yb3RhdGlvbixvKTtjb25zdCBoPVAuTWF0cml4WzBdO28udG9Sb3RhdGlvbk1hdHJpeChoKTtjb25zdCBsPVAuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihsKSxsLmludmVydCgpLGgubXVsdGlwbHlUb1JlZihsLGgpLG8uZnJvbVJvdGF0aW9uTWF0cml4KGgpLG8udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pfXJldHVybiB0aGlzfWdldERpcmVjdGlvbihlKXtjb25zdCB0PWcuWmVybygpO3JldHVybiB0aGlzLmdldERpcmVjdGlvblRvUmVmKGUsdCksdH1nZXREaXJlY3Rpb25Ub1JlZihlLHQpe3JldHVybiBnLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpLHRoaXN9c2V0RGlyZWN0aW9uKGUsdD0wLGk9MCxzPTApe2NvbnN0IHI9LU1hdGguYXRhbjIoZS56LGUueCkrTWF0aC5QSS8yLG49TWF0aC5zcXJ0KGUueCplLngrZS56KmUueiksYT0tTWF0aC5hdGFuMihlLnksbik7cmV0dXJuIHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP0cuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihyK3QsYStpLHMsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOih0aGlzLnJvdGF0aW9uLng9YStpLHRoaXMucm90YXRpb24ueT1yK3QsdGhpcy5yb3RhdGlvbi56PXMpLHRoaXN9c2V0UGl2b3RQb2ludChlLHQ9VXQuTE9DQUwpe3RoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpPT0wJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7Y29uc3QgaT10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYodD09VXQuV09STEQpe2NvbnN0IHM9UC5NYXRyaXhbMF07aS5pbnZlcnRUb1JlZihzKSxlPWcuVHJhbnNmb3JtQ29vcmRpbmF0ZXMoZSxzKX1yZXR1cm4gdGhpcy5zZXRQaXZvdE1hdHJpeCh4LlRyYW5zbGF0aW9uKC1lLngsLWUueSwtZS56KSwhMCl9Z2V0UGl2b3RQb2ludCgpe2NvbnN0IGU9Zy5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKGUpLGV9Z2V0UGl2b3RQb2ludFRvUmVmKGUpe3JldHVybiBlLng9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTJdLGUueT0tdGhpcy5fcGl2b3RNYXRyaXgubVsxM10sZS56PS10aGlzLl9waXZvdE1hdHJpeC5tWzE0XSx0aGlzfWdldEFic29sdXRlUGl2b3RQb2ludCgpe2NvbnN0IGU9Zy5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYoZSksZX1nZXRBYnNvbHV0ZVBpdm90UG9pbnRUb1JlZihlKXtyZXR1cm4gdGhpcy5nZXRQaXZvdFBvaW50VG9SZWYoZSksZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLGUpLHRoaXN9bWFya0FzRGlydHkoZSl7aWYodGhpcy5faXNEaXJ0eSlyZXR1cm4gdGhpcztpZih0aGlzLl9jaGlsZHJlbilmb3IoY29uc3QgdCBvZiB0aGlzLl9jaGlsZHJlbil0Lm1hcmtBc0RpcnR5KGUpO3JldHVybiBzdXBlci5tYXJrQXNEaXJ0eShlKX1zZXRQYXJlbnQoZSx0PSExKXtpZighZSYmIXRoaXMucGFyZW50KXJldHVybiB0aGlzO2NvbnN0IGk9UC5RdWF0ZXJuaW9uWzBdLHM9UC5WZWN0b3IzWzBdLHI9UC5WZWN0b3IzWzFdLG49UC5NYXRyaXhbMV07eC5JZGVudGl0eVRvUmVmKG4pO2NvbnN0IGE9UC5NYXRyaXhbMF07dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2xldCBvPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uO3JldHVybiBvfHwobz0kLl9UbXBSb3RhdGlvbixHLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosbykpLHguQ29tcG9zZVRvUmVmKHRoaXMuc2NhbGluZyxvLHRoaXMucG9zaXRpb24sYSksdGhpcy5wYXJlbnQmJmEubXVsdGlwbHlUb1JlZih0aGlzLnBhcmVudC5jb21wdXRlV29ybGRNYXRyaXgoITApLGEpLGUmJihlLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkuaW52ZXJ0VG9SZWYobiksYS5tdWx0aXBseVRvUmVmKG4sYSkpLGEuZGVjb21wb3NlKHIsaSxzLHQ/dGhpczp2b2lkIDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKGkpOmkudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXMuc2NhbGluZy5jb3B5RnJvbShyKSx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tKHMpLHRoaXMucGFyZW50PWUsdGhpc31nZXQgbm9uVW5pZm9ybVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmd9X3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSl7cmV0dXJuIHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPT09ZT8hMToodGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ZSwhMCl9YXR0YWNoVG9Cb25lKGUsdCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lPXRoaXMucGFyZW50LHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9dCx0aGlzLnBhcmVudD1lLGUuZ2V0U2tlbGV0b24oKS5wcmVwYXJlKCksZS5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpc31kZXRhY2hGcm9tQm9uZShlPSExKXtyZXR1cm4gdGhpcy5wYXJlbnQ/KHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPW51bGwsZT90aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZTp0aGlzLnBhcmVudD1udWxsLHRoaXMpOihlJiYodGhpcy5wYXJlbnQ9dGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmUpLHRoaXMpfXJvdGF0ZShlLHQsaSl7ZS5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb24udG9RdWF0ZXJuaW9uKCksdGhpcy5yb3RhdGlvbi5zZXRBbGwoMCkpO2xldCBzO2lmKCFpfHxpPT09VXQuTE9DQUwpcz1HLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCwkLl9Sb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXtjb25zdCByPVAuTWF0cml4WzBdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYociksZT1nLlRyYW5zZm9ybU5vcm1hbChlLHIpfXM9Ry5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsJC5fUm90YXRpb25BeGlzQ2FjaGUpLHMubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9cmV0dXJuIHRoaXN9cm90YXRlQXJvdW5kKGUsdCxpKXt0Lm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249Ry5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueiksdGhpcy5yb3RhdGlvbi5zZXRBbGwoMCkpO2NvbnN0IHM9UC5WZWN0b3IzWzBdLHI9UC5WZWN0b3IzWzFdLG49UC5WZWN0b3IzWzJdLGE9UC5RdWF0ZXJuaW9uWzBdLG89UC5NYXRyaXhbMF0saD1QLk1hdHJpeFsxXSxsPVAuTWF0cml4WzJdLHU9UC5NYXRyaXhbM107cmV0dXJuIGUuc3VidHJhY3RUb1JlZih0aGlzLnBvc2l0aW9uLHMpLHguVHJhbnNsYXRpb25Ub1JlZihzLngscy55LHMueixvKSx4LlRyYW5zbGF0aW9uVG9SZWYoLXMueCwtcy55LC1zLnosaCkseC5Sb3RhdGlvbkF4aXNUb1JlZih0LGksbCksaC5tdWx0aXBseVRvUmVmKGwsdSksdS5tdWx0aXBseVRvUmVmKG8sdSksdS5kZWNvbXBvc2UocixhLG4pLHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZShuKSxhLm11bHRpcGx5VG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pLHRoaXN9dHJhbnNsYXRlKGUsdCxpKXtjb25zdCBzPWUuc2NhbGUodCk7aWYoIWl8fGk9PT1VdC5MT0NBTCl7Y29uc3Qgcj10aGlzLmdldFBvc2l0aW9uRXhwcmVzc2VkSW5Mb2NhbFNwYWNlKCkuYWRkKHMpO3RoaXMuc2V0UG9zaXRpb25XaXRoTG9jYWxWZWN0b3Iocil9ZWxzZSB0aGlzLnNldEFic29sdXRlUG9zaXRpb24odGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuYWRkKHMpKTtyZXR1cm4gdGhpc31hZGRSb3RhdGlvbihlLHQsaSl7bGV0IHM7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/cz10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjoocz1QLlF1YXRlcm5pb25bMV0sRy5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHMpKTtjb25zdCByPVAuUXVhdGVybmlvblswXTtyZXR1cm4gRy5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHIpLHMubXVsdGlwbHlJblBsYWNlKHIpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHxzLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzfV9nZXRFZmZlY3RpdmVQYXJlbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnR9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe2lmKHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW4mJiF0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzLl93b3JsZE1hdHJpeDtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO2lmKCF0aGlzLl9pc0RpcnR5JiYhZSYmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PXR8fHRoaXMuaXNTeW5jaHJvbml6ZWQoKSkpcmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD10LHRoaXMuX3dvcmxkTWF0cml4O2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSxzPSh0aGlzLl9iaWxsYm9hcmRNb2RlJiQuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04pIT09MCxyPXRoaXMuX2JpbGxib2FyZE1vZGUhPT0kLkJJTExCT0FSRE1PREVfTk9ORSYmIXRoaXMucHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZDt0aGlzLl91cGRhdGVDYWNoZSgpO2NvbnN0IG49dGhpcy5fY2FjaGU7bi5waXZvdE1hdHJpeFVwZGF0ZWQ9ITEsbi5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxuLmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLG4ucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsdGhpcy5fY3VycmVudFJlbmRlcklkPXQsdGhpcy5fY2hpbGRVcGRhdGVJZCs9MSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3JvdGF0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3NjYWxpbmcuX2lzRGlydHk9ITE7Y29uc3QgYT10aGlzLl9nZXRFZmZlY3RpdmVQYXJlbnQoKSxvPSQuX1RtcFNjYWxpbmc7bGV0IGg9dGhpcy5fcG9zaXRpb247aWYodGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50JiZpKXtjb25zdCB1PWkuZ2V0V29ybGRNYXRyaXgoKSxmPW5ldyBnKHUubVsxMl0sdS5tWzEzXSx1Lm1bMTRdKTtoPSQuX1RtcFRyYW5zbGF0aW9uLGguY29weUZyb21GbG9hdHModGhpcy5fcG9zaXRpb24ueCtmLngsdGhpcy5fcG9zaXRpb24ueStmLnksdGhpcy5fcG9zaXRpb24ueitmLnopfW8uY29weUZyb21GbG9hdHModGhpcy5fc2NhbGluZy54KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueSp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnoqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQpO2xldCBsO2lmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj8odGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLl9pc0RpcnR5PSExLGw9dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpJiYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5SW5QbGFjZShHLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56KSksdGhpcy5fcm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKSk6KGw9JC5fVG1wUm90YXRpb24sRy5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGwpKSx0aGlzLl91c2VQaXZvdE1hdHJpeCl7Y29uc3QgdT1QLk1hdHJpeFsxXTt4LlNjYWxpbmdUb1JlZihvLngsby55LG8ueix1KTtjb25zdCBmPVAuTWF0cml4WzBdO2wudG9Sb3RhdGlvbk1hdHJpeChmKSx0aGlzLl9waXZvdE1hdHJpeC5tdWx0aXBseVRvUmVmKHUsUC5NYXRyaXhbNF0pLFAuTWF0cml4WzRdLm11bHRpcGx5VG9SZWYoZix0aGlzLl9sb2NhbE1hdHJpeCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXgmJnRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9sb2NhbE1hdHJpeC5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMoaC54LGgueSxoLnopfWVsc2UgeC5Db21wb3NlVG9SZWYobyxsLGgsdGhpcy5fbG9jYWxNYXRyaXgpO2lmKGEmJmEuZ2V0V29ybGRNYXRyaXgpe2lmKGUmJmEuY29tcHV0ZVdvcmxkTWF0cml4KGUpLHIpe3RoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw/YS5nZXRXb3JsZE1hdHJpeCgpLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLFAuTWF0cml4WzddKTpQLk1hdHJpeFs3XS5jb3B5RnJvbShhLmdldFdvcmxkTWF0cml4KCkpO2NvbnN0IHU9UC5WZWN0b3IzWzVdLGY9UC5WZWN0b3IzWzZdO1AuTWF0cml4WzddLmRlY29tcG9zZShmLHZvaWQgMCx1KSx4LlNjYWxpbmdUb1JlZihmLngsZi55LGYueixQLk1hdHJpeFs3XSksUC5NYXRyaXhbN10uc2V0VHJhbnNsYXRpb24odSksdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihQLk1hdHJpeFs3XSx0aGlzLl93b3JsZE1hdHJpeCl9ZWxzZSB0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPyh0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKGEuZ2V0V29ybGRNYXRyaXgoKSxQLk1hdHJpeFs2XSksUC5NYXRyaXhbNl0ubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpKTp0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKGEuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCk7dGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX3dvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtpZihyJiZpJiZ0aGlzLmJpbGxib2FyZE1vZGUmJiFzKXtjb25zdCB1PVAuVmVjdG9yM1swXTtpZih0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHUpLFAuTWF0cml4WzFdLmNvcHlGcm9tKGkuZ2V0Vmlld01hdHJpeCgpKSxQLk1hdHJpeFsxXS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLFAuTWF0cml4WzFdLmludmVydFRvUmVmKFAuTWF0cml4WzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJiQuQklMTEJPQVJETU9ERV9BTEwpIT09JC5CSUxMQk9BUkRNT0RFX0FMTCl7UC5NYXRyaXhbMF0uZGVjb21wb3NlKHZvaWQgMCxQLlF1YXRlcm5pb25bMF0sdm9pZCAwKTtjb25zdCBmPVAuVmVjdG9yM1sxXTtQLlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKGYpLCh0aGlzLmJpbGxib2FyZE1vZGUmJC5CSUxMQk9BUkRNT0RFX1gpIT09JC5CSUxMQk9BUkRNT0RFX1gmJihmLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSYkLkJJTExCT0FSRE1PREVfWSkhPT0kLkJJTExCT0FSRE1PREVfWSYmKGYueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJiQuQklMTEJPQVJETU9ERV9aKSE9PSQuQklMTEJPQVJETU9ERV9aJiYoZi56PTApLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihmLnksZi54LGYueixQLk1hdHJpeFswXSl9dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKFAuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihQLlZlY3RvcjNbMF0pfWVsc2UgaWYociYmaSYmdGhpcy5iaWxsYm9hcmRNb2RlJiZzKXtjb25zdCB1PVAuVmVjdG9yM1swXTt0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHUpO2NvbnN0IGY9aS5nbG9iYWxQb3NpdGlvbjt0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZihQLk1hdHJpeFsxXSk7Y29uc3QgZD1QLlZlY3RvcjNbMV07Zy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGYsUC5NYXRyaXhbMV0sZCksZC5ub3JtYWxpemUoKTtjb25zdCBfPS1NYXRoLmF0YW4yKGQueixkLngpK01hdGguUEkvMixFPU1hdGguc3FydChkLngqZC54K2QueipkLnopLG09LU1hdGguYXRhbjIoZC55LEUpO2lmKEcuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihfLG0sMCxQLlF1YXRlcm5pb25bMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmJC5CSUxMQk9BUkRNT0RFX0FMTCkhPT0kLkJJTExCT0FSRE1PREVfQUxMKXtjb25zdCBUPVAuVmVjdG9yM1sxXTtQLlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKFQpLCh0aGlzLmJpbGxib2FyZE1vZGUmJC5CSUxMQk9BUkRNT0RFX1gpIT09JC5CSUxMQk9BUkRNT0RFX1gmJihULng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSYkLkJJTExCT0FSRE1PREVfWSkhPT0kLkJJTExCT0FSRE1PREVfWSYmKFQueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJiQuQklMTEJPQVJETU9ERV9aKSE9PSQuQklMTEJPQVJETU9ERV9aJiYoVC56PTApLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihULnksVC54LFQueixQLk1hdHJpeFswXSl9ZWxzZSB4LkZyb21RdWF0ZXJuaW9uVG9SZWYoUC5RdWF0ZXJuaW9uWzBdLFAuTWF0cml4WzBdKTt0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoUC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKFAuVmVjdG9yM1swXSl9cmV0dXJuIHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSk6dGhpcy5fc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDFlLTYpP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITApOmEmJmEuX25vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoYS5fbm9uVW5pZm9ybVNjYWxpbmcpOnRoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PXguSW52ZXJ0KHRoaXMuX3dvcmxkTWF0cml4KSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXh9cmVzZXRMb2NhbE1hdHJpeChlPSEwKXtpZih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLGUpe2NvbnN0IHQ9dGhpcy5nZXRDaGlsZHJlbigpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKXtjb25zdCBzPXRbaV07aWYocyl7cy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCByPVAuTWF0cml4WzBdO3MuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fbG9jYWxNYXRyaXgscik7Y29uc3Qgbj1QLlF1YXRlcm5pb25bMF07ci5kZWNvbXBvc2Uocy5zY2FsaW5nLG4scy5wb3NpdGlvbikscy5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYocy5yb3RhdGlvbil9fX10aGlzLnNjYWxpbmcuY29weUZyb21GbG9hdHMoMSwxLDEpLHRoaXMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249Ry5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCl9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7fXJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlcldvcmxkTWF0cml4VXBkYXRlKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31nZXRQb3NpdGlvbkluQ2FtZXJhU3BhY2UoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksZy5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKSxlLmdldFZpZXdNYXRyaXgoKSl9Z2V0RGlzdGFuY2VUb0NhbWVyYShlPW51bGwpe3JldHVybiBlfHwoZT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhKSx0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5zdWJ0cmFjdChlLmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKX1jbG9uZShlLHQsaSl7Y29uc3Qgcz1yZS5DbG9uZSgoKT0+bmV3ICQoZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO2lmKHMubmFtZT1lLHMuaWQ9ZSx0JiYocy5wYXJlbnQ9dCksIWkpe2NvbnN0IHI9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9cltuXTthLmNsb25lJiZhLmNsb25lKGUrIi4iK2EubmFtZSxzKX19cmV0dXJuIHN9c2VyaWFsaXplKGUpe2NvbnN0IHQ9cmUuU2VyaWFsaXplKHRoaXMsZSk7cmV0dXJuIHQudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHQudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KHQpLHQubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSx0LmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLHR9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPXJlLlBhcnNlKCgpPT5uZXcgJChlLm5hbWUsdCksZSx0LGkpO3JldHVybiBlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KHguRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KHguRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxzfWdldENoaWxkVHJhbnNmb3JtTm9kZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcyBpbnN0YW5jZW9mICQpLGl9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVUcmFuc2Zvcm1Ob2RlKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuc3BsaWNlKGksMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksZSl7Y29uc3QgaT10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO2Zvcihjb25zdCBzIG9mIGkpcy5wYXJlbnQ9bnVsbCxzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9c3VwZXIuZGlzcG9zZShlLHQpfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe2xldCBzPW51bGwscj1udWxsO3QmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj8ocj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpKTp0aGlzLnJvdGF0aW9uJiYocz10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKTtjb25zdCBuPXRoaXMuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKGUsaSksYT1uLm1heC5zdWJ0cmFjdChuLm1pbiksbz1NYXRoLm1heChhLngsYS55LGEueik7aWYobz09PTApcmV0dXJuIHRoaXM7Y29uc3QgaD0xL287cmV0dXJuIHRoaXMuc2NhbGluZy5zY2FsZUluUGxhY2UoaCksdCYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZyP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHIpOnRoaXMucm90YXRpb24mJnMmJnRoaXMucm90YXRpb24uY29weUZyb20ocykpLHRoaXN9X3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpe3RoaXMuX2lzQWJzb2x1dGVTeW5jZWR8fCh0aGlzLl93b3JsZE1hdHJpeC5kZWNvbXBvc2UodGhpcy5fYWJzb2x1dGVTY2FsaW5nLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSEwKX19JC5CSUxMQk9BUkRNT0RFX05PTkU9MCwkLkJJTExCT0FSRE1PREVfWD0xLCQuQklMTEJPQVJETU9ERV9ZPTIsJC5CSUxMQk9BUkRNT0RFX1o9NCwkLkJJTExCT0FSRE1PREVfQUxMPTcsJC5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTj0xMjgsJC5fVG1wUm90YXRpb249Ry5aZXJvKCksJC5fVG1wU2NhbGluZz1nLlplcm8oKSwkLl9UbXBUcmFuc2xhdGlvbj1nLlplcm8oKSwkLl9Mb29rQXRWZWN0b3JDYWNoZT1uZXcgZygwLDAsMCksJC5fUm90YXRpb25BeGlzQ2FjaGU9bmV3IEcsUyhbTnQoInBvc2l0aW9uIildLCQucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksUyhbTnQoInJvdGF0aW9uIildLCQucHJvdG90eXBlLCJfcm90YXRpb24iLHZvaWQgMCksUyhbdW4oInJvdGF0aW9uUXVhdGVybmlvbiIpXSwkLnByb3RvdHlwZSwiX3JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxTKFtOdCgic2NhbGluZyIpXSwkLnByb3RvdHlwZSwiX3NjYWxpbmciLHZvaWQgMCksUyhbTSgiYmlsbGJvYXJkTW9kZSIpXSwkLnByb3RvdHlwZSwiX2JpbGxib2FyZE1vZGUiLHZvaWQgMCksUyhbTSgpXSwkLnByb3RvdHlwZSwic2NhbGluZ0RldGVybWluYW50Iix2b2lkIDApLFMoW00oImluZmluaXRlRGlzdGFuY2UiKV0sJC5wcm90b3R5cGUsIl9pbmZpbml0ZURpc3RhbmNlIix2b2lkIDApLFMoW00oKV0sJC5wcm90b3R5cGUsImlnbm9yZU5vblVuaWZvcm1TY2FsaW5nIix2b2lkIDApLFMoW00oKV0sJC5wcm90b3R5cGUsInJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApO2NsYXNzIHZue2NvbnN0cnVjdG9yKCl7dGhpcy5fY2hlY2tDb2xsaXNpb25zPSExLHRoaXMuX2NvbGxpc2lvbk1hc2s9LTEsdGhpcy5fY29sbGlzaW9uR3JvdXA9LTEsdGhpcy5fc3Vycm91bmRpbmdNZXNoZXM9bnVsbCx0aGlzLl9jb2xsaWRlcj1udWxsLHRoaXMuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgZygwLDAsMCksdGhpcy5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgZygwLDAsMCksdGhpcy5fY29sbGlzaW9uUmVzcG9uc2U9ITB9fWNsYXNzIE1ue2NvbnN0cnVjdG9yKCl7dGhpcy5mYWNldE5iPTAsdGhpcy5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9MTAsdGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW89MS4wMSx0aGlzLmZhY2V0RGF0YUVuYWJsZWQ9ITEsdGhpcy5mYWNldFBhcmFtZXRlcnM9e30sdGhpcy5iYlNpemU9Zy5aZXJvKCksdGhpcy5zdWJEaXY9e21heDoxLFg6MSxZOjEsWjoxfSx0aGlzLmZhY2V0RGVwdGhTb3J0PSExLHRoaXMuZmFjZXREZXB0aFNvcnRFbmFibGVkPSExfX1jbGFzcyBBbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2hhc1ZlcnRleEFscGhhPSExLHRoaXMuX3VzZVZlcnRleENvbG9ycz0hMCx0aGlzLl9udW1Cb25lSW5mbHVlbmNlcnM9NCx0aGlzLl9hcHBseUZvZz0hMCx0aGlzLl9yZWNlaXZlU2hhZG93cz0hMSx0aGlzLl9mYWNldERhdGE9bmV3IE1uLHRoaXMuX3Zpc2liaWxpdHk9MSx0aGlzLl9za2VsZXRvbj1udWxsLHRoaXMuX2xheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSEwLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXM9ITEsdGhpcy5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSx0aGlzLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0Q9bnVsbCx0aGlzLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSx0aGlzLl9jb2xsaXNpb25SZXRyeUNvdW50PTMsdGhpcy5fbW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXBJZD0wLHRoaXMuX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1udWxsLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fcG9zaXRpb25zPW51bGwsdGhpcy5fbWVzaENvbGxpc2lvbkRhdGE9bmV3IHZuLHRoaXMuX2VuYWJsZURpc3RhbnRQaWNraW5nPSExfX1jbGFzcyBhdCBleHRlbmRzICR7Y29uc3RydWN0b3IoZSx0PW51bGwpe3N1cGVyKGUsdCwhMSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbz1uZXcgQW4sdGhpcy5fd2FpdGluZ01hdGVyaWFsSWQ9bnVsbCx0aGlzLmN1bGxpbmdTdHJhdGVneT1hdC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWSx0aGlzLm9uQ29sbGlkZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPSEwLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXA9bnVsbCx0aGlzLmFscGhhSW5kZXg9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLmlzVmlzaWJsZT0hMCx0aGlzLmlzUGlja2FibGU9ITAsdGhpcy5pc05lYXJQaWNrYWJsZT0hMSx0aGlzLmlzTmVhckdyYWJiYWJsZT0hMSx0aGlzLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD0hMSx0aGlzLmlzQmxvY2tlcj0hMSx0aGlzLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzPSExLHRoaXMub3V0bGluZUNvbG9yPWllLlJlZCgpLHRoaXMub3V0bGluZVdpZHRoPS4wMix0aGlzLm92ZXJsYXlDb2xvcj1pZS5SZWQoKSx0aGlzLm92ZXJsYXlBbHBoYT0uNSx0aGlzLnVzZU9jdHJlZUZvclJlbmRlcmluZ1NlbGVjdGlvbj0hMCx0aGlzLnVzZU9jdHJlZUZvclBpY2tpbmc9ITAsdGhpcy51c2VPY3RyZWVGb3JDb2xsaXNpb25zPSEwLHRoaXMuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSExLHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSExLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsLHRoaXMuZWxsaXBzb2lkPW5ldyBnKC41LDEsLjUpLHRoaXMuZWxsaXBzb2lkT2Zmc2V0PW5ldyBnKDAsMCwwKSx0aGlzLmVkZ2VzV2lkdGg9MSx0aGlzLmVkZ2VzQ29sb3I9bmV3IGdlKDEsMCwwLDEpLHRoaXMuX2VkZ2VzUmVuZGVyZXI9bnVsbCx0aGlzLl9tYXN0ZXJNZXNoPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPW5ldyBBcnJheSx0aGlzLl91bkluZGV4ZWQ9ITEsdGhpcy5fbGlnaHRTb3VyY2VzPW5ldyBBcnJheSx0aGlzLl93YWl0aW5nRGF0YT17bG9kczpudWxsLGFjdGlvbnM6bnVsbCxmcmVlemVXb3JsZE1hdHJpeDpudWxsfSx0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlPShpLHMscj1udWxsKT0+e3Muc3VidHJhY3RUb1JlZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucy5sZW5ndGgoKT5DLkNvbGxpc2lvbnNFcHNpbG9uJiZ0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLHImJnRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5wb3NpdGlvbil9LHQ9dGhpcy5nZXRTY2VuZSgpLHQuYWRkTWVzaCh0aGlzKSx0aGlzLl9yZXN5bmNMaWdodFNvdXJjZXMoKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBIKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUsIXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc1dlYkdQVSksdGhpcy5fYnVpbGRVbmlmb3JtTGF5b3V0KCksdC5wZXJmb3JtYW5jZVByaW9yaXR5IT09bGkuQmFja3dhcmRDb21wYXRpYmxlJiYodGhpcy5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITAsdGhpcy5pc1BpY2thYmxlPSExKX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfTk9ORSgpe3JldHVybiAkLkJJTExCT0FSRE1PREVfTk9ORX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWCgpe3JldHVybiAkLkJJTExCT0FSRE1PREVfWH1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWSgpe3JldHVybiAkLkJJTExCT0FSRE1PREVfWX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWigpe3JldHVybiAkLkJJTExCT0FSRE1PREVfWn1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfQUxMKCl7cmV0dXJuICQuQklMTEJPQVJETU9ERV9BTEx9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTigpe3JldHVybiAkLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OfWdldCBmYWNldE5iKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldE5ifWdldCBwYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9uc31zZXQgcGFydGl0aW9uaW5nU3ViZGl2aXNpb25zKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9ZX1nZXQgcGFydGl0aW9uaW5nQkJveFJhdGlvKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW99c2V0IHBhcnRpdGlvbmluZ0JCb3hSYXRpbyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nQkJveFJhdGlvPWV9Z2V0IG11c3REZXB0aFNvcnRGYWNldHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0fXNldCBtdXN0RGVwdGhTb3J0RmFjZXRzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydD1lfWdldCBmYWNldERlcHRoU29ydEZyb20oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbX1zZXQgZmFjZXREZXB0aFNvcnRGcm9tKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb209ZX1nZXQgY29sbGlzaW9uUmV0cnlDb3VudCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb2xsaXNpb25SZXRyeUNvdW50fXNldCBjb2xsaXNpb25SZXRyeUNvdW50KGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnQ9ZX1nZXQgaXNGYWNldERhdGFFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERhdGFFbmFibGVkfWdldCBtb3JwaFRhcmdldE1hbmFnZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyfXNldCBtb3JwaFRhcmdldE1hbmFnZXIoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcj1lLHRoaXMuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSl9Z2V0IGJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXJ9c2V0IGJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcihlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7fV91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKGUpe3JldHVybiBzdXBlci5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKT8odGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCksITApOiExfXNldCBvbkNvbGxpZGUoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyPXRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciYmdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlcj10aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgdmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fXNldCB2aXNpYmlsaXR5KGUpe2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT1lLCh0PT09MSYmZSE9PTF8fHQhPT0xJiZlPT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfWdldCByZW5kZXJpbmdHcm91cElkKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWR9c2V0IHJlbmRlcmluZ0dyb3VwSWQoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZD1lfWdldCBtYXRlcmlhbCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbH1zZXQgbWF0ZXJpYWwoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWw9ZSxlJiZlLm1lc2hNYXAmJihlLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dGhpcyksdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnN1Yk1lc2hlcyYmKHRoaXMucmVzZXREcmF3Q2FjaGUoKSx0aGlzLl91bkJpbmRFZmZlY3QoKSkpfWdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyhlKXt2YXIgdDtyZXR1cm4odD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT1udWxsP3ZvaWQgMDp0W2VdfXNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyhlLHQpe3RoaXMucmVzZXREcmF3Q2FjaGUoZSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzPVtdKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3NbZV09dH1nZXQgcmVjZWl2ZVNoYWRvd3MoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3N9c2V0IHJlY2VpdmVTaGFkb3dzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaGFzVmVydGV4QWxwaGEoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGF9c2V0IGhhc1ZlcnRleEFscGhhKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCkpfWdldCB1c2VWZXJ0ZXhDb2xvcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzfXNldCB1c2VWZXJ0ZXhDb2xvcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3VzZVZlcnRleENvbG9ycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc31zZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IG51bUJvbmVJbmZsdWVuY2Vycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnN9c2V0IG51bUJvbmVJbmZsdWVuY2VycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBhcHBseUZvZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZ31zZXQgYXBwbHlGb2coZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2chPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2c9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9Z2V0IGVuYWJsZURpc3RhbnRQaWNraW5nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nfXNldCBlbmFibGVEaXN0YW50UGlja2luZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZz1lfWdldCBsYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrfXNldCBsYXllck1hc2soZSl7ZSE9PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzayYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzaz1lLHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpKX1nZXQgY29sbGlzaW9uTWFzaygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFza31zZXQgY29sbGlzaW9uTWFzayhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFzaz1pc05hTihlKT8tMTplfWdldCBjb2xsaXNpb25SZXNwb25zZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uUmVzcG9uc2V9c2V0IGNvbGxpc2lvblJlc3BvbnNlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZT1lfWdldCBjb2xsaXNpb25Hcm91cCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXB9c2V0IGNvbGxpc2lvbkdyb3VwKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25Hcm91cD1pc05hTihlKT8tMTplfWdldCBzdXJyb3VuZGluZ01lc2hlcygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fc3Vycm91bmRpbmdNZXNoZXN9c2V0IHN1cnJvdW5kaW5nTWVzaGVzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlcz1lfWdldCBsaWdodFNvdXJjZXMoKXtyZXR1cm4gdGhpcy5fbGlnaHRTb3VyY2VzfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIG51bGx9c2V0IHNrZWxldG9uKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247dCYmdC5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnQuX3VucmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksZSYmZS5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJmUuX3JlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPWUsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b258fCh0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWdldCBza2VsZXRvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbn1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ3b3JsZCIsMTYpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidmlzaWJpbGl0eSIsMSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX10cmFuc2ZlclRvRWZmZWN0KGUpe2NvbnN0IHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0LnVwZGF0ZU1hdHJpeCgid29ybGQiLGUpLHQudXBkYXRlRmxvYXQoInZpc2liaWxpdHkiLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHkpLHQudXBkYXRlKCl9Z2V0TWVzaFVuaWZvcm1CdWZmZXIoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcn1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQWJzdHJhY3RNZXNoIn10b1N0cmluZyhlKXtsZXQgdD0iTmFtZTogIit0aGlzLm5hbWUrIiwgaXNJbnN0YW5jZTogIisodGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRNZXNoIj8iWUVTIjoiTk8iKTt0Kz0iLCAjIG9mIHN1Ym1lc2hlczogIisodGhpcy5zdWJNZXNoZXM/dGhpcy5zdWJNZXNoZXMubGVuZ3RoOjApO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247cmV0dXJuIGkmJih0Kz0iLCBza2VsZXRvbjogIitpLm5hbWUpLGUmJih0Kz0iLCBiaWxsYm9hcmQgbW9kZTogIitbIk5PTkUiLCJYIiwiWSIsbnVsbCwiWiIsbnVsbCxudWxsLCJBTEwiXVt0aGlzLmJpbGxib2FyZE1vZGVdLHQrPSIsIGZyZWV6ZSB3cmxkIG1hdDogIisodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbnx8dGhpcy5fd2FpdGluZ0RhdGEuZnJlZXplV29ybGRNYXRyaXg/IllFUyI6Ik5PIikpLHR9X2dldEVmZmVjdGl2ZVBhcmVudCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGUhPT0kLkJJTExCT0FSRE1PREVfTk9ORT90aGlzLl9tYXN0ZXJNZXNoOnN1cGVyLl9nZXRFZmZlY3RpdmVQYXJlbnQoKX1fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSx0PSEwKXtpZih0aGlzLmFjdGlvbk1hbmFnZXImJih0fHx0aGlzLmFjdGlvbk1hbmFnZXIuaXNSZWN1cnNpdmUpKWlmKGUpe2lmKHRoaXMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoZSkpcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcn1lbHNlIHJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXI7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV9yZWJ1aWxkKGU9ITEpe2lmKHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksISF0aGlzLnN1Yk1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLnN1Yk1lc2hlcyl0Ll9yZWJ1aWxkKCl9X3Jlc3luY0xpZ2h0U291cmNlcygpe3RoaXMuX2xpZ2h0U291cmNlcy5sZW5ndGg9MDtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNjZW5lKCkubGlnaHRzKSFlLmlzRW5hYmxlZCgpfHxlLmNhbkFmZmVjdE1lc2godGhpcykmJnRoaXMuX2xpZ2h0U291cmNlcy5wdXNoKGUpO3RoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX1fcmVzeW5jTGlnaHRTb3VyY2UoZSl7Y29uc3QgdD1lLmlzRW5hYmxlZCgpJiZlLmNhbkFmZmVjdE1lc2godGhpcyksaT10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZihlKTtsZXQgcz0hMTtpZihpPT09LTEpe2lmKCF0KXJldHVybjt0aGlzLl9saWdodFNvdXJjZXMucHVzaChlKX1lbHNle2lmKHQpcmV0dXJuO3M9ITAsdGhpcy5fbGlnaHRTb3VyY2VzLnNwbGljZShpLDEpfXRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkocyl9X3VuQmluZEVmZmVjdCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuc3ViTWVzaGVzKWUuc2V0RWZmZWN0KG51bGwpfV9yZW1vdmVMaWdodFNvdXJjZShlLHQpe2NvbnN0IGk9dGhpcy5fbGlnaHRTb3VyY2VzLmluZGV4T2YoZSk7aSE9PS0xJiYodGhpcy5fbGlnaHRTb3VyY2VzLnNwbGljZShpLDEpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkodCkpfV9tYXJrU3ViTWVzaGVzQXNEaXJ0eShlKXtpZighIXRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKWZvcihsZXQgaT0wO2k8dC5fZHJhd1dyYXBwZXJzLmxlbmd0aDsrK2kpe2NvbnN0IHM9dC5fZHJhd1dyYXBwZXJzW2ldOyFzfHwhcy5kZWZpbmVzfHwhcy5kZWZpbmVzLm1hcmtBbGxBc0RpcnR5fHxlKHMuZGVmaW5lcyl9fV9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KGU9ITEpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KHQ9PnQubWFya0FzTGlnaHREaXJ0eShlKSl9X21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGU9PmUubWFya0FzQXR0cmlidXRlc0RpcnR5KCkpfV9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShlPT5lLm1hcmtBc01pc2NEaXJ0eSgpKX1tYXJrQXNEaXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXJlc2V0RHJhd0NhY2hlKGUpe2lmKCEhdGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpdC5yZXNldERyYXdDYWNoZShlKX1nZXQgaXNCbG9ja2VkKCl7cmV0dXJuITF9Z2V0TE9EKGUpe3JldHVybiB0aGlzfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gMH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gMH1nZXRJbmRpY2VzKCl7cmV0dXJuIG51bGx9Z2V0VmVydGljZXNEYXRhKGUpe3JldHVybiBudWxsfXNldFZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpc311cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXN9c2V0SW5kaWNlcyhlLHQpe3JldHVybiB0aGlzfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4hMX1nZXRCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLmdldEJvdW5kaW5nSW5mbygpOih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5JiYodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKSksdGhpcy5fYm91bmRpbmdJbmZvKX1zZXRCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9Z2V0IGhhc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8hPT1udWxsfWJ1aWxkQm91bmRpbmdJbmZvKGUsdCxpKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPW5ldyB1dChlLHQsaSksdGhpcy5fYm91bmRpbmdJbmZvfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe3JldHVybiBzdXBlci5ub3JtYWxpemVUb1VuaXRDdWJlKGUsdCxpKX1nZXQgdXNlQm9uZXMoKXtyZXR1cm4gdGhpcy5za2VsZXRvbiYmdGhpcy5nZXRTY2VuZSgpLnNrZWxldG9uc0VuYWJsZWQmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTWF0cmljZXNJbmRpY2VzS2luZCkmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTWF0cmljZXNXZWlnaHRzS2luZCl9X3ByZUFjdGl2YXRlKCl7fV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXt9X2FjdGl2YXRlKGUsdCl7cmV0dXJuIHRoaXMuX3JlbmRlcklkPWUsITB9X3Bvc3RBY3RpdmF0ZSgpe31fZnJlZXplKCl7fV91bkZyZWV6ZSgpe31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGU9PT0kLkJJTExCT0FSRE1PREVfTk9ORT90aGlzLl9tYXN0ZXJNZXNoLmdldFdvcmxkTWF0cml4KCk6c3VwZXIuZ2V0V29ybGRNYXRyaXgoKX1fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTpzdXBlci5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpfWdldCBpc0FuSW5zdGFuY2UoKXtyZXR1cm4hMX1nZXQgaGFzSW5zdGFuY2VzKCl7cmV0dXJuITF9Z2V0IGhhc1RoaW5JbnN0YW5jZXMoKXtyZXR1cm4hMX1tb3ZlUE9WKGUsdCxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY01vdmVQT1YoZSx0LGkpKSx0aGlzfWNhbGNNb3ZlUE9WKGUsdCxpKXtjb25zdCBzPW5ldyB4Oyh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbjpHLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSkudG9Sb3RhdGlvbk1hdHJpeChzKTtjb25zdCBuPWcuWmVybygpLGE9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8tMToxO3JldHVybiBnLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUqYSx0LGkqYSxzLG4pLG59cm90YXRlUE9WKGUsdCxpKXtyZXR1cm4gdGhpcy5yb3RhdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY1JvdGF0ZVBPVihlLHQsaSkpLHRoaXN9Y2FsY1JvdGF0ZVBPVihlLHQsaSl7Y29uc3Qgcz10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPzE6LTE7cmV0dXJuIG5ldyBnKGUqcyx0LGkqcyl9cmVmcmVzaEJvdW5kaW5nSW5mbyhlPSExLHQ9ITEpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8mJnRoaXMuX2JvdW5kaW5nSW5mby5pc0xvY2tlZD90aGlzOih0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YShlLHQpLG51bGwpLHRoaXMpfV9yZWZyZXNoQm91bmRpbmdJbmZvKGUsdCl7aWYoZSl7Y29uc3QgaT1TcihlLDAsdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCksdCk7dGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChpLm1pbmltdW0saS5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IHV0KGkubWluaW11bSxpLm1heGltdW0pfWlmKHRoaXMuc3ViTWVzaGVzKWZvcihsZXQgaT0wO2k8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2krKyl0aGlzLnN1Yk1lc2hlc1tpXS5yZWZyZXNoQm91bmRpbmdJbmZvKGUpO3RoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpfV9nZXREYXRhKGU9ITEsdD0hMSxpLHM9cC5Qb3NpdGlvbktpbmQpe2lmKGk9aSE9bnVsbD9pOnRoaXMuZ2V0VmVydGljZXNEYXRhKHMpLnNsaWNlKCksaSYmdCYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpe2xldCByPTAsbj0wO2ZvcihsZXQgYT0wO2E8aS5sZW5ndGg7YSsrKXtmb3IobGV0IG89MDtvPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLm51bVRhcmdldHM7bysrKXtjb25zdCBoPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmdldFRhcmdldChvKSxsPWguaW5mbHVlbmNlO2lmKGw+MCl7Y29uc3QgdT1oLmdldFBvc2l0aW9ucygpO3UmJihpW2FdKz0odVthXS1pW2FdKSpsKX19aWYocisrLHM9PT1wLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZyPT09Myl7cj0wO2NvbnN0IG89biozO3RoaXMuX3Bvc2l0aW9uc1tuKytdLmNvcHlGcm9tRmxvYXRzKGlbb10saVtvKzFdLGlbbysyXSl9fX1pZihpJiZlJiZ0aGlzLnNrZWxldG9uKXtjb25zdCByPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNJbmRpY2VzS2luZCksbj10aGlzLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKG4mJnIpe2NvbnN0IGE9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnM+NCxvPWE/dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpOm51bGwsaD1hP3RoaXMuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKTpudWxsLGw9dGhpcy5za2VsZXRvbi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyh0aGlzKSx1PVAuVmVjdG9yM1swXSxmPVAuTWF0cml4WzBdLGQ9UC5NYXRyaXhbMV07bGV0IF89MDtmb3IobGV0IEU9MDtFPGkubGVuZ3RoO0UrPTMsXys9NCl7Zi5yZXNldCgpO2xldCBtLFQ7Zm9yKG09MDttPDQ7bSsrKVQ9bltfK21dLFQ+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKGwsTWF0aC5mbG9vcihyW18rbV0qMTYpLFQsZCksZi5hZGRUb1NlbGYoZCkpO2lmKGEpZm9yKG09MDttPDQ7bSsrKVQ9aFtfK21dLFQ+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKGwsTWF0aC5mbG9vcihvW18rbV0qMTYpLFQsZCksZi5hZGRUb1NlbGYoZCkpO3M9PT1wLk5vcm1hbEtpbmQ/Zy5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaVtFXSxpW0UrMV0saVtFKzJdLGYsdSk6Zy5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpW0VdLGlbRSsxXSxpW0UrMl0sZix1KSx1LnRvQXJyYXkoaSxFKSxzPT09cC5Qb3NpdGlvbktpbmQmJnRoaXMuX3Bvc2l0aW9ucyYmdGhpcy5fcG9zaXRpb25zW0UvM10uY29weUZyb20odSl9fX1yZXR1cm4gaX1nZXROb3JtYWxzRGF0YShlPSExLHQ9ITEpe3JldHVybiB0aGlzLl9nZXREYXRhKGUsdCxudWxsLHAuTm9ybWFsS2luZCl9Z2V0UG9zaXRpb25EYXRhKGU9ITEsdD0hMSxpKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YShlLHQsaSxwLlBvc2l0aW9uS2luZCl9X2dldFBvc2l0aW9uRGF0YShlLHQpe3ZhciBzO2xldCBpPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnMmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCksaSYmKGUmJnRoaXMuc2tlbGV0b258fHQmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKSl7aWYoaT1pLnNsaWNlKCksdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLHRoaXMuX3Bvc2l0aW9ucyl7Y29uc3Qgcj10aGlzLl9wb3NpdGlvbnM7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW5ldyBBcnJheShyLmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zW25dPSgocz1yW25dKT09bnVsbD92b2lkIDA6cy5jbG9uZSgpKXx8bmV3IGd9cmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25EYXRhKGUsdCxpKX1yZXR1cm4gaX1fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8udXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgdXQoZy5aZXJvKCksZy5aZXJvKCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9X3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyhlKXtpZighdGhpcy5zdWJNZXNoZXMpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3Qgcz10aGlzLnN1Yk1lc2hlc1tpXTsodD4xfHwhcy5Jc0dsb2JhbCkmJnMudXBkYXRlQm91bmRpbmdJbmZvKGUpfXJldHVybiB0aGlzfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNJbkZydXN0dW0oZSx0aGlzLmN1bGxpbmdTdHJhdGVneSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1pbnRlcnNlY3RzTWVzaChlLHQ9ITEsaSl7Y29uc3Qgcz10aGlzLmdldEJvdW5kaW5nSW5mbygpLHI9ZS5nZXRCb3VuZGluZ0luZm8oKTtpZihzLmludGVyc2VjdHMocix0KSlyZXR1cm4hMDtpZihpKXtmb3IoY29uc3QgbiBvZiB0aGlzLmdldENoaWxkTWVzaGVzKCkpaWYobi5pbnRlcnNlY3RzTWVzaChlLHQsITApKXJldHVybiEwfXJldHVybiExfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pbnRlcnNlY3RzUG9pbnQoZSl9Z2V0IGNoZWNrQ29sbGlzaW9ucygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfXNldCBjaGVja0NvbGxpc2lvbnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz1lfWdldCBjb2xsaWRlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ9bW92ZVdpdGhDb2xsaXNpb25zKGUpe3RoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmNvbGxpc2lvbkNvb3JkaW5hdG9yO3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXI9aS5jcmVhdGVDb2xsaWRlcigpKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIuX3JhZGl1cz10aGlzLmVsbGlwc29pZCxpLmdldE5ld1Bvc2l0aW9uKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMsZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIsdGhpcy5jb2xsaXNpb25SZXRyeUNvdW50LHRoaXMsdGhpcy5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSx0aGlzLnVuaXF1ZUlkKSx0aGlzfV9jb2xsaWRlRm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7aWYodGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLCF0aGlzLl9wb3NpdGlvbnMpcmV0dXJuIHRoaXM7aWYoIWUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXN8fCFlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXguZXF1YWxzKHQpKXtlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9dC5jbG9uZSgpLGUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9W10sZS5fdHJpYW5nbGVQbGFuZXM9W107Y29uc3Qgcj1lLnZlcnRpY2VzU3RhcnQsbj1lLnZlcnRpY2VzU3RhcnQrZS52ZXJ0aWNlc0NvdW50O2ZvcihsZXQgYT1yO2E8bjthKyspZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcy5wdXNoKGcuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5fcG9zaXRpb25zW2FdLHQpKX1yZXR1cm4gaS5fY29sbGlkZShlLl90cmlhbmdsZVBsYW5lcyxlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLHRoaXMuZ2V0SW5kaWNlcygpLGUuaW5kZXhTdGFydCxlLmluZGV4U3RhcnQrZS5pbmRleENvdW50LGUudmVydGljZXNTdGFydCwhIWUuZ2V0TWF0ZXJpYWwoKSx0aGlzLHRoaXMuX3Nob3VsZENvbnZlcnRSSFMoKSwoKHM9ZS5nZXRNYXRlcmlhbCgpKT09bnVsbD92b2lkIDA6cy5maWxsTW9kZSk9PT03KSx0aGlzfV9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyxlKSxzPWkubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspe2NvbnN0IG49aS5kYXRhW3JdO3M+MSYmIW4uX2NoZWNrQ29sbGlzaW9uKGUpfHx0aGlzLl9jb2xsaWRlRm9yU3ViTWVzaChuLHQsZSl9cmV0dXJuIHRoaXN9X3Nob3VsZENvbnZlcnRSSFMoKXtyZXR1cm4hMX1fY2hlY2tDb2xsaXNpb24oZSl7aWYoIXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuX2NoZWNrQ29sbGlzaW9uKGUpKXJldHVybiB0aGlzO2NvbnN0IHQ9UC5NYXRyaXhbMF0saT1QLk1hdHJpeFsxXTtyZXR1cm4geC5TY2FsaW5nVG9SZWYoMS9lLl9yYWRpdXMueCwxL2UuX3JhZGl1cy55LDEvZS5fcmFkaXVzLnosdCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZS5tdWx0aXBseVRvUmVmKHQsaSksdGhpcy5fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXMoZSxpKSx0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuITF9aW50ZXJzZWN0cyhlLHQsaSxzPSExLHIsbj0hMSl7Y29uc3QgYT1uZXcgYnQsbz10aGlzLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fHRoaXMuZ2V0Q2xhc3NOYW1lKCk9PT0iTGluZXNNZXNoIj90aGlzLmludGVyc2VjdGlvblRocmVzaG9sZDowLGg9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZighdGhpcy5zdWJNZXNoZXN8fCFuJiYoIWUuaW50ZXJzZWN0c1NwaGVyZShoLmJvdW5kaW5nU3BoZXJlLG8pfHwhZS5pbnRlcnNlY3RzQm94KGguYm91bmRpbmdCb3gsbykpKXJldHVybiBhO2lmKHMpcmV0dXJuIGEuaGl0PSFuLGEucGlja2VkTWVzaD1uP251bGw6dGhpcyxhLmRpc3RhbmNlPW4/MDpnLkRpc3RhbmNlKGUub3JpZ2luLGguYm91bmRpbmdTcGhlcmUuY2VudGVyKSxhLnN1Yk1lc2hJZD0wLGE7aWYoIXRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSlyZXR1cm4gYTtsZXQgbD1udWxsO2NvbnN0IHU9dGhpcy5fc2NlbmUuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyxlKSxmPXUubGVuZ3RoO2xldCBkPSExO2ZvcihsZXQgXz0wO188ZjtfKyspe2NvbnN0IG09dS5kYXRhW19dLmdldE1hdGVyaWFsKCk7aWYoISFtJiYobS5maWxsTW9kZT09N3x8bS5maWxsTW9kZT09MHx8bS5maWxsTW9kZT09MXx8bS5maWxsTW9kZT09Mnx8bS5maWxsTW9kZT09NCkpe2Q9ITA7YnJlYWt9fWlmKCFkKXJldHVybiBhLmhpdD0hMCxhLnBpY2tlZE1lc2g9dGhpcyxhLmRpc3RhbmNlPWcuRGlzdGFuY2UoZS5vcmlnaW4saC5ib3VuZGluZ1NwaGVyZS5jZW50ZXIpLGEuc3ViTWVzaElkPS0xLGE7Zm9yKGxldCBfPTA7XzxmO18rKyl7Y29uc3QgRT11LmRhdGFbX107aWYoZj4xJiYhRS5jYW5JbnRlcnNlY3RzKGUpKWNvbnRpbnVlO2NvbnN0IG09RS5pbnRlcnNlY3RzKGUsdGhpcy5fcG9zaXRpb25zLHRoaXMuZ2V0SW5kaWNlcygpLHQsaSk7aWYobSYmKHR8fCFsfHxtLmRpc3RhbmNlPGwuZGlzdGFuY2UpJiYobD1tLGwuc3ViTWVzaElkPV8sdCkpYnJlYWt9aWYobCl7Y29uc3QgXz1yIT1udWxsP3I6dGhpcy5nZXRXb3JsZE1hdHJpeCgpLEU9UC5WZWN0b3IzWzBdLG09UC5WZWN0b3IzWzFdO2cuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbixfLEUpLGUuZGlyZWN0aW9uLnNjYWxlVG9SZWYobC5kaXN0YW5jZSxtKTtjb25zdCBiPWcuVHJhbnNmb3JtTm9ybWFsKG0sXykuYWRkSW5QbGFjZShFKTtyZXR1cm4gYS5oaXQ9ITAsYS5kaXN0YW5jZT1nLkRpc3RhbmNlKEUsYiksYS5waWNrZWRQb2ludD1iLGEucGlja2VkTWVzaD10aGlzLGEuYnU9bC5idXx8MCxhLmJ2PWwuYnZ8fDAsYS5zdWJNZXNoRmFjZUlkPWwuZmFjZUlkLGEuZmFjZUlkPWwuZmFjZUlkK3UuZGF0YVtsLnN1Yk1lc2hJZF0uaW5kZXhTdGFydC8odGhpcy5nZXRDbGFzc05hbWUoKS5pbmRleE9mKCJMaW5lc01lc2giKSE9PS0xPzI6MyksYS5zdWJNZXNoSWQ9bC5zdWJNZXNoSWQsYX1yZXR1cm4gYX1jbG9uZShlLHQsaSl7cmV0dXJuIG51bGx9cmVsZWFzZVN1Yk1lc2hlcygpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcig7dGhpcy5zdWJNZXNoZXMubGVuZ3RoOyl0aGlzLnN1Yk1lc2hlc1swXS5kaXNwb3NlKCk7ZWxzZSB0aGlzLnN1Yk1lc2hlcz1uZXcgQXJyYXk7cmV0dXJuIHRoaXN9ZGlzcG9zZShlLHQ9ITEpe2xldCBpO2Zvcih0aGlzLl9zY2VuZS51c2VNYXRlcmlhbE1lc2hNYXAmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuZ2V0U2NlbmUoKS5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5nZXRTY2VuZSgpLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLmFjdGlvbk1hbmFnZXIhPT12b2lkIDAmJnRoaXMuYWN0aW9uTWFuYWdlciE9PW51bGwmJih0aGlzLmFjdGlvbk1hbmFnZXIuZGlzcG9zZSgpLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbj1udWxsLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUmJih0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlPW51bGwpLGk9MDtpPHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmxlbmd0aDtpKyspe2NvbnN0IG49dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3NbaV0sYT1uLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKHRoaXMpO24uX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShhLDEpfXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmxlbmd0aD0wLHRoaXMuZ2V0U2NlbmUoKS5saWdodHMuZm9yRWFjaChuPT57bGV0IGE9bi5pbmNsdWRlZE9ubHlNZXNoZXMuaW5kZXhPZih0aGlzKTthIT09LTEmJm4uaW5jbHVkZWRPbmx5TWVzaGVzLnNwbGljZShhLDEpLGE9bi5leGNsdWRlZE1lc2hlcy5pbmRleE9mKHRoaXMpLGEhPT0tMSYmbi5leGNsdWRlZE1lc2hlcy5zcGxpY2UoYSwxKTtjb25zdCBvPW4uZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYobyl7Y29uc3QgaD1vLmdldFNoYWRvd01hcCgpO2gmJmgucmVuZGVyTGlzdCYmKGE9aC5yZW5kZXJMaXN0LmluZGV4T2YodGhpcyksYSE9PS0xJiZoLnJlbmRlckxpc3Quc3BsaWNlKGEsMSkpfX0pLCh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZExpbmVzTWVzaCIpJiZ0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtpZih0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLmlzT2NjbHVzaW9uUXVlcnlJblByb2dyZXNzPSExLHIuZGVsZXRlUXVlcnkodGhpcy5fb2NjbHVzaW9uUXVlcnkpLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLHIud2lwZUNhY2hlcygpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVNZXNoKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgbj10aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLmluZGV4T2YodGhpcyk7bj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1lc2hlcy5zcGxpY2UobiwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0JiZ0aGlzLm1hdGVyaWFsJiYodGhpcy5tYXRlcmlhbC5nZXRDbGFzc05hbWUoKT09PSJNdWx0aU1hdGVyaWFsIj90aGlzLm1hdGVyaWFsLmRpc3Bvc2UoITEsITAsITApOnRoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCkpLCFlKWZvcihpPTA7aTx0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtpKyspdGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1tpXS5lbWl0dGVyPT09dGhpcyYmKHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXNbaV0uZGlzcG9zZSgpLGktLSk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWQmJnRoaXMuZGlzYWJsZUZhY2V0RGF0YSgpLHRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVidWlsZE9ic2VydmFibGUuY2xlYXIoKSxzdXBlci5kaXNwb3NlKGUsdCl9YWRkQ2hpbGQoZSx0PSExKXtyZXR1cm4gZS5zZXRQYXJlbnQodGhpcyx0KSx0aGlzfXJlbW92ZUNoaWxkKGUsdD0hMSl7cmV0dXJuIGUuc2V0UGFyZW50KG51bGwsdCksdGhpc31faW5pdEZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO2UuZmFjZXROb3JtYWxzfHwoZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5KSxlLmZhY2V0UG9zaXRpb25zfHwoZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXkpLGUuZmFjZXRQYXJ0aXRpb25pbmd8fChlLmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSksZS5mYWNldE5iPXRoaXMuZ2V0SW5kaWNlcygpLmxlbmd0aC8zfDAsZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM/ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM6MTAsZS5wYXJ0aXRpb25pbmdCQm94UmF0aW89ZS5wYXJ0aXRpb25pbmdCQm94UmF0aW8/ZS5wYXJ0aXRpb25pbmdCQm94UmF0aW86MS4wMTtmb3IobGV0IHQ9MDt0PGUuZmFjZXROYjt0KyspZS5mYWNldE5vcm1hbHNbdF09Zy5aZXJvKCksZS5mYWNldFBvc2l0aW9uc1t0XT1nLlplcm8oKTtyZXR1cm4gZS5mYWNldERhdGFFbmFibGVkPSEwLHRoaXN9dXBkYXRlRmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7ZS5mYWNldERhdGFFbmFibGVkfHx0aGlzLl9pbml0RmFjZXREYXRhKCk7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCkscj10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKGUuZmFjZXREZXB0aFNvcnQmJiFlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7aWYoZS5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITAsaSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KWUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKTtlbHNlIGlmKGkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSllLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoaSk7ZWxzZXtsZXQgYT0hMTtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKylpZihpW29dPjY1NTM1KXthPSEwO2JyZWFrfWE/ZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KGkpOmUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKX1pZihlLmZhY2V0RGVwdGhTb3J0RnVuY3Rpb249ZnVuY3Rpb24oYSxvKXtyZXR1cm4gby5zcURpc3RhbmNlLWEuc3FEaXN0YW5jZX0sIWUuZmFjZXREZXB0aFNvcnRGcm9tKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7ZS5mYWNldERlcHRoU29ydEZyb209YT9hLnBvc2l0aW9uOmcuWmVybygpfWUuZGVwdGhTb3J0ZWRGYWNldHM9W107Zm9yKGxldCBhPTA7YTxlLmZhY2V0TmI7YSsrKXtjb25zdCBvPXtpbmQ6YSozLHNxRGlzdGFuY2U6MH07ZS5kZXB0aFNvcnRlZEZhY2V0cy5wdXNoKG8pfWUuaW52ZXJ0ZWRNYXRyaXg9eC5JZGVudGl0eSgpLGUuZmFjZXREZXB0aFNvcnRPcmlnaW49Zy5aZXJvKCl9ZS5iYlNpemUueD1yLm1heGltdW0ueC1yLm1pbmltdW0ueD5NZT9yLm1heGltdW0ueC1yLm1pbmltdW0ueDpNZSxlLmJiU2l6ZS55PXIubWF4aW11bS55LXIubWluaW11bS55Pk1lP3IubWF4aW11bS55LXIubWluaW11bS55Ok1lLGUuYmJTaXplLno9ci5tYXhpbXVtLnotci5taW5pbXVtLno+TWU/ci5tYXhpbXVtLnotci5taW5pbXVtLno6TWU7bGV0IG49ZS5iYlNpemUueD5lLmJiU2l6ZS55P2UuYmJTaXplLng6ZS5iYlNpemUueTtpZihuPW4+ZS5iYlNpemUuej9uOmUuYmJTaXplLnosZS5zdWJEaXYubWF4PWUucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zLGUuc3ViRGl2Llg9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUueC9uKSxlLnN1YkRpdi5ZPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLnkvbiksZS5zdWJEaXYuWj1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS56L24pLGUuc3ViRGl2Llg9ZS5zdWJEaXYuWDwxPzE6ZS5zdWJEaXYuWCxlLnN1YkRpdi5ZPWUuc3ViRGl2Llk8MT8xOmUuc3ViRGl2LlksZS5zdWJEaXYuWj1lLnN1YkRpdi5aPDE/MTplLnN1YkRpdi5aLGUuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0Tm9ybWFscz10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksZS5mYWNldFBhcmFtZXRlcnMuZmFjZXRQb3NpdGlvbnM9dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksZS5mYWNldFBhcmFtZXRlcnMuZmFjZXRQYXJ0aXRpb25pbmc9dGhpcy5nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCksZS5mYWNldFBhcmFtZXRlcnMuYkluZm89cixlLmZhY2V0UGFyYW1ldGVycy5iYlNpemU9ZS5iYlNpemUsZS5mYWNldFBhcmFtZXRlcnMuc3ViRGl2PWUuc3ViRGl2LGUuZmFjZXRQYXJhbWV0ZXJzLnJhdGlvPXRoaXMucGFydGl0aW9uaW5nQkJveFJhdGlvLGUuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydD1lLmZhY2V0RGVwdGhTb3J0LGUuZmFjZXREZXB0aFNvcnQmJmUuZmFjZXREZXB0aFNvcnRFbmFibGVkJiYodGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKGUuaW52ZXJ0ZWRNYXRyaXgpLGcuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLmZhY2V0RGVwdGhTb3J0RnJvbSxlLmludmVydGVkTWF0cml4LGUuZmFjZXREZXB0aFNvcnRPcmlnaW4pLGUuZmFjZXRQYXJhbWV0ZXJzLmRpc3RhbmNlVG89ZS5mYWNldERlcHRoU29ydE9yaWdpbiksZS5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0ZWRGYWNldHM9ZS5kZXB0aFNvcnRlZEZhY2V0cyxzJiZRLkNvbXB1dGVOb3JtYWxzKHQsaSxzLGUuZmFjZXRQYXJhbWV0ZXJzKSxlLmZhY2V0RGVwdGhTb3J0JiZlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7ZS5kZXB0aFNvcnRlZEZhY2V0cy5zb3J0KGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbik7Y29uc3QgYT1lLmRlcHRoU29ydGVkSW5kaWNlcy5sZW5ndGgvM3wwO2ZvcihsZXQgbz0wO288YTtvKyspe2NvbnN0IGg9ZS5kZXB0aFNvcnRlZEZhY2V0c1tvXS5pbmQ7ZS5kZXB0aFNvcnRlZEluZGljZXNbbyozXT1pW2hdLGUuZGVwdGhTb3J0ZWRJbmRpY2VzW28qMysxXT1pW2grMV0sZS5kZXB0aFNvcnRlZEluZGljZXNbbyozKzJdPWlbaCsyXX10aGlzLnVwZGF0ZUluZGljZXMoZS5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc31nZXRGYWNldExvY2FsTm9ybWFscygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0Tm9ybWFsc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSxlLmZhY2V0Tm9ybWFsc31nZXRGYWNldExvY2FsUG9zaXRpb25zKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQb3NpdGlvbnN8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBvc2l0aW9uc31nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBhcnRpdGlvbmluZ31nZXRGYWNldFBvc2l0aW9uKGUpe2NvbnN0IHQ9Zy5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXRQb3NpdGlvblRvUmVmKGUsdCksdH1nZXRGYWNldFBvc2l0aW9uVG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpW2VdLHM9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO3JldHVybiBnLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoaSxzLHQpLHRoaXN9Z2V0RmFjZXROb3JtYWwoZSl7Y29uc3QgdD1nLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCksdH1nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKClbZV07cmV0dXJuIGcuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSxyPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YSxuPU1hdGguZmxvb3IoKGUtcy5taW5pbXVtLngqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Llgqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueCksYT1NYXRoLmZsb29yKCh0LXMubWluaW11bS55KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5ZKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLnkpLG89TWF0aC5mbG9vcigoaS1zLm1pbmltdW0ueipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS56KTtyZXR1cm4gbjwwfHxuPnIuc3ViRGl2Lm1heHx8YTwwfHxhPnIuc3ViRGl2Lm1heHx8bzwwfHxvPnIuc3ViRGl2Lm1heD9udWxsOnIuZmFjZXRQYXJ0aXRpb25pbmdbbityLnN1YkRpdi5tYXgqYStyLnN1YkRpdi5tYXgqci5zdWJEaXYubWF4Km9dfWdldENsb3Nlc3RGYWNldEF0Q29vcmRpbmF0ZXMoZSx0LGkscyxyPSExLG49ITApe2NvbnN0IGE9dGhpcy5nZXRXb3JsZE1hdHJpeCgpLG89UC5NYXRyaXhbNV07YS5pbnZlcnRUb1JlZihvKTtjb25zdCBoPVAuVmVjdG9yM1s4XTtnLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLG8saCk7Y29uc3QgbD10aGlzLmdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhoLngsaC55LGgueixzLHIsbik7cmV0dXJuIHMmJmcuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocy54LHMueSxzLnosYSxzKSxsfWdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhlLHQsaSxzLHI9ITEsbj0hMCl7bGV0IGE9bnVsbCxvPTAsaD0wLGw9MCx1PTAsZj0wLGQ9MCxfPTAsRT0wO2NvbnN0IG09dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksVD10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksYj10aGlzLmdldEZhY2V0c0F0TG9jYWxDb29yZGluYXRlcyhlLHQsaSk7aWYoIWIpcmV0dXJuIG51bGw7bGV0IFI9TnVtYmVyLk1BWF9WQUxVRSx5PVIsRCx2LEE7Zm9yKGxldCBMPTA7TDxiLmxlbmd0aDtMKyspRD1iW0xdLHY9VFtEXSxBPW1bRF0sdT0oZS1BLngpKnYueCsodC1BLnkpKnYueSsoaS1BLnopKnYueiwoIXJ8fHImJm4mJnU+PTB8fHImJiFuJiZ1PD0wKSYmKHU9di54KkEueCt2LnkqQS55K3YueipBLnosZj0tKHYueCplK3YueSp0K3YueippLXUpLyh2Lngqdi54K3YueSp2Lnkrdi56KnYueiksZD1lK3YueCpmLF89dCt2LnkqZixFPWkrdi56KmYsbz1kLWUsaD1fLXQsbD1FLWkseT1vKm8raCpoK2wqbCx5PFImJihSPXksYT1ELHMmJihzLng9ZCxzLnk9XyxzLno9RSkpKTtyZXR1cm4gYX1nZXRGYWNldERhdGFQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldFBhcmFtZXRlcnN9ZGlzYWJsZUZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQmJihlLmZhY2V0RGF0YUVuYWJsZWQ9ITEsZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5LGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LGUuZmFjZXRQYXJhbWV0ZXJzPW51bGwsZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzfWNyZWF0ZU5vcm1hbHMoZSl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKTtsZXQgcztyZXR1cm4gdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5Ob3JtYWxLaW5kKT9zPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCk6cz1bXSxRLkNvbXB1dGVOb3JtYWxzKHQsaSxzLHt1c2VSaWdodEhhbmRlZFN5c3RlbTp0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW19KSx0aGlzLnNldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQscyxlKSx0aGlzfWFsaWduV2l0aE5vcm1hbChlLHQpe3R8fCh0PXVpLlkpO2NvbnN0IGk9UC5WZWN0b3IzWzBdLHM9UC5WZWN0b3IzWzFdO3JldHVybiBnLkNyb3NzVG9SZWYodCxlLHMpLGcuQ3Jvc3NUb1JlZihlLHMsaSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/Ry5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGksZSxzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTpnLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihpLGUscyx0aGlzLnJvdGF0aW9uKSx0aGlzfV9jaGVja09jY2x1c2lvblF1ZXJ5KCl7cmV0dXJuITF9ZGlzYWJsZUVkZ2VzUmVuZGVyaW5nKCl7dGhyb3cgcSgiRWRnZXNSZW5kZXJlciIpfWVuYWJsZUVkZ2VzUmVuZGVyaW5nKGUsdCxpKXt0aHJvdyBxKCJFZGdlc1JlbmRlcmVyIil9Z2V0Q29ubmVjdGVkUGFydGljbGVTeXN0ZW1zKCl7cmV0dXJuIHRoaXMuX3NjZW5lLnBhcnRpY2xlU3lzdGVtcy5maWx0ZXIoZT0+ZS5lbWl0dGVyPT09dGhpcyl9fWF0Lk9DQ0xVU0lPTl9UWVBFX05PTkU9MCxhdC5PQ0NMVVNJT05fVFlQRV9PUFRJTUlTVElDPTEsYXQuT0NDTFVTSU9OX1RZUEVfU1RSSUNUPTIsYXQuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0FDQ1VSQVRFPTAsYXQuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0NPTlNFUlZBVElWRT0xLGF0LkNVTExJTkdTVFJBVEVHWV9TVEFOREFSRD0wLGF0LkNVTExJTkdTVFJBVEVHWV9CT1VORElOR1NQSEVSRV9PTkxZPTEsYXQuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OPTIsYXQuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OX1RIRU5fQlNQSEVSRV9PTkxZPTMsdHQoIkJBQllMT04uQWJzdHJhY3RNZXNoIixhdCk7Y2xhc3MgZXN7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXN9dG9HbG9iYWwoZSx0KXtyZXR1cm4gbmV3IGVzKHRoaXMueCplLHRoaXMueSp0LHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX10b0dsb2JhbFRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PXRoaXMueCplLGkueT10aGlzLnkqdCxpLndpZHRoPXRoaXMud2lkdGgqZSxpLmhlaWdodD10aGlzLmhlaWdodCp0LHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IGVzKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fWNsYXNzIFogZXh0ZW5kcyB6ZXtjb25zdHJ1Y3RvcihlLHQsaSxzPSEwKXtzdXBlcihlLGkpLHRoaXMuX3Bvc2l0aW9uPWcuWmVybygpLHRoaXMuX3VwVmVjdG9yPWcuVXAoKSx0aGlzLl9vcnRob0xlZnQ9bnVsbCx0aGlzLl9vcnRob1JpZ2h0PW51bGwsdGhpcy5fb3J0aG9Cb3R0b209bnVsbCx0aGlzLl9vcnRob1RvcD1udWxsLHRoaXMuZm92PS44LHRoaXMucHJvamVjdGlvblBsYW5lVGlsdD0wLHRoaXMubWluWj0xLHRoaXMubWF4Wj0xZTQsdGhpcy5pbmVydGlhPS45LHRoaXMuX21vZGU9Wi5QRVJTUEVDVElWRV9DQU1FUkEsdGhpcy5pc0ludGVybWVkaWF0ZT0hMSx0aGlzLnZpZXdwb3J0PW5ldyBlcygwLDAsMSwxKSx0aGlzLmxheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5mb3ZNb2RlPVouRk9WTU9ERV9WRVJUSUNBTF9GSVhFRCx0aGlzLmNhbWVyYVJpZ01vZGU9Wi5SSUdfTU9ERV9OT05FLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cz1uZXcgQXJyYXksdGhpcy5vdXRwdXRSZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlPW5ldyBGLHRoaXMuaXNSaWdDYW1lcmE9ITEsdGhpcy5fcmlnQ2FtZXJhcz1uZXcgQXJyYXksdGhpcy5fd2VidnJWaWV3TWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl9za2lwUmVuZGVyaW5nPSExLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9bmV3IHgsdGhpcy5fcG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXksdGhpcy5fYWN0aXZlTWVzaGVzPW5ldyBRZSgyNTYpLHRoaXMuX2dsb2JhbFBvc2l0aW9uPWcuWmVybygpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeD14LklkZW50aXR5KCksdGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMSx0aGlzLl90cmFuc2Zvcm1NYXRyaXg9eC5aZXJvKCksdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITAsdGhpcy5fYWJzb2x1dGVSb3RhdGlvbj1HLklkZW50aXR5KCksdGhpcy5faXNDYW1lcmE9ITAsdGhpcy5faXNMZWZ0Q2FtZXJhPSExLHRoaXMuX2lzUmlnaHRDYW1lcmE9ITEsdGhpcy5nZXRTY2VuZSgpLmFkZENhbWVyYSh0aGlzKSxzJiYhdGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSYmKHRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE9dGhpcyksdGhpcy5wb3NpdGlvbj10LHRoaXMucmVuZGVyUGFzc0lkPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJQYXNzSWQoYENhbWVyYSAke2V9YCl9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbihlKXt0aGlzLl9wb3NpdGlvbj1lfXNldCB1cFZlY3RvcihlKXt0aGlzLl91cFZlY3Rvcj1lfWdldCB1cFZlY3Rvcigpe3JldHVybiB0aGlzLl91cFZlY3Rvcn1nZXQgc2NyZWVuQXJlYSgpe3ZhciBpLHMscixuO2xldCBlPTAsdD0wO2lmKHRoaXMubW9kZT09PVouUEVSU1BFQ1RJVkVfQ0FNRVJBKXRoaXMuZm92TW9kZT09PVouRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD8odD10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxlPXRoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykqdCk6KGU9dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMiksdD1lL3RoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykpO2Vsc2V7Y29uc3QgYT10aGlzLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCkvMixvPXRoaXMuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCkvMjtlPSgoaT10aGlzLm9ydGhvUmlnaHQpIT1udWxsP2k6YSktKChzPXRoaXMub3J0aG9MZWZ0KSE9bnVsbD9zOi1hKSx0PSgocj10aGlzLm9ydGhvVG9wKSE9bnVsbD9yOm8pLSgobj10aGlzLm9ydGhvQm90dG9tKSE9bnVsbD9uOi1vKX1yZXR1cm4gZSp0fXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvTGVmdD1lfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob1JpZ2h0KGUpe3RoaXMuX29ydGhvUmlnaHQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9SaWdodD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvQm90dG9tPWV9Z2V0IG9ydGhvQm90dG9tKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1RvcD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgbW9kZShlKXt0aGlzLl9tb2RlPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm1vZGU9ZX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9tb2RlfXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ9ITAsdGhpcy5fc3RvcmVkRm92PXRoaXMuZm92LHRoaXN9X3Jlc3RvcmVTdGF0ZVZhbHVlcygpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX1yZXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fcmVzdG9yZVN0YXRlVmFsdWVzKCk/KHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSwhMCk6ITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNhbWVyYSJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHQrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO3JldHVybiB0fWFwcGx5VmVydGljYWxDb3JyZWN0aW9uKCl7Y29uc3QgZT10aGlzLmFic29sdXRlUm90YXRpb24udG9FdWxlckFuZ2xlcygpO3RoaXMucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tZS54OmUueH1nZXQgZ2xvYmFsUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsUG9zaXRpb259Z2V0QWN0aXZlTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc31pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9aXNSZWFkeShlPSExKXtpZihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKWlmKHQmJiF0LmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4gc3VwZXIuaXNSZWFkeShlKX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPW5ldyBnKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS51cFZlY3Rvcj1uZXcgZyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUubW9kZT12b2lkIDAsdGhpcy5fY2FjaGUubWluWj12b2lkIDAsdGhpcy5fY2FjaGUubWF4Wj12b2lkIDAsdGhpcy5fY2FjaGUuZm92PXZvaWQgMCx0aGlzLl9jYWNoZS5mb3ZNb2RlPXZvaWQgMCx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Ub3A9dm9pZCAwLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9dm9pZCAwfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl9jYWNoZS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKX1faXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfV9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKXtyZXR1cm4gc3VwZXIuX2lzU3luY2hyb25pemVkKCk/dGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pJiZ0aGlzLl9jYWNoZS51cFZlY3Rvci5lcXVhbHModGhpcy51cFZlY3RvcikmJnRoaXMuaXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCk6ITF9X2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpe2xldCBlPXRoaXMuX2NhY2hlLm1vZGU9PT10aGlzLm1vZGUmJnRoaXMuX2NhY2hlLm1pblo9PT10aGlzLm1pblomJnRoaXMuX2NhY2hlLm1heFo9PT10aGlzLm1heFo7aWYoIWUpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT1aLlBFUlNQRUNUSVZFX0NBTUVSQT9lPXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXQuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6ZT10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09dC5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT10LmdldFJlbmRlckhlaWdodCgpLGV9YXR0YWNoQ29udHJvbChlLHQpe31kZXRhY2hDb250cm9sKGUpe311cGRhdGUoKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PVouUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpfV9jaGVja0lucHV0cygpe3RoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0IHJpZ0NhbWVyYXMoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc31nZXQgcmlnUG9zdFByb2Nlc3MoKXtyZXR1cm4gdGhpcy5fcmlnUG9zdFByb2Nlc3N9X2dldEZpcnN0UG9zdFByb2Nlc3MoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO2UrKylpZih0aGlzLl9wb3N0UHJvY2Vzc2VzW2VdIT09bnVsbClyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc1tlXTtyZXR1cm4gbnVsbH1fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKXtjb25zdCBlPXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtlJiZlLm1hcmtUZXh0dXJlRGlydHkoKTtmb3IobGV0IHQ9MCxpPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhc1t0XSxyPXMuX3JpZ1Bvc3RQcm9jZXNzO3I/KHIuZ2V0RWZmZWN0TmFtZSgpPT09InBhc3MiJiYocy5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLHMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQociksci5tYXJrVGV4dHVyZURpcnR5KCkpOnMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKX19YXR0YWNoUG9zdFByb2Nlc3MoZSx0PW51bGwpe3JldHVybiFlLmlzUmV1c2FibGUoKSYmdGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpPi0xPyh3LkVycm9yKCJZb3UncmUgdHJ5aW5nIHRvIHJldXNlIGEgcG9zdCBwcm9jZXNzIG5vdCBkZWZpbmVkIGFzIHJldXNhYmxlLiIpLDApOih0PT1udWxsfHx0PDA/dGhpcy5fcG9zdFByb2Nlc3Nlcy5wdXNoKGUpOnRoaXMuX3Bvc3RQcm9jZXNzZXNbdF09PT1udWxsP3RoaXMuX3Bvc3RQcm9jZXNzZXNbdF09ZTp0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDAsZSksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKSl9ZGV0YWNoUG9zdFByb2Nlc3MoZSl7Y29uc3QgdD10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk7dCE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fd29ybGRNYXRyaXg6KHRoaXMuZ2V0Vmlld01hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KX1fZ2V0Vmlld01hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9Z2V0Vmlld01hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9ZnJlZXplUHJvamVjdGlvbk1hdHJpeChlKXt0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSEwLGUhPT12b2lkIDAmJih0aGlzLl9wcm9qZWN0aW9uTWF0cml4PWUpfXVuZnJlZXplUHJvamVjdGlvbk1hdHJpeCgpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITF9Z2V0UHJvamVjdGlvbk1hdHJpeChlKXt2YXIgcyxyLG4sYSxvLGgsbCx1O2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCFlJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDtjb25zdCB0PXRoaXMuZ2V0RW5naW5lKCksaT10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5tb2RlPT09Wi5QRVJTUEVDVElWRV9DQU1FUkEpe3RoaXMuX2NhY2hlLmZvdj10aGlzLmZvdix0aGlzLl9jYWNoZS5mb3ZNb2RlPXRoaXMuZm92TW9kZSx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz10LmdldEFzcGVjdFJhdGlvKHRoaXMpLHRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0LHRoaXMubWluWjw9MCYmKHRoaXMubWluWj0uMSk7Y29uc3QgZj10LnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtsZXQgZDtpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP2Q9eC5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY6ZD14LlBlcnNwZWN0aXZlRm92TEhUb1JlZixkKHRoaXMuZm92LHQuZ2V0QXNwZWN0UmF0aW8odGhpcyksZj90aGlzLm1heFo6dGhpcy5taW5aLGY/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuZm92TW9kZT09PVouRk9WTU9ERV9WRVJUSUNBTF9GSVhFRCx0LmlzTkRDSGFsZlpSYW5nZSx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsdC51c2VSZXZlcnNlRGVwdGhCdWZmZXIpfWVsc2V7Y29uc3QgZj10LmdldFJlbmRlcldpZHRoKCkvMixkPXQuZ2V0UmVuZGVySGVpZ2h0KCkvMjtpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3guT3J0aG9PZmZDZW50ZXJSSFRvUmVmKChzPXRoaXMub3J0aG9MZWZ0KSE9bnVsbD9zOi1mLChyPXRoaXMub3J0aG9SaWdodCkhPW51bGw/cjpmLChuPXRoaXMub3J0aG9Cb3R0b20pIT1udWxsP246LWQsKGE9dGhpcy5vcnRob1RvcCkhPW51bGw/YTpkLHRoaXMubWluWix0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0LmlzTkRDSGFsZlpSYW5nZSk6eC5PcnRob09mZkNlbnRlckxIVG9SZWYoKG89dGhpcy5vcnRob0xlZnQpIT1udWxsP286LWYsKGg9dGhpcy5vcnRob1JpZ2h0KSE9bnVsbD9oOmYsKGw9dGhpcy5vcnRob0JvdHRvbSkhPW51bGw/bDotZCwodT10aGlzLm9ydGhvVG9wKSE9bnVsbD91OmQsdGhpcy5taW5aLHRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHQuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYWNoZS5vcnRob0xlZnQ9dGhpcy5vcnRob0xlZnQsdGhpcy5fY2FjaGUub3J0aG9SaWdodD10aGlzLm9ydGhvUmlnaHQsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dGhpcy5vcnRob0JvdHRvbSx0aGlzLl9jYWNoZS5vcnRob1RvcD10aGlzLm9ydGhvVG9wLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPXQuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9dC5nZXRSZW5kZXJIZWlnaHQoKX1yZXR1cm4gdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpe3JldHVybiB0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fdHJhbnNmb3JtTWF0cml4fV91cGRhdGVGcnVzdHVtUGxhbmVzKCl7IXRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzfHwodGhpcy5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/bXQuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9bXQuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITEpfWlzSW5GcnVzdHVtKGUsdD0hMSl7aWYodGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHQmJnRoaXMucmlnQ2FtZXJhcy5sZW5ndGg+MCl7bGV0IGk9ITE7cmV0dXJuIHRoaXMucmlnQ2FtZXJhcy5mb3JFYWNoKHM9PntzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksaT1pfHxlLmlzSW5GcnVzdHVtKHMuX2ZydXN0dW1QbGFuZXMpfSksaX1lbHNlIHJldHVybiBlLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfWdldEZvcndhcmRSYXkoZT0xMDAsdCxpKXt0aHJvdyBxKCJSYXkiKX1nZXRGb3J3YXJkUmF5VG9SZWYoZSx0PTEwMCxpLHMpe3Rocm93IHEoIlJheSIpfWRpc3Bvc2UoZSx0PSExKXtmb3IodGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5jbGVhcigpLHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVDYW1lcmEodGhpcyk7dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg+MDspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtzJiZzLmRpc3Bvc2UoKX1pZih0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHM9dGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuY2FtZXJhcy5zcGxpY2UocywxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0aGlzLl9yaWdQb3N0UHJvY2Vzcyl0aGlzLl9yaWdQb3N0UHJvY2Vzcy5kaXNwb3NlKHRoaXMpLHRoaXMuX3JpZ1Bvc3RQcm9jZXNzPW51bGwsdGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9MDtlbHNlIGlmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PVouUklHX01PREVfTk9ORSl0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPTA7ZWxzZXtsZXQgcz10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtmb3IoOy0tcz49MDspe2NvbnN0IHI9dGhpcy5fcG9zdFByb2Nlc3Nlc1tzXTtyJiZyLmRpc3Bvc2UodGhpcyl9fWxldCBpPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7Zm9yKDstLWk+PTA7KXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1tpXS5kaXNwb3NlKCk7dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD0wLHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5yZW5kZXJQYXNzSWQpLHN1cGVyLmRpc3Bvc2UoZSx0KX1nZXQgaXNMZWZ0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2lzTGVmdENhbWVyYX1nZXQgaXNSaWdodENhbWVyYSgpe3JldHVybiB0aGlzLl9pc1JpZ2h0Q2FtZXJhfWdldCBsZWZ0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdfWdldCByaWdodENhbWVyYSgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXX1nZXRMZWZ0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdLmdldFRhcmdldCgpfWdldFJpZ2h0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdLmdldFRhcmdldCgpfXNldENhbWVyYVJpZ01vZGUoZSx0KXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1lKXtmb3IoO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXtjb25zdCBpPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7aSYmaS5kaXNwb3NlKCl9aWYodGhpcy5jYW1lcmFSaWdNb2RlPWUsdGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2U9dC5pbnRlcmF4aWFsRGlzdGFuY2V8fC4wNjM3LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGU9VS5Ub1JhZGlhbnModGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZS8uMDYzNyksdGhpcy5jYW1lcmFSaWdNb2RlIT09Wi5SSUdfTU9ERV9OT05FKXtjb25zdCBpPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX0wiLDApO2kmJihpLl9pc0xlZnRDYW1lcmE9ITApO2NvbnN0IHM9dGhpcy5jcmVhdGVSaWdDYW1lcmEodGhpcy5uYW1lKyJfUiIsMSk7cyYmKHMuX2lzUmlnaHRDYW1lcmE9ITApLGkmJnMmJih0aGlzLl9yaWdDYW1lcmFzLnB1c2goaSksdGhpcy5fcmlnQ2FtZXJhcy5wdXNoKHMpKX10aGlzLl9zZXRSaWdNb2RlKHQpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy51cGRhdGUoKX19X3NldFJpZ01vZGUoZSl7fV9nZXRWUlByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4geC5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpb0Zvdix0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJNZXRyaWNzLmFzcGVjdFJhdGlvLHRoaXMubWluWix0aGlzLm1heFosdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeCwhMCx0aGlzLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ckhNYXRyaXgsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt9X3VwZGF0ZVdlYlZSQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt9X2dldFdlYlZSUHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9X2dldFdlYlZSVmlld01hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9c2V0Q2FtZXJhUmlnUGFyYW1ldGVyKGUsdCl7dGhpcy5fY2FtZXJhUmlnUGFyYW1zfHwodGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9KSx0aGlzLl9jYW1lcmFSaWdQYXJhbXNbZV09dCxlPT09ImludGVyYXhpYWxEaXN0YW5jZSImJih0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPVUuVG9SYWRpYW5zKHQvLjA2MzcpKX1jcmVhdGVSaWdDYW1lcmEoZSx0KXtyZXR1cm4gbnVsbH1fdXBkYXRlUmlnQ2FtZXJhcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg7ZSsrKXRoaXMuX3JpZ0NhbWVyYXNbZV0ubWluWj10aGlzLm1pblosdGhpcy5fcmlnQ2FtZXJhc1tlXS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yaWdDYW1lcmFzW2VdLmZvdj10aGlzLmZvdix0aGlzLl9yaWdDYW1lcmFzW2VdLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpO3RoaXMuY2FtZXJhUmlnTW9kZT09PVouUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIJiYodGhpcy5fcmlnQ2FtZXJhc1swXS52aWV3cG9ydD10aGlzLl9yaWdDYW1lcmFzWzFdLnZpZXdwb3J0PXRoaXMudmlld3BvcnQpfV9zZXR1cElucHV0cygpe31zZXJpYWxpemUoKXtjb25zdCBlPXJlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLnNlcmlhbGl6ZShlKSxyZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLGUpLGUucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksZS5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSxlfWNsb25lKGUsdD1udWxsKXtjb25zdCBpPXJlLkNsb25lKFouR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldENsYXNzTmFtZSgpLGUsdGhpcy5nZXRTY2VuZSgpLHRoaXMuaW50ZXJheGlhbERpc3RhbmNlLHRoaXMuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSx0aGlzKTtyZXR1cm4gaS5uYW1lPWUsaS5wYXJlbnQ9dCx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaSksaX1nZXREaXJlY3Rpb24oZSl7Y29uc3QgdD1nLlplcm8oKTtyZXR1cm4gdGhpcy5nZXREaXJlY3Rpb25Ub1JlZihlLHQpLHR9Z2V0IGFic29sdXRlUm90YXRpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpLmRlY29tcG9zZSh2b2lkIDAsdGhpcy5fYWJzb2x1dGVSb3RhdGlvbiksdGhpcy5fYWJzb2x1dGVSb3RhdGlvbn1nZXREaXJlY3Rpb25Ub1JlZihlLHQpe2cuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCl9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkscz0wLHI9ITApe2NvbnN0IG49emUuQ29uc3RydWN0KGUsdCxpLHtpbnRlcmF4aWFsX2Rpc3RhbmNlOnMsaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlOnJ9KTtyZXR1cm4gbnx8KCgpPT5aLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhKHQsaSkpfWNvbXB1dGVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLmdldFdvcmxkTWF0cml4KCl9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1lLnR5cGUscz1aLkdldENvbnN0cnVjdG9yRnJvbU5hbWUoaSxlLm5hbWUsdCxlLmludGVyYXhpYWxfZGlzdGFuY2UsZS5pc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUpLHI9cmUuUGFyc2UocyxlLHQpO2lmKGUucGFyZW50SWQhPT12b2lkIDAmJihyLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYoci5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxyLmlucHV0cyYmKHIuaW5wdXRzLnBhcnNlKGUpLHIuX3NldHVwSW5wdXRzKCkpLGUudXBWZWN0b3ImJihyLnVwVmVjdG9yPWcuRnJvbUFycmF5KGUudXBWZWN0b3IpKSxyLnNldFBvc2l0aW9uJiYoci5wb3NpdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksci5zZXRQb3NpdGlvbihnLkZyb21BcnJheShlLnBvc2l0aW9uKSkpLGUudGFyZ2V0JiZyLnNldFRhcmdldCYmci5zZXRUYXJnZXQoZy5Gcm9tQXJyYXkoZS50YXJnZXQpKSxlLmNhbWVyYVJpZ01vZGUpe2NvbnN0IG49ZS5pbnRlcmF4aWFsX2Rpc3RhbmNlP3tpbnRlcmF4aWFsRGlzdGFuY2U6ZS5pbnRlcmF4aWFsX2Rpc3RhbmNlfTp7fTtyLnNldENhbWVyYVJpZ01vZGUoZS5jYW1lcmFSaWdNb2RlLG4pfWlmKGUuYW5pbWF0aW9ucyl7Zm9yKGxldCBuPTA7bjxlLmFuaW1hdGlvbnMubGVuZ3RoO24rKyl7Y29uc3QgYT1lLmFuaW1hdGlvbnNbbl0sbz1paSgiQkFCWUxPTi5BbmltYXRpb24iKTtvJiZyLmFuaW1hdGlvbnMucHVzaChvLlBhcnNlKGEpKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhyLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocixlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmci5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxyfX1aLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhPShjLGUpPT57dGhyb3cgcSgiVW5pdmVyc2FsQ2FtZXJhIil9LFouUEVSU1BFQ1RJVkVfQ0FNRVJBPTAsWi5PUlRIT0dSQVBISUNfQ0FNRVJBPTEsWi5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPTAsWi5GT1ZNT0RFX0hPUklaT05UQUxfRklYRUQ9MSxaLlJJR19NT0RFX05PTkU9MCxaLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSD0xMCxaLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMPTExLFouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPTEyLFouUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUj0xMyxaLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEPTE0LFouUklHX01PREVfVlI9MjAsWi5SSUdfTU9ERV9XRUJWUj0yMSxaLlJJR19NT0RFX0NVU1RPTT0yMixaLkZvcmNlQXR0YWNoQ29udHJvbFRvQWx3YXlzUHJldmVudERlZmF1bHQ9ITEsUyhbTnQoInBvc2l0aW9uIildLFoucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksUyhbTnQoInVwVmVjdG9yIildLFoucHJvdG90eXBlLCJfdXBWZWN0b3IiLHZvaWQgMCksUyhbTSgpXSxaLnByb3RvdHlwZSwib3J0aG9MZWZ0IixudWxsKSxTKFtNKCldLFoucHJvdG90eXBlLCJvcnRob1JpZ2h0IixudWxsKSxTKFtNKCldLFoucHJvdG90eXBlLCJvcnRob0JvdHRvbSIsbnVsbCksUyhbTSgpXSxaLnByb3RvdHlwZSwib3J0aG9Ub3AiLG51bGwpLFMoW00oKV0sWi5wcm90b3R5cGUsImZvdiIsdm9pZCAwKSxTKFtNKCldLFoucHJvdG90eXBlLCJwcm9qZWN0aW9uUGxhbmVUaWx0Iix2b2lkIDApLFMoW00oKV0sWi5wcm90b3R5cGUsIm1pbloiLHZvaWQgMCksUyhbTSgpXSxaLnByb3RvdHlwZSwibWF4WiIsdm9pZCAwKSxTKFtNKCldLFoucHJvdG90eXBlLCJpbmVydGlhIix2b2lkIDApLFMoW00oKV0sWi5wcm90b3R5cGUsIm1vZGUiLG51bGwpLFMoW00oKV0sWi5wcm90b3R5cGUsImxheWVyTWFzayIsdm9pZCAwKSxTKFtNKCldLFoucHJvdG90eXBlLCJmb3ZNb2RlIix2b2lkIDApLFMoW00oKV0sWi5wcm90b3R5cGUsImNhbWVyYVJpZ01vZGUiLHZvaWQgMCksUyhbTSgpXSxaLnByb3RvdHlwZSwiaW50ZXJheGlhbERpc3RhbmNlIix2b2lkIDApLFMoW00oKV0sWi5wcm90b3R5cGUsImlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSIsdm9pZCAwKTtjbGFzcyBSbntzdGF0aWMgQmluZENsaXBQbGFuZShlLHQpe2lmKHQuY2xpcFBsYW5lKXtjb25zdCBpPXQuY2xpcFBsYW5lO2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lIixpLm5vcm1hbC54LGkubm9ybWFsLnksaS5ub3JtYWwueixpLmQpfWlmKHQuY2xpcFBsYW5lMil7Y29uc3QgaT10LmNsaXBQbGFuZTI7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUyIixpLm5vcm1hbC54LGkubm9ybWFsLnksaS5ub3JtYWwueixpLmQpfWlmKHQuY2xpcFBsYW5lMyl7Y29uc3QgaT10LmNsaXBQbGFuZTM7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUzIixpLm5vcm1hbC54LGkubm9ybWFsLnksaS5ub3JtYWwueixpLmQpfWlmKHQuY2xpcFBsYW5lNCl7Y29uc3QgaT10LmNsaXBQbGFuZTQ7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU0IixpLm5vcm1hbC54LGkubm9ybWFsLnksaS5ub3JtYWwueixpLmQpfWlmKHQuY2xpcFBsYW5lNSl7Y29uc3QgaT10LmNsaXBQbGFuZTU7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU1IixpLm5vcm1hbC54LGkubm9ybWFsLnksaS5ub3JtYWwueixpLmQpfWlmKHQuY2xpcFBsYW5lNil7Y29uc3QgaT10LmNsaXBQbGFuZTY7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU2IixpLm5vcm1hbC54LGkubm9ybWFsLnksaS5ub3JtYWwueixpLmQpfX19Y2xhc3MgZWV7c3RhdGljIEJpbmRTY2VuZVVuaWZvcm1CdWZmZXIoZSx0KXt0LmJpbmRUb0VmZmVjdChlLCJTY2VuZSIpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKGUsdCxpKXt0Ll9uZWVkVVZzPSEwLHRbaV09ITAsZS5nZXRUZXh0dXJlTWF0cml4KCkuaXNJZGVudGl0eUFzM3gyKCk/KHRbaSsiRElSRUNUVVYiXT1lLmNvb3JkaW5hdGVzSW5kZXgrMSx0WyJNQUlOVVYiKyhlLmNvb3JkaW5hdGVzSW5kZXgrMSldPSEwKTp0W2krIkRJUkVDVFVWIl09MH1zdGF0aWMgQmluZFRleHR1cmVNYXRyaXgoZSx0LGkpe2NvbnN0IHM9ZS5nZXRUZXh0dXJlTWF0cml4KCk7dC51cGRhdGVNYXRyaXgoaSsiTWF0cml4IixzKX1zdGF0aWMgR2V0Rm9nU3RhdGUoZSx0KXtyZXR1cm4gdC5mb2dFbmFibGVkJiZlLmFwcGx5Rm9nJiZ0LmZvZ01vZGUhPT1uZS5GT0dNT0RFX05PTkV9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHQsaSxzLHIsbixhKXthLl9hcmVNaXNjRGlydHkmJihhLkxPR0FSSVRITUlDREVQVEg9aSxhLlBPSU5UU0laRT1zLGEuRk9HPXImJnRoaXMuR2V0Rm9nU3RhdGUoZSx0KSxhLk5PTlVOSUZPUk1TQ0FMSU5HPWUubm9uVW5pZm9ybVNjYWxpbmcsYS5BTFBIQVRFU1Q9bil9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhlLHQsaSxzLHI9bnVsbCxuPSExKXtsZXQgYT0hMSxvPSExLGg9ITEsbD0hMSx1PSExLGY9ITEsZD0hMTtvPXI9PW51bGw/ZS5jbGlwUGxhbmUhPT12b2lkIDAmJmUuY2xpcFBsYW5lIT09bnVsbDpyLGg9cj09bnVsbD9lLmNsaXBQbGFuZTIhPT12b2lkIDAmJmUuY2xpcFBsYW5lMiE9PW51bGw6cixsPXI9PW51bGw/ZS5jbGlwUGxhbmUzIT09dm9pZCAwJiZlLmNsaXBQbGFuZTMhPT1udWxsOnIsdT1yPT1udWxsP2UuY2xpcFBsYW5lNCE9PXZvaWQgMCYmZS5jbGlwUGxhbmU0IT09bnVsbDpyLGY9cj09bnVsbD9lLmNsaXBQbGFuZTUhPT12b2lkIDAmJmUuY2xpcFBsYW5lNSE9PW51bGw6cixkPXI9PW51bGw/ZS5jbGlwUGxhbmU2IT09dm9pZCAwJiZlLmNsaXBQbGFuZTYhPT1udWxsOnIsaS5DTElQUExBTkUhPT1vJiYoaS5DTElQUExBTkU9byxhPSEwKSxpLkNMSVBQTEFORTIhPT1oJiYoaS5DTElQUExBTkUyPWgsYT0hMCksaS5DTElQUExBTkUzIT09bCYmKGkuQ0xJUFBMQU5FMz1sLGE9ITApLGkuQ0xJUFBMQU5FNCE9PXUmJihpLkNMSVBQTEFORTQ9dSxhPSEwKSxpLkNMSVBQTEFORTUhPT1mJiYoaS5DTElQUExBTkU1PWYsYT0hMCksaS5DTElQUExBTkU2IT09ZCYmKGkuQ0xJUFBMQU5FNj1kLGE9ITApLGkuREVQVEhQUkVQQVNTIT09IXQuZ2V0Q29sb3JXcml0ZSgpJiYoaS5ERVBUSFBSRVBBU1M9IWkuREVQVEhQUkVQQVNTLGE9ITApLGkuSU5TVEFOQ0VTIT09cyYmKGkuSU5TVEFOQ0VTPXMsYT0hMCksaS5JTlNUQU5DRVNDT0xPUiYmIWkuSU5TVEFOQ0VTJiYoaS5JTlNUQU5DRVNDT0xPUj0hMSxhPSEwKSxpLlRISU5fSU5TVEFOQ0VTIT09biYmKGkuVEhJTl9JTlNUQU5DRVM9bixhPSEwKSxhJiZpLm1hcmtBc1VucHJvY2Vzc2VkKCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KXtpZihlLnVzZUJvbmVzJiZlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZS5za2VsZXRvbil7dC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz1lLm51bUJvbmVJbmZsdWVuY2Vycztjb25zdCBpPXQuQk9ORVRFWFRVUkUhPT12b2lkIDA7aWYoZS5za2VsZXRvbi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZpKXQuQk9ORVRFWFRVUkU9ITA7ZWxzZXt0LkJvbmVzUGVyTWVzaD1lLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxLHQuQk9ORVRFWFRVUkU9aT8hMTp2b2lkIDA7Y29uc3Qgcz1lLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyO2lmKHMmJnMuZW5hYmxlZCl7Y29uc3Qgcj1zLmV4Y2x1ZGVkU2tpbm5lZE1lc2guaW5kZXhPZihlKT09PS0xO3QuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD1yfX19ZWxzZSB0Lk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdC5Cb25lc1Blck1lc2g9MH1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHMoZSx0KXtjb25zdCBpPWUubW9ycGhUYXJnZXRNYW5hZ2VyO2k/KHQuTU9SUEhUQVJHRVRTX1VWPWkuc3VwcG9ydHNVVnMmJnQuVVYxLHQuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9aS5zdXBwb3J0c1RhbmdlbnRzJiZ0LlRBTkdFTlQsdC5NT1JQSFRBUkdFVFNfTk9STUFMPWkuc3VwcG9ydHNOb3JtYWxzJiZ0Lk5PUk1BTCx0Lk1PUlBIVEFSR0VUUz1pLm51bUluZmx1ZW5jZXJzPjAsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9aS5udW1JbmZsdWVuY2Vycyx0Lk1PUlBIVEFSR0VUU19URVhUVVJFPWkuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKToodC5NT1JQSFRBUkdFVFNfVVY9ITEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsdC5NT1JQSFRBUkdFVFM9ITEsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0KXtjb25zdCBpPWUuYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyO3QuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSEhKGkmJmkuaXNFbmFibGVkKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsdCxpLHMscj0hMSxuPSEwLGE9ITApe2lmKCF0Ll9hcmVBdHRyaWJ1dGVzRGlydHkmJnQuX25lZWROb3JtYWxzPT09dC5fbm9ybWFscyYmdC5fbmVlZFVWcz09PXQuX3V2cylyZXR1cm4hMTt0Ll9ub3JtYWxzPXQuX25lZWROb3JtYWxzLHQuX3V2cz10Ll9uZWVkVVZzLHQuTk9STUFMPXQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk5vcm1hbEtpbmQpLHQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlRhbmdlbnRLaW5kKSYmKHQuVEFOR0VOVD0hMCk7Zm9yKGxldCBvPTE7bzw9NjsrK28pdFsiVVYiK29dPXQuX25lZWRVVnM/ZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYHV2JHtvPT09MT8iIjpvfWApOiExO2lmKGkpe2NvbnN0IG89ZS51c2VWZXJ0ZXhDb2xvcnMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuQ29sb3JLaW5kKTt0LlZFUlRFWENPTE9SPW8sdC5WRVJURVhBTFBIQT1lLmhhc1ZlcnRleEFscGhhJiZvJiZufXJldHVybiBlLmlzVmVydGljZXNEYXRhUHJlc2VudChwLkNvbG9ySW5zdGFuY2VLaW5kKSYmKGUuaGFzSW5zdGFuY2VzfHxlLmhhc1RoaW5JbnN0YW5jZXMpJiYodC5JTlNUQU5DRVNDT0xPUj0hMCkscyYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJvbmVzKGUsdCksciYmdGhpcy5QcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cyhlLHQpLGEmJnRoaXMuUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQpLCEwfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhlLHQpe2lmKGUuYWN0aXZlQ2FtZXJhKXtjb25zdCBpPXQuTVVMVElWSUVXO3QuTVVMVElWSUVXPWUuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldCE9PW51bGwmJmUuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldC5nZXRWaWV3Q291bnQoKT4xLHQuTVVMVElWSUVXIT1pJiZ0Lm1hcmtBc1VucHJvY2Vzc2VkKCl9fXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck9JVChlLHQsaSl7Y29uc3Qgcz10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWSxyPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUzt0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT1lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kmJmksdC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSFlLmdldEVuZ2luZSgpLmdldENhcHMoKS50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmcsKHMhPT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWXx8ciE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUykmJnQubWFya0FzVW5wcm9jZXNzZWQoKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKGUsdCxpKXtjb25zdCBzPXQuUFJFUEFTUztpZighdC5fYXJlUHJlUGFzc0RpcnR5KXJldHVybjtjb25zdCByPVt7dHlwZToxLGRlZmluZToiUFJFUEFTU19QT1NJVElPTiIsaW5kZXg6IlBSRVBBU1NfUE9TSVRJT05fSU5ERVgifSx7dHlwZToyLGRlZmluZToiUFJFUEFTU19WRUxPQ0lUWSIsaW5kZXg6IlBSRVBBU1NfVkVMT0NJVFlfSU5ERVgifSx7dHlwZTozLGRlZmluZToiUFJFUEFTU19SRUZMRUNUSVZJVFkiLGluZGV4OiJQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWCJ9LHt0eXBlOjAsZGVmaW5lOiJQUkVQQVNTX0lSUkFESUFOQ0UiLGluZGV4OiJQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVgifSx7dHlwZTo3LGRlZmluZToiUFJFUEFTU19BTEJFRE9fU1FSVCIsaW5kZXg6IlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVgifSx7dHlwZTo1LGRlZmluZToiUFJFUEFTU19ERVBUSCIsaW5kZXg6IlBSRVBBU1NfREVQVEhfSU5ERVgifSx7dHlwZTo2LGRlZmluZToiUFJFUEFTU19OT1JNQUwiLGluZGV4OiJQUkVQQVNTX05PUk1BTF9JTkRFWCJ9XTtpZihlLnByZVBhc3NSZW5kZXJlciYmZS5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmaSl7dC5QUkVQQVNTPSEwLHQuU0NFTkVfTVJUX0NPVU5UPWUucHJlUGFzc1JlbmRlcmVyLm1ydENvdW50O2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXtjb25zdCBhPWUucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KHJbbl0udHlwZSk7YSE9PS0xPyh0W3Jbbl0uZGVmaW5lXT0hMCx0W3Jbbl0uaW5kZXhdPWEpOnRbcltuXS5kZWZpbmVdPSExfX1lbHNle3QuUFJFUEFTUz0hMTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl0W3Jbbl0uZGVmaW5lXT0hMX10LlBSRVBBU1MhPXMmJih0Lm1hcmtBc1VucHJvY2Vzc2VkKCksdC5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JMaWdodChlLHQsaSxzLHIsbixhKXtzd2l0Y2goYS5uZWVkTm9ybWFscz0hMCxyWyJMSUdIVCIrc109PT12b2lkIDAmJihhLm5lZWRSZWJ1aWxkPSEwKSxyWyJMSUdIVCIrc109ITAsclsiU1BPVExJR0hUIitzXT0hMSxyWyJIRU1JTElHSFQiK3NdPSExLHJbIlBPSU5UTElHSFQiK3NdPSExLHJbIkRJUkxJR0hUIitzXT0hMSxpLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhyLHMpLHJbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK3NdPSExLHJbIkxJR0hUX0ZBTExPRkZfR0xURiIrc109ITEsclsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrc109ITEsaS5mYWxsb2ZmVHlwZSl7Y2FzZSBUZS5GQUxMT0ZGX0dMVEY6clsiTElHSFRfRkFMTE9GRl9HTFRGIitzXT0hMDticmVhaztjYXNlIFRlLkZBTExPRkZfUEhZU0lDQUw6clsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrc109ITA7YnJlYWs7Y2FzZSBUZS5GQUxMT0ZGX1NUQU5EQVJEOnJbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK3NdPSEwO2JyZWFrfWlmKG4mJiFpLnNwZWN1bGFyLmVxdWFsc0Zsb2F0cygwLDAsMCkmJihhLnNwZWN1bGFyRW5hYmxlZD0hMCksclsiU0hBRE9XIitzXT0hMSxyWyJTSEFET1dDU00iK3NdPSExLHJbIlNIQURPV0NTTURFQlVHIitzXT0hMSxyWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3NdPSExLHJbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK3NdPSExLHJbIlNIQURPV0NTTU5PQkxFTkQiK3NdPSExLHJbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrc109ITEsclsiU0hBRE9XUENGIitzXT0hMSxyWyJTSEFET1dQQ1NTIitzXT0hMSxyWyJTSEFET1dQT0lTU09OIitzXT0hMSxyWyJTSEFET1dFU00iK3NdPSExLHJbIlNIQURPV0NMT1NFRVNNIitzXT0hMSxyWyJTSEFET1dDVUJFIitzXT0hMSxyWyJTSEFET1dMT1dRVUFMSVRZIitzXT0hMSxyWyJTSEFET1dNRURJVU1RVUFMSVRZIitzXT0hMSx0JiZ0LnJlY2VpdmVTaGFkb3dzJiZlLnNoYWRvd3NFbmFibGVkJiZpLnNoYWRvd0VuYWJsZWQpe2NvbnN0IG89aS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihvKXtjb25zdCBoPW8uZ2V0U2hhZG93TWFwKCk7aCYmaC5yZW5kZXJMaXN0JiZoLnJlbmRlckxpc3QubGVuZ3RoPjAmJihhLnNoYWRvd0VuYWJsZWQ9ITAsby5wcmVwYXJlRGVmaW5lcyhyLHMpKX19aS5saWdodG1hcE1vZGUhPVRlLkxJR0hUTUFQX0RFRkFVTFQ/KGEubGlnaHRtYXBNb2RlPSEwLHJbIkxJR0hUTUFQRVhDTFVERUQiK3NdPSEwLHJbIkxJR0hUTUFQTk9TUEVDVUxBUiIrc109aS5saWdodG1hcE1vZGU9PVRlLkxJR0hUTUFQX1NIQURPV1NPTkxZKTooclsiTElHSFRNQVBFWENMVURFRCIrc109ITEsclsiTElHSFRNQVBOT1NQRUNVTEFSIitzXT0hMSl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKGUsdCxpLHMscj00LG49ITEpe2lmKCFpLl9hcmVMaWdodHNEaXJ0eSlyZXR1cm4gaS5fbmVlZE5vcm1hbHM7bGV0IGE9MDtjb25zdCBvPXtuZWVkTm9ybWFsczppLl9uZWVkTm9ybWFscyxuZWVkUmVidWlsZDohMSxsaWdodG1hcE1vZGU6ITEsc2hhZG93RW5hYmxlZDohMSxzcGVjdWxhckVuYWJsZWQ6ITF9O2lmKGUubGlnaHRzRW5hYmxlZCYmIW4pe2Zvcihjb25zdCBsIG9mIHQubGlnaHRTb3VyY2VzKWlmKHRoaXMuUHJlcGFyZURlZmluZXNGb3JMaWdodChlLHQsbCxhLGkscyxvKSxhKyssYT09PXIpYnJlYWt9aS5TUEVDVUxBUlRFUk09by5zcGVjdWxhckVuYWJsZWQsaS5TSEFET1dTPW8uc2hhZG93RW5hYmxlZDtmb3IobGV0IGw9YTtsPHI7bCsrKWlbIkxJR0hUIitsXSE9PXZvaWQgMCYmKGlbIkxJR0hUIitsXT0hMSxpWyJIRU1JTElHSFQiK2xdPSExLGlbIlBPSU5UTElHSFQiK2xdPSExLGlbIkRJUkxJR0hUIitsXT0hMSxpWyJTUE9UTElHSFQiK2xdPSExLGlbIlNIQURPVyIrbF09ITEsaVsiU0hBRE9XQ1NNIitsXT0hMSxpWyJTSEFET1dDU01ERUJVRyIrbF09ITEsaVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIitsXT0hMSxpWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIitsXT0hMSxpWyJTSEFET1dDU01OT0JMRU5EIitsXT0hMSxpWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK2xdPSExLGlbIlNIQURPV1BDRiIrbF09ITEsaVsiU0hBRE9XUENTUyIrbF09ITEsaVsiU0hBRE9XUE9JU1NPTiIrbF09ITEsaVsiU0hBRE9XRVNNIitsXT0hMSxpWyJTSEFET1dDTE9TRUVTTSIrbF09ITEsaVsiU0hBRE9XQ1VCRSIrbF09ITEsaVsiU0hBRE9XTE9XUVVBTElUWSIrbF09ITEsaVsiU0hBRE9XTUVESVVNUVVBTElUWSIrbF09ITEpO2NvbnN0IGg9ZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7cmV0dXJuIGkuU0hBRE9XRkxPQVQ9PT12b2lkIDAmJihvLm5lZWRSZWJ1aWxkPSEwKSxpLlNIQURPV0ZMT0FUPW8uc2hhZG93RW5hYmxlZCYmKGgudGV4dHVyZUZsb2F0UmVuZGVyJiZoLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8aC50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZoLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpLGkuTElHSFRNQVBFWENMVURFRD1vLmxpZ2h0bWFwTW9kZSxvLm5lZWRSZWJ1aWxkJiZpLnJlYnVpbGQoKSxvLm5lZWROb3JtYWxzfXN0YXRpYyBQcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0ZvckxpZ2h0KGUsdCxpLHMscj1udWxsLG49ITEpe3ImJnIucHVzaCgiTGlnaHQiK2UpLCFuJiYodC5wdXNoKCJ2TGlnaHREYXRhIitlLCJ2TGlnaHREaWZmdXNlIitlLCJ2TGlnaHRTcGVjdWxhciIrZSwidkxpZ2h0RGlyZWN0aW9uIitlLCJ2TGlnaHRGYWxsb2ZmIitlLCJ2TGlnaHRHcm91bmQiK2UsImxpZ2h0TWF0cml4IitlLCJzaGFkb3dzSW5mbyIrZSwiZGVwdGhWYWx1ZXMiK2UpLGkucHVzaCgic2hhZG93U2FtcGxlciIrZSksaS5wdXNoKCJkZXB0aFNhbXBsZXIiK2UpLHQucHVzaCgidmlld0ZydXN0dW1aIitlLCJjYXNjYWRlQmxlbmRGYWN0b3IiK2UsImxpZ2h0U2l6ZVVWQ29ycmVjdGlvbiIrZSwiZGVwdGhDb3JyZWN0aW9uIitlLCJwZW51bWJyYURhcmtuZXNzIitlLCJmcnVzdHVtTGVuZ3RocyIrZSkscyYmKGkucHVzaCgicHJvamVjdGlvbkxpZ2h0U2FtcGxlciIrZSksdC5wdXNoKCJ0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCIrZSkpKX1zdGF0aWMgUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KGUsdCxpLHM9NCl7bGV0IHIsbj1udWxsO2lmKGUudW5pZm9ybXNOYW1lcyl7Y29uc3QgYT1lO3I9YS51bmlmb3Jtc05hbWVzLG49YS51bmlmb3JtQnVmZmVyc05hbWVzLHQ9YS5zYW1wbGVycyxpPWEuZGVmaW5lcyxzPWEubWF4U2ltdWx0YW5lb3VzTGlnaHRzfHwwfWVsc2Ugcj1lLHR8fCh0PVtdKTtmb3IobGV0IGE9MDthPHMmJmlbIkxJR0hUIithXTthKyspdGhpcy5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0ZvckxpZ2h0KGEscix0LGlbIlBST0pFQ1RFRExJR0hUVEVYVFVSRSIrYV0sbik7aS5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJnIucHVzaCgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiksaS5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJihyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3MiKSxyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZCIpLHIucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lIiksdC5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUiKSl9c3RhdGljIEhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MoZSx0LGk9NCxzPTApe2xldCByPTA7Zm9yKGxldCBuPTA7bjxpJiZlWyJMSUdIVCIrbl07bisrKW4+MCYmKHI9cytuLHQuYWRkRmFsbGJhY2sociwiTElHSFQiK24pKSxlLlNIQURPV1N8fChlWyJTSEFET1ciK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPVyIrbiksZVsiU0hBRE9XUENGIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQQ0YiK24pLGVbIlNIQURPV1BDU1MiK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV1BDU1MiK24pLGVbIlNIQURPV1BPSVNTT04iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV1BPSVNTT04iK24pLGVbIlNIQURPV0VTTSIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XRVNNIituKSxlWyJTSEFET1dDTE9TRUVTTSIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XQ0xPU0VFU00iK24pKTtyZXR1cm4gcisrfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKGUsdCxpKXt0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1pLHRoaXMuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoZSx0LHRoaXMuX1RtcE1vcnBoSW5mbHVlbmNlcnMpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyhlLHQsaSl7Y29uc3Qgcz1pLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUztpZihzPjAmJmRlLkxhc3RDcmVhdGVkRW5naW5lKXtjb25zdCByPWRlLkxhc3RDcmVhdGVkRW5naW5lLmdldENhcHMoKS5tYXhWZXJ0ZXhBdHRyaWJzLG49dC5tb3JwaFRhcmdldE1hbmFnZXI7aWYobiE9bnVsbCYmbi5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2NvbnN0IGE9biYmbi5zdXBwb3J0c05vcm1hbHMmJmkuTk9STUFMLG89biYmbi5zdXBwb3J0c1RhbmdlbnRzJiZpLlRBTkdFTlQsaD1uJiZuLnN1cHBvcnRzVVZzJiZpLlVWMTtmb3IobGV0IGw9MDtsPHM7bCsrKWUucHVzaChwLlBvc2l0aW9uS2luZCtsKSxhJiZlLnB1c2gocC5Ob3JtYWxLaW5kK2wpLG8mJmUucHVzaChwLlRhbmdlbnRLaW5kK2wpLGgmJmUucHVzaChwLlVWS2luZCsiXyIrbCksZS5sZW5ndGg+ciYmdy5FcnJvcigiQ2Fubm90IGFkZCBtb3JlIHZlcnRleCBhdHRyaWJ1dGVzIGZvciBtZXNoICIrdC5uYW1lKX19c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0LGkpe2kuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiZpLklOU1RBTkNFUyYmZS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkIil9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMoZSx0LGkscyl7aS5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiYocy5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsdCksZS5wdXNoKHAuTWF0cmljZXNJbmRpY2VzS2luZCksZS5wdXNoKHAuTWF0cmljZXNXZWlnaHRzS2luZCksaS5OVU1fQk9ORV9JTkZMVUVOQ0VSUz40JiYoZS5wdXNoKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxlLnB1c2gocC5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKSl9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsdCl7KHQuSU5TVEFOQ0VTfHx0LlRISU5fSU5TVEFOQ0VTKSYmdGhpcy5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLCEhdC5QUkVQQVNTX1ZFTE9DSVRZKSx0LklOU1RBTkNFU0NPTE9SJiZlLnB1c2gocC5Db2xvckluc3RhbmNlS2luZCl9c3RhdGljIFB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsdD0hMSl7ZS5wdXNoKCJ3b3JsZDAiKSxlLnB1c2goIndvcmxkMSIpLGUucHVzaCgid29ybGQyIiksZS5wdXNoKCJ3b3JsZDMiKSx0JiYoZS5wdXNoKCJwcmV2aW91c1dvcmxkMCIpLGUucHVzaCgicHJldmlvdXNXb3JsZDEiKSxlLnB1c2goInByZXZpb3VzV29ybGQyIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMyIpKX1zdGF0aWMgQmluZExpZ2h0UHJvcGVydGllcyhlLHQsaSl7ZS50cmFuc2ZlclRvRWZmZWN0KHQsaSsiIil9c3RhdGljIEJpbmRMaWdodChlLHQsaSxzLHIsbj0hMCl7ZS5fYmluZExpZ2h0KHQsaSxzLHIsbil9c3RhdGljIEJpbmRMaWdodHMoZSx0LGkscyxyPTQpe2NvbnN0IG49TWF0aC5taW4odC5saWdodFNvdXJjZXMubGVuZ3RoLHIpO2ZvcihsZXQgYT0wO2E8bjthKyspe2NvbnN0IG89dC5saWdodFNvdXJjZXNbYV07dGhpcy5CaW5kTGlnaHQobyxhLGUsaSx0eXBlb2Ygcz09ImJvb2xlYW4iP3M6cy5TUEVDVUxBUlRFUk0sdC5yZWNlaXZlU2hhZG93cyl9fXN0YXRpYyBCaW5kRm9nUGFyYW1ldGVycyhlLHQsaSxzPSExKXtlLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJmUuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORSYmKGkuc2V0RmxvYXQ0KCJ2Rm9nSW5mb3MiLGUuZm9nTW9kZSxlLmZvZ1N0YXJ0LGUuZm9nRW5kLGUuZm9nRGVuc2l0eSkscz8oZS5mb2dDb2xvci50b0xpbmVhclNwYWNlVG9SZWYodGhpcy5fVGVtcEZvZ0NvbG9yKSxpLnNldENvbG9yMygidkZvZ0NvbG9yIix0aGlzLl9UZW1wRm9nQ29sb3IpKTppLnNldENvbG9yMygidkZvZ0NvbG9yIixlLmZvZ0NvbG9yKSl9c3RhdGljIEJpbmRCb25lc1BhcmFtZXRlcnMoZSx0LGkpe2lmKCEoIXR8fCFlKSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFUmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSksZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pKXtjb25zdCBzPWUuc2tlbGV0b247aWYocy5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZ0LmdldFVuaWZvcm1JbmRleCgiYm9uZVRleHR1cmVXaWR0aCIpPi0xKXtjb25zdCByPXMuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShlKTt0LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixyKSx0LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihzLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZXtjb25zdCByPXMuZ2V0VHJhbnNmb3JtTWF0cmljZXMoZSk7ciYmKHQuc2V0TWF0cmljZXMoIm1Cb25lcyIsciksaSYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlciYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSYmKGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXXx8KGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXT1yLnNsaWNlKCkpLHQuc2V0TWF0cmljZXMoIm1QcmV2aW91c0JvbmVzIixpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pLGVlLl9Db3B5Qm9uZXNUcmFuc2Zvcm1hdGlvbk1hdHJpY2VzKHIsaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSkpfX19c3RhdGljIF9Db3B5Qm9uZXNUcmFuc2Zvcm1hdGlvbk1hdHJpY2VzKGUsdCl7cmV0dXJuIHQuc2V0KGUpLHR9c3RhdGljIEJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPWUubW9ycGhUYXJnZXRNYW5hZ2VyOyFlfHwhaXx8dC5zZXRGbG9hdEFycmF5KCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLGkuaW5mbHVlbmNlcyl9c3RhdGljIEJpbmRMb2dEZXB0aChlLHQsaSl7aWYoIWV8fGUuTE9HQVJJVEhNSUNERVBUSCl7Y29uc3Qgcz1pLmFjdGl2ZUNhbWVyYTtzLm1vZGU9PT1aLk9SVEhPR1JBUEhJQ19DQU1FUkEmJncuRXJyb3IoIkxvZ2FyaXRobWljIGRlcHRoIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggb3J0aG9ncmFwaGljIGNhbWVyYXMhIiwyMCksdC5zZXRGbG9hdCgibG9nYXJpdGhtaWNEZXB0aENvbnN0YW50IiwyLyhNYXRoLmxvZyhzLm1heForMSkvTWF0aC5MTjIpKX19c3RhdGljIEJpbmRDbGlwUGxhbmUoZSx0KXtSbi5CaW5kQ2xpcFBsYW5lKGUsdCl9fWVlLl9UbXBNb3JwaEluZmx1ZW5jZXJzPXtOVU1fTU9SUEhfSU5GTFVFTkNFUlM6MH0sZWUuX1RlbXBGb2dDb2xvcj1pZS5CbGFjaygpO2NsYXNzIGt0e2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5lbmFibGVkPSExLHRoaXMubWFzaz0yNTUsdGhpcy5mdW5jPTUxOSx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9NzY4MCx0aGlzLm9wRGVwdGhGYWlsPTc2ODAsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9NzY4MX1nZXQgZnVuYygpe3JldHVybiB0aGlzLl9mdW5jfXNldCBmdW5jKGUpe3RoaXMuX2Z1bmM9ZX1nZXQgZnVuY1JlZigpe3JldHVybiB0aGlzLl9mdW5jUmVmfXNldCBmdW5jUmVmKGUpe3RoaXMuX2Z1bmNSZWY9ZX1nZXQgZnVuY01hc2soKXtyZXR1cm4gdGhpcy5fZnVuY01hc2t9c2V0IGZ1bmNNYXNrKGUpe3RoaXMuX2Z1bmNNYXNrPWV9Z2V0IG9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH1zZXQgb3BTdGVuY2lsRmFpbChlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsPWV9Z2V0IG9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfXNldCBvcERlcHRoRmFpbChlKXt0aGlzLl9vcERlcHRoRmFpbD1lfWdldCBvcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfXNldCBvcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWV9Z2V0IG1hc2soKXtyZXR1cm4gdGhpcy5fbWFza31zZXQgbWFzayhlKXt0aGlzLl9tYXNrPWV9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1zZXQgZW5hYmxlZChlKXt0aGlzLl9lbmFibGVkPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsU3RlbmNpbFN0YXRlIn1jb3B5VG8oZSl7cmUuQ2xvbmUoKCk9PmUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIHJlLlNlcmlhbGl6ZSh0aGlzKX1wYXJzZShlLHQsaSl7cmUuUGFyc2UoKCk9PnRoaXMsZSx0LGkpfX1TKFtNKCldLGt0LnByb3RvdHlwZSwiZnVuYyIsbnVsbCksUyhbTSgpXSxrdC5wcm90b3R5cGUsImZ1bmNSZWYiLG51bGwpLFMoW00oKV0sa3QucHJvdG90eXBlLCJmdW5jTWFzayIsbnVsbCksUyhbTSgpXSxrdC5wcm90b3R5cGUsIm9wU3RlbmNpbEZhaWwiLG51bGwpLFMoW00oKV0sa3QucHJvdG90eXBlLCJvcERlcHRoRmFpbCIsbnVsbCksUyhbTSgpXSxrdC5wcm90b3R5cGUsIm9wU3RlbmNpbERlcHRoUGFzcyIsbnVsbCksUyhbTSgpXSxrdC5wcm90b3R5cGUsIm1hc2siLG51bGwpLFMoW00oKV0sa3QucHJvdG90eXBlLCJlbmFibGVkIixudWxsKTt2YXIgJGU7KGZ1bmN0aW9uKGMpe2NbYy5DcmVhdGVkPTFdPSJDcmVhdGVkIixjW2MuRGlzcG9zZWQ9Ml09IkRpc3Bvc2VkIixjW2MuR2V0RGVmaW5lTmFtZXM9NF09IkdldERlZmluZU5hbWVzIixjW2MuUHJlcGFyZVVuaWZvcm1CdWZmZXI9OF09IlByZXBhcmVVbmlmb3JtQnVmZmVyIixjW2MuSXNSZWFkeUZvclN1Yk1lc2g9MTZdPSJJc1JlYWR5Rm9yU3ViTWVzaCIsY1tjLlByZXBhcmVEZWZpbmVzPTMyXT0iUHJlcGFyZURlZmluZXMiLGNbYy5CaW5kRm9yU3ViTWVzaD02NF09IkJpbmRGb3JTdWJNZXNoIixjW2MuUHJlcGFyZUVmZmVjdD0xMjhdPSJQcmVwYXJlRWZmZWN0IixjW2MuR2V0QW5pbWF0YWJsZXM9MjU2XT0iR2V0QW5pbWF0YWJsZXMiLGNbYy5HZXRBY3RpdmVUZXh0dXJlcz01MTJdPSJHZXRBY3RpdmVUZXh0dXJlcyIsY1tjLkhhc1RleHR1cmU9MTAyNF09Ikhhc1RleHR1cmUiLGNbYy5GaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9MjA0OF09IkZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyIsY1tjLkhhc1JlbmRlclRhcmdldFRleHR1cmVzPTQwOTZdPSJIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyIsY1tjLkhhcmRCaW5kRm9yU3ViTWVzaD04MTkyXT0iSGFyZEJpbmRGb3JTdWJNZXNoIn0pKCRlfHwoJGU9e30pKTtjbGFzcyBJe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnNoYWRvd0RlcHRoV3JhcHBlcj1udWxsLHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsPSExLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExLHRoaXMuc3RhdGU9IiIsdGhpcy5fYWxwaGE9MSx0aGlzLl9iYWNrRmFjZUN1bGxpbmc9ITAsdGhpcy5fY3VsbEJhY2tGYWNlcz0hMCx0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPW51bGwsdGhpcy5kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSExLHRoaXMuYW5pbWF0aW9ucz1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX29uQmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWxwaGFNb2RlPTIsdGhpcy5fbmVlZERlcHRoUHJlUGFzcz0hMSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlPSExLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGU9ITEsdGhpcy5mb3JjZURlcHRoV3JpdGU9ITEsdGhpcy5kZXB0aEZ1bmN0aW9uPTAsdGhpcy5zZXBhcmF0ZUN1bGxpbmdQYXNzPSExLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5wb2ludFNpemU9MSx0aGlzLnpPZmZzZXQ9MCx0aGlzLnpPZmZzZXRVbml0cz0wLHRoaXMuc3RlbmNpbD1uZXcga3QsdGhpcy5fdXNlVUJPPSExLHRoaXMuX2ZpbGxNb2RlPUkuVHJpYW5nbGVGaWxsTW9kZSx0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT0wLHRoaXMuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSExLHRoaXMuX2V2ZW50SW5mbz17fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9mb3JjZUFscGhhVGVzdD0hMSx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPW51bGwsdGhpcy5uYW1lPWU7Y29uc3Qgcz10fHxkZS5MYXN0Q3JlYXRlZFNjZW5lOyFzfHwodGhpcy5fc2NlbmU9cyx0aGlzLl9kaXJ0eUNhbGxiYWNrcz17fSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s0XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s4XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxNl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzYzXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuaWQ9ZXx8VS5SYW5kb21JZCgpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9tYXRlcmlhbENvbnRleHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCksdGhpcy5fZHJhd1dyYXBwZXI9bmV3IFJpKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLCExKSx0aGlzLl9kcmF3V3JhcHBlci5tYXRlcmlhbENvbnRleHQ9dGhpcy5fbWF0ZXJpYWxDb250ZXh0LHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3RoaXMuc2lkZU9yaWVudGF0aW9uPUkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOnRoaXMuc2lkZU9yaWVudGF0aW9uPUkuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbix0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBIKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fdXNlVUJPPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLGl8fHRoaXMuX3NjZW5lLmFkZE1hdGVyaWFsKHRoaXMpLHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmKHRoaXMubWVzaE1hcD17fSksSS5PbkV2ZW50T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcywkZS5DcmVhdGVkKSl9Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITF9c2V0IGFscGhhKGUpe2lmKHRoaXMuX2FscGhhPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9hbHBoYTt0aGlzLl9hbHBoYT1lLCh0PT09MXx8ZT09PTEpJiZ0aGlzLm1hcmtBc0RpcnR5KEkuTWlzY0RpcnR5RmxhZyl9Z2V0IGFscGhhKCl7cmV0dXJuIHRoaXMuX2FscGhhfXNldCBiYWNrRmFjZUN1bGxpbmcoZSl7dGhpcy5fYmFja0ZhY2VDdWxsaW5nIT09ZSYmKHRoaXMuX2JhY2tGYWNlQ3VsbGluZz1lLHRoaXMubWFya0FzRGlydHkoSS5UZXh0dXJlRGlydHlGbGFnKSl9Z2V0IGJhY2tGYWNlQ3VsbGluZygpe3JldHVybiB0aGlzLl9iYWNrRmFjZUN1bGxpbmd9c2V0IGN1bGxCYWNrRmFjZXMoZSl7dGhpcy5fY3VsbEJhY2tGYWNlcyE9PWUmJih0aGlzLl9jdWxsQmFja0ZhY2VzPWUsdGhpcy5tYXJrQXNEaXJ0eShJLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgY3VsbEJhY2tGYWNlcygpe3JldHVybiB0aGlzLl9jdWxsQmFja0ZhY2VzfWdldCBoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiB0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzfXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IG9uQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uQmluZE9ic2VydmFibGV9c2V0IG9uQmluZChlKXt0aGlzLl9vbkJpbmRPYnNlcnZlciYmdGhpcy5vbkJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJpbmRPYnNlcnZlciksdGhpcy5fb25CaW5kT2JzZXJ2ZXI9dGhpcy5vbkJpbmRPYnNlcnZhYmxlLmFkZChlKX1nZXQgb25VbkJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfWdldCBvbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV8fCh0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfXNldCBhbHBoYU1vZGUoZSl7dGhpcy5fYWxwaGFNb2RlIT09ZSYmKHRoaXMuX2FscGhhTW9kZT1lLHRoaXMubWFya0FzRGlydHkoSS5UZXh0dXJlRGlydHlGbGFnKSl9Z2V0IGFscGhhTW9kZSgpe3JldHVybiB0aGlzLl9hbHBoYU1vZGV9c2V0IG5lZWREZXB0aFByZVBhc3MoZSl7dGhpcy5fbmVlZERlcHRoUHJlUGFzcyE9PWUmJih0aGlzLl9uZWVkRGVwdGhQcmVQYXNzPWUsdGhpcy5fbmVlZERlcHRoUHJlUGFzcyYmKHRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsPSEwKSl9Z2V0IG5lZWREZXB0aFByZVBhc3MoKXtyZXR1cm4gdGhpcy5fbmVlZERlcHRoUHJlUGFzc31nZXQgaXNQcmVQYXNzQ2FwYWJsZSgpe3JldHVybiExfXNldCBmb2dFbmFibGVkKGUpe3RoaXMuX2ZvZ0VuYWJsZWQhPT1lJiYodGhpcy5fZm9nRW5hYmxlZD1lLHRoaXMubWFya0FzRGlydHkoSS5NaXNjRGlydHlGbGFnKSl9Z2V0IGZvZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH1nZXQgd2lyZWZyYW1lKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIEkuV2lyZUZyYW1lRmlsbE1vZGU6Y2FzZSBJLkxpbmVMaXN0RHJhd01vZGU6Y2FzZSBJLkxpbmVMb29wRHJhd01vZGU6Y2FzZSBJLkxpbmVTdHJpcERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVdpcmVmcmFtZX1zZXQgd2lyZWZyYW1lKGUpe3RoaXMuZmlsbE1vZGU9ZT9JLldpcmVGcmFtZUZpbGxNb2RlOkkuVHJpYW5nbGVGaWxsTW9kZX1nZXQgcG9pbnRzQ2xvdWQoKXtzd2l0Y2godGhpcy5fZmlsbE1vZGUpe2Nhc2UgSS5Qb2ludEZpbGxNb2RlOmNhc2UgSS5Qb2ludExpc3REcmF3TW9kZTpyZXR1cm4hMH1yZXR1cm4gdGhpcy5fc2NlbmUuZm9yY2VQb2ludHNDbG91ZH1zZXQgcG9pbnRzQ2xvdWQoZSl7dGhpcy5maWxsTW9kZT1lP0kuUG9pbnRGaWxsTW9kZTpJLlRyaWFuZ2xlRmlsbE1vZGV9Z2V0IGZpbGxNb2RlKCl7cmV0dXJuIHRoaXMuX2ZpbGxNb2RlfXNldCBmaWxsTW9kZShlKXt0aGlzLl9maWxsTW9kZSE9PWUmJih0aGlzLl9maWxsTW9kZT1lLHRoaXMubWFya0FzRGlydHkoSS5NaXNjRGlydHlGbGFnKSl9X2dldERyYXdXcmFwcGVyKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyfV9zZXREcmF3V3JhcHBlcihlKXt0aGlzLl9kcmF3V3JhcHBlcj1lfXRvU3RyaW5nKGUpe3JldHVybiJOYW1lOiAiK3RoaXMubmFtZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWF0ZXJpYWwifWdldCBpc0Zyb3plbigpe3JldHVybiB0aGlzLmNoZWNrUmVhZHlPbmx5T25jZX1mcmVlemUoKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSEwfXVuZnJlZXplKCl7dGhpcy5tYXJrRGlydHkoKSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMX1pc1JlYWR5KGUsdCl7cmV0dXJuITB9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpe2NvbnN0IHM9dC5tYXRlcmlhbERlZmluZXM7cmV0dXJuIHM/KHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1zLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaCk6ITF9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1nZXQgdHJhbnNwYXJlbmN5TW9kZSgpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlfXNldCB0cmFuc3BhcmVuY3lNb2RlKGUpe3RoaXMuX3RyYW5zcGFyZW5jeU1vZGUhPT1lJiYodGhpcy5fdHJhbnNwYXJlbmN5TW9kZT1lLHRoaXMuX2ZvcmNlQWxwaGFUZXN0PWU9PT1JLk1BVEVSSUFMX0FMUEhBVEVTVEFOREJMRU5ELHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5KCkpfWdldCBfZGlzYWJsZUFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PUkuTUFURVJJQUxfT1BBUVVFfHx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09SS5NQVRFUklBTF9BTFBIQVRFU1R9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfW5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmcmJmUudmlzaWJpbGl0eT49MT8hMTp0aGlzLm5lZWRBbHBoYUJsZW5kaW5nKCl8fGUudmlzaWJpbGl0eTwxfHxlLmhhc1ZlcnRleEFscGhhfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4hIXRoaXMuX2ZvcmNlQWxwaGFUZXN0fV9zaG91bGRUdXJuQWxwaGFUZXN0T24oZSl7cmV0dXJuIXRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpJiZ0aGlzLm5lZWRBbHBoYVRlc3RpbmcoKX1nZXRBbHBoYVRlc3RUZXh0dXJlKCl7cmV0dXJuIG51bGx9bWFya0RpcnR5KCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCB0IG9mIGUpaWYoISF0LnN1Yk1lc2hlcylmb3IoY29uc3QgaSBvZiB0LnN1Yk1lc2hlcylpLmdldE1hdGVyaWFsKCk9PT10aGlzJiYoIWkuZWZmZWN0fHwoaS5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSxpLmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPW51bGwpKX1fcHJlQmluZChlLHQ9bnVsbCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPSh0PT1udWxsP3RoaXMuc2lkZU9yaWVudGF0aW9uOnQpPT09SS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb247cmV0dXJuIGkuZW5hYmxlRWZmZWN0KGV8fHRoaXMuX2dldERyYXdXcmFwcGVyKCkpLGkuc2V0U3RhdGUodGhpcy5iYWNrRmFjZUN1bGxpbmcsdGhpcy56T2Zmc2V0LCExLHIsdGhpcy5jdWxsQmFja0ZhY2VzLHRoaXMuc3RlbmNpbCx0aGlzLnpPZmZzZXRVbml0cykscn1iaW5kKGUsdCl7fWJ1aWxkVW5pZm9ybUxheW91dCgpe2NvbnN0IGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0aGlzLl9ldmVudEluZm8udWJvPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoJGUuUHJlcGFyZVVuaWZvcm1CdWZmZXIsdGhpcy5fZXZlbnRJbmZvKSxlLmNyZWF0ZSgpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMH1iaW5kRm9yU3ViTWVzaChlLHQsaSl7IWkuZWZmZWN0fHwodGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSl9YmluZE9ubHlXb3JsZE1hdHJpeChlKXt9YmluZFZpZXcoZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDplLnNldE1hdHJpeCgidmlldyIsdGhpcy5nZXRTY2VuZSgpLmdldFZpZXdNYXRyaXgoKSl9YmluZFZpZXdQcm9qZWN0aW9uKGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6KGUuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxlLnNldE1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFByb2plY3Rpb25NYXRyaXgoKSkpfWJpbmRFeWVQb3NpdGlvbihlLHQpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6dGhpcy5fc2NlbmUuYmluZEV5ZVBvc2l0aW9uKGUsdCl9X2FmdGVyQmluZChlLHQ9bnVsbCl7aWYodGhpcy5fc2NlbmUuX2NhY2hlZE1hdGVyaWFsPXRoaXMsdGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvJiZ0JiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSExLGVlLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodCx0aGlzLmdldFNjZW5lKCkuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSksZT90aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT1lLnZpc2liaWxpdHk6dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9MSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZT1pLmdldERlcHRoV3JpdGUoKSxpLnNldERlcHRoV3JpdGUoITEpfWlmKHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPWkuZ2V0Q29sb3JXcml0ZSgpLGkuc2V0Q29sb3JXcml0ZSghMSl9aWYodGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9aS5nZXREZXB0aEZ1bmN0aW9uKCl8fDAsaS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuZGVwdGhGdW5jdGlvbil9fXVuYmluZCgpe3RoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmRlcHRoRnVuY3Rpb24hPT0wJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0RGVwdGhXcml0ZSh0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGUpLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldENvbG9yV3JpdGUodGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlKX1nZXRBbmltYXRhYmxlcygpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoJGUuR2V0QW5pbWF0YWJsZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXN9Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKCRlLkdldEFjdGl2ZVRleHR1cmVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlPSExLHRoaXMuX2V2ZW50SW5mby50ZXh0dXJlPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoJGUuSGFzVGV4dHVyZSx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlfWNsb25lKGUpe3JldHVybiBudWxsfWdldEJpbmRlZE1lc2hlcygpe2lmKHRoaXMubWVzaE1hcCl7Y29uc3QgZT1uZXcgQXJyYXk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5tZXNoTWFwKXtjb25zdCBpPXRoaXMubWVzaE1hcFt0XTtpJiZlLnB1c2goaSl9cmV0dXJuIGV9ZWxzZSByZXR1cm4gdGhpcy5fc2NlbmUubWVzaGVzLmZpbHRlcih0PT50Lm1hdGVyaWFsPT09dGhpcyl9Zm9yY2VDb21waWxhdGlvbihlLHQsaSxzKXtjb25zdCByPXtjbGlwUGxhbmU6ITEsdXNlSW5zdGFuY2VzOiExLC4uLml9LG49dGhpcy5nZXRTY2VuZSgpLGE9dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nO3RoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMTtjb25zdCBvPSgpPT57aWYoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpcmV0dXJuO2NvbnN0IGg9bi5jbGlwUGxhbmU7aWYoci5jbGlwUGxhbmUmJihuLmNsaXBQbGFuZT1uZXcgdnQoMCwwLDAsMSkpLHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2xldCBsPSEwLHU9bnVsbDtpZihlLnN1Yk1lc2hlcyl7Y29uc3QgZj1uZXcgRXQoMCwwLDAsMCwwLGUsdm9pZCAwLCExLCExKTtmLm1hdGVyaWFsRGVmaW5lcyYmKGYubWF0ZXJpYWxEZWZpbmVzLl9yZW5kZXJJZD0tMSksdGhpcy5pc1JlYWR5Rm9yU3ViTWVzaChlLGYsci51c2VJbnN0YW5jZXMpfHwoZi5lZmZlY3QmJmYuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKSYmZi5lZmZlY3QuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCk/dT1mLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCk6KGw9ITEsc2V0VGltZW91dChvLDE2KSkpfWwmJih0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9YSx1JiZzJiZzKHUpLHQmJnQodGhpcykpfWVsc2UgdGhpcy5pc1JlYWR5KCk/KHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz1hLHQmJnQodGhpcykpOnNldFRpbWVvdXQobywxNik7ci5jbGlwUGxhbmUmJihuLmNsaXBQbGFuZT1oKX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e3RoaXMuZm9yY2VDb21waWxhdGlvbihlLCgpPT57aSgpfSx0LHI9PntzKHIpfSl9KX1tYXJrQXNEaXJ0eShlKXt0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHwoSS5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aD0wLGUmSS5UZXh0dXJlRGlydHlGbGFnJiZJLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChJLl9UZXh0dXJlRGlydHlDYWxsQmFjayksZSZJLkxpZ2h0RGlydHlGbGFnJiZJLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChJLl9MaWdodHNEaXJ0eUNhbGxCYWNrKSxlJkkuRnJlc25lbERpcnR5RmxhZyYmSS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goSS5fRnJlc25lbERpcnR5Q2FsbEJhY2spLGUmSS5BdHRyaWJ1dGVzRGlydHlGbGFnJiZJLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChJLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrKSxlJkkuTWlzY0RpcnR5RmxhZyYmSS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goSS5fTWlzY0RpcnR5Q2FsbEJhY2spLGUmSS5QcmVQYXNzRGlydHlGbGFnJiZJLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChJLl9QcmVQYXNzRGlydHlDYWxsQmFjayksSS5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aCYmdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoSS5fUnVuRGlydHlDYWxsQmFja3MpLHRoaXMuZ2V0U2NlbmUoKS5yZXNldENhY2hlZE1hdGVyaWFsKCkpfXJlc2V0RHJhd0NhY2hlKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCB0IG9mIGUpaWYoISF0LnN1Yk1lc2hlcylmb3IoY29uc3QgaSBvZiB0LnN1Yk1lc2hlcylpLmdldE1hdGVyaWFsKCk9PT10aGlzJiZpLnJlc2V0RHJhd0NhY2hlKCl9X21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGUpe2lmKHRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgaSBvZiB0KWlmKCEhaS5zdWJNZXNoZXMpe2Zvcihjb25zdCBzIG9mIGkuc3ViTWVzaGVzKWlmKHMuZ2V0TWF0ZXJpYWwoITEpPT09dGhpcylmb3IoY29uc3QgciBvZiBzLl9kcmF3V3JhcHBlcnMpIXJ8fCFyLmRlZmluZXN8fCFyLmRlZmluZXMubWFya0FsbEFzRGlydHl8fHRoaXMuX21hdGVyaWFsQ29udGV4dD09PXIubWF0ZXJpYWxDb250ZXh0JiZlKHIuZGVmaW5lcyl9fV9tYXJrU2NlbmVQcmVQYXNzRGlydHkoKXtpZih0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKS5lbmFibGVQcmVQYXNzUmVuZGVyZXIoKTtlJiZlLm1hcmtBc0RpcnR5KCl9X21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoSS5fQWxsRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoSS5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShJLl9UZXh0dXJlRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEkuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoSS5fTGlnaHRzRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEkuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShJLl9NaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEkuX01pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShJLl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2spfXNldFByZVBhc3NSZW5kZXJlcihlKXtyZXR1cm4hMX1kaXNwb3NlKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZihzLnN0b3BBbmltYXRpb24odGhpcykscy5mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzKCkscy5yZW1vdmVNYXRlcmlhbCh0aGlzKSx0aGlzLl9ldmVudEluZm8uZm9yY2VEaXNwb3NlVGV4dHVyZXM9dCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYygkZS5EaXNwb3NlZCx0aGlzLl9ldmVudEluZm8pLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcj10aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5zcGxpY2UociwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZihpIT09ITApaWYodGhpcy5tZXNoTWFwKWZvcihjb25zdCByIGluIHRoaXMubWVzaE1hcCl7Y29uc3Qgbj10aGlzLm1lc2hNYXBbcl07biYmKG4ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChuLGUpKX1lbHNle2NvbnN0IHI9cy5tZXNoZXM7Zm9yKGNvbnN0IG4gb2YgciluLm1hdGVyaWFsPT09dGhpcyYmIW4uc291cmNlTWVzaCYmKG4ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChuLGUpKX10aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSxlJiZ0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QmJih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuZGlzcG9zZSgpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD1udWxsKSx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vblVuQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiZ0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLmNsZWFyKCl9cmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KGUsdCl7aWYoZS5nZW9tZXRyeSl7Y29uc3QgaT1lLmdlb21ldHJ5O2lmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IHMgb2YgZS5zdWJNZXNoZXMpaS5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHMuZWZmZWN0KSx0JiZzLmVmZmVjdCYmcy5lZmZlY3QuZGlzcG9zZSgpO2Vsc2UgaS5fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCl9fXNlcmlhbGl6ZSgpe2NvbnN0IGU9cmUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnN0ZW5jaWw9dGhpcy5zdGVuY2lsLnNlcmlhbGl6ZSgpLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlfXN0YXRpYyBQYXJzZShlLHQsaSl7aWYoIWUuY3VzdG9tVHlwZSllLmN1c3RvbVR5cGU9IkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCI7ZWxzZSBpZihlLmN1c3RvbVR5cGU9PT0iQkFCWUxPTi5QQlJNYXRlcmlhbCImJmUub3ZlcmxvYWRlZEFsYmVkbyYmKGUuY3VzdG9tVHlwZT0iQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCIsIUJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwpKXJldHVybiB3LkVycm9yKCJZb3VyIHNjZW5lIGlzIHRyeWluZyB0byBsb2FkIGEgbGVnYWN5IHZlcnNpb24gb2YgdGhlIFBCUk1hdGVyaWFsLCBwbGVhc2UsIGluY2x1ZGUgaXQgZnJvbSB0aGUgbWF0ZXJpYWxzIGxpYnJhcnkuIiksbnVsbDtjb25zdCByPVUuSW5zdGFudGlhdGUoZS5jdXN0b21UeXBlKS5QYXJzZShlLHQsaSk7cmV0dXJuIHIuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQscn19SS5UcmlhbmdsZUZpbGxNb2RlPTAsSS5XaXJlRnJhbWVGaWxsTW9kZT0xLEkuUG9pbnRGaWxsTW9kZT0yLEkuUG9pbnRMaXN0RHJhd01vZGU9MyxJLkxpbmVMaXN0RHJhd01vZGU9NCxJLkxpbmVMb29wRHJhd01vZGU9NSxJLkxpbmVTdHJpcERyYXdNb2RlPTYsSS5UcmlhbmdsZVN0cmlwRHJhd01vZGU9NyxJLlRyaWFuZ2xlRmFuRHJhd01vZGU9OCxJLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj0wLEkuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj0xLEkuVGV4dHVyZURpcnR5RmxhZz0xLEkuTGlnaHREaXJ0eUZsYWc9MixJLkZyZXNuZWxEaXJ0eUZsYWc9NCxJLkF0dHJpYnV0ZXNEaXJ0eUZsYWc9OCxJLk1pc2NEaXJ0eUZsYWc9MTYsSS5QcmVQYXNzRGlydHlGbGFnPTMyLEkuQWxsRGlydHlGbGFnPTYzLEkuTUFURVJJQUxfT1BBUVVFPTAsSS5NQVRFUklBTF9BTFBIQVRFU1Q9MSxJLk1BVEVSSUFMX0FMUEhBQkxFTkQ9MixJLk1BVEVSSUFMX0FMUEhBVEVTVEFOREJMRU5EPTMsSS5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9XSElURU9VVD0wLEkuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfUk5NPTEsSS5PbkV2ZW50T2JzZXJ2YWJsZT1uZXcgRixJLl9BbGxEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FsbEFzRGlydHkoKSxJLl9JbWFnZVByb2Nlc3NpbmdEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKSxJLl9UZXh0dXJlRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc1RleHR1cmVzRGlydHkoKSxJLl9GcmVzbmVsRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0ZyZXNuZWxEaXJ0eSgpLEkuX01pc2NEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzTWlzY0RpcnR5KCksSS5fUHJlUGFzc0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNQcmVQYXNzRGlydHkoKSxJLl9MaWdodHNEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzTGlnaHREaXJ0eSgpLEkuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKSxJLl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2s9Yz0+e0kuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKGMpLEkuX01pc2NEaXJ0eUNhbGxCYWNrKGMpfSxJLl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2s9Yz0+e0kuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKGMpLEkuX01pc2NEaXJ0eUNhbGxCYWNrKGMpfSxJLl9EaXJ0eUNhbGxiYWNrQXJyYXk9W10sSS5fUnVuRGlydHlDYWxsQmFja3M9Yz0+e2Zvcihjb25zdCBlIG9mIEkuX0RpcnR5Q2FsbGJhY2tBcnJheSllKGMpfSxTKFtNKCldLEkucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFMoW00oKV0sSS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFMoW00oKV0sSS5wcm90b3R5cGUsImNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJjaGVja1JlYWR5T25seU9uY2UiLHZvaWQgMCksUyhbTSgpXSxJLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksUyhbTSgiYWxwaGEiKV0sSS5wcm90b3R5cGUsIl9hbHBoYSIsdm9pZCAwKSxTKFtNKCJiYWNrRmFjZUN1bGxpbmciKV0sSS5wcm90b3R5cGUsIl9iYWNrRmFjZUN1bGxpbmciLHZvaWQgMCksUyhbTSgiY3VsbEJhY2tGYWNlcyIpXSxJLnByb3RvdHlwZSwiX2N1bGxCYWNrRmFjZXMiLHZvaWQgMCksUyhbTSgpXSxJLnByb3RvdHlwZSwic2lkZU9yaWVudGF0aW9uIix2b2lkIDApLFMoW00oImFscGhhTW9kZSIpXSxJLnByb3RvdHlwZSwiX2FscGhhTW9kZSIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJfbmVlZERlcHRoUHJlUGFzcyIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJkaXNhYmxlRGVwdGhXcml0ZSIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJkaXNhYmxlQ29sb3JXcml0ZSIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJmb3JjZURlcHRoV3JpdGUiLHZvaWQgMCksUyhbTSgpXSxJLnByb3RvdHlwZSwiZGVwdGhGdW5jdGlvbiIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJzZXBhcmF0ZUN1bGxpbmdQYXNzIix2b2lkIDApLFMoW00oImZvZ0VuYWJsZWQiKV0sSS5wcm90b3R5cGUsIl9mb2dFbmFibGVkIix2b2lkIDApLFMoW00oKV0sSS5wcm90b3R5cGUsInBvaW50U2l6ZSIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJ6T2Zmc2V0Iix2b2lkIDApLFMoW00oKV0sSS5wcm90b3R5cGUsInpPZmZzZXRVbml0cyIsdm9pZCAwKSxTKFtNKCldLEkucHJvdG90eXBlLCJwb2ludHNDbG91ZCIsbnVsbCksUyhbTSgpXSxJLnByb3RvdHlwZSwiZmlsbE1vZGUiLG51bGwpLFMoW00oKV0sSS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeU1vZGUiLG51bGwpO2NsYXNzIG1pIGV4dGVuZHMgSXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCwhMCksdGhpcy5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz1bXSx0aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHMucHVzaCh0aGlzKSx0aGlzLnN1Yk1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMH1nZXQgc3ViTWF0ZXJpYWxzKCl7cmV0dXJuIHRoaXMuX3N1Yk1hdGVyaWFsc31zZXQgc3ViTWF0ZXJpYWxzKGUpe3RoaXMuX3N1Yk1hdGVyaWFscz1lLHRoaXMuX2hvb2tBcnJheShlKX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLnN1Yk1hdGVyaWFsc31faG9va0FycmF5KGUpe2NvbnN0IHQ9ZS5wdXNoO2UucHVzaD0oLi4ucyk9Pntjb25zdCByPXQuYXBwbHkoZSxzKTtyZXR1cm4gdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpLHJ9O2NvbnN0IGk9ZS5zcGxpY2U7ZS5zcGxpY2U9KHMscik9Pntjb25zdCBuPWkuYXBwbHkoZSxbcyxyXSk7cmV0dXJuIHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSxufX1nZXRTdWJNYXRlcmlhbChlKXtyZXR1cm4gZTwwfHxlPj10aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg/dGhpcy5nZXRTY2VuZSgpLmRlZmF1bHRNYXRlcmlhbDp0aGlzLnN1Yk1hdGVyaWFsc1tlXX1nZXRBY3RpdmVUZXh0dXJlcygpe3JldHVybiBzdXBlci5nZXRBY3RpdmVUZXh0dXJlcygpLmNvbmNhdCguLi50aGlzLnN1Yk1hdGVyaWFscy5tYXAoZT0+ZT9lLmdldEFjdGl2ZVRleHR1cmVzKCk6W10pKX1oYXNUZXh0dXJlKGUpe3ZhciB0O2lmKHN1cGVyLmhhc1RleHR1cmUoZSkpcmV0dXJuITA7Zm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7aSsrKWlmKCh0PXRoaXMuc3ViTWF0ZXJpYWxzW2ldKSE9bnVsbCYmdC5oYXNUZXh0dXJlKGUpKXJldHVybiEwO3JldHVybiExfWdldENsYXNzTmFtZSgpe3JldHVybiJNdWx0aU1hdGVyaWFsIn1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7Zm9yKGxldCBzPTA7czx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO2lmKHIpe2lmKHIuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFyLmlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKSlyZXR1cm4hMTtjb250aW51ZX1pZighci5pc1JlYWR5KGUpKXJldHVybiExfX1yZXR1cm4hMH1jbG9uZShlLHQpe2NvbnN0IGk9bmV3IG1pKGUsdGhpcy5nZXRTY2VuZSgpKTtmb3IobGV0IHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe2xldCByPW51bGw7Y29uc3Qgbj10aGlzLnN1Yk1hdGVyaWFsc1tzXTt0JiZuP3I9bi5jbG9uZShlKyItIituLm5hbWUpOnI9dGhpcy5zdWJNYXRlcmlhbHNbc10saS5zdWJNYXRlcmlhbHMucHVzaChyKX1yZXR1cm4gaX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxwZSYmKGUudGFncz1wZS5HZXRUYWdzKHRoaXMpKSxlLm1hdGVyaWFsc1VuaXF1ZUlkcz1bXSxlLm1hdGVyaWFscz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5zdWJNYXRlcmlhbHNbdF07aT8oZS5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChpLnVuaXF1ZUlkKSxlLm1hdGVyaWFscy5wdXNoKGkuaWQpKTooZS5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChudWxsKSxlLm1hdGVyaWFscy5wdXNoKG51bGwpKX1yZXR1cm4gZX1kaXNwb3NlKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZighcylyZXR1cm47aWYoaSlmb3IobGV0IG49MDtuPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5zdWJNYXRlcmlhbHNbbl07YSYmYS5kaXNwb3NlKGUsdCl9Y29uc3Qgcj1zLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7cj49MCYmcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UociwxKSxzdXBlci5kaXNwb3NlKGUsdCl9c3RhdGljIFBhcnNlTXVsdGlNYXRlcmlhbChlLHQpe2NvbnN0IGk9bmV3IG1pKGUubmFtZSx0KTtyZXR1cm4gaS5pZD1lLmlkLGkuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQscGUmJnBlLkFkZFRhZ3NUbyhpLGUudGFncyksZS5tYXRlcmlhbHNVbmlxdWVJZHM/aS5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz1lLm1hdGVyaWFsc1VuaXF1ZUlkczplLm1hdGVyaWFscy5mb3JFYWNoKHM9Pmkuc3ViTWF0ZXJpYWxzLnB1c2godC5nZXRMYXN0TWF0ZXJpYWxCeUlkKHMpKSksaX19dHQoIkJBQllMT04uTXVsdGlNYXRlcmlhbCIsbWkpO2NsYXNzIHlue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLm1lc2g9dH19Y2xhc3MgQ257Y29uc3RydWN0b3IoKXt0aGlzLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5iYXRjaENhY2hlPW5ldyB4cix0aGlzLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU9bmV3IHhyLHRoaXMuaW5zdGFuY2VzQnVmZmVyU2l6ZT0zMioxNio0fX1jbGFzcyB4cntjb25zdHJ1Y3Rvcigpe3RoaXMubXVzdFJldHVybj0hMSx0aGlzLnZpc2libGVJbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMucmVuZGVyU2VsZj1uZXcgQXJyYXksdGhpcy5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz1uZXcgQXJyYXl9fWNsYXNzIElue2NvbnN0cnVjdG9yKCl7dGhpcy5pbnN0YW5jZXNDb3VudD0wLHRoaXMubWF0cml4QnVmZmVyPW51bGwsdGhpcy5wcmV2aW91c01hdHJpeEJ1ZmZlcj1udWxsLHRoaXMubWF0cml4QnVmZmVyU2l6ZT0zMioxNix0aGlzLm1hdHJpeERhdGE9bnVsbCx0aGlzLmJvdW5kaW5nVmVjdG9ycz1bXSx0aGlzLndvcmxkTWF0cmljZXM9bnVsbH19Y2xhc3MgUG57Y29uc3RydWN0b3IoKXt0aGlzLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3ByZUFjdGl2YXRlSWQ9LTEsdGhpcy5fTE9ETGV2ZWxzPW5ldyBBcnJheSx0aGlzLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT0hMSx0aGlzLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2ZvcmNlZEluc3RhbmNlQ291bnQ9MH19Y2xhc3MgayBleHRlbmRzIGF0e2NvbnN0cnVjdG9yKGUsdD1udWxsLGk9bnVsbCxzPW51bGwscixuPSEwKXtpZihzdXBlcihlLHQpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvPW5ldyBQbix0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5pbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9bnVsbCx0aGlzLl9nZW9tZXRyeT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IENuLHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBJbix0aGlzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExLHRoaXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1rLkRFRkFVTFRTSURFLHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1udWxsLHRoaXMuaWdub3JlQ2FtZXJhTWF4Wj0hMSx0PXRoaXMuZ2V0U2NlbmUoKSx0aGlzLl9vbkJlZm9yZURyYXc9KGEsbyxoKT0+e2EmJmgmJih0aGlzLl91bmlmb3JtQnVmZmVyP3RoaXMudHJhbnNmZXJUb0VmZmVjdChvKTpoLmJpbmRPbmx5V29ybGRNYXRyaXgobykpfSxzKXtpZihzLl9nZW9tZXRyeSYmcy5fZ2VvbWV0cnkuYXBwbHlUb01lc2godGhpcyksZ3MuRGVlcENvcHkocyx0aGlzLFsibmFtZSIsIm1hdGVyaWFsIiwic2tlbGV0b24iLCJpbnN0YW5jZXMiLCJwYXJlbnQiLCJ1bmlxdWVJZCIsInNvdXJjZSIsIm1ldGFkYXRhIiwibW9ycGhUYXJnZXRNYW5hZ2VyIiwiaGFzSW5zdGFuY2VzIiwid29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwiaGFzTE9ETGV2ZWxzIiwiZ2VvbWV0cnkiLCJpc0Jsb2NrZWQiLCJhcmVOb3JtYWxzRnJvemVuIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImxpZ2h0U291cmNlcyIsInVzZUJvbmVzIiwiaXNBbkluc3RhbmNlIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJjbG9uZU1lc2hNYXAiLCJoYXNCb3VuZGluZ0luZm8iXSxbIl9wb3NlTWF0cml4Il0pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9cyx0LnVzZUNsb25lZE1lc2hNYXAmJihzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfHwocy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcD17fSkscy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT10aGlzKSx0aGlzLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249cy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uLHRoaXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9cy5fY3JlYXRpb25EYXRhU3RvcmFnZSxzLl9yYW5nZXMpe2NvbnN0IGE9cy5fcmFuZ2VzO2Zvcihjb25zdCBvIGluIGEpIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLG8pfHwhYVtvXXx8dGhpcy5jcmVhdGVBbmltYXRpb25SYW5nZShvLGFbb10uZnJvbSxhW29dLnRvKX1pZihzLm1ldGFkYXRhJiZzLm1ldGFkYXRhLmNsb25lP3RoaXMubWV0YWRhdGE9cy5tZXRhZGF0YS5jbG9uZSgpOnRoaXMubWV0YWRhdGE9cy5tZXRhZGF0YSxwZSYmcGUuSGFzVGFncyhzKSYmcGUuQWRkVGFnc1RvKHRoaXMscGUuR2V0VGFncyhzLCEwKSksdGhpcy5zZXRFbmFibGVkKHMuaXNFbmFibGVkKCExKSksdGhpcy5wYXJlbnQ9cy5wYXJlbnQsdGhpcy5zZXRQaXZvdE1hdHJpeChzLmdldFBpdm90TWF0cml4KCkpLHRoaXMuaWQ9ZSsiLiIrcy5pZCx0aGlzLm1hdGVyaWFsPXMubWF0ZXJpYWwsIXIpe2NvbnN0IGE9cy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBvPTA7bzxhLmxlbmd0aDtvKyspe2NvbnN0IGg9YVtvXTtoLmNsb25lJiZoLmNsb25lKGUrIi4iK2gubmFtZSx0aGlzKX19aWYocy5tb3JwaFRhcmdldE1hbmFnZXImJih0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcj1zLm1vcnBoVGFyZ2V0TWFuYWdlciksdC5nZXRQaHlzaWNzRW5naW5lKXtjb25zdCBhPXQuZ2V0UGh5c2ljc0VuZ2luZSgpO2lmKG4mJmEpe2NvbnN0IG89YS5nZXRJbXBvc3RvckZvclBoeXNpY3NPYmplY3Qocyk7byYmKHRoaXMucGh5c2ljc0ltcG9zdG9yPW8uY2xvbmUodGhpcykpfX1mb3IobGV0IGE9MDthPHQucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89dC5wYXJ0aWNsZVN5c3RlbXNbYV07by5lbWl0dGVyPT09cyYmby5jbG9uZShvLm5hbWUsdGhpcyl9dGhpcy5za2VsZXRvbj1zLnNrZWxldG9uLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApfWkhPT1udWxsJiYodGhpcy5wYXJlbnQ9aSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz10aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZD1hPT57YS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMCx0aGlzLmlzUmVhZHkoITApP3RoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcnx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmlzUmVhZHkoITApJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlciksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfSkpfSx0aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZT1uZXcgRih0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkKSxzJiZzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9c3RhdGljIF9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUpe3JldHVybiBlfHxrLkZST05UU0lERX1nZXQgdXNlTE9EU2NyZWVuQ292ZXJhZ2UoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlfXNldCB1c2VMT0RTY3JlZW5Db3ZlcmFnZShlKXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U9ZX1nZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc31zZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PWUmJihlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zJiYodGhpcy5zZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucz1udWxsLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfWdldCBvbkJlZm9yZUJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfWdldCBvbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZX1nZXQgb25CZXR3ZWVuUGFzc09ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV9Z2V0IG9uQmVmb3JlRHJhd09ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV9c2V0IG9uQmVmb3JlRHJhdyhlKXt0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciYmdGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciksdGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmFkZChlKX1nZXQgaGFzSW5zdGFuY2VzKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfWdldCBoYXNUaGluSW5zdGFuY2VzKCl7dmFyIGU7cmV0dXJuKChlPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50KSE9bnVsbD9lOjApPjB9Z2V0IGZvcmNlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnR9c2V0IGZvcmNlZEluc3RhbmNlQ291bnQoZSl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnQ9ZX1nZXQgc291cmNlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2V9Z2V0IGNsb25lTWVzaE1hcCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfWdldCBpc1VuSW5kZXhlZCgpe3JldHVybiB0aGlzLl91bkluZGV4ZWR9c2V0IGlzVW5JbmRleGVkKGUpe3RoaXMuX3VuSW5kZXhlZCE9PWUmJih0aGlzLl91bkluZGV4ZWQ9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IHdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzRGF0YX1nZXQgcHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc1ByZXZpb3VzRGF0YX1nZXQgbWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZX1zZXQgbWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcihlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZT1lfWdldCBtYW51YWxVcGRhdGVPZlByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZX1zZXQgbWFudWFsVXBkYXRlT2ZQcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGU9ZX1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpPT09MHx8dCYmdC5kb05vdEluc3RhbnRpYXRlJiYodC5kb05vdEluc3RhbnRpYXRlPT09ITB8fHQuZG9Ob3RJbnN0YW50aWF0ZSh0aGlzKSk/dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCk6dGhpcy5jcmVhdGVJbnN0YW5jZSgiaW5zdGFuY2Ugb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSk7cy5wYXJlbnQ9ZXx8dGhpcy5wYXJlbnQscy5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCkscy5zY2FsaW5nPXRoaXMuc2NhbGluZy5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk6cy5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksaSYmaSh0aGlzLHMpO2Zvcihjb25zdCByIG9mIHRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkpci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRNZXNoIiYmcy5nZXRDbGFzc05hbWUoKT09PSJNZXNoIj9yLmluc3RhbnRpYXRlSGllcmFyY2h5KHMse2RvTm90SW5zdGFudGlhdGU6dCYmdC5kb05vdEluc3RhbnRpYXRlfHwhMSxuZXdTb3VyY2VkTWVzaDpzfSxpKTpyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWVzaCJ9Z2V0IF9pc01lc2goKXtyZXR1cm4hMH10b1N0cmluZyhlKXtsZXQgdD1zdXBlci50b1N0cmluZyhlKTtpZih0Kz0iLCBuIHZlcnRpY2VzOiAiK3RoaXMuZ2V0VG90YWxWZXJ0aWNlcygpLHQrPSIsIHBhcmVudDogIisodGhpcy5fd2FpdGluZ1BhcmVudElkP3RoaXMuX3dhaXRpbmdQYXJlbnRJZDp0aGlzLnBhcmVudD90aGlzLnBhcmVudC5uYW1lOiJOT05FIiksdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtpZihlKWlmKHRoaXMuX2dlb21ldHJ5KXtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQpO3MmJmkmJih0Kz0iLCBmbGF0IHNoYWRpbmc6ICIrKHMubGVuZ3RoLzM9PT1pLmxlbmd0aD8iWUVTIjoiTk8iKSl9ZWxzZSB0Kz0iLCBmbGF0IHNoYWRpbmc6IFVOS05PV04iO3JldHVybiB0fV91bkJpbmRFZmZlY3QoKXtzdXBlci5fdW5CaW5kRWZmZWN0KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pbnN0YW5jZXMpZS5fdW5CaW5kRWZmZWN0KCl9Z2V0IGhhc0xPRExldmVscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLmxlbmd0aD4wfWdldExPRExldmVscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzfV9zb3J0TE9ETGV2ZWxzKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U/LTE6MTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnNvcnQoKHQsaSk9PnQuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPGkuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlP2U6dC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+aS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/LWU6MCl9YWRkTE9ETGV2ZWwoZSx0KXtpZih0JiZ0Ll9tYXN0ZXJNZXNoKXJldHVybiB3Lldhcm4oIllvdSBjYW5ub3QgdXNlIGEgbWVzaCBhcyBMT0QgbGV2ZWwgdHdpY2UiKSx0aGlzO2NvbnN0IGk9bmV3IHluKGUsdCk7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMucHVzaChpKSx0JiYodC5fbWFzdGVyTWVzaD10aGlzKSx0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc31nZXRMT0RMZXZlbEF0RGlzdGFuY2UoZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztmb3IobGV0IGk9MDtpPHQuX0xPRExldmVscy5sZW5ndGg7aSsrKXtjb25zdCBzPXQuX0xPRExldmVsc1tpXTtpZihzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT09PWUpcmV0dXJuIHMubWVzaH1yZXR1cm4gbnVsbH1yZW1vdmVMT0RMZXZlbChlKXtjb25zdCB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2ZvcihsZXQgaT0wO2k8dC5fTE9ETGV2ZWxzLmxlbmd0aDtpKyspdC5fTE9ETGV2ZWxzW2ldLm1lc2g9PT1lJiYodC5fTE9ETGV2ZWxzLnNwbGljZShpLDEpLGUmJihlLl9tYXN0ZXJNZXNoPW51bGwpKTtyZXR1cm4gdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9Z2V0TE9EKGUsdCl7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighaS5fTE9ETGV2ZWxzfHxpLl9MT0RMZXZlbHMubGVuZ3RoPT09MClyZXR1cm4gdGhpcztsZXQgczt0P3M9dDpzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmU7Y29uc3Qgcj1zLmNlbnRlcldvcmxkLnN1YnRyYWN0KGUuZ2xvYmFsUG9zaXRpb24pLmxlbmd0aCgpLG49aS5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U7bGV0IGE9cixvPTE7aWYobil7Y29uc3QgaD1lLnNjcmVlbkFyZWE7bGV0IGw9cy5yYWRpdXNXb3JsZCplLm1pblovcjtsPWwqbCpNYXRoLlBJLGE9bC9oLG89LTF9aWYobyppLl9MT0RMZXZlbHNbaS5fTE9ETGV2ZWxzLmxlbmd0aC0xXS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+byphKXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihhLHRoaXMsdGhpcyksdGhpcztmb3IobGV0IGg9MDtoPGkuX0xPRExldmVscy5sZW5ndGg7aCsrKXtjb25zdCBsPWkuX0xPRExldmVsc1toXTtpZihvKmwuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPG8qYSl7aWYobC5tZXNoKXtpZihsLm1lc2guZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiBsLm1lc2guX2NoZWNrRGVsYXlTdGF0ZSgpLHRoaXM7aWYobC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4gdGhpcztsLm1lc2guX3ByZUFjdGl2YXRlKCksbC5tZXNoLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSl9cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKGEsdGhpcyxsLm1lc2gpLGwubWVzaH19cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKGEsdGhpcyx0aGlzKSx0aGlzfWdldCBnZW9tZXRyeSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PT09bnVsbHx8dGhpcy5fZ2VvbWV0cnk9PT12b2lkIDA/MDp0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCl9Z2V0VmVydGljZXNEYXRhKGUsdCxpKXt2YXIgcixuO2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gbnVsbDtsZXQgcz0obj0ocj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT1udWxsP3ZvaWQgMDpyLnZlcnRleEJ1ZmZlcnNbZV0pPT1udWxsP3ZvaWQgMDpuLmdldEZsb2F0RGF0YSh0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCksaXx8dCYmdGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aCE9PTEpO3JldHVybiBzfHwocz10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpKSxzfWdldFZlcnRleEJ1ZmZlcihlKXt2YXIgdCxpO3JldHVybiB0aGlzLl9nZW9tZXRyeT8oaT0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT1udWxsP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbZV0pIT1udWxsP2k6dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVyKGUpOm51bGx9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3ZhciB0O3JldHVybiB0aGlzLl9nZW9tZXRyeT8oKHQ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09bnVsbD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2VdKSE9PXZvaWQgMHx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpe3ZhciB0LGk7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PygoaT0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT1udWxsP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbZV0pPT1udWxsP3ZvaWQgMDppLmlzVXBkYXRhYmxlKCkpfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMX1nZXRWZXJ0aWNlc0RhdGFLaW5kcygpe2lmKCF0aGlzLl9nZW9tZXRyeSl7Y29uc3QgdD1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2RlbGF5SW5mbyYmdGhpcy5fZGVsYXlJbmZvLmZvckVhY2goZnVuY3Rpb24oaSl7dC5wdXNoKGkpfSksdH1jb25zdCBlPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YUtpbmRzKCk7aWYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKWZvcihjb25zdCB0IGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKWUucHVzaCh0KTtyZXR1cm4gZX1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxJbmRpY2VzKCk6MH1nZXRJbmRpY2VzKGUsdCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldEluZGljZXMoZSx0KTpbXX1nZXQgaXNCbG9ja2VkKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2ghPT1udWxsJiZ0aGlzLl9tYXN0ZXJNZXNoIT09dm9pZCAwfWlzUmVhZHkoZT0hMSx0PSExKXt2YXIgbyxoLGwsdSxmLGQ7aWYodGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFzdXBlci5pc1JlYWR5KGUpKXJldHVybiExO2lmKCF0aGlzLnN1Yk1lc2hlc3x8dGhpcy5zdWJNZXNoZXMubGVuZ3RoPT09MHx8IWUpcmV0dXJuITA7Y29uc3QgaT10aGlzLmdldEVuZ2luZSgpLHM9dGhpcy5nZXRTY2VuZSgpLHI9dHx8aS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYodGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB8fHRoaXMuaGFzVGhpbkluc3RhbmNlcyk7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCBuPXRoaXMubWF0ZXJpYWx8fHMuZGVmYXVsdE1hdGVyaWFsO2lmKG4pe2lmKG4uX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IF8gb2YgdGhpcy5zdWJNZXNoZXMpe2NvbnN0IEU9Xy5nZXRNYXRlcmlhbCgpO2lmKEUpe2lmKEUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFFLmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsXyxyKSlyZXR1cm4hMX1lbHNlIGlmKCFFLmlzUmVhZHkodGhpcyxyKSlyZXR1cm4hMX19ZWxzZSBpZighbi5pc1JlYWR5KHRoaXMscikpcmV0dXJuITF9Y29uc3QgYT1pLmN1cnJlbnRSZW5kZXJQYXNzSWQ7Zm9yKGNvbnN0IF8gb2YgdGhpcy5saWdodFNvdXJjZXMpe2NvbnN0IEU9Xy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihFJiYoISgobz1FLmdldFNoYWRvd01hcCgpKSE9bnVsbCYmby5yZW5kZXJMaXN0KXx8KChoPUUuZ2V0U2hhZG93TWFwKCkpPT1udWxsP3ZvaWQgMDpoLnJlbmRlckxpc3QpJiYoKHU9KGw9RS5nZXRTaGFkb3dNYXAoKSk9PW51bGw/dm9pZCAwOmwucmVuZGVyTGlzdCk9PW51bGw/dm9pZCAwOnUuaW5kZXhPZih0aGlzKSkhPT0tMSkpe0UuZ2V0U2hhZG93TWFwKCkmJihpLmN1cnJlbnRSZW5kZXJQYXNzSWQ9RS5nZXRTaGFkb3dNYXAoKS5yZW5kZXJQYXNzSWQpO2Zvcihjb25zdCBtIG9mIHRoaXMuc3ViTWVzaGVzKWlmKCFFLmlzUmVhZHkobSxyLChkPShmPW0uZ2V0TWF0ZXJpYWwoKSk9PW51bGw/dm9pZCAwOmYubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHRoaXMpKSE9bnVsbD9kOiExKSlyZXR1cm4gaS5jdXJyZW50UmVuZGVyUGFzc0lkPWEsITE7aS5jdXJyZW50UmVuZGVyUGFzc0lkPWF9fWZvcihjb25zdCBfIG9mIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMpaWYoXy5tZXNoJiYhXy5tZXNoLmlzUmVhZHkocikpcmV0dXJuITE7cmV0dXJuITB9Z2V0IGFyZU5vcm1hbHNGcm96ZW4oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW59ZnJlZXplTm9ybWFscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMCx0aGlzfXVuZnJlZXplTm9ybWFscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMSx0aGlzfXNldCBvdmVycmlkZW5JbnN0YW5jZUNvdW50KGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudD1lfV9wcmVBY3RpdmF0ZSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8sdD10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKTtyZXR1cm4gZS5fcHJlQWN0aXZhdGVJZD09PXQ/dGhpczooZS5fcHJlQWN0aXZhdGVJZD10LHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcz1udWxsLHRoaXMpfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZD1lKSx0aGlzfV9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQoZSx0KXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXtkZWZhdWx0UmVuZGVySWQ6dCxzZWxmRGVmYXVsdFJlbmRlcklkOnRoaXMuX3JlbmRlcklkfSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkIT09dm9pZCAwJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZF09bnVsbCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkPXQsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdPW5ldyBBcnJheSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdLnB1c2goZSksdGhpc31fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKXtzdXBlci5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmhhc1RoaW5JbnN0YW5jZXMmJih0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8dGhpcy50aGluSW5zdGFuY2VSZWZyZXNoQm91bmRpbmdJbmZvKCExKSl9X3Bvc3RBY3RpdmF0ZSgpe3RoaXMuZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXMmJnRoaXMuZWRnZXNSZW5kZXJlciYmdGhpcy5lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fcmVuZGVyaW5nR3JvdXAmJih0aGlzLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuZWRnZXNSZW5kZXJlciksdGhpcy5lZGdlc1JlbmRlcmVyLmN1c3RvbUluc3RhbmNlcy5wdXNoKHRoaXMuZ2V0V29ybGRNYXRyaXgoKSkpfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtpZih0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuZ2VvbWV0cnk/dGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxpKSx0aGlzfV9jcmVhdGVHbG9iYWxTdWJNZXNoKGUpe2NvbnN0IHQ9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk7aWYoIXR8fCF0aGlzLmdldEluZGljZXMoKSlyZXR1cm4gbnVsbDtpZih0aGlzLnN1Yk1lc2hlcyYmdGhpcy5zdWJNZXNoZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1pLmxlbmd0aDtsZXQgcj0hMTtpZihlKXI9ITA7ZWxzZSBmb3IoY29uc3QgbiBvZiB0aGlzLnN1Yk1lc2hlcyl7aWYobi5pbmRleFN0YXJ0K24uaW5kZXhDb3VudD5zKXtyPSEwO2JyZWFrfWlmKG4udmVydGljZXNTdGFydCtuLnZlcnRpY2VzQ291bnQ+dCl7cj0hMDticmVha319aWYoIXIpcmV0dXJuIHRoaXMuc3ViTWVzaGVzWzBdfXJldHVybiB0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSxuZXcgRXQoMCwwLHQsMCx0aGlzLmdldFRvdGFsSW5kaWNlcygpLHRoaXMpfXN1YmRpdmlkZShlKXtpZihlPDEpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgaT10L2V8MCxzPTA7Zm9yKDtpJTMhPT0wOylpKys7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCByPTA7cjxlJiYhKHM+PXQpO3IrKylFdC5DcmVhdGVGcm9tSW5kaWNlcygwLHMscj09PWUtMT90LXM6aSx0aGlzKSxzKz1pO3RoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aWYodGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGUsdCxpLHMpO2Vsc2V7Y29uc3Qgcj1uZXcgUTtyLnNldCh0LGUpO2NvbnN0IG49dGhpcy5nZXRTY2VuZSgpO25ldyBudChudC5SYW5kb21JZCgpLG4scixpLHRoaXMpfXJldHVybiB0aGlzfXJlbW92ZVZlcnRpY2VzRGF0YShlKXshdGhpcy5fZ2VvbWV0cnl8fHRoaXMuX2dlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShlKX1tYXJrVmVydGljZXNEYXRhQXNVcGRhdGFibGUoZSx0PSEwKXtjb25zdCBpPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpOyFpfHxpLmlzVXBkYXRhYmxlKCk9PT10fHx0aGlzLnNldFZlcnRpY2VzRGF0YShlLHRoaXMuZ2V0VmVydGljZXNEYXRhKGUpLHQpfXNldFZlcnRpY2VzQnVmZmVyKGUsdD0hMCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5fHwodGhpcy5fZ2VvbWV0cnk9bnQuQ3JlYXRlR2VvbWV0cnlGb3JNZXNoKHRoaXMpKSx0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0J1ZmZlcihlLG51bGwsdCksdGhpc311cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhzPyh0aGlzLm1ha2VHZW9tZXRyeVVuaXF1ZSgpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLCExKSk6dGhpcy5fZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpKSx0aGlzKTp0aGlzfXVwZGF0ZU1lc2hQb3NpdGlvbnMoZSx0PSEwKXtjb25zdCBpPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kKTtpZighaSlyZXR1cm4gdGhpcztpZihlKGkpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kLGksITEsITEpLHQpe2NvbnN0IHM9dGhpcy5nZXRJbmRpY2VzKCkscj10aGlzLmdldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQpO2lmKCFyKXJldHVybiB0aGlzO1EuQ29tcHV0ZU5vcm1hbHMoaSxzLHIpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCxyLCExLCExKX1yZXR1cm4gdGhpc31tYWtlR2VvbWV0cnlVbmlxdWUoKXtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aD09PTEpcmV0dXJuIHRoaXM7Y29uc3QgZT10aGlzLl9nZW9tZXRyeSx0PXRoaXMuX2dlb21ldHJ5LmNvcHkobnQuUmFuZG9tSWQoKSk7cmV0dXJuIGUucmVsZWFzZUZvck1lc2godGhpcywhMCksdC5hcHBseVRvTWVzaCh0aGlzKSx0aGlzfXNldEluZGljZXMoZSx0PW51bGwsaT0hMSl7aWYodGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0SW5kaWNlcyhlLHQsaSk7ZWxzZXtjb25zdCBzPW5ldyBRO3MuaW5kaWNlcz1lO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO25ldyBudChudC5SYW5kb21JZCgpLHIscyxpLHRoaXMpfXJldHVybiB0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudXBkYXRlSW5kaWNlcyhlLHQsaSksdGhpcyk6dGhpc310b0xlZnRIYW5kZWQoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnRvTGVmdEhhbmRlZCgpLHRoaXMpOnRoaXN9X2JpbmQoZSx0LGkpe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlciYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZCh0KTtsZXQgcjtpZih0aGlzLl91bkluZGV4ZWQpcj1udWxsO2Vsc2Ugc3dpdGNoKGkpe2Nhc2UgSS5Qb2ludEZpbGxNb2RlOnI9bnVsbDticmVhaztjYXNlIEkuV2lyZUZyYW1lRmlsbE1vZGU6cj1lLl9nZXRMaW5lc0luZGV4QnVmZmVyKHRoaXMuZ2V0SW5kaWNlcygpLHMpO2JyZWFrO2RlZmF1bHQ6Y2FzZSBJLlRyaWFuZ2xlRmlsbE1vZGU6cj10aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpO2JyZWFrfXJldHVybiF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fHRoaXMuaGFzVGhpbkluc3RhbmNlcz90aGlzLl9nZW9tZXRyeS5fYmluZCh0LHIpOnRoaXMuX2dlb21ldHJ5Ll9iaW5kKHQscix0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzKSx0aGlzfV9kcmF3KGUsdCxpKXtpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMuX3VuSW5kZXhlZHx8dD09SS5Qb2ludEZpbGxNb2RlP3IuZHJhd0FycmF5c1R5cGUodCxlLnZlcnRpY2VzU3RhcnQsZS52ZXJ0aWNlc0NvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSk6dD09SS5XaXJlRnJhbWVGaWxsTW9kZT9yLmRyYXdFbGVtZW50c1R5cGUodCwwLGUuX2xpbmVzSW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpOnIuZHJhd0VsZW1lbnRzVHlwZSh0LGUuaW5kZXhTdGFydCxlLmluZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKSx0aGlzfXJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKSx0aGlzfXJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpLHRoaXN9dW5yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9X2dldEluc3RhbmNlc1JlbmRlckxpc3QoZSx0PSExKXtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuKXtpZih0KXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbZV09ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLnJlbmRlclNlbGZbZV09ITAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlO2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNofWNvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLHM9aS5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpLHI9cz90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXMsbj10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGU7aWYobi5tdXN0UmV0dXJuPSExLG4ucmVuZGVyU2VsZltlXT10fHwhciYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc1Zpc2libGUsbi52aXNpYmxlSW5zdGFuY2VzW2VdPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYhdCl7Y29uc3QgYT10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMsbz1pLmdldFJlbmRlcklkKCksaD1zP2EuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkOmEuZGVmYXVsdFJlbmRlcklkO24udmlzaWJsZUluc3RhbmNlc1tlXT1hW29dLCFuLnZpc2libGVJbnN0YW5jZXNbZV0mJmgmJihuLnZpc2libGVJbnN0YW5jZXNbZV09YVtoXSl9cmV0dXJuIG4uaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbZV09IXQmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmcmJm4udmlzaWJsZUluc3RhbmNlc1tlXSE9PW51bGwmJm4udmlzaWJsZUluc3RhbmNlc1tlXSE9PXZvaWQgMCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2g9bixufV9yZW5kZXJXaXRoSW5zdGFuY2VzKGUsdCxpLHMscil7dmFyIFQ7Y29uc3Qgbj1pLnZpc2libGVJbnN0YW5jZXNbZS5faWRdO2lmKCFuKXJldHVybiB0aGlzO2NvbnN0IGE9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxvPWEuaW5zdGFuY2VzQnVmZmVyU2l6ZTtsZXQgaD1hLmluc3RhbmNlc0J1ZmZlcixsPWEuaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7Y29uc3QgZj0obi5sZW5ndGgrMSkqMTYqNDtmb3IoO2EuaW5zdGFuY2VzQnVmZmVyU2l6ZTxmOylhLmluc3RhbmNlc0J1ZmZlclNpemUqPTI7KCFhLmluc3RhbmNlc0RhdGF8fG8hPWEuaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihhLmluc3RhbmNlc0RhdGE9bmV3IEZsb2F0MzJBcnJheShhLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpLCh0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWEuaW5zdGFuY2VzUHJldmlvdXNEYXRhfHxvIT1hLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoYS5pbnN0YW5jZXNQcmV2aW91c0RhdGE9bmV3IEZsb2F0MzJBcnJheShhLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpO2xldCBkPTAsXz0wO2NvbnN0IEU9aS5yZW5kZXJTZWxmW2UuX2lkXSxtPSFofHxvIT09YS5pbnN0YW5jZXNCdWZmZXJTaXplfHx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWEuaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7aWYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIWEuaXNGcm96ZW58fG0pKXtjb25zdCBiPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZihFJiYodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihhLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PyhhLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGEuaW5zdGFuY2VzUHJldmlvdXNEYXRhLGQpLGEubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oYikpOihhLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PWIuY2xvbmUoKSxhLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGEuaW5zdGFuY2VzUHJldmlvdXNEYXRhLGQpKSksYi5jb3B5VG9BcnJheShhLmluc3RhbmNlc0RhdGEsZCksZCs9MTYsXysrKSxuKXtpZihrLklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVCYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhJiYoKFQ9ZS5nZXRNYXRlcmlhbCgpKT09bnVsbD92b2lkIDA6VC5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZS5nZXRSZW5kZXJpbmdNZXNoKCkpKSl7Y29uc3QgUj10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEuZ2xvYmFsUG9zaXRpb247Zm9yKGxldCB5PTA7eTxuLmxlbmd0aDt5Kyspe2NvbnN0IEQ9blt5XTtELl9kaXN0YW5jZVRvQ2FtZXJhPWcuRGlzdGFuY2UoRC5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxSKX1uLnNvcnQoKHksRCk9PnkuX2Rpc3RhbmNlVG9DYW1lcmE+RC5fZGlzdGFuY2VUb0NhbWVyYT8tMTp5Ll9kaXN0YW5jZVRvQ2FtZXJhPEQuX2Rpc3RhbmNlVG9DYW1lcmE/MTowKX1mb3IobGV0IFI9MDtSPG4ubGVuZ3RoO1IrKyl7Y29uc3QgeT1uW1JdLEQ9eS5nZXRXb3JsZE1hdHJpeCgpO0QuY29weVRvQXJyYXkoYS5pbnN0YW5jZXNEYXRhLGQpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoeS5fcHJldmlvdXNXb3JsZE1hdHJpeD8oeS5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShhLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxkKSx5Ll9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlGcm9tKEQpKTooeS5fcHJldmlvdXNXb3JsZE1hdHJpeD1ELmNsb25lKCkseS5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShhLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxkKSkpLGQrPTE2LF8rK319fWVsc2UgXz0oRT8xOjApK24ubGVuZ3RoO3JldHVybiBtPyhoJiZoLmRpc3Bvc2UoKSxsJiZsLmRpc3Bvc2UoKSxoPW5ldyBZaShyLGEuaW5zdGFuY2VzRGF0YSwhMCwxNiwhMSwhMCksYS5pbnN0YW5jZXNCdWZmZXI9aCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDA9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDE9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDI9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDM9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMyIsMTIsNCksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihsPW5ldyBZaShyLGEuaW5zdGFuY2VzUHJldmlvdXNEYXRhLCEwLDE2LCExLCEwKSxhLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyPWwsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDA9bC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQxPWwuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMj1sLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDM9bC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQzIiwxMiw0KSksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSk6dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8KGgudXBkYXRlRGlyZWN0bHkoYS5pbnN0YW5jZXNEYXRhLDAsXyksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGV8fHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUpJiZsLnVwZGF0ZURpcmVjdGx5KGEuaW5zdGFuY2VzUHJldmlvdXNEYXRhLDAsXykpLHRoaXMuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKG4sRSksdGhpcy5nZXRTY2VuZSgpLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KGUuaW5kZXhDb3VudCpfLCExKSxyLl9jdXJyZW50RHJhd0NvbnRleHQmJihyLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMCksdGhpcy5fYmluZChlLHMsdCksdGhpcy5fZHJhdyhlLHQsXyksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFtJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4mJiF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlJiZsLnVwZGF0ZURpcmVjdGx5KGEuaW5zdGFuY2VzRGF0YSwwLF8pLHIudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCksdGhpc31fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXMoZSx0LGkscyl7dmFyIG4sYTtjb25zdCByPShhPShuPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlKT09bnVsbD92b2lkIDA6bi5pbnN0YW5jZXNDb3VudCkhPW51bGw/YTowO3RoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqciwhMSkscy5fY3VycmVudERyYXdDb250ZXh0JiYocy5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxpLHQpLHRoaXMuX2RyYXcoZSx0LHIpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhEYXRhJiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI/dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXIudXBkYXRlRGlyZWN0bHkodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwwLHIpOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyPXRoaXMuX3RoaW5JbnN0YW5jZUNyZWF0ZU1hdHJpeEJ1ZmZlcigicHJldmlvdXNXb3JsZCIsdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwhMSkpLHMudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl9X3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKGUsdCl7fV9wcm9jZXNzUmVuZGVyaW5nKGUsdCxpLHMscixuLGEsbyl7Y29uc3QgaD10aGlzLmdldFNjZW5lKCksbD1oLmdldEVuZ2luZSgpO2lmKG4mJnQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpcmV0dXJuIHRoaXMuX3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKHQscyxpLGwpLHRoaXM7aWYobil0aGlzLl9yZW5kZXJXaXRoSW5zdGFuY2VzKHQscyxyLGksbCk7ZWxzZXtsLl9jdXJyZW50RHJhd0NvbnRleHQmJihsLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMSk7bGV0IHU9MDtyLnJlbmRlclNlbGZbdC5faWRdJiYoYSYmYSghMSxlLmdldFdvcmxkTWF0cml4KCksbyksdSsrLHRoaXMuX2RyYXcodCxzLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudCkpO2NvbnN0IGY9ci52aXNpYmxlSW5zdGFuY2VzW3QuX2lkXTtpZihmKXtjb25zdCBkPWYubGVuZ3RoO3UrPWQ7Zm9yKGxldCBfPTA7XzxkO18rKyl7Y29uc3QgbT1mW19dLmdldFdvcmxkTWF0cml4KCk7YSYmYSghMCxtLG8pLHRoaXMuX2RyYXcodCxzKX19aC5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCh0LmluZGV4Q291bnQqdSwhMSl9cmV0dXJuIHRoaXN9X3JlYnVpbGQoZT0hMSl7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXImJihlJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlci5kaXNwb3NlKCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXI9bnVsbCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyl7Y29uc3QgaT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1t0XTtpJiYoZSYmaS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbdF09bnVsbCl9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e30pfXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHN1cGVyLl9yZWJ1aWxkKGUpfV9mcmVlemUoKXtpZighIXRoaXMuc3ViTWVzaGVzKXtmb3IobGV0IGU9MDtlPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlKTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSEwfX1fdW5GcmVlemUoKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1udWxsfXJlbmRlcihlLHQsaSl7dmFyIHksRCx2O2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExLHRoaXMuX2NoZWNrT2NjbHVzaW9uUXVlcnkoKSYmIXRoaXMuX29jY2x1c2lvbkRhdGFTdG9yYWdlLmZvcmNlUmVuZGVyaW5nV2hlbk9jY2x1ZGVkKXJldHVybiB0aGlzO2NvbnN0IHI9dGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLl9pZCwhIWkpO2lmKHIubXVzdFJldHVybilyZXR1cm4gdGhpcztpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO2NvbnN0IG49cy5nZXRFbmdpbmUoKTtsZXQgYT0wLG89bnVsbDt0aGlzLmlnbm9yZUNhbWVyYU1heFomJnMuYWN0aXZlQ2FtZXJhJiYhcy5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpJiYoYT1zLmFjdGl2ZUNhbWVyYS5tYXhaLG89cy5hY3RpdmVDYW1lcmEscy5hY3RpdmVDYW1lcmEubWF4Wj0wLHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3QgaD1yLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2UuX2lkXXx8ZS5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyxsPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsdT1lLmdldE1hdGVyaWFsKCk7aWYoIXUpcmV0dXJuIG8mJihvLm1heFo9YSxzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7aWYoIWwuaXNGcm96ZW58fCF0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWx8fHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCE9PXUpe2lmKHUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCF1LmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsZSxoKSlyZXR1cm4gbyYmKG8ubWF4Wj1hLHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpc31lbHNlIGlmKCF1LmlzUmVhZHkodGhpcyxoKSlyZXR1cm4gbyYmKG8ubWF4Wj1hLHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9dX1lbHNlIGlmKHUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoKHk9ZS5lZmZlY3QpIT1udWxsJiZ5Ll93YXNQcmV2aW91c2x5UmVhZHkpfHwhdS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISgoRD11LmdldEVmZmVjdCgpKSE9bnVsbCYmRC5fd2FzUHJldmlvdXNseVJlYWR5KSlyZXR1cm4gbyYmKG8ubWF4Wj1hLHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0JiZuLnNldEFscGhhTW9kZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYWxwaGFNb2RlKTtsZXQgZjt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/Zj1lLl9kcmF3V3JhcHBlcjpmPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fZ2V0RHJhd1dyYXBwZXIoKTtjb25zdCBkPSh2PWY9PW51bGw/dm9pZCAwOmYuZWZmZWN0KSE9bnVsbD92Om51bGw7Zm9yKGNvbnN0IEEgb2Ygcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlKUEuYWN0aW9uKHRoaXMsZSxyLGQpO2lmKCFmfHwhZClyZXR1cm4gbyYmKG8ubWF4Wj1hLHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztjb25zdCBfPWl8fHRoaXM7bGV0IEU7aWYoIWwuaXNGcm96ZW4mJih0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nfHx0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24hPT1udWxsKSl7Y29uc3QgQT1fLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk7RT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sRT09bnVsbCYmKEU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLnNpZGVPcmllbnRhdGlvbiksQTwwJiYoRT1FPT09SS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24/SS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOkkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uKSxsLnNpZGVPcmllbnRhdGlvbj1FfWVsc2UgRT1sLnNpZGVPcmllbnRhdGlvbjtjb25zdCBtPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fcHJlQmluZChmLEUpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5mb3JjZURlcHRoV3JpdGUmJm4uc2V0RGVwdGhXcml0ZSghMCk7Y29uc3QgVD1zLmZvcmNlUG9pbnRzQ2xvdWQ/SS5Qb2ludEZpbGxNb2RlOnMuZm9yY2VXaXJlZnJhbWU/SS5XaXJlRnJhbWVGaWxsTW9kZTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZmlsbE1vZGU7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxofHx0aGlzLl9iaW5kKGUsZCxUKTtjb25zdCBiPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCxSPV8uZ2V0V29ybGRNYXRyaXgoKTtiLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP2IuYmluZEZvclN1Yk1lc2goUix0aGlzLGUpOmIuYmluZChSLHRoaXMpLCFiLmJhY2tGYWNlQ3VsbGluZyYmYi5zZXBhcmF0ZUN1bGxpbmdQYXNzJiYobi5zZXRTdGF0ZSghMCxiLnpPZmZzZXQsITEsIW0sYi5jdWxsQmFja0ZhY2VzLGIuc3RlbmNpbCxiLnpPZmZzZXRVbml0cyksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsZCxULHIsaCx0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSxuLnNldFN0YXRlKCEwLGIuek9mZnNldCwhMSxtLGIuY3VsbEJhY2tGYWNlcyxiLnN0ZW5jaWwsYi56T2Zmc2V0VW5pdHMpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsZCxULHIsaCx0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwudW5iaW5kKCk7Zm9yKGNvbnN0IEEgb2Ygcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UpQS5hY3Rpb24odGhpcyxlLHIsZCk7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxvJiYoby5tYXhaPWEscy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfWNsZWFuTWF0cml4V2VpZ2h0cygpe3RoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTWF0cmljZXNXZWlnaHRzS2luZCkmJih0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk/dGhpcy5fbm9ybWFsaXplU2tpbldlaWdodHNBbmRFeHRyYSgpOnRoaXMuX25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpKX1fbm9ybWFsaXplU2tpbkZvdXJXZWlnaHRzKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krPTQpe2NvbnN0IHM9ZVtpXStlW2krMV0rZVtpKzJdK2VbaSszXTtpZihzPT09MCllW2ldPTE7ZWxzZXtjb25zdCByPTEvcztlW2ldKj1yLGVbaSsxXSo9cixlW2krMl0qPXIsZVtpKzNdKj1yfX10aGlzLnNldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9X25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSx0PXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzS2luZCksaT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7cys9NCl7bGV0IHI9dFtzXSt0W3MrMV0rdFtzKzJdK3RbcyszXTtpZihyKz1lW3NdK2VbcysxXStlW3MrMl0rZVtzKzNdLHI9PT0wKXRbc109MTtlbHNle2NvbnN0IG49MS9yO3Rbc10qPW4sdFtzKzFdKj1uLHRbcysyXSo9bix0W3MrM10qPW4sZVtzXSo9bixlW3MrMV0qPW4sZVtzKzJdKj1uLGVbcyszXSo9bn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc1dlaWdodHNLaW5kLHQpLHRoaXMuc2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNXZWlnaHRzS2luZCxlKX12YWxpZGF0ZVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHQ9PT1udWxsfHx0aGlzLnNrZWxldG9uPT1udWxsKXJldHVybntza2lubmVkOiExLHZhbGlkOiEwLHJlcG9ydDoibm90IHNraW5uZWQifTtjb25zdCBpPXQubGVuZ3RoO2xldCBzPTAscj0wLG49MCxhPTA7Y29uc3Qgbz1lPT09bnVsbD80OjgsaD1uZXcgQXJyYXk7Zm9yKGxldCBtPTA7bTw9bzttKyspaFttXT0wO2NvbnN0IGw9LjAwMTtmb3IobGV0IG09MDttPGk7bSs9NCl7bGV0IFQ9dFttXSxiPVQsUj1iPT09MD8wOjE7Zm9yKGxldCB5PTE7eTxvO3krKyl7Y29uc3QgRD15PDQ/dFttK3ldOmVbbSt5LTRdO0Q+VCYmcysrLEQhPT0wJiZSKyssYis9RCxUPUR9aWYoaFtSXSsrLFI+biYmKG49UiksYj09PTApcisrO2Vsc2V7Y29uc3QgeT0xL2I7bGV0IEQ9MDtmb3IobGV0IHY9MDt2PG87disrKXY8ND9EKz1NYXRoLmFicyh0W20rdl0tdFttK3ZdKnkpOkQrPU1hdGguYWJzKGVbbSt2LTRdLWVbbSt2LTRdKnkpO0Q+bCYmYSsrfX1jb25zdCB1PXRoaXMuc2tlbGV0b24uYm9uZXMubGVuZ3RoLGY9dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc0luZGljZXNLaW5kKSxkPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTtsZXQgXz0wO2ZvcihsZXQgbT0wO208aTttKz00KWZvcihsZXQgVD0wO1Q8bztUKyspe2NvbnN0IGI9VDw0P2ZbbStUXTpkW20rVC00XTsoYj49dXx8YjwwKSYmXysrfWNvbnN0IEU9Ik51bWJlciBvZiBXZWlnaHRzID0gIitpLzQrYApNYXhpbXVtIGluZmx1ZW5jZXMgPSBgK24rYApNaXNzaW5nIFdlaWdodHMgPSBgK3IrYApOb3QgU29ydGVkID0gYCtzK2AKTm90IE5vcm1hbGl6ZWQgPSBgK2ErYApXZWlnaHRDb3VudHMgPSBbYCtoK2BdCk51bWJlciBvZiBib25lcyA9IGArdStgCkJhZCBCb25lIEluZGljZXMgPSBgK187cmV0dXJue3NraW5uZWQ6ITAsdmFsaWQ6cj09PTAmJmE9PT0wJiZfPT09MCxyZXBvcnQ6RX19X2NoZWNrRGVsYXlTdGF0ZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5sb2FkKGUpOnRoaXMuZGVsYXlMb2FkU3RhdGU9PT00JiYodGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlKSksdGhpc31fcXVldWVMb2FkKGUpe2UuYWRkUGVuZGluZ0RhdGEodGhpcyk7Y29uc3QgdD10aGlzLmRlbGF5TG9hZGluZ0ZpbGUuaW5kZXhPZigiLmJhYnlsb25iaW5hcnltZXNoZGF0YSIpIT09LTE7cmV0dXJuIFUuTG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGk9PntpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oaSx0aGlzKTp0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuaW5zdGFuY2VzLmZvckVhY2gocz0+e3MucmVmcmVzaEJvdW5kaW5nSW5mbygpLHMuX3N5bmNTdWJNZXNoZXMoKX0pLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSxlLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpfSwoKT0+e30sZS5vZmZsaW5lUHJvdmlkZXIsdCksdGhpc31pc0luRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFzdXBlci5pc0luRnJ1c3R1bShlKT8hMToodGhpcy5fY2hlY2tEZWxheVN0YXRlKCksITApfXNldE1hdGVyaWFsQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tYXRlcmlhbHM7bGV0IGk7Zm9yKGk9dC5sZW5ndGgtMTtpPi0xO2ktLSlpZih0W2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD10W2ldLHRoaXM7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHM7Zm9yKGk9cy5sZW5ndGgtMTtpPi0xO2ktLSlpZihzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD1zW2ldLHRoaXM7cmV0dXJuIHRoaXN9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5tYXRlcmlhbCYmZS5wdXNoKHRoaXMubWF0ZXJpYWwpLHRoaXMuc2tlbGV0b24mJmUucHVzaCh0aGlzLnNrZWxldG9uKSxlfWJha2VUcmFuc2Zvcm1JbnRvVmVydGljZXMoZSl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc3ViTWVzaGVzLnNwbGljZSgwKTt0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtsZXQgaT10aGlzLmdldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCkscz1uZXcgQXJyYXkscjtmb3Iocj0wO3I8aS5sZW5ndGg7cis9MylnLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGcuRnJvbUFycmF5KGksciksZSkudG9BcnJheShzLHIpO2lmKHRoaXMuc2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kLHMsdGhpcy5nZXRWZXJ0ZXhCdWZmZXIocC5Qb3NpdGlvbktpbmQpLmlzVXBkYXRhYmxlKCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTm9ybWFsS2luZCkpe2ZvcihpPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCkscz1bXSxyPTA7cjxpLmxlbmd0aDtyKz0zKWcuVHJhbnNmb3JtTm9ybWFsKGcuRnJvbUFycmF5KGksciksZSkubm9ybWFsaXplKCkudG9BcnJheShzLHIpO3RoaXMuc2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCxzLHRoaXMuZ2V0VmVydGV4QnVmZmVyKHAuTm9ybWFsS2luZCkuaXNVcGRhdGFibGUoKSl9cmV0dXJuIGUuZGV0ZXJtaW5hbnQoKTwwJiZ0aGlzLmZsaXBGYWNlcygpLHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuc3ViTWVzaGVzPXQsdGhpc31iYWtlQ3VycmVudFRyYW5zZm9ybUludG9WZXJ0aWNlcyhlPSEwKXtyZXR1cm4gdGhpcy5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5yZXNldExvY2FsTWF0cml4KGUpLHRoaXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uczp0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5fcG9zaXRpb25zOm51bGx9X3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKTohMX1jbG9uZShlPSIiLHQ9bnVsbCxpLHM9ITApe3JldHVybiBuZXcgayhlLHRoaXMuZ2V0U2NlbmUoKSx0LHRoaXMsaSxzKX1kaXNwb3NlKGUsdD0hMSl7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVsZWFzZUZvck1lc2godGhpcywhMCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZihpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25BZnRlclJlbmRlck9ic2VydmFibGUmJmkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUmJmkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmUudXNlQ2xvbmVkTWVzaE1hcCl7aWYoaS5tZXNoTWFwKWZvcihjb25zdCBzIGluIGkubWVzaE1hcCl7Y29uc3Qgcj1pLm1lc2hNYXBbc107ciYmKHIuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCxpLm1lc2hNYXBbc109dm9pZCAwKX1pLl9zb3VyY2UmJmkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcCYmKGkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApfWVsc2V7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCByIG9mIHMpe2NvbnN0IG49cjtuLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZSYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT09PXRoaXMmJihuLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwpfX1pLl9zb3VyY2U9bnVsbCx0aGlzLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGEoKSx0aGlzLl9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLHN1cGVyLmRpc3Bvc2UoZSx0KX1fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCl7fV9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhKCl7fV9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpe31hcHBseURpc3BsYWNlbWVudE1hcChlLHQsaSxzLHIsbixhPSExKXtjb25zdCBvPXRoaXMuZ2V0U2NlbmUoKSxoPWw9Pntjb25zdCB1PWwud2lkdGgsZj1sLmhlaWdodCxfPXRoaXMuZ2V0RW5naW5lKCkuY3JlYXRlQ2FudmFzKHUsZikuZ2V0Q29udGV4dCgiMmQiKTtfLmRyYXdJbWFnZShsLDAsMCk7Y29uc3QgRT1fLmdldEltYWdlRGF0YSgwLDAsdSxmKS5kYXRhO3RoaXMuYXBwbHlEaXNwbGFjZW1lbnRNYXBGcm9tQnVmZmVyKEUsdSxmLHQsaSxyLG4sYSkscyYmcyh0aGlzKX07cmV0dXJuIFUuTG9hZEltYWdlKGUsaCwoKT0+e30sby5vZmZsaW5lUHJvdmlkZXIpLHRoaXN9YXBwbHlEaXNwbGFjZW1lbnRNYXBGcm9tQnVmZmVyKGUsdCxpLHMscixuLGEsbz0hMSl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuUG9zaXRpb25LaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTm9ybWFsS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWS2luZCkpcmV0dXJuIHcuV2FybigiQ2Fubm90IGNhbGwgYXBwbHlEaXNwbGFjZW1lbnRNYXA6IEdpdmVuIG1lc2ggaXMgbm90IGNvbXBsZXRlLiBQb3NpdGlvbiwgTm9ybWFsIG9yIFVWIGFyZSBtaXNzaW5nIiksdGhpcztjb25zdCBoPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kLCEwLCEwKSxsPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCksdT10aGlzLmdldFZlcnRpY2VzRGF0YShwLlVWS2luZCk7bGV0IGY9Zy5aZXJvKCk7Y29uc3QgZD1nLlplcm8oKSxfPXRlLlplcm8oKTtuPW58fHRlLlplcm8oKSxhPWF8fG5ldyB0ZSgxLDEpO2ZvcihsZXQgRT0wO0U8aC5sZW5ndGg7RSs9Myl7Zy5Gcm9tQXJyYXlUb1JlZihoLEUsZiksZy5Gcm9tQXJyYXlUb1JlZihsLEUsZCksdGUuRnJvbUFycmF5VG9SZWYodSxFLzMqMixfKTtjb25zdCBtPU1hdGguYWJzKF8ueCphLngrbi54JTEpKih0LTEpJXR8MCxUPU1hdGguYWJzKF8ueSphLnkrbi55JTEpKihpLTEpJWl8MCxiPShtK1QqdCkqNCxSPWVbYl0vMjU1LHk9ZVtiKzFdLzI1NSxEPWVbYisyXS8yNTUsdj1SKi4zK3kqLjU5K0QqLjExO2Qubm9ybWFsaXplKCksZC5zY2FsZUluUGxhY2Uocysoci1zKSp2KSxmPWYuYWRkKGQpLGYudG9BcnJheShoLEUpfXJldHVybiBRLkNvbXB1dGVOb3JtYWxzKGgsdGhpcy5nZXRJbmRpY2VzKCksbCksbz8odGhpcy5zZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQsaCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kLGwpLHRoaXMuc2V0VmVydGljZXNEYXRhKHAuVVZLaW5kLHUpKToodGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQsaCksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kLGwpKSx0aGlzfWNvbnZlcnRUb0ZsYXRTaGFkZWRNZXNoKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YUtpbmRzKCksdD17fSxpPXt9LHM9e307bGV0IHI9ITEsbixhO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe2E9ZVtuXTtjb25zdCBtPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGEpLFQ9bS5nZXREYXRhKCk7aWYoISgoVCBpbnN0YW5jZW9mIEFycmF5fHxUIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSYmVC5sZW5ndGg9PT0wKSl7aWYoYT09PXAuTm9ybWFsS2luZCl7cj1tLmlzVXBkYXRhYmxlKCksZS5zcGxpY2UobiwxKSxuLS07Y29udGludWV9dFthXT1tLGlbYV09dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYSksc1thXT1bXX19Y29uc3Qgbz10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxoPXRoaXMuZ2V0SW5kaWNlcygpLGw9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgdTtmb3IodT0wO3U8bDt1Kyspe2NvbnN0IG09aFt1XTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXtpZihhPWVbbl0sIXRbYV0pY29udGludWU7Y29uc3QgVD10W2FdLmdldFN0cmlkZVNpemUoKTtmb3IobGV0IGI9MDtiPFQ7YisrKXNbYV0ucHVzaChpW2FdW20qVCtiXSl9fWNvbnN0IGY9W10sZD1zW3AuUG9zaXRpb25LaW5kXSxfPXRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbTtsZXQgRTtmb3IoXz9FPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTE6RT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0wLHU9MDt1PGw7dSs9Myl7aFt1XT11LGhbdSsxXT11KzEsaFt1KzJdPXUrMjtjb25zdCBtPWcuRnJvbUFycmF5KGQsdSozKSxUPWcuRnJvbUFycmF5KGQsKHUrMSkqMyksYj1nLkZyb21BcnJheShkLCh1KzIpKjMpLFI9bS5zdWJ0cmFjdChUKSx5PWIuc3VidHJhY3QoVCksRD1nLk5vcm1hbGl6ZShnLkNyb3NzKFIseSkpO0UmJkQuc2NhbGVJblBsYWNlKC0xKTtmb3IobGV0IHY9MDt2PDM7disrKWYucHVzaChELngpLGYucHVzaChELnkpLGYucHVzaChELnopfWZvcih0aGlzLnNldEluZGljZXMoaCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEocC5Ob3JtYWxLaW5kLGYsciksbj0wO248ZS5sZW5ndGg7bisrKWE9ZVtuXSxzW2FdJiZ0aGlzLnNldFZlcnRpY2VzRGF0YShhLHNbYV0sdFthXS5pc1VwZGF0YWJsZSgpKTt0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtmb3IobGV0IG09MDttPG8ubGVuZ3RoO20rKyl7Y29uc3QgVD1vW21dO0V0LkFkZFRvTWVzaChULm1hdGVyaWFsSW5kZXgsVC5pbmRleFN0YXJ0LFQuaW5kZXhDb3VudCxULmluZGV4U3RhcnQsVC5pbmRleENvdW50LHRoaXMpfXJldHVybiB0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc31jb252ZXJ0VG9VbkluZGV4ZWRNZXNoKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YUtpbmRzKCksdD17fSxpPXt9LHM9e307bGV0IHIsbjtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXtuPWVbcl07Y29uc3QgdT10aGlzLmdldFZlcnRleEJ1ZmZlcihuKTt0W25dPXUsaVtuXT10W25dLmdldERhdGEoKSxzW25dPVtdfWNvbnN0IGE9dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCksbz10aGlzLmdldEluZGljZXMoKSxoPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCk7bGV0IGw7Zm9yKGw9MDtsPGg7bCsrKXtjb25zdCB1PW9bbF07Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7bj1lW3JdO2NvbnN0IGY9dFtuXS5nZXRTdHJpZGVTaXplKCk7Zm9yKGxldCBkPTA7ZDxmO2QrKylzW25dLnB1c2goaVtuXVt1KmYrZF0pfX1mb3IobD0wO2w8aDtsKz0zKW9bbF09bCxvW2wrMV09bCsxLG9bbCsyXT1sKzI7Zm9yKHRoaXMuc2V0SW5kaWNlcyhvKSxyPTA7cjxlLmxlbmd0aDtyKyspbj1lW3JdLHRoaXMuc2V0VmVydGljZXNEYXRhKG4sc1tuXSx0W25dLmlzVXBkYXRhYmxlKCksdFtuXS5nZXRTdHJpZGVTaXplKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgdT0wO3U8YS5sZW5ndGg7dSsrKXtjb25zdCBmPWFbdV07RXQuQWRkVG9NZXNoKGYubWF0ZXJpYWxJbmRleCxmLmluZGV4U3RhcnQsZi5pbmRleENvdW50LGYuaW5kZXhTdGFydCxmLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuX3VuSW5kZXhlZD0hMCx0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc31mbGlwRmFjZXMoZT0hMSl7Y29uc3QgdD1RLkV4dHJhY3RGcm9tTWVzaCh0aGlzKTtsZXQgaTtpZihlJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk5vcm1hbEtpbmQpJiZ0Lm5vcm1hbHMpZm9yKGk9MDtpPHQubm9ybWFscy5sZW5ndGg7aSsrKXQubm9ybWFsc1tpXSo9LTE7aWYodC5pbmRpY2VzKXtsZXQgcztmb3IoaT0wO2k8dC5pbmRpY2VzLmxlbmd0aDtpKz0zKXM9dC5pbmRpY2VzW2krMV0sdC5pbmRpY2VzW2krMV09dC5pbmRpY2VzW2krMl0sdC5pbmRpY2VzW2krMl09c31yZXR1cm4gdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUocC5Qb3NpdGlvbktpbmQpKSx0aGlzfWluY3JlYXNlVmVydGljZXMoZT0xKXtjb25zdCB0PVEuRXh0cmFjdEZyb21NZXNoKHRoaXMpLGk9dC5pbmRpY2VzJiYhQXJyYXkuaXNBcnJheSh0LmluZGljZXMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20odC5pbmRpY2VzKTp0LmluZGljZXMscz10LnBvc2l0aW9ucyYmIUFycmF5LmlzQXJyYXkodC5wb3NpdGlvbnMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20odC5wb3NpdGlvbnMpOnQucG9zaXRpb25zLHI9dC51dnMmJiFBcnJheS5pc0FycmF5KHQudXZzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQudXZzKTp0LnV2cyxuPXQubm9ybWFscyYmIUFycmF5LmlzQXJyYXkodC5ub3JtYWxzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQubm9ybWFscyk6dC5ub3JtYWxzO2lmKCFpfHwhcyl3Lldhcm4oIkNvdWxkbid0IGluY3JlYXNlIG51bWJlciBvZiB2ZXJ0aWNlcyA6IFZlcnRleERhdGEgbXVzdCBjb250YWluIGF0IGxlYXN0IGluZGljZXMgYW5kIHBvc2l0aW9ucyIpO2Vsc2V7dC5pbmRpY2VzPWksdC5wb3NpdGlvbnM9cyxyJiYodC51dnM9ciksbiYmKHQubm9ybWFscz1uKTtjb25zdCBhPWUrMSxvPW5ldyBBcnJheTtmb3IobGV0IEQ9MDtEPGErMTtEKyspb1tEXT1uZXcgQXJyYXk7bGV0IGgsbDtjb25zdCB1PW5ldyBnKDAsMCwwKSxmPW5ldyBnKDAsMCwwKSxkPW5ldyB0ZSgwLDApLF89bmV3IEFycmF5LEU9bmV3IEFycmF5LG09bmV3IEFycmF5O2xldCBULGI9cy5sZW5ndGgsUjtyJiYoUj1yLmxlbmd0aCk7bGV0IHk7biYmKHk9bi5sZW5ndGgpO2ZvcihsZXQgRD0wO0Q8aS5sZW5ndGg7RCs9Myl7RVswXT1pW0RdLEVbMV09aVtEKzFdLEVbMl09aVtEKzJdO2ZvcihsZXQgdj0wO3Y8Mzt2KyspaWYoaD1FW3ZdLGw9RVsodisxKSUzXSxtW2hdPT09dm9pZCAwJiZtW2xdPT09dm9pZCAwPyhtW2hdPW5ldyBBcnJheSxtW2xdPW5ldyBBcnJheSk6KG1baF09PT12b2lkIDAmJihtW2hdPW5ldyBBcnJheSksbVtsXT09PXZvaWQgMCYmKG1bbF09bmV3IEFycmF5KSksbVtoXVtsXT09PXZvaWQgMCYmbVtsXVtoXT09PXZvaWQgMCl7bVtoXVtsXT1bXSx1Lng9KHNbMypsXS1zWzMqaF0pL2EsdS55PShzWzMqbCsxXS1zWzMqaCsxXSkvYSx1Lno9KHNbMypsKzJdLXNbMypoKzJdKS9hLG4mJihmLng9KG5bMypsXS1uWzMqaF0pL2EsZi55PShuWzMqbCsxXS1uWzMqaCsxXSkvYSxmLno9KG5bMypsKzJdLW5bMypoKzJdKS9hKSxyJiYoZC54PShyWzIqbF0tclsyKmhdKS9hLGQueT0oclsyKmwrMV0tclsyKmgrMV0pL2EpLG1baF1bbF0ucHVzaChoKTtmb3IobGV0IEE9MTtBPGE7QSsrKW1baF1bbF0ucHVzaChzLmxlbmd0aC8zKSxzW2IrK109c1szKmhdK0EqdS54LHNbYisrXT1zWzMqaCsxXStBKnUueSxzW2IrK109c1szKmgrMl0rQSp1LnosbiYmKG5beSsrXT1uWzMqaF0rQSpmLngsblt5KytdPW5bMypoKzFdK0EqZi55LG5beSsrXT1uWzMqaCsyXStBKmYueiksciYmKHJbUisrXT1yWzIqaF0rQSpkLngscltSKytdPXJbMipoKzFdK0EqZC55KTttW2hdW2xdLnB1c2gobCksbVtsXVtoXT1uZXcgQXJyYXksVD1tW2hdW2xdLmxlbmd0aDtmb3IobGV0IEE9MDtBPFQ7QSsrKW1bbF1baF1bQV09bVtoXVtsXVtULTEtQV19b1swXVswXT1pW0RdLG9bMV1bMF09bVtpW0RdXVtpW0QrMV1dWzFdLG9bMV1bMV09bVtpW0RdXVtpW0QrMl1dWzFdO2ZvcihsZXQgdj0yO3Y8YTt2Kyspe29bdl1bMF09bVtpW0RdXVtpW0QrMV1dW3ZdLG9bdl1bdl09bVtpW0RdXVtpW0QrMl1dW3ZdLHUueD0oc1szKm9bdl1bdl1dLXNbMypvW3ZdWzBdXSkvdix1Lnk9KHNbMypvW3ZdW3ZdKzFdLXNbMypvW3ZdWzBdKzFdKS92LHUuej0oc1szKm9bdl1bdl0rMl0tc1szKm9bdl1bMF0rMl0pL3YsbiYmKGYueD0oblszKm9bdl1bdl1dLW5bMypvW3ZdWzBdXSkvdixmLnk9KG5bMypvW3ZdW3ZdKzFdLW5bMypvW3ZdWzBdKzFdKS92LGYuej0oblszKm9bdl1bdl0rMl0tblszKm9bdl1bMF0rMl0pL3YpLHImJihkLng9KHJbMipvW3ZdW3ZdXS1yWzIqb1t2XVswXV0pL3YsZC55PShyWzIqb1t2XVt2XSsxXS1yWzIqb1t2XVswXSsxXSkvdik7Zm9yKGxldCBBPTE7QTx2O0ErKylvW3ZdW0FdPXMubGVuZ3RoLzMsc1tiKytdPXNbMypvW3ZdWzBdXStBKnUueCxzW2IrK109c1szKm9bdl1bMF0rMV0rQSp1Lnksc1tiKytdPXNbMypvW3ZdWzBdKzJdK0EqdS56LG4mJihuW3krK109blszKm9bdl1bMF1dK0EqZi54LG5beSsrXT1uWzMqb1t2XVswXSsxXStBKmYueSxuW3krK109blszKm9bdl1bMF0rMl0rQSpmLnopLHImJihyW1IrK109clsyKm9bdl1bMF1dK0EqZC54LHJbUisrXT1yWzIqb1t2XVswXSsxXStBKmQueSl9b1thXT1tW2lbRCsxXV1baVtEKzJdXSxfLnB1c2gob1swXVswXSxvWzFdWzBdLG9bMV1bMV0pO2ZvcihsZXQgdj0xO3Y8YTt2Kyspe2xldCBBO2ZvcihBPTA7QTx2O0ErKylfLnB1c2gob1t2XVtBXSxvW3YrMV1bQV0sb1t2KzFdW0ErMV0pLF8ucHVzaChvW3ZdW0FdLG9bdisxXVtBKzFdLG9bdl1bQSsxXSk7Xy5wdXNoKG9bdl1bQV0sb1t2KzFdW0FdLG9bdisxXVtBKzFdKX19dC5pbmRpY2VzPV8sdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUocC5Qb3NpdGlvbktpbmQpKX19Zm9yY2VTaGFyZWRWZXJ0aWNlcygpe2NvbnN0IGU9US5FeHRyYWN0RnJvbU1lc2godGhpcyksdD1lLnV2cyxpPWUuaW5kaWNlcyxzPWUucG9zaXRpb25zLHI9ZS5jb2xvcnM7aWYoaT09PXZvaWQgMHx8cz09PXZvaWQgMHx8aT09PW51bGx8fHM9PT1udWxsKXcuV2FybigiVmVydGV4RGF0YSBjb250YWlucyBlbXB0eSBlbnRyaWVzIik7ZWxzZXtjb25zdCBuPW5ldyBBcnJheSxhPW5ldyBBcnJheSxvPW5ldyBBcnJheSxoPW5ldyBBcnJheTtsZXQgbD1uZXcgQXJyYXksdT0wO2NvbnN0IGY9e307bGV0IGQsXztmb3IobGV0IG09MDttPGkubGVuZ3RoO20rPTMpe189W2lbbV0saVttKzFdLGlbbSsyXV0sbD1uZXcgQXJyYXk7Zm9yKGxldCBUPTA7VDwzO1QrKyl7bFtUXT0iIjtmb3IobGV0IGI9MDtiPDM7YisrKU1hdGguYWJzKHNbMypfW1RdK2JdKTwxZS04JiYoc1szKl9bVF0rYl09MCksbFtUXSs9c1szKl9bVF0rYl0rInwifWlmKCEobFswXT09bFsxXXx8bFswXT09bFsyXXx8bFsxXT09bFsyXSkpZm9yKGxldCBUPTA7VDwzO1QrKyl7aWYoZD1mW2xbVF1dLGQ9PT12b2lkIDApe2ZbbFtUXV09dSxkPXUrKztmb3IobGV0IGI9MDtiPDM7YisrKW4ucHVzaChzWzMqX1tUXStiXSk7aWYociE9bnVsbClmb3IobGV0IGI9MDtiPDQ7YisrKWgucHVzaChyWzQqX1tUXStiXSk7aWYodCE9bnVsbClmb3IobGV0IGI9MDtiPDI7YisrKW8ucHVzaCh0WzIqX1tUXStiXSl9YS5wdXNoKGQpfX1jb25zdCBFPW5ldyBBcnJheTtRLkNvbXB1dGVOb3JtYWxzKG4sYSxFKSxlLnBvc2l0aW9ucz1uLGUuaW5kaWNlcz1hLGUubm9ybWFscz1FLHQhPW51bGwmJihlLnV2cz1vKSxyIT1udWxsJiYoZS5jb2xvcnM9aCksZS5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUocC5Qb3NpdGlvbktpbmQpKX19c3RhdGljIF9pbnN0YW5jZWRNZXNoRmFjdG9yeShlLHQpe3Rocm93IHEoIkluc3RhbmNlZE1lc2giKX1zdGF0aWMgX1BoeXNpY3NJbXBvc3RvclBhcnNlcihlLHQsaSl7dGhyb3cgcSgiUGh5c2ljc0ltcG9zdG9yIil9Y3JlYXRlSW5zdGFuY2UoZSl7cmV0dXJuIGsuX2luc3RhbmNlZE1lc2hGYWN0b3J5KGUsdGhpcyl9c3luY2hyb25pemVJbnN0YW5jZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDtlKyspdGhpcy5pbnN0YW5jZXNbZV0uX3N5bmNTdWJNZXNoZXMoKTtyZXR1cm4gdGhpc31vcHRpbWl6ZUluZGljZXMoZSl7Y29uc3QgdD10aGlzLmdldEluZGljZXMoKSxpPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kKTtpZighaXx8IXQpcmV0dXJuIHRoaXM7Y29uc3Qgcz1uZXcgQXJyYXk7Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuPW4rMylzLnB1c2goZy5Gcm9tQXJyYXkoaSxuKSk7Y29uc3Qgcj1uZXcgQXJyYXk7cmV0dXJuIEdpLlN5bmNBc3luY0Zvckxvb3Aocy5sZW5ndGgsNDAsbj0+e2NvbnN0IGE9cy5sZW5ndGgtMS1uLG89c1thXTtmb3IobGV0IGg9MDtoPGE7KytoKXtjb25zdCBsPXNbaF07aWYoby5lcXVhbHMobCkpe3JbYV09aDticmVha319fSwoKT0+e2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7KythKXRbYV09clt0W2FdXXx8dFthXTtjb25zdCBuPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApO3RoaXMuc2V0SW5kaWNlcyh0KSx0aGlzLnN1Yk1lc2hlcz1uLGUmJmUodGhpcyl9KSx0aGlzfXNlcmlhbGl6ZShlKXtlLm5hbWU9dGhpcy5uYW1lLGUuaWQ9dGhpcy5pZCxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCkscGUmJnBlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9cGUuR2V0VGFncyh0aGlzKSksZS5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmFzQXJyYXkoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9lLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dGhpcy5yb3RhdGlvbiYmKGUucm90YXRpb249dGhpcy5yb3RhdGlvbi5hc0FycmF5KCkpLGUuc2NhbGluZz10aGlzLnNjYWxpbmcuYXNBcnJheSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4P2UucGl2b3RNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKTplLmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksZS5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoITEpLGUuaXNWaXNpYmxlPXRoaXMuaXNWaXNpYmxlLGUuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2UsZS5waWNrYWJsZT10aGlzLmlzUGlja2FibGUsZS5yZWNlaXZlU2hhZG93cz10aGlzLnJlY2VpdmVTaGFkb3dzLGUuYmlsbGJvYXJkTW9kZT10aGlzLmJpbGxib2FyZE1vZGUsZS52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSxlLmNoZWNrQ29sbGlzaW9ucz10aGlzLmNoZWNrQ29sbGlzaW9ucyxlLmlzQmxvY2tlcj10aGlzLmlzQmxvY2tlcixlLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksZS5pc1VuSW5kZXhlZD10aGlzLmlzVW5JbmRleGVkO2NvbnN0IHQ9dGhpcy5fZ2VvbWV0cnk7aWYodCYmdGhpcy5zdWJNZXNoZXMpe2UuZ2VvbWV0cnlVbmlxdWVJZD10LnVuaXF1ZUlkLGUuZ2VvbWV0cnlJZD10LmlkLGUuc3ViTWVzaGVzPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLnN1Yk1lc2hlc1tpXTtlLnN1Yk1lc2hlcy5wdXNoKHttYXRlcmlhbEluZGV4OnMubWF0ZXJpYWxJbmRleCx2ZXJ0aWNlc1N0YXJ0OnMudmVydGljZXNTdGFydCx2ZXJ0aWNlc0NvdW50OnMudmVydGljZXNDb3VudCxpbmRleFN0YXJ0OnMuaW5kZXhTdGFydCxpbmRleENvdW50OnMuaW5kZXhDb3VudH0pfX1pZih0aGlzLm1hdGVyaWFsP3RoaXMubWF0ZXJpYWwuZG9Ob3RTZXJpYWxpemV8fChlLm1hdGVyaWFsVW5pcXVlSWQ9dGhpcy5tYXRlcmlhbC51bmlxdWVJZCxlLm1hdGVyaWFsSWQ9dGhpcy5tYXRlcmlhbC5pZCk6KHRoaXMubWF0ZXJpYWw9bnVsbCxlLm1hdGVyaWFsVW5pcXVlSWQ9dGhpcy5fc2NlbmUuZGVmYXVsdE1hdGVyaWFsLnVuaXF1ZUlkLGUubWF0ZXJpYWxJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwuaWQpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiYoZS5tb3JwaFRhcmdldE1hbmFnZXJJZD10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci51bmlxdWVJZCksdGhpcy5za2VsZXRvbiYmKGUuc2tlbGV0b25JZD10aGlzLnNrZWxldG9uLmlkLGUubnVtQm9uZUluZmx1ZW5jZXJzPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzKSx0aGlzLmdldFNjZW5lKCkuX2dldENvbXBvbmVudChqLk5BTUVfUEhZU0lDU0VOR0lORSkpe2NvbnN0IGk9dGhpcy5nZXRQaHlzaWNzSW1wb3N0b3IoKTtpJiYoZS5waHlzaWNzTWFzcz1pLmdldFBhcmFtKCJtYXNzIiksZS5waHlzaWNzRnJpY3Rpb249aS5nZXRQYXJhbSgiZnJpY3Rpb24iKSxlLnBoeXNpY3NSZXN0aXR1dGlvbj1pLmdldFBhcmFtKCJtYXNzIiksZS5waHlzaWNzSW1wb3N0b3I9aS50eXBlKX10aGlzLm1ldGFkYXRhJiYoZS5tZXRhZGF0YT10aGlzLm1ldGFkYXRhKSxlLmluc3RhbmNlcz1bXTtmb3IobGV0IGk9MDtpPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5pbnN0YW5jZXNbaV07aWYocy5kb05vdFNlcmlhbGl6ZSljb250aW51ZTtjb25zdCByPXtuYW1lOnMubmFtZSxpZDpzLmlkLGlzRW5hYmxlZDpzLmlzRW5hYmxlZCghMSksaXNWaXNpYmxlOnMuaXNWaXNpYmxlLGlzUGlja2FibGU6cy5pc1BpY2thYmxlLGNoZWNrQ29sbGlzaW9uczpzLmNoZWNrQ29sbGlzaW9ucyxwb3NpdGlvbjpzLnBvc2l0aW9uLmFzQXJyYXkoKSxzY2FsaW5nOnMuc2NhbGluZy5hc0FycmF5KCl9O2lmKHMucGFyZW50JiZzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQocikscy5yb3RhdGlvblF1YXRlcm5pb24/ci5yb3RhdGlvblF1YXRlcm5pb249cy5yb3RhdGlvblF1YXRlcm5pb24uYXNBcnJheSgpOnMucm90YXRpb24mJihyLnJvdGF0aW9uPXMucm90YXRpb24uYXNBcnJheSgpKSx0aGlzLmdldFNjZW5lKCkuX2dldENvbXBvbmVudChqLk5BTUVfUEhZU0lDU0VOR0lORSkpe2NvbnN0IG49cy5nZXRQaHlzaWNzSW1wb3N0b3IoKTtuJiYoci5waHlzaWNzTWFzcz1uLmdldFBhcmFtKCJtYXNzIiksci5waHlzaWNzRnJpY3Rpb249bi5nZXRQYXJhbSgiZnJpY3Rpb24iKSxyLnBoeXNpY3NSZXN0aXR1dGlvbj1uLmdldFBhcmFtKCJtYXNzIiksci5waHlzaWNzSW1wb3N0b3I9bi50eXBlKX1zLm1ldGFkYXRhJiYoci5tZXRhZGF0YT1zLm1ldGFkYXRhKSxlLmluc3RhbmNlcy5wdXNoKHIpLHJlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHMsciksci5yYW5nZXM9cy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKX1pZih0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCYmdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSYmKGUudGhpbkluc3RhbmNlcz17aW5zdGFuY2VzQ291bnQ6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQsbWF0cml4RGF0YTpBcnJheS5mcm9tKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEpLG1hdHJpeEJ1ZmZlclNpemU6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZSxlbmFibGVQaWNraW5nOnRoaXMudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZ30sdGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlKSl7Y29uc3QgaT17ZGF0YTp7fSxzaXplczp7fSxzdHJpZGVzOnt9fTtmb3IoY29uc3QgcyBpbiB0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UuZGF0YSlpLmRhdGFbc109QXJyYXkuZnJvbSh0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UuZGF0YVtzXSksaS5zaXplc1tzXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbc10saS5zdHJpZGVzW3NdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW3NdO2UudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlPWl9cmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLGUuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsZS5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLGUub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLGUub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSxlLnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LGUuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJihlLmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKX1fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpe2lmKCF0aGlzLmdlb21ldHJ5KXJldHVybjt0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKTtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcjtpZihlJiZlLnZlcnRleENvdW50KXtpZihlLnZlcnRleENvdW50IT09dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkpe3cuRXJyb3IoIk1lc2ggaXMgaW5jb21wYXRpYmxlIHdpdGggbW9ycGggdGFyZ2V0cy4gVGFyZ2V0cyBhbmQgbWVzaCBtdXN0IGFsbCBoYXZlIHRoZSBzYW1lIHZlcnRpY2VzIGNvdW50LiIpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGw7cmV0dXJufWlmKGUuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtmb3IobGV0IHQ9MDt0PGUubnVtSW5mbHVlbmNlcnM7dCsrKXtjb25zdCBpPWUuZ2V0QWN0aXZlVGFyZ2V0KHQpLHM9aS5nZXRQb3NpdGlvbnMoKTtpZighcyl7dy5FcnJvcigiSW52YWxpZCBtb3JwaCB0YXJnZXQuIFRhcmdldCBtdXN0IGhhdmUgcG9zaXRpb25zLiIpO3JldHVybn10aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShwLlBvc2l0aW9uS2luZCt0LHMsITEsMyk7Y29uc3Qgcj1pLmdldE5vcm1hbHMoKTtyJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQrdCxyLCExLDMpO2NvbnN0IG49aS5nZXRUYW5nZW50cygpO24mJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKHAuVGFuZ2VudEtpbmQrdCxuLCExLDMpO2NvbnN0IGE9aS5nZXRVVnMoKTthJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShwLlVWS2luZCsiXyIrdCxhLCExLDIpfX1lbHNle2xldCB0PTA7Zm9yKDt0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChwLlBvc2l0aW9uS2luZCt0KTspdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQrdCksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5Ob3JtYWxLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQrdCksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5UYW5nZW50S2luZCt0KSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEocC5UYW5nZW50S2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWS2luZCt0KSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEocC5VVktpbmQrIl8iK3QpLHQrK319c3RhdGljIFBhcnNlKGUsdCxpKXtsZXQgcztpZihlLnR5cGUmJmUudHlwZT09PSJMaW5lc01lc2giP3M9ay5fTGluZXNNZXNoUGFyc2VyKGUsdCk6ZS50eXBlJiZlLnR5cGU9PT0iR3JvdW5kTWVzaCI/cz1rLl9Hcm91bmRNZXNoUGFyc2VyKGUsdCk6ZS50eXBlJiZlLnR5cGU9PT0iR29sZGJlcmdNZXNoIj9zPWsuX0dvbGRiZXJnTWVzaFBhcnNlcihlLHQpOnM9bmV3IGsoZS5uYW1lLHQpLHMuaWQ9ZS5pZCxzLl93YWl0aW5nUGFyc2VkVW5pcXVlSWQ9ZS51bmlxdWVJZCxwZSYmcGUuQWRkVGFnc1RvKHMsZS50YWdzKSxzLnBvc2l0aW9uPWcuRnJvbUFycmF5KGUucG9zaXRpb24pLGUubWV0YWRhdGEhPT12b2lkIDAmJihzLm1ldGFkYXRhPWUubWV0YWRhdGEpLGUucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uPUcuRnJvbUFycmF5KGUucm90YXRpb25RdWF0ZXJuaW9uKTplLnJvdGF0aW9uJiYocy5yb3RhdGlvbj1nLkZyb21BcnJheShlLnJvdGF0aW9uKSkscy5zY2FsaW5nPWcuRnJvbUFycmF5KGUuc2NhbGluZyksZS5sb2NhbE1hdHJpeD9zLnNldFByZVRyYW5zZm9ybU1hdHJpeCh4LkZyb21BcnJheShlLmxvY2FsTWF0cml4KSk6ZS5waXZvdE1hdHJpeCYmcy5zZXRQaXZvdE1hdHJpeCh4LkZyb21BcnJheShlLnBpdm90TWF0cml4KSkscy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzLmlzVmlzaWJsZT1lLmlzVmlzaWJsZSxzLmluZmluaXRlRGlzdGFuY2U9ZS5pbmZpbml0ZURpc3RhbmNlLHMuc2hvd0JvdW5kaW5nQm94PWUuc2hvd0JvdW5kaW5nQm94LHMuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PWUuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94LGUuYXBwbHlGb2chPT12b2lkIDAmJihzLmFwcGx5Rm9nPWUuYXBwbHlGb2cpLGUucGlja2FibGUhPT12b2lkIDAmJihzLmlzUGlja2FibGU9ZS5waWNrYWJsZSksZS5hbHBoYUluZGV4IT09dm9pZCAwJiYocy5hbHBoYUluZGV4PWUuYWxwaGFJbmRleCkscy5yZWNlaXZlU2hhZG93cz1lLnJlY2VpdmVTaGFkb3dzLHMuYmlsbGJvYXJkTW9kZT1lLmJpbGxib2FyZE1vZGUsZS52aXNpYmlsaXR5IT09dm9pZCAwJiYocy52aXNpYmlsaXR5PWUudmlzaWJpbGl0eSkscy5jaGVja0NvbGxpc2lvbnM9ZS5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixlLmlzQmxvY2tlciE9PXZvaWQgMCYmKHMuaXNCbG9ja2VyPWUuaXNCbG9ja2VyKSxzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPWUudXNlRmxhdFNoYWRpbmcsZS5mcmVlemVXb3JsZE1hdHJpeCYmKHMuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PWUuZnJlZXplV29ybGRNYXRyaXgpLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxlLmFjdGlvbnMhPT12b2lkIDAmJihzLl93YWl0aW5nRGF0YS5hY3Rpb25zPWUuYWN0aW9ucyksZS5vdmVybGF5QWxwaGEhPT12b2lkIDAmJihzLm92ZXJsYXlBbHBoYT1lLm92ZXJsYXlBbHBoYSksZS5vdmVybGF5Q29sb3IhPT12b2lkIDAmJihzLm92ZXJsYXlDb2xvcj1pZS5Gcm9tQXJyYXkoZS5vdmVybGF5Q29sb3IpKSxlLnJlbmRlck92ZXJsYXkhPT12b2lkIDAmJihzLnJlbmRlck92ZXJsYXk9ZS5yZW5kZXJPdmVybGF5KSxzLmlzVW5JbmRleGVkPSEhZS5pc1VuSW5kZXhlZCxzLmhhc1ZlcnRleEFscGhhPWUuaGFzVmVydGV4QWxwaGEsZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuYnVpbGRCb3VuZGluZ0luZm8oZy5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLGcuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksZS5fYmluYXJ5SW5mbyYmKHMuX2JpbmFyeUluZm89ZS5fYmluYXJ5SW5mbykscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChwLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChwLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2gocC5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKHAuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChwLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2gocC5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2gocC5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChwLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChwLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW50Ll9JbXBvcnRHZW9tZXRyeSxPZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCYmcy5fY2hlY2tEZWxheVN0YXRlKCkpOm50Ll9JbXBvcnRHZW9tZXRyeShlLHMpLGUubWF0ZXJpYWxVbmlxdWVJZD9zLl93YWl0aW5nTWF0ZXJpYWxJZD1lLm1hdGVyaWFsVW5pcXVlSWQ6ZS5tYXRlcmlhbElkJiYocy5fd2FpdGluZ01hdGVyaWFsSWQ9ZS5tYXRlcmlhbElkKSxlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPi0xJiYocy5tb3JwaFRhcmdldE1hbmFnZXI9dC5nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkKGUubW9ycGhUYXJnZXRNYW5hZ2VySWQpKSxlLnNrZWxldG9uSWQhPT12b2lkIDAmJmUuc2tlbGV0b25JZCE9PW51bGwmJihzLnNrZWxldG9uPXQuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpLGUubnVtQm9uZUluZmx1ZW5jZXJzJiYocy5udW1Cb25lSW5mbHVlbmNlcnM9ZS5udW1Cb25lSW5mbHVlbmNlcnMpKSxlLmFuaW1hdGlvbnMpe2ZvcihsZXQgcj0wO3I8ZS5hbmltYXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5hbmltYXRpb25zW3JdLGE9aWkoIkJBQllMT04uQW5pbWF0aW9uIik7YSYmcy5hbmltYXRpb25zLnB1c2goYS5QYXJzZShuKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMocyxlLHQpfWlmKGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmxheWVyTWFzayYmIWlzTmFOKGUubGF5ZXJNYXNrKT9zLmxheWVyTWFzaz1NYXRoLmFicyhwYXJzZUludChlLmxheWVyTWFzaykpOnMubGF5ZXJNYXNrPTI2ODQzNTQ1NSxlLnBoeXNpY3NJbXBvc3RvciYmay5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHQscyxlKSxlLmxvZE1lc2hJZHMmJihzLl93YWl0aW5nRGF0YS5sb2RzPXtpZHM6ZS5sb2RNZXNoSWRzLGRpc3RhbmNlczplLmxvZERpc3RhbmNlcz9lLmxvZERpc3RhbmNlczpudWxsLGNvdmVyYWdlczplLmxvZENvdmVyYWdlcz9lLmxvZENvdmVyYWdlczpudWxsfSksZS5pbnN0YW5jZXMpZm9yKGxldCByPTA7cjxlLmluc3RhbmNlcy5sZW5ndGg7cisrKXtjb25zdCBuPWUuaW5zdGFuY2VzW3JdLGE9cy5jcmVhdGVJbnN0YW5jZShuLm5hbWUpO2lmKG4uaWQmJihhLmlkPW4uaWQpLHBlJiYobi50YWdzP3BlLkFkZFRhZ3NUbyhhLG4udGFncyk6cGUuQWRkVGFnc1RvKGEsZS50YWdzKSksYS5wb3NpdGlvbj1nLkZyb21BcnJheShuLnBvc2l0aW9uKSxuLm1ldGFkYXRhIT09dm9pZCAwJiYoYS5tZXRhZGF0YT1uLm1ldGFkYXRhKSxuLnBhcmVudElkIT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudElkPW4ucGFyZW50SWQpLG4ucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW4ucGFyZW50SW5zdGFuY2VJbmRleCksbi5pc0VuYWJsZWQhPT12b2lkIDAmJm4uaXNFbmFibGVkIT09bnVsbCYmYS5zZXRFbmFibGVkKG4uaXNFbmFibGVkKSxuLmlzVmlzaWJsZSE9PXZvaWQgMCYmbi5pc1Zpc2libGUhPT1udWxsJiYoYS5pc1Zpc2libGU9bi5pc1Zpc2libGUpLG4uaXNQaWNrYWJsZSE9PXZvaWQgMCYmbi5pc1BpY2thYmxlIT09bnVsbCYmKGEuaXNQaWNrYWJsZT1uLmlzUGlja2FibGUpLG4ucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uPUcuRnJvbUFycmF5KG4ucm90YXRpb25RdWF0ZXJuaW9uKTpuLnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1nLkZyb21BcnJheShuLnJvdGF0aW9uKSksYS5zY2FsaW5nPWcuRnJvbUFycmF5KG4uc2NhbGluZyksbi5jaGVja0NvbGxpc2lvbnMhPW51bGwmJm4uY2hlY2tDb2xsaXNpb25zIT1udWxsJiYoYS5jaGVja0NvbGxpc2lvbnM9bi5jaGVja0NvbGxpc2lvbnMpLG4ucGlja2FibGUhPW51bGwmJm4ucGlja2FibGUhPW51bGwmJihhLmlzUGlja2FibGU9bi5waWNrYWJsZSksbi5zaG93Qm91bmRpbmdCb3ghPW51bGwmJm4uc2hvd0JvdW5kaW5nQm94IT1udWxsJiYoYS5zaG93Qm91bmRpbmdCb3g9bi5zaG93Qm91bmRpbmdCb3gpLG4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiZuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PW4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94KSxuLmFscGhhSW5kZXghPW51bGwmJm4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoYS5hbHBoYUluZGV4PW4uYWxwaGFJbmRleCksbi5waHlzaWNzSW1wb3N0b3ImJmsuX1BoeXNpY3NJbXBvc3RvclBhcnNlcih0LGEsbiksbi5hbmltYXRpb25zKXtmb3IobGV0IG89MDtvPG4uYW5pbWF0aW9ucy5sZW5ndGg7bysrKXtjb25zdCBoPW4uYW5pbWF0aW9uc1tvXSxsPWlpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2wmJmEuYW5pbWF0aW9ucy5wdXNoKGwuUGFyc2UoaCkpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKGEsbix0KSxuLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKGEsbi5hdXRvQW5pbWF0ZUZyb20sbi5hdXRvQW5pbWF0ZVRvLG4uYXV0b0FuaW1hdGVMb29wLG4uYXV0b0FuaW1hdGVTcGVlZHx8MSl9fWlmKGUudGhpbkluc3RhbmNlcyl7Y29uc3Qgcj1lLnRoaW5JbnN0YW5jZXM7aWYocy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nPSEhci5lbmFibGVQaWNraW5nLHIubWF0cml4RGF0YT8ocy50aGluSW5zdGFuY2VTZXRCdWZmZXIoIm1hdHJpeCIsbmV3IEZsb2F0MzJBcnJheShyLm1hdHJpeERhdGEpLDE2LCExKSxzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPXIubWF0cml4QnVmZmVyU2l6ZSxzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudD1yLmluc3RhbmNlc0NvdW50KTpzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPXIubWF0cml4QnVmZmVyU2l6ZSxlLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZSl7Y29uc3Qgbj1lLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZTtmb3IoY29uc3QgYSBpbiBuLmRhdGEpcy50aGluSW5zdGFuY2VTZXRCdWZmZXIoYSxuZXcgRmxvYXQzMkFycmF5KG4uZGF0YVthXSksbi5zdHJpZGVzW2FdLCExKSxzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbYV09bi5zaXplc1thXX19cmV0dXJuIHN9c2V0UG9zaXRpb25zRm9yQ1BVU2tpbm5pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFlLl9zb3VyY2VQb3NpdGlvbnMpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQpO2lmKCF0KXJldHVybiBlLl9zb3VyY2VQb3NpdGlvbnM7ZS5fc291cmNlUG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkodCksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShwLlBvc2l0aW9uS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kLHQsITApfXJldHVybiBlLl9zb3VyY2VQb3NpdGlvbnN9c2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighZS5fc291cmNlTm9ybWFscyl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShwLk5vcm1hbEtpbmQpO2lmKCF0KXJldHVybiBlLl9zb3VyY2VOb3JtYWxzO2UuX3NvdXJjZU5vcm1hbHM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKHAuTm9ybWFsS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCx0LCEwKX1yZXR1cm4gZS5fc291cmNlTm9ybWFsc31hcHBseVNrZWxldG9uKGUpe2lmKCF0aGlzLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPT10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpKXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCksIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5NYXRyaWNlc0luZGljZXNLaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5NYXRyaWNlc1dlaWdodHNLaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuTm9ybWFsS2luZCksaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighaS5fc291cmNlUG9zaXRpb25zKXtjb25zdCBUPXRoaXMuc3ViTWVzaGVzLnNsaWNlKCk7dGhpcy5zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpLHRoaXMuc3ViTWVzaGVzPVR9dCYmIWkuX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCk7bGV0IHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5Qb3NpdGlvbktpbmQpO2lmKCFzKXJldHVybiB0aGlzO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChzPW5ldyBGbG9hdDMyQXJyYXkocykpO2xldCByPXRoaXMuZ2V0VmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCk7aWYodCl7aWYoIXIpcmV0dXJuIHRoaXM7ciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHI9bmV3IEZsb2F0MzJBcnJheShyKSl9Y29uc3Qgbj10aGlzLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZighYXx8IW4pcmV0dXJuIHRoaXM7Y29uc3Qgbz10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LGg9bz90aGlzLmdldFZlcnRpY2VzRGF0YShwLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxsPW8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEocC5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsdT1lLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLGY9Zy5aZXJvKCksZD1uZXcgeCxfPW5ldyB4O2xldCBFPTAsbTtmb3IobGV0IFQ9MDtUPHMubGVuZ3RoO1QrPTMsRSs9NCl7bGV0IGI7Zm9yKG09MDttPDQ7bSsrKWI9YVtFK21dLGI+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKHUsTWF0aC5mbG9vcihuW0UrbV0qMTYpLGIsXyksZC5hZGRUb1NlbGYoXykpO2lmKG8pZm9yKG09MDttPDQ7bSsrKWI9bFtFK21dLGI+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKHUsTWF0aC5mbG9vcihoW0UrbV0qMTYpLGIsXyksZC5hZGRUb1NlbGYoXykpO2cuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoaS5fc291cmNlUG9zaXRpb25zW1RdLGkuX3NvdXJjZVBvc2l0aW9uc1tUKzFdLGkuX3NvdXJjZVBvc2l0aW9uc1tUKzJdLGQsZiksZi50b0FycmF5KHMsVCksdCYmKGcuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGkuX3NvdXJjZU5vcm1hbHNbVF0saS5fc291cmNlTm9ybWFsc1tUKzFdLGkuX3NvdXJjZU5vcm1hbHNbVCsyXSxkLGYpLGYudG9BcnJheShyLFQpKSxkLnJlc2V0KCl9cmV0dXJuIHRoaXMudXBkYXRlVmVydGljZXNEYXRhKHAuUG9zaXRpb25LaW5kLHMpLHQmJnRoaXMudXBkYXRlVmVydGljZXNEYXRhKHAuTm9ybWFsS2luZCxyKSx0aGlzfXN0YXRpYyBNaW5NYXgoZSl7bGV0IHQ9bnVsbCxpPW51bGw7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihzKXtjb25zdCBuPXMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3g7IXR8fCFpPyh0PW4ubWluaW11bVdvcmxkLGk9bi5tYXhpbXVtV29ybGQpOih0Lm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksaS5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpKX0pLCF0fHwhaT97bWluOmcuWmVybygpLG1heDpnLlplcm8oKX06e21pbjp0LG1heDppfX1zdGF0aWMgQ2VudGVyKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEFycmF5P2suTWluTWF4KGUpOmU7cmV0dXJuIGcuQ2VudGVyKHQubWluLHQubWF4KX1zdGF0aWMgTWVyZ2VNZXNoZXMoZSx0PSEwLGkscyxyLG4pe3JldHVybiBScyhrLl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQsaSxzLHIsbiwhMSkpfXN0YXRpYyBNZXJnZU1lc2hlc0FzeW5jKGUsdD0hMCxpLHMscixuKXtyZXR1cm4gVG4oay5fTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0LGkscyxyLG4sITApLEVuKCkpfXN0YXRpYypfTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0PSEwLGkscyxyLG4sYSl7aWYoZT1lLmZpbHRlcihCb29sZWFuKSxlLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IG87aWYoIWkpe2xldCBBPTA7Zm9yKG89MDtvPGUubGVuZ3RoO28rKylpZihBKz1lW29dLmdldFRvdGFsVmVydGljZXMoKSxBPj02NTUzNilyZXR1cm4gdy5XYXJuKCJDYW5ub3QgbWVyZ2UgbWVzaGVzIGJlY2F1c2UgcmVzdWx0aW5nIG1lc2ggd2lsbCBoYXZlIG1vcmUgdGhhbiA2NTUzNiB2ZXJ0aWNlcy4gUGxlYXNlIHVzZSBhbGxvdzMyQml0c0luZGljZXMgPSB0cnVlIHRvIHVzZSAzMiBiaXRzIGluZGljZXMiKSxudWxsfW4mJihyPSExKTtjb25zdCBoPW5ldyBBcnJheSxsPW5ldyBBcnJheSx1PW5ldyBBcnJheSxmPWVbMF0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbjtmb3Iobz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBBPWVbb107aWYoQS5pc0FuSW5zdGFuY2UpcmV0dXJuIHcuV2FybigiQ2Fubm90IG1lcmdlIGluc3RhbmNlIG1lc2hlcy4iKSxudWxsO2lmKGYhPT1BLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pcmV0dXJuIHcuV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyB3aXRoIGRpZmZlcmVudCBvdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIHZhbHVlcy4iKSxudWxsO2lmKHImJnUucHVzaChBLmdldFRvdGFsSW5kaWNlcygpKSxuKWlmKEEubWF0ZXJpYWwpe2NvbnN0IEw9QS5tYXRlcmlhbDtpZihMIGluc3RhbmNlb2YgbWkpe2ZvcihsZXQgSj0wO0o8TC5zdWJNYXRlcmlhbHMubGVuZ3RoO0orKyloLmluZGV4T2YoTC5zdWJNYXRlcmlhbHNbSl0pPDAmJmgucHVzaChMLnN1Yk1hdGVyaWFsc1tKXSk7Zm9yKGxldCBKPTA7SjxBLnN1Yk1lc2hlcy5sZW5ndGg7SisrKWwucHVzaChoLmluZGV4T2YoTC5zdWJNYXRlcmlhbHNbQS5zdWJNZXNoZXNbSl0ubWF0ZXJpYWxJbmRleF0pKSx1LnB1c2goQS5zdWJNZXNoZXNbSl0uaW5kZXhDb3VudCl9ZWxzZXtoLmluZGV4T2YoTCk8MCYmaC5wdXNoKEwpO2ZvcihsZXQgSj0wO0o8QS5zdWJNZXNoZXMubGVuZ3RoO0orKylsLnB1c2goaC5pbmRleE9mKEwpKSx1LnB1c2goQS5zdWJNZXNoZXNbSl0uaW5kZXhDb3VudCl9fWVsc2UgZm9yKGxldCBMPTA7TDxBLnN1Yk1lc2hlcy5sZW5ndGg7TCsrKWwucHVzaCgwKSx1LnB1c2goQS5zdWJNZXNoZXNbTF0uaW5kZXhDb3VudCl9Y29uc3QgZD1lWzBdLF89QT0+e2NvbnN0IEw9QS5jb21wdXRlV29ybGRNYXRyaXgoITApO3JldHVybltRLkV4dHJhY3RGcm9tTWVzaChBLCExLCExKSxMXX0sW0UsbV09XyhkKTthJiYoeWllbGQpO2NvbnN0IFQ9bmV3IEFycmF5KGUubGVuZ3RoLTEpO2ZvcihsZXQgQT0xO0E8ZS5sZW5ndGg7QSsrKVRbQS0xXT1fKGVbQV0pLGEmJih5aWVsZCk7Y29uc3QgYj1FLl9tZXJnZUNvcm91dGluZShtLFQsaSxhLCF0KTtsZXQgUj1iLm5leHQoKTtmb3IoOyFSLmRvbmU7KWEmJih5aWVsZCksUj1iLm5leHQoKTtjb25zdCB5PVIudmFsdWU7c3x8KHM9bmV3IGsoZC5uYW1lKyJfbWVyZ2VkIixkLmdldFNjZW5lKCkpKTtjb25zdCBEPXkuX2FwcGx5VG9Db3JvdXRpbmUocyx2b2lkIDAsYSk7bGV0IHY9RC5uZXh0KCk7Zm9yKDshdi5kb25lOylhJiYoeWllbGQpLHY9RC5uZXh0KCk7aWYocy5jaGVja0NvbGxpc2lvbnM9ZC5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWQub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0KWZvcihvPTA7bzxlLmxlbmd0aDtvKyspZVtvXS5kaXNwb3NlKCk7aWYocnx8bil7cy5yZWxlYXNlU3ViTWVzaGVzKCksbz0wO2xldCBBPTA7Zm9yKDtvPHUubGVuZ3RoOylFdC5DcmVhdGVGcm9tSW5kaWNlcygwLEEsdVtvXSxzLHZvaWQgMCwhMSksQSs9dVtvXSxvKys7Zm9yKGNvbnN0IEwgb2Ygcy5zdWJNZXNoZXMpTC5yZWZyZXNoQm91bmRpbmdJbmZvKCk7cy5jb21wdXRlV29ybGRNYXRyaXgoITApfWlmKG4pe2NvbnN0IEE9bmV3IG1pKGQubmFtZSsiX21lcmdlZCIsZC5nZXRTY2VuZSgpKTtBLnN1Yk1hdGVyaWFscz1oO2ZvcihsZXQgTD0wO0w8cy5zdWJNZXNoZXMubGVuZ3RoO0wrKylzLnN1Yk1lc2hlc1tMXS5tYXRlcmlhbEluZGV4PWxbTF07cy5tYXRlcmlhbD1BfWVsc2Ugcy5tYXRlcmlhbD1kLm1hdGVyaWFsO3JldHVybiBzfWFkZEluc3RhbmNlKGUpe2UuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10aGlzLmluc3RhbmNlcy5sZW5ndGgsdGhpcy5pbnN0YW5jZXMucHVzaChlKX1yZW1vdmVJbnN0YW5jZShlKXtjb25zdCB0PWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheTtpZih0IT0tMSl7aWYodCE9PXRoaXMuaW5zdGFuY2VzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuaW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VzLmxlbmd0aC0xXTt0aGlzLmluc3RhbmNlc1t0XT1pLGkuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10fWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLmluc3RhbmNlcy5wb3AoKX19X3Nob3VsZENvbnZlcnRSSFMoKXtyZXR1cm4gdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09SS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9ufX1rLkZST05UU0lERT1RLkZST05UU0lERSxrLkJBQ0tTSURFPVEuQkFDS1NJREUsay5ET1VCTEVTSURFPVEuRE9VQkxFU0lERSxrLkRFRkFVTFRTSURFPVEuREVGQVVMVFNJREUsay5OT19DQVA9MCxrLkNBUF9TVEFSVD0xLGsuQ0FQX0VORD0yLGsuQ0FQX0FMTD0zLGsuTk9fRkxJUD0wLGsuRkxJUF9USUxFPTEsay5ST1RBVEVfVElMRT0yLGsuRkxJUF9ST1c9MyxrLlJPVEFURV9ST1c9NCxrLkZMSVBfTl9ST1RBVEVfVElMRT01LGsuRkxJUF9OX1JPVEFURV9ST1c9NixrLkNFTlRFUj0wLGsuTEVGVD0xLGsuUklHSFQ9MixrLlRPUD0zLGsuQk9UVE9NPTQsay5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQ9ITEsay5fR3JvdW5kTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93IHEoIkdyb3VuZE1lc2giKX0say5fR29sZGJlcmdNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgcSgiR29sZGJlcmdNZXNoIil9LGsuX0xpbmVzTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93IHEoIkxpbmVzTWVzaCIpfSx0dCgiQkFCWUxPTi5NZXNoIixrKSxrLnByb3RvdHlwZS5zZXRNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuc2V0TWF0ZXJpYWxCeUlkKGMpfSxrLkNyZWF0ZURpc2M9ay5DcmVhdGVEaXNjfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZUJveD1rLkNyZWF0ZUJveHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksay5DcmVhdGVTcGhlcmU9ay5DcmVhdGVTcGhlcmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLGsuQ3JlYXRlQ3lsaW5kZXI9ay5DcmVhdGVDeWxpbmRlcnx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksay5DcmVhdGVUb3J1c0tub3Q9ay5DcmVhdGVUb3J1c0tub3R8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLGsuQ3JlYXRlVG9ydXM9ay5DcmVhdGVUb3J1c3x8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksay5DcmVhdGVQbGFuZT1rLkNyZWF0ZVBsYW5lfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZUdyb3VuZD1rLkNyZWF0ZUdyb3VuZHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksay5DcmVhdGVUaWxlZEdyb3VuZD1rLkNyZWF0ZVRpbGVkR3JvdW5kfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXA9ay5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZVR1YmU9ay5DcmVhdGVUdWJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZVBvbHloZWRyb249ay5DcmVhdGVQb2x5aGVkcm9ufHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZUljb1NwaGVyZT1rLkNyZWF0ZUljb1NwaGVyZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksay5DcmVhdGVEZWNhbD1rLkNyZWF0ZURlY2FsfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkNyZWF0ZUNhcHN1bGU9ay5DcmVhdGVDYXBzdWxlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxrLkV4dGVuZFRvR29sZGJlcmc9ay5FeHRlbmRUb0dvbGRiZXJnfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KTtjbGFzcyBWdHtjb25zdHJ1Y3RvcihlPTApe3RoaXMucHJpb3JpdHk9ZX1nZXREZXNjcmlwdGlvbigpe3JldHVybiIifWFwcGx5KGUsdCl7cmV0dXJuITB9fWNsYXNzIFBzIGV4dGVuZHMgVnR7Y29uc3RydWN0b3IoZT0wLHQ9MTAyNCxpPS41KXtzdXBlcihlKSx0aGlzLnByaW9yaXR5PWUsdGhpcy5tYXhpbXVtU2l6ZT10LHRoaXMuc3RlcD1pfWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIlJlZHVjaW5nIHJlbmRlciB0YXJnZXQgdGV4dHVyZSBzaXplIHRvICIrdGhpcy5tYXhpbXVtU2l6ZX1hcHBseShlLHQpe2xldCBpPSEwO2ZvcihsZXQgcz0wO3M8ZS50ZXh0dXJlcy5sZW5ndGg7cysrKXtjb25zdCByPWUudGV4dHVyZXNbc107aWYoIXIuY2FuUmVzY2FsZXx8ci5nZXRDb250ZXh0KWNvbnRpbnVlO2NvbnN0IG49ci5nZXRTaXplKCk7TWF0aC5tYXgobi53aWR0aCxuLmhlaWdodCk+dGhpcy5tYXhpbXVtU2l6ZSYmKHIuc2NhbGUodGhpcy5zdGVwKSxpPSExKX1yZXR1cm4gaX19Y2xhc3MgdnIgZXh0ZW5kcyBWdHtjb25zdHJ1Y3RvcihlPTAsdD0yLGk9LjI1KXtzdXBlcihlKSx0aGlzLnByaW9yaXR5PWUsdGhpcy5tYXhpbXVtU2NhbGU9dCx0aGlzLnN0ZXA9aSx0aGlzLl9jdXJyZW50U2NhbGU9LTEsdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PTF9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iU2V0dGluZyBoYXJkd2FyZSBzY2FsaW5nIGxldmVsIHRvICIrdGhpcy5fY3VycmVudFNjYWxlfWFwcGx5KGUsdCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTY2FsZT09PS0xJiYodGhpcy5fY3VycmVudFNjYWxlPWUuZ2V0RW5naW5lKCkuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKSx0aGlzLl9jdXJyZW50U2NhbGU+dGhpcy5tYXhpbXVtU2NhbGUmJih0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9LTEpKSx0aGlzLl9jdXJyZW50U2NhbGUrPXRoaXMuX2RpcmVjdGlvbk9mZnNldCp0aGlzLnN0ZXAsZS5nZXRFbmdpbmUoKS5zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCh0aGlzLl9jdXJyZW50U2NhbGUpLHRoaXMuX2RpcmVjdGlvbk9mZnNldD09PTE/dGhpcy5fY3VycmVudFNjYWxlPj10aGlzLm1heGltdW1TY2FsZTp0aGlzLl9jdXJyZW50U2NhbGU8PXRoaXMubWF4aW11bVNjYWxlfX1jbGFzcyBEcyBleHRlbmRzIFZ0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgc2hhZG93cyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUuc2hhZG93c0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBGcyBleHRlbmRzIFZ0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcG9zdC1wcm9jZXNzZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnBvc3RQcm9jZXNzZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3Mgd3MgZXh0ZW5kcyBWdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIGxlbnMgZmxhcmVzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5sZW5zRmxhcmVzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIERuIGV4dGVuZHMgVnR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5vbkdldERlc2NyaXB0aW9uP3RoaXMub25HZXREZXNjcmlwdGlvbigpOiJSdW5uaW5nIHVzZXIgZGVmaW5lZCBjYWxsYmFjayJ9YXBwbHkoZSx0KXtyZXR1cm4gdGhpcy5vbkFwcGx5P3RoaXMub25BcHBseShlLHQpOiEwfX1jbGFzcyBPcyBleHRlbmRzIFZ0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcGFydGljbGVzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5wYXJ0aWNsZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgTXIgZXh0ZW5kcyBWdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHJlbmRlciB0YXJnZXRzIG9mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5yZW5kZXJUYXJnZXRzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIGp0IGV4dGVuZHMgVnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2NhbkJlTWVyZ2VkPWU9PntpZighKGUgaW5zdGFuY2VvZiBrKSlyZXR1cm4hMTtjb25zdCB0PWU7cmV0dXJuISh0LmlzRGlzcG9zZWQoKXx8IXQuaXNWaXNpYmxlfHwhdC5pc0VuYWJsZWQoKXx8dC5pbnN0YW5jZXMubGVuZ3RoPjB8fHQuc2tlbGV0b258fHQuaGFzTE9ETGV2ZWxzKX19c3RhdGljIGdldCBVcGRhdGVTZWxlY3Rpb25UcmVlKCl7cmV0dXJuIGp0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlfXN0YXRpYyBzZXQgVXBkYXRlU2VsZWN0aW9uVHJlZShlKXtqdC5fVXBkYXRlU2VsZWN0aW9uVHJlZT1lfWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIk1lcmdpbmcgc2ltaWxhciBtZXNoZXMgdG9nZXRoZXIifWFwcGx5KGUsdCxpKXtjb25zdCBzPWUubWVzaGVzLnNsaWNlKDApO2xldCByPXMubGVuZ3RoO2ZvcihsZXQgYT0wO2E8cjthKyspe2NvbnN0IG89bmV3IEFycmF5LGg9c1thXTtpZighIXRoaXMuX2NhbkJlTWVyZ2VkKGgpKXtvLnB1c2goaCk7Zm9yKGxldCBsPWErMTtsPHI7bCsrKXtjb25zdCB1PXNbbF07IXRoaXMuX2NhbkJlTWVyZ2VkKHUpfHx1Lm1hdGVyaWFsPT09aC5tYXRlcmlhbCYmdS5jaGVja0NvbGxpc2lvbnM9PT1oLmNoZWNrQ29sbGlzaW9ucyYmKG8ucHVzaCh1KSxyLS0scy5zcGxpY2UobCwxKSxsLS0pfW8ubGVuZ3RoPDJ8fGsuTWVyZ2VNZXNoZXMobyx2b2lkIDAsITApfX1jb25zdCBuPWU7cmV0dXJuIG4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUmJihpIT1udWxsP2kmJm4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKTpqdC5VcGRhdGVTZWxlY3Rpb25UcmVlJiZuLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlKCkpLCEwfX1qdC5fVXBkYXRlU2VsZWN0aW9uVHJlZT0hMTtjbGFzcyBmaXtjb25zdHJ1Y3RvcihlPTYwLHQ9MmUzKXt0aGlzLnRhcmdldEZyYW1lUmF0ZT1lLHRoaXMudHJhY2tlckR1cmF0aW9uPXQsdGhpcy5vcHRpbWl6YXRpb25zPW5ldyBBcnJheX1hZGRPcHRpbWl6YXRpb24oZSl7cmV0dXJuIHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKGUpLHRoaXN9YWRkQ3VzdG9tT3B0aW1pemF0aW9uKGUsdCxpPTApe2NvbnN0IHM9bmV3IERuKGkpO3JldHVybiBzLm9uQXBwbHk9ZSxzLm9uR2V0RGVzY3JpcHRpb249dCx0aGlzLm9wdGltaXphdGlvbnMucHVzaChzKSx0aGlzfXN0YXRpYyBMb3dEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgZmkoZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IGp0KGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgRHMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyB3cyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBGcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IE9zKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IFBzKGksMTAyNCkpLHR9c3RhdGljIE1vZGVyYXRlRGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IGZpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBqdChpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IERzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgd3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgRnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBPcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBQcyhpLDUxMikpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTXIoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgdnIoaSwyKSksdH1zdGF0aWMgSGlnaERlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBmaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcganQoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBEcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IHdzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IEZzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgT3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgUHMoaSwyNTYpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IE1yKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHZyKGksNCkpLHR9fWNsYXNzIExze2NvbnN0cnVjdG9yKGUsdCxpPSEwLHM9ITEpe2lmKHRoaXMuX2lzUnVubmluZz0hMSx0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wLHRoaXMuX3RhcmdldEZyYW1lUmF0ZT02MCx0aGlzLl90cmFja2VyRHVyYXRpb249MmUzLHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9MCx0aGlzLl9pbXByb3ZlbWVudE1vZGU9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uRmFpbHVyZU9ic2VydmFibGU9bmV3IEYsdD90aGlzLl9vcHRpb25zPXQ6dGhpcy5fb3B0aW9ucz1uZXcgZmksdGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUmJih0aGlzLl90YXJnZXRGcmFtZVJhdGU9dGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUpLHRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uJiYodGhpcy5fdHJhY2tlckR1cmF0aW9uPXRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uKSxpKXtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIHRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9ucyluLnByaW9yaXR5PXIrK310aGlzLl9pbXByb3ZlbWVudE1vZGU9cyx0aGlzLl9zY2VuZT1lfHxkZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyPXRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLmRpc3Bvc2UoKX0pfWdldCBpc0luSW1wcm92ZW1lbnRNb2RlKCl7cmV0dXJuIHRoaXMuX2ltcHJvdmVtZW50TW9kZX1zZXQgaXNJbkltcHJvdmVtZW50TW9kZShlKXt0aGlzLl9pbXByb3ZlbWVudE1vZGU9ZX1nZXQgY3VycmVudFByaW9yaXR5TGV2ZWwoKXtyZXR1cm4gdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWx9Z2V0IGN1cnJlbnRGcmFtZVJhdGUoKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lUmF0ZX1nZXQgdGFyZ2V0RnJhbWVSYXRlKCl7cmV0dXJuIHRoaXMuX3RhcmdldEZyYW1lUmF0ZX1zZXQgdGFyZ2V0RnJhbWVSYXRlKGUpe3RoaXMuX3RhcmdldEZyYW1lUmF0ZT1lfWdldCB0cmFja2VyRHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2tlckR1cmF0aW9ufXNldCB0cmFja2VyRHVyYXRpb24oZSl7dGhpcy5fdHJhY2tlckR1cmF0aW9uPWV9Z2V0IG9wdGltaXphdGlvbnMoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zfXN0b3AoKXt0aGlzLl9pc1J1bm5pbmc9ITF9cmVzZXQoKXt0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wfXN0YXJ0KCl7dGhpcy5faXNSdW5uaW5nfHwodGhpcy5faXNSdW5uaW5nPSEwLHRoaXMuX3NjZW5lLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tDdXJyZW50U3RhdGUoKX0sdGhpcy5fdHJhY2tlckR1cmF0aW9uKX0pKX1fY2hlY2tDdXJyZW50U3RhdGUoKXtpZighdGhpcy5faXNSdW5uaW5nKXJldHVybjtjb25zdCBlPXRoaXMuX3NjZW5lLHQ9dGhpcy5fb3B0aW9ucztpZih0aGlzLl9jdXJyZW50RnJhbWVSYXRlPU1hdGgucm91bmQoZS5nZXRFbmdpbmUoKS5nZXRGcHMoKSksdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPD10aGlzLl90YXJnZXRGcmFtZVJhdGV8fCF0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU+PXRoaXMuX3RhcmdldEZyYW1lUmF0ZSl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufWxldCBpPSEwLHM9ITA7Zm9yKGxldCByPTA7cjx0Lm9wdGltaXphdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10Lm9wdGltaXphdGlvbnNbcl07bi5wcmlvcml0eT09PXRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsJiYocz0hMSxpPWkmJm4uYXBwbHkoZSx0aGlzKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4pKX1pZihzKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59aSYmdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwrKyxlLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tDdXJyZW50U3RhdGUoKX0sdGhpcy5fdHJhY2tlckR1cmF0aW9uKX0pfWRpc3Bvc2UoKXt0aGlzLnN0b3AoKSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlciYmdGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXIpfXN0YXRpYyBPcHRpbWl6ZUFzeW5jKGUsdCxpLHMpe2NvbnN0IHI9bmV3IExzKGUsdHx8ZmkuTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQoKSwhMSk7cmV0dXJuIGkmJnIub25TdWNjZXNzT2JzZXJ2YWJsZS5hZGQoKCk9PntpKCl9KSxzJiZyLm9uRmFpbHVyZU9ic2VydmFibGUuYWRkKCgpPT57cygpfSksci5zdGFydCgpLHJ9fWZ1bmN0aW9uIEZuKGMpe2NvbnN0e2VuZ2luZTplfT1jLHQ9bmV3IG5lKGUpO3QuY2xlYXJDb2xvcj1uZXcgZ2UoMCwwLDAsMCksdC5wb2ludGVyTW92ZVByZWRpY2F0ZT0oKT0+ITEsdC5wb2ludGVyRG93blByZWRpY2F0ZT0oKT0+ITEsdC5wb2ludGVyVXBQcmVkaWNhdGU9KCk9PiExLHQuY2xlYXJDYWNoZWRWZXJ0ZXhEYXRhKCksdC50aGVtZURhdGE9e307Y29uc3QgaT1maS5Mb3dEZWdyYWRhdGlvbkFsbG93ZWQoKTtyZXR1cm4gaS5vcHRpbWl6YXRpb25zPWkub3B0aW1pemF0aW9ucy5zcGxpY2UoMSksaS50YXJnZXRGcmFtZVJhdGU9NjAsTHMuT3B0aW1pemVBc3luYyh0LGkpLHR9Y2xhc3MgR2UgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUsdCxpLHM9ITApe3N1cGVyKGUsdCxpLHMpLHRoaXMuX3RtcFVwVmVjdG9yPWcuWmVybygpLHRoaXMuX3RtcFRhcmdldFZlY3Rvcj1nLlplcm8oKSx0aGlzLmNhbWVyYURpcmVjdGlvbj1uZXcgZygwLDAsMCksdGhpcy5jYW1lcmFSb3RhdGlvbj1uZXcgdGUoMCwwKSx0aGlzLmlnbm9yZVBhcmVudFNjYWxpbmc9ITEsdGhpcy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbj0hMSx0aGlzLl90bXBRdWF0ZXJuaW9uPW5ldyBHLHRoaXMucm90YXRpb249bmV3IGcoMCwwLDApLHRoaXMuc3BlZWQ9Mix0aGlzLm5vUm90YXRpb25Db25zdHJhaW50PSExLHRoaXMuaW52ZXJ0Um90YXRpb249ITEsdGhpcy5pbnZlcnNlUm90YXRpb25TcGVlZD0uMix0aGlzLmxvY2tlZFRhcmdldD1udWxsLHRoaXMuX2N1cnJlbnRUYXJnZXQ9Zy5aZXJvKCksdGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2U9MSx0aGlzLl92aWV3TWF0cml4PXguWmVybygpLHRoaXMuX2NhbU1hdHJpeD14Llplcm8oKSx0aGlzLl9jYW1lcmFUcmFuc2Zvcm1NYXRyaXg9eC5aZXJvKCksdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXg9eC5aZXJvKCksdGhpcy5fcmVmZXJlbmNlUG9pbnQ9bmV3IGcoMCwwLDEpLHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQ9Zy5aZXJvKCksdGhpcy5fZGVmYXVsdFVwPWcuVXAoKSx0aGlzLl9jYWNoZWRSb3RhdGlvblo9MCx0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aPTB9Z2V0RnJvbnRQb3NpdGlvbihlKXt0aGlzLmdldFdvcmxkTWF0cml4KCk7Y29uc3QgdD10aGlzLmdldFRhcmdldCgpLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pO3JldHVybiB0Lm5vcm1hbGl6ZSgpLHQuc2NhbGVJblBsYWNlKGUpLHRoaXMuZ2xvYmFsUG9zaXRpb24uYWRkKHQpfV9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpe3JldHVybiB0aGlzLmxvY2tlZFRhcmdldD8odGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbiYmdGhpcy5sb2NrZWRUYXJnZXQuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbnx8dGhpcy5sb2NrZWRUYXJnZXQpOm51bGx9c3RvcmVTdGF0ZSgpe3JldHVybiB0aGlzLl9zdG9yZWRQb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5fc3RvcmVkUm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHN1cGVyLnN0b3JlU3RhdGUoKX1fcmVzdG9yZVN0YXRlVmFsdWVzKCl7cmV0dXJuIHN1cGVyLl9yZXN0b3JlU3RhdGVWYWx1ZXMoKT8odGhpcy5wb3NpdGlvbj10aGlzLl9zdG9yZWRQb3NpdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb249dGhpcy5fc3RvcmVkUm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSx0aGlzLmNhbWVyYURpcmVjdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksdGhpcy5jYW1lcmFSb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDApLCEwKTohMX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1uZXcgZyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb249bmV3IGcoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgRyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX1fdXBkYXRlQ2FjaGUoZSl7ZXx8c3VwZXIuX3VwZGF0ZUNhY2hlKCk7Y29uc3QgdD10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3Q/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5jb3B5RnJvbSh0KTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9dC5jbG9uZSgpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1udWxsLHRoaXMuX2NhY2hlLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfV9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKXtpZighc3VwZXIuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpKXJldHVybiExO2NvbnN0IGU9dGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKTtyZXR1cm4odGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5lcXVhbHMoZSk6IWUpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZXF1YWxzKHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbik6dGhpcy5fY2FjaGUucm90YXRpb24uZXF1YWxzKHRoaXMucm90YXRpb24pKX1fY29tcHV0ZUxvY2FsQ2FtZXJhU3BlZWQoKXtjb25zdCBlPXRoaXMuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMuc3BlZWQqTWF0aC5zcXJ0KGUuZ2V0RGVsdGFUaW1lKCkvKGUuZ2V0RnBzKCkqMTAwKSl9c2V0VGFyZ2V0KGUpe3RoaXMudXBWZWN0b3Iubm9ybWFsaXplKCksdGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2U9ZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKS5sZW5ndGgoKSx0aGlzLnBvc2l0aW9uLno9PT1lLnomJih0aGlzLnBvc2l0aW9uLnorPU1lKSx0aGlzLl9yZWZlcmVuY2VQb2ludC5ub3JtYWxpemUoKS5zY2FsZUluUGxhY2UodGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2UpLHguTG9va0F0TEhUb1JlZih0aGlzLnBvc2l0aW9uLGUsdGhpcy5fZGVmYXVsdFVwLHRoaXMuX2NhbU1hdHJpeCksdGhpcy5fY2FtTWF0cml4LmludmVydCgpLHRoaXMucm90YXRpb24ueD1NYXRoLmF0YW4odGhpcy5fY2FtTWF0cml4Lm1bNl0vdGhpcy5fY2FtTWF0cml4Lm1bMTBdKTtjb25zdCB0PWUuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7dC54Pj0wP3RoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHQuei90LngpK01hdGguUEkvMjp0aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbih0LnovdC54KS1NYXRoLlBJLzIsdGhpcy5yb3RhdGlvbi56PTAsaXNOYU4odGhpcy5yb3RhdGlvbi54KSYmKHRoaXMucm90YXRpb24ueD0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnkpJiYodGhpcy5yb3RhdGlvbi55PTApLGlzTmFOKHRoaXMucm90YXRpb24ueikmJih0aGlzLnJvdGF0aW9uLno9MCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJkcuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLmdldFRhcmdldCgpfXNldCB0YXJnZXQoZSl7dGhpcy5zZXRUYXJnZXQoZSl9Z2V0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUYXJnZXR9X2RlY2lkZUlmTmVlZHNUb01vdmUoKXtyZXR1cm4gTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik+MH1fdXBkYXRlUG9zaXRpb24oKXtpZih0aGlzLnBhcmVudCl7dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihQLk1hdHJpeFswXSksZy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmNhbWVyYURpcmVjdGlvbixQLk1hdHJpeFswXSxQLlZlY3RvcjNbMF0pLHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZShQLlZlY3RvcjNbMF0pO3JldHVybn10aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5jYW1lcmFEaXJlY3Rpb24pfV9jaGVja0lucHV0cygpe2NvbnN0IGU9dGhpcy5pbnZlcnRSb3RhdGlvbj8tdGhpcy5pbnZlcnNlUm90YXRpb25TcGVlZDoxLHQ9dGhpcy5fZGVjaWRlSWZOZWVkc1RvTW92ZSgpLGk9TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLnkpPjA7dCYmdGhpcy5fdXBkYXRlUG9zaXRpb24oKSxpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uLngrPXRoaXMuY2FtZXJhUm90YXRpb24ueCplLHRoaXMucm90YXRpb24ueSs9dGhpcy5jYW1lcmFSb3RhdGlvbi55KmUsdGhpcy5ub1JvdGF0aW9uQ29uc3RyYWludHx8KHRoaXMucm90YXRpb24ueD4xLjU3MDc5NiYmKHRoaXMucm90YXRpb24ueD0xLjU3MDc5NiksdGhpcy5yb3RhdGlvbi54PC0xLjU3MDc5NiYmKHRoaXMucm90YXRpb24ueD0tMS41NzA3OTYpKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCkmJkcuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbikpLHQmJihNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KTx0aGlzLnNwZWVkKk1lJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24ueD0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KTx0aGlzLnNwZWVkKk1lJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24ueT0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KTx0aGlzLnNwZWVkKk1lJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24uej0wKSx0aGlzLmNhbWVyYURpcmVjdGlvbi5zY2FsZUluUGxhY2UodGhpcy5pbmVydGlhKSksaSYmKE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk8dGhpcy5zcGVlZCpNZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueD0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLnkpPHRoaXMuc3BlZWQqTWUmJih0aGlzLmNhbWVyYVJvdGF0aW9uLnk9MCksdGhpcy5jYW1lcmFSb3RhdGlvbi5zY2FsZUluUGxhY2UodGhpcy5pbmVydGlhKSksc3VwZXIuX2NoZWNrSW5wdXRzKCl9X3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCl7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeCh0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCk6eC5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KX1fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKXtyZXR1cm4gZy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy51cFZlY3RvciksdGhpc31fZ2V0Vmlld01hdHJpeCgpe3JldHVybiB0aGlzLmxvY2tlZFRhcmdldCYmdGhpcy5zZXRUYXJnZXQodGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKSksdGhpcy5fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWiE9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uej8odGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnopOnRoaXMuX2NhY2hlZFJvdGF0aW9uWiE9PXRoaXMucm90YXRpb24ueiYmKHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUm90YXRpb25aPXRoaXMucm90YXRpb24ueiksZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX3JlZmVyZW5jZVBvaW50LHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQpLHRoaXMucG9zaXRpb24uYWRkVG9SZWYodGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCx0aGlzLl9jdXJyZW50VGFyZ2V0KSx0aGlzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dWkuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnVwVmVjdG9yKTooRy5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLHRoaXMuX3RtcFF1YXRlcm5pb24pLHVpLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5fdG1wUXVhdGVybmlvbix0aGlzLnVwVmVjdG9yKSkpLHRoaXMuX2NvbXB1dGVWaWV3TWF0cml4KHRoaXMucG9zaXRpb24sdGhpcy5fY3VycmVudFRhcmdldCx0aGlzLnVwVmVjdG9yKSx0aGlzLl92aWV3TWF0cml4fV9jb21wdXRlVmlld01hdHJpeChlLHQsaSl7aWYodGhpcy5pZ25vcmVQYXJlbnRTY2FsaW5nKXtpZih0aGlzLnBhcmVudCl7Y29uc3Qgcz10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO2cuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHMsdGhpcy5fZ2xvYmFsUG9zaXRpb24pLGcuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0LHMsdGhpcy5fdG1wVGFyZ2V0VmVjdG9yKSxnLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGkscyx0aGlzLl90bXBVcFZlY3RvciksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKGUpLHRoaXMuX3RtcFRhcmdldFZlY3Rvci5jb3B5RnJvbSh0KSx0aGlzLl90bXBVcFZlY3Rvci5jb3B5RnJvbShpKTt0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/eC5Mb29rQXRSSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTp4Lkxvb2tBdExIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpO3JldHVybn1pZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/eC5Mb29rQXRSSFRvUmVmKGUsdCxpLHRoaXMuX3ZpZXdNYXRyaXgpOnguTG9va0F0TEhUb1JlZihlLHQsaSx0aGlzLl92aWV3TWF0cml4KSx0aGlzLnBhcmVudCl7Y29uc3Qgcz10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO3RoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHMsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fdmlld01hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uKSx0aGlzLl92aWV3TWF0cml4LmludmVydCgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbShlKX1jcmVhdGVSaWdDYW1lcmEoZSx0KXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1aLlJJR19NT0RFX05PTkUpe2NvbnN0IGk9bmV3IEdlKGUsdGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuZ2V0U2NlbmUoKSk7cmV0dXJuIGkuaXNSaWdDYW1lcmE9ITAsaS5yaWdQYXJlbnQ9dGhpcywodGhpcy5jYW1lcmFSaWdNb2RlPT09Wi5SSUdfTU9ERV9WUnx8dGhpcy5jYW1lcmFSaWdNb2RlPT09Wi5SSUdfTU9ERV9XRUJWUikmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBHKSxpLl9jYW1lcmFSaWdQYXJhbXM9e30saS5yb3RhdGlvblF1YXRlcm5pb249bmV3IEcpLGkubW9kZT10aGlzLm1vZGUsaS5vcnRob0xlZnQ9dGhpcy5vcnRob0xlZnQsaS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCxpLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsaS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLGl9cmV0dXJuIG51bGx9X3VwZGF0ZVJpZ0NhbWVyYXMoKXtjb25zdCBlPXRoaXMuX3JpZ0NhbWVyYXNbMF0sdD10aGlzLl9yaWdDYW1lcmFzWzFdO3N3aXRjaCh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuY2FtZXJhUmlnTW9kZSl7Y2FzZSBaLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSDpjYXNlIFouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw6Y2FzZSBaLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRDpjYXNlIFouUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUjpjYXNlIFouUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ6e2NvbnN0IGk9dGhpcy5jYW1lcmFSaWdNb2RlPT09Wi5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ/MTotMSxzPXRoaXMuY2FtZXJhUmlnTW9kZT09PVouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPy0xOjE7dGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSppLGUpLHRoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqcyx0KTticmVha31jYXNlIFouUklHX01PREVfVlI6ZS5yb3RhdGlvblF1YXRlcm5pb24/KGUucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSx0LnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbikpOihlLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHQucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbikpLGUucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKTticmVha31zdXBlci5fdXBkYXRlUmlnQ2FtZXJhcygpfV9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldChlLHQpe3RoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3RUb1JlZih0aGlzLnBvc2l0aW9uLEdlLl9UYXJnZXRGb2NhbFBvaW50KSxHZS5fVGFyZ2V0Rm9jYWxQb2ludC5ub3JtYWxpemUoKS5zY2FsZUluUGxhY2UodGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2UpO2NvbnN0IHM9R2UuX1RhcmdldEZvY2FsUG9pbnQuYWRkSW5QbGFjZSh0aGlzLnBvc2l0aW9uKTt4LlRyYW5zbGF0aW9uVG9SZWYoLXMueCwtcy55LC1zLnosR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCksR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKHguUm90YXRpb25BeGlzKHQudXBWZWN0b3IsZSksR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCkseC5UcmFuc2xhdGlvblRvUmVmKHMueCxzLnkscy56LEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLEdlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZihHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4LEdlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgpLGcuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLnBvc2l0aW9uLEdlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgsdC5wb3NpdGlvbiksdC5zZXRUYXJnZXQocyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRhcmdldENhbWVyYSJ9fUdlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXg9bmV3IHgsR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeD1uZXcgeCxHZS5fVGFyZ2V0Rm9jYWxQb2ludD1uZXcgZyxTKFtOdCgpXSxHZS5wcm90b3R5cGUsInJvdGF0aW9uIix2b2lkIDApLFMoW00oKV0sR2UucHJvdG90eXBlLCJzcGVlZCIsdm9pZCAwKSxTKFtsbigibG9ja2VkVGFyZ2V0SWQiKV0sR2UucHJvdG90eXBlLCJsb2NrZWRUYXJnZXQiLHZvaWQgMCk7ZnVuY3Rpb24gd24oYyl7Y29uc3R7c2NlbmU6ZX09YztsZXQgdDtjb25zdCBpPTM2LjU7cmV0dXJuIHQ9bmV3IEdlKCJUYXJnZXRDYW1lcmExIixuZXcgZygwLGksMCksZSksdC5mb3Y9LjI1LHQubWluWj01LHQubWF4Wj1pKzEsdC5zZXRUYXJnZXQoZy5aZXJvKCkpLHR9Y2xhc3MgYWUgZXh0ZW5kcyB6ZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5kaWZmdXNlPW5ldyBpZSgxLDEsMSksdGhpcy5zcGVjdWxhcj1uZXcgaWUoMSwxLDEpLHRoaXMuZmFsbG9mZlR5cGU9YWUuRkFMTE9GRl9ERUZBVUxULHRoaXMuaW50ZW5zaXR5PTEsdGhpcy5fcmFuZ2U9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pbnZlcnNlU3F1YXJlZFJhbmdlPTAsdGhpcy5fcGhvdG9tZXRyaWNTY2FsZT0xLHRoaXMuX2ludGVuc2l0eU1vZGU9YWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsdGhpcy5fcmFkaXVzPTFlLTUsdGhpcy5yZW5kZXJQcmlvcml0eT0wLHRoaXMuX3NoYWRvd0VuYWJsZWQ9ITAsdGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2s9MCx0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9MCx0aGlzLl9saWdodG1hcE1vZGU9MCx0aGlzLl9leGNsdWRlZE1lc2hlc0lkcz1uZXcgQXJyYXksdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPW5ldyBBcnJheSx0aGlzLl9pc0xpZ2h0PSEwLHRoaXMuZ2V0U2NlbmUoKS5hZGRMaWdodCh0aGlzKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBIKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUpLHRoaXMuX2J1aWxkVW5pZm9ybUxheW91dCgpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzPW5ldyBBcnJheSx0aGlzLmV4Y2x1ZGVkTWVzaGVzPW5ldyBBcnJheSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXQgcmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2V9c2V0IHJhbmdlKGUpe3RoaXMuX3JhbmdlPWUsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0xLyh0aGlzLnJhbmdlKnRoaXMucmFuZ2UpfWdldCBpbnRlbnNpdHlNb2RlKCl7cmV0dXJuIHRoaXMuX2ludGVuc2l0eU1vZGV9c2V0IGludGVuc2l0eU1vZGUoZSl7dGhpcy5faW50ZW5zaXR5TW9kZT1lLHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9Z2V0IHJhZGl1cygpe3JldHVybiB0aGlzLl9yYWRpdXN9c2V0IHJhZGl1cyhlKXt0aGlzLl9yYWRpdXM9ZSx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfWdldCBzaGFkb3dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0VuYWJsZWR9c2V0IHNoYWRvd0VuYWJsZWQoZSl7dGhpcy5fc2hhZG93RW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dFbmFibGVkPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaW5jbHVkZWRPbmx5TWVzaGVzKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc31zZXQgaW5jbHVkZWRPbmx5TWVzaGVzKGUpe3RoaXMuX2luY2x1ZGVkT25seU1lc2hlcz1lLHRoaXMuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seShlKX1nZXQgZXhjbHVkZWRNZXNoZXMoKXtyZXR1cm4gdGhpcy5fZXhjbHVkZWRNZXNoZXN9c2V0IGV4Y2x1ZGVkTWVzaGVzKGUpe3RoaXMuX2V4Y2x1ZGVkTWVzaGVzPWUsdGhpcy5faG9va0FycmF5Rm9yRXhjbHVkZWQoZSl9Z2V0IGV4Y2x1ZGVXaXRoTGF5ZXJNYXNrKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrfXNldCBleGNsdWRlV2l0aExheWVyTWFzayhlKXt0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz1lLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrfXNldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soZSl7dGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0IGxpZ2h0bWFwTW9kZSgpe3JldHVybiB0aGlzLl9saWdodG1hcE1vZGV9c2V0IGxpZ2h0bWFwTW9kZShlKXt0aGlzLl9saWdodG1hcE1vZGUhPT1lJiYodGhpcy5fbGlnaHRtYXBNb2RlPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX10cmFuc2ZlclRleHR1cmVzVG9FZmZlY3QoZSx0KXtyZXR1cm4gdGhpc31fYmluZExpZ2h0KGUsdCxpLHMscj0hMCl7Y29uc3Qgbj1lLnRvU3RyaW5nKCk7bGV0IGE9ITE7aWYodGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoaSwiTGlnaHQiK24pLHRoaXMuX3JlbmRlcklkIT09dC5nZXRSZW5kZXJJZCgpfHx0aGlzLl9sYXN0VXNlU3BlY3VsYXIhPT1zfHwhdGhpcy5fdW5pZm9ybUJ1ZmZlci51c2VVYm8pe3RoaXMuX3JlbmRlcklkPXQuZ2V0UmVuZGVySWQoKSx0aGlzLl9sYXN0VXNlU3BlY3VsYXI9cztjb25zdCBvPXRoaXMuZ2V0U2NhbGVkSW50ZW5zaXR5KCk7dGhpcy50cmFuc2ZlclRvRWZmZWN0KGksbiksdGhpcy5kaWZmdXNlLnNjYWxlVG9SZWYobyxnaS5Db2xvcjNbMF0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHREaWZmdXNlIixnaS5Db2xvcjNbMF0sdGhpcy5yYW5nZSxuKSxzJiYodGhpcy5zcGVjdWxhci5zY2FsZVRvUmVmKG8sZ2kuQ29sb3IzWzFdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0U3BlY3VsYXIiLGdpLkNvbG9yM1sxXSx0aGlzLnJhZGl1cyxuKSksYT0hMH1pZih0aGlzLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChpLG4pLHQuc2hhZG93c0VuYWJsZWQmJnRoaXMuc2hhZG93RW5hYmxlZCYmcil7Y29uc3Qgbz10aGlzLmdldFNoYWRvd0dlbmVyYXRvcigpO28mJihvLmJpbmRTaGFkb3dMaWdodChuLGkpLGE9ITApfWE/dGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGUoKTp0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRVbmlmb3JtQnVmZmVyKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkxpZ2h0In10b1N0cmluZyhlKXtsZXQgdD0iTmFtZTogIit0aGlzLm5hbWU7aWYodCs9IiwgdHlwZTogIitbIlBvaW50IiwiRGlyZWN0aW9uYWwiLCJTcG90IiwiSGVtaXNwaGVyaWMiXVt0aGlzLmdldFR5cGVJRCgpXSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO3JldHVybiB0fV9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl7c3VwZXIuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSx0aGlzLmlzRGlzcG9zZWQoKXx8dGhpcy5fcmVzeW5jTWVzaGVzKCl9c2V0RW5hYmxlZChlKXtzdXBlci5zZXRFbmFibGVkKGUpLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldFNoYWRvd0dlbmVyYXRvcigpe3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3J9Z2V0QWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiBnLlplcm8oKX1jYW5BZmZlY3RNZXNoKGUpe3JldHVybiBlPyEodGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKGUpPT09LTF8fHRoaXMuZXhjbHVkZWRNZXNoZXMmJnRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJnRoaXMuZXhjbHVkZWRNZXNoZXMuaW5kZXhPZihlKSE9PS0xfHx0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayE9PTAmJih0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayZlLmxheWVyTWFzayk9PT0wfHx0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIT09MCYmdGhpcy5leGNsdWRlV2l0aExheWVyTWFzayZlLmxheWVyTWFzayk6ITB9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuX3NoYWRvd0dlbmVyYXRvciYmKHRoaXMuX3NoYWRvd0dlbmVyYXRvci5kaXNwb3NlKCksdGhpcy5fc2hhZG93R2VuZXJhdG9yPW51bGwpLHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1mb3IoY29uc3QgaSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKHRoaXMsITApO3RoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVMaWdodCh0aGlzKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0VHlwZUlEKCl7cmV0dXJuIDB9Z2V0U2NhbGVkSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX3Bob3RvbWV0cmljU2NhbGUqdGhpcy5pbnRlbnNpdHl9Y2xvbmUoZSx0PW51bGwpe2NvbnN0IGk9YWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldFR5cGVJRCgpLGUsdGhpcy5nZXRTY2VuZSgpKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPXJlLkNsb25lKGksdGhpcyk7cmV0dXJuIGUmJihzLm5hbWU9ZSksdCYmKHMucGFyZW50PXQpLHMuc2V0RW5hYmxlZCh0aGlzLmlzRW5hYmxlZCgpKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyksc31zZXJpYWxpemUoKXtjb25zdCBlPXJlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldFR5cGVJRCgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmKGUuZXhjbHVkZWRNZXNoZXNJZHM9W10sdGhpcy5leGNsdWRlZE1lc2hlcy5mb3JFYWNoKHQ9PntlLmV4Y2x1ZGVkTWVzaGVzSWRzLnB1c2godC5pZCl9KSksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJihlLmluY2x1ZGVkT25seU1lc2hlc0lkcz1bXSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5mb3JFYWNoKHQ9PntlLmluY2x1ZGVkT25seU1lc2hlc0lkcy5wdXNoKHQuaWQpfSkpLHJlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsZSksZS5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLGV9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkpe2NvbnN0IHM9emUuQ29uc3RydWN0KCJMaWdodF9UeXBlXyIrZSx0LGkpO3JldHVybiBzfHxudWxsfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9YWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLnR5cGUsZS5uYW1lLHQpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9cmUuUGFyc2UoaSxlLHQpO2lmKGUuZXhjbHVkZWRNZXNoZXNJZHMmJihzLl9leGNsdWRlZE1lc2hlc0lkcz1lLmV4Y2x1ZGVkTWVzaGVzSWRzKSxlLmluY2x1ZGVkT25seU1lc2hlc0lkcyYmKHMuX2luY2x1ZGVkT25seU1lc2hlc0lkcz1lLmluY2x1ZGVkT25seU1lc2hlc0lkcyksZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLGUuZmFsbG9mZlR5cGUhPT12b2lkIDAmJihzLmZhbGxvZmZUeXBlPWUuZmFsbG9mZlR5cGUpLGUubGlnaHRtYXBNb2RlIT09dm9pZCAwJiYocy5saWdodG1hcE1vZGU9ZS5saWdodG1hcE1vZGUpLGUuYW5pbWF0aW9ucyl7Zm9yKGxldCByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmFuaW1hdGlvbnNbcl0sYT1paSgiQkFCWUxPTi5BbmltYXRpb24iKTthJiZzLmFuaW1hdGlvbnMucHVzaChhLlBhcnNlKG4pKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmcy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzfV9ob29rQXJyYXlGb3JFeGNsdWRlZChlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7Zm9yKGNvbnN0IG4gb2YgcyluLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKTtyZXR1cm4gcn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtmb3IoY29uc3QgYSBvZiBuKWEuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpO3JldHVybiBufTtmb3IoY29uc3QgcyBvZiBlKXMuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfV9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHkoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxufSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1fcmVzeW5jTWVzaGVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcyllLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX1fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpZS5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZlLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9X2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl7dGhpcy5fcGhvdG9tZXRyaWNTY2FsZT10aGlzLl9nZXRQaG90b21ldHJpY1NjYWxlKCksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKX1fZ2V0UGhvdG9tZXRyaWNTY2FsZSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLmdldFR5cGVJRCgpO2xldCBpPXRoaXMuaW50ZW5zaXR5TW9kZTtzd2l0Y2goaT09PWFlLklOVEVOU0lUWU1PREVfQVVUT01BVElDJiYodD09PWFlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/aT1hZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFOmk9YWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSksdCl7Y2FzZSBhZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2UgYWUuTElHSFRUWVBFSURfU1BPVExJR0hUOnN3aXRjaChpKXtjYXNlIGFlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUjplPTEvKDQqTWF0aC5QSSk7YnJlYWs7Y2FzZSBhZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOmU9MTticmVhaztjYXNlIGFlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFOmU9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXM7YnJlYWt9YnJlYWs7Y2FzZSBhZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUOnN3aXRjaChpKXtjYXNlIGFlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6ZT0xO2JyZWFrO2Nhc2UgYWUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6e2xldCBzPXRoaXMucmFkaXVzO3M9TWF0aC5tYXgocywuMDAxKSxlPTIqTWF0aC5QSSooMS1NYXRoLmNvcyhzKSk7YnJlYWt9fWJyZWFrO2Nhc2UgYWUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVDplPTE7YnJlYWt9cmV0dXJuIGV9X3Jlb3JkZXJMaWdodHNJblNjZW5lKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7dGhpcy5fcmVuZGVyUHJpb3JpdHkhPTAmJihlLnJlcXVpcmVMaWdodFNvcnRpbmc9ITApLHRoaXMuZ2V0U2NlbmUoKS5zb3J0TGlnaHRzQnlQcmlvcml0eSgpfX1hZS5GQUxMT0ZGX0RFRkFVTFQ9VGUuRkFMTE9GRl9ERUZBVUxULGFlLkZBTExPRkZfUEhZU0lDQUw9VGUuRkFMTE9GRl9QSFlTSUNBTCxhZS5GQUxMT0ZGX0dMVEY9VGUuRkFMTE9GRl9HTFRGLGFlLkZBTExPRkZfU1RBTkRBUkQ9VGUuRkFMTE9GRl9TVEFOREFSRCxhZS5MSUdIVE1BUF9ERUZBVUxUPVRlLkxJR0hUTUFQX0RFRkFVTFQsYWUuTElHSFRNQVBfU1BFQ1VMQVI9VGUuTElHSFRNQVBfU1BFQ1VMQVIsYWUuTElHSFRNQVBfU0hBRE9XU09OTFk9VGUuTElHSFRNQVBfU0hBRE9XU09OTFksYWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9VGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsYWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPVRlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUixhZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPVRlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFksYWUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT1UZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFLGFlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPVRlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFLGFlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9VGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVCxhZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPVRlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQsYWUuTElHSFRUWVBFSURfU1BPVExJR0hUPVRlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVCxhZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPVRlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQsUyhbb2koKV0sYWUucHJvdG90eXBlLCJkaWZmdXNlIix2b2lkIDApLFMoW29pKCldLGFlLnByb3RvdHlwZSwic3BlY3VsYXIiLHZvaWQgMCksUyhbTSgpXSxhZS5wcm90b3R5cGUsImZhbGxvZmZUeXBlIix2b2lkIDApLFMoW00oKV0sYWUucHJvdG90eXBlLCJpbnRlbnNpdHkiLHZvaWQgMCksUyhbTSgpXSxhZS5wcm90b3R5cGUsInJhbmdlIixudWxsKSxTKFtNKCldLGFlLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIsbnVsbCksUyhbTSgpXSxhZS5wcm90b3R5cGUsInJhZGl1cyIsbnVsbCksUyhbTSgpXSxhZS5wcm90b3R5cGUsIl9yZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxTKFtiZSgiX3Jlb3JkZXJMaWdodHNJblNjZW5lIildLGFlLnByb3RvdHlwZSwicmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksUyhbTSgic2hhZG93RW5hYmxlZCIpXSxhZS5wcm90b3R5cGUsIl9zaGFkb3dFbmFibGVkIix2b2lkIDApLFMoW00oImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIildLGFlLnByb3RvdHlwZSwiX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFMoW00oImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIpXSxhZS5wcm90b3R5cGUsIl9pbmNsdWRlT25seVdpdGhMYXllck1hc2siLHZvaWQgMCksUyhbTSgibGlnaHRtYXBNb2RlIildLGFlLnByb3RvdHlwZSwiX2xpZ2h0bWFwTW9kZSIsdm9pZCAwKTtjbGFzcyB3aSBleHRlbmRzIGFle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9X3NldFBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbihlKXt0aGlzLl9zZXRQb3NpdGlvbihlKX1fc2V0RGlyZWN0aW9uKGUpe3RoaXMuX2RpcmVjdGlvbj1lfWdldCBkaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0aW9ufXNldCBkaXJlY3Rpb24oZSl7dGhpcy5fc2V0RGlyZWN0aW9uKGUpfWdldCBzaGFkb3dNaW5aKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01pblp9c2V0IHNoYWRvd01pblooZSl7dGhpcy5fc2hhZG93TWluWj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01heFp9c2V0IHNoYWRvd01heFooZSl7dGhpcy5fc2hhZG93TWF4Wj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeD8odGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9ufHwodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPWcuWmVybygpKSxnLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbiksdGhpcy5kaXJlY3Rpb24mJih0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9ufHwodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1nLlplcm8oKSksZy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmRpcmVjdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24pKSwhMCk6ITF9Z2V0RGVwdGhTY2FsZSgpe3JldHVybiA1MH1nZXRTaGFkb3dEaXJlY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn1nZXRBYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj90aGlzLnRyYW5zZm9ybWVkUG9zaXRpb246dGhpcy5wb3NpdGlvbn1zZXREaXJlY3Rpb25Ub1RhcmdldChlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249Zy5Ob3JtYWxpemUoZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKSksdGhpcy5kaXJlY3Rpb259Z2V0Um90YXRpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTtjb25zdCBlPWcuQ3Jvc3ModGhpcy5kaXJlY3Rpb24sdWkuWSksdD1nLkNyb3NzKGUsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBnLlJvdGF0aW9uRnJvbUF4aXMoZSx0LHRoaXMuZGlyZWN0aW9uKX1uZWVkQ3ViZSgpe3JldHVybiExfW5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9Zm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3RoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPWcuWmVybygpfV9pc1N5bmNocm9uaXplZCgpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfWNvbXB1dGVXb3JsZE1hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpPyh0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fd29ybGRNYXRyaXgpOih0aGlzLl91cGRhdGVDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnosdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCYmKHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXgpfWdldERlcHRoTWluWihlKXtyZXR1cm4gdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjplLm1pblp9Z2V0RGVwdGhNYXhaKGUpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOmUubWF4Wn1zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcj90aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyKHQsaSxlKTp0aGlzLl9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSksdGhpc31fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3N1cGVyLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksKCF0aGlzLnBhcmVudHx8IXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KSYmKHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1udWxsLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249bnVsbCl9fVMoW050KCldLHdpLnByb3RvdHlwZSwicG9zaXRpb24iLG51bGwpLFMoW050KCldLHdpLnByb3RvdHlwZSwiZGlyZWN0aW9uIixudWxsKSxTKFtNKCldLHdpLnByb3RvdHlwZSwic2hhZG93TWluWiIsbnVsbCksUyhbTSgpXSx3aS5wcm90b3R5cGUsInNoYWRvd01heFoiLG51bGwpLHplLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8xIiwoYyxlKT0+KCk9Pm5ldyBDdChjLGcuWmVybygpLGUpKTtjbGFzcyBDdCBleHRlbmRzIHdpe2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLGkpLHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplPTAsdGhpcy5fc2hhZG93T3J0aG9TY2FsZT0uMSx0aGlzLmF1dG9VcGRhdGVFeHRlbmRzPSEwLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzPSExLHRoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUUsdGhpcy5wb3NpdGlvbj10LnNjYWxlKC0xKSx0aGlzLmRpcmVjdGlvbj10fWdldCBzaGFkb3dGcnVzdHVtU2l6ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZX1zZXQgc2hhZG93RnJ1c3R1bVNpemUoZSl7dGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgc2hhZG93T3J0aG9TY2FsZSgpe3JldHVybiB0aGlzLl9zaGFkb3dPcnRob1NjYWxlfXNldCBzaGFkb3dPcnRob1NjYWxlKGUpe3RoaXMuX3NoYWRvd09ydGhvU2NhbGU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgb3J0aG9MZWZ0KCl7cmV0dXJuIHRoaXMuX29ydGhvTGVmdH1zZXQgb3J0aG9MZWZ0KGUpe3RoaXMuX29ydGhvTGVmdD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvUmlnaHQoZSl7dGhpcy5fb3J0aG9SaWdodD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgb3J0aG9Ub3AoZSl7dGhpcy5fb3J0aG9Ub3A9ZX1nZXQgb3J0aG9Cb3R0b20oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkRpcmVjdGlvbmFsTGlnaHQifWdldFR5cGVJRCgpe3JldHVybiBhZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUfV9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7dGhpcy5zaGFkb3dGcnVzdHVtU2l6ZT4wP3RoaXMuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpOnRoaXMuX3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl9X3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTshdHx8eC5PcnRob0xIVG9SZWYodGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6dC5taW5aLHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6dC5tYXhaLGUsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9X3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO2lmKCFzKXJldHVybjtpZih0aGlzLmF1dG9VcGRhdGVFeHRlbmRzfHx0aGlzLl9vcnRob0xlZnQ9PT1OdW1iZXIuTUFYX1ZBTFVFKXtjb25zdCBsPWcuWmVybygpO3RoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUU7bGV0IHU9TnVtYmVyLk1BWF9WQUxVRSxmPU51bWJlci5NSU5fVkFMVUU7Zm9yKGxldCBkPTA7ZDxpLmxlbmd0aDtkKyspe2NvbnN0IF89aVtkXTtpZighXyljb250aW51ZTtjb25zdCBtPV8uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3g7Zm9yKGxldCBUPTA7VDxtLnZlY3RvcnNXb3JsZC5sZW5ndGg7VCsrKWcuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihtLnZlY3RvcnNXb3JsZFtUXSx0LGwpLGwueDx0aGlzLl9vcnRob0xlZnQmJih0aGlzLl9vcnRob0xlZnQ9bC54KSxsLnk8dGhpcy5fb3J0aG9Cb3R0b20mJih0aGlzLl9vcnRob0JvdHRvbT1sLnkpLGwueD50aGlzLl9vcnRob1JpZ2h0JiYodGhpcy5fb3J0aG9SaWdodD1sLngpLGwueT50aGlzLl9vcnRob1RvcCYmKHRoaXMuX29ydGhvVG9wPWwueSksdGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJihsLno8dSYmKHU9bC56KSxsLno+ZiYmKGY9bC56KSl9dGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJih0aGlzLl9zaGFkb3dNaW5aPXUsdGhpcy5fc2hhZG93TWF4Wj1mKX1jb25zdCByPXRoaXMuX29ydGhvUmlnaHQtdGhpcy5fb3J0aG9MZWZ0LG49dGhpcy5fb3J0aG9Ub3AtdGhpcy5fb3J0aG9Cb3R0b20sYT10aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnMubWluWixvPXRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6cy5tYXhaLGg9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjt4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9vcnRob0xlZnQtcip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9SaWdodCtyKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob0JvdHRvbS1uKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1RvcCtuKnRoaXMuc2hhZG93T3J0aG9TY2FsZSxoP286YSxoP2E6byxlLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX10cmFuc2ZlclRvRWZmZWN0KGUsdCl7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56LDEsdCksdGhpcyk6KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiwxLHQpLHRoaXMpfXRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3QoZSx0KXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyhlLnNldEZsb2F0Myh0LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56KSx0aGlzKTooZS5zZXRGbG9hdDModCx0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiksdGhpcyl9Z2V0RGVwdGhNaW5aKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIXQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZ0LmlzTkRDSGFsZlpSYW5nZT8wOjF9Z2V0RGVwdGhNYXhaKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIHQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZ0LmlzTkRDSGFsZlpSYW5nZT8wOjF9cHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKGUsdCl7ZVsiRElSTElHSFQiK3RdPSEwfX1TKFtNKCldLEN0LnByb3RvdHlwZSwic2hhZG93RnJ1c3R1bVNpemUiLG51bGwpLFMoW00oKV0sQ3QucHJvdG90eXBlLCJzaGFkb3dPcnRob1NjYWxlIixudWxsKSxTKFtNKCldLEN0LnByb3RvdHlwZSwiYXV0b1VwZGF0ZUV4dGVuZHMiLHZvaWQgMCksUyhbTSgpXSxDdC5wcm90b3R5cGUsImF1dG9DYWxjU2hhZG93WkJvdW5kcyIsdm9pZCAwKSxTKFtNKCJvcnRob0xlZnQiKV0sQ3QucHJvdG90eXBlLCJfb3J0aG9MZWZ0Iix2b2lkIDApLFMoW00oIm9ydGhvUmlnaHQiKV0sQ3QucHJvdG90eXBlLCJfb3J0aG9SaWdodCIsdm9pZCAwKSxTKFtNKCJvcnRob1RvcCIpXSxDdC5wcm90b3R5cGUsIl9vcnRob1RvcCIsdm9pZCAwKSxTKFtNKCJvcnRob0JvdHRvbSIpXSxDdC5wcm90b3R5cGUsIl9vcnRob0JvdHRvbSIsdm9pZCAwKSx6ZS5BZGROb2RlQ29uc3RydWN0b3IoIkxpZ2h0X1R5cGVfMyIsKGMsZSk9PigpPT5uZXcgdHMoYyxnLlplcm8oKSxlKSk7Y2xhc3MgdHMgZXh0ZW5kcyBhZXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSxpKSx0aGlzLmdyb3VuZENvbG9yPW5ldyBpZSgwLDAsMCksdGhpcy5kaXJlY3Rpb249dHx8Zy5VcCgpfV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRHcm91bmQiLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkhlbWlzcGhlcmljTGlnaHQifXNldERpcmVjdGlvblRvVGFyZ2V0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1nLk5vcm1hbGl6ZShlLnN1YnRyYWN0KGcuWmVybygpKSksdGhpcy5kaXJlY3Rpb259Z2V0U2hhZG93R2VuZXJhdG9yKCl7cmV0dXJuIG51bGx9dHJhbnNmZXJUb0VmZmVjdChlLHQpe2NvbnN0IGk9Zy5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsaS54LGkueSxpLnosMCx0KSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yMygidkxpZ2h0R3JvdW5kIix0aGlzLmdyb3VuZENvbG9yLnNjYWxlKHRoaXMuaW50ZW5zaXR5KSx0KSx0aGlzfXRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3QoZSx0KXtjb25zdCBpPWcuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZS5zZXRGbG9hdDModCxpLngsaS55LGkueiksdGhpc31jb21wdXRlV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fWdldFR5cGVJRCgpe3JldHVybiBhZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUfXByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhlLHQpe2VbIkhFTUlMSUdIVCIrdF09ITB9fVMoW29pKCldLHRzLnByb3RvdHlwZSwiZ3JvdW5kQ29sb3IiLHZvaWQgMCksUyhbTnQoKV0sdHMucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCk7Y2xhc3MgV3R7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH10b1N0cmluZygpe3JldHVybmB7VzogJHt0aGlzLndpZHRofSwgSDogJHt0aGlzLmhlaWdodH19YH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2l6ZSJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLndpZHRofDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuaGVpZ2h0fDApLGV9Y29weUZyb20oZSl7dGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0fWNvcHlGcm9tRmxvYXRzKGUsdCl7cmV0dXJuIHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXN9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCl7cmV0dXJuIG5ldyBXdCh0aGlzLndpZHRoKmUsdGhpcy5oZWlnaHQqdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IFd0KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWVxdWFscyhlKXtyZXR1cm4gZT90aGlzLndpZHRoPT09ZS53aWR0aCYmdGhpcy5oZWlnaHQ9PT1lLmhlaWdodDohMX1nZXQgc3VyZmFjZSgpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBXdCgwLDApfWFkZChlKXtyZXR1cm4gbmV3IFd0KHRoaXMud2lkdGgrZS53aWR0aCx0aGlzLmhlaWdodCtlLmhlaWdodCl9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyBXdCh0aGlzLndpZHRoLWUud2lkdGgsdGhpcy5oZWlnaHQtZS5oZWlnaHQpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPWUud2lkdGgrKHQud2lkdGgtZS53aWR0aCkqaSxyPWUuaGVpZ2h0Kyh0LmhlaWdodC1lLmhlaWdodCkqaTtyZXR1cm4gbmV3IFd0KHMscil9fWNsYXNzIE9ue2NvbnN0cnVjdG9yKGUpe3RoaXMuX3dyYXBVPTEsdGhpcy5fd3JhcFY9MSx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTQsdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl9lbmdpbmU9bnVsbCx0aGlzLl9jYWNoZWRTaXplPVd0Llplcm8oKSx0aGlzLl9jYWNoZWRCYXNlU2l6ZT1XdC5aZXJvKCksdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT0yLHRoaXMuX3RleHR1cmU9ZSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fZW5naW5lPXRoaXMuX3RleHR1cmUuZ2V0RW5naW5lKCkpfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl93cmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fd3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fd3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX3dyYXBWPWV9Z2V0IGNvb3JkaW5hdGVzTW9kZSgpe3JldHVybiAwfWdldCBpc0N1YmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTohMX1zZXQgaXNDdWJlKGUpeyF0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZS5pc0N1YmU9ZSl9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT1lKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGhpblRleHR1cmUifWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTQ/KHRoaXMuZGVsYXlMb2FkKCksITEpOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc1JlYWR5OiExfWRlbGF5TG9hZCgpe31nZXRJbnRlcm5hbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX1nZXRTaXplKCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS53aWR0aClyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLndpZHRoLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuaGVpZ2h0LHRoaXMuX2NhY2hlZFNpemU7aWYodGhpcy5fdGV4dHVyZS5fc2l6ZSlyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZX1yZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZX1nZXRCYXNlU2l6ZSgpe3JldHVybiF0aGlzLmlzUmVhZHkoKXx8IXRoaXMuX3RleHR1cmU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPTAsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PTAsdGhpcy5fY2FjaGVkQmFzZVNpemUpOnRoaXMuX3RleHR1cmUuX3NpemU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUpOih0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLmJhc2VXaWR0aCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5iYXNlSGVpZ2h0LHRoaXMuX2NhY2hlZEJhc2VTaXplKX1nZXQgc2FtcGxpbmdNb2RlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5zYW1wbGluZ01vZGU6dGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZX11cGRhdGVTYW1wbGluZ01vZGUoZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHRoaXMuX3RleHR1cmUpfXJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZT1udWxsKX1kaXNwb3NlKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuX2VuZ2luZT1udWxsKX19Y2xhc3MgeWUgZXh0ZW5kcyBPbntjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7c3VwZXIobnVsbCksdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9oYXNBbHBoYT0hMSx0aGlzLl9nZXRBbHBoYUZyb21SR0I9ITEsdGhpcy5sZXZlbD0xLHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXg9MCx0aGlzLl9jb29yZGluYXRlc01vZGU9MCx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXllLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMLHRoaXMuX2lzQ3ViZT0hMSx0aGlzLl9nYW1tYVNwYWNlPSEwLHRoaXMuaW52ZXJ0Wj0hMSx0aGlzLmxvZExldmVsSW5BbHBoYT0hMSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSExLHRoaXMuX3ByZWZpbHRlcmVkPSExLHRoaXMuX2ZvcmNlU2VyaWFsaXplPSExLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl91aWQ9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLl9sb2FkaW5nRXJyb3I9ITEsZT95ZS5fSXNTY2VuZShlKT90aGlzLl9zY2VuZT1lOnRoaXMuX2VuZ2luZT1lOnRoaXMuX3NjZW5lPWRlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fc2NlbmUuYWRkVGV4dHVyZSh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpLHRoaXMuX3RleHR1cmU9dCx0aGlzLl91aWQ9bnVsbH1zZXQgaGFzQWxwaGEoZSl7dGhpcy5faGFzQWxwaGEhPT1lJiYodGhpcy5faGFzQWxwaGE9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgaGFzQWxwaGEoKXtyZXR1cm4gdGhpcy5faGFzQWxwaGF9c2V0IGdldEFscGhhRnJvbVJHQihlKXt0aGlzLl9nZXRBbHBoYUZyb21SR0IhPT1lJiYodGhpcy5fZ2V0QWxwaGFGcm9tUkdCPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGdldEFscGhhRnJvbVJHQigpe3JldHVybiB0aGlzLl9nZXRBbHBoYUZyb21SR0J9c2V0IGNvb3JkaW5hdGVzSW5kZXgoZSl7dGhpcy5fY29vcmRpbmF0ZXNJbmRleCE9PWUmJih0aGlzLl9jb29yZGluYXRlc0luZGV4PWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGNvb3JkaW5hdGVzSW5kZXgoKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNJbmRleH1zZXQgY29vcmRpbmF0ZXNNb2RlKGUpe3RoaXMuX2Nvb3JkaW5hdGVzTW9kZSE9PWUmJih0aGlzLl9jb29yZGluYXRlc01vZGU9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgY29vcmRpbmF0ZXNNb2RlKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzTW9kZX1nZXQgd3JhcFUoKXtyZXR1cm4gdGhpcy5fd3JhcFV9c2V0IHdyYXBVKGUpe3RoaXMuX3dyYXBVPWV9Z2V0IHdyYXBWKCl7cmV0dXJuIHRoaXMuX3dyYXBWfXNldCB3cmFwVihlKXt0aGlzLl93cmFwVj1lfWdldCBpc0N1YmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTp0aGlzLl9pc0N1YmV9c2V0IGlzQ3ViZShlKXt0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlPWU6dGhpcy5faXNDdWJlPWV9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT1lKX1nZXQgZ2FtbWFTcGFjZSgpe2lmKHRoaXMuX3RleHR1cmUpdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PW51bGwmJih0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPXRoaXMuX2dhbW1hU3BhY2UpO2Vsc2UgcmV0dXJuIHRoaXMuX2dhbW1hU3BhY2U7cmV0dXJuIHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2UmJiF0aGlzLl90ZXh0dXJlLl91c2VTUkdCQnVmZmVyfXNldCBnYW1tYVNwYWNlKGUpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT1lKXJldHVybjt0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPWV9ZWxzZXtpZih0aGlzLl9nYW1tYVNwYWNlPT09ZSlyZXR1cm47dGhpcy5fZ2FtbWFTcGFjZT1lfXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX1nZXQgaXNSR0JEKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUhPW51bGwmJnRoaXMuX3RleHR1cmUuX2lzUkdCRH1zZXQgaXNSR0JEKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pc1JHQkQ9ZSl9Z2V0IG5vTWlwbWFwKCl7cmV0dXJuITF9Z2V0IGxvZEdlbmVyYXRpb25PZmZzZXQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0OjB9c2V0IGxvZEdlbmVyYXRpb25PZmZzZXQoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ9ZSl9Z2V0IGxvZEdlbmVyYXRpb25TY2FsZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZTowfXNldCBsb2RHZW5lcmF0aW9uU2NhbGUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZT1lKX1nZXQgbGluZWFyU3BlY3VsYXJMT0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRDohMX1zZXQgbGluZWFyU3BlY3VsYXJMT0QoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xpbmVhclNwZWN1bGFyTE9EPWUpfWdldCBpcnJhZGlhbmNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlOm51bGx9c2V0IGlycmFkaWFuY2VUZXh0dXJlKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pcnJhZGlhbmNlVGV4dHVyZT1lKX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuX3VpZHx8KHRoaXMuX3VpZD1pcigpKSx0aGlzLl91aWR9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfWdldENsYXNzTmFtZSgpe3JldHVybiJCYXNlVGV4dHVyZSJ9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgaXNCbG9ja2luZygpe3JldHVybiEwfWdldCBsb2FkaW5nRXJyb3IoKXtyZXR1cm4gdGhpcy5fbG9hZGluZ0Vycm9yfWdldCBlcnJvck9iamVjdCgpe3JldHVybiB0aGlzLl9lcnJvck9iamVjdH1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1fZ2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1jaGVja1RyYW5zZm9ybXNBcmVJZGVudGljYWwoZSl7cmV0dXJuIGUhPT1udWxsfWdldFRleHR1cmVNYXRyaXgoKXtyZXR1cm4geC5JZGVudGl0eVJlYWRPbmx5fWdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl7cmV0dXJuIHguSWRlbnRpdHlSZWFkT25seX1pc1JlYWR5T3JOb3RCbG9ja2luZygpe3JldHVybiF0aGlzLmlzQmxvY2tpbmd8fHRoaXMuaXNSZWFkeSgpfHx0aGlzLmxvYWRpbmdFcnJvcn1zY2FsZShlKXt9Z2V0IGNhblJlc2NhbGUoKXtyZXR1cm4hMX1fZ2V0RnJvbUNhY2hlKGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IG89YS5fZ2V0VXNlU1JHQkJ1ZmZlcighIXIsdCksaD1hLmdldExvYWRlZFRleHR1cmVzQ2FjaGUoKTtmb3IobGV0IGw9MDtsPGgubGVuZ3RoO2wrKyl7Y29uc3QgdT1oW2xdO2lmKChyPT09dm9pZCAwfHxvPT09dS5fdXNlU1JHQkJ1ZmZlcikmJihzPT09dm9pZCAwfHxzPT09dS5pbnZlcnRZKSYmdS51cmw9PT1lJiZ1LmdlbmVyYXRlTWlwTWFwcz09PSF0JiYoIWl8fGk9PT11LnNhbXBsaW5nTW9kZSkmJihuPT09dm9pZCAwfHxuPT09dS5pc0N1YmUpKXJldHVybiB1LmluY3JlbWVudFJlZmVyZW5jZXMoKSx1fXJldHVybiBudWxsfV9yZWJ1aWxkKCl7fWNsb25lKCl7cmV0dXJuIG51bGx9Z2V0IHRleHR1cmVUeXBlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUudHlwZSE9PXZvaWQgMD90aGlzLl90ZXh0dXJlLnR5cGU6MH1nZXQgdGV4dHVyZUZvcm1hdCgpe3JldHVybiB0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmZvcm1hdCE9PXZvaWQgMD90aGlzLl90ZXh0dXJlLmZvcm1hdDo1fV9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7IWV8fGUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9cmVhZFBpeGVscyhlPTAsdD0wLGk9bnVsbCxzPSEwLHI9ITEsbj0wLGE9MCxvPU51bWJlci5NQVhfVkFMVUUsaD1OdW1iZXIuTUFYX1ZBTFVFKXtpZighdGhpcy5fdGV4dHVyZSlyZXR1cm4gbnVsbDtjb25zdCBsPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFsKXJldHVybiBudWxsO2NvbnN0IHU9dGhpcy5nZXRTaXplKCk7bGV0IGY9dS53aWR0aCxkPXUuaGVpZ2h0O3QhPT0wJiYoZj1mL01hdGgucG93KDIsdCksZD1kL01hdGgucG93KDIsdCksZj1NYXRoLnJvdW5kKGYpLGQ9TWF0aC5yb3VuZChkKSksbz1NYXRoLm1pbihmLG8pLGg9TWF0aC5taW4oZCxoKTt0cnl7cmV0dXJuIHRoaXMuX3RleHR1cmUuaXNDdWJlP2wuX3JlYWRUZXh0dXJlUGl4ZWxzKHRoaXMuX3RleHR1cmUsbyxoLGUsdCxpLHMscixuLGEpOmwuX3JlYWRUZXh0dXJlUGl4ZWxzKHRoaXMuX3RleHR1cmUsbyxoLC0xLHQsaSxzLHIsbixhKX1jYXRjaHtyZXR1cm4gbnVsbH19X3JlYWRQaXhlbHNTeW5jKGU9MCx0PTAsaT1udWxsLHM9ITAscj0hMSl7aWYoIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7Y29uc3Qgbj10aGlzLmdldFNpemUoKTtsZXQgYT1uLndpZHRoLG89bi5oZWlnaHQ7Y29uc3QgaD10aGlzLl9nZXRFbmdpbmUoKTtpZighaClyZXR1cm4gbnVsbDt0IT0wJiYoYT1hL01hdGgucG93KDIsdCksbz1vL01hdGgucG93KDIsdCksYT1NYXRoLnJvdW5kKGEpLG89TWF0aC5yb3VuZChvKSk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9oLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSxhLG8sZSx0LGkscyxyKTpoLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSxhLG8sLTEsdCxpLHMscil9Y2F0Y2h7cmV0dXJuIG51bGx9fWdldCBfbG9kVGV4dHVyZUhpZ2goKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlSGlnaDpudWxsfWdldCBfbG9kVGV4dHVyZU1pZCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVNaWQ6bnVsbH1nZXQgX2xvZFRleHR1cmVMb3coKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTG93Om51bGx9ZGlzcG9zZSgpe2lmKHRoaXMuX3NjZW5lKXt0aGlzLl9zY2VuZS5zdG9wQW5pbWF0aW9uJiZ0aGlzLl9zY2VuZS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3NjZW5lLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpO2NvbnN0IGU9dGhpcy5fc2NlbmUudGV4dHVyZXMuaW5kZXhPZih0aGlzKTtpZihlPj0wJiZ0aGlzLl9zY2VuZS50ZXh0dXJlcy5zcGxpY2UoZSwxKSx0aGlzLl9zY2VuZS5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHQ9dGhpcy5fcGFyZW50Q29udGFpbmVyLnRleHR1cmVzLmluZGV4T2YodGhpcyk7dD4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRleHR1cmVzLnNwbGljZSh0LDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfX10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMubWV0YWRhdGE9bnVsbCxzdXBlci5kaXNwb3NlKCl9c2VyaWFsaXplKCl7aWYoIXRoaXMubmFtZSlyZXR1cm4gbnVsbDtjb25zdCBlPXJlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gcmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlfXN0YXRpYyBXaGVuQWxsUmVhZHkoZSx0KXtsZXQgaT1lLmxlbmd0aDtpZihpPT09MCl7dCgpO3JldHVybn1mb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lW3NdO2lmKHIuaXNSZWFkeSgpKS0taT09PTAmJnQoKTtlbHNle2NvbnN0IG49ci5vbkxvYWRPYnNlcnZhYmxlO24/bi5hZGRPbmNlKCgpPT57LS1pPT09MCYmdCgpfSk6LS1pPT09MCYmdCgpfX19c3RhdGljIF9Jc1NjZW5lKGUpe3JldHVybiBlLmdldENsYXNzTmFtZSgpPT09IlNjZW5lIn19eWUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUw9NCxTKFtNKCldLHllLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFMoW00oImhhc0FscGhhIildLHllLnByb3RvdHlwZSwiX2hhc0FscGhhIix2b2lkIDApLFMoW00oImdldEFscGhhRnJvbVJHQiIpXSx5ZS5wcm90b3R5cGUsIl9nZXRBbHBoYUZyb21SR0IiLHZvaWQgMCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsImxldmVsIix2b2lkIDApLFMoW00oImNvb3JkaW5hdGVzSW5kZXgiKV0seWUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNJbmRleCIsdm9pZCAwKSxTKFtNKCJjb29yZGluYXRlc01vZGUiKV0seWUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNNb2RlIix2b2lkIDApLFMoW00oKV0seWUucHJvdG90eXBlLCJ3cmFwVSIsbnVsbCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsIndyYXBWIixudWxsKSxTKFtNKCldLHllLnByb3RvdHlwZSwid3JhcFIiLHZvaWQgMCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsImFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwiLHZvaWQgMCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsImlzQ3ViZSIsbnVsbCksUyhbTSgpXSx5ZS5wcm90b3R5cGUsImlzM0QiLG51bGwpLFMoW00oKV0seWUucHJvdG90eXBlLCJpczJEQXJyYXkiLG51bGwpLFMoW00oKV0seWUucHJvdG90eXBlLCJnYW1tYVNwYWNlIixudWxsKSxTKFtNKCldLHllLnByb3RvdHlwZSwiaW52ZXJ0WiIsdm9pZCAwKSxTKFtNKCldLHllLnByb3RvdHlwZSwibG9kTGV2ZWxJbkFscGhhIix2b2lkIDApLFMoW00oKV0seWUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uT2Zmc2V0IixudWxsKSxTKFtNKCldLHllLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvblNjYWxlIixudWxsKSxTKFtNKCldLHllLnByb3RvdHlwZSwibGluZWFyU3BlY3VsYXJMT0QiLG51bGwpLFMoW3B0KCldLHllLnByb3RvdHlwZSwiaXJyYWRpYW5jZVRleHR1cmUiLG51bGwpLFMoW00oKV0seWUucHJvdG90eXBlLCJpc1JlbmRlclRhcmdldCIsdm9pZCAwKTtmdW5jdGlvbiBBcihjLGUsdD0hMSl7Y29uc3QgaT1lLndpZHRoLHM9ZS5oZWlnaHQ7aWYoYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7bGV0IGg9Yy5ieXRlTGVuZ3RoL2MuQllURVNfUEVSX0VMRU1FTlQ7Y29uc3QgbD1uZXcgVWludDhBcnJheShoKTtmb3IoOy0taD49MDspe2xldCB1PWNbaF07dTwwP3U9MDp1PjEmJih1PTEpLGxbaF09dSoyNTV9Yz1sfWNvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7ci53aWR0aD1pLHIuaGVpZ2h0PXM7Y29uc3Qgbj1yLmdldENvbnRleHQoIjJkIik7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgYT1uLmNyZWF0ZUltYWdlRGF0YShpLHMpO2lmKGEuZGF0YS5zZXQoYyksbi5wdXRJbWFnZURhdGEoYSwwLDApLHQpe2NvbnN0IGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aC53aWR0aD1pLGguaGVpZ2h0PXM7Y29uc3QgbD1oLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGw/KGwudHJhbnNsYXRlKDAscyksbC5zY2FsZSgxLC0xKSxsLmRyYXdJbWFnZShyLDAsMCksaC50b0RhdGFVUkwoImltYWdlL3BuZyIpKTpudWxsfXJldHVybiByLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9ZnVuY3Rpb24gTG4oYyxlPTAsdD0wKXtjb25zdCBpPWMuZ2V0SW50ZXJuYWxUZXh0dXJlKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1jLl9yZWFkUGl4ZWxzU3luYyhlLHQpO3JldHVybiBzP0FyKHMsYy5nZXRTaXplKCksaS5pbnZlcnRZKTpudWxsfWFzeW5jIGZ1bmN0aW9uIE5uKGMsZT0wLHQ9MCl7Y29uc3QgaT1jLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9YXdhaXQgYy5yZWFkUGl4ZWxzKGUsdCk7cmV0dXJuIHM/QXIocyxjLmdldFNpemUoKSxpLmludmVydFkpOm51bGx9Y2xhc3MgQiBleHRlbmRzIHlle2NvbnN0cnVjdG9yKGUsdCxpLHMscj1CLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbj1udWxsLGE9bnVsbCxvPW51bGwsaD0hMSxsLHUsZixkLF8pe3ZhciB2LEEsTCxKLGhlLHhlLGZlLHVlLHNlO3N1cGVyKHQpLHRoaXMudXJsPW51bGwsdGhpcy51T2Zmc2V0PTAsdGhpcy52T2Zmc2V0PTAsdGhpcy51U2NhbGU9MSx0aGlzLnZTY2FsZT0xLHRoaXMudUFuZz0wLHRoaXMudkFuZz0wLHRoaXMud0FuZz0wLHRoaXMudVJvdGF0aW9uQ2VudGVyPS41LHRoaXMudlJvdGF0aW9uQ2VudGVyPS41LHRoaXMud1JvdGF0aW9uQ2VudGVyPS41LHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsdGhpcy5pbnNwZWN0YWJsZUN1c3RvbVByb3BlcnRpZXM9bnVsbCx0aGlzLl9ub01pcG1hcD0hMSx0aGlzLl9pbnZlcnRZPSExLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bnVsbCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PW51bGwsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9bnVsbCx0aGlzLl90MD1udWxsLHRoaXMuX3QxPW51bGwsdGhpcy5fdDI9bnVsbCx0aGlzLl9jYWNoZWRVT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFZPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkVVNjYWxlPTAsdGhpcy5fY2FjaGVkVlNjYWxlPTAsdGhpcy5fY2FjaGVkVUFuZz0tMSx0aGlzLl9jYWNoZWRWQW5nPS0xLHRoaXMuX2NhY2hlZFdBbmc9LTEsdGhpcy5fY2FjaGVkUHJvamVjdGlvbk1hdHJpeElkPS0xLHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT0tMSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9kZWxldGVCdWZmZXI9ITEsdGhpcy5fZm9ybWF0PW51bGwsdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5vbkxvYWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2lzQmxvY2tpbmc9ITAsdGhpcy5uYW1lPWV8fCIiLHRoaXMudXJsPWU7bGV0IEUsbT0hMSxUPW51bGw7dHlwZW9mIGk9PSJvYmplY3QiJiZpIT09bnVsbD8oRT0odj1pLm5vTWlwbWFwKSE9bnVsbD92OiExLHM9KEE9aS5pbnZlcnRZKSE9bnVsbD9BOiFmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWLHI9KEw9aS5zYW1wbGluZ01vZGUpIT1udWxsP0w6Qi5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG49KEo9aS5vbkxvYWQpIT1udWxsP0o6bnVsbCxhPShoZT1pLm9uRXJyb3IpIT1udWxsP2hlOm51bGwsbz0oeGU9aS5idWZmZXIpIT1udWxsP3hlOm51bGwsaD0oZmU9aS5kZWxldGVCdWZmZXIpIT1udWxsP2ZlOiExLGw9aS5mb3JtYXQsdT1pLm1pbWVUeXBlLGY9aS5sb2FkZXJPcHRpb25zLGQ9aS5jcmVhdGlvbkZsYWdzLG09KHVlPWkudXNlU1JHQkJ1ZmZlcikhPW51bGw/dWU6ITEsVD0oc2U9aS5pbnRlcm5hbFRleHR1cmUpIT1udWxsP3NlOm51bGwpOkU9ISFpLHRoaXMuX25vTWlwbWFwPUUsdGhpcy5faW52ZXJ0WT1zPT09dm9pZCAwPyFmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWOnMsdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT1yLHRoaXMuX2J1ZmZlcj1vLHRoaXMuX2RlbGV0ZUJ1ZmZlcj1oLHRoaXMuX21pbWVUeXBlPXUsdGhpcy5fbG9hZGVyT3B0aW9ucz1mLHRoaXMuX2NyZWF0aW9uRmxhZ3M9ZCx0aGlzLl91c2VTUkdCQnVmZmVyPW0sdGhpcy5fZm9yY2VkRXh0ZW5zaW9uPV8sbCYmKHRoaXMuX2Zvcm1hdD1sKTtjb25zdCBiPXRoaXMuZ2V0U2NlbmUoKSxSPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFSKXJldHVybjtSLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCB5PSgpPT57dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2ludmVydFZTY2FsZSYmKHRoaXMudlNjYWxlKj0tMSx0aGlzLnZPZmZzZXQrPTEpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVIT09bnVsbCYmKHRoaXMud3JhcFU9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYhPT1udWxsJiYodGhpcy53cmFwVj10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVix0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUiE9PW51bGwmJih0aGlzLndyYXBSPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBSLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpKSx0aGlzLm9uTG9hZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25Mb2FkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksbiYmbigpLCF0aGlzLmlzQmxvY2tpbmcmJmImJmIucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSxEPShQZSxEZSk9Pnt0aGlzLl9sb2FkaW5nRXJyb3I9ITAsdGhpcy5fZXJyb3JPYmplY3Q9e21lc3NhZ2U6UGUsZXhjZXB0aW9uOkRlfSxhJiZhKFBlLERlKSxCLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfTtpZighdGhpcy51cmwpe3RoaXMuX2RlbGF5ZWRPbkxvYWQ9eSx0aGlzLl9kZWxheWVkT25FcnJvcj1EO3JldHVybn1pZih0aGlzLl90ZXh0dXJlPVQhPW51bGw/VDp0aGlzLl9nZXRGcm9tQ2FjaGUodGhpcy51cmwsRSxyLHRoaXMuX2ludmVydFksbSksdGhpcy5fdGV4dHVyZSlpZih0aGlzLl90ZXh0dXJlLmlzUmVhZHkpVmkuU2V0SW1tZWRpYXRlKCgpPT55KCkpO2Vsc2V7Y29uc3QgUGU9dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHkpO3RoaXMuX3RleHR1cmUub25FcnJvck9ic2VydmFibGUuYWRkKERlPT57dmFyIFplO0QoRGUubWVzc2FnZSxEZS5leGNlcHRpb24pLChaZT10aGlzLl90ZXh0dXJlKT09bnVsbHx8WmUub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZShQZSl9KX1lbHNlIGlmKCFifHwhYi51c2VEZWxheWVkVGV4dHVyZUxvYWRpbmcpe3RyeXt0aGlzLl90ZXh0dXJlPVIuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCxFLHRoaXMuX2ludmVydFksYixyLHksRCx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuX2Zvcm1hdCx0aGlzLl9mb3JjZWRFeHRlbnNpb24sdSxmLGQsbSl9Y2F0Y2goUGUpe3Rocm93IEQoImVycm9yIGxvYWRpbmciLFBlKSxQZX1oJiYodGhpcy5fYnVmZmVyPW51bGwpfWVsc2UgdGhpcy5kZWxheUxvYWRTdGF0ZT00LHRoaXMuX2RlbGF5ZWRPbkxvYWQ9eSx0aGlzLl9kZWxheWVkT25FcnJvcj1EfWdldCBub01pcG1hcCgpe3JldHVybiB0aGlzLl9ub01pcG1hcH1nZXQgbWltZVR5cGUoKXtyZXR1cm4gdGhpcy5fbWltZVR5cGV9c2V0IGlzQmxvY2tpbmcoZSl7dGhpcy5faXNCbG9ja2luZz1lfWdldCBpc0Jsb2NraW5nKCl7cmV0dXJuIHRoaXMuX2lzQmxvY2tpbmd9Z2V0IGludmVydFkoKXtyZXR1cm4gdGhpcy5faW52ZXJ0WX11cGRhdGVVUkwoZSx0PW51bGwsaSxzKXt0aGlzLnVybCYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuZ2V0U2NlbmUoKS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSksKCF0aGlzLm5hbWV8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpKSYmKHRoaXMubmFtZT1lKSx0aGlzLnVybD1lLHRoaXMuX2J1ZmZlcj10LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbj1zLHRoaXMuZGVsYXlMb2FkU3RhdGU9NCxpJiYodGhpcy5fZGVsYXllZE9uTG9hZD1pKSx0aGlzLmRlbGF5TG9hZCgpfWRlbGF5TG9hZCgpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT00KXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTshZXx8KHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9WaS5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT1lLmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSxlLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9X3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbihlLHQsaSxzKXtlKj10aGlzLl9jYWNoZWRVU2NhbGUsdCo9dGhpcy5fY2FjaGVkVlNjYWxlLGUtPXRoaXMudVJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFVTY2FsZSx0LT10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUsaS09dGhpcy53Um90YXRpb25DZW50ZXIsZy5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHMpLHMueCs9dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlK3RoaXMuX2NhY2hlZFVPZmZzZXQscy55Kz10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUrdGhpcy5fY2FjaGVkVk9mZnNldCxzLnorPXRoaXMud1JvdGF0aW9uQ2VudGVyfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGwmJnRoaXMudU9mZnNldD09PWUudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09ZS52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PWUudVNjYWxlJiZ0aGlzLnZTY2FsZT09PWUudlNjYWxlJiZ0aGlzLnVBbmc9PT1lLnVBbmcmJnRoaXMudkFuZz09PWUudkFuZyYmdGhpcy53QW5nPT09ZS53QW5nfWdldFRleHR1cmVNYXRyaXgoZT0xKXtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRVT2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT10aGlzLl9jYWNoZWRWT2Zmc2V0JiZ0aGlzLnVTY2FsZSplPT09dGhpcy5fY2FjaGVkVVNjYWxlJiZ0aGlzLnZTY2FsZT09PXRoaXMuX2NhY2hlZFZTY2FsZSYmdGhpcy51QW5nPT09dGhpcy5fY2FjaGVkVUFuZyYmdGhpcy52QW5nPT09dGhpcy5fY2FjaGVkVkFuZyYmdGhpcy53QW5nPT09dGhpcy5fY2FjaGVkV0FuZyYmdGhpcy51Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXImJnRoaXMudlJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyJiZ0aGlzLndSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlciYmdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT09PXRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFVTY2FsZT10aGlzLnVTY2FsZSplLHRoaXMuX2NhY2hlZFZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRVQW5nPXRoaXMudUFuZyx0aGlzLl9jYWNoZWRWQW5nPXRoaXMudkFuZyx0aGlzLl9jYWNoZWRXQW5nPXRoaXMud0FuZyx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9dGhpcy51Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPXRoaXMudlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj10aGlzLndSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT10aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtLCghdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8IXRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpJiYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD14Llplcm8oKSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4PW5ldyB4LHRoaXMuX3QwPWcuWmVybygpLHRoaXMuX3QxPWcuWmVybygpLHRoaXMuX3QyPWcuWmVybygpKSx4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy52QW5nLHRoaXMudUFuZyx0aGlzLndBbmcsdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCksdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT8oeC5UcmFuc2xhdGlvblRvUmVmKC10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLFAuTWF0cml4WzBdKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsUC5NYXRyaXhbMV0pLHguU2NhbGluZ1RvUmVmKHRoaXMuX2NhY2hlZFVTY2FsZSx0aGlzLl9jYWNoZWRWU2NhbGUsMCxQLk1hdHJpeFsyXSkseC5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldCwwLFAuTWF0cml4WzNdKSxQLk1hdHJpeFswXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKFAuTWF0cml4WzFdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihQLk1hdHJpeFsyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoUC5NYXRyaXhbM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzKDIsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxNF0sMSkpOih0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwwLDAsdGhpcy5fdDApLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigxLDAsMCx0aGlzLl90MSksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMSwwLHRoaXMuX3QyKSx0aGlzLl90MS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLHRoaXMuX3QyLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCkseC5Gcm9tVmFsdWVzVG9SZWYodGhpcy5fdDEueCx0aGlzLl90MS55LHRoaXMuX3QxLnosMCx0aGlzLl90Mi54LHRoaXMuX3QyLnksdGhpcy5fdDIueiwwLHRoaXMuX3QwLngsdGhpcy5fdDAueSx0aGlzLl90MC56LDAsMCwwLDAsMSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSk7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7cmV0dXJuIHQ/KHQubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmhhc1RleHR1cmUodGhpcykpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpOnRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtpZighZSlyZXR1cm4gdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeDtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRVT2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT10aGlzLl9jYWNoZWRWT2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXRoaXMuX2NhY2hlZFVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRWU2NhbGUmJnRoaXMuY29vcmRpbmF0ZXNNb2RlPT09dGhpcy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlKWlmKHRoaXMuY29vcmRpbmF0ZXNNb2RlPT09Qi5QUk9KRUNUSU9OX01PREUpe2lmKHRoaXMuX2NhY2hlZFByb2plY3Rpb25NYXRyaXhJZD09PWUuZ2V0UHJvamVjdGlvbk1hdHJpeCgpLnVwZGF0ZUZsYWcpcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9ZWxzZSByZXR1cm4gdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fHwodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD14Llplcm8oKSksdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXh8fCh0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeD14Llplcm8oKSk7Y29uc3QgdD10aGlzLl9jYWNoZWRDb29yZGluYXRlc01vZGUhPT10aGlzLmNvb3JkaW5hdGVzTW9kZTtzd2l0Y2godGhpcy5fY2FjaGVkVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldD10aGlzLnZPZmZzZXQsdGhpcy5fY2FjaGVkVVNjYWxlPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRDb29yZGluYXRlc01vZGU9dGhpcy5jb29yZGluYXRlc01vZGUsdGhpcy5jb29yZGluYXRlc01vZGUpe2Nhc2UgQi5QTEFOQVJfTU9ERTp7eC5JZGVudGl0eVRvUmVmKHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXhbMF09dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeFs1XT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzEyXT10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeFsxM109dGhpcy52T2Zmc2V0O2JyZWFrfWNhc2UgQi5QUk9KRUNUSU9OX01PREU6e3guRnJvbVZhbHVlc1RvUmVmKC41LDAsMCwwLDAsLS41LDAsMCwwLDAsMCwwLC41LC41LDEsMSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCk7Y29uc3QgaT1lLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9aS51cGRhdGVGbGFnLGkubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0OnguSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gdCYmZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuZ2V0QWN0aXZlVGV4dHVyZXMoKS5pbmRleE9mKHRoaXMpIT09LTEpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9Y2xvbmUoKXtjb25zdCBlPXtub01pcG1hcDp0aGlzLl9ub01pcG1hcCxpbnZlcnRZOnRoaXMuX2ludmVydFksc2FtcGxpbmdNb2RlOnRoaXMuc2FtcGxpbmdNb2RlLG9uTG9hZDp2b2lkIDAsb25FcnJvcjp2b2lkIDAsYnVmZmVyOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fYnVmZmVyOnZvaWQgMCxkZWxldGVCdWZmZXI6dGhpcy5fZGVsZXRlQnVmZmVyLGZvcm1hdDp0aGlzLnRleHR1cmVGb3JtYXQsbWltZVR5cGU6dGhpcy5taW1lVHlwZSxsb2FkZXJPcHRpb25zOnRoaXMuX2xvYWRlck9wdGlvbnMsY3JlYXRpb25GbGFnczp0aGlzLl9jcmVhdGlvbkZsYWdzLHVzZVNSR0JCdWZmZXI6dGhpcy5fdXNlU1JHQkJ1ZmZlcn07cmV0dXJuIHJlLkNsb25lKCgpPT5uZXcgQih0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUudXJsOm51bGwsdGhpcy5nZXRTY2VuZSgpLGUpLHRoaXMpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9dGhpcy5uYW1lO0IuU2VyaWFsaXplQnVmZmVyc3x8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikmJih0aGlzLm5hbWU9IiIpLHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTtjb25zdCB0PXN1cGVyLnNlcmlhbGl6ZSgpO3JldHVybiB0PygoQi5TZXJpYWxpemVCdWZmZXJzfHxCLkZvcmNlU2VyaWFsaXplQnVmZmVycykmJih0eXBlb2YgdGhpcy5fYnVmZmVyPT0ic3RyaW5nIiYmdGhpcy5fYnVmZmVyLnN1YnN0cigwLDUpPT09ImRhdGE6Ij8odC5iYXNlNjRTdHJpbmc9dGhpcy5fYnVmZmVyLHQubmFtZT10Lm5hbWUucmVwbGFjZSgiZGF0YToiLCIiKSk6dGhpcy51cmwmJnRoaXMudXJsLnN0YXJ0c1dpdGgoImRhdGE6IikmJnRoaXMuX2J1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dC5iYXNlNjRTdHJpbmc9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiK2pzKHRoaXMuX2J1ZmZlcik6KEIuRm9yY2VTZXJpYWxpemVCdWZmZXJzfHx0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiYmxvYjoiKXx8dGhpcy5fZm9yY2VTZXJpYWxpemUpJiYodC5iYXNlNjRTdHJpbmc9IXRoaXMuX2VuZ2luZXx8dGhpcy5fZW5naW5lLl9mZWF0dXJlcy5zdXBwb3J0U3luY1RleHR1cmVSZWFkP0xuKHRoaXMpOk5uKHRoaXMpKSksdC5pbnZlcnRZPXRoaXMuX2ludmVydFksdC5zYW1wbGluZ01vZGU9dGhpcy5zYW1wbGluZ01vZGUsdC5fY3JlYXRpb25GbGFncz10aGlzLl9jcmVhdGlvbkZsYWdzLHQuX3VzZVNSR0JCdWZmZXI9dGhpcy5fdXNlU1JHQkJ1ZmZlcix0aGlzLm5hbWU9ZSx0KTpudWxsfWdldENsYXNzTmFtZSgpe3JldHVybiJUZXh0dXJlIn1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHRoaXMub25Mb2FkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsfXN0YXRpYyBQYXJzZShlLHQsaSl7aWYoZS5jdXN0b21UeXBlKXtjb25zdCBhPVBpLkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSkuUGFyc2UoZSx0LGkpO3JldHVybiBlLnNhbXBsaW5nTW9kZSYmYS51cGRhdGVTYW1wbGluZ01vZGUmJmEuX3NhbXBsaW5nTW9kZSYmYS5fc2FtcGxpbmdNb2RlIT09ZS5zYW1wbGluZ01vZGUmJmEudXBkYXRlU2FtcGxpbmdNb2RlKGUuc2FtcGxpbmdNb2RlKSxhfWlmKGUuaXNDdWJlJiYhZS5pc1JlbmRlclRhcmdldClyZXR1cm4gQi5fQ3ViZVRleHR1cmVQYXJzZXIoZSx0LGkpO2lmKCFlLm5hbWUmJiFlLmlzUmVuZGVyVGFyZ2V0KXJldHVybiBudWxsO2NvbnN0IHM9bj0+e2lmKG4mJm4uX3RleHR1cmUmJihuLl90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsLG4uX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwsbi5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCksZS5zYW1wbGluZ01vZGUpe2NvbnN0IGE9ZS5zYW1wbGluZ01vZGU7biYmbi5zYW1wbGluZ01vZGUhPT1hJiZuLnVwZGF0ZVNhbXBsaW5nTW9kZShhKX1pZihuJiZlLmFuaW1hdGlvbnMpZm9yKGxldCBhPTA7YTxlLmFuaW1hdGlvbnMubGVuZ3RoO2ErKyl7Y29uc3Qgbz1lLmFuaW1hdGlvbnNbYV0saD1paSgiQkFCWUxPTi5BbmltYXRpb24iKTtoJiZuLmFuaW1hdGlvbnMucHVzaChoLlBhcnNlKG8pKX19O3JldHVybiByZS5QYXJzZSgoKT0+e3ZhciBhLG8saDtsZXQgbj0hMDtpZihlLm5vTWlwbWFwJiYobj0hMSksZS5taXJyb3JQbGFuZSl7Y29uc3QgbD1CLl9DcmVhdGVNaXJyb3IoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LG4pO3JldHVybiBsLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3QsbC5taXJyb3JQbGFuZT12dC5Gcm9tQXJyYXkoZS5taXJyb3JQbGFuZSkscyhsKSxsfWVsc2UgaWYoZS5pc1JlbmRlclRhcmdldCl7bGV0IGw9bnVsbDtpZihlLmlzQ3ViZSl7aWYodC5yZWZsZWN0aW9uUHJvYmVzKWZvcihsZXQgdT0wO3U8dC5yZWZsZWN0aW9uUHJvYmVzLmxlbmd0aDt1Kyspe2NvbnN0IGY9dC5yZWZsZWN0aW9uUHJvYmVzW3VdO2lmKGYubmFtZT09PWUubmFtZSlyZXR1cm4gZi5jdWJlVGV4dHVyZX19ZWxzZSBsPUIuX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LG4sKGE9ZS5fY3JlYXRpb25GbGFncykhPW51bGw/YTowKSxsLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3Q7cmV0dXJuIHMobCksbH1lbHNle2xldCBsO2lmKGUuYmFzZTY0U3RyaW5nKWw9Qi5DcmVhdGVGcm9tQmFzZTY0U3RyaW5nKGUuYmFzZTY0U3RyaW5nLGUuYmFzZTY0U3RyaW5nLHQsIW4sZS5pbnZlcnRZLGUuc2FtcGxpbmdNb2RlLCgpPT57cyhsKX0sKG89ZS5fY3JlYXRpb25GbGFncykhPW51bGw/bzowLChoPWUuX3VzZVNSR0JCdWZmZXIpIT1udWxsP2g6ITEpLGwubmFtZT1lLm5hbWU7ZWxzZXtsZXQgdTtlLm5hbWUmJmUubmFtZS5pbmRleE9mKCI6Ly8iKT4wP3U9ZS5uYW1lOnU9aStlLm5hbWUsZS51cmwmJihlLnVybC5zdGFydHNXaXRoKCJkYXRhOiIpfHxCLlVzZVNlcmlhbGl6ZWRVcmxJZkFueSkmJih1PWUudXJsKSxsPW5ldyBCKHUsdCwhbixlLmludmVydFksZS5zYW1wbGluZ01vZGUsKCk9PntzKGwpfSl9cmV0dXJuIGx9fSxlLHQpfXN0YXRpYyBDcmVhdGVGcm9tQmFzZTY0U3RyaW5nKGUsdCxpLHMscixuPUIuVFJJTElORUFSX1NBTVBMSU5HTU9ERSxhPW51bGwsbz1udWxsLGg9NSxsKXtyZXR1cm4gbmV3IEIoImRhdGE6Iit0LGkscyxyLG4sYSxvLGUsITEsaCx2b2lkIDAsdm9pZCAwLGwpfXN0YXRpYyBMb2FkRnJvbURhdGFTdHJpbmcoZSx0LGkscz0hMSxyLG49ITAsYT1CLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbz1udWxsLGg9bnVsbCxsPTUsdSl7cmV0dXJuIGUuc3Vic3RyKDAsNSkhPT0iZGF0YToiJiYoZT0iZGF0YToiK2UpLG5ldyBCKGUsaSxyLG4sYSxvLGgsdCxzLGwsdm9pZCAwLHZvaWQgMCx1KX19Qi5TZXJpYWxpemVCdWZmZXJzPSEwLEIuRm9yY2VTZXJpYWxpemVCdWZmZXJzPSExLEIuT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZT1uZXcgRixCLl9DdWJlVGV4dHVyZVBhcnNlcj0oYyxlLHQpPT57dGhyb3cgcSgiQ3ViZVRleHR1cmUiKX0sQi5fQ3JlYXRlTWlycm9yPShjLGUsdCxpKT0+e3Rocm93IHEoIk1pcnJvclRleHR1cmUiKX0sQi5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT0oYyxlLHQsaSxzKT0+e3Rocm93IHEoIlJlbmRlclRhcmdldFRleHR1cmUiKX0sQi5ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLEIuTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LEIuQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsQi5MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsQi5UUklMSU5FQVJfU0FNUExJTkdNT0RFPTMsQi5MSU5FQVJfTElORUFSX01JUExJTkVBUj0zLEIuTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxCLk5FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxCLk5FQVJFU1RfTElORUFSX01JUExJTkVBUj02LEIuTkVBUkVTVF9MSU5FQVI9NyxCLk5FQVJFU1RfTkVBUkVTVD0xLEIuTElORUFSX05FQVJFU1RfTUlQTkVBUkVTVD05LEIuTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLEIuTElORUFSX0xJTkVBUj0yLEIuTElORUFSX05FQVJFU1Q9MTIsQi5FWFBMSUNJVF9NT0RFPTAsQi5TUEhFUklDQUxfTU9ERT0xLEIuUExBTkFSX01PREU9MixCLkNVQklDX01PREU9MyxCLlBST0pFQ1RJT05fTU9ERT00LEIuU0tZQk9YX01PREU9NSxCLklOVkNVQklDX01PREU9NixCLkVRVUlSRUNUQU5HVUxBUl9NT0RFPTcsQi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERT04LEIuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxCLkNMQU1QX0FERFJFU1NNT0RFPTAsQi5XUkFQX0FERFJFU1NNT0RFPTEsQi5NSVJST1JfQUREUkVTU01PREU9MixCLlVzZVNlcmlhbGl6ZWRVcmxJZkFueT0hMSxTKFtNKCldLEIucHJvdG90eXBlLCJ1cmwiLHZvaWQgMCksUyhbTSgpXSxCLnByb3RvdHlwZSwidU9mZnNldCIsdm9pZCAwKSxTKFtNKCldLEIucHJvdG90eXBlLCJ2T2Zmc2V0Iix2b2lkIDApLFMoW00oKV0sQi5wcm90b3R5cGUsInVTY2FsZSIsdm9pZCAwKSxTKFtNKCldLEIucHJvdG90eXBlLCJ2U2NhbGUiLHZvaWQgMCksUyhbTSgpXSxCLnByb3RvdHlwZSwidUFuZyIsdm9pZCAwKSxTKFtNKCldLEIucHJvdG90eXBlLCJ2QW5nIix2b2lkIDApLFMoW00oKV0sQi5wcm90b3R5cGUsIndBbmciLHZvaWQgMCksUyhbTSgpXSxCLnByb3RvdHlwZSwidVJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFMoW00oKV0sQi5wcm90b3R5cGUsInZSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxTKFtNKCldLEIucHJvdG90eXBlLCJ3Um90YXRpb25DZW50ZXIiLHZvaWQgMCksUyhbTSgpXSxCLnByb3RvdHlwZSwiaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0iLHZvaWQgMCksUyhbTSgpXSxCLnByb3RvdHlwZSwiaXNCbG9ja2luZyIsbnVsbCksdHQoIkJBQllMT04uVGV4dHVyZSIsQikscmUuX1RleHR1cmVQYXJzZXI9Qi5QYXJzZTtjbGFzcyBCbntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuX2F0dGFjaG1lbnRzPW51bGwsdGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLHRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ITEsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPSExLHRoaXMuX2lzTXVsdGk9ZSx0aGlzLl9pc0N1YmU9dCx0aGlzLl9zaXplPWksdGhpcy5fZW5naW5lPXMsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCgpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWx9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl9pc0N1YmV9Z2V0IGlzTXVsdGkoKXtyZXR1cm4gdGhpcy5faXNNdWx0aX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMubGF5ZXJzPjB9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy53aWR0aH1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX3NpemUuaGVpZ2h0fHx0aGlzLl9zaXplfWdldCBsYXllcnMoKXtyZXR1cm4gdGhpcy5fc2l6ZS5sYXllcnN8fDB9Z2V0IHRleHR1cmUoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09bnVsbD92b2lkIDA6ZVswXSkhPW51bGw/dDpudWxsfWdldCB0ZXh0dXJlcygpe3JldHVybiB0aGlzLl90ZXh0dXJlc31nZXQgc2FtcGxlcygpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy50ZXh0dXJlKT09bnVsbD92b2lkIDA6ZS5zYW1wbGVzKSE9bnVsbD90OjF9c2V0U2FtcGxlcyhlLHQ9ITAsaT0hMSl7cmV0dXJuIHRoaXMuc2FtcGxlcz09PWUmJiFpP2U6dGhpcy5faXNNdWx0aT90aGlzLl9lbmdpbmUudXBkYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodGhpcyxlLHQpOnRoaXMuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodGhpcyxlKX1zZXRUZXh0dXJlcyhlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3RoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZpJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX1jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGU9MCx0PSEwLGk9ITEscz0xLHI9MTQpe3ZhciBuO3JldHVybihuPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT1udWxsfHxuLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9aSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2VuZ2luZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX3NpemUse2JpbGluZWFyRmlsdGVyaW5nOnQsY29tcGFyaXNvbkZ1bmN0aW9uOmUsZ2VuZXJhdGVTdGVuY2lsOmksaXNDdWJlOnRoaXMuX2lzQ3ViZSxzYW1wbGVzOnMsZGVwdGhUZXh0dXJlRm9ybWF0OnJ9LHRoaXMpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9X3NoYXJlRGVwdGgoZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9X3N3YXBBbmREaWUoZSl7dGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuX3N3YXBBbmREaWUoZSksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLmRpc3Bvc2UoITApfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXt2YXIgdCxpLHMscixuLGE7bGV0IGU9bnVsbDtpZih0aGlzLl9pc011bHRpKXtjb25zdCBvPXRoaXMudGV4dHVyZXM7aWYobyYmby5sZW5ndGg+MCl7bGV0IGg9ITEsbD1vLmxlbmd0aDtjb25zdCB1PW9bby5sZW5ndGgtMV0uX3NvdXJjZTsodT09PUJlLkRlcHRofHx1PT09QmUuRGVwdGhTdGVuY2lsKSYmKGg9ITAsbC0tKTtjb25zdCBmPVtdLGQ9W107Zm9yKGxldCBtPTA7bTxsOysrbSl7Y29uc3QgVD1vW21dO2YucHVzaChULnNhbXBsaW5nTW9kZSksZC5wdXNoKFQudHlwZSl9Y29uc3QgXz17c2FtcGxpbmdNb2RlczpmLGdlbmVyYXRlTWlwTWFwczpvWzBdLmdlbmVyYXRlTWlwTWFwcyxnZW5lcmF0ZURlcHRoQnVmZmVyOnRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOnRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixnZW5lcmF0ZURlcHRoVGV4dHVyZTpoLHR5cGVzOmQsdGV4dHVyZUNvdW50Omx9LEU9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fTtlPXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXBsZVJlbmRlclRhcmdldChFLF8pfX1lbHNle2NvbnN0IG89e307aWYoby5nZW5lcmF0ZURlcHRoQnVmZmVyPXRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsby5nZW5lcmF0ZU1pcE1hcHM9KGk9KHQ9dGhpcy50ZXh0dXJlKT09bnVsbD92b2lkIDA6dC5nZW5lcmF0ZU1pcE1hcHMpIT1udWxsP2k6ITEsby5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9dGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLG8uc2FtcGxpbmdNb2RlPShzPXRoaXMudGV4dHVyZSk9PW51bGw/dm9pZCAwOnMuc2FtcGxpbmdNb2RlLG8udHlwZT0ocj10aGlzLnRleHR1cmUpPT1udWxsP3ZvaWQgMDpyLnR5cGUsby5mb3JtYXQ9KG49dGhpcy50ZXh0dXJlKT09bnVsbD92b2lkIDA6bi5mb3JtYXQsdGhpcy5pc0N1YmUpZT10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy53aWR0aCxvKTtlbHNle2NvbnN0IGg9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LGxheWVyczp0aGlzLmlzMkRBcnJheT8oYT10aGlzLnRleHR1cmUpPT1udWxsP3ZvaWQgMDphLmRlcHRoOnZvaWQgMH07ZT10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShoLG8pfWUudGV4dHVyZS5pc1JlYWR5PSEwfXJldHVybiBlfV9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtpZih0aGlzLl90ZXh0dXJlcyYmZS5fdGV4dHVyZXMpZm9yKGxldCB0PTA7dDx0aGlzLl90ZXh0dXJlcy5sZW5ndGg7Kyt0KXRoaXMuX3RleHR1cmVzW3RdLl9zd2FwQW5kRGllKGUuX3RleHR1cmVzW3RdLCExKSxlLl90ZXh0dXJlc1t0XS5pc1JlYWR5PSEwO3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJih0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLl9zd2FwQW5kRGllKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmUuaXNSZWFkeT0hMCksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGx9X3JlYnVpbGQoKXtjb25zdCBlPXRoaXMuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpO2lmKCEhZSl7aWYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSl7Y29uc3QgdD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnNhbXBsaW5nTW9kZSxpPXQ9PT0yfHx0PT09M3x8dD09PTExO2UuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLl9jb21wYXJpc29uRnVuY3Rpb24saSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGVzKX10aGlzLnNhbXBsZXM+MSYmZS5zZXRTYW1wbGVzKHRoaXMuc2FtcGxlcyksZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIodGhpcyksZS5kaXNwb3NlKCl9fXJlbGVhc2VUZXh0dXJlcygpe3ZhciBlO2lmKHRoaXMuX3RleHR1cmVzKWZvcihsZXQgdD0wO3Q8KChlPXRoaXMuX3RleHR1cmVzKT09bnVsbD92b2lkIDA6ZS5sZW5ndGgpOysrdCl0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXM9bnVsbH1kaXNwb3NlKGU9ITEpe3ZhciB0O2V8fCgodD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09bnVsbHx8dC5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsLHRoaXMucmVsZWFzZVRleHR1cmVzKCkpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIodGhpcyl9fWNsYXNzIFVuIGV4dGVuZHMgQm57Y29uc3RydWN0b3IoZSx0LGkscyxyKXtzdXBlcihlLHQsaSxzKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLHRoaXMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwsdGhpcy5fY29udGV4dD1yfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXtsZXQgZT1udWxsO3JldHVybiB0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PyhlPXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXZpZXdSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUudGV4dHVyZS5pc1JlYWR5PSEwKTplPXN1cGVyLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKSxlfV9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSksZS5fZnJhbWVidWZmZXI9dGhpcy5fZnJhbWVidWZmZXIsZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcixlLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fTVNBQUZyYW1lYnVmZmVyLGUuX2NvbG9yVGV4dHVyZUFycmF5PXRoaXMuX2NvbG9yVGV4dHVyZUFycmF5LGUuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXksdGhpcy5fZnJhbWVidWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcj10aGlzLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbH1fc2hhcmVEZXB0aChlKXtzdXBlci5fc2hhcmVEZXB0aChlKTtjb25zdCB0PXRoaXMuX2NvbnRleHQsaT10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIscz1lLl9mcmFtZWJ1ZmZlcjtlLl9kZXB0aFN0ZW5jaWxCdWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKGUuX2RlcHRoU3RlbmNpbEJ1ZmZlciksZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcix0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIocyksdC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHQuREVQVEhfQVRUQUNITUVOVCx0LlJFTkRFUkJVRkZFUixpKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9X2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdD0wLGk9LTEscz0wKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXJldHVybjtjb25zdCByPXRoaXMuX2NvbnRleHQsbj10aGlzLl9mcmFtZWJ1ZmZlcixhPXRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lYnVmZmVyO3RoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihuKTtjb25zdCBvPXJbdGhpcy5fZW5naW5lLndlYkdMVmVyc2lvbj4xPyJDT0xPUl9BVFRBQ0hNRU5UIit0OiJDT0xPUl9BVFRBQ0hNRU5UIit0KyJfV0VCR0wiXSxoPWkhPT0tMT9yLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpOnIuVEVYVFVSRV8yRDtyLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHIuRlJBTUVCVUZGRVIsbyxoLGUuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UscyksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpfXNldFRleHR1cmUoZSx0PTAsaT0hMCl7c3VwZXIuc2V0VGV4dHVyZShlLHQsaSksdGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoZSx0KX1kaXNwb3NlKGU9ITEpe2NvbnN0IHQ9dGhpcy5fY29udGV4dDtlfHwodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkpLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsKSksdGhpcy5fZnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2ZyYW1lYnVmZmVyKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSx0aGlzLl9NU0FBRnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX01TQUFGcmFtZWJ1ZmZlciksdGhpcy5fTVNBQUZyYW1lYnVmZmVyPW51bGwpLHN1cGVyLmRpc3Bvc2UoZSl9fWxlLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPW5ldyBVbihjLGUsdCx0aGlzLHRoaXMuX2dsKTtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnB1c2goaSksaX0sbGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oYyxlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMSxjKSxpPXt9O2UhPT12b2lkIDAmJnR5cGVvZiBlPT0ib2JqZWN0Ij8oaS5nZW5lcmF0ZURlcHRoQnVmZmVyPSEhZS5nZW5lcmF0ZURlcHRoQnVmZmVyLGkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSEhZS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsaS5ub0NvbG9yVGFyZ2V0PSEhZS5ub0NvbG9yVGFyZ2V0KTooaS5nZW5lcmF0ZURlcHRoQnVmZmVyPSEwLGkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLGkubm9Db2xvclRhcmdldD0hMSk7Y29uc3Qgcz1pLm5vQ29sb3JUYXJnZXQ/bnVsbDp0aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoYyxlLCEwLEJlLlJlbmRlclRhcmdldCkscj1jLndpZHRofHxjLG49Yy5oZWlnaHR8fGMsYT10aGlzLl9jdXJyZW50RnJhbWVidWZmZXIsbz10aGlzLl9nbCxoPW8uY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihoKSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoISFpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixpLmdlbmVyYXRlRGVwdGhCdWZmZXIscixuKSxzJiYhcy5pczJEQXJyYXkmJm8uZnJhbWVidWZmZXJUZXh0dXJlMkQoby5GUkFNRUJVRkZFUixvLkNPTE9SX0FUVEFDSE1FTlQwLG8uVEVYVFVSRV8yRCxzLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLDApLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYSksdC5fZnJhbWVidWZmZXI9aCx0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ISFpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix0LnNldFRleHR1cmVzKHMpLHR9LGxlLnByb3RvdHlwZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGMsZSx0KXtpZihlLmlzQ3ViZSl7Y29uc3QgaT1jLndpZHRofHxjO3JldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxDdWJlVGV4dHVyZShpLGUsdCl9ZWxzZSByZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShjLGUsdCl9LGxlLnByb3RvdHlwZS5fY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT10aGlzLl9nbCxzPWMubGF5ZXJzfHwwLHI9cyE9PTA/aS5URVhUVVJFXzJEX0FSUkFZOmkuVEVYVFVSRV8yRCxuPW5ldyB3dCh0aGlzLEJlLkRlcHRoU3RlbmNpbCk7aWYoIXRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uKXJldHVybiB3LkVycm9yKCJEZXB0aCB0ZXh0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyIG9yIGhhcmR3YXJlLiIpLG47Y29uc3QgYT17YmlsaW5lYXJGaWx0ZXJpbmc6ITEsY29tcGFyaXNvbkZ1bmN0aW9uOjAsZ2VuZXJhdGVTdGVuY2lsOiExLC4uLmV9O2lmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixuLCEwKSx0aGlzLl9zZXR1cERlcHRoU3RlbmNpbFRleHR1cmUobixjLGEuZ2VuZXJhdGVTdGVuY2lsLGEuY29tcGFyaXNvbkZ1bmN0aW9uPT09MD8hMTphLmJpbGluZWFyRmlsdGVyaW5nLGEuY29tcGFyaXNvbkZ1bmN0aW9uKSxhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PXZvaWQgMCl7aWYoYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNSYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNiYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xMyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNCYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xOClyZXR1cm4gdy5FcnJvcigiRGVwdGggdGV4dHVyZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4iKSxuO24uZm9ybWF0PWEuZGVwdGhUZXh0dXJlRm9ybWF0fWVsc2Ugbi5mb3JtYXQ9YS5nZW5lcmF0ZVN0ZW5jaWw/MTM6MTY7Y29uc3Qgbz1uLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzfHxuLmZvcm1hdD09PTE4O3QuX2RlcHRoU3RlbmNpbFRleHR1cmU9bix0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9bztsZXQgaD1pLlVOU0lHTkVEX0lOVDtuLmZvcm1hdD09PTE1P2g9aS5VTlNJR05FRF9TSE9SVDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP2g9aS5VTlNJR05FRF9JTlRfMjRfODpuLmZvcm1hdD09PTE0P2g9aS5GTE9BVDpuLmZvcm1hdD09PTE4JiYoaD1pLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVik7Y29uc3QgbD1vP2kuREVQVEhfU1RFTkNJTDppLkRFUFRIX0NPTVBPTkVOVDtsZXQgdT1sO3RoaXMud2ViR0xWZXJzaW9uPjEmJihuLmZvcm1hdD09PTE1P3U9aS5ERVBUSF9DT01QT05FTlQxNjpuLmZvcm1hdD09PTE2P3U9aS5ERVBUSF9DT01QT05FTlQyNDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP3U9aS5ERVBUSDI0X1NURU5DSUw4Om4uZm9ybWF0PT09MTQ/dT1pLkRFUFRIX0NPTVBPTkVOVDMyRjpuLmZvcm1hdD09PTE4JiYodT1pLkRFUFRIMzJGX1NURU5DSUw4KSksbi5pczJEQXJyYXk/aS50ZXhJbWFnZTNEKHIsMCx1LG4ud2lkdGgsbi5oZWlnaHQscywwLGwsaCxudWxsKTppLnRleEltYWdlMkQociwwLHUsbi53aWR0aCxuLmhlaWdodCwwLGwsaCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCksdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gobik7Y29uc3QgZj10O2lmKGYuX2RlcHRoU3RlbmNpbEJ1ZmZlcil7Y29uc3QgZD10aGlzLl9jdXJyZW50RnJhbWVidWZmZXI7dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmLl9mcmFtZWJ1ZmZlciksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaS5GUkFNRUJVRkZFUixpLkRFUFRIX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZCksaS5kZWxldGVSZW5kZXJidWZmZXIoZi5fZGVwdGhTdGVuY2lsQnVmZmVyKSxmLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbH1yZXR1cm4gbn0sbGUucHJvdG90eXBlLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudD1mdW5jdGlvbihjLGUpe2lmKHRoaXMud2ViR0xWZXJzaW9uPDJ8fCFjfHwhYy50ZXh0dXJlKXJldHVybiAxO2lmKGMuc2FtcGxlcz09PWUpcmV0dXJuIGU7Y29uc3QgdD10aGlzLl9nbDtlPU1hdGgubWluKGUsdGhpcy5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksYy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLGMuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKSxjLl9NU0FBRnJhbWVidWZmZXI9bnVsbCk7Y29uc3QgaT1jLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZTtpZihpLl9NU0FBUmVuZGVyQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoaS5fTVNBQVJlbmRlckJ1ZmZlciksaS5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSxlPjEmJnQucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKXtjb25zdCBzPXQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2MuX01TQUFGcmFtZWJ1ZmZlcj1zLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKTtjb25zdCByPXRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihjLnRleHR1cmUud2lkdGgsYy50ZXh0dXJlLmhlaWdodCxlLC0xLHRoaXMuX2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChjLnRleHR1cmUudHlwZSksdC5DT0xPUl9BVFRBQ0hNRU5UMCwhMSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtpLl9NU0FBUmVuZGVyQnVmZmVyPXJ9ZWxzZSB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGMuX2ZyYW1lYnVmZmVyKTtyZXR1cm4gYy50ZXh0dXJlLnNhbXBsZXM9ZSxjLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoYy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsYy50ZXh0dXJlLndpZHRoLGMudGV4dHVyZS5oZWlnaHQsZSksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSxlfSxsZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmU9ZnVuY3Rpb24oYyxlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMCxjKSxpPXtnZW5lcmF0ZU1pcE1hcHM6ITAsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjohMCxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6ITEsdHlwZTowLHNhbXBsaW5nTW9kZTozLGZvcm1hdDo1LC4uLmV9O2kuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlciYmaS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsKGkudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8aS50eXBlPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihpLnNhbXBsaW5nTW9kZT0xKTtjb25zdCBzPXRoaXMuX2dsLHI9bmV3IHd0KHRoaXMsQmUuUmVuZGVyVGFyZ2V0KTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMuVEVYVFVSRV9DVUJFX01BUCxyLCEwKTtjb25zdCBuPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhpLnNhbXBsaW5nTW9kZSxpLmdlbmVyYXRlTWlwTWFwcyk7aS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoaS50eXBlPTAsdy5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gQ3ViZSByZW5kZXIgdGFyZ2V0IGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTkVTSUdORURfQllURSB0eXBlIikpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX01BR19GSUxURVIsbi5tYWcpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX01JTl9GSUxURVIsbi5taW4pLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX1dSQVBfUyxzLkNMQU1QX1RPX0VER0UpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX1dSQVBfVCxzLkNMQU1QX1RPX0VER0UpO2ZvcihsZXQgbz0wO288NjtvKyspcy50ZXhJbWFnZTJEKHMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28sMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChpLnR5cGUsaS5mb3JtYXQpLGMsYywwLHRoaXMuX2dldEludGVybmFsRm9ybWF0KGkuZm9ybWF0KSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGkudHlwZSksbnVsbCk7Y29uc3QgYT1zLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYSksdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcixjLGMpLGkuZ2VuZXJhdGVNaXBNYXBzJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0Ll9mcmFtZWJ1ZmZlcj1hLHQuX2dlbmVyYXRlRGVwdGhCdWZmZXI9aS5nZW5lcmF0ZURlcHRoQnVmZmVyLHQuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1pLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLndpZHRoPWMsci5oZWlnaHQ9YyxyLmlzUmVhZHk9ITAsci5pc0N1YmU9ITAsci5zYW1wbGVzPTEsci5nZW5lcmF0ZU1pcE1hcHM9aS5nZW5lcmF0ZU1pcE1hcHMsci5zYW1wbGluZ01vZGU9aS5zYW1wbGluZ01vZGUsci50eXBlPWkudHlwZSxyLmZvcm1hdD1pLmZvcm1hdCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChyKSx0LnNldFRleHR1cmVzKHIpLHR9O2NsYXNzIGR0IGV4dGVuZHMgQntjb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITAsbj0wLGE9ITEsbz1CLlRSSUxJTkVBUl9TQU1QTElOR01PREUsaD0hMCxsPSExLHU9ITEsZj01LGQ9ITEsXyxFLG09ITEsVD0hMSl7dmFyIFI7aWYoc3VwZXIobnVsbCxpLCFzLHZvaWQgMCxvLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxmKSx0aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWRPYnNlcnZlcj1udWxsLHRoaXMucmVuZGVyUGFydGljbGVzPSEwLHRoaXMucmVuZGVyU3ByaXRlcz0hMSx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSExLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9jbGVhcmVkPSExLHRoaXMuc2tpcEluaXRpYWxDbGVhcj0hMSx0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xLHRoaXMuX3JlZnJlc2hSYXRlPTEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2NhblJlc2NhbGU9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5ib3VuZGluZ0JveFBvc2l0aW9uPWcuWmVybygpLGk9dGhpcy5nZXRTY2VuZSgpLCFpKXJldHVybjtjb25zdCBiPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLl9zdGFydE9ic2VydmluZ1JlbmRlckxpc3RFdmVudHMoKSx0aGlzLl9jb29yZGluYXRlc01vZGU9Qi5QUk9KRUNUSU9OX01PREUsdGhpcy5yZW5kZXJMaXN0PW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSEwLHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyPXQsdGhpcy5fcmVuZGVyUGFzc0lkcz1bXSx0aGlzLl9pc0N1YmVEYXRhPWEsdGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIodCksdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1swXSx0aGlzLl9yZXNpemVPYnNlcnZlcj1iLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoKCk9Pnt9KSx0aGlzLl9nZW5lcmF0ZU1pcE1hcHM9ISFzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW89cix0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBqZShpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSEwLCF1JiYodGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucz17Z2VuZXJhdGVNaXBNYXBzOnMsdHlwZTpuLGZvcm1hdDooUj10aGlzLl9mb3JtYXQpIT1udWxsP1I6dm9pZCAwLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxnZW5lcmF0ZURlcHRoQnVmZmVyOmgsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOmwsc2FtcGxlczpfLGNyZWF0aW9uRmxhZ3M6RSxub0NvbG9yVGFyZ2V0Om0sdXNlU1JHQkJ1ZmZlcjpUfSx0aGlzLnNhbXBsaW5nTW9kZT09PUIuTkVBUkVTVF9TQU1QTElOR01PREUmJih0aGlzLndyYXBVPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy53cmFwVj1CLkNMQU1QX0FERFJFU1NNT0RFKSxkfHwoYT8odGhpcy5fcmVuZGVyVGFyZ2V0PWkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy5nZXRSZW5kZXJTaXplKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5jb29yZGluYXRlc01vZGU9Qi5JTlZDVUJJQ19NT0RFLHRoaXMuX3RleHR1cmVNYXRyaXg9eC5JZGVudGl0eSgpKTp0aGlzLl9yZW5kZXJUYXJnZXQ9aS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSxfIT09dm9pZCAwJiYodGhpcy5zYW1wbGVzPV8pKSl9Z2V0IHJlbmRlckxpc3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyTGlzdH1fc3RhcnRPYnNlcnZpbmdSZW5kZXJMaXN0RXZlbnRzKCl7dGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWRPYnNlcnZlcj10aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZE9ic2VydmFibGUuYWRkKCh7dGFyZ2V0OmUscHJldmlvdXNMZW5ndGg6dH0pPT57dmFyIGk7ZSYmdCYmKGUubGVuZ3RoPjAmJnQ9PT0wfHxlLmxlbmd0aD09PTAmJnQ+MCkmJigoaT10aGlzLmdldFNjZW5lKCkpPT1udWxsfHxpLm1lc2hlcy5mb3JFYWNoKHM9PntzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9KSl9KX1fc3RvcE9ic2VydmluZ1JlbmRlckxpc3RFdmVudHMoKXt0aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3JlbmRlckxpc3RIYXNDaGFuZ2VkT2JzZXJ2ZXIpfXNldCByZW5kZXJMaXN0KGUpe3RoaXMuX3JlbmRlckxpc3Q9QWUuTWFrZU9ic2VydmFibGVBcnJheSh0aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZE9ic2VydmFibGUsZSl9Z2V0IHBvc3RQcm9jZXNzZXMoKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc31nZXQgX3ByZVBhc3NFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmVuYWJsZWR9c2V0IG9uQWZ0ZXJVbmJpbmQoZSl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ2xlYXIoZSl7dGhpcy5fb25DbGVhck9ic2VydmVyJiZ0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNsZWFyT2JzZXJ2ZXIpLHRoaXMuX29uQ2xlYXJPYnNlcnZlcj10aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgcmVuZGVyUGFzc0lkcygpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfWdldCBjdXJyZW50UmVmcmVzaElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWR9c2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KXtsZXQgaTtBcnJheS5pc0FycmF5KGUpP2k9ZTppPVtlXTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoOysrcylmb3IobGV0IHI9MDtyPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcilpW3NdLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9yZW5kZXJQYXNzSWRzW3JdLHQhPT12b2lkIDA/QXJyYXkuaXNBcnJheSh0KT90W3JdOnQ6dm9pZCAwKX1nZXQgcmVuZGVyVGFyZ2V0T3B0aW9ucygpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zfWdldCByZW5kZXJUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0fV9vblJhdGlvUmVzY2FsZSgpe3RoaXMuX3NpemVSYXRpbyYmdGhpcy5yZXNpemUodGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXIpfXNldCBib3VuZGluZ0JveFNpemUoZSl7aWYodGhpcy5fYm91bmRpbmdCb3hTaXplJiZ0aGlzLl9ib3VuZGluZ0JveFNpemUuZXF1YWxzKGUpKXJldHVybjt0aGlzLl9ib3VuZGluZ0JveFNpemU9ZTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTt0JiZ0Lm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfWdldCBib3VuZGluZ0JveFNpemUoKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCb3hTaXplfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT1udWxsP3ZvaWQgMDplLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKSE9bnVsbD90Om51bGx9Y3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlPTAsdD0hMCxpPSExLHM9MSxyPTE0KXt2YXIgbjsobj10aGlzLl9yZW5kZXJUYXJnZXQpPT1udWxsfHxuLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyxyKX1fcmVsZWFzZVJlbmRlclBhc3NJZCgpe2lmKHRoaXMuX3NjZW5lKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7Kyt0KWUucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLl9yZW5kZXJQYXNzSWRzW3RdKX10aGlzLl9yZW5kZXJQYXNzSWRzPVtdfV9jcmVhdGVSZW5kZXJQYXNzSWQoKXt0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCk7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX2lzQ3ViZURhdGE/Njp0aGlzLmdldFJlbmRlckxheWVycygpfHwxO2ZvcihsZXQgaT0wO2k8dDsrK2kpdGhpcy5fcmVuZGVyUGFzc0lkc1tpXT1lLmNyZWF0ZVJlbmRlclBhc3NJZChgUmVuZGVyVGFyZ2V0VGV4dHVyZSAtICR7dGhpcy5uYW1lfSMke2l9YCl9X3Byb2Nlc3NTaXplUGFyYW1ldGVyKGUpe2lmKGUucmF0aW8pe3RoaXMuX3NpemVSYXRpbz1lLnJhdGlvO2NvbnN0IHQ9dGhpcy5fZ2V0RW5naW5lKCk7dGhpcy5fc2l6ZT17d2lkdGg6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24odC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX3NpemVSYXRpbyksaGVpZ2h0OnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHQuZ2V0UmVuZGVySGVpZ2h0KCksdGhpcy5fc2l6ZVJhdGlvKX19ZWxzZSB0aGlzLl9zaXplPWU7dGhpcy5fY3JlYXRlUmVuZGVyUGFzc0lkKCl9Z2V0IHNhbXBsZXMoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3JlbmRlclRhcmdldCk9PW51bGw/dm9pZCAwOmUuc2FtcGxlcykhPW51bGw/dDp0aGlzLl9zYW1wbGVzfXNldCBzYW1wbGVzKGUpe3RoaXMuX3JlbmRlclRhcmdldCYmKHRoaXMuX3NhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0LnNldFNhbXBsZXMoZSkpfXJlc2V0UmVmcmVzaENvdW50ZXIoKXt0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xfWdldCByZWZyZXNoUmF0ZSgpe3JldHVybiB0aGlzLl9yZWZyZXNoUmF0ZX1zZXQgcmVmcmVzaFJhdGUoZSl7dGhpcy5fcmVmcmVzaFJhdGU9ZSx0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKX1hZGRQb3N0UHJvY2VzcyhlKXtpZighdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtpZighdClyZXR1cm47dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBaaSh0KSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX10aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2goZSksdGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITF9Y2xlYXJQb3N0UHJvY2Vzc2VzKGU9ITEpe2lmKCEhdGhpcy5fcG9zdFByb2Nlc3Nlcyl7aWYoZSlmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKXQuZGlzcG9zZSgpO3RoaXMuX3Bvc3RQcm9jZXNzZXM9W119fXJlbW92ZVBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc2VzKXJldHVybjtjb25zdCB0PXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKTt0IT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjAmJih0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMSkpfV9zaG91bGRSZW5kZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZD09PS0xPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOnRoaXMucmVmcmVzaFJhdGU9PT10aGlzLl9jdXJyZW50UmVmcmVzaElkPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOih0aGlzLl9jdXJyZW50UmVmcmVzaElkKyssITEpfWdldFJlbmRlclNpemUoKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCgpfWdldFJlbmRlcldpZHRoKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS53aWR0aDp0aGlzLl9zaXplfWdldFJlbmRlckhlaWdodCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUuaGVpZ2h0OnRoaXMuX3NpemV9Z2V0UmVuZGVyTGF5ZXJzKCl7Y29uc3QgZT10aGlzLl9zaXplLmxheWVycztyZXR1cm4gZXx8MH1kaXNhYmxlUmVzY2FsaW5nKCl7dGhpcy5fY2FuUmVzY2FsZT0hMX1nZXQgY2FuUmVzY2FsZSgpe3JldHVybiB0aGlzLl9jYW5SZXNjYWxlfXNjYWxlKGUpe2NvbnN0IHQ9TWF0aC5tYXgoMSx0aGlzLmdldFJlbmRlclNpemUoKSplKTt0aGlzLnJlc2l6ZSh0KX1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe3JldHVybiB0aGlzLmlzQ3ViZT90aGlzLl90ZXh0dXJlTWF0cml4OnN1cGVyLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl9cmVzaXplKGUpe3ZhciBzO2NvbnN0IHQ9dGhpcy5pc0N1YmU7KHM9dGhpcy5fcmVuZGVyVGFyZ2V0KT09bnVsbHx8cy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGw7Y29uc3QgaT10aGlzLmdldFNjZW5lKCk7IWl8fCh0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlKSx0P3RoaXMuX3JlbmRlclRhcmdldD1pLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpOnRoaXMuX3JlbmRlclRhcmdldD1pLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfXJlbmRlcihlPSExLHQ9ITEpe3RoaXMuX3JlbmRlcihlLHQpfWlzUmVhZHlGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fcmVuZGVyKCExLCExLCEwKX1fcmVuZGVyKGU9ITEsdD0hMSxpPSExKXt2YXIgbDtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZighcylyZXR1cm4gaTtjb25zdCByPXMuZ2V0RW5naW5lKCk7aWYodGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzIT09dm9pZCAwJiYoZT10aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMpLHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0KXt0aGlzLnJlbmRlckxpc3Q9W107Zm9yKGxldCB1PTA7dTx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdC5sZW5ndGg7dSsrKXtjb25zdCBmPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLGQ9cy5nZXRNZXNoQnlJZChmKTtkJiZ0aGlzLnJlbmRlckxpc3QucHVzaChkKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTtjb25zdCB1PXRoaXMuZ2V0U2NlbmUoKTtpZighdSlyZXR1cm4gaTtjb25zdCBmPXUubWVzaGVzO2ZvcihsZXQgZD0wO2Q8Zi5sZW5ndGg7ZCsrKXtjb25zdCBfPWZbZF07dGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKF8pJiZ0aGlzLnJlbmRlckxpc3QucHVzaChfKX19Y29uc3Qgbj1yLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBhPShsPXRoaXMuYWN0aXZlQ2FtZXJhKSE9bnVsbD9sOnMuYWN0aXZlQ2FtZXJhLG89cy5hY3RpdmVDYW1lcmE7YSYmKGEhPT1zLmFjdGl2ZUNhbWVyYSYmKHMuc2V0VHJhbnNmb3JtTWF0cml4KGEuZ2V0Vmlld01hdHJpeCgpLGEuZ2V0UHJvamVjdGlvbk1hdHJpeCghMCkpLHMuYWN0aXZlQ2FtZXJhPWEpLHIuc2V0Vmlld3BvcnQoYS52aWV3cG9ydCx0aGlzLmdldFJlbmRlcldpZHRoKCksdGhpcy5nZXRSZW5kZXJIZWlnaHQoKSkpLHRoaXMuX2RlZmF1bHRSZW5kZXJMaXN0UHJlcGFyZWQ9ITE7bGV0IGg9aTtpZihpKXtzLmdldFZpZXdNYXRyaXgoKXx8cy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKTtjb25zdCB1PXRoaXMuaXMyREFycmF5P3RoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk6dGhpcy5pc0N1YmU/NjoxO2ZvcihsZXQgZj0wO2Y8dSYmaDtmKyspe2xldCBkPW51bGw7Y29uc3QgXz10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OnMuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSxFPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOnMuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3IuY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW2ZdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhmKSx0aGlzLmdldEN1c3RvbVJlbmRlckxpc3QmJihkPXRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdChmLF8sRSkpLGR8fChkPV8pLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKTtmb3IobGV0IG09MDttPGQubGVuZ3RoJiZoOysrbSl7Y29uc3QgVD1kW21dO2lmKCEoIVQuaXNFbmFibGVkKCl8fFQuaXNCbG9ja2VkfHwhVC5pc1Zpc2libGV8fCFULnN1Yk1lc2hlcykpe2lmKHRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKXtpZighdGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24oVCx0aGlzLnJlZnJlc2hSYXRlKSl7aD0hMTticmVha319ZWxzZSBpZighVC5pc1JlYWR5KCEwKSl7aD0hMTticmVha319fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpfX1lbHNlIGlmKHRoaXMuaXMyREFycmF5KWZvcihsZXQgdT0wO3U8dGhpcy5nZXRSZW5kZXJMYXllcnMoKTt1KyspdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCxlLHQsdSxhKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSBpZih0aGlzLmlzQ3ViZSlmb3IobGV0IHU9MDt1PDY7dSsrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KHUsZSx0LHZvaWQgMCxhKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSB0aGlzLl9yZW5kZXJUb1RhcmdldCgwLGUsdCx2b2lkIDAsYSk7cmV0dXJuIHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHIuY3VycmVudFJlbmRlclBhc3NJZD1uLG8mJihzLmFjdGl2ZUNhbWVyYT1vLChzLmdldEVuZ2luZSgpLnNjZW5lcy5sZW5ndGg+MXx8dGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhIT09cy5hY3RpdmVDYW1lcmEpJiZzLnNldFRyYW5zZm9ybU1hdHJpeChzLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCkscy5hY3RpdmVDYW1lcmEuZ2V0UHJvamVjdGlvbk1hdHJpeCghMCkpLHIuc2V0Vmlld3BvcnQocy5hY3RpdmVDYW1lcmEudmlld3BvcnQpKSxzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxofV9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbihlLHQpe2NvbnN0IHM9ZSp0LHI9Qy5OZWFyZXN0UE9UKHMrMTI4KjEyOC8oMTI4K3MpKTtyZXR1cm4gTWF0aC5taW4oQy5GbG9vclBPVChlKSxyKX1fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXIoZSx0LGkscyl7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuO3RoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKTtjb25zdCBuPXIuZ2V0UmVuZGVySWQoKTtmb3IobGV0IGE9MDthPHQ7YSsrKXtjb25zdCBvPWVbYV07aWYobyYmIW8uaXNCbG9ja2VkKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKG8sdGhpcy5yZWZyZXNoUmF0ZSkpe3RoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpO2NvbnRpbnVlfX1lbHNlIGlmKCFvLmlzUmVhZHkodGhpcy5yZWZyZXNoUmF0ZT09PTApKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX1pZighby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGUmJnIuYWN0aXZlQ2FtZXJhJiYoby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRD1yLmN1c3RvbUxPRFNlbGVjdG9yP3IuY3VzdG9tTE9EU2VsZWN0b3Iobyx0aGlzLmFjdGl2ZUNhbWVyYXx8ci5hY3RpdmVDYW1lcmEpOm8uZ2V0TE9EKHRoaXMuYWN0aXZlQ2FtZXJhfHxyLmFjdGl2ZUNhbWVyYSksby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITApLCFvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EKWNvbnRpbnVlO2xldCBoPW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q7aC5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcobik7bGV0IGw7aWYocyYmaT9sPShvLmxheWVyTWFzayZpLmxheWVyTWFzayk9PT0wOmw9ITEsby5pc0VuYWJsZWQoKSYmby5pc1Zpc2libGUmJm8uc3ViTWVzaGVzJiYhbCYmKGghPT1vJiZoLl9hY3RpdmF0ZShuLCEwKSxvLl9hY3RpdmF0ZShuLCEwKSYmby5zdWJNZXNoZXMubGVuZ3RoKSl7by5pc0FuSW5zdGFuY2U/by5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaCYmKGg9byk6aC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSxoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMDtmb3IobGV0IHU9MDt1PGguc3ViTWVzaGVzLmxlbmd0aDt1Kyspe2NvbnN0IGY9aC5zdWJNZXNoZXNbdV07dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaChmLGgpfX19fWZvcihsZXQgYT0wO2E8ci5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz1yLnBhcnRpY2xlU3lzdGVtc1thXSxoPW8uZW1pdHRlcjshby5pc1N0YXJ0ZWQoKXx8IWh8fCFoLnBvc2l0aW9ufHwhaC5pc0VuYWJsZWQoKXx8ZS5pbmRleE9mKGgpPj0wJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoUGFydGljbGVzKG8pfX1fYmluZEZyYW1lQnVmZmVyKGU9MCx0PTApe2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpO2lmKCFpKXJldHVybjtjb25zdCBzPWkuZ2V0RW5naW5lKCk7dGhpcy5fcmVuZGVyVGFyZ2V0JiZzLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmU/ZTp2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0LDAsdCl9X3VuYmluZEZyYW1lQnVmZmVyKGUsdCl7IXRoaXMuX3JlbmRlclRhcmdldHx8ZS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmUsKCk9Pnt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KX0pfV9wcmVwYXJlRnJhbWUoZSx0LGkscyl7dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyP3RoaXMuX3ByZVBhc3NFbmFibGVkfHx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSh0aGlzLl90ZXh0dXJlLHRoaXMuX3Bvc3RQcm9jZXNzZXMpOighc3x8IWUucG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSkpJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodCxpKX1fcmVuZGVyVG9UYXJnZXQoZSx0LGkscz0wLHI9bnVsbCl7dmFyIGgsbCx1LGYsZCxfO2NvbnN0IG49dGhpcy5nZXRTY2VuZSgpO2lmKCFuKXJldHVybjtjb25zdCBhPW4uZ2V0RW5naW5lKCk7aWYoKGg9YS5fZGVidWdQdXNoR3JvdXApPT1udWxsfHxoLmNhbGwoYSxgcmVuZGVyIHRvIGZhY2UgIyR7ZX0gbGF5ZXIgIyR7c31gLDEpLHRoaXMuX3ByZXBhcmVGcmFtZShuLGUscyx0KSx0aGlzLmlzMkRBcnJheT8oYS5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbc10sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMpKTooYS5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbZV0sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKSxhLnNuYXBzaG90UmVuZGVyaW5nJiZhLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKTp0aGlzLnNraXBJbml0aWFsQ2xlYXJ8fGEuY2xlYXIodGhpcy5jbGVhckNvbG9yfHxuLmNsZWFyQ29sb3IsITAsITAsITApO2Vsc2V7bGV0IEU9bnVsbDtjb25zdCBtPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3Q6bi5nZXRBY3RpdmVNZXNoZXMoKS5kYXRhLFQ9dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg6bi5nZXRBY3RpdmVNZXNoZXMoKS5sZW5ndGg7dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0JiYoRT10aGlzLmdldEN1c3RvbVJlbmRlckxpc3QodGhpcy5pczJEQXJyYXk/czplLG0sVCkpLEU/dGhpcy5fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXIoRSxFLmxlbmd0aCxyLCExKToodGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZHx8KHRoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKG0sVCxyLCF0aGlzLnJlbmRlckxpc3QpLHRoaXMuX2RlZmF1bHRSZW5kZXJMaXN0UHJlcGFyZWQ9ITApLEU9bSk7Zm9yKGNvbnN0IFIgb2Ygbi5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZSlSLmFjdGlvbih0aGlzLGUscyk7dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKTp0aGlzLnNraXBJbml0aWFsQ2xlYXJ8fGEuY2xlYXIodGhpcy5jbGVhckNvbG9yfHxuLmNsZWFyQ29sb3IsITAsITAsITApLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fG4udXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKTtmb3IoY29uc3QgUiBvZiBuLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2UpUi5hY3Rpb24odGhpcyxlLHMpO3RoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVuZGVyKHRoaXMuY3VzdG9tUmVuZGVyRnVuY3Rpb24sRSx0aGlzLnJlbmRlclBhcnRpY2xlcyx0aGlzLnJlbmRlclNwcml0ZXMpO2Zvcihjb25zdCBSIG9mIG4uX2FmdGVyUmVuZGVyVGFyZ2V0RHJhd1N0YWdlKVIuYWN0aW9uKHRoaXMsZSxzKTtjb25zdCBiPSh1PShsPXRoaXMuX3RleHR1cmUpPT1udWxsP3ZvaWQgMDpsLmdlbmVyYXRlTWlwTWFwcykhPW51bGw/dTohMTt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9ITEpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoITEsKGY9dGhpcy5fcmVuZGVyVGFyZ2V0KSE9bnVsbD9mOnZvaWQgMCxlLHRoaXMuX3Bvc3RQcm9jZXNzZXMsdGhpcy5pZ25vcmVDYW1lcmFWaWV3cG9ydCk6dCYmbi5wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoITEsKGQ9dGhpcy5fcmVuZGVyVGFyZ2V0KSE9bnVsbD9kOnZvaWQgMCxlKSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9YiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8bi51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApLGkmJlUuRHVtcEZyYW1lYnVmZmVyKHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpLGEpfXRoaXMuX3VuYmluZEZyYW1lQnVmZmVyKGEsZSksdGhpcy5fdGV4dHVyZSYmdGhpcy5pc0N1YmUmJmU9PT01JiZhLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAodGhpcy5fdGV4dHVyZSksKF89YS5fZGVidWdQb3BHcm91cCk9PW51bGx8fF8uY2FsbChhLDEpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIoZSx0LGkscyl9c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0KSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSExfWNsb25lKCl7Y29uc3QgZT10aGlzLmdldFNpemUoKSx0PW5ldyBkdCh0aGlzLm5hbWUsZSx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gdC5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHQubGV2ZWw9dGhpcy5sZXZlbCx0LmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJih0LnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSx0fXNlcmlhbGl6ZSgpe2lmKCF0aGlzLm5hbWUpcmV0dXJuIG51bGw7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKTtpZihlLnJlbmRlclRhcmdldFNpemU9dGhpcy5nZXRSZW5kZXJTaXplKCksZS5yZW5kZXJMaXN0PVtdLHRoaXMucmVuZGVyTGlzdClmb3IobGV0IHQ9MDt0PHRoaXMucmVuZGVyTGlzdC5sZW5ndGg7dCsrKWUucmVuZGVyTGlzdC5wdXNoKHRoaXMucmVuZGVyTGlzdFt0XS5pZCk7cmV0dXJuIGV9ZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cygpe3ZhciBlOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PW51bGx8fGUuZGlzcG9zZSghMCl9cmVsZWFzZUludGVybmFsVGV4dHVyZSgpe3ZhciBlOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PW51bGx8fGUucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfWRpc3Bvc2UoKXt2YXIgaTt0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbGVhck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc3RvcE9ic2VydmluZ1JlbmRlckxpc3RFdmVudHMoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJih0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1udWxsKSx0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKSx0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCksdGhpcy5jbGVhclBvc3RQcm9jZXNzZXMoITApLHRoaXMuX3Jlc2l6ZU9ic2VydmVyJiYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLm9uUmVzaXplT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcmVzaXplT2JzZXJ2ZXIpLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPW51bGwpLHRoaXMucmVuZGVyTGlzdD1udWxsO2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO2lmKCFlKXJldHVybjtsZXQgdD1lLmN1c3RvbVJlbmRlclRhcmdldHMuaW5kZXhPZih0aGlzKTt0Pj0wJiZlLmN1c3RvbVJlbmRlclRhcmdldHMuc3BsaWNlKHQsMSk7Zm9yKGNvbnN0IHMgb2YgZS5jYW1lcmFzKXQ9cy5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksdD49MCYmcy5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZSh0LDEpOyhpPXRoaXMuX3JlbmRlclRhcmdldCk9PW51bGx8fGkuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldD1udWxsLHRoaXMuX3RleHR1cmU9bnVsbCxzdXBlci5kaXNwb3NlKCl9X3JlYnVpbGQoKXt0aGlzLnJlZnJlc2hSYXRlPT09ZHQuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0UmJih0aGlzLnJlZnJlc2hSYXRlPWR0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpfWZyZWVSZW5kZXJpbmdHcm91cHMoKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmZyZWVSZW5kZXJpbmdHcm91cHMoKX1nZXRWaWV3Q291bnQoKXtyZXR1cm4gMX19ZHQuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0U9MCxkdC5SRUZSRVNIUkFURV9SRU5ERVJfT05FVkVSWUZSQU1FPTEsZHQuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllUV09GUkFNRVM9MixCLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPShjLGUsdCxpLHMpPT5uZXcgZHQoYyxlLHQsaSk7Y29uc3Qga249InBvc3Rwcm9jZXNzVmVydGV4U2hhZGVyIixWbj1gYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CnVuaWZvcm0gdmVjMiBzY2FsZTsKdmFyeWluZyB2ZWMyIHZVVjsKY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2VVY9KHBvc2l0aW9uKm1hZGQrbWFkZCkqc2NhbGU7CmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtOLlNoYWRlcnNTdG9yZVtrbl09Vm47Y2xhc3MgTGV7Y29uc3RydWN0b3IoZSx0LGkscyxyLG4sYT0xLG8saCxsPW51bGwsdT0wLGY9InBvc3Rwcm9jZXNzIixkLF89ITEsRT01KXt0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLndpZHRoPS0xLHRoaXMuaGVpZ2h0PS0xLHRoaXMubm9kZU1hdGVyaWFsU291cmNlPW51bGwsdGhpcy5fb3V0cHV0VGV4dHVyZT1udWxsLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYWxwaGFNb2RlPTAsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU9ITEsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLnNjYWxlTW9kZT0xLHRoaXMuYWx3YXlzRm9yY2VQT1Q9ITEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0PSExLHRoaXMuX3JldXNhYmxlPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMSx0aGlzLl90ZXh0dXJlcz1uZXcgUWUoMiksdGhpcy5fdGV4dHVyZUNhY2hlPVtdLHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPTAsdGhpcy5fc2NhbGVSYXRpbz1uZXcgdGUoMSwxKSx0aGlzLl90ZXhlbFNpemU9dGUuWmVybygpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5uYW1lPWUsbiE9bnVsbD8odGhpcy5fY2FtZXJhPW4sdGhpcy5fc2NlbmU9bi5nZXRTY2VuZSgpLG4uYXR0YWNoUG9zdFByb2Nlc3ModGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCkpOm8mJih0aGlzLl9lbmdpbmU9byx0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpKSx0aGlzLl9vcHRpb25zPXIsdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGU9YXx8MSx0aGlzLl9yZXVzYWJsZT1ofHwhMSx0aGlzLl90ZXh0dXJlVHlwZT11LHRoaXMuX3RleHR1cmVGb3JtYXQ9RSx0aGlzLl9zYW1wbGVycz1zfHxbXSx0aGlzLl9zYW1wbGVycy5wdXNoKCJ0ZXh0dXJlU2FtcGxlciIpLHRoaXMuX2ZyYWdtZW50VXJsPXQsdGhpcy5fdmVydGV4VXJsPWYsdGhpcy5fcGFyYW1ldGVycz1pfHxbXSx0aGlzLl9wYXJhbWV0ZXJzLnB1c2goInNjYWxlIiksdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWQsdGhpcy5fZHJhd1dyYXBwZXI9bmV3IFJpKHRoaXMuX2VuZ2luZSksX3x8dGhpcy51cGRhdGVFZmZlY3QobCl9Z2V0IHNhbXBsZXMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlc31zZXQgc2FtcGxlcyhlKXt0aGlzLl9zYW1wbGVzPU1hdGgubWluKGUsdGhpcy5fZW5naW5lLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaCh0PT57dC5zYW1wbGVzIT09dGhpcy5fc2FtcGxlcyYmdGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0LHRoaXMuX3NhbXBsZXMpfSl9Z2V0RWZmZWN0TmFtZSgpe3JldHVybiB0aGlzLl9mcmFnbWVudFVybH1zZXQgb25BY3RpdmF0ZShlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9c2V0IG9uU2l6ZUNoYW5nZWQoZSl7dGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyJiZ0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXIpLHRoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlcj10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25BcHBseShlKXt0aGlzLl9vbkFwcGx5T2JzZXJ2ZXImJnRoaXMub25BcHBseU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQXBwbHlPYnNlcnZlciksdGhpcy5fb25BcHBseU9ic2VydmVyPXRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgaW5wdXRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzLmRhdGFbdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdfXNldCBpbnB1dFRleHR1cmUoZSl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1lfXJlc3RvcmVEZWZhdWx0SW5wdXRUZXh0dXJlKCl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9bnVsbCx0aGlzLm1hcmtUZXh0dXJlRGlydHkoKSl9Z2V0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX1nZXQgdGV4ZWxTaXplKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLnRleGVsU2l6ZToodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCwxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0KSx0aGlzLl90ZXhlbFNpemUpfWdldENsYXNzTmFtZSgpe3JldHVybiJQb3N0UHJvY2VzcyJ9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fXNoYXJlT3V0cHV0V2l0aChlKXtyZXR1cm4gdGhpcy5fZGlzcG9zZVRleHR1cmVzKCksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9ZSx0aGlzfXVzZU93bk91dHB1dCgpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD09MCYmKHRoaXMuX3RleHR1cmVzPW5ldyBRZSgyKSksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9bnVsbH11cGRhdGVFZmZlY3QoZT1udWxsLHQ9bnVsbCxpPW51bGwscyxyLG4sYSxvKXt0aGlzLl9wb3N0UHJvY2Vzc0RlZmluZXM9ZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9dGhpcy5fZW5naW5lLmNyZWF0ZUVmZmVjdCh7dmVydGV4OmEhPW51bGw/YTp0aGlzLl92ZXJ0ZXhVcmwsZnJhZ21lbnQ6byE9bnVsbD9vOnRoaXMuX2ZyYWdtZW50VXJsfSxbInBvc2l0aW9uIl0sdHx8dGhpcy5fcGFyYW1ldGVycyxpfHx0aGlzLl9zYW1wbGVycyxlIT09bnVsbD9lOiIiLHZvaWQgMCxyLG4sc3x8dGhpcy5faW5kZXhQYXJhbWV0ZXJzKX1pc1JldXNhYmxlKCl7cmV0dXJuIHRoaXMuX3JldXNhYmxlfW1hcmtUZXh0dXJlRGlydHkoKXt0aGlzLndpZHRoPS0xfV9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCxpPTApe2ZvcihsZXQgcj0wO3I8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtyKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUud2lkdGg9PT1lLndpZHRoJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5oZWlnaHQ9PT1lLmhlaWdodCYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnBvc3RQcm9jZXNzQ2hhbm5lbD09PWkmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLl9nZW5lcmF0ZURlcHRoQnVmZmVyPT09dC5nZW5lcmF0ZURlcHRoQnVmZmVyKXJldHVybiB0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZTtjb25zdCBzPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOnMscG9zdFByb2Nlc3NDaGFubmVsOmksbGFzdFVzZWRSZW5kZXJJZDotMX0pLHN9X2ZsdXNoVGV4dHVyZUNhY2hlKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJJZDtmb3IobGV0IHQ9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGUtdGhpcy5fdGV4dHVyZUNhY2hlW3RdLmxhc3RVc2VkUmVuZGVySWQ+MTAwKXtsZXQgaT0hMTtmb3IobGV0IHM9MDtzPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtzKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtzXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtpPSEwO2JyZWFrfWl8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19X3Jlc2l6ZShlLHQsaSxzLHIpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD4wJiZ0aGlzLl90ZXh0dXJlcy5yZXNldCgpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O2xldCBuPW51bGw7Zm9yKGxldCBoPTA7aDxpLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtoKyspaWYoaS5fcG9zdFByb2Nlc3Nlc1toXSE9PW51bGwpe249aS5fcG9zdFByb2Nlc3Nlc1toXTticmVha31jb25zdCBhPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbz17Z2VuZXJhdGVNaXBNYXBzOnMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpyfHxuPT09dGhpcyxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6KHJ8fG49PT10aGlzKSYmdGhpcy5fZW5naW5lLmlzU3RlbmNpbEVuYWJsZSxzYW1wbGluZ01vZGU6dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsdHlwZTp0aGlzLl90ZXh0dXJlVHlwZSxmb3JtYXQ6dGhpcy5fdGV4dHVyZUZvcm1hdH07dGhpcy5fdGV4dHVyZXMucHVzaCh0aGlzLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGEsbywwKSksdGhpcy5fcmV1c2FibGUmJnRoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShhLG8sMSkpLHRoaXMuX3RleGVsU2l6ZS5jb3B5RnJvbUZsb2F0cygxL3RoaXMud2lkdGgsMS90aGlzLmhlaWdodCksdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9YWN0aXZhdGUoZSx0PW51bGwsaSl7dmFyIF8sRTtlPWV8fHRoaXMuX2NhbWVyYTtjb25zdCBzPWUuZ2V0U2NlbmUoKSxyPXMuZ2V0RW5naW5lKCksbj1yLmdldENhcHMoKS5tYXhUZXh0dXJlU2l6ZTtsZXQgYT0odD90LndpZHRoOnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJXaWR0aCghMCkpKnRoaXMuX29wdGlvbnN8MDtjb25zdCBvPSh0P3QuaGVpZ2h0OnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJIZWlnaHQoITApKSp0aGlzLl9vcHRpb25zfDAsaD1lLnBhcmVudDtoJiYoaC5sZWZ0Q2FtZXJhPT1lfHxoLnJpZ2h0Q2FtZXJhPT1lKSYmKGEvPTIpO2xldCBsPXRoaXMuX29wdGlvbnMud2lkdGh8fGEsdT10aGlzLl9vcHRpb25zLmhlaWdodHx8bztjb25zdCBmPXRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09NyYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0xJiZ0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTI7aWYoIXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzJiYhdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSl7aWYodGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQpe2NvbnN0IG09ci5jdXJyZW50Vmlld3BvcnQ7bSYmKGwqPW0ud2lkdGgsdSo9bS5oZWlnaHQpfShmfHx0aGlzLmFsd2F5c0ZvcmNlUE9UKSYmKHRoaXMuX29wdGlvbnMud2lkdGh8fChsPXIubmVlZFBPVFRleHR1cmVzP0MuR2V0RXhwb25lbnRPZlR3byhsLG4sdGhpcy5zY2FsZU1vZGUpOmwpLHRoaXMuX29wdGlvbnMuaGVpZ2h0fHwodT1yLm5lZWRQT1RUZXh0dXJlcz9DLkdldEV4cG9uZW50T2ZUd28odSxuLHRoaXMuc2NhbGVNb2RlKTp1KSksKHRoaXMud2lkdGghPT1sfHx0aGlzLmhlaWdodCE9PXUpJiZ0aGlzLl9yZXNpemUobCx1LGUsZixpKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKG09PnttLnNhbXBsZXMhPT10aGlzLnNhbXBsZXMmJnRoaXMuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQobSx0aGlzLnNhbXBsZXMpfSksdGhpcy5fZmx1c2hUZXh0dXJlQ2FjaGUoKSx0aGlzLl9yZW5kZXJJZCsrfWxldCBkO2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzKWQ9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlO2Vsc2UgaWYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSlkPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUsdGhpcy53aWR0aD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0O2Vsc2V7ZD10aGlzLmlucHV0VGV4dHVyZTtsZXQgbTtmb3IobGV0IFQ9MDtUPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7VCsrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtUXS50ZXh0dXJlPT09ZCl7bT10aGlzLl90ZXh0dXJlQ2FjaGVbVF07YnJlYWt9bSYmKG0ubGFzdFVzZWRSZW5kZXJJZD10aGlzLl9yZW5kZXJJZCl9cmV0dXJuIHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT8odGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cyhhL2wsby91KSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKGQsMCxhLG8sdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpOih0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKDEsMSksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihkLDAsdm9pZCAwLHZvaWQgMCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSksKEU9KF89dGhpcy5fZW5naW5lKS5fZGVidWdJbnNlcnRNYXJrZXIpPT1udWxsfHxFLmNhbGwoXyxgcG9zdCBwcm9jZXNzICR7dGhpcy5uYW1lfSBpbnB1dGApLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuYXV0b0NsZWFyJiZ0aGlzLmFscGhhTW9kZT09PTAmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3I/dGhpcy5jbGVhckNvbG9yOnMuY2xlYXJDb2xvcixzLl9hbGxvd1Bvc3RQcm9jZXNzQ2xlYXJDb2xvciwhMCwhMCksdGhpcy5fcmV1c2FibGUmJih0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZD0odGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQrMSklMiksZH1nZXQgaXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmlzU3VwcG9ydGVkfWdldCBhc3BlY3RSYXRpbygpe3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz90aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy5hc3BlY3RSYXRpbzp0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlP3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQ6dGhpcy53aWR0aC90aGlzLmhlaWdodH1pc1JlYWR5KCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpPT1udWxsP3ZvaWQgMDplLmlzUmVhZHkoKSkhPW51bGw/dDohMX1hcHBseSgpe3ZhciB0O2lmKCEoKHQ9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSE9bnVsbCYmdC5pc1JlYWR5KCkpKXJldHVybiBudWxsO3RoaXMuX2VuZ2luZS5lbmFibGVFZmZlY3QodGhpcy5fZHJhd1dyYXBwZXIpLHRoaXMuX2VuZ2luZS5zZXRTdGF0ZSghMSksdGhpcy5fZW5naW5lLnNldERlcHRoQnVmZmVyKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhXcml0ZSghMSksdGhpcy5fZW5naW5lLnNldEFscGhhTW9kZSh0aGlzLmFscGhhTW9kZSksdGhpcy5hbHBoYUNvbnN0YW50cyYmdGhpcy5nZXRFbmdpbmUoKS5zZXRBbHBoYUNvbnN0YW50cyh0aGlzLmFscGhhQ29uc3RhbnRzLnIsdGhpcy5hbHBoYUNvbnN0YW50cy5nLHRoaXMuYWxwaGFDb25zdGFudHMuYix0aGlzLmFscGhhQ29uc3RhbnRzLmEpO2xldCBlO3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz9lPXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmlucHV0VGV4dHVyZTp0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlP2U9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZTplPXRoaXMuaW5wdXRUZXh0dXJlLHRoaXMuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmd8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlPT1udWxsP3ZvaWQgMDplLnRleHR1cmUpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5zZXRWZWN0b3IyKCJzY2FsZSIsdGhpcy5fc2NhbGVSYXRpbyksdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9X2Rpc3Bvc2VUZXh0dXJlcygpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9X2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKXtmb3IobGV0IGU9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX3RleHR1cmVDYWNoZVtlXS50ZXh0dXJlLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoPTB9c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiB0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj8odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb249ZS5hZGRFZmZlY3RDb25maWd1cmF0aW9uKHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uKSx0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbi5lbmFibGVkPSEwLCEwKTohMX1kaXNwb3NlKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO2xldCB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0PXRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSwhIWUpe2lmKGUuZGV0YWNoUG9zdFByb2Nlc3ModGhpcyksdD1lLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdD09PTAmJmUuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5fY2FtZXJhLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7aSYmaS5tYXJrVGV4dHVyZURpcnR5KCl9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCl9fXNlcmlhbGl6ZSgpe2NvbnN0IGU9cmUuU2VyaWFsaXplKHRoaXMpLHQ9dGhpcy5nZXRDYW1lcmEoKXx8dGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLiIrdGhpcy5nZXRDbGFzc05hbWUoKSxlLmNhbWVyYUlkPXQ/dC5pZDpudWxsLGUucmV1c2FibGU9dGhpcy5fcmV1c2FibGUsZS50ZXh0dXJlVHlwZT10aGlzLl90ZXh0dXJlVHlwZSxlLmZyYWdtZW50VXJsPXRoaXMuX2ZyYWdtZW50VXJsLGUucGFyYW1ldGVycz10aGlzLl9wYXJhbWV0ZXJzLGUuc2FtcGxlcnM9dGhpcy5fc2FtcGxlcnMsZS5vcHRpb25zPXRoaXMuX29wdGlvbnMsZS5kZWZpbmVzPXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcyxlLnRleHR1cmVGb3JtYXQ9dGhpcy5fdGV4dHVyZUZvcm1hdCxlLnZlcnRleFVybD10aGlzLl92ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnM9dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGV9Y2xvbmUoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7ZS5fZW5naW5lPXRoaXMuX2VuZ2luZSxlLmNhbWVyYUlkPW51bGw7Y29uc3QgdD1MZS5QYXJzZShlLHRoaXMuX3NjZW5lLCIiKTtyZXR1cm4gdD8odC5vbkFjdGl2YXRlT2JzZXJ2YWJsZT10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsb25lKCksdC5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsb25lKCksdC5vbkFwcGx5T2JzZXJ2YWJsZT10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsb25lKCksdC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Ll9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj10aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbix0KTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1paShlLmN1c3RvbVR5cGUpO2lmKCFzfHwhcy5fUGFyc2UpcmV0dXJuIG51bGw7Y29uc3Qgcj10P3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsO3JldHVybiBzLl9QYXJzZShlLHIsdCxpKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiByZS5QYXJzZSgoKT0+bmV3IExlKGUubmFtZSxlLmZyYWdtZW50VXJsLGUucGFyYW1ldGVycyxlLnNhbXBsZXJzLGUub3B0aW9ucyx0LGUucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLGUuX2VuZ2luZSxlLnJldXNhYmxlLGUuZGVmaW5lcyxlLnRleHR1cmVUeXBlLGUudmVydGV4VXJsLGUuaW5kZXhQYXJhbWV0ZXJzLCExLGUudGV4dHVyZUZvcm1hdCksZSxpLHMpfX1TKFtNKCldLExlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksUyhbTSgpXSxMZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksUyhbTSgpXSxMZS5wcm90b3R5cGUsIndpZHRoIix2b2lkIDApLFMoW00oKV0sTGUucHJvdG90eXBlLCJoZWlnaHQiLHZvaWQgMCksUyhbTSgpXSxMZS5wcm90b3R5cGUsInJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSIsdm9pZCAwKSxTKFtucigpXSxMZS5wcm90b3R5cGUsImNsZWFyQ29sb3IiLHZvaWQgMCksUyhbTSgpXSxMZS5wcm90b3R5cGUsImF1dG9DbGVhciIsdm9pZCAwKSxTKFtNKCldLExlLnByb3RvdHlwZSwiYWxwaGFNb2RlIix2b2lkIDApLFMoW00oKV0sTGUucHJvdG90eXBlLCJhbHBoYUNvbnN0YW50cyIsdm9pZCAwKSxTKFtNKCldLExlLnByb3RvdHlwZSwiZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZSIsdm9pZCAwKSxTKFtNKCldLExlLnByb3RvdHlwZSwiZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQiLHZvaWQgMCksUyhbTSgpXSxMZS5wcm90b3R5cGUsInNjYWxlTW9kZSIsdm9pZCAwKSxTKFtNKCldLExlLnByb3RvdHlwZSwiYWx3YXlzRm9yY2VQT1QiLHZvaWQgMCksUyhbTSgic2FtcGxlcyIpXSxMZS5wcm90b3R5cGUsIl9zYW1wbGVzIix2b2lkIDApLFMoW00oKV0sTGUucHJvdG90eXBlLCJhZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQiLHZvaWQgMCksdHQoIkJBQllMT04uUG9zdFByb2Nlc3MiLExlKTtjb25zdCBXbj0ia2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbiIsem49InZhcnlpbmcgdmVjMiBzYW1wbGVDb29yZHtYfTsiO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbV25dPXpuO2NvbnN0IEduPSJwYWNraW5nRnVuY3Rpb25zIixYbj1gdmVjNCBwYWNrKGZsb2F0IGRlcHRoKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTsKY29uc3QgdmVjNCBiaXRfbWFzaz12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7CnZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7CnJlcy09cmVzLnh4eXoqYml0X21hc2s7CnJldHVybiByZXM7Cn0KZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9YDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0duXT1Ybjtjb25zdCBIbj0ia2VybmVsQmx1ckZyYWdtZW50IixLbj1gI2lmZGVmIERPRgpmYWN0b3I9c2FtcGxlQ29DKHNhbXBsZUNvb3Jke1h9KTsgCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSkqY29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ29vcmR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0huXT1Lbjtjb25zdCBZbj0ia2VybmVsQmx1ckZyYWdtZW50MiIsWm49YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pOwpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfSpmYWN0b3I7CnN1bU9mV2VpZ2h0cys9Y29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkqY29tcHV0ZWRXZWlnaHQ7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbWW5dPVpuO2NvbnN0IHFuPSJrZXJuZWxCbHVyUGl4ZWxTaGFkZXIiLGpuPWB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGNhbWVyYU1pbk1heFo7CmZsb2F0IHNhbXBsZURpc3RhbmNlKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGRlcHRoPXRleHR1cmUyRChjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIsb2Zmc2V0KS5nOyAKcmV0dXJuIGNhbWVyYU1pbk1heFoueCsoY2FtZXJhTWluTWF4Wi55LWNhbWVyYU1pbk1heFoueCkqZGVwdGg7IAp9CmZsb2F0IHNhbXBsZUNvQyhpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBjb2M9dGV4dHVyZTJEKGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcixvZmZzZXQpLnI7IApyZXR1cm4gY29jOyAKfQojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbj5bMC4udmFyeWluZ0NvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CmZsb2F0IGNvbXB1dGVkV2VpZ2h0PTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUIApmbG9hdCBibGVuZD0wLjsKI2Vsc2UKdmVjNCBibGVuZD12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBET0YKZmxvYXQgc3VtT2ZXZWlnaHRzPUNFTlRFUl9XRUlHSFQ7IApmbG9hdCBmYWN0b3I9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSkqQ0VOVEVSX1dFSUdIVDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIpKkNFTlRFUl9XRUlHSFQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1ckZyYWdtZW50PlswLi52YXJ5aW5nQ291bnRdCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudDI+WzAuLmRlcENvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKZ2xfRnJhZ0NvbG9yPXBhY2soYmxlbmQpOwojZWxzZQpnbF9GcmFnQ29sb3I9YmxlbmQ7CiNlbmRpZgojaWZkZWYgRE9GCmdsX0ZyYWdDb2xvci89c3VtT2ZXZWlnaHRzOwojZW5kaWYKfWA7Ti5TaGFkZXJzU3RvcmVbcW5dPWpuO2NvbnN0IFFuPSJrZXJuZWxCbHVyVmVydGV4Iiwkbj0ic2FtcGxlQ29vcmR7WH09c2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9PRkZTRVR7WH07IjtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1FuXT0kbjtjb25zdCBKbj0ia2VybmVsQmx1clZlcnRleFNoYWRlciIsZWE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgZGVsdGE7CnZhcnlpbmcgdmVjMiBzYW1wbGVDZW50ZXI7CiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgpzYW1wbGVDZW50ZXI9KHBvc2l0aW9uKm1hZGQrbWFkZCk7CiNpbmNsdWRlPGtlcm5lbEJsdXJWZXJ0ZXg+WzAuLnZhcnlpbmdDb3VudF0KZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO04uU2hhZGVyc1N0b3JlW0puXT1lYTtjbGFzcyBRdCBleHRlbmRzIExle2NvbnN0cnVjdG9yKGUsdCxpLHMscixuPUIuQklMSU5FQVJfU0FNUExJTkdNT0RFLGEsbyxoPTAsbD0iIix1PSExKXtzdXBlcihlLCJrZXJuZWxCbHVyIixbImRlbHRhIiwiZGlyZWN0aW9uIiwiY2FtZXJhTWluTWF4WiJdLFsiY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyIl0scyxyLG4sYSxvLG51bGwsaCwia2VybmVsQmx1ciIse3ZhcnlpbmdDb3VudDowLGRlcENvdW50OjB9LCEwKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPXUsdGhpcy5fcGFja2VkRmxvYXQ9ITEsdGhpcy5fc3RhdGljRGVmaW5lcz0iIix0aGlzLl9zdGF0aWNEZWZpbmVzPWwsdGhpcy5kaXJlY3Rpb249dCx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmPT57dGhpcy5fb3V0cHV0VGV4dHVyZT9mLnNldEZsb2F0MigiZGVsdGEiLDEvdGhpcy5fb3V0cHV0VGV4dHVyZS53aWR0aCp0aGlzLmRpcmVjdGlvbi54LDEvdGhpcy5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqdGhpcy5kaXJlY3Rpb24ueSk6Zi5zZXRGbG9hdDIoImRlbHRhIiwxL3RoaXMud2lkdGgqdGhpcy5kaXJlY3Rpb24ueCwxL3RoaXMuaGVpZ2h0KnRoaXMuZGlyZWN0aW9uLnkpfSksdGhpcy5rZXJuZWw9aX1zZXQga2VybmVsKGUpe3RoaXMuX2lkZWFsS2VybmVsIT09ZSYmKGU9TWF0aC5tYXgoZSwxKSx0aGlzLl9pZGVhbEtlcm5lbD1lLHRoaXMuX2tlcm5lbD10aGlzLl9uZWFyZXN0QmVzdEtlcm5lbChlKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBrZXJuZWwoKXtyZXR1cm4gdGhpcy5faWRlYWxLZXJuZWx9c2V0IHBhY2tlZEZsb2F0KGUpe3RoaXMuX3BhY2tlZEZsb2F0IT09ZSYmKHRoaXMuX3BhY2tlZEZsb2F0PWUsdGhpcy5fYmxvY2tDb21waWxhdGlvbnx8dGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgcGFja2VkRmxvYXQoKXtyZXR1cm4gdGhpcy5fcGFja2VkRmxvYXR9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuKXt0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKHIsbil9X3VwZGF0ZVBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2tlcm5lbCxzPShpLTEpLzI7bGV0IHI9W10sbj1bXSxhPTA7Zm9yKGxldCBtPTA7bTxpO20rKyl7Y29uc3QgVD1tLyhpLTEpLGI9dGhpcy5fZ2F1c3NpYW5XZWlnaHQoVCoyLTEpO3JbbV09bS1zLG5bbV09YixhKz1ifWZvcihsZXQgbT0wO208bi5sZW5ndGg7bSsrKW5bbV0vPWE7Y29uc3Qgbz1bXSxoPVtdLGw9W107Zm9yKGxldCBtPTA7bTw9czttKz0yKXtjb25zdCBUPU1hdGgubWluKG0rMSxNYXRoLmZsb29yKHMpKTtpZihtPT09VClsLnB1c2goe286clttXSx3Om5bbV19KTtlbHNle2NvbnN0IFI9VD09PXMseT1uW21dK25bVF0qKFI/LjU6MSksRD1yW21dKzEvKDErblttXS9uW1RdKTtEPT09MD8obC5wdXNoKHtvOnJbbV0sdzpuW21dfSksbC5wdXNoKHtvOnJbbSsxXSx3Om5bbSsxXX0pKToobC5wdXNoKHtvOkQsdzp5fSksbC5wdXNoKHtvOi1ELHc6eX0pKX19Zm9yKGxldCBtPTA7bTxsLmxlbmd0aDttKyspaFttXT1sW21dLm8sb1ttXT1sW21dLnc7cj1oLG49bztjb25zdCB1PXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLGY9TWF0aC5tYXgodSwwKS0xO2xldCBkPU1hdGgubWluKHIubGVuZ3RoLGYpLF89IiI7Xys9dGhpcy5fc3RhdGljRGVmaW5lcyx0aGlzLl9zdGF0aWNEZWZpbmVzLmluZGV4T2YoIkRPRiIpIT0tMSYmKF8rPWAjZGVmaW5lIENFTlRFUl9XRUlHSFQgJHt0aGlzLl9nbHNsRmxvYXQobltkLTFdKX1ccgpgLGQtLSk7Zm9yKGxldCBtPTA7bTxkO20rKylfKz1gI2RlZmluZSBLRVJORUxfT0ZGU0VUJHttfSAke3RoaXMuX2dsc2xGbG9hdChyW21dKX1ccgpgLF8rPWAjZGVmaW5lIEtFUk5FTF9XRUlHSFQke219ICR7dGhpcy5fZ2xzbEZsb2F0KG5bbV0pfVxyCmA7bGV0IEU9MDtmb3IobGV0IG09ZjttPHIubGVuZ3RoO20rKylfKz1gI2RlZmluZSBLRVJORUxfREVQX09GRlNFVCR7RX0gJHt0aGlzLl9nbHNsRmxvYXQoclttXSl9XHIKYCxfKz1gI2RlZmluZSBLRVJORUxfREVQX1dFSUdIVCR7RX0gJHt0aGlzLl9nbHNsRmxvYXQoblttXSl9XHIKYCxFKys7dGhpcy5wYWNrZWRGbG9hdCYmKF8rPSIjZGVmaW5lIFBBQ0tFREZMT0FUIDEiKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPSExLHN1cGVyLnVwZGF0ZUVmZmVjdChfLG51bGwsbnVsbCx7dmFyeWluZ0NvdW50OmQsZGVwQ291bnQ6RX0sZSx0KX1fbmVhcmVzdEJlc3RLZXJuZWwoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKGUpO2Zvcihjb25zdCBpIG9mW3QsdC0xLHQrMSx0LTIsdCsyXSlpZihpJTIhPT0wJiZNYXRoLmZsb29yKGkvMiklMj09PTAmJmk+MClyZXR1cm4gTWF0aC5tYXgoaSwzKTtyZXR1cm4gTWF0aC5tYXgodCwzKX1fZ2F1c3NpYW5XZWlnaHQoZSl7Y29uc3QgdD0uMzMzMzMzMzMzMzMzMzMzMyxpPU1hdGguc3FydCgyKk1hdGguUEkpKnQscz0tKGUqZS8oMip0KnQpKTtyZXR1cm4gMS9pKk1hdGguZXhwKHMpfV9nbHNsRmxvYXQoZSx0PTgpe3JldHVybiBlLnRvRml4ZWQodCkucmVwbGFjZSgvMCskLywiIil9c3RhdGljIF9QYXJzZShlLHQsaSxzKXtyZXR1cm4gcmUuUGFyc2UoKCk9Pm5ldyBRdChlLm5hbWUsZS5kaXJlY3Rpb24sZS5rZXJuZWwsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsaS5nZXRFbmdpbmUoKSxlLnJldXNhYmxlLGUudGV4dHVyZVR5cGUsdm9pZCAwLCExKSxlLGkscyl9fVMoW00oImtlcm5lbCIpXSxRdC5wcm90b3R5cGUsIl9rZXJuZWwiLHZvaWQgMCksUyhbTSgicGFja2VkRmxvYXQiKV0sUXQucHJvdG90eXBlLCJfcGFja2VkRmxvYXQiLHZvaWQgMCksUyhbaG4oKV0sUXQucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksdHQoIkJBQllMT04uQmx1clBvc3RQcm9jZXNzIixRdCk7Y2xhc3MgTnN7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWZpbmVzPXt9LHRoaXMuX2N1cnJlbnRSYW5rPTMyLHRoaXMuX21heFJhbms9LTEsdGhpcy5fbWVzaD1udWxsfXVuQmluZE1lc2goKXt0aGlzLl9tZXNoPW51bGx9YWRkRmFsbGJhY2soZSx0KXt0aGlzLl9kZWZpbmVzW2VdfHwoZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSksdGhpcy5fZGVmaW5lc1tlXT1uZXcgQXJyYXkpLHRoaXMuX2RlZmluZXNbZV0ucHVzaCh0KX1hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKGUsdCl7dGhpcy5fbWVzaD10LGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpfWdldCBoYXNNb3JlRmFsbGJhY2tzKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5rPD10aGlzLl9tYXhSYW5rfXJlZHVjZShlLHQpe2lmKHRoaXMuX21lc2gmJnRoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0aGlzLl9tZXNoLm51bUJvbmVJbmZsdWVuY2Vycz4wKXt0aGlzLl9tZXNoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSxlPWUucmVwbGFjZSgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3RoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzLCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKSx0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITA7Y29uc3QgaT10aGlzLl9tZXNoLmdldFNjZW5lKCk7Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7cysrKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKCFyLm1hdGVyaWFsKXshdGhpcy5fbWVzaC5tYXRlcmlhbCYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnIubnVtQm9uZUluZmx1ZW5jZXJzPjAmJihyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSk7Y29udGludWV9aWYoISghci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHIubnVtQm9uZUluZmx1ZW5jZXJzPT09MCkpe2lmKHIubWF0ZXJpYWwuZ2V0RWZmZWN0KCk9PT10KXIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2Vsc2UgaWYoci5zdWJNZXNoZXMpe2Zvcihjb25zdCBuIG9mIHIuc3ViTWVzaGVzKWlmKG4uZWZmZWN0PT09dCl7ci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7YnJlYWt9fX19fWVsc2V7Y29uc3QgaT10aGlzLl9kZWZpbmVzW3RoaXMuX2N1cnJlbnRSYW5rXTtpZihpKWZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKWU9ZS5yZXBsYWNlKCIjZGVmaW5lICIraVtzXSwiIik7dGhpcy5fY3VycmVudFJhbmsrK31yZXR1cm4gZX19Y29uc3QgdGE9ImJheWVyRGl0aGVyRnVuY3Rpb25zIixpYT1gZmxvYXQgYmF5ZXJEaXRoZXIyKHZlYzIgX1ApIHsKcmV0dXJuIG1vZCgyLjAqX1AueStfUC54KzEuMCw0LjApOwp9CmZsb2F0IGJheWVyRGl0aGVyNCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSptb2QoX1AsNC4wKSk7IApyZXR1cm4gNC4wKmJheWVyRGl0aGVyMihQMSkrYmF5ZXJEaXRoZXIyKFAyKTsKfQpmbG9hdCBiYXllckRpdGhlcjgodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOyAKdmVjMiBQMj1mbG9vcigwLjUgKm1vZChfUCw0LjApKTsgCnZlYzIgUDQ9Zmxvb3IoMC4yNSptb2QoX1AsOC4wKSk7IApyZXR1cm4gNC4wKig0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpKStiYXllckRpdGhlcjIoUDQpOwp9CmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0YV09aWE7Y29uc3Qgc2E9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIscmE9YCNpZiBTTV9GTE9BVD09MAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaW5jbHVkZTxiYXllckRpdGhlckZ1bmN0aW9ucz4KdW5pZm9ybSBmbG9hdCBzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTTsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NhXT1yYTtjb25zdCBuYT0iY2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbiIsYWE9YCNpZmRlZiBDTElQUExBTkUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U0OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbbmFdPWFhO2NvbnN0IG9hPSJjbGlwUGxhbmVGcmFnbWVudCIsaGE9YCNpZiBkZWZpbmVkKENMSVBQTEFORSkgfHwgZGVmaW5lZChDTElQUExBTkUyKSB8fCBkZWZpbmVkKENMSVBQTEFORTMpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNCkgfHwgZGVmaW5lZChDTElQUExBTkU1KSB8fCBkZWZpbmVkKENMSVBQTEFORTYpCmlmIChmYWxzZSkge30KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTI+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmVsc2UgaWYgKGZDbGlwRGlzdGFuY2UzPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAplbHNlIGlmIChmQ2xpcERpc3RhbmNlND4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTU+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U2PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2FdPWhhO2NvbnN0IGxhPSJzaGFkb3dNYXBGcmFnbWVudCIsY2E9YGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKI2lmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpkZXB0aFNNPSgtelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCmRlcHRoU009KHpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9GcmFnRGVwdGg9Y2xhbXAoMS4wLWRlcHRoU00sMC4wLDEuMCk7CiNlbHNlCmdsX0ZyYWdEZXB0aD1jbGFtcChkZXB0aFNNLDAuMCwxLjApOyAKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojaWYgU01fRVNNPT0xCmRlcHRoU009Y2xhbXAoZXhwKC1taW4oODcuLGJpYXNBbmRTY2FsZVNNLnoqZGVwdGhTTSkpLDAuLDEuKTsKI2VuZGlmCiNpZiBTTV9GTE9BVD09MQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xhXT1jYTtjb25zdCB1YT0ic2hhZG93TWFwUGl4ZWxTaGFkZXIiLGZhPWAjaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudEV4dHJhRGVjbGFyYXRpb24+CiNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVTVApmbG9hdCBhbHBoYUZyb21BbHBoYVRleHR1cmU9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTsKaWYgKGFscGhhRnJvbUFscGhhVGV4dHVyZTxBTFBIQVRFU1RWQUxVRSkKZGlzY2FyZDsKI2VuZGlmCiNpZiBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1c9PTEKI2lmZGVmIEFMUEhBVEVTVAppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00qYWxwaGFGcm9tQWxwaGFUZXh0dXJlKSBkaXNjYXJkOwojZWxzZQppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00pIGRpc2NhcmQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwRnJhZ21lbnQ+Cn1gO04uU2hhZGVyc1N0b3JlW3VhXT1mYTtjb25zdCBkYT0iYm9uZXNEZWNsYXJhdGlvbiIsX2E9YCNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlczsKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNXZWlnaHRzOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc0luZGljZXNFeHRyYTsKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNXZWlnaHRzRXh0cmE7CiNlbmRpZgojaWZuZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQojaWZkZWYgQk9ORVRFWFRVUkUKdW5pZm9ybSBzYW1wbGVyMkQgYm9uZVNhbXBsZXI7CnVuaWZvcm0gZmxvYXQgYm9uZVRleHR1cmVXaWR0aDsKI2Vsc2UKdW5pZm9ybSBtYXQ0IG1Cb25lc1tCb25lc1Blck1lc2hdOwojaWZkZWYgQk9ORVNfVkVMT0NJVFlfRU5BQkxFRAp1bmlmb3JtIG1hdDQgbVByZXZpb3VzQm9uZXNbQm9uZXNQZXJNZXNoXTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgQk9ORVRFWFRVUkUKI2RlZmluZSBpbmxpbmUKbWF0NCByZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoc2FtcGxlcjJEIHNtcCxmbG9hdCBpbmRleCkKewpmbG9hdCBvZmZzZXQ9aW5kZXggKjQuMDsKZmxvYXQgZHg9MS4wL2JvbmVUZXh0dXJlV2lkdGg7CnZlYzQgbTA9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMC41KSwwLikpOwp2ZWM0IG0xPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzEuNSksMC4pKTsKdmVjNCBtMj10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsyLjUpLDAuKSk7CnZlYzQgbTM9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMy41KSwwLikpOwpyZXR1cm4gbWF0NChtMCxtMSxtMixtMyk7Cn0KI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2RhXT1fYTtjb25zdCBnYT0iYmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbiIscGE9YCNpZmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKdW5pZm9ybSBmbG9hdCBiYWtlZFZlcnRleEFuaW1hdGlvblRpbWU7CnVuaWZvcm0gdmVjMiBiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQ7CnVuaWZvcm0gdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzOwp1bmlmb3JtIHNhbXBsZXIyRCBiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmU7CiNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZDsKI2VuZGlmCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgsZmxvYXQgZnJhbWUpCnsKZmxvYXQgb2Zmc2V0PWluZGV4KjQuMDsKZmxvYXQgZnJhbWVVVj0oZnJhbWUrMC41KSpiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueTsKZmxvYXQgZHg9YmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLng7CnZlYzQgbTA9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMC41KSxmcmFtZVVWKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSxmcmFtZVVWKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSxmcmFtZVVWKSk7CnZlYzQgbTM9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMy41KSxmcmFtZVVWKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2dhXT1wYTtjb25zdCBtYT0ibW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24iLEVhPWAjaWZkZWYgTU9SUEhUQVJHRVRTCnVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRSAKcHJlY2lzaW9uIG1lZGl1bXAgc2FtcGxlcjJEQXJyYXk7IAp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbTlVNX01PUlBIX0lORkxVRU5DRVJTXTsKdW5pZm9ybSB2ZWMzIG1vcnBoVGFyZ2V0VGV4dHVyZUluZm87CnVuaWZvcm0gc2FtcGxlcjJEQXJyYXkgbW9ycGhUYXJnZXRzOwp2ZWMzIHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoaW50IHRhcmdldEluZGV4LGZsb2F0IHZlcnRleEluZGV4KQp7IApmbG9hdCB5PWZsb29yKHZlcnRleEluZGV4L21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueSk7CmZsb2F0IHg9dmVydGV4SW5kZXgteSptb3JwaFRhcmdldFRleHR1cmVJbmZvLnk7CnZlYzMgdGV4dHVyZVVWPXZlYzMoKHgrMC41KS9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnksKHkrMC41KS9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnosbW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlc1t0YXJnZXRJbmRleF0pOwpyZXR1cm4gdGV4dHVyZShtb3JwaFRhcmdldHMsdGV4dHVyZVVWKS54eXo7Cn0KI2VuZGlmCiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbbWFdPUVhO2NvbnN0IFRhPSJtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbiIsU2E9YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmbmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbntYfTsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFse1h9OwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCmF0dHJpYnV0ZSB2ZWMzIHRhbmdlbnR7WH07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCmF0dHJpYnV0ZSB2ZWMyIHV2X3tYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1RhXT1TYTtjb25zdCBiYT0iaGVscGVyRnVuY3Rpb25zIix4YT1gY29uc3QgZmxvYXQgUEk9My4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1Owpjb25zdCBmbG9hdCBIQUxGX01JTj01Ljk2MDQ2NDQ4ZS0wODsgCmNvbnN0IGZsb2F0IExpbmVhckVuY29kZVBvd2VyQXBwcm94PTIuMjsKY29uc3QgZmxvYXQgR2FtbWFFbmNvZGVQb3dlckFwcHJveD0xLjAvTGluZWFyRW5jb2RlUG93ZXJBcHByb3g7CmNvbnN0IHZlYzMgTHVtaW5hbmNlRW5jb2RlQXBwcm94PXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpOwpjb25zdCBmbG9hdCBFcHNpbG9uPTAuMDAwMDAwMTsKI2RlZmluZSBzYXR1cmF0ZSh4KSBjbGFtcCh4LDAuMCwxLjApCiNkZWZpbmUgYWJzRXBzKHgpIGFicyh4KStFcHNpbG9uCiNkZWZpbmUgbWF4RXBzKHgpIG1heCh4LEVwc2lsb24pCiNkZWZpbmUgc2F0dXJhdGVFcHMoeCkgY2xhbXAoeCxFcHNpbG9uLDEuMCkKbWF0MyB0cmFuc3Bvc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKdmVjMyBpMD1pbk1hdHJpeFswXTsKdmVjMyBpMT1pbk1hdHJpeFsxXTsKdmVjMyBpMj1pbk1hdHJpeFsyXTsKbWF0MyBvdXRNYXRyaXg9bWF0MygKdmVjMyhpMC54LGkxLngsaTIueCksCnZlYzMoaTAueSxpMS55LGkyLnkpLAp2ZWMzKGkwLnosaTEueixpMi56KQopOwpyZXR1cm4gb3V0TWF0cml4Owp9Cm1hdDMgaW52ZXJzZU1hdDMobWF0MyBpbk1hdHJpeCkgewpmbG9hdCBhMDA9aW5NYXRyaXhbMF1bMF0sYTAxPWluTWF0cml4WzBdWzFdLGEwMj1pbk1hdHJpeFswXVsyXTsKZmxvYXQgYTEwPWluTWF0cml4WzFdWzBdLGExMT1pbk1hdHJpeFsxXVsxXSxhMTI9aW5NYXRyaXhbMV1bMl07CmZsb2F0IGEyMD1pbk1hdHJpeFsyXVswXSxhMjE9aW5NYXRyaXhbMl1bMV0sYTIyPWluTWF0cml4WzJdWzJdOwpmbG9hdCBiMDE9YTIyKmExMS1hMTIqYTIxOwpmbG9hdCBiMTE9LWEyMiphMTArYTEyKmEyMDsKZmxvYXQgYjIxPWEyMSphMTAtYTExKmEyMDsKZmxvYXQgZGV0PWEwMCpiMDErYTAxKmIxMSthMDIqYjIxOwpyZXR1cm4gbWF0MyhiMDEsKC1hMjIqYTAxK2EwMiphMjEpLChhMTIqYTAxLWEwMiphMTEpLApiMTEsKGEyMiphMDAtYTAyKmEyMCksKC1hMTIqYTAwK2EwMiphMTApLApiMjEsKC1hMjEqYTAwK2EwMSphMjApLChhMTEqYTAwLWEwMSphMTApKS9kZXQ7Cn0KI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnZlYzMgdG9MaW5lYXJTcGFjZUV4YWN0KHZlYzMgY29sb3IpCnsKdmVjMyBuZWFyWmVyb1NlY3Rpb249MC4wNzczOTkzODA4KmNvbG9yOwp2ZWMzIHJlbWFpbmluZ1NlY3Rpb249cG93KDAuOTQ3ODY3Mjk5Kihjb2xvcit2ZWMzKDAuMDU1KSksdmVjMygyLjQpKTsKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkKcmV0dXJuIG1peChyZW1haW5pbmdTZWN0aW9uLG5lYXJaZXJvU2VjdGlvbixsZXNzVGhhbkVxdWFsKGNvbG9yLHZlYzMoMC4wNDA0NSkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5nIDogcmVtYWluaW5nU2VjdGlvbi5nLApjb2xvci5iPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZUV4YWN0KHZlYzMgY29sb3IpCnsKdmVjMyBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj0xLjA1NSpwb3coY29sb3IsdmVjMygwLjQxNjY2KSktdmVjMygwLjA1NSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCnJldHVybiBtaXgocmVtYWluaW5nU2VjdGlvbixuZWFyWmVyb1NlY3Rpb24sbGVzc1RoYW5FcXVhbChjb2xvcix2ZWMzKDAuMDAzMTMwOCkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uZyA6IHJlbWFpbmluZ1NlY3Rpb24uZywKY29sb3IuYjw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQojZW5kaWYKZmxvYXQgdG9MaW5lYXJTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKZmxvYXQgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yKzAuMDU1KSwyLjQpOwpyZXR1cm4gY29sb3I8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLExpbmVhckVuY29kZVBvd2VyQXBwcm94KTsKI2VuZGlmCn0KdmVjMyB0b0xpbmVhclNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKTsKI2VuZGlmCn0KdmVjNCB0b0xpbmVhclNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvTGluZWFyU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKI2VuZGlmCn0KZmxvYXQgdG9HYW1tYVNwYWNlKGZsb2F0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpmbG9hdCBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249MS4wNTUqcG93KGNvbG9yLDAuNDE2NjYpLTAuMDU1OwpyZXR1cm4gY29sb3I8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbiA6IHJlbWFpbmluZ1NlY3Rpb247CiNlbHNlCnJldHVybiBwb3coY29sb3IsR2FtbWFFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0dhbW1hU3BhY2VFeGFjdChjb2xvcik7CiNlbHNlCnJldHVybiBwb3coY29sb3IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9HYW1tYVNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvR2FtbWFTcGFjZUV4YWN0KGNvbG9yLnJnYiksY29sb3IuYSk7CiNlbHNlCnJldHVybiB2ZWM0KHBvdyhjb2xvci5yZ2IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHNxdWFyZShmbG9hdCB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KdmVjMyBzcXVhcmUodmVjMyB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KZmxvYXQgcG93NShmbG9hdCB2YWx1ZSkgewpmbG9hdCBzcT12YWx1ZSp2YWx1ZTsKcmV0dXJuIHNxKnNxKnZhbHVlOwp9CmZsb2F0IGdldEx1bWluYW5jZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBjbGFtcChkb3QoY29sb3IsTHVtaW5hbmNlRW5jb2RlQXBwcm94KSwwLiwxLik7Cn0KZmxvYXQgZ2V0UmFuZCh2ZWMyIHNlZWQpIHsKcmV0dXJuIGZyYWN0KHNpbihkb3Qoc2VlZC54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSo0Mzc1OC41NDUzKTsKfQpmbG9hdCBkaXRoZXIodmVjMiBzZWVkLGZsb2F0IHZhcmlhbmNlQW1vdW50KSB7CmZsb2F0IHJhbmQ9Z2V0UmFuZChzZWVkKTsKZmxvYXQgbm9ybVZhcmlhbmNlPXZhcmlhbmNlQW1vdW50LzI1NS4wOwpmbG9hdCBkaXRoZXI9bWl4KC1ub3JtVmFyaWFuY2Usbm9ybVZhcmlhbmNlLHJhbmQpOwpyZXR1cm4gZGl0aGVyOwp9CmNvbnN0IGZsb2F0IHJnYmRNYXhSYW5nZT0yNTUuMDsKdmVjNCB0b1JHQkQodmVjMyBjb2xvcikgewpmbG9hdCBtYXhSR0I9bWF4RXBzKG1heChjb2xvci5yLG1heChjb2xvci5nLGNvbG9yLmIpKSk7CmZsb2F0IEQgPW1heChyZ2JkTWF4UmFuZ2UvbWF4UkdCLDEuKTsKRCA9Y2xhbXAoZmxvb3IoRCkvMjU1LjAsMC4sMS4pOwp2ZWMzIHJnYj1jb2xvci5yZ2IqRDsKcmdiPXRvR2FtbWFTcGFjZShyZ2IpOwpyZXR1cm4gdmVjNChjbGFtcChyZ2IsMC4sMS4pLEQpOyAKfQp2ZWMzIGZyb21SR0JEKHZlYzQgcmdiZCkgewpyZ2JkLnJnYj10b0xpbmVhclNwYWNlKHJnYmQucmdiKTsKcmV0dXJuIHJnYmQucmdiL3JnYmQuYTsKfQp2ZWMzIHBhcmFsbGF4Q29ycmVjdE5vcm1hbCggdmVjMyB2ZXJ0ZXhQb3MsdmVjMyBvcmlnVmVjLHZlYzMgY3ViZVNpemUsdmVjMyBjdWJlUG9zICkgewp2ZWMzIGludk9yaWdWZWM9dmVjMygxLjAsMS4wLDEuMCkvb3JpZ1ZlYzsKdmVjMyBoYWxmU2l6ZT1jdWJlU2l6ZSowLjU7CnZlYzMgaW50ZXJzZWNBdE1heFBsYW5lPShjdWJlUG9zK2hhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBpbnRlcnNlY0F0TWluUGxhbmU9KGN1YmVQb3MtaGFsZlNpemUtdmVydGV4UG9zKSppbnZPcmlnVmVjOwp2ZWMzIGxhcmdlc3RJbnRlcnNlYz1tYXgoaW50ZXJzZWNBdE1heFBsYW5lLGludGVyc2VjQXRNaW5QbGFuZSk7CmZsb2F0IGRpc3RhbmNlPW1pbihtaW4obGFyZ2VzdEludGVyc2VjLngsbGFyZ2VzdEludGVyc2VjLnkpLGxhcmdlc3RJbnRlcnNlYy56KTsKdmVjMyBpbnRlcnNlY3RQb3NpdGlvbldTPXZlcnRleFBvcytvcmlnVmVjKmRpc3RhbmNlOwpyZXR1cm4gaW50ZXJzZWN0UG9zaXRpb25XUy1jdWJlUG9zOwp9CmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtiYV09eGE7Y29uc3QgdmE9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLE1hPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZhXT1NYTtjb25zdCBBYT0ibWVzaFZlcnRleERlY2xhcmF0aW9uIixSYT1gdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtBYV09UmE7Y29uc3QgeWE9InNoYWRvd01hcFZlcnRleERlY2xhcmF0aW9uIixDYT1gI2luY2x1ZGU8c2NlbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFZlcnRleERlY2xhcmF0aW9uPgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbeWFdPUNhO2NvbnN0IElhPSJzY2VuZVVib0RlY2xhcmF0aW9uIixQYT1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYgCm1hdDQgdmlldzsKbWF0NCBwcm9qZWN0aW9uOwp2ZWM0IHZFeWVQb3NpdGlvbjsKfTsKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0lhXT1QYTtjb25zdCBEYT0ibWVzaFVib0RlY2xhcmF0aW9uIixGYT1gI2lmZGVmIFdFQkdMMgp1bmlmb3JtIG1hdDQgd29ybGQ7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2Vsc2UKbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWVzaAp7Cm1hdDQgd29ybGQ7CmZsb2F0IHZpc2liaWxpdHk7Cn07CiNlbmRpZgojZGVmaW5lIFdPUkxEX1VCTwpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbRGFdPUZhO2NvbnN0IHdhPSJzaGFkb3dNYXBVYm9EZWNsYXJhdGlvbiIsT2E9YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwojaW5jbHVkZTxzY2VuZVVib0RlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVWJvRGVjbGFyYXRpb24+CmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3YV09T2E7Y29uc3QgTGE9InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLE5hPWAjaWYgU01fTk9STUFMQklBUz09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0U9PTEKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbTGFdPU5hO2NvbnN0IEJhPSJjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbiIsVWE9YCNpZmRlZiBDTElQUExBTkUKdW5pZm9ybSB2ZWM0IHZDbGlwUGxhbmU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMzsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNDsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNTsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCYV09VWE7Y29uc3Qga2E9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbCIsVmE9YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmZsb2F0IHZlcnRleElEOwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrYV09VmE7Y29uc3QgV2E9Im1vcnBoVGFyZ2V0c1ZlcnRleCIsemE9YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIAp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkueHktdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2Vsc2UKcG9zaXRpb25VcGRhdGVkKz0ocG9zaXRpb257WH0tcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0obm9ybWFse1h9LW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0odGFuZ2VudHtYfS10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHV2X3tYfS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtXYV09emE7Y29uc3QgR2E9Imluc3RhbmNlc1ZlcnRleCIsWGE9YCNpZmRlZiBJTlNUQU5DRVMKbWF0NCBmaW5hbFdvcmxkPW1hdDQod29ybGQwLHdvcmxkMSx3b3JsZDIsd29ybGQzKTsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9bWF0NChwcmV2aW91c1dvcmxkMCxwcmV2aW91c1dvcmxkMSxwcmV2aW91c1dvcmxkMixwcmV2aW91c1dvcmxkMyk7CiNlbmRpZgojaWZkZWYgVEhJTl9JTlNUQU5DRVMKZmluYWxXb3JsZD13b3JsZCpmaW5hbFdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQpmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZCpmaW5hbFByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKbWF0NCBmaW5hbFdvcmxkPXdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQptYXQ0IGZpbmFsUHJldmlvdXNXb3JsZD1wcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHYV09WGE7Y29uc3QgSGE9ImJvbmVzVmVydGV4IixLYT1gI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBpbmZsdWVuY2U7CiNpZmRlZiBCT05FVEVYVFVSRQppbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1swXSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMV0pKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1syXSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzNdKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVswXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsxXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsyXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVszXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgojZWxzZQppbmZsdWVuY2U9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCppbmZsdWVuY2U7CiNlbmRpZgojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hhXT1LYTtjb25zdCBZYT0iYmFrZWRWZXJ0ZXhBbmltYXRpb24iLFphPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnsKI2lmZGVmIElOU1RBTkNFUwojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQKI2Vsc2UKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzCiNlbmRpZgpmbG9hdCBWQVRTdGFydEZyYW1lPUJWQVNOQU1FLng7CmZsb2F0IFZBVEVuZEZyYW1lPUJWQVNOQU1FLnk7CmZsb2F0IFZBVE9mZnNldEZyYW1lPUJWQVNOQU1FLno7CmZsb2F0IFZBVFNwZWVkPUJWQVNOQU1FLnc7CmZsb2F0IHRvdGFsRnJhbWVzPVZBVEVuZEZyYW1lLVZBVFN0YXJ0RnJhbWUrMS4wOwpmbG9hdCB0aW1lPWJha2VkVmVydGV4QW5pbWF0aW9uVGltZSpWQVRTcGVlZC90b3RhbEZyYW1lczsKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lhXT1aYTtjb25zdCBxYT0ic2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcyIsamE9YCNpZiBTTV9OT1JNQUxCSUFTPT0xCiNpZiBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQT09MQp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoLWxpZ2h0RGF0YVNNLnh5eik7CiNlbHNlCnZlYzMgZGlyZWN0aW9uVG9MaWdodFNNPWxpZ2h0RGF0YVNNLnh5ei13b3JsZFBvcy54eXo7CnZlYzMgd29ybGRMaWdodERpclNNPW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0U00pOwojZW5kaWYKZmxvYXQgbmRsU009ZG90KHZOb3JtYWxXLHdvcmxkTGlnaHREaXJTTSk7CmZsb2F0IHNpbk5MU009c3FydCgxLjAtbmRsU00qbmRsU00pOwpmbG9hdCBub3JtYWxCaWFzU009Ymlhc0FuZFNjYWxlU00ueSpzaW5OTFNNOwp3b3JsZFBvcy54eXotPXZOb3JtYWxXKm5vcm1hbEJpYXNTTTsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxYV09amE7Y29uc3QgUWE9InNoYWRvd01hcFZlcnRleE1ldHJpYyIsJGE9YCNpZiBTTV9VU0VESVNUQU5DRT09MQp2UG9zaXRpb25XU009d29ybGRQb3MueHl6OwojZW5kaWYKI2lmIFNNX0RFUFRIVEVYVFVSRT09MQojaWZkZWYgSVNfTkRDX0hBTEZfWlJBTkdFCiNkZWZpbmUgQklBU0ZBQ1RPUiAwLjUKI2Vsc2UKI2RlZmluZSBCSUFTRkFDVE9SIDEuMAojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX1Bvc2l0aW9uLnotPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZWxzZQpnbF9Qb3NpdGlvbi56Kz1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnpTTT1nbF9Qb3NpdGlvbi56OwpnbF9Qb3NpdGlvbi56PTAuMDsKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTAKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY1NNPSgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZWxzZQp2RGVwdGhNZXRyaWNTTT0oZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtRYV09JGE7Y29uc3QgSmE9ImNsaXBQbGFuZVZlcnRleCIsZW89YCNpZmRlZiBDTElQUExBTkUKZkNsaXBEaXN0YW5jZT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgpmQ2xpcERpc3RhbmNlMj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTIpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZkNsaXBEaXN0YW5jZTM9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUzKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmZDbGlwRGlzdGFuY2U0PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNCk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQpmQ2xpcERpc3RhbmNlNT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZkNsaXBEaXN0YW5jZTY9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU2KTsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKYV09ZW87Y29uc3QgdG89InNoYWRvd01hcFZlcnRleFNoYWRlciIsaW89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19zaGFkb3dNYXBWZXJ0ZXg+CiNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybVdvcmxkU009bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2ZWMzIHZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybVdvcmxkU01bMF0sbm9ybVdvcmxkU01bMF0pLGRvdChub3JtV29ybGRTTVsxXSxub3JtV29ybGRTTVsxXSksZG90KG5vcm1Xb3JsZFNNWzJdLG5vcm1Xb3JsZFNNWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtV29ybGRTTT10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1Xb3JsZFNNKSk7CiNlbmRpZgp2ZWMzIHZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhOb3JtYWxCaWFzPgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4TWV0cmljPgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KfWA7Ti5TaGFkZXJzU3RvcmVbdG9dPWlvO2NvbnN0IHNvPSJkZXB0aEJveEJsdXJQaXhlbFNoYWRlciIscm89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjNCBjb2xvckRlcHRoPXZlYzQoMC4wKTsKZm9yIChpbnQgeD0tT0ZGU0VUOyB4PD1PRkZTRVQ7IHgrKykKZm9yIChpbnQgeT0tT0ZGU0VUOyB5PD1PRkZTRVQ7IHkrKykKY29sb3JEZXB0aCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHZVVit2ZWMyKHgseSkvc2NyZWVuU2l6ZSk7CmdsX0ZyYWdDb2xvcj0oY29sb3JEZXB0aC9mbG9hdCgoT0ZGU0VUKjIrMSkqKE9GRlNFVCoyKzEpKSk7Cn1gO04uU2hhZGVyc1N0b3JlW3NvXT1ybztjb25zdCBubz0ic2hhZG93TWFwRnJhZ21lbnRTb2Z0VHJhbnNwYXJlbnRTaGFkb3ciLGFvPWAjaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtub109YW87Y2xhc3MgV3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IEYsdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPVcuRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1XLlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1nLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PXguWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9eC5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBnKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IGcoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD14LklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHQuX3NoYWRvd0dlbmVyYXRvcj10aGlzLHRoaXMuaWQ9dC5pZCx0aGlzLl91c2VVQk89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZVVCT3M9W10sdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGBTY2VuZSBmb3IgU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIiR7dGhpcy5fbGlnaHQubmFtZX0iKWApKSksVy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7Y29uc3Qgcz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7aT9zLnRleHR1cmVGbG9hdFJlbmRlciYmcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTpzLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJnMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOnRoaXMuX3RleHR1cmVUeXBlPTA6cy50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MjpzLnRleHR1cmVGbG9hdFJlbmRlciYmcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTp0aGlzLl90ZXh0dXJlVHlwZT0wLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpfWdldCBiaWFzKCl7cmV0dXJuIHRoaXMuX2JpYXN9c2V0IGJpYXMoZSl7dGhpcy5fYmlhcz1lfWdldCBub3JtYWxCaWFzKCl7cmV0dXJuIHRoaXMuX25vcm1hbEJpYXN9c2V0IG5vcm1hbEJpYXMoZSl7dGhpcy5fbm9ybWFsQmlhcz1lfWdldCBibHVyQm94T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX2JsdXJCb3hPZmZzZXR9c2V0IGJsdXJCb3hPZmZzZXQoZSl7dGhpcy5fYmx1ckJveE9mZnNldCE9PWUmJih0aGlzLl9ibHVyQm94T2Zmc2V0PWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCBibHVyU2NhbGUoKXtyZXR1cm4gdGhpcy5fYmx1clNjYWxlfXNldCBibHVyU2NhbGUoZSl7dGhpcy5fYmx1clNjYWxlIT09ZSYmKHRoaXMuX2JsdXJTY2FsZT1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgYmx1cktlcm5lbCgpe3JldHVybiB0aGlzLl9ibHVyS2VybmVsfXNldCBibHVyS2VybmVsKGUpe3RoaXMuX2JsdXJLZXJuZWwhPT1lJiYodGhpcy5fYmx1cktlcm5lbD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgdXNlS2VybmVsQmx1cigpe3JldHVybiB0aGlzLl91c2VLZXJuZWxCbHVyfXNldCB1c2VLZXJuZWxCbHVyKGUpe3RoaXMuX3VzZUtlcm5lbEJsdXIhPT1lJiYodGhpcy5fdXNlS2VybmVsQmx1cj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgZGVwdGhTY2FsZSgpe3JldHVybiB0aGlzLl9kZXB0aFNjYWxlIT09dm9pZCAwP3RoaXMuX2RlcHRoU2NhbGU6dGhpcy5fbGlnaHQuZ2V0RGVwdGhTY2FsZSgpfXNldCBkZXB0aFNjYWxlKGUpe3RoaXMuX2RlcHRoU2NhbGU9ZX1fdmFsaWRhdGVGaWx0ZXIoZSl7cmV0dXJuIGV9Z2V0IGZpbHRlcigpe3JldHVybiB0aGlzLl9maWx0ZXJ9c2V0IGZpbHRlcihlKXtpZihlPXRoaXMuX3ZhbGlkYXRlRmlsdGVyKGUpLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCkpe2lmKGU9PT1XLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVApe3RoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA7cmV0dXJufWVsc2UgaWYoZT09PVcuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA7cmV0dXJufWVsc2UgaWYoZT09PVcuRklMVEVSX1BDRnx8ZT09PVcuRklMVEVSX1BDU1Mpe3RoaXMudXNlUG9pc3NvblNhbXBsaW5nPSEwO3JldHVybn19aWYoKGU9PT1XLkZJTFRFUl9QQ0Z8fGU9PT1XLkZJTFRFUl9QQ1NTKSYmIXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5zdXBwb3J0U2hhZG93U2FtcGxlcnMpe3RoaXMudXNlUG9pc3NvblNhbXBsaW5nPSEwO3JldHVybn10aGlzLl9maWx0ZXIhPT1lJiYodGhpcy5fZmlsdGVyPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgdXNlUG9pc3NvblNhbXBsaW5nKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Vy5GSUxURVJfUE9JU1NPTlNBTVBMSU5HfXNldCB1c2VQb2lzc29uU2FtcGxpbmcoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihXLkZJTFRFUl9QT0lTU09OU0FNUExJTkcpOyFlJiZ0aGlzLmZpbHRlciE9PVcuRklMVEVSX1BPSVNTT05TQU1QTElOR3x8KHRoaXMuZmlsdGVyPWU/dDpXLkZJTFRFUl9OT05FKX1nZXQgdXNlRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1XLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihXLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Vy5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Vy5GSUxURVJfTk9ORSl9Z2V0IHVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PVcuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoVy5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1XLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Vy5GSUxURVJfTk9ORSl9Z2V0IHVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1XLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoVy5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Vy5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpXLkZJTFRFUl9OT05FKX1nZXQgdXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1XLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihXLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Vy5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Vy5GSUxURVJfTk9ORSl9Z2V0IHVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1XLkZJTFRFUl9QQ0Z9c2V0IHVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihXLkZJTFRFUl9QQ0YpOyFlJiZ0aGlzLmZpbHRlciE9PVcuRklMVEVSX1BDRnx8KHRoaXMuZmlsdGVyPWU/dDpXLkZJTFRFUl9OT05FKX1nZXQgZmlsdGVyaW5nUXVhbGl0eSgpe3JldHVybiB0aGlzLl9maWx0ZXJpbmdRdWFsaXR5fXNldCBmaWx0ZXJpbmdRdWFsaXR5KGUpe3RoaXMuX2ZpbHRlcmluZ1F1YWxpdHkhPT1lJiYodGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IHVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3coKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1XLkZJTFRFUl9QQ1NTfXNldCB1c2VDb250YWN0SGFyZGVuaW5nU2hhZG93KGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoVy5GSUxURVJfUENTUyk7IWUmJnRoaXMuZmlsdGVyIT09Vy5GSUxURVJfUENTU3x8KHRoaXMuZmlsdGVyPWU/dDpXLkZJTFRFUl9OT05FKX1nZXQgY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8oKXtyZXR1cm4gdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW99c2V0IGNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKGUpe3RoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPWV9Z2V0IGRhcmtuZXNzKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfXNldCBkYXJrbmVzcyhlKXt0aGlzLnNldERhcmtuZXNzKGUpfWdldERhcmtuZXNzKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfXNldERhcmtuZXNzKGUpe3JldHVybiBlPj0xP3RoaXMuX2RhcmtuZXNzPTE6ZTw9MD90aGlzLl9kYXJrbmVzcz0wOnRoaXMuX2RhcmtuZXNzPWUsdGhpc31nZXQgdHJhbnNwYXJlbmN5U2hhZG93KCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvd31zZXQgdHJhbnNwYXJlbmN5U2hhZG93KGUpe3RoaXMuc2V0VHJhbnNwYXJlbmN5U2hhZG93KGUpfXNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93PWUsdGhpc31nZXRTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5fc2hhZG93TWFwfWdldFNoYWRvd01hcEZvclJlbmRlcmluZygpe3JldHVybiB0aGlzLl9zaGFkb3dNYXAyP3RoaXMuX3NoYWRvd01hcDI6dGhpcy5fc2hhZG93TWFwfWdldENsYXNzTmFtZSgpe3JldHVybiBXLkNMQVNTTkFNRX1hZGRTaGFkb3dDYXN0ZXIoZSx0PSEwKXtpZighdGhpcy5fc2hhZG93TWFwKXJldHVybiB0aGlzO2lmKHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChlKSx0KWZvcihjb25zdCBpIG9mIGUuZ2V0Q2hpbGRNZXNoZXMoKSl0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGkpPT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goaSk7cmV0dXJuIHRoaXN9cmVtb3ZlU2hhZG93Q2FzdGVyKGUsdD0hMCl7aWYoIXRoaXMuX3NoYWRvd01hcHx8IXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXJldHVybiB0aGlzO2NvbnN0IGk9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihlKTtpZihpIT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnNwbGljZShpLDEpLHQpZm9yKGNvbnN0IHMgb2YgZS5nZXRDaGlsZHJlbigpKXRoaXMucmVtb3ZlU2hhZG93Q2FzdGVyKHMpO3JldHVybiB0aGlzfWdldExpZ2h0KCl7cmV0dXJuIHRoaXMuX2xpZ2h0fWdldCBtYXBTaXplKCl7cmV0dXJuIHRoaXMuX21hcFNpemV9c2V0IG1hcFNpemUoZSl7dGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfV9pbml0aWFsaXplR2VuZXJhdG9yKCl7dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9pbml0aWFsaXplU2hhZG93TWFwKCl9X2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2UuX2ZlYXR1cmVzLnN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlPyh0aGlzLl9zaGFkb3dNYXA9bmV3IGR0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAiLHRoaXMuX21hcFNpemUsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdGhpcy5fbGlnaHQubmVlZEN1YmUoKSx2b2lkIDAsITEsITEpLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApKTp0aGlzLl9zaGFkb3dNYXA9bmV3IGR0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAiLHRoaXMuX21hcFNpemUsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl9X2luaXRpYWxpemVTaGFkb3dNYXAoKXtpZih0aGlzLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlKCksdGhpcy5fc2hhZG93TWFwPT09bnVsbClyZXR1cm47dGhpcy5fc2hhZG93TWFwLndyYXBVPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLndyYXBWPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9MSx0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKEIuQklMSU5FQVJfU0FNUExJTkdNT0RFKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX3NoYWRvd01hcC5pZ25vcmVDYW1lcmFWaWV3cG9ydD0hMCx0aGlzLl9zdG9yZWRVbmlxdWVJZCYmKHRoaXMuX3NoYWRvd01hcC51bmlxdWVJZD10aGlzLl9zdG9yZWRVbmlxdWVJZCksdGhpcy5fc2hhZG93TWFwLmN1c3RvbVJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckZvclNoYWRvd01hcC5iaW5kKHRoaXMpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249KCk9PiEwO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHM7dGhpcy5fY3VycmVudFNjZW5lVUJPPXRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLChzPWUuX2RlYnVnUHVzaEdyb3VwKT09bnVsbHx8cy5jYWxsKGUsYHNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAke2UuY3VycmVudFJlbmRlclBhc3NJZH1gLDEpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX3NjZW5lVUJPcyYmdGhpcy5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuX3NjZW5lVUJPc1swXSksdGhpcy5fY3VycmVudEZhY2VJbmRleD1zLHRoaXMuX2ZpbHRlcj09PVcuRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCExKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX3NjZW5lLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLl92aWV3TWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLnVuYmluZEVmZmVjdCgpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSl9KSx0aGlzLl9zaGFkb3dNYXAub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHIsbjtpZih0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9jdXJyZW50U2NlbmVVQk8pLHRoaXMuX3NjZW5lLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX2ZpbHRlcj09PVcuRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCEwKSwhdGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAmJiF0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKXsocj1lLl9kZWJ1Z1BvcEdyb3VwKT09bnVsbHx8ci5jYWxsKGUsMSk7cmV0dXJufWNvbnN0IHM9dGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKTtzJiYodGhpcy5fc2NlbmUucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcih0aGlzLl9ibHVyUG9zdFByb2Nlc3NlcyxzLnJlbmRlclRhcmdldCwhMCksZS51bkJpbmRGcmFtZWJ1ZmZlcihzLnJlbmRlclRhcmdldCwhMCksKG49ZS5fZGVidWdQb3BHcm91cCk9PW51bGx8fG4uY2FsbChlLDEpKX0pO2NvbnN0IHQ9bmV3IGdlKDAsMCwwLDApLGk9bmV3IGdlKDEsMSwxLDEpO3RoaXMuX3NoYWRvd01hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX2ZpbHRlcj09PVcuRklMVEVSX1BDRj9zLmNsZWFyKGksITEsITAsITEpOnRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP3MuY2xlYXIodCwhMCwhMCwhMSk6cy5jbGVhcihpLCEwLCEwLCExKX0pLHRoaXMuX3NoYWRvd01hcC5vblJlc2l6ZU9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zdG9yZWRVbmlxdWVJZD10aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQsdGhpcy5fbWFwU2l6ZT1zLmdldFJlbmRlclNpemUoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKX0pO2ZvcihsZXQgcz1qZS5NSU5fUkVOREVSSU5HR1JPVVBTO3M8amUuTUFYX1JFTkRFUklOR0dST1VQUztzKyspdGhpcy5fc2hhZG93TWFwLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChzLCExKX1faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX21hcFNpemUvdGhpcy5ibHVyU2NhbGU7KCF0aGlzLnVzZUtlcm5lbEJsdXJ8fHRoaXMuYmx1clNjYWxlIT09MSkmJih0aGlzLl9zaGFkb3dNYXAyPW5ldyBkdCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwMiIsdCx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx2b2lkIDAsdm9pZCAwLCExKSx0aGlzLl9zaGFkb3dNYXAyLndyYXBVPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi53cmFwVj1CLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIudXBkYXRlU2FtcGxpbmdNb2RlKEIuQklMSU5FQVJfU0FNUExJTkdNT0RFKSksdGhpcy51c2VLZXJuZWxCbHVyPyh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzPW5ldyBRdCh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWCIsbmV3IHRlKDEsMCksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxCLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLndpZHRoPXQsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5oZWlnaHQ9dCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGk9PntpLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0aGlzLl9zaGFkb3dNYXApfSksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1uZXcgUXQodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clkiLG5ldyB0ZSgwLDEpLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsQi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgTGUodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsQi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSwiI2RlZmluZSBPRkZTRVQgIit0aGlzLl9ibHVyQm94T2Zmc2V0LHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChpPT57aS5zZXRGbG9hdDIoInNjcmVlblNpemUiLHQsdCksaS5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdGhpcy5fc2hhZG93TWFwKX0pLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2JveEJsdXJQb3N0cHJvY2Vzc10pfV9yZW5kZXJGb3JTaGFkb3dNYXAoZSx0LGkscyl7bGV0IHI7aWYocy5sZW5ndGgpZm9yKHI9MDtyPHMubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHMuZGF0YVtyXSk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUuZGF0YVtyXSk7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHQuZGF0YVtyXSk7aWYodGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93KWZvcihyPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChpLmRhdGFbcl0sITApO2Vsc2UgZm9yKHI9MDtyPGkubGVuZ3RoO3IrKylpLmRhdGFbcl0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0LGkpe3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSl9X3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0PSExKXt2YXIgZCxfO2NvbnN0IGk9ZS5nZXRSZW5kZXJpbmdNZXNoKCkscz1lLmdldEVmZmVjdGl2ZU1lc2goKSxyPXRoaXMuX3NjZW5lLG49ci5nZXRFbmdpbmUoKSxhPWUuZ2V0TWF0ZXJpYWwoKTtpZihzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhYXx8ZS52ZXJ0aWNlc0NvdW50PT09MHx8ZS5fcmVuZGVySWQ9PT1yLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IG89cy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IGg9KGQ9aS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9bnVsbD9kOmEuc2lkZU9yaWVudGF0aW9uO28mJihoPWg9PT0wPzE6MCk7Y29uc3QgbD1oPT09MDtuLnNldFN0YXRlKGEuYmFja0ZhY2VDdWxsaW5nLHZvaWQgMCx2b2lkIDAsbCxhLmN1bGxCYWNrRmFjZXMpO2NvbnN0IHU9aS5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLl9pZCwhIWUuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpO2lmKHUubXVzdFJldHVybilyZXR1cm47Y29uc3QgZj1uLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJih1LnZpc2libGVJbnN0YW5jZXNbZS5faWRdIT09bnVsbCYmdS52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PXZvaWQgMHx8aS5oYXNUaGluSW5zdGFuY2VzKTtpZighKHRoaXMuY3VzdG9tQWxsb3dSZW5kZXJpbmcmJiF0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nKGUpKSlpZih0aGlzLmlzUmVhZHkoZSxmLHQpKXtlLl9yZW5kZXJJZD1yLmdldFJlbmRlcklkKCk7Y29uc3QgRT1hLnNoYWRvd0RlcHRoV3JhcHBlcixtPShfPUU9PW51bGw/dm9pZCAwOkUuZ2V0RWZmZWN0KGUsdGhpcyxuLmN1cnJlbnRSZW5kZXJQYXNzSWQpKSE9bnVsbD9fOmUuX2dldERyYXdXcmFwcGVyKCksVD1SaS5HZXRFZmZlY3QobSk7aWYobi5lbmFibGVFZmZlY3QobSksZnx8aS5fYmluZChlLFQsYS5maWxsTW9kZSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSxULnNldEZsb2F0MygiYmlhc0FuZFNjYWxlU00iLHRoaXMuYmlhcyx0aGlzLm5vcm1hbEJpYXMsdGhpcy5kZXB0aFNjYWxlKSx0aGlzLmdldExpZ2h0KCkuZ2V0VHlwZUlEKCk9PT1hZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUP1Quc2V0VmVjdG9yMygibGlnaHREYXRhU00iLHRoaXMuX2NhY2hlZERpcmVjdGlvbik6VC5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkUG9zaXRpb24pLHIuYWN0aXZlQ2FtZXJhJiZULnNldEZsb2F0MigiZGVwdGhWYWx1ZXNTTSIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyLmFjdGl2ZUNhbWVyYSkrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihyLmFjdGl2ZUNhbWVyYSkpLHQmJnRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZULnNldEZsb2F0KCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIscy52aXNpYmlsaXR5KmEuYWxwaGEpLEUpZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobSksRS5zdGFuZGFsb25lP0UuYmFzZU1hdGVyaWFsLmJpbmRGb3JTdWJNZXNoKHMuZ2V0V29ybGRNYXRyaXgoKSxpLGUpOmEuYmluZEZvclN1Yk1lc2gocy5nZXRXb3JsZE1hdHJpeCgpLGksZSksZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobnVsbCk7ZWxzZXtpZihhJiZ0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3cpe2NvbnN0IFI9YS5vcGFjaXR5VGV4dHVyZTtSJiYoVC5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsUiksVC5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLFIuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWVsc2UgaWYoYSYmYS5uZWVkQWxwaGFUZXN0aW5nKCkpe2NvbnN0IFI9YS5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7UiYmKFQuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLFIpLFQuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4IixSLmdldFRleHR1cmVNYXRyaXgoKXx8dGhpcy5fZGVmYXVsdFRleHR1cmVNYXRyaXgpKX1pZihpLnVzZUJvbmVzJiZpLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmaS5za2VsZXRvbil7Y29uc3QgUj1pLnNrZWxldG9uO2lmKFIuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7Y29uc3QgeT1SLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoaSk7aWYoIXkpcmV0dXJuO1Quc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLHkpLFQuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKFIuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIFQuc2V0TWF0cmljZXMoIm1Cb25lcyIsUi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhpKSl9ZWUuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhpLFQpLGkubW9ycGhUYXJnZXRNYW5hZ2VyJiZpLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmkubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKFQpLGVlLkJpbmRDbGlwUGxhbmUoVCxyKX0hdGhpcy5fdXNlVUJPJiYhRSYmdGhpcy5fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSxULHMpLGVlLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIoVCx0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSksdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkuYmluZFVuaWZvcm1CdWZmZXIoKTtjb25zdCBiPXMuZ2V0V29ybGRNYXRyaXgoKTtmJiYocy5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdChULCJNZXNoIikscy50cmFuc2ZlclRvRWZmZWN0KGIpKSx0aGlzLmZvcmNlQmFja0ZhY2VzT25seSYmbi5zZXRTdGF0ZSghMCwwLCExLCEwLGEuY3VsbEJhY2tGYWNlcyksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoVCksaS5fcHJvY2Vzc1JlbmRlcmluZyhzLGUsVCxhLmZpbGxNb2RlLHUsZiwoUix5KT0+e3MhPT1pJiYhUj8oaS5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdChULCJNZXNoIiksaS50cmFuc2ZlclRvRWZmZWN0KHkpKToocy5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdChULCJNZXNoIikscy50cmFuc2ZlclRvRWZmZWN0KFI/eTpiKSl9KSx0aGlzLmZvcmNlQmFja0ZhY2VzT25seSYmbi5zZXRTdGF0ZSghMCwwLCExLCExLGEuY3VsbEJhY2tGYWNlcyksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoVCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpfWVsc2UgdGhpcy5fc2hhZG93TWFwJiZ0aGlzLl9zaGFkb3dNYXAucmVzZXRSZWZyZXNoQ291bnRlcigpfV9hcHBseUZpbHRlclZhbHVlcygpeyF0aGlzLl9zaGFkb3dNYXB8fCh0aGlzLmZpbHRlcj09PVcuRklMVEVSX05PTkV8fHRoaXMuZmlsdGVyPT09Vy5GSUxURVJfUENTUz90aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKEIuTkVBUkVTVF9TQU1QTElOR01PREUpOnRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoQi5CSUxJTkVBUl9TQU1QTElOR01PREUpKX1mb3JjZUNvbXBpbGF0aW9uKGUsdCl7Y29uc3QgaT17dXNlSW5zdGFuY2VzOiExLC4uLnR9LHM9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighcyl7ZSYmZSh0aGlzKTtyZXR1cm59Y29uc3Qgcj1zLnJlbmRlckxpc3Q7aWYoIXIpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IG49bmV3IEFycmF5O2Zvcihjb25zdCBoIG9mIHIpbi5wdXNoKC4uLmguc3ViTWVzaGVzKTtpZihuLmxlbmd0aD09PTApe2UmJmUodGhpcyk7cmV0dXJufWxldCBhPTA7Y29uc3Qgbz0oKT0+e3ZhciBoLGw7aWYoISghdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSkpe2Zvcig7dGhpcy5pc1JlYWR5KG5bYV0saS51c2VJbnN0YW5jZXMsKGw9KGg9blthXS5nZXRNYXRlcmlhbCgpKT09bnVsbD92b2lkIDA6aC5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goblthXS5nZXRNZXNoKCkpKSE9bnVsbD9sOiExKTspaWYoYSsrLGE+PW4ubGVuZ3RoKXtlJiZlKHRoaXMpO3JldHVybn1zZXRUaW1lb3V0KG8sMTYpfX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZm9yY2VDb21waWxhdGlvbigoKT0+e3QoKX0sZSl9KX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSx0LGkpe31fcHJlcGFyZVNoYWRvd0RlZmluZXMoZSx0LGkscyl7aS5wdXNoKCIjZGVmaW5lIFNNX0ZMT0FUICIrKHRoaXMuX3RleHR1cmVUeXBlIT09MD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0VTTSAiKyh0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIVEVYVFVSRSAiKyh0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmd8fHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8iMSI6IjAiKSk7Y29uc3Qgcj1lLmdldE1lc2goKTtyZXR1cm4gaS5wdXNoKCIjZGVmaW5lIFNNX05PUk1BTEJJQVMgIisodGhpcy5ub3JtYWxCaWFzJiZyLmlzVmVydGljZXNEYXRhUHJlc2VudChwLk5vcm1hbEtpbmQpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fRElSRUNUSU9OSU5MSUdIVERBVEEgIisodGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09YWUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX1VTRURJU1RBTkNFICIrKHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCk/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1cgIisodGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJnM/IjEiOiIwIikpLHRoaXMuX2lzUmVhZHlDdXN0b21EZWZpbmVzKGksZSx0KSxpfWlzUmVhZHkoZSx0LGkpe3ZhciBhO2NvbnN0IHM9ZS5nZXRNYXRlcmlhbCgpLHI9cz09bnVsbD92b2lkIDA6cy5zaGFkb3dEZXB0aFdyYXBwZXIsbj1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsbixpKSxyKXtpZighci5pc1JlYWR5Rm9yU3ViTWVzaChlLG4sdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7Y29uc3Qgbz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO2xldCBoPW8uZWZmZWN0LGw9by5kZWZpbmVzO2NvbnN0IHU9W3AuUG9zaXRpb25LaW5kXSxmPWUuZ2V0TWVzaCgpO2lmKHRoaXMubm9ybWFsQmlhcyYmZi5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5Ob3JtYWxLaW5kKSYmKHUucHVzaChwLk5vcm1hbEtpbmQpLG4ucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxmLm5vblVuaWZvcm1TY2FsaW5nJiZuLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSkscyYmcy5uZWVkQWxwaGFUZXN0aW5nKCkpe2xldCBiPW51bGw7aWYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93P2I9cy5vcGFjaXR5VGV4dHVyZTpiPXMuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLGIpe2lmKCFiLmlzUmVhZHkoKSlyZXR1cm4hMTtjb25zdCBSPShhPXMuYWxwaGFDdXRPZmYpIT1udWxsP2E6Vy5ERUZBVUxUX0FMUEhBX0NVVE9GRjtuLnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksbi5wdXNoKGAjZGVmaW5lIEFMUEhBVEVTVFZBTFVFICR7Un0ke1IlMT09PTA/Ii4iOiIifWApLGYuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHAuVVZLaW5kKSYmKHUucHVzaChwLlVWS2luZCksbi5wdXNoKCIjZGVmaW5lIFVWMSIpKSxmLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWMktpbmQpJiZiLmNvb3JkaW5hdGVzSW5kZXg9PT0xJiYodS5wdXNoKHAuVVYyS2luZCksbi5wdXNoKCIjZGVmaW5lIFVWMiIpKX19Y29uc3QgZD1uZXcgTnM7aWYoZi51c2VCb25lcyYmZi5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmYuc2tlbGV0b24pe3UucHVzaChwLk1hdHJpY2VzSW5kaWNlc0tpbmQpLHUucHVzaChwLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGYubnVtQm9uZUluZmx1ZW5jZXJzPjQmJih1LnB1c2gocC5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLHUucHVzaChwLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpO2NvbnN0IGI9Zi5za2VsZXRvbjtuLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgIitmLm51bUJvbmVJbmZsdWVuY2VycyksZi5udW1Cb25lSW5mbHVlbmNlcnM+MCYmZC5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsZiksYi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzP24ucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpOm4ucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoYi5ib25lcy5sZW5ndGgrMSkpfWVsc2Ugbi5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTtjb25zdCBfPWYubW9ycGhUYXJnZXRNYW5hZ2VyO2xldCBFPTA7XyYmXy5udW1JbmZsdWVuY2Vycz4wJiYobi5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUUyIpLEU9Xy5udW1JbmZsdWVuY2VycyxuLnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrRSksXy5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJm4ucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLGVlLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnModSxmLEUpKTtjb25zdCBtPXRoaXMuX3NjZW5lO2lmKG0uY2xpcFBsYW5lJiZuLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FIiksbS5jbGlwUGxhbmUyJiZuLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FMiIpLG0uY2xpcFBsYW5lMyYmbi5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTMiKSxtLmNsaXBQbGFuZTQmJm4ucHVzaCgiI2RlZmluZSBDTElQUExBTkU0IiksbS5jbGlwUGxhbmU1JiZuLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNSIpLG0uY2xpcFBsYW5lNiYmbi5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTYiKSx0JiYobi5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLGVlLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJm4ucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcihjb25zdCBiIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKW4uaW5kZXhPZihiKT09PS0xJiZuLnB1c2goYik7Y29uc3QgVD1uLmpvaW4oYApgKTtpZihsIT09VCl7bD1UO2xldCBiPSJzaGFkb3dNYXAiO2NvbnN0IFI9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2Iiwic29mdFRyYW5zcGFyZW50U2hhZG93U00iLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLHk9WyJkaWZmdXNlU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIl0sRD1bIlNjZW5lIiwiTWVzaCJdO2lmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucyl7aWYoYj10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2hhZGVyTmFtZSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcylmb3IoY29uc3QgQSBvZiB0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcyl1LmluZGV4T2YoQSk9PT0tMSYmdS5wdXNoKEEpO2lmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy51bmlmb3Jtcylmb3IoY29uc3QgQSBvZiB0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpUi5pbmRleE9mKEEpPT09LTEmJlIucHVzaChBKTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2FtcGxlcnMpZm9yKGNvbnN0IEEgb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKXkuaW5kZXhPZihBKT09PS0xJiZ5LnB1c2goQSl9Y29uc3Qgdj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtoPXYuY3JlYXRlRWZmZWN0KGIse2F0dHJpYnV0ZXM6dSx1bmlmb3Jtc05hbWVzOlIsdW5pZm9ybUJ1ZmZlcnNOYW1lczpELHNhbXBsZXJzOnksZGVmaW5lczpULGZhbGxiYWNrczpkLG9uQ29tcGlsZWQ6bnVsbCxvbkVycm9yOm51bGwsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6RX19LHYpLG8uc2V0RWZmZWN0KGgsbCl9aWYoIWguaXNSZWFkeSgpKXJldHVybiExfXJldHVybih0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCkmJighdGhpcy5fYmx1clBvc3RQcm9jZXNzZXN8fCF0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcy5sZW5ndGgpJiZ0aGlzLl9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXMoKSwhKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmIXRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuaXNSZWFkeSgpfHx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJiF0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuaXNSZWFkeSgpKX1wcmVwYXJlRGVmaW5lcyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUscz10aGlzLl9saWdodDshaS5zaGFkb3dzRW5hYmxlZHx8IXMuc2hhZG93RW5hYmxlZHx8KGVbIlNIQURPVyIrdF09ITAsdGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PyhlWyJTSEFET1dQQ1NTIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09Vy5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09Vy5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPyhlWyJTSEFET1dQQ0YiK3RdPSEwLHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1XLlFVQUxJVFlfTE9XP2VbIlNIQURPV0xPV1FVQUxJVFkiK3RdPSEwOnRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1XLlFVQUxJVFlfTUVESVVNJiYoZVsiU0hBRE9XTUVESVVNUVVBTElUWSIrdF09ITApKTp0aGlzLnVzZVBvaXNzb25TYW1wbGluZz9lWyJTSEFET1dQT0lTU09OIit0XT0hMDp0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9lWyJTSEFET1dFU00iK3RdPSEwOih0aGlzLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoZVsiU0hBRE9XQ0xPU0VFU00iK3RdPSEwKSxzLm5lZWRDdWJlKCkmJihlWyJTSEFET1dDVUJFIit0XT0hMCkpfWJpbmRTaGFkb3dMaWdodChlLHQpe2NvbnN0IGk9dGhpcy5fbGlnaHQscz10aGlzLl9zY2VuZTtpZighcy5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj1zLmFjdGl2ZUNhbWVyYTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpOyFufHwoaS5uZWVkQ3ViZSgpfHx0LnNldE1hdHJpeCgibGlnaHRNYXRyaXgiK2UsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksdGhpcy5fZmlsdGVyPT09Vy5GSUxURVJfUENGPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksbi5nZXRTaXplKCkud2lkdGgsMS9uLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6dGhpcy5fZmlsdGVyPT09Vy5GSUxURVJfUENTUz8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qbi5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOih0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdGhpcy5ibHVyU2NhbGUvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5kZXB0aFNjYWxlLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloociksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKHIpLGUpKX1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtjb25zdCBlPXRoaXMuX3NjZW5lO2lmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PWUuZ2V0UmVuZGVySWQoKSYmdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPT09dGhpcy5fY3VycmVudEZhY2VJbmRleClyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4O3RoaXMuX2N1cnJlbnRSZW5kZXJJZD1lLmdldFJlbmRlcklkKCksdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPXRoaXMuX2N1cnJlbnRGYWNlSW5kZXg7bGV0IHQ9dGhpcy5fbGlnaHQucG9zaXRpb247aWYodGhpcy5fbGlnaHQuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKSYmKHQ9dGhpcy5fbGlnaHQudHJhbnNmb3JtZWRQb3NpdGlvbiksZy5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24odGhpcy5fY3VycmVudEZhY2VJbmRleCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKGcuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLGcuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2xpZ2h0Lm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfHwhdGhpcy5fY2FjaGVkUG9zaXRpb258fCF0aGlzLl9jYWNoZWREaXJlY3Rpb258fCF0LmVxdWFscyh0aGlzLl9jYWNoZWRQb3NpdGlvbil8fCF0aGlzLl9saWdodERpcmVjdGlvbi5lcXVhbHModGhpcy5fY2FjaGVkRGlyZWN0aW9uKSl7dGhpcy5fY2FjaGVkUG9zaXRpb24uY29weUZyb20odCksdGhpcy5fY2FjaGVkRGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSx4Lkxvb2tBdExIVG9SZWYodCx0LmFkZCh0aGlzLl9saWdodERpcmVjdGlvbiksZy5VcCgpLHRoaXMuX3ZpZXdNYXRyaXgpO2NvbnN0IGk9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZihpKXtjb25zdCBzPWkucmVuZGVyTGlzdDtzJiZ0aGlzLl9saWdodC5zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdmlld01hdHJpeCxzKX10aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpfXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9cmVjcmVhdGVTaGFkb3dNYXAoKXtjb25zdCBlPXRoaXMuX3NoYWRvd01hcDtpZighZSlyZXR1cm47Y29uc3QgdD1lLnJlbmRlckxpc3Q7aWYodGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5maWx0ZXI9dGhpcy5fZmlsdGVyLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdCl7dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSk7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGkpfWVsc2UgdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9bnVsbH1fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl7dGhpcy5fc2hhZG93TWFwMiYmKHRoaXMuX3NoYWRvd01hcDIuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcDI9bnVsbCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W119X2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5fc2hhZG93TWFwLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dNYXA9bnVsbCksdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl9X2Rpc3Bvc2VTY2VuZVVCT3MoKXtpZih0aGlzLl9zY2VuZVVCT3Mpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3NjZW5lVUJPcyllLmRpc3Bvc2UoKTt0aGlzLl9zY2VuZVVCT3M9W119fWRpc3Bvc2UoKXt0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9saWdodCYmKHRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3I9bnVsbCx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e30sdD10aGlzLmdldFNoYWRvd01hcCgpO2lmKCF0KXJldHVybiBlO2lmKGUuY2xhc3NOYW1lPXRoaXMuZ2V0Q2xhc3NOYW1lKCksZS5saWdodElkPXRoaXMuX2xpZ2h0LmlkLGUuaWQ9dGhpcy5pZCxlLm1hcFNpemU9dC5nZXRSZW5kZXJTaXplKCksZS5mb3JjZUJhY2tGYWNlc09ubHk9dGhpcy5mb3JjZUJhY2tGYWNlc09ubHksZS5kYXJrbmVzcz10aGlzLmdldERhcmtuZXNzKCksZS50cmFuc3BhcmVuY3lTaGFkb3c9dGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93LGUuZnJ1c3R1bUVkZ2VGYWxsb2ZmPXRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUuYmlhcz10aGlzLmJpYXMsZS5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyxlLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nLGUudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz10aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3csZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz10aGlzLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvLGUuZmlsdGVyaW5nUXVhbGl0eT10aGlzLmZpbHRlcmluZ1F1YWxpdHksZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlUG9pc3NvblNhbXBsaW5nPXRoaXMudXNlUG9pc3NvblNhbXBsaW5nLGUuZGVwdGhTY2FsZT10aGlzLmRlcHRoU2NhbGUsZS5ibHVyQm94T2Zmc2V0PXRoaXMuYmx1ckJveE9mZnNldCxlLmJsdXJLZXJuZWw9dGhpcy5ibHVyS2VybmVsLGUuYmx1clNjYWxlPXRoaXMuYmx1clNjYWxlLGUudXNlS2VybmVsQmx1cj10aGlzLnVzZUtlcm5lbEJsdXIsZS5yZW5kZXJMaXN0PVtdLHQucmVuZGVyTGlzdClmb3IobGV0IGk9MDtpPHQucmVuZGVyTGlzdC5sZW5ndGg7aSsrKXtjb25zdCBzPXQucmVuZGVyTGlzdFtpXTtlLnJlbmRlckxpc3QucHVzaChzLmlkKX1yZXR1cm4gZX1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9dC5nZXRMaWdodEJ5SWQoZS5saWdodElkKSxyPWk/aShlLm1hcFNpemUscyk6bmV3IFcoZS5tYXBTaXplLHMpLG49ci5nZXRTaGFkb3dNYXAoKTtmb3IobGV0IGE9MDthPGUucmVuZGVyTGlzdC5sZW5ndGg7YSsrKXQuZ2V0TWVzaGVzQnlJZChlLnJlbmRlckxpc3RbYV0pLmZvckVhY2goZnVuY3Rpb24oaCl7IW58fChuLnJlbmRlckxpc3R8fChuLnJlbmRlckxpc3Q9W10pLG4ucmVuZGVyTGlzdC5wdXNoKGgpKX0pO3JldHVybiBlLmlkIT09dm9pZCAwJiYoci5pZD1lLmlkKSxyLmZvcmNlQmFja0ZhY2VzT25seT0hIWUuZm9yY2VCYWNrRmFjZXNPbmx5LGUuZGFya25lc3MhPT12b2lkIDAmJnIuc2V0RGFya25lc3MoZS5kYXJrbmVzcyksZS50cmFuc3BhcmVuY3lTaGFkb3cmJnIuc2V0VHJhbnNwYXJlbmN5U2hhZG93KCEwKSxlLmZydXN0dW1FZGdlRmFsbG9mZiE9PXZvaWQgMCYmKHIuZnJ1c3R1bUVkZ2VGYWxsb2ZmPWUuZnJ1c3R1bUVkZ2VGYWxsb2ZmKSxlLmJpYXMhPT12b2lkIDAmJihyLmJpYXM9ZS5iaWFzKSxlLm5vcm1hbEJpYXMhPT12b2lkIDAmJihyLm5vcm1hbEJpYXM9ZS5ub3JtYWxCaWFzKSxlLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc/ci51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPSEwOmUudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz9yLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c9ITA6ZS51c2VQb2lzc29uU2FtcGxpbmc/ci51c2VQb2lzc29uU2FtcGxpbmc9ITA6ZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD9yLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP3IudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD9yLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD9yLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlVmFyaWFuY2VTaGFkb3dNYXA/ci51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJWYXJpYW5jZVNoYWRvd01hcCYmKHIudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPSEwKSxlLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvIT09dm9pZCAwJiYoci5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKSxlLmZpbHRlcmluZ1F1YWxpdHkhPT12b2lkIDAmJihyLmZpbHRlcmluZ1F1YWxpdHk9ZS5maWx0ZXJpbmdRdWFsaXR5KSxlLmRlcHRoU2NhbGUmJihyLmRlcHRoU2NhbGU9ZS5kZXB0aFNjYWxlKSxlLmJsdXJTY2FsZSYmKHIuYmx1clNjYWxlPWUuYmx1clNjYWxlKSxlLmJsdXJCb3hPZmZzZXQmJihyLmJsdXJCb3hPZmZzZXQ9ZS5ibHVyQm94T2Zmc2V0KSxlLnVzZUtlcm5lbEJsdXImJihyLnVzZUtlcm5lbEJsdXI9ZS51c2VLZXJuZWxCbHVyKSxlLmJsdXJLZXJuZWwmJihyLmJsdXJLZXJuZWw9ZS5ibHVyS2VybmVsKSxyfX1XLkNMQVNTTkFNRT0iU2hhZG93R2VuZXJhdG9yIixXLkZJTFRFUl9OT05FPTAsVy5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVA9MSxXLkZJTFRFUl9QT0lTU09OU0FNUExJTkc9MixXLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVA9MyxXLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTQsVy5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVA9NSxXLkZJTFRFUl9QQ0Y9NixXLkZJTFRFUl9QQ1NTPTcsVy5RVUFMSVRZX0hJR0g9MCxXLlFVQUxJVFlfTUVESVVNPTEsVy5RVUFMSVRZX0xPVz0yLFcuREVGQVVMVF9BTFBIQV9DVVRPRkY9LjUsVy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgcSgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX07Y29uc3Qgb289ImRlcHRoUGl4ZWxTaGFkZXIiLGhvPWAjaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWM7CiNpZmRlZiBQQUNLRUQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50PgojaWZkZWYgQUxQSEFURVNUCmlmICh0ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hPDAuNCkKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBOT05MSU5FQVJERVBUSAojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKGdsX0ZyYWdDb29yZC56KTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQoZ2xfRnJhZ0Nvb3JkLnosMC4wLDAuMCwwLjApOwojZW5kaWYKI2Vsc2UKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayh2RGVwdGhNZXRyaWMpOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2RGVwdGhNZXRyaWMsMC4wLDAuMCwxLjApOwojZW5kaWYKI2VuZGlmCn1gO04uU2hhZGVyc1N0b3JlW29vXT1obztjb25zdCBsbz0iaW5zdGFuY2VzRGVjbGFyYXRpb24iLGNvPWAjaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2lmZGVmIElOU1RBTkNFU0NPTE9SCmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykgJiYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMDsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQyOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMzsKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsb109Y287Y29uc3QgdW89ImRlcHRoVmVydGV4U2hhZGVyIixmbz1gYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpIHx8IGRlZmluZWQoTkVFRF9VVikKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpYzsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljPSgoLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2Vsc2UKdkRlcHRoTWV0cmljPSgoZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO04uU2hhZGVyc1N0b3JlW3VvXT1mbztjbGFzcyBpc3tjb25zdHJ1Y3RvcihlLHQ9MSxpPW51bGwscz0hMSxyPUIuVFJJTElORUFSX1NBTVBMSU5HTU9ERSl7dGhpcy5lbmFibGVkPSEwLHRoaXMuZm9yY2VEZXB0aFdyaXRlVHJhbnNwYXJlbnRNZXNoZXM9ITEsdGhpcy51c2VPbmx5SW5BY3RpdmVDYW1lcmE9ITEsdGhpcy5fc2NlbmU9ZSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoPXMsdGhpcy5pc1BhY2tlZD10PT09MCx0aGlzLmlzUGFja2VkP3RoaXMuX2NsZWFyQ29sb3I9bmV3IGdlKDEsMSwxLDEpOnRoaXMuX2NsZWFyQ29sb3I9bmV3IGdlKDEsMCwwLDEpLGlzLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTtjb25zdCBuPWUuZ2V0RW5naW5lKCk7dGhpcy5fY2FtZXJhPWksciE9PUIuTkVBUkVTVF9TQU1QTElOR01PREUmJih0PT09MSYmIW4uX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nJiYocj1CLk5FQVJFU1RfU0FNUExJTkdNT0RFKSx0PT09MiYmIW4uX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyYmKHI9Qi5ORUFSRVNUX1NBTVBMSU5HTU9ERSkpO2NvbnN0IGE9dGhpcy5pc1BhY2tlZHx8IW4uX2ZlYXR1cmVzLnN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzPzU6Njt0aGlzLl9kZXB0aE1hcD1uZXcgZHQoIkRlcHRoUmVuZGVyZXIiLHt3aWR0aDpuLmdldFJlbmRlcldpZHRoKCksaGVpZ2h0Om4uZ2V0UmVuZGVySGVpZ2h0KCl9LHRoaXMuX3NjZW5lLCExLCEwLHQsITEscix2b2lkIDAsdm9pZCAwLHZvaWQgMCxhKSx0aGlzLl9kZXB0aE1hcC53cmFwVT1CLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLndyYXBWPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAucmVmcmVzaFJhdGU9MSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fZGVwdGhNYXAucmVuZGVyTGlzdD1udWxsLHRoaXMuX2RlcHRoTWFwLmFjdGl2ZUNhbWVyYT10aGlzLl9jYW1lcmEsdGhpcy5fZGVwdGhNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fZGVwdGhNYXAudXNlQ2FtZXJhUG9zdFByb2Nlc3Nlcz0hMSx0aGlzLl9kZXB0aE1hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoaD0+e2guY2xlYXIodGhpcy5fY2xlYXJDb2xvciwhMCwhMCwhMCl9KSx0aGlzLl9kZXB0aE1hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBoOyhoPW4uX2RlYnVnUHVzaEdyb3VwKT09bnVsbHx8aC5jYWxsKG4sImRlcHRoIHJlbmRlcmVyIiwxKX0pLHRoaXMuX2RlcHRoTWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBoOyhoPW4uX2RlYnVnUG9wR3JvdXApPT1udWxsfHxoLmNhbGwobiwxKX0pLHRoaXMuX2RlcHRoTWFwLmN1c3RvbUlzUmVhZHlGdW5jdGlvbj0oaCxsKT0+e2lmKCFoLmlzUmVhZHkoITEpKXJldHVybiExO2lmKGw9PT0wJiZoLnN1Yk1lc2hlcylmb3IobGV0IHU9MDt1PGguc3ViTWVzaGVzLmxlbmd0aDsrK3Upe2NvbnN0IGY9aC5zdWJNZXNoZXNbdV0sZD1mLmdldFJlbmRlcmluZ01lc2goKSxfPWQuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZi5faWQsISFmLmdldFJlcGxhY2VtZW50TWVzaCgpKSxFPW4uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKF8udmlzaWJsZUluc3RhbmNlc1tmLl9pZF0hPT1udWxsJiZfLnZpc2libGVJbnN0YW5jZXNbZi5faWRdIT09dm9pZCAwfHxkLmhhc1RoaW5JbnN0YW5jZXMpO2lmKCF0aGlzLmlzUmVhZHkoZixFKSlyZXR1cm4hMX1yZXR1cm4hMH07Y29uc3Qgbz1oPT57dmFyIEQsdjtjb25zdCBsPWguZ2V0UmVuZGVyaW5nTWVzaCgpLHU9aC5nZXRFZmZlY3RpdmVNZXNoKCksZj10aGlzLl9zY2VuZSxkPWYuZ2V0RW5naW5lKCksXz1oLmdldE1hdGVyaWFsKCk7aWYodS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsIV98fHUuaW5maW5pdGVEaXN0YW5jZXx8Xy5kaXNhYmxlRGVwdGhXcml0ZXx8aC52ZXJ0aWNlc0NvdW50PT09MHx8aC5fcmVuZGVySWQ9PT1mLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IEU9dS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IG09KEQ9bC5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9bnVsbD9EOl8uc2lkZU9yaWVudGF0aW9uO0UmJihtPW09PT0wPzE6MCk7Y29uc3QgVD1tPT09MDtkLnNldFN0YXRlKF8uYmFja0ZhY2VDdWxsaW5nLDAsITEsVCxfLmN1bGxCYWNrRmFjZXMpO2NvbnN0IGI9bC5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChoLl9pZCwhIWguZ2V0UmVwbGFjZW1lbnRNZXNoKCkpO2lmKGIubXVzdFJldHVybilyZXR1cm47Y29uc3QgUj1kLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihiLnZpc2libGVJbnN0YW5jZXNbaC5faWRdIT09bnVsbCYmYi52aXNpYmxlSW5zdGFuY2VzW2guX2lkXSE9PXZvaWQgMHx8bC5oYXNUaGluSW5zdGFuY2VzKSx5PXRoaXMuX2NhbWVyYXx8Zi5hY3RpdmVDYW1lcmE7aWYodGhpcy5pc1JlYWR5KGgsUikmJnkpe2guX3JlbmRlcklkPWYuZ2V0UmVuZGVySWQoKTtjb25zdCBBPSh2PXUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PW51bGw/dm9pZCAwOnZbZC5jdXJyZW50UmVuZGVyUGFzc0lkXTtsZXQgTD1oLl9nZXREcmF3V3JhcHBlcigpOyFMJiZBJiYoTD1BLl9nZXREcmF3V3JhcHBlcigpKTtjb25zdCBKPXkubW9kZT09PVouT1JUSE9HUkFQSElDX0NBTUVSQTtpZighTClyZXR1cm47Y29uc3QgaGU9TC5lZmZlY3Q7ZC5lbmFibGVFZmZlY3QoTCksUnx8bC5fYmluZChoLGhlLF8uZmlsbE1vZGUpLEE/QS5iaW5kRm9yU3ViTWVzaCh1LmdldFdvcmxkTWF0cml4KCksdSxoKTooaGUuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsZi5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksaGUuc2V0TWF0cml4KCJ3b3JsZCIsdS5nZXRXb3JsZE1hdHJpeCgpKSk7bGV0IHhlLGZlO2lmKEo/KHhlPSFkLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmZC5pc05EQ0hhbGZaUmFuZ2U/MDoxLGZlPWQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZkLmlzTkRDSGFsZlpSYW5nZT8wOjEpOih4ZT1kLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmZC5pc05EQ0hhbGZaUmFuZ2U/eS5taW5aOmQuaXNORENIYWxmWlJhbmdlPzA6eS5taW5aLGZlPWQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZkLmlzTkRDSGFsZlpSYW5nZT8wOnkubWF4WiksaGUuc2V0RmxvYXQyKCJkZXB0aFZhbHVlcyIseGUseGUrZmUpLCFBKXtpZihfJiZfLm5lZWRBbHBoYVRlc3RpbmcoKSl7Y29uc3QgdWU9Xy5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7dWUmJihoZS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdWUpLGhlLnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsdWUuZ2V0VGV4dHVyZU1hdHJpeCgpKSl9aWYobC51c2VCb25lcyYmbC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmwuc2tlbGV0b24pe2NvbnN0IHVlPWwuc2tlbGV0b247aWYodWUuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7Y29uc3Qgc2U9dWUuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShsKTtpZighc2UpcmV0dXJuO2hlLnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixzZSksaGUuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKHVlLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSBoZS5zZXRNYXRyaWNlcygibUJvbmVzIix1ZS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhsKSl9ZWUuQmluZENsaXBQbGFuZShoZSxmKSxlZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGwsaGUpLGwubW9ycGhUYXJnZXRNYW5hZ2VyJiZsLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmwubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKGhlKX1sLl9wcm9jZXNzUmVuZGVyaW5nKHUsaCxoZSxfLmZpbGxNb2RlLGIsUiwodWUsc2UpPT5oZS5zZXRNYXRyaXgoIndvcmxkIixzZSkpfX07dGhpcy5fZGVwdGhNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249KGgsbCx1LGYpPT57bGV0IGQ7aWYoZi5sZW5ndGgpZm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylvKGYuZGF0YVtkXSk7Zm9yKGQ9MDtkPGgubGVuZ3RoO2QrKylvKGguZGF0YVtkXSk7Zm9yKGQ9MDtkPGwubGVuZ3RoO2QrKylvKGwuZGF0YVtkXSk7aWYodGhpcy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcylmb3IoZD0wO2Q8dS5sZW5ndGg7ZCsrKW8odS5kYXRhW2RdKTtlbHNlIGZvcihkPTA7ZDx1Lmxlbmd0aDtkKyspdS5kYXRhW2RdLmdldEVmZmVjdGl2ZU1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITF9fXNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl7dGhpcy5fZGVwdGhNYXAuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KX1pc1JlYWR5KGUsdCl7dmFyIEU7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxzPWUuZ2V0TWVzaCgpLHI9cy5nZXRTY2VuZSgpLG49KEU9cy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09bnVsbD92b2lkIDA6RVtpLmN1cnJlbnRSZW5kZXJQYXNzSWRdO2lmKG4pcmV0dXJuIG4uaXNSZWFkeUZvclN1Yk1lc2gocyxlLHQpO2NvbnN0IGE9ZS5nZXRNYXRlcmlhbCgpO2lmKCFhfHxhLmRpc2FibGVEZXB0aFdyaXRlKXJldHVybiExO2NvbnN0IG89W10saD1bcC5Qb3NpdGlvbktpbmRdO2lmKGEmJmEubmVlZEFscGhhVGVzdGluZygpJiZhLmdldEFscGhhVGVzdFRleHR1cmUoKSYmKG8ucHVzaCgiI2RlZmluZSBBTFBIQVRFU1QiKSxzLmlzVmVydGljZXNEYXRhUHJlc2VudChwLlVWS2luZCkmJihoLnB1c2gocC5VVktpbmQpLG8ucHVzaCgiI2RlZmluZSBVVjEiKSkscy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQocC5VVjJLaW5kKSYmKGgucHVzaChwLlVWMktpbmQpLG8ucHVzaCgiI2RlZmluZSBVVjIiKSkpLHMudXNlQm9uZXMmJnMuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKXtoLnB1c2gocC5NYXRyaWNlc0luZGljZXNLaW5kKSxoLnB1c2gocC5NYXRyaWNlc1dlaWdodHNLaW5kKSxzLm51bUJvbmVJbmZsdWVuY2Vycz40JiYoaC5wdXNoKHAuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxoLnB1c2gocC5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKSxvLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgIitzLm51bUJvbmVJbmZsdWVuY2Vycyksby5wdXNoKCIjZGVmaW5lIEJvbmVzUGVyTWVzaCAiKyhzLnNrZWxldG9uP3Muc2tlbGV0b24uYm9uZXMubGVuZ3RoKzE6MCkpO2NvbnN0IG09ZS5nZXRSZW5kZXJpbmdNZXNoKCkuc2tlbGV0b247bSE9bnVsbCYmbS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZvLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKX1lbHNlIG8ucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7Y29uc3QgbD1zLm1vcnBoVGFyZ2V0TWFuYWdlcjtsZXQgdT0wO2wmJmwubnVtSW5mbHVlbmNlcnM+MCYmKHU9bC5udW1JbmZsdWVuY2VycyxvLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTIiksby5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK3UpLGwuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZvLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxlZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKGgscyx1KSksdCYmKG8ucHVzaCgiI2RlZmluZSBJTlNUQU5DRVMiKSxlZS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhoKSxlLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzJiZvLnB1c2goIiNkZWZpbmUgVEhJTl9JTlNUQU5DRVMiKSksdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aCYmby5wdXNoKCIjZGVmaW5lIE5PTkxJTkVBUkRFUFRIIiksdGhpcy5pc1BhY2tlZCYmby5wdXNoKCIjZGVmaW5lIFBBQ0tFRCIpLHIuY2xpcFBsYW5lJiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FIiksci5jbGlwUGxhbmUyJiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FMiIpLHIuY2xpcFBsYW5lMyYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTMiKSxyLmNsaXBQbGFuZTQmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkU0Iiksci5jbGlwUGxhbmU1JiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNSIpLHIuY2xpcFBsYW5lNiYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTYiKTtjb25zdCBmPWUuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCksZD1mLmRlZmluZXMsXz1vLmpvaW4oYApgKTtyZXR1cm4gZCE9PV8mJmYuc2V0RWZmZWN0KGkuY3JlYXRlRWZmZWN0KCJkZXB0aCIsaCxbIndvcmxkIiwibUJvbmVzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImRlcHRoVmFsdWVzIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiLCJ2Q2xpcFBsYW5lIiwidkNsaXBQbGFuZTIiLCJ2Q2xpcFBsYW5lMyIsInZDbGlwUGxhbmU0IiwidkNsaXBQbGFuZTUiLCJ2Q2xpcFBsYW5lNiJdLFsiZGlmZnVzZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiLCJib25lU2FtcGxlciJdLF8sdm9pZCAwLHZvaWQgMCx2b2lkIDAse21heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czp1fSksXyksZi5lZmZlY3QuaXNSZWFkeSgpfWdldERlcHRoTWFwKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFwfWRpc3Bvc2UoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyKXRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdPT09dGhpcyYmZS5wdXNoKHQpO2lmKGUubGVuZ3RoPjApe3RoaXMuX2RlcHRoTWFwLmRpc3Bvc2UoKTtmb3IoY29uc3QgdCBvZiBlKWRlbGV0ZSB0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlclt0XX19fWlzLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9Pnt0aHJvdyBxKCJEZXB0aFJlbmRlcmVyU2NlbmVDb21wb25lbnQiKX07Y29uc3QgX289Im1pbm1heFJlZHV4UGl4ZWxTaGFkZXIiLGdvPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKI2lmIGRlZmluZWQoSU5JVElBTCkKdW5pZm9ybSBzYW1wbGVyMkQgc291cmNlVGV4dHVyZTsKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKZmxvYXQgZjE9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkLDApLnI7CmZsb2F0IGYyPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigxLDApLDApLnI7CmZsb2F0IGYzPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigxLDEpLDApLnI7CmZsb2F0IGY0PXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigwLDEpLDApLnI7CmZsb2F0IG1pbno9bWluKG1pbihtaW4oZjEsZjIpLGYzKSxmNCk7CiNpZmRlZiBERVBUSF9SRURVWApmbG9hdCBtYXh6PW1heChtYXgobWF4KHNpZ24oMS4wLWYxKSpmMSxzaWduKDEuMC1mMikqZjIpLHNpZ24oMS4wLWYzKSpmMyksc2lnbigxLjAtZjQpKmY0KTsKI2Vsc2UKZmxvYXQgbWF4ej1tYXgobWF4KG1heChmMSxmMiksZjMpLGY0KTsKI2VuZGlmCmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKE1BSU4pCnVuaWZvcm0gdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqKHRleFNpemUtMS4wKSk7CnZlYzIgZjE9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMCksMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigxLDEpLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMCwxKSwwKS5yZzsKZmxvYXQgbWluej1taW4obWluKG1pbihmMS54LGYyLngpLGYzLngpLGY0LngpOwpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLnksZjIueSksZjMueSksZjQueSk7CmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKE9ORUJFRk9SRUxBU1QpCnVuaWZvcm0gaXZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKnZlYzIodGV4U2l6ZS0xKSk7CnZlYzIgZjE9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCAlIHRleFNpemUsMCkucmc7CnZlYzIgZjI9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwwKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGYzPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDEsMSkpICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmND10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigwLDEpKSAlIHRleFNpemUsMCkucmc7CmZsb2F0IG1pbno9bWluKGYxLngsZjIueCk7CmZsb2F0IG1heHo9bWF4KGYxLnksZjIueSk7CmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKExBU1QpCnZvaWQgbWFpbih2b2lkKQp7CmdsRnJhZ0NvbG9yPXZlYzQoMC4pOwppZiAodHJ1ZSkgeyAKZGlzY2FyZDsKfQp9CiNlbmRpZgpgO04uU2hhZGVyc1N0b3JlW19vXT1nbztjbGFzcyBwb3tjb25zdHJ1Y3RvcihlKXt0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQ9bmV3IEYsdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9ITAsdGhpcy5fYWN0aXZhdGVkPSExLHRoaXMuX2NhbWVyYT1lLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1uZXcgWmkoZS5nZXRTY2VuZSgpKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpfSl9Z2V0IHNvdXJjZVRleHR1cmUoKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZX1zZXRTb3VyY2VUZXh0dXJlKGUsdCxpPTIscz0hMCl7aWYoZT09PXRoaXMuX3NvdXJjZVRleHR1cmUpcmV0dXJuO3RoaXMuZGlzcG9zZSghMSksdGhpcy5fc291cmNlVGV4dHVyZT1lLHRoaXMuX3JlZHVjdGlvblN0ZXBzPVtdLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PXM7Y29uc3Qgcj10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKSxuPW5ldyBMZSgiSW5pdGlhbCByZWR1Y3Rpb24gcGhhc2UiLCJtaW5tYXhSZWR1eCIsWyJ0ZXhTaXplIl0sWyJzb3VyY2VUZXh0dXJlIl0sMSxudWxsLDEsci5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSBJTklUSUFMIisodD9gCiNkZWZpbmUgREVQVEhfUkVEVVhgOiIiKSxpLHZvaWQgMCx2b2lkIDAsdm9pZCAwLDcpO24uYXV0b0NsZWFyPSExLG4uZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cztsZXQgYT10aGlzLl9zb3VyY2VUZXh0dXJlLmdldFJlbmRlcldpZHRoKCksbz10aGlzLl9zb3VyY2VUZXh0dXJlLmdldFJlbmRlckhlaWdodCgpO24ub25BcHBseT0oKGwsdSk9PmY9PntmLnNldFRleHR1cmUoInNvdXJjZVRleHR1cmUiLHRoaXMuX3NvdXJjZVRleHR1cmUpLGYuc2V0RmxvYXQyKCJ0ZXhTaXplIixsLHUpfSkoYSxvKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5wdXNoKG4pO2xldCBoPTE7Zm9yKDthPjF8fG8+MTspe2E9TWF0aC5tYXgoTWF0aC5yb3VuZChhLzIpLDEpLG89TWF0aC5tYXgoTWF0aC5yb3VuZChvLzIpLDEpO2NvbnN0IGw9bmV3IExlKCJSZWR1Y3Rpb24gcGhhc2UgIitoLCJtaW5tYXhSZWR1eCIsWyJ0ZXhTaXplIl0sbnVsbCx7d2lkdGg6YSxoZWlnaHQ6b30sbnVsbCwxLHIuZ2V0RW5naW5lKCksITEsIiNkZWZpbmUgIisoYT09MSYmbz09MT8iTEFTVCI6YT09MXx8bz09MT8iT05FQkVGT1JFTEFTVCI6Ik1BSU4iKSxpLHZvaWQgMCx2b2lkIDAsdm9pZCAwLDcpO2lmKGwuYXV0b0NsZWFyPSExLGwuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cyxsLm9uQXBwbHk9KCh1LGYpPT5kPT57dT09MXx8Zj09MT9kLnNldEludDIoInRleFNpemUiLHUsZik6ZC5zZXRGbG9hdDIoInRleFNpemUiLHUsZil9KShhLG8pLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobCksaCsrLGE9PTEmJm89PTEpe2NvbnN0IHU9KGYsZCxfKT0+e2NvbnN0IEU9bmV3IEZsb2F0MzJBcnJheSg0KmYqZCksbT17bWluOjAsbWF4OjB9O3JldHVybigpPT57ci5nZXRFbmdpbmUoKS5fcmVhZFRleHR1cmVQaXhlbHMoXy5pbnB1dFRleHR1cmUudGV4dHVyZSxmLGQsLTEsMCxFLCExKSxtLm1pbj1FWzBdLG0ubWF4PUVbMV0sdGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLm5vdGlmeU9ic2VydmVycyhtKX19O2wub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHUoYSxvLGwpKX19fWdldCByZWZyZXNoUmF0ZSgpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlP3RoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU6LTF9c2V0IHJlZnJlc2hSYXRlKGUpe3RoaXMuX3NvdXJjZVRleHR1cmUmJih0aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlPWUpfWdldCBhY3RpdmF0ZWQoKXtyZXR1cm4gdGhpcy5fYWN0aXZhdGVkfWFjdGl2YXRlKCl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB0LGk7Y29uc3QgZT10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTsodD1lLl9kZWJ1Z1B1c2hHcm91cCk9PW51bGx8fHQuY2FsbChlLCJtaW4gbWF4IHJlZHVjdGlvbiIsMSksdGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uYWN0aXZhdGUodGhpcy5fY2FtZXJhKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX3JlZHVjdGlvblN0ZXBzLHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCksZS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsITEpLChpPWUuX2RlYnVnUG9wR3JvdXApPT1udWxsfHxpLmNhbGwoZSwxKX0pLHRoaXMuX2FjdGl2YXRlZD0hMCl9ZGVhY3RpdmF0ZSgpeyF0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9bnVsbCx0aGlzLl9hY3RpdmF0ZWQ9ITEpfWRpc3Bvc2UoZT0hMCl7aWYoZSYmKHRoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5jbGVhcigpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLl9jYW1lcmEuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPW51bGwpKSx0aGlzLmRlYWN0aXZhdGUoKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcyl7Zm9yKGxldCB0PTA7dDx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5sZW5ndGg7Kyt0KXRoaXMuX3JlZHVjdGlvblN0ZXBzW3RdLmRpc3Bvc2UoKTt0aGlzLl9yZWR1Y3Rpb25TdGVwcz1udWxsfXRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmZSYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9zb3VyY2VUZXh0dXJlPW51bGx9fWNsYXNzIG1vIGV4dGVuZHMgcG97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9Z2V0IGRlcHRoUmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5fZGVwdGhSZW5kZXJlcn1zZXREZXB0aFJlbmRlcmVyKGU9bnVsbCx0PTIsaT0hMCl7Y29uc3Qgcz10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKTt0aGlzLl9kZXB0aFJlbmRlcmVyJiYoZGVsZXRlIHMuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGwpLGU9PT1udWxsJiYocy5fZGVwdGhSZW5kZXJlcnx8KHMuX2RlcHRoUmVuZGVyZXI9e30pLGU9dGhpcy5fZGVwdGhSZW5kZXJlcj1uZXcgaXMocyx0LHRoaXMuX2NhbWVyYSwhMSwxKSxlLmVuYWJsZWQ9ITEsdGhpcy5fZGVwdGhSZW5kZXJlcklkPSJtaW5tYXgiK3RoaXMuX2NhbWVyYS5pZCxzLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF09ZSksc3VwZXIuc2V0U291cmNlVGV4dHVyZShlLmdldERlcHRoTWFwKCksITAsdCxpKX1zZXRTb3VyY2VUZXh0dXJlKGUsdCxpPTIscz0hMCl7c3VwZXIuc2V0U291cmNlVGV4dHVyZShlLHQsaSxzKX1hY3RpdmF0ZSgpe3RoaXMuX2RlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlbmRlcmVyLmVuYWJsZWQ9ITApLHN1cGVyLmFjdGl2YXRlKCl9ZGVhY3RpdmF0ZSgpe3N1cGVyLmRlYWN0aXZhdGUoKSx0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSExKX1kaXNwb3NlKGU9ITApe2lmKHN1cGVyLmRpc3Bvc2UoZSksdGhpcy5fZGVwdGhSZW5kZXJlciYmZSl7Y29uc3QgdD10aGlzLl9kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkuZ2V0U2NlbmUoKTt0JiZkZWxldGUgdC5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdLHRoaXMuX2RlcHRoUmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXI9bnVsbH19fWNvbnN0IFJyPWcuVXAoKSxFbz1nLlplcm8oKSxOZT1uZXcgZyxFaT1uZXcgZyxzcz1uZXcgeDtjbGFzcyBWZSBleHRlbmRzIFd7Y29uc3RydWN0b3IoZSx0LGkpe2lmKCFWZS5Jc1N1cHBvcnRlZCl7dy5FcnJvcigiQ2FzY2FkZWRTaGFkb3dNYXAgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBlbmdpbmUuIik7cmV0dXJufXN1cGVyKGUsdCxpKSx0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITB9X3ZhbGlkYXRlRmlsdGVyKGUpe3JldHVybiBlPT09Vy5GSUxURVJfTk9ORXx8ZT09PVcuRklMVEVSX1BDRnx8ZT09PVcuRklMVEVSX1BDU1M/ZTooY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgZmlsdGVyICInK2UrJyIhJyksVy5GSUxURVJfTk9ORSl9Z2V0IG51bUNhc2NhZGVzKCl7cmV0dXJuIHRoaXMuX251bUNhc2NhZGVzfXNldCBudW1DYXNjYWRlcyhlKXtlPU1hdGgubWluKE1hdGgubWF4KGUsVmUuTUlOX0NBU0NBREVTX0NPVU5UKSxWZS5NQVhfQ0FTQ0FERVNfQ09VTlQpLGUhPT10aGlzLl9udW1DYXNjYWRlcyYmKHRoaXMuX251bUNhc2NhZGVzPWUsdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCkpfWdldCBmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99c2V0IGZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oZSl7dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJmUmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT1udWxsKSwhdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJiFlJiYodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9dGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5iaW5kKHRoaXMpKSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lLGUmJnRoaXMuX2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl9X2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7aWYodGhpcy5fc2NiaU1pbi5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fc2NiaU1heC5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fc2hhZG93TWFwJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdCl7Y29uc3QgZT10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz1lW2ldO2lmKCFzKWNvbnRpbnVlO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKX1jb25zdCB0PXRoaXMuX3NjZW5lLm1lc2hlcztmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2lmKCFzfHwhcy5pc1Zpc2libGV8fCFzLmlzRW5hYmxlZHx8IXMucmVjZWl2ZVNoYWRvd3MpY29udGludWU7Y29uc3Qgcj1zLmdldEJvdW5kaW5nSW5mbygpLG49ci5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpfX10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KHRoaXMuX3NjYmlNaW4sdGhpcy5fc2NiaU1heCl9Z2V0IHNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb31zZXQgc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyhlKXt0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPWV9c2V0TWluTWF4RGlzdGFuY2UoZSx0KXt0aGlzLl9taW5EaXN0YW5jZT09PWUmJnRoaXMuX21heERpc3RhbmNlPT09dHx8KGU+dCYmKGU9MCx0PTEpLGU8MCYmKGU9MCksdD4xJiYodD0xKSx0aGlzLl9taW5EaXN0YW5jZT1lLHRoaXMuX21heERpc3RhbmNlPXQsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfWdldCBtaW5EaXN0YW5jZSgpe3JldHVybiB0aGlzLl9taW5EaXN0YW5jZX1nZXQgbWF4RGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWF4RGlzdGFuY2V9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIFZlLkNMQVNTTkFNRX1nZXRDYXNjYWRlTWluRXh0ZW50cyhlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXTpudWxsfWdldENhc2NhZGVNYXhFeHRlbnRzKGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdOm51bGx9Z2V0IHNoYWRvd01heFooKXtyZXR1cm4hdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE/MDp0aGlzLl9zaGFkb3dNYXhafXNldCBzaGFkb3dNYXhaKGUpe2lmKCF0aGlzLl9zY2VuZXx8IXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSl7dGhpcy5fc2hhZG93TWF4Wj1lO3JldHVybn10aGlzLl9zaGFkb3dNYXhaPT09ZXx8ZTx0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEubWluWnx8ZT50aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEubWF4Wnx8KHRoaXMuX3NoYWRvd01heFo9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9c2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX1nZXQgZGVwdGhDbGFtcCgpe3JldHVybiB0aGlzLl9kZXB0aENsYW1wfXNldCBkZXB0aENsYW1wKGUpe3RoaXMuX2RlcHRoQ2xhbXA9ZX1nZXQgY2FzY2FkZUJsZW5kUGVyY2VudGFnZSgpe3JldHVybiB0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlfXNldCBjYXNjYWRlQmxlbmRQZXJjZW50YWdlKGUpe3RoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfWdldCBsYW1iZGEoKXtyZXR1cm4gdGhpcy5fbGFtYmRhfXNldCBsYW1iZGEoZSl7Y29uc3QgdD1NYXRoLm1pbihNYXRoLm1heChlLDApLDEpO3RoaXMuX2xhbWJkYSE9dCYmKHRoaXMuX2xhbWJkYT10LHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXRDYXNjYWRlVmlld01hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl92aWV3TWF0cmljZXNbZV06bnVsbH1nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbZV06bnVsbH1nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW2VdOm51bGx9c2V0RGVwdGhSZW5kZXJlcihlKXt0aGlzLl9kZXB0aFJlbmRlcmVyPWUsdGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKX1nZXQgYXV0b0NhbGNEZXB0aEJvdW5kcygpe3JldHVybiB0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhdCl7aWYodGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz1lLCFlKXt0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5kZWFjdGl2YXRlKCksdGhpcy5zZXRNaW5NYXhEaXN0YW5jZSgwLDEpO3JldHVybn10aGlzLl9kZXB0aFJlZHVjZXJ8fCh0aGlzLl9kZXB0aFJlZHVjZXI9bmV3IG1vKHQpLHRoaXMuX2RlcHRoUmVkdWNlci5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmFkZChpPT57bGV0IHM9aS5taW4scj1pLm1heDtzPj1yJiYocz0wLHI9MSksKHMhPXRoaXMuX21pbkRpc3RhbmNlfHxyIT10aGlzLl9tYXhEaXN0YW5jZSkmJnRoaXMuc2V0TWluTWF4RGlzdGFuY2UocyxyKX0pLHRoaXMuX2RlcHRoUmVkdWNlci5zZXREZXB0aFJlbmRlcmVyKHRoaXMuX2RlcHRoUmVuZGVyZXIpKSx0aGlzLl9kZXB0aFJlZHVjZXIuYWN0aXZhdGUoKX19Z2V0IGF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZSgpe3ZhciBlLHQsaTtyZXR1cm4oaT0odD0oZT10aGlzLl9kZXB0aFJlZHVjZXIpPT1udWxsP3ZvaWQgMDplLmRlcHRoUmVuZGVyZXIpPT1udWxsP3ZvaWQgMDp0LmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGUpIT1udWxsP2k6LTF9c2V0IGF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZShlKXt2YXIgdDsodD10aGlzLl9kZXB0aFJlZHVjZXIpIT1udWxsJiZ0LmRlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlZHVjZXIuZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlPWUpfXNwbGl0RnJ1c3R1bSgpe3RoaXMuX2JyZWFrc0FyZURpcnR5PSEwfV9zcGxpdEZydXN0dW0oKXtjb25zdCBlPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtpZighZSlyZXR1cm47Y29uc3QgdD1lLm1pblosaT1lLm1heFoscz1pLXQscj10aGlzLl9taW5EaXN0YW5jZSxuPXRoaXMuX3NoYWRvd01heFo8aSYmdGhpcy5fc2hhZG93TWF4Wj49dD9NYXRoLm1pbigodGhpcy5fc2hhZG93TWF4Wi10KS8oaS10KSx0aGlzLl9tYXhEaXN0YW5jZSk6dGhpcy5fbWF4RGlzdGFuY2UsYT10K3IqcyxvPXQrbipzLGg9by1hLGw9by9hO2ZvcihsZXQgdT0wO3U8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysrdSl7Y29uc3QgZj0odSsxKS90aGlzLl9udW1DYXNjYWRlcyxkPWEqbCoqZixfPWEraCpmLEU9dGhpcy5fbGFtYmRhKihkLV8pK187dGhpcy5fY2FzY2FkZXNbdV0ucHJldkJyZWFrRGlzdGFuY2U9dT09PTA/cjp0aGlzLl9jYXNjYWRlc1t1LTFdLmJyZWFrRGlzdGFuY2UsdGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZT0oRS10KS9zLHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWlt1XT1FLHRoaXMuX2ZydXN0dW1MZW5ndGhzW3VdPSh0aGlzLl9jYXNjYWRlc1t1XS5icmVha0Rpc3RhbmNlLXRoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlKSpzfXRoaXMuX2JyZWFrc0FyZURpcnR5PSExfV9jb21wdXRlTWF0cmljZXMoKXtjb25zdCBlPXRoaXMuX3NjZW5lO2lmKCFlLmFjdGl2ZUNhbWVyYSlyZXR1cm47Zy5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24oMCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKGcuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLGcuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbik7Y29uc3QgaT1lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtmb3IobGV0IHM9MDtzPHRoaXMuX251bUNhc2NhZGVzOysrcyl7dGhpcy5fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UocyksdGhpcy5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKHMpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLnN1YnRyYWN0VG9SZWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10sTmUpLHRoaXMuX2ZydXN0dW1DZW50ZXJbc10uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24uc2NhbGUodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueiksdGhpcy5fc2hhZG93Q2FtZXJhUG9zW3NdKSx4Lkxvb2tBdExIVG9SZWYodGhpcy5fc2hhZG93Q2FtZXJhUG9zW3NdLHRoaXMuX2ZydXN0dW1DZW50ZXJbc10sUnIsdGhpcy5fdmlld01hdHJpY2VzW3NdKTtsZXQgcj0wLG49TmUuejtjb25zdCBhPXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm87YS51cGRhdGUodGhpcy5fdmlld01hdHJpY2VzW3NdKSxuPU1hdGgubWluKG4sYS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQueiksIXRoaXMuX2RlcHRoQ2xhbXB8fHRoaXMuZmlsdGVyPT09Vy5GSUxURVJfUENTUz9yPU1hdGgubWluKHIsYS5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQueik6cj1NYXRoLm1heChyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopLHguT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbc10ueCx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS55LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLnksaT9uOnIsaT9yOm4sdGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3NdLGUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS56PXIsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbc10uej1uLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSksZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKEVvLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3NdLE5lKSxOZS5zY2FsZUluUGxhY2UodGhpcy5fbWFwU2l6ZS8yKSxFaS5jb3B5RnJvbUZsb2F0cyhNYXRoLnJvdW5kKE5lLngpLE1hdGgucm91bmQoTmUueSksTWF0aC5yb3VuZChOZS56KSksRWkuc3VidHJhY3RJblBsYWNlKE5lKS5zY2FsZUluUGxhY2UoMi90aGlzLl9tYXBTaXplKSx4LlRyYW5zbGF0aW9uVG9SZWYoRWkueCxFaS55LDAsc3MpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHNzLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSksdGhpcy5fdmlld01hdHJpY2VzW3NdLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3NdLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3NdKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXS5jb3B5VG9BcnJheSh0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkscyoxNil9fV9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZShlKXtpZighdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhKXJldHVybjtjb25zdCB0PXRoaXMuX2Nhc2NhZGVzW2VdLnByZXZCcmVha0Rpc3RhbmNlLGk9dGhpcy5fY2FzY2FkZXNbZV0uYnJlYWtEaXN0YW5jZSxzPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZTt0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpO2NvbnN0IHI9eC5JbnZlcnQodGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLmdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCkpLG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzQ6MDtmb3IobGV0IGE9MDthPFZlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK2EpTmUuY29weUZyb20oVmUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKGErbiklVmUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoXSkscyYmTmUuej09PS0xJiYoTmUuej0wKSxnLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoTmUscix0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bYV0pO2ZvcihsZXQgYT0wO2E8VmUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoLzI7KythKU5lLmNvcHlGcm9tKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVthKzRdKS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2FdKSxFaS5jb3B5RnJvbShOZSkuc2NhbGVJblBsYWNlKHQpLE5lLnNjYWxlSW5QbGFjZShpKSxOZS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVthXSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2ErNF0uY29weUZyb20oTmUpLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVthXS5hZGRJblBsYWNlKEVpKX1fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGUpe2lmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5jb3B5RnJvbUZsb2F0cygwLDAsMCksISF0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEpe2ZvcihsZXQgaT0wO2k8dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdLmxlbmd0aDsrK2kpdGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtpXSk7aWYodGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5zY2FsZUluUGxhY2UoMS90aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoKSx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzKXtsZXQgaT0wO2ZvcihsZXQgcz0wO3M8dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdLmxlbmd0aDsrK3Mpe2NvbnN0IHI9dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW3NdLnN1YnRyYWN0VG9SZWYodGhpcy5fZnJ1c3R1bUNlbnRlcltlXSxOZSkubGVuZ3RoKCk7aT1NYXRoLm1heChpLHIpfWk9TWF0aC5jZWlsKGkqMTYpLzE2LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKGksaSxpKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cygtaSwtaSwtaSl9ZWxzZXtjb25zdCBpPXRoaXMuX2ZydXN0dW1DZW50ZXJbZV07dGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5hZGRUb1JlZih0aGlzLl9saWdodERpcmVjdGlvbixOZSkseC5Mb29rQXRMSFRvUmVmKGksTmUsUnIsc3MpO2ZvcihsZXQgcz0wO3M8dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdLmxlbmd0aDsrK3MpZy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtzXSxzcyxOZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV0ubWluaW1pemVJblBsYWNlKE5lKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5tYXhpbWl6ZUluUGxhY2UoTmUpfX19X3JlY3JlYXRlU2NlbmVVQk9zKCl7aWYodGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX3NjZW5lVUJPcylmb3IobGV0IGU9MDtlPHRoaXMuX251bUNhc2NhZGVzOysrZSl0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoYFNjZW5lIGZvciBDU00gU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIiR7dGhpcy5fbGlnaHQubmFtZX0iIGNhc2NhZGUgIyR7ZX0pYCkpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWQoKXtjb25zdCBlPWRlLkxhc3RDcmVhdGVkRW5naW5lO3JldHVybiBlP2UuX2ZlYXR1cmVzLnN1cHBvcnRDU006ITF9X2luaXRpYWxpemVHZW5lcmF0b3IoKXt2YXIgZSx0LGkscyxyLG4sYSxvLGgsbCx1LGYsZCxfLEUsbSxULGIsUix5O3RoaXMucGVudW1icmFEYXJrbmVzcz0oZT10aGlzLnBlbnVtYnJhRGFya25lc3MpIT1udWxsP2U6MSx0aGlzLl9udW1DYXNjYWRlcz0odD10aGlzLl9udW1DYXNjYWRlcykhPW51bGw/dDpWZS5ERUZBVUxUX0NBU0NBREVTX0NPVU5ULHRoaXMuc3RhYmlsaXplQ2FzY2FkZXM9KGk9dGhpcy5zdGFiaWxpemVDYXNjYWRlcykhPW51bGw/aTohMSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT0ocz10aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSkhPW51bGw/czpudWxsLHRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0ocj10aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT1udWxsP3I6ITEsdGhpcy5fc2NiaU1pbj0obj10aGlzLl9zY2JpTWluKSE9bnVsbD9uOm5ldyBnKDAsMCwwKSx0aGlzLl9zY2JpTWF4PShhPXRoaXMuX3NjYmlNYXgpIT1udWxsP2E6bmV3IGcoMCwwLDApLHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KG89dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPW51bGw/bzpuZXcgdXQobmV3IGcoMCwwLDApLG5ldyBnKDAsMCwwKSksdGhpcy5fYnJlYWtzQXJlRGlydHk9KGg9dGhpcy5fYnJlYWtzQXJlRGlydHkpIT1udWxsP2g6ITAsdGhpcy5fbWluRGlzdGFuY2U9KGw9dGhpcy5fbWluRGlzdGFuY2UpIT1udWxsP2w6MCx0aGlzLl9tYXhEaXN0YW5jZT0odT10aGlzLl9tYXhEaXN0YW5jZSkhPW51bGw/dToxLHRoaXMuX2N1cnJlbnRMYXllcj0oZj10aGlzLl9jdXJyZW50TGF5ZXIpIT1udWxsP2Y6MCx0aGlzLl9zaGFkb3dNYXhaPShFPShfPXRoaXMuX3NoYWRvd01heFopIT1udWxsP186KGQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhKT09bnVsbD92b2lkIDA6ZC5tYXhaKSE9bnVsbD9FOjFlNCx0aGlzLl9kZWJ1Zz0obT10aGlzLl9kZWJ1ZykhPW51bGw/bTohMSx0aGlzLl9kZXB0aENsYW1wPShUPXRoaXMuX2RlcHRoQ2xhbXApIT1udWxsP1Q6ITAsdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT0oYj10aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSE9bnVsbD9iOi4xLHRoaXMuX2xhbWJkYT0oUj10aGlzLl9sYW1iZGEpIT1udWxsP1I6LjUsdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz0oeT10aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzKSE9bnVsbD95OiExLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCksc3VwZXIuX2luaXRpYWxpemVHZW5lcmF0b3IoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD17d2lkdGg6dGhpcy5fbWFwU2l6ZSxoZWlnaHQ6dGhpcy5fbWFwU2l6ZSxsYXllcnM6dGhpcy5udW1DYXNjYWRlc307dGhpcy5fc2hhZG93TWFwPW5ldyBkdCh0aGlzLl9saWdodC5uYW1lKyJfQ1NNU2hhZG93TWFwIix0LHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLCExLHZvaWQgMCwhMSwhMSx2b2lkIDApLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApfV9pbml0aWFsaXplU2hhZG93TWFwKCl7aWYoc3VwZXIuX2luaXRpYWxpemVTaGFkb3dNYXAoKSx0aGlzLl9zaGFkb3dNYXA9PT1udWxsKXJldHVybjt0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoxNiksdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fZnJ1c3R1bUxlbmd0aHM9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKjIpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX3ZpZXdNYXRyaWNlcz1bXSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXM9W10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXM9W10sdGhpcy5fY2FzY2FkZU1pbkV4dGVudHM9W10sdGhpcy5fY2FzY2FkZU1heEV4dGVudHM9W10sdGhpcy5fZnJ1c3R1bUNlbnRlcj1bXSx0aGlzLl9zaGFkb3dDYW1lcmFQb3M9W10sdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5fbnVtQ2FzY2FkZXM7Kyt0KXt0aGlzLl9jYXNjYWRlc1t0XT17cHJldkJyZWFrRGlzdGFuY2U6MCxicmVha0Rpc3RhbmNlOjB9LHRoaXMuX3ZpZXdNYXRyaWNlc1t0XT14Llplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbdF09eC5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbdF09eC5aZXJvKCksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF09bmV3IGcsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF09bmV3IGcsdGhpcy5fZnJ1c3R1bUNlbnRlclt0XT1uZXcgZyx0aGlzLl9zaGFkb3dDYW1lcmFQb3NbdF09bmV3IGcsdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdPW5ldyBBcnJheShWZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8VmUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1baV09bmV3IGd9Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0PT57dGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fc2NlbmVVQk9zW3RdKSx0aGlzLl9jdXJyZW50TGF5ZXI9dCx0aGlzLl9maWx0ZXI9PT1XLkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KHRoaXMuZ2V0Q2FzY2FkZVZpZXdNYXRyaXgodCksdGhpcy5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeCh0KSksdGhpcy5fdXNlVUJPJiYodGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB0O3RoaXMuX2N1cnJlbnRTY2VuZVVCTz10aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwodD1lLl9kZWJ1Z1B1c2hHcm91cCk9PW51bGx8fHQuY2FsbChlLGBjYXNjYWRlZCBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgJHtlLmN1cnJlbnRSZW5kZXJQYXNzSWR9YCwxKSx0aGlzLl9icmVha3NBcmVEaXJ0eSYmdGhpcy5fc3BsaXRGcnVzdHVtKCksdGhpcy5fY29tcHV0ZU1hdHJpY2VzKCl9KSx0aGlzLl9zcGxpdEZydXN0dW0oKX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0KXt0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCh0aGlzLl9jdXJyZW50TGF5ZXIpKX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSl7ZS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIQ0xBTVAgIisodGhpcy5fZGVwdGhDbGFtcCYmdGhpcy5fZmlsdGVyIT09Vy5GSUxURVJfUENTUz8iMSI6IjAiKSl9cHJlcGFyZURlZmluZXMoZSx0KXtzdXBlci5wcmVwYXJlRGVmaW5lcyhlLHQpO2NvbnN0IGk9dGhpcy5fc2NlbmUscz10aGlzLl9saWdodDtpZighaS5zaGFkb3dzRW5hYmxlZHx8IXMuc2hhZG93RW5hYmxlZClyZXR1cm47ZVsiU0hBRE9XQ1NNIit0XT0hMCxlWyJTSEFET1dDU01ERUJVRyIrdF09dGhpcy5kZWJ1ZyxlWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3RdPXRoaXMubnVtQ2FzY2FkZXMsZVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIit0XT1pLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2NvbnN0IHI9aS5hY3RpdmVDYW1lcmE7ciYmdGhpcy5fc2hhZG93TWF4WjxyLm1heFomJihlWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIit0XT0hMCksdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPT09MCYmKGVbIlNIQURPV0NTTU5PQkxFTkQiK3RdPSEwKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0LHM9dGhpcy5fc2NlbmU7aWYoIXMuc2hhZG93c0VuYWJsZWR8fCFpLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2NvbnN0IHI9cy5hY3RpdmVDYW1lcmE7aWYoIXIpcmV0dXJuO2NvbnN0IG49dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighbilyZXR1cm47Y29uc3QgYT1uLmdldFNpemUoKS53aWR0aDtpZih0LnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrZSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHQuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrZSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHQuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrZSx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksdC5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK2UsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PVcuRklMVEVSX1BDRil0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksYSwxL2EsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSk7ZWxzZSBpZih0aGlzLl9maWx0ZXI9PT1XLkZJTFRFUl9QQ1NTKXtmb3IobGV0IG89MDtvPHRoaXMuX251bUNhc2NhZGVzOysrbyl0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bbyoyKzBdPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueCkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueCksdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uW28qMisxXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnkpLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnkpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbltvXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnopLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnopO3Quc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSx0LnNldFRleHR1cmUoImRlcHRoU2FtcGxlciIrZSxuKSx0LnNldEFycmF5MigibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbiksdC5zZXRBcnJheSgiZGVwdGhDb3JyZWN0aW9uIitlLHRoaXMuX2RlcHRoQ29ycmVjdGlvbiksdC5zZXRGbG9hdCgicGVudW1icmFEYXJrbmVzcyIrZSx0aGlzLnBlbnVtYnJhRGFya25lc3MpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvYSx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyphLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpfWVsc2UgdC5zZXRUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLGEsMS9hLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpO2kuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSl9Z2V0VHJhbnNmb3JtTWF0cml4KCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksdGhpcy5fZGVwdGhSZWR1Y2VyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlZHVjZXI9bnVsbCl9c2VyaWFsaXplKCl7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKSx0PXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXQpcmV0dXJuIGU7aWYoZS5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyxlLmRlYnVnPXRoaXMuX2RlYnVnLGUuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyxlLmxhbWJkYT10aGlzLl9sYW1iZGEsZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSxlLmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCxlLmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLGUuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLGUucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sZS5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLGUubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSxlLnJlbmRlckxpc3Q9W10sdC5yZW5kZXJMaXN0KWZvcihsZXQgaT0wO2k8dC5yZW5kZXJMaXN0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dC5yZW5kZXJMaXN0W2ldO2UucmVuZGVyTGlzdC5wdXNoKHMuaWQpfXJldHVybiBlfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9Vy5QYXJzZShlLHQsKHMscik9Pm5ldyBWZShzLHIpKTtyZXR1cm4gZS5udW1DYXNjYWRlcyE9PXZvaWQgMCYmKGkubnVtQ2FzY2FkZXM9ZS5udW1DYXNjYWRlcyksZS5kZWJ1ZyE9PXZvaWQgMCYmKGkuZGVidWc9ZS5kZWJ1ZyksZS5zdGFiaWxpemVDYXNjYWRlcyE9PXZvaWQgMCYmKGkuc3RhYmlsaXplQ2FzY2FkZXM9ZS5zdGFiaWxpemVDYXNjYWRlcyksZS5sYW1iZGEhPT12b2lkIDAmJihpLmxhbWJkYT1lLmxhbWJkYSksZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlIT09dm9pZCAwJiYoaS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPWUuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksZS5kZXB0aENsYW1wIT09dm9pZCAwJiYoaS5kZXB0aENsYW1wPWUuZGVwdGhDbGFtcCksZS5hdXRvQ2FsY0RlcHRoQm91bmRzIT09dm9pZCAwJiYoaS5hdXRvQ2FsY0RlcHRoQm91bmRzPWUuYXV0b0NhbGNEZXB0aEJvdW5kcyksZS5zaGFkb3dNYXhaIT09dm9pZCAwJiYoaS5zaGFkb3dNYXhaPWUuc2hhZG93TWF4WiksZS5wZW51bWJyYURhcmtuZXNzIT09dm9pZCAwJiYoaS5wZW51bWJyYURhcmtuZXNzPWUucGVudW1icmFEYXJrbmVzcyksZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvIT09dm9pZCAwJiYoaS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPWUuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyksZS5taW5EaXN0YW5jZSE9PXZvaWQgMCYmZS5tYXhEaXN0YW5jZSE9PXZvaWQgMCYmaS5zZXRNaW5NYXhEaXN0YW5jZShlLm1pbkRpc3RhbmNlLGUubWF4RGlzdGFuY2UpLGl9fVZlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlPVtuZXcgZygtMSwxLC0xKSxuZXcgZygxLDEsLTEpLG5ldyBnKDEsLTEsLTEpLG5ldyBnKC0xLC0xLC0xKSxuZXcgZygtMSwxLDEpLG5ldyBnKDEsMSwxKSxuZXcgZygxLC0xLDEpLG5ldyBnKC0xLC0xLDEpXSxWZS5DTEFTU05BTUU9IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIixWZS5ERUZBVUxUX0NBU0NBREVTX0NPVU5UPTQsVmUuTUlOX0NBU0NBREVTX0NPVU5UPTIsVmUuTUFYX0NBU0NBREVTX0NPVU5UPTQsVmUuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93IHEoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9LFhpLkFkZFBhcnNlcihqLk5BTUVfU0hBRE9XR0VORVJBVE9SLChjLGUpPT57aWYoYy5zaGFkb3dHZW5lcmF0b3JzIT09dm9pZCAwJiZjLnNoYWRvd0dlbmVyYXRvcnMhPT1udWxsKWZvcihsZXQgdD0wLGk9Yy5zaGFkb3dHZW5lcmF0b3JzLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBzPWMuc2hhZG93R2VuZXJhdG9yc1t0XTtzLmNsYXNzTmFtZT09PVZlLkNMQVNTTkFNRT9WZS5QYXJzZShzLGUpOlcuUGFyc2UocyxlKX19KTtjbGFzcyBUb3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9ai5OQU1FX1NIQURPV0dFTkVSQVRPUix0aGlzLnNjZW5lPWV9cmVnaXN0ZXIoKXt0aGlzLnNjZW5lLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UucmVnaXN0ZXJTdGVwKGouU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUix0aGlzLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHMpfXJlYnVpbGQoKXt9c2VyaWFsaXplKGUpe2Uuc2hhZG93R2VuZXJhdG9ycz1bXTtjb25zdCB0PXRoaXMuc2NlbmUubGlnaHRzO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHM9aS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtzJiZlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChzLnNlcmlhbGl6ZSgpKX19YWRkRnJvbUNvbnRhaW5lcihlKXt9cmVtb3ZlRnJvbUNvbnRhaW5lcihlLHQpe31kaXNwb3NlKCl7fV9nYXRoZXJSZW5kZXJUYXJnZXRzKGUpe2NvbnN0IHQ9dGhpcy5zY2VuZTtpZih0aGlzLnNjZW5lLnNoYWRvd3NFbmFibGVkKWZvcihsZXQgaT0wO2k8dC5saWdodHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmxpZ2h0c1tpXSxyPXMuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYocy5pc0VuYWJsZWQoKSYmcy5zaGFkb3dFbmFibGVkJiZyKXtjb25zdCBuPXIuZ2V0U2hhZG93TWFwKCk7dC50ZXh0dXJlcy5pbmRleE9mKG4pIT09LTEmJmUucHVzaChuKX19fX1XLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9PntsZXQgZT1jLl9nZXRDb21wb25lbnQoai5OQU1FX1NIQURPV0dFTkVSQVRPUik7ZXx8KGU9bmV3IFRvKGMpLGMuX2FkZENvbXBvbmVudChlKSl9O2NvbnN0IFNvPXtlbmFibGVTaGFkb3dzOiEwfTtmdW5jdGlvbiB5cihjPVNvKXtjb25zdHtlbmFibGVTaGFkb3dzOmUsc2hhZG93VHJhbnNwYXJlbmN5OnQsaW50ZW5zaXR5Omksc2NlbmU6c309YyxyPW5ldyBDdCgiRGlyZWN0aW9uYWxMaWdodCIsbmV3IGcoLS4zLC0xLC40KSxzKTtyLnBvc2l0aW9uPW5ldyBnKC01MCw2NSwtNTApLHIuaW50ZW5zaXR5PS42NSppO2NvbnN0IG49bmV3IHRzKCJIZW1pc3BoZXJpY0xpZ2h0IixuZXcgZygxLDEsMCkscyk7cmV0dXJuIG4uaW50ZW5zaXR5PS40KmksZSYmKHIuc2hhZG93TWluWj0xLHIuc2hhZG93TWF4Wj03MCxyLnNoYWRvd0dlbmVyYXRvcj1uZXcgVygyMDQ4LHIpLHIuc2hhZG93R2VuZXJhdG9yLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITAsci5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dCkse2RpcmVjdGlvbmFsOnIsaGVtaXNwaGVyaWM6bn19ZnVuY3Rpb24gQ3IoYyl7bGV0IHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXTtjb25zdCBpPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0scz1bXTtsZXQgcj1bXTtjb25zdCBuPWMud2lkdGh8fGMuc2l6ZXx8MSxhPWMuaGVpZ2h0fHxjLnNpemV8fDEsbz1jLmRlcHRofHxjLnNpemV8fDEsaD1jLndyYXB8fCExO2xldCBsPWMudG9wQmFzZUF0PT09dm9pZCAwPzE6Yy50b3BCYXNlQXQsdT1jLmJvdHRvbUJhc2VBdD09PXZvaWQgMD8wOmMuYm90dG9tQmFzZUF0O2w9KGwrNCklNCx1PSh1KzQpJTQ7Y29uc3QgZj1bMiwwLDMsMV0sZD1bMiwwLDEsM107bGV0IF89ZltsXSxFPWRbdV0sbT1bMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDFdO2lmKGgpe3Q9WzIsMywwLDIsMCwxLDQsNSw2LDQsNiw3LDksMTAsMTEsOSwxMSw4LDEyLDE0LDE1LDEyLDEzLDE0XSxtPVstMSwxLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMV07bGV0IEE9W1sxLDEsMV0sWy0xLDEsMV0sWy0xLDEsLTFdLFsxLDEsLTFdXSxMPVtbLTEsLTEsMV0sWzEsLTEsMV0sWzEsLTEsLTFdLFstMSwtMSwtMV1dO2NvbnN0IEo9WzE3LDE4LDE5LDE2XSxoZT1bMjIsMjMsMjAsMjFdO2Zvcig7Xz4wOylBLnVuc2hpZnQoQS5wb3AoKSksSi51bnNoaWZ0KEoucG9wKCkpLF8tLTtmb3IoO0U+MDspTC51bnNoaWZ0KEwucG9wKCkpLGhlLnVuc2hpZnQoaGUucG9wKCkpLEUtLTtBPUEuZmxhdCgpLEw9TC5mbGF0KCksbT1tLmNvbmNhdChBKS5jb25jYXQoTCksdC5wdXNoKEpbMF0sSlsyXSxKWzNdLEpbMF0sSlsxXSxKWzJdKSx0LnB1c2goaGVbMF0saGVbMl0saGVbM10saGVbMF0saGVbMV0saGVbMl0pfWNvbnN0IFQ9W24vMixhLzIsby8yXTtyPW0ucmVkdWNlKChBLEwsSik9PkEuY29uY2F0KEwqVFtKJTNdKSxbXSk7Y29uc3QgYj1jLnNpZGVPcmllbnRhdGlvbj09PTA/MDpjLnNpZGVPcmllbnRhdGlvbnx8US5ERUZBVUxUU0lERSxSPWMuZmFjZVVWfHxuZXcgQXJyYXkoNikseT1jLmZhY2VDb2xvcnMsRD1bXTtmb3IobGV0IEE9MDtBPDY7QSsrKVJbQV09PT12b2lkIDAmJihSW0FdPW5ldyBFZSgwLDAsMSwxKSkseSYmeVtBXT09PXZvaWQgMCYmKHlbQV09bmV3IGdlKDEsMSwxLDEpKTtmb3IobGV0IEE9MDtBPDY7QSsrKWlmKHMucHVzaChSW0FdLnosZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLVJbQV0udzpSW0FdLncpLHMucHVzaChSW0FdLngsZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLVJbQV0udzpSW0FdLncpLHMucHVzaChSW0FdLngsZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLVJbQV0ueTpSW0FdLnkpLHMucHVzaChSW0FdLnosZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLVJbQV0ueTpSW0FdLnkpLHkpZm9yKGxldCBMPTA7TDw0O0wrKylELnB1c2goeVtBXS5yLHlbQV0uZyx5W0FdLmIseVtBXS5hKTtRLl9Db21wdXRlU2lkZXMoYixyLHQsaSxzLGMuZnJvbnRVVnMsYy5iYWNrVVZzKTtjb25zdCB2PW5ldyBRO2lmKHYuaW5kaWNlcz10LHYucG9zaXRpb25zPXIsdi5ub3JtYWxzPWksdi51dnM9cyx5KXtjb25zdCBBPWI9PT1RLkRPVUJMRVNJREU/RC5jb25jYXQoRCk6RDt2LmNvbG9ycz1BfXJldHVybiB2fWZ1bmN0aW9uIFRpKGMsZT17fSx0PW51bGwpe2NvbnN0IGk9bmV3IGsoYyx0KTtyZXR1cm4gZS5zaWRlT3JpZW50YXRpb249ay5fR2V0RGVmYXVsdFNpZGVPcmllbnRhdGlvbihlLnNpZGVPcmllbnRhdGlvbiksaS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPWUuc2lkZU9yaWVudGF0aW9uLENyKGUpLmFwcGx5VG9NZXNoKGksZS51cGRhdGFibGUpLGl9US5DcmVhdGVCb3g9Q3Isay5DcmVhdGVCb3g9KGMsZSx0PW51bGwsaSxzKT0+VGkoYyx7c2l6ZTplLHNpZGVPcmllbnRhdGlvbjpzLHVwZGF0YWJsZTppfSx0KTtjbGFzcyBJcntjb25zdHJ1Y3Rvcigpe3RoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzPXt9LHRoaXMucHJldmlvdXNCb25lcz17fX1zdGF0aWMgQWRkVW5pZm9ybXMoZSl7ZS5wdXNoKCJwcmV2aW91c1dvcmxkIiwicHJldmlvdXNWaWV3UHJvamVjdGlvbiIsIm1QcmV2aW91c0JvbmVzIil9c3RhdGljIEFkZFNhbXBsZXJzKGUpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzLHIpe2lmKHQucHJlUGFzc1JlbmRlcmVyJiZ0LnByZVBhc3NSZW5kZXJlci5lbmFibGVkJiZ0LnByZVBhc3NSZW5kZXJlci5jdXJyZW50UlRpc1NjZW5lUlQmJnQucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KDIpIT09LTEpe3RoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdfHwodGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF09cy5jbG9uZSgpKSx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb258fCh0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb249dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS5jbG9uZSgpLHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSk7Y29uc3Qgbj10LmdldEVuZ2luZSgpO3RoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uLnVwZGF0ZUZsYWchPT10LmdldFRyYW5zZm9ybU1hdHJpeCgpLnVwZGF0ZUZsYWc/KHRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkPW4uZnJhbWVJZCx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24pLHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHQuZ2V0VHJhbnNmb3JtTWF0cml4KCkpKTp0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZCE9PW4uZnJhbWVJZCYmKHRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkPW4uZnJhbWVJZCx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24pKSxlLnNldE1hdHJpeCgicHJldmlvdXNXb3JsZCIsdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF0pLGUuc2V0TWF0cml4KCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIix0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24pLHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdPXMuY2xvbmUoKX19fWNsYXNzIFByIGV4dGVuZHMgSXtjb25zdHJ1Y3RvcihlLHQsaT0hMCl7c3VwZXIoZSx0KSx0aGlzLl9ub3JtYWxNYXRyaXg9bmV3IHgsdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz1pfWdldEVmZmVjdCgpe3JldHVybiB0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP3RoaXMuX2FjdGl2ZUVmZmVjdDpzdXBlci5nZXRFZmZlY3QoKX1pc1JlYWR5KGUsdCl7cmV0dXJuIGU/IXRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fCFlLnN1Yk1lc2hlc3x8ZS5zdWJNZXNoZXMubGVuZ3RoPT09MD8hMDp0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKGUsZS5zdWJNZXNoZXNbMF0sdCk6ITF9X2lzUmVhZHlGb3JTdWJNZXNoKGUpe2NvbnN0IHQ9ZS5tYXRlcmlhbERlZmluZXM7cmV0dXJuISEoIXRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsJiZlLmVmZmVjdCYmdCYmdC5fcmVuZGVySWQ9PT10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKSl9YmluZE9ubHlXb3JsZE1hdHJpeChlKXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ3b3JsZCIsZSl9YmluZE9ubHlOb3JtYWxNYXRyaXgoZSl7dGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgibm9ybWFsTWF0cml4IixlKX1iaW5kKGUsdCl7IXR8fHRoaXMuYmluZEZvclN1Yk1lc2goZSx0LHQuc3ViTWVzaGVzWzBdKX1fYWZ0ZXJCaW5kKGUsdD1udWxsKXtzdXBlci5fYWZ0ZXJCaW5kKGUsdCksdGhpcy5nZXRTY2VuZSgpLl9jYWNoZWRFZmZlY3Q9dH1fbXVzdFJlYmluZChlLHQsaT0xKXtyZXR1cm4gZS5pc0NhY2hlZE1hdGVyaWFsSW52YWxpZCh0aGlzLHQsaSl9fWNsYXNzIGNle3N0YXRpYyBnZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkPWUsQy5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBEZXRhaWxUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERldGFpbFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkPWUsQy5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ZSxDLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWUsQy5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ZSxDLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ZSxDLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRnJlc25lbEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRnJlc25lbEVuYWJsZWR9c3RhdGljIHNldCBGcmVzbmVsRW5hYmxlZChlKXt0aGlzLl9GcmVzbmVsRW5hYmxlZCE9PWUmJih0aGlzLl9GcmVzbmVsRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNCkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPWUsQy5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ZSxDLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFNoZWVuVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNoZWVuVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkPWUsQy5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBUaGlja25lc3NUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD1lLEMuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxDLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFRyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxDLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IElyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IElyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPWUsQy5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9fWNlLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0RldGFpbFRleHR1cmVFbmFibGVkPSEwLGNlLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD0hMCxjZS5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPSEwLGNlLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPSEwLGNlLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPSEwLGNlLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCxjZS5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0ZyZXNuZWxFbmFibGVkPSEwLGNlLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD0hMCxjZS5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPSEwLGNlLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPSEwLGNlLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLGNlLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPSEwO2NvbnN0IGJvPSJkZWZhdWx0RnJhZ21lbnREZWNsYXJhdGlvbiIseG89YHVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gdmVjNCB2RGlmZnVzZUNvbG9yOwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2U3BlY3VsYXJDb2xvcjsKI2VuZGlmCnVuaWZvcm0gdmVjMyB2RW1pc3NpdmVDb2xvcjsKdW5pZm9ybSB2ZWMzIHZBbWJpZW50Q29sb3I7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZIAp1bmlmb3JtIHZlYzIgdk9wYWNpdHlJbmZvczsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRQp1bmlmb3JtIHZlYzIgdkVtaXNzaXZlSW5mb3M7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gdmVjMiB2VGFuZ2VudFNwYWNlUGFyYW1zOwojZW5kaWYKI2lmZGVmIEFMUEhBVEVTVAp1bmlmb3JtIGZsb2F0IGFscGhhQ3V0T2ZmOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OKSB8fCBkZWZpbmVkKFJFRlJBQ1RJT04pIHx8IGRlZmluZWQoUFJFUEFTUykKdW5pZm9ybSBtYXQ0IHZpZXc7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTgp1bmlmb3JtIHZlYzQgdlJlZnJhY3Rpb25JbmZvczsKI2lmbmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gbWF0NCByZWZyYWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZSQUNUSU9OTUFQXzNEKQp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsgCiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VMZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCBkaWZmdXNlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTAp1bmlmb3JtIHZlYzQgb3BhY2l0eVBhcnRzOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTAp1bmlmb3JtIHZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCBlbWlzc2l2ZVJpZ2h0Q29sb3I7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIHZlYzIgdlJlZmxlY3Rpb25JbmZvczsKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9QTEFOQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TS1lCT1gpCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmbmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKQp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsgCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmbGVjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwojZW5kaWYKI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtib109eG87Y29uc3Qgdm89ImRlZmF1bHRVYm9EZWNsYXJhdGlvbiIsTW89YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1hdGVyaWFsCnsKdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwp2ZWM0IG9wYWNpdHlQYXJ0czsKdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CnZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwp2ZWMyIHZEaWZmdXNlSW5mb3M7CnZlYzIgdkFtYmllbnRJbmZvczsKdmVjMiB2T3BhY2l0eUluZm9zOwp2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CnZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmbGVjdGlvblNpemU7CnZlYzIgdkVtaXNzaXZlSW5mb3M7CnZlYzIgdkxpZ2h0bWFwSW5mb3M7CnZlYzIgdlNwZWN1bGFySW5mb3M7CnZlYzMgdkJ1bXBJbmZvczsKbWF0NCBkaWZmdXNlTWF0cml4OwptYXQ0IGFtYmllbnRNYXRyaXg7Cm1hdDQgb3BhY2l0eU1hdHJpeDsKbWF0NCByZWZsZWN0aW9uTWF0cml4OwptYXQ0IGVtaXNzaXZlTWF0cml4OwptYXQ0IGxpZ2h0bWFwTWF0cml4OwptYXQ0IHNwZWN1bGFyTWF0cml4OwptYXQ0IGJ1bXBNYXRyaXg7CnZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKZmxvYXQgcG9pbnRTaXplOwpmbG9hdCBhbHBoYUN1dE9mZjsKbWF0NCByZWZyYWN0aW9uTWF0cml4Owp2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CnZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmcmFjdGlvblNpemU7CnZlYzQgdlNwZWN1bGFyQ29sb3I7CnZlYzMgdkVtaXNzaXZlQ29sb3I7CnZlYzQgdkRpZmZ1c2VDb2xvcjsKdmVjMyB2QW1iaWVudENvbG9yOwojZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OCn07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZvXT1Nbztjb25zdCBBbz0icHJlUGFzc0RlY2xhcmF0aW9uIixSbz1gI2lmZGVmIFBSRVBBU1MKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IGhpZ2hwIHZlYzQgZ2xGcmFnRGF0YVt7WH1dO2hpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIGhpZ2hwIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2YXJ5aW5nIGhpZ2hwIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjt2YXJ5aW5nIGhpZ2hwIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0FvXT1Sbztjb25zdCB5bz0ib2l0RGVjbGFyYXRpb24iLENvPWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCB2ZWMyIGRlcHRoOyAKbGF5b3V0KGxvY2F0aW9uPTEpIG91dCB2ZWM0IGZyb250Q29sb3I7CmxheW91dChsb2NhdGlvbj0yKSBvdXQgdmVjNCBiYWNrQ29sb3I7CiNkZWZpbmUgTUFYX0RFUFRIIDk5OTk5LjAKaGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdERlcHRoU2FtcGxlcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RnJvbnRDb2xvclNhbXBsZXI7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbeW9dPUNvO2NvbnN0IElvPSJtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24iLFBvPWAjaWZkZWYgTUFJTlVWe1h9CnZhcnlpbmcgdmVjMiB2TWFpblVWe1h9OwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0lvXT1Qbztjb25zdCBEbz0ibGlnaHRGcmFnbWVudERlY2xhcmF0aW9uIixGbz1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtEb109Rm87Y29uc3Qgd289ImxpZ2h0VWJvRGVjbGFyYXRpb24iLE9vPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCB2aWV3RnJ1c3R1bVp7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBmcnVzdHVtTGVuZ3Roc3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGNhc2NhZGVCbGVuZEZhY3RvcntYfTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcntYfTsKdW5pZm9ybSB2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGRlcHRoQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHBlbnVtYnJhRGFya25lc3N7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpjb25zdCB2ZWMzIHZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVs4XT12ZWMzWzhdCigKdmVjMyAoIDEuNSwwLjAsMC4wICksCnZlYzMgKCAwLjAsMS41LDAuMCApLAp2ZWMzICggMC4wLDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwwLjAsNS41ICksCnZlYzMgKCAxLjUsMS41LDAuMCApLAp2ZWMzICggMS4wLDEuMCwxLjAgKSwKdmVjMyAoIDAuMCwxLjAsNS41ICksCnZlYzMgKCAwLjUsMy41LDAuNzUgKQopOwp2ZWMzIHNoYWRvd0RlYnVne1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaW50IGluZGV4e1h9PS0xOwojZWxzZQppbnQgaW5kZXh7WH09U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTE7CiNlbmRpZgpmbG9hdCBkaWZme1h9PTAuOwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcntYfTsgCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbd29dPU9vO2NvbnN0IExvPSJsaWdodHNGcmFnbWVudEZ1bmN0aW9ucyIsTm89YHN0cnVjdCBsaWdodGluZ0luZm8Kewp2ZWMzIGRpZmZ1c2U7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhcjsKI2VuZGlmCiNpZmRlZiBORE9UTApmbG9hdCBuZGw7CiNlbmRpZgp9OwpsaWdodGluZ0luZm8gY29tcHV0ZUxpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgbGlnaHRWZWN0b3JXOwpmbG9hdCBhdHRlbnVhdGlvbj0xLjA7CmlmIChsaWdodERhdGEudz09MC4pCnsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwphdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwp9CmVsc2UKewpsaWdodFZlY3Rvclc9bm9ybWFsaXplKC1saWdodERhdGEueHl6KTsKfQpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVTcG90TGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjNCBsaWdodERpcmVjdGlvbix2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CnZlYzMgbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwpmbG9hdCBhdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKZmxvYXQgY29zQW5nbGU9bWF4KDAuLGRvdChsaWdodERpcmVjdGlvbi54eXosLWxpZ2h0VmVjdG9yVykpOwppZiAoY29zQW5nbGU+PWxpZ2h0RGlyZWN0aW9uLncpCnsKY29zQW5nbGU9bWF4KDAuLHBvdyhjb3NBbmdsZSxsaWdodERhdGEudykpOwphdHRlbnVhdGlvbio9Y29zQW5nbGU7CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpyZXN1bHQuZGlmZnVzZT12ZWMzKDAuKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZXN1bHQuc3BlY3VsYXI9dmVjMygwLik7CiNlbmRpZgojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD0wLjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcix2ZWMzIGdyb3VuZENvbG9yLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKZmxvYXQgbmRsPWRvdCh2Tm9ybWFsLGxpZ2h0RGF0YS54eXopKjAuNSswLjU7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW1peChncm91bmRDb2xvcixkaWZmdXNlQ29sb3IsbmRsKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHREYXRhLnh5eik7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQojZGVmaW5lIGlubGluZQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcixtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4KXsKdmVjNCBzdHJxPXRleHR1cmVQcm9qZWN0aW9uTWF0cml4KnZlYzQodlBvc2l0aW9uVywxLjApOwpzdHJxLz1zdHJxLnc7CnZlYzMgdGV4dHVyZUNvbG9yPXRleHR1cmUyRChwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLHN0cnEueHkpLnJnYjsKcmV0dXJuIHRleHR1cmVDb2xvcjsKfWA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMb109Tm87Y29uc3QgQm89InNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucyIsVW89YCNpZmRlZiBTSEFET1dTCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9CiNlbmRpZgpmbG9hdCBjb21wdXRlRmFsbE9mZihmbG9hdCB2YWx1ZSx2ZWMyIGNsaXBTcGFjZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKZmxvYXQgbWFzaz1zbW9vdGhzdGVwKDEuMC1mcnVzdHVtRWRnZUZhbGxvZmYsMS4wMDAwMDAxMixjbGFtcChkb3QoY2xpcFNwYWNlLGNsaXBTcGFjZSksMC4sMS4pKTsKcmV0dXJuIG1peCh2YWx1ZSwxLjAsbWFzayk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmRlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKcmV0dXJuIGRlcHRoPnNoYWRvdyA/IGRhcmtuZXNzIDogMS4wOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CmZsb2F0IHZpc2liaWxpdHk9MS47CnZlYzMgcG9pc3NvbkRpc2tbNF07CnBvaXNzb25EaXNrWzBdPXZlYzMoLTEuMCwxLjAsLTEuMCk7CnBvaXNzb25EaXNrWzFdPXZlYzMoMS4wLC0xLjAsLTEuMCk7CnBvaXNzb25EaXNrWzJdPXZlYzMoLTEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1szXT12ZWMzKDEuMCwtMS4wLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gbWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsgCnJldHVybiBlc207Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gZXNtOwp9CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDU00oZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKdmVjMyB1dkxheWVyPXZlYzModXYueCx1di55LGxheWVyKTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KI2VuZGlmCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3codmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KS54OwojZW5kaWYKcmV0dXJuIHNoYWRvd1BpeGVsRGVwdGg+c2hhZG93ID8gY29tcHV0ZUZhbGxPZmYoZGFya25lc3MsY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZikgOiAxLjsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IG1hcFNpemUsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMyIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMyKC0wLjk0MjAxNjI0LC0wLjM5OTA2MjE2KTsKcG9pc3NvbkRpc2tbMV09dmVjMigwLjk0NTU4NjA5LC0wLjc2ODkwNzI1KTsKcG9pc3NvbkRpc2tbMl09dmVjMigtMC4wOTQxODQxMDEsLTAuOTI5Mzg4NzApOwpwb2lzc29uRGlza1szXT12ZWMyKDAuMzQ0OTU5MzgsMC4yOTM4Nzc2MCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBjb21wdXRlRmFsbE9mZihtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihlc20sY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOyAKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIFpJTkNMSVAgY2xpcFNwYWNlLnoKI2Vsc2UKI2RlZmluZSBaSU5DTElQIHV2RGVwdGguegojZW5kaWYKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkKI2RlZmluZSBHUkVBVEVTVF9MRVNTX1RIQU5fT05FIDAuOTk5OTk5OTQKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWM0IHV2RGVwdGhMYXllcj12ZWM0KHV2RGVwdGgueCx1dkRlcHRoLnksbGF5ZXIsdXZEZXB0aC56KTsKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGhMYXllcik7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjEodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGNSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CmNvbnN0IHZlYzMgUG9pc3NvblNhbXBsZXJzMzJbNjRdPXZlYzNbNjRdKAp2ZWMzKDAuMDY0MDcwMTMsMC4wNTQwOTkyNywwLiksCnZlYzMoMC43MzY2NTc3LDAuNTc4OTM5NCwwLiksCnZlYzMoLTAuNjI3MDU0MiwtMC41MzIwMjc4LDAuKSwKdmVjMygtMC40MDk2MTA3LDAuODQxMTA5NSwwLiksCnZlYzMoMC42ODQ5NTY0LC0wLjQ5OTA4MTgsMC4pLAp2ZWMzKC0wLjg3NDE4MSwtMC4wNDU3OTczNSwwLiksCnZlYzMoMC45OTg5OTk4LDAuMDAwOTg4MDA2NiwwLiksCnZlYzMoLTAuMDA0OTIwNTc4LC0wLjkxNTE2NDksMC4pLAp2ZWMzKDAuMTgwNTc2MywwLjk3NDc0ODMsMC4pLAp2ZWMzKC0wLjIxMzg0NTEsMC4yNjM1ODE4LDAuKSwKdmVjMygwLjEwOTg0NSwwLjM4ODQ3ODUsMC4pLAp2ZWMzKDAuMDY4NzY3NTUsLTAuMzU4MTA3NCwwLiksCnZlYzMoMC4zNzQwNzMsLTAuNzY2MTI2NiwwLiksCnZlYzMoMC4zMDc5MTMyLC0wLjEyMTY3NjMsMC4pLAp2ZWMzKC0wLjM3OTQzMzUsLTAuODI3MTU4MywwLiksCnZlYzMoLTAuMjAzODc4LC0wLjA3NzE1MDM0LDAuKSwKdmVjMygwLjU5MTI2OTcsMC4xNDY5Nzk5LDAuKSwKdmVjMygtMC44ODA2OSwwLjMwMzE3ODQsMC4pLAp2ZWMzKDAuNTA0MDEwOCwwLjgyODM3MjIsMC4pLAp2ZWMzKC0wLjU4NDQxMjQsMC41NDk0ODc3LDAuKSwKdmVjMygwLjYwMTc3OTksLTAuMTcyNjY1NCwwLiksCnZlYzMoLTAuNTU1NDk4MSwwLjE1NTk5OTcsMC4pLAp2ZWMzKC0wLjMwMTYzNjksLTAuMzkwMDkyOCwwLiksCnZlYzMoLTAuNTU1MDYzMiwtMC4xNzIzNzYyLDAuKSwKdmVjMygwLjkyNTAyOSwwLjI5OTUwNDEsMC4pLAp2ZWMzKC0wLjI0NzMxMzcsMC41NTM4NTA1LDAuKSwKdmVjMygwLjkxODMwMzcsLTAuMjg2MjM5MiwwLiksCnZlYzMoMC4yNDY5NDIxLDAuNjcxODcxMiwwLiksCnZlYzMoMC4zOTE2Mzk3LC0wLjQzMjgyMDksMC4pLAp2ZWMzKC0wLjAzNTc2OTI3LC0wLjYyMjAwMzIsMC4pLAp2ZWMzKC0wLjA0NjYxMjU1LDAuNzk5NTIwMSwwLiksCnZlYzMoMC40NDAyOTI0LDAuMzY0MDMxMiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKQopOwpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczY0WzY0XT12ZWMzWzY0XSgKdmVjMygtMC42MTMzOTIsMC42MTc0ODEsMC4pLAp2ZWMzKDAuMTcwMDE5LC0wLjA0MDI1NCwwLiksCnZlYzMoLTAuMjk5NDE3LDAuNzkxOTI1LDAuKSwKdmVjMygwLjY0NTY4MCwwLjQ5MzIxMCwwLiksCnZlYzMoLTAuNjUxNzg0LDAuNzE3ODg3LDAuKSwKdmVjMygwLjQyMTAwMywwLjAyNzA3MCwwLiksCnZlYzMoLTAuODE3MTk0LC0wLjI3MTA5NiwwLiksCnZlYzMoLTAuNzA1Mzc0LC0wLjY2ODIwMywwLiksCnZlYzMoMC45NzcwNTAsLTAuMTA4NjE1LDAuKSwKdmVjMygwLjA2MzMyNiwwLjE0MjM2OSwwLiksCnZlYzMoMC4yMDM1MjgsMC4yMTQzMzEsMC4pLAp2ZWMzKC0wLjY2NzUzMSwwLjMyNjA5MCwwLiksCnZlYzMoLTAuMDk4NDIyLC0wLjI5NTc1NSwwLiksCnZlYzMoLTAuODg1OTIyLDAuMjE1MzY5LDAuKSwKdmVjMygwLjU2NjYzNywwLjYwNTIxMywwLiksCnZlYzMoMC4wMzk3NjYsLTAuMzk2MTAwLDAuKSwKdmVjMygwLjc1MTk0NiwwLjQ1MzM1MiwwLiksCnZlYzMoMC4wNzg3MDcsLTAuNzE1MzIzLDAuKSwKdmVjMygtMC4wNzU4MzgsLTAuNTI5MzQ0LDAuKSwKdmVjMygwLjcyNDQ3OSwtMC41ODA3OTgsMC4pLAp2ZWMzKDAuMjIyOTk5LC0wLjIxNTEyNSwwLiksCnZlYzMoLTAuNDY3NTc0LC0wLjQwNTQzOCwwLiksCnZlYzMoLTAuMjQ4MjY4LC0wLjgxNDc1MywwLiksCnZlYzMoMC4zNTQ0MTEsLTAuODg3NTcwLDAuKSwKdmVjMygwLjE3NTgxNywwLjM4MjM2NiwwLiksCnZlYzMoMC40ODc0NzIsLTAuMDYzMDgyLDAuKSwKdmVjMygtMC4wODQwNzgsMC44OTgzMTIsMC4pLAp2ZWMzKDAuNDg4ODc2LC0wLjc4MzQ0MSwwLiksCnZlYzMoMC40NzAwMTYsMC4yMTc5MzMsMC4pLAp2ZWMzKC0wLjY5Njg5MCwtMC41NDk3OTEsMC4pLAp2ZWMzKC0wLjE0OTY5MywwLjYwNTc2MiwwLiksCnZlYzMoMC4wMzQyMTEsMC45Nzk5ODAsMC4pLAp2ZWMzKDAuNTAzMDk4LC0wLjMwODg3OCwwLiksCnZlYzMoLTAuMDE2MjA1LC0wLjg3MjkyMSwwLiksCnZlYzMoMC4zODU3ODQsLTAuMzkzOTAyLDAuKSwKdmVjMygtMC4xNDY4ODYsLTAuODU5MjQ5LDAuKSwKdmVjMygwLjY0MzM2MSwwLjE2NDA5OCwwLiksCnZlYzMoMC42MzQzODgsLTAuMDQ5NDcxLDAuKSwKdmVjMygtMC42ODg4OTQsMC4wMDc4NDMsMC4pLAp2ZWMzKDAuNDY0MDM0LC0wLjE4ODgxOCwwLiksCnZlYzMoLTAuNDQwODQwLDAuMTM3NDg2LDAuKSwKdmVjMygwLjM2NDQ4MywwLjUxMTcwNCwwLiksCnZlYzMoMC4wMzQwMjgsMC4zMjU5NjgsMC4pLAp2ZWMzKDAuMDk5MDk0LC0wLjMwODAyMywwLiksCnZlYzMoMC42OTM5NjAsLTAuMzY2MjUzLDAuKSwKdmVjMygwLjY3ODg4NCwtMC4yMDQ2ODgsMC4pLAp2ZWMzKDAuMDAxODAxLDAuNzgwMzI4LDAuKSwKdmVjMygwLjE0NTE3NywtMC44OTg5ODQsMC4pLAp2ZWMzKDAuMDYyNjU1LC0wLjYxMTg2NiwwLiksCnZlYzMoMC4zMTUyMjYsLTAuNjA0Mjk3LDAuKSwKdmVjMygtMC43ODAxNDUsMC40ODYyNTEsMC4pLAp2ZWMzKC0wLjM3MTg2OCwwLjg4MjEzOCwwLiksCnZlYzMoMC4yMDA0NzYsMC40OTQ0MzAsMC4pLAp2ZWMzKC0wLjQ5NDU1MiwtMC43MTEwNTEsMC4pLAp2ZWMzKDAuNjEyNDc2LDAuNzA1MjUyLDAuKSwKdmVjMygtMC41Nzg4NDUsLTAuNzY4NzkyLDAuKSwKdmVjMygtMC43NzI0NTQsLTAuMDkwOTc2LDAuKSwKdmVjMygwLjUwNDQ0MCwwLjM3MjI5NSwwLiksCnZlYzMoMC4xNTU3MzYsMC4wNjUxNTcsMC4pLAp2ZWMzKDAuMzkxNTIyLDAuODQ5NjA1LDAuKSwKdmVjMygtMC42MjAxMDYsLTAuMzI4MTA0LDAuKSwKdmVjMygwLjc4OTIzOSwtMC40MTk5NjUsMC4pLAp2ZWMzKC0wLjU0NTM5NiwwLjUzODEzMywwLiksCnZlYzMoLTAuMTc4NTY0LC0wLjU5NjA1NywwLikKKTsKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycyx2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdmVjMyh1dkRlcHRoLnh5KyhsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLGxheWVyKSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24rQUFPZmZzZXQpOwp2ZWM0IGZpbHRlclJhZGl1cz12ZWM0KHBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlLDAuLDAuKTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjNCBvZmZzZXQ9dmVjNChwb2lzc29uU2FtcGxlcnNbaV0sMC4pOwpvZmZzZXQ9dmVjNChvZmZzZXQueCpyb3RhdGlvblZlY3Rvci54LW9mZnNldC55KnJvdGF0aW9uVmVjdG9yLnksb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueCtvZmZzZXQueCpyb3RhdGlvblZlY3Rvci55LDAuLDAuKTsKc2hhZG93Kz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLG1pbigoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24qcGVudW1icmFEYXJrbmVzcywxLikpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1ModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdXZEZXB0aC54eSsobGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwpmbG9hdCBBQU9mZnNldD1zaGFkb3dNYXBTaXplSW52ZXJzZSoxMC47CmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpK0FBT2Zmc2V0KTsKZmxvYXQgZmlsdGVyUmFkaXVzPXBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2U7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzMgb2Zmc2V0PXBvaXNzb25TYW1wbGVyc1tpXTsKb2Zmc2V0PXZlYzMob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCtvZmZzZXQqZmlsdGVyUmFkaXVzKTsKfQpzaGFkb3cvPWZsb2F0KHBjZlRhcENvdW50KTsKc2hhZG93PW1peChzaGFkb3csMS4sZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MxNih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMTYsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0KTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyLGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMzIsNjQsUG9pc3NvblNhbXBsZXJzNjQsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCb109VW87Y29uc3Qga289InNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uIixWbz1gI2lmZGVmIF9ERUZJTkVOQU1FXwojaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTEKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYxCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0yCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMgojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MwojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjMKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTQKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY0CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT01CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NgojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjYKI2Vsc2UKdmFyeWluZyB2ZWMyIHZfVkFSWUlOR05BTUVfVVY7CiNlbmRpZgp1bmlmb3JtIHNhbXBsZXIyRCBfU0FNUExFUk5BTUVfU2FtcGxlcjsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrb109Vm87Y29uc3QgV289ImZyZXNuZWxGdW5jdGlvbiIsem89YCNpZmRlZiBGUkVTTkVMCmZsb2F0IGNvbXB1dGVGcmVzbmVsVGVybSh2ZWMzIHZpZXdEaXJlY3Rpb24sdmVjMyB3b3JsZE5vcm1hbCxmbG9hdCBiaWFzLGZsb2F0IHBvd2VyKQp7CmZsb2F0IGZyZXNuZWxUZXJtPXBvdyhiaWFzK2Ficyhkb3Qodmlld0RpcmVjdGlvbix3b3JsZE5vcm1hbCkpLHBvd2VyKTsKcmV0dXJuIGNsYW1wKGZyZXNuZWxUZXJtLDAuLDEuKTsKfQojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1dvXT16bztjb25zdCBHbz0icmVmbGVjdGlvbkZ1bmN0aW9uIixYbz1gdmVjMyBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7IAp9CnZlYzMgY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMygxLjAtcyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgY2FtZXJhVG9WZXJ0ZXg9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgcj1ub3JtYWxpemUocmVmbGVjdChjYW1lcmFUb1ZlcnRleCx3b3JsZE5vcm1hbCkpOwpyPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHIsMCkpOwpmbG9hdCBsb249YXRhbihyLnosci54KTsKZmxvYXQgbGF0PWFjb3Moci55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOwp9CnZlYzMgY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsbWF0NCB2aWV3LG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHZlYzModmlldyp3b3JsZFBvcykpOwp2ZWMzIHZpZXdOb3JtYWw9bm9ybWFsaXplKHZlYzModmlldyp2ZWM0KHdvcmxkTm9ybWFsLDAuMCkpKTsKdmVjMyByPXJlZmxlY3Qodmlld0Rpcix2aWV3Tm9ybWFsKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKci56PXIuei0xLjA7CmZsb2F0IG09Mi4wKmxlbmd0aChyKTsKcmV0dXJuIHZlYzMoci54L20rMC41LDEuMC1yLnkvbS0wLjUsMCk7Cn0KdmVjMyBjb21wdXRlUGxhbmFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9d29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uOwp2ZWMzIGNvb3Jkcz1ub3JtYWxpemUocmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKSk7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMSkpOwp9CnZlYzMgY29tcHV0ZUN1YmljQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgY29vcmRzPXJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCk7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZUN1YmljTG9jYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4LHZlYzMgcmVmbGVjdGlvblNpemUsdmVjMyByZWZsZWN0aW9uUG9zaXRpb24pCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHdvcmxkUG9zLnh5eixjb29yZHMscmVmbGVjdGlvblNpemUscmVmbGVjdGlvblBvc2l0aW9uKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCoodmlldyp3b3JsZFBvcykpOwp9CnZlYzMgY29tcHV0ZVNreUJveENvb3Jkcyh2ZWMzIHBvc2l0aW9uVyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHBvc2l0aW9uVywxLikpOwp9CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgY29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsKQp7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUgpyZXR1cm4gY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMCnJldHVybiBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QTEFOQVIKcmV0dXJuIGNvbXB1dGVQbGFuYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0NVQklDCiNpZmRlZiBVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQwpyZXR1cm4gY29tcHV0ZUN1YmljTG9jYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4LHZSZWZsZWN0aW9uU2l6ZSx2UmVmbGVjdGlvblBvc2l0aW9uKTsKI2Vsc2UKcmV0dXJuIGNvbXB1dGVDdWJpY0Nvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KcmV0dXJuIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHdvcmxkUG9zLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKcmV0dXJuIGNvbXB1dGVTa3lCb3hDb29yZHModlBvc2l0aW9uVVZXLHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVhQTElDSVQKcmV0dXJuIHZlYzMoMCwwLDApOwojZW5kaWYKfQojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dvXT1Ybztjb25zdCBIbz0iaW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24iLEtvPWAjaWZkZWYgRVhQT1NVUkUKdW5pZm9ybSBmbG9hdCBleHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBDT05UUkFTVAp1bmlmb3JtIGZsb2F0IGNvbnRyYXN0OwojZW5kaWYKI2lmIGRlZmluZWQoVklHTkVUVEUpIHx8IGRlZmluZWQoRElUSEVSKQp1bmlmb3JtIHZlYzIgdkludmVyc2VTY3JlZW5TaXplOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMTsKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MyOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZTsKI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKI2lmZGVmIENPTE9SR1JBRElORzNECnVuaWZvcm0gaGlnaHAgc2FtcGxlcjNEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbmRpZgp1bmlmb3JtIHZlYzQgY29sb3JUcmFuc2Zvcm1TZXR0aW5nczsKI2VuZGlmCiNpZmRlZiBESVRIRVIKdW5pZm9ybSBmbG9hdCBkaXRoZXJJbnRlbnNpdHk7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbSG9dPUtvO2NvbnN0IFlvPSJpbWFnZVByb2Nlc3NpbmdGdW5jdGlvbnMiLFpvPWAjaWYgZGVmaW5lZChDT0xPUkdSQURJTkcpICYmICFkZWZpbmVkKENPTE9SR1JBRElORzNEKQovKiogCiogUG9seWZpbGwgZm9yIFNBTVBMRV9URVhUVVJFXzNELHdoaWNoIGlzIHVuc3VwcG9ydGVkIGluIFdlYkdMLgoqIHNhbXBsZXIzZFNldHRpbmcueD10ZXh0dXJlT2Zmc2V0ICgwLjUvdGV4dHVyZVNpemUpLgoqIHNhbXBsZXIzZFNldHRpbmcueT10ZXh0dXJlU2l6ZS4KKi8KI2RlZmluZSBpbmxpbmUKdmVjMyBzYW1wbGVUZXh0dXJlM0Qoc2FtcGxlcjJEIGNvbG9yVHJhbnNmb3JtLHZlYzMgY29sb3IsdmVjMiBzYW1wbGVyM2RTZXR0aW5nKQp7CmZsb2F0IHNsaWNlU2l6ZT0yLjAqc2FtcGxlcjNkU2V0dGluZy54OyAKI2lmZGVmIFNBTVBMRVIzREdSRUVOREVQVEgKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5nLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZWxzZQpmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmItc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbmRpZgpmbG9hdCBzbGljZUludGVnZXI9Zmxvb3Ioc2xpY2VDb250aW51b3VzKTsKZmxvYXQgc2xpY2VGcmFjdGlvbj1zbGljZUNvbnRpbnVvdXMtc2xpY2VJbnRlZ2VyOwojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSAp2ZWMyIHNsaWNlVVY9Y29sb3IucmI7CiNlbHNlCnZlYzIgc2xpY2VVVj1jb2xvci5yZzsKI2VuZGlmCnNsaWNlVVYueCo9c2xpY2VTaXplOwpzbGljZVVWLngrPXNsaWNlSW50ZWdlcipzbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UwQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwpzbGljZVVWLngrPXNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTFDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnZlYzMgcmVzdWx0PW1peChzbGljZTBDb2xvci5yZ2Isc2xpY2UxQ29sb3IucmdiLHNsaWNlRnJhY3Rpb24pOwojaWZkZWYgU0FNUExFUjNEQkdSTUFQCmNvbG9yLnJnYj1yZXN1bHQucmdiOwojZWxzZQpjb2xvci5yZ2I9cmVzdWx0LmJncjsKI2VuZGlmCnJldHVybiBjb2xvcjsKfQojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKY29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQ9bWF0MygKdmVjMygwLjU5NzE5LDAuMDc2MDAsMC4wMjg0MCksCnZlYzMoMC4zNTQ1OCwwLjkwODM0LDAuMTMzODMpLAp2ZWMzKDAuMDQ4MjMsMC4wMTU2NiwwLjgzNzc3KQopOwpjb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQ9bWF0MygKdmVjMyggMS42MDQ3NSwtMC4xMDIwOCwtMC4wMDMyNyksCnZlYzMoLTAuNTMxMDgsIDEuMTA4MTMsLTAuMDcyNzYpLAp2ZWMzKC0wLjA3MzY3LC0wLjAwNjA1LCAxLjA3NjAyKQopOwp2ZWMzIFJSVEFuZE9EVEZpdCh2ZWMzIHYpCnsKdmVjMyBhPXYqKHYrMC4wMjQ1Nzg2KS0wLjAwMDA5MDUzNzsKdmVjMyBiPXYqKDAuOTgzNzI5KnYrMC40MzI5NTEwKSswLjIzODA4MTsKcmV0dXJuIGEvYjsKfQp2ZWMzIEFDRVNGaXR0ZWQodmVjMyBjb2xvcikKewpjb2xvcj1BQ0VTSW5wdXRNYXQqY29sb3I7CmNvbG9yPVJSVEFuZE9EVEZpdChjb2xvcik7CmNvbG9yPUFDRVNPdXRwdXRNYXQqY29sb3I7CmNvbG9yPXNhdHVyYXRlKGNvbG9yKTsKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgp2ZWM0IGFwcGx5SW1hZ2VQcm9jZXNzaW5nKHZlYzQgcmVzdWx0KSB7CiNpZmRlZiBFWFBPU1VSRQpyZXN1bHQucmdiKj1leHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQp2ZWMyIHZpZXdwb3J0WFk9Z2xfRnJhZ0Nvb3JkLnh5KnZJbnZlcnNlU2NyZWVuU2l6ZTsKdmlld3BvcnRYWT12aWV3cG9ydFhZKjIuMC0xLjA7CnZlYzMgdmlnbmV0dGVYWTE9dmVjMyh2aWV3cG9ydFhZKnZpZ25ldHRlU2V0dGluZ3MxLnh5K3ZpZ25ldHRlU2V0dGluZ3MxLnp3LDEuMCk7CmZsb2F0IHZpZ25ldHRlVGVybT1kb3QodmlnbmV0dGVYWTEsdmlnbmV0dGVYWTEpOwpmbG9hdCB2aWduZXR0ZT1wb3codmlnbmV0dGVUZXJtLHZpZ25ldHRlU2V0dGluZ3MyLncpOwp2ZWMzIHZpZ25ldHRlQ29sb3I9dmlnbmV0dGVTZXR0aW5nczIucmdiOwojaWZkZWYgVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWQp2ZWMzIHZpZ25ldHRlQ29sb3JNdWx0aXBsaWVyPW1peCh2aWduZXR0ZUNvbG9yLHZlYzMoMSwxLDEpLHZpZ25ldHRlKTsKcmVzdWx0LnJnYio9dmlnbmV0dGVDb2xvck11bHRpcGxpZXI7CiNlbmRpZgojaWZkZWYgVklHTkVUVEVCTEVORE1PREVPUEFRVUUKcmVzdWx0LnJnYj1taXgodmlnbmV0dGVDb2xvcixyZXN1bHQucmdiLHZpZ25ldHRlKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkcKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKcmVzdWx0LnJnYj1BQ0VTRml0dGVkKHJlc3VsdC5yZ2IpOwojZWxzZQpjb25zdCBmbG9hdCB0b25lbWFwcGluZ0NhbGlicmF0aW9uPTEuNTkwNTc5OwpyZXN1bHQucmdiPTEuMC1leHAyKC10b25lbWFwcGluZ0NhbGlicmF0aW9uKnJlc3VsdC5yZ2IpOwojZW5kaWYKI2VuZGlmCnJlc3VsdC5yZ2I9dG9HYW1tYVNwYWNlKHJlc3VsdC5yZ2IpOwpyZXN1bHQucmdiPXNhdHVyYXRlKHJlc3VsdC5yZ2IpOwojaWZkZWYgQ09OVFJBU1QKdmVjMyByZXN1bHRIaWdoQ29udHJhc3Q9cmVzdWx0LnJnYipyZXN1bHQucmdiKigzLjAtMi4wKnJlc3VsdC5yZ2IpOwppZiAoY29udHJhc3Q8MS4wKSB7CnJlc3VsdC5yZ2I9bWl4KHZlYzMoMC41LDAuNSwwLjUpLHJlc3VsdC5yZ2IsY29udHJhc3QpOwp9IGVsc2UgewpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLHJlc3VsdEhpZ2hDb250cmFzdCxjb250cmFzdC0xLjApOwp9CiNlbmRpZgojaWZkZWYgQ09MT1JHUkFESU5HCnZlYzMgY29sb3JUcmFuc2Zvcm1JbnB1dD1yZXN1bHQucmdiKmNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueHh4K2NvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXl5OwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD10ZXh0dXJlKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCkucmdiOwojZWxzZQp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXNhbXBsZVRleHR1cmUzRCh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eikucmdiOwojZW5kaWYKcmVzdWx0LnJnYj1taXgocmVzdWx0LnJnYixjb2xvclRyYW5zZm9ybU91dHB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnd3dyk7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKZmxvYXQgbHVtYT1nZXRMdW1pbmFuY2UocmVzdWx0LnJnYik7CnZlYzIgY3VydmVNaXg9Y2xhbXAodmVjMihsdW1hKjMuMC0xLjUsbHVtYSotMy4wKzEuNSksdmVjMigwLjApLHZlYzIoMS4wKSk7CnZlYzQgY29sb3JDdXJ2ZT12Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwrY3VydmVNaXgueCp2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlLWN1cnZlTWl4LnkqdkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZTsKcmVzdWx0LnJnYio9Y29sb3JDdXJ2ZS5yZ2I7CnJlc3VsdC5yZ2I9bWl4KHZlYzMobHVtYSkscmVzdWx0LnJnYixjb2xvckN1cnZlLmEpOwojZW5kaWYKI2lmZGVmIERJVEhFUgpmbG9hdCByYW5kPWdldFJhbmQoZ2xfRnJhZ0Nvb3JkLnh5KnZJbnZlcnNlU2NyZWVuU2l6ZSk7CmZsb2F0IGRpdGhlcj1taXgoLWRpdGhlckludGVuc2l0eSxkaXRoZXJJbnRlbnNpdHkscmFuZCk7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYit2ZWMzKGRpdGhlcikpOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfWA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtZb109Wm87Y29uc3QgcW89ImJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnMiLGpvPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKdW5pZm9ybSBtYXQ0IG5vcm1hbE1hdHJpeDsKI2VuZGlmCnZlYzMgcGVydHVyYk5vcm1hbEJhc2UobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIG5vcm1hbCxmbG9hdCBzY2FsZSkKewojaWZkZWYgTk9STUFMWFlTQ0FMRQpub3JtYWw9bm9ybWFsaXplKG5vcm1hbCp2ZWMzKHNjYWxlLHNjYWxlLDEuMCkpOwojZW5kaWYKcmV0dXJuIG5vcm1hbGl6ZShjb3RhbmdlbnRGcmFtZSpub3JtYWwpOwp9CnZlYzMgcGVydHVyYk5vcm1hbChtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgdGV4dHVyZVNhbXBsZSxmbG9hdCBzY2FsZSkKewpyZXR1cm4gcGVydHVyYk5vcm1hbEJhc2UoY290YW5nZW50RnJhbWUsdGV4dHVyZVNhbXBsZSoyLjAtMS4wLHNjYWxlKTsKfQptYXQzIGNvdGFuZ2VudF9mcmFtZSh2ZWMzIG5vcm1hbCx2ZWMzIHAsdmVjMiB1dix2ZWMyIHRhbmdlbnRTcGFjZVBhcmFtcykKewp2ZWMzIGRwMT1kRmR4KHApOwp2ZWMzIGRwMj1kRmR5KHApOwp2ZWMyIGR1djE9ZEZkeCh1dik7CnZlYzIgZHV2Mj1kRmR5KHV2KTsKdmVjMyBkcDJwZXJwPWNyb3NzKGRwMixub3JtYWwpOwp2ZWMzIGRwMXBlcnA9Y3Jvc3Mobm9ybWFsLGRwMSk7CnZlYzMgdGFuZ2VudD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDsKdmVjMyBiaXRhbmdlbnQ9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7CnRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy54OwpiaXRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy55OwpmbG9hdCBpbnZtYXg9aW52ZXJzZXNxcnQobWF4KGRvdCh0YW5nZW50LHRhbmdlbnQpLGRvdChiaXRhbmdlbnQsYml0YW5nZW50KSkpOwpyZXR1cm4gbWF0Myh0YW5nZW50Kmludm1heCxiaXRhbmdlbnQqaW52bWF4LG5vcm1hbCk7Cn0KI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxb109am87Y29uc3QgUW89ImJ1bXBGcmFnbWVudEZ1bmN0aW9ucyIsJG89YCNpZiBkZWZpbmVkKEJVTVApCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXAsX1NBTVBMRVJOQU1FXyxidW1wKQojZW5kaWYKI2lmIGRlZmluZWQoREVUQUlMKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCxfU0FNUExFUk5BTUVfLGRldGFpbCkKI2VuZGlmCiNpZiBkZWZpbmVkKEJVTVApICYmIGRlZmluZWQoUEFSQUxMQVgpCmNvbnN0IGZsb2F0IG1pblNhbXBsZXM9NC47CmNvbnN0IGZsb2F0IG1heFNhbXBsZXM9MTUuOwpjb25zdCBpbnQgaU1heFNhbXBsZXM9MTU7CnZlYzIgcGFyYWxsYXhPY2NsdXNpb24odmVjMyB2Vmlld0RpckNvVCx2ZWMzIHZOb3JtYWxDb1QsdmVjMiB0ZXhDb29yZCxmbG9hdCBwYXJhbGxheFNjYWxlKSB7CmZsb2F0IHBhcmFsbGF4TGltaXQ9bGVuZ3RoKHZWaWV3RGlyQ29ULnh5KS92Vmlld0RpckNvVC56OwpwYXJhbGxheExpbWl0Kj1wYXJhbGxheFNjYWxlOwp2ZWMyIHZPZmZzZXREaXI9bm9ybWFsaXplKHZWaWV3RGlyQ29ULnh5KTsKdmVjMiB2TWF4T2Zmc2V0PXZPZmZzZXREaXIqcGFyYWxsYXhMaW1pdDsKZmxvYXQgbnVtU2FtcGxlcz1tYXhTYW1wbGVzKyhkb3QodlZpZXdEaXJDb1Qsdk5vcm1hbENvVCkqKG1pblNhbXBsZXMtbWF4U2FtcGxlcykpOwpmbG9hdCBzdGVwU2l6ZT0xLjAvbnVtU2FtcGxlczsKZmxvYXQgY3VyclJheUhlaWdodD0xLjA7CnZlYzIgdkN1cnJPZmZzZXQ9dmVjMigwLDApOwp2ZWMyIHZMYXN0T2Zmc2V0PXZlYzIoMCwwKTsKZmxvYXQgbGFzdFNhbXBsZWRIZWlnaHQ9MS4wOwpmbG9hdCBjdXJyU2FtcGxlZEhlaWdodD0xLjA7CmZvciAoaW50IGk9MDsgaTxpTWF4U2FtcGxlczsgaSsrKQp7CmN1cnJTYW1wbGVkSGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix0ZXhDb29yZCt2Q3Vyck9mZnNldCkudzsKaWYgKGN1cnJTYW1wbGVkSGVpZ2h0PmN1cnJSYXlIZWlnaHQpCnsKZmxvYXQgZGVsdGExPWN1cnJTYW1wbGVkSGVpZ2h0LWN1cnJSYXlIZWlnaHQ7CmZsb2F0IGRlbHRhMj0oY3VyclJheUhlaWdodCtzdGVwU2l6ZSktbGFzdFNhbXBsZWRIZWlnaHQ7CmZsb2F0IHJhdGlvPWRlbHRhMS8oZGVsdGExK2RlbHRhMik7CnZDdXJyT2Zmc2V0PShyYXRpbykqIHZMYXN0T2Zmc2V0KygxLjAtcmF0aW8pKnZDdXJyT2Zmc2V0OwpicmVhazsKfQplbHNlCnsKY3VyclJheUhlaWdodC09c3RlcFNpemU7CnZMYXN0T2Zmc2V0PXZDdXJyT2Zmc2V0Owp2Q3Vyck9mZnNldCs9c3RlcFNpemUqdk1heE9mZnNldDsKbGFzdFNhbXBsZWRIZWlnaHQ9Y3VyclNhbXBsZWRIZWlnaHQ7Cn0KfQpyZXR1cm4gdkN1cnJPZmZzZXQ7Cn0KdmVjMiBwYXJhbGxheE9mZnNldCh2ZWMzIHZpZXdEaXIsZmxvYXQgaGVpZ2h0U2NhbGUpCnsKZmxvYXQgaGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS53Owp2ZWMyIHRleENvb3JkT2Zmc2V0PWhlaWdodFNjYWxlKnZpZXdEaXIueHkqaGVpZ2h0OwpyZXR1cm4gLXRleENvb3JkT2Zmc2V0Owp9CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbUW9dPSRvO2NvbnN0IEpvPSJsb2dEZXB0aERlY2xhcmF0aW9uIixlaD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKdW5pZm9ybSBmbG9hdCBsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQ7CnZhcnlpbmcgZmxvYXQgdkZyYWdtZW50RGVwdGg7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbSm9dPWVoO2NvbnN0IHRoPSJmb2dGcmFnbWVudERlY2xhcmF0aW9uIixpaD1gI2lmZGVmIEZPRwojZGVmaW5lIEZPR01PREVfTk9ORSAwLgojZGVmaW5lIEZPR01PREVfRVhQIDEuCiNkZWZpbmUgRk9HTU9ERV9FWFAyIDIuCiNkZWZpbmUgRk9HTU9ERV9MSU5FQVIgMy4KI2RlZmluZSBFIDIuNzE4MjgKdW5pZm9ybSB2ZWM0IHZGb2dJbmZvczsKdW5pZm9ybSB2ZWMzIHZGb2dDb2xvcjsKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKZmxvYXQgQ2FsY0ZvZ0ZhY3RvcigpCnsKZmxvYXQgZm9nQ29lZmY9MS4wOwpmbG9hdCBmb2dTdGFydD12Rm9nSW5mb3MueTsKZmxvYXQgZm9nRW5kPXZGb2dJbmZvcy56OwpmbG9hdCBmb2dEZW5zaXR5PXZGb2dJbmZvcy53OwpmbG9hdCBmb2dEaXN0YW5jZT1sZW5ndGgodkZvZ0Rpc3RhbmNlKTsKaWYgKEZPR01PREVfTElORUFSPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0oZm9nRW5kLWZvZ0Rpc3RhbmNlKS8oZm9nRW5kLWZvZ1N0YXJ0KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUD09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQMj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkqZm9nRGVuc2l0eSk7Cn0KcmV0dXJuIGNsYW1wKGZvZ0NvZWZmLDAuMCwxLjApOwp9CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbdGhdPWloO2NvbnN0IHNoPSJidW1wRnJhZ21lbnQiLHJoPWB2ZWMyIHV2T2Zmc2V0PXZlYzIoMC4wLDAuMCk7CiNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoREVUQUlMKQojaWZkZWYgTk9STUFMWFlTQ0FMRQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbGlmIGRlZmluZWQoQlVNUCkKZmxvYXQgbm9ybWFsU2NhbGU9dkJ1bXBJbmZvcy55OwojZWxzZQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbmRpZgojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2VsaWYgZGVmaW5lZChCVU1QKQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkJ1bXBVViA6IC12QnVtcFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZUYW5nZW50U3BhY2VQYXJhbXMpOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkRldGFpbFVWIDogLXZEZXRhaWxVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZNYWluVVYxIDogLXZNYWluVVYxOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVyx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUEFSQUxMQVgKbWF0MyBpbnZUQk49dHJhbnNwb3NlTWF0MyhUQk4pOwojaWZkZWYgUEFSQUxMQVhPQ0NMVVNJT04KdXZPZmZzZXQ9cGFyYWxsYXhPY2NsdXNpb24oaW52VEJOKi12aWV3RGlyZWN0aW9uVyxpbnZUQk4qbm9ybWFsVyx2QnVtcFVWLHZCdW1wSW5mb3Mueik7CiNlbHNlCnV2T2Zmc2V0PXBhcmFsbGF4T2Zmc2V0KGludlRCTip2aWV3RGlyZWN0aW9uVyx2QnVtcEluZm9zLnopOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdmVjNCBkZXRhaWxDb2xvcj10ZXh0dXJlMkQoZGV0YWlsU2FtcGxlcix2RGV0YWlsVVYrdXZPZmZzZXQpOwp2ZWMyIGRldGFpbE5vcm1hbFJHPWRldGFpbENvbG9yLnd5KjIuMC0xLjA7CmZsb2F0IGRldGFpbE5vcm1hbEI9c3FydCgxLi1zYXR1cmF0ZShkb3QoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsUkcpKSk7CnZlYzMgZGV0YWlsTm9ybWFsPXZlYzMoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsQik7CiNlbmRpZgojaWZkZWYgQlVNUAojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCm5vcm1hbFc9bm9ybWFsaXplKHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS54eXogKjIuMC0xLjApOwpub3JtYWxXPW5vcm1hbGl6ZShtYXQzKG5vcm1hbE1hdHJpeCkqbm9ybWFsVyk7CiNlbGlmICFkZWZpbmVkKERFVEFJTCkKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsKFRCTix0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6LHZCdW1wSW5mb3MueSk7CiNlbHNlCnZlYzMgYnVtcE5vcm1hbD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6KjIuMC0xLjA7CiNpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTAgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CnZlYzMgYmxlbmRlZE5vcm1hbD1ub3JtYWxpemUodmVjMyhidW1wTm9ybWFsLnh5K2RldGFpbE5vcm1hbC54eSxidW1wTm9ybWFsLnoqZGV0YWlsTm9ybWFsLnopKTsKI2VsaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0xIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56OwpidW1wTm9ybWFsKz12ZWMzKDAuMCwwLjAsMS4wKTsKZGV0YWlsTm9ybWFsKj12ZWMzKC0xLjAsLTEuMCwxLjApOwp2ZWMzIGJsZW5kZWROb3JtYWw9YnVtcE5vcm1hbCpkb3QoYnVtcE5vcm1hbCxkZXRhaWxOb3JtYWwpL2J1bXBOb3JtYWwuei1kZXRhaWxOb3JtYWw7CiNlbmRpZgpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixibGVuZGVkTm9ybWFsLHZCdW1wSW5mb3MueSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKERFVEFJTCkKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sZGV0YWlsTm9ybWFsLHZEZXRhaWxJbmZvcy56KTsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzaF09cmg7Y29uc3Qgbmg9ImRlcHRoUHJlUGFzcyIsYWg9YCNpZmRlZiBERVBUSFBSRVBBU1MKZ2xfRnJhZ0NvbG9yPXZlYzQoMC4sMC4sMC4sMS4wKTsKcmV0dXJuOwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW25oXT1haDtjb25zdCBvaD0ibGlnaHRGcmFnbWVudCIsaGg9YCNpZmRlZiBMSUdIVHtYfQojaWYgZGVmaW5lZChTSEFET1dPTkxZKSB8fCBkZWZpbmVkKExJR0hUTUFQKSAmJiBkZWZpbmVkKExJR0hUTUFQRVhDTFVERUR7WH0pICYmIGRlZmluZWQoTElHSFRNQVBOT1NQRUNVTEFSe1h9KQojZWxzZQojaWZkZWYgUEJSCiNpZmRlZiBTUE9UTElHSFR7WH0KcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVIZW1pc3BoZXJpY1ByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKERJUkxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVEaXJlY3Rpb25hbFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZW5kaWYKcHJlSW5mby5OZG90Vj1OZG90VjsKI2lmZGVmIFNQT1RMSUdIVHtYfQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfR0xURihsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9TdGFuZGFyZChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyxsaWdodHtYfS52TGlnaHREYXRhLncpOwojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZihwcmVJbmZvLmxpZ2h0T2Zmc2V0LHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZihsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyxsaWdodHtYfS52TGlnaHREYXRhLncsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZihwcmVJbmZvLmxpZ2h0T2Zmc2V0LHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CiNlbmRpZgojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPTEuMDsKI2VuZGlmCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9cm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgojaWZkZWYgSVJJREVTQ0VOQ0UKcHJlSW5mby5pcmlkZXNjZW5jZUludGVuc2l0eT1pcmlkZXNjZW5jZUludGVuc2l0eTsKI2VuZGlmCiNpZmRlZiBIRU1JTElHSFR7WH0KaW5mby5kaWZmdXNlPWNvbXB1dGVIZW1pc3BoZXJpY0RpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCk7CiNlbGlmIGRlZmluZWQoU1NfVFJBTlNMVUNFTkNZKQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VBbmRUcmFuc21pdHRlZExpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2Isc3ViU3VyZmFjZU91dC50cmFuc21pdHRhbmNlKTsKI2Vsc2UKaW5mby5kaWZmdXNlPWNvbXB1dGVEaWZmdXNlTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBBTklTT1RST1BJQwppbmZvLnNwZWN1bGFyPWNvbXB1dGVBbmlzb3Ryb3BpY1NwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyx2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljVGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY0JpdGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3B5LGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbHNlCmluZm8uc3BlY3VsYXI9Y29tcHV0ZVNwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIRUVOCiNpZmRlZiBTSEVFTl9MSU5LV0lUSEFMQkVETwpwcmVJbmZvLnJvdWdobmVzcz1zaGVlbk91dC5zaGVlbkludGVuc2l0eTsKI2Vsc2UKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1zaGVlbk91dC5zaGVlblJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhzaGVlbk91dC5zaGVlblJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgojZW5kaWYKaW5mby5zaGVlbj1jb21wdXRlU2hlZW5MaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsc2hlZW5PdXQuc2hlZW5Db2xvcixzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1jbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKGNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKaW5mby5jbGVhckNvYXQ9Y29tcHV0ZUNsZWFyQ29hdExpZ2h0aW5nKHByZUluZm8sY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEFBUm91Z2huZXNzRmFjdG9ycy54LGNsZWFyY29hdE91dC5jbGVhckNvYXRJbnRlbnNpdHksbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojaWZkZWYgQ0xFQVJDT0FUX1RJTlQKYWJzb3JwdGlvbj1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmdBYnNvcnB0aW9uKGNsZWFyY29hdE91dC5jbGVhckNvYXROZG90VlJlZnJhY3QscHJlSW5mby5MLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRDb2xvcixjbGVhcmNvYXRPdXQuY2xlYXJDb2F0VGhpY2tuZXNzLGNsZWFyY29hdE91dC5jbGVhckNvYXRJbnRlbnNpdHkpOwppbmZvLmRpZmZ1c2UqPWFic29ycHRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9YWJzb3JwdGlvbjsKI2VuZGlmCiNlbmRpZgppbmZvLmRpZmZ1c2UqPWluZm8uY2xlYXJDb2F0Lnc7CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNpZmRlZiBTSEVFTgppbmZvLnNoZWVuKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTUE9UTElHSFR7WH0KaW5mbz1jb21wdXRlU3BvdExpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCmluZm89Y29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkgfHwgZGVmaW5lZChESVJMSUdIVHtYfSkKaW5mbz1jb21wdXRlTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQppbmZvLmRpZmZ1c2UqPWNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9LHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSAKewojaWZkZWYgU0hBRE9XQ1NNX1JJR0hUSEFOREVEe1h9CmRpZmZ7WH09dmlld0ZydXN0dW1ae1h9W2ldK3ZQb3NpdGlvbkZyb21DYW1lcmF7WH0uejsKI2Vsc2UKZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0tdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZW5kaWYKaWYgKGRpZmZ7WH0+PTAuKSB7CmluZGV4e1h9PWk7CmJyZWFrOwp9Cn0KI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaWYgKGluZGV4e1h9Pj0wKQojZW5kaWYKewojaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZW5kaWYKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0Kc2hhZG93RGVidWd7WH09dmVjMyhzaGFkb3cpKnZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVtpbmRleHtYfV07CiNlbmRpZgojaWZuZGVmIFNIQURPV0NTTU5PQkxFTkR7WH0KZmxvYXQgZnJ1c3R1bUxlbmd0aD1mcnVzdHVtTGVuZ3Roc3tYfVtpbmRleHtYfV07CmZsb2F0IGRpZmZSYXRpbz1jbGFtcChkaWZme1h9L2ZydXN0dW1MZW5ndGgsMC4sMS4pKmNhc2NhZGVCbGVuZEZhY3RvcntYfTsKaWYgKGluZGV4e1h9PChTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMSkgJiYgZGlmZlJhdGlvPDEuKQp7CmluZGV4e1h9Kz0xOwpmbG9hdCBuZXh0U2hhZG93PTAuOwojaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZW5kaWYKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93Q1NNKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKc2hhZG93PW1peChuZXh0U2hhZG93LHNoYWRvdyxkaWZmUmF0aW8pOwojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0Kc2hhZG93RGVidWd7WH09bWl4KHZlYzMobmV4dFNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XSxzaGFkb3dEZWJ1Z3tYfSxkaWZmUmF0aW8pOwojZW5kaWYKfQojZW5kaWYKfQojZWxpZiBkZWZpbmVkKFNIQURPV0NMT1NFRVNNe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTUN1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhFU00odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUE9JU1NPTntYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjEodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGNSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzE2KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1M2NCh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2Vsc2UKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1dPTkxZCiNpZm5kZWYgU0hBRE9XSU5VU0UKI2RlZmluZSBTSEFET1dJTlVTRQojZW5kaWYKZ2xvYmFsU2hhZG93Kz1zaGFkb3c7CnNoYWRvd0xpZ2h0Q291bnQrPTEuMDsKI2VuZGlmCiNlbHNlCnNoYWRvdz0xLjsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XT05MWQojaWZkZWYgQ1VTVE9NVVNFUkxJR0hUSU5HCmRpZmZ1c2VCYXNlKz1jb21wdXRlQ3VzdG9tRGlmZnVzZUxpZ2h0aW5nKGluZm8sZGlmZnVzZUJhc2Usc2hhZG93KTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWNvbXB1dGVDdXN0b21TcGVjdWxhckxpZ2h0aW5nKGluZm8sc3BlY3VsYXJCYXNlLHNoYWRvdyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKExJR0hUTUFQKSAmJiBkZWZpbmVkKExJR0hUTUFQRVhDTFVERUR7WH0pCmRpZmZ1c2VCYXNlKz1saWdodG1hcENvbG9yLnJnYipzaGFkb3c7CiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CmNsZWFyQ29hdEJhc2UrPWluZm8uY2xlYXJDb2F0LnJnYipzaGFkb3cqbGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIRUVOCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvd0RlYnVne1h9OwojZWxzZSAKZGlmZnVzZUJhc2UrPWluZm8uZGlmZnVzZSpzaGFkb3c7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9aW5mby5zcGVjdWxhcipzaGFkb3c7CiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCmNsZWFyQ29hdEJhc2UrPWluZm8uY2xlYXJDb2F0LnJnYipzaGFkb3c7CiNlbmRpZgojaWZkZWYgU0hFRU4Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2hdPWhoO2NvbnN0IGxoPSJsb2dEZXB0aEZyYWdtZW50IixjaD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKZ2xfRnJhZ0RlcHRoRVhUPWxvZzIodkZyYWdtZW50RGVwdGgpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudCowLjU7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbbGhdPWNoO2NvbnN0IHVoPSJmb2dGcmFnbWVudCIsZmg9YCNpZmRlZiBGT0cKZmxvYXQgZm9nPUNhbGNGb2dGYWN0b3IoKTsKI2lmZGVmIFBCUgpmb2c9dG9MaW5lYXJTcGFjZShmb2cpOwojZW5kaWYKY29sb3IucmdiPW1peCh2Rm9nQ29sb3IsY29sb3IucmdiLGZvZyk7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbdWhdPWZoO2NvbnN0IGRoPSJvaXRGcmFnbWVudCIsX2g9YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKZmxvYXQgZnJhZ0RlcHRoPWdsX0ZyYWdDb29yZC56OyAKI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMKdWludCBoYWxmRmxvYXQ9cGFja0hhbGYyeDE2KHZlYzIoZnJhZ0RlcHRoKSk7CnZlYzIgZnVsbD11bnBhY2tIYWxmMngxNihoYWxmRmxvYXQpOwpmcmFnRGVwdGg9ZnVsbC54OwojZW5kaWYKaXZlYzIgZnJhZ0Nvb3JkPWl2ZWMyKGdsX0ZyYWdDb29yZC54eSk7CnZlYzIgbGFzdERlcHRoPXRleGVsRmV0Y2gob2l0RGVwdGhTYW1wbGVyLGZyYWdDb29yZCwwKS5yZzsKdmVjNCBsYXN0RnJvbnRDb2xvcj10ZXhlbEZldGNoKG9pdEZyb250Q29sb3JTYW1wbGVyLGZyYWdDb29yZCwwKTsKZGVwdGgucmc9dmVjMigtTUFYX0RFUFRIKTsKZnJvbnRDb2xvcj1sYXN0RnJvbnRDb2xvcjsKYmFja0NvbG9yPXZlYzQoMC4wKTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmZsb2F0IGZ1cnRoZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBuZWFyZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbHNlCmZsb2F0IG5lYXJlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IGZ1cnRoZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbmRpZgpmbG9hdCBhbHBoYU11bHRpcGxpZXI9MS4wLWxhc3RGcm9udENvbG9yLmE7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZW5kaWYKcmV0dXJuOwp9CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZW5kaWYKZGVwdGgucmc9dmVjMigtZnJhZ0RlcHRoLGZyYWdEZXB0aCk7CnJldHVybjsKfQojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2RoXT1faDtjb25zdCBnaD0iZGVmYXVsdFBpeGVsU2hhZGVyIixwaD1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0RnJhZ21lbnQ+CiNpZiBkZWZpbmVkKEJVTVApIHx8ICFkZWZpbmVkKE5PUk1BTCkKI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUKI2VuZGlmCiNpbmNsdWRlPHByZVBhc3NEZWNsYXJhdGlvbj5bU0NFTkVfTVJUX0NPVU5UXQojaW5jbHVkZTxvaXREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4KI2lmZGVmIExPR0FSSVRITUlDREVQVEgKI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZQojZW5kaWYKI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlLF9TQU1QTEVSTkFNRV8sZGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfU0FNUExFUk5BTUVfLGFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHksX1NBTVBMRVJOQU1FXyxvcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX1NBTVBMRVJOQU1FXyxlbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9TQU1QTEVSTkFNRV8sbGlnaHRtYXApCiNpZmRlZiBSRUZSQUNUSU9OCiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmcmFjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZyYWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9TQU1QTEVSTkFNRV8sc3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxmcmVzbmVsRnVuY3Rpb24+CiNpZmRlZiBSRUZMRUNUSU9OCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmbGVjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZsZWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbHNlCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZhcnlpbmcgdmVjMyB2RGlyZWN0aW9uVzsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxyZWZsZWN0aW9uRnVuY3Rpb24+CiNlbmRpZgojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRNYWluRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGxvZ0RlcHRoRGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CnZlYzQgYmFzZUNvbG9yPXZlYzQoMS4sMS4sMS4sMS4pOwp2ZWMzIGRpZmZ1c2VDb2xvcj12RGlmZnVzZUNvbG9yLnJnYjsKZmxvYXQgYWxwaGE9dkRpZmZ1c2VDb2xvci5hOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKC1jcm9zcyhkRmR4KHZQb3NpdGlvblcpLGRGZHkodlBvc2l0aW9uVykpKTsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBGcmFnbWVudD4KI2lmZGVmIFRXT1NJREVETElHSFRJTkcKbm9ybWFsVz1nbF9Gcm9udEZhY2luZyA/IG5vcm1hbFcgOiAtbm9ybWFsVzsKI2VuZGlmCiNpZmRlZiBESUZGVVNFCmJhc2VDb2xvcj10ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdkRpZmZ1c2VVVit1dk9mZnNldCk7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgJiYgIWRlZmluZWQoQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlMpCmlmIChiYXNlQ29sb3IuYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBBTFBIQUZST01ESUZGVVNFCmFscGhhKj1iYXNlQ29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9BTFBIQQpiYXNlQ29sb3IucmdiKj12RGlmZnVzZUluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxkZXB0aFByZVBhc3M+CiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQpiYXNlQ29sb3IucmdiKj12Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIERFVEFJTApiYXNlQ29sb3IucmdiPWJhc2VDb2xvci5yZ2IqMi4wKm1peCgwLjUsZGV0YWlsQ29sb3Iucix2RGV0YWlsSW5mb3MueSk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRQp2ZWMzIGJhc2VBbWJpZW50Q29sb3I9dmVjMygxLiwxLiwxLik7CiNpZmRlZiBBTUJJRU5UCmJhc2VBbWJpZW50Q29sb3I9dGV4dHVyZTJEKGFtYmllbnRTYW1wbGVyLHZBbWJpZW50VVYrdXZPZmZzZXQpLnJnYip2QW1iaWVudEluZm9zLnk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTCiNpZmRlZiBTUEVDVUxBUlRFUk0KZmxvYXQgZ2xvc3NpbmVzcz12U3BlY3VsYXJDb2xvci5hOwp2ZWMzIHNwZWN1bGFyQ29sb3I9dlNwZWN1bGFyQ29sb3IucmdiOwojaWZkZWYgU1BFQ1VMQVIKdmVjNCBzcGVjdWxhck1hcENvbG9yPXRleHR1cmUyRChzcGVjdWxhclNhbXBsZXIsdlNwZWN1bGFyVVYrdXZPZmZzZXQpOwpzcGVjdWxhckNvbG9yPXNwZWN1bGFyTWFwQ29sb3IucmdiOwojaWZkZWYgR0xPU1NJTkVTUwpnbG9zc2luZXNzPWdsb3NzaW5lc3Mqc3BlY3VsYXJNYXBDb2xvci5hOwojZW5kaWYKI2VuZGlmCiNlbHNlCmZsb2F0IGdsb3NzaW5lc3M9MC47CiNlbmRpZgp2ZWMzIGRpZmZ1c2VCYXNlPXZlYzMoMC4sMC4sMC4pOwpsaWdodGluZ0luZm8gaW5mbzsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyQmFzZT12ZWMzKDAuLDAuLDAuKTsKI2VuZGlmCmZsb2F0IHNoYWRvdz0xLjsKI2lmZGVmIExJR0hUTUFQCnZlYzQgbGlnaHRtYXBDb2xvcj10ZXh0dXJlMkQobGlnaHRtYXBTYW1wbGVyLHZMaWdodG1hcFVWK3V2T2Zmc2V0KTsKI2lmZGVmIFJHQkRMSUdIVE1BUApsaWdodG1hcENvbG9yLnJnYj1mcm9tUkdCRChsaWdodG1hcENvbG9yKTsKI2VuZGlmCmxpZ2h0bWFwQ29sb3IucmdiKj12TGlnaHRtYXBJbmZvcy55OwojZW5kaWYKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQp2ZWM0IHJlZnJhY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRlJBQ1RJT04KdmVjMyByZWZyYWN0aW9uVmVjdG9yPW5vcm1hbGl6ZShyZWZyYWN0KC12aWV3RGlyZWN0aW9uVyxub3JtYWxXLHZSZWZyYWN0aW9uSW5mb3MueSkpOwojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAojaWZkZWYgVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMKcmVmcmFjdGlvblZlY3Rvcj1wYXJhbGxheENvcnJlY3ROb3JtYWwodlBvc2l0aW9uVyxyZWZyYWN0aW9uVmVjdG9yLHZSZWZyYWN0aW9uU2l6ZSx2UmVmcmFjdGlvblBvc2l0aW9uKTsKI2VuZGlmCnJlZnJhY3Rpb25WZWN0b3IueT1yZWZyYWN0aW9uVmVjdG9yLnkqdlJlZnJhY3Rpb25JbmZvcy53OwppZiAoZG90KHJlZnJhY3Rpb25WZWN0b3Isdmlld0RpcmVjdGlvblcpPDEuMCkgewpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmcmFjdGlvbkN1YmVTYW1wbGVyLHJlZnJhY3Rpb25WZWN0b3IpOwp9CiNlbHNlCnZlYzMgdlJlZnJhY3Rpb25VVlc9dmVjMyhyZWZyYWN0aW9uTWF0cml4Kih2aWV3KnZlYzQodlBvc2l0aW9uVytyZWZyYWN0aW9uVmVjdG9yKnZSZWZyYWN0aW9uSW5mb3MueiwxLjApKSk7CnZlYzIgcmVmcmFjdGlvbkNvb3Jkcz12UmVmcmFjdGlvblVWVy54eS92UmVmcmFjdGlvblVWVy56OwpyZWZyYWN0aW9uQ29vcmRzLnk9MS4wLXJlZnJhY3Rpb25Db29yZHMueTsKcmVmcmFjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZyYWN0aW9uMkRTYW1wbGVyLHJlZnJhY3Rpb25Db29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZSQUNUSU9OCnJlZnJhY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmcmFjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZSQUNUSU9OX0xJTkVBUgpyZWZyYWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZyYWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZnJhY3Rpb25Db2xvci5yZ2IqPXZSZWZyYWN0aW9uSW5mb3MueDsKI2VuZGlmCnZlYzQgcmVmbGVjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIHZSZWZsZWN0aW9uVVZXPWNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQodlBvc2l0aW9uVywxLjApLG5vcm1hbFcpOwojaWZkZWYgUkVGTEVDVElPTk1BUF9PUFBPU0lURVoKdlJlZmxlY3Rpb25VVlcueio9LTEuMDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECiNpZmRlZiBST1VHSE5FU1MKZmxvYXQgYmlhcz12UmVmbGVjdGlvbkluZm9zLnk7CiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIFNQRUNVTEFSCiNpZmRlZiBHTE9TU0lORVNTCmJpYXMqPSgxLjAtc3BlY3VsYXJNYXBDb2xvci5hKTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZmxlY3Rpb25DdWJlU2FtcGxlcix2UmVmbGVjdGlvblVWVyxiaWFzKTsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZmxlY3Rpb25DdWJlU2FtcGxlcix2UmVmbGVjdGlvblVWVyk7CiNlbmRpZgojZWxzZQp2ZWMyIGNvb3Jkcz12UmVmbGVjdGlvblVWVy54eTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTgpjb29yZHMvPXZSZWZsZWN0aW9uVVZXLno7CiNlbmRpZgpjb29yZHMueT0xLjAtY29vcmRzLnk7CnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlMkQocmVmbGVjdGlvbjJEU2FtcGxlcixjb29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZMRUNUSU9OCnJlZmxlY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmbGVjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZMRUNUSU9OX0xJTkVBUgpyZWZsZWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZsZWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXZSZWZsZWN0aW9uSW5mb3MueDsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMCmZsb2F0IHJlZmxlY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZsZWN0aW9uUmlnaHRDb2xvci5hLHJlZmxlY3Rpb25MZWZ0Q29sb3IuYSk7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUgojaWZkZWYgU1BFQ1VMQVJURVJNCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXNwZWN1bGFyQ29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKZmxvYXQgcmVmcmFjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZnJhY3Rpb25SaWdodENvbG9yLmEscmVmcmFjdGlvbkxlZnRDb2xvci5hKTsKcmVmcmFjdGlvbkNvbG9yLnJnYio9cmVmcmFjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZyYWN0aW9uRnJlc25lbFRlcm0pK3JlZnJhY3Rpb25GcmVzbmVsVGVybSpyZWZyYWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp2ZWM0IG9wYWNpdHlNYXA9dGV4dHVyZTJEKG9wYWNpdHlTYW1wbGVyLHZPcGFjaXR5VVYrdXZPZmZzZXQpOwojaWZkZWYgT1BBQ0lUWVJHQgpvcGFjaXR5TWFwLnJnYj1vcGFjaXR5TWFwLnJnYip2ZWMzKDAuMywwLjU5LDAuMTEpOwphbHBoYSo9KG9wYWNpdHlNYXAueCtvcGFjaXR5TWFwLnkrb3BhY2l0eU1hcC56KSogdk9wYWNpdHlJbmZvcy55OwojZWxzZQphbHBoYSo9b3BhY2l0eU1hcC5hKnZPcGFjaXR5SW5mb3MueTsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhBTFBIQSkgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKYWxwaGEqPXZDb2xvci5hOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCmZsb2F0IG9wYWNpdHlGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxvcGFjaXR5UGFydHMueixvcGFjaXR5UGFydHMudyk7CmFscGhhKz1vcGFjaXR5UGFydHMueCooMS4wLW9wYWNpdHlGcmVzbmVsVGVybSkrb3BhY2l0eUZyZXNuZWxUZXJtKm9wYWNpdHlQYXJ0cy55OwojZW5kaWYKI2lmZGVmIEFMUEhBVEVTVAojaWZkZWYgQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlMKaWYgKGFscGhhPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmbmRlZiBBTFBIQUJMRU5ECmFscGhhPTEuMDsKI2VuZGlmCiNlbmRpZgp2ZWMzIGVtaXNzaXZlQ29sb3I9dkVtaXNzaXZlQ29sb3I7CiNpZmRlZiBFTUlTU0lWRQplbWlzc2l2ZUNvbG9yKz10ZXh0dXJlMkQoZW1pc3NpdmVTYW1wbGVyLHZFbWlzc2l2ZVVWK3V2T2Zmc2V0KS5yZ2IqdkVtaXNzaXZlSW5mb3MueTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKZmxvYXQgZW1pc3NpdmVGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxlbWlzc2l2ZVJpZ2h0Q29sb3IuYSxlbWlzc2l2ZUxlZnRDb2xvci5hKTsKZW1pc3NpdmVDb2xvcio9ZW1pc3NpdmVMZWZ0Q29sb3IucmdiKigxLjAtZW1pc3NpdmVGcmVzbmVsVGVybSkrZW1pc3NpdmVGcmVzbmVsVGVybSplbWlzc2l2ZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIERJRkZVU0VGUkVTTkVMCmZsb2F0IGRpZmZ1c2VGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxkaWZmdXNlUmlnaHRDb2xvci5hLGRpZmZ1c2VMZWZ0Q29sb3IuYSk7CmRpZmZ1c2VCYXNlKj1kaWZmdXNlTGVmdENvbG9yLnJnYiooMS4wLWRpZmZ1c2VGcmVzbmVsVGVybSkrZGlmZnVzZUZyZXNuZWxUZXJtKmRpZmZ1c2VSaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKGRpZmZ1c2VCYXNlKmRpZmZ1c2VDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbHNlCiNpZmRlZiBMSU5LRU1JU1NJVkVXSVRIRElGRlVTRQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcCgoZGlmZnVzZUJhc2UrZW1pc3NpdmVDb2xvcikqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK2VtaXNzaXZlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBmaW5hbFNwZWN1bGFyPXNwZWN1bGFyQmFzZSpzcGVjdWxhckNvbG9yOwojaWZkZWYgU1BFQ1VMQVJPVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KGZpbmFsU3BlY3VsYXIsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2Vsc2UKdmVjMyBmaW5hbFNwZWN1bGFyPXZlYzMoMC4wKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OT1ZFUkFMUEhBCmFscGhhPWNsYW1wKGFscGhhK2RvdChyZWZsZWN0aW9uQ29sb3IucmdiLHZlYzMoMC4zLDAuNTksMC4xMSkpLDAuLDEuKTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzQgY29sb3I9dmVjNChjbGFtcChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrZW1pc3NpdmVDb2xvcityZWZyYWN0aW9uQ29sb3IucmdiLDAuMCwxLjApLGFscGhhKTsKI2Vsc2UKdmVjNCBjb2xvcj12ZWM0KGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYityZWZyYWN0aW9uQ29sb3IucmdiLGFscGhhKTsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAojaWZuZGVmIExJR0hUTUFQRVhDTFVERUQKI2lmZGVmIFVTRUxJR0hUTUFQQVNTSEFET1dNQVAKY29sb3IucmdiKj1saWdodG1hcENvbG9yLnJnYjsKI2Vsc2UKY29sb3IucmdiKz1saWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRwpjb2xvci5yZ2I9bWF4KGNvbG9yLnJnYiwwLik7CiNpbmNsdWRlPGxvZ0RlcHRoRnJhZ21lbnQ+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50PgojaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKI2Vsc2UKI2lmZGVmIElNQUdFUFJPQ0VTU0lORwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwpjb2xvcj1hcHBseUltYWdlUHJvY2Vzc2luZyhjb2xvcik7CiNlbmRpZgojZW5kaWYKY29sb3IuYSo9dmlzaWJpbGl0eTsKI2lmZGVmIFBSRU1VTFRJUExZQUxQSEEKY29sb3IucmdiKj1jb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZSQUdDT0xPUgojaWZkZWYgUFJFUEFTUwpmbG9hdCB3cml0ZUdlb21ldHJ5SW5mbz1jb2xvci5hPjAuNCA/IDEuMCA6IDAuMDsKZ2xfRnJhZ0RhdGFbMF09Y29sb3I7IAojaWZkZWYgUFJFUEFTU19QT1NJVElPTgpnbF9GcmFnRGF0YVtQUkVQQVNTX1BPU0lUSU9OX0lOREVYXT12ZWM0KHZQb3NpdGlvblcsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmVjMiBhPSh2Q3VycmVudFBvc2l0aW9uLnh5L3ZDdXJyZW50UG9zaXRpb24udykqMC41KzAuNTsKdmVjMiBiPSh2UHJldmlvdXNQb3NpdGlvbi54eS92UHJldmlvdXNQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIHZlbG9jaXR5PWFicyhhLWIpOwp2ZWxvY2l0eT12ZWMyKHBvdyh2ZWxvY2l0eS54LDEuMC8zLjApLHBvdyh2ZWxvY2l0eS55LDEuMC8zLjApKSpzaWduKGEtYikqMC41KzAuNTsKZ2xfRnJhZ0RhdGFbUFJFUEFTU19WRUxPQ0lUWV9JTkRFWF09dmVjNCh2ZWxvY2l0eSwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfSVJSQURJQU5DRQpnbF9GcmFnRGF0YVtQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0RFUFRICmdsX0ZyYWdEYXRhW1BSRVBBU1NfREVQVEhfSU5ERVhdPXZlYzQodlZpZXdQb3MueiwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19OT1JNQUwKZ2xfRnJhZ0RhdGFbUFJFUEFTU19OT1JNQUxfSU5ERVhdPXZlYzQoKHZpZXcqdmVjNChub3JtYWxXLDAuMCkpLnJnYix3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfQUxCRURPX1NRUlQKZ2xfRnJhZ0RhdGFbUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfUkVGTEVDVElWSVRZCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2lmIGRlZmluZWQoU1BFQ1VMQVIpCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHNwZWN1bGFyTWFwQ29sb3IpKndyaXRlR2VvbWV0cnlJbmZvOyAKI2Vsc2UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoc3BlY3VsYXJDb2xvciwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2Vsc2UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsMS4wKSp3cml0ZUdlb21ldHJ5SW5mbzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmICFkZWZpbmVkKFBSRVBBU1MpIHx8IGRlZmluZWQoV0VCR0wyKQpnbF9GcmFnQ29sb3I9Y29sb3I7CiNlbmRpZgojaW5jbHVkZTxvaXRGcmFnbWVudD4KI2lmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQppZiAoZnJhZ0RlcHRoPT1uZWFyZXN0RGVwdGgpIHsKZnJvbnRDb2xvci5yZ2IrPWNvbG9yLnJnYipjb2xvci5hKmFscGhhTXVsdGlwbGllcjsKZnJvbnRDb2xvci5hPTEuMC1hbHBoYU11bHRpcGxpZXIqKDEuMC1jb2xvci5hKTsKfSBlbHNlIHsKYmFja0NvbG9yKz1jb2xvcjsKfQojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfQpgO04uU2hhZGVyc1N0b3JlW2doXT1waDtjb25zdCBtaD0iZGVmYXVsdFZlcnRleERlY2xhcmF0aW9uIixFaD1gdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIG1hdDQgdmlldzsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSBtYXQ0IGFtYmllbnRNYXRyaXg7CnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdW5pZm9ybSBtYXQ0IG9wYWNpdHlNYXRyaXg7CnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKdW5pZm9ybSBtYXQ0IGVtaXNzaXZlTWF0cml4OwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKdW5pZm9ybSBtYXQ0IGxpZ2h0bWFwTWF0cml4OwojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CnVuaWZvcm0gbWF0NCBzcGVjdWxhck1hdHJpeDsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIG1hdDQgYnVtcE1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKdW5pZm9ybSBtYXQ0IGRldGFpbE1hdHJpeDsKI2VuZGlmCiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04KYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21oXT1FaDtjb25zdCBUaD0idXZBdHRyaWJ1dGVEZWNsYXJhdGlvbiIsU2g9YCNpZmRlZiBVVntYfQphdHRyaWJ1dGUgdmVjMiB1dntYfTsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtUaF09U2g7Y29uc3QgYmg9InByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbiIseGg9YCNpZmRlZiBQUkVQQVNTCiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnVuaWZvcm0gbWF0NCBwcmV2aW91c1ZpZXdQcm9qZWN0aW9uOwp2YXJ5aW5nIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjsKdmFyeWluZyB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtiaF09eGg7Y29uc3Qgdmg9InNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbiIsTWg9YCNpZiBkZWZpbmVkKF9ERUZJTkVOQU1FXykgJiYgX0RFRklORU5BTUVfRElSRUNUVVY9PTAKdmFyeWluZyB2ZWMyIHZfVkFSWUlOR05BTUVfVVY7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbdmhdPU1oO2NvbnN0IEFoPSJidW1wVmVydGV4RGVjbGFyYXRpb24iLFJoPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtBaF09Umg7Y29uc3QgeWg9ImZvZ1ZlcnRleERlY2xhcmF0aW9uIixDaD1gI2lmZGVmIEZPRwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3loXT1DaDtjb25zdCBJaD0ibGlnaHRWeEZyYWdtZW50RGVjbGFyYXRpb24iLFBoPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERhdGF7WH07CnVuaWZvcm0gdmVjNCB2TGlnaHREaWZmdXNle1h9OwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2TGlnaHRTcGVjdWxhcntYfTsKI2Vsc2UKdmVjNCB2TGlnaHRTcGVjdWxhcntYfT12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbSWhdPVBoO2NvbnN0IERoPSJsaWdodFZ4VWJvRGVjbGFyYXRpb24iLEZoPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0RoXT1GaDtjb25zdCB3aD0icHJlUGFzc1ZlcnRleCIsT2g9YCNpZmRlZiBQUkVQQVNTX0RFUFRICnZWaWV3UG9zPSh2aWV3KndvcmxkUG9zKS5yZ2I7CiNlbmRpZgojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiBkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgcHJldmlvdXNJbmZsdWVuY2U7CnByZXZpb3VzSW5mbHVlbmNlPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqcHJldmlvdXNJbmZsdWVuY2UqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2Vsc2UKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbd2hdPU9oO2NvbnN0IExoPSJ1dlZhcmlhYmxlRGVjbGFyYXRpb24iLE5oPWAjaWYgIWRlZmluZWQoVVZ7WH0pICYmIGRlZmluZWQoTUFJTlVWe1h9KQp2ZWMyIHV2e1h9PXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVntYfQp2TWFpblVWe1h9PXV2e1h9OwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0xoXT1OaDtjb25zdCBCaD0ic2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uIixVaD1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAppZiAodl9JTkZPTkFNRV89PTAuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwp9CiNpZmRlZiBVVjIKZWxzZSBpZiAodl9JTkZPTkFNRV89PTEuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVYzCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0yLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYzLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNAplbHNlIGlmICh2X0lORk9OQU1FXz09My4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NCwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjUKZWxzZSBpZiAodl9JTkZPTkFNRV89PTQuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djUsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY2CmVsc2UgaWYgKHZfSU5GT05BTUVfPT01LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY2LDEuMCwwLjApKTsKfQojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCaF09VWg7Y29uc3Qga2g9ImJ1bXBWZXJ0ZXgiLFZoPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKdmVjMyB0Ym5Ob3JtYWw9bm9ybWFsaXplKG5vcm1hbFVwZGF0ZWQpOwp2ZWMzIHRiblRhbmdlbnQ9bm9ybWFsaXplKHRhbmdlbnRVcGRhdGVkLnh5eik7CnZlYzMgdGJuQml0YW5nZW50PWNyb3NzKHRibk5vcm1hbCx0Ym5UYW5nZW50KSp0YW5nZW50VXBkYXRlZC53Owp2VEJOPW1hdDMoZmluYWxXb3JsZCkqbWF0Myh0Ym5UYW5nZW50LHRibkJpdGFuZ2VudCx0Ym5Ob3JtYWwpOwojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtraF09Vmg7Y29uc3QgV2g9ImZvZ1ZlcnRleCIsemg9YCNpZmRlZiBGT0cKdkZvZ0Rpc3RhbmNlPSh2aWV3KndvcmxkUG9zKS54eXo7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbV2hdPXpoO2NvbnN0IEdoPSJzaGFkb3dzVmVydGV4IixYaD1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoU0hBRE9XQ1NNe1h9KQp2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9PXZpZXcqd29ybGRQb3M7CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgewp2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV09bGlnaHRNYXRyaXh7WH1baV0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH1baV09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH1baV09KHZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9Xe1h9KSAmJiAhZGVmaW5lZChTSEFET1dDVUJFe1h9KQp2UG9zaXRpb25Gcm9tTGlnaHR7WH09bGlnaHRNYXRyaXh7WH0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH09KHZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHaF09WGg7Y29uc3QgSGg9InZlcnRleENvbG9yTWl4aW5nIixLaD1gI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCnZDb2xvcj12ZWM0KDEuMCk7CiNpZmRlZiBWRVJURVhDT0xPUgojaWZkZWYgVkVSVEVYQUxQSEEKdkNvbG9yKj1jb2xvcjsKI2Vsc2UKdkNvbG9yLnJnYio9Y29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBJTlNUQU5DRVNDT0xPUgp2Q29sb3IqPWluc3RhbmNlQ29sb3I7CiNlbmRpZgojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hoXT1LaDtjb25zdCBZaD0icG9pbnRDbG91ZFZlcnRleCIsWmg9YCNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWYKYDtOLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1loXT1aaDtjb25zdCBxaD0ibG9nRGVwdGhWZXJ0ZXgiLGpoPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp2RnJhZ21lbnREZXB0aD0xLjArZ2xfUG9zaXRpb24udzsKZ2xfUG9zaXRpb24uej1sb2cyKG1heCgwLjAwMDAwMSx2RnJhZ21lbnREZXB0aCkpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKI2VuZGlmCmA7Ti5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxaF09amg7Y29uc3QgUWg9ImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLCRoPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTgphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAphdHRyaWJ1dGUgdmVjNCB0YW5nZW50OwojZW5kaWYKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpbmNsdWRlPHV2QXR0cmlidXRlRGVjbGFyYXRpb24+WzIuLjddCiNpZmRlZiBWRVJURVhDT0xPUgphdHRyaWJ1dGUgdmVjNCBjb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CiNpbmNsdWRlPHByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXApCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcikKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wKQp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0VnhGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCnZlYzQgdGFuZ2VudFVwZGF0ZWQ9dGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdlBvc2l0aW9uVVZXPXBvc2l0aW9uVXBkYXRlZDsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04KI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwKI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaWYgZGVmaW5lZChQUkVQQVNTKSAmJiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmICFkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1hbFdvcmxkPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdk5vcm1hbFc9bm9ybWFsVXBkYXRlZC92ZWMzKGRvdChub3JtYWxXb3JsZFswXSxub3JtYWxXb3JsZFswXSksZG90KG5vcm1hbFdvcmxkWzFdLG5vcm1hbFdvcmxkWzFdKSxkb3Qobm9ybWFsV29ybGRbMl0sbm9ybWFsV29ybGRbMl0pKTsKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1hbFdvcmxkKnZOb3JtYWxXKTsKI2Vsc2UKI2lmZGVmIE5PTlVOSUZPUk1TQ0FMSU5HCm5vcm1hbFdvcmxkPXRyYW5zcG9zZU1hdDMoaW52ZXJzZU1hdDMobm9ybWFsV29ybGQpKTsKI2VuZGlmCnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TCiNpZmRlZiBNVUxUSVZJRVcKaWYgKGdsX1ZpZXdJRF9PVlI9PTB1KSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp9IGVsc2UgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvblIqd29ybGRQb3M7Cn0KI2Vsc2UKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNlbmRpZgp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaW5jbHVkZTxwcmVQYXNzVmVydGV4PgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2RGlyZWN0aW9uVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDAuMCkpKTsKI2VuZGlmCiNpZm5kZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVjEKdk1haW5VVjE9dXZVcGRhdGVkOwojZW5kaWYKI2luY2x1ZGU8dXZWYXJpYWJsZURlY2xhcmF0aW9uPlsyLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfTUFUUklYTkFNRV8sZGlmZnVzZSxfSU5GT05BTUVfLERpZmZ1c2VJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX01BVFJJWE5BTUVfLGRldGFpbCxfSU5GT05BTUVfLERldGFpbEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9NQVRSSVhOQU1FXyxhbWJpZW50LF9JTkZPTkFNRV8sQW1iaWVudEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9NQVRSSVhOQU1FXyxvcGFjaXR5LF9JTkZPTkFNRV8sT3BhY2l0eUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX01BVFJJWE5BTUVfLGVtaXNzaXZlLF9JTkZPTkFNRV8sRW1pc3NpdmVJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9NQVRSSVhOQU1FXyxsaWdodG1hcCxfSU5GT05BTUVfLExpZ2h0bWFwSW5mb3MueCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9NQVRSSVhOQU1FXyxzcGVjdWxhcixfSU5GT05BTUVfLFNwZWN1bGFySW5mb3MueCkKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9NQVRSSVhOQU1FXyxidW1wLF9JTkZPTkFNRV8sQnVtcEluZm9zLngpCiNpbmNsdWRlPGJ1bXBWZXJ0ZXg+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPHZlcnRleENvbG9yTWl4aW5nPgojaW5jbHVkZTxwb2ludENsb3VkVmVydGV4PgojaW5jbHVkZTxsb2dEZXB0aFZlcnRleD4KI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtOLlNoYWRlcnNTdG9yZVtRaF09JGg7Y2xhc3MgJHR7Y29uc3RydWN0b3IoZSl7dGhpcy5fcGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cz1bXSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMuX3NjZW5lPWUuZ2V0U2NlbmUoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9X2FkZFBsdWdpbihlKXtmb3IobGV0IHM9MDtzPHRoaXMuX3BsdWdpbnMubGVuZ3RoOysrcylpZih0aGlzLl9wbHVnaW5zW3NdLm5hbWU9PT1lLm5hbWUpdGhyb3dgUGx1Z2luICIke2UubmFtZX0iIGFscmVhZHkgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICIke3RoaXMuX21hdGVyaWFsLm5hbWV9IiFgO2lmKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQpdGhyb3dgVGhlIHBsdWdpbiAiJHtlLm5hbWV9IiBjYW4ndCBiZSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIiR7dGhpcy5fbWF0ZXJpYWwubmFtZX0iIGJlY2F1c2UgdGhpcyBtYXRlcmlhbCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgZm9yIHJlbmRlcmluZyEgUGxlYXNlIGFkZCBwbHVnaW5zIHRvIG1hdGVyaWFscyBiZWZvcmUgYW55IHJlbmRlcmluZyB3aXRoIHRoaXMgbWF0ZXJpYWwgb2NjdXJzLmA7Y29uc3QgdD1lLmdldENsYXNzTmFtZSgpOyR0Ll9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdfHwoJHQuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF09Ik1BVEVSSUFMUExVR0lOXyIrICsrJHQuX01hdGVyaWFsUGx1Z2luQ291bnRlciksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fcGx1Z2lucy5wdXNoKGUpLHRoaXMuX3BsdWdpbnMuc29ydCgocyxyKT0+cy5wcmlvcml0eS1yLnByaW9yaXR5KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzPXt9O2NvbnN0IGk9e307aVskdC5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XV09e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITB9O2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpcy5jb2xsZWN0RGVmaW5lcyhpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygidmVydGV4IixzLmdldEN1c3RvbUNvZGUoInZlcnRleCIpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygiZnJhZ21lbnQiLHMuZ2V0Q3VzdG9tQ29kZSgiZnJhZ21lbnQiKSk7dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2lucz1pfV9hY3RpdmF0ZVBsdWdpbihlKXt0aGlzLl9hY3RpdmVQbHVnaW5zLmluZGV4T2YoZSk9PT0tMSYmKHRoaXMuX2FjdGl2ZVBsdWdpbnMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zLnNvcnQoKHQsaSk9PnQucHJpb3JpdHktaS5wcmlvcml0eSksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSxlLnJlZ2lzdGVyRm9yRXh0cmFFdmVudHMmJih0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMuc29ydCgodCxpKT0+dC5wcmlvcml0eS1pLnByaW9yaXR5KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcykpKX1nZXRQbHVnaW4oZSl7Zm9yKGxldCB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5fcGx1Z2luc1t0XTtyZXR1cm4gbnVsbH1faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaChlKXtsZXQgdD0hMDtmb3IoY29uc3QgaSBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQ9dCYmaS5pc1JlYWR5Rm9yU3ViTWVzaChlLmRlZmluZXMsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCk7ZS5pc1JlYWR5Rm9yU3ViTWVzaD10fV9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQucHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5wcmVwYXJlRGVmaW5lcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKXQuaGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5iaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgaSBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpaWYodD1pLmhhc1JlbmRlclRhcmdldFRleHR1cmVzKCksdClicmVhaztlLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPXR9X2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cyl0LmZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlLnJlbmRlclRhcmdldHMpfV9oYW5kbGVQbHVnaW5FdmVudChlLHQpe3N3aXRjaChlKXtjYXNlICRlLkdldEFjdGl2ZVRleHR1cmVzOntjb25zdCBpPXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylzLmdldEFjdGl2ZVRleHR1cmVzKGkuYWN0aXZlVGV4dHVyZXMpO2JyZWFrfWNhc2UgJGUuR2V0QW5pbWF0YWJsZXM6e2NvbnN0IGk9dDtmb3IoY29uc3QgcyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXMuZ2V0QW5pbWF0YWJsZXMoaS5hbmltYXRhYmxlcyk7YnJlYWt9Y2FzZSAkZS5IYXNUZXh0dXJlOntjb25zdCBpPXQ7bGV0IHM9ITE7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylpZihzPXIuaGFzVGV4dHVyZShpLnRleHR1cmUpLHMpYnJlYWs7aS5oYXNUZXh0dXJlPXM7YnJlYWt9Y2FzZSAkZS5EaXNwb3NlZDp7Y29uc3QgaT10O2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpcy5kaXNwb3NlKGkuZm9yY2VEaXNwb3NlVGV4dHVyZXMpO2JyZWFrfWNhc2UgJGUuR2V0RGVmaW5lTmFtZXM6e2NvbnN0IGk9dDtpLmRlZmluZU5hbWVzPXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM7YnJlYWt9Y2FzZSAkZS5QcmVwYXJlRWZmZWN0Ontjb25zdCBpPXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylpLmZhbGxiYWNrUmFuaz1zLmFkZEZhbGxiYWNrcyhpLmRlZmluZXMsaS5mYWxsYmFja3MsaS5mYWxsYmFja1JhbmspLHMuZ2V0QXR0cmlidXRlcyhpLmF0dHJpYnV0ZXMsdGhpcy5fc2NlbmUsaS5tZXNoKTt0aGlzLl91bmlmb3JtTGlzdC5sZW5ndGg+MCYmaS51bmlmb3Jtcy5wdXNoKC4uLnRoaXMuX3VuaWZvcm1MaXN0KSx0aGlzLl9zYW1wbGVyTGlzdC5sZW5ndGg+MCYmaS5zYW1wbGVycy5wdXNoKC4uLnRoaXMuX3NhbXBsZXJMaXN0KSx0aGlzLl91Ym9MaXN0Lmxlbmd0aD4wJiZpLnVuaWZvcm1CdWZmZXJzTmFtZXMucHVzaCguLi50aGlzLl91Ym9MaXN0KSxpLmN1c3RvbUNvZGU9dGhpcy5faW5qZWN0Q3VzdG9tQ29kZShpLmN1c3RvbUNvZGUpO2JyZWFrfWNhc2UgJGUuUHJlcGFyZVVuaWZvcm1CdWZmZXI6e2NvbnN0IGk9dDt0aGlzLl91Ym9EZWNsYXJhdGlvbj0iIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbj0iIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uPSIiLHRoaXMuX3VuaWZvcm1MaXN0PVtdLHRoaXMuX3NhbXBsZXJMaXN0PVtdLHRoaXMuX3Vib0xpc3Q9W107Zm9yKGNvbnN0IHMgb2YgdGhpcy5fcGx1Z2lucyl7Y29uc3Qgcj1zLmdldFVuaWZvcm1zKCk7aWYocil7aWYoci51Ym8pZm9yKGNvbnN0IG4gb2Ygci51Ym8paS51Ym8uYWRkVW5pZm9ybShuLm5hbWUsbi5zaXplKSx0aGlzLl91Ym9EZWNsYXJhdGlvbis9YCR7bi50eXBlfSAke24ubmFtZX07XHIKYCx0aGlzLl91bmlmb3JtTGlzdC5wdXNoKG4ubmFtZSk7ci52ZXJ0ZXgmJih0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbis9ci52ZXJ0ZXgrYFxyCmApLHIuZnJhZ21lbnQmJih0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKz1yLmZyYWdtZW50K2BccgpgKX1zLmdldFNhbXBsZXJzKHRoaXMuX3NhbXBsZXJMaXN0KSxzLmdldFVuaWZvcm1CdWZmZXJzTmFtZXModGhpcy5fdWJvTGlzdCl9YnJlYWt9fX1fY29sbGVjdFBvaW50TmFtZXMoZSx0KXtpZighIXQpZm9yKGNvbnN0IGkgaW4gdCl0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdfHwodGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXT17fSksdGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXVtpXT0hMH1faW5qZWN0Q3VzdG9tQ29kZShlKXtyZXR1cm4odCxpKT0+e3ZhciByO2UmJihpPWUodCxpKSksdGhpcy5fdWJvRGVjbGFyYXRpb24mJihpPWkucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTiIsdGhpcy5fdWJvRGVjbGFyYXRpb24pKSx0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbikpLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24mJihpPWkucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKSk7Y29uc3Qgcz0ocj10aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzKT09bnVsbD92b2lkIDA6clt0XTtpZighcylyZXR1cm4gaTtmb3IoY29uc3QgbiBpbiBzKXtsZXQgYT0iIjtmb3IoY29uc3QgbyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXtjb25zdCBoPW8uZ2V0Q3VzdG9tQ29kZSh0KTtoIT1udWxsJiZoW25dJiYoYSs9aFtuXStgXHIKYCl9aWYoYS5sZW5ndGg+MClpZihuLmNoYXJBdCgwKT09PSIhIil7Y29uc3Qgbz1uZXcgUmVnRXhwKG4uc3Vic3RyaW5nKDEpLCJnIik7bGV0IGg9by5leGVjKGkpO2Zvcig7aCE9PW51bGw7KXtsZXQgbD1hO2ZvcihsZXQgdT0wO3U8aC5sZW5ndGg7Kyt1KWw9bC5yZXBsYWNlKCIkIit1LGhbdV0pO2k9aS5yZXBsYWNlKGhbMF0sbCksaD1vLmV4ZWMoaSl9fWVsc2V7Y29uc3Qgbz0iI2RlZmluZSAiK247aT1pLnJlcGxhY2UobyxgXHIKYCthK2BccgpgK28pfX1yZXR1cm4gaX19fSR0Ll9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LCR0Ll9NYXRlcmlhbFBsdWdpbkNvdW50ZXI9MDtjbGFzcyByc3tjb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITAsbj0hMSl7dGhpcy5wcmlvcml0eT01MDAsdGhpcy5yZWdpc3RlckZvckV4dHJhRXZlbnRzPSExLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5uYW1lPXQsdGhpcy5wcmlvcml0eT1pLGUucGx1Z2luTWFuYWdlcnx8KGUucGx1Z2luTWFuYWdlcj1uZXcgJHQoZSkpLHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzPXMsdGhpcy5fcGx1Z2luTWFuYWdlcj1lLnBsdWdpbk1hbmFnZXIsciYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWRkUGx1Z2luKHRoaXMpLG4mJnRoaXMuX2VuYWJsZSghMCksdGhpcy5tYXJrQWxsRGVmaW5lc0FzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbNjNdfV9lbmFibGUoZSl7ZSYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWN0aXZhdGVQbHVnaW4odGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkscyl7cmV0dXJuITB9aGFyZEJpbmRGb3JTdWJNZXNoKGUsdCxpLHMpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzKXt9ZGlzcG9zZShlKXt9Z2V0Q3VzdG9tQ29kZShlKXtyZXR1cm4gbnVsbH1jb2xsZWN0RGVmaW5lcyhlKXtpZighIXRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKWZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKSl7aWYodFswXT09PSJfIiljb250aW51ZTtjb25zdCBpPXR5cGVvZiB0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1t0XTtlW3RdPXt0eXBlOmk9PT0ibnVtYmVyIj8ibnVtYmVyIjppPT09InN0cmluZyI/InN0cmluZyI6aT09PSJib29sZWFuIj8iYm9vbGVhbiI6Im9iamVjdCIsZGVmYXVsdDp0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1t0XX19fXByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlLHQsaSl7fXByZXBhcmVEZWZpbmVzKGUsdCxpKXt9aGFzVGV4dHVyZShlKXtyZXR1cm4hMX1oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiExfWZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXt9Z2V0QWN0aXZlVGV4dHVyZXMoZSl7fWdldEFuaW1hdGFibGVzKGUpe31hZGRGYWxsYmFja3MoZSx0LGkpe3JldHVybiBpfWdldFNhbXBsZXJzKGUpe31nZXRBdHRyaWJ1dGVzKGUsdCxpKXt9Z2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyhlKXt9Z2V0VW5pZm9ybXMoKXtyZXR1cm57fX1jb3B5VG8oZSl7cmUuQ2xvbmUoKCk9PmUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIHJlLlNlcmlhbGl6ZSh0aGlzKX1wYXJzZShlLHQsaSl7cmUuUGFyc2UoKCk9PnRoaXMsZSx0LGkpfX1TKFtNKCldLHJzLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxTKFtNKCldLHJzLnByb3RvdHlwZSwicHJpb3JpdHkiLHZvaWQgMCksUyhbTSgpXSxycy5wcm90b3R5cGUsInJlZ2lzdGVyRm9yRXh0cmFFdmVudHMiLHZvaWQgMCk7Y2xhc3MgSmggZXh0ZW5kcyB2c3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5ERVRBSUw9ITEsdGhpcy5ERVRBSUxESVJFQ1RVVj0wLHRoaXMuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPTB9fWNsYXNzIGRpIGV4dGVuZHMgcnN7Y29uc3RydWN0b3IoZSx0PSEwKXtzdXBlcihlLCJEZXRhaWxNYXAiLDE0MCxuZXcgSmgsdCksdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWw9MSx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSx0aGlzLmJ1bXBMZXZlbD0xLHRoaXMuX25vcm1hbEJsZW5kTWV0aG9kPUkuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQsdGhpcy5faXNFbmFibGVkPSExLHRoaXMuaXNFbmFibGVkPSExLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1sxXX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2VuYWJsZSh0aGlzLl9pc0VuYWJsZWQpLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkPyEoZS5fYXJlVGV4dHVyZXNEaXJ0eSYmdC50ZXh0dXJlc0VuYWJsZWQmJmkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJmNlLkRldGFpbFRleHR1cmVFbmFibGVkJiYhdGhpcy5fdGV4dHVyZS5pc1JlYWR5KCkpOiEwfXByZXBhcmVEZWZpbmVzKGUsdCl7aWYodGhpcy5faXNFbmFibGVkKXtlLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZDtjb25zdCBpPXQuZ2V0RW5naW5lKCk7ZS5fYXJlVGV4dHVyZXNEaXJ0eSYmKGkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJmNlLkRldGFpbFRleHR1cmVFbmFibGVkJiZ0aGlzLl9pc0VuYWJsZWQ/KGVlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fdGV4dHVyZSxlLCJERVRBSUwiKSxlLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZCk6ZS5ERVRBSUw9ITEpfWVsc2UgZS5ERVRBSUw9ITF9YmluZEZvclN1Yk1lc2goZSx0KXtpZighdGhpcy5faXNFbmFibGVkKXJldHVybjtjb25zdCBpPXRoaXMuX21hdGVyaWFsLmlzRnJvemVuOyghZS51c2VVYm98fCFpfHwhZS5pc1N5bmMpJiZ0aGlzLl90ZXh0dXJlJiZjZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmKGUudXBkYXRlRmxvYXQ0KCJ2RGV0YWlsSW5mb3MiLHRoaXMuX3RleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsLHRoaXMuYnVtcExldmVsLHRoaXMucm91Z2huZXNzQmxlbmRMZXZlbCksZWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fdGV4dHVyZSxlLCJkZXRhaWwiKSksdC50ZXh0dXJlc0VuYWJsZWQmJnRoaXMuX3RleHR1cmUmJmNlLkRldGFpbFRleHR1cmVFbmFibGVkJiZlLnNldFRleHR1cmUoImRldGFpbFNhbXBsZXIiLHRoaXMuX3RleHR1cmUpfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX3RleHR1cmU9PT1lfWdldEFjdGl2ZVRleHR1cmVzKGUpe3RoaXMuX3RleHR1cmUmJmUucHVzaCh0aGlzLl90ZXh0dXJlKX1nZXRBbmltYXRhYmxlcyhlKXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3RleHR1cmUpfWRpc3Bvc2UoZSl7dmFyIHQ7ZSYmKCh0PXRoaXMuX3RleHR1cmUpPT1udWxsfHx0LmRpc3Bvc2UoKSl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkRldGFpbE1hcENvbmZpZ3VyYXRpb24ifWdldFNhbXBsZXJzKGUpe2UucHVzaCgiZGV0YWlsU2FtcGxlciIpfWdldFVuaWZvcm1zKCl7cmV0dXJue3Vibzpbe25hbWU6InZEZXRhaWxJbmZvcyIsc2l6ZTo0LHR5cGU6InZlYzQifSx7bmFtZToiZGV0YWlsTWF0cml4IixzaXplOjE2LHR5cGU6Im1hdDQifV19fX1TKFtwdCgiZGV0YWlsVGV4dHVyZSIpLGJlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxkaS5wcm90b3R5cGUsInRleHR1cmUiLHZvaWQgMCksUyhbTSgpXSxkaS5wcm90b3R5cGUsImRpZmZ1c2VCbGVuZExldmVsIix2b2lkIDApLFMoW00oKV0sZGkucHJvdG90eXBlLCJyb3VnaG5lc3NCbGVuZExldmVsIix2b2lkIDApLFMoW00oKV0sZGkucHJvdG90eXBlLCJidW1wTGV2ZWwiLHZvaWQgMCksUyhbTSgpLGJlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxkaS5wcm90b3R5cGUsIm5vcm1hbEJsZW5kTWV0aG9kIix2b2lkIDApLFMoW00oKSxiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZGkucHJvdG90eXBlLCJpc0VuYWJsZWQiLHZvaWQgMCk7Y29uc3QgQnM9e2VmZmVjdDpudWxsLHN1Yk1lc2g6bnVsbH07Y2xhc3MgZWwgZXh0ZW5kcyB2c3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLk1BSU5VVjE9ITEsdGhpcy5NQUlOVVYyPSExLHRoaXMuTUFJTlVWMz0hMSx0aGlzLk1BSU5VVjQ9ITEsdGhpcy5NQUlOVVY1PSExLHRoaXMuTUFJTlVWNj0hMSx0aGlzLkRJRkZVU0U9ITEsdGhpcy5ESUZGVVNFRElSRUNUVVY9MCx0aGlzLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRT0hMSx0aGlzLkFNQklFTlQ9ITEsdGhpcy5BTUJJRU5URElSRUNUVVY9MCx0aGlzLk9QQUNJVFk9ITEsdGhpcy5PUEFDSVRZRElSRUNUVVY9MCx0aGlzLk9QQUNJVFlSR0I9ITEsdGhpcy5SRUZMRUNUSU9OPSExLHRoaXMuRU1JU1NJVkU9ITEsdGhpcy5FTUlTU0lWRURJUkVDVFVWPTAsdGhpcy5TUEVDVUxBUj0hMSx0aGlzLlNQRUNVTEFSRElSRUNUVVY9MCx0aGlzLkJVTVA9ITEsdGhpcy5CVU1QRElSRUNUVVY9MCx0aGlzLlBBUkFMTEFYPSExLHRoaXMuUEFSQUxMQVhPQ0NMVVNJT049ITEsdGhpcy5TUEVDVUxBUk9WRVJBTFBIQT0hMSx0aGlzLkNMSVBQTEFORT0hMSx0aGlzLkNMSVBQTEFORTI9ITEsdGhpcy5DTElQUExBTkUzPSExLHRoaXMuQ0xJUFBMQU5FND0hMSx0aGlzLkNMSVBQTEFORTU9ITEsdGhpcy5DTElQUExBTkU2PSExLHRoaXMuQUxQSEFURVNUPSExLHRoaXMuREVQVEhQUkVQQVNTPSExLHRoaXMuQUxQSEFGUk9NRElGRlVTRT0hMSx0aGlzLlBPSU5UU0laRT0hMSx0aGlzLkZPRz0hMSx0aGlzLlNQRUNVTEFSVEVSTT0hMSx0aGlzLkRJRkZVU0VGUkVTTkVMPSExLHRoaXMuT1BBQ0lUWUZSRVNORUw9ITEsdGhpcy5SRUZMRUNUSU9ORlJFU05FTD0hMSx0aGlzLlJFRlJBQ1RJT05GUkVTTkVMPSExLHRoaXMuRU1JU1NJVkVGUkVTTkVMPSExLHRoaXMuRlJFU05FTD0hMSx0aGlzLk5PUk1BTD0hMSx0aGlzLlRBTkdFTlQ9ITEsdGhpcy5VVjE9ITEsdGhpcy5VVjI9ITEsdGhpcy5VVjM9ITEsdGhpcy5VVjQ9ITEsdGhpcy5VVjU9ITEsdGhpcy5VVjY9ITEsdGhpcy5WRVJURVhDT0xPUj0hMSx0aGlzLlZFUlRFWEFMUEhBPSExLHRoaXMuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0aGlzLkJvbmVzUGVyTWVzaD0wLHRoaXMuQk9ORVRFWFRVUkU9ITEsdGhpcy5CT05FU19WRUxPQ0lUWV9FTkFCTEVEPSExLHRoaXMuSU5TVEFOQ0VTPSExLHRoaXMuVEhJTl9JTlNUQU5DRVM9ITEsdGhpcy5JTlNUQU5DRVNDT0xPUj0hMSx0aGlzLkdMT1NTSU5FU1M9ITEsdGhpcy5ST1VHSE5FU1M9ITEsdGhpcy5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPSExLHRoaXMuTElOS0VNSVNTSVZFV0lUSERJRkZVU0U9ITEsdGhpcy5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj0hMSx0aGlzLkxJR0hUTUFQPSExLHRoaXMuTElHSFRNQVBESVJFQ1RVVj0wLHRoaXMuT0JKRUNUU1BBQ0VfTk9STUFMTUFQPSExLHRoaXMuVVNFTElHSFRNQVBBU1NIQURPV01BUD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfM0Q9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1NQSEVSSUNBTD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfUExBTkFSPSExLHRoaXMuUkVGTEVDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDPSExLHRoaXMuVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1BST0pFQ1RJT049ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1NLWUJPWD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVhQTElDSVQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExLHRoaXMuSU5WRVJUQ1VCSUNNQVA9ITEsdGhpcy5MT0dBUklUSE1JQ0RFUFRIPSExLHRoaXMuUkVGUkFDVElPTj0hMSx0aGlzLlJFRlJBQ1RJT05NQVBfM0Q9ITEsdGhpcy5SRUZMRUNUSU9OT1ZFUkFMUEhBPSExLHRoaXMuVFdPU0lERURMSUdIVElORz0hMSx0aGlzLlNIQURPV0ZMT0FUPSExLHRoaXMuTU9SUEhUQVJHRVRTPSExLHRoaXMuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0aGlzLk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHRoaXMuTU9SUEhUQVJHRVRTX1VWPSExLHRoaXMuTlVNX01PUlBIX0lORkxVRU5DRVJTPTAsdGhpcy5NT1JQSFRBUkdFVFNfVEVYVFVSRT0hMSx0aGlzLk5PTlVOSUZPUk1TQ0FMSU5HPSExLHRoaXMuUFJFTVVMVElQTFlBTFBIQT0hMSx0aGlzLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPSExLHRoaXMuQUxQSEFCTEVORD0hMCx0aGlzLlBSRVBBU1M9ITEsdGhpcy5QUkVQQVNTX0lSUkFESUFOQ0U9ITEsdGhpcy5QUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX0FMQkVET19TUVJUPSExLHRoaXMuUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfREVQVEg9ITEsdGhpcy5QUkVQQVNTX0RFUFRIX0lOREVYPS0xLHRoaXMuUFJFUEFTU19OT1JNQUw9ITEsdGhpcy5QUkVQQVNTX05PUk1BTF9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfUE9TSVRJT049ITEsdGhpcy5QUkVQQVNTX1BPU0lUSU9OX0lOREVYPS0xLHRoaXMuUFJFUEFTU19WRUxPQ0lUWT0hMSx0aGlzLlBSRVBBU1NfVkVMT0NJVFlfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1JFRkxFQ1RJVklUWT0hMSx0aGlzLlBSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYPS0xLHRoaXMuU0NFTkVfTVJUX0NPVU5UPTAsdGhpcy5SR0JETElHSFRNQVA9ITEsdGhpcy5SR0JEUkVGTEVDVElPTj0hMSx0aGlzLlJHQkRSRUZSQUNUSU9OPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HPSExLHRoaXMuVklHTkVUVEU9ITEsdGhpcy5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZPSExLHRoaXMuVklHTkVUVEVCTEVORE1PREVPUEFRVUU9ITEsdGhpcy5UT05FTUFQUElORz0hMSx0aGlzLlRPTkVNQVBQSU5HX0FDRVM9ITEsdGhpcy5DT05UUkFTVD0hMSx0aGlzLkNPTE9SQ1VSVkVTPSExLHRoaXMuQ09MT1JHUkFESU5HPSExLHRoaXMuQ09MT1JHUkFESU5HM0Q9ITEsdGhpcy5TQU1QTEVSM0RHUkVFTkRFUFRIPSExLHRoaXMuU0FNUExFUjNEQkdSTUFQPSExLHRoaXMuRElUSEVSPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdGhpcy5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHRoaXMuTVVMVElWSUVXPSExLHRoaXMuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPSExLHRoaXMuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUz0hMSx0aGlzLklTX1JFRkxFQ1RJT05fTElORUFSPSExLHRoaXMuSVNfUkVGUkFDVElPTl9MSU5FQVI9ITEsdGhpcy5FWFBPU1VSRT0hMSx0aGlzLnJlYnVpbGQoKX1zZXRSZWZsZWN0aW9uTW9kZShlKXtjb25zdCB0PVsiUkVGTEVDVElPTk1BUF9DVUJJQyIsIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiLCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfU0tZQk9YIiwiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIiwiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCJdO2Zvcihjb25zdCBpIG9mIHQpdGhpc1tpXT1pPT09ZX19Y2xhc3MgTyBleHRlbmRzIFBye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl9kaWZmdXNlVGV4dHVyZT1udWxsLHRoaXMuX2FtYmllbnRUZXh0dXJlPW51bGwsdGhpcy5fb3BhY2l0eVRleHR1cmU9bnVsbCx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZT1udWxsLHRoaXMuX2VtaXNzaXZlVGV4dHVyZT1udWxsLHRoaXMuX3NwZWN1bGFyVGV4dHVyZT1udWxsLHRoaXMuX2J1bXBUZXh0dXJlPW51bGwsdGhpcy5fbGlnaHRtYXBUZXh0dXJlPW51bGwsdGhpcy5fcmVmcmFjdGlvblRleHR1cmU9bnVsbCx0aGlzLmFtYmllbnRDb2xvcj1uZXcgaWUoMCwwLDApLHRoaXMuZGlmZnVzZUNvbG9yPW5ldyBpZSgxLDEsMSksdGhpcy5zcGVjdWxhckNvbG9yPW5ldyBpZSgxLDEsMSksdGhpcy5lbWlzc2l2ZUNvbG9yPW5ldyBpZSgwLDAsMCksdGhpcy5zcGVjdWxhclBvd2VyPTY0LHRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlPSExLHRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb249ITEsdGhpcy5fbGlua0VtaXNzaXZlV2l0aERpZmZ1c2U9ITEsdGhpcy5fdXNlU3BlY3VsYXJPdmVyQWxwaGE9ITEsdGhpcy5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYT0hMSx0aGlzLl9kaXNhYmxlTGlnaHRpbmc9ITEsdGhpcy5fdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXA9ITEsdGhpcy5fdXNlUGFyYWxsYXg9ITEsdGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb249ITEsdGhpcy5wYXJhbGxheFNjYWxlQmlhcz0uMDUsdGhpcy5fcm91Z2huZXNzPTAsdGhpcy5pbmRleE9mUmVmcmFjdGlvbj0uOTgsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT0hMCx0aGlzLmFscGhhQ3V0T2ZmPS40LHRoaXMuX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXA9ITEsdGhpcy5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXI9ITEsdGhpcy5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhPSExLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cz00LHRoaXMuX2ludmVydE5vcm1hbE1hcFg9ITEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT0hMSx0aGlzLl90d29TaWRlZExpZ2h0aW5nPSExLHRoaXMuX3JlbmRlclRhcmdldHM9bmV3IFFlKDE2KSx0aGlzLl93b3JsZFZpZXdQcm9qZWN0aW9uTWF0cml4PXguWmVybygpLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvcj1uZXcgaWUoMCwwLDApLHRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5kZXRhaWxNYXA9bmV3IGRpKHRoaXMpLHRoaXMuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24obnVsbCksdGhpcy5wcmVQYXNzQ29uZmlndXJhdGlvbj1uZXcgSXIsdGhpcy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz0oKT0+KHRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSxPLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLE8uUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaCh0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSksdGhpcy5fZXZlbnRJbmZvLnJlbmRlclRhcmdldHM9dGhpcy5fcmVuZGVyVGFyZ2V0cyx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcmVuZGVyVGFyZ2V0cyl9Z2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbn1zZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihlKXt0aGlzLl9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX1fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihlKXtlIT09dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLGU/dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1lOnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249dGhpcy5nZXRTY2VuZSgpLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24sdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyPXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLmFkZCgoKT0+e3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl9KSkpfWdldCBpc1ByZVBhc3NDYXBhYmxlKCl7cmV0dXJuIXRoaXMuZGlzYWJsZURlcHRoV3JpdGV9Z2V0IGNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZCgpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkfXNldCBjYW1lcmFDb2xvckN1cnZlc0VuYWJsZWQoZSl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzRW5hYmxlZD1lfWdldCBjYW1lcmFDb2xvckdyYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkfXNldCBjYW1lcmFDb2xvckdyYWRpbmdFbmFibGVkKGUpe3RoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkPWV9Z2V0IGNhbWVyYVRvbmVNYXBwaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZH1zZXQgY2FtZXJhVG9uZU1hcHBpbmdFbmFibGVkKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkPWV9Z2V0IGNhbWVyYUV4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uZXhwb3N1cmV9c2V0IGNhbWVyYUV4cG9zdXJlKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uZXhwb3N1cmU9ZX1nZXQgY2FtZXJhQ29udHJhc3QoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb250cmFzdH1zZXQgY2FtZXJhQ29udHJhc3QoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb250cmFzdD1lfWdldCBjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZX1zZXQgY2FtZXJhQ29sb3JHcmFkaW5nVGV4dHVyZShlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ1RleHR1cmU9ZX1nZXQgY2FtZXJhQ29sb3JDdXJ2ZXMoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc31zZXQgY2FtZXJhQ29sb3JDdXJ2ZXMoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlcz1lfWdldCBjYW5SZW5kZXJUb01SVCgpe3JldHVybiEwfWdldCBoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiBPLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0fHxPLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0PyEwOnRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN0YW5kYXJkTWF0ZXJpYWwifWdldCB1c2VMb2dhcml0aG1pY0RlcHRoKCl7cmV0dXJuIHRoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGh9c2V0IHVzZUxvZ2FyaXRobWljRGVwdGgoZSl7dGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aD1lJiZ0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmZyYWdtZW50RGVwdGhTdXBwb3J0ZWQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbHx8dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXx8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4gdGhpcy5fZm9yY2VBbHBoYVRlc3Q/ITA6dGhpcy5faGFzQWxwaGFDaGFubmVsKCkmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT1udWxsfHx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09SS5NQVRFUklBTF9BTFBIQVRFU1QpfV9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGEmJnRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlJiZ0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09SS5NQVRFUklBTF9PUEFRVUV9X2hhc0FscGhhQ2hhbm5lbCgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmV9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGk9ITEpe2lmKHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdHx8dGhpcy5idWlsZFVuaWZvcm1MYXlvdXQoKSx0LmVmZmVjdCYmdGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz09PWkpcmV0dXJuITA7dC5tYXRlcmlhbERlZmluZXN8fCh0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYygkZS5HZXREZWZpbmVOYW1lcyx0aGlzLl9ldmVudEluZm8pLHQubWF0ZXJpYWxEZWZpbmVzPW5ldyBlbCh0aGlzLl9ldmVudEluZm8uZGVmaW5lTmFtZXMpKTtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKSxyPXQubWF0ZXJpYWxEZWZpbmVzO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IG49cy5nZXRFbmdpbmUoKTtyLl9uZWVkTm9ybWFscz1lZS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhzLGUsciwhMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nKSxlZS5QcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhzLHIpO2NvbnN0IGE9dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5O2lmKGVlLlByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcyhzLHIsdGhpcy5jYW5SZW5kZXJUb01SVCYmIWEpLGVlLlByZXBhcmVEZWZpbmVzRm9yT0lUKHMscixhKSxyLl9hcmVUZXh0dXJlc0RpcnR5KXt0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMsci5fbmVlZFVWcz0hMTtmb3IobGV0IG89MTtvPD02OysrbylyWyJNQUlOVVYiK29dPSExO2lmKHMudGV4dHVyZXNFbmFibGVkKXtpZihyLkRJRkZVU0VESVJFQ1RVVj0wLHIuQlVNUERJUkVDVFVWPTAsci5BTUJJRU5URElSRUNUVVY9MCxyLk9QQUNJVFlESVJFQ1RVVj0wLHIuRU1JU1NJVkVESVJFQ1RVVj0wLHIuU1BFQ1VMQVJESVJFQ1RVVj0wLHIuTElHSFRNQVBESVJFQ1RVVj0wLHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZPLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9kaWZmdXNlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWVlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZGlmZnVzZVRleHR1cmUsciwiRElGRlVTRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkRJRkZVU0U9ITE7aWYodGhpcy5fYW1iaWVudFRleHR1cmUmJk8uQW1iaWVudFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2FtYmllbnRUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpZWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9hbWJpZW50VGV4dHVyZSxyLCJBTUJJRU5UIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuQU1CSUVOVD0hMTtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmTy5PcGFjaXR5VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSllZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX29wYWNpdHlUZXh0dXJlLHIsIk9QQUNJVFkiKSxyLk9QQUNJVFlSR0I9dGhpcy5fb3BhY2l0eVRleHR1cmUuZ2V0QWxwaGFGcm9tUkdCO2Vsc2UgcmV0dXJuITE7ZWxzZSByLk9QQUNJVFk9ITE7aWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJk8uUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpe3N3aXRjaChyLl9uZWVkTm9ybWFscz0hMCxyLlJFRkxFQ1RJT049ITAsci5ST1VHSE5FU1M9dGhpcy5fcm91Z2huZXNzPjAsci5SRUZMRUNUSU9OT1ZFUkFMUEhBPXRoaXMuX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEsci5JTlZFUlRDVUJJQ01BUD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGU9PT1CLklOVkNVQklDX01PREUsci5SRUZMRUNUSU9OTUFQXzNEPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPXIuUkVGTEVDVElPTk1BUF8zRCYmdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPyF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaOnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFosci5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIEIuRVhQTElDSVRfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIik7YnJlYWs7Y2FzZSBCLlBMQU5BUl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUExBTkFSIik7YnJlYWs7Y2FzZSBCLlBST0pFQ1RJT05fTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iKTticmVhaztjYXNlIEIuU0tZQk9YX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TS1lCT1giKTticmVhaztjYXNlIEIuU1BIRVJJQ0FMX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiKTticmVhaztjYXNlIEIuRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiKTticmVhaztjYXNlIEIuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIEIuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgQi5DVUJJQ19NT0RFOmNhc2UgQi5JTlZDVUJJQ19NT0RFOmRlZmF1bHQ6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9DVUJJQyIpO2JyZWFrfXIuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemV9ZWxzZSByZXR1cm4hMTtlbHNlIHIuUkVGTEVDVElPTj0hMSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExO2lmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmTy5FbWlzc2l2ZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWVlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLHIsIkVNSVNTSVZFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuRU1JU1NJVkU9ITE7aWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZPLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpZWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9saWdodG1hcFRleHR1cmUsciwiTElHSFRNQVAiKSxyLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9dGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcCxyLlJHQkRMSUdIVE1BUD10aGlzLl9saWdodG1hcFRleHR1cmUuaXNSR0JEO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkxJR0hUTUFQPSExO2lmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmTy5TcGVjdWxhclRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWVlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLHIsIlNQRUNVTEFSIiksci5HTE9TU0lORVNTPXRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYTtlbHNlIHJldHVybiExO2Vsc2Ugci5TUEVDVUxBUj0hMTtpZihzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl9idW1wVGV4dHVyZSYmTy5CdW1wVGV4dHVyZUVuYWJsZWQpe2lmKHRoaXMuX2J1bXBUZXh0dXJlLmlzUmVhZHkoKSllZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2J1bXBUZXh0dXJlLHIsIkJVTVAiKSxyLlBBUkFMTEFYPXRoaXMuX3VzZVBhcmFsbGF4LHIuUEFSQUxMQVhPQ0NMVVNJT049dGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb247ZWxzZSByZXR1cm4hMTtyLk9CSkVDVFNQQUNFX05PUk1BTE1BUD10aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcH1lbHNlIHIuQlVNUD0hMSxyLlBBUkFMTEFYPSExLHIuUEFSQUxMQVhPQ0NMVVNJT049ITE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJk8uUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpci5fbmVlZFVWcz0hMCxyLlJFRlJBQ1RJT049ITAsci5SRUZSQUNUSU9OTUFQXzNEPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJHQkRSRUZSQUNUSU9OPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUkdCRCxyLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplO2Vsc2UgcmV0dXJuITE7ZWxzZSByLlJFRlJBQ1RJT049ITE7ci5UV09TSURFRExJR0hUSU5HPSF0aGlzLl9iYWNrRmFjZUN1bGxpbmcmJnRoaXMuX3R3b1NpZGVkTGlnaHRpbmd9ZWxzZSByLkRJRkZVU0U9ITEsci5BTUJJRU5UPSExLHIuT1BBQ0lUWT0hMSxyLlJFRkxFQ1RJT049ITEsci5FTUlTU0lWRT0hMSxyLkxJR0hUTUFQPSExLHIuQlVNUD0hMSxyLlJFRlJBQ1RJT049ITE7ci5BTFBIQUZST01ESUZGVVNFPXRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCksci5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPXRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24sci5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT10aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSxyLlNQRUNVTEFST1ZFUkFMUEhBPXRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhLHIuUFJFTVVMVElQTFlBTFBIQT10aGlzLmFscGhhTW9kZT09PTd8fHRoaXMuYWxwaGFNb2RlPT09OCxyLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPXRoaXMudHJhbnNwYXJlbmN5TW9kZSE9PW51bGwsci5BTFBIQUJMRU5EPXRoaXMudHJhbnNwYXJlbmN5TW9kZT09PW51bGx8fHRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpfWlmKHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLCF0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpcmV0dXJuITE7aWYoci5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHkmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24pe2lmKCF0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmlzUmVhZHkoKSlyZXR1cm4hMTt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnByZXBhcmVEZWZpbmVzKHIpLHIuSVNfUkVGTEVDVElPTl9MSU5FQVI9dGhpcy5yZWZsZWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmbGVjdGlvblRleHR1cmUuZ2FtbWFTcGFjZSxyLklTX1JFRlJBQ1RJT05fTElORUFSPXRoaXMucmVmcmFjdGlvblRleHR1cmUhPW51bGwmJiF0aGlzLnJlZnJhY3Rpb25UZXh0dXJlLmdhbW1hU3BhY2V9aWYoci5fYXJlRnJlc25lbERpcnR5JiYoTy5GcmVzbmVsRW5hYmxlZD8odGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzKSYmKHIuRElGRlVTRUZSRVNORUw9dGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuT1BBQ0lUWUZSRVNORUw9dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuUkVGTEVDVElPTkZSRVNORUw9dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9dGhpcy5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIsci5SRUZSQUNUSU9ORlJFU05FTD10aGlzLl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5FTUlTU0lWRUZSRVNORUw9dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5fbmVlZE5vcm1hbHM9ITAsci5GUkVTTkVMPSEwKTpyLkZSRVNORUw9ITEpLGVlLlByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHMsdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aCx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24oZSl8fHRoaXMuX2ZvcmNlQWxwaGFUZXN0LHIpLGVlLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhzLG4scixpLG51bGwsdC5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyksdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cix0aGlzLl9ldmVudEluZm8ubWVzaD1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXModGhpcy5fZXZlbnRJbmZvKSxlZS5QcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXMoZSxyLCEwLCEwLCEwKSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXModGhpcy5fZXZlbnRJbmZvKSxyLmlzRGlydHkpe2NvbnN0IG89ci5fYXJlTGlnaHRzRGlzcG9zZWQ7ci5tYXJrQXNQcm9jZXNzZWQoKTtjb25zdCBoPW5ldyBOcztyLlJFRkxFQ1RJT04mJmguYWRkRmFsbGJhY2soMCwiUkVGTEVDVElPTiIpLHIuU1BFQ1VMQVImJmguYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVIiKSxyLkJVTVAmJmguYWRkRmFsbGJhY2soMCwiQlVNUCIpLHIuUEFSQUxMQVgmJmguYWRkRmFsbGJhY2soMSwiUEFSQUxMQVgiKSxyLlBBUkFMTEFYT0NDTFVTSU9OJiZoLmFkZEZhbGxiYWNrKDAsIlBBUkFMTEFYT0NDTFVTSU9OIiksci5TUEVDVUxBUk9WRVJBTFBIQSYmaC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUk9WRVJBTFBIQSIpLHIuRk9HJiZoLmFkZEZhbGxiYWNrKDEsIkZPRyIpLHIuUE9JTlRTSVpFJiZoLmFkZEZhbGxiYWNrKDAsIlBPSU5UU0laRSIpLHIuTE9HQVJJVEhNSUNERVBUSCYmaC5hZGRGYWxsYmFjaygwLCJMT0dBUklUSE1JQ0RFUFRIIiksZWUuSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhyLGgsdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzKSxyLlNQRUNVTEFSVEVSTSYmaC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUlRFUk0iKSxyLkRJRkZVU0VGUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDEsIkRJRkZVU0VGUkVTTkVMIiksci5PUEFDSVRZRlJFU05FTCYmaC5hZGRGYWxsYmFjaygyLCJPUEFDSVRZRlJFU05FTCIpLHIuUkVGTEVDVElPTkZSRVNORUwmJmguYWRkRmFsbGJhY2soMywiUkVGTEVDVElPTkZSRVNORUwiKSxyLkVNSVNTSVZFRlJFU05FTCYmaC5hZGRGYWxsYmFjayg0LCJFTUlTU0lWRUZSRVNORUwiKSxyLkZSRVNORUwmJmguYWRkRmFsbGJhY2soNCwiRlJFU05FTCIpLHIuTVVMVElWSUVXJiZoLmFkZEZhbGxiYWNrKDAsIk1VTFRJVklFVyIpO2NvbnN0IGw9W3AuUG9zaXRpb25LaW5kXTtyLk5PUk1BTCYmbC5wdXNoKHAuTm9ybWFsS2luZCksci5UQU5HRU5UJiZsLnB1c2gocC5UYW5nZW50S2luZCk7Zm9yKGxldCBSPTE7Ujw9NjsrK1IpclsiVVYiK1JdJiZsLnB1c2goYHV2JHtSPT09MT8iIjpSfWApO3IuVkVSVEVYQ09MT1ImJmwucHVzaChwLkNvbG9yS2luZCksZWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhsLGUscixoKSxlZS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhsLHIpLGVlLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGwsZSxyKSxlZS5QcmVwYXJlQXR0cmlidXRlc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGwsZSxyKTtsZXQgdT0iZGVmYXVsdCI7Y29uc3QgZj1bIndvcmxkIiwidmlldyIsInZpZXdQcm9qZWN0aW9uIiwidkV5ZVBvc2l0aW9uIiwidkxpZ2h0c1R5cGUiLCJ2QW1iaWVudENvbG9yIiwidkRpZmZ1c2VDb2xvciIsInZTcGVjdWxhckNvbG9yIiwidkVtaXNzaXZlQ29sb3IiLCJ2aXNpYmlsaXR5IiwidkZvZ0luZm9zIiwidkZvZ0NvbG9yIiwicG9pbnRTaXplIiwidkRpZmZ1c2VJbmZvcyIsInZBbWJpZW50SW5mb3MiLCJ2T3BhY2l0eUluZm9zIiwidlJlZmxlY3Rpb25JbmZvcyIsInZFbWlzc2l2ZUluZm9zIiwidlNwZWN1bGFySW5mb3MiLCJ2QnVtcEluZm9zIiwidkxpZ2h0bWFwSW5mb3MiLCJ2UmVmcmFjdGlvbkluZm9zIiwibUJvbmVzIiwidkNsaXBQbGFuZSIsInZDbGlwUGxhbmUyIiwidkNsaXBQbGFuZTMiLCJ2Q2xpcFBsYW5lNCIsInZDbGlwUGxhbmU1IiwidkNsaXBQbGFuZTYiLCJkaWZmdXNlTWF0cml4IiwiYW1iaWVudE1hdHJpeCIsIm9wYWNpdHlNYXRyaXgiLCJyZWZsZWN0aW9uTWF0cml4IiwiZW1pc3NpdmVNYXRyaXgiLCJzcGVjdWxhck1hdHJpeCIsImJ1bXBNYXRyaXgiLCJub3JtYWxNYXRyaXgiLCJsaWdodG1hcE1hdHJpeCIsInJlZnJhY3Rpb25NYXRyaXgiLCJkaWZmdXNlTGVmdENvbG9yIiwiZGlmZnVzZVJpZ2h0Q29sb3IiLCJvcGFjaXR5UGFydHMiLCJyZWZsZWN0aW9uTGVmdENvbG9yIiwicmVmbGVjdGlvblJpZ2h0Q29sb3IiLCJlbWlzc2l2ZUxlZnRDb2xvciIsImVtaXNzaXZlUmlnaHRDb2xvciIsInJlZnJhY3Rpb25MZWZ0Q29sb3IiLCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsInZSZWZsZWN0aW9uUG9zaXRpb24iLCJ2UmVmbGVjdGlvblNpemUiLCJ2UmVmcmFjdGlvblBvc2l0aW9uIiwidlJlZnJhY3Rpb25TaXplIiwibG9nYXJpdGhtaWNEZXB0aENvbnN0YW50IiwidlRhbmdlbnRTcGFjZVBhcmFtcyIsImFscGhhQ3V0T2ZmIiwiYm9uZVRleHR1cmVXaWR0aCIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl0sZD1bImRpZmZ1c2VTYW1wbGVyIiwiYW1iaWVudFNhbXBsZXIiLCJvcGFjaXR5U2FtcGxlciIsInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsInJlZmxlY3Rpb24yRFNhbXBsZXIiLCJlbWlzc2l2ZVNhbXBsZXIiLCJzcGVjdWxhclNhbXBsZXIiLCJidW1wU2FtcGxlciIsImxpZ2h0bWFwU2FtcGxlciIsInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsInJlZnJhY3Rpb24yRFNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyIsIm9pdERlcHRoU2FtcGxlciIsIm9pdEZyb250Q29sb3JTYW1wbGVyIl0sXz1bIk1hdGVyaWFsIiwiU2NlbmUiLCJNZXNoIl07dGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrcz1oLHRoaXMuX2V2ZW50SW5mby5mYWxsYmFja1Jhbms9MCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby51bmlmb3Jtcz1mLHRoaXMuX2V2ZW50SW5mby5hdHRyaWJ1dGVzPWwsdGhpcy5fZXZlbnRJbmZvLnNhbXBsZXJzPWQsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1CdWZmZXJzTmFtZXM9Xyx0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYygkZS5QcmVwYXJlRWZmZWN0LHRoaXMuX2V2ZW50SW5mbyksSXIuQWRkVW5pZm9ybXMoZiksbWUmJihtZS5QcmVwYXJlVW5pZm9ybXMoZixyKSxtZS5QcmVwYXJlU2FtcGxlcnMoZCxyKSksZWUuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOmYsdW5pZm9ybUJ1ZmZlcnNOYW1lczpfLHNhbXBsZXJzOmQsZGVmaW5lczpyLG1heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHN9KTtjb25zdCBFPXt9O3RoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUmJih1PXRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUodSxmLF8sZCxyLGwsRSkpO2NvbnN0IG09ci50b1N0cmluZygpLFQ9dC5lZmZlY3Q7bGV0IGI9cy5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QodSx7YXR0cmlidXRlczpsLHVuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOl8sc2FtcGxlcnM6ZCxkZWZpbmVzOm0sZmFsbGJhY2tzOmgsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6dGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzLG1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSU30scHJvY2Vzc0ZpbmFsQ29kZTpFLnByb2Nlc3NGaW5hbENvZGUscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlLG11bHRpVGFyZ2V0OnIuUFJFUEFTU30sbik7aWYoYilpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYoQnMuZWZmZWN0PWIsQnMuc3ViTWVzaD10LHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKEJzKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZUJiYhYi5pc1JlYWR5KCkpe2lmKGI9VCxyLm1hcmtBc1VucHJvY2Vzc2VkKCksbylyZXR1cm4gci5fYXJlTGlnaHRzRGlzcG9zZWQ9ITAsITF9ZWxzZSBzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0LnNldEVmZmVjdChiLHIsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hdC5lZmZlY3R8fCF0LmVmZmVjdC5pc1JlYWR5KCk/ITE6KHIuX3JlbmRlcklkPXMuZ2V0UmVuZGVySWQoKSx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9aSxzLnBlcmZvcm1hbmNlUHJpb3JpdHkhPT1saS5CYWNrd2FyZENvbXBhdGlibGUmJnRoaXMuZnJlZXplKCksITApfWJ1aWxkVW5pZm9ybUxheW91dCgpe2NvbnN0IGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjtlLmFkZFVuaWZvcm0oImRpZmZ1c2VMZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgiZGlmZnVzZVJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgib3BhY2l0eVBhcnRzIiw0KSxlLmFkZFVuaWZvcm0oInJlZmxlY3Rpb25MZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvbkxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJlbWlzc2l2ZUxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgidkRpZmZ1c2VJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2QW1iaWVudEluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZPcGFjaXR5SW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25JbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblBvc2l0aW9uIiwzKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uU2l6ZSIsMyksZS5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2TGlnaHRtYXBJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2QnVtcEluZm9zIiwzKSxlLmFkZFVuaWZvcm0oImRpZmZ1c2VNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImFtYmllbnRNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oIm9wYWNpdHlNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInJlZmxlY3Rpb25NYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJsaWdodG1hcE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgic3BlY3VsYXJNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImJ1bXBNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInZUYW5nZW50U3BhY2VQYXJhbXMiLDIpLGUuYWRkVW5pZm9ybSgicG9pbnRTaXplIiwxKSxlLmFkZFVuaWZvcm0oImFscGhhQ3V0T2ZmIiwxKSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25NYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uSW5mb3MiLDQpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25Qb3NpdGlvbiIsMyksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblNpemUiLDMpLGUuYWRkVW5pZm9ybSgidlNwZWN1bGFyQ29sb3IiLDQpLGUuYWRkVW5pZm9ybSgidkVtaXNzaXZlQ29sb3IiLDMpLGUuYWRkVW5pZm9ybSgidkRpZmZ1c2VDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2QW1iaWVudENvbG9yIiwzKSxzdXBlci5idWlsZFVuaWZvcm1MYXlvdXQoKX1iaW5kRm9yU3ViTWVzaChlLHQsaSl7dmFyIGg7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkscj1pLm1hdGVyaWFsRGVmaW5lcztpZighcilyZXR1cm47Y29uc3Qgbj1pLmVmZmVjdDtpZighbilyZXR1cm47dGhpcy5fYWN0aXZlRWZmZWN0PW4sdC5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdChuLCJNZXNoIiksdC50cmFuc2ZlclRvRWZmZWN0KGUpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFRvRWZmZWN0KG4sIk1hdGVyaWFsIiksdGhpcy5wcmVQYXNzQ29uZmlndXJhdGlvbi5iaW5kRm9yU3ViTWVzaCh0aGlzLl9hY3RpdmVFZmZlY3Qscyx0LGUsdGhpcy5pc0Zyb3plbiksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksci5PQkpFQ1RTUEFDRV9OT1JNQUxNQVAmJihlLnRvTm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCksdGhpcy5iaW5kT25seU5vcm1hbE1hdHJpeCh0aGlzLl9ub3JtYWxNYXRyaXgpKTtjb25zdCBhPXRoaXMuX211c3RSZWJpbmQocyxuLHQudmlzaWJpbGl0eSk7ZWUuQmluZEJvbmVzUGFyYW1ldGVycyh0LG4pO2NvbnN0IG89dGhpcy5fdW5pZm9ybUJ1ZmZlcjtpZihhKXtpZih0aGlzLmJpbmRWaWV3UHJvamVjdGlvbihuKSwhby51c2VVYm98fCF0aGlzLmlzRnJvemVufHwhby5pc1N5bmMpe2lmKE8uRnJlc25lbEVuYWJsZWQmJnIuRlJFU05FTCYmKHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihvLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZUxlZnRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxvLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZVJpZ2h0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJm8udXBkYXRlQ29sb3I0KCJvcGFjaXR5UGFydHMiLG5ldyBpZSh0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuYmlhcyksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihvLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxvLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihvLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxvLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKG8udXBkYXRlQ29sb3I0KCJlbWlzc2l2ZUxlZnRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLG8udXBkYXRlQ29sb3I0KCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSkpLHMudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmTy5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJihvLnVwZGF0ZUZsb2F0MigidkRpZmZ1c2VJbmZvcyIsdGhpcy5fZGlmZnVzZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9kaWZmdXNlVGV4dHVyZS5sZXZlbCksZWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZGlmZnVzZVRleHR1cmUsbywiZGlmZnVzZSIpKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmTy5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJihvLnVwZGF0ZUZsb2F0MigidkFtYmllbnRJbmZvcyIsdGhpcy5fYW1iaWVudFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9hbWJpZW50VGV4dHVyZS5sZXZlbCksZWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYW1iaWVudFRleHR1cmUsbywiYW1iaWVudCIpKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmTy5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJihvLnVwZGF0ZUZsb2F0Migidk9wYWNpdHlJbmZvcyIsdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9vcGFjaXR5VGV4dHVyZS5sZXZlbCksZWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fb3BhY2l0eVRleHR1cmUsbywib3BhY2l0eSIpKSx0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmby51cGRhdGVGbG9hdCgiYWxwaGFDdXRPZmYiLHRoaXMuYWxwaGFDdXRPZmYpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZPLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKG8udXBkYXRlRmxvYXQyKCJ2UmVmbGVjdGlvbkluZm9zIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLnJvdWdobmVzcyksby51cGRhdGVNYXRyaXgoInJlZmxlY3Rpb25NYXRyaXgiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSkpe2NvbnN0IGw9dGhpcy5fcmVmbGVjdGlvblRleHR1cmU7by51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblBvc2l0aW9uIixsLmJvdW5kaW5nQm94UG9zaXRpb24pLG8udXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25TaXplIixsLmJvdW5kaW5nQm94U2l6ZSl9aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZPLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJihvLnVwZGF0ZUZsb2F0MigidkVtaXNzaXZlSW5mb3MiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5sZXZlbCksZWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZW1pc3NpdmVUZXh0dXJlLG8sImVtaXNzaXZlIikpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmTy5MaWdodG1hcFRleHR1cmVFbmFibGVkJiYoby51cGRhdGVGbG9hdDIoInZMaWdodG1hcEluZm9zIix0aGlzLl9saWdodG1hcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9saWdodG1hcFRleHR1cmUubGV2ZWwpLGVlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxvLCJsaWdodG1hcCIpKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJk8uU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmKG8udXBkYXRlRmxvYXQyKCJ2U3BlY3VsYXJJbmZvcyIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmxldmVsKSxlZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9zcGVjdWxhclRleHR1cmUsbywic3BlY3VsYXIiKSksdGhpcy5fYnVtcFRleHR1cmUmJnMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJk8uQnVtcFRleHR1cmVFbmFibGVkJiYoby51cGRhdGVGbG9hdDMoInZCdW1wSW5mb3MiLHRoaXMuX2J1bXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsMS90aGlzLl9idW1wVGV4dHVyZS5sZXZlbCx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzKSxlZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9idW1wVGV4dHVyZSxvLCJidW1wIikscy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj9vLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8xOi0xLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/MTotMSk6by51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/LTE6MSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPy0xOjEpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmTy5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpe2xldCBsPTE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlfHwoby51cGRhdGVNYXRyaXgoInJlZnJhY3Rpb25NYXRyaXgiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoJiYobD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCkpLG8udXBkYXRlRmxvYXQ0KCJ2UmVmcmFjdGlvbkluZm9zIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uLGwsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT8tMToxKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpe2NvbnN0IHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmU7by51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblBvc2l0aW9uIix1LmJvdW5kaW5nQm94UG9zaXRpb24pLG8udXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25TaXplIix1LmJvdW5kaW5nQm94U2l6ZSl9fX10aGlzLnBvaW50c0Nsb3VkJiZvLnVwZGF0ZUZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSxyLlNQRUNVTEFSVEVSTSYmby51cGRhdGVDb2xvcjQoInZTcGVjdWxhckNvbG9yIix0aGlzLnNwZWN1bGFyQ29sb3IsdGhpcy5zcGVjdWxhclBvd2VyKSxvLnVwZGF0ZUNvbG9yMygidkVtaXNzaXZlQ29sb3IiLE8uRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD90aGlzLmVtaXNzaXZlQ29sb3I6aWUuQmxhY2tSZWFkT25seSksby51cGRhdGVDb2xvcjQoInZEaWZmdXNlQ29sb3IiLHRoaXMuZGlmZnVzZUNvbG9yLHRoaXMuYWxwaGEpLHMuYW1iaWVudENvbG9yLm11bHRpcGx5VG9SZWYodGhpcy5hbWJpZW50Q29sb3IsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKSxvLnVwZGF0ZUNvbG9yMygidkFtYmllbnRDb2xvciIsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKX1zLnRleHR1cmVzRW5hYmxlZCYmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZPLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmbi5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZPLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmbi5zZXRUZXh0dXJlKCJhbWJpZW50U2FtcGxlciIsdGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZPLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmbi5zZXRUZXh0dXJlKCJvcGFjaXR5U2FtcGxlciIsdGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZPLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZT9uLnNldFRleHR1cmUoInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpOm4uc2V0VGV4dHVyZSgicmVmbGVjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJk8uRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmbi5zZXRUZXh0dXJlKCJlbWlzc2l2ZVNhbXBsZXIiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZPLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJm4uc2V0VGV4dHVyZSgibGlnaHRtYXBTYW1wbGVyIix0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmTy5TcGVjdWxhclRleHR1cmVFbmFibGVkJiZuLnNldFRleHR1cmUoInNwZWN1bGFyU2FtcGxlciIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmTy5CdW1wVGV4dHVyZUVuYWJsZWQmJm4uc2V0VGV4dHVyZSgiYnVtcFNhbXBsZXIiLHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmTy5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmU/bi5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKTpuLnNldFRleHR1cmUoInJlZnJhY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSkpLHRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZ0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KSYmdGhpcy5nZXRTY2VuZSgpLmRlcHRoUGVlbGluZ1JlbmRlcmVyLmJpbmQobiksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxlZS5CaW5kQ2xpcFBsYW5lKG4scyksdGhpcy5iaW5kRXllUG9zaXRpb24obil9ZWxzZSBzLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5uZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnMmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITApOyhhfHwhdGhpcy5pc0Zyb3plbikmJihzLmxpZ2h0c0VuYWJsZWQmJiF0aGlzLl9kaXNhYmxlTGlnaHRpbmcmJmVlLkJpbmRMaWdodHMocyx0LG4scix0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLChzLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJnMuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlfHx0LnJlY2VpdmVTaGFkb3dzfHxyLlBSRVBBU1MpJiZ0aGlzLmJpbmRWaWV3KG4pLGVlLkJpbmRGb2dQYXJhbWV0ZXJzKHMsdCxuKSxyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmZWUuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyh0LG4pLHIuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKGg9dC5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT1udWxsfHxoLmJpbmQobixyLklOU1RBTkNFUykpLHRoaXMudXNlTG9nYXJpdGhtaWNEZXB0aCYmZWUuQmluZExvZ0RlcHRoKHIsbixzKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYhdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzLl9hY3RpdmVFZmZlY3QpKSx0aGlzLl9hZnRlckJpbmQodCx0aGlzLl9hY3RpdmVFZmZlY3QpLG8udXBkYXRlKCl9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPXN1cGVyLmdldEFuaW1hdGFibGVzKCk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZ0aGlzLl9hbWJpZW50VGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9hbWJpZW50VGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJnRoaXMuX3NwZWN1bGFyVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnRoaXMuX2J1bXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2J1bXBUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZ0aGlzLl9saWdodG1hcFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLGV9Z2V0QWN0aXZlVGV4dHVyZXMoKXtjb25zdCBlPXN1cGVyLmdldEFjdGl2ZVRleHR1cmVzKCk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZlLnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJmUucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZlLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLGV9aGFzVGV4dHVyZShlKXtyZXR1cm4hIShzdXBlci5oYXNUZXh0dXJlKGUpfHx0aGlzLl9kaWZmdXNlVGV4dHVyZT09PWV8fHRoaXMuX2FtYmllbnRUZXh0dXJlPT09ZXx8dGhpcy5fb3BhY2l0eVRleHR1cmU9PT1lfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZT09PWV8fHRoaXMuX2VtaXNzaXZlVGV4dHVyZT09PWV8fHRoaXMuX3NwZWN1bGFyVGV4dHVyZT09PWV8fHRoaXMuX2J1bXBUZXh0dXJlPT09ZXx8dGhpcy5fbGlnaHRtYXBUZXh0dXJlPT09ZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmU9PT1lKX1kaXNwb3NlKGUsdCl7dmFyIGkscyxyLG4sYSxvLGgsbCx1O3QmJigoaT10aGlzLl9kaWZmdXNlVGV4dHVyZSk9PW51bGx8fGkuZGlzcG9zZSgpLChzPXRoaXMuX2FtYmllbnRUZXh0dXJlKT09bnVsbHx8cy5kaXNwb3NlKCksKHI9dGhpcy5fb3BhY2l0eVRleHR1cmUpPT1udWxsfHxyLmRpc3Bvc2UoKSwobj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk9PW51bGx8fG4uZGlzcG9zZSgpLChhPXRoaXMuX2VtaXNzaXZlVGV4dHVyZSk9PW51bGx8fGEuZGlzcG9zZSgpLChvPXRoaXMuX3NwZWN1bGFyVGV4dHVyZSk9PW51bGx8fG8uZGlzcG9zZSgpLChoPXRoaXMuX2J1bXBUZXh0dXJlKT09bnVsbHx8aC5kaXNwb3NlKCksKGw9dGhpcy5fbGlnaHRtYXBUZXh0dXJlKT09bnVsbHx8bC5kaXNwb3NlKCksKHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUpPT1udWxsfHx1LmRpc3Bvc2UoKSksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksc3VwZXIuZGlzcG9zZShlLHQpfWNsb25lKGUpe2NvbnN0IHQ9cmUuQ2xvbmUoKCk9Pm5ldyBPKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKTtyZXR1cm4gdC5uYW1lPWUsdC5pZD1lLHRoaXMuc3RlbmNpbC5jb3B5VG8odC5zdGVuY2lsKSx0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1yZS5QYXJzZSgoKT0+bmV3IE8oZS5uYW1lLHQpLGUsdCxpKTtyZXR1cm4gZS5zdGVuY2lsJiZzLnN0ZW5jaWwucGFyc2UoZS5zdGVuY2lsLHQsaSksc31zdGF0aWMgZ2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoZSl7Y2UuRGlmZnVzZVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBEZXRhaWxUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5EZXRhaWxUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERldGFpbFRleHR1cmVFbmFibGVkKGUpe2NlLkRldGFpbFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuQW1iaWVudFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKGUpe2NlLkFtYmllbnRUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZChlKXtjZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7Y2UuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKGUpe2NlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoZSl7Y2UuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkJ1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEJ1bXBUZXh0dXJlRW5hYmxlZChlKXtjZS5CdW1wVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoZSl7Y2UuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZChlKXtjZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoZSl7Y2UuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEZyZXNuZWxFbmFibGVkKCl7cmV0dXJuIGNlLkZyZXNuZWxFbmFibGVkfXN0YXRpYyBzZXQgRnJlc25lbEVuYWJsZWQoZSl7Y2UuRnJlc25lbEVuYWJsZWQ9ZX19UyhbcHQoImRpZmZ1c2VUZXh0dXJlIildLE8ucHJvdG90eXBlLCJfZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxPLnByb3RvdHlwZSwiZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksUyhbcHQoImFtYmllbnRUZXh0dXJlIildLE8ucHJvdG90eXBlLCJfYW1iaWVudFRleHR1cmUiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJhbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxTKFtwdCgib3BhY2l0eVRleHR1cmUiKV0sTy5wcm90b3R5cGUsIl9vcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLE8ucHJvdG90eXBlLCJvcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxTKFtwdCgicmVmbGVjdGlvblRleHR1cmUiKV0sTy5wcm90b3R5cGUsIl9yZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTy5wcm90b3R5cGUsInJlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFMoW3B0KCJlbWlzc2l2ZVRleHR1cmUiKV0sTy5wcm90b3R5cGUsIl9lbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJlbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksUyhbcHQoInNwZWN1bGFyVGV4dHVyZSIpXSxPLnByb3RvdHlwZSwiX3NwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTy5wcm90b3R5cGUsInNwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxTKFtwdCgiYnVtcFRleHR1cmUiKV0sTy5wcm90b3R5cGUsIl9idW1wVGV4dHVyZSIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTy5wcm90b3R5cGUsImJ1bXBUZXh0dXJlIix2b2lkIDApLFMoW3B0KCJsaWdodG1hcFRleHR1cmUiKV0sTy5wcm90b3R5cGUsIl9saWdodG1hcFRleHR1cmUiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJsaWdodG1hcFRleHR1cmUiLHZvaWQgMCksUyhbcHQoInJlZnJhY3Rpb25UZXh0dXJlIildLE8ucHJvdG90eXBlLCJfcmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJyZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxTKFtvaSgiYW1iaWVudCIpXSxPLnByb3RvdHlwZSwiYW1iaWVudENvbG9yIix2b2lkIDApLFMoW29pKCJkaWZmdXNlIildLE8ucHJvdG90eXBlLCJkaWZmdXNlQ29sb3IiLHZvaWQgMCksUyhbb2koInNwZWN1bGFyIildLE8ucHJvdG90eXBlLCJzcGVjdWxhckNvbG9yIix2b2lkIDApLFMoW29pKCJlbWlzc2l2ZSIpXSxPLnByb3RvdHlwZSwiZW1pc3NpdmVDb2xvciIsdm9pZCAwKSxTKFtNKCldLE8ucHJvdG90eXBlLCJzcGVjdWxhclBvd2VyIix2b2lkIDApLFMoW00oInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIildLE8ucHJvdG90eXBlLCJfdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxPLnByb3RvdHlwZSwidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksUyhbTSgidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIpXSxPLnByb3RvdHlwZSwiX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFMoW00oImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIildLE8ucHJvdG90eXBlLCJfbGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxTKFtNKCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIpXSxPLnByb3RvdHlwZSwiX3VzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxPLnByb3RvdHlwZSwidXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksUyhbTSgidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIpXSxPLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFMoW00oImRpc2FibGVMaWdodGluZyIpXSxPLnByb3RvdHlwZSwiX2Rpc2FibGVMaWdodGluZyIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLE8ucHJvdG90eXBlLCJkaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksUyhbTSgidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiKV0sTy5wcm90b3R5cGUsIl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTy5wcm90b3R5cGUsInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFMoW00oInVzZVBhcmFsbGF4IildLE8ucHJvdG90eXBlLCJfdXNlUGFyYWxsYXgiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJ1c2VQYXJhbGxheCIsdm9pZCAwKSxTKFtNKCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIpXSxPLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxPLnByb3RvdHlwZSwidXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksUyhbTSgpXSxPLnByb3RvdHlwZSwicGFyYWxsYXhTY2FsZUJpYXMiLHZvaWQgMCksUyhbTSgicm91Z2huZXNzIildLE8ucHJvdG90eXBlLCJfcm91Z2huZXNzIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxPLnByb3RvdHlwZSwicm91Z2huZXNzIix2b2lkIDApLFMoW00oKV0sTy5wcm90b3R5cGUsImluZGV4T2ZSZWZyYWN0aW9uIix2b2lkIDApLFMoW00oKV0sTy5wcm90b3R5cGUsImludmVydFJlZnJhY3Rpb25ZIix2b2lkIDApLFMoW00oKV0sTy5wcm90b3R5cGUsImFscGhhQ3V0T2ZmIix2b2lkIDApLFMoW00oInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiKV0sTy5wcm90b3R5cGUsIl91c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxPLnByb3RvdHlwZSwidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxTKFtEaSgiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIildLE8ucHJvdG90eXBlLCJfZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLE8ucHJvdG90eXBlLCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksUyhbRGkoIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIpXSxPLnByb3RvdHlwZSwiX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxBbmRNaXNjRGlydHkiKV0sTy5wcm90b3R5cGUsIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxTKFtEaSgicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLE8ucHJvdG90eXBlLCJfcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLE8ucHJvdG90eXBlLCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksUyhbRGkoInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxPLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxPLnByb3RvdHlwZSwicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFMoW0RpKCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIildLE8ucHJvdG90eXBlLCJfZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxPLnByb3RvdHlwZSwiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxTKFtNKCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIpXSxPLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLE8ucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxTKFtNKCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiKV0sTy5wcm90b3R5cGUsIl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksUyhbTSgibWF4U2ltdWx0YW5lb3VzTGlnaHRzIildLE8ucHJvdG90eXBlLCJfbWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sTy5wcm90b3R5cGUsIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxTKFtNKCJpbnZlcnROb3JtYWxNYXBYIildLE8ucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxTKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTy5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksUyhbTSgiaW52ZXJ0Tm9ybWFsTWFwWSIpXSxPLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksUyhbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE8ucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFMoW00oInR3b1NpZGVkTGlnaHRpbmciKV0sTy5wcm90b3R5cGUsIl90d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFMoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxPLnByb3RvdHlwZSwidHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxTKFtNKCldLE8ucHJvdG90eXBlLCJ1c2VMb2dhcml0aG1pY0RlcHRoIixudWxsKSx0dCgiQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIixPKSxuZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5PWM9Pm5ldyBPKCJkZWZhdWx0IG1hdGVyaWFsIixjKTtjb25zdCB0bD0iaW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eSIsaWw9YCNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpnbF9GcmFnQ29sb3IucmdiPXBvdyhnbF9GcmFnQ29sb3IucmdiLHZlYzMoMi4yKSk7CiNlbmRpZgpgO04uSW5jbHVkZXNTaGFkZXJzU3RvcmVbdGxdPWlsO2NvbnN0IHNsPSJzaGFkb3dPbmx5UGl4ZWxTaGFkZXIiLHJsPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gZmxvYXQgYWxwaGE7CnVuaWZvcm0gdmVjMyBzaGFkb3dDb2xvcjsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPXZlYzMoMS4wLDEuMCwxLjApOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CmZsb2F0IHNoYWRvdz0xLjsKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4uMV0KdmVjNCBjb2xvcj12ZWM0KHNoYWRvd0NvbG9yLCgxLjAtY2xhbXAoc2hhZG93LDAuLDEuKSkqYWxwaGEpOwojaW5jbHVkZTxmb2dGcmFnbWVudD4KZ2xfRnJhZ0NvbG9yPWNvbG9yOwojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5PgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORAp9YDtOLlNoYWRlcnNTdG9yZVtzbF09cmw7Y29uc3Qgbmw9InNoYWRvd09ubHlWZXJ0ZXhTaGFkZXIiLGFsPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmZGVmIFZFUlRFWENPTE9SCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uLDEuMCk7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaWZkZWYgTk9STUFMCnZOb3JtYWxXPW5vcm1hbGl6ZSh2ZWMzKGZpbmFsV29ybGQqdmVjNChub3JtYWwsMC4wKSkpOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgojaW5jbHVkZTxmb2dWZXJ0ZXg+CiNpbmNsdWRlPHNoYWRvd3NWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO04uU2hhZGVyc1N0b3JlW25sXT1hbDtjbGFzcyBvbCBleHRlbmRzIHZze2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLkNMSVBQTEFORT0hMSx0aGlzLkNMSVBQTEFORTI9ITEsdGhpcy5DTElQUExBTkUzPSExLHRoaXMuQ0xJUFBMQU5FND0hMSx0aGlzLkNMSVBQTEFORTU9ITEsdGhpcy5DTElQUExBTkU2PSExLHRoaXMuUE9JTlRTSVpFPSExLHRoaXMuRk9HPSExLHRoaXMuTk9STUFMPSExLHRoaXMuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0aGlzLkJvbmVzUGVyTWVzaD0wLHRoaXMuSU5TVEFOQ0VTPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdGhpcy5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHRoaXMucmVidWlsZCgpfX1jbGFzcyBPaSBleHRlbmRzIFBye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCx0aGlzLnNoYWRvd0NvbG9yPWllLkJsYWNrKCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fbmVlZEFscGhhQmxlbmRpbmd9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiExfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gbnVsbH1nZXQgYWN0aXZlTGlnaHQoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTGlnaHR9c2V0IGFjdGl2ZUxpZ2h0KGUpe3RoaXMuX2FjdGl2ZUxpZ2h0PWV9X2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKGUpe2Zvcihjb25zdCB0IG9mIGUubGlnaHRTb3VyY2VzKWlmKHQuc2hhZG93RW5hYmxlZClyZXR1cm4gdDtyZXR1cm4gbnVsbH1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7dmFyIG87aWYodGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHkmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9PT1pKXJldHVybiEwO3QubWF0ZXJpYWxEZWZpbmVzfHwodC5tYXRlcmlhbERlZmluZXM9bmV3IG9sKTtjb25zdCBzPXQubWF0ZXJpYWxEZWZpbmVzLHI9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IG49ci5nZXRFbmdpbmUoKTtpZih0aGlzLl9hY3RpdmVMaWdodCl7Zm9yKGNvbnN0IGggb2YgZS5saWdodFNvdXJjZXMpaWYoaC5zaGFkb3dFbmFibGVkKXtpZih0aGlzLl9hY3RpdmVMaWdodD09PWgpYnJlYWs7Y29uc3QgbD1lLmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMuX2FjdGl2ZUxpZ2h0KTtsIT09LTEmJihlLmxpZ2h0U291cmNlcy5zcGxpY2UobCwxKSxlLmxpZ2h0U291cmNlcy5zcGxpY2UoMCwwLHRoaXMuX2FjdGl2ZUxpZ2h0KSk7YnJlYWt9fWVlLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhyLG4scywhIWkpLGVlLlByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHIsITEsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKGUpLHMpLHMuX25lZWROb3JtYWxzPWVlLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKHIsZSxzLCExLDEpO2NvbnN0IGE9KG89dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2goZSkpPT1udWxsP3ZvaWQgMDpvLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSEwLGEmJmEuZ2V0Q2xhc3NOYW1lJiZhLmdldENsYXNzTmFtZSgpPT09IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIil7Y29uc3QgaD1hO3RoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSFoLmF1dG9DYWxjRGVwdGhCb3VuZHN9aWYoZWUuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUscywhMSwhMCkscy5pc0RpcnR5KXtzLm1hcmtBc1Byb2Nlc3NlZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2NvbnN0IGg9bmV3IE5zO3MuRk9HJiZoLmFkZEZhbGxiYWNrKDEsIkZPRyIpLGVlLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocyxoLDEpLHMuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmaC5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsZSkscy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz1yLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzO2NvbnN0IGw9W3AuUG9zaXRpb25LaW5kXTtzLk5PUk1BTCYmbC5wdXNoKHAuTm9ybWFsS2luZCksZWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhsLGUscyxoKSxlZS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhsLHMpO2NvbnN0IHU9InNoYWRvd09ubHkiLGY9cy50b1N0cmluZygpLGQ9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkZvZ0luZm9zIiwidkZvZ0NvbG9yIiwicG9pbnRTaXplIiwiYWxwaGEiLCJzaGFkb3dDb2xvciIsIm1Cb25lcyIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2Il0sXz1uZXcgQXJyYXksRT1uZXcgQXJyYXk7ZWUuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOmQsdW5pZm9ybUJ1ZmZlcnNOYW1lczpFLHNhbXBsZXJzOl8sZGVmaW5lczpzLG1heFNpbXVsdGFuZW91c0xpZ2h0czoxfSksdC5zZXRFZmZlY3Qoci5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QodSx7YXR0cmlidXRlczpsLHVuaWZvcm1zTmFtZXM6ZCx1bmlmb3JtQnVmZmVyc05hbWVzOkUsc2FtcGxlcnM6XyxkZWZpbmVzOmYsZmFsbGJhY2tzOmgsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6MX19LG4pLHMsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hdC5lZmZlY3R8fCF0LmVmZmVjdC5pc1JlYWR5KCk/ITE6KHMuX3JlbmRlcklkPXIuZ2V0UmVuZGVySWQoKSx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9ISFpLCEwKX1iaW5kRm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkscj1pLm1hdGVyaWFsRGVmaW5lcztpZighcilyZXR1cm47Y29uc3Qgbj1pLmVmZmVjdDtpZighIW4pe2lmKHRoaXMuX2FjdGl2ZUVmZmVjdD1uLHRoaXMuYmluZE9ubHlXb3JsZE1hdHJpeChlKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIscy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksZWUuQmluZEJvbmVzUGFyYW1ldGVycyh0LHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fbXVzdFJlYmluZChzLG4pJiYoZWUuQmluZENsaXBQbGFuZSh0aGlzLl9hY3RpdmVFZmZlY3QscyksdGhpcy5wb2ludHNDbG91ZCYmdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoImFscGhhIix0aGlzLmFscGhhKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0Q29sb3IzKCJzaGFkb3dDb2xvciIsdGhpcy5zaGFkb3dDb2xvcikscy5iaW5kRXllUG9zaXRpb24obikpLHMubGlnaHRzRW5hYmxlZCl7ZWUuQmluZExpZ2h0cyhzLHQsdGhpcy5fYWN0aXZlRWZmZWN0LHIsMSk7Y29uc3QgYT10aGlzLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaCh0KTthJiYoYS5fcmVuZGVySWQ9LTEpfShzLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJnMuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORXx8ci5TSEFET1dDU00wKSYmdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlldyIscy5nZXRWaWV3TWF0cml4KCkpLGVlLkJpbmRGb2dQYXJhbWV0ZXJzKHMsdCx0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX2FmdGVyQmluZCh0LHRoaXMuX2FjdGl2ZUVmZmVjdCl9fWNsb25lKGUpe3JldHVybiByZS5DbG9uZSgoKT0+bmV3IE9pKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKX1zZXJpYWxpemUoKXtjb25zdCBlPXN1cGVyLnNlcmlhbGl6ZSgpO3JldHVybiBlLmN1c3RvbVR5cGU9IkJBQllMT04uU2hhZG93T25seU1hdGVyaWFsIixlfWdldENsYXNzTmFtZSgpe3JldHVybiJTaGFkb3dPbmx5TWF0ZXJpYWwifXN0YXRpYyBQYXJzZShlLHQsaSl7cmV0dXJuIHJlLlBhcnNlKCgpPT5uZXcgT2koZS5uYW1lLHQpLGUsdCxpKX19dHQoIkJBQllMT04uU2hhZG93T25seU1hdGVyaWFsIixPaSk7Y29uc3QgaGw9e2FzcGVjdDozMDAvMTUwLGVuYWJsZURlYnVnZ2luZzohMSxlbmFibGVTaGFkb3dzOiEwfTtjbGFzcyBsbHtjb25zdHJ1Y3RvcihlKXtTdCh0aGlzLCJzaXplIiw5LjUpO3RoaXMuY29uZmlnPXsuLi5obCwuLi5lfSx0aGlzLmNyZWF0ZSgpfWNyZWF0ZShlKXt0aGlzLmRlc3Ryb3koKSxPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLGUpO2NvbnN0e2FzcGVjdDp0LGVuYWJsZURlYnVnZ2luZzppPSEwLGVuYWJsZVNoYWRvd3M6c309dGhpcy5jb25maWcscj0zMDtsZXQgbjt0aGlzLmJveD1uZXcgJCgiZGljZUJveCIpLGk/KG49bmV3IE8oImRpY2VCb3hfbWF0ZXJpYWwiKSxuLmFscGhhPS43LG4uZGlmZnVzZUNvbG9yPW5ldyBpZSgxLDEsMCkpOnMmJihuPW5ldyBPaSgic2hhZG93T25seSIsdGhpcy5jb25maWcuc2NlbmUpKTtjb25zdCBhPVRpKCJncm91bmQiLHt3aWR0aDp0aGlzLnNpemUqMixoZWlnaHQ6MSxkZXB0aDp0aGlzLnNpemUqMn0sdGhpcy5jb25maWcuc2NlbmUpO2lmKGEuc2NhbGluZz1uZXcgZyh0LDEsMSksYS5tYXRlcmlhbD1uLGEucmVjZWl2ZVNoYWRvd3M9ITAsYS5zZXRQYXJlbnQodGhpcy5ib3gpLGkpe2NvbnN0IG89VGkoIndhbGxUb3AiLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OnIsZGVwdGg6MX0sdGhpcy5jb25maWcuc2NlbmUpO28ucG9zaXRpb24ueT1yLzIsby5wb3NpdGlvbi56PXRoaXMuc2l6ZS8tMixvLnNjYWxpbmc9bmV3IGcodCwxLDEpLG8ubWF0ZXJpYWw9bixvLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgaD1UaSgid2FsbFJpZ2h0Iix7d2lkdGg6MSxoZWlnaHQ6cixkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTtoLnBvc2l0aW9uLng9dGhpcy5zaXplKnQvMixoLnBvc2l0aW9uLnk9ci8yLGgubWF0ZXJpYWw9bixoLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgbD1UaSgid2FsbEJvdHRvbSIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6cixkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7bC5wb3NpdGlvbi55PXIvMixsLnBvc2l0aW9uLno9dGhpcy5zaXplLzIsbC5zY2FsaW5nPW5ldyBnKHQsMSwxKSxsLm1hdGVyaWFsPW4sbC5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IHU9VGkoIndhbGxMZWZ0Iix7d2lkdGg6MSxoZWlnaHQ6cixkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTt1LnBvc2l0aW9uLng9dGhpcy5zaXplKnQvLTIsdS5wb3NpdGlvbi55PXIvMix1Lm1hdGVyaWFsPW4sdS5zZXRQYXJlbnQodGhpcy5ib3gpfX1kZXN0cm95KCl7dGhpcy5ib3gmJnRoaXMuYm94LmRpc3Bvc2UoKX19dmFyIEp0OyhmdW5jdGlvbihjKXtjW2MuQ2xlYW49MF09IkNsZWFuIixjW2MuU3RvcD0xXT0iU3RvcCIsY1tjLlN5bmM9Ml09IlN5bmMiLGNbYy5Ob1N5bmM9M109Ik5vU3luYyJ9KShKdHx8KEp0PXt9KSk7Y2xhc3Mgb2V7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiBPZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbH1zdGF0aWMgc2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKGUpe09lLkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPWV9c3RhdGljIGdldCBTaG93TG9hZGluZ1NjcmVlbigpe3JldHVybiBPZS5TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe09lLlNob3dMb2FkaW5nU2NyZWVuPWV9c3RhdGljIGdldCBsb2dnaW5nTGV2ZWwoKXtyZXR1cm4gT2UubG9nZ2luZ0xldmVsfXN0YXRpYyBzZXQgbG9nZ2luZ0xldmVsKGUpe09lLmxvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiBPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfXN0YXRpYyBzZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyhlKXtPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPWV9c3RhdGljIEdldERlZmF1bHRQbHVnaW4oKXtyZXR1cm4gb2UuX1JlZ2lzdGVyZWRQbHVnaW5zWyIuYmFieWxvbiJdfXN0YXRpYyBfR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe2NvbnN0IHQ9b2UuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdO3JldHVybiB0fHwody5XYXJuKCJVbmFibGUgdG8gZmluZCBhIHBsdWdpbiB0byBsb2FkICIrZSsiIGZpbGVzLiBUcnlpbmcgdG8gdXNlIC5iYWJ5bG9uIGRlZmF1bHQgcGx1Z2luLiBUbyBsb2FkIGZyb20gYSBzcGVjaWZpYyBmaWxldHlwZSAoZWcuIGdsdGYpIHNlZTogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9ob3dfdG8vbG9hZF9mcm9tX2FueV9maWxlX3R5cGUiKSxvZS5HZXREZWZhdWx0UGx1Z2luKCkpfXN0YXRpYyBfR2V0UGx1Z2luRm9yRGlyZWN0TG9hZChlKXtmb3IoY29uc3QgdCBpbiBvZS5fUmVnaXN0ZXJlZFBsdWdpbnMpe2NvbnN0IGk9b2UuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdLnBsdWdpbjtpZihpLmNhbkRpcmVjdExvYWQmJmkuY2FuRGlyZWN0TG9hZChlKSlyZXR1cm4gb2UuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdfXJldHVybiBvZS5HZXREZWZhdWx0UGx1Z2luKCl9c3RhdGljIF9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlKXtjb25zdCB0PWUuaW5kZXhPZigiPyIpO3QhPT0tMSYmKGU9ZS5zdWJzdHJpbmcoMCx0KSk7Y29uc3QgaT1lLmxhc3RJbmRleE9mKCIuIikscz1lLnN1YnN0cmluZyhpLGUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBvZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKHMpfXN0YXRpYyBfR2V0RGlyZWN0TG9hZChlKXtyZXR1cm4gZS5zdWJzdHIoMCw1KT09PSJkYXRhOiI/ZS5zdWJzdHIoNSk6bnVsbH1zdGF0aWMgX0Zvcm1hdEVycm9yTWVzc2FnZShlLHQsaSl7bGV0IHM9IlVuYWJsZSB0byBsb2FkIGZyb20gIitlLnVybDtyZXR1cm4gdD9zKz1gOiAke3R9YDppJiYocys9YDogJHtpfWApLHN9c3RhdGljIF9Mb2FkRGF0YShlLHQsaSxzLHIsbixhKXtjb25zdCBvPW9lLl9HZXREaXJlY3RMb2FkKGUudXJsKSxoPWE/b2UuX0dldFBsdWdpbkZvckV4dGVuc2lvbihhKTpvP29lLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUudXJsKTpvZS5fR2V0UGx1Z2luRm9yRmlsZW5hbWUoZS51cmwpO2xldCBsO2lmKGgucGx1Z2luLmNyZWF0ZVBsdWdpbiE9PXZvaWQgMD9sPWgucGx1Z2luLmNyZWF0ZVBsdWdpbigpOmw9aC5wbHVnaW4sIWwpdGhyb3ciVGhlIGxvYWRlciBwbHVnaW4gY29ycmVzcG9uZGluZyB0byB0aGUgZmlsZSB0eXBlIHlvdSBhcmUgdHJ5aW5nIHRvIGxvYWQgaGFzIG5vdCBiZWVuIGZvdW5kLiBJZiB1c2luZyBlczYsIHBsZWFzZSBpbXBvcnQgdGhlIHBsdWdpbiB5b3Ugd2lzaCB0byB1c2UgYmVmb3JlLiI7aWYob2UuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKSxvJiYobC5jYW5EaXJlY3RMb2FkJiZsLmNhbkRpcmVjdExvYWQoZS51cmwpfHwhU3MoZS51cmwpKSl7aWYobC5kaXJlY3RMb2FkKXtjb25zdCBSPWwuZGlyZWN0TG9hZCh0LG8pO1IudGhlbj9SLnRoZW4oeT0+e2kobCx5KX0pLmNhdGNoKHk9PntyKCJFcnJvciBpbiBkaXJlY3RMb2FkIG9mIF9sb2FkRGF0YTogIit5LHkpfSk6aShsLFIpfWVsc2UgaShsLG8pO3JldHVybiBsfWNvbnN0IHU9aC5pc0JpbmFyeSxmPShSLHkpPT57aWYodC5pc0Rpc3Bvc2VkKXtyKCJTY2VuZSBoYXMgYmVlbiBkaXNwb3NlZCIpO3JldHVybn1pKGwsUix5KX07bGV0IGQ9bnVsbCxfPSExO2NvbnN0IEU9bC5vbkRpc3Bvc2VPYnNlcnZhYmxlO0UmJkUuYWRkKCgpPT57Xz0hMCxkJiYoZC5hYm9ydCgpLGQ9bnVsbCksbigpfSk7Y29uc3QgbT0oKT0+e2lmKF8pcmV0dXJuO2NvbnN0IFI9KEQsdik9PntyKEQ9PW51bGw/dm9pZCAwOkQuc3RhdHVzVGV4dCx2KX0seT1lLmZpbGV8fGUudXJsO2Q9bC5sb2FkRmlsZT9sLmxvYWRGaWxlKHQseSxmLHMsdSxSKTp0Ll9sb2FkRmlsZSh5LGYscywhMCx1LFIpfSxUPXQuZ2V0RW5naW5lKCk7bGV0IGI9VC5lbmFibGVPZmZsaW5lU3VwcG9ydDtpZihiKXtsZXQgUj0hMTtmb3IoY29uc3QgeSBvZiB0LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzKWlmKHkudGVzdChlLnVybCkpe1I9ITA7YnJlYWt9Yj0hUn1yZXR1cm4gYiYmQy5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5P3Qub2ZmbGluZVByb3ZpZGVyPUMuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCxtLFQuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOm0oKSxsfXN0YXRpYyBfR2V0RmlsZUluZm8oZSx0KXtsZXQgaSxzLHI9bnVsbDtpZighdClpPWUscz1VLkdldEZpbGVuYW1lKGUpLGU9VS5HZXRGb2xkZXJQYXRoKGUpO2Vsc2UgaWYodC5uYW1lKXtjb25zdCBuPXQ7aT1gZmlsZToke24ubmFtZX1gLHM9bi5uYW1lLHI9bn1lbHNlIGlmKHR5cGVvZiB0PT0ic3RyaW5nIiYmdC5zdGFydHNXaXRoKCJkYXRhOiIpKWk9dCxzPSIiO2Vsc2V7Y29uc3Qgbj10O2lmKG4uc3Vic3RyKDAsMSk9PT0iLyIpcmV0dXJuIFUuRXJyb3IoIldyb25nIHNjZW5lRmlsZW5hbWUgcGFyYW1ldGVyIiksbnVsbDtpPWUrbixzPW59cmV0dXJue3VybDppLHJvb3RVcmw6ZSxuYW1lOnMsZmlsZTpyfX1zdGF0aWMgR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe3JldHVybiBvZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpLnBsdWdpbn1zdGF0aWMgSXNQbHVnaW5Gb3JFeHRlbnNpb25BdmFpbGFibGUoZSl7cmV0dXJuISFvZS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV19c3RhdGljIFJlZ2lzdGVyUGx1Z2luKGUpe2lmKHR5cGVvZiBlLmV4dGVuc2lvbnM9PSJzdHJpbmciKXtjb25zdCB0PWUuZXh0ZW5zaW9ucztvZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdC50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6ITF9fWVsc2V7Y29uc3QgdD1lLmV4dGVuc2lvbnM7T2JqZWN0LmtleXModCkuZm9yRWFjaChpPT57b2UuX1JlZ2lzdGVyZWRQbHVnaW5zW2kudG9Mb3dlckNhc2UoKV09e3BsdWdpbjplLGlzQmluYXJ5OnRbaV0uaXNCaW5hcnl9fSl9fXN0YXRpYyBJbXBvcnRNZXNoKGUsdCxpPSIiLHM9ZGUuTGFzdENyZWF0ZWRTY2VuZSxyPW51bGwsbj1udWxsLGE9bnVsbCxvPW51bGwpe2lmKCFzKXJldHVybiB3LkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gaW1wb3J0IG1lc2ggdG8iKSxudWxsO2NvbnN0IGg9b2UuX0dldEZpbGVJbmZvKHQsaSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgbD17fTtzLmFkZFBlbmRpbmdEYXRhKGwpO2NvbnN0IHU9KCk9PntzLnJlbW92ZVBlbmRpbmdEYXRhKGwpfSxmPShFLG0pPT57Y29uc3QgVD1vZS5fRm9ybWF0RXJyb3JNZXNzYWdlKGgsRSxtKTthP2EocyxULG5ldyBMdChULHJpLlNjZW5lTG9hZGVyRXJyb3IsbSkpOncuRXJyb3IoVCksdSgpfSxkPW4/RT0+e3RyeXtuKEUpfWNhdGNoKG0pe2YoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2s6ICIrbSxtKX19OnZvaWQgMCxfPShFLG0sVCxiLFIseSxEKT0+e2lmKHMuaW1wb3J0ZWRNZXNoZXNGaWxlcy5wdXNoKGgudXJsKSxyKXRyeXtyKEUsbSxULGIsUix5LEQpfWNhdGNoKHYpe2YoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjazogIit2LHYpfXMucmVtb3ZlUGVuZGluZ0RhdGEobCl9O3JldHVybiBvZS5fTG9hZERhdGEoaCxzLChFLG0sVCk9PntpZihFLnJld3JpdGVSb290VVJMJiYoaC5yb290VXJsPUUucmV3cml0ZVJvb3RVUkwoaC5yb290VXJsLFQpKSxFLmltcG9ydE1lc2gpe2NvbnN0IGI9RSxSPW5ldyBBcnJheSx5PW5ldyBBcnJheSxEPW5ldyBBcnJheTtpZighYi5pbXBvcnRNZXNoKGUscyxtLGgucm9vdFVybCxSLHksRCxmKSlyZXR1cm47cy5sb2FkaW5nUGx1Z2luTmFtZT1FLm5hbWUsXyhSLHksRCxbXSxbXSxbXSxbXSl9ZWxzZSBFLmltcG9ydE1lc2hBc3luYyhlLHMsbSxoLnJvb3RVcmwsZCxoLm5hbWUpLnRoZW4oUj0+e3MubG9hZGluZ1BsdWdpbk5hbWU9RS5uYW1lLF8oUi5tZXNoZXMsUi5wYXJ0aWNsZVN5c3RlbXMsUi5za2VsZXRvbnMsUi5hbmltYXRpb25Hcm91cHMsUi50cmFuc2Zvcm1Ob2RlcyxSLmdlb21ldHJpZXMsUi5saWdodHMpfSkuY2F0Y2goUj0+e2YoUi5tZXNzYWdlLFIpfSl9LGQsZix1LG8pfXN0YXRpYyBJbXBvcnRNZXNoQXN5bmMoZSx0LGk9IiIscz1kZS5MYXN0Q3JlYXRlZFNjZW5lLHI9bnVsbCxuPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgoYSxvKT0+e29lLkltcG9ydE1lc2goZSx0LGkscywoaCxsLHUsZixkLF8sRSk9PnthKHttZXNoZXM6aCxwYXJ0aWNsZVN5c3RlbXM6bCxza2VsZXRvbnM6dSxhbmltYXRpb25Hcm91cHM6Zix0cmFuc2Zvcm1Ob2RlczpkLGdlb21ldHJpZXM6XyxsaWdodHM6RX0pfSxyLChoLGwsdSk9PntvKHV8fG5ldyBFcnJvcihsKSl9LG4pfSl9c3RhdGljIExvYWQoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCxuPW51bGwsYT1udWxsKXtyZXR1cm4gaT9vZS5BcHBlbmQoZSx0LG5ldyBuZShpKSxzLHIsbixhKTooVS5FcnJvcigiTm8gZW5naW5lIGF2YWlsYWJsZSIpLG51bGwpfXN0YXRpYyBMb2FkQXN5bmMoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57b2UuTG9hZChlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBBcHBlbmQoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe2lmKCFpKXJldHVybiB3LkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gYXBwZW5kIHRvIiksbnVsbDtjb25zdCBvPW9lLl9HZXRGaWxlSW5mbyhlLHQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGg9e307aS5hZGRQZW5kaW5nRGF0YShoKTtjb25zdCBsPSgpPT57aS5yZW1vdmVQZW5kaW5nRGF0YShoKX07b2UuU2hvd0xvYWRpbmdTY3JlZW4mJiF0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbiYmKHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSEwLGkuZ2V0RW5naW5lKCkuZGlzcGxheUxvYWRpbmdVSSgpLGkuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e2kuZ2V0RW5naW5lKCkuaGlkZUxvYWRpbmdVSSgpLHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExfSkpO2NvbnN0IHU9KF8sRSk9Pntjb25zdCBtPW9lLl9Gb3JtYXRFcnJvck1lc3NhZ2UobyxfLEUpO24/bihpLG0sbmV3IEx0KG0scmkuU2NlbmVMb2FkZXJFcnJvcixFKSk6dy5FcnJvcihtKSxsKCl9LGY9cj9fPT57dHJ5e3IoXyl9Y2F0Y2goRSl7dSgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsRSl9fTp2b2lkIDAsZD0oKT0+e2lmKHMpdHJ5e3MoaSl9Y2F0Y2goXyl7dSgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixfKX1pLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtyZXR1cm4gb2UuX0xvYWREYXRhKG8saSwoXyxFKT0+e2lmKF8ubG9hZCl7aWYoIV8ubG9hZChpLEUsby5yb290VXJsLHUpKXJldHVybjtpLmxvYWRpbmdQbHVnaW5OYW1lPV8ubmFtZSxkKCl9ZWxzZSBfLmxvYWRBc3luYyhpLEUsby5yb290VXJsLGYsby5uYW1lKS50aGVuKCgpPT57aS5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUsZCgpfSkuY2F0Y2goVD0+e3UoVC5tZXNzYWdlLFQpfSl9LGYsdSxsLGEpfXN0YXRpYyBBcHBlbmRBc3luYyhlLHQ9IiIsaT1kZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e29lLkFwcGVuZChlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBMb2FkQXNzZXRDb250YWluZXIoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe2lmKCFpKXJldHVybiB3LkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhc3NldCBjb250YWluZXIgdG8iKSxudWxsO2NvbnN0IG89b2UuX0dldEZpbGVJbmZvKGUsdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgaD17fTtpLmFkZFBlbmRpbmdEYXRhKGgpO2NvbnN0IGw9KCk9PntpLnJlbW92ZVBlbmRpbmdEYXRhKGgpfSx1PShfLEUpPT57Y29uc3QgbT1vZS5fRm9ybWF0RXJyb3JNZXNzYWdlKG8sXyxFKTtuP24oaSxtLG5ldyBMdChtLHJpLlNjZW5lTG9hZGVyRXJyb3IsRSkpOncuRXJyb3IobSksbCgpfSxmPXI/Xz0+e3RyeXtyKF8pfWNhdGNoKEUpe3UoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLEUpfX06dm9pZCAwLGQ9Xz0+e2lmKHMpdHJ5e3MoXyl9Y2F0Y2goRSl7dSgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixFKX1pLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtyZXR1cm4gb2UuX0xvYWREYXRhKG8saSwoXyxFKT0+e2lmKF8ubG9hZEFzc2V0Q29udGFpbmVyKXtjb25zdCBUPV8ubG9hZEFzc2V0Q29udGFpbmVyKGksRSxvLnJvb3RVcmwsdSk7aWYoIVQpcmV0dXJuO2kubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLGQoVCl9ZWxzZSBfLmxvYWRBc3NldENvbnRhaW5lckFzeW5jP18ubG9hZEFzc2V0Q29udGFpbmVyQXN5bmMoaSxFLG8ucm9vdFVybCxmLG8ubmFtZSkudGhlbihUPT57aS5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUsZChUKX0pLmNhdGNoKFQ9Pnt1KFQubWVzc2FnZSxUKX0pOnUoIkxvYWRBc3NldENvbnRhaW5lciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGx1Z2luLiBQbHVnaW4gZGlkIG5vdCBwcm92aWRlIGEgbG9hZEFzc2V0Q29udGFpbmVyIG9yIGxvYWRBc3NldENvbnRhaW5lckFzeW5jIG1ldGhvZC4iKX0sZix1LGwsYSl9c3RhdGljIExvYWRBc3NldENvbnRhaW5lckFzeW5jKGUsdD0iIixpPWRlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57b2UuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIEltcG9ydEFuaW1hdGlvbnMoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRTY2VuZSxzPSEwLHI9SnQuQ2xlYW4sbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCl7aWYoIWkpe3cuRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFuaW1hdGlvbnMgdG8iKTtyZXR1cm59aWYocyl7Zm9yKGNvbnN0IF8gb2YgaS5hbmltYXRhYmxlcylfLnJlc2V0KCk7aS5zdG9wQWxsQW5pbWF0aW9ucygpLGkuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChfPT57Xy5kaXNwb3NlKCl9KSxpLmdldE5vZGVzKCkuZm9yRWFjaChfPT57Xy5hbmltYXRpb25zJiYoXy5hbmltYXRpb25zPVtdKX0pfWVsc2Ugc3dpdGNoKHIpe2Nhc2UgSnQuQ2xlYW46aS5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGQ9PntkLmRpc3Bvc2UoKX0pO2JyZWFrO2Nhc2UgSnQuU3RvcDppLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKGQ9PntkLnN0b3AoKX0pO2JyZWFrO2Nhc2UgSnQuU3luYzppLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKGQ9PntkLnJlc2V0KCksZC5yZXN0YXJ0KCl9KTticmVhaztjYXNlIEp0Lk5vU3luYzpicmVhaztkZWZhdWx0OncuRXJyb3IoIlVua25vd24gYW5pbWF0aW9uIGdyb3VwIGxvYWRpbmcgbW9kZSB2YWx1ZSAnIityKyInIik7cmV0dXJufWNvbnN0IHU9aS5hbmltYXRhYmxlcy5sZW5ndGgsZj1kPT57ZC5tZXJnZUFuaW1hdGlvbnNUbyhpLGkuYW5pbWF0YWJsZXMuc2xpY2UodSksbiksZC5kaXNwb3NlKCksaS5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLGEmJmEoaSl9O3RoaXMuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxpLGYsbyxoLGwpfXN0YXRpYyBJbXBvcnRBbmltYXRpb25zQXN5bmMoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRTY2VuZSxzPSEwLHI9SnQuQ2xlYW4sbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKCh1LGYpPT57b2UuSW1wb3J0QW5pbWF0aW9ucyhlLHQsaSxzLHIsbixkPT57dShkKX0sbywoZCxfLEUpPT57ZihFfHxuZXcgRXJyb3IoXykpfSxsKX0pfX1vZS5OT19MT0dHSU5HPTAsb2UuTUlOSU1BTF9MT0dHSU5HPTEsb2UuU1VNTUFSWV9MT0dHSU5HPTIsb2UuREVUQUlMRURfTE9HR0lORz0zLG9lLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZT1uZXcgRixvZS5fUmVnaXN0ZXJlZFBsdWdpbnM9e30sb2UuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExO2NsYXNzIF9le2NvbnN0cnVjdG9yKGUsdCxpPU51bWJlci5NQVhfVkFMVUUpe3RoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dCx0aGlzLmxlbmd0aD1pfWNsb25lKCl7cmV0dXJuIG5ldyBfZSh0aGlzLm9yaWdpbi5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uLmNsb25lKCksdGhpcy5sZW5ndGgpfWludGVyc2VjdHNCb3hNaW5NYXgoZSx0LGk9MCl7Y29uc3Qgcz1fZS5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbUZsb2F0cyhlLngtaSxlLnktaSxlLnotaSkscj1fZS5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyh0LngraSx0LnkraSx0LnoraSk7bGV0IG49MCxhPU51bWJlci5NQVhfVkFMVUUsbyxoLGwsdTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi54KTwxZS03KXtpZih0aGlzLm9yaWdpbi54PHMueHx8dGhpcy5vcmlnaW4ueD5yLngpcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueCxoPShzLngtdGhpcy5vcmlnaW4ueCkqbyxsPShyLngtdGhpcy5vcmlnaW4ueCkqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueSk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueTxzLnl8fHRoaXMub3JpZ2luLnk+ci55KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLnksaD0ocy55LXRoaXMub3JpZ2luLnkpKm8sbD0oci55LXRoaXMub3JpZ2luLnkpKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnopPDFlLTcpe2lmKHRoaXMub3JpZ2luLno8cy56fHx0aGlzLm9yaWdpbi56PnIueilyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi56LGg9KHMuei10aGlzLm9yaWdpbi56KSpvLGw9KHIuei10aGlzLm9yaWdpbi56KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzQm94KGUsdD0wKXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzQm94TWluTWF4KGUubWluaW11bSxlLm1heGltdW0sdCl9aW50ZXJzZWN0c1NwaGVyZShlLHQ9MCl7Y29uc3QgaT1lLmNlbnRlci54LXRoaXMub3JpZ2luLngscz1lLmNlbnRlci55LXRoaXMub3JpZ2luLnkscj1lLmNlbnRlci56LXRoaXMub3JpZ2luLnosbj1pKmkrcypzK3IqcixhPWUucmFkaXVzK3Qsbz1hKmE7aWYobjw9bylyZXR1cm4hMDtjb25zdCBoPWkqdGhpcy5kaXJlY3Rpb24ueCtzKnRoaXMuZGlyZWN0aW9uLnkrcip0aGlzLmRpcmVjdGlvbi56O3JldHVybiBoPDA/ITE6bi1oKmg8PW99aW50ZXJzZWN0c1RyaWFuZ2xlKGUsdCxpKXtjb25zdCBzPV9lLl9UbXBWZWN0b3IzWzBdLHI9X2UuX1RtcFZlY3RvcjNbMV0sbj1fZS5fVG1wVmVjdG9yM1syXSxhPV9lLl9UbXBWZWN0b3IzWzNdLG89X2UuX1RtcFZlY3RvcjNbNF07dC5zdWJ0cmFjdFRvUmVmKGUscyksaS5zdWJ0cmFjdFRvUmVmKGUsciksZy5Dcm9zc1RvUmVmKHRoaXMuZGlyZWN0aW9uLHIsbik7Y29uc3QgaD1nLkRvdChzLG4pO2lmKGg9PT0wKXJldHVybiBudWxsO2NvbnN0IGw9MS9oO3RoaXMub3JpZ2luLnN1YnRyYWN0VG9SZWYoZSxhKTtjb25zdCB1PWcuRG90KGEsbikqbDtpZih1PDB8fHU+MSlyZXR1cm4gbnVsbDtnLkNyb3NzVG9SZWYoYSxzLG8pO2NvbnN0IGY9Zy5Eb3QodGhpcy5kaXJlY3Rpb24sbykqbDtpZihmPDB8fHUrZj4xKXJldHVybiBudWxsO2NvbnN0IGQ9Zy5Eb3QocixvKSpsO3JldHVybiBkPnRoaXMubGVuZ3RoP251bGw6bmV3IHlzKDEtdS1mLHUsZCl9aW50ZXJzZWN0c1BsYW5lKGUpe2xldCB0O2NvbnN0IGk9Zy5Eb3QoZS5ub3JtYWwsdGhpcy5kaXJlY3Rpb24pO2lmKE1hdGguYWJzKGkpPDk5OTk5OTk5NzQ3NTI0M2UtMjEpcmV0dXJuIG51bGw7e2NvbnN0IHM9Zy5Eb3QoZS5ub3JtYWwsdGhpcy5vcmlnaW4pO3JldHVybiB0PSgtZS5kLXMpL2ksdDwwP3Q8LTk5OTk5OTk5NzQ3NTI0M2UtMjE/bnVsbDowOnR9fWludGVyc2VjdHNBeGlzKGUsdD0wKXtzd2l0Y2goZSl7Y2FzZSJ5Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4ueS10KS90aGlzLmRpcmVjdGlvbi55O3JldHVybiBpPjA/bnVsbDpuZXcgZyh0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLWksdCx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLWkpfWNhc2UieCI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLngtdCkvdGhpcy5kaXJlY3Rpb24ueDtyZXR1cm4gaT4wP251bGw6bmV3IGcodCx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLWksdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1pKX1jYXNlInoiOntjb25zdCBpPSh0aGlzLm9yaWdpbi56LXQpL3RoaXMuZGlyZWN0aW9uLno7cmV0dXJuIGk+MD9udWxsOm5ldyBnKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotaSx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLWksdCl9ZGVmYXVsdDpyZXR1cm4gbnVsbH19aW50ZXJzZWN0c01lc2goZSx0KXtjb25zdCBpPVAuTWF0cml4WzBdO3JldHVybiBlLmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoaSksdGhpcy5fdG1wUmF5P19lLlRyYW5zZm9ybVRvUmVmKHRoaXMsaSx0aGlzLl90bXBSYXkpOnRoaXMuX3RtcFJheT1fZS5UcmFuc2Zvcm0odGhpcyxpKSxlLmludGVyc2VjdHModGhpcy5fdG1wUmF5LHQpfWludGVyc2VjdHNNZXNoZXMoZSx0LGkpe2k/aS5sZW5ndGg9MDppPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuaW50ZXJzZWN0c01lc2goZVtzXSx0KTtyLmhpdCYmaS5wdXNoKHIpfXJldHVybiBpLnNvcnQodGhpcy5fY29tcGFyZVBpY2tpbmdJbmZvKSxpfV9jb21wYXJlUGlja2luZ0luZm8oZSx0KXtyZXR1cm4gZS5kaXN0YW5jZTx0LmRpc3RhbmNlPy0xOmUuZGlzdGFuY2U+dC5kaXN0YW5jZT8xOjB9aW50ZXJzZWN0aW9uU2VnbWVudChlLHQsaSl7Y29uc3Qgcz10aGlzLm9yaWdpbixyPVAuVmVjdG9yM1swXSxuPVAuVmVjdG9yM1sxXSxhPVAuVmVjdG9yM1syXSxvPVAuVmVjdG9yM1szXTt0LnN1YnRyYWN0VG9SZWYoZSxyKSx0aGlzLmRpcmVjdGlvbi5zY2FsZVRvUmVmKF9lLl9SYXlsLGEpLHMuYWRkVG9SZWYoYSxuKSxlLnN1YnRyYWN0VG9SZWYocyxvKTtjb25zdCBoPWcuRG90KHIsciksbD1nLkRvdChyLGEpLHU9Zy5Eb3QoYSxhKSxmPWcuRG90KHIsbyksZD1nLkRvdChhLG8pLF89aCp1LWwqbDtsZXQgRSxtPV8sVCxiPV87XzxfZS5fU21hbGxudW0/KEU9MCxtPTEsVD1kLGI9dSk6KEU9bCpkLXUqZixUPWgqZC1sKmYsRTwwPyhFPTAsVD1kLGI9dSk6RT5tJiYoRT1tLFQ9ZCtsLGI9dSkpLFQ8MD8oVD0wLC1mPDA/RT0wOi1mPmg/RT1tOihFPS1mLG09aCkpOlQ+YiYmKFQ9YiwtZitsPDA/RT0wOi1mK2w+aD9FPW06KEU9LWYrbCxtPWgpKTtjb25zdCBSPU1hdGguYWJzKEUpPF9lLl9TbWFsbG51bT8wOkUvbSx5PU1hdGguYWJzKFQpPF9lLl9TbWFsbG51bT8wOlQvYixEPVAuVmVjdG9yM1s0XTthLnNjYWxlVG9SZWYoeSxEKTtjb25zdCB2PVAuVmVjdG9yM1s1XTtyLnNjYWxlVG9SZWYoUix2KSx2LmFkZEluUGxhY2Uobyk7Y29uc3QgQT1QLlZlY3RvcjNbNl07cmV0dXJuIHYuc3VidHJhY3RUb1JlZihELEEpLHk+MCYmeTw9dGhpcy5sZW5ndGgmJkEubGVuZ3RoU3F1YXJlZCgpPGkqaT92Lmxlbmd0aCgpOi0xfXVwZGF0ZShlLHQsaSxzLHIsbixhLG89ITEpe2lmKG8pe19lLl9SYXlEaXN0YW50fHwoX2UuX1JheURpc3RhbnQ9X2UuWmVybygpKSxfZS5fUmF5RGlzdGFudC51bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLHguSWRlbnRpdHlSZWFkT25seSxuLGEpO2NvbnN0IGg9UC5NYXRyaXhbMF07ci5pbnZlcnRUb1JlZihoKSxfZS5UcmFuc2Zvcm1Ub1JlZihfZS5fUmF5RGlzdGFudCxoLHRoaXMpfWVsc2UgdGhpcy51bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLHIsbixhKTtyZXR1cm4gdGhpc31zdGF0aWMgWmVybygpe3JldHVybiBuZXcgX2UoZy5aZXJvKCksZy5aZXJvKCkpfXN0YXRpYyBDcmVhdGVOZXcoZSx0LGkscyxyLG4sYSl7cmV0dXJuIF9lLlplcm8oKS51cGRhdGUoZSx0LGkscyxyLG4sYSl9c3RhdGljIENyZWF0ZU5ld0Zyb21UbyhlLHQsaT14LklkZW50aXR5UmVhZE9ubHkpe2NvbnN0IHM9dC5zdWJ0cmFjdChlKSxyPU1hdGguc3FydChzLngqcy54K3MueSpzLnkrcy56KnMueik7cmV0dXJuIHMubm9ybWFsaXplKCksX2UuVHJhbnNmb3JtKG5ldyBfZShlLHMsciksaSl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IF9lKG5ldyBnKDAsMCwwKSxuZXcgZygwLDAsMCkpO3JldHVybiBfZS5UcmFuc2Zvcm1Ub1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtVG9SZWYoZSx0LGkpe2cuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbix0LGkub3JpZ2luKSxnLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUuZGlyZWN0aW9uLHQsaS5kaXJlY3Rpb24pLGkubGVuZ3RoPWUubGVuZ3RoO2NvbnN0IHM9aS5kaXJlY3Rpb24scj1zLmxlbmd0aCgpO2lmKCEocj09PTB8fHI9PT0xKSl7Y29uc3Qgbj0xL3I7cy54Kj1uLHMueSo9bixzLnoqPW4saS5sZW5ndGgqPXJ9fXVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMscixuLGEpe3ZhciBkO2NvbnN0IG89UC5NYXRyaXhbMF07ci5tdWx0aXBseVRvUmVmKG4sbyksby5tdWx0aXBseVRvUmVmKGEsbyksby5pbnZlcnQoKTtjb25zdCBoPVAuVmVjdG9yM1swXTtoLng9ZS9pKjItMSxoLnk9LSh0L3MqMi0xKSxoLno9KGQ9ZGUuTGFzdENyZWF0ZWRFbmdpbmUpIT1udWxsJiZkLmlzTkRDSGFsZlpSYW5nZT8wOi0xO2NvbnN0IGw9UC5WZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKGgueCxoLnksMS0xZS04KSx1PVAuVmVjdG9yM1syXSxmPVAuVmVjdG9yM1szXTtnLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihoLG8sdSksZy5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYobCxvLGYpLHRoaXMub3JpZ2luLmNvcHlGcm9tKHUpLGYuc3VidHJhY3RUb1JlZih1LHRoaXMuZGlyZWN0aW9uKSx0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKX19X2UuX1RtcFZlY3RvcjM9QWUuQnVpbGRBcnJheSg2LGcuWmVybyksX2UuX1JheURpc3RhbnQ9X2UuWmVybygpLF9lLl9TbWFsbG51bT0xZS04LF9lLl9SYXlsPTFlOSxuZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbihjLGUsdCxpLHM9ITEpe2NvbnN0IHI9X2UuWmVybygpO3JldHVybiB0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsdCxyLGkscykscn0sbmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZj1mdW5jdGlvbihjLGUsdCxpLHMscj0hMSxuPSExKXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCk7aWYoIXMpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm4gdGhpcztzPXRoaXMuYWN0aXZlQ2FtZXJhfWNvbnN0IGg9cy52aWV3cG9ydC50b0dsb2JhbChhLmdldFJlbmRlcldpZHRoKCksYS5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGM9Yy9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktaC54LGU9ZS9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKGEuZ2V0UmVuZGVySGVpZ2h0KCktaC55LWguaGVpZ2h0KSxpLnVwZGF0ZShjLGUsaC53aWR0aCxoLmhlaWdodCx0fHx4LklkZW50aXR5UmVhZE9ubHkscj94LklkZW50aXR5UmVhZE9ubHk6cy5nZXRWaWV3TWF0cml4KCkscy5nZXRQcm9qZWN0aW9uTWF0cml4KCksbiksdGhpc30sbmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPV9lLlplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmKGMsZSxpLHQpLGl9LG5lLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmPWZ1bmN0aW9uKGMsZSx0LGkpe2lmKCFidClyZXR1cm4gdGhpcztjb25zdCBzPXRoaXMuZ2V0RW5naW5lKCk7aWYoIWkpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2k9dGhpcy5hY3RpdmVDYW1lcmF9Y29uc3Qgbj1pLnZpZXdwb3J0LnRvR2xvYmFsKHMuZ2V0UmVuZGVyV2lkdGgoKSxzLmdldFJlbmRlckhlaWdodCgpKSxhPXguSWRlbnRpdHkoKTtyZXR1cm4gYz1jL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS1uLngsZT1lL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS0ocy5nZXRSZW5kZXJIZWlnaHQoKS1uLnktbi5oZWlnaHQpLHQudXBkYXRlKGMsZSxuLndpZHRoLG4uaGVpZ2h0LGEsYSxpLmdldFByb2plY3Rpb25NYXRyaXgoKSksdGhpc30sbmUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2tGb3JNZXNoPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1lKGksdC5lbmFibGVEaXN0YW50UGlja2luZyksaD10LmludGVyc2VjdHMobyxzLG4scixpLGEpO3JldHVybiFofHwhaC5oaXR8fCFzJiZjIT1udWxsJiZoLmRpc3RhbmNlPj1jLmRpc3RhbmNlP251bGw6aH0sbmUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtpZighYnQpcmV0dXJuIG51bGw7bGV0IHI9bnVsbDtmb3IobGV0IG49MDtuPHRoaXMubWVzaGVzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5tZXNoZXNbbl07aWYoZSl7aWYoIWUoYSkpY29udGludWV9ZWxzZSBpZighYS5pc0VuYWJsZWQoKXx8IWEuaXNWaXNpYmxlfHwhYS5pc1BpY2thYmxlKWNvbnRpbnVlO2NvbnN0IG89YS5nZXRXb3JsZE1hdHJpeCgpO2lmKGEuaGFzVGhpbkluc3RhbmNlcyYmYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXtjb25zdCBoPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gocixjLGEsbywhMCwhMCxzKTtpZihoKXtpZihpKXJldHVybiBoO2NvbnN0IGw9UC5NYXRyaXhbMV0sdT1hLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKTtmb3IobGV0IGY9MDtmPHUubGVuZ3RoO2YrKyl7dVtmXS5tdWx0aXBseVRvUmVmKG8sbCk7Y29uc3QgXz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxhLGwsdCxpLHMsITApO2lmKF8mJihyPV8sci50aGluSW5zdGFuY2VJbmRleD1mLHQpKXJldHVybiByfX19ZWxzZXtjb25zdCBoPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gocixjLGEsbyx0LGkscyk7aWYoaCYmKHI9aCx0KSlyZXR1cm4gcn19cmV0dXJuIHJ8fG5ldyBidH0sbmUucHJvdG90eXBlLl9pbnRlcm5hbE11bHRpUGljaz1mdW5jdGlvbihjLGUsdCl7aWYoIWJ0KXJldHVybiBudWxsO2NvbnN0IGk9bmV3IEFycmF5O2ZvcihsZXQgcz0wO3M8dGhpcy5tZXNoZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLm1lc2hlc1tzXTtpZihlKXtpZighZShyKSljb250aW51ZX1lbHNlIGlmKCFyLmlzRW5hYmxlZCgpfHwhci5pc1Zpc2libGV8fCFyLmlzUGlja2FibGUpY29udGludWU7Y29uc3Qgbj1yLmdldFdvcmxkTWF0cml4KCk7aWYoci5oYXNUaGluSW5zdGFuY2VzJiZyLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmcpe2lmKHRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLHIsbiwhMCwhMCx0KSl7Y29uc3Qgbz1QLk1hdHJpeFsxXSxoPXIudGhpbkluc3RhbmNlR2V0V29ybGRNYXRyaWNlcygpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtoW2xdLm11bHRpcGx5VG9SZWYobixvKTtjb25zdCBmPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLHIsbywhMSwhMSx0LCEwKTtmJiYoZi50aGluSW5zdGFuY2VJbmRleD1sLGkucHVzaChmKSl9fX1lbHNle2NvbnN0IGE9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGMscixuLCExLCExLHQpO2EmJmkucHVzaChhKX19cmV0dXJuIGl9LG5lLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbihjLGUsdCxpLHMpe2lmKCFidClyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMuX2ludGVybmFsUGljayhuPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxuLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITApO3JldHVybiByJiYoci5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSx4LklkZW50aXR5KCksc3x8bnVsbCkpLHJ9LG5lLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG49ITEpe2lmKCFidClyZXR1cm4gbnVsbDtjb25zdCBhPXRoaXMuX2ludGVybmFsUGljaygobyxoKT0+KHRoaXMuX3RlbXBQaWNraW5nUmF5fHwodGhpcy5fdGVtcFBpY2tpbmdSYXk9X2UuWmVybygpKSx0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsbyx0aGlzLl90ZW1wUGlja2luZ1JheSxzfHxudWxsLCExLGgpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITEscik7cmV0dXJuIGEmJihhLnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLHguSWRlbnRpdHkoKSxzfHxudWxsKSksYX0sbmUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKGMsZSx0LGkpe2NvbnN0IHM9dGhpcy5faW50ZXJuYWxQaWNrKHI9Pih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXh8fCh0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXg9eC5JZGVudGl0eSgpKSxyLmludmVydFRvUmVmKHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfHwodGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtPV9lLlplcm8oKSksX2UuVHJhbnNmb3JtVG9SZWYoYyx0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgsdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLGUsdCwhMSxpKTtyZXR1cm4gcyYmKHMucmF5PWMpLHN9LG5lLnByb3RvdHlwZS5tdWx0aVBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2socj0+dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSxyLGl8fG51bGwpLHQscyl9LG5lLnByb3RvdHlwZS5tdWx0aVBpY2tXaXRoUmF5PWZ1bmN0aW9uKGMsZSx0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2soaT0+KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD14LklkZW50aXR5KCkpLGkuaW52ZXJ0VG9SZWYodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fCh0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09X2UuWmVybygpKSxfZS5UcmFuc2Zvcm1Ub1JlZihjLHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksZSx0KX0sWi5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheT1mdW5jdGlvbihjPTEwMCxlLHQpe3JldHVybiB0aGlzLmdldEZvcndhcmRSYXlUb1JlZihuZXcgX2UoZy5aZXJvKCksZy5aZXJvKCksYyksYyxlLHQpfSxaLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5VG9SZWY9ZnVuY3Rpb24oYyxlPTEwMCx0LGkpe3JldHVybiB0fHwodD10aGlzLmdldFdvcmxkTWF0cml4KCkpLGMubGVuZ3RoPWUsaT9jLm9yaWdpbi5jb3B5RnJvbShpKTpjLm9yaWdpbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSxQLlZlY3RvcjNbMl0uc2V0KDAsMCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxKSxnLlRyYW5zZm9ybU5vcm1hbFRvUmVmKFAuVmVjdG9yM1syXSx0LFAuVmVjdG9yM1szXSksZy5Ob3JtYWxpemVUb1JlZihQLlZlY3RvcjNbM10sYy5kaXJlY3Rpb24pLGN9O3ZhciBjbD1mdW5jdGlvbihjLGUsdCl7Zm9yKHZhciBpIGluIGUpaWYoYy5uYW1lPT09ZVtpXSlyZXR1cm4gdC5wdXNoKGMuaWQpLCEwO3JldHVybiBjLnBhcmVudElkJiZ0LmluZGV4T2YoYy5wYXJlbnRJZCkhPT0tMT8odC5wdXNoKGMuaWQpLCEwKTohMX0sbnM9ZnVuY3Rpb24oYyxlKXtyZXR1cm4gYysiIG9mICIrKGU/ZS5maWxlKyIgZnJvbSAiK2UubmFtZSsiIHZlcnNpb246ICIrZS52ZXJzaW9uKyIsIGV4cG9ydGVyIHZlcnNpb246ICIrZS5leHBvcnRlcl92ZXJzaW9uOiJ1bmtub3duIil9O29lLlJlZ2lzdGVyUGx1Z2luKHtuYW1lOiJiYWJ5bG9uLmpzIixleHRlbnNpb25zOiIuanNvbiIsY2FuRGlyZWN0TG9hZDpmdW5jdGlvbihjKXtyZXR1cm4gYy5pbmRleE9mKCJqc29uIikhPT0tMSwhMH0saW1wb3J0TWVzaDpmdW5jdGlvbihjLGUsdCxpLHMscixuLGEpe3ZhciBvPSJpbXBvcnRNZXNoIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBoPUpTT04ucGFyc2UodCk7aC5waHlzaWNzRW5hYmxlZD0hMSxoPT1udWxsfHxoLm1lc2hlcy5tYXAoYj0+ZGVsZXRlIGIucGh5c2ljc0ltcG9zdG9yKSxvPSIiO3ZhciBsPW9lLmxvZ2dpbmdMZXZlbD09PW9lLkRFVEFJTEVEX0xPR0dJTkc7Yz9BcnJheS5pc0FycmF5KGMpfHwoYz1bY10pOmM9bnVsbDt2YXIgdT1uZXcgQXJyYXk7aWYoaC5tZXNoZXMhPT12b2lkIDAmJmgubWVzaGVzIT09bnVsbCl7dmFyIGYsZDtmb3IoZj0wLGQ9aC5tZXNoZXMubGVuZ3RoO2Y8ZDtmKyspe3ZhciBfPWgubWVzaGVzW2ZdO2lmKGM9PT1udWxsfHxjbChfLGMsdSkpe2MhPT1udWxsJiZkZWxldGUgY1tjLmluZGV4T2YoXy5uYW1lKV07dmFyIEU9ay5QYXJzZShfLGUsaSk7cy5wdXNoKEUpLG8rPWAKCU1lc2ggYCtFLnRvU3RyaW5nKGwpfX12YXIgbTtmb3IoZj0wLGQ9ZS5tZXNoZXMubGVuZ3RoO2Y8ZDtmKyspbT1lLm1lc2hlc1tmXSxtLl93YWl0aW5nUGFyZW50SWQmJihtLnBhcmVudD1lLmdldExhc3RFbnRyeUJ5SUQobS5fd2FpdGluZ1BhcmVudElkKSxtLl93YWl0aW5nUGFyZW50SWQ9bnVsbCksbS5jb21wdXRlV29ybGRNYXRyaXgoITApfXJldHVybiEwfWNhdGNoKGIpe3ZhciBUPW5zKCJpbXBvcnRNZXNoIixoP2gucHJvZHVjZXI6IlVua25vd24iKStvO2lmKGEpYShULGIpO2Vsc2UgdGhyb3cgdy5Mb2coVCksYn1maW5hbGx5e28hPT1udWxsJiZvZS5sb2dnaW5nTGV2ZWwhPT1vZS5OT19MT0dHSU5HJiZ3LkxvZyhucygiaW1wb3J0TWVzaCIsaD9oLnByb2R1Y2VyOiJVbmtub3duIikrKG9lLmxvZ2dpbmdMZXZlbCE9PW9lLk1JTklNQUxfTE9HR0lORz9vOiIiKSl9cmV0dXJuITF9LGxvYWQ6ZnVuY3Rpb24oYyxlLHQsaSl7dmFyIHM9ImltcG9ydFNjZW5lIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciByPUpTT04ucGFyc2UoZSk7cz0iIixyLmNsZWFyQ29sb3IhPT12b2lkIDAmJnIuY2xlYXJDb2xvciE9PW51bGwmJihjLmNsZWFyQ29sb3I9Q29sb3I0LkZyb21BcnJheShyLmNsZWFyQ29sb3IpKTt2YXIgbj1sb2FkQXNzZXRDb250YWluZXIoYyxlLHQsaSwhMCk7cmV0dXJuISFufWNhdGNoKG8pe3ZhciBhPW5zKCJpbXBvcnRTY2VuZSIscj9yLnByb2R1Y2VyOiJVbmtub3duIikrcztpZihpKWkoYSxvKTtlbHNlIHRocm93IHcuTG9nKGEpLG99ZmluYWxseXtzIT09bnVsbCYmb2UubG9nZ2luZ0xldmVsIT09b2UuTk9fTE9HR0lORyYmdy5Mb2cobnMoImltcG9ydFNjZW5lIixyP3IucHJvZHVjZXI6IlVua25vd24iKSsob2UubG9nZ2luZ0xldmVsIT09b2UuTUlOSU1BTF9MT0dHSU5HP3M6IiIpKX1yZXR1cm4hMX0sbG9hZEFzc2V0Q29udGFpbmVyOmZ1bmN0aW9uKGMsZSx0LGkpe3ZhciBzPWxvYWRBc3NldENvbnRhaW5lcihjLGUsdCxpKTtyZXR1cm4gc319KSxrLl9pbnN0YW5jZWRNZXNoRmFjdG9yeT0oYyxlKT0+e2NvbnN0IHQ9bmV3IHVsKGMsZSk7aWYoZS5pbnN0YW5jZWRCdWZmZXJzKXt0Lmluc3RhbmNlZEJ1ZmZlcnM9e307Zm9yKGNvbnN0IGkgaW4gZS5pbnN0YW5jZWRCdWZmZXJzKXQuaW5zdGFuY2VkQnVmZmVyc1tpXT1lLmluc3RhbmNlZEJ1ZmZlcnNbaV19cmV0dXJuIHR9O2NsYXNzIHVsIGV4dGVuZHMgYXR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQuZ2V0U2NlbmUoKSksdGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PS0xLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0LmFkZEluc3RhbmNlKHRoaXMpLHRoaXMuX3NvdXJjZU1lc2g9dCx0aGlzLl91bkluZGV4ZWQ9dC5fdW5JbmRleGVkLHRoaXMucG9zaXRpb24uY29weUZyb20odC5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbSh0LnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20odC5zY2FsaW5nKSx0LnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXQucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuYW5pbWF0aW9ucz10LmFuaW1hdGlvbnMuc2xpY2UoKTtmb3IoY29uc3QgaSBvZiB0LmdldEFuaW1hdGlvblJhbmdlcygpKWkhPW51bGwmJnRoaXMuY3JlYXRlQW5pbWF0aW9uUmFuZ2UoaS5uYW1lLGkuZnJvbSxpLnRvKTt0aGlzLmluZmluaXRlRGlzdGFuY2U9dC5pbmZpbml0ZURpc3RhbmNlLHRoaXMuc2V0UGl2b3RNYXRyaXgodC5nZXRQaXZvdE1hdHJpeCgpKSx0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHRoaXMuX3N5bmNTdWJNZXNoZXMoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSW5zdGFuY2VkTWVzaCJ9Z2V0IGxpZ2h0U291cmNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9saWdodFNvdXJjZXN9X3Jlc3luY0xpZ2h0U291cmNlcygpe31fcmVzeW5jTGlnaHRTb3VyY2UoKXt9X3JlbW92ZUxpZ2h0U291cmNlKCl7fWdldCByZWNlaXZlU2hhZG93cygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnJlY2VpdmVTaGFkb3dzfWdldCBtYXRlcmlhbCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLm1hdGVyaWFsfWdldCB2aXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX1nZXQgc2tlbGV0b24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5za2VsZXRvbn1nZXQgcmVuZGVyaW5nR3JvdXBJZCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnJlbmRlcmluZ0dyb3VwSWR9c2V0IHJlbmRlcmluZ0dyb3VwSWQoZSl7IXRoaXMuX3NvdXJjZU1lc2h8fGU9PT10aGlzLl9zb3VyY2VNZXNoLnJlbmRlcmluZ0dyb3VwSWR8fHcuV2FybigiTm90ZSAtIHNldHRpbmcgcmVuZGVyaW5nR3JvdXBJZCBvZiBhbiBpbnN0YW5jZWQgbWVzaCBoYXMgbm8gZWZmZWN0IG9uIHRoZSBzY2VuZSIpfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaD90aGlzLl9zb3VyY2VNZXNoLmdldFRvdGFsVmVydGljZXMoKTowfWdldFRvdGFsSW5kaWNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFRvdGFsSW5kaWNlcygpfWdldCBzb3VyY2VNZXNoKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2h9Y3JlYXRlSW5zdGFuY2UoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guY3JlYXRlSW5zdGFuY2UoZSl9aXNSZWFkeShlPSExKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5pc1JlYWR5KGUsITApfWdldFZlcnRpY2VzRGF0YShlLHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFZlcnRpY2VzRGF0YShlLHQpfXNldFZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0VmVydGljZXNEYXRhKGUsdCxpLHMpLHRoaXMuc291cmNlTWVzaH11cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKSx0aGlzLnNvdXJjZU1lc2h9c2V0SW5kaWNlcyhlLHQ9bnVsbCl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnNldEluZGljZXMoZSx0KSx0aGlzLnNvdXJjZU1lc2h9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChlKX1nZXRJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0SW5kaWNlcygpfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX3Bvc2l0aW9uc31yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7aWYodGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5P3RoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fc291cmNlTWVzaC5fZ2V0UG9zaXRpb25EYXRhKGUsdCksaSksdGhpc31fcHJlQWN0aXZhdGUoKXtyZXR1cm4gdGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5fcHJlQWN0aXZhdGUoKSx0aGlzfV9hY3RpdmF0ZShlLHQpe2lmKHN1cGVyLl9hY3RpdmF0ZShlLHQpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzfHx3Lldhcm4oIkluc3RhbmNlcyBzaG91bGQgb25seSBiZSBjcmVhdGVkIGZvciBtZXNoZXMgd2l0aCBnZW9tZXRyeS4iKSx0aGlzLl9jdXJyZW50TE9EKXtpZih0aGlzLl9jdXJyZW50TE9ELl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTAhPXRoaXMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MClyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD0hMCwhMDtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0QuX3JlZ2lzdGVySW5zdGFuY2VGb3JSZW5kZXJJZCh0aGlzLGUpLHQpe2lmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMCwhMH1lbHNlIGlmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMCwhMH1yZXR1cm4hMX1fcG9zdEFjdGl2YXRlKCl7dGhpcy5fc291cmNlTWVzaC5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwPyh0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSk6dGhpcy5fZWRnZXNSZW5kZXJlciYmdGhpcy5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaCh0aGlzLl9lZGdlc1JlbmRlcmVyKX1nZXRXb3JsZE1hdHJpeCgpe2lmKHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuYmlsbGJvYXJkTW9kZSE9PSQuQklMTEJPQVJETU9ERV9OT05FJiZ0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoIT09dGhpcyl7dGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh8fCh0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeD1uZXcgeCk7Y29uc3QgZT10aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoO3JldHVybiB0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXRoaXMsUC5WZWN0b3IzWzddLmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24pLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uY29weUZyb20oUC5WZWN0b3IzWzddKSx0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPWUsdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh9cmV0dXJuIHN1cGVyLmdldFdvcmxkTWF0cml4KCl9Z2V0IGlzQW5JbnN0YW5jZSgpe3JldHVybiEwfWdldExPRChlKXtpZighZSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc291cmNlTWVzaC5nZXRMT0RMZXZlbHMoKTtpZighdHx8dC5sZW5ndGg9PT0wKXRoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoO2Vsc2V7Y29uc3QgaT10aGlzLmdldEJvdW5kaW5nSW5mbygpO3RoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoLmdldExPRChlLGkuYm91bmRpbmdTcGhlcmUpfXJldHVybiB0aGlzLl9jdXJyZW50TE9EfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKX1fc3luY1N1Yk1lc2hlcygpe2lmKHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzKWZvcihsZXQgZT0wO2U8dGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc1tlXS5jbG9uZSh0aGlzLHRoaXMuX3NvdXJjZU1lc2gpO3JldHVybiB0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2dlbmVyYXRlUG9pbnRzQXJyYXkoKX1fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuaGFzQm91bmRpbmdJbmZvP3RoaXMuZ2V0Qm91bmRpbmdJbmZvKCkudXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpc31jbG9uZShlLHQ9bnVsbCxpLHMpe2NvbnN0IHI9KHN8fHRoaXMuX3NvdXJjZU1lc2gpLmNyZWF0ZUluc3RhbmNlKGUpO2lmKGdzLkRlZXBDb3B5KHRoaXMscixbIm5hbWUiLCJzdWJNZXNoZXMiLCJ1bmlxdWVJZCIsInBhcmVudCIsImxpZ2h0U291cmNlcyIsInJlY2VpdmVTaGFkb3dzIiwibWF0ZXJpYWwiLCJ2aXNpYmlsaXR5Iiwic2tlbGV0b24iLCJzb3VyY2VNZXNoIiwiaXNBbkluc3RhbmNlIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImlzQmxvY2tlZCIsInVzZUJvbmVzIiwiaGFzSW5zdGFuY2VzIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJoYXNCb3VuZGluZ0luZm8iXSxbXSksdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksdCYmKHIucGFyZW50PXQpLCFpKWZvcihsZXQgbj0wO248dGhpcy5nZXRTY2VuZSgpLm1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXNbbl07YS5wYXJlbnQ9PT10aGlzJiZhLmNsb25lKGEubmFtZSxyKX1yZXR1cm4gci5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSxyfWRpc3Bvc2UoZSx0PSExKXt0aGlzLl9zb3VyY2VNZXNoLnJlbW92ZUluc3RhbmNlKHRoaXMpLHN1cGVyLmRpc3Bvc2UoZSx0KX1fc2VyaWFsaXplQXNQYXJlbnQoZSl7c3VwZXIuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLGUucGFyZW50SWQ9dGhpcy5fc291cmNlTWVzaC51bmlxdWVJZCxlLnBhcmVudEluc3RhbmNlSW5kZXg9dGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5fWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCx0JiZ0Lm5ld1NvdXJjZWRNZXNoKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc319ay5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXI9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2lmKChpPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PW51bGw/dm9pZCAwOnQudmVydGV4QnVmZmVyc1tjXSk9PW51bGx8fGkuZGlzcG9zZSgpLCF0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe3RoaXMuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IoY29uc3QgcyBvZiB0aGlzLmluc3RhbmNlcylzLmluc3RhbmNlZEJ1ZmZlcnM9e307dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHwodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlPXtkYXRhOnt9LHZlcnRleEJ1ZmZlcnM6e30sc3RyaWRlczp7fSxzaXplczp7fSx2ZXJ0ZXhBcnJheU9iamVjdHM6dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3Q/e306dm9pZCAwfSl9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2NdPW51bGwsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbY109ZSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbY109ZSozMix0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtjXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tjXSksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY109bmV3IHAodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtjXSxjLCEwLCExLGUsITApO2Zvcihjb25zdCBzIG9mIHRoaXMuaW5zdGFuY2VzKXMuaW5zdGFuY2VkQnVmZmVyc1tjXT1udWxsO3RoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9LGsucHJvdG90eXBlLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycz1mdW5jdGlvbihjLGUpe2NvbnN0IHQ9Yy5sZW5ndGg7Zm9yKGNvbnN0IGkgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXtsZXQgcz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV07Y29uc3Qgcj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tpXSxuPSh0KzEpKnI7Zm9yKDtzPG47KXMqPTI7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0ubGVuZ3RoIT1zJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheShzKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV09cyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXSYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT1udWxsKSk7Y29uc3QgYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXTtsZXQgbz0wO2lmKGUpe2NvbnN0IGg9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2ldO2gudG9BcnJheT9oLnRvQXJyYXkoYSxvKTpoLmNvcHlUb0FycmF5P2guY29weVRvQXJyYXkoYSxvKTphW29dPWgsbys9cn1mb3IobGV0IGg9MDtoPHQ7aCsrKXtjb25zdCB1PWNbaF0uaW5zdGFuY2VkQnVmZmVyc1tpXTt1LnRvQXJyYXk/dS50b0FycmF5KGEsbyk6dS5jb3B5VG9BcnJheT91LmNvcHlUb0FycmF5KGEsbyk6YVtvXT11LG8rPXJ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0/dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0udXBkYXRlRGlyZWN0bHkoYSwwKToodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV09bmV3IHAodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXSxpLCEwLCExLHIsITApLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpfX0say5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPT09dm9pZCAwKSl7Zm9yKGNvbnN0IGMgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyl0aGlzLmdldEVuZ2luZSgpLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzW2NdKTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9fX0say5wcm90b3R5cGUuX2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe2Zvcih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg7KXRoaXMuaW5zdGFuY2VzWzBdLmRpc3Bvc2UoKTtmb3IoY29uc3QgYyBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY10mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgRHI9Yz0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSksZmw9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsfSx6dD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe1N0KHRoaXMsInZhbHVlIiwwKTtTdCh0aGlzLCJhc2xlZXAiLCExKTt0aGlzLmNvbmZpZz17Li4uZmwsLi4uZX0sdGhpcy5pZD10aGlzLmNvbmZpZy5pZCE9PXZvaWQgMD90aGlzLmNvbmZpZy5pZDpEYXRlLm5vdygpLHRoaXMuZGllVHlwZT1gZCR7dGhpcy5jb25maWcuc2lkZXN9YCx0aGlzLmNvbWJvS2V5PWAke3RoaXMuY29uZmlnLnRoZW1lfV8ke3RoaXMuZGllVHlwZX1gLHRoaXMuc2NlbmU9dCx0aGlzLmNyZWF0ZUluc3RhbmNlKCl9Y3JlYXRlSW5zdGFuY2UoKXtjb25zdCBlPWAke3RoaXMuY29uZmlnLm1lc2hOYW1lfV8ke3RoaXMuZGllVHlwZX1fJHt0aGlzLmNvbmZpZy50aGVtZX0ke3RoaXMuY29uZmlnLmNvbG9yU3VmZml4fWAsdD1gJHtlfS1pbnN0YW5jZS0ke3RoaXMuaWR9YCxpPXRoaXMuc2NlbmUuZ2V0TWVzaEJ5TmFtZShlKS5jcmVhdGVJbnN0YW5jZSh0KTtpZih0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeC5sZW5ndGg+MCl7Y29uc3Qgcz1pZS5Gcm9tSGV4U3RyaW5nKHRoaXMuY29uZmlnLnRoZW1lQ29sb3IpO2kuaW5zdGFuY2VkQnVmZmVycy5jdXN0b21Db2xvcj1zfWkucG9zaXRpb24ueT0tMTAwLGkuc2NhbGluZz1uZXcgZyh0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSksdGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmdGhpcy5jb25maWcubGlnaHRzLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5hZGRTaGFkb3dDYXN0ZXIoaSksdGhpcy5tZXNoPWl9c3RhdGljIGFzeW5jIGxvYWREaWUoZSx0KXtjb25zdHtzaWRlczppLHRoZW1lOnM9ImRlZmF1bHQiLG1lc2hOYW1lOnIsY29sb3JTdWZmaXg6bn09ZSxhPXIrIl9kIitpLG89YSsiXyIrcytuO2xldCBoPXQuZ2V0TWVzaEJ5TmFtZShvKTtyZXR1cm4gaHx8KGg9dC5nZXRNZXNoQnlOYW1lKGEpLmNsb25lKG8pKSxoLm1hdGVyaWFsfHwoaC5tYXRlcmlhbD10LmdldE1hdGVyaWFsQnlOYW1lKHMrbiksbi5sZW5ndGg+MCYmaC5yZWdpc3Rlckluc3RhbmNlZEJ1ZmZlcigiY3VzdG9tQ29sb3IiLDMpKSxlfXN0YXRpYyBhc3luYyBsb2FkTW9kZWxzKGUsdCl7Y29uc3R7bWVzaEZpbGVQYXRoOmksbWVzaE5hbWU6cyxzY2FsZTpyLGQ0RmFjZURvd246bj0hMH09ZTtsZXQgYT0hMSxvPSExO2NvbnN0IGg9YXdhaXQgZmV0Y2goYCR7aX1gKS50aGVuKGw9PntpZihsLm9rKXtjb25zdCB1PWwuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpO2lmKHUmJnUuaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpIT09LTEpcmV0dXJuIGwuanNvbigpO2lmKGwudHlwZSYmbC50eXBlPT09ImJhc2ljIilyZXR1cm4gbC5qc29uKCk7dGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgY29udGVudFR5cGU6ICR7dX0uIEV4cGVjdGVkICJhcHBsaWNhdGlvbi9qc29uIiBvciAiYmFzaWMiYCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBsb2FkIDNEIG1lc2ggZmlsZTogJyR7aX0nLiBSZXF1ZXN0IHJlamVjdGVkIHdpdGggc3RhdHVzICR7bC5zdGF0dXN9OiAke2wuc3RhdHVzVGV4dH1gKX0pLmNhdGNoKGw9PmNvbnNvbGUuZXJyb3IobCkpO2lmKCEhaClyZXR1cm4gb2UuSW1wb3J0TWVzaEFzeW5jKG51bGwsbnVsbCwiZGF0YToiK0pTT04uc3RyaW5naWZ5KGgpLHQpLnRoZW4obD0+e2lmKGwubWVzaGVzLmZvckVhY2godT0+e3UubmFtZT09PSJfX3Jvb3RfXyImJnUuZGlzcG9zZSgpLHUubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSYmKHUuc2NhbGluZz1uZXcgZyguOSwuOSwuOSkpLGF8fChhPXUubmFtZT09PSJkMTAwIiksb3x8KG89dS5uYW1lPT09ImQxMCIpLHUuc2V0RW5hYmxlZCghMSksdS5mcmVlemVOb3JtYWxzKCksdS5mcmVlemVXb3JsZE1hdHJpeCgpLHUuaXNQaWNrYWJsZT0hMSx1LmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMCx1Lm5hbWU9cysiXyIrdS5uYW1lfSksIWEmJm8mJih0LmdldE1lc2hCeU5hbWUocysiX2QxMCIpLmNsb25lKHMrIl9kMTAwIiksdC5nZXRNZXNoQnlOYW1lKHMrIl9kMTBfY29sbGlkZXIiKS5jbG9uZShzKyJfZDEwMF9jb2xsaWRlciIpLGguY29sbGlkZXJGYWNlTWFwJiYoaC5jb2xsaWRlckZhY2VNYXAuZDEwMD1EcihoLmNvbGxpZGVyRmFjZU1hcC5kMTApLE9iamVjdC52YWx1ZXMoaC5jb2xsaWRlckZhY2VNYXAuZDEwMCkuZm9yRWFjaCgodSxmKT0+e2guY29sbGlkZXJGYWNlTWFwLmQxMDBbZl09dSoodT09PTEwPzA6MTApfSkpKSwhaC5jb2xsaWRlckZhY2VNYXApdGhyb3cgbmV3IEVycm9yKGAnY29sbGlkZXJGYWNlTWFwJyBkYXRhIG5vdCBmb3VuZCBpbiAke2l9LiBXaXRob3V0IHRoZSBjb2xsaWRlckZhY2VNYXAgZGF0YSBkaWNlIHZhbHVlcyBjYW4gbm90IGJlIHJlc29sdmVkLmApO3QudGhlbWVEYXRhW3NdPXt9LHQudGhlbWVEYXRhW3NdLmNvbGxpZGVyRmFjZU1hcD1oLmNvbGxpZGVyRmFjZU1hcCx0LnRoZW1lRGF0YVtzXS5kNEZhY2VEb3duPW59KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKSxoLm1lc2hlcy5maWx0ZXIobD0+bC5uYW1lLmluY2x1ZGVzKCJjb2xsaWRlciIpKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ey4uLnRoaXMuY29uZmlnLC4uLmV9fXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxpKXtyZXR1cm4genQudmVjdG9yMy5zZXQoZSx0LGkpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIHp0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSx0KXtjb25zdCBpPShzPWUpPT5uZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9ZS5jb25maWcucGFyZW50TWVzaHx8ZS5jb25maWcubWVzaE5hbWUsbz10LnRoZW1lRGF0YVthXS5jb2xsaWRlckZhY2VNYXAsaD10LnRoZW1lRGF0YVthXS5kNEZhY2VEb3duO2lmKCFvW3MuZGllVHlwZV0pdGhyb3cgbmV3IEVycm9yKGBObyBjb2xsaWRlckZhY2VNYXAgZGF0YSBmb3IgJHtzLmRpZVR5cGV9YCk7Y29uc3QgbD10LmdldE1lc2hCeU5hbWUoYCR7YX1fJHtzLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7YX1fJHtzLmRpZVR5cGV9LWhpdGJveC0ke3MuaWR9YCk7bC5pc1BpY2thYmxlPSEwLGwuaXNWaXNpYmxlPSEwLGwuc2V0RW5hYmxlZCghMCksbC5wb3NpdGlvbj1zLm1lc2gucG9zaXRpb24sbC5yb3RhdGlvblF1YXRlcm5pb249cy5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbjtsZXQgdT16dC5zZXRWZWN0b3IzKDAsMSwwKTtzLmRpZVR5cGU9PT0iZDQiJiZoJiYodT16dC5zZXRWZWN0b3IzKDAsLTEsMCkpLHp0LnJheS5kaXJlY3Rpb249dSx6dC5yYXkub3JpZ2luPWUubWVzaC5wb3NpdGlvbjtjb25zdCBmPXQucGlja1dpdGhSYXkoenQucmF5KTtpZihsLmRpc3Bvc2UoKSxzLnZhbHVlPW9bcy5kaWVUeXBlXVtmLmZhY2VJZF0scy52YWx1ZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYGNvbGxpZGVyRmFjZU1hcCBFcnJvcjogTm8gdmFsdWUgZm91bmQgZm9yICR7cy5kaWVUeXBlfSBtZXNoIGZhY2UgJHtmLmZhY2VJZH1gKTtyZXR1cm4gcihzLnZhbHVlKX0pLmNhdGNoKHI9PmNvbnNvbGUuZXJyb3IocikpO3JldHVybiBlLm1lc2g/YXdhaXQgaSgpOmUudmFsdWV9fTtsZXQgSXQ9enQ7U3QoSXQsInJheSIsbmV3IF9lKGcuWmVybygpLGcuWmVybygpLDEpKSxTdChJdCwidmVjdG9yMyIsbmV3IGcuWmVybyk7Y2xhc3MgZGx7Y29uc3RydWN0b3IoKXt9fWNsYXNzIGVpIGV4dGVuZHMgT3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5DdXN0b21QYXJ0cz1uZXcgZGwsdGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZT10aGlzLkJ1aWxkZXIsdGhpcy5GcmFnbWVudFNoYWRlcj1GZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFBpeGVsU2hhZGVyLHRoaXMuVmVydGV4U2hhZGVyPUZlLlNoYWRlcnNTdG9yZS5kZWZhdWx0VmVydGV4U2hhZGVyfUF0dGFjaEFmdGVyQmluZChlLHQpe2lmKHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXMpZm9yKGNvbnN0IGkgaW4gdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcyl7Y29uc3Qgcz1pLnRvU3RyaW5nKCkuc3BsaXQoIi0iKTtzWzBdPT0idmVjMiI/dC5zZXRWZWN0b3IyKHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09InZlYzMiP3Quc2V0VmVjdG9yMyhzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJ2ZWM0Ij90LnNldFZlY3RvcjQoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0ibWF0NCI/dC5zZXRNYXRyaXgoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0iZmxvYXQiJiZ0LnNldEZsb2F0KHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSl9aWYodGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcylmb3IoY29uc3QgaSBpbiB0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKXtjb25zdCBzPWkudG9TdHJpbmcoKS5zcGxpdCgiLSIpO3NbMF09PSJzYW1wbGVyMkQiJiZ0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW2ldLmlzUmVhZHkmJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0uaXNSZWFkeSgpJiZ0LnNldFRleHR1cmUoc1sxXSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW2ldKX19UmV2aWV3VW5pZm9ybShlLHQpe2lmKGU9PSJ1bmlmb3JtIiYmdGhpcy5fbmV3VW5pZm9ybXMpZm9yKGxldCBpPTA7aTx0aGlzLl9uZXdVbmlmb3Jtcy5sZW5ndGg7aSsrKXRoaXMuX2N1c3RvbVVuaWZvcm1baV0uaW5kZXhPZigic2FtcGxlciIpPT0tMSYmdC5wdXNoKHRoaXMuX25ld1VuaWZvcm1zW2ldKTtpZihlPT0ic2FtcGxlciImJnRoaXMuX25ld1VuaWZvcm1zKWZvcihsZXQgaT0wO2k8dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO2krKyl0aGlzLl9jdXN0b21Vbmlmb3JtW2ldLmluZGV4T2YoInNhbXBsZXIiKSE9LTEmJnQucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tpXSk7cmV0dXJuIHR9QnVpbGRlcihlLHQsaSxzLHIsbil7aWYobiYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcyYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcy5sZW5ndGg+MCYmbi5wdXNoKC4uLnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMpLHRoaXMuUmV2aWV3VW5pZm9ybSgidW5pZm9ybSIsdCksdGhpcy5SZXZpZXdVbmlmb3JtKCJzYW1wbGVyIixzKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXIpcmV0dXJuIHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lO3RoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMSxlaS5TaGFkZXJJbmRleGVyKys7Y29uc3QgYT0iY3VzdG9tXyIrZWkuU2hhZGVySW5kZXhlcixvPXRoaXMuX2FmdGVyQmluZC5iaW5kKHRoaXMpO3JldHVybiB0aGlzLl9hZnRlckJpbmQ9KGgsbCk9PntpZighIWwpe3RoaXMuQXR0YWNoQWZ0ZXJCaW5kKGgsbCk7dHJ5e28oaCxsKX1jYXRjaHt9fX0sRmUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdPXRoaXMuVmVydGV4U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQmJihGZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl09RmUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQpKSxGZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXT10aGlzLkZyYWdtZW50U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nJiYoRmUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl09RmUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nKSksdGhpcy5faXNDcmVhdGVkU2hhZGVyPSEwLHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lPWEsYX1BZGRVbmlmb3JtKGUsdCxpKXtyZXR1cm4gdGhpcy5fY3VzdG9tVW5pZm9ybXx8KHRoaXMuX2N1c3RvbVVuaWZvcm09bmV3IEFycmF5LHRoaXMuX25ld1VuaWZvcm1zPW5ldyBBcnJheSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzPXt9LHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXM9e30pLGkmJih0LmluZGV4T2YoInNhbXBsZXIiKSE9LTE/dGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1t0KyItIitlXT1pOnRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbdCsiLSIrZV09aSksdGhpcy5fY3VzdG9tVW5pZm9ybS5wdXNoKCJ1bmlmb3JtICIrdCsiICIrZSsiOyIpLHRoaXMuX25ld1VuaWZvcm1zLnB1c2goZSksdGhpc31BZGRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXN8fCh0aGlzLl9jdXN0b21BdHRyaWJ1dGVzPVtdKSx0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLnB1c2goZSksdGhpc31GcmFnbWVudF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLHRoaXN9RnJhZ21lbnRfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZSx0aGlzfUZyYWdtZW50X01haW5CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW49ZSx0aGlzfUZyYWdtZW50X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD1lLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5yZXBsYWNlKCJyZXN1bHQiLCJkaWZmdXNlQ29sb3IiKSx0aGlzfUZyYWdtZW50X0N1c3RvbV9BbHBoYShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5yZXBsYWNlKCJyZXN1bHQiLCJhbHBoYSIpLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUsdGhpc31GcmFnbWVudF9CZWZvcmVfRm9nKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLnJlcGxhY2UoInJlc3VsdCIsImNvbG9yIiksdGhpc31WZXJ0ZXhfQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luPWUsdGhpc31WZXJ0ZXhfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zPWUsdGhpc31WZXJ0ZXhfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZSx0aGlzfVZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0IiwicG9zaXRpb25VcGRhdGVkIiksdGhpc31WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0Iiwibm9ybWFsVXBkYXRlZCIpLHRoaXN9VmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQ9ZSx0aGlzfVZlcnRleF9NYWluRW5kKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kPWUsdGhpc319ZWkuU2hhZGVySW5kZXhlcj0xLHR0KCJCQUJZTE9OLkN1c3RvbU1hdGVyaWFsIixlaSksZWkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcyx0PXJlLkNsb25lKCgpPT5uZXcgZWkoYyx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO3JldHVybiB0Lm5hbWU9Yyx0LmlkPWMsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4sdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnMsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkLHQuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZCx0fTtjbGFzcyBfbHtjb25zdHJ1Y3RvcihlKXtTdCh0aGlzLCJsb2FkZWRUaGVtZXMiLHt9KTtTdCh0aGlzLCJ0aGVtZURhdGEiLHt9KTt0aGlzLnNjZW5lPWUuc2NlbmV9YXN5bmMgbG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IE8odCx0aGlzLnNjZW5lKTtpLmRpZmZ1c2VUZXh0dXJlJiYocy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLGUpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITF9YXN5bmMgbG9hZENvbG9yTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IGVpKHQrIl9saWdodCIsdGhpcy5zY2VuZSkscj1EcihlKTtpLmRpZmZ1c2VUZXh0dXJlJiZpLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0JiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0LHMuZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksaS5idW1wVGV4dHVyZSYmKHMuYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksaS5zcGVjdWxhclRleHR1cmUmJihzLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSkscy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLHMuVmVydGV4X0RlZmluaXRpb25zKGAKICAgICAgYXR0cmlidXRlIHZlYzMgY3VzdG9tQ29sb3I7CiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5WZXJ0ZXhfTWFpbkVuZChgCiAgICAgIHZDb2xvciA9IGN1c3RvbUNvbG9yOwogICAgYCkuRnJhZ21lbnRfRGVmaW5pdGlvbnMoYAogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAogICAgICBiYXNlQ29sb3IucmdiID0gbWl4KHZDb2xvci5yZ2IsIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKICAgIGApLHMuQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpO2NvbnN0IG49cy5jbG9uZSh0KyJfZGFyayIpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUuZGFyayYmKHIubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5kYXJrLG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksbi5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIil9YXN5bmMgZ2V0VGV4dHVyZShlLHQpe2NvbnN0e2Jhc2VQYXRoOmksbWF0ZXJpYWw6cyx0aGVtZTpyfT10O2xldCBuO2NvbnN0IGE9ZSsiTGV2ZWwiLG89ZSsiVGV4dHVyZSI7dHJ5e3N3aXRjaChlKXtjYXNlImRpZmZ1c2UiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJidW1wIjpuPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke2l9LyR7c1tvXX1gLHIpLHNbYV0mJihuLmxldmVsPXNbYV0pO2JyZWFrO2Nhc2Uic3BlY3VsYXIiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAscikscy5zcGVjdWxhclBvd2VyJiYobi5zcGVjdWxhclBvd2VyPXMuc3BlY3VsYXJQb3dlcik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgdHlwZTogJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fWNhdGNoKGgpe2NvbnNvbGUuZXJyb3IoaCl9cmV0dXJuIG59YXN5bmMgaW1wb3J0VGV4dHVyZUFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57bGV0IHI9ZS5tYXRjaCgvXiguKlwvKSguKikkLyksbj1uZXcgQihlLHRoaXMuc2NlbmUsdm9pZCAwLCEwLHZvaWQgMCwoKT0+aShuKSwoKT0+cyhgVW5hYmxlIHRvIGxvYWQgdGV4dHVyZSAnJHtyWzJdfScgZm9yIHRoZW1lOiAnJHt0fScuIENoZWNrIHRoYXQgeW91ciBhc3NldFBhdGggaXMgY29uZmlndXJlZCBjb3JyZWN0bHkgYW5kIHRoYXQgdGhlIGZpbGVzIGV4aXN0IGF0IHBhdGg6ICcke3JbMV19J2ApKX0pLmNhdGNoKGk9PmNvbnNvbGUuZXJyb3IoaSkpfWFzeW5jIGxvYWQoZSl7Y29uc3R7bWF0ZXJpYWw6dH09ZTt0LnR5cGU9PT0iY29sb3IiP2F3YWl0IHRoaXMubG9hZENvbG9yTWF0ZXJpYWwoZSk6dC50eXBlPT09InN0YW5kYXJkIj9hd2FpdCB0aGlzLmxvYWRTdGFuZGFyZE1hdGVyaWFsKGUpOmNvbnNvbGUuZXJyb3IoYE1hdGVyaWFsIHR5cGU6ICR7dC50eXBlfSBub3Qgc3VwcG9ydGVkYCl9fWNsYXNzIGdse2NvbnN0cnVjdG9yKGUpe3J0KHRoaXMsb3MpO1N0KHRoaXMsImNvbmZpZyIpO1N0KHRoaXMsImluaXRpYWxpemVkIiwhMSk7cnQodGhpcyxYZSx7fSk7cnQodGhpcyxTaSwwKTtydCh0aGlzLER0LDApO3J0KHRoaXMsYmksW10pO3J0KHRoaXMsTXQsdm9pZCAwKTtydCh0aGlzLFR0LHZvaWQgMCk7cnQodGhpcyxKZSx2b2lkIDApO3J0KHRoaXMsYXMsdm9pZCAwKTtydCh0aGlzLEF0LHZvaWQgMCk7cnQodGhpcyxMaSx2b2lkIDApO3J0KHRoaXMsTmksdm9pZCAwKTtydCh0aGlzLF90LHZvaWQgMCk7cnQodGhpcyxCaSx7fSk7U3QodGhpcywibm9vcCIsKCk9Pnt9KTtTdCh0aGlzLCJkaWNlQnVmZmVyVmlldyIsbmV3IEZsb2F0MzJBcnJheSg4ZTMpKTt0aGlzLm9uSW5pdENvbXBsZXRlPWUub25Jbml0Q29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uVGhlbWVMb2FkZWQ9ZS5vblRoZW1lTG9hZGVkfHx0aGlzLm5vb3AsdGhpcy5vblJvbGxSZXN1bHQ9ZS5vblJvbGxSZXN1bHR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbENvbXBsZXRlPWUub25Sb2xsQ29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uRGllUmVtb3ZlZD1lLm9uRGllUmVtb3ZlZHx8dGhpcy5ub29wLHRoaXMuaW5pdGlhbGl6ZWQ9dGhpcy5pbml0U2NlbmUoZSl9YXN5bmMgaW5pdFNjZW5lKGUpe2h0KHRoaXMsTXQsZS5jYW52YXMpLFkodGhpcyxNdCkud2lkdGg9ZS53aWR0aCxZKHRoaXMsTXQpLmhlaWdodD1lLmhlaWdodCx0aGlzLmNvbmZpZz1lLm9wdGlvbnMsaHQodGhpcyxUdCxKcihZKHRoaXMsTXQpKSksaHQodGhpcyxKZSxGbih7ZW5naW5lOlkodGhpcyxUdCl9KSksaHQodGhpcyxhcyx3bih7ZW5naW5lOlkodGhpcyxUdCksc2NlbmU6WSh0aGlzLEplKX0pKSxodCh0aGlzLEF0LHlyKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2hhZG93VHJhbnNwYXJlbmN5OnRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSxpbnRlbnNpdHk6dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksc2NlbmU6WSh0aGlzLEplKX0pKSxodCh0aGlzLExpLG5ldyBsbCh7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLGFzcGVjdDpZKHRoaXMsTXQpLndpZHRoL1kodGhpcyxNdCkuaGVpZ2h0LGxpZ2h0czpZKHRoaXMsQXQpLHNjZW5lOlkodGhpcyxKZSl9KSksaHQodGhpcyxOaSxuZXcgX2woe3NjZW5lOlkodGhpcyxKZSl9KSksdGhpcy5vbkluaXRDb21wbGV0ZSgpfWNvbm5lY3QoZSl7aHQodGhpcyxfdCxlKSxZKHRoaXMsX3QpLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXRCdWZmZXIiLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pLFkodGhpcyxfdCkub25tZXNzYWdlPXQ9Pntzd2l0Y2godC5kYXRhLmFjdGlvbil7Y2FzZSJ1cGRhdGVzIjp0aGlzLnVwZGF0ZXNGcm9tUGh5c2ljcyh0LmRhdGEuZGljZUJ1ZmZlcik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gZnJvbSBwaHlzaWNzV29ya2VyIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIik7YnJlYWt9fX11cGRhdGVDb25maWcoZSl7Y29uc3QgdD10aGlzLmNvbmZpZzt0aGlzLmNvbmZpZz1lLHQuZW5hYmxlU2hhZG93cyE9PXRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MmJihPYmplY3QudmFsdWVzKFkodGhpcyxBdCkpLmZvckVhY2goaT0+aS5kaXNwb3NlKCkpLGh0KHRoaXMsQXQseXIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93c30pKSksdC5zY2FsZSE9PXRoaXMuY29uZmlnLnNjYWxlJiZPYmplY3QudmFsdWVzKFkodGhpcyxYZSkpLmZvckVhY2goKHttZXNoOml9KT0+e2kmJihpLnNjYWxpbmc9bmV3IGcodGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUpKX0pLHQuc2hhZG93VHJhbnNwYXJlbmN5IT09dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5JiYoWSh0aGlzLEF0KS5kaXJlY3Rpb25hbC5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5KSx0LmxpZ2h0SW50ZW5zaXR5IT09dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHkmJihZKHRoaXMsQXQpLmRpcmVjdGlvbmFsLmludGVuc2l0eT0uNjUqdGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksWSh0aGlzLEF0KS5oZW1pc3BoZXJpYy5pbnRlbnNpdHk9LjQqdGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHkpfXJlbmRlcihlKXtZKHRoaXMsVHQpLnJ1blJlbmRlckxvb3AodGhpcy5yZW5kZXJMb29wLmJpbmQodGhpcykpLFkodGhpcyxfdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicmVzdW1lU2ltdWxhdGlvbiIsbmV3U3RhcnRQb2ludDplfSl9cmVuZGVyTG9vcCgpe1kodGhpcyxEdCkmJlkodGhpcyxEdCk9PT1PYmplY3Qua2V5cyhZKHRoaXMsWGUpKS5sZW5ndGg/KFkodGhpcyxUdCkuc3RvcFJlbmRlckxvb3AoKSxZKHRoaXMsX3QpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0b3BTaW11bGF0aW9uIn0pLHRoaXMub25Sb2xsQ29tcGxldGUoKSk6WSh0aGlzLEplKS5yZW5kZXIoKX1hc3luYyBsb2FkVGhlbWUoZSl7Y29uc3R7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnMsbWVzaEZpbGVQYXRoOnIsbWVzaE5hbWU6bn09ZTtpZihhd2FpdCBZKHRoaXMsTmkpLmxvYWQoe3RoZW1lOnQsYmFzZVBhdGg6aSxtYXRlcmlhbDpzfSksIU9iamVjdC5rZXlzKFkodGhpcyxCaSkpLmluY2x1ZGVzKG4pKXtZKHRoaXMsQmkpW25dPXI7Y29uc3QgYT1hd2FpdCBJdC5sb2FkTW9kZWxzKHttZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufSxZKHRoaXMsSmUpKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIk5vIGNvbGxpZGVycyByZXR1cm5lZCBmcm9tIHRoZSAzRCBtZXNoIGZpbGUuIExvdyBwb2x5IGNvbGxpZGVycyBhcmUgZXhwZWN0ZWQgdG8gYmUgaW4gdGhlIHNhbWUgZmlsZSBhcyB0aGUgaGlnaCBwb2x5IGRpY2UgYW5kIHRoZSBtZXNoIG5hbWUgY29udGFpbnMgdGhlIHdvcmQgJ2NvbGxpZGVyJyIpO1kodGhpcyxfdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoibG9hZE1vZGVscyIsb3B0aW9uczp7Y29sbGlkZXJzOmEsbWVzaE5hbWU6bn19KX10aGlzLm9uVGhlbWVMb2FkZWQoe2lkOnR9KX1jbGVhcigpeyFPYmplY3Qua2V5cyhZKHRoaXMsWGUpKS5sZW5ndGgmJiFZKHRoaXMsRHQpfHwodGhpcy5kaWNlQnVmZmVyVmlldy5ieXRlTGVuZ3RoJiZ0aGlzLmRpY2VCdWZmZXJWaWV3LmZpbGwoMCksWSh0aGlzLGJpKS5mb3JFYWNoKGU9PmNsZWFyVGltZW91dChlKSksWSh0aGlzLFR0KS5zdG9wUmVuZGVyTG9vcCgpLE9iamVjdC52YWx1ZXMoWSh0aGlzLFhlKSkuZm9yRWFjaChlPT57ZS5tZXNoJiZlLm1lc2guZGlzcG9zZSgpfSksaHQodGhpcyxYZSx7fSksaHQodGhpcyxTaSwwKSxodCh0aGlzLER0LDApLFkodGhpcyxKZSkucmVuZGVyKCkpfWFkZChlKXtJdC5sb2FkRGllKGUsWSh0aGlzLEplKSkudGhlbih0PT57WSh0aGlzLGJpKS5wdXNoKHNldFRpbWVvdXQoKCk9PntGcih0aGlzLG9zLHdyKS5jYWxsKHRoaXMsdCl9LHhpKHRoaXMsU2kpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSl9YWRkTm9uRGllKGUpe1kodGhpcyxUdCkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoITEpO2NvbnN0e2lkOnQsdmFsdWU6aSwuLi5zfT1lLHI9e2lkOnQsdmFsdWU6aSxjb25maWc6c307WSh0aGlzLFhlKVt0XT1yLHNldFRpbWVvdXQoKCk9PntZKHRoaXMsYmkpLnB1c2goc2V0VGltZW91dCgoKT0+e3RoaXMuaGFuZGxlQXNsZWVwKHIpfSx4aSh0aGlzLFNpKS5fKysqdGhpcy5jb25maWcuZGVsYXkpKX0sMTApfXJlbW92ZShlKXtjb25zdCB0PVkodGhpcyxYZSlbZS5pZF07dC5oYXNPd25Qcm9wZXJ0eSgiZDEwSW5zdGFuY2UiKSYmKFkodGhpcyxYZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaCYmKFkodGhpcyxYZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaC5kaXNwb3NlKCksWSh0aGlzLF90KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZW1vdmVEaWUiLGlkOnQuZDEwSW5zdGFuY2UuaWR9KSksZGVsZXRlIFkodGhpcyxYZSlbdC5kMTBJbnN0YW5jZS5pZF0seGkodGhpcyxEdCkuXy0tKSxZKHRoaXMsWGUpW2UuaWRdLm1lc2gmJlkodGhpcyxYZSlbZS5pZF0ubWVzaC5kaXNwb3NlKCksZGVsZXRlIFkodGhpcyxYZSlbZS5pZF0seGkodGhpcyxEdCkuXy0tLFkodGhpcyxKZSkucmVuZGVyKCksdGhpcy5vbkRpZVJlbW92ZWQoZS5yb2xsSWQpfXVwZGF0ZXNGcm9tUGh5c2ljcyhlKXt0aGlzLmRpY2VCdWZmZXJWaWV3PW5ldyBGbG9hdDMyQXJyYXkoZSk7bGV0IHQ9MTtmb3IobGV0IGk9MCxzPXRoaXMuZGljZUJ1ZmZlclZpZXdbMF07aTxzO2krKyl7aWYoIU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aCljb250aW51ZTtjb25zdCByPVkodGhpcyxYZSlbYCR7dGhpcy5kaWNlQnVmZmVyVmlld1t0XX1gXTtpZighcil7Y29uc29sZS5sb2coIkVycm9yOiBkaWUgbm90IGF2YWlsYWJsZSBpbiBzY2VuZSB0byBhbmltYXRlIik7YnJlYWt9aWYodGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdPT09LTEpdGhpcy5oYW5kbGVBc2xlZXAocik7ZWxzZXtjb25zdCBuPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsxXSxhPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsyXSxvPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCszXSxoPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs0XSxsPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs1XSx1PXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs2XSxmPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs3XTtyLm1lc2gucG9zaXRpb24uc2V0KG4sYSxvKSxyLm1lc2gucm90YXRpb25RdWF0ZXJuaW9uLnNldChoLGwsdSxmKX10PXQrOH1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntZKHRoaXMsX3QpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0ZXBTaW11bGF0aW9uIixkaWNlQnVmZmVyOnRoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyfSxbdGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJdKX0pfWFzeW5jIGhhbmRsZUFzbGVlcChlKXt2YXIgdCxpO2lmKGUuYXNsZWVwPSEwLGF3YWl0IEl0LmdldFJvbGxSZXN1bHQoZSxZKHRoaXMsSmUpKSxlLmQxMEluc3RhbmNlfHxlLmRpZVBhcmVudCl7aWYoKCh0PWU9PW51bGw/dm9pZCAwOmUuZDEwSW5zdGFuY2UpPT1udWxsP3ZvaWQgMDp0LmFzbGVlcCl8fCgoaT1lPT1udWxsP3ZvaWQgMDplLmRpZVBhcmVudCk9PW51bGw/dm9pZCAwOmkuYXNsZWVwKSl7Y29uc3Qgcz1lLmNvbmZpZy5zaWRlcz09PTEwMD9lOmUuZGllUGFyZW50LHI9ZS5jb25maWcuc2lkZXM9PT0xMD9lOmUuZDEwSW5zdGFuY2U7ci52YWx1ZT09PTAmJnMudmFsdWU9PT0wP3MudmFsdWU9MTAwOnMudmFsdWU9cy52YWx1ZStyLnZhbHVlLHRoaXMub25Sb2xsUmVzdWx0KHtyb2xsSWQ6cy5jb25maWcucm9sbElkLHZhbHVlOnMudmFsdWV9KX19ZWxzZSBlLmNvbmZpZy5zaWRlcz09PTEwJiZlLnZhbHVlPT09MCYmKGUudmFsdWU9MTApLHRoaXMub25Sb2xsUmVzdWx0KHtyb2xsSWQ6ZS5jb25maWcucm9sbElkLHZhbHVlOmUudmFsdWV9KTt4aSh0aGlzLER0KS5fKyt9cmVzaXplKGUpe2NvbnN0IHQ9WSh0aGlzLE10KS53aWR0aD1lLndpZHRoLGk9WSh0aGlzLE10KS5oZWlnaHQ9ZS5oZWlnaHQ7WSh0aGlzLExpKS5jcmVhdGUoe2FzcGVjdDp0L2l9KSxZKHRoaXMsVHQpLnJlc2l6ZSgpfX1YZT1uZXcgV2Vha01hcCxTaT1uZXcgV2Vha01hcCxEdD1uZXcgV2Vha01hcCxiaT1uZXcgV2Vha01hcCxNdD1uZXcgV2Vha01hcCxUdD1uZXcgV2Vha01hcCxKZT1uZXcgV2Vha01hcCxhcz1uZXcgV2Vha01hcCxBdD1uZXcgV2Vha01hcCxMaT1uZXcgV2Vha01hcCxOaT1uZXcgV2Vha01hcCxfdD1uZXcgV2Vha01hcCxCaT1uZXcgV2Vha01hcCxvcz1uZXcgV2Vha1NldCx3cj1hc3luYyBmdW5jdGlvbihlKXtZKHRoaXMsVHQpLmFjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD09PTAmJnRoaXMucmVuZGVyKGUubmV3U3RhcnRQb2ludCk7Y29uc3QgdD17Li4uZSxhc3NldFBhdGg6dGhpcy5jb25maWcuYXNzZXRQYXRoLGVuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxsaWdodHM6WSh0aGlzLEF0KX0saT1uZXcgSXQodCxZKHRoaXMsSmUpKTtyZXR1cm4gWSh0aGlzLFhlKVtpLmlkXT1pLFkodGhpcyxfdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiYWRkRGllIixvcHRpb25zOntzaWRlczplLnNpZGVzLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGlkOmkuaWQsbmV3U3RhcnRQb2ludDplLm5ld1N0YXJ0UG9pbnQsdGhlbWU6ZS50aGVtZSxtZXNoTmFtZTplLm1lc2hOYW1lfX0pLGUuc2lkZXM9PT0xMDAmJihpLmQxMEluc3RhbmNlPWF3YWl0IEl0LmxvYWREaWUoey4uLnQsc2lkZXM6MTAsaWQ6aS5pZCsxZTR9LFkodGhpcyxKZSkpLnRoZW4ocz0+e2NvbnN0IHI9bmV3IEl0KHMsWSh0aGlzLEplKSk7cmV0dXJuIHIuZGllUGFyZW50PWkscn0pLFkodGhpcyxYZSlbYCR7aS5kMTBJbnN0YW5jZS5pZH1gXT1pLmQxMEluc3RhbmNlLFkodGhpcyxfdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiYWRkRGllIixvcHRpb25zOntzaWRlczoxMCxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxpZDppLmQxMEluc3RhbmNlLmlkLHRoZW1lOmUudGhlbWUsbWVzaE5hbWU6ZS5tZXNoTmFtZX19KSksaX07bGV0IFB0O3NlbGYub25tZXNzYWdlPWFzeW5jIGM9Pntzd2l0Y2goYy5kYXRhLmFjdGlvbil7Y2FzZSJyb2xsRGllIjpQdC5waHlzaWNzV29ya2VyUG9ydC5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsIn0pO2JyZWFrO2Nhc2UiYWRkRGllIjpQdC5hZGQoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiYWRkTm9uRGllIjpQdC5hZGROb25EaWUoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UibG9hZFRoZW1lIjphd2FpdCBQdC5sb2FkVGhlbWUoYy5kYXRhLm9wdGlvbnMpLmNhdGNoKGU9PmNvbnNvbGUuZXJyb3IoZSkpO2JyZWFrO2Nhc2UiY2xlYXJEaWNlIjpQdC5jbGVhcigpO2JyZWFrO2Nhc2UicmVtb3ZlRGllIjpQdC5yZW1vdmUoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UicmVzaXplIjpQdC5yZXNpemUoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiaW5pdCI6UHQ9bmV3IGdsKHsuLi5jLmRhdGEsb25Jbml0Q29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXQtY29tcGxldGUifSl9LG9uVGhlbWVMb2FkZWQ6KHtpZDplfSk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InRoZW1lLWxvYWRlZCIsaWQ6ZX0pfSxvblJvbGxSZXN1bHQ6KHtyb2xsSWQ6ZSx2YWx1ZTp0fSk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtcmVzdWx0IixkaWU6e3JvbGxJZDplLHZhbHVlOnR9fSl9LG9uUm9sbENvbXBsZXRlOigpPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLWNvbXBsZXRlIn0pfSxvbkRpZVJlbW92ZWQ6ZT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZGllLXJlbW92ZWQiLHJvbGxJZDplfSl9fSk7YnJlYWs7Y2FzZSJ1cGRhdGVDb25maWciOlB0LnVwZGF0ZUNvbmZpZyhjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJjb25uZWN0IjpQdC5jb25uZWN0KGMuZGF0YS5wb3J0KSxzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImNvbm5lY3QtY29tcGxldGUifSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKX19fSkoKTsK", y = typeof window < "u" && window.Blob && new Blob([atob(p)], { type: "text/javascript;charset=utf-8" });
function N() {
  const X = y && (window.URL || window.webkitURL).createObjectURL(y);
  try {
    return X ? new Worker(X) : new Worker("data:application/javascript;base64," + p);
  } finally {
    X && (window.URL || window.webkitURL).revokeObjectURL(X);
  }
}
var b, G, W, Y;
class U {
  constructor(l) {
    m(this, W);
    d(this, "initialized", !1);
    d(this, "offscreenWorkerInit", !1);
    d(this, "themeLoadedInit", !1);
    d(this, "pendingThemePromises", {});
    m(this, b, void 0);
    m(this, G, void 0);
    d(this, "onRollResult", () => {
    });
    d(this, "onRollComplete", () => {
    });
    this.onInitComplete = l.onInitComplete, h(this, b, l.canvas.transferControlToOffscreen()), h(this, G, new N()), V(this, G).init = new Promise((Z, c) => {
      this.offscreenWorkerInit = Z;
    }), this.initialized = a(this, W, Y).call(this, l);
  }
  connect(l) {
    V(this, G).postMessage({
      action: "connect",
      port: l
    }, [l]);
  }
  updateConfig(l) {
    V(this, G).postMessage({ action: "updateConfig", options: l });
  }
  resize(l) {
    V(this, G).postMessage({ action: "resize", options: l });
  }
  async loadTheme(l) {
    return new Promise((Z, c) => {
      if (Object.keys(this.pendingThemePromises).includes(l.theme))
        return Z();
      this.pendingThemePromises[l.theme] = Z, V(this, G).postMessage({ action: "loadTheme", options: l });
    }).catch((Z) => console.error(Z));
  }
  clear() {
    V(this, G).postMessage({ action: "clearDice" });
  }
  add(l) {
    V(this, G).postMessage({ action: "addDie", options: l });
  }
  addNonDie(l) {
    V(this, G).postMessage({ action: "addNonDie", options: l });
  }
  remove(l) {
    V(this, G).postMessage({ action: "removeDie", options: l });
  }
}
b = new WeakMap(), G = new WeakMap(), W = new WeakSet(), Y = async function(l) {
  return V(this, G).postMessage({
    action: "init",
    canvas: V(this, b),
    width: l.canvas.clientWidth,
    height: l.canvas.clientHeight,
    options: l.options
  }, [V(this, b)]), V(this, G).onmessage = (Z) => {
    switch (Z.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "connect-complete":
        break;
      case "theme-loaded":
        Z.data.id && this.pendingThemePromises[Z.data.id](Z.data.id);
        break;
      case "roll-result":
        this.onRollResult(Z.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(Z.data.rollId);
        break;
    }
  }, await V(this, G).init, this.onInitComplete(!0), !0;
};
export {
  U as default
};
