var u = Object.defineProperty;
var J = (X, l, Z) => l in X ? u(X, l, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : X[l] = Z;
var d = (X, l, Z) => (J(X, typeof l != "symbol" ? l + "" : l, Z), Z), R = (X, l, Z) => {
  if (!l.has(X))
    throw TypeError("Cannot " + Z);
};
var V = (X, l, Z) => (R(X, l, "read from private field"), Z ? Z.call(X) : l.get(X)), m = (X, l, Z) => {
  if (l.has(X))
    throw TypeError("Cannot add the same private member more than once");
  l instanceof WeakSet ? l.add(X) : l.set(X, Z);
}, h = (X, l, Z, c) => (R(X, l, "write to private field"), c ? c.call(X, Z) : l.set(X, Z), Z);
var a = (X, l, Z) => (R(X, l, "access private method"), Z);
const p = "dmFyIExsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgTmw9KFgsU2UseWUpPT5TZSBpbiBYP0xsKFgsU2Use2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnllfSk6WFtTZV09eWU7dmFyIGJ0PShYLFNlLHllKT0+KE5sKFgsdHlwZW9mIFNlIT0ic3ltYm9sIj9TZSsiIjpTZSx5ZSkseWUpLGpzPShYLFNlLHllKT0+e2lmKCFTZS5oYXMoWCkpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIit5ZSl9O3ZhciBZPShYLFNlLHllKT0+KGpzKFgsU2UsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIikseWU/eWUuY2FsbChYKTpTZS5nZXQoWCkpLG50PShYLFNlLHllKT0+e2lmKFNlLmhhcyhYKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtTZSBpbnN0YW5jZW9mIFdlYWtTZXQ/U2UuYWRkKFgpOlNlLnNldChYLHllKX0sbHQ9KFgsU2UseWUseGUpPT4oanMoWCxTZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLHhlP3hlLmNhbGwoWCx5ZSk6U2Uuc2V0KFgseWUpLHllKSx5aT0oWCxTZSx5ZSx4ZSk9Pih7c2V0IF8oQmUpe2x0KFgsU2UsQmUseWUpfSxnZXQgXygpe3JldHVybiBZKFgsU2UseGUpfX0pLHpyPShYLFNlLHllKT0+KGpzKFgsU2UsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLHllKTsoZnVuY3Rpb24oKXt2YXIgWGUsQWksRnQsUmksTXQsVHQsSmUsY3MsQXQsVmksV2ksZ3QsemksdXMsR3I7InVzZSBzdHJpY3QiO2NsYXNzIFh7c3RhdGljIFdpdGhpbkVwc2lsb24oZSx0LGk9MTQwMTI5OGUtNTEpe3JldHVybiBNYXRoLmFicyhlLXQpPD1pfXN0YXRpYyBUb0hleChlKXtjb25zdCB0PWUudG9TdHJpbmcoMTYpO3JldHVybiBlPD0xNT8oIjAiK3QpLnRvVXBwZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfXN0YXRpYyBTaWduKGUpe3JldHVybiBlPStlLGU9PT0wfHxpc05hTihlKT9lOmU+MD8xOi0xfXN0YXRpYyBDbGFtcChlLHQ9MCxpPTEpe3JldHVybiBNYXRoLm1pbihpLE1hdGgubWF4KHQsZSkpfXN0YXRpYyBMb2cyKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzJFfXN0YXRpYyBJTG9nMihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO2xldCB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH1zdGF0aWMgUmVwZWF0KGUsdCl7cmV0dXJuIGUtTWF0aC5mbG9vcihlL3QpKnR9c3RhdGljIE5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuKGUtdCkvKGktdCl9c3RhdGljIERlbm9ybWFsaXplKGUsdCxpKXtyZXR1cm4gZSooaS10KSt0fXN0YXRpYyBEZWx0YUFuZ2xlKGUsdCl7bGV0IGk9WC5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIGk+MTgwJiYoaS09MzYwKSxpfXN0YXRpYyBQaW5nUG9uZyhlLHQpe2NvbnN0IGk9WC5SZXBlYXQoZSx0KjIpO3JldHVybiB0LU1hdGguYWJzKGktdCl9c3RhdGljIFNtb290aFN0ZXAoZSx0LGkpe2xldCBzPVguQ2xhbXAoaSk7cmV0dXJuIHM9LTIqcypzKnMrMypzKnMsdCpzK2UqKDEtcyl9c3RhdGljIE1vdmVUb3dhcmRzKGUsdCxpKXtsZXQgcz0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1pP3M9dDpzPWUrWC5TaWduKHQtZSkqaSxzfXN0YXRpYyBNb3ZlVG93YXJkc0FuZ2xlKGUsdCxpKXtjb25zdCBzPVguRGVsdGFBbmdsZShlLHQpO2xldCByPTA7cmV0dXJuLWk8cyYmczxpP3I9dDoodD1lK3Mscj1YLk1vdmVUb3dhcmRzKGUsdCxpKSkscn1zdGF0aWMgTGVycChlLHQsaSl7cmV0dXJuIGUrKHQtZSkqaX1zdGF0aWMgTGVycEFuZ2xlKGUsdCxpKXtsZXQgcz1YLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcz4xODAmJihzLT0zNjApLGUrcypYLkNsYW1wKGkpfXN0YXRpYyBJbnZlcnNlTGVycChlLHQsaSl7bGV0IHM9MDtyZXR1cm4gZSE9dD9zPVguQ2xhbXAoKGktZSkvKHQtZSkpOnM9MCxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW47cmV0dXJuIGUqbytpKmgrdCpsK3MqdX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXIqcjtyZXR1cm4obi1yKSo2KmUrKDMqbi00KnIrMSkqdCsoLW4rcikqNippKygzKm4tMipyKSpzfXN0YXRpYyBSYW5kb21SYW5nZShlLHQpe3JldHVybiBlPT09dD9lOk1hdGgucmFuZG9tKCkqKHQtZSkrZX1zdGF0aWMgUmFuZ2VUb1BlcmNlbnQoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBQZXJjZW50VG9SYW5nZShlLHQsaSl7cmV0dXJuKGktdCkqZSt0fXN0YXRpYyBOb3JtYWxpemVSYWRpYW5zKGUpe3JldHVybiBlLT1YLlR3b1BpKk1hdGguZmxvb3IoKGUrTWF0aC5QSSkvWC5Ud29QaSksZX1zdGF0aWMgSENGKGUsdCl7Y29uc3QgaT1lJXQ7cmV0dXJuIGk9PT0wP3Q6WC5IQ0YodCxpKX19WC5Ud29QaT1NYXRoLlBJKjI7Y29uc3QgU2U9MS8yLjIseWU9Mi4yLHhlPS4wMDE7Y2xhc3MgQmV7c3RhdGljIEJ1aWxkQXJyYXkoZSx0KXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZTsrK3MpaS5wdXNoKHQoKSk7cmV0dXJuIGl9c3RhdGljIEJ1aWxkVHVwbGUoZSx0KXtyZXR1cm4gQmUuQnVpbGRBcnJheShlLHQpfX1mdW5jdGlvbiBYcihjLGUsdCl7Y29uc3QgaT1jW2VdO2lmKHR5cGVvZiBpIT0iZnVuY3Rpb24iKXJldHVybiBudWxsO2NvbnN0IHM9ZnVuY3Rpb24oKXtjb25zdCByPWMubGVuZ3RoLG49cy5wcmV2aW91cy5hcHBseShjLGFyZ3VtZW50cyk7cmV0dXJuIHQoZSxyKSxufTtyZXR1cm4gaS5uZXh0PXMscy5wcmV2aW91cz1pLGNbZV09cywoKT0+e2NvbnN0IHI9cy5wcmV2aW91cztpZighcilyZXR1cm47Y29uc3Qgbj1zLm5leHQ7bj8oci5uZXh0PW4sbi5wcmV2aW91cz1yKTooci5uZXh0PXZvaWQgMCxjW2VdPXIpLHMubmV4dD12b2lkIDAscy5wcmV2aW91cz12b2lkIDB9fWNvbnN0IEhyPVsicHVzaCIsInNwbGljZSIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCJdO2Z1bmN0aW9uICRzKGMsZSl7Y29uc3QgdD1Ici5tYXAoaT0+WHIoYyxpLGUpKTtyZXR1cm4oKT0+e3QuZm9yRWFjaChpPT57aT09bnVsbHx8aSgpfSl9fWNvbnN0IFFzPXt9O2Z1bmN0aW9uIGl0KGMsZSl7UXNbY109ZX1mdW5jdGlvbiByaShjKXtyZXR1cm4gUXNbY119Y2xhc3MgVWV7c3RhdGljIFNldE1hdHJpeFByZWNpc2lvbihlKXtpZihVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMSxlJiYhVWUuTWF0cml4VXNlNjRCaXRzJiZVZS5NYXRyaXhUcmFja2VkTWF0cmljZXMpZm9yKGxldCB0PTA7dDxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXMubGVuZ3RoOysrdCl7Y29uc3QgaT1VZS5NYXRyaXhUcmFja2VkTWF0cmljZXNbdF0scz1pLl9tO2kuX209bmV3IEFycmF5KDE2KTtmb3IobGV0IHI9MDtyPDE2OysrcilpLl9tW3JdPXNbcl19VWUuTWF0cml4VXNlNjRCaXRzPWUsVWUuTWF0cml4Q3VycmVudFR5cGU9VWUuTWF0cml4VXNlNjRCaXRzP0FycmF5OkZsb2F0MzJBcnJheSxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9bnVsbH19VWUuTWF0cml4VXNlNjRCaXRzPSExLFVlLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlPSEwLFVlLk1hdHJpeEN1cnJlbnRUeXBlPUZsb2F0MzJBcnJheSxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9W107Y2xhc3MgZmV7c3RhdGljIGdldCBMYXN0Q3JlYXRlZEVuZ2luZSgpe3JldHVybiB0aGlzLkluc3RhbmNlcy5sZW5ndGg9PT0wP251bGw6dGhpcy5JbnN0YW5jZXNbdGhpcy5JbnN0YW5jZXMubGVuZ3RoLTFdfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiB0aGlzLl9MYXN0Q3JlYXRlZFNjZW5lfX1mZS5JbnN0YW5jZXM9bmV3IEFycmF5LGZlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwsZmUuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGZlLkZhbGxiYWNrVGV4dHVyZT0iIjtjb25zdCBzdD1jPT5wYXJzZUludChjLnRvU3RyaW5nKCkucmVwbGFjZSgvXFcvZywiIikpO2NsYXNzIHZle2NvbnN0cnVjdG9yKGU9MCx0PTApe3RoaXMueD1lLHRoaXMueT10fXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjIifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1zdCh0aGlzLngpLHQ9c3QodGhpcy55KTtsZXQgaT1lO3JldHVybiBpPWkqMzk3XnQsaX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHZlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFzQXJyYXkoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1hZGRUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0fWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9YWRkVmVjdG9yMyhlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUueCx0aGlzLnktZS55KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHR9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUueCx0aGlzLnkqZS55KX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHR9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnkpfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHR9ZGl2aWRlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy54LC10aGlzLnkpfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9c2NhbGUoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDApO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHR9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSl9ZnJhY3QoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnktTWF0aC5mbG9vcih0aGlzLnkpKX1yb3RhdGVUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5jb3MoZSkscz1NYXRoLnNpbihlKTtyZXR1cm4gdC54PWkqdGhpcy54LXMqdGhpcy55LHQueT1zKnRoaXMueCtpKnRoaXMueSx0fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX1ub3JtYWxpemUoKXtyZXR1cm4gdmUuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyB2ZSgwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHZlKDEsMSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4gdmUuX1plcm9SZWFkT25seX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHZlKGVbdF0sZVt0KzFdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGl9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQueCsoLWUueCtpLngpKnIrKDIqZS54LTUqdC54KzQqaS54LXMueCkqbisoLWUueCszKnQueC0zKmkueCtzLngpKmEpLGg9LjUqKDIqdC55KygtZS55K2kueSkqcisoMiplLnktNSp0LnkrNCppLnktcy55KSpuKygtZS55KzMqdC55LTMqaS55K3MueSkqYSk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8saCl9c3RhdGljIENsYW1wKGUsdCxpKXtsZXQgcz1lLng7cz1zPmkueD9pLng6cyxzPXM8dC54P3QueDpzO2xldCByPWUueTtyZXR1cm4gcj1yPmkueT9pLnk6cixyPXI8dC55P3QueTpyLG5ldyBlLmNvbnN0cnVjdG9yKHMscil9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUueCpvK2kueCpoK3QueCpsK3MueCp1LGY9ZS55Km8raS55KmgrdC55Kmwrcy55KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsZil9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG59c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS54Kyh0LngtZS54KSppLHI9ZS55Kyh0LnktZS55KSppO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihzLHIpfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fXN0YXRpYyBOb3JtYWxpemUoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aCgpO3JldHVybiBpPT09MHx8KHQueD1lLngvaSx0Lnk9ZS55L2kpLHR9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLng8dC54P2UueDp0Lngscz1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1lLng+dC54P2UueDp0Lngscz1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHZlLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7Y29uc3Qgcz10Lm0scj1lLngqc1swXStlLnkqc1s0XStzWzEyXSxuPWUueCpzWzFdK2UueSpzWzVdK3NbMTNdO3JldHVybiBpLng9cixpLnk9bixpfXN0YXRpYyBQb2ludEluVHJpYW5nbGUoZSx0LGkscyl7Y29uc3Qgcj0uNSooLWkueSpzLngrdC55KigtaS54K3MueCkrdC54KihpLnktcy55KStpLngqcy55KSxuPXI8MD8tMToxLGE9KHQueSpzLngtdC54KnMueSsocy55LXQueSkqZS54Kyh0Lngtcy54KSplLnkpKm4sbz0odC54KmkueS10LnkqaS54Kyh0LnktaS55KSplLngrKGkueC10LngpKmUueSkqbjtyZXR1cm4gYT4wJiZvPjAmJmErbzwyKnIqbn1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHZlLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueTtyZXR1cm4gaSppK3Mqc31zdGF0aWMgQ2VudGVyKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdmUuQ2VudGVyVG9SZWYoZSx0LGkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfXN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChlLHQsaSl7Y29uc3Qgcz12ZS5EaXN0YW5jZVNxdWFyZWQodCxpKTtpZihzPT09MClyZXR1cm4gdmUuRGlzdGFuY2UoZSx0KTtjb25zdCByPWkuc3VidHJhY3QodCksbj1NYXRoLm1heCgwLE1hdGgubWluKDEsdmUuRG90KGUuc3VidHJhY3QodCkscikvcykpLGE9dC5hZGQoci5tdWx0aXBseUJ5RmxvYXRzKG4sbikpO3JldHVybiB2ZS5EaXN0YW5jZShlLGEpfX12ZS5fWmVyb1JlYWRPbmx5PXZlLlplcm8oKTtjbGFzcyBwe2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pfWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IzIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9c3QodGhpcy5feCksdD1zdCh0aGlzLl95KSxpPXN0KHRoaXMuX3opO2xldCBzPWU7cmV0dXJuIHM9cyozOTdedCxzPXMqMzk3Xmksc31hc0FycmF5KCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcC5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b1F1YXRlcm5pb24oKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl95LHRoaXMuX3gsdGhpcy5feil9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9YWRkSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9aSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3opfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0KX1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otaSl9c3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHMuY29weUZyb21GbG9hdHModGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LWkpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feil9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqLTEsdGhpcy5feSotMSx0aGlzLl96Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfWdldE5vcm1hbFRvUmVmKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGgoKTtsZXQgaT1NYXRoLmFjb3ModGhpcy55L3QpO2NvbnN0IHM9TWF0aC5hdGFuMih0aGlzLnosdGhpcy54KTtpPk1hdGguUEkvMj9pLT1NYXRoLlBJLzI6aSs9TWF0aC5QSS8yO2NvbnN0IHI9dCpNYXRoLnNpbihpKSpNYXRoLmNvcyhzKSxuPXQqTWF0aC5jb3MoaSksYT10Kk1hdGguc2luKGkpKk1hdGguc2luKHMpO3JldHVybiBlLnNldChyLG4sYSksZX1hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdCl7Y29uc3QgaT1lLncqdGhpcy54K2UueSp0aGlzLnotZS56KnRoaXMueSxzPWUudyp0aGlzLnkrZS56KnRoaXMueC1lLngqdGhpcy56LHI9ZS53KnRoaXMueitlLngqdGhpcy55LWUueSp0aGlzLngsbj0tZS54KnRoaXMueC1lLnkqdGhpcy55LWUueip0aGlzLno7cmV0dXJuIHQueD1pKmUudytuKi1lLngrcyotZS56LXIqLWUueSx0Lnk9cyplLncrbiotZS55K3IqLWUueC1pKi1lLnosdC56PXIqZS53K24qLWUueitpKi1lLnktcyotZS54LHR9YXBwbHlSb3RhdGlvblF1YXRlcm5pb25JblBsYWNlKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0aGlzKX1hcHBseVJvdGF0aW9uUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsbmV3IHRoaXMuY29uc3RydWN0b3IpfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5hZGRJblBsYWNlRnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9cHJvamVjdE9uUGxhbmUoZSx0KXtjb25zdCBpPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnByb2plY3RPblBsYW5lVG9SZWYoZSx0LGkpLGl9cHJvamVjdE9uUGxhbmVUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLm5vcm1hbCxyPWUuZCxuPUsuVmVjdG9yM1swXTt0aGlzLnN1YnRyYWN0VG9SZWYodCxuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGE9cC5Eb3QobixzKTtpZihNYXRoLmFicyhhKTxNYXRoLnBvdygxMCwtMTApKWkuc2V0QWxsKDEvMCk7ZWxzZXtjb25zdCBvPS0ocC5Eb3QodCxzKStyKS9hLGg9bi5zY2FsZUluUGxhY2Uobyk7dC5hZGRUb1JlZihoLGkpfXJldHVybiBpfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5fen1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy5feCxlLl94LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy5feSxlLl95LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy5feixlLl96LHQpfWVxdWFsc1RvRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5feD09PWUmJnRoaXMuX3k9PT10JiZ0aGlzLl96PT09aX1tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhlLl94LGUuX3ksZS5feil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KmkpfWRpdmlkZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLGk8dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfW1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPnRoaXMuX3gmJih0aGlzLng9ZSksdD50aGlzLl95JiYodGhpcy55PXQpLGk+dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfWlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oZSl7Y29uc3QgdD1NYXRoLmFicyh0aGlzLl94KSxpPU1hdGguYWJzKHRoaXMuX3kpO2lmKCFYLldpdGhpbkVwc2lsb24odCxpLGUpKXJldHVybiEwO2NvbnN0IHM9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIVguV2l0aGluRXBzaWxvbih0LHMsZSl8fCFYLldpdGhpbkVwc2lsb24oaSxzLGUpfWdldCBpc05vblVuaWZvcm0oKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuX3gpLHQ9TWF0aC5hYnModGhpcy5feSk7aWYoZSE9PXQpcmV0dXJuITA7Y29uc3QgaT1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PWl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fWdldCBoYXNBWmVyb0NvbXBvbmVudCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3kqdGhpcy5fej09PTB9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKX1yZW9yZGVySW5QbGFjZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZT09PSJ4eXoiP3RoaXM6KEsuVmVjdG9yM1swXS5jb3B5RnJvbSh0aGlzKSxbIngiLCJ5IiwieiJdLmZvckVhY2goKHQsaSk9Pnt0aGlzW3RdPUsuVmVjdG9yM1swXVtlW2ldXX0pLHRoaXMpfXJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChLLk1hdHJpeFswXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsSy5NYXRyaXhbMF0sdCksdH1yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmKGUsdCxpKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsSy5WZWN0b3IzWzBdKSxLLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxLLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoSy5WZWN0b3IzWzBdLGkpLGl9Y3Jvc3MoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKHRoaXMsZSx0KX1ub3JtYWxpemVGcm9tTGVuZ3RoKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHRoaXMubm9ybWFsaXplVG9SZWYoZSksZX1ub3JtYWxpemVUb1JlZihlKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzfXNldChlLHQsaSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkpfXNldEFsbChlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9ZSx0aGlzfXN0YXRpYyBHZXRDbGlwRmFjdG9yKGUsdCxpLHMpe2NvbnN0IHI9cC5Eb3QoZSxpKS1zLG49cC5Eb3QodCxpKS1zO3JldHVybiByLyhyLW4pfXN0YXRpYyBHZXRBbmdsZUJldHdlZW5WZWN0b3JzKGUsdCxpKXtjb25zdCBzPWUubm9ybWFsaXplVG9SZWYoSy5WZWN0b3IzWzFdKSxyPXQubm9ybWFsaXplVG9SZWYoSy5WZWN0b3IzWzJdKTtsZXQgbj1wLkRvdChzLHIpO249WC5DbGFtcChuLC0xLDEpO2NvbnN0IGE9TWF0aC5hY29zKG4pLG89Sy5WZWN0b3IzWzNdO3JldHVybiBwLkNyb3NzVG9SZWYocyxyLG8pLHAuRG90KG8saSk+MD9pc05hTihhKT8wOmE6aXNOYU4oYSk/LU1hdGguUEk6LU1hdGguYWNvcyhuKX1zdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9yc09uUGxhbmUoZSx0LGkpe0suVmVjdG9yM1swXS5jb3B5RnJvbShlKTtjb25zdCBzPUsuVmVjdG9yM1swXTtLLlZlY3RvcjNbMV0uY29weUZyb20odCk7Y29uc3Qgcj1LLlZlY3RvcjNbMV07Sy5WZWN0b3IzWzJdLmNvcHlGcm9tKGkpO2NvbnN0IG49Sy5WZWN0b3IzWzJdLGE9Sy5WZWN0b3IzWzNdLG89Sy5WZWN0b3IzWzRdO3Mubm9ybWFsaXplKCksci5ub3JtYWxpemUoKSxuLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihuLHMsYSkscC5Dcm9zc1RvUmVmKGEsbixvKTtjb25zdCBoPU1hdGguYXRhbjIocC5Eb3QocixhKSxwLkRvdChyLG8pKTtyZXR1cm4gWC5Ob3JtYWxpemVSYWRpYW5zKGgpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpe2NvbnN0IHM9RC5WZWN0b3IzWzBdO3JldHVybiB0LnN1YnRyYWN0VG9SZWYoZSxzKSxpLnk9TWF0aC5hdGFuMihzLngscy56KXx8MCxpLng9TWF0aC5hdGFuMihNYXRoLnNxcnQocy54KioyK3MueioqMikscy55KXx8MCxpLno9MCxpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5QaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2k9WC5DbGFtcChpLDAsMSk7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV07ci5jb3B5RnJvbShlKTtjb25zdCBhPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKGEpLG4uY29weUZyb20odCk7Y29uc3Qgbz1uLmxlbmd0aCgpO24ubm9ybWFsaXplRnJvbUxlbmd0aChvKTtjb25zdCBoPXAuRG90KHIsbik7bGV0IGwsdTtpZihoPDEteGUpe2NvbnN0IGQ9TWF0aC5hY29zKGgpLGY9MS9NYXRoLnNpbihkKTtsPU1hdGguc2luKCgxLWkpKmQpKmYsdT1NYXRoLnNpbihpKmQpKmZ9ZWxzZSBsPTEtaSx1PWk7cmV0dXJuIHIuc2NhbGVJblBsYWNlKGwpLG4uc2NhbGVJblBsYWNlKHUpLHMuY29weUZyb20ocikuYWRkSW5QbGFjZShuKSxzLnNjYWxlSW5QbGFjZShYLkxlcnAoYSxvLGkpKSxzfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe3JldHVybiBwLlNsZXJwVG9SZWYoZSx0LHM9PT0wPzE6aS9zLHIpLHJ9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBwKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21GbG9hdEFycmF5KGUsdCl7cmV0dXJuIHAuRnJvbUFycmF5KGUsdCl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PWVbdF0saS55PWVbdCsxXSxpLno9ZVt0KzJdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBwLkZyb21BcnJheVRvUmVmKGUsdCxpKX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3JldHVybiBzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKSxzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBwKDAsMCwwKX1zdGF0aWMgT25lKCl7cmV0dXJuIG5ldyBwKDEsMSwxKX1zdGF0aWMgVXAoKXtyZXR1cm4gbmV3IHAoMCwxLDApfXN0YXRpYyBnZXQgVXBSZWFkT25seSgpe3JldHVybiBwLl9VcFJlYWRPbmx5fXN0YXRpYyBnZXQgRG93blJlYWRPbmx5KCl7cmV0dXJuIHAuX0Rvd25SZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0UmVhZE9ubHkoKXtyZXR1cm4gcC5fUmlnaHRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRSZWFkT25seSgpe3JldHVybiBwLl9MZWZ0UmVhZE9ubHl9c3RhdGljIGdldCBMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSgpe3JldHVybiBwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFplcm9SZWFkT25seSgpe3JldHVybiBwLl9aZXJvUmVhZE9ubHl9c3RhdGljIERvd24oKXtyZXR1cm4gbmV3IHAoMCwtMSwwKX1zdGF0aWMgRm9yd2FyZChlPSExKXtyZXR1cm4gbmV3IHAoMCwwLGU/LTE6MSl9c3RhdGljIEJhY2t3YXJkKGU9ITEpe3JldHVybiBuZXcgcCgwLDAsZT8xOi0xKX1zdGF0aWMgUmlnaHQoKXtyZXR1cm4gbmV3IHAoMSwwLDApfXN0YXRpYyBMZWZ0KCl7cmV0dXJuIG5ldyBwKC0xLDAsMCl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyZXR1cm4gci54PWEqbCxyLnk9bypsLHIuej1oKmwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpe3JldHVybiB0aGlzLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tO3JldHVybiByLng9ZSpuWzBdK3Qqbls0XStpKm5bOF0sci55PWUqblsxXSt0Km5bNV0raSpuWzldLHIuej1lKm5bMl0rdCpuWzZdK2kqblsxMF0scn1zdGF0aWMgQ2F0bXVsbFJvbShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89LjUqKDIqdC5feCsoLWUuX3graS5feCkqcisoMiplLl94LTUqdC5feCs0KmkuX3gtcy5feCkqbisoLWUuX3grMyp0Ll94LTMqaS5feCtzLl94KSphKSxoPS41KigyKnQuX3krKC1lLl95K2kuX3kpKnIrKDIqZS5feS01KnQuX3krNCppLl95LXMuX3kpKm4rKC1lLl95KzMqdC5feS0zKmkuX3krcy5feSkqYSksbD0uNSooMip0Ll96KygtZS5feitpLl96KSpyKygyKmUuX3otNSp0Ll96KzQqaS5fei1zLl96KSpuKygtZS5feiszKnQuX3otMyppLl96K3MuX3opKmEpO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihvLGgsbCl9c3RhdGljIENsYW1wKGUsdCxpKXtjb25zdCBzPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLkNsYW1wVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ2xhbXBUb1JlZihlLHQsaSxzKXtsZXQgcj1lLl94O3I9cj5pLl94P2kuX3g6cixyPXI8dC5feD90Ll94OnI7bGV0IG49ZS5feTtuPW4+aS5feT9pLl95Om4sbj1uPHQuX3k/dC5feTpuO2xldCBhPWUuX3o7cmV0dXJuIGE9YT5pLl96P2kuX3o6YSxhPWE8dC5fej90Ll96OmEscy5jb3B5RnJvbUZsb2F0cyhyLG4sYSksc31zdGF0aWMgQ2hlY2tFeHRlbmRzKGUsdCxpKXt0Lm1pbmltaXplSW5QbGFjZShlKSxpLm1heGltaXplSW5QbGFjZShlKX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LGY9ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LF89ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLGYsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG4uej0oYS1yKSo2KmUueisoMyphLTQqcisxKSp0LnorKC1hK3IpKjYqaS56KygzKmEtMipyKSpzLnosbn1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHAuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy54PWUuX3grKHQuX3gtZS5feCkqaSxzLnk9ZS5feSsodC5feS1lLl95KSppLHMuej1lLl96Kyh0Ll96LWUuX3opKmksc31zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96fXN0YXRpYyBDcm9zcyhlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHAuQ3Jvc3NUb1JlZihlLHQsaSksaX1zdGF0aWMgQ3Jvc3NUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLl95KnQuX3otZS5feip0Ll95LHI9ZS5feip0Ll94LWUuX3gqdC5feixuPWUuX3gqdC5feS1lLl95KnQuX3g7cmV0dXJuIGkuY29weUZyb21GbG9hdHMocyxyLG4pLGl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiBwLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH1zdGF0aWMgTm9ybWFsaXplVG9SZWYoZSx0KXtyZXR1cm4gZS5ub3JtYWxpemVUb1JlZih0KSx0fXN0YXRpYyBQcm9qZWN0KGUsdCxpLHMpe2NvbnN0IHI9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHAuUHJvamVjdFRvUmVmKGUsdCxpLHMscikscn1zdGF0aWMgUHJvamVjdFRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLndpZHRoLGE9cy5oZWlnaHQsbz1zLngsaD1zLnksbD1LLk1hdHJpeFsxXTt4LkZyb21WYWx1ZXNUb1JlZihuLzIsMCwwLDAsMCwtYS8yLDAsMCwwLDAsLjUsMCxvK24vMixhLzIraCwuNSwxLGwpO2NvbnN0IHU9Sy5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihpLHUpLHUubXVsdGlwbHlUb1JlZihsLHUpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHUscikscn1zdGF0aWMgUmVmbGVjdChlLHQpe3JldHVybiB0aGlzLlJlZmxlY3RUb1JlZihlLHQsbmV3IHApfXN0YXRpYyBSZWZsZWN0VG9SZWYoZSx0LGkpe2NvbnN0IHM9RC5WZWN0b3IzWzBdO3JldHVybiBzLmNvcHlGcm9tKHQpLnNjYWxlSW5QbGFjZSgyKnAuRG90KGUsdCkpLGkuY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHMpfXN0YXRpYyBfVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoZSx0LGkpe3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQsaSk7Y29uc3Qgcz10Lm0scj1lLl94KnNbM10rZS5feSpzWzddK2UuX3oqc1sxMV0rc1sxNV07cmV0dXJuIFguV2l0aGluRXBzaWxvbihyLDEpJiZpLnNjYWxlSW5QbGFjZSgxL3IpLGl9c3RhdGljIFVucHJvamVjdEZyb21UcmFuc2Zvcm0oZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5VbnByb2plY3QoZSx0LGkscyxyLHguSWRlbnRpdHlSZWFkT25seSl9c3RhdGljIFVucHJvamVjdChlLHQsaSxzLHIsbil7Y29uc3QgYT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5VbnByb2plY3RUb1JlZihlLHQsaSxzLHIsbixhKSxhfXN0YXRpYyBVbnByb2plY3RUb1JlZihlLHQsaSxzLHIsbixhKXtyZXR1cm4gcC5VbnByb2plY3RGbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkscyxyLG4sYSksYX1zdGF0aWMgVW5wcm9qZWN0RmxvYXRzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgpe3ZhciBsO2NvbnN0IHU9Sy5NYXRyaXhbMF07bi5tdWx0aXBseVRvUmVmKGEsdSksdS5tdWx0aXBseVRvUmVmKG8sdSksdS5pbnZlcnQoKTtjb25zdCBkPUsuVmVjdG9yM1swXTtyZXR1cm4gZC54PWUvcyoyLTEsZC55PS0odC9yKjItMSksISgobD1mZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHxsPT09dm9pZCAwKSYmbC5pc05EQ0hhbGZaUmFuZ2U/ZC56PWk6ZC56PTIqaS0xLHAuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGQsdSxoKSxofXN0YXRpYyBNaW5pbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5taW5pbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgTWF4aW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWF4aW1pemVJblBsYWNlKHQpLGl9c3RhdGljIERpc3RhbmNlKGUsdCl7cmV0dXJuIE1hdGguc3FydChwLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLl94LXQuX3gscz1lLl95LXQuX3kscj1lLl96LXQuX3o7cmV0dXJuIGkqaStzKnMrcipyfXN0YXRpYyBQcm9qZWN0T25UcmlhbmdsZVRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1LLlZlY3RvcjNbMF0sYT1LLlZlY3RvcjNbMV0sbz1LLlZlY3RvcjNbMl0saD1LLlZlY3RvcjNbM10sbD1LLlZlY3RvcjNbNF07aS5zdWJ0cmFjdFRvUmVmKHQsbikscy5zdWJ0cmFjdFRvUmVmKHQsYSkscy5zdWJ0cmFjdFRvUmVmKGksbyk7Y29uc3QgdT1uLmxlbmd0aCgpLGQ9YS5sZW5ndGgoKSxmPW8ubGVuZ3RoKCk7aWYodTx4ZXx8ZDx4ZXx8Zjx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSxwLkRpc3RhbmNlKGUsdCk7ZS5zdWJ0cmFjdFRvUmVmKHQsbCkscC5Dcm9zc1RvUmVmKG4sYSxoKTtjb25zdCBfPWgubGVuZ3RoKCk7aWYoXzx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSxwLkRpc3RhbmNlKGUsdCk7aC5ub3JtYWxpemVGcm9tTGVuZ3RoKF8pO2xldCBFPWwubGVuZ3RoKCk7aWYoRTx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSwwO2wubm9ybWFsaXplRnJvbUxlbmd0aChFKTtjb25zdCBtPXAuRG90KGgsbCksdj1LLlZlY3RvcjNbNV0sUz1LLlZlY3RvcjNbNl07di5jb3B5RnJvbShoKS5zY2FsZUluUGxhY2UoLUUqbSksUy5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHYpO2NvbnN0IHk9Sy5WZWN0b3IzWzRdLEE9Sy5WZWN0b3IzWzVdLEM9Sy5WZWN0b3IzWzddLGI9Sy5WZWN0b3IzWzhdO3kuY29weUZyb20obikuc2NhbGVJblBsYWNlKDEvdSksYi5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoMS9kKSx5LmFkZEluUGxhY2UoYikuc2NhbGVJblBsYWNlKC0xKSxBLmNvcHlGcm9tKG4pLnNjYWxlSW5QbGFjZSgtMS91KSxiLmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgxL2YpLEEuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpLEMuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xL2YpLGIuY29weUZyb20oYSkuc2NhbGVJblBsYWNlKC0xL2QpLEMuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IE09Sy5WZWN0b3IzWzldO2xldCBMO00uY29weUZyb20oUykuc3VidHJhY3RJblBsYWNlKHQpLHAuQ3Jvc3NUb1JlZih5LE0sYiksTD1wLkRvdChiLGgpO2NvbnN0IGs9TDtNLmNvcHlGcm9tKFMpLnN1YnRyYWN0SW5QbGFjZShpKSxwLkNyb3NzVG9SZWYoQSxNLGIpLEw9cC5Eb3QoYixoKTtjb25zdCB3PUw7TS5jb3B5RnJvbShTKS5zdWJ0cmFjdEluUGxhY2UocykscC5Dcm9zc1RvUmVmKEMsTSxiKSxMPXAuRG90KGIsaCk7Y29uc3QgZGU9TCxjZT1LLlZlY3RvcjNbMTBdO2xldCBzZSx0ZTtrPjAmJnc8MD8oY2UuY29weUZyb20obiksc2U9dCx0ZT1pKTp3PjAmJmRlPDA/KGNlLmNvcHlGcm9tKG8pLHNlPWksdGU9cyk6KGNlLmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgtMSksc2U9cyx0ZT10KTtjb25zdCBGZT1LLlZlY3RvcjNbOV0sd2U9Sy5WZWN0b3IzWzRdO2lmKHNlLnN1YnRyYWN0VG9SZWYoUyxiKSx0ZS5zdWJ0cmFjdFRvUmVmKFMsRmUpLHAuQ3Jvc3NUb1JlZihiLEZlLHdlKSwhKHAuRG90KHdlLGgpPDApKXJldHVybiByLmNvcHlGcm9tKFMpLE1hdGguYWJzKEUqbSk7Y29uc3QgS2U9Sy5WZWN0b3IzWzVdO3AuQ3Jvc3NUb1JlZihjZSx3ZSxLZSksS2Uubm9ybWFsaXplKCk7Y29uc3QgWWU9Sy5WZWN0b3IzWzldO1llLmNvcHlGcm9tKHNlKS5zdWJ0cmFjdEluUGxhY2UoUyk7Y29uc3QgcHQ9WWUubGVuZ3RoKCk7aWYocHQ8eGUpcmV0dXJuIHIuY29weUZyb20oc2UpLHAuRGlzdGFuY2UoZSxzZSk7WWUubm9ybWFsaXplRnJvbUxlbmd0aChwdCk7Y29uc3QgaHQ9cC5Eb3QoS2UsWWUpLHd0PUsuVmVjdG9yM1s3XTt3dC5jb3B5RnJvbShTKS5hZGRJblBsYWNlKEtlLnNjYWxlSW5QbGFjZShwdCpodCkpLGIuY29weUZyb20od3QpLnN1YnRyYWN0SW5QbGFjZShzZSksRT1jZS5sZW5ndGgoKSxjZS5ub3JtYWxpemVGcm9tTGVuZ3RoKEUpO2xldCBzaT1wLkRvdChiLGNlKS9NYXRoLm1heChFLHhlKTtyZXR1cm4gc2k9WC5DbGFtcChzaSwwLDEpLHd0LmNvcHlGcm9tKHNlKS5hZGRJblBsYWNlKGNlLnNjYWxlSW5QbGFjZShzaSpFKSksci5jb3B5RnJvbSh3dCkscC5EaXN0YW5jZShlLHd0KX1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIHAuQ2VudGVyVG9SZWYoZSx0LHAuWmVybygpKX1zdGF0aWMgQ2VudGVyVG9SZWYoZSx0LGkpe3JldHVybiBpLmNvcHlGcm9tRmxvYXRzKChlLl94K3QuX3gpLzIsKGUuX3krdC5feSkvMiwoZS5feit0Ll96KS8yKX1zdGF0aWMgUm90YXRpb25Gcm9tQXhpcyhlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5RdWF0ZXJuaW9uWzBdO3JldHVybiBaLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGksciksci50b0V1bGVyQW5nbGVzVG9SZWYocyksc319cC5fVXBSZWFkT25seT1wLlVwKCkscC5fRG93blJlYWRPbmx5PXAuRG93bigpLHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9cC5Gb3J3YXJkKCExKSxwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seT1wLkZvcndhcmQoITApLHAuX1JpZ2h0UmVhZE9ubHk9cC5SaWdodCgpLHAuX0xlZnRSZWFkT25seT1wLkxlZnQoKSxwLl9aZXJvUmVhZE9ubHk9cC5aZXJvKCk7Y2xhc3MgQ2V7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzLnc9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fSBaOiAke3RoaXMuen0gVzogJHt0aGlzLnd9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjQifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1zdCh0aGlzLngpLHQ9c3QodGhpcy55KSxpPXN0KHRoaXMueikscz1zdCh0aGlzLncpO2xldCByPWU7cmV0dXJuIHI9ciozOTdedCxyPXIqMzk3Xmkscj1yKjM5N15zLHJ9YXNBcnJheSgpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfXRvQXJyYXkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGVbdCszXT10aGlzLncsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiBDZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55LHRoaXMueitlLnosdGhpcy53K2Uudyl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdH1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLngsdGhpcy55LWUueSx0aGlzLnotZS56LHRoaXMudy1lLncpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdC56PXRoaXMuei1lLnosdC53PXRoaXMudy1lLncsdH1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1pLHRoaXMudy1zKX1zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe3JldHVybiByLng9dGhpcy54LWUsci55PXRoaXMueS10LHIuej10aGlzLnotaSxyLnc9dGhpcy53LXMscn1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSx0aGlzLnoqLTEsdGhpcy53Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHQuej10aGlzLnoqZSx0Lnc9dGhpcy53KmUsdH1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0LnorPXRoaXMueiplLHQudys9dGhpcy53KmUsdH1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud31lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCkmJlguV2l0aGluRXBzaWxvbih0aGlzLnosZS56LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy53LGUudyx0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09aSYmdGhpcy53PT09c31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMudyo9ZS53LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLngsdGhpcy55KmUueSx0aGlzLnoqZS56LHRoaXMudyplLncpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdH1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpLHMpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCx0aGlzLnoqaSx0aGlzLncqcyl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnksdGhpcy56L2Uueix0aGlzLncvZS53KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0fWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIGUueDx0aGlzLngmJih0aGlzLng9ZS54KSxlLnk8dGhpcy55JiYodGhpcy55PWUueSksZS56PHRoaXMueiYmKHRoaXMuej1lLnopLGUudzx0aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfW1heGltaXplSW5QbGFjZShlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSxNYXRoLmZsb29yKHRoaXMueiksTWF0aC5mbG9vcih0aGlzLncpKX1mcmFjdCgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31ub3JtYWxpemUoKXtjb25zdCBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX10b1ZlY3RvcjMoKXtyZXR1cm4gbmV3IHAodGhpcy54LHRoaXMueSx0aGlzLnopfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9c2V0QWxsKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IENlKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIGkueD1lW3RdLGkueT1lW3QrMV0saS56PWVbdCsyXSxpLnc9ZVt0KzNdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBDZS5Gcm9tQXJyYXlUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD1lLHIueT10LHIuej1pLHIudz1zLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IENlKDAsMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IENlKDEsMSwxLDEpfXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIENlLl9aZXJvUmVhZE9ubHl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PUNlLlplcm8oKTtyZXR1cm4gQ2UuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCksdH1zdGF0aWMgTWluaW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWluaW1pemVJblBsYWNlKHQpLGl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1heGltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBEaXN0YW5jZShlLHQpe3JldHVybiBNYXRoLnNxcnQoQ2UuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUueC10Lngscz1lLnktdC55LHI9ZS56LXQueixuPWUudy10Lnc7cmV0dXJuIGkqaStzKnMrcipyK24qbn1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIENlLkNlbnRlclRvUmVmKGUsdCxDZS5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIsKGUueit0LnopLzIsKGUudyt0LncpLzIpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlcyhlLHQpe2NvbnN0IGk9Q2UuWmVybygpO3JldHVybiBDZS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gQ2UuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tLGE9ZSpuWzBdK3Qqbls0XStpKm5bOF0rblsxMl0sbz1lKm5bMV0rdCpuWzVdK2kqbls5XStuWzEzXSxoPWUqblsyXSt0Km5bNl0raSpuWzEwXStuWzE0XSxsPWUqblszXSt0Km5bN10raSpuWzExXStuWzE1XTtyZXR1cm4gci54PWEsci55PW8sci56PWgsci53PWwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gQ2UuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKXtjb25zdCBzPXQubSxyPWUueCpzWzBdK2UueSpzWzRdK2UueipzWzhdLG49ZS54KnNbMV0rZS55KnNbNV0rZS56KnNbOV0sYT1lLngqc1syXStlLnkqc1s2XStlLnoqc1sxMF07cmV0dXJuIGkueD1yLGkueT1uLGkuej1hLGkudz1lLncsaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIubTtyZXR1cm4gbi54PWUqYVswXSt0KmFbNF0raSphWzhdLG4ueT1lKmFbMV0rdCphWzVdK2kqYVs5XSxuLno9ZSphWzJdK3QqYVs2XStpKmFbMTBdLG4udz1zLG59c3RhdGljIEZyb21WZWN0b3IzKGUsdD0wKXtyZXR1cm4gbmV3IENlKGUuX3gsZS5feSxlLl96LHQpfX1DZS5fWmVyb1JlYWRPbmx5PUNlLlplcm8oKTtjbGFzcyBae2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHM9MSl7dGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aSx0aGlzLl93PXN9Z2V0IHgoKXtyZXR1cm4gdGhpcy5feH1zZXQgeChlKXt0aGlzLl94PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KGUpe3RoaXMuX3k9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHcoKXtyZXR1cm4gdGhpcy5fd31zZXQgdyhlKXt0aGlzLl93PWUsdGhpcy5faXNEaXJ0eT0hMH10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen0gVzogJHt0aGlzLl93fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJRdWF0ZXJuaW9uIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9c3QodGhpcy5feCksdD1zdCh0aGlzLl95KSxpPXN0KHRoaXMuX3opLHM9c3QodGhpcy5fdyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7cmV0dXJuW3RoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3ddfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5feiYmdGhpcy5fdz09PWUuX3d9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PXhlKXtyZXR1cm4gZSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3csZS5fdyx0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3grPWUuX3gsdGhpcy5feSs9ZS5feSx0aGlzLl96Kz1lLl96LHRoaXMuX3crPWUuX3csdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUsdGhpcy5fdyplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLl94KmUsdC55PXRoaXMuX3kqZSx0Lno9dGhpcy5feiplLHQudz10aGlzLl93KmUsdH1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLl94KmUsdC55Kz10aGlzLl95KmUsdC56Kz10aGlzLl96KmUsdC53Kz10aGlzLl93KmUsdH1tdWx0aXBseShlKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKDAsMCwwLDEpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fW11bHRpcGx5VG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuX3gqZS5fdyt0aGlzLl95KmUuX3otdGhpcy5feiplLl95K3RoaXMuX3cqZS5feCxzPS10aGlzLl94KmUuX3ordGhpcy5feSplLl93K3RoaXMuX3oqZS5feCt0aGlzLl93KmUuX3kscj10aGlzLl94KmUuX3ktdGhpcy5feSplLl94K3RoaXMuX3oqZS5fdyt0aGlzLl93KmUuX3osbj0tdGhpcy5feCplLl94LXRoaXMuX3kqZS5feS10aGlzLl96KmUuX3ordGhpcy5fdyplLl93O3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKGkscyxyLG4pLHR9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0aGlzKSx0aGlzfWNvbmp1Z2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96LHRoaXMuX3cpLGV9Y29uanVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfWNvbmp1Z2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX1pbnZlcnQoKXtjb25zdCBlPXRoaXMuY29uanVnYXRlKCksdD10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gdD09MHx8dD09MXx8ZS5zY2FsZUluUGxhY2UoMS90KSxlfWludmVydEluUGxhY2UoKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTtjb25zdCBlPXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiBlPT0wfHxlPT0xP3RoaXM6KHRoaXMuc2NhbGVJblBsYWNlKDEvZSksdGhpcyl9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9bm9ybWFsaXplKCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzLmNsb25lKCk7Y29uc3QgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9dG9FdWxlckFuZ2xlcygpe2NvbnN0IGU9cC5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9dG9FdWxlckFuZ2xlc1RvUmVmKGUpe2NvbnN0IHQ9dGhpcy5feixpPXRoaXMuX3gscz10aGlzLl95LHI9dGhpcy5fdyxuPXMqdC1pKnIsYT0uNDk5OTk5OTtpZihuPC1hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9TWF0aC5QSS8yLGUuej0wO2Vsc2UgaWYobj5hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9LU1hdGguUEkvMixlLno9MDtlbHNle2NvbnN0IG89cipyLGg9dCp0LGw9aSppLHU9cypzO2Uuej1NYXRoLmF0YW4yKDIqKGkqcyt0KnIpLC1oLWwrdStvKSxlLng9TWF0aC5hc2luKC0yKm4pLGUueT1NYXRoLmF0YW4yKDIqKHQqaStzKnIpLGgtbC11K28pfXJldHVybiBlfXRvUm90YXRpb25NYXRyaXgoZSl7cmV0dXJuIHguRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLGV9ZnJvbVJvdGF0aW9uTWF0cml4KGUpe3JldHVybiBaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdGhpcyksdGhpc31zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4KGUpe2NvbnN0IHQ9bmV3IFo7cmV0dXJuIFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KSx0fXN0YXRpYyBGcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpe2NvbnN0IGk9ZS5tLHM9aVswXSxyPWlbNF0sbj1pWzhdLGE9aVsxXSxvPWlbNV0saD1pWzldLGw9aVsyXSx1PWlbNl0sZD1pWzEwXSxmPXMrbytkO2xldCBfO3JldHVybiBmPjA/KF89LjUvTWF0aC5zcXJ0KGYrMSksdC53PS4yNS9fLHQueD0odS1oKSpfLHQueT0obi1sKSpfLHQuej0oYS1yKSpfKTpzPm8mJnM+ZD8oXz0yKk1hdGguc3FydCgxK3Mtby1kKSx0Lnc9KHUtaCkvXyx0Lng9LjI1Kl8sdC55PShyK2EpL18sdC56PShuK2wpL18pOm8+ZD8oXz0yKk1hdGguc3FydCgxK28tcy1kKSx0Lnc9KG4tbCkvXyx0Lng9KHIrYSkvXyx0Lnk9LjI1Kl8sdC56PShoK3UpL18pOihfPTIqTWF0aC5zcXJ0KDErZC1zLW8pLHQudz0oYS1yKS9fLHQueD0obitsKS9fLHQueT0oaCt1KS9fLHQuej0uMjUqXyksdH1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd31zdGF0aWMgQXJlQ2xvc2UoZSx0LGk9LjEpe2NvbnN0IHM9Wi5Eb3QoZSx0KTtyZXR1cm4gMS1zKnM8PWl9c3RhdGljIFNtb290aFRvUmVmKGUsdCxpLHMscil7bGV0IG49cz09PTA/MTppL3M7cmV0dXJuIG49WC5DbGFtcChuLDAsMSksWi5TbGVycFRvUmVmKGUsdCxuLHIpLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IFooMCwwLDAsMCl9c3RhdGljIEludmVyc2UoZSl7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKC1lLl94LC1lLl95LC1lLl96LGUuX3cpfXN0YXRpYyBJbnZlcnNlVG9SZWYoZSx0KXtyZXR1cm4gdC5zZXQoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyksdH1zdGF0aWMgSWRlbnRpdHkoKXtyZXR1cm4gbmV3IFooMCwwLDAsMSl9c3RhdGljIElzSWRlbnRpdHkoZSl7cmV0dXJuIGUmJmUuX3g9PT0wJiZlLl95PT09MCYmZS5fej09PTAmJmUuX3c9PT0xfXN0YXRpYyBSb3RhdGlvbkF4aXMoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsbmV3IFopfXN0YXRpYyBSb3RhdGlvbkF4aXNUb1JlZihlLHQsaSl7Y29uc3Qgcz1NYXRoLnNpbih0LzIpO3JldHVybiBlLm5vcm1hbGl6ZSgpLGkudz1NYXRoLmNvcyh0LzIpLGkueD1lLl94KnMsaS55PWUuX3kqcyxpLno9ZS5feipzLGl9c3RhdGljIEZyb21BcnJheShlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgWihlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGkuej1lW3QrMl0saS53PWVbdCszXSxpfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXMoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxzKSxzfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXNUb1JlZihlLHQsaSxzKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHMpLHN9c3RhdGljIEZyb21FdWxlclZlY3RvcihlKXtjb25zdCB0PW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZS5feSxlLl94LGUuX3osdCksdH1zdGF0aWMgRnJvbUV1bGVyVmVjdG9yVG9SZWYoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9c3RhdGljIEZyb21Vbml0VmVjdG9yc1RvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KGUsdCkrMTtyZXR1cm4gczx4ZT9NYXRoLmFicyhlLngpPk1hdGguYWJzKGUueik/aS5zZXQoLWUueSxlLngsMCwwKTppLnNldCgwLC1lLnosZS55LDApOihwLkNyb3NzVG9SZWYoZSx0LEQuVmVjdG9yM1swXSksaS5zZXQoRC5WZWN0b3IzWzBdLngsRC5WZWN0b3IzWzBdLnksRC5WZWN0b3IzWzBdLnoscykpLGkubm9ybWFsaXplKCl9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKXtjb25zdCByPWkqLjUsbj10Ki41LGE9ZSouNSxvPU1hdGguc2luKHIpLGg9TWF0aC5jb3MociksbD1NYXRoLnNpbihuKSx1PU1hdGguY29zKG4pLGQ9TWF0aC5zaW4oYSksZj1NYXRoLmNvcyhhKTtyZXR1cm4gcy54PWYqbCpoK2QqdSpvLHMueT1kKnUqaC1mKmwqbyxzLno9Zip1Km8tZCpsKmgscy53PWYqdSpoK2QqbCpvLHN9c3RhdGljIFJvdGF0aW9uQWxwaGFCZXRhR2FtbWEoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQsaSxzKXtjb25zdCByPShpK2UpKi41LG49KGktZSkqLjUsYT10Ki41O3JldHVybiBzLng9TWF0aC5jb3MobikqTWF0aC5zaW4oYSkscy55PU1hdGguc2luKG4pKk1hdGguc2luKGEpLHMuej1NYXRoLnNpbihyKSpNYXRoLmNvcyhhKSxzLnc9TWF0aC5jb3MocikqTWF0aC5jb3MoYSksc31zdGF0aWMgUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXMoZSx0LGkpe2NvbnN0IHM9bmV3IFooMCwwLDAsMCk7cmV0dXJuIFouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5NYXRyaXhbMF07cmV0dXJuIHguRnJvbVhZWkF4ZXNUb1JlZihlLm5vcm1hbGl6ZSgpLHQubm9ybWFsaXplKCksaS5ub3JtYWxpemUoKSxyKSxaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHIscyksc31zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25MSChlLHQpe2NvbnN0IGk9bmV3IFo7cmV0dXJuIFouRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5NYXRyaXhbMF07cmV0dXJuIHguTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LHMpLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocyxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgWjtyZXR1cm4gWi5Gcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpLGl9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSl7Y29uc3Qgcz1LLk1hdHJpeFswXTtyZXR1cm4geC5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQscyksWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihzLGkpfXN0YXRpYyBTbGVycChlLHQsaSl7Y29uc3Qgcz1aLklkZW50aXR5KCk7cmV0dXJuIFouU2xlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2xldCByLG4sYT1lLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3csbz0hMTtpZihhPDAmJihvPSEwLGE9LWEpLGE+Ljk5OTk5OSluPTEtaSxyPW8/LWk6aTtlbHNle2NvbnN0IGg9TWF0aC5hY29zKGEpLGw9MS9NYXRoLnNpbihoKTtuPU1hdGguc2luKCgxLWkpKmgpKmwscj1vPy1NYXRoLnNpbihpKmgpKmw6TWF0aC5zaW4oaSpoKSpsfXJldHVybiBzLng9biplLl94K3IqdC5feCxzLnk9biplLl95K3IqdC5feSxzLno9biplLl96K3IqdC5feixzLnc9biplLl93K3IqdC5fdyxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLl94Km8raS5feCpoK3QuX3gqbCtzLl94KnUsZj1lLl95Km8raS5feSpoK3QuX3kqbCtzLl95KnUsXz1lLl96Km8raS5feipoK3QuX3oqbCtzLl96KnUsRT1lLl93Km8raS5fdypoK3QuX3cqbCtzLl93KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsZixfLEUpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4ueD0oYS1yKSo2KmUueCsoMyphLTQqcisxKSp0LngrKC1hK3IpKjYqaS54KygzKmEtMipyKSpzLngsbi55PShhLXIpKjYqZS55KygzKmEtNCpyKzEpKnQueSsoLWErcikqNippLnkrKDMqYS0yKnIpKnMueSxuLno9KGEtcikqNiplLnorKDMqYS00KnIrMSkqdC56KygtYStyKSo2KmkueisoMyphLTIqcikqcy56LG4udz0oYS1yKSo2KmUudysoMyphLTQqcisxKSp0LncrKC1hK3IpKjYqaS53KygzKmEtMipyKSpzLncsbn19Y2xhc3MgeHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwLHRoaXMudXBkYXRlRmxhZz0tMSxVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZSYmVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzLnB1c2godGhpcyksdGhpcy5fbT1uZXcgVWUuTWF0cml4Q3VycmVudFR5cGUoMTYpLHRoaXMubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBnZXQgVXNlNjRCaXRzKCl7cmV0dXJuIFVlLk1hdHJpeFVzZTY0Qml0c31nZXQgbSgpe3JldHVybiB0aGlzLl9tfW1hcmtBc1VwZGF0ZWQoKXt0aGlzLnVwZGF0ZUZsYWc9eC5fVXBkYXRlRmxhZ1NlZWQrKyx0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMH1fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZSx0PSExLGk9ITEscz0hMCl7dGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8aSx0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOnN9aXNJZGVudGl0eSgpe2lmKHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSl7dGhpcy5faXNJZGVudGl0eURpcnR5PSExO2NvbnN0IGU9dGhpcy5fbTt0aGlzLl9pc0lkZW50aXR5PWVbMF09PT0xJiZlWzFdPT09MCYmZVsyXT09PTAmJmVbM109PT0wJiZlWzRdPT09MCYmZVs1XT09PTEmJmVbNl09PT0wJiZlWzddPT09MCYmZVs4XT09PTAmJmVbOV09PT0wJiZlWzEwXT09PTEmJmVbMTFdPT09MCYmZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xfXJldHVybiB0aGlzLl9pc0lkZW50aXR5fWlzSWRlbnRpdHlBczN4Migpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5M3gyRGlydHkmJih0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITEsdGhpcy5fbVswXSE9PTF8fHRoaXMuX21bNV0hPT0xfHx0aGlzLl9tWzE1XSE9PTE/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9tWzFdIT09MHx8dGhpcy5fbVsyXSE9PTB8fHRoaXMuX21bM10hPT0wfHx0aGlzLl9tWzRdIT09MHx8dGhpcy5fbVs2XSE9PTB8fHRoaXMuX21bN10hPT0wfHx0aGlzLl9tWzhdIT09MHx8dGhpcy5fbVs5XSE9PTB8fHRoaXMuX21bMTBdIT09MHx8dGhpcy5fbVsxMV0hPT0wfHx0aGlzLl9tWzEyXSE9PTB8fHRoaXMuX21bMTNdIT09MHx8dGhpcy5fbVsxNF0hPT0wP3RoaXMuX2lzSWRlbnRpdHkzeDI9ITE6dGhpcy5faXNJZGVudGl0eTN4Mj0hMCksdGhpcy5faXNJZGVudGl0eTN4Mn1kZXRlcm1pbmFudCgpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gMTtjb25zdCBlPXRoaXMuX20sdD1lWzBdLGk9ZVsxXSxzPWVbMl0scj1lWzNdLG49ZVs0XSxhPWVbNV0sbz1lWzZdLGg9ZVs3XSxsPWVbOF0sdT1lWzldLGQ9ZVsxMF0sZj1lWzExXSxfPWVbMTJdLEU9ZVsxM10sbT1lWzE0XSx2PWVbMTVdLFM9ZCp2LW0qZix5PXUqdi1FKmYsQT11Km0tRSpkLEM9bCp2LV8qZixiPWwqbS1kKl8sTT1sKkUtXyp1LEw9KyhhKlMtbyp5K2gqQSksaz0tKG4qUy1vKkMraCpiKSx3PSsobip5LWEqQytoKk0pLGRlPS0obipBLWEqYitvKk0pO3JldHVybiB0KkwraSprK3MqdytyKmRlfXRvQXJyYXkoKXtyZXR1cm4gdGhpcy5fbX1hc0FycmF5KCl7cmV0dXJuIHRoaXMuX219aW52ZXJ0KCl7cmV0dXJuIHRoaXMuaW52ZXJ0VG9SZWYodGhpcyksdGhpc31yZXNldCgpe3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZigwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHRoaXMpLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSx0aGlzfWFkZChlKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLmFkZFRvUmVmKGUsdCksdH1hZGRUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5fbSxzPXQuX20scj1lLm07Zm9yKGxldCBuPTA7bjwxNjtuKyspc1tuXT1pW25dK3Jbbl07cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9YWRkVG9TZWxmKGUpe2NvbnN0IHQ9dGhpcy5fbSxpPWUubTtmb3IobGV0IHM9MDtzPDE2O3MrKyl0W3NdKz1pW3NdO3JldHVybiB0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWludmVydFRvUmVmKGUpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4geC5JZGVudGl0eVRvUmVmKGUpLGU7Y29uc3QgdD10aGlzLl9tLGk9dFswXSxzPXRbMV0scj10WzJdLG49dFszXSxhPXRbNF0sbz10WzVdLGg9dFs2XSxsPXRbN10sdT10WzhdLGQ9dFs5XSxmPXRbMTBdLF89dFsxMV0sRT10WzEyXSxtPXRbMTNdLHY9dFsxNF0sUz10WzE1XSx5PWYqUy12Kl8sQT1kKlMtbSpfLEM9ZCp2LW0qZixiPXUqUy1FKl8sTT11KnYtZipFLEw9dSptLUUqZCxrPSsobyp5LWgqQStsKkMpLHc9LShhKnktaCpiK2wqTSksZGU9KyhhKkEtbypiK2wqTCksY2U9LShhKkMtbypNK2gqTCksc2U9aSprK3MqdytyKmRlK24qY2U7aWYoc2U9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLGU7Y29uc3QgdGU9MS9zZSxGZT1oKlMtdipsLHdlPW8qUy1tKmwsSGU9byp2LW0qaCxLZT1hKlMtRSpsLFllPWEqdi1FKmgscHQ9YSptLUUqbyxodD1oKl8tZipsLHd0PW8qXy1kKmwsc2k9bypmLWQqaCxkcz1hKl8tdSpsLGZzPWEqZi11KmgsX3M9YSpkLXUqbyxYcz0tKHMqeS1yKkErbipDKSxIcz0rKGkqeS1yKmIrbipNKSxLcz0tKGkqQS1zKmIrbipMKSxZcz0rKGkqQy1zKk0rcipMKSxacz0rKHMqRmUtcip3ZStuKkhlKSxxcz0tKGkqRmUtcipLZStuKlllKSxIdD0rKGkqd2UtcypLZStuKnB0KSxLdD0tKGkqSGUtcypZZStyKnB0KSxZdD0tKHMqaHQtcip3dCtuKnNpKSxadD0rKGkqaHQtcipkcytuKmZzKSx3bD0tKGkqd3QtcypkcytuKl9zKSxPbD0rKGkqc2ktcypmcytyKl9zKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoayp0ZSxYcyp0ZSxacyp0ZSxZdCp0ZSx3KnRlLEhzKnRlLHFzKnRlLFp0KnRlLGRlKnRlLEtzKnRlLEh0KnRlLHdsKnRlLGNlKnRlLFlzKnRlLEt0KnRlLE9sKnRlLGUpLGV9YWRkQXRJbmRleChlLHQpe3JldHVybiB0aGlzLl9tW2VdKz10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9bXVsdGlwbHlBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX21bZV0qPXQsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl9tWzEyXT1lLHRoaXMuX21bMTNdPXQsdGhpcy5fbVsxNF09aSx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX21bMTJdKz1lLHRoaXMuX21bMTNdKz10LHRoaXMuX21bMTRdKz1pLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9c2V0VHJhbnNsYXRpb24oZSl7cmV0dXJuIHRoaXMuc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX1nZXRUcmFuc2xhdGlvbigpe3JldHVybiBuZXcgcCh0aGlzLl9tWzEyXSx0aGlzLl9tWzEzXSx0aGlzLl9tWzE0XSl9Z2V0VHJhbnNsYXRpb25Ub1JlZihlKXtyZXR1cm4gZS54PXRoaXMuX21bMTJdLGUueT10aGlzLl9tWzEzXSxlLno9dGhpcy5fbVsxNF0sZX1yZW1vdmVSb3RhdGlvbkFuZFNjYWxpbmcoKXtjb25zdCBlPXRoaXMubTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0sdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xKSx0aGlzfW11bHRpcGx5KGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHQpLHR9Y29weUZyb20oZSl7ZS5jb3B5VG9BcnJheSh0aGlzLl9tKTtjb25zdCB0PWU7cmV0dXJuIHRoaXMudXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXModC5faXNJZGVudGl0eSx0Ll9pc0lkZW50aXR5RGlydHksdC5faXNJZGVudGl0eTN4Mix0Ll9pc0lkZW50aXR5M3gyRGlydHkpLHRoaXN9Y29weVRvQXJyYXkoZSx0PTApe2NvbnN0IGk9dGhpcy5fbTtyZXR1cm4gZVt0XT1pWzBdLGVbdCsxXT1pWzFdLGVbdCsyXT1pWzJdLGVbdCszXT1pWzNdLGVbdCs0XT1pWzRdLGVbdCs1XT1pWzVdLGVbdCs2XT1pWzZdLGVbdCs3XT1pWzddLGVbdCs4XT1pWzhdLGVbdCs5XT1pWzldLGVbdCsxMF09aVsxMF0sZVt0KzExXT1pWzExXSxlW3QrMTJdPWlbMTJdLGVbdCsxM109aVsxM10sZVt0KzE0XT1pWzE0XSxlW3QrMTVdPWlbMTVdLHRoaXN9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5Pyh0LmNvcHlGcm9tKGUpLHQpOmUuX2lzSWRlbnRpdHk/KHQuY29weUZyb20odGhpcyksdCk6KHRoaXMubXVsdGlwbHlUb0FycmF5KGUsdC5fbSwwKSx0Lm1hcmtBc1VwZGF0ZWQoKSx0KX1tdWx0aXBseVRvQXJyYXkoZSx0LGkpe2NvbnN0IHM9dGhpcy5fbSxyPWUubSxuPXNbMF0sYT1zWzFdLG89c1syXSxoPXNbM10sbD1zWzRdLHU9c1s1XSxkPXNbNl0sZj1zWzddLF89c1s4XSxFPXNbOV0sbT1zWzEwXSx2PXNbMTFdLFM9c1sxMl0seT1zWzEzXSxBPXNbMTRdLEM9c1sxNV0sYj1yWzBdLE09clsxXSxMPXJbMl0saz1yWzNdLHc9cls0XSxkZT1yWzVdLGNlPXJbNl0sc2U9cls3XSx0ZT1yWzhdLEZlPXJbOV0sd2U9clsxMF0sSGU9clsxMV0sS2U9clsxMl0sWWU9clsxM10scHQ9clsxNF0saHQ9clsxNV07cmV0dXJuIHRbaV09bipiK2EqdytvKnRlK2gqS2UsdFtpKzFdPW4qTSthKmRlK28qRmUraCpZZSx0W2krMl09bipMK2EqY2Urbyp3ZStoKnB0LHRbaSszXT1uKmsrYSpzZStvKkhlK2gqaHQsdFtpKzRdPWwqYit1KncrZCp0ZStmKktlLHRbaSs1XT1sKk0rdSpkZStkKkZlK2YqWWUsdFtpKzZdPWwqTCt1KmNlK2Qqd2UrZipwdCx0W2krN109bCprK3Uqc2UrZCpIZStmKmh0LHRbaSs4XT1fKmIrRSp3K20qdGUrdipLZSx0W2krOV09XypNK0UqZGUrbSpGZSt2KlllLHRbaSsxMF09XypMK0UqY2UrbSp3ZSt2KnB0LHRbaSsxMV09XyprK0Uqc2UrbSpIZSt2Kmh0LHRbaSsxMl09UypiK3kqdytBKnRlK0MqS2UsdFtpKzEzXT1TKk0reSpkZStBKkZlK0MqWWUsdFtpKzE0XT1TKkwreSpjZStBKndlK0MqcHQsdFtpKzE1XT1TKmsreSpzZStBKkhlK0MqaHQsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1zdCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3XnN0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBaLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxLLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7eC5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsSy5NYXRyaXhbMF0pLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoSy5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgQ2UodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdH1zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB4LlRyYW5zcG9zZVRvUmVmKHRoaXMsZSksZX10cmFuc3Bvc2VUb1JlZihlKXtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLGV9c2V0Um93RnJvbUZsb2F0cyhlLHQsaSxzLHIpe2lmKGU8MHx8ZT4zKXJldHVybiB0aGlzO2NvbnN0IG49ZSo0O3JldHVybiB0aGlzLl9tW24rMF09dCx0aGlzLl9tW24rMV09aSx0aGlzLl9tW24rMl09cyx0aGlzLl9tW24rM109cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9c2NhbGVUb1JlZihlLHQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXQuX21baV09dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldKz10aGlzLl9tW2ldKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9dG9Ob3JtYWxNYXRyaXgoZSl7Y29uc3QgdD1LLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7Y29uc3QgaT1lLl9tO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKSxlfWdldFJvdGF0aW9uTWF0cml4KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9Z2V0Um90YXRpb25NYXRyaXhUb1JlZihlKXtjb25zdCB0PUsuVmVjdG9yM1swXTtpZighdGhpcy5kZWNvbXBvc2UodCkpcmV0dXJuIHguSWRlbnRpdHlUb1JlZihlKSxlO2NvbnN0IGk9dGhpcy5fbSxzPTEvdC5feCxyPTEvdC5feSxuPTEvdC5fejtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoaVswXSpzLGlbMV0qcyxpWzJdKnMsMCxpWzRdKnIsaVs1XSpyLGlbNl0qciwwLGlbOF0qbixpWzldKm4saVsxMF0qbiwwLDAsMCwwLDEsZSksZX10b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO3JldHVybiBlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc310b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UoKXtjb25zdCBlPXRoaXMuX207cmV0dXJuIGVbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtjb25zdCBpPW5ldyB4O3JldHVybiB4LkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7Zm9yKGxldCBzPTA7czwxNjtzKyspaS5fbVtzXT1lW3MrdF07cmV0dXJuIGkubWFya0FzVXBkYXRlZCgpLGl9c3RhdGljIEZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChlLHQsaSxzKXtmb3IobGV0IHI9MDtyPDE2O3IrKylzLl9tW3JdPWVbcit0XSppO3JldHVybiBzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpe3JldHVybiB4Ll9JZGVudGl0eVJlYWRPbmx5fXN0YXRpYyBGcm9tVmFsdWVzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsZixfLEUsbSx2KXtjb25zdCBTPXYuX207U1swXT1lLFNbMV09dCxTWzJdPWksU1szXT1zLFNbNF09cixTWzVdPW4sU1s2XT1hLFNbN109byxTWzhdPWgsU1s5XT1sLFNbMTBdPXUsU1sxMV09ZCxTWzEyXT1mLFNbMTNdPV8sU1sxNF09RSxTWzE1XT1tLHYubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tVmFsdWVzKGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLGYsXyxFLG0pe2NvbnN0IHY9bmV3IHgsUz12Ll9tO3JldHVybiBTWzBdPWUsU1sxXT10LFNbMl09aSxTWzNdPXMsU1s0XT1yLFNbNV09bixTWzZdPWEsU1s3XT1vLFNbOF09aCxTWzldPWwsU1sxMF09dSxTWzExXT1kLFNbMTJdPWYsU1sxM109XyxTWzE0XT1FLFNbMTVdPW0sdi5tYXJrQXNVcGRhdGVkKCksdn1zdGF0aWMgQ29tcG9zZShlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Db21wb3NlVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ29tcG9zZVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9cy5fbSxuPXQuX3gsYT10Ll95LG89dC5feixoPXQuX3csbD1uK24sdT1hK2EsZD1vK28sZj1uKmwsXz1uKnUsRT1uKmQsbT1hKnUsdj1hKmQsUz1vKmQseT1oKmwsQT1oKnUsQz1oKmQsYj1lLl94LE09ZS5feSxMPWUuX3o7cmV0dXJuIHJbMF09KDEtKG0rUykpKmIsclsxXT0oXytDKSpiLHJbMl09KEUtQSkqYixyWzNdPTAscls0XT0oXy1DKSpNLHJbNV09KDEtKGYrUykpKk0scls2XT0odit5KSpNLHJbN109MCxyWzhdPShFK0EpKkwscls5XT0odi15KSpMLHJbMTBdPSgxLShmK20pKSpMLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBJZGVudGl0eSgpe2NvbnN0IGU9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgSWRlbnRpdHlUb1JlZihlKXtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgWmVybygpe2NvbnN0IGU9eC5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX1zdGF0aWMgUm90YXRpb25YKGUpe2NvbnN0IHQ9bmV3IHg7cmV0dXJuIHguUm90YXRpb25YVG9SZWYoZSx0KSx0fXN0YXRpYyBJbnZlcnQoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fXN0YXRpYyBSb3RhdGlvblhUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKSx0fXN0YXRpYyBSb3RhdGlvblkoZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvbllUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApLHR9c3RhdGljIFJvdGF0aW9uWihlKXtjb25zdCB0PW5ldyB4O3JldHVybiB4LlJvdGF0aW9uWlRvUmVmKGUsdCksdH1zdGF0aWMgUm90YXRpb25aVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCksdH1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsaSksaX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4oLXQpLHI9TWF0aC5jb3MoLXQpLG49MS1yO2Uubm9ybWFsaXplKCk7Y29uc3QgYT1pLl9tO3JldHVybiBhWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25BbGlnblRvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KHQsZSkscj1pLl9tO2lmKHM8LTEreGUpclswXT0tMSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0tMSxyWzZdPTAscls3XT0wLHJbOF09MCxyWzldPTAsclsxMF09MSxyWzExXT0wO2Vsc2V7Y29uc3Qgbj1wLkNyb3NzKHQsZSksYT0xLygxK3MpO3JbMF09bi5feCpuLl94KmErcyxyWzFdPW4uX3kqbi5feCphLW4uX3osclsyXT1uLl96Km4uX3gqYStuLl95LHJbM109MCxyWzRdPW4uX3gqbi5feSphK24uX3oscls1XT1uLl95Km4uX3kqYStzLHJbNl09bi5feipuLl95KmEtbi5feCxyWzddPTAscls4XT1uLl94Km4uX3oqYS1uLl95LHJbOV09bi5feSpuLl96KmErbi5feCxyWzEwXT1uLl96Km4uX3oqYStzLHJbMTFdPTB9cmV0dXJuIHJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksSy5RdWF0ZXJuaW9uWzBdKSxLLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKSxzfXN0YXRpYyBTY2FsaW5nKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4LlNjYWxpbmdUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTY2FsaW5nVG9SZWYoZSx0LGkscyl7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSksc31zdGF0aWMgVHJhbnNsYXRpb24oZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKSxzfXN0YXRpYyBUcmFuc2xhdGlvblRvUmVmKGUsdCxpLHMpe3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApLHN9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHguTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj1lLm0sYT10Lm07Zm9yKGxldCBvPTA7bzwxNjtvKyspcltvXT1uW29dKigxLWkpK2Fbb10qaTtyZXR1cm4gcy5tYXJrQXNVcGRhdGVkKCksc31zdGF0aWMgRGVjb21wb3NlTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geC5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5RdWF0ZXJuaW9uWzBdLGE9Sy5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKHIsbixhKTtjb25zdCBvPUsuVmVjdG9yM1syXSxoPUsuUXVhdGVybmlvblsxXSxsPUsuVmVjdG9yM1szXTt0LmRlY29tcG9zZShvLGgsbCk7Y29uc3QgdT1LLlZlY3RvcjNbNF07cC5MZXJwVG9SZWYocixvLGksdSk7Y29uc3QgZD1LLlF1YXRlcm5pb25bMl07Wi5TbGVycFRvUmVmKG4saCxpLGQpO2NvbnN0IGY9Sy5WZWN0b3IzWzVdO3JldHVybiBwLkxlcnBUb1JlZihhLGwsaSxmKSx4LkNvbXBvc2VUb1JlZih1LGQsZixzKSxzfXN0YXRpYyBMb29rQXRMSChlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Mb29rQXRMSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdExIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV0sYT1LLlZlY3RvcjNbMl07dC5zdWJ0cmFjdFRvUmVmKGUsYSksYS5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSkscC5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LXAuRG90KHIsZSksbD0tcC5Eb3QobixlKSx1PS1wLkRvdChhLGUpO3guRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tBdFJIKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4Lkxvb2tBdFJIVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTG9va0F0UkhUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuVmVjdG9yM1swXSxuPUsuVmVjdG9yM1sxXSxhPUsuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxhKSxhLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihpLGEscik7Y29uc3Qgbz1yLmxlbmd0aFNxdWFyZWQoKTtvPT09MD9yLng9MTpyLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KG8pKSxwLkNyb3NzVG9SZWYoYSxyLG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgaD0tcC5Eb3QocixlKSxsPS1wLkRvdChuLGUpLHU9LXAuRG90KGEsZSk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyksc31zdGF0aWMgTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzBdO3MuY29weUZyb20oZSkscy5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxzLHIpLHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzJdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLHguRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgT3J0aG9MSChlLHQsaSxzLHIpe2NvbnN0IG49bmV3IHg7cmV0dXJuIHguT3J0aG9MSFRvUmVmKGUsdCxpLHMsbixyKSxufXN0YXRpYyBPcnRob0xIVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9aSxvPXMsaD0yL2UsbD0yL3QsdT0yLyhvLWEpLGQ9LShvK2EpLyhvLWEpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZCwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihxdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZkPT09MCkscn1zdGF0aWMgT3J0aG9PZmZDZW50ZXJMSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyB4O3JldHVybiB4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9cixsPW4sdT0yLyh0LWUpLGQ9Mi8ocy1pKSxmPTIvKGwtaCksXz0tKGwraCkvKGwtaCksRT0oZSt0KS8oZS10KSxtPShzK2kpLyhpLXMpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZCwwLDAsMCwwLGYsMCxFLG0sXywxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihxdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKSxhfXN0YXRpYyBPcnRob09mZkNlbnRlclJIKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLG8sYSksb31zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLGEsbyl7cmV0dXJuIHguT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xLGF9c3RhdGljIFBlcnNwZWN0aXZlTEgoZSx0LGkscyxyLG49MCl7Y29uc3QgYT1uZXcgeCxvPWksaD1zLGw9MipvL2UsdT0yKm8vdCxkPShoK28pLyhoLW8pLGY9LTIqaCpvLyhoLW8pLF89TWF0aC50YW4obik7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsXywwLDAsZCwxLDAsMCxmLDAsYSksciYmYS5tdWx0aXBseVRvUmVmKHF0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxhfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIKGUsdCxpLHMscixuPTAsYT0hMSl7Y29uc3Qgbz1uZXcgeDtyZXR1cm4geC5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxvLCEwLHIsbixhKSxvfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTAsaD0hMSl7Y29uc3QgbD1pLHU9cyxkPTEvTWF0aC50YW4oZSouNSksZj1uP2QvdDpkLF89bj9kOmQqdCxFPWgmJmw9PT0wPy0xOnUhPT0wPyh1K2wpLyh1LWwpOjEsbT1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsdj1NYXRoLnRhbihvKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoZiwwLDAsMCwwLF8sMCx2LDAsMCxFLDEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYocXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZUxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihxdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSkscn1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZD0xL01hdGgudGFuKGUqLjUpLGY9bj9kL3Q6ZCxfPW4/ZDpkKnQsRT1oJiZsPT09MD8xOnUhPT0wPy0odStsKS8odS1sKTotMSxtPWgmJmw9PT0wPzIqdTp1IT09MD8tMip1KmwvKHUtbCk6LTIqbCx2PU1hdGgudGFuKG8pO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihmLDAsMCwwLDAsXywwLHYsMCwwLEUsLTEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYocXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKHF0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxyfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdldlYlZSVG9SZWYoZSx0LGkscyxyPSExLG4sYT0wKXtjb25zdCBvPXI/LTE6MSxoPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxsPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHU9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksZD1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksZj0yLyh1K2QpLF89Mi8oaCtsKSxFPU1hdGgudGFuKGEpLG09cy5fbTtyZXR1cm4gbVswXT1mLG1bMV09bVsyXT1tWzNdPW1bNF09MCxtWzVdPV8sbVs2XT0wLG1bN109RSxtWzhdPSh1LWQpKmYqLjUsbVs5XT0tKChoLWwpKl8qLjUpLG1bMTBdPS1pLyh0LWkpLG1bMTFdPTEqbyxtWzEyXT1tWzEzXT1tWzE1XT0wLG1bMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihxdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBHZXRGaW5hbE1hdHJpeChlLHQsaSxzLHIsbil7Y29uc3QgYT1lLndpZHRoLG89ZS5oZWlnaHQsaD1lLngsbD1lLnksdT14LkZyb21WYWx1ZXMoYS8yLDAsMCwwLDAsLW8vMiwwLDAsMCwwLG4tciwwLGgrYS8yLG8vMitsLHIsMSksZD1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksZCksZC5tdWx0aXBseVRvUmVmKHMsZCksZC5tdWx0aXBseVRvUmVmKHUsZCl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO3JldHVybiBpWzBdPXNbMF0saVsxXT1zWzRdLGlbMl09c1s4XSxpWzNdPXNbMTJdLGlbNF09c1sxXSxpWzVdPXNbNV0saVs2XT1zWzldLGlbN109c1sxM10saVs4XT1zWzJdLGlbOV09c1s2XSxpWzEwXT1zWzEwXSxpWzExXT1zWzE0XSxpWzEyXT1zWzNdLGlbMTNdPXNbN10saVsxNF09c1sxMV0saVsxNV09c1sxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpLHR9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihuKmkrMSxhKmksbyppLDAsbipzLGEqcysxLG8qcywwLG4qcixhKnIsbypyKzEsMCxuKmUuZCxhKmUuZCxvKmUuZCwxLHQpLHR9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGUuX3gsZS5feSxlLl96LDAsdC5feCx0Ll95LHQuX3osMCxpLl94LGkuX3ksaS5feiwwLDAsMCwwLDEscyksc31zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3JldHVybiB0Ll9tWzBdPTEtMioocytyKSx0Ll9tWzFdPTIqKG4rYSksdC5fbVsyXT0yKihvLWgpLHQuX21bM109MCx0Ll9tWzRdPTIqKG4tYSksdC5fbVs1XT0xLTIqKHIraSksdC5fbVs2XT0yKihsK3UpLHQuX21bN109MCx0Ll9tWzhdPTIqKG8raCksdC5fbVs5XT0yKihsLXUpLHQuX21bMTBdPTEtMioocytpKSx0Ll9tWzExXT0wLHQuX21bMTJdPTAsdC5fbVsxM109MCx0Ll9tWzE0XT0wLHQuX21bMTVdPTEsdC5tYXJrQXNVcGRhdGVkKCksdH19eC5fVXBkYXRlRmxhZ1NlZWQ9MCx4Ll9JZGVudGl0eVJlYWRPbmx5PXguSWRlbnRpdHkoKTtjbGFzcyBLe31LLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMSxwLlplcm8pLEsuTWF0cml4PUJlLkJ1aWxkVHVwbGUoMix4LklkZW50aXR5KSxLLlF1YXRlcm5pb249QmUuQnVpbGRUdXBsZSgzLFouWmVybyk7Y2xhc3MgRHt9RC5WZWN0b3IyPUJlLkJ1aWxkVHVwbGUoMyx2ZS5aZXJvKSxELlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMyxwLlplcm8pLEQuVmVjdG9yND1CZS5CdWlsZFR1cGxlKDMsQ2UuWmVybyksRC5RdWF0ZXJuaW9uPUJlLkJ1aWxkVHVwbGUoMixaLlplcm8pLEQuTWF0cml4PUJlLkJ1aWxkVHVwbGUoOCx4LklkZW50aXR5KSxpdCgiQkFCWUxPTi5WZWN0b3IyIix2ZSksaXQoIkJBQllMT04uVmVjdG9yMyIscCksaXQoIkJBQllMT04uVmVjdG9yNCIsQ2UpLGl0KCJCQUJZTE9OLk1hdHJpeCIseCk7Y29uc3QgcXQ9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3MgS3J7Y29uc3RydWN0b3IoZSx0PSExLGkscyl7dGhpcy5pbml0aWFsaXplKGUsdCxpLHMpfWluaXRpYWxpemUoZSx0PSExLGkscyl7cmV0dXJuIHRoaXMubWFzaz1lLHRoaXMuc2tpcE5leHRPYnNlcnZlcnM9dCx0aGlzLnRhcmdldD1pLHRoaXMuY3VycmVudFRhcmdldD1zLHRoaXN9fWNsYXNzIFlye2NvbnN0cnVjdG9yKGUsdCxpPW51bGwpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hc2s9dCx0aGlzLnNjb3BlPWksdGhpcy5fd2lsbEJlVW5yZWdpc3RlcmVkPSExLHRoaXMudW5yZWdpc3Rlck9uTmV4dENhbGw9ITF9fWNsYXNzIEZ7Y29uc3RydWN0b3IoZSl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQ9MCx0aGlzLl9ldmVudFN0YXRlPW5ldyBLcigwKSxlJiYodGhpcy5fb25PYnNlcnZlckFkZGVkPWUpfXN0YXRpYyBGcm9tUHJvbWlzZShlLHQpe2NvbnN0IGk9bmV3IEY7cmV0dXJuIGUudGhlbihzPT57aS5ub3RpZnlPYnNlcnZlcnMocyl9KS5jYXRjaChzPT57aWYodCl0Lm5vdGlmeU9ic2VydmVycyhzKTtlbHNlIHRocm93IHN9KSxpfWdldCBvYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfWFkZChlLHQ9LTEsaT0hMSxzPW51bGwscj0hMSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1uZXcgWXIoZSx0LHMpO3JldHVybiBuLnVucmVnaXN0ZXJPbk5leHRDYWxsPXIsaT90aGlzLl9vYnNlcnZlcnMudW5zaGlmdChuKTp0aGlzLl9vYnNlcnZlcnMucHVzaChuKSx0aGlzLl9vbk9ic2VydmVyQWRkZWQmJnRoaXMuX29uT2JzZXJ2ZXJBZGRlZChuKSxufWFkZE9uY2UoZSl7cmV0dXJuIHRoaXMuYWRkKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfXJlbW92ZShlKXtyZXR1cm4gZSYmdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSkhPT0tMT8odGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpLCEwKTohMX1yZW1vdmVDYWxsYmFjayhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5fb2JzZXJ2ZXJzW2ldO2lmKCFzLl93aWxsQmVVbnJlZ2lzdGVyZWQmJnMuY2FsbGJhY2s9PT1lJiYoIXR8fHQ9PT1zLnNjb3BlKSlyZXR1cm4gdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHMpLCEwfXJldHVybiExfV9kZWZlclVucmVnaXN0ZXIoZSl7dGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkKyssZS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITAsc2V0VGltZW91dCgoKT0+e3RoaXMuX3JlbW92ZShlKX0sMCl9X3JlbW92ZShlLHQ9ITApe2lmKCFlKXJldHVybiExO2NvbnN0IGk9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMT8odCYmdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkLS0sdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpLDEpLCEwKTohMX1tYWtlT2JzZXJ2ZXJUb3BQcmlvcml0eShlKXt0aGlzLl9yZW1vdmUoZSwhMSksdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQoZSl9bWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUsITEpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfW5vdGlmeU9ic2VydmVycyhlLHQ9LTEsaSxzLHIpe2lmKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKXJldHVybiEwO2NvbnN0IG49dGhpcy5fZXZlbnRTdGF0ZTtuLm1hc2s9dCxuLnRhcmdldD1pLG4uY3VycmVudFRhcmdldD1zLG4uc2tpcE5leHRPYnNlcnZlcnM9ITEsbi5sYXN0UmV0dXJuVmFsdWU9ZSxuLnVzZXJJbmZvPXI7Zm9yKGNvbnN0IGEgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKCFhLl93aWxsQmVVbnJlZ2lzdGVyZWQmJihhLm1hc2smdCYmKGEudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihhKSxhLnNjb3BlP24ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2suYXBwbHkoYS5zY29wZSxbZSxuXSk6bi5sYXN0UmV0dXJuVmFsdWU9YS5jYWxsYmFjayhlLG4pKSxuLnNraXBOZXh0T2JzZXJ2ZXJzKSlyZXR1cm4hMTtyZXR1cm4hMH1ub3RpZnlPYnNlcnZlcihlLHQsaT0tMSl7aWYoZS5fd2lsbEJlVW5yZWdpc3RlcmVkKXJldHVybjtjb25zdCBzPXRoaXMuX2V2ZW50U3RhdGU7cy5tYXNrPWkscy5za2lwTmV4dE9ic2VydmVycz0hMSxlLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSksZS5jYWxsYmFjayh0LHMpfWhhc09ic2VydmVycygpe3JldHVybiB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoLXRoaXMuX251bU9ic2VydmVyc01hcmtlZEFzRGVsZXRlZD4wfWNsZWFyKCl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9vbk9ic2VydmVyQWRkZWQ9bnVsbCx0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQ9MH1jbG9uZSgpe2NvbnN0IGU9bmV3IEY7cmV0dXJuIGUuX29ic2VydmVycz10aGlzLl9vYnNlcnZlcnMuc2xpY2UoMCksZX1oYXNTcGVjaWZpY01hc2soZT0tMSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKHQubWFzayZlfHx0Lm1hc2s9PT1lKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBacntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fY2FjaGVkV3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX2NhY2hlZFdyYXBWPWV9Z2V0IHdyYXBSKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBSfXNldCB3cmFwUihlKXt0aGlzLl9jYWNoZWRXcmFwUj1lfWdldCBhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWx9c2V0IGFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwoZSl7dGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1lfWdldCBjb21wYXJpc29uRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9ufXNldCBjb21wYXJpc29uRnVuY3Rpb24oZSl7dGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPWV9Z2V0IHVzZU1pcE1hcHMoKXtyZXR1cm4gdGhpcy5fdXNlTWlwTWFwc31zZXQgdXNlTWlwTWFwcyhlKXt0aGlzLl91c2VNaXBNYXBzPWV9c2V0UGFyYW1ldGVycyhlPTEsdD0xLGk9MSxzPTEscj0yLG49MCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPWUsdGhpcy5fY2FjaGVkV3JhcFY9dCx0aGlzLl9jYWNoZWRXcmFwUj1pLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9cyx0aGlzLnNhbXBsaW5nTW9kZT1yLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj1uLHRoaXN9Y29tcGFyZVNhbXBsZXIoZSl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPT09ZS5fY2FjaGVkV3JhcFUmJnRoaXMuX2NhY2hlZFdyYXBWPT09ZS5fY2FjaGVkV3JhcFYmJnRoaXMuX2NhY2hlZFdyYXBSPT09ZS5fY2FjaGVkV3JhcFImJnRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9PT1lLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsJiZ0aGlzLnNhbXBsaW5nTW9kZT09PWUuc2FtcGxpbmdNb2RlJiZ0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249PT1lLl9jb21wYXJpc29uRnVuY3Rpb24mJnRoaXMuX3VzZU1pcE1hcHM9PT1lLl91c2VNaXBNYXBzfX12YXIgTmU7KGZ1bmN0aW9uKGMpe2NbYy5Vbmtub3duPTBdPSJVbmtub3duIixjW2MuVXJsPTFdPSJVcmwiLGNbYy5UZW1wPTJdPSJUZW1wIixjW2MuUmF3PTNdPSJSYXciLGNbYy5EeW5hbWljPTRdPSJEeW5hbWljIixjW2MuUmVuZGVyVGFyZ2V0PTVdPSJSZW5kZXJUYXJnZXQiLGNbYy5NdWx0aVJlbmRlclRhcmdldD02XT0iTXVsdGlSZW5kZXJUYXJnZXQiLGNbYy5DdWJlPTddPSJDdWJlIixjW2MuQ3ViZVJhdz04XT0iQ3ViZVJhdyIsY1tjLkN1YmVQcmVmaWx0ZXJlZD05XT0iQ3ViZVByZWZpbHRlcmVkIixjW2MuUmF3M0Q9MTBdPSJSYXczRCIsY1tjLlJhdzJEQXJyYXk9MTFdPSJSYXcyREFycmF5IixjW2MuRGVwdGhTdGVuY2lsPTEyXT0iRGVwdGhTdGVuY2lsIixjW2MuQ3ViZVJhd1JHQkQ9MTNdPSJDdWJlUmF3UkdCRCIsY1tjLkRlcHRoPTE0XT0iRGVwdGgifSkoTmV8fChOZT17fSkpO2NsYXNzIE90IGV4dGVuZHMgWnJ7Y29uc3RydWN0b3IoZSx0LGk9ITEpe3N1cGVyKCksdGhpcy5pc1JlYWR5PSExLHRoaXMuaXNDdWJlPSExLHRoaXMuaXMzRD0hMSx0aGlzLmlzMkRBcnJheT0hMSx0aGlzLmlzTXVsdGl2aWV3PSExLHRoaXMudXJsPSIiLHRoaXMuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuc2FtcGxlcz0wLHRoaXMudHlwZT0tMSx0aGlzLmZvcm1hdD0tMSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZWJ1aWxkQ2FsbGJhY2s9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5iYXNlV2lkdGg9MCx0aGlzLmJhc2VIZWlnaHQ9MCx0aGlzLmJhc2VEZXB0aD0wLHRoaXMuaW52ZXJ0WT0hMSx0aGlzLl9pbnZlcnRWU2NhbGU9ITEsdGhpcy5fYXNzb2NpYXRlZENoYW5uZWw9LTEsdGhpcy5fc291cmNlPU5lLlVua25vd24sdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fYnVmZmVyVmlldz1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheT1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheUFycmF5PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXMuX2V4dGVuc2lvbj0iIix0aGlzLl9maWxlcz1udWxsLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2lzRGlzYWJsZWQ9ITEsdGhpcy5fY29tcHJlc3Npb249bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbFByb21pc2U9bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsQ29tcHV0ZWQ9ITEsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlPTAsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldD0wLHRoaXMuX3VzZVNSR0JCdWZmZXI9ITEsdGhpcy5fbG9kVGV4dHVyZUhpZ2g9bnVsbCx0aGlzLl9sb2RUZXh0dXJlTWlkPW51bGwsdGhpcy5fbG9kVGV4dHVyZUxvdz1udWxsLHRoaXMuX2lzUkdCRD0hMSx0aGlzLl9saW5lYXJTcGVjdWxhckxPRD0hMSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZT1udWxsLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsLHRoaXMuX21heExvZExldmVsPW51bGwsdGhpcy5fcmVmZXJlbmNlcz0xLHRoaXMuX2dhbW1hU3BhY2U9bnVsbCx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9zb3VyY2U9dCx0aGlzLl91bmlxdWVJZD1PdC5fQ291bnRlcisrLGl8fCh0aGlzLl9oYXJkd2FyZVRleHR1cmU9ZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpfWdldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPWV9Z2V0IHVuaXF1ZUlkKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUlkfV9zZXRVbmlxdWVJZChlKXt0aGlzLl91bmlxdWVJZD1lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9aW5jcmVtZW50UmVmZXJlbmNlcygpe3RoaXMuX3JlZmVyZW5jZXMrK311cGRhdGVTaXplKGUsdCxpPTEpe3RoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlRGltZW5zaW9ucyh0aGlzLGUsdCxpKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPWksdGhpcy5iYXNlV2lkdGg9ZSx0aGlzLmJhc2VIZWlnaHQ9dCx0aGlzLmJhc2VEZXB0aD1pLHRoaXMuX3NpemU9ZSp0Kml9X3JlYnVpbGQoKXt2YXIgZTtpZih0aGlzLmlzUmVhZHk9ITEsdGhpcy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPW51bGwsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMub25SZWJ1aWxkQ2FsbGJhY2spe2NvbnN0IGk9dGhpcy5vblJlYnVpbGRDYWxsYmFjayh0aGlzKSxzPXI9PntyLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT1pLmlzUmVhZHl9O2kuaXNBc3luYz9pLnByb3h5LnRoZW4ocyk6cyhpLnByb3h5KTtyZXR1cm59bGV0IHQ7c3dpdGNoKHRoaXMuc291cmNlKXtjYXNlIE5lLlRlbXA6YnJlYWs7Y2FzZSBOZS5Vcmw6dD10aGlzLl9lbmdpbmUuY3JlYXRlVGV4dHVyZSgoZT10aGlzLl9vcmlnaW5hbFVybCkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy51cmwsIXRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSxudWxsLHRoaXMuc2FtcGxpbmdNb2RlLGk9PntpLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbix2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSBOZS5SYXc6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKSx0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIE5lLlJhdzNEOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUzRCh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSx0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIE5lLlJhdzJEQXJyYXk6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBOZS5EeW5hbWljOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLnNhbXBsaW5nTW9kZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1RleHR1cmUodGhpcyx0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5pbnZlcnRZLHZvaWQgMCx2b2lkIDAsITApO2JyZWFrO2Nhc2UgTmUuQ3ViZTp0PXRoaXMuX2VuZ2luZS5jcmVhdGVDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2ZpbGVzLCF0aGlzLmdlbmVyYXRlTWlwTWFwcywoKT0+e3QuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiwhMSwwLDAsbnVsbCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgTmUuQ3ViZVJhdzp0PXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3QXJyYXksdGhpcy53aWR0aCx0aGlzLmZvcm1hdCx0aGlzLnR5cGUsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uKSx0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIE5lLkN1YmVSYXdSR0JEOnJldHVybjtjYXNlIE5lLkN1YmVQcmVmaWx0ZXJlZDp0PXRoaXMuX2VuZ2luZS5jcmVhdGVQcmVmaWx0ZXJlZEN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlLHRoaXMuX2xvZEdlbmVyYXRpb25PZmZzZXQsaT0+e2kmJmkuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiksdC5fc3BoZXJpY2FsUG9seW5vbWlhbD10aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsO3JldHVybn19X3N3YXBBbmREaWUoZSx0PSEwKXt2YXIgaTsoaT10aGlzLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5zZXRVc2FnZShlLl9zb3VyY2UsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pc0N1YmUsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksZS5faGFyZHdhcmVUZXh0dXJlPXRoaXMuX2hhcmR3YXJlVGV4dHVyZSx0JiYoZS5faXNSR0JEPXRoaXMuX2lzUkdCRCksdGhpcy5fbG9kVGV4dHVyZUhpZ2gmJihlLl9sb2RUZXh0dXJlSGlnaCYmZS5fbG9kVGV4dHVyZUhpZ2guZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVIaWdoPXRoaXMuX2xvZFRleHR1cmVIaWdoKSx0aGlzLl9sb2RUZXh0dXJlTWlkJiYoZS5fbG9kVGV4dHVyZU1pZCYmZS5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZU1pZD10aGlzLl9sb2RUZXh0dXJlTWlkKSx0aGlzLl9sb2RUZXh0dXJlTG93JiYoZS5fbG9kVGV4dHVyZUxvdyYmZS5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUxvdz10aGlzLl9sb2RUZXh0dXJlTG93KSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZSYmKGUuX2lycmFkaWFuY2VUZXh0dXJlJiZlLl9pcnJhZGlhbmNlVGV4dHVyZS5kaXNwb3NlKCksZS5faXJyYWRpYW5jZVRleHR1cmU9dGhpcy5faXJyYWRpYW5jZVRleHR1cmUpO2NvbnN0IHM9dGhpcy5fZW5naW5lLmdldExvYWRlZFRleHR1cmVzQ2FjaGUoKTtsZXQgcj1zLmluZGV4T2YodGhpcyk7ciE9PS0xJiZzLnNwbGljZShyLDEpLHI9cy5pbmRleE9mKGUpLHI9PT0tMSYmcy5wdXNoKGUpfWRpc3Bvc2UoKXt0aGlzLl9yZWZlcmVuY2VzLS0sdGhpcy5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fcmVmZXJlbmNlcz09PTAmJih0aGlzLl9lbmdpbmUuX3JlbGVhc2VUZXh0dXJlKHRoaXMpLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsKX19T3QuX0NvdW50ZXI9MDtmdW5jdGlvbiBqZSgpe3JldHVybiB0eXBlb2Ygd2luZG93PCJ1In1mdW5jdGlvbiBKcygpe3JldHVybiB0eXBlb2YgbmF2aWdhdG9yPCJ1In1mdW5jdGlvbiBDaSgpe3JldHVybiB0eXBlb2YgZG9jdW1lbnQ8InUifWZ1bmN0aW9uIGdzKGMpe2xldCBlPSIiLHQ9Yy5maXJzdENoaWxkO2Zvcig7dDspdC5ub2RlVHlwZT09PTMmJihlKz10LnRleHRDb250ZW50KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGV9Y29uc3QgcHM9e0lzV2luZG93T2JqZWN0RXhpc3Q6amUsSXNOYXZpZ2F0b3JBdmFpbGFibGU6SnMsSXNEb2N1bWVudEF2YWlsYWJsZTpDaSxHZXRET01UZXh0Q29udGVudDpnc307ZnVuY3Rpb24gJChjKXtyZXR1cm5gJHtjfSBuZWVkcyB0byBiZSBpbXBvcnRlZCBiZWZvcmUgYXMgaXQgY29udGFpbnMgYSBzaWRlLWVmZmVjdCByZXF1aXJlZCBieSB5b3VyIGNvZGUuYH1jbGFzcyBPe3N0YXRpYyBfQ2hlY2tMaW1pdChlLHQpe2xldCBpPU8uX0xvZ0xpbWl0T3V0cHV0c1tlXTtyZXR1cm4gaT9pLmN1cnJlbnQrKzooaT17bGltaXQ6dCxjdXJyZW50OjF9LE8uX0xvZ0xpbWl0T3V0cHV0c1tlXT1pKSxpLmN1cnJlbnQ8PWkubGltaXR9c3RhdGljIF9HZW5lcmF0ZUxpbWl0TWVzc2FnZShlLHQ9MSl7dmFyIGk7Y29uc3Qgcz1PLl9Mb2dMaW1pdE91dHB1dHNbZV07aWYoIXN8fCFPLk1lc3NhZ2VMaW1pdFJlYWNoZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fTGV2ZWxzW3RdO3MuY3VycmVudD09PXMubGltaXQmJk9bci5uYW1lXShPLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3MubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLChpPXIubmFtZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6IiIpKX1zdGF0aWMgX0FkZExvZ0VudHJ5KGUpe08uX0xvZ0NhY2hlPWUrTy5fTG9nQ2FjaGUsTy5Pbk5ld0NhY2hlRW50cnkmJk8uT25OZXdDYWNoZUVudHJ5KGUpfXN0YXRpYyBfRm9ybWF0TWVzc2FnZShlKXtjb25zdCB0PXM9PnM8MTA/IjAiK3M6IiIrcyxpPW5ldyBEYXRlO3JldHVybiJbIit0KGkuZ2V0SG91cnMoKSkrIjoiK3QoaS5nZXRNaW51dGVzKCkpKyI6Iit0KGkuZ2V0U2Vjb25kcygpKSsiXTogIitlfXN0YXRpYyBfTG9nRGlzYWJsZWQoZSx0KXt9c3RhdGljIF9Mb2dFbmFibGVkKGU9MSx0LGkpe2lmKGkhPT12b2lkIDAmJiFPLl9DaGVja0xpbWl0KHQsaSkpcmV0dXJuO2NvbnN0IHM9Ty5fRm9ybWF0TWVzc2FnZSh0KSxyPXRoaXMuX0xldmVsc1tlXTtyLmxvZ0Z1bmMmJnIubG9nRnVuYygiQkpTIC0gIitzKTtjb25zdCBuPWA8ZGl2IHN0eWxlPSdjb2xvcjoke3IuY29sb3J9Jz4ke3N9PC9kaXY+PGJyPmA7Ty5fQWRkTG9nRW50cnkobiksTy5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UodCxlKX1zdGF0aWMgZ2V0IExvZ0NhY2hlKCl7cmV0dXJuIE8uX0xvZ0NhY2hlfXN0YXRpYyBDbGVhckxvZ0NhY2hlKCl7Ty5fTG9nQ2FjaGU9IiIsTy5fTG9nTGltaXRPdXRwdXRzPXt9LE8uZXJyb3JzQ291bnQ9MH1zdGF0aWMgc2V0IExvZ0xldmVscyhlKXtPLkxvZz1PLl9Mb2dEaXNhYmxlZCxPLldhcm49Ty5fTG9nRGlzYWJsZWQsTy5FcnJvcj1PLl9Mb2dEaXNhYmxlZCxbTy5NZXNzYWdlTG9nTGV2ZWwsTy5XYXJuaW5nTG9nTGV2ZWwsTy5FcnJvckxvZ0xldmVsXS5mb3JFYWNoKHQ9PntpZigoZSZ0KT09PXQpe2NvbnN0IGk9dGhpcy5fTGV2ZWxzW3RdO09baS5uYW1lXT1PLl9Mb2dFbmFibGVkLmJpbmQoTyx0KX19KX19Ty5Ob25lTG9nTGV2ZWw9MCxPLk1lc3NhZ2VMb2dMZXZlbD0xLE8uV2FybmluZ0xvZ0xldmVsPTIsTy5FcnJvckxvZ0xldmVsPTQsTy5BbGxMb2dMZXZlbD03LE8uTWVzc2FnZUxpbWl0UmVhY2hlZD0iVG9vIG1hbnkgJVRZUEUlcyAoJUxJTUlUJSksIG5vIG1vcmUgJVRZUEUlcyB3aWxsIGJlIHJlcG9ydGVkIGZvciB0aGlzIG1lc3NhZ2UuIixPLl9Mb2dDYWNoZT0iIixPLl9Mb2dMaW1pdE91dHB1dHM9e30sTy5fTGV2ZWxzPVt7fSx7Y29sb3I6IndoaXRlIixsb2dGdW5jOmNvbnNvbGUubG9nLG5hbWU6IkxvZyJ9LHtjb2xvcjoib3JhbmdlIixsb2dGdW5jOmNvbnNvbGUud2FybixuYW1lOiJXYXJuIn0se30se2NvbG9yOiJyZWQiLGxvZ0Z1bmM6Y29uc29sZS5lcnJvcixuYW1lOiJFcnJvciJ9XSxPLmVycm9yc0NvdW50PTAsTy5Mb2c9Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5NZXNzYWdlTG9nTGV2ZWwpLE8uV2Fybj1PLl9Mb2dFbmFibGVkLmJpbmQoTyxPLldhcm5pbmdMb2dMZXZlbCksTy5FcnJvcj1PLl9Mb2dFbmFibGVkLmJpbmQoTyxPLkVycm9yTG9nTGV2ZWwpO2NvbnN0IHFyPSJhdHRyaWJ1dGUiLGpyPSJ2YXJ5aW5nIjtjbGFzcyBJaXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2hpbGRyZW49W119aXNWYWxpZChlKXtyZXR1cm4hMH1wcm9jZXNzKGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPSIiO2lmKHRoaXMubGluZSl7bGV0IGw9dGhpcy5saW5lO2NvbnN0IHU9dC5wcm9jZXNzb3I7aWYodSl7dS5saW5lUHJvY2Vzc29yJiYobD11LmxpbmVQcm9jZXNzb3IobCx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpO2NvbnN0IGQ9KHM9KGk9dC5wcm9jZXNzb3IpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5hdHRyaWJ1dGVLZXl3b3JkTmFtZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6cXIsZj10LmlzRnJhZ21lbnQmJighKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnZhcnlpbmdGcmFnbWVudEtleXdvcmROYW1lKT8obj10LnByb2Nlc3Nvcik9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnZhcnlpbmdGcmFnbWVudEtleXdvcmROYW1lOiF0LmlzRnJhZ21lbnQmJighKChhPXQucHJvY2Vzc29yKT09PW51bGx8fGE9PT12b2lkIDApJiZhLnZhcnlpbmdWZXJ0ZXhLZXl3b3JkTmFtZSk/KG89dC5wcm9jZXNzb3IpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by52YXJ5aW5nVmVydGV4S2V5d29yZE5hbWU6anI7IXQuaXNGcmFnbWVudCYmdS5hdHRyaWJ1dGVQcm9jZXNzb3ImJnRoaXMubGluZS5zdGFydHNXaXRoKGQpP2w9dS5hdHRyaWJ1dGVQcm9jZXNzb3IodGhpcy5saW5lLGUsdC5wcm9jZXNzaW5nQ29udGV4dCk6dS52YXJ5aW5nUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aChmKT9sPXUudmFyeWluZ1Byb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCk6dS51bmlmb3JtUHJvY2Vzc29yJiZ1LnVuaWZvcm1SZWdleHAmJnUudW5pZm9ybVJlZ2V4cC50ZXN0KHRoaXMubGluZSk/dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobD11LnVuaWZvcm1Qcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpKTp1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJnUudW5pZm9ybUJ1ZmZlclJlZ2V4cCYmdS51bmlmb3JtQnVmZmVyUmVnZXhwLnRlc3QodGhpcy5saW5lKT90Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXJ8fChsPXUudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCk6dS50ZXh0dXJlUHJvY2Vzc29yJiZ1LnRleHR1cmVSZWdleHAmJnUudGV4dHVyZVJlZ2V4cC50ZXN0KHRoaXMubGluZSk/bD11LnRleHR1cmVQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOih1LnVuaWZvcm1Qcm9jZXNzb3J8fHUudW5pZm9ybUJ1ZmZlclByb2Nlc3NvcikmJnRoaXMubGluZS5zdGFydHNXaXRoKCJ1bmlmb3JtIikmJiF0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJigvdW5pZm9ybVxzKyg/Oig/OmhpZ2hwKT98KD86bG93cCk/KVxzKihcUyspXHMrKFxTKylccyo7Ly50ZXN0KHRoaXMubGluZSk/dS51bmlmb3JtUHJvY2Vzc29yJiYobD11LnVuaWZvcm1Qcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpKTp1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJihsPXUudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCkpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlciYmdGhpcy5saW5lLmluZGV4T2YoIn0iKSE9PS0xJiYodC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSExLHUuZW5kT2ZVbmlmb3JtQnVmZmVyUHJvY2Vzc29yJiYobD11LmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSl9aCs9bCtgXHIKYH1yZXR1cm4gdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGw9PntoKz1sLnByb2Nlc3MoZSx0KX0pLHRoaXMuYWRkaXRpb25hbERlZmluZUtleSYmKGVbdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5XT10aGlzLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZXx8InRydWUiKSxofX1jbGFzcyAkcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpbmVzPVtdfWdldCBjdXJyZW50TGluZSgpe3JldHVybiB0aGlzLl9saW5lc1t0aGlzLmxpbmVJbmRleF19Z2V0IGNhblJlYWQoKXtyZXR1cm4gdGhpcy5saW5lSW5kZXg8dGhpcy5fbGluZXMubGVuZ3RoLTF9c2V0IGxpbmVzKGUpe3RoaXMuX2xpbmVzLmxlbmd0aD0wO2Zvcihjb25zdCB0IG9mIGUpe2lmKHRbMF09PT0iIyIpe3RoaXMuX2xpbmVzLnB1c2godCk7Y29udGludWV9aWYodC50cmltKCkuc3RhcnRzV2l0aCgiLy8iKSl7dGhpcy5fbGluZXMucHVzaCh0KTtjb250aW51ZX1jb25zdCBpPXQuc3BsaXQoIjsiKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7bGV0IHI9aVtzXTtyPXIudHJpbSgpLHImJnRoaXMuX2xpbmVzLnB1c2gocisocyE9PWkubGVuZ3RoLTE/IjsiOiIiKSl9fX19Y2xhc3MgbXMgZXh0ZW5kcyBJaXtwcm9jZXNzKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5jaGlsZHJlbltpXTtpZihzLmlzVmFsaWQoZSkpcmV0dXJuIHMucHJvY2VzcyhlLHQpfXJldHVybiIifX1jbGFzcyBRciBleHRlbmRzIElpe2lzVmFsaWQoZSl7cmV0dXJuIHRoaXMudGVzdEV4cHJlc3Npb24uaXNUcnVlKGUpfX1jbGFzcyBldHtpc1RydWUoZSl7cmV0dXJuITB9c3RhdGljIHBvc3RmaXhUb0luZml4KGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSlpZihldC5fT3BlcmF0b3JQcmlvcml0eVtpXT09PXZvaWQgMCl0LnB1c2goaSk7ZWxzZXtjb25zdCBzPXRbdC5sZW5ndGgtMV0scj10W3QubGVuZ3RoLTJdO3QubGVuZ3RoLT0yLHQucHVzaChgKCR7cn0ke2l9JHtzfSlgKX1yZXR1cm4gdFt0Lmxlbmd0aC0xXX1zdGF0aWMgaW5maXhUb1Bvc3RmaXgoZSl7Y29uc3QgdD1bXTtsZXQgaT0tMTtjb25zdCBzPSgpPT57aD1oLnRyaW0oKSxoIT09IiImJih0LnB1c2goaCksaD0iIil9LHI9bD0+e2k8ZXQuX1N0YWNrLmxlbmd0aC0xJiYoZXQuX1N0YWNrWysraV09bCl9LG49KCk9PmV0Ll9TdGFja1tpXSxhPSgpPT5pPT09LTE/IiEhSU5WQUxJRCBFWFBSRVNTSU9OISEiOmV0Ll9TdGFja1tpLS1dO2xldCBvPTAsaD0iIjtmb3IoO288ZS5sZW5ndGg7KXtjb25zdCBsPWUuY2hhckF0KG8pLHU9bzxlLmxlbmd0aC0xP2Uuc3Vic3RyKG8sMik6IiI7aWYobD09PSIoIiloPSIiLHIobCk7ZWxzZSBpZihsPT09IikiKXtmb3IocygpO2khPT0tMSYmbigpIT09IigiOyl0LnB1c2goYSgpKTthKCl9ZWxzZSBpZihldC5fT3BlcmF0b3JQcmlvcml0eVt1XT4xKXtmb3IocygpO2khPT0tMSYmZXQuX09wZXJhdG9yUHJpb3JpdHlbbigpXT49ZXQuX09wZXJhdG9yUHJpb3JpdHlbdV07KXQucHVzaChhKCkpO3IodSksbysrfWVsc2UgaCs9bDtvKyt9Zm9yKHMoKTtpIT09LTE7KW4oKT09PSIoIj9hKCk6dC5wdXNoKGEoKSk7cmV0dXJuIHR9fWV0Ll9PcGVyYXRvclByaW9yaXR5PXsiKSI6MCwiKCI6MSwifHwiOjIsIiYmIjozfSxldC5fU3RhY2s9WyIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiXTtjbGFzcyBHaSBleHRlbmRzIGV0e2NvbnN0cnVjdG9yKGUsdD0hMSl7c3VwZXIoKSx0aGlzLmRlZmluZT1lLHRoaXMubm90PXR9aXNUcnVlKGUpe2xldCB0PWVbdGhpcy5kZWZpbmVdIT09dm9pZCAwO3JldHVybiB0aGlzLm5vdCYmKHQ9IXQpLHR9fWNsYXNzIEpyIGV4dGVuZHMgZXR7aXNUcnVlKGUpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZShlKXx8dGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKGUpfX1jbGFzcyBlbiBleHRlbmRzIGV0e2lzVHJ1ZShlKXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUoZSkmJnRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZShlKX19Y2xhc3MgdG4gZXh0ZW5kcyBldHtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSx0aGlzLmRlZmluZT1lLHRoaXMub3BlcmFuZD10LHRoaXMudGVzdFZhbHVlPWl9aXNUcnVlKGUpe2xldCB0PWVbdGhpcy5kZWZpbmVdO3Q9PT12b2lkIDAmJih0PXRoaXMuZGVmaW5lKTtsZXQgaT0hMTtjb25zdCBzPXBhcnNlSW50KHQpLHI9cGFyc2VJbnQodGhpcy50ZXN0VmFsdWUpO3N3aXRjaCh0aGlzLm9wZXJhbmQpe2Nhc2UiPiI6aT1zPnI7YnJlYWs7Y2FzZSI8IjppPXM8cjticmVhaztjYXNlIjw9IjppPXM8PXI7YnJlYWs7Y2FzZSI+PSI6aT1zPj1yO2JyZWFrO2Nhc2UiPT0iOmk9cz09PXI7YnJlYWt9cmV0dXJuIGl9fXZhciBaZTsoZnVuY3Rpb24oYyl7Y1tjLkdMU0w9MF09IkdMU0wiLGNbYy5XR1NMPTFdPSJXR1NMIn0pKFplfHwoWmU9e30pKTtjb25zdCBzbj0vZGVmaW5lZFxzKj9cKCguKz8pXCkvZyxFcz0vZGVmaW5lZFxzKj9cWyguKz8pXF0vZyxlcj0vI2luY2x1ZGVccz88KC4rKT4oXCgoLiopXCkpKihcWyguKilcXSkqL2c7Y2xhc3Mgbml7c3RhdGljIEluaXRpYWxpemUoZSl7ZS5wcm9jZXNzb3ImJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyhlLnByb2Nlc3NpbmdDb250ZXh0KX1zdGF0aWMgUHJvY2VzcyhlLHQsaSxzKXt2YXIgcjshKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnByZVByb2Nlc3NTaGFkZXJDb2RlJiYoZT10LnByb2Nlc3Nvci5wcmVQcm9jZXNzU2hhZGVyQ29kZShlLHQuaXNGcmFnbWVudCkpLHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhlLHQsbj0+e3QucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzJiYobj10LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0LmlzRnJhZ21lbnQ/ImZyYWdtZW50IjoidmVydGV4IixuKSk7Y29uc3QgYT10aGlzLl9Qcm9jZXNzU2hhZGVyQ29udmVyc2lvbihuLHQscyk7aShhLG4pfSl9c3RhdGljIFByZVByb2Nlc3MoZSx0LGkscyl7dmFyIHI7ISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fQXBwbHlQcmVQcm9jZXNzaW5nKG4sdCxzKTtpKGEsbil9KX1zdGF0aWMgRmluYWxpemUoZSx0LGkpe3JldHVybiFpLnByb2Nlc3Nvcnx8IWkucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycz97dmVydGV4Q29kZTplLGZyYWdtZW50Q29kZTp0fTppLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnMoZSx0LGkucHJvY2Vzc2luZ0NvbnRleHQpfXN0YXRpYyBfUHJvY2Vzc1ByZWNpc2lvbihlLHQpe3ZhciBpO2lmKCEoKGk9dC5wcm9jZXNzb3IpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubm9QcmVjaXNpb24pcmV0dXJuIGU7Y29uc3Qgcz10LnNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI7cmV0dXJuIGUuaW5kZXhPZigicHJlY2lzaW9uIGhpZ2hwIGZsb2F0Iik9PT0tMT9zP2U9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYCtlOmU9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpgK2U6c3x8KGU9ZS5yZXBsYWNlKCJwcmVjaXNpb24gaGlnaHAgZmxvYXQiLCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdCIpKSxlfXN0YXRpYyBfRXh0cmFjdE9wZXJhdGlvbihlKXtjb25zdCBpPS9kZWZpbmVkXCgoLispXCkvLmV4ZWMoZSk7aWYoaSYmaS5sZW5ndGgpcmV0dXJuIG5ldyBHaShpWzFdLnRyaW0oKSxlWzBdPT09IiEiKTtjb25zdCBzPVsiPT0iLCI+PSIsIjw9IiwiPCIsIj4iXTtsZXQgcj0iIixuPTA7Zm9yKHIgb2YgcylpZihuPWUuaW5kZXhPZihyKSxuPi0xKWJyZWFrO2lmKG49PT0tMSlyZXR1cm4gbmV3IEdpKGUpO2NvbnN0IGE9ZS5zdWJzdHJpbmcoMCxuKS50cmltKCksbz1lLnN1YnN0cmluZyhuK3IubGVuZ3RoKS50cmltKCk7cmV0dXJuIG5ldyB0bihhLHIsbyl9c3RhdGljIF9CdWlsZFN1YkV4cHJlc3Npb24oZSl7ZT1lLnJlcGxhY2Uoc24sImRlZmluZWRbJDFdIik7Y29uc3QgdD1ldC5pbmZpeFRvUG9zdGZpeChlKSxpPVtdO2Zvcihjb25zdCByIG9mIHQpaWYociE9PSJ8fCImJnIhPT0iJiYiKWkucHVzaChyKTtlbHNlIGlmKGkubGVuZ3RoPj0yKXtsZXQgbj1pW2kubGVuZ3RoLTFdLGE9aVtpLmxlbmd0aC0yXTtpLmxlbmd0aC09Mjtjb25zdCBvPXI9PSImJiI/bmV3IGVuOm5ldyBKcjt0eXBlb2Ygbj09InN0cmluZyImJihuPW4ucmVwbGFjZShFcywiZGVmaW5lZCgkMSkiKSksdHlwZW9mIGE9PSJzdHJpbmciJiYoYT1hLnJlcGxhY2UoRXMsImRlZmluZWQoJDEpIikpLG8ubGVmdE9wZXJhbmQ9dHlwZW9mIGE9PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24oYSk6YSxvLnJpZ2h0T3BlcmFuZD10eXBlb2Ygbj09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihuKTpuLGkucHVzaChvKX1sZXQgcz1pW2kubGVuZ3RoLTFdO3JldHVybiB0eXBlb2Ygcz09InN0cmluZyImJihzPXMucmVwbGFjZShFcywiZGVmaW5lZCgkMSkiKSksdHlwZW9mIHM9PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24ocyk6c31zdGF0aWMgX0J1aWxkRXhwcmVzc2lvbihlLHQpe2NvbnN0IGk9bmV3IFFyLHM9ZS5zdWJzdHJpbmcoMCx0KTtsZXQgcj1lLnN1YnN0cmluZyh0KTtyZXR1cm4gcj1yLnN1YnN0cmluZygwLChyLmluZGV4T2YoIi8vIikrMXx8ci5sZW5ndGgrMSktMSkudHJpbSgpLHM9PT0iI2lmZGVmIj9pLnRlc3RFeHByZXNzaW9uPW5ldyBHaShyKTpzPT09IiNpZm5kZWYiP2kudGVzdEV4cHJlc3Npb249bmV3IEdpKHIsITApOmkudGVzdEV4cHJlc3Npb249dGhpcy5fQnVpbGRTdWJFeHByZXNzaW9uKHIpLGl9c3RhdGljIF9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSx0LGkpe2xldCBzPWUuY3VycmVudExpbmU7Zm9yKDt0aGlzLl9Nb3ZlQ3Vyc29yKGUsaSk7KXtzPWUuY3VycmVudExpbmU7Y29uc3Qgcj1zLnN1YnN0cmluZygwLDUpLnRvTG93ZXJDYXNlKCk7aWYocj09PSIjZWxzZSIpe2NvbnN0IG49bmV3IElpO3QuY2hpbGRyZW4ucHVzaChuKSx0aGlzLl9Nb3ZlQ3Vyc29yKGUsbik7cmV0dXJufWVsc2UgaWYocj09PSIjZWxpZiIpe2NvbnN0IG49dGhpcy5fQnVpbGRFeHByZXNzaW9uKHMsNSk7dC5jaGlsZHJlbi5wdXNoKG4pLGk9bn19fXN0YXRpYyBfTW92ZUN1cnNvcihlLHQpe2Zvcig7ZS5jYW5SZWFkOyl7ZS5saW5lSW5kZXgrKztjb25zdCBpPWUuY3VycmVudExpbmUscj0vKCNpZmRlZil8KCNlbHNlKXwoI2VsaWYpfCgjZW5kaWYpfCgjaWZuZGVmKXwoI2lmKS8uZXhlYyhpKTtpZihyJiZyLmxlbmd0aClzd2l0Y2goclswXSl7Y2FzZSIjaWZkZWYiOntjb25zdCBhPW5ldyBtczt0LmNoaWxkcmVuLnB1c2goYSk7Y29uc3Qgbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSw2KTthLmNoaWxkcmVuLnB1c2gobyksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsYSxvKTticmVha31jYXNlIiNlbHNlIjpjYXNlIiNlbGlmIjpyZXR1cm4hMDtjYXNlIiNlbmRpZiI6cmV0dXJuITE7Y2FzZSIjaWZuZGVmIjp7Y29uc3QgYT1uZXcgbXM7dC5jaGlsZHJlbi5wdXNoKGEpO2NvbnN0IG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksNyk7YS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9Y2FzZSIjaWYiOntjb25zdCBhPW5ldyBtcyxvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDMpO3QuY2hpbGRyZW4ucHVzaChhKSxhLmNoaWxkcmVuLnB1c2gobyksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsYSxvKTticmVha319ZWxzZXtjb25zdCBuPW5ldyBJaTtpZihuLmxpbmU9aSx0LmNoaWxkcmVuLnB1c2gobiksaVswXT09PSIjIiYmaVsxXT09PSJkIil7Y29uc3QgYT1pLnJlcGxhY2UoIjsiLCIiKS5zcGxpdCgiICIpO24uYWRkaXRpb25hbERlZmluZUtleT1hWzFdLGEubGVuZ3RoPT09MyYmKG4uYWRkaXRpb25hbERlZmluZVZhbHVlPWFbMl0pfX19cmV0dXJuITF9c3RhdGljIF9FdmFsdWF0ZVByZVByb2Nlc3NvcnMoZSx0LGkpe2NvbnN0IHM9bmV3IElpLHI9bmV3ICRyO3JldHVybiByLmxpbmVJbmRleD0tMSxyLmxpbmVzPWUuc3BsaXQoYApgKSx0aGlzLl9Nb3ZlQ3Vyc29yKHIscykscy5wcm9jZXNzKHQsaSl9c3RhdGljIF9QcmVwYXJlUHJlUHJvY2Vzc29ycyhlLHQpe3ZhciBpO2NvbnN0IHM9ZS5kZWZpbmVzLHI9e307Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3Qgbz1uLnJlcGxhY2UoIiNkZWZpbmUiLCIiKS5yZXBsYWNlKCI7IiwiIikudHJpbSgpLnNwbGl0KCIgIik7cltvWzBdXT1vLmxlbmd0aD4xP29bMV06IiJ9cmV0dXJuKChpPWUucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuc2hhZGVyTGFuZ3VhZ2UpPT09WmUuR0xTTCYmKHIuR0xfRVM9InRydWUiKSxyLl9fVkVSU0lPTl9fPWUudmVyc2lvbixyW2UucGxhdGZvcm1OYW1lXT0idHJ1ZSIsdC5fZ2V0R2xvYmFsRGVmaW5lcyhyKSxyfXN0YXRpYyBfUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24oZSx0LGkpe2xldCBzPXRoaXMuX1Byb2Nlc3NQcmVjaXNpb24oZSx0KTtpZighdC5wcm9jZXNzb3J8fHQucHJvY2Vzc29yLnNoYWRlckxhbmd1YWdlPT09WmUuR0xTTCYmcy5pbmRleE9mKCIjdmVyc2lvbiAzIikhPT0tMSYmKHM9cy5yZXBsYWNlKCIjdmVyc2lvbiAzMDAgZXMiLCIiKSwhdC5wcm9jZXNzb3IucGFyc2VHTEVTMykpcmV0dXJuIHM7Y29uc3Qgcj10LmRlZmluZXMsbj10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LGkpO3JldHVybiB0LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxzPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhzLG4sdCksdC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvciYmKHM9dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQsaSkpLGkuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihzPWkuaW5saW5lU2hhZGVyQ29kZShzKSksc31zdGF0aWMgX0FwcGx5UHJlUHJvY2Vzc2luZyhlLHQsaSl7dmFyIHMscjtsZXQgbj1lO2NvbnN0IGE9dC5kZWZpbmVzLG89dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4hKChzPXQucHJvY2Vzc29yKT09PW51bGx8fHM9PT12b2lkIDApJiZzLnByZVByb2Nlc3NvciYmKG49dC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yKG4sYSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLG49dGhpcy5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzKG4sbyx0KSwhKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnBvc3RQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IobixhLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYobj1pLmlubGluZVNoYWRlckNvZGUobikpLG59c3RhdGljIF9Qcm9jZXNzSW5jbHVkZXMoZSx0LGkpe2xldCBzPWVyLmV4ZWMoZSkscj1uZXcgU3RyaW5nKGUpLG49ITE7Zm9yKDtzIT1udWxsOyl7bGV0IGE9c1sxXTtpZihhLmluZGV4T2YoIl9fZGVjbF9fIikhPT0tMSYmKGE9YS5yZXBsYWNlKC9fX2RlY2xfXy8sIiIpLHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyYmKGE9YS5yZXBsYWNlKC9WZXJ0ZXgvLCJVYm8iKSxhPWEucmVwbGFjZSgvRnJhZ21lbnQvLCJVYm8iKSksYT1hKyJEZWNsYXJhdGlvbiIpLHQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbYV0pe2xldCBvPXQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbYV07aWYoc1syXSl7Y29uc3QgaD1zWzNdLnNwbGl0KCIsIik7Zm9yKGxldCBsPTA7bDxoLmxlbmd0aDtsKz0yKXtjb25zdCB1PW5ldyBSZWdFeHAoaFtsXSwiZyIpLGQ9aFtsKzFdO289by5yZXBsYWNlKHUsZCl9fWlmKHNbNF0pe2NvbnN0IGg9c1s1XTtpZihoLmluZGV4T2YoIi4uIikhPT0tMSl7Y29uc3QgbD1oLnNwbGl0KCIuLiIpLHU9cGFyc2VJbnQobFswXSk7bGV0IGQ9cGFyc2VJbnQobFsxXSksZj1vLnNsaWNlKDApO289IiIsaXNOYU4oZCkmJihkPXQuaW5kZXhQYXJhbWV0ZXJzW2xbMV1dKTtmb3IobGV0IF89dTtfPGQ7XysrKXQuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8KGY9Zi5yZXBsYWNlKC9saWdodFx7WFx9LihcdyopL2csKEUsbSk9Pm0rIntYfSIpKSxvKz1mLnJlcGxhY2UoL1x7WFx9L2csXy50b1N0cmluZygpKStgCmB9ZWxzZSB0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChvPW8ucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLChsLHUpPT51KyJ7WH0iKSksbz1vLnJlcGxhY2UoL1x7WFx9L2csaCl9cj1yLnJlcGxhY2Uoc1swXSxvKSxuPW58fG8uaW5kZXhPZigiI2luY2x1ZGU8Iik+PTB8fG8uaW5kZXhPZigiI2luY2x1ZGUgPCIpPj0wfWVsc2V7Y29uc3Qgbz10LnNoYWRlcnNSZXBvc2l0b3J5KyJTaGFkZXJzSW5jbHVkZS8iK2ErIi5meCI7bmkuX0ZpbGVUb29sc0xvYWRGaWxlKG8saD0+e3QuaW5jbHVkZXNTaGFkZXJzU3RvcmVbYV09aCx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMocix0LGkpfSk7cmV0dXJufXM9ZXIuZXhlYyhlKX1uP3RoaXMuX1Byb2Nlc3NJbmNsdWRlcyhyLnRvU3RyaW5nKCksdCxpKTppKHIpfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEZpbGUoZSx0LGkscyxyLG4pe3Rocm93ICQoIkZpbGVUb29scyIpfX1jbGFzcyBVe3N0YXRpYyBHZXRTaGFkZXJzUmVwb3NpdG9yeShlPVplLkdMU0wpe3JldHVybiBlPT09WmUuR0xTTD9VLlNoYWRlcnNSZXBvc2l0b3J5OlUuU2hhZGVyc1JlcG9zaXRvcnlXR1NMfXN0YXRpYyBHZXRTaGFkZXJzU3RvcmUoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/VS5TaGFkZXJzU3RvcmU6VS5TaGFkZXJzU3RvcmVXR1NMfXN0YXRpYyBHZXRJbmNsdWRlc1NoYWRlcnNTdG9yZShlPVplLkdMU0wpe3JldHVybiBlPT09WmUuR0xTTD9VLkluY2x1ZGVzU2hhZGVyc1N0b3JlOlUuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMfX1VLlNoYWRlcnNSZXBvc2l0b3J5PSJzcmMvU2hhZGVycy8iLFUuU2hhZGVyc1N0b3JlPXt9LFUuSW5jbHVkZXNTaGFkZXJzU3RvcmU9e30sVS5TaGFkZXJzUmVwb3NpdG9yeVdHU0w9InNyYy9TaGFkZXJzV0dTTC8iLFUuU2hhZGVyc1N0b3JlV0dTTD17fSxVLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTD17fTtjbGFzcyBQZXtjb25zdHJ1Y3RvcihlLHQsaSxzPW51bGwscixuPW51bGwsYT1udWxsLG89bnVsbCxoPW51bGwsbCx1PSIiLGQ9WmUuR0xTTCl7dmFyIGYsXyxFO3RoaXMubmFtZT1udWxsLHRoaXMuZGVmaW5lcz0iIix0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLm9uQmluZD1udWxsLHRoaXMudW5pcXVlSWQ9MCx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkVycm9yT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW51bGwsdGhpcy5fd2FzUHJldmlvdXNseVJlYWR5PSExLHRoaXMuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSx0aGlzLl93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9bnVsbCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMSx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzPXt9LHRoaXMuX211bHRpVGFyZ2V0PSExLHRoaXMuX3NhbXBsZXJzPXt9LHRoaXMuX2lzUmVhZHk9ITEsdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5fa2V5PSIiLHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPW51bGwsdGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5fdmVydGV4U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249IiIsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5uYW1lPWUsdGhpcy5fa2V5PXU7bGV0IG0sdj1udWxsO2lmKHQuYXR0cmlidXRlcyl7Y29uc3Qgaz10O2lmKHRoaXMuX2VuZ2luZT1pLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz1rLmF0dHJpYnV0ZXMsdGhpcy5fdW5pZm9ybXNOYW1lcz1rLnVuaWZvcm1zTmFtZXMuY29uY2F0KGsuc2FtcGxlcnMpLHRoaXMuX3NhbXBsZXJMaXN0PWsuc2FtcGxlcnMuc2xpY2UoKSx0aGlzLmRlZmluZXM9ay5kZWZpbmVzLHRoaXMub25FcnJvcj1rLm9uRXJyb3IsdGhpcy5vbkNvbXBpbGVkPWsub25Db21waWxlZCx0aGlzLl9mYWxsYmFja3M9ay5mYWxsYmFja3MsdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWsuaW5kZXhQYXJhbWV0ZXJzLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M9ay50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzfHxudWxsLHRoaXMuX211bHRpVGFyZ2V0PSEhay5tdWx0aVRhcmdldCx0aGlzLl9zaGFkZXJMYW5ndWFnZT0oZj1rLnNoYWRlckxhbmd1YWdlKSE9PW51bGwmJmYhPT12b2lkIDA/ZjpaZS5HTFNMLGsudW5pZm9ybUJ1ZmZlcnNOYW1lcyl7dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9ay51bmlmb3JtQnVmZmVyc05hbWVzLnNsaWNlKCk7Zm9yKGxldCB3PTA7dzxrLnVuaWZvcm1CdWZmZXJzTmFtZXMubGVuZ3RoO3crKyl0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW2sudW5pZm9ybUJ1ZmZlcnNOYW1lc1t3XV09d312PShfPWsucHJvY2Vzc0ZpbmFsQ29kZSkhPT1udWxsJiZfIT09dm9pZCAwP186bnVsbCxtPShFPWsucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKSE9PW51bGwmJkUhPT12b2lkIDA/RTp2b2lkIDB9ZWxzZSB0aGlzLl9lbmdpbmU9cix0aGlzLmRlZmluZXM9bj8/IiIsdGhpcy5fdW5pZm9ybXNOYW1lcz1pLmNvbmNhdChzKSx0aGlzLl9zYW1wbGVyTGlzdD1zP3Muc2xpY2UoKTpbXSx0aGlzLl9hdHRyaWJ1dGVzTmFtZXM9dCx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1bXSx0aGlzLl9zaGFkZXJMYW5ndWFnZT1kLHRoaXMub25FcnJvcj1oLHRoaXMub25Db21waWxlZD1vLHRoaXMuX2luZGV4UGFyYW1ldGVycz1sLHRoaXMuX2ZhbGxiYWNrcz1hO3RoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lPXt9LHRoaXMudW5pcXVlSWQ9UGUuX1VuaXF1ZUlkU2VlZCsrO2xldCBTLHk7Y29uc3QgQT1qZSgpP3RoaXMuX2VuZ2luZS5nZXRIb3N0RG9jdW1lbnQoKTpudWxsO2UudmVydGV4U291cmNlP1M9InNvdXJjZToiK2UudmVydGV4U291cmNlOmUudmVydGV4RWxlbWVudD8oUz1BP0EuZ2V0RWxlbWVudEJ5SWQoZS52ZXJ0ZXhFbGVtZW50KTpudWxsLFN8fChTPWUudmVydGV4RWxlbWVudCkpOlM9ZS52ZXJ0ZXh8fGUsZS5mcmFnbWVudFNvdXJjZT95PSJzb3VyY2U6IitlLmZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRFbGVtZW50Pyh5PUE/QS5nZXRFbGVtZW50QnlJZChlLmZyYWdtZW50RWxlbWVudCk6bnVsbCx5fHwoeT1lLmZyYWdtZW50RWxlbWVudCkpOnk9ZS5mcmFnbWVudHx8ZSx0aGlzLl9wcm9jZXNzaW5nQ29udGV4dD10aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3NpbmdDb250ZXh0KHRoaXMuX3NoYWRlckxhbmd1YWdlKTtsZXQgQz17ZGVmaW5lczp0aGlzLmRlZmluZXMuc3BsaXQoYApgKSxpbmRleFBhcmFtZXRlcnM6dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGlzRnJhZ21lbnQ6ITEsc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcjp0aGlzLl9lbmdpbmUuX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXIscHJvY2Vzc29yOnRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc29yKHRoaXMuX3NoYWRlckxhbmd1YWdlKSxzdXBwb3J0c1VuaWZvcm1CdWZmZXJzOnRoaXMuX2VuZ2luZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHNoYWRlcnNSZXBvc2l0b3J5OlUuR2V0U2hhZGVyc1JlcG9zaXRvcnkodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLGluY2x1ZGVzU2hhZGVyc1N0b3JlOlUuR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmUodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLHZlcnNpb246KHRoaXMuX2VuZ2luZS52ZXJzaW9uKjEwMCkudG9TdHJpbmcoKSxwbGF0Zm9ybU5hbWU6dGhpcy5fZW5naW5lLnNoYWRlclBsYXRmb3JtTmFtZSxwcm9jZXNzaW5nQ29udGV4dDp0aGlzLl9wcm9jZXNzaW5nQ29udGV4dCxpc05EQ0hhbGZaUmFuZ2U6dGhpcy5fZW5naW5lLmlzTkRDSGFsZlpSYW5nZSx1c2VSZXZlcnNlRGVwdGhCdWZmZXI6dGhpcy5fZW5naW5lLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcixwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6bX07Y29uc3QgYj1bdm9pZCAwLHZvaWQgMF0sTT0oKT0+e2lmKGJbMF0mJmJbMV0pe0MuaXNGcmFnbWVudD0hMDtjb25zdFtrLHddPWI7bmkuUHJvY2Vzcyh3LEMsKGRlLGNlKT0+e3RoaXMuX2ZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj1jZSx2JiYoZGU9digiZnJhZ21lbnQiLGRlKSk7Y29uc3Qgc2U9bmkuRmluYWxpemUoayxkZSxDKTtDPW51bGwsdGhpcy5fdXNlRmluYWxDb2RlKHNlLnZlcnRleENvZGUsc2UuZnJhZ21lbnRDb2RlLGUpfSx0aGlzLl9lbmdpbmUpfX07dGhpcy5fbG9hZFNoYWRlcihTLCJWZXJ0ZXgiLCIiLGs9PntuaS5Jbml0aWFsaXplKEMpLG5pLlByb2Nlc3MoayxDLCh3LGRlKT0+e3RoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9ayx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPWRlLHYmJih3PXYoInZlcnRleCIsdykpLGJbMF09dyxNKCl9LHRoaXMuX2VuZ2luZSl9KSx0aGlzLl9sb2FkU2hhZGVyKHksIkZyYWdtZW50IiwiUGl4ZWwiLGs9Pnt0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9ayxiWzFdPWssTSgpfSk7Y29uc3QgTD1mdW5jdGlvbihrKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0JiZ0aGlzLl9waXBlbGluZUNvbnRleHRba10uYXBwbHkodGhpcy5fcGlwZWxpbmVDb250ZXh0LGFyZ3VtZW50cyksdGhpc319O1siSW50PyIsIlVJbnQ/IiwiSW50QXJyYXk/IiwiVUludEFycmF5PyIsIkFycmF5PyIsIkNvbG9yPyIsIlZlY3Rvcj8iLCJGbG9hdD8iLCJNYXRyaWNlcyIsIk1hdHJpeCIsIk1hdHJpeDN4MyIsIk1hdHJpeDJ4MiIsIlF1YXRlcm5pb24iLCJEaXJlY3RDb2xvcjQiXS5mb3JFYWNoKGs9Pntjb25zdCB3PWBzZXQke2t9YDt3LmVuZHNXaXRoKCI/Iik/WyIiLDIsMyw0XS5mb3JFYWNoKGRlPT57dGhpc1t3LnNsaWNlKDAsLTEpK2RlXT10aGlzW3cuc2xpY2UoMCwtMSkrZGVdfHxMKHcuc2xpY2UoMCwtMSkrZGUpLmJpbmQodGhpcyl9KTp0aGlzW3ddPXRoaXNbd118fEwodykuYmluZCh0aGlzKX0pfXN0YXRpYyBnZXQgU2hhZGVyc1JlcG9zaXRvcnkoKXtyZXR1cm4gVS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe1UuU2hhZGVyc1JlcG9zaXRvcnk9ZX1nZXQgb25CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZX1fdXNlRmluYWxDb2RlKGUsdCxpKXtpZihpKXtjb25zdCBzPWkudmVydGV4RWxlbWVudHx8aS52ZXJ0ZXh8fGkuc3BlY3Rvck5hbWV8fGkscj1pLmZyYWdtZW50RWxlbWVudHx8aS5mcmFnbWVudHx8aS5zcGVjdG9yTmFtZXx8aTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PVplLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgdmVydGV4OiIrcytgCmArZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09WmUuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSBmcmFnbWVudDoiK3IrYApgK3R9ZWxzZSB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPXQ7dGhpcy5fcHJlcGFyZUVmZmVjdCgpfWdldCBrZXkoKXtyZXR1cm4gdGhpcy5fa2V5fWlzUmVhZHkoKXt0cnl7cmV0dXJuIHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpfWNhdGNoe3JldHVybiExfX1faXNSZWFkeUludGVybmFsKCl7cmV0dXJuIHRoaXMuX2lzUmVhZHk/ITA6dGhpcy5fcGlwZWxpbmVDb250ZXh0P3RoaXMuX3BpcGVsaW5lQ29udGV4dC5pc1JlYWR5OiExfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0UGlwZWxpbmVDb250ZXh0KCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dH1nZXRBdHRyaWJ1dGVzTmFtZXMoKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc05hbWVzfWdldEF0dHJpYnV0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzW2VdfWdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVtlXX1nZXRBdHRyaWJ1dGVzQ291bnQoKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlcy5sZW5ndGh9Z2V0VW5pZm9ybUluZGV4KGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzLmluZGV4T2YoZSl9Z2V0VW5pZm9ybShlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNbZV19Z2V0U2FtcGxlcnMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlckxpc3R9Z2V0VW5pZm9ybU5hbWVzKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXN9Z2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcygpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdH1nZXRJbmRleFBhcmFtZXRlcnMoKXtyZXR1cm4gdGhpcy5faW5kZXhQYXJhbWV0ZXJzfWdldENvbXBpbGF0aW9uRXJyb3IoKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcn1hbGxGYWxsYmFja3NQcm9jZXNzZWQoKXtyZXR1cm4gdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkfWV4ZWN1dGVXaGVuQ29tcGlsZWQoZSl7aWYodGhpcy5pc1JlYWR5KCkpe2UodGhpcyk7cmV0dXJufXRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5hZGQodD0+e2UodCl9KSwoIXRoaXMuX3BpcGVsaW5lQ29udGV4dHx8dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMpJiZzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tJc1JlYWR5KG51bGwpfSwxNil9X2NoZWNrSXNSZWFkeShlKXt0cnl7aWYodGhpcy5faXNSZWFkeUludGVybmFsKCkpcmV0dXJufWNhdGNoKHQpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyh0LGUpO3JldHVybn10aGlzLl9pc0Rpc3Bvc2VkfHxzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tJc1JlYWR5KGUpfSwxNil9X2xvYWRTaGFkZXIoZSx0LGkscyl7aWYodHlwZW9mIEhUTUxFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtjb25zdCBhPWdzKGUpO3MoYSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0ic291cmNlOiIpe3MoZS5zdWJzdHIoNykpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09ImJhc2U2NDoiKXtjb25zdCBhPXdpbmRvdy5hdG9iKGUuc3Vic3RyKDcpKTtzKGEpO3JldHVybn1jb25zdCByPVUuR2V0U2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKTtpZihyW2UrdCsiU2hhZGVyIl0pe3MocltlK3QrIlNoYWRlciJdKTtyZXR1cm59aWYoaSYmcltlK2krIlNoYWRlciJdKXtzKHJbZStpKyJTaGFkZXIiXSk7cmV0dXJufWxldCBuO2VbMF09PT0iLiJ8fGVbMF09PT0iLyJ8fGUuaW5kZXhPZigiaHR0cCIpPi0xP249ZTpuPVUuR2V0U2hhZGVyc1JlcG9zaXRvcnkodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpK2UsdGhpcy5fZW5naW5lLl9sb2FkRmlsZShuKyIuIit0LnRvTG93ZXJDYXNlKCkrIi5meCIscyl9Z2V0IHZlcnRleFNvdXJjZUNvZGUoKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlfWdldCBmcmFnbWVudFNvdXJjZUNvZGUoKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlOih0PShlPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlfWdldCB2ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb259Z2V0IGZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbigpe3JldHVybiB0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb259Z2V0IHJhd1ZlcnRleFNvdXJjZUNvZGUoKXtyZXR1cm4gdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZX1nZXQgcmF3RnJhZ21lbnRTb3VyY2VDb2RlKCl7cmV0dXJuIHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZX1fcmVidWlsZFByb2dyYW0oZSx0LGkscyl7dGhpcy5faXNSZWFkeT0hMSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT10LHRoaXMub25FcnJvcj0ocixuKT0+e3MmJnMobil9LHRoaXMub25Db21waWxlZD0oKT0+e2NvbnN0IHI9dGhpcy5nZXRFbmdpbmUoKS5zY2VuZXM7aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKTt0aGlzLl9waXBlbGluZUNvbnRleHQuX2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKGkpfSx0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl9wcmVwYXJlRWZmZWN0KCl9X3ByZXBhcmVFZmZlY3QoKXtjb25zdCBlPXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyx0PXRoaXMuZGVmaW5lcyxpPXRoaXMuX3BpcGVsaW5lQ29udGV4dDt0aGlzLl9pc1JlYWR5PSExO3RyeXtjb25zdCBzPXRoaXMuX2VuZ2luZTt0aGlzLl9waXBlbGluZUNvbnRleHQ9cy5jcmVhdGVQaXBlbGluZUNvbnRleHQodGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQpLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fbmFtZT10aGlzLl9rZXk7Y29uc3Qgcj10aGlzLl9yZWJ1aWxkUHJvZ3JhbS5iaW5kKHRoaXMpO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/cy5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlLCEwLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHIsbnVsbCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSk6cy5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGUsITEsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscix0LHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KSxzLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZCh0aGlzLl9waXBlbGluZUNvbnRleHQsKCk9PntpZih0aGlzLl9hdHRyaWJ1dGVzPVtdLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZmlsbEVmZmVjdEluZm9ybWF0aW9uKHRoaXMsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcyx0aGlzLl91bmlmb3Jtc05hbWVzLHRoaXMuX3VuaWZvcm1zLHRoaXMuX3NhbXBsZXJMaXN0LHRoaXMuX3NhbXBsZXJzLGUsdGhpcy5fYXR0cmlidXRlcyksZSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgYT1lW25dO3RoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lW2FdPXRoaXMuX2F0dHJpYnV0ZXNbbl19cy5iaW5kU2FtcGxlcnModGhpcyksdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9pc1JlYWR5PSEwLHRoaXMub25Db21waWxlZCYmdGhpcy5vbkNvbXBpbGVkKHRoaXMpLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpLGkmJnRoaXMuZ2V0RW5naW5lKCkuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dChpKX0pLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jJiZ0aGlzLl9jaGVja0lzUmVhZHkoaSl9Y2F0Y2gocyl7dGhpcy5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKHMsaSl9fV9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKGUsdCxpKXtjb25zdCBzPWk/L0ZSQUdNRU5UIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LzovVkVSVEVYIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LztsZXQgcj1udWxsO2lmKHQmJmUpe2NvbnN0IG49dC5tYXRjaChzKTtpZihuJiZuLmxlbmd0aD09PTIpe2NvbnN0IGE9cGFyc2VJbnQoblsxXSksbz1lLnNwbGl0KGAKYCwtMSk7by5sZW5ndGg+PWEmJihyPWBPZmZlbmRpbmcgbGluZSBbJHthfV0gaW4gJHtpPyJmcmFnbWVudCI6InZlcnRleCJ9IGNvZGU6ICR7b1thLTFdfWApfX1yZXR1cm5bZSxyXX1fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKGUsdD1udWxsKXt2YXIgaSxzLHI7dGhpcy5fY29tcGlsYXRpb25FcnJvcj1lLm1lc3NhZ2U7Y29uc3Qgbj10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsYT10aGlzLl9mYWxsYmFja3M7aWYoTy5FcnJvcigiVW5hYmxlIHRvIGNvbXBpbGUgZWZmZWN0OiIpLE8uRXJyb3IoIlVuaWZvcm1zOiAiK3RoaXMuX3VuaWZvcm1zTmFtZXMubWFwKGZ1bmN0aW9uKGgpe3JldHVybiIgIitofSkpLE8uRXJyb3IoIkF0dHJpYnV0ZXM6ICIrbi5tYXAoZnVuY3Rpb24oaCl7cmV0dXJuIiAiK2h9KSksTy5FcnJvcihgRGVmaW5lczpccgpgK3RoaXMuZGVmaW5lcyksUGUuTG9nU2hhZGVyQ29kZU9uQ29tcGlsYXRpb25FcnJvcil7bGV0IGg9bnVsbCxsPW51bGwsdT1udWxsOyEoKGk9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGk9PT12b2lkIDApJiZpLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkmJihbdSxoXT10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITEpLHUmJihPLkVycm9yKCJWZXJ0ZXggY29kZToiKSxPLkVycm9yKHUpKSksISgocz10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpJiYoW3UsbF09dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSgocj10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMCksdSYmKE8uRXJyb3IoIkZyYWdtZW50IGNvZGU6IiksTy5FcnJvcih1KSkpLGgmJk8uRXJyb3IoaCksbCYmTy5FcnJvcihsKX1PLkVycm9yKCJFcnJvcjogIit0aGlzLl9jb21waWxhdGlvbkVycm9yKTtjb25zdCBvPSgpPT57dGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX07dCYmKHRoaXMuX3BpcGVsaW5lQ29udGV4dD10LHRoaXMuX2lzUmVhZHk9ITAsbygpKSxhPyh0aGlzLl9waXBlbGluZUNvbnRleHQ9bnVsbCxhLmhhc01vcmVGYWxsYmFja3M/KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMSxPLkVycm9yKCJUcnlpbmcgbmV4dCBmYWxsYmFjay4iKSx0aGlzLmRlZmluZXM9YS5yZWR1Y2UodGhpcy5kZWZpbmVzLHRoaXMpLHRoaXMuX3ByZXBhcmVFZmZlY3QoKSk6KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMCxvKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsdHx8bygpKX1nZXQgaXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcj09PSIifV9iaW5kVGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5fYmluZFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLnNldERlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXRUZXh0dXJlQXJyYXkoZSx0KXtjb25zdCBpPWUrIkV4IjtpZih0aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGkrIjAiKT09PS0xKXtjb25zdCBzPXRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YoZSk7Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGE9aSsobi0xKS50b1N0cmluZygpO3RoaXMuX3NhbXBsZXJMaXN0LnNwbGljZShzK24sMCxhKX1sZXQgcj0wO2Zvcihjb25zdCBuIG9mIHRoaXMuX3NhbXBsZXJMaXN0KXRoaXMuX3NhbXBsZXJzW25dPXIscis9MX10aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUFycmF5KHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2VzcyhlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dChlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0KHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9YmluZFVuaWZvcm1CdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbdF07aT09PXZvaWQgMHx8UGUuX0Jhc2VDYWNoZVtpXT09PWUmJnRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudXNlVUJPQmluZGluZ0NhY2hlfHwoUGUuX0Jhc2VDYWNoZVtpXT1lLHRoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2UoZSxpLHQpKX1iaW5kVW5pZm9ybUJsb2NrKGUsdCl7dGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQmxvY2sodGhpcy5fcGlwZWxpbmVDb250ZXh0LGUsdCl9c2V0RmxvYXRBcnJheShlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXk0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTQoZSx0KSx0aGlzfXNldEJvb2woZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQ/MTowKSx0aGlzfWRpc3Bvc2UoKXt2YXIgZTsoZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCksdGhpcy5fZW5naW5lLl9yZWxlYXNlRWZmZWN0KHRoaXMpLHRoaXMuX2lzRGlzcG9zZWQ9ITB9c3RhdGljIFJlZ2lzdGVyU2hhZGVyKGUsdCxpLHM9WmUuR0xTTCl7dCYmKFUuR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9UGl4ZWxTaGFkZXJgXT10KSxpJiYoVS5HZXRTaGFkZXJzU3RvcmUocylbYCR7ZX1WZXJ0ZXhTaGFkZXJgXT1pKX1zdGF0aWMgUmVzZXRDYWNoZSgpe1BlLl9CYXNlQ2FjaGU9e319fVBlLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3I9ITAsUGUuX1VuaXF1ZUlkU2VlZD0wLFBlLl9CYXNlQ2FjaGU9e30sUGUuU2hhZGVyc1N0b3JlPVUuU2hhZGVyc1N0b3JlLFBlLkluY2x1ZGVzU2hhZGVyc1N0b3JlPVUuSW5jbHVkZXNTaGFkZXJzU3RvcmU7Y2xhc3Mgcm57Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEsdGhpcy5faXNDdWxsRmFjZURpcnR5PSExLHRoaXMuX2lzQ3VsbERpcnR5PSExLHRoaXMuX2lzWk9mZnNldERpcnR5PSExLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEsZSYmdGhpcy5yZXNldCgpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGVwdGhGdW5jRGlydHl8fHRoaXMuX2lzRGVwdGhUZXN0RGlydHl8fHRoaXMuX2lzRGVwdGhNYXNrRGlydHl8fHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eXx8dGhpcy5faXNDdWxsRGlydHl8fHRoaXMuX2lzWk9mZnNldERpcnR5fHx0aGlzLl9pc0Zyb250RmFjZURpcnR5fWdldCB6T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3pPZmZzZXR9c2V0IHpPZmZzZXQoZSl7dGhpcy5fek9mZnNldCE9PWUmJih0aGlzLl96T2Zmc2V0PWUsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITApfWdldCB6T2Zmc2V0VW5pdHMoKXtyZXR1cm4gdGhpcy5fek9mZnNldFVuaXRzfXNldCB6T2Zmc2V0VW5pdHMoZSl7dGhpcy5fek9mZnNldFVuaXRzIT09ZSYmKHRoaXMuX3pPZmZzZXRVbml0cz1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgY3VsbEZhY2UoKXtyZXR1cm4gdGhpcy5fY3VsbEZhY2V9c2V0IGN1bGxGYWNlKGUpe3RoaXMuX2N1bGxGYWNlIT09ZSYmKHRoaXMuX2N1bGxGYWNlPWUsdGhpcy5faXNDdWxsRmFjZURpcnR5PSEwKX1nZXQgY3VsbCgpe3JldHVybiB0aGlzLl9jdWxsfXNldCBjdWxsKGUpe3RoaXMuX2N1bGwhPT1lJiYodGhpcy5fY3VsbD1lLHRoaXMuX2lzQ3VsbERpcnR5PSEwKX1nZXQgZGVwdGhGdW5jKCl7cmV0dXJuIHRoaXMuX2RlcHRoRnVuY31zZXQgZGVwdGhGdW5jKGUpe3RoaXMuX2RlcHRoRnVuYyE9PWUmJih0aGlzLl9kZXB0aEZ1bmM9ZSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSEwKX1nZXQgZGVwdGhNYXNrKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFza31zZXQgZGVwdGhNYXNrKGUpe3RoaXMuX2RlcHRoTWFzayE9PWUmJih0aGlzLl9kZXB0aE1hc2s9ZSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSEwKX1nZXQgZGVwdGhUZXN0KCl7cmV0dXJuIHRoaXMuX2RlcHRoVGVzdH1zZXQgZGVwdGhUZXN0KGUpe3RoaXMuX2RlcHRoVGVzdCE9PWUmJih0aGlzLl9kZXB0aFRlc3Q9ZSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwKX1nZXQgZnJvbnRGYWNlKCl7cmV0dXJuIHRoaXMuX2Zyb250RmFjZX1zZXQgZnJvbnRGYWNlKGUpe3RoaXMuX2Zyb250RmFjZSE9PWUmJih0aGlzLl9mcm9udEZhY2U9ZSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2RlcHRoTWFzaz0hMCx0aGlzLl9kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhGdW5jPW51bGwsdGhpcy5fY3VsbEZhY2U9bnVsbCx0aGlzLl9jdWxsPW51bGwsdGhpcy5fek9mZnNldD0wLHRoaXMuX3pPZmZzZXRVbml0cz0wLHRoaXMuX2Zyb250RmFjZT1udWxsLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITAsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExfWFwcGx5KGUpe3RoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzQ3VsbERpcnR5JiYodGhpcy5jdWxsP2UuZW5hYmxlKGUuQ1VMTF9GQUNFKTplLmRpc2FibGUoZS5DVUxMX0ZBQ0UpLHRoaXMuX2lzQ3VsbERpcnR5PSExKSx0aGlzLl9pc0N1bGxGYWNlRGlydHkmJihlLmN1bGxGYWNlKHRoaXMuY3VsbEZhY2UpLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eSYmKGUuZGVwdGhNYXNrKHRoaXMuZGVwdGhNYXNrKSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExKSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5JiYodGhpcy5kZXB0aFRlc3Q/ZS5lbmFibGUoZS5ERVBUSF9URVNUKTplLmRpc2FibGUoZS5ERVBUSF9URVNUKSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSExKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5JiYoZS5kZXB0aEZ1bmModGhpcy5kZXB0aEZ1bmMpLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEpLHRoaXMuX2lzWk9mZnNldERpcnR5JiYodGhpcy56T2Zmc2V0fHx0aGlzLnpPZmZzZXRVbml0cz8oZS5lbmFibGUoZS5QT0xZR09OX09GRlNFVF9GSUxMKSxlLnBvbHlnb25PZmZzZXQodGhpcy56T2Zmc2V0LHRoaXMuek9mZnNldFVuaXRzKSk6ZS5kaXNhYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksdGhpcy5faXNaT2Zmc2V0RGlydHk9ITEpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHkmJihlLmZyb250RmFjZSh0aGlzLmZyb250RmFjZSksdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMSkpfX1jbGFzcyBMdHtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz1MdC5BTFdBWVMsdGhpcy5mdW5jUmVmPTEsdGhpcy5mdW5jTWFzaz0yNTUsdGhpcy5vcFN0ZW5jaWxGYWlsPUx0LktFRVAsdGhpcy5vcERlcHRoRmFpbD1MdC5LRUVQLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPUx0LlJFUExBQ0V9Z2V0IHN0ZW5jaWxGdW5jKCl7cmV0dXJuIHRoaXMuZnVuY31zZXQgc3RlbmNpbEZ1bmMoZSl7dGhpcy5mdW5jPWV9Z2V0IHN0ZW5jaWxGdW5jUmVmKCl7cmV0dXJuIHRoaXMuZnVuY1JlZn1zZXQgc3RlbmNpbEZ1bmNSZWYoZSl7dGhpcy5mdW5jUmVmPWV9Z2V0IHN0ZW5jaWxGdW5jTWFzaygpe3JldHVybiB0aGlzLmZ1bmNNYXNrfXNldCBzdGVuY2lsRnVuY01hc2soZSl7dGhpcy5mdW5jTWFzaz1lfWdldCBzdGVuY2lsT3BTdGVuY2lsRmFpbCgpe3JldHVybiB0aGlzLm9wU3RlbmNpbEZhaWx9c2V0IHN0ZW5jaWxPcFN0ZW5jaWxGYWlsKGUpe3RoaXMub3BTdGVuY2lsRmFpbD1lfWdldCBzdGVuY2lsT3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5vcERlcHRoRmFpbH1zZXQgc3RlbmNpbE9wRGVwdGhGYWlsKGUpe3RoaXMub3BEZXB0aEZhaWw9ZX1nZXQgc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLm9wU3RlbmNpbERlcHRoUGFzc31zZXQgc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1lfWdldCBzdGVuY2lsTWFzaygpe3JldHVybiB0aGlzLm1hc2t9c2V0IHN0ZW5jaWxNYXNrKGUpe3RoaXMubWFzaz1lfWdldCBzdGVuY2lsVGVzdCgpe3JldHVybiB0aGlzLmVuYWJsZWR9c2V0IHN0ZW5jaWxUZXN0KGUpe3RoaXMuZW5hYmxlZD1lfX1MdC5BTFdBWVM9NTE5LEx0LktFRVA9NzY4MCxMdC5SRVBMQUNFPTc2ODE7Y2xhc3Mgbm57Y29uc3RydWN0b3IoKXt0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVycz1uZXcgQXJyYXkoNCksdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDIpLHRoaXMuX2JsZW5kQ29uc3RhbnRzPW5ldyBBcnJheSg0KSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEsdGhpcy5fYWxwaGFCbGVuZD0hMSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0FscGhhQmxlbmREaXJ0eXx8dGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5fHx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHl9Z2V0IGFscGhhQmxlbmQoKXtyZXR1cm4gdGhpcy5fYWxwaGFCbGVuZH1zZXQgYWxwaGFCbGVuZChlKXt0aGlzLl9hbHBoYUJsZW5kIT09ZSYmKHRoaXMuX2FscGhhQmxlbmQ9ZSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCl9c2V0QWxwaGFCbGVuZENvbnN0YW50cyhlLHQsaSxzKXt0aGlzLl9ibGVuZENvbnN0YW50c1swXT09PWUmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPT09dCYmdGhpcy5fYmxlbmRDb25zdGFudHNbMl09PT1pJiZ0aGlzLl9ibGVuZENvbnN0YW50c1szXT09PXN8fCh0aGlzLl9ibGVuZENvbnN0YW50c1swXT1lLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPXQsdGhpcy5fYmxlbmRDb25zdGFudHNbMl09aSx0aGlzLl9ibGVuZENvbnN0YW50c1szXT1zLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMCl9c2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyhlLHQsaSxzKXt0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPT09dCYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09PT1pJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT09PXN8fCh0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT1lLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPXQsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09aSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT1zLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMCl9c2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoZSx0KXt0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPT09dHx8KHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITApfXJlc2V0KCl7dGhpcy5fYWxwaGFCbGVuZD0hMSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPW51bGwsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1swXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMl09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1szXT1udWxsLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSEwLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExfWFwcGx5KGUpe3RoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5JiYodGhpcy5fYWxwaGFCbGVuZD9lLmVuYWJsZShlLkJMRU5EKTplLmRpc2FibGUoZS5CTEVORCksdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRGdW5jU2VwYXJhdGUodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM10pLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV0pLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5JiYoZS5ibGVuZENvbG9yKHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEpKX19Y2xhc3MgYW57Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckxhbmd1YWdlPVplLkdMU0x9cG9zdFByb2Nlc3NvcihlLHQsaSxzLHIpe2lmKCFyLmdldENhcHMoKS5kcmF3QnVmZmVyc0V4dGVuc2lvbil7Y29uc3Qgbj0vI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rKGVuYWJsZXxyZXF1aXJlKS9nO2U9ZS5yZXBsYWNlKG4sIiIpfXJldHVybiBlfX1jbGFzcyBvbntjb25zdHJ1Y3Rvcigpe3RoaXMuc2hhZGVyTGFuZ3VhZ2U9WmUuR0xTTH1hdHRyaWJ1dGVQcm9jZXNzb3IoZSl7cmV0dXJuIGUucmVwbGFjZSgiYXR0cmlidXRlIiwiaW4iKX12YXJ5aW5nUHJvY2Vzc29yKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgidmFyeWluZyIsdD8iaW4iOiJvdXQiKX1wb3N0UHJvY2Vzc29yKGUsdCxpKXtjb25zdCBzPWUuc2VhcmNoKC8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLityZXF1aXJlLykhPT0tMSxyPS8jZXh0ZW5zaW9uLisoR0xfT1ZSX211bHRpdmlldzJ8R0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzfEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2R8R0xfRVhUX2ZyYWdfZGVwdGh8R0xfRVhUX2RyYXdfYnVmZmVycykuKyhlbmFibGV8cmVxdWlyZSkvZztpZihlPWUucmVwbGFjZShyLCIiKSxlPWUucmVwbGFjZSgvdGV4dHVyZTJEXHMqXCgvZywidGV4dHVyZSgiKSxpKWU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZUxvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlXHMqXCgvZywidGV4dHVyZSgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RlcHRoRVhUL2csImdsX0ZyYWdEZXB0aCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnQ29sb3IvZywiZ2xGcmFnQ29sb3IiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RhdGEvZywiZ2xGcmFnRGF0YSIpLGU9ZS5yZXBsYWNlKC92b2lkXHMrP21haW5ccypcKC9nLChzPyIiOmBsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgdmVjNCBnbEZyYWdDb2xvcjsKYCkrInZvaWQgbWFpbigiKTtlbHNlIGlmKHQuaW5kZXhPZigiI2RlZmluZSBNVUxUSVZJRVciKSE9PS0xKXJldHVybmAjZXh0ZW5zaW9uIEdMX09WUl9tdWx0aXZpZXcyIDogcmVxdWlyZQpsYXlvdXQgKG51bV92aWV3cyA9IDIpIGluOwpgK2U7cmV0dXJuIGV9fWNsYXNzIFBpe2NvbnN0cnVjdG9yKCl7dGhpcy5yZWZlcmVuY2VzPTAsdGhpcy5jYXBhY2l0eT0wLHRoaXMuaXMzMkJpdHM9ITEsdGhpcy51bmlxdWVJZD1QaS5fQ291bnRlcisrfWdldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gbnVsbH19UGkuX0NvdW50ZXI9MDtjbGFzcyBEaSBleHRlbmRzIFBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fYnVmZmVyPWV9Z2V0IHVuZGVybHlpbmdSZXNvdXJjZSgpe3JldHVybiB0aGlzLl9idWZmZXJ9fWNvbnN0IGhuPVsiSW50IiwiSW50MiIsIkludDMiLCJJbnQ0IiwiVUludCIsIlVJbnQyIiwiVUludDMiLCJVSW50NCIsIlZlY3RvcjIiLCJWZWN0b3IzIiwiVmVjdG9yNCIsIkZsb2F0MiIsIkZsb2F0IiwiRmxvYXQzIiwiRmxvYXQ0IiwiUXVhdGVybmlvbiIsIkNvbG9yMyIsIkNvbG9yNCIsIkRpcmVjdENvbG9yNCJdO2NsYXNzIGxue2NvbnN0cnVjdG9yKCl7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMucHJvZ3JhbUxpbmtFcnJvcj1udWxsLHRoaXMucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1udWxsO2NvbnN0IGU9W10sdD1mdW5jdGlvbigpe2UubGVuZ3RoPTAsQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZSxhcmd1bWVudHMpLGVbMF09dGhpcy5fdW5pZm9ybXNbZVswXV19LGk9cz0+e2NvbnN0IHI9aG4uaW5jbHVkZXMocy5zdWJzdHJpbmcoMykpJiYiRmxvYXROIjtpZihyKXtjb25zdCBuPXRoaXNbYF9jYWNoZSR7cn1gXTtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBhPXRoaXMuZW5naW5lW3NdO3QuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpJiYoYS5hcHBseSh0aGlzLmVuZ2luZSxlKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbYXJndW1lbnRzWzBdXT1udWxsKSl9fWVsc2UgcmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3Qgbj10aGlzLmVuZ2luZVtzXTt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhcmd1bWVudHNbMV0hPT12b2lkIDAmJih0aGlzLl92YWx1ZUNhY2hlW2FyZ3VtZW50c1swXV09bnVsbCxuLmFwcGx5KHRoaXMuZW5naW5lLGUpKX19O1siSW50PyIsIlVJbnQ/IiwiSW50QXJyYXk/IiwiVUludEFycmF5PyIsIkFycmF5PyIsIkZsb2F0PyIsIk1hdHJpY2VzIiwiTWF0cml4M3gzIiwiTWF0cml4MngyIl0uZm9yRWFjaChzPT57Y29uc3Qgcj1gc2V0JHtzfWA7dGhpc1tyXXx8KHIuZW5kc1dpdGgoIj8iKT9bIiIsMiwzLDRdLmZvckVhY2gobj0+e3RoaXNbci5zbGljZSgwLC0xKStuXT10aGlzW3Iuc2xpY2UoMCwtMSkrbl18fGkoci5zbGljZSgwLC0xKStuKS5iaW5kKHRoaXMpfSk6dGhpc1tyXT10aGlzW3JdfHxpKHIpLmJpbmQodGhpcykpfSl9Z2V0IGlzQXN5bmMoKXtyZXR1cm4gdGhpcy5pc1BhcmFsbGVsQ29tcGlsZWR9Z2V0IGlzUmVhZHkoKXtyZXR1cm4gdGhpcy5wcm9ncmFtP3RoaXMuaXNQYXJhbGxlbENvbXBpbGVkP3RoaXMuZW5naW5lLl9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQodGhpcyk6ITA6ITF9X2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKGUpe2UmJnRoaXMucHJvZ3JhbSYmZSh0aGlzLnByb2dyYW0pfV9maWxsRWZmZWN0SW5mb3JtYXRpb24oZSx0LGkscyxyLG4sYSxvKXtjb25zdCBoPXRoaXMuZW5naW5lO2lmKGguc3VwcG9ydHNVbmlmb3JtQnVmZmVycylmb3IoY29uc3QgZCBpbiB0KWUuYmluZFVuaWZvcm1CbG9jayhkLHRbZF0pO3RoaXMuZW5naW5lLmdldFVuaWZvcm1zKHRoaXMsaSkuZm9yRWFjaCgoZCxmKT0+e3NbaVtmXV09ZH0pLHRoaXMuX3VuaWZvcm1zPXM7bGV0IHU7Zm9yKHU9MDt1PHIubGVuZ3RoO3UrKyllLmdldFVuaWZvcm0oclt1XSk9PW51bGwmJihyLnNwbGljZSh1LDEpLHUtLSk7ci5mb3JFYWNoKChkLGYpPT57bltkXT1mfSk7Zm9yKGNvbnN0IGQgb2YgaC5nZXRBdHRyaWJ1dGVzKHRoaXMsYSkpby5wdXNoKGQpfWRpc3Bvc2UoKXt0aGlzLl91bmlmb3Jtcz17fX1fY2FjaGVNYXRyaXgoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV0scz10LnVwZGF0ZUZsYWc7cmV0dXJuIGkhPT12b2lkIDAmJmk9PT1zPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITApfV9jYWNoZUZsb2F0TihlLHQsaSxzLHIpe2xldCBuPXRoaXMuX3ZhbHVlQ2FjaGVbYXJndW1lbnRzWzBdXTtpZighbnx8bi5sZW5ndGghPT1hcmd1bWVudHMubGVuZ3RoLTEpcmV0dXJuIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHRoaXMuX3ZhbHVlQ2FjaGVbYXJndW1lbnRzWzBdXT1uLCEwO2xldCBhPSExO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7KytvKW5bb10hPT1hcmd1bWVudHNbbysxXSYmKG5bb109YXJndW1lbnRzW28rMV0sYT0hMCk7cmV0dXJuIGF9X2NhY2hlRmxvYXQyKGUsdCxpKXtyZXR1cm4gdGhpcy5fY2FjaGVGbG9hdE4oZSx0LGkpfV9jYWNoZUZsb2F0MyhlLHQsaSxzKXtyZXR1cm4gdGhpcy5fY2FjaGVGbG9hdE4oZSx0LGkscyl9X2NhY2hlRmxvYXQ0KGUsdCxpLHMscil7cmV0dXJuIHRoaXMuX2NhY2hlRmxvYXROKGUsdCxpLHMscil9c2V0TWF0cml4KGUsdCl7dGhpcy5fY2FjaGVNYXRyaXgoZSx0KSYmKHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQudG9BcnJheSgpKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFZlY3RvcjIoZSx0KXt0aGlzLnNldEZsb2F0MihlLHQueCx0LnkpfXNldFZlY3RvcjMoZSx0KXt0aGlzLnNldEZsb2F0MyhlLHQueCx0LnksdC56KX1zZXRWZWN0b3I0KGUsdCl7dGhpcy5zZXRGbG9hdDQoZSx0LngsdC55LHQueix0LncpfXNldFF1YXRlcm5pb24oZSx0KXt0aGlzLnNldEZsb2F0NChlLHQueCx0LnksdC56LHQudyl9c2V0Q29sb3IzKGUsdCl7dGhpcy5zZXRGbG9hdDMoZSx0LnIsdC5nLHQuYil9c2V0Q29sb3I0KGUsdCxpKXt0aGlzLnNldEZsb2F0NChlLHQucix0LmcsdC5iLGkpfXNldERpcmVjdENvbG9yNChlLHQpe3RoaXMuc2V0RmxvYXQ0KGUsdC5yLHQuZyx0LmIsdC5hKX1fZ2V0VmVydGV4U2hhZGVyQ29kZSgpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfV9nZXRGcmFnbWVudFNoYWRlckNvZGUoKXtyZXR1cm4gdGhpcy5mcmFnbWVudFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMuZnJhZ21lbnRTaGFkZXIpOm51bGx9fWNsYXNzIHRye2NvbnN0cnVjdG9yKGU9bnVsbCx0KXtpZih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwsdGhpcy5fY29udGV4dD10LCFlJiYoZT10LmNyZWF0ZVRleHR1cmUoKSwhZSkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHdlYkdMIHRleHR1cmUiKTt0aGlzLnNldChlKX1nZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIHRoaXMuX3dlYkdMVGV4dHVyZX1zZXRVc2FnZSgpe31zZXQoZSl7dGhpcy5fd2ViR0xUZXh0dXJlPWV9cmVzZXQoKXt0aGlzLl93ZWJHTFRleHR1cmU9bnVsbCx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGx9cmVsZWFzZSgpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXImJih0aGlzLl9jb250ZXh0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyKSx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfX1jbGFzcyBtaXtjb25zdHJ1Y3RvcihlLHQ9ITApe3RoaXMuZWZmZWN0PW51bGwsdGhpcy5kZWZpbmVzPW51bGwsdGhpcy5kcmF3Q29udGV4dD1lLmNyZWF0ZURyYXdDb250ZXh0KCksdCYmKHRoaXMubWF0ZXJpYWxDb250ZXh0PWUuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCkpfXN0YXRpYyBJc1dyYXBwZXIoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwfXN0YXRpYyBHZXRFZmZlY3QoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwP2UuZWZmZWN0OmV9c2V0RWZmZWN0KGUsdCxpPSEwKXt2YXIgczt0aGlzLmVmZmVjdD1lLHQhPT12b2lkIDAmJih0aGlzLmRlZmluZXM9dCksaSYmKChzPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5yZXNldCgpKX1kaXNwb3NlKCl7dmFyIGU7KGU9dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKX19Y2xhc3MgY257Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSx0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSExLGUmJnRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHl8fHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eXx8dGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5fHx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5fWdldCBmdW5jKCl7cmV0dXJuIHRoaXMuX2Z1bmN9c2V0IGZ1bmMoZSl7dGhpcy5fZnVuYyE9PWUmJih0aGlzLl9mdW5jPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX1nZXQgZnVuY1JlZigpe3JldHVybiB0aGlzLl9mdW5jUmVmfXNldCBmdW5jUmVmKGUpe3RoaXMuX2Z1bmNSZWYhPT1lJiYodGhpcy5fZnVuY1JlZj1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfXNldCBmdW5jTWFzayhlKXt0aGlzLl9mdW5jTWFzayE9PWUmJih0aGlzLl9mdW5jTWFzaz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IG9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH1zZXQgb3BTdGVuY2lsRmFpbChlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsIT09ZSYmKHRoaXMuX29wU3RlbmNpbEZhaWw9ZSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwKX1nZXQgb3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9c2V0IG9wRGVwdGhGYWlsKGUpe3RoaXMuX29wRGVwdGhGYWlsIT09ZSYmKHRoaXMuX29wRGVwdGhGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IG9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3MhPT1lJiYodGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG1hc2soKXtyZXR1cm4gdGhpcy5fbWFza31zZXQgbWFzayhlKXt0aGlzLl9tYXNrIT09ZSYmKHRoaXMuX21hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITApfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZCE9PWUmJih0aGlzLl9lbmFibGVkPWUsdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSEwKX1yZXNldCgpe3ZhciBlO3RoaXMuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCwoZT10aGlzLnN0ZW5jaWxHbG9iYWwpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZXNldCgpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITB9YXBwbHkoZSl7dmFyIHQ7aWYoIWUpcmV0dXJuO2NvbnN0IGk9IXRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHkmJiEhKCEoKHQ9dGhpcy5zdGVuY2lsTWF0ZXJpYWwpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZW5hYmxlZCk7dGhpcy5lbmFibGVkPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZW5hYmxlZDp0aGlzLnN0ZW5jaWxHbG9iYWwuZW5hYmxlZCx0aGlzLmZ1bmM9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jLHRoaXMuZnVuY1JlZj1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNSZWY6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNSZWYsdGhpcy5mdW5jTWFzaz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNNYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jTWFzayx0aGlzLm9wU3RlbmNpbEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcERlcHRoRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxEZXB0aFBhc3M6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbERlcHRoUGFzcyx0aGlzLm1hc2s9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5tYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5tYXNrLHRoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eSYmKHRoaXMuZW5hYmxlZD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eSYmKGUuc3RlbmNpbE1hc2sodGhpcy5tYXNrKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eSYmKGUuc3RlbmNpbEZ1bmModGhpcy5mdW5jLHRoaXMuZnVuY1JlZix0aGlzLmZ1bmNNYXNrKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHkmJihlLnN0ZW5jaWxPcCh0aGlzLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcyksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSkpfX1jbGFzcyBhaXtzdGF0aWMgZ2V0IE5vdygpe3JldHVybiBwcy5Jc1dpbmRvd09iamVjdEV4aXN0KCkmJndpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19Y2xhc3MgdW57fWNsYXNzIG9le2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX25hbWU9IldlYkdMIix0aGlzLmZvcmNlUE9UVGV4dHVyZXM9ITEsdGhpcy5pc0Z1bGxzY3JlZW49ITEsdGhpcy5jdWxsQmFja0ZhY2VzPW51bGwsdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kPSEwLHRoaXMucHJldmVudENhY2hlV2lwZUJldHdlZW5GcmFtZXM9ITEsdGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zPSExLHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj0hMSx0aGlzLmlzTkRDSGFsZlpSYW5nZT0hMSx0aGlzLmhhc09yaWdpbkJvdHRvbUxlZnQ9ITAsdGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITEsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2ZyYW1lSWQ9MCx0aGlzLl91bmlmb3JtQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fc3RvcmFnZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3dlYkdMVmVyc2lvbj0xLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMSx0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9ITAsdGhpcy5fYmFkT1M9ITEsdGhpcy5fYmFkRGVza3RvcE9TPSExLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITEsdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9bmV3IEFycmF5LHRoaXMub25Db250ZXh0TG9zdE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fY29udGV4dFdhc0xvc3Q9ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hMSx0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHM9ITEsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZT1uZXcgcm4sdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXI9bmV3IGNuLHRoaXMuX3N0ZW5jaWxTdGF0ZT1uZXcgTHQsdGhpcy5fYWxwaGFTdGF0ZT1uZXcgbm4sdGhpcy5fYWxwaGFNb2RlPTEsdGhpcy5fYWxwaGFFcXVhdGlvbj0wLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZT1uZXcgQXJyYXksdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVDaGFubmVsPTAsdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZT17fSx0aGlzLl9jb21waWxlZEVmZmVjdHM9e30sdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZD1bXSx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD0hMSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXI9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2R1bW15RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucz1uZXcgQXJyYXksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITEsdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHM9bmV3IEFycmF5LHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPTAsdGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT1udWxsLHRoaXMuX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSx0aGlzLmFkYXB0VG9EZXZpY2VSYXRpbz0hMSx0aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpbz0xLHRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmw9bnVsbCx0aGlzLmhvc3RJbmZvcm1hdGlvbj17aXNNb2JpbGU6ITF9LHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSEwLHRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGU9bmV3IEYsdGhpcy5faXNXZWJHUFU9ITEsdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPTAsdGhpcy5fdXNlRXhhY3RTcmdiQ29udmVyc2lvbnM9ITEsdGhpcy5fdmlld3BvcnRDYWNoZWQ9e3g6MCx5OjAsejowLHc6MH0sdGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9bnVsbCx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkPSEwLHRoaXMuX2JvdW5kVW5pZm9ybXM9e30sdGhpcy5zdGFydFRpbWU9YWkuTm93O2xldCByPW51bGw7aWYoaT1pfHx7fSx0aGlzLl9jcmVhdGlvbk9wdGlvbnM9aSx0aGlzLmFkYXB0VG9EZXZpY2VSYXRpbz1zPz8hMSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsR2xvYmFsPXRoaXMuX3N0ZW5jaWxTdGF0ZSxVZS5TZXRNYXRyaXhQcmVjaXNpb24oISFpLnVzZUhpZ2hQcmVjaXNpb25NYXRyaXgpLCFlKXJldHVybjtpZihzPXN8fGkuYWRhcHRUb0RldmljZVJhdGlvfHwhMSxlLmdldENvbnRleHQpe2lmKHI9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXM9cix0IT09dm9pZCAwJiYoaS5hbnRpYWxpYXM9dCksaS5kZXRlcm1pbmlzdGljTG9ja3N0ZXA9PT12b2lkIDAmJihpLmRldGVybWluaXN0aWNMb2Nrc3RlcD0hMSksaS5sb2Nrc3RlcE1heFN0ZXBzPT09dm9pZCAwJiYoaS5sb2Nrc3RlcE1heFN0ZXBzPTQpLGkudGltZVN0ZXA9PT12b2lkIDAmJihpLnRpbWVTdGVwPTEvNjApLGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPT09dm9pZCAwJiYoaS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEpLGkuYXVkaW9FbmdpbmU9PT12b2lkIDAmJihpLmF1ZGlvRW5naW5lPSEwKSxpLmF1ZGlvRW5naW5lT3B0aW9ucyE9PXZvaWQgMCYmaS5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9Db250ZXh0IT09dm9pZCAwJiYodGhpcy5fYXVkaW9Db250ZXh0PWkuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvQ29udGV4dCksaS5hdWRpb0VuZ2luZU9wdGlvbnMhPT12b2lkIDAmJmkuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvRGVzdGluYXRpb24hPT12b2lkIDAmJih0aGlzLl9hdWRpb0Rlc3RpbmF0aW9uPWkuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvRGVzdGluYXRpb24pLGkuc3RlbmNpbD09PXZvaWQgMCYmKGkuc3RlbmNpbD0hMCksaS5wcmVtdWx0aXBsaWVkQWxwaGE9PT0hMSYmKHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSExKSxpLnhyQ29tcGF0aWJsZT09PXZvaWQgMCYmKGkueHJDb21wYXRpYmxlPSEwKSxpLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zIT09dm9pZCAwJiYodGhpcy5fdXNlRXhhY3RTcmdiQ29udmVyc2lvbnM9aS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyksdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hIWkuZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCxuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpe3RoaXMuX2NoZWNrRm9yTW9iaWxlPSgpPT57Y29uc3QgbD1uYXZpZ2F0b3IudXNlckFnZW50O3RoaXMuaG9zdEluZm9ybWF0aW9uLmlzTW9iaWxlPWwuaW5kZXhPZigiTW9iaWxlIikhPT0tMXx8bC5pbmRleE9mKCJNYWMiKSE9PS0xJiZDaSgpJiYib250b3VjaGVuZCJpbiBkb2N1bWVudH0sdGhpcy5fY2hlY2tGb3JNb2JpbGUoKSxqZSgpJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSk7Y29uc3QgaD1uYXZpZ2F0b3IudXNlckFnZW50O2Zvcihjb25zdCBsIG9mIG9lLkV4Y2VwdGlvbkxpc3Qpe2NvbnN0IHU9bC5rZXksZD1sLnRhcmdldHM7aWYobmV3IFJlZ0V4cCh1KS50ZXN0KGgpKXtpZihsLmNhcHR1cmUmJmwuY2FwdHVyZUNvbnN0cmFpbnQpe2NvbnN0IF89bC5jYXB0dXJlLEU9bC5jYXB0dXJlQ29uc3RyYWludCx2PW5ldyBSZWdFeHAoXykuZXhlYyhoKTtpZih2JiZ2Lmxlbmd0aD4wJiZwYXJzZUludCh2W3YubGVuZ3RoLTFdKT49RSljb250aW51ZX1mb3IoY29uc3QgXyBvZiBkKXN3aXRjaChfKXtjYXNlInVuaWZvcm1CdWZmZXIiOnRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSEwO2JyZWFrO2Nhc2UidmFvIjp0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHM9ITA7YnJlYWs7Y2FzZSJhbnRpYWxpYXMiOmkuYW50aWFsaWFzPSExO2JyZWFrO2Nhc2UibWF4TVNBQVNhbXBsZXMiOnRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9MTticmVha319fX1pZih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fb25Db250ZXh0TG9zdD1oPT57aC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NvbnRleHRXYXNMb3N0PSEwLE8uV2FybigiV2ViR0wgY29udGV4dCBsb3N0LiIpLHRoaXMub25Db250ZXh0TG9zdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZD0oKT0+e3RoaXMuX3Jlc3RvcmVFbmdpbmVBZnRlckNvbnRleHRMb3N0KHRoaXMuX2luaXRHTENvbnRleHQuYmluZCh0aGlzKSl9LHIuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCwhMSksci5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fb25Db250ZXh0UmVzdG9yZWQsITEpLGkucG93ZXJQcmVmZXJlbmNlPSJoaWdoLXBlcmZvcm1hbmNlIiksdGhpcy5fYmFkRGVza3RvcE9TPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5fYmFkRGVza3RvcE9TJiYoaS54ckNvbXBhdGlibGU9ITEpLCFpLmRpc2FibGVXZWJHTDJTdXBwb3J0KXRyeXt0aGlzLl9nbD1yLmdldENvbnRleHQoIndlYmdsMiIsaSl8fHIuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsMiIsaSksdGhpcy5fZ2wmJih0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIsdGhpcy5fZ2wuZGVsZXRlUXVlcnl8fCh0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSIpKX1jYXRjaHt9aWYoIXRoaXMuX2dsKXtpZighcil0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcm92aWRlZCBjYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuIik7dHJ5e3RoaXMuX2dsPXIuZ2V0Q29udGV4dCgid2ViZ2wiLGkpfHxyLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsaSl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9fWlmKCF0aGlzLl9nbCl0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX1lbHNle3RoaXMuX2dsPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXRoaXMuX2dsLmNhbnZhcyx0aGlzLl9nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/KHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIik6dGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiO2NvbnN0IGg9dGhpcy5fZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtoJiYoaS5zdGVuY2lsPWguc3RlbmNpbCl9dGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSxpLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMhPT12b2lkIDAmJih0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9aS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzKTtjb25zdCBuPWplKCkmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLGE9aS5saW1pdERldmljZVJhdGlvfHxuO3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsPXM/MS9NYXRoLm1pbihhLG4pOjEsdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89bix0aGlzLnJlc2l6ZSgpLHRoaXMuX2lzU3RlbmNpbEVuYWJsZT0hIWkuc3RlbmNpbCx0aGlzLl9pbml0R0xDb250ZXh0KCksdGhpcy5faW5pdEZlYXR1cmVzKCk7Zm9yKGxldCBoPTA7aDx0aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnM7aCsrKXRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1toXT1uZXcgdW47dGhpcy5fc2hhZGVyUHJvY2Vzc29yPXRoaXMud2ViR0xWZXJzaW9uPjE/bmV3IG9uOm5ldyBhbix0aGlzLl9iYWRPUz0vaVBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9pUGhvbmUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2NvbnN0IG89YEJhYnlsb24uanMgdiR7b2UuVmVyc2lvbn1gO2NvbnNvbGUubG9nKG8rYCAtICR7dGhpcy5kZXNjcmlwdGlvbn1gKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUoImRhdGEtZW5naW5lIixvKX1zdGF0aWMgZ2V0IE5wbVBhY2thZ2UoKXtyZXR1cm4iYmFieWxvbmpzQDUuNDQuMCJ9c3RhdGljIGdldCBWZXJzaW9uKCl7cmV0dXJuIjUuNDQuMCJ9Z2V0IGRlc2NyaXB0aW9uKCl7bGV0IGU9dGhpcy5uYW1lK3RoaXMud2ViR0xWZXJzaW9uO3JldHVybiB0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZSYmKGUrPSIgLSBQYXJhbGxlbCBzaGFkZXIgY29tcGlsYXRpb24iKSxlfWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9c2V0IG5hbWUoZSl7dGhpcy5fbmFtZT1lfWdldCB2ZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn1zdGF0aWMgZ2V0IFNoYWRlcnNSZXBvc2l0b3J5KCl7cmV0dXJuIFBlLlNoYWRlcnNSZXBvc2l0b3J5fXN0YXRpYyBzZXQgU2hhZGVyc1JlcG9zaXRvcnkoZSl7UGUuU2hhZGVyc1JlcG9zaXRvcnk9ZX1fZ2V0U2hhZGVyUHJvY2Vzc29yKGUpe3JldHVybiB0aGlzLl9zaGFkZXJQcm9jZXNzb3J9Z2V0IHVzZVJldmVyc2VEZXB0aEJ1ZmZlcigpe3JldHVybiB0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXJ9c2V0IHVzZVJldmVyc2VEZXB0aEJ1ZmZlcihlKXtlIT09dGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyJiYodGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyPWUsZT90aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE4OnRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz01MTUpfWdldCBmcmFtZUlkKCl7cmV0dXJuIHRoaXMuX2ZyYW1lSWR9Z2V0IHN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy53ZWJHTFZlcnNpb24+MSYmIXRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzfWdldENyZWF0aW9uT3B0aW9ucygpe3JldHVybiB0aGlzLl9jcmVhdGlvbk9wdGlvbnN9Z2V0IF9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyKCl7cmV0dXJuISEodGhpcy5fY2Fwcy5oaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkJiZ0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQpfWdldCBuZWVkUE9UVGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPDJ8fHRoaXMuZm9yY2VQT1RUZXh0dXJlc31nZXQgYWN0aXZlUmVuZGVyTG9vcHMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHN9Z2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoKXtyZXR1cm4gdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdH1zZXQgZG9Ob3RIYW5kbGVDb250ZXh0TG9zdChlKXt0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0PWV9Z2V0IF9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZygpe3JldHVybiExfXNldCBmcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QoZSl7dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0PWV9Z2V0IGN1cnJlbnRWaWV3cG9ydCgpe3JldHVybiB0aGlzLl9jYWNoZWRWaWV3cG9ydH1nZXQgZW1wdHlUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZXx8KHRoaXMuX2VtcHR5VGV4dHVyZT10aGlzLmNyZWF0ZVJhd1RleHR1cmUobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDUsITEsITEsMSkpLHRoaXMuX2VtcHR5VGV4dHVyZX1nZXQgZW1wdHlUZXh0dXJlM0QoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlM0R8fCh0aGlzLl9lbXB0eVRleHR1cmUzRD10aGlzLmNyZWF0ZVJhd1RleHR1cmUzRChuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUzRH1nZXQgZW1wdHlUZXh0dXJlMkRBcnJheSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fHwodGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheT10aGlzLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5KG5ldyBVaW50OEFycmF5KDQpLDEsMSwxLDUsITEsITEsMSkpLHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXl9Z2V0IGVtcHR5Q3ViZVRleHR1cmUoKXtpZighdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSl7Y29uc3QgZT1uZXcgVWludDhBcnJheSg0KSx0PVtlLGUsZSxlLGUsZV07dGhpcy5fZW1wdHlDdWJlVGV4dHVyZT10aGlzLmNyZWF0ZVJhd0N1YmVUZXh0dXJlKHQsMSw1LDAsITEsITEsMSl9cmV0dXJuIHRoaXMuX2VtcHR5Q3ViZVRleHR1cmV9Z2V0IGlzV2ViR1BVKCl7cmV0dXJuIHRoaXMuX2lzV2ViR1BVfWdldCBzaGFkZXJQbGF0Zm9ybU5hbWUoKXtyZXR1cm4gdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lfWdldCBzbmFwc2hvdFJlbmRlcmluZygpe3JldHVybiExfXNldCBzbmFwc2hvdFJlbmRlcmluZyhlKXt9Z2V0IHNuYXBzaG90UmVuZGVyaW5nTW9kZSgpe3JldHVybiB0aGlzLl9zbmFwc2hvdFJlbmRlcmluZ01vZGV9c2V0IHNuYXBzaG90UmVuZGVyaW5nTW9kZShlKXt0aGlzLl9zbmFwc2hvdFJlbmRlcmluZ01vZGU9ZX1nZXQgdXNlRXhhY3RTcmdiQ29udmVyc2lvbnMoKXtyZXR1cm4gdGhpcy5fdXNlRXhhY3RTcmdiQ29udmVyc2lvbnN9c25hcHNob3RSZW5kZXJpbmdSZXNldCgpe3RoaXMuc25hcHNob3RSZW5kZXJpbmc9ITF9c3RhdGljIF9DcmVhdGVDYW52YXMoZSx0KXtpZih0eXBlb2YgZG9jdW1lbnQ+InUiKXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKGUsdCk7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gaS53aWR0aD1lLGkuaGVpZ2h0PXQsaX1jcmVhdGVDYW52YXMoZSx0KXtyZXR1cm4gb2UuX0NyZWF0ZUNhbnZhcyhlLHQpfWNyZWF0ZUNhbnZhc0ltYWdlKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpfV9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdChlKXtzZXRUaW1lb3V0KGFzeW5jKCk9Pnt2YXIgdDt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGw7Y29uc3QgaT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Qscz10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmMscj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2ssbj10aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q7YXdhaXQgZSgpLHRoaXMud2lwZUNhY2hlcyghMCksdGhpcy5fcmVidWlsZEVmZmVjdHMoKSwodD10aGlzLl9yZWJ1aWxkQ29tcHV0ZUVmZmVjdHMpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKHRoaXMpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy5fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKSx0aGlzLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1pLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz1zLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1yLHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD1uLE8uV2Fybih0aGlzLm5hbWUrIiBjb250ZXh0IHN1Y2Nlc3NmdWxseSByZXN0b3JlZC4iKSx0aGlzLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITF9LDApfV9zaGFyZWRJbml0KGUsdCxpKXt0aGlzLl9yZW5kZXJpbmdDYW52YXM9ZX1fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQoZSl7cmV0dXJuIG51bGx9X3JlYnVpbGRJbnRlcm5hbFRleHR1cmVzKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc2xpY2UoKTtmb3IoY29uc3QgdCBvZiBlKXQuX3JlYnVpbGQoKX1fcmVidWlsZFJlbmRlclRhcmdldFdyYXBwZXJzKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuc2xpY2UoKTtmb3IoY29uc3QgdCBvZiBlKXQuX3JlYnVpbGQoKX1fcmVidWlsZEVmZmVjdHMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe2NvbnN0IHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdO3QuX3BpcGVsaW5lQ29udGV4dD1udWxsLHQuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0Ll9wcmVwYXJlRWZmZWN0KCl9UGUuUmVzZXRDYWNoZSgpfWFyZUFsbEVmZmVjdHNSZWFkeSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cylpZighdGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdLmlzUmVhZHkoKSlyZXR1cm4hMTtyZXR1cm4hMH1fcmVidWlsZEJ1ZmZlcnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl91bmlmb3JtQnVmZmVycyllLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3RvcmFnZUJ1ZmZlcnMpZS5fcmVidWlsZCgpfV9pbml0R0xDb250ZXh0KCl7dmFyIGU7dGhpcy5fY2Fwcz17bWF4VGV4dHVyZXNJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhWZXJ0ZXhUZXh0dXJlSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1RFWFRVUkVfU0laRSksbWF4U2FtcGxlczp0aGlzLl93ZWJHTFZlcnNpb24+MT90aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1NBTVBMRVMpOjEsbWF4Q3ViZW1hcFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQ1VCRV9NQVBfVEVYVFVSRV9TSVpFKSxtYXhSZW5kZXJUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1JFTkRFUkJVRkZFUl9TSVpFKSxtYXhWZXJ0ZXhBdHRyaWJzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX0FUVFJJQlMpLG1heFZhcnlpbmdWZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkFSWUlOR19WRUNUT1JTKSxtYXhGcmFnbWVudFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTKSxtYXhWZXJ0ZXhVbmlmb3JtVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMpLHBhcmFsbGVsU2hhZGVyQ29tcGlsZTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIktIUl9wYXJhbGxlbF9zaGFkZXJfY29tcGlsZSIpfHx2b2lkIDAsc3RhbmRhcmREZXJpdmF0aXZlczp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiKSE9PW51bGwsbWF4QW5pc290cm9weToxLGFzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YyIpLGJwdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKSxzM3RjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKSxzM3RjX3NyZ2I6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKSxwdnJ0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKSxldGMxOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEiKSxldGMyOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2VzM18wIiksdGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKSx1aW50SW5kaWNlczp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfZWxlbWVudF9pbmRleF91aW50IikhPT1udWxsLGZyYWdtZW50RGVwdGhTdXBwb3J0ZWQ6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2ZyYWdfZGVwdGgiKSE9PW51bGwsaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZDohMSx0aW1lclF1ZXJ5OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIpLHN1cHBvcnRPY2NsdXNpb25RdWVyeTp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VUaW1lc3RhbXBGb3JUaW1lclF1ZXJ5OiExLGRyYXdCdWZmZXJzRXh0ZW5zaW9uOiExLG1heE1TQUFTYW1wbGVzOjEsY29sb3JCdWZmZXJGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MSYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0IikpLHRleHR1cmVGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdFJlbmRlcjohMSx0ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc6ITEsdGV4dHVyZUZsb2F0UmVuZGVyOiExLHRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc6ITEsdmVydGV4QXJyYXlPYmplY3Q6ITEsaW5zdGFuY2VkQXJyYXlzOiExLHRleHR1cmVMT0Q6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCIpKSxibGVuZE1pbk1heDohMSxtdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPVlJfbXVsdGl2aWV3MiIpLG9jdWx1c011bHRpdmlldzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9DVUxVU19tdWx0aXZpZXciKSxkZXB0aFRleHR1cmVFeHRlbnNpb246ITEsY2FuVXNlR0xJbnN0YW5jZUlEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZUdMVmVydGV4SUQ6dGhpcy5fd2ViR0xWZXJzaW9uPjEsc3VwcG9ydENvbXB1dGVTaGFkZXJzOiExLHN1cHBvcnRTUkdCQnVmZmVyczohMSxzdXBwb3J0VHJhbnNmb3JtRmVlZGJhY2tzOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHRleHR1cmVNYXhMZXZlbDp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlMkRBcnJheU1heExheWVyQ291bnQ6dGhpcy5fd2ViR0xWZXJzaW9uPjE/MjU2OjEyOH0sdGhpcy5fZ2xWZXJzaW9uPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5WRVJTSU9OKTtjb25zdCB0PXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbyIpO2lmKHQhPW51bGwmJih0aGlzLl9nbFJlbmRlcmVyPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0LlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSx0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodC5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpKSx0aGlzLl9nbFZlbmRvcnx8KHRoaXMuX2dsVmVuZG9yPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5WRU5ET1IpfHwiVW5rbm93biB2ZW5kb3IiKSx0aGlzLl9nbFJlbmRlcmVyfHwodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuUkVOREVSRVIpfHwiVW5rbm93biByZW5kZXJlciIpLHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTIT09MzYxOTMmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz0zNjE5MyksdGhpcy5fZ2wuUkdCQTE2RiE9PTM0ODQyJiYodGhpcy5fZ2wuUkdCQTE2Rj0zNDg0MiksdGhpcy5fZ2wuUkdCQTMyRiE9PTM0ODM2JiYodGhpcy5fZ2wuUkdCQTMyRj0zNDgzNiksdGhpcy5fZ2wuREVQVEgyNF9TVEVOQ0lMOCE9PTM1MDU2JiYodGhpcy5fZ2wuREVQVEgyNF9TVEVOQ0lMOD0zNTA1NiksdGhpcy5fY2Fwcy50aW1lclF1ZXJ5JiYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSYmKHRoaXMuX2dsLmdldFF1ZXJ5PXRoaXMuX2NhcHMudGltZXJRdWVyeS5nZXRRdWVyeUVYVC5iaW5kKHRoaXMuX2NhcHMudGltZXJRdWVyeSkpLHRoaXMuX2NhcHMuY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeT0oKGU9dGhpcy5fZ2wuZ2V0UXVlcnkodGhpcy5fY2Fwcy50aW1lclF1ZXJ5LlRJTUVTVEFNUF9FWFQsdGhpcy5fY2Fwcy50aW1lclF1ZXJ5LlFVRVJZX0NPVU5URVJfQklUU19FWFQpKSE9PW51bGwmJmUhPT12b2lkIDA/ZTowKT4wKSx0aGlzLl9jYXBzLm1heEFuaXNvdHJvcHk9dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb24/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCk6MCx0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz0hISh0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRSZW5kZXI9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2NhblJlbmRlclRvRmxvYXRGcmFtZWJ1ZmZlcigpKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdCYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpKSx0aGlzLl9jYXBzLmFzdGMmJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFI9dGhpcy5fY2Fwcy5hc3RjLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUiksdGhpcy5fY2Fwcy5icHRjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUPXRoaXMuX2NhcHMuYnB0Yy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQpLHRoaXMuX2NhcHMuczN0Y19zcmdiJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ9dGhpcy5fY2Fwcy5zM3RjX3NyZ2IuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQpLHRoaXMuX2NhcHMuZXRjMiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfRVRDMj10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9FVEMyLHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDPXRoaXMuX2NhcHMuZXRjMi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQyksdGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTIT09NTEzMSYmKHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTPTUxMzEpLHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdFJlbmRlcj10aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKSx0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmRyYXdCdWZmZXJzRXh0ZW5zaW9uPSEwLHRoaXMuX2NhcHMubWF4TVNBQVNhbXBsZXM9dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZSE9PW51bGw/dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1NBTVBMRVMpO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO2lmKGkhPT1udWxsKXt0aGlzLl9jYXBzLmRyYXdCdWZmZXJzRXh0ZW5zaW9uPSEwLHRoaXMuX2dsLmRyYXdCdWZmZXJzPWkuZHJhd0J1ZmZlcnNXRUJHTC5iaW5kKGkpLHRoaXMuX2dsLkRSQVdfRlJBTUVCVUZGRVI9dGhpcy5fZ2wuRlJBTUVCVUZGRVI7Zm9yKGxldCBzPTA7czwxNjtzKyspdGhpcy5fZ2xbIkNPTE9SX0FUVEFDSE1FTlQiK3MrIl9XRUJHTCJdPWlbIkNPTE9SX0FUVEFDSE1FTlQiK3MrIl9XRUJHTCJdfX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIik7aSE9bnVsbCYmKHRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uPSEwLHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84PWkuVU5TSUdORURfSU5UXzI0XzhfV0VCR0wpfWlmKHRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSExO2Vsc2UgaWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpO2khPW51bGwmJih0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwLHRoaXMuX2dsLmNyZWF0ZVZlcnRleEFycmF5PWkuY3JlYXRlVmVydGV4QXJyYXlPRVMuYmluZChpKSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXk9aS5iaW5kVmVydGV4QXJyYXlPRVMuYmluZChpKSx0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheT1pLmRlbGV0ZVZlcnRleEFycmF5T0VTLmJpbmQoaSkpfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKTtpIT1udWxsPyh0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMCx0aGlzLl9nbC5kcmF3QXJyYXlzSW5zdGFuY2VkPWkuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFLmJpbmQoaSksdGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkPWkuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUuYmluZChpKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yPWkudmVydGV4QXR0cmliRGl2aXNvckFOR0xFLmJpbmQoaSkpOnRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSExfWlmKHRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCl7Y29uc3QgaT10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuVkVSVEVYX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKSxzPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5GUkFHTUVOVF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCk7aSYmcyYmKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZD1pLnByZWNpc2lvbiE9PTAmJnMucHJlY2lzaW9uIT09MCl9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5ibGVuZE1pbk1heD0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfYmxlbmRfbWlubWF4Iik7aSE9bnVsbCYmKHRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITAsdGhpcy5fZ2wuTUFYPWkuTUFYX0VYVCx0aGlzLl9nbC5NSU49aS5NSU5fRVhUKX1pZighdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zUkdCIik7aSE9bnVsbCYmKHRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwLHRoaXMuX2dsLlNSR0I9aS5TUkdCX0VYVCx0aGlzLl9nbC5TUkdCOD1pLlNSR0JfQUxQSEFfRVhULHRoaXMuX2dsLlNSR0I4X0FMUEhBOD1pLlNSR0JfQUxQSEFfRVhUKX10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmISEodGhpcy5fY3JlYXRpb25PcHRpb25zJiZ0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZm9yY2VTUkdCQnVmZmVyU3VwcG9ydFN0YXRlKX10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkxFUVVBTCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9ITAsdGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM9dGhpcy5fY2Fwcy5tYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0cztmb3IobGV0IGk9MDtpPHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzO2krKyl0aGlzLl9uZXh0RnJlZVRleHR1cmVTbG90cy5wdXNoKGkpfV9pbml0RmVhdHVyZXMoKXt0aGlzLl9mZWF0dXJlcz17Zm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudDohMSxzdXBwb3J0UmVuZGVyQW5kQ29weVRvTG9kRm9yRmxvYXRUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNoYWRvd1NhbXBsZXJzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeDohMSxhbGxvd1RleHR1cmVQcmVmaWx0ZXJpbmc6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx0cmFja1Vib3NJbkZyYW1lOiExLGNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ6ITEsc3VwcG9ydENTTTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLGJhc2lzTmVlZHNQT1Q6dGhpcy5fd2ViR0xWZXJzaW9uPT09MSxzdXBwb3J0M0RUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLG5lZWRUeXBlU3VmZml4SW5TaGFkZXJDb25zdGFudHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0TVNBQTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTU0FPMjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN3aXRjaENhc2VJblNoYWRlcjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ6ITAsbmVlZHNJbnZlcnRpbmdCaXRtYXA6ITAsdXNlVUJPQmluZGluZ0NhY2hlOiEwLG5lZWRTaGFkZXJDb2RlSW5saW5pbmc6ITEsbmVlZFRvQWx3YXlzQmluZFVuaWZvcm1CdWZmZXJzOiExLHN1cHBvcnRSZW5kZXJQYXNzZXM6ITEsc3VwcG9ydFNwcml0ZUluc3RhbmNpbmc6ITAsX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWU6ITF9fWdldCB3ZWJHTFZlcnNpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufWdldENsYXNzTmFtZSgpe3JldHVybiJUaGluRW5naW5lIn1nZXQgaXNTdGVuY2lsRW5hYmxlKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbEVuYWJsZX1fcHJlcGFyZVdvcmtpbmdDYW52YXMoKXtpZih0aGlzLl93b3JraW5nQ2FudmFzKXJldHVybjt0aGlzLl93b3JraW5nQ2FudmFzPXRoaXMuY3JlYXRlQ2FudmFzKDEsMSk7Y29uc3QgZT10aGlzLl93b3JraW5nQ2FudmFzLmdldENvbnRleHQoIjJkIik7ZSYmKHRoaXMuX3dvcmtpbmdDb250ZXh0PWUpfXJlc2V0VGV4dHVyZUNhY2hlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUsZSkmJih0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV09bnVsbCk7dGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xfWdldEluZm8oKXtyZXR1cm4gdGhpcy5nZXRHbEluZm8oKX1nZXRHbEluZm8oKXtyZXR1cm57dmVuZG9yOnRoaXMuX2dsVmVuZG9yLHJlbmRlcmVyOnRoaXMuX2dsUmVuZGVyZXIsdmVyc2lvbjp0aGlzLl9nbFZlcnNpb259fXNldEhhcmR3YXJlU2NhbGluZ0xldmVsKGUpe3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsPWUsdGhpcy5yZXNpemUoKX1nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpe3JldHVybiB0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbH1nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZX1nZXRDYXBzKCl7cmV0dXJuIHRoaXMuX2NhcHN9c3RvcFJlbmRlckxvb3AoZSl7aWYoIWUpe3RoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPVtdO3JldHVybn1jb25zdCB0PXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmluZGV4T2YoZSk7dD49MCYmdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuc3BsaWNlKHQsMSl9X3JlbmRlckxvb3AoKXtpZighdGhpcy5fY29udGV4dFdhc0xvc3Qpe2xldCBlPSEwO2lmKCF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCYmKGU9ITEpLGUpe3RoaXMuYmVnaW5GcmFtZSgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9hY3RpdmVSZW5kZXJMb29wc1t0XTtpKCl9dGhpcy5lbmRGcmFtZSgpfX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfWdldFJlbmRlcmluZ0NhbnZhcygpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9Z2V0QXVkaW9Db250ZXh0KCl7cmV0dXJuIHRoaXMuX2F1ZGlvQ29udGV4dH1nZXRBdWRpb0Rlc3RpbmF0aW9uKCl7cmV0dXJuIHRoaXMuX2F1ZGlvRGVzdGluYXRpb259Z2V0SG9zdFdpbmRvdygpe3JldHVybiBqZSgpP3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OndpbmRvdzpudWxsfWdldFJlbmRlcldpZHRoKGU9ITEpe3JldHVybiFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQud2lkdGg6dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0P3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdC5mcmFtZWJ1ZmZlcldpZHRoOnRoaXMuX2dsLmRyYXdpbmdCdWZmZXJXaWR0aH1nZXRSZW5kZXJIZWlnaHQoZT0hMSl7cmV0dXJuIWUmJnRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy5fY3VycmVudFJlbmRlclRhcmdldC5oZWlnaHQ6dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0P3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdC5mcmFtZWJ1ZmZlckhlaWdodDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVySGVpZ2h0fV9xdWV1ZU5ld0ZyYW1lKGUsdCl7cmV0dXJuIG9lLlF1ZXVlTmV3RnJhbWUoZSx0KX1ydW5SZW5kZXJMb29wKGUpe3RoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmluZGV4T2YoZSk9PT0tMSYmKHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLnB1c2goZSksdGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZHx8KHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITAsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj10aGlzLl9yZW5kZXJMb29wLmJpbmQodGhpcyksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSkpKX1jbGVhcihlLHQsaSxzPSExKXtjb25zdCByPXRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk7dGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seT0hMCx0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seT1yO2xldCBuPTA7dCYmZSYmKHRoaXMuX2dsLmNsZWFyQ29sb3IoZS5yLGUuZyxlLmIsZS5hIT09dm9pZCAwP2UuYToxKSxufD10aGlzLl9nbC5DT0xPUl9CVUZGRVJfQklUKSxpJiYodGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/KHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5HRVFVQUwsdGhpcy5fZ2wuY2xlYXJEZXB0aCgwKSk6dGhpcy5fZ2wuY2xlYXJEZXB0aCgxKSxufD10aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKSxzJiYodGhpcy5fZ2wuY2xlYXJTdGVuY2lsKDApLG58PXRoaXMuX2dsLlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fZ2wuY2xlYXIobil9X3ZpZXdwb3J0KGUsdCxpLHMpeyhlIT09dGhpcy5fdmlld3BvcnRDYWNoZWQueHx8dCE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnl8fGkhPT10aGlzLl92aWV3cG9ydENhY2hlZC56fHxzIT09dGhpcy5fdmlld3BvcnRDYWNoZWQudykmJih0aGlzLl92aWV3cG9ydENhY2hlZC54PWUsdGhpcy5fdmlld3BvcnRDYWNoZWQueT10LHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLno9aSx0aGlzLl92aWV3cG9ydENhY2hlZC53PXMsdGhpcy5fZ2wudmlld3BvcnQoZSx0LGkscykpfXNldFZpZXdwb3J0KGUsdCxpKXtjb25zdCBzPXR8fHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSxyPWl8fHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCksbj1lLnh8fDAsYT1lLnl8fDA7dGhpcy5fY2FjaGVkVmlld3BvcnQ9ZSx0aGlzLl92aWV3cG9ydChuKnMsYSpyLHMqZS53aWR0aCxyKmUuaGVpZ2h0KX1iZWdpbkZyYW1lKCl7fWVuZEZyYW1lKCl7dGhpcy5fYmFkT1MmJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2ZyYW1lSWQrK31yZXNpemUoZT0hMSl7bGV0IHQsaTtpZih0aGlzLmFkYXB0VG9EZXZpY2VSYXRpbyl7Y29uc3Qgcz1qZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxyPXRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvL3M7dGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89cyx0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCo9cn1qZSgpPyh0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuY2xpZW50V2lkdGh8fHRoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxpPXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuY2xpZW50SGVpZ2h0fHx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodCk6KHQ9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aDoxMDAsaT10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDoxMDApLHRoaXMuc2V0U2l6ZSh0L3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGkvdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwsZSl9c2V0U2l6ZShlLHQsaT0hMSl7cmV0dXJuIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8KGU9ZXwwLHQ9dHwwLCFpJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9PT1lJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PT09dCk/ITE6KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ9dCwhMCl9YmluZEZyYW1lYnVmZmVyKGUsdD0wLGkscyxyLG49MCxhPTApe3ZhciBvLGgsbCx1LGQ7Y29uc3QgZj1lO3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQmJnRoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCksdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD1lLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZi5fTVNBQUZyYW1lYnVmZmVyP2YuX01TQUFGcmFtZWJ1ZmZlcjpmLl9mcmFtZWJ1ZmZlcik7Y29uc3QgXz10aGlzLl9nbDtlLmlzMkRBcnJheT9fLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKF8uRlJBTUVCVUZGRVIsXy5DT0xPUl9BVFRBQ0hNRU5UMCwobz1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLnVuZGVybHlpbmdSZXNvdXJjZSxuLGEpOmUuaXNDdWJlJiZfLmZyYW1lYnVmZmVyVGV4dHVyZTJEKF8uRlJBTUVCVUZGRVIsXy5DT0xPUl9BVFRBQ0hNRU5UMCxfLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LChoPWUudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmgudW5kZXJseWluZ1Jlc291cmNlLG4pO2NvbnN0IEU9ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZTtpZihFKXtjb25zdCBtPWUuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD9fLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVDpfLkRFUFRIX0FUVEFDSE1FTlQ7ZS5pczJEQXJyYXk/Xy5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihfLkZSQU1FQlVGRkVSLG0sKGw9RS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLG4sYSk6ZS5pc0N1YmU/Xy5mcmFtZWJ1ZmZlclRleHR1cmUyRChfLkZSQU1FQlVGRkVSLG0sXy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwodT1FLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS51bmRlcmx5aW5nUmVzb3VyY2Usbik6Xy5mcmFtZWJ1ZmZlclRleHR1cmUyRChfLkZSQU1FQlVGRkVSLG0sXy5URVhUVVJFXzJELChkPUUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLnVuZGVybHlpbmdSZXNvdXJjZSxuKX10aGlzLl9jYWNoZWRWaWV3cG9ydCYmIXI/dGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCxpLHMpOihpfHwoaT1lLndpZHRoLG4mJihpPWkvTWF0aC5wb3coMixuKSkpLHN8fChzPWUuaGVpZ2h0LG4mJihzPXMvTWF0aC5wb3coMixuKSkpLHRoaXMuX3ZpZXdwb3J0KDAsMCxpLHMpKSx0aGlzLndpcGVDYWNoZXMoKX1zZXRTdGF0ZShlLHQ9MCxpLHM9ITEscixuLGE9MCl7dmFyIG8saDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbCE9PWV8fGkpJiYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbD1lKTtjb25zdCBsPSEoKGg9KG89dGhpcy5jdWxsQmFja0ZhY2VzKSE9PW51bGwmJm8hPT12b2lkIDA/bzpyKSE9PW51bGwmJmghPT12b2lkIDApfHxoP3RoaXMuX2dsLkJBQ0s6dGhpcy5fZ2wuRlJPTlQ7KHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlIT09bHx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsRmFjZT1sKSx0aGlzLnNldFpPZmZzZXQodCksdGhpcy5zZXRaT2Zmc2V0VW5pdHMoYSk7Y29uc3QgdT1zP3RoaXMuX2dsLkNXOnRoaXMuX2dsLkNDVzsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZnJvbnRGYWNlIT09dXx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2U9dSksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPW59Z2V0RGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0fXNldERlcHRoQnVmZmVyKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1lfXNldFpPZmZzZXQoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldD10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfWdldFpPZmZzZXQoKXtjb25zdCBlPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXQ7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9c2V0Wk9mZnNldFVuaXRzKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cz10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfWdldFpPZmZzZXRVbml0cygpe2NvbnN0IGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzO3JldHVybiB0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfV9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGUpe3RoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlciE9PWUmJih0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsZSksdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPWUpfV9jdXJyZW50RnJhbWVCdWZmZXJJc0RlZmF1bHRGcmFtZUJ1ZmZlcigpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9PT1udWxsfWdlbmVyYXRlTWlwbWFwcyhlKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAodGhpcy5fZ2wuVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpfXVuQmluZEZyYW1lYnVmZmVyKGUsdD0hMSxpKXt2YXIgcztjb25zdCByPWU7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldD1udWxsO2NvbnN0IG49dGhpcy5fZ2w7aWYoci5fTVNBQUZyYW1lYnVmZmVyKXtpZihlLmlzTXVsdGkpe3RoaXMudW5CaW5kTXVsdGlDb2xvckF0dGFjaG1lbnRGcmFtZWJ1ZmZlcihlLHQsaSk7cmV0dXJufW4uYmluZEZyYW1lYnVmZmVyKG4uUkVBRF9GUkFNRUJVRkZFUixyLl9NU0FBRnJhbWVidWZmZXIpLG4uYmluZEZyYW1lYnVmZmVyKG4uRFJBV19GUkFNRUJVRkZFUixyLl9mcmFtZWJ1ZmZlciksbi5ibGl0RnJhbWVidWZmZXIoMCwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLGUud2lkdGgsZS5oZWlnaHQsbi5DT0xPUl9CVUZGRVJfQklULG4uTkVBUkVTVCl9ISgocz1lLnRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuZ2VuZXJhdGVNaXBNYXBzJiYhdCYmIWUuaXNDdWJlJiZ0aGlzLmdlbmVyYXRlTWlwbWFwcyhlLnRleHR1cmUpLGkmJihyLl9NU0FBRnJhbWVidWZmZXImJnRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoci5fZnJhbWVidWZmZXIpLGkoKSksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKX1mbHVzaEZyYW1lYnVmZmVyKCl7dGhpcy5fZ2wuZmx1c2goKX1yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCl7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpOnRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmlld3BvcnQmJnRoaXMuc2V0Vmlld3BvcnQodGhpcy5fY2FjaGVkVmlld3BvcnQpLHRoaXMud2lwZUNhY2hlcygpfV9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPW51bGx9Y3JlYXRlVmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLl9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0aGlzLl9nbC5TVEFUSUNfRFJBVyl9X2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHQpe2NvbnN0IGk9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHZlcnRleCBidWZmZXIiKTtjb25zdCBzPW5ldyBEaShpKTtyZXR1cm4gdGhpcy5iaW5kQXJyYXlCdWZmZXIocyksZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoZSksdCk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsZSx0KSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKSxzLnJlZmVyZW5jZXM9MSxzfWNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyl9X3Jlc2V0SW5kZXhCdWZmZXJCaW5kaW5nKCl7dGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbH1jcmVhdGVJbmRleEJ1ZmZlcihlLHQpe2NvbnN0IGk9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCkscz1uZXcgRGkoaSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGluZGV4IGJ1ZmZlciIpO3RoaXMuYmluZEluZGV4QnVmZmVyKHMpO2NvbnN0IHI9dGhpcy5fbm9ybWFsaXplSW5kZXhEYXRhKGUpO3JldHVybiB0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHIsdD90aGlzLl9nbC5EWU5BTUlDX0RSQVc6dGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuX3Jlc2V0SW5kZXhCdWZmZXJCaW5kaW5nKCkscy5yZWZlcmVuY2VzPTEscy5pczMyQml0cz1yLkJZVEVTX1BFUl9FTEVNRU5UPT09NCxzfV9ub3JtYWxpemVJbmRleERhdGEoZSl7aWYoZS5CWVRFU19QRVJfRUxFTUVOVD09PTIpcmV0dXJuIGU7aWYodGhpcy5fY2Fwcy51aW50SW5kaWNlcyl7aWYoZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KXJldHVybiBlO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0+PTY1NTM1KXJldHVybiBuZXcgVWludDMyQXJyYXkoZSk7cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX1yZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUpfWJpbmRBcnJheUJ1ZmZlcihlKXt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX2JpbmRCdWZmZXIoZSx0aGlzLl9nbC5BUlJBWV9CVUZGRVIpfWJpbmRVbmlmb3JtQmxvY2soZSx0LGkpe2NvbnN0IHM9ZS5wcm9ncmFtLHI9dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgocyx0KTt0aGlzLl9nbC51bmlmb3JtQmxvY2tCaW5kaW5nKHMscixpKX1iaW5kSW5kZXhCdWZmZXIoZSl7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpfV9iaW5kQnVmZmVyKGUsdCl7KHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XSE9PWUpJiYodGhpcy5fZ2wuYmluZEJ1ZmZlcih0LGU/ZS51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCksdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdPWUpfXVwZGF0ZUFycmF5QnVmZmVyKGUpe3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsZSl9X3ZlcnRleEF0dHJpYlBvaW50ZXIoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz10aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbdF07aWYoIW8pcmV0dXJuO2xldCBoPSExO28uYWN0aXZlPyhvLmJ1ZmZlciE9PWUmJihvLmJ1ZmZlcj1lLGg9ITApLG8uc2l6ZSE9PWkmJihvLnNpemU9aSxoPSEwKSxvLnR5cGUhPT1zJiYoby50eXBlPXMsaD0hMCksby5ub3JtYWxpemVkIT09ciYmKG8ubm9ybWFsaXplZD1yLGg9ITApLG8uc3RyaWRlIT09biYmKG8uc3RyaWRlPW4saD0hMCksby5vZmZzZXQhPT1hJiYoby5vZmZzZXQ9YSxoPSEwKSk6KGg9ITAsby5hY3RpdmU9ITAsby5pbmRleD10LG8uc2l6ZT1pLG8udHlwZT1zLG8ubm9ybWFsaXplZD1yLG8uc3RyaWRlPW4sby5vZmZzZXQ9YSxvLmJ1ZmZlcj1lKSwoaHx8dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcykmJih0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKSxzPT09dGhpcy5fZ2wuVU5TSUdORURfSU5UfHxzPT09dGhpcy5fZ2wuSU5UP3RoaXMuX2dsLnZlcnRleEF0dHJpYklQb2ludGVyKHQsaSxzLG4sYSk6dGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcih0LGkscyxyLG4sYSkpfV9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUoZSl7ZSE9bnVsbCYmdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXIhPT1lJiYodGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9ZSx0aGlzLmJpbmRJbmRleEJ1ZmZlcihlKSx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD1lLmlzMzJCaXRzKX1fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzKGUsdCxpKXtjb25zdCBzPXQuZ2V0QXR0cmlidXRlc05hbWVzKCk7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtmb3IobGV0IHI9MDtyPHMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10LmdldEF0dHJpYnV0ZUxvY2F0aW9uKHIpO2lmKG4+PTApe2NvbnN0IGE9c1tyXTtsZXQgbz1udWxsO2lmKGkmJihvPWlbYV0pLG98fChvPWVbYV0pLCFvKWNvbnRpbnVlO3RoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fCh0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW25dPSEwKTtjb25zdCBoPW8uZ2V0QnVmZmVyKCk7aCYmKHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoaCxuLG8uZ2V0U2l6ZSgpLG8udHlwZSxvLm5vcm1hbGl6ZWQsby5ieXRlU3RyaWRlLG8uYnl0ZU9mZnNldCksby5nZXRJc0luc3RhbmNlZCgpJiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihuLG8uZ2V0SW5zdGFuY2VEaXZpc29yKCkpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fCh0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChuKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goaCkpKSl9fX1yZWNvcmRWZXJ0ZXhBcnJheU9iamVjdChlLHQsaSxzKXtjb25zdCByPXRoaXMuX2dsLmNyZWF0ZVZlcnRleEFycmF5KCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIFZBTyIpO3JldHVybiB0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzPSEwLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShyKSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITAsdGhpcy5fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzKGUsaSxzKSx0aGlzLmJpbmRJbmRleEJ1ZmZlcih0KSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzPSExLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShudWxsKSxyfWJpbmRWZXJ0ZXhBcnJheU9iamVjdChlLHQpe3RoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0IT09ZSYmKHRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0PWUsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KGUpLHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9bnVsbCx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PXQhPW51bGwmJnQuaXMzMkJpdHMsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwKX1iaW5kQnVmZmVyc0RpcmVjdGx5KGUsdCxpLHMscil7aWYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycyE9PWV8fHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnMhPT1yKXt0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1yO2NvbnN0IG49ci5nZXRBdHRyaWJ1dGVzQ291bnQoKTt0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpO2xldCBhPTA7Zm9yKGxldCBvPTA7bzxuO28rKylpZihvPGkubGVuZ3RoKXtjb25zdCBoPXIuZ2V0QXR0cmlidXRlTG9jYXRpb24obyk7aD49MCYmKHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGgpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbaF09ITAsdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLGgsaVtvXSx0aGlzLl9nbC5GTE9BVCwhMSxzLGEpKSxhKz1pW29dKjR9fXRoaXMuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZSh0KX1fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKXt0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0PW51bGwsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpKX1iaW5kQnVmZmVycyhlLHQsaSxzKXsodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycyE9PWV8fHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnMhPT1pKSYmKHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9ZSx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPWksdGhpcy5fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzKGUsaSxzKSksdGhpcy5fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKHQpfXVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpe2xldCBlO2ZvcihsZXQgdD0wLGk9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBzPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnNbdF07ZSE9cyYmcy5yZWZlcmVuY2VzJiYoZT1zLHRoaXMuYmluZEFycmF5QnVmZmVyKHMpKTtjb25zdCByPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9uc1t0XTt0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHIsMCl9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5sZW5ndGg9MCx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoPTB9cmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KGUpe3RoaXMuX2dsLmRlbGV0ZVZlcnRleEFycmF5KGUpfV9yZWxlYXNlQnVmZmVyKGUpe3JldHVybiBlLnJlZmVyZW5jZXMtLSxlLnJlZmVyZW5jZXM9PT0wPyh0aGlzLl9kZWxldGVCdWZmZXIoZSksITApOiExfV9kZWxldGVCdWZmZXIoZSl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKGUudW5kZXJseWluZ1Jlc291cmNlKX11cGRhdGVBbmRCaW5kSW5zdGFuY2VzQnVmZmVyKGUsdCxpKXtpZih0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKSx0JiZ0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLHQpLGlbMF0uaW5kZXghPT12b2lkIDApdGhpcy5iaW5kSW5zdGFuY2VzQnVmZmVyKGUsaSwhMCk7ZWxzZSBmb3IobGV0IHM9MDtzPDQ7cysrKXtjb25zdCByPWlbc107dGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtyXXx8KHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHIpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbcl09ITApLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxyLDQsdGhpcy5fZ2wuRkxPQVQsITEsNjQscyoxNiksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihyLDEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKHIpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKX19YmluZEluc3RhbmNlc0J1ZmZlcihlLHQsaT0hMCl7dGhpcy5iaW5kQXJyYXlCdWZmZXIoZSk7bGV0IHM9MDtpZihpKWZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBuPXRbcl07cys9bi5hdHRyaWJ1dGVTaXplKjR9Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtuLmluZGV4PT09dm9pZCAwJiYobi5pbmRleD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKG4uYXR0cmlidXRlTmFtZSkpLCEobi5pbmRleDwwKSYmKHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbi5pbmRleF18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuLmluZGV4KSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW24uaW5kZXhdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsbi5pbmRleCxuLmF0dHJpYnV0ZVNpemUsbi5hdHRyaWJ1dGVUeXBlfHx0aGlzLl9nbC5GTE9BVCxuLm5vcm1hbGl6ZWR8fCExLHMsbi5vZmZzZXQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3Iobi5pbmRleCxuLmRpdmlzb3I9PT12b2lkIDA/MTpuLmRpdmlzb3IpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKG4uaW5kZXgpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKSl9fWRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZUJ5TmFtZShlKXtpZighdGhpcy5fY3VycmVudEVmZmVjdClyZXR1cm47Y29uc3QgdD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpO3RoaXMuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKHQpfWRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZShlKXtsZXQgdD0hMSxpO2Zvcig7KGk9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSkpIT09LTE7KXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5zcGxpY2UoaSwxKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnNwbGljZShpLDEpLHQ9ITAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKTt0JiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihlLDApLHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSkpfWRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpe3RoaXMuX2dsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdPSExLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1tlXS5hY3RpdmU9ITF9ZHJhdyhlLHQsaSxzKXt0aGlzLmRyYXdFbGVtZW50c1R5cGUoZT8wOjEsdCxpLHMpfWRyYXdQb2ludENsb3VkcyhlLHQsaSl7dGhpcy5kcmF3QXJyYXlzVHlwZSgyLGUsdCxpKX1kcmF3VW5JbmRleGVkKGUsdCxpLHMpe3RoaXMuZHJhd0FycmF5c1R5cGUoZT8wOjEsdCxpLHMpfWRyYXdFbGVtZW50c1R5cGUoZSx0LGkscyl7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7Y29uc3Qgcj10aGlzLl9kcmF3TW9kZShlKSxuPXRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0P3RoaXMuX2dsLlVOU0lHTkVEX0lOVDp0aGlzLl9nbC5VTlNJR05FRF9TSE9SVCxhPXRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PzQ6MjtzP3RoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZChyLGksbix0KmEscyk6dGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHIsaSxuLHQqYSl9ZHJhd0FycmF5c1R5cGUoZSx0LGkscyl7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7Y29uc3Qgcj10aGlzLl9kcmF3TW9kZShlKTtzP3RoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQocix0LGkscyk6dGhpcy5fZ2wuZHJhd0FycmF5cyhyLHQsaSl9X2RyYXdNb2RlKGUpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFUztjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5MSU5FX0xPT1A7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5MSU5FX1NUUklQO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfU1RSSVA7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9GQU47ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTfX1fcmVwb3J0RHJhd0NhbGwoKXt9X3JlbGVhc2VFZmZlY3QoZSl7dGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV0mJmRlbGV0ZSB0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XTtjb25zdCB0PWUuZ2V0UGlwZWxpbmVDb250ZXh0KCk7dCYmdGhpcy5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KHQpfV9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lO3QmJnQucHJvZ3JhbSYmKHQucHJvZ3JhbS5fX1NQRUNUT1JfcmVidWlsZFByb2dyYW09bnVsbCx0aGlzLl9nbC5kZWxldGVQcm9ncmFtKHQucHJvZ3JhbSkpfV9nZXRHbG9iYWxEZWZpbmVzKGUpe2lmKGUpe3RoaXMuaXNORENIYWxmWlJhbmdlP2UuSVNfTkRDX0hBTEZfWlJBTkdFPSIiOmRlbGV0ZSBlLklTX05EQ19IQUxGX1pSQU5HRSx0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj9lLlVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSPSIiOmRlbGV0ZSBlLlVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnM/ZS5VU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUz0iIjpkZWxldGUgZS5VU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUztyZXR1cm59ZWxzZXtsZXQgdD0iIjtyZXR1cm4gdGhpcy5pc05EQ0hhbGZaUmFuZ2UmJih0Kz0iI2RlZmluZSBJU19ORENfSEFMRl9aUkFOR0UiKSx0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHQmJih0Kz1gCmApLHQrPSIjZGVmaW5lIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSIiksdGhpcy51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyYmKHQmJih0Kz1gCmApLHQrPSIjZGVmaW5lIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TIiksdH19Y3JlYXRlRWZmZWN0KGUsdCxpLHMscixuLGEsbyxoLGw9WmUuR0xTTCl7dmFyIHU7Y29uc3QgZD1lLnZlcnRleEVsZW1lbnR8fGUudmVydGV4fHxlLnZlcnRleFRva2VufHxlLnZlcnRleFNvdXJjZXx8ZSxmPWUuZnJhZ21lbnRFbGVtZW50fHxlLmZyYWdtZW50fHxlLmZyYWdtZW50VG9rZW58fGUuZnJhZ21lbnRTb3VyY2V8fGUsXz10aGlzLl9nZXRHbG9iYWxEZWZpbmVzKCk7bGV0IEU9KHU9cj8/dC5kZWZpbmVzKSE9PW51bGwmJnUhPT12b2lkIDA/dToiIjtfJiYoRSs9Xyk7Y29uc3QgbT1kKyIrIitmKyJAIitFO2lmKHRoaXMuX2NvbXBpbGVkRWZmZWN0c1ttXSl7Y29uc3QgUz10aGlzLl9jb21waWxlZEVmZmVjdHNbbV07cmV0dXJuIGEmJlMuaXNSZWFkeSgpJiZhKFMpLFN9Y29uc3Qgdj1uZXcgUGUoZSx0LGkscyx0aGlzLHIsbixhLG8saCxtLGwpO3JldHVybiB0aGlzLl9jb21waWxlZEVmZmVjdHNbbV09dix2fXN0YXRpYyBfQ29uY2F0ZW5hdGVTaGFkZXIoZSx0LGk9IiIpe3JldHVybiBpKyh0P3QrYApgOiIiKStlfV9jb21waWxlU2hhZGVyKGUsdCxpLHMpe3JldHVybiB0aGlzLl9jb21waWxlUmF3U2hhZGVyKG9lLl9Db25jYXRlbmF0ZVNoYWRlcihlLGkscyksdCl9X2NvbXBpbGVSYXdTaGFkZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLHM9aS5jcmVhdGVTaGFkZXIodD09PSJ2ZXJ0ZXgiP2kuVkVSVEVYX1NIQURFUjppLkZSQUdNRU5UX1NIQURFUik7aWYoIXMpe2xldCByPWkuTk9fRVJST1Isbj1pLk5PX0VSUk9SO2Zvcig7KG49aS5nZXRFcnJvcigpKSE9PWkuTk9fRVJST1I7KXI9bjt0aHJvdyBuZXcgRXJyb3IoYFNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGNyZWF0aW5nIGEgZ2wgJHt0fSBzaGFkZXIgb2JqZWN0LiBnbCBlcnJvcj0ke3J9LCBnbCBpc0NvbnRleHRMb3N0PSR7aS5pc0NvbnRleHRMb3N0KCl9LCBfY29udGV4dFdhc0xvc3Q9JHt0aGlzLl9jb250ZXh0V2FzTG9zdH1gKX1yZXR1cm4gaS5zaGFkZXJTb3VyY2UocyxlKSxpLmNvbXBpbGVTaGFkZXIocyksc31fZ2V0U2hhZGVyU291cmNlKGUpe3JldHVybiB0aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UoZSl9Y3JlYXRlUmF3U2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7cz1zfHx0aGlzLl9nbDtjb25zdCBuPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIodCwidmVydGV4IiksYT10aGlzLl9jb21waWxlUmF3U2hhZGVyKGksImZyYWdtZW50Iik7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSxuLGEscyxyKX1jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscixuPW51bGwpe3I9cnx8dGhpcy5fZ2w7Y29uc3QgYT10aGlzLl93ZWJHTFZlcnNpb24+MT9gI3ZlcnNpb24gMzAwIGVzCiNkZWZpbmUgV0VCR0wyIApgOiIiLG89dGhpcy5fY29tcGlsZVNoYWRlcih0LCJ2ZXJ0ZXgiLHMsYSksaD10aGlzLl9jb21waWxlU2hhZGVyKGksImZyYWdtZW50IixzLGEpO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsbyxoLHIsbil9aW5saW5lU2hhZGVyQ29kZShlKXtyZXR1cm4gZX1jcmVhdGVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1uZXcgbG47cmV0dXJuIHQuZW5naW5lPXRoaXMsdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJih0LmlzUGFyYWxsZWxDb21waWxlZD0hMCksdH1jcmVhdGVNYXRlcmlhbENvbnRleHQoKXt9Y3JlYXRlRHJhd0NvbnRleHQoKXt9X2NyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyPW51bGwpe2NvbnN0IG49cy5jcmVhdGVQcm9ncmFtKCk7aWYoZS5wcm9ncmFtPW4sIW4pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHByb2dyYW0iKTtyZXR1cm4gcy5hdHRhY2hTaGFkZXIobix0KSxzLmF0dGFjaFNoYWRlcihuLGkpLHMubGlua1Byb2dyYW0obiksZS5jb250ZXh0PXMsZS52ZXJ0ZXhTaGFkZXI9dCxlLmZyYWdtZW50U2hhZGVyPWksZS5pc1BhcmFsbGVsQ29tcGlsZWR8fHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KGUpLG59X2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9ZS5jb250ZXh0LGk9ZS52ZXJ0ZXhTaGFkZXIscz1lLmZyYWdtZW50U2hhZGVyLHI9ZS5wcm9ncmFtO2lmKCF0LmdldFByb2dyYW1QYXJhbWV0ZXIocix0LkxJTktfU1RBVFVTKSl7aWYoIXRoaXMuX2dsLmdldFNoYWRlclBhcmFtZXRlcihpLHRoaXMuX2dsLkNPTVBJTEVfU1RBVFVTKSl7Y29uc3Qgbz10aGlzLl9nbC5nZXRTaGFkZXJJbmZvTG9nKGkpO2lmKG8pdGhyb3cgZS52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJWRVJURVggU0hBREVSICIrbyl9aWYoIXRoaXMuX2dsLmdldFNoYWRlclBhcmFtZXRlcihzLHRoaXMuX2dsLkNPTVBJTEVfU1RBVFVTKSl7Y29uc3Qgbz10aGlzLl9nbC5nZXRTaGFkZXJJbmZvTG9nKHMpO2lmKG8pdGhyb3cgZS5mcmFnbWVudENvbXBpbGF0aW9uRXJyb3I9byxuZXcgRXJyb3IoIkZSQUdNRU5UIFNIQURFUiAiK28pfWNvbnN0IGE9dC5nZXRQcm9ncmFtSW5mb0xvZyhyKTtpZihhKXRocm93IGUucHJvZ3JhbUxpbmtFcnJvcj1hLG5ldyBFcnJvcihhKX1pZih0aGlzLnZhbGlkYXRlU2hhZGVyUHJvZ3JhbXMmJih0LnZhbGlkYXRlUHJvZ3JhbShyKSwhdC5nZXRQcm9ncmFtUGFyYW1ldGVyKHIsdC5WQUxJREFURV9TVEFUVVMpKSl7Y29uc3Qgbz10LmdldFByb2dyYW1JbmZvTG9nKHIpO2lmKG8pdGhyb3cgZS5wcm9ncmFtVmFsaWRhdGlvbkVycm9yPW8sbmV3IEVycm9yKG8pfXQuZGVsZXRlU2hhZGVyKGkpLHQuZGVsZXRlU2hhZGVyKHMpLGUudmVydGV4U2hhZGVyPXZvaWQgMCxlLmZyYWdtZW50U2hhZGVyPXZvaWQgMCxlLm9uQ29tcGlsZWQmJihlLm9uQ29tcGlsZWQoKSxlLm9uQ29tcGlsZWQ9dm9pZCAwKX1fcHJlcGFyZVBpcGVsaW5lQ29udGV4dChlLHQsaSxzLHIsbixhLG8saCxsKXtjb25zdCB1PWU7cz91LnByb2dyYW09dGhpcy5jcmVhdGVSYXdTaGFkZXJQcm9ncmFtKHUsdCxpLHZvaWQgMCxoKTp1LnByb2dyYW09dGhpcy5jcmVhdGVTaGFkZXJQcm9ncmFtKHUsdCxpLG8sdm9pZCAwLGgpLHUucHJvZ3JhbS5fX1NQRUNUT1JfcmVidWlsZFByb2dyYW09YX1faXNSZW5kZXJpbmdTdGF0ZUNvbXBpbGVkKGUpe2NvbnN0IHQ9ZTtyZXR1cm4gdGhpcy5fZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LnByb2dyYW0sdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUuQ09NUExFVElPTl9TVEFUVVNfS0hSKT8odGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQodCksITApOiExfV9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZChlLHQpe2NvbnN0IGk9ZTtpZighaS5pc1BhcmFsbGVsQ29tcGlsZWQpe3QoKTtyZXR1cm59Y29uc3Qgcz1pLm9uQ29tcGlsZWQ7cz9pLm9uQ29tcGlsZWQ9KCk9PntzKCksdCgpfTppLm9uQ29tcGlsZWQ9dH1nZXRVbmlmb3JtcyhlLHQpe2NvbnN0IGk9bmV3IEFycmF5LHM9ZTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpLnB1c2godGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHMucHJvZ3JhbSx0W3JdKSk7cmV0dXJuIGl9Z2V0QXR0cmlidXRlcyhlLHQpe2NvbnN0IGk9W10scz1lO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXRyeXtpLnB1c2godGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24ocy5wcm9ncmFtLHRbcl0pKX1jYXRjaHtpLnB1c2goLTEpfXJldHVybiBpfWVuYWJsZUVmZmVjdChlKXtlPWUhPT1udWxsJiZtaS5Jc1dyYXBwZXIoZSk/ZS5lZmZlY3Q6ZSwhKCFlfHxlPT09dGhpcy5fY3VycmVudEVmZmVjdCkmJih0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9dm9pZCAwLGU9ZSx0aGlzLmJpbmRTYW1wbGVycyhlKSx0aGlzLl9jdXJyZW50RWZmZWN0PWUsZS5vbkJpbmQmJmUub25CaW5kKGUpLGUuX29uQmluZE9ic2VydmFibGUmJmUuX29uQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1zZXRJbnQoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpKGUsdCksITApOiExfXNldEludDIoZSx0LGkpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMmkoZSx0LGkpLCEwKTohMX1zZXRJbnQzKGUsdCxpLHMpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2koZSx0LGkscyksITApOiExfXNldEludDQoZSx0LGkscyxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTRpKGUsdCxpLHMsciksITApOiExfXNldEludEFycmF5KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xaXYoZSx0KSwhMCk6ITF9c2V0SW50QXJyYXkyKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMml2KGUsdCksITApfXNldEludEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNpdihlLHQpLCEwKX1zZXRJbnRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00aXYoZSx0KSwhMCl9c2V0VUludChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMXVpKGUsdCksITApOiExfXNldFVJbnQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJ1aShlLHQsaSksITApOiExfXNldFVJbnQzKGUsdCxpLHMpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM3VpKGUsdCxpLHMpLCEwKTohMX1zZXRVSW50NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNHVpKGUsdCxpLHMsciksITApOiExfXNldFVJbnRBcnJheShlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMXVpdihlLHQpLCEwKTohMX1zZXRVSW50QXJyYXkyKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMnVpdihlLHQpLCEwKX1zZXRVSW50QXJyYXkzKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM3VpdihlLHQpLCEwKX1zZXRVSW50QXJyYXk0KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNHVpdihlLHQpLCEwKX1zZXRBcnJheShlLHQpe3JldHVybiFlfHx0Lmxlbmd0aDwxPyExOih0aGlzLl9nbC51bmlmb3JtMWZ2KGUsdCksITApfXNldEFycmF5MihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJmdihlLHQpLCEwKX1zZXRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zZnYoZSx0KSwhMCl9c2V0QXJyYXk0KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGZ2KGUsdCksITApfXNldE1hdHJpY2VzKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXg0ZnYoZSwhMSx0KSwhMCk6ITF9c2V0TWF0cml4M3gzKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXgzZnYoZSwhMSx0KSwhMCk6ITF9c2V0TWF0cml4MngyKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXgyZnYoZSwhMSx0KSwhMCk6ITF9c2V0RmxvYXQoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFmKGUsdCksITApOiExfXNldEZsb2F0MihlLHQsaSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0yZihlLHQsaSksITApOiExfXNldEZsb2F0MyhlLHQsaSxzKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNmKGUsdCxpLHMpLCEwKTohMX1zZXRGbG9hdDQoZSx0LGkscyxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTRmKGUsdCxpLHMsciksITApOiExfWFwcGx5U3RhdGVzKCl7aWYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9hbHBoYVN0YXRlLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZCl7dGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITE7Y29uc3QgZT10aGlzLl9jb2xvcldyaXRlO3RoaXMuX2dsLmNvbG9yTWFzayhlLGUsZSxlKX19c2V0Q29sb3JXcml0ZShlKXtlIT09dGhpcy5fY29sb3JXcml0ZSYmKHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSEwLHRoaXMuX2NvbG9yV3JpdGU9ZSl9Z2V0Q29sb3JXcml0ZSgpe3JldHVybiB0aGlzLl9jb2xvcldyaXRlfWdldCBkZXB0aEN1bGxpbmdTdGF0ZSgpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZX1nZXQgYWxwaGFTdGF0ZSgpe3JldHVybiB0aGlzLl9hbHBoYVN0YXRlfWdldCBzdGVuY2lsU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlfWdldCBzdGVuY2lsU3RhdGVDb21wb3Nlcigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlcn1jbGVhckludGVybmFsVGV4dHVyZXNDYWNoZSgpe3RoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5sZW5ndGg9MH13aXBlQ2FjaGVzKGUpe3RoaXMucHJldmVudENhY2hlV2lwZUJldHdlZW5GcmFtZXMmJiFlfHwodGhpcy5fY3VycmVudEVmZmVjdD1udWxsLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLng9MCx0aGlzLl92aWV3cG9ydENhY2hlZC55PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQuej0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnc9MCx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLGUmJih0aGlzLl9jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMucmVzZXRUZXh0dXJlQ2FjaGUoKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5yZXNldCgpLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkxFUVVBTCx0aGlzLl9hbHBoYVN0YXRlLnJlc2V0KCksdGhpcy5fYWxwaGFNb2RlPTEsdGhpcy5fYWxwaGFFcXVhdGlvbj0wLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9bnVsbCx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfQ09MT1JTUEFDRV9DT05WRVJTSU9OX1dFQkdMLHRoaXMuX2dsLk5PTkUpLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwwKSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITAsdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCkpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpKX1fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLl9nbDtsZXQgcz1pLk5FQVJFU1Qscj1pLk5FQVJFU1Q7c3dpdGNoKGUpe2Nhc2UgMTE6cz1pLkxJTkVBUix0P3I9aS5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6cj1pLkxJTkVBUjticmVhaztjYXNlIDM6cz1pLkxJTkVBUix0P3I9aS5MSU5FQVJfTUlQTUFQX0xJTkVBUjpyPWkuTElORUFSO2JyZWFrO2Nhc2UgODpzPWkuTkVBUkVTVCx0P3I9aS5ORUFSRVNUX01JUE1BUF9MSU5FQVI6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSA0OnM9aS5ORUFSRVNULHQ/cj1pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSA1OnM9aS5ORUFSRVNULHQ/cj1pLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDpyPWkuTElORUFSO2JyZWFrO2Nhc2UgNjpzPWkuTkVBUkVTVCx0P3I9aS5MSU5FQVJfTUlQTUFQX0xJTkVBUjpyPWkuTElORUFSO2JyZWFrO2Nhc2UgNzpzPWkuTkVBUkVTVCxyPWkuTElORUFSO2JyZWFrO2Nhc2UgMTpzPWkuTkVBUkVTVCxyPWkuTkVBUkVTVDticmVhaztjYXNlIDk6cz1pLkxJTkVBUix0P3I9aS5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgMTA6cz1pLkxJTkVBUix0P3I9aS5ORUFSRVNUX01JUE1BUF9MSU5FQVI6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSAyOnM9aS5MSU5FQVIscj1pLkxJTkVBUjticmVhaztjYXNlIDEyOnM9aS5MSU5FQVIscj1pLk5FQVJFU1Q7YnJlYWt9cmV0dXJue21pbjpyLG1hZzpzfX1fY3JlYXRlVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fZ2wuY3JlYXRlVGV4dHVyZSgpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB0ZXh0dXJlIik7cmV0dXJuIGV9X2NyZWF0ZUhhcmR3YXJlVGV4dHVyZSgpe3JldHVybiBuZXcgdHIodGhpcy5fY3JlYXRlVGV4dHVyZSgpLHRoaXMuX2dsKX1fY3JlYXRlSW50ZXJuYWxUZXh0dXJlKGUsdCxpPSEwLHM9TmUuVW5rbm93bil7dmFyIHI7bGV0IG49ITEsYT0wLG89MyxoPTUsbD0hMSx1PTE7dCE9PXZvaWQgMCYmdHlwZW9mIHQ9PSJvYmplY3QiPyhuPSEhdC5nZW5lcmF0ZU1pcE1hcHMsYT10LnR5cGU9PT12b2lkIDA/MDp0LnR5cGUsbz10LnNhbXBsaW5nTW9kZT09PXZvaWQgMD8zOnQuc2FtcGxpbmdNb2RlLGg9dC5mb3JtYXQ9PT12b2lkIDA/NTp0LmZvcm1hdCxsPXQudXNlU1JHQkJ1ZmZlcj09PXZvaWQgMD8hMTp0LnVzZVNSR0JCdWZmZXIsdT0ocj10LnNhbXBsZXMpIT09bnVsbCYmciE9PXZvaWQgMD9yOjEpOm49ISF0LGwmJihsPXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYodGhpcy53ZWJHTFZlcnNpb24+MXx8dGhpcy5pc1dlYkdQVSkpLChhPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxhPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihvPTEpLGE9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJihhPTAsTy5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gVHlwZSBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5TSUdORURfQllURSIpKTtjb25zdCBkPXRoaXMuX2dsLGY9bmV3IE90KHRoaXMscyksXz1lLndpZHRofHxlLEU9ZS5oZWlnaHR8fGUsbT1lLmxheWVyc3x8MCx2PXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhvLG4pLFM9bSE9PTA/ZC5URVhUVVJFXzJEX0FSUkFZOmQuVEVYVFVSRV8yRCx5PXRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGEsaCxsKSxBPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGgpLEM9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShhKTtyZXR1cm4gdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShTLGYpLG0hPT0wPyhmLmlzMkRBcnJheT0hMCxkLnRleEltYWdlM0QoUywwLHksXyxFLG0sMCxBLEMsbnVsbCkpOmQudGV4SW1hZ2UyRChTLDAseSxfLEUsMCxBLEMsbnVsbCksZC50ZXhQYXJhbWV0ZXJpKFMsZC5URVhUVVJFX01BR19GSUxURVIsdi5tYWcpLGQudGV4UGFyYW1ldGVyaShTLGQuVEVYVFVSRV9NSU5fRklMVEVSLHYubWluKSxkLnRleFBhcmFtZXRlcmkoUyxkLlRFWFRVUkVfV1JBUF9TLGQuQ0xBTVBfVE9fRURHRSksZC50ZXhQYXJhbWV0ZXJpKFMsZC5URVhUVVJFX1dSQVBfVCxkLkNMQU1QX1RPX0VER0UpLG4mJnRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKFMpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoUyxudWxsKSxmLl91c2VTUkdCQnVmZmVyPWwsZi5iYXNlV2lkdGg9XyxmLmJhc2VIZWlnaHQ9RSxmLndpZHRoPV8sZi5oZWlnaHQ9RSxmLmRlcHRoPW0sZi5pc1JlYWR5PSEwLGYuc2FtcGxlcz11LGYuZ2VuZXJhdGVNaXBNYXBzPW4sZi5zYW1wbGluZ01vZGU9byxmLnR5cGU9YSxmLmZvcm1hdD1oLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKGYpLGZ9X2dldFVzZVNSR0JCdWZmZXIoZSx0KXtyZXR1cm4gZSYmdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVfHx0KX1fY3JlYXRlVGV4dHVyZUJhc2UoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvLGgsbD1udWxsLHU9bnVsbCxkPW51bGwsZj1udWxsLF8sRSxtKXtlPWV8fCIiO2NvbnN0IHY9ZS5zdWJzdHIoMCw1KT09PSJkYXRhOiIsUz1lLnN1YnN0cigwLDUpPT09ImJsb2I6Iix5PXYmJmUuaW5kZXhPZigiO2Jhc2U2NCwiKSE9PS0xLEE9dXx8bmV3IE90KHRoaXMsTmUuVXJsKSxDPWU7dGhpcy5fdHJhbnNmb3JtVGV4dHVyZVVybCYmIXkmJiF1JiYhbCYmKGU9dGhpcy5fdHJhbnNmb3JtVGV4dHVyZVVybChlKSksQyE9PWUmJihBLl9vcmlnaW5hbFVybD1DKTtjb25zdCBiPWUubGFzdEluZGV4T2YoIi4iKTtsZXQgTT1mfHwoYj4tMT9lLnN1YnN0cmluZyhiKS50b0xvd2VyQ2FzZSgpOiIiKSxMPW51bGw7TS5pbmRleE9mKCI/Iik+LTEmJihNPU0uc3BsaXQoIj8iKVswXSk7Zm9yKGNvbnN0IGNlIG9mIG9lLl9UZXh0dXJlTG9hZGVycylpZihjZS5jYW5Mb2FkKE0sXykpe0w9Y2U7YnJlYWt9cyYmcy5hZGRQZW5kaW5nRGF0YShBKSxBLnVybD1lLEEuZ2VuZXJhdGVNaXBNYXBzPSF0LEEuc2FtcGxpbmdNb2RlPXIsQS5pbnZlcnRZPWksQS5fdXNlU1JHQkJ1ZmZlcj10aGlzLl9nZXRVc2VTUkdCQnVmZmVyKCEhbSx0KSx0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwoQS5fYnVmZmVyPWwpO2xldCB3PW51bGw7biYmIXUmJih3PUEub25Mb2FkZWRPYnNlcnZhYmxlLmFkZChuKSksdXx8dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2goQSk7Y29uc3QgZGU9KGNlLHNlKT0+e3MmJnMucmVtb3ZlUGVuZGluZ0RhdGEoQSksZT09PUM/KHcmJkEub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZSh3KSxmZS5Vc2VGYWxsYmFja1RleHR1cmUmJnRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGZlLkZhbGxiYWNrVGV4dHVyZSx0LEEuaW52ZXJ0WSxzLHIsbnVsbCxhLG8saCxsLEEpLGNlPShjZXx8IlVua25vd24gZXJyb3IiKSsoZmUuVXNlRmFsbGJhY2tUZXh0dXJlPyIgLSBGYWxsYmFjayB0ZXh0dXJlIHdhcyB1c2VkIjoiIiksQS5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe21lc3NhZ2U6Y2UsZXhjZXB0aW9uOnNlfSksYSYmYShjZSxzZSkpOihPLldhcm4oYEZhaWxlZCB0byBsb2FkICR7ZX0sIGZhbGxpbmcgYmFjayB0byAke0N9YCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoQyx0LEEuaW52ZXJ0WSxzLHIsbixhLG8saCxsLEEsZCxmLF8sRSxtKSl9O2lmKEwpe2NvbnN0IGNlPXNlPT57TC5sb2FkRGF0YShzZSxBLCh0ZSxGZSx3ZSxIZSxLZSxZZSk9PntZZT9kZSgiVGV4dHVyZUxvYWRlciBmYWlsZWQgdG8gbG9hZCBkYXRhIik6byhBLE0scyx7d2lkdGg6dGUsaGVpZ2h0OkZlfSxBLmludmVydFksIXdlLEhlLCgpPT4oS2UoKSwhMSkscil9LEUpfTtsP2wgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9jZShuZXcgVWludDhBcnJheShsKSk6QXJyYXlCdWZmZXIuaXNWaWV3KGwpP2NlKGwpOmEmJmEoIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsc2U9PmNlKG5ldyBVaW50OEFycmF5KHNlKSksdm9pZCAwLHM/cy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLCEwLChzZSx0ZSk9PntkZSgiVW5hYmxlIHRvIGxvYWQgIisoc2UmJnNlLnJlc3BvbnNlVVJMLHRlKSl9KX1lbHNle2NvbnN0IGNlPXNlPT57UyYmIXRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3QmJihBLl9idWZmZXI9c2UpLG8oQSxNLHMsc2UsQS5pbnZlcnRZLHQsITEsaCxyKX07IXZ8fHk/bCYmKHR5cGVvZiBsLmRlY29kaW5nPT0ic3RyaW5nInx8bC5jbG9zZSk/Y2UobCk6b2UuX0ZpbGVUb29sc0xvYWRJbWFnZShlLGNlLGRlLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxfLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTp0eXBlb2YgbD09InN0cmluZyJ8fGwgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGwpfHxsIGluc3RhbmNlb2YgQmxvYj9vZS5fRmlsZVRvb2xzTG9hZEltYWdlKGwsY2UsZGUscz9zLm9mZmxpbmVQcm92aWRlcjpudWxsLF8sQS5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOmwmJmNlKGwpfXJldHVybiBBfWNyZWF0ZVRleHR1cmUoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCx1PW51bGwsZCxmLF8sRSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscixuLGEsdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZS5iaW5kKHRoaXMpLChtLHYsUyx5LEEsQyk9Pntjb25zdCBiPXRoaXMuX2dsLE09Uy53aWR0aD09PW0mJlMuaGVpZ2h0PT09dixMPWw/dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQobCxBLl91c2VTUkdCQnVmZmVyKTp5PT09Ii5qcGciJiYhQS5fdXNlU1JHQkJ1ZmZlcj9iLlJHQjpBLl91c2VTUkdCQnVmZmVyP2IuU1JHQjhfQUxQSEE4OmIuUkdCQTtsZXQgaz1sP3RoaXMuX2dldEludGVybmFsRm9ybWF0KGwpOnk9PT0iLmpwZyImJiFBLl91c2VTUkdCQnVmZmVyP2IuUkdCOmIuUkdCQTtpZihBLl91c2VTUkdCQnVmZmVyJiZ0aGlzLndlYkdMVmVyc2lvbj09PTEmJihrPUwpLE0pcmV0dXJuIGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxMLGssYi5VTlNJR05FRF9CWVRFLFMpLCExO2NvbnN0IHc9dGhpcy5fY2Fwcy5tYXhUZXh0dXJlU2l6ZTtpZihTLndpZHRoPnd8fFMuaGVpZ2h0Pnd8fCF0aGlzLl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZylyZXR1cm4gdGhpcy5fcHJlcGFyZVdvcmtpbmdDYW52YXMoKSwhdGhpcy5fd29ya2luZ0NhbnZhc3x8IXRoaXMuX3dvcmtpbmdDb250ZXh0fHwodGhpcy5fd29ya2luZ0NhbnZhcy53aWR0aD1tLHRoaXMuX3dvcmtpbmdDYW52YXMuaGVpZ2h0PXYsdGhpcy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKFMsMCwwLFMud2lkdGgsUy5oZWlnaHQsMCwwLG0sdiksYi50ZXhJbWFnZTJEKGIuVEVYVFVSRV8yRCwwLEwsayxiLlVOU0lHTkVEX0JZVEUsdGhpcy5fd29ya2luZ0NhbnZhcyksQS53aWR0aD1tLEEuaGVpZ2h0PXYpLCExO3tjb25zdCBkZT1uZXcgT3QodGhpcyxOZS5UZW1wKTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGIuVEVYVFVSRV8yRCxkZSwhMCksYi50ZXhJbWFnZTJEKGIuVEVYVFVSRV8yRCwwLEwsayxiLlVOU0lHTkVEX0JZVEUsUyksdGhpcy5fcmVzY2FsZVRleHR1cmUoZGUsQSxzLEwsKCk9Pnt0aGlzLl9yZWxlYXNlVGV4dHVyZShkZSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShiLlRFWFRVUkVfMkQsQSwhMCksQygpfSl9cmV0dXJuITB9LG8saCxsLHUsZCxmLEUpfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEltYWdlKGUsdCxpLHMscixuKXt0aHJvdyAkKCJGaWxlVG9vbHMiKX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt9Y3JlYXRlUmF3VGV4dHVyZShlLHQsaSxzLHIsbixhLG89bnVsbCxoPTAsbD0wLHU9ITEpe3Rocm93ICQoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3Q3ViZVRleHR1cmUoZSx0LGkscyxyLG4sYSxvPW51bGwpe3Rocm93ICQoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3VGV4dHVyZTNEKGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyAkKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd1RleHR1cmUyREFycmF5KGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyAkKCJFbmdpbmUuUmF3VGV4dHVyZSIpfV91bnBhY2tGbGlwWShlKXt0aGlzLl91bnBhY2tGbGlwWUNhY2hlZCE9PWUmJih0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGU/MTowKSx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkJiYodGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9ZSkpfV9nZXRVbnBhY2tBbGlnbmVtZW50KCl7cmV0dXJuIHRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5VTlBBQ0tfQUxJR05NRU5UKX1fZ2V0VGV4dHVyZVRhcmdldChlKXtyZXR1cm4gZS5pc0N1YmU/dGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUDplLmlzM0Q/dGhpcy5fZ2wuVEVYVFVSRV8zRDplLmlzMkRBcnJheXx8ZS5pc011bHRpdmlldz90aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZOnRoaXMuX2dsLlRFWFRVUkVfMkR9dXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHQsaT0hMSl7Y29uc3Qgcz10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpLHI9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUsdC5nZW5lcmF0ZU1pcE1hcHN8fGkpO3RoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHMsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHIubWFnLHQpLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHMsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHIubWluKSxpJiYodC5nZW5lcmF0ZU1pcE1hcHM9ITAsdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAocykpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocyxudWxsKSx0LnNhbXBsaW5nTW9kZT1lfXVwZGF0ZVRleHR1cmVEaW1lbnNpb25zKGUsdCxpLHM9MSl7fXVwZGF0ZVRleHR1cmVXcmFwcGluZ01vZGUoZSx0LGk9bnVsbCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKTt0IT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQpLGUpLGUuX2NhY2hlZFdyYXBVPXQpLGkhPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIocix0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUoaSksZSksZS5fY2FjaGVkV3JhcFY9aSksKGUuaXMyREFycmF5fHxlLmlzM0QpJiZzIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHMpLGUpLGUuX2NhY2hlZFdyYXBSPXMpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixudWxsKX1fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMscixuPTEpe2NvbnN0IGE9dC53aWR0aHx8dCxvPXQuaGVpZ2h0fHx0LGg9dC5sYXllcnN8fDA7ZS5iYXNlV2lkdGg9YSxlLmJhc2VIZWlnaHQ9byxlLndpZHRoPWEsZS5oZWlnaHQ9byxlLmlzMkRBcnJheT1oPjAsZS5kZXB0aD1oLGUuaXNSZWFkeT0hMCxlLnNhbXBsZXM9bixlLmdlbmVyYXRlTWlwTWFwcz0hMSxlLnNhbXBsaW5nTW9kZT1zPzI6MSxlLnR5cGU9MCxlLl9jb21wYXJpc29uRnVuY3Rpb249cjtjb25zdCBsPXRoaXMuX2dsLHU9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKSxkPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLnNhbXBsaW5nTW9kZSwhMSk7bC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX01BR19GSUxURVIsZC5tYWcpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NSU5fRklMVEVSLGQubWluKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfV1JBUF9TLGwuQ0xBTVBfVE9fRURHRSksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfVCxsLkNMQU1QX1RPX0VER0UpLHRoaXMud2ViR0xWZXJzaW9uPjEmJihyPT09MD8obC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5OT05FKSk6KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsciksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX0NPTVBBUkVfTU9ERSxsLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSl9X3VwbG9hZENvbXByZXNzZWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyxyLG49MCxhPTApe2NvbnN0IG89dGhpcy5fZ2w7bGV0IGg9by5URVhUVVJFXzJEO2lmKGUuaXNDdWJlJiYoaD1vLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtuKSxlLl91c2VTUkdCQnVmZmVyKXN3aXRjaCh0KXtjYXNlIDM3NDkyOmNhc2UgMzYxOTY6dGhpcy5fY2Fwcy5ldGMyP3Q9by5DT01QUkVTU0VEX1NSR0I4X0VUQzI6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM3NDk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUM6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM2NDkyOnQ9by5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ7YnJlYWs7Y2FzZSAzNzgwODp0PW8uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSO2JyZWFrO2Nhc2UgMzM3NzY6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3Nzp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDMzNzc5OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2RlZmF1bHQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVha310aGlzLl9nbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChoLGEsdCxpLHMsMCxyKX1fdXBsb2FkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpPTAscz0wLHIsbj0hMSl7Y29uc3QgYT10aGlzLl9nbCxvPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxoPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxsPXI9PT12b2lkIDA/dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZS50eXBlLGUuZm9ybWF0LGUuX3VzZVNSR0JCdWZmZXIpOnRoaXMuX2dldEludGVybmFsRm9ybWF0KHIsZS5fdXNlU1JHQkJ1ZmZlcik7dGhpcy5fdW5wYWNrRmxpcFkoZS5pbnZlcnRZKTtsZXQgdT1hLlRFWFRVUkVfMkQ7ZS5pc0N1YmUmJih1PWEuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2kpO2NvbnN0IGQ9TWF0aC5yb3VuZChNYXRoLmxvZyhlLndpZHRoKSpNYXRoLkxPRzJFKSxmPU1hdGgucm91bmQoTWF0aC5sb2coZS5oZWlnaHQpKk1hdGguTE9HMkUpLF89bj9lLndpZHRoOk1hdGgucG93KDIsTWF0aC5tYXgoZC1zLDApKSxFPW4/ZS5oZWlnaHQ6TWF0aC5wb3coMixNYXRoLm1heChmLXMsMCkpO2EudGV4SW1hZ2UyRCh1LHMsbCxfLEUsMCxoLG8sdCl9dXBkYXRlVGV4dHVyZURhdGEoZSx0LGkscyxyLG4sYT0wLG89MCxoPSExKXtjb25zdCBsPXRoaXMuX2dsLHU9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlLnR5cGUpLGQ9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoZS5mb3JtYXQpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IGY9bC5URVhUVVJFXzJELF89bC5URVhUVVJFXzJEO2UuaXNDdWJlJiYoXz1sLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCthLGY9bC5URVhUVVJFX0NVQkVfTUFQKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYsZSwhMCksbC50ZXhTdWJJbWFnZTJEKF8sbyxpLHMscixuLGQsdSx0KSxoJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChfKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYsbnVsbCl9X3VwbG9hZEFycmF5QnVmZmVyVmlld1RvVGV4dHVyZShlLHQsaT0wLHM9MCl7Y29uc3Qgcj10aGlzLl9nbCxuPWUuaXNDdWJlP3IuVEVYVFVSRV9DVUJFX01BUDpyLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLGUsITApLHRoaXMuX3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaSxzKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4sbnVsbCwhMCl9X3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSx0LGkscyxyKXtjb25zdCBuPXRoaXMuX2dsO2lmKCFuKXJldHVybjtjb25zdCBhPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhyLCFpKTtuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLGEubWFnKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLGEubWluKSwhaSYmIXMmJm4uZ2VuZXJhdGVNaXBtYXAobi5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV8yRCxudWxsKSx0JiZ0LnJlbW92ZVBlbmRpbmdEYXRhKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpfV9wcmVwYXJlV2ViR0xUZXh0dXJlKGUsdCxpLHMscixuLGEsbyxoPTMpe2NvbnN0IGw9dGhpcy5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemUsdT1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP29lLkdldEV4cG9uZW50T2ZUd28ocy53aWR0aCxsKTpzLndpZHRoKSxkPU1hdGgubWluKGwsdGhpcy5uZWVkUE9UVGV4dHVyZXM/b2UuR2V0RXhwb25lbnRPZlR3byhzLmhlaWdodCxsKTpzLmhlaWdodCksZj10aGlzLl9nbDtpZihmKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXtpJiZpLnJlbW92ZVBlbmRpbmdEYXRhKGUpO3JldHVybn10aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShyPT09dm9pZCAwPyEwOiEhciksZS5iYXNlV2lkdGg9cy53aWR0aCxlLmJhc2VIZWlnaHQ9cy5oZWlnaHQsZS53aWR0aD11LGUuaGVpZ2h0PWQsZS5pc1JlYWR5PSEwLCFvKHUsZCxzLHQsZSwoKT0+e3RoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSxpLG4sYSxoKX0pJiZ0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsaSxuLGEsaCl9fV9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhlLHQsaSxzLHI9MSl7Y29uc3Qgbj10aGlzLl9nbDtpZihlJiZ0KXJldHVybiB0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsbi5ERVBUSF9TVEVOQ0lMLG4uREVQVEgyNF9TVEVOQ0lMOCxuLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCk7aWYodCl7bGV0IGE9bi5ERVBUSF9DT01QT05FTlQxNjtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjEmJihhPW4uREVQVEhfQ09NUE9ORU5UMzJGKSx0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsYSxhLG4uREVQVEhfQVRUQUNITUVOVCl9cmV0dXJuIGU/dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLG4uU1RFTkNJTF9JTkRFWDgsbi5TVEVOQ0lMX0lOREVYOCxuLlNURU5DSUxfQVRUQUNITUVOVCk6bnVsbH1fY3JlYXRlUmVuZGVyQnVmZmVyKGUsdCxpLHMscixuLGE9ITApe2NvbnN0IGg9dGhpcy5fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuX3VwZGF0ZVJlbmRlckJ1ZmZlcihoLGUsdCxpLHMscixuLGEpfV91cGRhdGVSZW5kZXJCdWZmZXIoZSx0LGkscyxyLG4sYSxvPSEwKXtjb25zdCBoPXRoaXMuX2dsO3JldHVybiBoLmJpbmRSZW5kZXJidWZmZXIoaC5SRU5ERVJCVUZGRVIsZSkscz4xJiZoLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT9oLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShoLlJFTkRFUkJVRkZFUixzLG4sdCxpKTpoLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoaC5SRU5ERVJCVUZGRVIscix0LGkpLGguZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaC5GUkFNRUJVRkZFUixhLGguUkVOREVSQlVGRkVSLGUpLG8mJmguYmluZFJlbmRlcmJ1ZmZlcihoLlJFTkRFUkJVRkZFUixudWxsKSxlfV9yZWxlYXNlVGV4dHVyZShlKXt2YXIgdDt0aGlzLl9kZWxldGVUZXh0dXJlKCh0PWUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnVuZGVybHlpbmdSZXNvdXJjZSksdGhpcy51bmJpbmRBbGxUZXh0dXJlcygpO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc3BsaWNlKGksMSksZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTWlkJiZlLl9sb2RUZXh0dXJlTWlkLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTG93JiZlLl9sb2RUZXh0dXJlTG93LmRpc3Bvc2UoKSxlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtjb25zdCB0PXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5pbmRleE9mKGUpO3QhPT0tMSYmdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNwbGljZSh0LDEpfV9kZWxldGVUZXh0dXJlKGUpe2UmJnRoaXMuX2dsLmRlbGV0ZVRleHR1cmUoZSl9X3NldFByb2dyYW0oZSl7dGhpcy5fY3VycmVudFByb2dyYW0hPT1lJiYodGhpcy5fZ2wudXNlUHJvZ3JhbShlKSx0aGlzLl9jdXJyZW50UHJvZ3JhbT1lKX1iaW5kU2FtcGxlcnMoZSl7Y29uc3QgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX3NldFByb2dyYW0odC5wcm9ncmFtKTtjb25zdCBpPWUuZ2V0U2FtcGxlcnMoKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lLmdldFVuaWZvcm0oaVtzXSk7ciYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbc109cil9dGhpcy5fY3VycmVudEVmZmVjdD1udWxsfV9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCl7dGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsIT09dGhpcy5fYWN0aXZlQ2hhbm5lbCYmKHRoaXMuX2dsLmFjdGl2ZVRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRTArdGhpcy5fYWN0aXZlQ2hhbm5lbCksdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPXRoaXMuX2FjdGl2ZUNoYW5uZWwpfV9iaW5kVGV4dHVyZURpcmVjdGx5KGUsdCxpPSExLHM9ITEpe3ZhciByLG47bGV0IGE9ITE7Y29uc3Qgbz10JiZ0Ll9hc3NvY2lhdGVkQ2hhbm5lbD4tMTtpZihpJiZvJiYodGhpcy5fYWN0aXZlQ2hhbm5lbD10Ll9hc3NvY2lhdGVkQ2hhbm5lbCksdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW3RoaXMuX2FjdGl2ZUNoYW5uZWxdIT09dHx8cyl7aWYodGhpcy5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpLHQmJnQuaXNNdWx0aXZpZXcpdGhyb3cgY29uc29sZS5lcnJvcihlLHQpLCJfYmluZFRleHR1cmVEaXJlY3RseSBjYWxsZWQgd2l0aCBhIG11bHRpdmlldyB0ZXh0dXJlISI7dGhpcy5fZ2wuYmluZFRleHR1cmUoZSwobj0ocj10PT1udWxsP3ZvaWQgMDp0Ll9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci51bmRlcmx5aW5nUmVzb3VyY2UpIT09bnVsbCYmbiE9PXZvaWQgMD9uOm51bGwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXT10LHQmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1lbHNlIGkmJihhPSEwLHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSk7cmV0dXJuIG8mJiFpJiZ0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwodC5fYXNzb2NpYXRlZENoYW5uZWwsdGhpcy5fYWN0aXZlQ2hhbm5lbCksYX1fYmluZFRleHR1cmUoZSx0LGkpe2lmKGU9PT12b2lkIDApcmV0dXJuO3QmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD1lKSx0aGlzLl9hY3RpdmVDaGFubmVsPWU7Y29uc3Qgcz10P3RoaXMuX2dldFRleHR1cmVUYXJnZXQodCk6dGhpcy5fZ2wuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsdCl9dW5iaW5kQWxsVGV4dHVyZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzO2UrKyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzNELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSl9c2V0VGV4dHVyZShlLHQsaSxzKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksdGhpcy5fc2V0VGV4dHVyZShlLGkpKX1fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKGUsdCl7Y29uc3QgaT10aGlzLl9ib3VuZFVuaWZvcm1zW2VdOyFpfHxpLl9jdXJyZW50U3RhdGU9PT10fHwodGhpcy5fZ2wudW5pZm9ybTFpKGksdCksaS5fY3VycmVudFN0YXRlPXQpfV9nZXRUZXh0dXJlV3JhcE1vZGUoZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuUkVQRUFUO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLk1JUlJPUkVEX1JFUEVBVH1yZXR1cm4gdGhpcy5fZ2wuUkVQRUFUfV9zZXRUZXh0dXJlKGUsdCxpPSExLHM9ITEscj0iIil7aWYoIXQpcmV0dXJuIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXSE9bnVsbCYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKSksITE7aWYodC52aWRlbyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdC51cGRhdGUoKTtlbHNlIGlmKHQuZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiB0LmRlbGF5TG9hZCgpLCExO2xldCBuO3M/bj10LmRlcHRoU3RlbmNpbFRleHR1cmU6dC5pc1JlYWR5KCk/bj10LmdldEludGVybmFsVGV4dHVyZSgpOnQuaXNDdWJlP249dGhpcy5lbXB0eUN1YmVUZXh0dXJlOnQuaXMzRD9uPXRoaXMuZW1wdHlUZXh0dXJlM0Q6dC5pczJEQXJyYXk/bj10aGlzLmVtcHR5VGV4dHVyZTJEQXJyYXk6bj10aGlzLmVtcHR5VGV4dHVyZSwhaSYmbiYmKG4uX2Fzc29jaWF0ZWRDaGFubmVsPWUpO2xldCBhPSEwO3RoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT09PW4mJihpfHx0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwobi5fYXNzb2NpYXRlZENoYW5uZWwsZSksYT0hMSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IG89dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChuKTtpZihhJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG8sbixpKSxuJiYhbi5pc011bHRpdmlldyl7aWYobi5pc0N1YmUmJm4uX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXQuY29vcmRpbmF0ZXNNb2RlKXtuLl9jYWNoZWRDb29yZGluYXRlc01vZGU9dC5jb29yZGluYXRlc01vZGU7Y29uc3QgaD10LmNvb3JkaW5hdGVzTW9kZSE9PTMmJnQuY29vcmRpbmF0ZXNNb2RlIT09NT8xOjA7dC53cmFwVT1oLHQud3JhcFY9aH1uLl9jYWNoZWRXcmFwVSE9PXQud3JhcFUmJihuLl9jYWNoZWRXcmFwVT10LndyYXBVLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFUpLG4pKSxuLl9jYWNoZWRXcmFwViE9PXQud3JhcFYmJihuLl9jYWNoZWRXcmFwVj10LndyYXBWLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFYpLG4pKSxuLmlzM0QmJm4uX2NhY2hlZFdyYXBSIT09dC53cmFwUiYmKG4uX2NhY2hlZFdyYXBSPXQud3JhcFIsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobyx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUix0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwUiksbikpLHRoaXMuX3NldEFuaXNvdHJvcGljTGV2ZWwobyxuLHQuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCl9cmV0dXJuITB9c2V0VGV4dHVyZUFycmF5KGUsdCxpLHMpe2lmKCEoZT09PXZvaWQgMHx8IXQpKXsoIXRoaXMuX3RleHR1cmVVbml0c3x8dGhpcy5fdGV4dHVyZVVuaXRzLmxlbmd0aCE9PWkubGVuZ3RoKSYmKHRoaXMuX3RleHR1cmVVbml0cz1uZXcgSW50MzJBcnJheShpLmxlbmd0aCkpO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKXtjb25zdCBuPWlbcl0uZ2V0SW50ZXJuYWxUZXh0dXJlKCk7bj8odGhpcy5fdGV4dHVyZVVuaXRzW3JdPWUrcixuLl9hc3NvY2lhdGVkQ2hhbm5lbD1lK3IpOnRoaXMuX3RleHR1cmVVbml0c1tyXT0tMX10aGlzLl9nbC51bmlmb3JtMWl2KHQsdGhpcy5fdGV4dHVyZVVuaXRzKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKyl0aGlzLl9zZXRUZXh0dXJlKHRoaXMuX3RleHR1cmVVbml0c1tyXSxpW3JdLCEwKX19X3NldEFuaXNvdHJvcGljTGV2ZWwoZSx0LGkpe2NvbnN0IHM9dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb247dC5zYW1wbGluZ01vZGUhPT0xMSYmdC5zYW1wbGluZ01vZGUhPT0zJiZ0LnNhbXBsaW5nTW9kZSE9PTImJihpPTEpLHMmJnQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwhPT1pJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUscy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihpLHRoaXMuX2NhcHMubWF4QW5pc290cm9weSksdCksdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1pKX1fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUsdCxpLHMpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxzLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJmKGUsdCxpKX1fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoZSx0LGkscyl7cyYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShlLHMsITAsITApLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkoZSx0LGkpfXVuYmluZEFsbEF0dHJpYnV0ZXMoKXtpZih0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXMpe3RoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMTtmb3IobGV0IGU9MDtlPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztlKyspdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKTtyZXR1cm59Zm9yKGxldCBlPTAsdD10aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkLmxlbmd0aDtlPHQ7ZSsrKWU+PXRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlic3x8IXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV18fHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl9cmVsZWFzZUVmZmVjdHMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe2NvbnN0IHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX10aGlzLl9jb21waWxlZEVmZmVjdHM9e319ZGlzcG9zZSgpe3ZhciBlO3RoaXMuc3RvcFJlbmRlckxvb3AoKSx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlJiZ0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW1wdHlUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlUZXh0dXJlKSx0aGlzLl9lbXB0eVRleHR1cmU9bnVsbCksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmU9bnVsbCksdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciYmdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciksdGhpcy5yZWxlYXNlRWZmZWN0cygpLChlPXRoaXMucmVsZWFzZUNvbXB1dGVFZmZlY3RzKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LGplKCkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKSksdGhpcy5fd29ya2luZ0NhbnZhcz1udWxsLHRoaXMuX3dvcmtpbmdDb250ZXh0PW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzLmxlbmd0aD0wLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1udWxsLHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj1udWxsLFBlLlJlc2V0Q2FjaGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVSZXF1ZXN0cyl0LmFib3J0KCk7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKX1hdHRhY2hDb250ZXh0TG9zdEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGUsITEpfWF0dGFjaENvbnRleHRSZXN0b3JlZEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixlLCExKX1nZXRFcnJvcigpe3JldHVybiB0aGlzLl9nbC5nZXRFcnJvcigpfV9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMSl9X2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMil9X2NhblJlbmRlclRvRnJhbWVidWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbDtmb3IoO3QuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtsZXQgaT0hMDtjb25zdCBzPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHMpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlKSwxLDEsMCx0LlJHQkEsdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKSxudWxsKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpO2NvbnN0IHI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsciksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELHMsMCk7Y29uc3Qgbj10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUik7aWYoaT1pJiZuPT09dC5GUkFNRUJVRkZFUl9DT01QTEVURSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IsaSYmKHQuY2xlYXIodC5DT0xPUl9CVUZGRVJfQklUKSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IpLGkpe3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7Y29uc3QgYT10LlJHQkEsbz10LlVOU0lHTkVEX0JZVEUsaD1uZXcgVWludDhBcnJheSg0KTt0LnJlYWRQaXhlbHMoMCwwLDEsMSxhLG8saCksaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SfWZvcih0LmRlbGV0ZVRleHR1cmUocyksdC5kZWxldGVGcmFtZWJ1ZmZlcihyKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpOyFpJiZ0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7cmV0dXJuIGl9X2dldFdlYkdMVGV4dHVyZVR5cGUoZSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUztjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNX1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1zd2l0Y2goZSl7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5CWVRFO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlNIT1JUO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQ7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5JTlQ7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlQ7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVQ7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWfXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfV9nZXRJbnRlcm5hbEZvcm1hdChlLHQ9ITEpe2xldCBpPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDppPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTppPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6aT10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2Omk9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzppPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDppPXQ/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0I7YnJlYWs7Y2FzZSA1Omk9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTticmVha31pZih0aGlzLl93ZWJHTFZlcnNpb24+MSlzd2l0Y2goZSl7Y2FzZSA4Omk9dGhpcy5fZ2wuUkVEX0lOVEVHRVI7YnJlYWs7Y2FzZSA5Omk9dGhpcy5fZ2wuUkdfSU5URUdFUjticmVhaztjYXNlIDEwOmk9dGhpcy5fZ2wuUkdCX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMTppPXRoaXMuX2dsLlJHQkFfSU5URUdFUjticmVha31yZXR1cm4gaX1fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZSx0LGk9ITEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe2lmKHQhPT12b2lkIDApc3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7Y2FzZSA0OnJldHVybiBpP3RoaXMuX2dsLlNSR0I6dGhpcy5fZ2wuUkdCfXJldHVybiB0aGlzLl9nbC5SR0JBfXN3aXRjaChlKXtjYXNlIDM6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjhfU05PUk07Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzhfU05PUk07Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0I4X1NOT1JNO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOEk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQThfU05PUk19Y2FzZSAwOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4O2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4O2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbC5TUkdCODp0aGlzLl9nbC5SR0I4O2Nhc2UgNTpyZXR1cm4gaT90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTg7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SOFVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOFVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkE4VUk7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBOH1jYXNlIDQ6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkl9Y2FzZSA1OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUl9Y2FzZSA2OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMySTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJJfWNhc2UgNzpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJfWNhc2UgMTpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMzJGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkczMkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IzMkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkZ9Y2FzZSAyOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIxNkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzE2RjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjE2RjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2Rn1jYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I1NjU7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuUjExRl9HMTFGX0IxMEY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOV9FNTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlJHQkE0O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkdCNV9BMTtjYXNlIDExOnN3aXRjaCh0KXtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJ9fXJldHVybiBpP3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBOH1fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGUpe3JldHVybiBlPT09MT90aGlzLl9nbC5SR0JBMzJGOmU9PT0yP3RoaXMuX2dsLlJHQkExNkY6dGhpcy5fZ2wuUkdCQTh9X2xvYWRGaWxlKGUsdCxpLHMscixuKXtjb25zdCBhPW9lLl9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2goYSksYS5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQobz0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKG8pLDEpfSksYX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyAkKCJGaWxlVG9vbHMiKX1yZWFkUGl4ZWxzKGUsdCxpLHMscj0hMCxuPSEwKXtjb25zdCBhPXI/NDozLG89cj90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixoPW5ldyBVaW50OEFycmF5KHMqaSphKTtyZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQsaSxzLG8sdGhpcy5fZ2wuVU5TSUdORURfQllURSxoKSxQcm9taXNlLnJlc29sdmUoaCl9c3RhdGljIGdldCBJc1N1cHBvcnRlZEFzeW5jKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfXN0YXRpYyBpc1N1cHBvcnRlZCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiKXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKTt0aGlzLl9Jc1N1cHBvcnRlZD10IT1udWxsJiYhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9Y2F0Y2h7dGhpcy5fSXNTdXBwb3J0ZWQ9ITF9cmV0dXJuIHRoaXMuX0lzU3VwcG9ydGVkfXN0YXRpYyBnZXQgSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9PT1udWxsKXRyeXtjb25zdCBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fXN0YXRpYyBDZWlsaW5nUE9UKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX1zdGF0aWMgRmxvb3JQT1QoZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX1zdGF0aWMgTmVhcmVzdFBPVChlKXtjb25zdCB0PW9lLkNlaWxpbmdQT1QoZSksaT1vZS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtaT9pOnR9c3RhdGljIEdldEV4cG9uZW50T2ZUd28oZSx0LGk9Mil7bGV0IHM7c3dpdGNoKGkpe2Nhc2UgMTpzPW9lLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpzPW9lLk5lYXJlc3RQT1QoZSk7YnJlYWs7Y2FzZSAzOmRlZmF1bHQ6cz1vZS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihzLHQpfXN0YXRpYyBRdWV1ZU5ld0ZyYW1lKGUsdCl7aWYoamUoKSl7Y29uc3R7cmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZTppLHJlcXVlc3RBbmltYXRpb25GcmFtZTpzfT10fHx3aW5kb3c7aWYodHlwZW9mIGk9PSJmdW5jdGlvbiIpcmV0dXJuIGkoZSk7aWYodHlwZW9mIHM9PSJmdW5jdGlvbiIpcmV0dXJuIHMoZSl9ZWxzZSBpZih0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPT0iZnVuY3Rpb24iKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJuIHNldFRpbWVvdXQoZSwxNil9Z2V0SG9zdERvY3VtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6Q2koKT9kb2N1bWVudDpudWxsfX1vZS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLG9lLl9UZXh0dXJlTG9hZGVycz1bXSxvZS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLG9lLl9Jc1N1cHBvcnRlZD1udWxsLG9lLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PW51bGw7Y2xhc3MgZG57Y29uc3RydWN0b3IoZT0zMCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyBmbihlKX1zYW1wbGVGcmFtZShlPWFpLk5vdyl7aWYodGhpcy5fZW5hYmxlZCl7aWYodGhpcy5fbGFzdEZyYW1lVGltZU1zIT1udWxsKXtjb25zdCB0PWUtdGhpcy5fbGFzdEZyYW1lVGltZU1zO3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYWRkKHQpfXRoaXMuX2xhc3RGcmFtZVRpbWVNcz1lfX1nZXQgYXZlcmFnZUZyYW1lVGltZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9Z2V0IGF2ZXJhZ2VGcmFtZVRpbWVWYXJpYW5jZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnZhcmlhbmNlfWdldCBpbnN0YW50YW5lb3VzRnJhbWVUaW1lKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKX1nZXQgYXZlcmFnZUZQUygpe3JldHVybiAxZTMvdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfWdldCBpbnN0YW50YW5lb3VzRlBTKCl7Y29uc3QgZT10aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCk7cmV0dXJuIGU9PT0wPzA6MWUzL2V9Z2V0IGlzU2F0dXJhdGVkKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaXNTYXR1cmF0ZWQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1yZXNldCgpe3RoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUucmVzZXQoKX19Y2xhc3MgZm57Y29uc3RydWN0b3IoZSl7dGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSksdGhpcy5yZXNldCgpfWFkZChlKXtsZXQgdDtpZih0aGlzLmlzU2F0dXJhdGVkKCkpe2NvbnN0IGk9dGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdO3Q9aS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlLT10Lyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9tMi09dCooaS10aGlzLmF2ZXJhZ2UpfWVsc2UgdGhpcy5fc2FtcGxlQ291bnQrKzt0PWUtdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZSs9dC90aGlzLl9zYW1wbGVDb3VudCx0aGlzLl9tMis9dCooZS10aGlzLmF2ZXJhZ2UpLHRoaXMudmFyaWFuY2U9dGhpcy5fbTIvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXT1lLHRoaXMuX3BvcysrLHRoaXMuX3BvcyU9dGhpcy5fc2FtcGxlcy5sZW5ndGh9aGlzdG9yeShlKXtpZihlPj10aGlzLl9zYW1wbGVDb3VudHx8ZT49dGhpcy5fc2FtcGxlcy5sZW5ndGgpcmV0dXJuIDA7Y29uc3QgdD10aGlzLl93cmFwUG9zaXRpb24odGhpcy5fcG9zLTEpO3JldHVybiB0aGlzLl9zYW1wbGVzW3RoaXMuX3dyYXBQb3NpdGlvbih0LWUpXX1pc1NhdHVyYXRlZCgpe3JldHVybiB0aGlzLl9zYW1wbGVDb3VudD49dGhpcy5fc2FtcGxlcy5sZW5ndGh9cmVzZXQoKXt0aGlzLmF2ZXJhZ2U9MCx0aGlzLnZhcmlhbmNlPTAsdGhpcy5fc2FtcGxlQ291bnQ9MCx0aGlzLl9wb3M9MCx0aGlzLl9tMj0wfV93cmFwUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9zYW1wbGVzLmxlbmd0aDtyZXR1cm4oZSV0K3QpJXR9fWNsYXNzIFJ0e2NvbnN0cnVjdG9yKCl7dGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT0wLHRoaXMuX21pbj0wLHRoaXMuX21heD0wLHRoaXMuX2F2ZXJhZ2U9MCx0aGlzLl9sYXN0U2VjQXZlcmFnZT0wLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl90b3RhbFZhbHVlQ291bnQ9MCx0aGlzLl90b3RhbEFjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1RpbWU9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wfWdldCBtaW4oKXtyZXR1cm4gdGhpcy5fbWlufWdldCBtYXgoKXtyZXR1cm4gdGhpcy5fbWF4fWdldCBhdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2V9Z2V0IGxhc3RTZWNBdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2xhc3RTZWNBdmVyYWdlfWdldCBjdXJyZW50KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9Z2V0IHRvdGFsKCl7cmV0dXJuIHRoaXMuX3RvdGFsQWNjdW11bGF0ZWR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX3RvdGFsVmFsdWVDb3VudH1mZXRjaE5ld0ZyYW1lKCl7dGhpcy5fdG90YWxWYWx1ZUNvdW50KyssdGhpcy5fY3VycmVudD0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50Kyt9YWRkQ291bnQoZSx0KXtSdC5FbmFibGVkJiYodGhpcy5fY3VycmVudCs9ZSx0JiZ0aGlzLl9mZXRjaFJlc3VsdCgpKX1iZWdpbk1vbml0b3JpbmcoKXtSdC5FbmFibGVkJiYodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1haS5Ob3cpfWVuZE1vbml0b3JpbmcoZT0hMCl7aWYoIVJ0LkVuYWJsZWQpcmV0dXJuO2UmJnRoaXMuZmV0Y2hOZXdGcmFtZSgpO2NvbnN0IHQ9YWkuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9X2ZldGNoUmVzdWx0KCl7dGhpcy5fdG90YWxBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbWluPU1hdGgubWluKHRoaXMuX21pbix0aGlzLl9jdXJyZW50KSx0aGlzLl9tYXg9TWF0aC5tYXgodGhpcy5fbWF4LHRoaXMuX2N1cnJlbnQpLHRoaXMuX2F2ZXJhZ2U9dGhpcy5fdG90YWxBY2N1bXVsYXRlZC90aGlzLl90b3RhbFZhbHVlQ291bnQ7Y29uc3QgZT1haS5Ob3c7ZS10aGlzLl9sYXN0U2VjVGltZT4xZTMmJih0aGlzLl9sYXN0U2VjQXZlcmFnZT10aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQvdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQsdGhpcy5fbGFzdFNlY1RpbWU9ZSx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wKX19UnQuRW5hYmxlZD0hMCxvZS5wcm90b3R5cGUuc2V0QWxwaGFDb25zdGFudHM9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kQ29uc3RhbnRzKGMsZSx0LGkpfSxvZS5wcm90b3R5cGUuc2V0QWxwaGFNb2RlPWZ1bmN0aW9uKGMsZT0hMSl7aWYodGhpcy5fYWxwaGFNb2RlIT09Yyl7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITE7YnJlYWs7Y2FzZSA3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA4OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkRTVF9DT0xPUix0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDk6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkNPTlNUQU5UX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5DT05TVEFOVF9BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEwOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkRTVF9BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5aRVJPKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FX01JTlVTX0RTVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTc6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWt9ZXx8KHRoaXMuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWM9PT0wKSx0aGlzLl9hbHBoYU1vZGU9Y319LG9lLnByb3RvdHlwZS5nZXRBbHBoYU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfSxvZS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbihjKXtpZih0aGlzLl9hbHBoYUVxdWF0aW9uIT09Yyl7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc0LDMyNzc0KTticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OCwzMjc3OCk7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzksMzI3NzkpO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc2LDMyNzc2KTticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NSk7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzQpO2JyZWFrfXRoaXMuX2FscGhhRXF1YXRpb249Y319LG9lLnByb3RvdHlwZS5nZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhRXF1YXRpb259O2Z1bmN0aW9uIF9uKGMsZSx0PSExLGkpe3N3aXRjaChjKXtjYXNlIDM6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQ4QXJyYXkoZSk6bmV3IEludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDhBcnJheShpKSkscn1jYXNlIDA6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDhBcnJheShpKSkscn1jYXNlIDQ6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQxNkFycmF5KGUpOm5ldyBJbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MTZBcnJheShpKSkscn1jYXNlIDU6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQxNkFycmF5KGUpOm5ldyBVaW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQxNkFycmF5KGkpKSxyfWNhc2UgNjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDMyQXJyYXkoZSk6bmV3IEludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQzMkFycmF5KGkpKSxyfWNhc2UgNzpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MzJBcnJheShlKTpuZXcgVWludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MzJBcnJheShpKSkscn1jYXNlIDE6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBGbG9hdDMyQXJyYXkoZSk6bmV3IEZsb2F0MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gaSYmci5zZXQobmV3IEZsb2F0MzJBcnJheShpKSkscn19Y29uc3Qgcz1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnMuc2V0KG5ldyBVaW50OEFycmF5KGkpKSxzfW9lLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHNTeW5jPWZ1bmN0aW9uKGMsZSx0LGk9LTEscz0wLHI9bnVsbCxuPSEwLGE9ITEsbz0wLGg9MCl7dmFyIGwsdTtjb25zdCBkPXRoaXMuX2dsO2lmKCFkKXRocm93IG5ldyBFcnJvcigiRW5naW5lIGRvZXMgbm90IGhhdmUgZ2wgcmVuZGVyaW5nIGNvbnRleHQuIik7aWYoIXRoaXMuX2R1bW15RnJhbWVidWZmZXIpe2NvbnN0IF89ZC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFfKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkdW1teSBmcmFtZWJ1ZmZlciIpO3RoaXMuX2R1bW15RnJhbWVidWZmZXI9X31kLmJpbmRGcmFtZWJ1ZmZlcihkLkZSQU1FQlVGRkVSLHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLGk+LTE/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRChkLkZSQU1FQlVGRkVSLGQuQ09MT1JfQVRUQUNITUVOVDAsZC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSwobD1jLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2Uscyk6ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRChkLkZSQU1FQlVGRkVSLGQuQ09MT1JfQVRUQUNITUVOVDAsZC5URVhUVVJFXzJELCh1PWMuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxzKTtsZXQgZj1jLnR5cGUhPT12b2lkIDA/dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShjLnR5cGUpOmQuVU5TSUdORURfQllURTtpZihhKXJ8fChyPV9uKGMudHlwZSw0KmUqdCkpO2Vsc2Ugc3dpdGNoKGYpe2Nhc2UgZC5VTlNJR05FRF9CWVRFOnJ8fChyPW5ldyBVaW50OEFycmF5KDQqZSp0KSksZj1kLlVOU0lHTkVEX0JZVEU7YnJlYWs7ZGVmYXVsdDpyfHwocj1uZXcgRmxvYXQzMkFycmF5KDQqZSp0KSksZj1kLkZMT0FUO2JyZWFrfXJldHVybiBuJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSxkLnJlYWRQaXhlbHMobyxoLGUsdCxkLlJHQkEsZixyKSxkLmJpbmRGcmFtZWJ1ZmZlcihkLkZSQU1FQlVGRkVSLHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcikscn0sb2UucHJvdG90eXBlLl9yZWFkVGV4dHVyZVBpeGVscz1mdW5jdGlvbihjLGUsdCxpPS0xLHM9MCxyPW51bGwsbj0hMCxhPSExLG89MCxoPTApe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKGMsZSx0LGkscyxyLG4sYSxvLGgpKX0sb2UucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcj1mdW5jdGlvbihjLGUsdD0wKXt0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJdPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIoYyk7bGV0IGk7Yy5pczMyQml0cz9pPWUgaW5zdGFuY2VvZiBVaW50MzJBcnJheT9lOm5ldyBVaW50MzJBcnJheShlKTppPWUgaW5zdGFuY2VvZiBVaW50MTZBcnJheT9lOm5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpfSxvZS5wcm90b3R5cGUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcj1mdW5jdGlvbihjLGUsdCxpKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihjKSx0PT09dm9pZCAwJiYodD0wKTtjb25zdCBzPWUuYnl0ZUxlbmd0aHx8ZS5sZW5ndGg7aT09PXZvaWQgMHx8aT49cyYmdD09PTA/ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdCxlKTplIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtpKSk6KGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lPW5ldyBVaW50OEFycmF5KGUsdCxpKTplPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCt0LGkpLHRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsZSkpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpfTtjbGFzcyBJIGV4dGVuZHMgb2V7Y29uc3RydWN0b3IoZSx0LGkscz0hMSl7aWYoc3VwZXIoZSx0LGkscyksdGhpcy5lbmFibGVPZmZsaW5lU3VwcG9ydD0hMSx0aGlzLmRpc2FibGVNYW5pZmVzdENoZWNrPSExLHRoaXMuZGlzYWJsZUNvbnRleHRNZW51PSEwLHRoaXMuc2NlbmVzPW5ldyBBcnJheSx0aGlzLl92aXJ0dWFsU2NlbmVzPW5ldyBBcnJheSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSx0aGlzLmlzUG9pbnRlckxvY2s9ITEsdGhpcy5vblJlc2l6ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNGb2N1c09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZT1uZXcgRix0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPW51bGwsdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEsdGhpcy5fbG9ja3N0ZXBNYXhTdGVwcz00LHRoaXMuX3RpbWVTdGVwPTEvNjAsdGhpcy5fZnBzPTYwLHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuX2RyYXdDYWxscz1uZXcgUnQsdGhpcy5jYW52YXNUYWJJbmRleD0xLHRoaXMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZD0hMSx0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3I9bmV3IGRuLHRoaXMuX2NvbXBhdGliaWxpdHlNb2RlPSEwLHRoaXMuY3VycmVudFJlbmRlclBhc3NJZD0wLHRoaXMuX3JlbmRlclBhc3NOYW1lcz1bIm1haW4iXSxJLkluc3RhbmNlcy5wdXNoKHRoaXMpLCEhZSl7aWYodGhpcy5fZmVhdHVyZXMuc3VwcG9ydFJlbmRlclBhc3Nlcz0hMCxpPXRoaXMuX2NyZWF0aW9uT3B0aW9ucyxlLmdldENvbnRleHQpe2NvbnN0IHI9ZTt0aGlzLl9zaGFyZWRJbml0KHIsISFpLmRvTm90SGFuZGxlVG91Y2hBY3Rpb24saS5hdWRpb0VuZ2luZSksQ2koKSYmKHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZT0oKT0+e3RoaXMuaXNGdWxsc2NyZWVuPSEhZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQsdGhpcy5pc0Z1bGxzY3JlZW4mJnRoaXMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkJiZyJiZJLl9SZXF1ZXN0UG9pbnRlcmxvY2socil9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSx0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlPSgpPT57dGhpcy5pc1BvaW50ZXJMb2NrPWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudD09PXJ9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksIUkuYXVkaW9FbmdpbmUmJmkuYXVkaW9FbmdpbmUmJkkuQXVkaW9FbmdpbmVGYWN0b3J5JiYoSS5hdWRpb0VuZ2luZT1JLkF1ZGlvRW5naW5lRmFjdG9yeSh0aGlzLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuZ2V0QXVkaW9Db250ZXh0KCksdGhpcy5nZXRBdWRpb0Rlc3RpbmF0aW9uKCkpKSksdGhpcy5fY29ubmVjdFZSRXZlbnRzKCksdGhpcy5lbmFibGVPZmZsaW5lU3VwcG9ydD1JLk9mZmxpbmVQcm92aWRlckZhY3RvcnkhPT12b2lkIDAsdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSEhaS5kZXRlcm1pbmlzdGljTG9ja3N0ZXAsdGhpcy5fbG9ja3N0ZXBNYXhTdGVwcz1pLmxvY2tzdGVwTWF4U3RlcHN8fDAsdGhpcy5fdGltZVN0ZXA9aS50aW1lU3RlcHx8MS82MH10aGlzLl9wcmVwYXJlVlJDb21wb25lbnQoKSxpLmF1dG9FbmFibGVXZWJWUiYmdGhpcy5pbml0V2ViVlIoKX19c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuIG9lLk5wbVBhY2thZ2V9c3RhdGljIGdldCBWZXJzaW9uKCl7cmV0dXJuIG9lLlZlcnNpb259c3RhdGljIGdldCBJbnN0YW5jZXMoKXtyZXR1cm4gZmUuSW5zdGFuY2VzfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRFbmdpbmUoKXtyZXR1cm4gZmUuTGFzdENyZWF0ZWRFbmdpbmV9c3RhdGljIGdldCBMYXN0Q3JlYXRlZFNjZW5lKCl7cmV0dXJuIGZlLkxhc3RDcmVhdGVkU2NlbmV9X2NyZWF0ZUltYWdlQml0bWFwRnJvbVNvdXJjZShlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e2NvbnN0IG49bmV3IEltYWdlO24ub25sb2FkPSgpPT57bi5kZWNvZGUoKS50aGVuKCgpPT57dGhpcy5jcmVhdGVJbWFnZUJpdG1hcChuLHQpLnRoZW4oYT0+e3MoYSl9KX0pfSxuLm9uZXJyb3I9KCk9PntyKGBFcnJvciBsb2FkaW5nIGltYWdlICR7bi5zcmN9YCl9LG4uc3JjPWV9KX1jcmVhdGVJbWFnZUJpdG1hcChlLHQpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChlLHQpfXJlc2l6ZUltYWdlQml0bWFwKGUsdCxpKXtjb25zdCByPXRoaXMuY3JlYXRlQ2FudmFzKHQsaSkuZ2V0Q29udGV4dCgiMmQiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgMmQgY29udGV4dCBmb3IgcmVzaXplSW1hZ2VCaXRtYXAiKTtyZXR1cm4gci5kcmF3SW1hZ2UoZSwwLDApLHIuZ2V0SW1hZ2VEYXRhKDAsMCx0LGkpLmRhdGF9c3RhdGljIE1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7Zm9yKGxldCBpPTA7aTxJLkluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPUkuSW5zdGFuY2VzW2ldO2ZvcihsZXQgcj0wO3I8cy5zY2VuZXMubGVuZ3RoO3IrKylzLnNjZW5lc1tyXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpfX1zdGF0aWMgRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KGUpe3Rocm93ICQoIkxvYWRpbmdTY3JlZW4iKX1nZXQgX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nKCl7cmV0dXJuISFJLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5fWdldCBwZXJmb3JtYW5jZU1vbml0b3IoKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yfWdldCBjb21wYXRpYmlsaXR5TW9kZSgpe3JldHVybiB0aGlzLl9jb21wYXRpYmlsaXR5TW9kZX1zZXQgY29tcGF0aWJpbGl0eU1vZGUoZSl7dGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITB9Z2V0SW5wdXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc31faW5pdEdMQ29udGV4dCgpe3N1cGVyLl9pbml0R0xDb250ZXh0KCksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzPW51bGx9X3NoYXJlZEluaXQoZSx0LGkpe3N1cGVyLl9zaGFyZWRJbml0KGUsdCxpKSx0aGlzLl9vbkNhbnZhc0ZvY3VzPSgpPT57dGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ2FudmFzQmx1cj0oKT0+e3RoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ2FudmFzQ29udGV4dE1lbnU9cj0+e3RoaXMuZGlzYWJsZUNvbnRleHRNZW51JiZyLnByZXZlbnREZWZhdWx0KCl9LGUuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLGUuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25DYW52YXNCbHVyKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51KSx0aGlzLl9vbkJsdXI9KCk9Pnt0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJnRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5kaXNhYmxlKCksdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSEwfSx0aGlzLl9vbkZvY3VzPSgpPT57dGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZ0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuZW5hYmxlKCksdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSExfSx0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQ9cj0+e2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoci5jbGllbnRYLHIuY2xpZW50WSkhPT1lJiZ0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfTtjb25zdCBzPXRoaXMuZ2V0SG9zdFdpbmRvdygpO3MmJnR5cGVvZiBzLmFkZEV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJihzLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1cikscy5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpLGUuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcm91dCIsdGhpcy5fb25DYW52YXNQb2ludGVyT3V0KSx0fHx0aGlzLl9kaXNhYmxlVG91Y2hBY3Rpb24oKSwhSS5hdWRpb0VuZ2luZSYmaSYmSS5BdWRpb0VuZ2luZUZhY3RvcnkmJihJLmF1ZGlvRW5naW5lPUkuQXVkaW9FbmdpbmVGYWN0b3J5KHRoaXMuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5nZXRBdWRpb0NvbnRleHQoKSx0aGlzLmdldEF1ZGlvRGVzdGluYXRpb24oKSkpfWdldEFzcGVjdFJhdGlvKGUsdD0hMSl7Y29uc3QgaT1lLnZpZXdwb3J0O3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKHQpKmkud2lkdGgvKHRoaXMuZ2V0UmVuZGVySGVpZ2h0KHQpKmkuaGVpZ2h0KX1nZXRTY3JlZW5Bc3BlY3RSYXRpbygpe3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKCEwKS90aGlzLmdldFJlbmRlckhlaWdodCghMCl9Z2V0UmVuZGVyaW5nQ2FudmFzQ2xpZW50UmVjdCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9Z2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfWlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwKCl7cmV0dXJuIHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcH1nZXRMb2Nrc3RlcE1heFN0ZXBzKCl7cmV0dXJuIHRoaXMuX2xvY2tzdGVwTWF4U3RlcHN9Z2V0VGltZVN0ZXAoKXtyZXR1cm4gdGhpcy5fdGltZVN0ZXAqMWUzfWdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAoZSx0PSEwKXtpZihlLmdlbmVyYXRlTWlwTWFwcyl7Y29uc3QgaT10aGlzLl9nbDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGkuVEVYVFVSRV9DVUJFX01BUCxlLCEwKSxpLmdlbmVyYXRlTWlwbWFwKGkuVEVYVFVSRV9DVUJFX01BUCksdCYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShpLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCl9fWdldERlcHRoV3JpdGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrfXNldERlcHRoV3JpdGUoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWV9Z2V0U3RlbmNpbEJ1ZmZlcigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3R9c2V0U3RlbmNpbEJ1ZmZlcihlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9ZX1nZXRTdGVuY2lsTWFzaygpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2t9c2V0U3RlbmNpbE1hc2soZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrPWV9Z2V0U3RlbmNpbEZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY31nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jUmVmfWdldFN0ZW5jaWxGdW5jdGlvbk1hc2soKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFza31zZXRTdGVuY2lsRnVuY3Rpb24oZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jPWV9c2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZj1lfXNldFN0ZW5jaWxGdW5jdGlvbk1hc2soZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFzaz1lfWdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbH1nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BEZXB0aEZhaWx9Z2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3N9c2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsPWV9c2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbChlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsPWV9c2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3M9ZX1zZXREaXRoZXJpbmdTdGF0ZShlKXtlP3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ESVRIRVIpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuRElUSEVSKX1zZXRSYXN0ZXJpemVyU3RhdGUoZSl7ZT90aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCk6dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCl9Z2V0RGVwdGhGdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmN9c2V0RGVwdGhGdW5jdGlvbihlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9ZX1zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNil9c2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlck9yRXF1YWwoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE4KX1zZXREZXB0aEZ1bmN0aW9uVG9MZXNzKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxMyl9c2V0RGVwdGhGdW5jdGlvblRvTGVzc09yRXF1YWwoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE1KX1jYWNoZVN0ZW5jaWxTdGF0ZSgpe3RoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXI9dGhpcy5nZXRTdGVuY2lsQnVmZmVyKCksdGhpcy5fY2FjaGVkU3RlbmNpbEZ1bmN0aW9uPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uKCksdGhpcy5fY2FjaGVkU3RlbmNpbE1hc2s9dGhpcy5nZXRTdGVuY2lsTWFzaygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl9cmVzdG9yZVN0ZW5jaWxTdGF0ZSgpe3RoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uKHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbiksdGhpcy5zZXRTdGVuY2lsTWFzayh0aGlzLl9jYWNoZWRTdGVuY2lsTWFzayksdGhpcy5zZXRTdGVuY2lsQnVmZmVyKHRoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXIpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvblBhc3ModGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3MpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWwpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKSx0aGlzLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSh0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlKX1zZXREaXJlY3RWaWV3cG9ydChlLHQsaSxzKXtjb25zdCByPXRoaXMuX2NhY2hlZFZpZXdwb3J0O3JldHVybiB0aGlzLl9jYWNoZWRWaWV3cG9ydD1udWxsLHRoaXMuX3ZpZXdwb3J0KGUsdCxpLHMpLHJ9c2Npc3NvckNsZWFyKGUsdCxpLHMscil7dGhpcy5lbmFibGVTY2lzc29yKGUsdCxpLHMpLHRoaXMuY2xlYXIociwhMCwhMCwhMCksdGhpcy5kaXNhYmxlU2Npc3NvcigpfWVuYWJsZVNjaXNzb3IoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9nbDtyLmVuYWJsZShyLlNDSVNTT1JfVEVTVCksci5zY2lzc29yKGUsdCxpLHMpfWRpc2FibGVTY2lzc29yKCl7Y29uc3QgZT10aGlzLl9nbDtlLmRpc2FibGUoZS5TQ0lTU09SX1RFU1QpfV9yZXBvcnREcmF3Q2FsbChlPTEpe3RoaXMuX2RyYXdDYWxscy5hZGRDb3VudChlLCExKX1pbml0V2ViVlIoKXt0aHJvdyAkKCJXZWJWUkNhbWVyYSIpfV9wcmVwYXJlVlJDb21wb25lbnQoKXt9X2Nvbm5lY3RWUkV2ZW50cyhlLHQpe31fc3VibWl0VlJGcmFtZSgpe31kaXNhYmxlVlIoKXt9aXNWUlByZXNlbnRpbmcoKXtyZXR1cm4hMX1fcmVxdWVzdFZSRnJhbWUoKXt9X2xvYWRGaWxlQXN5bmMoZSx0LGkpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e3RoaXMuX2xvYWRGaWxlKGUsbj0+e3Mobil9LHZvaWQgMCx0LGksKG4sYSk9PntyKGEpfSl9KX1nZXRWZXJ0ZXhTaGFkZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnMoZSk7cmV0dXJuIHQ/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHRbMF0pOm51bGx9Z2V0RnJhZ21lbnRTaGFkZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnMoZSk7cmV0dXJuIHQ/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHRbMV0pOm51bGx9c2V0RGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksIWl8fCFpLmRlcHRoU3RlbmNpbFRleHR1cmU/dGhpcy5fc2V0VGV4dHVyZShlLG51bGwsdm9pZCAwLHZvaWQgMCxzKTp0aGlzLl9zZXRUZXh0dXJlKGUsaSwhMSwhMCxzKSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2VzcyhlLHQsaSl7dmFyIHM7bGV0IHI9bnVsbDt0JiYodC5fdGV4dHVyZXMuZGF0YVt0Ll9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF0/cj10Ll90ZXh0dXJlcy5kYXRhW3QuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXTp0Ll9mb3JjZWRPdXRwdXRUZXh0dXJlJiYocj10Ll9mb3JjZWRPdXRwdXRUZXh0dXJlKSksdGhpcy5fYmluZFRleHR1cmUoZSwocz1yPT1udWxsP3ZvaWQgMDpyLnRleHR1cmUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwsaSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dChlLHQsaSl7dmFyIHMscjt0aGlzLl9iaW5kVGV4dHVyZShlLChyPShzPXQ9PW51bGw/dm9pZCAwOnQuX291dHB1dFRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy50ZXh0dXJlKSE9PW51bGwmJnIhPT12b2lkIDA/cjpudWxsLGkpfV9yZWJ1aWxkQnVmZmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuc2NlbmVzKWUucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGUuX3JlYnVpbGRHZW9tZXRyaWVzKCksZS5fcmVidWlsZFRleHR1cmVzKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdmlydHVhbFNjZW5lcyllLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxlLl9yZWJ1aWxkR2VvbWV0cmllcygpLGUuX3JlYnVpbGRUZXh0dXJlcygpO3N1cGVyLl9yZWJ1aWxkQnVmZmVycygpfV9yZW5kZXJGcmFtZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLl9hY3RpdmVSZW5kZXJMb29wc1tlXTt0KCl9fV9yZW5kZXJMb29wKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXtsZXQgZT0hMDshdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQmJihlPSExKSxlJiYodGhpcy5iZWdpbkZyYW1lKCksdGhpcy5fcmVuZGVyVmlld3MoKXx8dGhpcy5fcmVuZGVyRnJhbWUoKSx0aGlzLmVuZEZyYW1lKCkpfXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD4wP3RoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXI/KHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZW5kZXJGdW5jdGlvbnx8dGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyKSx0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZXF1ZXN0SUQpOnRoaXMuaXNWUlByZXNlbnRpbmcoKT90aGlzLl9yZXF1ZXN0VlJGcmFtZSgpOnRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpOnRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITF9X3JlbmRlclZpZXdzKCl7cmV0dXJuITF9c3dpdGNoRnVsbHNjcmVlbihlKXt0aGlzLmlzRnVsbHNjcmVlbj90aGlzLmV4aXRGdWxsc2NyZWVuKCk6dGhpcy5lbnRlckZ1bGxzY3JlZW4oZSl9ZW50ZXJGdWxsc2NyZWVuKGUpe3RoaXMuaXNGdWxsc2NyZWVufHwodGhpcy5fcG9pbnRlckxvY2tSZXF1ZXN0ZWQ9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJkkuX1JlcXVlc3RGdWxsc2NyZWVuKHRoaXMuX3JlbmRlcmluZ0NhbnZhcykpfWV4aXRGdWxsc2NyZWVuKCl7dGhpcy5pc0Z1bGxzY3JlZW4mJkkuX0V4aXRGdWxsc2NyZWVuKCl9ZW50ZXJQb2ludGVybG9jaygpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmSS5fUmVxdWVzdFBvaW50ZXJsb2NrKHRoaXMuX3JlbmRlcmluZ0NhbnZhcyl9ZXhpdFBvaW50ZXJsb2NrKCl7SS5fRXhpdFBvaW50ZXJsb2NrKCl9YmVnaW5GcmFtZSgpe3RoaXMuX21lYXN1cmVGcHMoKSx0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHN1cGVyLmJlZ2luRnJhbWUoKX1lbmRGcmFtZSgpe3N1cGVyLmVuZEZyYW1lKCksdGhpcy5fc3VibWl0VlJGcmFtZSgpLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfXJlc2l6ZShlPSExKXt0aGlzLmlzVlJQcmVzZW50aW5nKCl8fHN1cGVyLnJlc2l6ZShlKX1zZXRTaXplKGUsdCxpPSExKXtpZighdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwhc3VwZXIuc2V0U2l6ZShlLHQsaSkpcmV0dXJuITE7aWYodGhpcy5zY2VuZXMpe2ZvcihsZXQgcz0wO3M8dGhpcy5zY2VuZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLnNjZW5lc1tzXTtmb3IobGV0IG49MDtuPHIuY2FtZXJhcy5sZW5ndGg7bisrKXtjb25zdCBhPXIuY2FtZXJhc1tuXTthLl9jdXJyZW50UmVuZGVySWQ9MH19dGhpcy5vblJlc2l6ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25SZXNpemVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1yZXR1cm4hMH1fZGVsZXRlUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9ZTt0JiZ0LnByb2dyYW0mJnQudHJhbnNmb3JtRmVlZGJhY2smJih0aGlzLmRlbGV0ZVRyYW5zZm9ybUZlZWRiYWNrKHQudHJhbnNmb3JtRmVlZGJhY2spLHQudHJhbnNmb3JtRmVlZGJhY2s9bnVsbCksc3VwZXIuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKX1jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscixuPW51bGwpe3I9cnx8dGhpcy5fZ2wsdGhpcy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3QgYT1zdXBlci5jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscixuKTtyZXR1cm4gdGhpcy5vbkFmdGVyU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxhfV9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtjb25zdCBuPXMuY3JlYXRlUHJvZ3JhbSgpO2lmKGUucHJvZ3JhbT1uLCFuKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBwcm9ncmFtIik7aWYocy5hdHRhY2hTaGFkZXIobix0KSxzLmF0dGFjaFNoYWRlcihuLGkpLHRoaXMud2ViR0xWZXJzaW9uPjEmJnIpe2NvbnN0IGE9dGhpcy5jcmVhdGVUcmFuc2Zvcm1GZWVkYmFjaygpO3RoaXMuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGEpLHRoaXMuc2V0VHJhbmZvcm1GZWVkYmFja1ZhcnlpbmdzKG4sciksZS50cmFuc2Zvcm1GZWVkYmFjaz1hfXJldHVybiBzLmxpbmtQcm9ncmFtKG4pLHRoaXMud2ViR0xWZXJzaW9uPjEmJnImJnRoaXMuYmluZFRyYW5zZm9ybUZlZWRiYWNrKG51bGwpLGUuY29udGV4dD1zLGUudmVydGV4U2hhZGVyPXQsZS5mcmFnbWVudFNoYWRlcj1pLGUuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKSxufV9yZWxlYXNlVGV4dHVyZShlKXtzdXBlci5fcmVsZWFzZVRleHR1cmUoZSl9X3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKGUpe3N1cGVyLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKSx0aGlzLnNjZW5lcy5mb3JFYWNoKHQ9Pnt0LnBvc3RQcm9jZXNzZXMuZm9yRWFjaChpPT57aS5fb3V0cHV0VGV4dHVyZT09PWUmJihpLl9vdXRwdXRUZXh0dXJlPW51bGwpfSksdC5jYW1lcmFzLmZvckVhY2goaT0+e2kuX3Bvc3RQcm9jZXNzZXMuZm9yRWFjaChzPT57cyYmcy5fb3V0cHV0VGV4dHVyZT09PWUmJihzLl9vdXRwdXRUZXh0dXJlPW51bGwpfSl9KX0pfWdldFJlbmRlclBhc3NOYW1lcygpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXN9Z2V0Q3VycmVudFJlbmRlclBhc3NOYW1lKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1t0aGlzLmN1cnJlbnRSZW5kZXJQYXNzSWRdfWNyZWF0ZVJlbmRlclBhc3NJZChlKXtjb25zdCB0PSsrSS5fUmVuZGVyUGFzc0lkQ291bnRlcjtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzW3RdPWU/PyJOT05BTUUiLHR9cmVsZWFzZVJlbmRlclBhc3NJZChlKXt0aGlzLl9yZW5kZXJQYXNzTmFtZXNbZV09dm9pZCAwO2ZvcihsZXQgdD0wO3Q8dGhpcy5zY2VuZXMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLnNjZW5lc1t0XTtmb3IobGV0IHM9MDtzPGkubWVzaGVzLmxlbmd0aDsrK3Mpe2NvbnN0IHI9aS5tZXNoZXNbc107aWYoci5zdWJNZXNoZXMpZm9yKGxldCBuPTA7bjxyLnN1Yk1lc2hlcy5sZW5ndGg7KytuKXIuc3ViTWVzaGVzW25dLl9yZW1vdmVEcmF3V3JhcHBlcihlKX19fV9yZXNjYWxlVGV4dHVyZShlLHQsaSxzLHIpe3RoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKTtjb25zdCBuPXRoaXMuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9LHtnZW5lcmF0ZU1pcE1hcHM6ITEsdHlwZTowLHNhbXBsaW5nTW9kZToyLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITEsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExfSk7IXRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmSS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSYmKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcz1JLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5KHRoaXMpKSx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmdldEVmZmVjdCgpLmV4ZWN1dGVXaGVuQ29tcGlsZWQoKCk9Pnt0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3Mub25BcHBseT1mdW5jdGlvbihvKXtvLl9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLGUpfTtsZXQgYT1pO2F8fChhPXRoaXMuc2NlbmVzW3RoaXMuc2NlbmVzLmxlbmd0aC0xXSksYS5wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKFt0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3NdLG4sITApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0LCEwKSx0aGlzLl9nbC5jb3B5VGV4SW1hZ2UyRCh0aGlzLl9nbC5URVhUVVJFXzJELDAscywwLDAsdC53aWR0aCx0LmhlaWdodCwwKSx0aGlzLnVuQmluZEZyYW1lYnVmZmVyKG4pLG4uZGlzcG9zZSgpLHImJnIoKX0pKX1nZXRGcHMoKXtyZXR1cm4gdGhpcy5fZnBzfWdldERlbHRhVGltZSgpe3JldHVybiB0aGlzLl9kZWx0YVRpbWV9X21lYXN1cmVGcHMoKXt0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3Iuc2FtcGxlRnJhbWUoKSx0aGlzLl9mcHM9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmF2ZXJhZ2VGUFMsdGhpcy5fZGVsdGFUaW1lPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5pbnN0YW50YW5lb3VzRnJhbWVUaW1lfHwwfXdyYXBXZWJHTFRleHR1cmUoZSl7Y29uc3QgdD1uZXcgdHIoZSx0aGlzLl9nbCksaT1uZXcgT3QodGhpcyxOZS5Vbmtub3duLCEwKTtyZXR1cm4gaS5faGFyZHdhcmVUZXh0dXJlPXQsaS5pc1JlYWR5PSEwLGl9X3VwbG9hZEltYWdlVG9UZXh0dXJlKGUsdCxpPTAscz0wKXtjb25zdCByPXRoaXMuX2dsLG49dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlLnR5cGUpLGE9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoZS5mb3JtYXQpLG89dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZS50eXBlLGEpLGg9ZS5pc0N1YmU/ci5URVhUVVJFX0NVQkVfTUFQOnIuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGgsZSwhMCksdGhpcy5fdW5wYWNrRmxpcFkoZS5pbnZlcnRZKTtsZXQgbD1yLlRFWFRVUkVfMkQ7ZS5pc0N1YmUmJihsPXIuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2kpLHIudGV4SW1hZ2UyRChsLHMsbyxhLG4sdCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShoLG51bGwsITApfXVwZGF0ZVRleHR1cmVDb21wYXJpc29uRnVuY3Rpb24oZSx0KXtpZih0aGlzLndlYkdMVmVyc2lvbj09PTEpe08uRXJyb3IoIldlYkdMIDEgZG9lcyBub3Qgc3VwcG9ydCB0ZXh0dXJlIGNvbXBhcmlzb24uIik7cmV0dXJufWNvbnN0IGk9dGhpcy5fZ2w7ZS5pc0N1YmU/KHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxlLCEwKSx0PT09MD8oaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV9DVUJFX01BUCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLDUxNSksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV9DVUJFX01BUCxpLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGkuTk9ORSkpOihpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsdCksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV9DVUJFX01BUCxpLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGkuQ09NUEFSRV9SRUZfVE9fVEVYVFVSRSkpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSk6KHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0PT09MD8oaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLDUxNSksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGkuTk9ORSkpOihpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsdCksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGkuQ09NUEFSRV9SRUZfVE9fVEVYVFVSRSkpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSksZS5fY29tcGFyaXNvbkZ1bmN0aW9uPXR9Y3JlYXRlSW5zdGFuY2VzQnVmZmVyKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGluc3RhbmNlIGJ1ZmZlciIpO2NvbnN0IGk9bmV3IERpKHQpO3JldHVybiBpLmNhcGFjaXR5PWUsdGhpcy5iaW5kQXJyYXlCdWZmZXIoaSksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsZSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpLGkucmVmZXJlbmNlcz0xLGl9ZGVsZXRlSW5zdGFuY2VzQnVmZmVyKGUpe3RoaXMuX2dsLmRlbGV0ZUJ1ZmZlcihlKX1fY2xpZW50V2FpdEFzeW5jKGUsdD0wLGk9MTApe2NvbnN0IHM9dGhpcy5fZ2w7cmV0dXJuIG5ldyBQcm9taXNlKChyLG4pPT57Y29uc3QgYT0oKT0+e2NvbnN0IG89cy5jbGllbnRXYWl0U3luYyhlLHQsMCk7aWYobz09cy5XQUlUX0ZBSUxFRCl7bigpO3JldHVybn1pZihvPT1zLlRJTUVPVVRfRVhQSVJFRCl7c2V0VGltZW91dChhLGkpO3JldHVybn1yKCl9O2EoKX0pfV9yZWFkUGl4ZWxzQXN5bmMoZSx0LGkscyxyLG4sYSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPDIpdGhyb3cgbmV3IEVycm9yKCJfcmVhZFBpeGVsc0FzeW5jIG9ubHkgd29yayBvbiBXZWJHTDIrIik7Y29uc3Qgbz10aGlzLl9nbCxoPW8uY3JlYXRlQnVmZmVyKCk7by5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsaCksby5idWZmZXJEYXRhKG8uUElYRUxfUEFDS19CVUZGRVIsYS5ieXRlTGVuZ3RoLG8uU1RSRUFNX1JFQUQpLG8ucmVhZFBpeGVscyhlLHQsaSxzLHIsbiwwKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixudWxsKTtjb25zdCBsPW8uZmVuY2VTeW5jKG8uU1lOQ19HUFVfQ09NTUFORFNfQ09NUExFVEUsMCk7cmV0dXJuIGw/KG8uZmx1c2goKSx0aGlzLl9jbGllbnRXYWl0QXN5bmMobCwwLDEwKS50aGVuKCgpPT4oby5kZWxldGVTeW5jKGwpLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLGgpLG8uZ2V0QnVmZmVyU3ViRGF0YShvLlBJWEVMX1BBQ0tfQlVGRkVSLDAsYSksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsbnVsbCksby5kZWxldGVCdWZmZXIoaCksYSkpKTpudWxsfWRpc3Bvc2UoKXtmb3IodGhpcy5oaWRlTG9hZGluZ1VJKCksdGhpcy5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCk7dGhpcy5wb3N0UHJvY2Vzc2VzLmxlbmd0aDspdGhpcy5wb3N0UHJvY2Vzc2VzWzBdLmRpc3Bvc2UoKTtmb3IodGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzJiZ0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MuZGlzcG9zZSgpO3RoaXMuc2NlbmVzLmxlbmd0aDspdGhpcy5zY2VuZXNbMF0uZGlzcG9zZSgpO2Zvcig7dGhpcy5fdmlydHVhbFNjZW5lcy5sZW5ndGg7KXRoaXMuX3ZpcnR1YWxTY2VuZXNbMF0uZGlzcG9zZSgpO0kuSW5zdGFuY2VzLmxlbmd0aD09PTEmJkkuYXVkaW9FbmdpbmUmJihJLmF1ZGlvRW5naW5lLmRpc3Bvc2UoKSxJLmF1ZGlvRW5naW5lPW51bGwpLHRoaXMuZGlzYWJsZVZSKCk7Y29uc3QgZT10aGlzLmdldEhvc3RXaW5kb3coKTtlJiZ0eXBlb2YgZS5yZW1vdmVFdmVudExpc3RlbmVyPT0iZnVuY3Rpb24iJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5fb25DYW52YXNDb250ZXh0TWVudSkpLENpKCkmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vemZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSkpLHN1cGVyLmRpc3Bvc2UoKTtjb25zdCB0PUkuSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7dD49MCYmSS5JbnN0YW5jZXMuc3BsaWNlKHQsMSksdGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpfV9kaXNhYmxlVG91Y2hBY3Rpb24oKXshdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwhdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZXx8KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUoInRvdWNoLWFjdGlvbiIsIm5vbmUiKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zdHlsZS53ZWJraXRUYXBIaWdobGlnaHRDb2xvcj0idHJhbnNwYXJlbnQiKX1kaXNwbGF5TG9hZGluZ1VJKCl7aWYoIWplKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5sb2FkaW5nU2NyZWVuO2UmJmUuZGlzcGxheUxvYWRpbmdVSSgpfWhpZGVMb2FkaW5nVUkoKXtpZighamUoKSlyZXR1cm47Y29uc3QgZT10aGlzLl9sb2FkaW5nU2NyZWVuO2UmJmUuaGlkZUxvYWRpbmdVSSgpfWdldCBsb2FkaW5nU2NyZWVuKCl7cmV0dXJuIXRoaXMuX2xvYWRpbmdTY3JlZW4mJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2xvYWRpbmdTY3JlZW49SS5EZWZhdWx0TG9hZGluZ1NjcmVlbkZhY3RvcnkodGhpcy5fcmVuZGVyaW5nQ2FudmFzKSksdGhpcy5fbG9hZGluZ1NjcmVlbn1zZXQgbG9hZGluZ1NjcmVlbihlKXt0aGlzLl9sb2FkaW5nU2NyZWVuPWV9c2V0IGxvYWRpbmdVSVRleHQoZSl7dGhpcy5sb2FkaW5nU2NyZWVuLmxvYWRpbmdVSVRleHQ9ZX1zZXQgbG9hZGluZ1VJQmFja2dyb3VuZENvbG9yKGUpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3I9ZX1jcmVhdGVWaWRlb0VsZW1lbnQoZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIil9c3RhdGljIF9SZXF1ZXN0UG9pbnRlcmxvY2soZSl7ZS5yZXF1ZXN0UG9pbnRlckxvY2smJihlLnJlcXVlc3RQb2ludGVyTG9jaygpLGUuZm9jdXMoKSl9c3RhdGljIF9FeGl0UG9pbnRlcmxvY2soKXtkb2N1bWVudC5leGl0UG9pbnRlckxvY2smJmRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpfXN0YXRpYyBfUmVxdWVzdEZ1bGxzY3JlZW4oZSl7Y29uc3QgdD1lLnJlcXVlc3RGdWxsc2NyZWVufHxlLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuO3QmJnQuY2FsbChlKX1zdGF0aWMgX0V4aXRGdWxsc2NyZWVuKCl7Y29uc3QgZT1kb2N1bWVudDtkb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmUud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiYmZS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCl9Z2V0Rm9udE9mZnNldChlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTt0LmlubmVySFRNTD0iSGciLHQuc2V0QXR0cmlidXRlKCJzdHlsZSIsYGZvbnQ6ICR7ZX0gIWltcG9ydGFudGApO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLGkuc3R5bGUud2lkdGg9IjFweCIsaS5zdHlsZS5oZWlnaHQ9IjBweCIsaS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJib3R0b20iO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLHMuYXBwZW5kQ2hpbGQodCkscy5hcHBlbmRDaGlsZChpKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpO2xldCByPTAsbj0wO3RyeXtuPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYmFzZWxpbmUiLHI9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AtdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3B9ZmluYWxseXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHMpfXJldHVybnthc2NlbnQ6cixoZWlnaHQ6bixkZXNjZW50Om4tcn19fUkuQUxQSEFfRElTQUJMRT0wLEkuQUxQSEFfQUREPTEsSS5BTFBIQV9DT01CSU5FPTIsSS5BTFBIQV9TVUJUUkFDVD0zLEkuQUxQSEFfTVVMVElQTFk9NCxJLkFMUEhBX01BWElNSVpFRD01LEkuQUxQSEFfT05FT05FPTYsSS5BTFBIQV9QUkVNVUxUSVBMSUVEPTcsSS5BTFBIQV9QUkVNVUxUSVBMSUVEX1BPUlRFUkRVRkY9OCxJLkFMUEhBX0lOVEVSUE9MQVRFPTksSS5BTFBIQV9TQ1JFRU5NT0RFPTEwLEkuREVMQVlMT0FEU1RBVEVfTk9ORT0wLEkuREVMQVlMT0FEU1RBVEVfTE9BREVEPTEsSS5ERUxBWUxPQURTVEFURV9MT0FESU5HPTIsSS5ERUxBWUxPQURTVEFURV9OT1RMT0FERUQ9NCxJLk5FVkVSPTUxMixJLkFMV0FZUz01MTksSS5MRVNTPTUxMyxJLkVRVUFMPTUxNCxJLkxFUVVBTD01MTUsSS5HUkVBVEVSPTUxNixJLkdFUVVBTD01MTgsSS5OT1RFUVVBTD01MTcsSS5LRUVQPTc2ODAsSS5SRVBMQUNFPTc2ODEsSS5JTkNSPTc2ODIsSS5ERUNSPTc2ODMsSS5JTlZFUlQ9NTM4NixJLklOQ1JfV1JBUD0zNDA1NSxJLkRFQ1JfV1JBUD0zNDA1NixJLlRFWFRVUkVfQ0xBTVBfQUREUkVTU01PREU9MCxJLlRFWFRVUkVfV1JBUF9BRERSRVNTTU9ERT0xLEkuVEVYVFVSRV9NSVJST1JfQUREUkVTU01PREU9MixJLlRFWFRVUkVGT1JNQVRfQUxQSEE9MCxJLlRFWFRVUkVGT1JNQVRfTFVNSU5BTkNFPTEsSS5URVhUVVJFRk9STUFUX0xVTUlOQU5DRV9BTFBIQT0yLEkuVEVYVFVSRUZPUk1BVF9SR0I9NCxJLlRFWFRVUkVGT1JNQVRfUkdCQT01LEkuVEVYVFVSRUZPUk1BVF9SRUQ9NixJLlRFWFRVUkVGT1JNQVRfUj02LEkuVEVYVFVSRUZPUk1BVF9SRz03LEkuVEVYVFVSRUZPUk1BVF9SRURfSU5URUdFUj04LEkuVEVYVFVSRUZPUk1BVF9SX0lOVEVHRVI9OCxJLlRFWFRVUkVGT1JNQVRfUkdfSU5URUdFUj05LEkuVEVYVFVSRUZPUk1BVF9SR0JfSU5URUdFUj0xMCxJLlRFWFRVUkVGT1JNQVRfUkdCQV9JTlRFR0VSPTExLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfQllURT0wLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UPTAsSS5URVhUVVJFVFlQRV9GTE9BVD0xLEkuVEVYVFVSRVRZUEVfSEFMRl9GTE9BVD0yLEkuVEVYVFVSRVRZUEVfQllURT0zLEkuVEVYVFVSRVRZUEVfU0hPUlQ9NCxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUPTUsSS5URVhUVVJFVFlQRV9JTlQ9NixJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVEVHRVI9NyxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzRfNF80XzQ9OCxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNV81XzE9OSxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNl81PTEwLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWPTExLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzI0Xzg9MTIsSS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWPTEzLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzVfOV85XzlfUkVWPTE0LEkuVEVYVFVSRVRZUEVfRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWPTE1LEkuVEVYVFVSRV9ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLEkuVEVYVFVSRV9CSUxJTkVBUl9TQU1QTElOR01PREU9MixJLlRFWFRVUkVfVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLEkuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsSS5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxJLlRFWFRVUkVfTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxJLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxJLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LEkuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixJLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVI9NyxJLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUPTEsSS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxJLlRFWFRVUkVfTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLEkuVEVYVFVSRV9MSU5FQVJfTElORUFSPTIsSS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUPTEyLEkuVEVYVFVSRV9FWFBMSUNJVF9NT0RFPTAsSS5URVhUVVJFX1NQSEVSSUNBTF9NT0RFPTEsSS5URVhUVVJFX1BMQU5BUl9NT0RFPTIsSS5URVhUVVJFX0NVQklDX01PREU9MyxJLlRFWFRVUkVfUFJPSkVDVElPTl9NT0RFPTQsSS5URVhUVVJFX1NLWUJPWF9NT0RFPTUsSS5URVhUVVJFX0lOVkNVQklDX01PREU9NixJLlRFWFRVUkVfRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxJLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxJLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxJLlNDQUxFTU9ERV9GTE9PUj0xLEkuU0NBTEVNT0RFX05FQVJFU1Q9MixJLlNDQUxFTU9ERV9DRUlMSU5HPTMsSS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeT1udWxsLEkuX1JlbmRlclBhc3NJZENvdW50ZXI9MCxvZS5wcm90b3R5cGUuX2RlYnVnUHVzaEdyb3VwPWZ1bmN0aW9uKGMsZSl7fSxvZS5wcm90b3R5cGUuX2RlYnVnUG9wR3JvdXA9ZnVuY3Rpb24oYyl7fSxvZS5wcm90b3R5cGUuX2RlYnVnSW5zZXJ0TWFya2VyPWZ1bmN0aW9uKGMsZSl7fSxvZS5wcm90b3R5cGUuX2RlYnVnRmx1c2hQZW5kaW5nQ29tbWFuZHM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIGduKGMpe3JldHVybiBuZXcgSShjLCEwLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsc3RlbmNpbDohMH0pfWNsYXNzIHJle2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aX10b1N0cmluZygpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisifSJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yMyJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiByZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b0NvbG9yNChlPTEpe3JldHVybiBuZXcgbWUodGhpcy5yLHRoaXMuZyx0aGlzLmIsZSl9YXNBcnJheSgpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYl19dG9MdW1pbmFuY2UoKXtyZXR1cm4gdGhpcy5yKi4zK3RoaXMuZyouNTkrdGhpcy5iKi4xMX1tdWx0aXBseShlKXtyZXR1cm4gbmV3IHJlKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iKX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5ifWVxdWFsc0Zsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMucj09PWUmJnRoaXMuZz09PXQmJnRoaXMuYj09PWl9c2NhbGUoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLnIqPWUsdGhpcy5nKj1lLHRoaXMuYio9ZSx0aGlzfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHRoaXN9Y2xhbXBUb1JlZihlPTAsdD0xLGkpe3JldHVybiBpLnI9WC5DbGFtcCh0aGlzLnIsZSx0KSxpLmc9WC5DbGFtcCh0aGlzLmcsZSx0KSxpLmI9WC5DbGFtcCh0aGlzLmIsZSx0KSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHJlKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iKX1hZGRUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yK2Uucix0Lmc9dGhpcy5nK2UuZyx0LmI9dGhpcy5iK2UuYix0aGlzfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgcmUodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgcmUodGhpcy5yLHRoaXMuZyx0aGlzLmIpfWNvcHlGcm9tKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpc31zZXQoZSx0LGkpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKX10b0hleFN0cmluZygpe2NvbnN0IGU9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSx0PU1hdGgucm91bmQodGhpcy5nKjI1NSksaT1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO3JldHVybiIjIitYLlRvSGV4KGUpK1guVG9IZXgodCkrWC5Ub0hleChpKX10b0xpbmVhclNwYWNlKCl7Y29uc3QgZT1uZXcgcmU7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKGUpLGV9dG9IU1YoKXtjb25zdCBlPW5ldyByZTtyZXR1cm4gdGhpcy50b0hTVlRvUmVmKGUpLGV9dG9IU1ZUb1JlZihlKXtjb25zdCB0PXRoaXMucixpPXRoaXMuZyxzPXRoaXMuYixyPU1hdGgubWF4KHQsaSxzKSxuPU1hdGgubWluKHQsaSxzKTtsZXQgYT0wLG89MDtjb25zdCBoPXIsbD1yLW47ciE9PTAmJihvPWwvciksciE9biYmKHI9PXQ/KGE9KGktcykvbCxpPHMmJihhKz02KSk6cj09aT9hPShzLXQpL2wrMjpyPT1zJiYoYT0odC1pKS9sKzQpLGEqPTYwKSxlLnI9YSxlLmc9byxlLmI9aH10b0xpbmVhclNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIseWUpLGUuZz1NYXRoLnBvdyh0aGlzLmcseWUpLGUuYj1NYXRoLnBvdyh0aGlzLmIseWUpLHRoaXN9dG9HYW1tYVNwYWNlKCl7Y29uc3QgZT1uZXcgcmU7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYoZSksZX10b0dhbW1hU3BhY2VUb1JlZihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixTZSksZS5nPU1hdGgucG93KHRoaXMuZyxTZSksZS5iPU1hdGgucG93KHRoaXMuYixTZSksdGhpc31zdGF0aWMgSFNWdG9SR0JUb1JlZihlLHQsaSxzKXtjb25zdCByPWkqdCxuPWUvNjAsYT1yKigxLU1hdGguYWJzKG4lMi0xKSk7bGV0IG89MCxoPTAsbD0wO24+PTAmJm48PTE/KG89cixoPWEpOm4+PTEmJm48PTI/KG89YSxoPXIpOm4+PTImJm48PTM/KGg9cixsPWEpOm4+PTMmJm48PTQ/KGg9YSxsPXIpOm4+PTQmJm48PTU/KG89YSxsPXIpOm4+PTUmJm48PTYmJihvPXIsbD1hKTtjb25zdCB1PWktcjtzLnNldChvK3UsaCt1LGwrdSl9c3RhdGljIEZyb21IU1YoZSx0LGkpe2NvbnN0IHM9bmV3IHJlKDAsMCwwKTtyZXR1cm4gcmUuSFNWdG9SR0JUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBGcm9tSGV4U3RyaW5nKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09NylyZXR1cm4gbmV3IHJlKDAsMCwwKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNikscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KTtyZXR1cm4gcmUuRnJvbUludHModCxpLHMpfXN0YXRpYyBGcm9tQXJyYXkoZSx0PTApe3JldHVybiBuZXcgcmUoZVt0XSxlW3QrMV0sZVt0KzJdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0PTAsaSl7aS5yPWVbdF0saS5nPWVbdCsxXSxpLmI9ZVt0KzJdfXN0YXRpYyBGcm9tSW50cyhlLHQsaSl7cmV0dXJuIG5ldyByZShlLzI1NSx0LzI1NSxpLzI1NSl9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IHJlKDAsMCwwKTtyZXR1cm4gcmUuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLnI9ZS5yKyh0LnItZS5yKSppLHMuZz1lLmcrKHQuZy1lLmcpKmkscy5iPWUuYisodC5iLWUuYikqaX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5yKm8raS5yKmgrdC5yKmwrcy5yKnUsZj1lLmcqbytpLmcqaCt0LmcqbCtzLmcqdSxfPWUuYipvK2kuYipoK3QuYipsK3MuYip1O3JldHVybiBuZXcgcmUoZCxmLF8pfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49cmUuQmxhY2soKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLnI9KGEtcikqNiplLnIrKDMqYS00KnIrMSkqdC5yKygtYStyKSo2KmkucisoMyphLTIqcikqcy5yLG4uZz0oYS1yKSo2KmUuZysoMyphLTQqcisxKSp0LmcrKC1hK3IpKjYqaS5nKygzKmEtMipyKSpzLmcsbi5iPShhLXIpKjYqZS5iKygzKmEtNCpyKzEpKnQuYisoLWErcikqNippLmIrKDMqYS0yKnIpKnMuYn1zdGF0aWMgUmVkKCl7cmV0dXJuIG5ldyByZSgxLDAsMCl9c3RhdGljIEdyZWVuKCl7cmV0dXJuIG5ldyByZSgwLDEsMCl9c3RhdGljIEJsdWUoKXtyZXR1cm4gbmV3IHJlKDAsMCwxKX1zdGF0aWMgQmxhY2soKXtyZXR1cm4gbmV3IHJlKDAsMCwwKX1zdGF0aWMgZ2V0IEJsYWNrUmVhZE9ubHkoKXtyZXR1cm4gcmUuX0JsYWNrUmVhZE9ubHl9c3RhdGljIFdoaXRlKCl7cmV0dXJuIG5ldyByZSgxLDEsMSl9c3RhdGljIFB1cnBsZSgpe3JldHVybiBuZXcgcmUoLjUsMCwuNSl9c3RhdGljIE1hZ2VudGEoKXtyZXR1cm4gbmV3IHJlKDEsMCwxKX1zdGF0aWMgWWVsbG93KCl7cmV0dXJuIG5ldyByZSgxLDEsMCl9c3RhdGljIEdyYXkoKXtyZXR1cm4gbmV3IHJlKC41LC41LC41KX1zdGF0aWMgVGVhbCgpe3JldHVybiBuZXcgcmUoMCwxLDEpfXN0YXRpYyBSYW5kb20oKXtyZXR1cm4gbmV3IHJlKE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpKX19cmUuX0JsYWNrUmVhZE9ubHk9cmUuQmxhY2soKTtsZXQgbWU9Y2xhc3N7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0xKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aSx0aGlzLmE9c31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzLmErPWUuYSx0aGlzfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hXX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLGVbdCszXT10aGlzLmEsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiBtZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmImJnRoaXMuYT09PWUuYX1hZGQoZSl7cmV0dXJuIG5ldyBtZSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYix0aGlzLmErZS5hKX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IG1lKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iLHRoaXMuYS1lLmEpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdC5hPXRoaXMuYS1lLmEsdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IG1lKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplLHRoaXMuYSplKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMucio9ZSx0aGlzLmcqPWUsdGhpcy5iKj1lLHRoaXMuYSo9ZSx0aGlzfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdC5hPXRoaXMuYSplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0LmErPXRoaXMuYSplLHRoaXN9Y2xhbXBUb1JlZihlPTAsdD0xLGkpe3JldHVybiBpLnI9WC5DbGFtcCh0aGlzLnIsZSx0KSxpLmc9WC5DbGFtcCh0aGlzLmcsZSx0KSxpLmI9WC5DbGFtcCh0aGlzLmIsZSx0KSxpLmE9WC5DbGFtcCh0aGlzLmEsZSx0KSx0aGlzfW11bHRpcGx5KGUpe3JldHVybiBuZXcgbWUodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIsdGhpcy5hKmUuYSl9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0LmE9dGhpcy5hKmUuYSx0fXRvU3RyaW5nKCl7cmV0dXJuIntSOiAiK3RoaXMucisiIEc6Iit0aGlzLmcrIiBCOiIrdGhpcy5iKyIgQToiK3RoaXMuYSsifSJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yNCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmEqMjU1fDApLGV9Y2xvbmUoKXtyZXR1cm4gbmV3IG1lKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMucj1lLnIsdGhpcy5nPWUuZyx0aGlzLmI9ZS5iLHRoaXMuYT1lLmEsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpcy5hPXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9dG9IZXhTdHJpbmcoZT0hMSl7Y29uc3QgdD1NYXRoLnJvdW5kKHRoaXMucioyNTUpLGk9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxzPU1hdGgucm91bmQodGhpcy5iKjI1NSk7aWYoZSlyZXR1cm4iIyIrWC5Ub0hleCh0KStYLlRvSGV4KGkpK1guVG9IZXgocyk7Y29uc3Qgcj1NYXRoLnJvdW5kKHRoaXMuYSoyNTUpO3JldHVybiIjIitYLlRvSGV4KHQpK1guVG9IZXgoaSkrWC5Ub0hleChzKStYLlRvSGV4KHIpfXRvTGluZWFyU3BhY2UoKXtjb25zdCBlPW5ldyBtZTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYoZSksZX10b0xpbmVhclNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIseWUpLGUuZz1NYXRoLnBvdyh0aGlzLmcseWUpLGUuYj1NYXRoLnBvdyh0aGlzLmIseWUpLGUuYT10aGlzLmEsdGhpc310b0dhbW1hU3BhY2UoKXtjb25zdCBlPW5ldyBtZTtyZXR1cm4gdGhpcy50b0dhbW1hU3BhY2VUb1JlZihlKSxlfXRvR2FtbWFTcGFjZVRvUmVmKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLFNlKSxlLmc9TWF0aC5wb3codGhpcy5nLFNlKSxlLmI9TWF0aC5wb3codGhpcy5iLFNlKSxlLmE9dGhpcy5hLHRoaXN9c3RhdGljIEZyb21IZXhTdHJpbmcoZSl7aWYoZS5zdWJzdHJpbmcoMCwxKSE9PSIjInx8ZS5sZW5ndGghPT05JiZlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyBtZSgwLDAsMCwwKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNikscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KSxyPWUubGVuZ3RoPT09OT9wYXJzZUludChlLnN1YnN0cmluZyg3LDkpLDE2KToyNTU7cmV0dXJuIG1lLkZyb21JbnRzKHQsaSxzLHIpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyBtZSgwLDAsMCwwKTtyZXR1cm4gbWUuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLnI9ZS5yKyh0LnItZS5yKSppLHMuZz1lLmcrKHQuZy1lLmcpKmkscy5iPWUuYisodC5iLWUuYikqaSxzLmE9ZS5hKyh0LmEtZS5hKSppfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLnIqbytpLnIqaCt0LnIqbCtzLnIqdSxmPWUuZypvK2kuZypoK3QuZypsK3MuZyp1LF89ZS5iKm8raS5iKmgrdC5iKmwrcy5iKnUsRT1lLmEqbytpLmEqaCt0LmEqbCtzLmEqdTtyZXR1cm4gbmV3IG1lKGQsZixfLEUpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IG1lO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO24ucj0oYS1yKSo2KmUucisoMyphLTQqcisxKSp0LnIrKC1hK3IpKjYqaS5yKygzKmEtMipyKSpzLnIsbi5nPShhLXIpKjYqZS5nKygzKmEtNCpyKzEpKnQuZysoLWErcikqNippLmcrKDMqYS0yKnIpKnMuZyxuLmI9KGEtcikqNiplLmIrKDMqYS00KnIrMSkqdC5iKygtYStyKSo2KmkuYisoMyphLTIqcikqcy5iLG4uYT0oYS1yKSo2KmUuYSsoMyphLTQqcisxKSp0LmErKC1hK3IpKjYqaS5hKygzKmEtMipyKSpzLmF9c3RhdGljIEZyb21Db2xvcjMoZSx0PTEpe3JldHVybiBuZXcgbWUoZS5yLGUuZyxlLmIsdCl9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBtZShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0PTAsaSl7aS5yPWVbdF0saS5nPWVbdCsxXSxpLmI9ZVt0KzJdLGkuYT1lW3QrM119c3RhdGljIEZyb21JbnRzKGUsdCxpLHMpe3JldHVybiBuZXcgbWUoZS8yNTUsdC8yNTUsaS8yNTUscy8yNTUpfXN0YXRpYyBDaGVja0NvbG9yczQoZSx0KXtpZihlLmxlbmd0aD09PXQqMyl7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTMpe2NvbnN0IHI9cy8zKjQ7aVtyXT1lW3NdLGlbcisxXT1lW3MrMV0saVtyKzJdPWVbcysyXSxpW3IrM109MX1yZXR1cm4gaX1yZXR1cm4gZX19O2NsYXNzIEVpe31FaS5Db2xvcjM9QmUuQnVpbGRBcnJheSgzLHJlLkJsYWNrKSxFaS5Db2xvcjQ9QmUuQnVpbGRBcnJheSgzLCgpPT5uZXcgbWUoMCwwLDAsMCkpLGl0KCJCQUJZTE9OLkNvbG9yMyIscmUpLGl0KCJCQUJZTE9OLkNvbG9yNCIsbWUpO2NvbnN0IGlyPShjLGUpPT4hY3x8Yy5nZXRDbGFzc05hbWUmJmMuZ2V0Q2xhc3NOYW1lKCk9PT0iTWVzaCI/bnVsbDpjLmdldENsYXNzTmFtZSYmYy5nZXRDbGFzc05hbWUoKT09PSJTdWJNZXNoIj9jLmNsb25lKGUpOmMuY2xvbmU/Yy5jbG9uZSgpOm51bGw7ZnVuY3Rpb24gcG4oYyl7Y29uc3QgZT1bXTtkbyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuaW5kZXhPZih0KT09PS0xJiZlLnB1c2godCl9KTt3aGlsZShjPU9iamVjdC5nZXRQcm90b3R5cGVPZihjKSk7cmV0dXJuIGV9Y2xhc3MgdnN7c3RhdGljIERlZXBDb3B5KGUsdCxpLHMpe2NvbnN0IHI9cG4oZSk7Zm9yKGNvbnN0IG4gb2Ygcil7aWYoblswXT09PSJfIiYmKCFzfHxzLmluZGV4T2Yobik9PT0tMSl8fG4uZW5kc1dpdGgoIk9ic2VydmFibGUiKXx8aSYmaS5pbmRleE9mKG4pIT09LTEpY29udGludWU7Y29uc3QgYT1lW25dLG89dHlwZW9mIGE7aWYobyE9PSJmdW5jdGlvbiIpdHJ5e2lmKG89PT0ib2JqZWN0IilpZihhIGluc3RhbmNlb2YgQXJyYXkpe2lmKHRbbl09W10sYS5sZW5ndGg+MClpZih0eXBlb2YgYVswXT09Im9iamVjdCIpZm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9aXIoYVtoXSx0KTt0W25dLmluZGV4T2YobCk9PT0tMSYmdFtuXS5wdXNoKGwpfWVsc2UgdFtuXT1hLnNsaWNlKDApfWVsc2UgdFtuXT1pcihhLHQpO2Vsc2UgdFtuXT1hfWNhdGNoKGgpe08uV2FybihoLm1lc3NhZ2UpfX19fWZ1bmN0aW9uIG1uKCl7cmV0dXJuIHR5cGVvZiBfbmF0aXZlPCJ1IiYmX25hdGl2ZS5YTUxIdHRwUmVxdWVzdD9uZXcgX25hdGl2ZS5YTUxIdHRwUmVxdWVzdDpuZXcgWE1MSHR0cFJlcXVlc3R9Y2xhc3MgY3R7Y29uc3RydWN0b3IoKXt0aGlzLl94aHI9bW4oKSx0aGlzLl9yZXF1ZXN0VVJMPSIifV9pbmplY3RDdXN0b21SZXF1ZXN0SGVhZGVycygpe2lmKCF0aGlzLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnModGhpcy5fcmVxdWVzdFVSTCkpZm9yKGNvbnN0IGUgaW4gY3QuQ3VzdG9tUmVxdWVzdEhlYWRlcnMpe2NvbnN0IHQ9Y3QuQ3VzdG9tUmVxdWVzdEhlYWRlcnNbZV07dCYmdGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoZSx0KX19X3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyhlKXtyZXR1cm4gY3QuU2tpcFJlcXVlc3RNb2RpZmljYXRpb25Gb3JCYWJ5bG9uQ0ROJiYoZS5pbmNsdWRlcygicHJldmlldy5iYWJ5bG9uanMuY29tIil8fGUuaW5jbHVkZXMoImNkbi5iYWJ5bG9uanMuY29tIikpfWdldCBvbnByb2dyZXNzKCl7cmV0dXJuIHRoaXMuX3hoci5vbnByb2dyZXNzfXNldCBvbnByb2dyZXNzKGUpe3RoaXMuX3hoci5vbnByb2dyZXNzPWV9Z2V0IHJlYWR5U3RhdGUoKXtyZXR1cm4gdGhpcy5feGhyLnJlYWR5U3RhdGV9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLl94aHIuc3RhdHVzfWdldCBzdGF0dXNUZXh0KCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXNUZXh0fWdldCByZXNwb25zZSgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2V9Z2V0IHJlc3BvbnNlVVJMKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVVSTH1nZXQgcmVzcG9uc2VUZXh0KCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVRleHR9Z2V0IHJlc3BvbnNlVHlwZSgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VUeXBlfXNldCByZXNwb25zZVR5cGUoZSl7dGhpcy5feGhyLnJlc3BvbnNlVHlwZT1lfWdldCB0aW1lb3V0KCl7cmV0dXJuIHRoaXMuX3hoci50aW1lb3V0fXNldCB0aW1lb3V0KGUpe3RoaXMuX3hoci50aW1lb3V0PWV9YWRkRXZlbnRMaXN0ZW5lcihlLHQsaSl7dGhpcy5feGhyLmFkZEV2ZW50TGlzdGVuZXIoZSx0LGkpfXJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LGkpe3RoaXMuX3hoci5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxpKX1hYm9ydCgpe3RoaXMuX3hoci5hYm9ydCgpfXNlbmQoZSl7Y3QuQ3VzdG9tUmVxdWVzdEhlYWRlcnMmJnRoaXMuX2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzKCksdGhpcy5feGhyLnNlbmQoZSl9b3BlbihlLHQpe2Zvcihjb25zdCBpIG9mIGN0LkN1c3RvbVJlcXVlc3RNb2RpZmllcnMpe2lmKHRoaXMuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyh0KSlyZXR1cm47aSh0aGlzLl94aHIsdCl9cmV0dXJuIHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHA6IiwiaHR0cDoiKSx0PXQucmVwbGFjZSgiZmlsZTpodHRwczoiLCJodHRwczoiKSx0aGlzLl9yZXF1ZXN0VVJMPXQsdGhpcy5feGhyLm9wZW4oZSx0LCEwKX1zZXRSZXF1ZXN0SGVhZGVyKGUsdCl7dGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoZSx0KX1nZXRSZXNwb25zZUhlYWRlcihlKXtyZXR1cm4gdGhpcy5feGhyLmdldFJlc3BvbnNlSGVhZGVyKGUpfX1jdC5DdXN0b21SZXF1ZXN0SGVhZGVycz17fSxjdC5DdXN0b21SZXF1ZXN0TW9kaWZpZXJzPW5ldyBBcnJheSxjdC5Ta2lwUmVxdWVzdE1vZGlmaWNhdGlvbkZvckJhYnlsb25DRE49ITA7Y2xhc3MgRml7fUZpLkZpbGVzVG9Mb2FkPXt9O2NsYXNzIEVue3N0YXRpYyBFeHBvbmVudGlhbEJhY2tvZmYoZT0zLHQ9NTAwKXtyZXR1cm4oaSxzLHIpPT5zLnN0YXR1cyE9PTB8fHI+PWV8fGkuaW5kZXhPZigiZmlsZToiKSE9PS0xPy0xOk1hdGgucG93KDIscikqdH19Y2xhc3MgdmkgZXh0ZW5kcyBFcnJvcnt9dmkuX3NldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KChjLGUpPT4oYy5fX3Byb3RvX189ZSxjKSk7Y29uc3Qgb2k9e01lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3I6MCxVbnN1cHBvcnRlZFRleHR1cmVFcnJvcjoxZTMsR0xURkxvYWRlclVuZXhwZWN0ZWRNYWdpY0Vycm9yOjJlMyxTY2VuZUxvYWRlckVycm9yOjNlMyxMb2FkRmlsZUVycm9yOjRlMyxSZXF1ZXN0RmlsZUVycm9yOjQwMDEsUmVhZEZpbGVFcnJvcjo0MDAyfTtjbGFzcyBOdCBleHRlbmRzIHZpe2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlKSx0aGlzLmVycm9yQ29kZT10LHRoaXMuaW5uZXJFcnJvcj1pLHRoaXMubmFtZT0iUnVudGltZUVycm9yIix2aS5fc2V0UHJvdG90eXBlT2YodGhpcyxOdC5wcm90b3R5cGUpfX1jb25zdCBzcj1jPT57Y29uc3QgZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iO2xldCB0PSIiLGkscyxyLG4sYSxvLGgsbD0wO2NvbnN0IHU9QXJyYXlCdWZmZXIuaXNWaWV3KGMpP25ldyBVaW50OEFycmF5KGMuYnVmZmVyLGMuYnl0ZU9mZnNldCxjLmJ5dGVMZW5ndGgpOm5ldyBVaW50OEFycmF5KGMpO2Zvcig7bDx1Lmxlbmd0aDspaT11W2wrK10scz1sPHUubGVuZ3RoP3VbbCsrXTpOdW1iZXIuTmFOLHI9bDx1Lmxlbmd0aD91W2wrK106TnVtYmVyLk5hTixuPWk+PjIsYT0oaSYzKTw8NHxzPj40LG89KHMmMTUpPDwyfHI+PjYsaD1yJjYzLGlzTmFOKHMpP289aD02NDppc05hTihyKSYmKGg9NjQpLHQrPWUuY2hhckF0KG4pK2UuY2hhckF0KGEpK2UuY2hhckF0KG8pK2UuY2hhckF0KGgpO3JldHVybiB0fSxycj1jPT5hdG9iKGMpLHZuPWM9Pntjb25zdCBlPXJyKGMpLHQ9ZS5sZW5ndGgsaT1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIodCkpO2ZvcihsZXQgcz0wO3M8dDtzKyspaVtzXT1lLmNoYXJDb2RlQXQocyk7cmV0dXJuIGkuYnVmZmVyfTtjbGFzcyBYaXtzdGF0aWMgU2V0SW1tZWRpYXRlKGUpe2plKCkmJndpbmRvdy5zZXRJbW1lZGlhdGU/d2luZG93LnNldEltbWVkaWF0ZShlKTpzZXRUaW1lb3V0KGUsMSl9fWNvbnN0IG5yPW5ldyBSZWdFeHAoL15kYXRhOihbXixdK1wvW14sXSspPztiYXNlNjQsL2kpO2NsYXNzIEhpIGV4dGVuZHMgTnR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLG9pLkxvYWRGaWxlRXJyb3IpLHRoaXMubmFtZT0iTG9hZEZpbGVFcnJvciIsdmkuX3NldFByb3RvdHlwZU9mKHRoaXMsSGkucHJvdG90eXBlKSx0IGluc3RhbmNlb2YgY3Q/dGhpcy5yZXF1ZXN0PXQ6dGhpcy5maWxlPXR9fWNsYXNzIEtpIGV4dGVuZHMgTnR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLG9pLlJlcXVlc3RGaWxlRXJyb3IpLHRoaXMucmVxdWVzdD10LHRoaXMubmFtZT0iUmVxdWVzdEZpbGVFcnJvciIsdmkuX3NldFByb3RvdHlwZU9mKHRoaXMsS2kucHJvdG90eXBlKX19Y2xhc3MgVHMgZXh0ZW5kcyBOdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsb2kuUmVhZEZpbGVFcnJvciksdGhpcy5maWxlPXQsdGhpcy5uYW1lPSJSZWFkRmlsZUVycm9yIix2aS5fc2V0UHJvdG90eXBlT2YodGhpcyxUcy5wcm90b3R5cGUpfX1jb25zdCBxZT17RGVmYXVsdFJldHJ5U3RyYXRlZ3k6RW4uRXhwb25lbnRpYWxCYWNrb2ZmKCksQmFzZVVybDoiIixDb3JzQmVoYXZpb3I6ImFub255bW91cyIsUHJlcHJvY2Vzc1VybDpjPT5jfSxhcj1jPT4oYz1jLnJlcGxhY2UoLyMvZ20sIiUyMyIpLGMpLGJzPShjLGUpPT57aWYoIShjJiZjLmluZGV4T2YoImRhdGE6Iik9PT0wKSYmcWUuQ29yc0JlaGF2aW9yKWlmKHR5cGVvZiBxZS5Db3JzQmVoYXZpb3I9PSJzdHJpbmcifHxxZS5Db3JzQmVoYXZpb3IgaW5zdGFuY2VvZiBTdHJpbmcpZS5jcm9zc09yaWdpbj1xZS5Db3JzQmVoYXZpb3I7ZWxzZXtjb25zdCB0PXFlLkNvcnNCZWhhdmlvcihjKTt0JiYoZS5jcm9zc09yaWdpbj10KX19LFNzPShjLGUsdCxpLHM9IiIscik9Pnt2YXIgbjtsZXQgYSxvPSExO2MgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGMpP3R5cGVvZiBCbG9iPCJ1IiYmdHlwZW9mIFVSTDwidSI/KGE9VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbY10se3R5cGU6c30pKSxvPSEwKTphPWBkYXRhOiR7c307YmFzZTY0LGArc3IoYyk6YyBpbnN0YW5jZW9mIEJsb2I/KGE9VVJMLmNyZWF0ZU9iamVjdFVSTChjKSxvPSEwKTooYT1hcihjKSxhPXFlLlByZXByb2Nlc3NVcmwoYykpO2NvbnN0IGg9ZmUuTGFzdENyZWF0ZWRFbmdpbmUsbD1iPT57aWYodCl7Y29uc3QgTT1hfHxjLnRvU3RyaW5nKCk7dChgRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICR7TS5pbmRleE9mKCJodHRwIik9PT0wfHxNLmxlbmd0aDw9MTI4P006TS5zbGljZSgwLDEyOCkrIi4uLiJ9YCxiKX19O2lmKHR5cGVvZiBJbWFnZT4idSJ8fChuPWg9PW51bGw/dm9pZCAwOmguX2ZlYXR1cmVzLmZvcmNlQml0bWFwT3ZlckhUTUxJbWFnZUVsZW1lbnQpIT09bnVsbCYmbiE9PXZvaWQgMCYmbilyZXR1cm4ganQoYSxiPT57aC5jcmVhdGVJbWFnZUJpdG1hcChuZXcgQmxvYihbYl0se3R5cGU6c30pLHtwcmVtdWx0aXBseUFscGhhOiJub25lIiwuLi5yfSkudGhlbihNPT57ZShNKSxvJiZVUkwucmV2b2tlT2JqZWN0VVJMKGEpfSkuY2F0Y2goTT0+e3QmJnQoIkVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAiK2MsTSl9KX0sdm9pZCAwLGl8fHZvaWQgMCwhMCwoYixNKT0+e2woTSl9KSxudWxsO2NvbnN0IHU9bmV3IEltYWdlO2JzKGEsdSk7Y29uc3QgZD1bXSxmPSgpPT57ZC5mb3JFYWNoKGI9PntiLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIubmFtZSxiLmhhbmRsZXIpfSl9LF89KCk9PntkLmZvckVhY2goYj0+e2IudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYi5uYW1lLGIuaGFuZGxlcil9KSxkLmxlbmd0aD0wfSxFPSgpPT57XygpLGUodSksbyYmdS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodS5zcmMpfSxtPWI9PntfKCksbChiKSxvJiZ1LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh1LnNyYyl9LHY9Yj0+e18oKTtjb25zdCBNPW5ldyBFcnJvcihgQ1NQIHZpb2xhdGlvbiBvZiBwb2xpY3kgJHtiLmVmZmVjdGl2ZURpcmVjdGl2ZX0gJHtiLmJsb2NrZWRVUkl9LiBDdXJyZW50IHBvbGljeSBpcyAke2Iub3JpZ2luYWxQb2xpY3l9YCk7ZmUuVXNlRmFsbGJhY2tUZXh0dXJlPSExLGwoTSksbyYmdS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodS5zcmMpLHUuc3JjPSIifTtkLnB1c2goe3RhcmdldDp1LG5hbWU6ImxvYWQiLGhhbmRsZXI6RX0pLGQucHVzaCh7dGFyZ2V0OnUsbmFtZToiZXJyb3IiLGhhbmRsZXI6bX0pLGQucHVzaCh7dGFyZ2V0OmRvY3VtZW50LG5hbWU6InNlY3VyaXR5cG9saWN5dmlvbGF0aW9uIixoYW5kbGVyOnZ9KSxmKCk7Y29uc3QgUz1hLnN1YnN0cmluZygwLDUpPT09ImJsb2I6Iix5PWEuc3Vic3RyaW5nKDAsNSk9PT0iZGF0YToiLEE9KCk9PntTfHx5P3Uuc3JjPWE6anQoYSwoYixNLEwpPT57Y29uc3Qgaz0hcyYmTD9MOnMsdz1uZXcgQmxvYihbYl0se3R5cGU6a30pLGRlPVVSTC5jcmVhdGVPYmplY3RVUkwodyk7bz0hMCx1LnNyYz1kZX0sdm9pZCAwLGl8fHZvaWQgMCwhMCwoYixNKT0+e2woTSl9KX0sQz0oKT0+e2kmJmkubG9hZEltYWdlKGEsdSl9O2lmKCFTJiYheSYmaSYmaS5lbmFibGVUZXh0dXJlc09mZmxpbmUpaS5vcGVuKEMsQSk7ZWxzZXtpZihhLmluZGV4T2YoImZpbGU6IikhPT0tMSl7Y29uc3QgYj1kZWNvZGVVUklDb21wb25lbnQoYS5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7aWYoRmkuRmlsZXNUb0xvYWRbYl0mJnR5cGVvZiBVUkw8InUiKXt0cnl7bGV0IE07dHJ5e009VVJMLmNyZWF0ZU9iamVjdFVSTChGaS5GaWxlc1RvTG9hZFtiXSl9Y2F0Y2h7TT1VUkwuY3JlYXRlT2JqZWN0VVJMKEZpLkZpbGVzVG9Mb2FkW2JdKX11LnNyYz1NLG89ITB9Y2F0Y2h7dS5zcmM9IiJ9cmV0dXJuIHV9fUEoKX1yZXR1cm4gdX0sd2k9KGMsZSx0LGkscyk9Pntjb25zdCByPW5ldyBGaWxlUmVhZGVyLG49e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBGLGFib3J0OigpPT5yLmFib3J0KCl9O3JldHVybiByLm9ubG9hZGVuZD0oKT0+bi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobikscyYmKHIub25lcnJvcj0oKT0+e3MobmV3IFRzKGBVbmFibGUgdG8gcmVhZCAke2MubmFtZX1gLGMpKX0pLHIub25sb2FkPWE9PntlKGEudGFyZ2V0LnJlc3VsdCl9LHQmJihyLm9ucHJvZ3Jlc3M9dCksaT9yLnJlYWRBc0FycmF5QnVmZmVyKGMpOnIucmVhZEFzVGV4dChjKSxufSxqdD0oYyxlLHQsaSxzLHIsbik9PntpZihjLm5hbWUpcmV0dXJuIHdpKGMsZSx0LHMscj9sPT57cih2b2lkIDAsbCl9OnZvaWQgMCk7Y29uc3QgYT1jO2lmKGEuaW5kZXhPZigiZmlsZToiKSE9PS0xKXtsZXQgbD1kZWNvZGVVUklDb21wb25lbnQoYS5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7bC5pbmRleE9mKCIuLyIpPT09MCYmKGw9bC5zdWJzdHJpbmcoMikpO2NvbnN0IHU9RmkuRmlsZXNUb0xvYWRbbF07aWYodSlyZXR1cm4gd2kodSxlLHQscyxyP2Q9PnIodm9pZCAwLG5ldyBIaShkLm1lc3NhZ2UsZC5maWxlKSk6dm9pZCAwKX1jb25zdHttYXRjaDpvLHR5cGU6aH09VG4oYSk7aWYobyl7Y29uc3QgbD17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IEYsYWJvcnQ6KCk9PigpPT57fX07dHJ5e2NvbnN0IHU9cz9BcyhhKTpocihhKTtlKHUsdm9pZCAwLGgpfWNhdGNoKHUpe3I/cih2b2lkIDAsdSk6Ty5FcnJvcih1Lm1lc3NhZ2V8fCJGYWlsZWQgdG8gcGFyc2UgdGhlIERhdGEgVVJMIil9cmV0dXJuIFhpLlNldEltbWVkaWF0ZSgoKT0+e2wub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwpfSksbH1yZXR1cm4geHMoYSwobCx1KT0+e2UobCx1PT1udWxsP3ZvaWQgMDp1LnJlc3BvbnNlVVJMLHU9PW51bGw/dm9pZCAwOnUuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKX0sdCxpLHMscj9sPT57cihsLnJlcXVlc3QsbmV3IEhpKGwubWVzc2FnZSxsLnJlcXVlc3QpKX06dm9pZCAwLG4pfSx4cz0oYyxlLHQsaSxzLHIsbik9PntjPWFyKGMpLGM9cWUuUHJlcHJvY2Vzc1VybChjKTtjb25zdCBhPXFlLkJhc2VVcmwrYztsZXQgbz0hMTtjb25zdCBoPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgRixhYm9ydDooKT0+bz0hMH0sbD0oKT0+e2xldCB1PW5ldyBjdCxkPW51bGwsZjtjb25zdCBfPSgpPT57dSYmKHQmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLGYmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZiksdS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIixFKSl9O2xldCBFPSgpPT57XygpLGgub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpLGgub25Db21wbGV0ZU9ic2VydmFibGUuY2xlYXIoKSx0PXZvaWQgMCxmPW51bGwsRT1udWxsLHI9dm9pZCAwLG49dm9pZCAwLGU9dm9pZCAwfTtoLmFib3J0PSgpPT57bz0hMCxFJiZFKCksdSYmdS5yZWFkeVN0YXRlIT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpJiZ1LmFib3J0KCksZCE9PW51bGwmJihjbGVhclRpbWVvdXQoZCksZD1udWxsKSx1PW51bGx9O2NvbnN0IG09Uz0+e2NvbnN0IHk9Uy5tZXNzYWdlfHwiVW5rbm93biBlcnJvciI7ciYmdT9yKG5ldyBLaSh5LHUpKTpPLkVycm9yKHkpfSx2PVM9PntpZih1KXtpZih1Lm9wZW4oIkdFVCIsYSksbil0cnl7bih1KX1jYXRjaCh5KXttKHkpO3JldHVybn1zJiYodS5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIiksdCYmdS5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdCksRSYmdS5hZGRFdmVudExpc3RlbmVyKCJsb2FkZW5kIixFKSxmPSgpPT57aWYoIShvfHwhdSkmJnUucmVhZHlTdGF0ZT09PShYTUxIdHRwUmVxdWVzdC5ET05FfHw0KSl7aWYoZiYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixmKSx1LnN0YXR1cz49MjAwJiZ1LnN0YXR1czwzMDB8fHUuc3RhdHVzPT09MCYmKCFqZSgpfHxvcigpKSl7dHJ5e2UmJmUocz91LnJlc3BvbnNlOnUucmVzcG9uc2VUZXh0LHUpfWNhdGNoKEMpe20oQyl9cmV0dXJufWNvbnN0IHk9cWUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k7aWYoeSl7Y29uc3QgQz15KGEsdSxTKTtpZihDIT09LTEpe18oKSx1PW5ldyBjdCxkPXNldFRpbWVvdXQoKCk9PnYoUysxKSxDKTtyZXR1cm59fWNvbnN0IEE9bmV3IEtpKCJFcnJvciBzdGF0dXM6ICIrdS5zdGF0dXMrIiAiK3Uuc3RhdHVzVGV4dCsiIC0gVW5hYmxlIHRvIGxvYWQgIithLHUpO3ImJnIoQSl9fSx1LmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGYpLHUuc2VuZCgpfX07digwKX07aWYoaSYmaS5lbmFibGVTY2VuZU9mZmxpbmUpe2NvbnN0IHU9Zj0+e2YmJmYuc3RhdHVzPjQwMD9yJiZyKGYpOmwoKX0sZD0oKT0+e2kmJmkubG9hZEZpbGUocWUuQmFzZVVybCtjLGY9PnshbyYmZSYmZShmKSxoLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoKX0sdD9mPT57IW8mJnQmJnQoZil9OnZvaWQgMCx1LHMpfTtpLm9wZW4oZCx1KX1lbHNlIGwoKTtyZXR1cm4gaH0sb3I9KCk9PnR5cGVvZiBsb2NhdGlvbjwidSImJmxvY2F0aW9uLnByb3RvY29sPT09ImZpbGU6IixNcz1jPT5uci50ZXN0KGMpLFRuPWM9Pntjb25zdCBlPW5yLmV4ZWMoYyk7cmV0dXJuIGU9PT1udWxsfHxlLmxlbmd0aD09PTA/e21hdGNoOiExLHR5cGU6IiJ9OnttYXRjaDohMCx0eXBlOmVbMF0ucmVwbGFjZSgiZGF0YToiLCIiKS5yZXBsYWNlKCJiYXNlNjQsIiwiIil9fTtmdW5jdGlvbiBBcyhjKXtyZXR1cm4gdm4oYy5zcGxpdCgiLCIpWzFdKX1jb25zdCBocj1jPT5ycihjLnNwbGl0KCIsIilbMV0pOygoKT0+e29lLl9GaWxlVG9vbHNMb2FkSW1hZ2U9U3Msb2UuX0ZpbGVUb29sc0xvYWRGaWxlPWp0LG5pLl9GaWxlVG9vbHNMb2FkRmlsZT1qdH0pKCk7bGV0IE9pOygoYyxlLHQsaSxzLHIsbixhLG8saCk9PntPaT17RGVjb2RlQmFzZTY0VXJsVG9CaW5hcnk6YyxEZWNvZGVCYXNlNjRVcmxUb1N0cmluZzplLERlZmF1bHRSZXRyeVN0cmF0ZWd5OnQuRGVmYXVsdFJldHJ5U3RyYXRlZ3ksQmFzZVVybDp0LkJhc2VVcmwsQ29yc0JlaGF2aW9yOnQuQ29yc0JlaGF2aW9yLFByZXByb2Nlc3NVcmw6dC5QcmVwcm9jZXNzVXJsLElzQmFzZTY0RGF0YVVybDppLElzRmlsZVVSTDpzLExvYWRGaWxlOnIsTG9hZEltYWdlOm4sUmVhZEZpbGU6YSxSZXF1ZXN0RmlsZTpvLFNldENvcnNCZWhhdmlvcjpofSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT2ksIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihsKXt0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE9pLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGwpe3QuQmFzZVVybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPaSwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlByZXByb2Nlc3NVcmx9LHNldDpmdW5jdGlvbihsKXt0LlByZXByb2Nlc3NVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT2ksIkNvcnNCZWhhdmlvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGwpe3QuQ29yc0JlaGF2aW9yPWx9fSl9KShBcyxocixxZSxNcyxvcixqdCxTcyx3aSx4cyxicyk7Y2xhc3MgTGl7c3RhdGljIEluc3RhbnRpYXRlKGUpe2lmKHRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyYmdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdKXJldHVybiB0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXNbZV07Y29uc3QgdD1yaShlKTtpZih0KXJldHVybiB0O08uV2FybihlKyIgbm90IGZvdW5kLCB5b3UgbWF5IGhhdmUgbWlzc2VkIGFuIGltcG9ydC4iKTtjb25zdCBpPWUuc3BsaXQoIi4iKTtsZXQgcz13aW5kb3d8fHRoaXM7Zm9yKGxldCByPTAsbj1pLmxlbmd0aDtyPG47cisrKXM9c1tpW3JdXTtyZXR1cm4gdHlwZW9mIHMhPSJmdW5jdGlvbiI/bnVsbDpzfX1MaS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9O2Z1bmN0aW9uIGxyKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLGM9Pntjb25zdCBlPU1hdGgucmFuZG9tKCkqMTZ8MDtyZXR1cm4oYz09PSJ4Ij9lOmUmM3w4KS50b1N0cmluZygxNil9KX1jbGFzcyBIe3N0YXRpYyBnZXQgQmFzZVVybCgpe3JldHVybiBxZS5CYXNlVXJsfXN0YXRpYyBzZXQgQmFzZVVybChlKXtxZS5CYXNlVXJsPWV9c3RhdGljIGdldCBEZWZhdWx0UmV0cnlTdHJhdGVneSgpe3JldHVybiBxZS5EZWZhdWx0UmV0cnlTdHJhdGVneX1zdGF0aWMgc2V0IERlZmF1bHRSZXRyeVN0cmF0ZWd5KGUpe3FlLkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWV9c3RhdGljIGdldCBDb3JzQmVoYXZpb3IoKXtyZXR1cm4gcWUuQ29yc0JlaGF2aW9yfXN0YXRpYyBzZXQgQ29yc0JlaGF2aW9yKGUpe3FlLkNvcnNCZWhhdmlvcj1lfXN0YXRpYyBnZXQgVXNlRmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGZlLlVzZUZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IFVzZUZhbGxiYWNrVGV4dHVyZShlKXtmZS5Vc2VGYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgZ2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoKXtyZXR1cm4gTGkuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc31zdGF0aWMgc2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoZSl7TGkuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz1lfXN0YXRpYyBnZXQgZmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGZlLkZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IGZhbGxiYWNrVGV4dHVyZShlKXtmZS5GYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgRmV0Y2hUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1NYXRoLmFicyhlKSppJWl8MCxvPU1hdGguYWJzKHQpKnMlc3wwLGg9KGErbyppKSo0O24ucj1yW2hdLzI1NSxuLmc9cltoKzFdLzI1NSxuLmI9cltoKzJdLzI1NSxuLmE9cltoKzNdLzI1NX1zdGF0aWMgTWl4KGUsdCxpKXtyZXR1cm4gZSooMS1pKSt0Kml9c3RhdGljIEluc3RhbnRpYXRlKGUpe3JldHVybiBMaS5JbnN0YW50aWF0ZShlKX1zdGF0aWMgU2V0SW1tZWRpYXRlKGUpe1hpLlNldEltbWVkaWF0ZShlKX1zdGF0aWMgSXNFeHBvbmVudE9mVHdvKGUpe2xldCB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX1zdGF0aWMgRmxvYXRSb3VuZChlKXtyZXR1cm4gTWF0aC5mcm91bmQ/TWF0aC5mcm91bmQoZSk6KEguX1RtcEZsb2F0QXJyYXlbMF09ZSxILl9UbXBGbG9hdEFycmF5WzBdKX1zdGF0aWMgR2V0RmlsZW5hbWUoZSl7Y29uc3QgdD1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIHQ8MD9lOmUuc3Vic3RyaW5nKHQrMSl9c3RhdGljIEdldEZvbGRlclBhdGgoZSx0PSExKXtjb25zdCBpPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gaTwwP3Q/ZToiIjplLnN1YnN0cmluZygwLGkrMSl9c3RhdGljIFRvRGVncmVlcyhlKXtyZXR1cm4gZSoxODAvTWF0aC5QSX1zdGF0aWMgVG9SYWRpYW5zKGUpe3JldHVybiBlKk1hdGguUEkvMTgwfXN0YXRpYyBTbW9vdGhBbmdsZUNoYW5nZShlLHQsaT0uOSl7Y29uc3Qgcz10aGlzLlRvUmFkaWFucyhlKSxyPXRoaXMuVG9SYWRpYW5zKHQpO3JldHVybiB0aGlzLlRvRGVncmVlcyhNYXRoLmF0YW4yKCgxLWkpKk1hdGguc2luKHIpK2kqTWF0aC5zaW4ocyksKDEtaSkqTWF0aC5jb3MocikraSpNYXRoLmNvcyhzKSkpfXN0YXRpYyBNYWtlQXJyYXkoZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfXN0YXRpYyBHZXRQb2ludGVyUHJlZml4KGUpe2xldCB0PSJwb2ludGVyIjtyZXR1cm4gamUoKSYmIXdpbmRvdy5Qb2ludGVyRXZlbnQmJih0PSJtb3VzZSIpLGUuX2JhZERlc2t0b3BPUyYmIWUuX2JhZE9TJiYhKGRvY3VtZW50JiYib250b3VjaGVuZCJpbiBkb2N1bWVudCkmJih0PSJtb3VzZSIpLHR9c3RhdGljIFNldENvcnNCZWhhdmlvcihlLHQpe2JzKGUsdCl9c3RhdGljIFNldFJlZmVycmVyUG9saWN5QmVoYXZpb3IoZSx0KXt0LnJlZmVycmVyUG9saWN5PWV9c3RhdGljIENsZWFuVXJsKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX1zdGF0aWMgZ2V0IFByZXByb2Nlc3NVcmwoKXtyZXR1cm4gcWUuUHJlcHJvY2Vzc1VybH1zdGF0aWMgc2V0IFByZXByb2Nlc3NVcmwoZSl7cWUuUHJlcHJvY2Vzc1VybD1lfXN0YXRpYyBMb2FkSW1hZ2UoZSx0LGkscyxyLG4pe3JldHVybiBTcyhlLHQsaSxzLHIsbil9c3RhdGljIExvYWRGaWxlKGUsdCxpLHMscixuKXtyZXR1cm4ganQoZSx0LGkscyxyLG4pfXN0YXRpYyBMb2FkRmlsZUFzeW5jKGUsdD0hMCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57anQoZSxyPT57aShyKX0sdm9pZCAwLHZvaWQgMCx0LChyLG4pPT57cyhuKX0pfSl9c3RhdGljIExvYWRTY3JpcHQoZSx0LGkscyl7aWYodHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIpe3RyeXtpbXBvcnRTY3JpcHRzKGUpLHQoKX1jYXRjaChhKXtpPT1udWxsfHxpKGBVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyR7ZX0nIGluIHdvcmtlcmAsYSl9cmV0dXJufWVsc2UgaWYoIWplKCkpe2k9PW51bGx8fGkoYENhbm5vdCBsb2FkIHNjcmlwdCAnJHtlfScgb3V0c2lkZSBvZiBhIHdpbmRvdyBvciBhIHdvcmtlcmApO3JldHVybn1jb25zdCByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0sbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtuLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvamF2YXNjcmlwdCIpLG4uc2V0QXR0cmlidXRlKCJzcmMiLGUpLHMmJihuLmlkPXMpLG4ub25sb2FkPSgpPT57dCYmdCgpfSxuLm9uZXJyb3I9YT0+e2kmJmkoYFVuYWJsZSB0byBsb2FkIHNjcmlwdCAnJHtlfSdgLGEpfSxyLmFwcGVuZENoaWxkKG4pfXN0YXRpYyBMb2FkU2NyaXB0QXN5bmMoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGkpPT57dGhpcy5Mb2FkU2NyaXB0KGUsKCk9Pnt0KCl9LChzLHIpPT57aShyfHxuZXcgRXJyb3IocykpfSl9KX1zdGF0aWMgUmVhZEZpbGVBc0RhdGFVUkwoZSx0LGkpe2NvbnN0IHM9bmV3IEZpbGVSZWFkZXIscj17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IEYsYWJvcnQ6KCk9PnMuYWJvcnQoKX07cmV0dXJuIHMub25sb2FkZW5kPSgpPT57ci5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9LHMub25sb2FkPW49Pnt0KG4udGFyZ2V0LnJlc3VsdCl9LHMub25wcm9ncmVzcz1pLHMucmVhZEFzRGF0YVVSTChlKSxyfXN0YXRpYyBSZWFkRmlsZShlLHQsaSxzLHIpe3JldHVybiB3aShlLHQsaSxzLHIpfXN0YXRpYyBGaWxlQXNVUkwoZSl7Y29uc3QgdD1uZXcgQmxvYihbZV0pO3JldHVybiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0KX1zdGF0aWMgRm9ybWF0KGUsdD0yKXtyZXR1cm4gZS50b0ZpeGVkKHQpfXN0YXRpYyBEZWVwQ29weShlLHQsaSxzKXt2cy5EZWVwQ29weShlLHQsaSxzKX1zdGF0aWMgSXNFbXB0eShlKXtmb3IoY29uc3QgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfXN0YXRpYyBSZWdpc3RlclRvcFJvb3RFdmVudHMoZSx0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2UuYWRkRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyLCExKTt0cnl7d2luZG93LnBhcmVudCYmd2luZG93LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIsITEpfWNhdGNoe319fXN0YXRpYyBVbnJlZ2lzdGVyVG9wUm9vdEV2ZW50cyhlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07ZS5yZW1vdmVFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIpO3RyeXtlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyKX1jYXRjaHt9fX1zdGF0aWMgYXN5bmMgRHVtcEZyYW1lYnVmZmVyKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuKXt0aHJvdyAkKCJEdW1wVG9vbHMiKX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe3Rocm93ICQoIkR1bXBUb29scyIpfXN0YXRpYyBEdW1wRGF0YUFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscixuPSExLGE9ITEsbyl7dGhyb3cgJCgiRHVtcFRvb2xzIil9c3RhdGljIFRvQmxvYihlLHQsaT0iaW1hZ2UvcG5nIixzKXtlLnRvQmxvYnx8KGUudG9CbG9iPWZ1bmN0aW9uKHIsbixhKXtzZXRUaW1lb3V0KCgpPT57Y29uc3Qgbz1hdG9iKHRoaXMudG9EYXRhVVJMKG4sYSkuc3BsaXQoIiwiKVsxXSksaD1vLmxlbmd0aCxsPW5ldyBVaW50OEFycmF5KGgpO2ZvcihsZXQgdT0wO3U8aDt1KyspbFt1XT1vLmNoYXJDb2RlQXQodSk7cihuZXcgQmxvYihbbF0pKX0pfSksZS50b0Jsb2IoZnVuY3Rpb24ocil7dChyKX0saSxzKX1zdGF0aWMgRG93bmxvYWRCbG9iKGUsdCl7aWYoImRvd25sb2FkImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSl7aWYoIXQpe2NvbnN0IGk9bmV3IERhdGU7dD0ic2NyZWVuc2hvdF8iKygoaS5nZXRGdWxsWWVhcigpKyItIisoaS5nZXRNb250aCgpKzEpKS5zbGljZSgyKSsiLSIraS5nZXREYXRlKCkrIl8iK2kuZ2V0SG91cnMoKSsiLSIrKCIwIitpLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpKSsiLnBuZyJ9SC5Eb3dubG9hZChlLHQpfWVsc2UgaWYoZSYmdHlwZW9mIFVSTDwidSIpe2NvbnN0IGk9VVJMLmNyZWF0ZU9iamVjdFVSTChlKSxzPXdpbmRvdy5vcGVuKCIiKTtpZighcylyZXR1cm47Y29uc3Qgcj1zLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3Iub25sb2FkPWZ1bmN0aW9uKCl7VVJMLnJldm9rZU9iamVjdFVSTChpKX0sci5zcmM9aSxzLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocil9fXN0YXRpYyBFbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShlLHQsaT0iaW1hZ2UvcG5nIixzLHIpe2lmKHQpe2NvbnN0IG49ZS50b0RhdGFVUkwoaSxyKTt0KG4pfWVsc2UgdGhpcy5Ub0Jsb2IoZSxmdW5jdGlvbihuKXtuJiZILkRvd25sb2FkQmxvYihuLHMpfSxpLHIpfXN0YXRpYyBEb3dubG9hZChlLHQpe2lmKHR5cGVvZiBVUkw+InUiKXJldHVybjtjb25zdCBpPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocykscy5zdHlsZS5kaXNwbGF5PSJub25lIixzLmhyZWY9aSxzLmRvd25sb2FkPXQscy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PntzLnBhcmVudEVsZW1lbnQmJnMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChzKX0pLHMuY2xpY2soKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChpKX1zdGF0aWMgQmFja0NvbXBhdENhbWVyYU5vUHJldmVudERlZmF1bHQoZSl7cmV0dXJuIHR5cGVvZiBlWzBdPT0iYm9vbGVhbiI/ZVswXTp0eXBlb2YgZVsxXT09ImJvb2xlYW4iP2VbMV06ITF9c3RhdGljIENyZWF0ZVNjcmVlbnNob3QoZSx0LGkscyxyPSJpbWFnZS9wbmciKXt0aHJvdyAkKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdEFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIpe3Rocm93ICQoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXQoZSx0LGkscyxyPSJpbWFnZS9wbmciLG49MSxhPSExLG8pe3Rocm93ICQoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXRBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHI9MSxuPSExLGEpe3Rocm93ICQoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBSYW5kb21JZCgpe3JldHVybiBscigpfXN0YXRpYyBJc0Jhc2U2NChlKXtyZXR1cm4gTXMoZSl9c3RhdGljIERlY29kZUJhc2U2NChlKXtyZXR1cm4gQXMoZSl9c3RhdGljIGdldCBlcnJvcnNDb3VudCgpe3JldHVybiBPLmVycm9yc0NvdW50fXN0YXRpYyBMb2coZSl7Ty5Mb2coZSl9c3RhdGljIFdhcm4oZSl7Ty5XYXJuKGUpfXN0YXRpYyBFcnJvcihlKXtPLkVycm9yKGUpfXN0YXRpYyBnZXQgTG9nQ2FjaGUoKXtyZXR1cm4gTy5Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uQ2xlYXJMb2dDYWNoZSgpfXN0YXRpYyBzZXQgTG9nTGV2ZWxzKGUpe08uTG9nTGV2ZWxzPWV9c3RhdGljIHNldCBQZXJmb3JtYW5jZUxvZ0xldmVsKGUpe2lmKChlJkguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKT09PUguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKXtILlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPUguX1N0YXJ0VXNlck1hcmssSC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fRW5kVXNlck1hcms7cmV0dXJufWlmKChlJkguUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWwpPT09SC5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCl7SC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1ILl9TdGFydFBlcmZvcm1hbmNlQ29uc29sZSxILkVuZFBlcmZvcm1hbmNlQ291bnRlcj1ILl9FbmRQZXJmb3JtYW5jZUNvbnNvbGU7cmV0dXJufUguU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxILkVuZFBlcmZvcm1hbmNlQ291bnRlcj1ILl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZH1zdGF0aWMgX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQoZSx0KXt9c3RhdGljIF9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZChlLHQpe31zdGF0aWMgX1N0YXJ0VXNlck1hcmsoZSx0PSEwKXtpZighSC5fUGVyZm9ybWFuY2Upe2lmKCFqZSgpKXJldHVybjtILl9QZXJmb3JtYW5jZT13aW5kb3cucGVyZm9ybWFuY2V9IXR8fCFILl9QZXJmb3JtYW5jZS5tYXJrfHxILl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1CZWdpbiIpfXN0YXRpYyBfRW5kVXNlck1hcmsoZSx0PSEwKXshdHx8IUguX1BlcmZvcm1hbmNlLm1hcmt8fChILl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1FbmQiKSxILl9QZXJmb3JtYW5jZS5tZWFzdXJlKGUsZSsiLUJlZ2luIixlKyItRW5kIikpfXN0YXRpYyBfU3RhcnRQZXJmb3JtYW5jZUNvbnNvbGUoZSx0PSEwKXt0JiYoSC5fU3RhcnRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZSYmY29uc29sZS50aW1lKGUpKX1zdGF0aWMgX0VuZFBlcmZvcm1hbmNlQ29uc29sZShlLHQ9ITApe3QmJihILl9FbmRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZUVuZChlKSl9c3RhdGljIGdldCBOb3coKXtyZXR1cm4gYWkuTm93fXN0YXRpYyBHZXRDbGFzc05hbWUoZSx0PSExKXtsZXQgaT1udWxsO3JldHVybiF0JiZlLmdldENsYXNzTmFtZT9pPWUuZ2V0Q2xhc3NOYW1lKCk6KGUgaW5zdGFuY2VvZiBPYmplY3QmJihpPSh0P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKS5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fKSxpfHwoaT10eXBlb2YgZSkpLGl9c3RhdGljIEZpcnN0KGUsdCl7Zm9yKGNvbnN0IGkgb2YgZSlpZih0KGkpKXJldHVybiBpO3JldHVybiBudWxsfXN0YXRpYyBnZXRGdWxsQ2xhc3NOYW1lKGUsdD0hMSl7bGV0IGk9bnVsbCxzPW51bGw7aWYoIXQmJmUuZ2V0Q2xhc3NOYW1lKWk9ZS5nZXRDbGFzc05hbWUoKTtlbHNle2lmKGUgaW5zdGFuY2VvZiBPYmplY3Qpe2NvbnN0IHI9dD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtpPXIuY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfXyxzPXIuY29uc3RydWN0b3IuX19ianNtb2R1bGVOYW1lX199aXx8KGk9dHlwZW9mIGUpfXJldHVybiBpPyhzIT1udWxsP3MrIi4iOiIiKStpOm51bGx9c3RhdGljIERlbGF5QXN5bmMoZSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntzZXRUaW1lb3V0KCgpPT57dCgpfSxlKX0pfXN0YXRpYyBJc1NhZmFyaSgpe3JldHVybiBKcygpPy9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk6ITF9fUguVXNlQ3VzdG9tUmVxdWVzdEhlYWRlcnM9ITEsSC5DdXN0b21SZXF1ZXN0SGVhZGVycz1jdC5DdXN0b21SZXF1ZXN0SGVhZGVycyxILl9UbXBGbG9hdEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMSksSC5HZXRET01UZXh0Q29udGVudD1ncyxILkdldEFic29sdXRlVXJsPXR5cGVvZiBkb2N1bWVudD09Im9iamVjdCI/Yz0+e2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBlLmhyZWY9YyxlLmhyZWZ9OnR5cGVvZiBVUkw9PSJmdW5jdGlvbiImJnR5cGVvZiBsb2NhdGlvbj09Im9iamVjdCI/Yz0+bmV3IFVSTChjLGxvY2F0aW9uLm9yaWdpbikuaHJlZjooKT0+e3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGdldCBhYnNvbHV0ZSBVUkwuIE92ZXJyaWRlIEJBQllMT04uVG9vbHMuR2V0QWJzb2x1dGVVcmwgdG8gYSBjdXN0b20gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjdXJyZW50IGNvbnRleHQuIil9LEguTm9uZUxvZ0xldmVsPU8uTm9uZUxvZ0xldmVsLEguTWVzc2FnZUxvZ0xldmVsPU8uTWVzc2FnZUxvZ0xldmVsLEguV2FybmluZ0xvZ0xldmVsPU8uV2FybmluZ0xvZ0xldmVsLEguRXJyb3JMb2dMZXZlbD1PLkVycm9yTG9nTGV2ZWwsSC5BbGxMb2dMZXZlbD1PLkFsbExvZ0xldmVsLEguSXNXaW5kb3dPYmplY3RFeGlzdD1qZSxILlBlcmZvcm1hbmNlTm9uZUxvZ0xldmVsPTAsSC5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWw9MSxILlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsPTIsSC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1ILl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLEguRW5kUGVyZm9ybWFuY2VDb3VudGVyPUguX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkO2NsYXNzIFlpe2NvbnN0cnVjdG9yKGUsdCxpLHM9MCl7dGhpcy5pdGVyYXRpb25zPWUsdGhpcy5pbmRleD1zLTEsdGhpcy5fZG9uZT0hMSx0aGlzLl9mbj10LHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaz1pfWV4ZWN1dGVOZXh0KCl7dGhpcy5fZG9uZXx8KHRoaXMuaW5kZXgrMTx0aGlzLml0ZXJhdGlvbnM/KCsrdGhpcy5pbmRleCx0aGlzLl9mbih0aGlzKSk6dGhpcy5icmVha0xvb3AoKSl9YnJlYWtMb29wKCl7dGhpcy5fZG9uZT0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKX1zdGF0aWMgUnVuKGUsdCxpLHM9MCl7Y29uc3Qgcj1uZXcgWWkoZSx0LGkscyk7cmV0dXJuIHIuZXhlY3V0ZU5leHQoKSxyfXN0YXRpYyBTeW5jQXN5bmNGb3JMb29wKGUsdCxpLHMscixuPTApe3JldHVybiBZaS5SdW4oTWF0aC5jZWlsKGUvdCksYT0+e3ImJnIoKT9hLmJyZWFrTG9vcCgpOnNldFRpbWVvdXQoKCk9Pntmb3IobGV0IG89MDtvPHQ7KytvKXtjb25zdCBoPWEuaW5kZXgqdCtvO2lmKGg+PWUpYnJlYWs7aWYoaShoKSxyJiZyKCkpe2EuYnJlYWtMb29wKCk7YnJlYWt9fWEuZXhlY3V0ZU5leHQoKX0sbil9LHMpfX1mZS5GYWxsYmFja1RleHR1cmU9ImRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVlBQmdBQUQvNFFCbVJYaHBaZ0FBVFUwQUtnQUFBQWdBQkFFYUFBVUFBQUFCQUFBQVBnRWJBQVVBQUFBQkFBQUFSZ0VvQUFNQUFBQUJBQUlBQUFFeEFBSUFBQUFRQUFBQVRnQUFBQUFBQUFCZ0FBQUFBUUFBQUdBQUFBQUJjR0ZwYm5RdWJtVjBJRFF1TUM0MUFQL2JBRU1BQkFJREF3TUNCQU1EQXdRRUJBUUZDUVlGQlFVRkN3Z0lCZ2tOQ3cwTkRRc01EQTRRRkJFT0R4TVBEQXdTR0JJVEZSWVhGeGNPRVJrYkdSWWFGQllYRnYvYkFFTUJCQVFFQlFVRkNnWUdDaFlQREE4V0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGdi9BQUJFSUFRQUJBQU1CSWdBQ0VRRURFUUgveEFBZkFBQUJCUUVCQVFFQkFRQUFBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRUFBQ0FRTURBZ1FEQlFVRUJBQUFBWDBCQWdNQUJCRUZFaUV4UVFZVFVXRUhJbkVVTW9HUm9RZ2pRckhCRlZMUjhDUXpZbktDQ1FvV0Z4Z1pHaVVtSnlncEtqUTFOamM0T1RwRFJFVkdSMGhKU2xOVVZWWlhXRmxhWTJSbFptZG9hV3B6ZEhWMmQzaDVlb09FaFlhSGlJbUtrcE9VbFphWG1KbWFvcU9rcGFhbnFLbXFzck8wdGJhM3VMbTZ3c1BFeGNiSHlNbkswdFBVMWRiWDJObmE0ZUxqNU9YbTUranA2dkh5OC9UMTl2ZjQrZnIveEFBZkFRQURBUUVCQVFFQkFRRUJBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRVFBQ0FRSUVCQU1FQndVRUJBQUJBbmNBQVFJREVRUUZJVEVHRWtGUkIyRnhFeUl5Z1FnVVFwR2hzY0VKSXpOUzhCVmljdEVLRmlRMDRTWHhGeGdaR2lZbktDa3FOVFkzT0RrNlEwUkZSa2RJU1VwVFZGVldWMWhaV21Oa1pXWm5hR2xxYzNSMWRuZDRlWHFDZzRTRmhvZUlpWXFTazVTVmxwZVltWnFpbzZTbHBxZW9xYXF5czdTMXRyZTR1YnJDdzhURnhzZkl5Y3JTMDlUVjF0ZlkyZHJpNCtUbDV1Zm82ZXJ5OC9UMTl2ZjQrZnIvMmdBTUF3RUFBaEVERVFBL0FQSDZLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NkNpaWlnRDVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JRb29vb0Erb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92b0tLS0tBUGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQLy9aIjtjbGFzcyAkZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmxlbmd0aD0wLHRoaXMuZGF0YT1uZXcgQXJyYXkoZSksdGhpcy5faWQ9JGUuX0dsb2JhbElkKyt9cHVzaChlKXt0aGlzLmRhdGFbdGhpcy5sZW5ndGgrK109ZSx0aGlzLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aCo9Mil9Zm9yRWFjaChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGVuZ3RoO3QrKyllKHRoaXMuZGF0YVt0XSl9c29ydChlKXt0aGlzLmRhdGEuc29ydChlKX1yZXNldCgpe3RoaXMubGVuZ3RoPTB9ZGlzcG9zZSgpe3RoaXMucmVzZXQoKSx0aGlzLmRhdGEmJih0aGlzLmRhdGEubGVuZ3RoPTApfWNvbmNhdChlKXtpZihlLmxlbmd0aCE9PTApe3RoaXMubGVuZ3RoK2UubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoPSh0aGlzLmxlbmd0aCtlLmxlbmd0aCkqMik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPShlLmRhdGF8fGUpW3RdfX1pbmRleE9mKGUpe2NvbnN0IHQ9dGhpcy5kYXRhLmluZGV4T2YoZSk7cmV0dXJuIHQ+PXRoaXMubGVuZ3RoPy0xOnR9Y29udGFpbnMoZSl7cmV0dXJuIHRoaXMuaW5kZXhPZihlKSE9PS0xfX0kZS5fR2xvYmFsSWQ9MDtjbGFzcyBoaSBleHRlbmRzICRle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9kdXBsaWNhdGVJZD0wfXB1c2goZSl7c3VwZXIucHVzaChlKSxlLl9fc21hcnRBcnJheUZsYWdzfHwoZS5fX3NtYXJ0QXJyYXlGbGFncz17fSksZS5fX3NtYXJ0QXJyYXlGbGFnc1t0aGlzLl9pZF09dGhpcy5fZHVwbGljYXRlSWR9cHVzaE5vRHVwbGljYXRlKGUpe3JldHVybiBlLl9fc21hcnRBcnJheUZsYWdzJiZlLl9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT09PXRoaXMuX2R1cGxpY2F0ZUlkPyExOih0aGlzLnB1c2goZSksITApfXJlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9kdXBsaWNhdGVJZCsrfWNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlKXtpZihlLmxlbmd0aCE9PTApe3RoaXMubGVuZ3RoK2UubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoPSh0aGlzLmxlbmd0aCtlLmxlbmd0aCkqMik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9KGUuZGF0YXx8ZSlbdF07dGhpcy5wdXNoTm9EdXBsaWNhdGUoaSl9fX19Y2xhc3MgY3J7Y29uc3RydWN0b3IoKXt0aGlzLl9jb3VudD0wLHRoaXMuX2RhdGE9e319Y29weUZyb20oZSl7dGhpcy5jbGVhcigpLGUuZm9yRWFjaCgodCxpKT0+dGhpcy5hZGQodCxpKSl9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5fZGF0YVtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0fWdldE9yQWRkV2l0aEZhY3RvcnkoZSx0KXtsZXQgaT10aGlzLmdldChlKTtyZXR1cm4gaSE9PXZvaWQgMHx8KGk9dChlKSxpJiZ0aGlzLmFkZChlLGkpKSxpfWdldE9yQWRkKGUsdCl7Y29uc3QgaT10aGlzLmdldChlKTtyZXR1cm4gaSE9PXZvaWQgMD9pOih0aGlzLmFkZChlLHQpLHQpfWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLl9kYXRhW2VdIT09dm9pZCAwfWFkZChlLHQpe3JldHVybiB0aGlzLl9kYXRhW2VdIT09dm9pZCAwPyExOih0aGlzLl9kYXRhW2VdPXQsKyt0aGlzLl9jb3VudCwhMCl9c2V0KGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV09PT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwhMCl9Z2V0QW5kUmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5nZXQoZSk7cmV0dXJuIHQhPT12b2lkIDA/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsdCk6bnVsbH1yZW1vdmUoZSl7cmV0dXJuIHRoaXMuY29udGFpbnMoZSk/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsITApOiExfWNsZWFyKCl7dGhpcy5fZGF0YT17fSx0aGlzLl9jb3VudD0wfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9jb3VudH1mb3JFYWNoKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2RhdGEpe2NvbnN0IGk9dGhpcy5fZGF0YVt0XTtlKHQsaSl9fWZpcnN0KGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2RhdGEpe2NvbnN0IGk9dGhpcy5fZGF0YVt0XSxzPWUodCxpKTtpZihzKXJldHVybiBzfXJldHVybiBudWxsfX1jbGFzcyBsaXtzdGF0aWMgRXZhbChlLHQpe3JldHVybiBlLm1hdGNoKC9cKFteKCldKlwpL2cpP2U9ZS5yZXBsYWNlKC9cKFteKCldKlwpL2csaT0+KGk9aS5zbGljZSgxLGkubGVuZ3RoLTEpLGxpLl9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoaSx0KSkpOmU9bGkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChlLHQpLGU9PT0idHJ1ZSI/ITA6ZT09PSJmYWxzZSI/ITE6bGkuRXZhbChlLHQpfXN0YXRpYyBfSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCl7dD10fHwocj0+cj09PSJ0cnVlIik7bGV0IGk7Y29uc3Qgcz1lLnNwbGl0KCJ8fCIpO2Zvcihjb25zdCByIGluIHMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscikpe2xldCBuPWxpLl9TaW1wbGlmeU5lZ2F0aW9uKHNbcl0udHJpbSgpKTtjb25zdCBhPW4uc3BsaXQoIiYmIik7aWYoYS5sZW5ndGg+MSlmb3IobGV0IG89MDtvPGEubGVuZ3RoOysrbyl7Y29uc3QgaD1saS5fU2ltcGxpZnlOZWdhdGlvbihhW29dLnRyaW0oKSk7aWYoaCE9PSJ0cnVlIiYmaCE9PSJmYWxzZSI/aFswXT09PSIhIj9pPSF0KGguc3Vic3RyaW5nKDEpKTppPXQoaCk6aT1oPT09InRydWUiLCFpKXtuPSJmYWxzZSI7YnJlYWt9fWlmKGl8fG49PT0idHJ1ZSIpe2k9ITA7YnJlYWt9biE9PSJ0cnVlIiYmbiE9PSJmYWxzZSI/blswXT09PSIhIj9pPSF0KG4uc3Vic3RyaW5nKDEpKTppPXQobik6aT1uPT09InRydWUifXJldHVybiBpPyJ0cnVlIjoiZmFsc2UifXN0YXRpYyBfU2ltcGxpZnlOZWdhdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL15bXHMhXSsvLHQ9Pih0PXQucmVwbGFjZSgvW1xzXS9nLCgpPT4iIiksdC5sZW5ndGglMj8iISI6IiIpKSxlPWUudHJpbSgpLGU9PT0iIXRydWUiP2U9ImZhbHNlIjplPT09IiFmYWxzZSImJihlPSJ0cnVlIiksZX19Y2xhc3MgZ2V7c3RhdGljIEVuYWJsZUZvcihlKXtlLl90YWdzPWUuX3RhZ3N8fHt9LGUuaGFzVGFncz0oKT0+Z2UuSGFzVGFncyhlKSxlLmFkZFRhZ3M9dD0+Z2UuQWRkVGFnc1RvKGUsdCksZS5yZW1vdmVUYWdzPXQ9PmdlLlJlbW92ZVRhZ3NGcm9tKGUsdCksZS5tYXRjaGVzVGFnc1F1ZXJ5PXQ9PmdlLk1hdGNoZXNRdWVyeShlLHQpfXN0YXRpYyBEaXNhYmxlRm9yKGUpe2RlbGV0ZSBlLl90YWdzLGRlbGV0ZSBlLmhhc1RhZ3MsZGVsZXRlIGUuYWRkVGFncyxkZWxldGUgZS5yZW1vdmVUYWdzLGRlbGV0ZSBlLm1hdGNoZXNUYWdzUXVlcnl9c3RhdGljIEhhc1RhZ3MoZSl7aWYoIWUuX3RhZ3MpcmV0dXJuITE7Y29uc3QgdD1lLl90YWdzO2Zvcihjb25zdCBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkpcmV0dXJuITA7cmV0dXJuITF9c3RhdGljIEdldFRhZ3MoZSx0PSEwKXtpZighZS5fdGFncylyZXR1cm4gbnVsbDtpZih0KXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIGluIGUuX3RhZ3MpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuX3RhZ3MscykmJmUuX3RhZ3Nbc109PT0hMCYmaS5wdXNoKHMpO3JldHVybiBpLmpvaW4oIiAiKX1lbHNlIHJldHVybiBlLl90YWdzfXN0YXRpYyBBZGRUYWdzVG8oZSx0KXtpZighdHx8dHlwZW9mIHQhPSJzdHJpbmciKXJldHVybjt0LnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihzKXtnZS5fQWRkVGFnVG8oZSxzKX0pfXN0YXRpYyBfQWRkVGFnVG8oZSx0KXt0PXQudHJpbSgpLCEodD09PSIifHx0PT09InRydWUifHx0PT09ImZhbHNlIikmJih0Lm1hdGNoKC9bXHNdLyl8fHQubWF0Y2goL14oWyFdfChbfF18WyZdKXsyfSkvKXx8KGdlLkVuYWJsZUZvcihlKSxlLl90YWdzW3RdPSEwKSl9c3RhdGljIFJlbW92ZVRhZ3NGcm9tKGUsdCl7aWYoIWdlLkhhc1RhZ3MoZSkpcmV0dXJuO2NvbnN0IGk9dC5zcGxpdCgiICIpO2Zvcihjb25zdCBzIGluIGkpZ2UuX1JlbW92ZVRhZ0Zyb20oZSxpW3NdKX1zdGF0aWMgX1JlbW92ZVRhZ0Zyb20oZSx0KXtkZWxldGUgZS5fdGFnc1t0XX1zdGF0aWMgTWF0Y2hlc1F1ZXJ5KGUsdCl7cmV0dXJuIHQ9PT12b2lkIDA/ITA6dD09PSIiP2dlLkhhc1RhZ3MoZSk6bGkuRXZhbCh0LGk9PmdlLkhhc1RhZ3MoZSkmJmUuX3RhZ3NbaV0pfX1jbGFzcyBaaXtjb25zdHJ1Y3Rvcigpe3RoaXMucm9vdE5vZGVzPW5ldyBBcnJheSx0aGlzLmNhbWVyYXM9bmV3IEFycmF5LHRoaXMubGlnaHRzPW5ldyBBcnJheSx0aGlzLm1lc2hlcz1uZXcgQXJyYXksdGhpcy5za2VsZXRvbnM9bmV3IEFycmF5LHRoaXMucGFydGljbGVTeXN0ZW1zPW5ldyBBcnJheSx0aGlzLmFuaW1hdGlvbnM9W10sdGhpcy5hbmltYXRpb25Hcm91cHM9bmV3IEFycmF5LHRoaXMubXVsdGlNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuZ2VvbWV0cmllcz1uZXcgQXJyYXksdGhpcy50cmFuc2Zvcm1Ob2Rlcz1uZXcgQXJyYXksdGhpcy5hY3Rpb25NYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy50ZXh0dXJlcz1uZXcgQXJyYXksdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPW51bGwsdGhpcy5wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX1zdGF0aWMgQWRkUGFyc2VyKGUsdCl7dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9c3RhdGljIEdldFBhcnNlcihlKXtyZXR1cm4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfXN0YXRpYyBBZGRJbmRpdmlkdWFsUGFyc2VyKGUsdCl7dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXT10fXN0YXRpYyBHZXRJbmRpdmlkdWFsUGFyc2VyKGUpe3JldHVybiB0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH1zdGF0aWMgUGFyc2UoZSx0LGkscyl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMscikmJnRoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tyXShlLHQsaSxzKX1nZXQgZW52aXJvbm1lbnRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZX1zZXQgZW52aXJvbm1lbnRUZXh0dXJlKGUpe3RoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1lfWdldE5vZGVzKCl7bGV0IGU9bmV3IEFycmF5O3JldHVybiBlPWUuY29uY2F0KHRoaXMubWVzaGVzKSxlPWUuY29uY2F0KHRoaXMubGlnaHRzKSxlPWUuY29uY2F0KHRoaXMuY2FtZXJhcyksZT1lLmNvbmNhdCh0aGlzLnRyYW5zZm9ybU5vZGVzKSx0aGlzLnNrZWxldG9ucy5mb3JFYWNoKHQ9PmU9ZS5jb25jYXQodC5ib25lcykpLGV9fVppLl9CYWJ5bG9uRmlsZVBhcnNlcnM9e30sWmkuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnM9e307ZnVuY3Rpb24gVChjLGUsdCxpKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoLHI9czwzP2U6aT09PW51bGw/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk6aSxuO2lmKHR5cGVvZiBSZWZsZWN0PT0ib2JqZWN0IiYmdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGU9PSJmdW5jdGlvbiIpcj1SZWZsZWN0LmRlY29yYXRlKGMsZSx0LGkpO2Vsc2UgZm9yKHZhciBhPWMubGVuZ3RoLTE7YT49MDthLS0pKG49Y1thXSkmJihyPShzPDM/bihyKTpzPjM/bihlLHQscik6bihlLHQpKXx8cik7cmV0dXJuIHM+MyYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxyKSxyfWNvbnN0IHFpPXt9LGppPXt9LHVyPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPWMoKTtnZSYmZ2UuQWRkVGFnc1RvKGksZS50YWdzKTtjb25zdCBzPVJzKGkpO2Zvcihjb25zdCByIGluIHMpe2NvbnN0IG49c1tyXSxhPWVbcl0sbz1uLnR5cGU7aWYoYSE9bnVsbCYmKHIhPT0idW5pcXVlSWQifHxhZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpc3dpdGNoKG8pe2Nhc2UgMDpjYXNlIDY6Y2FzZSAxMTppW3JdPWE7YnJlYWs7Y2FzZSAxOmlbcl09dHx8YS5pc1JlbmRlclRhcmdldD9hOmEuY2xvbmUoKTticmVhaztjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6Y2FzZSA3OmNhc2UgMTA6Y2FzZSAxMjppW3JdPXQ/YTphLmNsb25lKCk7YnJlYWt9fXJldHVybiBpfTtmdW5jdGlvbiBibihjKXtjb25zdCBlPWMuZ2V0Q2xhc3NOYW1lKCk7cmV0dXJuIHFpW2VdfHwocWlbZV09e30pLHFpW2VdfWZ1bmN0aW9uIFJzKGMpe2NvbnN0IGU9Yy5nZXRDbGFzc05hbWUoKTtpZihqaVtlXSlyZXR1cm4gamlbZV07amlbZV09e307Y29uc3QgdD1qaVtlXTtsZXQgaT1jLHM9ZTtmb3IoO3M7KXtjb25zdCByPXFpW3NdO2Zvcihjb25zdCBvIGluIHIpdFtvXT1yW29dO2xldCBuLGE9ITE7ZG97aWYobj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSksIW4uZ2V0Q2xhc3NOYW1lKXthPSEwO2JyZWFrfWlmKG4uZ2V0Q2xhc3NOYW1lKCkhPT1zKWJyZWFrO2k9bn13aGlsZShuKTtpZihhKWJyZWFrO3M9bi5nZXRDbGFzc05hbWUoKSxpPW59cmV0dXJuIHR9ZnVuY3Rpb24geXQoYyxlKXtyZXR1cm4odCxpKT0+e2NvbnN0IHM9Ym4odCk7c1tpXXx8KHNbaV09e3R5cGU6Yyxzb3VyY2VOYW1lOmV9KX19ZnVuY3Rpb24gU24oYyxlPW51bGwpe3JldHVybih0LGkpPT57Y29uc3Qgcz1lfHwiXyIraTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tzXX0sc2V0OmZ1bmN0aW9uKHIpe3R5cGVvZiB0aGlzLmVxdWFscz09ImZ1bmN0aW9uIiYmdGhpcy5lcXVhbHMocil8fHRoaXNbc10hPT1yJiYodGhpc1tzXT1yLHRbY10uYXBwbHkodGhpcykpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX1mdW5jdGlvbiBiZShjLGU9bnVsbCl7cmV0dXJuIFNuKGMsZSl9ZnVuY3Rpb24gUihjKXtyZXR1cm4geXQoMCxjKX1mdW5jdGlvbiBtdChjKXtyZXR1cm4geXQoMSxjKX1mdW5jdGlvbiBjaShjKXtyZXR1cm4geXQoMixjKX1mdW5jdGlvbiBOaShjKXtyZXR1cm4geXQoMyxjKX1mdW5jdGlvbiB4bihjKXtyZXR1cm4geXQoNCxjKX1mdW5jdGlvbiBCdChjKXtyZXR1cm4geXQoNSxjKX1mdW5jdGlvbiBNbihjKXtyZXR1cm4geXQoNixjKX1mdW5jdGlvbiBBbihjKXtyZXR1cm4geXQoNyxjKX1mdW5jdGlvbiBkcihjKXtyZXR1cm4geXQoOCxjKX1mdW5jdGlvbiBSbihjKXtyZXR1cm4geXQoMTAsYyl9Y2xhc3MgYWV7c3RhdGljIEFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKGUsdCl7aWYoZS5hbmltYXRpb25zKXt0LmFuaW1hdGlvbnM9W107Zm9yKGxldCBpPTA7aTxlLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz1lLmFuaW1hdGlvbnNbaV07dC5hbmltYXRpb25zLnB1c2gocy5zZXJpYWxpemUoKSl9fX1zdGF0aWMgU2VyaWFsaXplKGUsdCl7dHx8KHQ9e30pLGdlJiYodC50YWdzPWdlLkdldFRhZ3MoZSkpO2NvbnN0IGk9UnMoZSk7Zm9yKGNvbnN0IHMgaW4gaSl7Y29uc3Qgcj1pW3NdLG49ci5zb3VyY2VOYW1lfHxzLGE9ci50eXBlLG89ZVtzXTtpZihvIT1udWxsJiYocyE9PSJ1bmlxdWVJZCJ8fGFlLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSlzd2l0Y2goYSl7Y2FzZSAwOnRbbl09bzticmVhaztjYXNlIDE6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgMjp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgMzp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA0OnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSA1OnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSA2OnRbbl09by5pZDticmVhaztjYXNlIDc6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgODp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgOTp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAxMDp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgMTE6dFtuXT1vLmlkO2JyZWFrO2Nhc2UgMTI6dFtuXT1vLmFzQXJyYXkoKTticmVha319cmV0dXJuIHR9c3RhdGljIFBhcnNlKGUsdCxpLHM9bnVsbCl7Y29uc3Qgcj1lKCk7c3x8KHM9IiIpLGdlJiZnZS5BZGRUYWdzVG8ocix0LnRhZ3MpO2NvbnN0IG49UnMocik7Zm9yKGNvbnN0IGEgaW4gbil7Y29uc3Qgbz1uW2FdLGg9dFtvLnNvdXJjZU5hbWV8fGFdLGw9by50eXBlO2lmKGghPW51bGwmJihhIT09InVuaXF1ZUlkInx8YWUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXtjb25zdCB1PXI7c3dpdGNoKGwpe2Nhc2UgMDp1W2FdPWg7YnJlYWs7Y2FzZSAxOmkmJih1W2FdPWFlLl9UZXh0dXJlUGFyc2VyKGgsaSxzKSk7YnJlYWs7Y2FzZSAyOnVbYV09cmUuRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgMzp1W2FdPWFlLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcihoKTticmVhaztjYXNlIDQ6dVthXT12ZS5Gcm9tQXJyYXkoaCk7YnJlYWs7Y2FzZSA1OnVbYV09cC5Gcm9tQXJyYXkoaCk7YnJlYWs7Y2FzZSA2OmkmJih1W2FdPWkuZ2V0TGFzdE1lc2hCeUlkKGgpKTticmVhaztjYXNlIDc6dVthXT1hZS5fQ29sb3JDdXJ2ZXNQYXJzZXIoaCk7YnJlYWs7Y2FzZSA4OnVbYV09bWUuRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgOTp1W2FdPWFlLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyKGgpO2JyZWFrO2Nhc2UgMTA6dVthXT1aLkZyb21BcnJheShoKTticmVhaztjYXNlIDExOmkmJih1W2FdPWkuZ2V0Q2FtZXJhQnlJZChoKSk7YnJlYWs7Y2FzZSAxMjp1W2FdPXguRnJvbUFycmF5KGgpO2JyZWFrfX19cmV0dXJuIHJ9c3RhdGljIENsb25lKGUsdCl7cmV0dXJuIHVyKGUsdCwhMSl9c3RhdGljIEluc3RhbmNpYXRlKGUsdCl7cmV0dXJuIHVyKGUsdCwhMCl9fWFlLkFsbG93TG9hZGluZ1VuaXF1ZUlkPSExLGFlLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyPWM9Pnt0aHJvdyAkKCJJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIil9LGFlLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcj1jPT57dGhyb3cgJCgiRnJlc25lbFBhcmFtZXRlcnMiKX0sYWUuX0NvbG9yQ3VydmVzUGFyc2VyPWM9Pnt0aHJvdyAkKCJDb2xvckN1cnZlcyIpfSxhZS5fVGV4dHVyZVBhcnNlcj0oYyxlLHQpPT57dGhyb3cgJCgiVGV4dHVyZSIpfTtmdW5jdGlvbiAkdChjLGUsdCxpKXtjb25zdCBzPXQudmFsdWU7dC52YWx1ZT0oLi4ucik9PntsZXQgbj1zO2lmKHR5cGVvZiBfbmF0aXZlPCJ1IiYmX25hdGl2ZVtlXSl7Y29uc3QgYT1fbmF0aXZlW2VdO2k/bj0oLi4ubyk9PmkoLi4ubyk/YSguLi5vKTpzKC4uLm8pOm49YX1yZXR1cm4gY1tlXT1uLG4oLi4ucil9fSR0LmZpbHRlcj1mdW5jdGlvbihjKXtyZXR1cm4oZSx0LGkpPT4kdChlLHQsaSxjKX07Y2xhc3MgeXN7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5fa2V5cz1bXSx0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSExLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5fYXJlUHJlUGFzc0RpcnR5PSEwLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX25vcm1hbHM9ITEsdGhpcy5fdXZzPSExLHRoaXMuX25lZWROb3JtYWxzPSExLHRoaXMuX25lZWRVVnM9ITEsdGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzPWUsZSlmb3IoY29uc3QgdCBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZ0aGlzLl9zZXREZWZhdWx0VmFsdWUodCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNEaXJ0eX1tYXJrQXNQcm9jZXNzZWQoKXt0aGlzLl9pc0RpcnR5PSExLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMSx0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSExLHRoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMSx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMSx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD0hMSx0aGlzLl9hcmVNaXNjRGlydHk9ITEsdGhpcy5fYXJlUHJlUGFzc0RpcnR5PSExLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSExfW1hcmtBc1VucHJvY2Vzc2VkKCl7dGhpcy5faXNEaXJ0eT0hMH1tYXJrQWxsQXNEaXJ0eSgpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpe3RoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzTGlnaHREaXJ0eShlPSExKXt0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD10aGlzLl9hcmVMaWdodHNEaXNwb3NlZHx8ZSx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc1RleHR1cmVzRGlydHkoKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzRnJlc25lbERpcnR5KCl7dGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzTWlzY0RpcnR5KCl7dGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzUHJlUGFzc0RpcnR5KCl7dGhpcy5fYXJlUHJlUGFzc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9cmVidWlsZCgpe3RoaXMuX2tleXMubGVuZ3RoPTA7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcykpZVswXSE9PSJfIiYmdGhpcy5fa2V5cy5wdXNoKGUpO2lmKHRoaXMuX2V4dGVybmFsUHJvcGVydGllcylmb3IoY29uc3QgZSBpbiB0aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpdGhpcy5fa2V5cy5pbmRleE9mKGUpPT09LTEmJnRoaXMuX2tleXMucHVzaChlKX1pc0VxdWFsKGUpe2lmKHRoaXMuX2tleXMubGVuZ3RoIT09ZS5fa2V5cy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XTtpZih0aGlzW2ldIT09ZVtpXSlyZXR1cm4hMX1yZXR1cm4hMH1jbG9uZVRvKGUpe3RoaXMuX2tleXMubGVuZ3RoIT09ZS5fa2V5cy5sZW5ndGgmJihlLl9rZXlzPXRoaXMuX2tleXMuc2xpY2UoMCkpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2tleXNbdF07ZVtpXT10aGlzW2ldfX1yZXNldCgpe3RoaXMuX2tleXMuZm9yRWFjaChlPT50aGlzLl9zZXREZWZhdWx0VmFsdWUoZSkpfV9zZXREZWZhdWx0VmFsdWUoZSl7dmFyIHQsaSxzLHIsbjtjb25zdCBhPShzPShpPSh0PXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0W2VdKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkudHlwZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6dHlwZW9mIHRoaXNbZV0sbz0obj0ocj10aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6cltlXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmRlZmF1bHQ7c3dpdGNoKGEpe2Nhc2UibnVtYmVyIjp0aGlzW2VdPW8/PzA7YnJlYWs7Y2FzZSJzdHJpbmciOnRoaXNbZV09bz8/IiI7YnJlYWs7ZGVmYXVsdDp0aGlzW2VdPW8/PyExO2JyZWFrfX10b1N0cmluZygpe2xldCBlPSIiO2ZvcihsZXQgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2tleXNbdF0scz10aGlzW2ldO3N3aXRjaCh0eXBlb2Ygcyl7Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjplKz0iI2RlZmluZSAiK2krIiAiK3MrYApgO2JyZWFrO2RlZmF1bHQ6cyYmKGUrPSIjZGVmaW5lICIraStgCmApO2JyZWFrfX1yZXR1cm4gZX19Y2xhc3MgQWV7Y29uc3RydWN0b3IoKXt0aGlzLl9kaXJ0eT0hMCx0aGlzLl90ZW1wQ29sb3I9bmV3IG1lKDAsMCwwLDApLHRoaXMuX2dsb2JhbEN1cnZlPW5ldyBtZSgwLDAsMCwwKSx0aGlzLl9oaWdobGlnaHRzQ3VydmU9bmV3IG1lKDAsMCwwLDApLHRoaXMuX21pZHRvbmVzQ3VydmU9bmV3IG1lKDAsMCwwLDApLHRoaXMuX3NoYWRvd3NDdXJ2ZT1uZXcgbWUoMCwwLDAsMCksdGhpcy5fcG9zaXRpdmVDdXJ2ZT1uZXcgbWUoMCwwLDAsMCksdGhpcy5fbmVnYXRpdmVDdXJ2ZT1uZXcgbWUoMCwwLDAsMCksdGhpcy5fZ2xvYmFsSHVlPTMwLHRoaXMuX2dsb2JhbERlbnNpdHk9MCx0aGlzLl9nbG9iYWxTYXR1cmF0aW9uPTAsdGhpcy5fZ2xvYmFsRXhwb3N1cmU9MCx0aGlzLl9oaWdobGlnaHRzSHVlPTMwLHRoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PTAsdGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb249MCx0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmU9MCx0aGlzLl9taWR0b25lc0h1ZT0zMCx0aGlzLl9taWR0b25lc0RlbnNpdHk9MCx0aGlzLl9taWR0b25lc1NhdHVyYXRpb249MCx0aGlzLl9taWR0b25lc0V4cG9zdXJlPTAsdGhpcy5fc2hhZG93c0h1ZT0zMCx0aGlzLl9zaGFkb3dzRGVuc2l0eT0wLHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9uPTAsdGhpcy5fc2hhZG93c0V4cG9zdXJlPTB9Z2V0IGdsb2JhbEh1ZSgpe3JldHVybiB0aGlzLl9nbG9iYWxIdWV9c2V0IGdsb2JhbEh1ZShlKXt0aGlzLl9nbG9iYWxIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgZ2xvYmFsRGVuc2l0eSgpe3JldHVybiB0aGlzLl9nbG9iYWxEZW5zaXR5fXNldCBnbG9iYWxEZW5zaXR5KGUpe3RoaXMuX2dsb2JhbERlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgZ2xvYmFsU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxTYXR1cmF0aW9ufXNldCBnbG9iYWxTYXR1cmF0aW9uKGUpe3RoaXMuX2dsb2JhbFNhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgZ2xvYmFsRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRXhwb3N1cmV9c2V0IGdsb2JhbEV4cG9zdXJlKGUpe3RoaXMuX2dsb2JhbEV4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNIdWUoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0h1ZX1zZXQgaGlnaGxpZ2h0c0h1ZShlKXt0aGlzLl9oaWdobGlnaHRzSHVlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNEZW5zaXR5fXNldCBoaWdobGlnaHRzRGVuc2l0eShlKXt0aGlzLl9oaWdobGlnaHRzRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbn1zZXQgaGlnaGxpZ2h0c1NhdHVyYXRpb24oZSl7dGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0V4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZX1zZXQgaGlnaGxpZ2h0c0V4cG9zdXJlKGUpe3RoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0h1ZSgpe3JldHVybiB0aGlzLl9taWR0b25lc0h1ZX1zZXQgbWlkdG9uZXNIdWUoZSl7dGhpcy5fbWlkdG9uZXNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzRGVuc2l0eX1zZXQgbWlkdG9uZXNEZW5zaXR5KGUpe3RoaXMuX21pZHRvbmVzRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc1NhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9ufXNldCBtaWR0b25lc1NhdHVyYXRpb24oZSl7dGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNFeHBvc3VyZX1zZXQgbWlkdG9uZXNFeHBvc3VyZShlKXt0aGlzLl9taWR0b25lc0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NIdWUoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0h1ZX1zZXQgc2hhZG93c0h1ZShlKXt0aGlzLl9zaGFkb3dzSHVlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NEZW5zaXR5fXNldCBzaGFkb3dzRGVuc2l0eShlKXt0aGlzLl9zaGFkb3dzRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbn1zZXQgc2hhZG93c1NhdHVyYXRpb24oZSl7dGhpcy5fc2hhZG93c1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0V4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NFeHBvc3VyZX1zZXQgc2hhZG93c0V4cG9zdXJlKGUpe3RoaXMuX3NoYWRvd3NFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfWdldENsYXNzTmFtZSgpe3JldHVybiJDb2xvckN1cnZlcyJ9c3RhdGljIEJpbmQoZSx0LGk9InZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLHM9InZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIscj0idkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZSIpe2UuX2RpcnR5JiYoZS5fZGlydHk9ITEsZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2dsb2JhbEh1ZSxlLl9nbG9iYWxEZW5zaXR5LGUuX2dsb2JhbFNhdHVyYXRpb24sZS5fZ2xvYmFsRXhwb3N1cmUsZS5fZ2xvYmFsQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9oaWdobGlnaHRzSHVlLGUuX2hpZ2hsaWdodHNEZW5zaXR5LGUuX2hpZ2hsaWdodHNTYXR1cmF0aW9uLGUuX2hpZ2hsaWdodHNFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX2hpZ2hsaWdodHNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX21pZHRvbmVzSHVlLGUuX21pZHRvbmVzRGVuc2l0eSxlLl9taWR0b25lc1NhdHVyYXRpb24sZS5fbWlkdG9uZXNFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX21pZHRvbmVzQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9zaGFkb3dzSHVlLGUuX3NoYWRvd3NEZW5zaXR5LGUuX3NoYWRvd3NTYXR1cmF0aW9uLGUuX3NoYWRvd3NFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX3NoYWRvd3NDdXJ2ZSksZS5faGlnaGxpZ2h0c0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fbWlkdG9uZXNDdXJ2ZSxlLl9wb3NpdGl2ZUN1cnZlKSxlLl9taWR0b25lc0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fc2hhZG93c0N1cnZlLGUuX25lZ2F0aXZlQ3VydmUpKSx0JiYodC5zZXRGbG9hdDQoaSxlLl9wb3NpdGl2ZUN1cnZlLnIsZS5fcG9zaXRpdmVDdXJ2ZS5nLGUuX3Bvc2l0aXZlQ3VydmUuYixlLl9wb3NpdGl2ZUN1cnZlLmEpLHQuc2V0RmxvYXQ0KHMsZS5fbWlkdG9uZXNDdXJ2ZS5yLGUuX21pZHRvbmVzQ3VydmUuZyxlLl9taWR0b25lc0N1cnZlLmIsZS5fbWlkdG9uZXNDdXJ2ZS5hKSx0LnNldEZsb2F0NChyLGUuX25lZ2F0aXZlQ3VydmUucixlLl9uZWdhdGl2ZUN1cnZlLmcsZS5fbmVnYXRpdmVDdXJ2ZS5iLGUuX25lZ2F0aXZlQ3VydmUuYSkpfXN0YXRpYyBQcmVwYXJlVW5pZm9ybXMoZSl7ZS5wdXNoKCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlIiwidkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZSIpfV9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZSx0LGkscyxyKXtlIT1udWxsJiYoZT1BZS5fQ2xhbXAoZSwwLDM2MCksdD1BZS5fQ2xhbXAodCwtMTAwLDEwMCksaT1BZS5fQ2xhbXAoaSwtMTAwLDEwMCkscz1BZS5fQ2xhbXAocywtMTAwLDEwMCksdD1BZS5fQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXIodCksdCo9LjUscz1BZS5fQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXIocyksdDwwJiYodCo9LTEsZT0oZSsxODApJTM2MCksQWUuX0Zyb21IU0JUb1JlZihlLHQsNTArLjI1KnMsciksci5zY2FsZVRvUmVmKDIsciksci5hPTErLjAxKmkpfXN0YXRpYyBfQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXIoZSl7ZS89MTAwO2xldCB0PU1hdGguYWJzKGUpO3JldHVybiB0PU1hdGgucG93KHQsMiksZTwwJiYodCo9LTEpLHQqPTEwMCx0fXN0YXRpYyBfRnJvbUhTQlRvUmVmKGUsdCxpLHMpe2xldCByPUFlLl9DbGFtcChlLDAsMzYwKTtjb25zdCBuPUFlLl9DbGFtcCh0LzEwMCwwLDEpLGE9QWUuX0NsYW1wKGkvMTAwLDAsMSk7aWYobj09PTApcy5yPWEscy5nPWEscy5iPWE7ZWxzZXtyLz02MDtjb25zdCBvPU1hdGguZmxvb3IociksaD1yLW8sbD1hKigxLW4pLHU9YSooMS1uKmgpLGQ9YSooMS1uKigxLWgpKTtzd2l0Y2gobyl7Y2FzZSAwOnMucj1hLHMuZz1kLHMuYj1sO2JyZWFrO2Nhc2UgMTpzLnI9dSxzLmc9YSxzLmI9bDticmVhaztjYXNlIDI6cy5yPWwscy5nPWEscy5iPWQ7YnJlYWs7Y2FzZSAzOnMucj1sLHMuZz11LHMuYj1hO2JyZWFrO2Nhc2UgNDpzLnI9ZCxzLmc9bCxzLmI9YTticmVhaztkZWZhdWx0OnMucj1hLHMuZz1sLHMuYj11O2JyZWFrfX1zLmE9MX1zdGF0aWMgX0NsYW1wKGUsdCxpKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxpKX1jbG9uZSgpe3JldHVybiBhZS5DbG9uZSgoKT0+bmV3IEFlLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBhZS5TZXJpYWxpemUodGhpcyl9c3RhdGljIFBhcnNlKGUpe3JldHVybiBhZS5QYXJzZSgoKT0+bmV3IEFlLGUsbnVsbCxudWxsKX19VChbUigpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxIdWUiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxEZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbEV4cG9zdXJlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0h1ZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNEZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c1NhdHVyYXRpb24iLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzRXhwb3N1cmUiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc0h1ZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX21pZHRvbmVzRGVuc2l0eSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX21pZHRvbmVzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX21pZHRvbmVzRXhwb3N1cmUiLHZvaWQgMCksYWUuX0NvbG9yQ3VydmVzUGFyc2VyPUFlLlBhcnNlO2NsYXNzIHBle2NvbnN0cnVjdG9yKCl7dGhpcy5jb2xvckN1cnZlcz1uZXcgQWUsdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkPSExLHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGg9ITAsdGhpcy5fY29sb3JHcmFkaW5nQkdSPSEwLHRoaXMuX2V4cG9zdXJlPTEsdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkPSExLHRoaXMuX3RvbmVNYXBwaW5nVHlwZT1wZS5UT05FTUFQUElOR19TVEFOREFSRCx0aGlzLl9jb250cmFzdD0xLHRoaXMudmlnbmV0dGVTdHJldGNoPTAsdGhpcy52aWduZXR0ZUNlbnRlclg9MCx0aGlzLnZpZ25ldHRlQ2VudGVyWT0wLHRoaXMudmlnbmV0dGVXZWlnaHQ9MS41LHRoaXMudmlnbmV0dGVDb2xvcj1uZXcgbWUoMCwwLDAsMCksdGhpcy52aWduZXR0ZUNhbWVyYUZvdj0uNSx0aGlzLl92aWduZXR0ZUJsZW5kTW9kZT1wZS5WSUdORVRURU1PREVfTVVMVElQTFksdGhpcy5fdmlnbmV0dGVFbmFibGVkPSExLHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQ9ITEsdGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5PTEvMjU1LHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXA9ITEsdGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzPSExLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLm9uVXBkYXRlUGFyYW1ldGVycz1uZXcgRn1nZXQgY29sb3JDdXJ2ZXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZH1zZXQgY29sb3JDdXJ2ZXNFbmFibGVkKGUpe3RoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmV9c2V0IGNvbG9yR3JhZGluZ1RleHR1cmUoZSl7dGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZSE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkfXNldCBjb2xvckdyYWRpbmdFbmFibGVkKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRofXNldCBjb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aChlKXt0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ0JHUigpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdCR1J9c2V0IGNvbG9yR3JhZGluZ0JHUihlKXt0aGlzLl9jb2xvckdyYWRpbmdCR1IhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nQkdSPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgZXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fZXhwb3N1cmV9c2V0IGV4cG9zdXJlKGUpe3RoaXMuX2V4cG9zdXJlIT09ZSYmKHRoaXMuX2V4cG9zdXJlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdG9uZU1hcHBpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZH1zZXQgdG9uZU1hcHBpbmdFbmFibGVkKGUpe3RoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZCE9PWUmJih0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB0b25lTWFwcGluZ1R5cGUoKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdUeXBlfXNldCB0b25lTWFwcGluZ1R5cGUoZSl7dGhpcy5fdG9uZU1hcHBpbmdUeXBlIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nVHlwZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbnRyYXN0KCl7cmV0dXJuIHRoaXMuX2NvbnRyYXN0fXNldCBjb250cmFzdChlKXt0aGlzLl9jb250cmFzdCE9PWUmJih0aGlzLl9jb250cmFzdD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHZpZ25ldHRlQ2VudHJlWSgpe3JldHVybiB0aGlzLnZpZ25ldHRlQ2VudGVyWX1zZXQgdmlnbmV0dGVDZW50cmVZKGUpe3RoaXMudmlnbmV0dGVDZW50ZXJZPWV9Z2V0IHZpZ25ldHRlQ2VudHJlWCgpe3JldHVybiB0aGlzLnZpZ25ldHRlQ2VudGVyWH1zZXQgdmlnbmV0dGVDZW50cmVYKGUpe3RoaXMudmlnbmV0dGVDZW50ZXJYPWV9Z2V0IHZpZ25ldHRlQmxlbmRNb2RlKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlfXNldCB2aWduZXR0ZUJsZW5kTW9kZShlKXt0aGlzLl92aWduZXR0ZUJsZW5kTW9kZSE9PWUmJih0aGlzLl92aWduZXR0ZUJsZW5kTW9kZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHZpZ25ldHRlRW5hYmxlZCgpe3JldHVybiB0aGlzLl92aWduZXR0ZUVuYWJsZWR9c2V0IHZpZ25ldHRlRW5hYmxlZChlKXt0aGlzLl92aWduZXR0ZUVuYWJsZWQhPT1lJiYodGhpcy5fdmlnbmV0dGVFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgZGl0aGVyaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9kaXRoZXJpbmdFbmFibGVkfXNldCBkaXRoZXJpbmdFbmFibGVkKGUpe3RoaXMuX2RpdGhlcmluZ0VuYWJsZWQhPT1lJiYodGhpcy5fZGl0aGVyaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGRpdGhlcmluZ0ludGVuc2l0eSgpe3JldHVybiB0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHl9c2V0IGRpdGhlcmluZ0ludGVuc2l0eShlKXt0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHkhPT1lJiYodGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5PWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgc2tpcEZpbmFsQ29sb3JDbGFtcCgpe3JldHVybiB0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wfXNldCBza2lwRmluYWxDb2xvckNsYW1wKGUpe3RoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXAhPT1lJiYodGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGFwcGx5QnlQb3N0UHJvY2Vzcygpe3JldHVybiB0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3N9c2V0IGFwcGx5QnlQb3N0UHJvY2VzcyhlKXt0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3MhPT1lJiYodGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZH1zZXQgaXNFbmFibGVkKGUpe3RoaXMuX2lzRW5hYmxlZCE9PWUmJih0aGlzLl9pc0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfV91cGRhdGVQYXJhbWV0ZXJzKCl7dGhpcy5vblVwZGF0ZVBhcmFtZXRlcnMubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWdldENsYXNzTmFtZSgpe3JldHVybiJJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIn1zdGF0aWMgUHJlcGFyZVVuaWZvcm1zKGUsdCl7dC5FWFBPU1VSRSYmZS5wdXNoKCJleHBvc3VyZUxpbmVhciIpLHQuQ09OVFJBU1QmJmUucHVzaCgiY29udHJhc3QiKSx0LkNPTE9SR1JBRElORyYmZS5wdXNoKCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiksKHQuVklHTkVUVEV8fHQuRElUSEVSKSYmZS5wdXNoKCJ2SW52ZXJzZVNjcmVlblNpemUiKSx0LlZJR05FVFRFJiYoZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMSIpLGUucHVzaCgidmlnbmV0dGVTZXR0aW5nczIiKSksdC5DT0xPUkNVUlZFUyYmQWUuUHJlcGFyZVVuaWZvcm1zKGUpLHQuRElUSEVSJiZlLnB1c2goImRpdGhlckludGVuc2l0eSIpfXN0YXRpYyBQcmVwYXJlU2FtcGxlcnMoZSx0KXt0LkNPTE9SR1JBRElORyYmZS5wdXNoKCJ0eENvbG9yVHJhbnNmb3JtIil9cHJlcGFyZURlZmluZXMoZSx0PSExKXtpZih0IT09dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3N8fCF0aGlzLl9pc0VuYWJsZWQpe2UuVklHTkVUVEU9ITEsZS5UT05FTUFQUElORz0hMSxlLlRPTkVNQVBQSU5HX0FDRVM9ITEsZS5DT05UUkFTVD0hMSxlLkVYUE9TVVJFPSExLGUuQ09MT1JDVVJWRVM9ITEsZS5DT0xPUkdSQURJTkc9ITEsZS5DT0xPUkdSQURJTkczRD0hMSxlLkRJVEhFUj0hMSxlLklNQUdFUFJPQ0VTU0lORz0hMSxlLlNLSVBGSU5BTENPTE9SQ0xBTVA9dGhpcy5za2lwRmluYWxDb2xvckNsYW1wLGUuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2lzRW5hYmxlZDtyZXR1cm59c3dpdGNoKGUuVklHTkVUVEU9dGhpcy52aWduZXR0ZUVuYWJsZWQsZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZPXRoaXMudmlnbmV0dGVCbGVuZE1vZGU9PT1wZS5fVklHTkVUVEVNT0RFX01VTFRJUExZLGUuVklHTkVUVEVCTEVORE1PREVPUEFRVUU9IWUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWSxlLlRPTkVNQVBQSU5HPXRoaXMudG9uZU1hcHBpbmdFbmFibGVkLHRoaXMuX3RvbmVNYXBwaW5nVHlwZSl7Y2FzZSBwZS5UT05FTUFQUElOR19BQ0VTOmUuVE9ORU1BUFBJTkdfQUNFUz0hMDticmVhaztkZWZhdWx0OmUuVE9ORU1BUFBJTkdfQUNFUz0hMTticmVha31lLkNPTlRSQVNUPXRoaXMuY29udHJhc3QhPT0xLGUuRVhQT1NVUkU9dGhpcy5leHBvc3VyZSE9PTEsZS5DT0xPUkNVUlZFUz10aGlzLmNvbG9yQ3VydmVzRW5hYmxlZCYmISF0aGlzLmNvbG9yQ3VydmVzLGUuQ09MT1JHUkFESU5HPXRoaXMuY29sb3JHcmFkaW5nRW5hYmxlZCYmISF0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUsZS5DT0xPUkdSQURJTkc/ZS5DT0xPUkdSQURJTkczRD10aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXMzRDplLkNPTE9SR1JBRElORzNEPSExLGUuU0FNUExFUjNER1JFRU5ERVBUSD10aGlzLmNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoLGUuU0FNUExFUjNEQkdSTUFQPXRoaXMuY29sb3JHcmFkaW5nQkdSLGUuRElUSEVSPXRoaXMuX2RpdGhlcmluZ0VuYWJsZWQsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyxlLlNLSVBGSU5BTENPTE9SQ0xBTVA9dGhpcy5za2lwRmluYWxDb2xvckNsYW1wLGUuSU1BR0VQUk9DRVNTSU5HPWUuVklHTkVUVEV8fGUuVE9ORU1BUFBJTkd8fGUuQ09OVFJBU1R8fGUuRVhQT1NVUkV8fGUuQ09MT1JDVVJWRVN8fGUuQ09MT1JHUkFESU5HfHxlLkRJVEhFUn1pc1JlYWR5KCl7cmV0dXJuIXRoaXMuY29sb3JHcmFkaW5nRW5hYmxlZHx8IXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZXx8dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmlzUmVhZHkoKX1iaW5kKGUsdCl7aWYodGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkJiZ0aGlzLmNvbG9yQ3VydmVzJiZBZS5CaW5kKHRoaXMuY29sb3JDdXJ2ZXMsZSksdGhpcy5fdmlnbmV0dGVFbmFibGVkfHx0aGlzLl9kaXRoZXJpbmdFbmFibGVkKXtjb25zdCBpPTEvZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLHM9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpO2lmKGUuc2V0RmxvYXQyKCJ2SW52ZXJzZVNjcmVlblNpemUiLGkscyksdGhpcy5fZGl0aGVyaW5nRW5hYmxlZCYmZS5zZXRGbG9hdCgiZGl0aGVySW50ZW5zaXR5IiwuNSp0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHkpLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZCl7Y29uc3Qgcj10Pz9zL2k7bGV0IG49TWF0aC50YW4odGhpcy52aWduZXR0ZUNhbWVyYUZvdiouNSksYT1uKnI7Y29uc3Qgbz1NYXRoLnNxcnQoYSpuKTthPUguTWl4KGEsbyx0aGlzLnZpZ25ldHRlU3RyZXRjaCksbj1ILk1peChuLG8sdGhpcy52aWduZXR0ZVN0cmV0Y2gpLGUuc2V0RmxvYXQ0KCJ2aWduZXR0ZVNldHRpbmdzMSIsYSxuLC1hKnRoaXMudmlnbmV0dGVDZW50ZXJYLC1uKnRoaXMudmlnbmV0dGVDZW50ZXJZKTtjb25zdCBoPS0yKnRoaXMudmlnbmV0dGVXZWlnaHQ7ZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MyIix0aGlzLnZpZ25ldHRlQ29sb3Iucix0aGlzLnZpZ25ldHRlQ29sb3IuZyx0aGlzLnZpZ25ldHRlQ29sb3IuYixoKX19aWYoZS5zZXRGbG9hdCgiZXhwb3N1cmVMaW5lYXIiLHRoaXMuZXhwb3N1cmUpLGUuc2V0RmxvYXQoImNvbnRyYXN0Iix0aGlzLmNvbnRyYXN0KSx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpe2Uuc2V0VGV4dHVyZSgidHhDb2xvclRyYW5zZm9ybSIsdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlKTtjb25zdCBpPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5nZXRTaXplKCkuaGVpZ2h0O2Uuc2V0RmxvYXQ0KCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiwoaS0xKS9pLC41L2ksaSx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUubGV2ZWwpfX1jbG9uZSgpe3JldHVybiBhZS5DbG9uZSgoKT0+bmV3IHBlLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBhZS5TZXJpYWxpemUodGhpcyl9c3RhdGljIFBhcnNlKGUpe2NvbnN0IHQ9YWUuUGFyc2UoKCk9Pm5ldyBwZSxlLG51bGwsbnVsbCk7cmV0dXJuIGUudmlnbmV0dGVDZW50cmVYIT09dm9pZCAwJiYodC52aWduZXR0ZUNlbnRlclg9ZS52aWduZXR0ZUNlbnRyZVgpLGUudmlnbmV0dGVDZW50cmVZIT09dm9pZCAwJiYodC52aWduZXR0ZUNlbnRlclk9ZS52aWduZXR0ZUNlbnRyZVkpLHR9c3RhdGljIGdldCBWSUdORVRURU1PREVfTVVMVElQTFkoKXtyZXR1cm4gdGhpcy5fVklHTkVUVEVNT0RFX01VTFRJUExZfXN0YXRpYyBnZXQgVklHTkVUVEVNT0RFX09QQVFVRSgpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfT1BBUVVFfX1wZS5UT05FTUFQUElOR19TVEFOREFSRD0wLHBlLlRPTkVNQVBQSU5HX0FDRVM9MSxwZS5fVklHTkVUVEVNT0RFX01VTFRJUExZPTAscGUuX1ZJR05FVFRFTU9ERV9PUEFRVUU9MSxUKFtBbigpXSxwZS5wcm90b3R5cGUsImNvbG9yQ3VydmVzIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfY29sb3JDdXJ2ZXNFbmFibGVkIix2b2lkIDApLFQoW210KCJjb2xvckdyYWRpbmdUZXh0dXJlIildLHBlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ1RleHR1cmUiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdFbmFibGVkIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdCR1IiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9leHBvc3VyZSIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX3RvbmVNYXBwaW5nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX3RvbmVNYXBwaW5nVHlwZSIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX2NvbnRyYXN0Iix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJ2aWduZXR0ZVN0cmV0Y2giLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsInZpZ25ldHRlQ2VudGVyWCIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwidmlnbmV0dGVDZW50ZXJZIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJ2aWduZXR0ZVdlaWdodCIsdm9pZCAwKSxUKFtkcigpXSxwZS5wcm90b3R5cGUsInZpZ25ldHRlQ29sb3IiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsInZpZ25ldHRlQ2FtZXJhRm92Iix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfdmlnbmV0dGVCbGVuZE1vZGUiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl92aWduZXR0ZUVuYWJsZWQiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9kaXRoZXJpbmdFbmFibGVkIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfZGl0aGVyaW5nSW50ZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfc2tpcEZpbmFsQ29sb3JDbGFtcCIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX2FwcGx5QnlQb3N0UHJvY2VzcyIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX2lzRW5hYmxlZCIsdm9pZCAwKSxhZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1wZS5QYXJzZSxvZS5wcm90b3R5cGUuY3JlYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXtjb25zdCBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB1bmlmb3JtIGJ1ZmZlciIpO2NvbnN0IHQ9bmV3IERpKGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjLHRoaXMuX2dsLlNUQVRJQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoYyksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0sb2UucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGR5bmFtaWMgdW5pZm9ybSBidWZmZXIiKTtjb25zdCB0PW5ldyBEaShlKTtyZXR1cm4gdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcih0KSxjIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsYyx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShjKSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0sb2UucHJvdG90eXBlLnVwZGF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihjKSx0PT09dm9pZCAwJiYodD0wKSxpPT09dm9pZCAwP2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LGUpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsdCxuZXcgRmxvYXQzMkFycmF5KGUpKTplIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsMCxlLnN1YmFycmF5KHQsdCtpKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLG5ldyBGbG9hdDMyQXJyYXkoZSkuc3ViYXJyYXkodCx0K2kpKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpfSxvZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7dGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjP2MudW5kZXJseWluZ1Jlc291cmNlOm51bGwpfSxvZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXJCYXNlPWZ1bmN0aW9uKGMsZSx0KXt0aGlzLl9nbC5iaW5kQnVmZmVyQmFzZSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixlLGM/Yy51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LG9lLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJsb2NrPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPWMucHJvZ3JhbSxzPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KGksZSk7cyE9PTQyOTQ5NjcyOTUmJnRoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcoaSxzLHQpfTtjbGFzcyBWe2NvbnN0cnVjdG9yKGUsdCxpLHMscj0hMSl7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9ub1VCTz0hZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHxyLHRoaXMuX2R5bmFtaWM9aSx0aGlzLl9uYW1lPXM/PyJuby1uYW1lIix0aGlzLl9kYXRhPXR8fFtdLHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnM9e30sdGhpcy5fdW5pZm9ybVNpemVzPXt9LHRoaXMuX3VuaWZvcm1BcnJheVNpemVzPXt9LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI9MCx0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzPVtdLHRoaXMuX2J1ZmZlckluZGV4PS0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEsdGhpcy5fY3VycmVudEZyYW1lSWQ9MCksdGhpcy5fbm9VQk8/KHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpeDJ4Mj10aGlzLl91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDM9dGhpcy5fdXBkYXRlRmxvYXQzRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUFycmF5PXRoaXMuX3VwZGF0ZUFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50QXJyYXk9dGhpcy5fdXBkYXRlVUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yMz10aGlzLl91cGRhdGVWZWN0b3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yND10aGlzLl91cGRhdGVDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDI9dGhpcy5fdXBkYXRlSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQ9dGhpcy5fdXBkYXRlVUludEZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQyPXRoaXMuX3VwZGF0ZVVJbnQyRm9yRWZmZWN0LHRoaXMudXBkYXRlVUludDM9dGhpcy5fdXBkYXRlVUludDNGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50ND10aGlzLl91cGRhdGVVSW50NEZvckVmZmVjdCk6KHRoaXMuX2VuZ2luZS5fdW5pZm9ybUJ1ZmZlcnMucHVzaCh0aGlzKSx0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4MngyPXRoaXMuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mz10aGlzLl91cGRhdGVGbG9hdDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlQXJyYXk9dGhpcy5fdXBkYXRlQXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludEFycmF5PXRoaXMuX3VwZGF0ZVVJbnRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVZlY3RvcjM9dGhpcy5fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvclVuaWZvcm0sdGhpcy51cGRhdGVDb2xvcjQ9dGhpcy5fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQyPXRoaXMuX3VwZGF0ZUludDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50PXRoaXMuX3VwZGF0ZVVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludDI9dGhpcy5fdXBkYXRlVUludDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludDM9dGhpcy5fdXBkYXRlVUludDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludDQ9dGhpcy5fdXBkYXRlVUludDRGb3JVbmlmb3JtKX1nZXQgdXNlVWJvKCl7cmV0dXJuIXRoaXMuX25vVUJPfWdldCBpc1N5bmMoKXtyZXR1cm4hdGhpcy5fbmVlZFN5bmN9aXNEeW5hbWljKCl7cmV0dXJuIHRoaXMuX2R5bmFtaWMhPT12b2lkIDB9Z2V0RGF0YSgpe3JldHVybiB0aGlzLl9idWZmZXJEYXRhfWdldEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9X2ZpbGxBbGlnbm1lbnQoZSl7bGV0IHQ7aWYoZTw9Mj90PWU6dD00LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIldCE9PTApe2NvbnN0IGk9dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcjt0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyKz10LXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIldDtjb25zdCBzPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXItaTtmb3IobGV0IHI9MDtyPHM7cisrKXRoaXMuX2RhdGEucHVzaCgwKX19YWRkVW5pZm9ybShlLHQsaT0wKXtpZih0aGlzLl9ub1VCT3x8dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXSE9PXZvaWQgMClyZXR1cm47bGV0IHM7aWYoaT4wKXtpZih0IGluc3RhbmNlb2YgQXJyYXkpdGhyb3ciYWRkVW5pZm9ybSBzaG91bGQgbm90IGJlIHVzZSB3aXRoIEFycmF5IGluIFVCTzogIitlO2lmKHRoaXMuX2ZpbGxBbGlnbm1lbnQoNCksdGhpcy5fdW5pZm9ybUFycmF5U2l6ZXNbZV09e3N0cmlkZVNpemU6dCxhcnJheVNpemU6aX0sdD09MTYpdD10Kmk7ZWxzZXtjb25zdCBuPSg0LXQpKmk7dD10Kmkrbn1zPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspcy5wdXNoKDApfWVsc2V7aWYodCBpbnN0YW5jZW9mIEFycmF5KXM9dCx0PXMubGVuZ3RoO2Vsc2V7dD10LHM9W107Zm9yKGxldCByPTA7cjx0O3IrKylzLnB1c2goMCl9dGhpcy5fZmlsbEFsaWdubWVudCh0KX10aGlzLl91bmlmb3JtU2l6ZXNbZV09dCx0aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIsdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dDtmb3IobGV0IHI9MDtyPHQ7cisrKXRoaXMuX2RhdGEucHVzaChzW3JdKTt0aGlzLl9uZWVkU3luYz0hMH1hZGRNYXRyaXgoZSx0KXt0aGlzLmFkZFVuaWZvcm0oZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LnRvQXJyYXkoKSkpfWFkZEZsb2F0MihlLHQsaSl7Y29uc3Qgcz1bdCxpXTt0aGlzLmFkZFVuaWZvcm0oZSxzKX1hZGRGbG9hdDMoZSx0LGkscyl7Y29uc3Qgcj1bdCxpLHNdO3RoaXMuYWRkVW5pZm9ybShlLHIpfWFkZENvbG9yMyhlLHQpe2NvbnN0IGk9W3Qucix0LmcsdC5iXTt0aGlzLmFkZFVuaWZvcm0oZSxpKX1hZGRDb2xvcjQoZSx0LGkpe2NvbnN0IHM9W3Qucix0LmcsdC5iLGldO3RoaXMuYWRkVW5pZm9ybShlLHMpfWFkZFZlY3RvcjMoZSx0KXtjb25zdCBpPVt0LngsdC55LHQuel07dGhpcy5hZGRVbmlmb3JtKGUsaSl9YWRkTWF0cml4M3gzKGUpe3RoaXMuYWRkVW5pZm9ybShlLDEyKX1hZGRNYXRyaXgyeDIoZSl7dGhpcy5hZGRVbmlmb3JtKGUsOCl9Y3JlYXRlKCl7dGhpcy5fbm9VQk98fHRoaXMuX2J1ZmZlcnx8KHRoaXMuX2ZpbGxBbGlnbm1lbnQoNCksdGhpcy5fYnVmZmVyRGF0YT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX2RhdGEpLHRoaXMuX3JlYnVpbGQoKSx0aGlzLl9uZWVkU3luYz0hMCl9X3JlYnVpbGQoKXt0aGlzLl9ub1VCT3x8IXRoaXMuX2J1ZmZlckRhdGF8fCh0aGlzLl9keW5hbWljP3RoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1VuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSk6dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEpLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZSYmKHRoaXMuX2J1ZmZlcnMucHVzaChbdGhpcy5fYnVmZmVyLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuY2hlY2tVYm9zQ29udGVudEJlZm9yZVVwbG9hZD90aGlzLl9idWZmZXJEYXRhLnNsaWNlKCk6dm9pZCAwXSksdGhpcy5fYnVmZmVySW5kZXg9dGhpcy5fYnVmZmVycy5sZW5ndGgtMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExKSl9Z2V0IF9udW1CdWZmZXJzKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnMubGVuZ3RofWdldCBfaW5kZXhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVySW5kZXh9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1fYnVmZmVyc0VxdWFsKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpaWYoZVtpXSE9PXRbaV0pcmV0dXJuITE7cmV0dXJuITB9X2NvcHlCdWZmZXIoZSx0KXtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSl0W2ldPWVbaV19dXBkYXRlKCl7aWYoIXRoaXMuX25vVUJPKXtpZih0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKCksIXRoaXMuX2J1ZmZlcil7dGhpcy5jcmVhdGUoKTtyZXR1cm59aWYoIXRoaXMuX2R5bmFtaWMmJiF0aGlzLl9uZWVkU3luYyl7dGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWU7cmV0dXJufWlmKHRoaXMuX2J1ZmZlcnMmJnRoaXMuX2J1ZmZlcnMubGVuZ3RoPjEmJnRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKWlmKHRoaXMuX2J1ZmZlcnNFcXVhbCh0aGlzLl9idWZmZXJEYXRhLHRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKSl7dGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWU7cmV0dXJufWVsc2UgdGhpcy5fY29weUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhLHRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKTt0aGlzLl9lbmdpbmUudXBkYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXIsdGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5fY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZSYmKFYuX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXXx8KFYuX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXT0wKSxWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV0rKyksdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWV9fV9jcmVhdGVOZXdCdWZmZXIoKXt0aGlzLl9idWZmZXJJbmRleCsxPHRoaXMuX2J1ZmZlcnMubGVuZ3RoPyh0aGlzLl9idWZmZXJJbmRleCsrLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX25lZWRTeW5jPSEwKTp0aGlzLl9yZWJ1aWxkKCl9X2NoZWNrTmV3RnJhbWUoKXt0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2N1cnJlbnRGcmFtZUlkIT09dGhpcy5fZW5naW5lLmZyYW1lSWQmJih0aGlzLl9jdXJyZW50RnJhbWVJZD10aGlzLl9lbmdpbmUuZnJhbWVJZCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2J1ZmZlcnMmJnRoaXMuX2J1ZmZlcnMubGVuZ3RoPjA/KHRoaXMuX25lZWRTeW5jPXRoaXMuX2J1ZmZlckluZGV4IT09MCx0aGlzLl9idWZmZXJJbmRleD0wLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSk6dGhpcy5fYnVmZmVySW5kZXg9LTEpfXVwZGF0ZVVuaWZvcm0oZSx0LGkpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtsZXQgcz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKHM9PT12b2lkIDApe2lmKHRoaXMuX2J1ZmZlcil7Ty5FcnJvcigiQ2Fubm90IGFkZCBhbiB1bmlmb3JtIGFmdGVyIFVCTyBoYXMgYmVlbiBjcmVhdGVkLiIpO3JldHVybn10aGlzLmFkZFVuaWZvcm0oZSxpKSxzPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV19aWYodGhpcy5fYnVmZmVyfHx0aGlzLmNyZWF0ZSgpLHRoaXMuX2R5bmFtaWMpZm9yKGxldCByPTA7cjxpO3IrKyl0aGlzLl9idWZmZXJEYXRhW3Mrcl09dFtyXTtlbHNle2xldCByPSExO2ZvcihsZXQgbj0wO248aTtuKyspKGk9PT0xNiYmIXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeHx8dGhpcy5fYnVmZmVyRGF0YVtzK25dIT09SC5GbG9hdFJvdW5kKHRbbl0pKSYmKHI9ITAsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZSYmdGhpcy5fY3JlYXRlTmV3QnVmZmVyKCksdGhpcy5fYnVmZmVyRGF0YVtzK25dPXRbbl0pO3RoaXMuX25lZWRTeW5jPXRoaXMuX25lZWRTeW5jfHxyfX11cGRhdGVVbmlmb3JtQXJyYXkoZSx0LGkpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtjb25zdCBzPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYocz09PXZvaWQgMCl7Ty5FcnJvcigiQ2Fubm90IGFkZCBhbiB1bmlmb3JtIEFycmF5IGR5bmFtaWNhbGx5LiBQbGVhc2UsIGFkZCBpdCB1c2luZyBhZGRVbmlmb3JtIGFuZCBtYWtlIHN1cmUgdGhhdCB1bmlmb3JtIGJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBlbmdpbmUuIik7cmV0dXJufXRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKTtjb25zdCByPXRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdO2lmKHRoaXMuX2R5bmFtaWMpZm9yKGxldCBuPTA7bjxpO24rKyl0aGlzLl9idWZmZXJEYXRhW3Mrbl09dFtuXTtlbHNle2xldCBuPSExLGE9MCxvPTA7Zm9yKGxldCBoPTA7aDxpO2grKylpZih0aGlzLl9idWZmZXJEYXRhW3Mrbyo0K2FdIT09SC5GbG9hdFJvdW5kKHRbaF0pJiYobj0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW3Mrbyo0K2FdPXRbaF0pLGErKyxhPT09ci5zdHJpZGVTaXplKXtmb3IoO2E8NDthKyspdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT0wO2E9MCxvKyt9dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fG59fV9jYWNoZU1hdHJpeChlLHQpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV0scz10LnVwZGF0ZUZsYWc7cmV0dXJuIGkhPT12b2lkIDAmJmk9PT1zPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITApfV91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwzO2krKylWLl9UZW1wQnVmZmVyW2kqNF09dFtpKjNdLFYuX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSozKzFdLFYuX1RlbXBCdWZmZXJbaSo0KzJdPXRbaSozKzJdLFYuX1RlbXBCdWZmZXJbaSo0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxMil9X3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4M3gzKGUsdCl9X3VwZGF0ZU1hdHJpeDJ4MkZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4MngyKGUsdCl9X3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0oZSx0KXtmb3IobGV0IGk9MDtpPDI7aSsrKVYuX1RlbXBCdWZmZXJbaSo0XT10W2kqMl0sVi5fVGVtcEJ1ZmZlcltpKjQrMV09dFtpKjIrMV0sVi5fVGVtcEJ1ZmZlcltpKjQrMl09MCxWLl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsOCl9X3VwZGF0ZUZsb2F0Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdChlLHQpfV91cGRhdGVGbG9hdEZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlRmxvYXQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQyKGUrcyx0LGkpfV91cGRhdGVGbG9hdDJGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyWzBdPXQsVi5fVGVtcEJ1ZmZlclsxXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMil9X3VwZGF0ZUZsb2F0M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQzKGUrcix0LGkscyl9X3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0oZSx0LGkscyl7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSxWLl9UZW1wQnVmZmVyWzJdPXMsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0NChlK24sdCxpLHMscil9X3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0oZSx0LGkscyxyKXtWLl9UZW1wQnVmZmVyWzBdPXQsVi5fVGVtcEJ1ZmZlclsxXT1pLFYuX1RlbXBCdWZmZXJbMl09cyxWLl9UZW1wQnVmZmVyWzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXRBcnJheShlLHQpfV91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsdCx0Lmxlbmd0aCl9X3VwZGF0ZUFycmF5Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRBcnJheShlLHQpfV91cGRhdGVBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50QXJyYXkoZSx0KX1fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlckludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxWLl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlVUludEFycmF5Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50QXJyYXkoZSx0KX1fdXBkYXRlVUludEFycmF5Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3LnNldCh0KSx0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLFYuX1RlbXBCdWZmZXIsdC5sZW5ndGgpfV91cGRhdGVNYXRyaXhGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeChlLHQpfV91cGRhdGVNYXRyaXhGb3JVbmlmb3JtKGUsdCl7dGhpcy5fY2FjaGVNYXRyaXgoZSx0KSYmdGhpcy51cGRhdGVVbmlmb3JtKGUsdC50b0FycmF5KCksMTYpfV91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cmljZXMoZSx0KX1fdXBkYXRlTWF0cmljZXNGb3JVbmlmb3JtKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCl9X3VwZGF0ZVZlY3RvcjNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFZlY3RvcjMoZSx0KX1fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQueCxWLl9UZW1wQnVmZmVyWzFdPXQueSxWLl9UZW1wQnVmZmVyWzJdPXQueix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3I0KGUsdCl9X3VwZGF0ZVZlY3RvcjRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LngsVi5fVGVtcEJ1ZmZlclsxXT10LnksVi5fVGVtcEJ1ZmZlclsyXT10LnosVi5fVGVtcEJ1ZmZlclszXT10LncsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlQ29sb3IzRm9yRWZmZWN0KGUsdCxpPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldENvbG9yMyhlK2ksdCl9X3VwZGF0ZUNvbG9yM0ZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVDb2xvcjRGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjQoZStzLHQsaSl9X3VwZGF0ZURpcmVjdENvbG9yNEZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXREaXJlY3RDb2xvcjQoZStpLHQpfV91cGRhdGVDb2xvcjRGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYixWLl9UZW1wQnVmZmVyWzNdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJbMF09dC5yLFYuX1RlbXBCdWZmZXJbMV09dC5nLFYuX1RlbXBCdWZmZXJbMl09dC5iLFYuX1RlbXBCdWZmZXJbM109dC5hLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUludEZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQoZStpLHQpfV91cGRhdGVJbnRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMSl9X3VwZGF0ZUludDJGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQyKGUrcyx0LGkpfV91cGRhdGVJbnQyRm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVJbnQzRm9yRWZmZWN0KGUsdCxpLHMscj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQzKGUrcix0LGkscyl9X3VwZGF0ZUludDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZUludDRGb3JFZmZlY3QoZSx0LGkscyxyLG49IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50NChlK24sdCxpLHMscil9X3VwZGF0ZUludDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzJdPXMsVi5fVGVtcEJ1ZmZlckludDMyVmlld1szXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZVVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludChlK2ksdCl9X3VwZGF0ZVVJbnRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDEpfV91cGRhdGVVSW50MkZvckVmZmVjdChlLHQsaSxzPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQyKGUrcyx0LGkpfV91cGRhdGVVSW50MkZvclVuaWZvcm0oZSx0LGkpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVVSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludDMoZStyLHQsaSxzKX1fdXBkYXRlVUludDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVyVUludDMyVmlld1syXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZVVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQ0KGUrbix0LGkscyxyKX1fdXBkYXRlVUludDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVyVUludDMyVmlld1sxXT1pLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzJdPXMsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfXNldFRleHR1cmUoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFRleHR1cmUoZSx0KX11cGRhdGVVbmlmb3JtRGlyZWN0bHkoZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LHQubGVuZ3RoKSx0aGlzLnVwZGF0ZSgpfWJpbmRUb0VmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Q9ZSx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT10fWJpbmRVbmlmb3JtQnVmZmVyKCl7IXRoaXMuX25vVUJPJiZ0aGlzLl9idWZmZXImJnRoaXMuX2N1cnJlbnRFZmZlY3QmJnRoaXMuX2N1cnJlbnRFZmZlY3QuYmluZFVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2N1cnJlbnRFZmZlY3ROYW1lKX11bmJpbmRFZmZlY3QoKXt0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT12b2lkIDB9c2V0RGF0YUJ1ZmZlcihlKXtpZighdGhpcy5fYnVmZmVycylyZXR1cm4gdGhpcy5fYnVmZmVyPT09ZTtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1ZmZlcnMubGVuZ3RoOysrdClpZih0aGlzLl9idWZmZXJzW3RdWzBdPT09ZSlyZXR1cm4gdGhpcy5fYnVmZmVySW5kZXg9dCx0aGlzLl9idWZmZXI9ZSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRFZmZlY3Q9dm9pZCAwLCEwO3JldHVybiExfWRpc3Bvc2UoKXtpZih0aGlzLl9ub1VCTylyZXR1cm47Y29uc3QgZT10aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLHQ9ZS5pbmRleE9mKHRoaXMpO2lmKHQhPT0tMSYmKGVbdF09ZVtlLmxlbmd0aC0xXSxlLnBvcCgpKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2J1ZmZlcnMpZm9yKGxldCBpPTA7aTx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK2kpe2NvbnN0IHM9dGhpcy5fYnVmZmVyc1tpXVswXTt0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIocyl9ZWxzZSB0aGlzLl9idWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwpfX1WLl9VcGRhdGVkVWJvc0luRnJhbWU9e30sVi5fTUFYX1VOSUZPUk1fU0laRT0yNTYsVi5fVGVtcEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KFYuX01BWF9VTklGT1JNX1NJWkUpLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXc9bmV3IEludDMyQXJyYXkoVi5fVGVtcEJ1ZmZlci5idWZmZXIpLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3PW5ldyBVaW50MzJBcnJheShWLl9UZW1wQnVmZmVyLmJ1ZmZlcik7Y2xhc3MgJGl7Y29uc3RydWN0b3IoZSx0LGkscz0wLHI9ITEsbj0hMSxhPSExLG8pe3RoaXMuX2lzQWxyZWFkeU93bmVkPSExLGUuZ2V0U2NlbmU/dGhpcy5fZW5naW5lPWUuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTp0aGlzLl9lbmdpbmU9ZSx0aGlzLl91cGRhdGFibGU9aSx0aGlzLl9pbnN0YW5jZWQ9bix0aGlzLl9kaXZpc29yPW98fDEsdCBpbnN0YW5jZW9mIFBpPyh0aGlzLl9kYXRhPW51bGwsdGhpcy5fYnVmZmVyPXQpOih0aGlzLl9kYXRhPXQsdGhpcy5fYnVmZmVyPW51bGwpLHRoaXMuYnl0ZVN0cmlkZT1hP3M6cypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQscnx8dGhpcy5jcmVhdGUoKX1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0LGkscyxyLG49ITEsYSl7Y29uc3Qgbz1uP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsaD1zP24/czpzKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVDp0aGlzLmJ5dGVTdHJpZGU7cmV0dXJuIG5ldyBnKHRoaXMuX2VuZ2luZSx0aGlzLGUsdGhpcy5fdXBkYXRhYmxlLCEwLGgscj09PXZvaWQgMD90aGlzLl9pbnN0YW5jZWQ6cixvLGksdm9pZCAwLHZvaWQgMCwhMCx0aGlzLl9kaXZpc29yfHxhKX1pc1VwZGF0YWJsZSgpe3JldHVybiB0aGlzLl91cGRhdGFibGV9Z2V0RGF0YSgpe3JldHVybiB0aGlzLl9kYXRhfWdldEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9Z2V0U3RyaWRlU2l6ZSgpe3JldHVybiB0aGlzLmJ5dGVTdHJpZGUvRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UfWNyZWF0ZShlPW51bGwpeyFlJiZ0aGlzLl9idWZmZXJ8fChlPWV8fHRoaXMuX2RhdGEsZSYmKHRoaXMuX2J1ZmZlcj90aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSksdGhpcy5fZGF0YT1lKTp0aGlzLl91cGRhdGFibGU/KHRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVmVydGV4QnVmZmVyKGUpKSl9X3JlYnVpbGQoKXt0aGlzLl9idWZmZXI9bnVsbCx0aGlzLmNyZWF0ZSh0aGlzLl9kYXRhKX11cGRhdGUoZSl7dGhpcy5jcmVhdGUoZSl9dXBkYXRlRGlyZWN0bHkoZSx0LGkscz0hMSl7dGhpcy5fYnVmZmVyJiZ0aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSxzP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsaT9pKnRoaXMuYnl0ZVN0cmlkZTp2b2lkIDApLHQ9PT0wJiZpPT09dm9pZCAwP3RoaXMuX2RhdGE9ZTp0aGlzLl9kYXRhPW51bGwpfV9pbmNyZWFzZVJlZmVyZW5jZXMoKXtpZih0aGlzLl9idWZmZXIpe2lmKCF0aGlzLl9pc0FscmVhZHlPd25lZCl7dGhpcy5faXNBbHJlYWR5T3duZWQ9ITA7cmV0dXJufXRoaXMuX2J1ZmZlci5yZWZlcmVuY2VzKyt9fWRpc3Bvc2UoKXt0aGlzLl9idWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fZGF0YT1udWxsKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhLG8saCxsLHU9ITEsZD0hMSxmPTEsXz0hMSl7aWYodCBpbnN0YW5jZW9mICRpPyh0aGlzLl9idWZmZXI9dCx0aGlzLl9vd25zQnVmZmVyPV8pOih0aGlzLl9idWZmZXI9bmV3ICRpKGUsdCxzLG4scixhLGQpLHRoaXMuX293bnNCdWZmZXI9ITApLHRoaXMudW5pcXVlSWQ9Zy5fQ291bnRlcisrLHRoaXMuX2tpbmQ9aSxsPT1udWxsKXtjb25zdCBtPXRoaXMuZ2V0RGF0YSgpO3RoaXMudHlwZT1nLkZMT0FULG0gaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dGhpcy50eXBlPWcuQllURTptIGluc3RhbmNlb2YgVWludDhBcnJheT90aGlzLnR5cGU9Zy5VTlNJR05FRF9CWVRFOm0gaW5zdGFuY2VvZiBJbnQxNkFycmF5P3RoaXMudHlwZT1nLlNIT1JUOm0gaW5zdGFuY2VvZiBVaW50MTZBcnJheT90aGlzLnR5cGU9Zy5VTlNJR05FRF9TSE9SVDptIGluc3RhbmNlb2YgSW50MzJBcnJheT90aGlzLnR5cGU9Zy5JTlQ6bSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYodGhpcy50eXBlPWcuVU5TSUdORURfSU5UKX1lbHNlIHRoaXMudHlwZT1sO2NvbnN0IEU9Zy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpO2Q/KHRoaXMuX3NpemU9aHx8KG4/bi9FOmcuRGVkdWNlU3RyaWRlKGkpKSx0aGlzLmJ5dGVTdHJpZGU9bnx8dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqRSx0aGlzLmJ5dGVPZmZzZXQ9b3x8MCk6KHRoaXMuX3NpemU9aHx8bnx8Zy5EZWR1Y2VTdHJpZGUoaSksdGhpcy5ieXRlU3RyaWRlPW4/bipFOnRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKkUsdGhpcy5ieXRlT2Zmc2V0PShvfHwwKSpFKSx0aGlzLm5vcm1hbGl6ZWQ9dSx0aGlzLl9pbnN0YW5jZWQ9YSE9PXZvaWQgMD9hOiExLHRoaXMuX2luc3RhbmNlRGl2aXNvcj1hP2Y6MCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX1nZXQgaW5zdGFuY2VEaXZpc29yKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn1zZXQgaW5zdGFuY2VEaXZpc29yKGUpe2NvbnN0IHQ9ZSE9MDt0aGlzLl9pbnN0YW5jZURpdmlzb3I9ZSx0IT09dGhpcy5faW5zdGFuY2VkJiYodGhpcy5faW5zdGFuY2VkPXQsdGhpcy5fY29tcHV0ZUhhc2hDb2RlKCkpfV9jb21wdXRlSGFzaENvZGUoKXt0aGlzLmhhc2hDb2RlPSh0aGlzLnR5cGUtNTEyMDw8MCkrKCh0aGlzLm5vcm1hbGl6ZWQ/MTowKTw8MykrKHRoaXMuX3NpemU8PDQpKygodGhpcy5faW5zdGFuY2VkPzE6MCk8PDYpKyh0aGlzLmJ5dGVTdHJpZGU8PDEyKX1fcmVidWlsZCgpe3RoaXMuX2J1ZmZlciYmdGhpcy5fYnVmZmVyLl9yZWJ1aWxkKCl9Z2V0S2luZCgpe3JldHVybiB0aGlzLl9raW5kfWlzVXBkYXRhYmxlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5pc1VwZGF0YWJsZSgpfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldERhdGEoKX1nZXRGbG9hdERhdGEoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RGF0YSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5nZXRTaXplKCkqZy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpLHI9ZSp0aGlzLmdldFNpemUoKTtpZih0aGlzLnR5cGUhPT1nLkZMT0FUfHx0aGlzLmJ5dGVTdHJpZGUhPT1zKXtjb25zdCBuPW5ldyBGbG9hdDMyQXJyYXkocik7cmV0dXJuIHRoaXMuZm9yRWFjaChyLChhLG8pPT5uW29dPWEpLG59aWYoIShpIGluc3RhbmNlb2YgQXJyYXl8fGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpfHx0aGlzLmJ5dGVPZmZzZXQhPT0wfHxpLmxlbmd0aCE9PXIpaWYoaSBpbnN0YW5jZW9mIEFycmF5KXtjb25zdCBuPXRoaXMuYnl0ZU9mZnNldC80O3JldHVybiBpLnNsaWNlKG4sbityKX1lbHNle2lmKGkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShpLHRoaXMuYnl0ZU9mZnNldCxyKTt7bGV0IG49aS5ieXRlT2Zmc2V0K3RoaXMuYnl0ZU9mZnNldDtpZih0KXtjb25zdCBvPW5ldyBGbG9hdDMyQXJyYXkociksaD1uZXcgRmxvYXQzMkFycmF5KGkuYnVmZmVyLG4scik7cmV0dXJuIG8uc2V0KGgpLG99Y29uc3QgYT1uJTQ7cmV0dXJuIGEmJihuPU1hdGgubWF4KDAsbi1hKSksbmV3IEZsb2F0MzJBcnJheShpLmJ1ZmZlcixuLHIpfX1yZXR1cm4gdD9pLnNsaWNlKCk6aX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldEJ1ZmZlcigpfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL2cuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX1nZXRPZmZzZXQoKXtyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0L2cuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX1nZXRTaXplKGU9ITEpe3JldHVybiBlP3RoaXMuX3NpemUqZy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpOnRoaXMuX3NpemV9Z2V0SXNJbnN0YW5jZWQoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VkfWdldEluc3RhbmNlRGl2aXNvcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9Y3JlYXRlKGUpe3RoaXMuX2J1ZmZlci5jcmVhdGUoZSl9dXBkYXRlKGUpe3RoaXMuX2J1ZmZlci51cGRhdGUoZSl9dXBkYXRlRGlyZWN0bHkoZSx0LGk9ITEpe3RoaXMuX2J1ZmZlci51cGRhdGVEaXJlY3RseShlLHQsdm9pZCAwLGkpfWRpc3Bvc2UoKXt0aGlzLl9vd25zQnVmZmVyJiZ0aGlzLl9idWZmZXIuZGlzcG9zZSgpfWZvckVhY2goZSx0KXtnLkZvckVhY2godGhpcy5fYnVmZmVyLmdldERhdGEoKSx0aGlzLmJ5dGVPZmZzZXQsdGhpcy5ieXRlU3RyaWRlLHRoaXMuX3NpemUsdGhpcy50eXBlLGUsdGhpcy5ub3JtYWxpemVkLHQpfXN0YXRpYyBEZWR1Y2VTdHJpZGUoZSl7c3dpdGNoKGUpe2Nhc2UgZy5VVktpbmQ6Y2FzZSBnLlVWMktpbmQ6Y2FzZSBnLlVWM0tpbmQ6Y2FzZSBnLlVWNEtpbmQ6Y2FzZSBnLlVWNUtpbmQ6Y2FzZSBnLlVWNktpbmQ6cmV0dXJuIDI7Y2FzZSBnLk5vcm1hbEtpbmQ6Y2FzZSBnLlBvc2l0aW9uS2luZDpyZXR1cm4gMztjYXNlIGcuQ29sb3JLaW5kOmNhc2UgZy5NYXRyaWNlc0luZGljZXNLaW5kOmNhc2UgZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDpjYXNlIGcuVGFuZ2VudEtpbmQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQga2luZCAnIitlKyInIil9fXN0YXRpYyBHZXRUeXBlQnl0ZUxlbmd0aChlKXtzd2l0Y2goZSl7Y2FzZSBnLkJZVEU6Y2FzZSBnLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBnLlNIT1JUOmNhc2UgZy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIGcuSU5UOmNhc2UgZy5VTlNJR05FRF9JTlQ6Y2FzZSBnLkZMT0FUOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJyR7ZX0nYCl9fXN0YXRpYyBGb3JFYWNoKGUsdCxpLHMscixuLGEsbyl7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXtsZXQgaD10LzQ7Y29uc3QgbD1pLzQ7Zm9yKGxldCB1PTA7dTxuO3UrPXMpe2ZvcihsZXQgZD0wO2Q8cztkKyspbyhlW2grZF0sdStkKTtoKz1sfX1lbHNle2NvbnN0IGg9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBEYXRhVmlldyhlKTpuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksbD1nLkdldFR5cGVCeXRlTGVuZ3RoKHIpO2ZvcihsZXQgdT0wO3U8bjt1Kz1zKXtsZXQgZD10O2ZvcihsZXQgZj0wO2Y8cztmKyspe2NvbnN0IF89Zy5fR2V0RmxvYXRWYWx1ZShoLHIsZCxhKTtvKF8sdStmKSxkKz1sfXQrPWl9fX1zdGF0aWMgX0dldEZsb2F0VmFsdWUoZSx0LGkscyl7c3dpdGNoKHQpe2Nhc2UgZy5CWVRFOntsZXQgcj1lLmdldEludDgoaSk7cmV0dXJuIHMmJihyPU1hdGgubWF4KHIvMTI3LC0xKSkscn1jYXNlIGcuVU5TSUdORURfQllURTp7bGV0IHI9ZS5nZXRVaW50OChpKTtyZXR1cm4gcyYmKHI9ci8yNTUpLHJ9Y2FzZSBnLlNIT1JUOntsZXQgcj1lLmdldEludDE2KGksITApO3JldHVybiBzJiYocj1NYXRoLm1heChyLzMyNzY3LC0xKSkscn1jYXNlIGcuVU5TSUdORURfU0hPUlQ6e2xldCByPWUuZ2V0VWludDE2KGksITApO3JldHVybiBzJiYocj1yLzY1NTM1KSxyfWNhc2UgZy5JTlQ6cmV0dXJuIGUuZ2V0SW50MzIoaSwhMCk7Y2FzZSBnLlVOU0lHTkVEX0lOVDpyZXR1cm4gZS5nZXRVaW50MzIoaSwhMCk7Y2FzZSBnLkZMT0FUOnJldHVybiBlLmdldEZsb2F0MzIoaSwhMCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29tcG9uZW50IHR5cGUgJHt0fWApfX19Zy5fQ291bnRlcj0wLGcuQllURT01MTIwLGcuVU5TSUdORURfQllURT01MTIxLGcuU0hPUlQ9NTEyMixnLlVOU0lHTkVEX1NIT1JUPTUxMjMsZy5JTlQ9NTEyNCxnLlVOU0lHTkVEX0lOVD01MTI1LGcuRkxPQVQ9NTEyNixnLlBvc2l0aW9uS2luZD0icG9zaXRpb24iLGcuTm9ybWFsS2luZD0ibm9ybWFsIixnLlRhbmdlbnRLaW5kPSJ0YW5nZW50IixnLlVWS2luZD0idXYiLGcuVVYyS2luZD0idXYyIixnLlVWM0tpbmQ9InV2MyIsZy5VVjRLaW5kPSJ1djQiLGcuVVY1S2luZD0idXY1IixnLlVWNktpbmQ9InV2NiIsZy5Db2xvcktpbmQ9ImNvbG9yIixnLkNvbG9ySW5zdGFuY2VLaW5kPSJpbnN0YW5jZUNvbG9yIixnLk1hdHJpY2VzSW5kaWNlc0tpbmQ9Im1hdHJpY2VzSW5kaWNlcyIsZy5NYXRyaWNlc1dlaWdodHNLaW5kPSJtYXRyaWNlc1dlaWdodHMiLGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kPSJtYXRyaWNlc0luZGljZXNFeHRyYSIsZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ9Im1hdHJpY2VzV2VpZ2h0c0V4dHJhIjtjbGFzcyBVdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaGl0PSExLHRoaXMuZGlzdGFuY2U9MCx0aGlzLnBpY2tlZFBvaW50PW51bGwsdGhpcy5waWNrZWRNZXNoPW51bGwsdGhpcy5idT0wLHRoaXMuYnY9MCx0aGlzLmZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hGYWNlSWQ9LTEsdGhpcy5zdWJNZXNoSWQ9MCx0aGlzLnBpY2tlZFNwcml0ZT1udWxsLHRoaXMudGhpbkluc3RhbmNlSW5kZXg9LTEsdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbk1lc2g9bnVsbCx0aGlzLmFpbVRyYW5zZm9ybT1udWxsLHRoaXMuZ3JpcFRyYW5zZm9ybT1udWxsfWdldE5vcm1hbChlPSExLHQ9ITApe2lmKCF0aGlzLnBpY2tlZE1lc2h8fHQmJiF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFpKXJldHVybiBudWxsO2xldCBzO2lmKHQpe2NvbnN0IG49dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2xldCBhPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozXSozKSxvPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzFdKjMpLGg9cC5Gcm9tQXJyYXkobixpW3RoaXMuZmFjZUlkKjMrMl0qMyk7YT1hLnNjYWxlKHRoaXMuYnUpLG89by5zY2FsZSh0aGlzLmJ2KSxoPWguc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLHM9bmV3IHAoYS54K28ueCtoLngsYS55K28ueStoLnksYS56K28ueitoLnopfWVsc2V7Y29uc3Qgbj10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxhPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozXSozKSxvPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzFdKjMpLGg9cC5Gcm9tQXJyYXkobixpW3RoaXMuZmFjZUlkKjMrMl0qMyksbD1hLnN1YnRyYWN0KG8pLHU9aC5zdWJ0cmFjdChvKTtzPXAuQ3Jvc3MobCx1KX1jb25zdCByPShuLGEpPT57bGV0IG89bi5nZXRXb3JsZE1hdHJpeCgpO24ubm9uVW5pZm9ybVNjYWxpbmcmJihELk1hdHJpeFswXS5jb3B5RnJvbShvKSxvPUQuTWF0cml4WzBdLG8uc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSxvLmludmVydCgpLG8udHJhbnNwb3NlVG9SZWYoRC5NYXRyaXhbMV0pLG89RC5NYXRyaXhbMV0pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSxvLGEpfTtpZihlJiZyKHRoaXMucGlja2VkTWVzaCxzKSx0aGlzLnJheSl7Y29uc3Qgbj1ELlZlY3RvcjNbMF0uY29weUZyb20ocyk7ZXx8cih0aGlzLnBpY2tlZE1lc2gsbikscC5Eb3Qobix0aGlzLnJheS5kaXJlY3Rpb24pPjAmJnMubmVnYXRlSW5QbGFjZSgpfXJldHVybiBzLm5vcm1hbGl6ZSgpLHN9Z2V0VGV4dHVyZUNvb3JkaW5hdGVzKCl7aWYoIXRoaXMucGlja2VkTWVzaHx8IXRoaXMucGlja2VkTWVzaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpO2lmKCF0KXJldHVybiBudWxsO2xldCBpPXZlLkZyb21BcnJheSh0LGVbdGhpcy5mYWNlSWQqM10qMikscz12ZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMV0qMikscj12ZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMl0qMik7cmV0dXJuIGk9aS5zY2FsZSh0aGlzLmJ1KSxzPXMuc2NhbGUodGhpcy5idikscj1yLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuZXcgdmUoaS54K3MueCtyLngsaS55K3MueStyLnkpfX1jbGFzcyBWZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbil7dGhpcy5zb3VyY2U9ZSx0aGlzLnBvaW50ZXJYPXQsdGhpcy5wb2ludGVyWT1pLHRoaXMubWVzaFVuZGVyUG9pbnRlcj1zLHRoaXMuc291cmNlRXZlbnQ9cix0aGlzLmFkZGl0aW9uYWxEYXRhPW59c3RhdGljIENyZWF0ZU5ldyhlLHQsaSl7Y29uc3Qgcz1lLmdldFNjZW5lKCk7cmV0dXJuIG5ldyBWZShlLHMucG9pbnRlclgscy5wb2ludGVyWSxzLm1lc2hVbmRlclBvaW50ZXJ8fGUsdCxpKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVNwcml0ZShlLHQsaSxzKXtyZXR1cm4gbmV3IFZlKGUsdC5wb2ludGVyWCx0LnBvaW50ZXJZLHQubWVzaFVuZGVyUG9pbnRlcixpLHMpfXN0YXRpYyBDcmVhdGVOZXdGcm9tU2NlbmUoZSx0KXtyZXR1cm4gbmV3IFZlKG51bGwsZS5wb2ludGVyWCxlLnBvaW50ZXJZLGUubWVzaFVuZGVyUG9pbnRlcix0KX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVByaW1pdGl2ZShlLHQsaSxzKXtyZXR1cm4gbmV3IFZlKGUsdC54LHQueSxudWxsLGkscyl9fWNsYXNzIFFpe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5fc2NlbmU9ZX1fcHJlcGFyZUJ1ZmZlcnMoKXtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXSlyZXR1cm47Y29uc3QgZT1bXTtlLnB1c2goMSwxKSxlLnB1c2goLTEsMSksZS5wdXNoKC0xLC0xKSxlLnB1c2goMSwtMSksdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF09bmV3IGcodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksZSxnLlBvc2l0aW9uS2luZCwhMSwhMSwyKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCl9X2J1aWxkSW5kZXhCdWZmZXIoKXtjb25zdCBlPVtdO2UucHVzaCgwKSxlLnB1c2goMSksZS5wdXNoKDIpLGUucHVzaCgwKSxlLnB1c2goMiksZS5wdXNoKDMpLHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNyZWF0ZUluZGV4QnVmZmVyKGUpfV9yZWJ1aWxkKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5fcmVidWlsZCgpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKSl9X3ByZXBhcmVGcmFtZShlPW51bGwsdD1udWxsKXtjb25zdCBpPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4haXx8KHQ9dHx8aS5fcG9zdFByb2Nlc3Nlcy5maWx0ZXIocz0+cyE9bnVsbCksIXR8fHQubGVuZ3RoPT09MHx8IXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXNFbmFibGVkKT8hMToodFswXS5hY3RpdmF0ZShpLGUsdCE9bnVsbCksITApfWRpcmVjdFJlbmRlcihlLHQ9bnVsbCxpPSExLHM9MCxyPTAsbj0hMSl7dmFyIGE7Y29uc3Qgbz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IGg9MDtoPGUubGVuZ3RoO2grKyl7aDxlLmxlbmd0aC0xP2VbaCsxXS5hY3RpdmF0ZSh0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKToodD9vLmJpbmRGcmFtZWJ1ZmZlcih0LHMsdm9pZCAwLHZvaWQgMCxpLHIpOm58fG8ucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLChhPW8uX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fGE9PT12b2lkIDB8fGEuY2FsbChvLGBwb3N0IHByb2Nlc3MgJHtlW2hdLm5hbWV9IG91dHB1dGApKTtjb25zdCBsPWVbaF0sdT1sLmFwcGx5KCk7dSYmKGwub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLG8uYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcix1KSxvLmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLGwub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpKX1vLnNldERlcHRoQnVmZmVyKCEwKSxvLnNldERlcHRoV3JpdGUoITApfV9maW5hbGl6ZUZyYW1lKGUsdCxpLHMscj0hMSl7dmFyIG47Y29uc3QgYT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7aWYoIWF8fChzPXN8fGEuX3Bvc3RQcm9jZXNzZXMuZmlsdGVyKGg9PmghPW51bGwpLHMubGVuZ3RoPT09MHx8IXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXNFbmFibGVkKSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IGg9MCxsPXMubGVuZ3RoO2g8bDtoKyspe2NvbnN0IHU9c1toXTtpZihoPGwtMT91Ll9vdXRwdXRUZXh0dXJlPXNbaCsxXS5hY3RpdmF0ZShhLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/KG8uYmluZEZyYW1lYnVmZmVyKHQsaSx2b2lkIDAsdm9pZCAwLHIpLHUuX291dHB1dFRleHR1cmU9dCk6KG8ucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLHUuX291dHB1dFRleHR1cmU9bnVsbCksKG49by5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKG8sYHBvc3QgcHJvY2VzcyAke3NbaF0ubmFtZX0gb3V0cHV0YCkpLGUpYnJlYWs7Y29uc3QgZD11LmFwcGx5KCk7ZCYmKHUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkKSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLG8uYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcixkKSxvLmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLHUub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpKX1vLnNldERlcHRoQnVmZmVyKCEwKSxvLnNldERlcHRoV3JpdGUoITApLG8uc2V0QWxwaGFNb2RlKDApfWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdO2UmJihlLmRpc3Bvc2UoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXT1udWxsKSx0aGlzLl9pbmRleEJ1ZmZlciYmKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsKX19Y2xhc3MgU3R7Y29uc3RydWN0b3IoZSx0LGk9bnVsbCxzPW51bGwscj1udWxsKXt0aGlzLmluZGV4PWUsdGhpcy5fb3BhcXVlU3ViTWVzaGVzPW5ldyAkZSgyNTYpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzPW5ldyAkZSgyNTYpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcz1uZXcgJGUoMjU2KSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXM9bmV3ICRlKDI1NiksdGhpcy5fcGFydGljbGVTeXN0ZW1zPW5ldyAkZSgyNTYpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzPW5ldyAkZSgyNTYpLHRoaXMuX2VtcHR5PSEwLHRoaXMuX2VkZ2VzUmVuZGVyZXJzPW5ldyBoaSgxNiksdGhpcy5fc2NlbmU9dCx0aGlzLm9wYXF1ZVNvcnRDb21wYXJlRm49aSx0aGlzLmFscGhhVGVzdFNvcnRDb21wYXJlRm49cyx0aGlzLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj1yfXNldCBvcGFxdWVTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbj1lOnRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49U3QuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlck9wYXF1ZT10aGlzLl9yZW5kZXJPcGFxdWVTb3J0ZWR9c2V0IGFscGhhVGVzdFNvcnRDb21wYXJlRm4oZSl7ZT90aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPWU6dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1TdC5QYWludGVyU29ydENvbXBhcmUsdGhpcy5fcmVuZGVyQWxwaGFUZXN0PXRoaXMuX3JlbmRlckFscGhhVGVzdFNvcnRlZH1zZXQgdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPWU6dGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPVN0LmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlLHRoaXMuX3JlbmRlclRyYW5zcGFyZW50PXRoaXMuX3JlbmRlclRyYW5zcGFyZW50U29ydGVkfXJlbmRlcihlLHQsaSxzKXtpZihlKXtlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMsdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMsdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKTtyZXR1cm59Y29uc3Qgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMubGVuZ3RoIT09MCYmKHIuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcyksci5zZXRDb2xvcldyaXRlKCEwKSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX3JlbmRlck9wYXF1ZSh0aGlzLl9vcGFxdWVTdWJNZXNoZXMpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJBbHBoYVRlc3QodGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzKTtjb25zdCBuPXIuZ2V0U3RlbmNpbEJ1ZmZlcigpO2lmKHIuc2V0U3RlbmNpbEJ1ZmZlcighMSksdCYmdGhpcy5fcmVuZGVyU3ByaXRlcygpLGkmJnRoaXMuX3JlbmRlclBhcnRpY2xlcyhzKSx0aGlzLm9uQmVmb3JlVHJhbnNwYXJlbnRSZW5kZXJpbmcmJnRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZygpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmxlbmd0aCE9PTB8fHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe2lmKHIuc2V0U3RlbmNpbEJ1ZmZlcihuKSx0aGlzLl9zY2VuZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5KXtjb25zdCBhPXRoaXMuX3NjZW5lLmRlcHRoUGVlbGluZ1JlbmRlcmVyLnJlbmRlcih0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7YS5sZW5ndGgmJnRoaXMuX3JlbmRlclRyYW5zcGFyZW50KGEpfWVsc2UgdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO3Iuc2V0QWxwaGFNb2RlKDApfWlmKHIuc2V0U3RlbmNpbEJ1ZmZlcighMSksdGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoKXtmb3IobGV0IGE9MDthPHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aDthKyspdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGF0YVthXS5yZW5kZXIoKTtyLnNldEFscGhhTW9kZSgwKX1yLnNldFN0ZW5jaWxCdWZmZXIobil9X3JlbmRlck9wYXF1ZVNvcnRlZChlKXtyZXR1cm4gU3QuX1JlbmRlclNvcnRlZChlLHRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX1fcmVuZGVyQWxwaGFUZXN0U29ydGVkKGUpe3JldHVybiBTdC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfV9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZChlKXtyZXR1cm4gU3QuX1JlbmRlclNvcnRlZChlLHRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITApfXN0YXRpYyBfUmVuZGVyU29ydGVkKGUsdCxpLHMpe2xldCByPTAsbjtjb25zdCBhPWk/aS5nbG9iYWxQb3NpdGlvbjpTdC5fWmVyb1ZlY3RvcjtpZihzKWZvcig7cjxlLmxlbmd0aDtyKyspbj1lLmRhdGFbcl0sbi5fYWxwaGFJbmRleD1uLmdldE1lc2goKS5hbHBoYUluZGV4LG4uX2Rpc3RhbmNlVG9DYW1lcmE9cC5EaXN0YW5jZShuLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLGEpO2NvbnN0IG89ZS5sZW5ndGg9PT1lLmRhdGEubGVuZ3RoP2UuZGF0YTplLmRhdGEuc2xpY2UoMCxlLmxlbmd0aCk7dCYmby5zb3J0KHQpO2NvbnN0IGg9b1swXS5nZXRNZXNoKCkuZ2V0U2NlbmUoKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKWlmKG49b1tyXSwhKGguX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZyYmIW4uaXNJbkZydXN0dW0oaC5fZnJ1c3R1bVBsYW5lcykpKXtpZihzKXtjb25zdCBsPW4uZ2V0TWF0ZXJpYWwoKTtpZihsJiZsLm5lZWREZXB0aFByZVBhc3Mpe2NvbnN0IHU9bC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3Uuc2V0Q29sb3JXcml0ZSghMSksdS5zZXRBbHBoYU1vZGUoMCksbi5yZW5kZXIoITEpLHUuc2V0Q29sb3JXcml0ZSghMCl9fW4ucmVuZGVyKHMpfX1zdGF0aWMgZGVmYXVsdFRyYW5zcGFyZW50U29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fYWxwaGFJbmRleD50Ll9hbHBoYUluZGV4PzE6ZS5fYWxwaGFJbmRleDx0Ll9hbHBoYUluZGV4Py0xOlN0LmJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KX1zdGF0aWMgYmFja1RvRnJvbnRTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/MTplLl9kaXN0YW5jZVRvQ2FtZXJhPnQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6MH1zdGF0aWMgZnJvbnRUb0JhY2tTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6MH1zdGF0aWMgUGFpbnRlclNvcnRDb21wYXJlKGUsdCl7Y29uc3QgaT1lLmdldE1lc2goKSxzPXQuZ2V0TWVzaCgpO3JldHVybiBpLm1hdGVyaWFsJiZzLm1hdGVyaWFsP2kubWF0ZXJpYWwudW5pcXVlSWQtcy5tYXRlcmlhbC51bmlxdWVJZDppLnVuaXF1ZUlkLXMudW5pcXVlSWR9cHJlcGFyZSgpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5wcmVwYXJlU3ByaXRlcygpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLnJlc2V0KCksdGhpcy5fZW1wdHk9ITB9cHJlcGFyZVNwcml0ZXMoKXt0aGlzLl9zcHJpdGVNYW5hZ2Vycy5yZXNldCgpfWRpc3Bvc2UoKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5kaXNwb3NlKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGlzcG9zZSgpfWRpc3BhdGNoKGUsdCxpKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSksaT09PXZvaWQgMCYmKGk9ZS5nZXRNYXRlcmlhbCgpKSxpIT1udWxsJiYoaS5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCk/dGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucHVzaChlKTppLm5lZWRBbHBoYVRlc3RpbmcoKT8oaS5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucHVzaChlKSk6KGkubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLnB1c2goZSkpLHQuX3JlbmRlcmluZ0dyb3VwPXRoaXMsdC5fZWRnZXNSZW5kZXJlciYmdC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0Ll9lZGdlc1JlbmRlcmVyKSx0aGlzLl9lbXB0eT0hMSl9ZGlzcGF0Y2hTcHJpdGVzKGUpe3RoaXMuX3Nwcml0ZU1hbmFnZXJzLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9ZGlzcGF0Y2hQYXJ0aWNsZXMoZSl7dGhpcy5fcGFydGljbGVTeXN0ZW1zLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9X3JlbmRlclBhcnRpY2xlcyhlKXtpZih0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgdD10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGF0YVtpXTtpZigodCYmdC5sYXllck1hc2smcy5sYXllck1hc2spPT09MCljb250aW51ZTtjb25zdCByPXMuZW1pdHRlcjsoIXIucG9zaXRpb258fCFlfHxlLmluZGV4T2YocikhPT0tMSkmJnRoaXMuX3NjZW5lLl9hY3RpdmVQYXJ0aWNsZXMuYWRkQ291bnQocy5yZW5kZXIoKSwhMSl9dGhpcy5fc2NlbmUub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX1fcmVuZGVyU3ByaXRlcygpe2lmKCF0aGlzLl9zY2VuZS5zcHJpdGVzRW5hYmxlZHx8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgZT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9zcHJpdGVNYW5hZ2Vycy5kYXRhW3RdOyhlJiZlLmxheWVyTWFzayZpLmxheWVyTWFzaykhPT0wJiZpLnJlbmRlcigpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX1TdC5fWmVyb1ZlY3Rvcj1wLlplcm8oKTtjbGFzcyB5bnt9Y2xhc3MgV2V7Y29uc3RydWN0b3IoZSl7dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMSx0aGlzLl9yZW5kZXJpbmdHcm91cHM9bmV3IEFycmF5LHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbD17fSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm49e30sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1uZXcgeW4sdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5fc2NlbmU9ZTtmb3IobGV0IHQ9V2UuTUlOX1JFTkRFUklOR0dST1VQUzt0PFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7dCsrKXRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFt0XT17YXV0b0NsZWFyOiEwLGRlcHRoOiEwLHN0ZW5jaWw6ITB9fWdldCBtYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcygpe3JldHVybiB0aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lc31zZXQgbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMoZSl7aWYoZSE9PXRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiYodGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ZSwhdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMpKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9zY2VuZS5tZXNoZXMpaWYodC5zdWJNZXNoZXMpZm9yKGNvbnN0IGkgb2YgdC5zdWJNZXNoZXMpaS5fd2FzRGlzcGF0Y2hlZD0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2Vycyl0Ll93YXNEaXNwYXRjaGVkPSExO2Zvcihjb25zdCB0IG9mIHRoaXMuX3NjZW5lLnBhcnRpY2xlU3lzdGVtcyl0Ll93YXNEaXNwYXRjaGVkPSExfX1nZXRSZW5kZXJpbmdHcm91cChlKXtjb25zdCB0PWV8fDA7cmV0dXJuIHRoaXMuX3ByZXBhcmVSZW5kZXJpbmdHcm91cCh0KSx0aGlzLl9yZW5kZXJpbmdHcm91cHNbdF19X2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyKGU9ITAsdD0hMCl7dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWR8fCh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jbGVhcihudWxsLCExLGUsdCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQ9ITApfXJlbmRlcihlLHQsaSxzKXtjb25zdCByPXRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbztpZihyLnNjZW5lPXRoaXMuX3NjZW5lLHIuY2FtZXJhPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2VycyYmcylmb3IobGV0IG49MDtuPHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnNbbl07dGhpcy5kaXNwYXRjaFNwcml0ZXMoYSl9Zm9yKGxldCBuPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7bjxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO24rKyl7dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQ9bj09PVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7Y29uc3QgYT10aGlzLl9yZW5kZXJpbmdHcm91cHNbbl07aWYoIWF8fGEuX2VtcHR5KWNvbnRpbnVlO2NvbnN0IG89TWF0aC5wb3coMixuKTtpZihyLnJlbmRlcmluZ0dyb3VwSWQ9bix0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixvKSxXZS5BVVRPQ0xFQVIpe2NvbnN0IGg9dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD90aGlzLl9zY2VuZS5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChuKTp0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbbl07aCYmaC5hdXRvQ2xlYXImJnRoaXMuX2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyKGguZGVwdGgsaC5zdGVuY2lsKX1mb3IoY29uc3QgaCBvZiB0aGlzLl9zY2VuZS5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2UpaC5hY3Rpb24obik7YS5yZW5kZXIoZSxzLGksdCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fc2NlbmUuX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2UpaC5hY3Rpb24obik7dGhpcy5fc2NlbmUub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixvKX19cmVzZXQoKXtpZighdGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcylmb3IobGV0IGU9V2UuTUlOX1JFTkRFUklOR0dST1VQUztlPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXtjb25zdCB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LnByZXBhcmUoKX19cmVzZXRTcHJpdGVzKCl7aWYoIXRoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMpZm9yKGxldCBlPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5wcmVwYXJlU3ByaXRlcygpfX1kaXNwb3NlKCl7dGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy5fcmVuZGVyaW5nR3JvdXBzLmxlbmd0aD0wLHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1udWxsfWZyZWVSZW5kZXJpbmdHcm91cHMoKXtmb3IobGV0IGU9V2UuTUlOX1JFTkRFUklOR0dST1VQUztlPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXtjb25zdCB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LmRpc3Bvc2UoKX19X3ByZXBhcmVSZW5kZXJpbmdHcm91cChlKXt0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09PT12b2lkIDAmJih0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09bmV3IFN0KGUsdGhpcy5fc2NlbmUsdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXSkpfWRpc3BhdGNoU3ByaXRlcyhlKXt0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiZlLl93YXNEaXNwYXRjaGVkfHwoZS5fd2FzRGlzcGF0Y2hlZD0hMCx0aGlzLmdldFJlbmRlcmluZ0dyb3VwKGUucmVuZGVyaW5nR3JvdXBJZCkuZGlzcGF0Y2hTcHJpdGVzKGUpKX1kaXNwYXRjaFBhcnRpY2xlcyhlKXt0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiZlLl93YXNEaXNwYXRjaGVkfHwoZS5fd2FzRGlzcGF0Y2hlZD0hMCx0aGlzLmdldFJlbmRlcmluZ0dyb3VwKGUucmVuZGVyaW5nR3JvdXBJZCkuZGlzcGF0Y2hQYXJ0aWNsZXMoZSkpfWRpc3BhdGNoKGUsdCxpKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSksISh0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiZlLl93YXNEaXNwYXRjaGVkKSYmKGUuX3dhc0Rpc3BhdGNoZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdHcm91cCh0LnJlbmRlcmluZ0dyb3VwSWQpLmRpc3BhdGNoKGUsdCxpKSl9c2V0UmVuZGVyaW5nT3JkZXIoZSx0PW51bGwsaT1udWxsLHM9bnVsbCl7aWYodGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXT10LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV09aSx0aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV09cyx0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV0pe2NvbnN0IHI9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3Iub3BhcXVlU29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHIuYWxwaGFUZXN0U29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdLHIudHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXX19c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCxpPSEwLHM9ITApe3RoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXT17YXV0b0NsZWFyOnQsZGVwdGg6aSxzdGVuY2lsOnN9fWdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKGUpe3JldHVybiB0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV19fVdlLk1BWF9SRU5ERVJJTkdHUk9VUFM9NCxXZS5NSU5fUkVOREVSSU5HR1JPVVBTPTAsV2UuQVVUT0NMRUFSPSEwO2NsYXNzIHF7fXEuTkFNRV9FRkZFQ1RMQVlFUj0iRWZmZWN0TGF5ZXIiLHEuTkFNRV9MQVlFUj0iTGF5ZXIiLHEuTkFNRV9MRU5TRkxBUkVTWVNURU09IkxlbnNGbGFyZVN5c3RlbSIscS5OQU1FX0JPVU5ESU5HQk9YUkVOREVSRVI9IkJvdW5kaW5nQm94UmVuZGVyZXIiLHEuTkFNRV9QQVJUSUNMRVNZU1RFTT0iUGFydGljbGVTeXN0ZW0iLHEuTkFNRV9HQU1FUEFEPSJHYW1lcGFkIixxLk5BTUVfU0lNUExJRklDQVRJT05RVUVVRT0iU2ltcGxpZmljYXRpb25RdWV1ZSIscS5OQU1FX0dFT01FVFJZQlVGRkVSUkVOREVSRVI9Ikdlb21ldHJ5QnVmZmVyUmVuZGVyZXIiLHEuTkFNRV9QUkVQQVNTUkVOREVSRVI9IlByZVBhc3NSZW5kZXJlciIscS5OQU1FX0RFUFRIUkVOREVSRVI9IkRlcHRoUmVuZGVyZXIiLHEuTkFNRV9ERVBUSFBFRUxJTkdSRU5ERVJFUj0iRGVwdGhQZWVsaW5nUmVuZGVyZXIiLHEuTkFNRV9QT1NUUFJPQ0VTU1JFTkRFUlBJUEVMSU5FTUFOQUdFUj0iUG9zdFByb2Nlc3NSZW5kZXJQaXBlbGluZU1hbmFnZXIiLHEuTkFNRV9TUFJJVEU9IlNwcml0ZSIscS5OQU1FX1NVQlNVUkZBQ0U9IlN1YlN1cmZhY2UiLHEuTkFNRV9PVVRMSU5FUkVOREVSRVI9Ik91dGxpbmUiLHEuTkFNRV9QUk9DRURVUkFMVEVYVFVSRT0iUHJvY2VkdXJhbFRleHR1cmUiLHEuTkFNRV9TSEFET1dHRU5FUkFUT1I9IlNoYWRvd0dlbmVyYXRvciIscS5OQU1FX09DVFJFRT0iT2N0cmVlIixxLk5BTUVfUEhZU0lDU0VOR0lORT0iUGh5c2ljc0VuZ2luZSIscS5OQU1FX0FVRElPPSJBdWRpbyIscS5OQU1FX0ZMVUlEUkVOREVSRVI9IkZsdWlkUmVuZGVyZXIiLHEuU1RFUF9JU1JFQURZRk9STUVTSF9FRkZFQ1RMQVlFUj0wLHEuU1RFUF9CRUZPUkVFVkFMVUFURUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLHEuU1RFUF9FVkFMVUFURVNVQk1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLHEuU1RFUF9QUkVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxxLlNURVBfQ0FNRVJBRFJBV1JFTkRFUlRBUkdFVF9FRkZFQ1RMQVlFUj0xLHEuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX1BSRVBBU1M9MCxxLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLHEuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0xBWUVSPTIscS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfUFJFUEFTUz0wLHEuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEscS5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfUFJFUEFTUz0wLHEuU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxxLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxxLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxxLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfRUZGRUNUTEFZRVJfRFJBVz0wLHEuU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19CT1VORElOR0JPWFJFTkRFUkVSPTEscS5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9TSU1QTElGSUNBVElPTlFVRVVFPTAscS5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9HQU1FUEFEPTEscS5TVEVQX0JFRk9SRUNMRUFSX1BST0NFRFVSQUxURVhUVVJFPTAscS5TVEVQX0JFRk9SRUNMRUFSX1BSRVBBU1M9MSxxLlNURVBfQkVGT1JFUkVOREVSVEFSR0VUQ0xFQVJfUFJFUEFTUz0wLHEuU1RFUF9BRlRFUlJFTkRFUlRBUkdFVERSQVdfUFJFUEFTUz0wLHEuU1RFUF9BRlRFUlJFTkRFUlRBUkdFVERSQVdfTEFZRVI9MSxxLlNURVBfQUZURVJDQU1FUkFEUkFXX1BSRVBBU1M9MCxxLlNURVBfQUZURVJDQU1FUkFEUkFXX0VGRkVDVExBWUVSPTEscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MRU5TRkxBUkVTWVNURU09MixxLlNURVBfQUZURVJDQU1FUkFEUkFXX0VGRkVDVExBWUVSX0RSQVc9MyxxLlNURVBfQUZURVJDQU1FUkFEUkFXX0xBWUVSPTQscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19GTFVJRFJFTkRFUkVSPTUscS5TVEVQX0FGVEVSQ0FNRVJBUE9TVFBST0NFU1NfTEFZRVI9MCxxLlNURVBfQUZURVJSRU5ERVJUQVJHRVRQT1NUUFJPQ0VTU19MQVlFUj0wLHEuU1RFUF9BRlRFUlJFTkRFUl9BVURJTz0wLHEuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxxLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPTEscS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SPTIscS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9MyxxLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAscS5TVEVQX0dBVEhFUkFDVElWRUNBTUVSQVJFTkRFUlRBUkdFVFNfRkxVSURSRU5ERVJFUj0xLHEuU1RFUF9QT0lOVEVSTU9WRV9TUFJJVEU9MCxxLlNURVBfUE9JTlRFUkRPV05fU1BSSVRFPTAscS5TVEVQX1BPSU5URVJVUF9TUFJJVEU9MDtjbGFzcyBJZSBleHRlbmRzIEFycmF5e2NvbnN0cnVjdG9yKGUpe3N1cGVyKC4uLmUpfXN0YXRpYyBDcmVhdGUoKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShJZS5wcm90b3R5cGUpfXJlZ2lzdGVyU3RlcChlLHQsaSl7bGV0IHM9MCxyPU51bWJlci5NQVhfVkFMVUU7Zm9yKDtzPHRoaXMubGVuZ3RoJiYocj10aGlzW3NdLmluZGV4LCEoZTxyKSk7cysrKTt0aGlzLnNwbGljZShzLDAse2luZGV4OmUsY29tcG9uZW50OnQsYWN0aW9uOmkuYmluZCh0KX0pfWNsZWFyKCl7dGhpcy5sZW5ndGg9MH19Y2xhc3MgVGV7fVRlLlBPSU5URVJET1dOPTEsVGUuUE9JTlRFUlVQPTIsVGUuUE9JTlRFUk1PVkU9NCxUZS5QT0lOVEVSV0hFRUw9OCxUZS5QT0lOVEVSUElDSz0xNixUZS5QT0lOVEVSVEFQPTMyLFRlLlBPSU5URVJET1VCTEVUQVA9NjQ7Y2xhc3MgZnJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXR9fWNsYXNzIENuIGV4dGVuZHMgZnJ7Y29uc3RydWN0b3IoZSx0LGkscyl7c3VwZXIoZSx0KSx0aGlzLnJheT1udWxsLHRoaXMub3JpZ2luYWxQaWNraW5nSW5mbz1udWxsLHRoaXMuc2tpcE9uUG9pbnRlck9ic2VydmFibGU9ITEsdGhpcy5sb2NhbFBvc2l0aW9uPW5ldyB2ZShpLHMpfX1jbGFzcyB1aSBleHRlbmRzIGZye2NvbnN0cnVjdG9yKGUsdCxpLHM9bnVsbCl7c3VwZXIoZSx0KSx0aGlzLl9waWNrSW5mbz1pLHRoaXMuX2lucHV0TWFuYWdlcj1zfWdldCBwaWNrSW5mbygpe3JldHVybiB0aGlzLl9waWNrSW5mb3x8dGhpcy5fZ2VuZXJhdGVQaWNrSW5mbygpLHRoaXMuX3BpY2tJbmZvfV9nZW5lcmF0ZVBpY2tJbmZvKCl7dGhpcy5faW5wdXRNYW5hZ2VyJiYodGhpcy5fcGlja0luZm89dGhpcy5faW5wdXRNYW5hZ2VyLl9waWNrTW92ZSh0aGlzLmV2ZW50LnBvaW50ZXJJZCksdGhpcy5faW5wdXRNYW5hZ2VyLl9zZXRSYXlPblBvaW50ZXJJbmZvKHRoaXMuX3BpY2tJbmZvLHRoaXMuZXZlbnQpLHRoaXMuX2lucHV0TWFuYWdlcj1udWxsKX19Y2xhc3MgdXR7Y29uc3RydWN0b3IoKXt0aGlzLmhvdmVyQ3Vyc29yPSIiLHRoaXMuYWN0aW9ucz1uZXcgQXJyYXksdGhpcy5pc1JlY3Vyc2l2ZT0hMX1zdGF0aWMgZ2V0IEhhc1RyaWdnZXJzKCl7Zm9yKGNvbnN0IGUgaW4gdXQuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHV0LlRyaWdnZXJzLGUpKXJldHVybiEwO3JldHVybiExfXN0YXRpYyBnZXQgSGFzUGlja1RyaWdnZXJzKCl7Zm9yKGNvbnN0IGUgaW4gdXQuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHV0LlRyaWdnZXJzLGUpKXtjb25zdCB0PXBhcnNlSW50KGUpO2lmKHQ+PTEmJnQ8PTcpcmV0dXJuITB9cmV0dXJuITF9c3RhdGljIEhhc1NwZWNpZmljVHJpZ2dlcihlKXtmb3IoY29uc3QgdCBpbiB1dC5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodXQuVHJpZ2dlcnMsdCkmJnBhcnNlSW50KHQpPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX19dXQuVHJpZ2dlcnM9e307Y2xhc3MgSml7fUppLktFWURPV049MSxKaS5LRVlVUD0yO2NsYXNzIENze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5ldmVudD10fX1jbGFzcyBfciBleHRlbmRzIENze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXQsdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGU9ITF9Z2V0IHNraXBPblBvaW50ZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlfXNldCBza2lwT25Qb2ludGVyT2JzZXJ2YWJsZShlKXt0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT1lfX12YXIgejsoZnVuY3Rpb24oYyl7Y1tjLkdlbmVyaWM9MF09IkdlbmVyaWMiLGNbYy5LZXlib2FyZD0xXT0iS2V5Ym9hcmQiLGNbYy5Nb3VzZT0yXT0iTW91c2UiLGNbYy5Ub3VjaD0zXT0iVG91Y2giLGNbYy5EdWFsU2hvY2s9NF09IkR1YWxTaG9jayIsY1tjLlhib3g9NV09Ilhib3giLGNbYy5Td2l0Y2g9Nl09IlN3aXRjaCIsY1tjLkR1YWxTZW5zZT03XT0iRHVhbFNlbnNlIn0pKHp8fCh6PXt9KSk7dmFyIFE7KGZ1bmN0aW9uKGMpe2NbYy5Ib3Jpem9udGFsPTBdPSJIb3Jpem9udGFsIixjW2MuVmVydGljYWw9MV09IlZlcnRpY2FsIixjW2MuTGVmdENsaWNrPTJdPSJMZWZ0Q2xpY2siLGNbYy5NaWRkbGVDbGljaz0zXT0iTWlkZGxlQ2xpY2siLGNbYy5SaWdodENsaWNrPTRdPSJSaWdodENsaWNrIixjW2MuQnJvd3NlckJhY2s9NV09IkJyb3dzZXJCYWNrIixjW2MuQnJvd3NlckZvcndhcmQ9Nl09IkJyb3dzZXJGb3J3YXJkIixjW2MuTW91c2VXaGVlbFg9N109Ik1vdXNlV2hlZWxYIixjW2MuTW91c2VXaGVlbFk9OF09Ik1vdXNlV2hlZWxZIixjW2MuTW91c2VXaGVlbFo9OV09Ik1vdXNlV2hlZWxaIixjW2MuTW92ZT0xMl09Ik1vdmUifSkoUXx8KFE9e30pKTt2YXIgZXM7KGZ1bmN0aW9uKGMpe2NbYy5Ib3Jpem9udGFsPTBdPSJIb3Jpem9udGFsIixjW2MuVmVydGljYWw9MV09IlZlcnRpY2FsIixjW2MuTGVmdENsaWNrPTJdPSJMZWZ0Q2xpY2siLGNbYy5NaWRkbGVDbGljaz0zXT0iTWlkZGxlQ2xpY2siLGNbYy5SaWdodENsaWNrPTRdPSJSaWdodENsaWNrIixjW2MuQnJvd3NlckJhY2s9NV09IkJyb3dzZXJCYWNrIixjW2MuQnJvd3NlckZvcndhcmQ9Nl09IkJyb3dzZXJGb3J3YXJkIixjW2MuTW91c2VXaGVlbFg9N109Ik1vdXNlV2hlZWxYIixjW2MuTW91c2VXaGVlbFk9OF09Ik1vdXNlV2hlZWxZIixjW2MuTW91c2VXaGVlbFo9OV09Ik1vdXNlV2hlZWxaIixjW2MuRGVsdGFIb3Jpem9udGFsPTEwXT0iRGVsdGFIb3Jpem9udGFsIixjW2MuRGVsdGFWZXJ0aWNhbD0xMV09IkRlbHRhVmVydGljYWwifSkoZXN8fChlcz17fSkpO3ZhciBncjsoZnVuY3Rpb24oYyl7Y1tjLkNyb3NzPTBdPSJDcm9zcyIsY1tjLkNpcmNsZT0xXT0iQ2lyY2xlIixjW2MuU3F1YXJlPTJdPSJTcXVhcmUiLGNbYy5UcmlhbmdsZT0zXT0iVHJpYW5nbGUiLGNbYy5MMT00XT0iTDEiLGNbYy5SMT01XT0iUjEiLGNbYy5MMj02XT0iTDIiLGNbYy5SMj03XT0iUjIiLGNbYy5TaGFyZT04XT0iU2hhcmUiLGNbYy5PcHRpb25zPTldPSJPcHRpb25zIixjW2MuTDM9MTBdPSJMMyIsY1tjLlIzPTExXT0iUjMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoZ3J8fChncj17fSkpO3ZhciBwcjsoZnVuY3Rpb24oYyl7Y1tjLkNyb3NzPTBdPSJDcm9zcyIsY1tjLkNpcmNsZT0xXT0iQ2lyY2xlIixjW2MuU3F1YXJlPTJdPSJTcXVhcmUiLGNbYy5UcmlhbmdsZT0zXT0iVHJpYW5nbGUiLGNbYy5MMT00XT0iTDEiLGNbYy5SMT01XT0iUjEiLGNbYy5MMj02XT0iTDIiLGNbYy5SMj03XT0iUjIiLGNbYy5DcmVhdGU9OF09IkNyZWF0ZSIsY1tjLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGNbYy5MMz0xMF09IkwzIixjW2MuUjM9MTFdPSJSMyIsY1tjLkRQYWRVcD0xMl09IkRQYWRVcCIsY1tjLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGNbYy5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixjW2MuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixjW2MuSG9tZT0xNl09IkhvbWUiLGNbYy5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShwcnx8KHByPXt9KSk7dmFyIG1yOyhmdW5jdGlvbihjKXtjW2MuQT0wXT0iQSIsY1tjLkI9MV09IkIiLGNbYy5YPTJdPSJYIixjW2MuWT0zXT0iWSIsY1tjLkxCPTRdPSJMQiIsY1tjLlJCPTVdPSJSQiIsY1tjLkxUPTZdPSJMVCIsY1tjLlJUPTddPSJSVCIsY1tjLkJhY2s9OF09IkJhY2siLGNbYy5TdGFydD05XT0iU3RhcnQiLGNbYy5MUz0xMF09IkxTIixjW2MuUlM9MTFdPSJSUyIsY1tjLkRQYWRVcD0xMl09IkRQYWRVcCIsY1tjLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGNbYy5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixjW2MuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixjW2MuSG9tZT0xNl09IkhvbWUiLGNbYy5MU3RpY2tYQXhpcz0xN109IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MThdPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTE5XT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMF09IlJTdGlja1lBeGlzIn0pKG1yfHwobXI9e30pKTt2YXIgRXI7KGZ1bmN0aW9uKGMpe2NbYy5CPTBdPSJCIixjW2MuQT0xXT0iQSIsY1tjLlk9Ml09IlkiLGNbYy5YPTNdPSJYIixjW2MuTD00XT0iTCIsY1tjLlI9NV09IlIiLGNbYy5aTD02XT0iWkwiLGNbYy5aUj03XT0iWlIiLGNbYy5NaW51cz04XT0iTWludXMiLGNbYy5QbHVzPTldPSJQbHVzIixjW2MuTFM9MTBdPSJMUyIsY1tjLlJTPTExXT0iUlMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuQ2FwdHVyZT0xN109IkNhcHR1cmUiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKEVyfHwoRXI9e30pKTt2YXIgdnI7KGZ1bmN0aW9uKGMpe2NbYy5Qb2ludGVyTW92ZT0wXT0iUG9pbnRlck1vdmUiLGNbYy5Qb2ludGVyRG93bj0xXT0iUG9pbnRlckRvd24iLGNbYy5Qb2ludGVyVXA9Ml09IlBvaW50ZXJVcCJ9KSh2cnx8KHZyPXt9KSk7Y2xhc3MgdHN7fXRzLkRPTV9ERUxUQV9QSVhFTD0wLHRzLkRPTV9ERUxUQV9MSU5FPTEsdHMuRE9NX0RFTFRBX1BBR0U9MjtjbGFzcyBkaXtzdGF0aWMgQ3JlYXRlRGV2aWNlRXZlbnQoZSx0LGkscyxyLG4pe3N3aXRjaChlKXtjYXNlIHouS2V5Ym9hcmQ6cmV0dXJuIHRoaXMuX0NyZWF0ZUtleWJvYXJkRXZlbnQoaSxzLHIsbik7Y2FzZSB6Lk1vdXNlOmlmKGk9PT1RLk1vdXNlV2hlZWxYfHxpPT09US5Nb3VzZVdoZWVsWXx8aT09PVEuTW91c2VXaGVlbFopcmV0dXJuIHRoaXMuX0NyZWF0ZVdoZWVsRXZlbnQoZSx0LGkscyxyLG4pO2Nhc2Ugei5Ub3VjaDpyZXR1cm4gdGhpcy5fQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxpLHMscixuKTtkZWZhdWx0OnRocm93YFVuYWJsZSB0byBnZW5lcmF0ZSBldmVudCBmb3IgZGV2aWNlICR7eltlXX1gfX1zdGF0aWMgX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQsaSxzLHIsbil7Y29uc3QgYT10aGlzLl9DcmVhdGVNb3VzZUV2ZW50KGUsdCxpLHMscixuKTtyZXR1cm4gZT09PXouTW91c2U/KGEuZGV2aWNlVHlwZT16Lk1vdXNlLGEucG9pbnRlcklkPTEsYS5wb2ludGVyVHlwZT0ibW91c2UiKTooYS5kZXZpY2VUeXBlPXouVG91Y2gsYS5wb2ludGVySWQ9dCxhLnBvaW50ZXJUeXBlPSJ0b3VjaCIpLGk9PT1RLk1vdmU/YS50eXBlPSJwb2ludGVybW92ZSI6aT49US5MZWZ0Q2xpY2smJmk8PVEuUmlnaHRDbGljayYmKGEudHlwZT1zPT09MT8icG9pbnRlcmRvd24iOiJwb2ludGVydXAiLGEuYnV0dG9uPWktMiksYX1zdGF0aWMgX0NyZWF0ZVdoZWVsRXZlbnQoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQsaSxzLHIsbik7c3dpdGNoKGEudHlwZT0id2hlZWwiLGEuZGVsdGFNb2RlPXRzLkRPTV9ERUxUQV9QSVhFTCxhLmRlbHRhWD0wLGEuZGVsdGFZPTAsYS5kZWx0YVo9MCxpKXtjYXNlIFEuTW91c2VXaGVlbFg6YS5kZWx0YVg9czticmVhaztjYXNlIFEuTW91c2VXaGVlbFk6YS5kZWx0YVk9czticmVhaztjYXNlIFEuTW91c2VXaGVlbFo6YS5kZWx0YVo9czticmVha31yZXR1cm4gYX1zdGF0aWMgX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fQ3JlYXRlRXZlbnQobiksbz1yLnBvbGxJbnB1dChlLHQsUS5Ib3Jpem9udGFsKSxoPXIucG9sbElucHV0KGUsdCxRLlZlcnRpY2FsKTtyZXR1cm4gbj8oYS5tb3ZlbWVudFg9MCxhLm1vdmVtZW50WT0wLGEub2Zmc2V0WD1hLm1vdmVtZW50WC1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsYS5vZmZzZXRZPWEubW92ZW1lbnRZLW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSk6KGEubW92ZW1lbnRYPXIucG9sbElucHV0KGUsdCxlcy5EZWx0YUhvcml6b250YWwpLGEubW92ZW1lbnRZPXIucG9sbElucHV0KGUsdCxlcy5EZWx0YVZlcnRpY2FsKSxhLm9mZnNldFg9MCxhLm9mZnNldFk9MCksdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKGEsciksYS5jbGllbnRYPW8sYS5jbGllbnRZPWgsYS54PW8sYS55PWgsYS5kZXZpY2VUeXBlPWUsYS5kZXZpY2VTbG90PXQsYS5pbnB1dEluZGV4PWksYX1zdGF0aWMgX0NyZWF0ZUtleWJvYXJkRXZlbnQoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9DcmVhdGVFdmVudChzKTtyZXR1cm4gdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKHIsaSksci5kZXZpY2VUeXBlPXouS2V5Ym9hcmQsci5kZXZpY2VTbG90PTAsci5pbnB1dEluZGV4PWUsci50eXBlPXQ9PT0xPyJrZXlkb3duIjoia2V5dXAiLHIua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksci5rZXlDb2RlPWUscn1zdGF0aWMgX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhlLHQpe2NvbnN0IGk9dC5pc0RldmljZUF2YWlsYWJsZSh6LktleWJvYXJkKSxzPWkmJnQucG9sbElucHV0KHouS2V5Ym9hcmQsMCwxOCk9PT0xLHI9aSYmdC5wb2xsSW5wdXQoei5LZXlib2FyZCwwLDE3KT09PTEsbj1pJiYodC5wb2xsSW5wdXQoei5LZXlib2FyZCwwLDkxKT09PTF8fHQucG9sbElucHV0KHouS2V5Ym9hcmQsMCw5Mik9PT0xfHx0LnBvbGxJbnB1dCh6LktleWJvYXJkLDAsOTMpPT09MSksYT1pJiZ0LnBvbGxJbnB1dCh6LktleWJvYXJkLDAsMTYpPT09MTtlLmFsdEtleT1zLGUuY3RybEtleT1yLGUubWV0YUtleT1uLGUuc2hpZnRLZXk9YX1zdGF0aWMgX0NyZWF0ZUV2ZW50KGUpe2NvbnN0IHQ9e307cmV0dXJuIHQucHJldmVudERlZmF1bHQ9KCk9Pnt9LHQudGFyZ2V0PWUsdH19Y2xhc3MgSW57Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX25hdGl2ZUlucHV0PV9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0/bmV3IF9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0oZSx0LChzLHIsbixhKT0+e2NvbnN0IG89ZGkuQ3JlYXRlRGV2aWNlRXZlbnQocyxyLG4sYSx0aGlzKTtpKHMscixvKX0pOnRoaXMuX2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKX1wb2xsSW5wdXQoZSx0LGkpe3JldHVybiB0aGlzLl9uYXRpdmVJbnB1dC5wb2xsSW5wdXQoZSx0LGkpfWlzRGV2aWNlQXZhaWxhYmxlKGUpe3JldHVybiBlPT09ei5Nb3VzZXx8ZT09PXouVG91Y2h9ZGlzcG9zZSgpe3RoaXMuX25hdGl2ZUlucHV0LmRpc3Bvc2UoKX1fY3JlYXRlRHVtbXlOYXRpdmVJbnB1dCgpe3JldHVybntwb2xsSW5wdXQ6KCk9PjAsaXNEZXZpY2VBdmFpbGFibGU6KCk9PiExLGRpc3Bvc2U6KCk9Pnt9fX19Y29uc3QgVHI9MjU1LGJyPU9iamVjdC5rZXlzKFEpLmxlbmd0aC8yO2NsYXNzIFBue2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX2lucHV0cz1bXSx0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMSx0aGlzLl9wb2ludGVyQWN0aXZlPSExLHRoaXMuX3VzaW5nU2FmYXJpPUguSXNTYWZhcmkoKSx0aGlzLl91c2luZ01hY09TPS8oTWFjfGlQaG9uZXxpUG9kfGlQYWQpL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50PXI9Pnt9LHRoaXMuX2tleWJvYXJkVXBFdmVudD1yPT57fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyTW92ZUV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlclVwRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9cj0+e30sdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITEsdGhpcy5fbW91c2VJZD0tMSx0aGlzLl9pc1VzaW5nRmlyZWZveD1wcy5Jc05hdmlnYXRvckF2YWlsYWJsZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKSE9PS0xLHRoaXMuX21heFRvdWNoUG9pbnRzPTAsdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj1udWxsLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1yPT57fSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9cj0+e30sdGhpcy5fZXZlbnRQcmVmaXg9SC5HZXRQb2ludGVyUHJlZml4KGUpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkPXQsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9aSx0aGlzLl9vbklucHV0Q2hhbmdlZD1zLHRoaXMuX2VuYWJsZUV2ZW50cygpLHRoaXMuX3VzaW5nTWFjT1MmJih0aGlzLl9tZXRhS2V5cz1bXSksdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkfHwodGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkPSgpPT57dGhpcy5fZW5hYmxlRXZlbnRzKCl9KX1wb2xsSW5wdXQoZSx0LGkpe2NvbnN0IHM9dGhpcy5faW5wdXRzW2VdW3RdO2lmKCFzKXRocm93YFVuYWJsZSB0byBmaW5kIGRldmljZSAke3pbZV19YDtlPj16LkR1YWxTaG9jayYmZTw9ei5EdWFsU2Vuc2UmJnRoaXMuX3VwZGF0ZURldmljZShlLHQsaSk7Y29uc3Qgcj1zW2ldO2lmKHI9PT12b2lkIDApdGhyb3dgVW5hYmxlIHRvIGZpbmQgaW5wdXQgJHtpfSBmb3IgZGV2aWNlICR7eltlXX0gaW4gc2xvdCAke3R9YDtyZXR1cm4gaT09PVEuTW92ZSYmSC5XYXJuKCJVbmFibGUgdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBmb3IgUG9pbnRlcklucHV0Lk1vdmUuICBUcnkgdXNpbmcgUG9pbnRlcklucHV0Lkhvcml6b250YWwgb3IgUG9pbnRlcklucHV0LlZlcnRpY2FsIGZvciBtb3ZlIGRhdGEuIikscn1pc0RldmljZUF2YWlsYWJsZShlKXtyZXR1cm4gdGhpcy5faW5wdXRzW2VdIT09dm9pZCAwfWRpc3Bvc2UoKXt0aGlzLl9vbkRldmljZUNvbm5lY3RlZD0oKT0+e30sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9KCk9Pnt9LHRoaXMuX29uSW5wdXRDaGFuZ2VkPSgpPT57fSxkZWxldGUgdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiZ0aGlzLl9kaXNhYmxlRXZlbnRzKCl9X2VuYWJsZUV2ZW50cygpe2NvbnN0IGU9dGhpcz09PW51bGx8fHRoaXM9PT12b2lkIDA/dm9pZCAwOnRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlJiYoIXRoaXMuX2V2ZW50c0F0dGFjaGVkfHx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyE9PWUpKXtpZih0aGlzLl9kaXNhYmxlRXZlbnRzKCksdGhpcy5faW5wdXRzKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9pbnB1dHMpaWYodClmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBzPStpLHI9dFtzXTtpZihyKWZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXJbbl09MH19dGhpcy5fZWxlbWVudFRvQXR0YWNoVG89ZSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleD10aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleCE9PS0xP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4OnRoaXMuX2VuZ2luZS5jYW52YXNUYWJJbmRleCx0aGlzLl9oYW5kbGVLZXlBY3Rpb25zKCksdGhpcy5faGFuZGxlUG9pbnRlckFjdGlvbnMoKSx0aGlzLl9oYW5kbGVHYW1lcGFkQWN0aW9ucygpLHRoaXMuX2V2ZW50c0F0dGFjaGVkPSEwLHRoaXMuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpfX1fZGlzYWJsZUV2ZW50cygpe3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiYodGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciYmdGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMX1fY2hlY2tGb3JDb25uZWN0ZWREZXZpY2VzKCl7aWYobmF2aWdhdG9yLmdldEdhbWVwYWRzKXtjb25zdCBlPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpO2Zvcihjb25zdCB0IG9mIGUpdCYmdGhpcy5fYWRkR2FtZVBhZCh0KX10eXBlb2YgbWF0Y2hNZWRpYT09ImZ1bmN0aW9uIiYmbWF0Y2hNZWRpYSgiKHBvaW50ZXI6ZmluZSkiKS5tYXRjaGVzJiZ0aGlzLl9hZGRQb2ludGVyRGV2aWNlKHouTW91c2UsMCwwLDApfV9hZGRHYW1lUGFkKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0R2FtZXBhZERldmljZVR5cGUoZS5pZCksaT1lLmluZGV4O3RoaXMuX2dhbWVwYWRzPXRoaXMuX2dhbWVwYWRzfHxuZXcgQXJyYXkoZS5pbmRleCsxKSx0aGlzLl9yZWdpc3RlckRldmljZSh0LGksZS5idXR0b25zLmxlbmd0aCtlLmF4ZXMubGVuZ3RoKSx0aGlzLl9nYW1lcGFkc1tpXT10fV9hZGRQb2ludGVyRGV2aWNlKGUsdCxpLHMpe3RoaXMuX3BvaW50ZXJBY3RpdmV8fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwKSx0aGlzLl9yZWdpc3RlckRldmljZShlLHQsYnIpO2NvbnN0IHI9dGhpcy5faW5wdXRzW2VdW3RdO3JbMF09aSxyWzFdPXN9X3JlZ2lzdGVyRGV2aWNlKGUsdCxpKXtpZih0PT09dm9pZCAwKXRocm93YFVuYWJsZSB0byByZWdpc3RlciBkZXZpY2UgJHt6W2VdfSB0byB1bmRlZmluZWQgc2xvdC5gO2lmKHRoaXMuX2lucHV0c1tlXXx8KHRoaXMuX2lucHV0c1tlXT17fSksIXRoaXMuX2lucHV0c1tlXVt0XSl7Y29uc3Qgcz1uZXcgQXJyYXkoaSk7cy5maWxsKDApLHRoaXMuX2lucHV0c1tlXVt0XT1zLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkKGUsdCl9fV91bnJlZ2lzdGVyRGV2aWNlKGUsdCl7dGhpcy5faW5wdXRzW2VdW3RdJiYoZGVsZXRlIHRoaXMuX2lucHV0c1tlXVt0XSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChlLHQpKX1faGFuZGxlS2V5QWN0aW9ucygpe3RoaXMuX2tleWJvYXJkRG93bkV2ZW50PWU9Pnt0aGlzLl9rZXlib2FyZEFjdGl2ZXx8KHRoaXMuX2tleWJvYXJkQWN0aXZlPSEwLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKHouS2V5Ym9hcmQsMCxUcikpO2NvbnN0IHQ9dGhpcy5faW5wdXRzW3ouS2V5Ym9hcmRdWzBdO2lmKHQpe3RbZS5rZXlDb2RlXT0xO2NvbnN0IGk9ZTtpLmlucHV0SW5kZXg9ZS5rZXlDb2RlLHRoaXMuX3VzaW5nTWFjT1MmJmUubWV0YUtleSYmZS5rZXkhPT0iTWV0YSImJih0aGlzLl9tZXRhS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpfHx0aGlzLl9tZXRhS2V5cy5wdXNoKGUua2V5Q29kZSkpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHouS2V5Ym9hcmQsMCxpKX19LHRoaXMuX2tleWJvYXJkVXBFdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZSh6LktleWJvYXJkLDAsVHIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1t6LktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MDtjb25zdCBpPWU7aWYoaS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLmtleT09PSJNZXRhIiYmdGhpcy5fbWV0YUtleXMubGVuZ3RoPjApe2Zvcihjb25zdCBzIG9mIHRoaXMuX21ldGFLZXlzKXtjb25zdCByPWRpLkNyZWF0ZURldmljZUV2ZW50KHouS2V5Ym9hcmQsMCxzLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dFtzXT0wLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHouS2V5Ym9hcmQsMCxyKX10aGlzLl9tZXRhS2V5cy5zcGxpY2UoMCx0aGlzLl9tZXRhS2V5cy5sZW5ndGgpfXRoaXMuX29uSW5wdXRDaGFuZ2VkKHouS2V5Ym9hcmQsMCxpKX19LHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50PSgpPT57aWYodGhpcy5fa2V5Ym9hcmRBY3RpdmUpe2NvbnN0IGU9dGhpcy5faW5wdXRzW3ouS2V5Ym9hcmRdWzBdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF0hPT0wKXtlW3RdPTA7Y29uc3QgaT1kaS5DcmVhdGVEZXZpY2VFdmVudCh6LktleWJvYXJkLDAsdCwwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKHouS2V5Ym9hcmQsMCxpKX10aGlzLl91c2luZ01hY09TJiZ0aGlzLl9tZXRhS2V5cy5zcGxpY2UoMCx0aGlzLl9tZXRhS2V5cy5sZW5ndGgpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5fa2V5Ym9hcmREb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIix0aGlzLl9rZXlib2FyZFVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KX1faGFuZGxlUG9pbnRlckFjdGlvbnMoKXt0aGlzLl9tYXhUb3VjaFBvaW50cz1wcy5Jc05hdmlnYXRvckF2YWlsYWJsZSgpJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDIsdGhpcy5fYWN0aXZlVG91Y2hJZHN8fCh0aGlzLl9hY3RpdmVUb3VjaElkcz1uZXcgQXJyYXkodGhpcy5fbWF4VG91Y2hQb2ludHMpKTtmb3IobGV0IGk9MDtpPHRoaXMuX21heFRvdWNoUG9pbnRzO2krKyl0aGlzLl9hY3RpdmVUb3VjaElkc1tpXT0tMTt0aGlzLl9wb2ludGVyTW92ZUV2ZW50PWk9Pntjb25zdCBzPXRoaXMuX2dldFBvaW50ZXJUeXBlKGkpLHI9cz09PXouTW91c2U/MDp0aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKGkucG9pbnRlcklkKTt0aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109e30pLHRoaXMuX2lucHV0c1tzXVtyXXx8dGhpcy5fYWRkUG9pbnRlckRldmljZShzLHIsaS5jbGllbnRYLGkuY2xpZW50WSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7Y29uc3QgYT1pO2EuaW5wdXRJbmRleD1RLk1vdmUsbltRLkhvcml6b250YWxdPWkuY2xpZW50WCxuW1EuVmVydGljYWxdPWkuY2xpZW50WSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSksIXRoaXMuX3VzaW5nU2FmYXJpJiZpLmJ1dHRvbiE9PS0xJiYoYS5pbnB1dEluZGV4PWkuYnV0dG9uKzIsbltpLmJ1dHRvbisyXT1uW2kuYnV0dG9uKzJdPzA6MSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpfX0sdGhpcy5fcG9pbnRlckRvd25FdmVudD1pPT57Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKTtsZXQgcj1zPT09ei5Nb3VzZT8wOmkucG9pbnRlcklkO2lmKHM9PT16LlRvdWNoKXtjb25zdCBhPXRoaXMuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoLTEpO2lmKGE+PTApcj1hLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW2FdPWkucG9pbnRlcklkO2Vsc2V7SC5XYXJuKGBNYXggbnVtYmVyIG9mIHRvdWNoZXMgZXhjZWVkZWQuICBJZ25vcmluZyB0b3VjaGVzIGluIGV4Y2VzcyBvZiAke3RoaXMuX21heFRvdWNoUG9pbnRzfWApO3JldHVybn19dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPXt9KSx0aGlzLl9pbnB1dHNbc11bcl0/cz09PXouVG91Y2gmJnRoaXMuX29uRGV2aWNlQ29ubmVjdGVkKHMscik6dGhpcy5fYWRkUG9pbnRlckRldmljZShzLHIsaS5jbGllbnRYLGkuY2xpZW50WSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7Y29uc3QgYT1uW1EuSG9yaXpvbnRhbF0sbz1uW1EuVmVydGljYWxdO2lmKHM9PT16Lk1vdXNlKXtpZih0aGlzLl9tb3VzZUlkPT09LTEmJihpLnBvaW50ZXJJZD09PXZvaWQgMD90aGlzLl9tb3VzZUlkPXRoaXMuX2lzVXNpbmdGaXJlZm94PzA6MTp0aGlzLl9tb3VzZUlkPWkucG9pbnRlcklkKSwhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KXRyeXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5zZXRQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKX1jYXRjaHt9fWVsc2UgaWYoaS5wb2ludGVySWQmJiFkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQpdHJ5e3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKGkucG9pbnRlcklkKX1jYXRjaHt9bltRLkhvcml6b250YWxdPWkuY2xpZW50WCxuW1EuVmVydGljYWxdPWkuY2xpZW50WSxuW2kuYnV0dG9uKzJdPTE7Y29uc3QgaD1pO2guaW5wdXRJbmRleD1pLmJ1dHRvbisyLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixoKSwoYSE9PWkuY2xpZW50WHx8byE9PWkuY2xpZW50WSkmJihoLmlucHV0SW5kZXg9US5Nb3ZlLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixoKSl9fSx0aGlzLl9wb2ludGVyVXBFdmVudD1pPT57dmFyIHMscixuLGEsbztjb25zdCBoPXRoaXMuX2dldFBvaW50ZXJUeXBlKGkpLGw9aD09PXouTW91c2U/MDp0aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKGkucG9pbnRlcklkKTtpZihoPT09ei5Ub3VjaCl7aWYobD09PS0xKXJldHVybjt0aGlzLl9hY3RpdmVUb3VjaElkc1tsXT0tMX1jb25zdCB1PShzPXRoaXMuX2lucHV0c1toXSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW2xdO2lmKHUmJnVbaS5idXR0b24rMl0hPT0wKXtjb25zdCBkPXVbUS5Ib3Jpem9udGFsXSxmPXVbUS5WZXJ0aWNhbF07dVtRLkhvcml6b250YWxdPWkuY2xpZW50WCx1W1EuVmVydGljYWxdPWkuY2xpZW50WSx1W2kuYnV0dG9uKzJdPTA7Y29uc3QgXz1pOyhkIT09aS5jbGllbnRYfHxmIT09aS5jbGllbnRZKSYmKF8uaW5wdXRJbmRleD1RLk1vdmUsdGhpcy5fb25JbnB1dENoYW5nZWQoaCxsLF8pKSxfLmlucHV0SW5kZXg9aS5idXR0b24rMixoPT09ei5Nb3VzZSYmdGhpcy5fbW91c2VJZD49MCYmKCEoKG49KHI9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fG49PT12b2lkIDApJiZuLmNhbGwocix0aGlzLl9tb3VzZUlkKSk/dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpOmkucG9pbnRlcklkJiYoISgobz0oYT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMCkmJm8uY2FsbChhLGkucG9pbnRlcklkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCksdGhpcy5fb25JbnB1dENoYW5nZWQoaCxsLF8pLGg9PT16LlRvdWNoJiZ0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChoLGwpfX0sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PWk9Pnt2YXIgcyxyLG4sYTtpZihpLnBvaW50ZXJUeXBlPT09Im1vdXNlIil7Y29uc3Qgbz10aGlzLl9pbnB1dHNbei5Nb3VzZV1bMF07dGhpcy5fbW91c2VJZD49MCYmKCEoKHI9KHM9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmNhbGwocyx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9US5MZWZ0Q2xpY2s7aDw9US5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWRpLkNyZWF0ZURldmljZUV2ZW50KHouTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Nb3VzZSwwLGwpfX1lbHNle2NvbnN0IG89dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7ISgoYT0obj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMCkmJmEuY2FsbChuLGkucG9pbnRlcklkKSYmdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGkucG9pbnRlcklkKSx0aGlzLl9pbnB1dHNbei5Ub3VjaF1bb11bUS5MZWZ0Q2xpY2tdPTA7Y29uc3QgaD1kaS5DcmVhdGVEZXZpY2VFdmVudCh6LlRvdWNoLG8sUS5MZWZ0Q2xpY2ssMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZCh6LlRvdWNoLG8saCksdGhpcy5fYWN0aXZlVG91Y2hJZHNbb109LTEsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoei5Ub3VjaCxvKX19LHRoaXMuX3doZWVsRXZlbnROYW1lPSJvbndoZWVsImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJ3aGVlbCI6ZG9jdW1lbnQub25tb3VzZXdoZWVsIT09dm9pZCAwPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiO2xldCBlPSExO2NvbnN0IHQ9ZnVuY3Rpb24oKXt9O3RyeXtjb25zdCBpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe2U9ITB9fSk7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsdCxpKSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0Iix0LGkpfWNhdGNoe310aGlzLl9wb2ludGVyQmx1ckV2ZW50PSgpPT57dmFyIGkscyxyLG4sYTtpZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKHouTW91c2UpKXtjb25zdCBvPXRoaXMuX2lucHV0c1t6Lk1vdXNlXVswXTt0aGlzLl9tb3VzZUlkPj0wJiYoISgocz0oaT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuY2FsbChpLHRoaXMuX21vdXNlSWQpKSYmdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpO2ZvcihsZXQgaD1RLkxlZnRDbGljaztoPD1RLkJyb3dzZXJGb3J3YXJkO2grKylpZihvW2hdPT09MSl7b1toXT0wO2NvbnN0IGw9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5Nb3VzZSwwLGgsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZCh6Lk1vdXNlLDAsbCl9fWlmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoei5Ub3VjaCkpe2NvbnN0IG89dGhpcy5faW5wdXRzW3ouVG91Y2hdO2ZvcihsZXQgaD0wO2g8dGhpcy5fYWN0aXZlVG91Y2hJZHMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9hY3RpdmVUb3VjaElkc1toXTtpZighKChuPShyPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5jYWxsKHIsbCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShsKSxsIT09LTEmJigoYT1vW2hdKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbUS5MZWZ0Q2xpY2tdKT09PTEpe29baF1bUS5MZWZ0Q2xpY2tdPTA7Y29uc3QgdT1kaS5DcmVhdGVEZXZpY2VFdmVudCh6LlRvdWNoLGgsUS5MZWZ0Q2xpY2ssMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZCh6LlRvdWNoLGgsdSksdGhpcy5fYWN0aXZlVG91Y2hJZHNbaF09LTEsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoei5Ub3VjaCxoKX19fX0sdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQ9aT0+e2NvbnN0IHM9ei5Nb3VzZSxyPTA7dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPVtdKSx0aGlzLl9pbnB1dHNbc11bcl18fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKHMscixicikpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe25bUS5Nb3VzZVdoZWVsWF09aS5kZWx0YVh8fDAsbltRLk1vdXNlV2hlZWxZXT1pLmRlbHRhWXx8aS53aGVlbERlbHRhfHwwLG5bUS5Nb3VzZVdoZWVsWl09aS5kZWx0YVp8fDA7Y29uc3QgYT1pO25bUS5Nb3VzZVdoZWVsWF0hPT0wJiYoYS5pbnB1dEluZGV4PVEuTW91c2VXaGVlbFgsdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKSxuW1EuTW91c2VXaGVlbFldIT09MCYmKGEuaW5wdXRJbmRleD1RLk1vdXNlV2hlZWxZLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSksbltRLk1vdXNlV2hlZWxaXSE9PTAmJihhLmlucHV0SW5kZXg9US5Nb3VzZVdoZWVsWix0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fcG9pbnRlckJsdXJFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCxlP3twYXNzaXZlOiExfTohMSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj10aGlzLl9lbmdpbmUub25FbmRGcmFtZU9ic2VydmFibGUuYWRkKCgpPT57aWYodGhpcy5pc0RldmljZUF2YWlsYWJsZSh6Lk1vdXNlKSl7Y29uc3QgaT10aGlzLl9pbnB1dHNbei5Nb3VzZV1bMF07aVtRLk1vdXNlV2hlZWxYXT0wLGlbUS5Nb3VzZVdoZWVsWV09MCxpW1EuTW91c2VXaGVlbFpdPTB9fSl9X2hhbmRsZUdhbWVwYWRBY3Rpb25zKCl7dGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50PWU9Pnt0aGlzLl9hZGRHYW1lUGFkKGUuZ2FtZXBhZCl9LHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudD1lPT57aWYodGhpcy5fZ2FtZXBhZHMpe2NvbnN0IHQ9dGhpcy5fZ2V0R2FtZXBhZERldmljZVR5cGUoZS5nYW1lcGFkLmlkKSxpPWUuZ2FtZXBhZC5pbmRleDt0aGlzLl91bnJlZ2lzdGVyRGV2aWNlKHQsaSksZGVsZXRlIHRoaXMuX2dhbWVwYWRzW2ldfX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCl9X3VwZGF0ZURldmljZShlLHQsaSl7Y29uc3Qgcz1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKVt0XTtpZihzJiZlPT09dGhpcy5fZ2FtZXBhZHNbdF0pe2NvbnN0IHI9dGhpcy5faW5wdXRzW2VdW3RdO2k+PXMuYnV0dG9ucy5sZW5ndGg/cltpXT1zLmF4ZXNbaS1zLmJ1dHRvbnMubGVuZ3RoXS52YWx1ZU9mKCk6cltpXT1zLmJ1dHRvbnNbaV0udmFsdWV9fV9nZXRHYW1lcGFkRGV2aWNlVHlwZShlKXtyZXR1cm4gZS5pbmRleE9mKCIwNTRjIikhPT0tMT9lLmluZGV4T2YoIjBjZTYiKSE9PS0xP3ouRHVhbFNlbnNlOnouRHVhbFNob2NrOmUuaW5kZXhPZigiWGJveCBPbmUiKSE9PS0xfHxlLnNlYXJjaCgiWGJveCAzNjAiKSE9PS0xfHxlLnNlYXJjaCgieGlucHV0IikhPT0tMT96Llhib3g6ZS5pbmRleE9mKCIwNTdlIikhPT0tMT96LlN3aXRjaDp6LkdlbmVyaWN9X2dldFBvaW50ZXJUeXBlKGUpe2xldCB0PXouTW91c2U7cmV0dXJuKGUucG9pbnRlclR5cGU9PT0idG91Y2gifHxlLnBvaW50ZXJUeXBlPT09InBlbiJ8fGUudG91Y2hlcykmJih0PXouVG91Y2gpLHR9fWNsYXNzIFNye2NvbnN0cnVjdG9yKGUsdCxpPTApe3RoaXMuZGV2aWNlVHlwZT10LHRoaXMuZGV2aWNlU2xvdD1pLHRoaXMub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2RldmljZUlucHV0U3lzdGVtPWV9Z2V0SW5wdXQoZSl7cmV0dXJuIHRoaXMuX2RldmljZUlucHV0U3lzdGVtLnBvbGxJbnB1dCh0aGlzLmRldmljZVR5cGUsdGhpcy5kZXZpY2VTbG90LGUpfX1jbGFzcyBEbntjb25zdHJ1Y3RvcihlKXt0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuX3JlZkNvdW50PTAsdGhpcy5yZWdpc3Rlck1hbmFnZXI9bj0+e2ZvcihsZXQgYT0wO2E8dGhpcy5fZGV2aWNlcy5sZW5ndGg7YSsrKXtjb25zdCBvPXRoaXMuX2RldmljZXNbYV07Zm9yKGNvbnN0IGggaW4gbyl7Y29uc3QgbD0raDtuLl9hZGREZXZpY2UobmV3IFNyKHRoaXMuX2RldmljZUlucHV0U3lzdGVtLGEsbCkpfX10aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMucHVzaChuKX0sdGhpcy51bnJlZ2lzdGVyTWFuYWdlcj1uPT57Y29uc3QgYT10aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMuaW5kZXhPZihuKTthPi0xJiZ0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMuc3BsaWNlKGEsMSl9O2NvbnN0IHQ9T2JqZWN0LmtleXMoeikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkodCk7Y29uc3QgaT0obixhKT0+e3RoaXMuX2RldmljZXNbbl18fCh0aGlzLl9kZXZpY2VzW25dPW5ldyBBcnJheSksdGhpcy5fZGV2aWNlc1tuXVthXXx8KHRoaXMuX2RldmljZXNbbl1bYV09YSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKXtjb25zdCBoPW5ldyBTcih0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbSxuLGEpO28uX2FkZERldmljZShoKX19LHM9KG4sYSk9Pnt2YXIgbzshKChvPXRoaXMuX2RldmljZXNbbl0pPT09bnVsbHx8bz09PXZvaWQgMCkmJm9bYV0mJmRlbGV0ZSB0aGlzLl9kZXZpY2VzW25dW2FdO2Zvcihjb25zdCBoIG9mIHRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2VycyloLl9yZW1vdmVEZXZpY2UobixhKX0scj0obixhLG8pPT57aWYobylmb3IoY29uc3QgaCBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpaC5fb25JbnB1dENoYW5nZWQobixhLG8pfTt0eXBlb2YgX25hdGl2ZTwidSI/dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IEluKGkscyxyKTp0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1uZXcgUG4oZSxpLHMscil9ZGlzcG9zZSgpe3RoaXMuX2RldmljZUlucHV0U3lzdGVtLmRpc3Bvc2UoKX19Y2xhc3MgRm57Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1PYmplY3Qua2V5cyh6KS5sZW5ndGgvMjt0aGlzLl9kZXZpY2VzPW5ldyBBcnJheSh0KSx0aGlzLl9maXJzdERldmljZT1uZXcgQXJyYXkodCksdGhpcy5fZW5naW5lPWUsdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyfHwodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW5ldyBEbihlKSksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudCsrLHRoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBGKGk9Pntmb3IoY29uc3QgcyBvZiB0aGlzLl9kZXZpY2VzKWlmKHMpZm9yKGNvbnN0IHIgb2YgcylyJiZ0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcihpLHIpfSksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnJlZ2lzdGVyTWFuYWdlcih0aGlzKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5kaXNwb3NlKCl9KX1nZXREZXZpY2VTb3VyY2UoZSx0KXtpZih0PT09dm9pZCAwKXtpZih0aGlzLl9maXJzdERldmljZVtlXT09PXZvaWQgMClyZXR1cm4gbnVsbDt0PXRoaXMuX2ZpcnN0RGV2aWNlW2VdfXJldHVybiF0aGlzLl9kZXZpY2VzW2VdfHx0aGlzLl9kZXZpY2VzW2VdW3RdPT09dm9pZCAwP251bGw6dGhpcy5fZGV2aWNlc1tlXVt0XX1nZXREZXZpY2VTb3VyY2VzKGUpe3JldHVybiB0aGlzLl9kZXZpY2VzW2VdP3RoaXMuX2RldmljZXNbZV0uZmlsdGVyKHQ9PiEhdCk6W119ZGlzcG9zZSgpe3RoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXImJih0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIudW5yZWdpc3Rlck1hbmFnZXIodGhpcyksLS10aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50PDEmJih0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIpKSx0aGlzLl9lbmdpbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpfV9hZGREZXZpY2UoZSl7dGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdPW5ldyBBcnJheSksdGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF18fCh0aGlzLl9kZXZpY2VzW2UuZGV2aWNlVHlwZV1bZS5kZXZpY2VTbG90XT1lLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlLmRldmljZVR5cGUpKSx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9X3JlbW92ZURldmljZShlLHQpe3ZhciBpLHM7Y29uc3Qgcj0oaT10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmlbdF07dGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLCEoKHM9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxzPT09dm9pZCAwKSYmc1t0XSYmZGVsZXRlIHRoaXMuX2RldmljZXNbZV1bdF0sdGhpcy5fdXBkYXRlRmlyc3REZXZpY2VzKGUpfV9vbklucHV0Q2hhbmdlZChlLHQsaSl7dmFyIHMscjsocj0ocz10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnNbdF0pPT09bnVsbHx8cj09PXZvaWQgMHx8ci5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpfV91cGRhdGVGaXJzdERldmljZXMoZSl7c3dpdGNoKGUpe2Nhc2Ugei5LZXlib2FyZDpjYXNlIHouTW91c2U6dGhpcy5fZmlyc3REZXZpY2VbZV09MDticmVhaztjYXNlIHouVG91Y2g6Y2FzZSB6LkR1YWxTZW5zZTpjYXNlIHouRHVhbFNob2NrOmNhc2Ugei5YYm94OmNhc2Ugei5Td2l0Y2g6Y2FzZSB6LkdlbmVyaWM6e2RlbGV0ZSB0aGlzLl9maXJzdERldmljZVtlXTtjb25zdCB0PXRoaXMuX2RldmljZXNbZV07aWYodCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXSl7dGhpcy5fZmlyc3REZXZpY2VbZV09aTticmVha319YnJlYWt9fX19Y2xhc3MgeHJ7Y29uc3RydWN0b3IoKXt0aGlzLl9zaW5nbGVDbGljaz0hMSx0aGlzLl9kb3VibGVDbGljaz0hMSx0aGlzLl9oYXNTd2lwZWQ9ITEsdGhpcy5faWdub3JlPSExfWdldCBzaW5nbGVDbGljaygpe3JldHVybiB0aGlzLl9zaW5nbGVDbGlja31nZXQgZG91YmxlQ2xpY2soKXtyZXR1cm4gdGhpcy5fZG91YmxlQ2xpY2t9Z2V0IGhhc1N3aXBlZCgpe3JldHVybiB0aGlzLl9oYXNTd2lwZWR9Z2V0IGlnbm9yZSgpe3JldHVybiB0aGlzLl9pZ25vcmV9c2V0IHNpbmdsZUNsaWNrKGUpe3RoaXMuX3NpbmdsZUNsaWNrPWV9c2V0IGRvdWJsZUNsaWNrKGUpe3RoaXMuX2RvdWJsZUNsaWNrPWV9c2V0IGhhc1N3aXBlZChlKXt0aGlzLl9oYXNTd2lwZWQ9ZX1zZXQgaWdub3JlKGUpe3RoaXMuX2lnbm9yZT1lfX1jbGFzcyBEZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITEsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW51bGwsdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0PW51bGwsdGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQ9MCx0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdGhpcy5faXNTd2lwaW5nPSExLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD0tMSx0aGlzLl9za2lwUG9pbnRlclRhcD0hMSx0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlPSExLHRoaXMuX3BvaW50ZXJYPTAsdGhpcy5fcG9pbnRlclk9MCx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgdmUoMCwwKSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uPW5ldyB2ZSgwLDApLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9wb2ludGVyQ2FwdHVyZXM9e30sdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkPXt9LHRoaXMuX21vdmVQb2ludGVySW5mbz1udWxsLHRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQ9MCx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fc2NlbmU9ZXx8ZmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZX1nZXQgbWVzaFVuZGVyUG9pbnRlcigpe3JldHVybiB0aGlzLl9tb3ZlUG9pbnRlckluZm8mJih0aGlzLl9tb3ZlUG9pbnRlckluZm8uX2dlbmVyYXRlUGlja0luZm8oKSx0aGlzLl9tb3ZlUG9pbnRlckluZm89bnVsbCksdGhpcy5fcG9pbnRlck92ZXJNZXNofWdldE1lc2hVbmRlclBvaW50ZXJCeVBvaW50ZXJJZChlKXtyZXR1cm4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW2VdfHxudWxsfWdldCB1blRyYW5zbGF0ZWRQb2ludGVyKCl7cmV0dXJuIG5ldyB2ZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJYfXNldCBwb2ludGVyWChlKXt0aGlzLl9wb2ludGVyWD1lfWdldCBwb2ludGVyWSgpe3JldHVybiB0aGlzLl9wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5fcG9pbnRlclk9ZX1fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpO3QmJih0aGlzLl9wb2ludGVyWD1lLmNsaWVudFgtdC5sZWZ0LHRoaXMuX3BvaW50ZXJZPWUuY2xpZW50WS10LnRvcCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWD10aGlzLl9wb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWT10aGlzLl9wb2ludGVyWSl9X3Byb2Nlc3NQb2ludGVyTW92ZShlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUscz1pLmdldEVuZ2luZSgpLHI9cy5nZXRJbnB1dEVsZW1lbnQoKTtyJiYoci50YWJJbmRleD1zLmNhbnZhc1RhYkluZGV4LGkuZG9Ob3RIYW5kbGVDdXJzb3JzfHwoci5zdHlsZS5jdXJzb3I9aS5kZWZhdWx0Q3Vyc29yKSksdGhpcy5fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGUsdC5wb2ludGVySWQsaSk7Zm9yKGNvbnN0IG8gb2YgaS5fcG9pbnRlck1vdmVTdGFnZSl7Y29uc3QgaD0hIShlIT1udWxsJiZlLnBpY2tlZE1lc2gpO2U9by5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSxoLHIpfWNvbnN0IG49dC5pbnB1dEluZGV4Pj1RLk1vdXNlV2hlZWxYJiZ0LmlucHV0SW5kZXg8PVEuTW91c2VXaGVlbFo/VGUuUE9JTlRFUldIRUVMOlRlLlBPSU5URVJNT1ZFO2kub25Qb2ludGVyTW92ZSYmKGU9ZXx8dGhpcy5fcGlja01vdmUodC5wb2ludGVySWQpLGkub25Qb2ludGVyTW92ZSh0LGUsbikpO2xldCBhO2U/KGE9bmV3IHVpKG4sdCxlKSx0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkpOihhPW5ldyB1aShuLHQsbnVsbCx0aGlzKSx0aGlzLl9tb3ZlUG9pbnRlckluZm89YSksaS5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZpLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsbil9X3NldFJheU9uUG9pbnRlckluZm8oZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lO2UmJmkuX3BpY2tpbmdBdmFpbGFibGUmJihlLnJheXx8KGUucmF5PWkuY3JlYXRlUGlja2luZ1JheSh0Lm9mZnNldFgsdC5vZmZzZXRZLHguSWRlbnRpdHkoKSxpLmFjdGl2ZUNhbWVyYSkpKX1fYWRkQ2FtZXJhUG9pbnRlck9ic2VydmVyKGUsdCl7cmV0dXJuIHRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQrKyx0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLmFkZChlLHQpfV9yZW1vdmVDYW1lcmFQb2ludGVyT2JzZXJ2ZXIoZSl7cmV0dXJuIHRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQtLSx0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLnJlbW92ZShlKX1fY2hlY2tGb3JQaWNraW5nKCl7cmV0dXJuISEodGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5vYnNlcnZlcnMubGVuZ3RoPnRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnR8fHRoaXMuX3NjZW5lLm9uUG9pbnRlclBpY2spfV9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsdCxpKXtjb25zdCBzPXRoaXMuX3NjZW5lLHI9bmV3IENuKGksdCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSk7cmV0dXJuIGUmJihyLm9yaWdpbmFsUGlja2luZ0luZm89ZSxyLnJheT1lLnJheSxlLm9yaWdpbk1lc2gmJihyLm5lYXJJbnRlcmFjdGlvblBpY2tpbmdJbmZvPWUpKSxzLm9uUHJlUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsaSksISFyLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlfV9waWNrTW92ZShlKXtjb25zdCB0PXRoaXMuX3NjZW5lLGk9dC5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHQucG9pbnRlck1vdmVQcmVkaWNhdGUsITEsdC5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLHQucG9pbnRlck1vdmVUcmlhbmdsZVByZWRpY2F0ZSk7cmV0dXJuIHRoaXMuX3NldEN1cnNvckFuZFBvaW50ZXJPdmVyTWVzaChpLGUsdCksaX1fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGUsdCxpKXtjb25zdCByPWkuZ2V0RW5naW5lKCkuZ2V0SW5wdXRFbGVtZW50KCk7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXtpZih0aGlzLnNldFBvaW50ZXJPdmVyTWVzaChlLnBpY2tlZE1lc2gsdCxlKSwhaS5kb05vdEhhbmRsZUN1cnNvcnMmJnImJnRoaXMuX3BvaW50ZXJPdmVyTWVzaCl7Y29uc3Qgbj10aGlzLl9wb2ludGVyT3Zlck1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7biYmbi5oYXNQb2ludGVyVHJpZ2dlcnMmJihyLnN0eWxlLmN1cnNvcj1uLmhvdmVyQ3Vyc29yfHxpLmhvdmVyQ3Vyc29yKX19ZWxzZSB0aGlzLnNldFBvaW50ZXJPdmVyTWVzaChudWxsLHQsZSl9c2ltdWxhdGVQb2ludGVyTW92ZShlLHQpe2NvbnN0IGk9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcm1vdmUiLHQpO2kuaW5wdXRJbmRleD1RLk1vdmUsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxpLFRlLlBPSU5URVJNT1ZFKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUsaSl9c2ltdWxhdGVQb2ludGVyRG93bihlLHQpe2NvbnN0IGk9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcmRvd24iLHQpO2kuaW5wdXRJbmRleD1pLmJ1dHRvbisyLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsaSxUZS5QT0lOVEVSRE9XTikmJnRoaXMuX3Byb2Nlc3NQb2ludGVyRG93bihlLGkpfV9wcm9jZXNzUG9pbnRlckRvd24oZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lO2lmKGUhPW51bGwmJmUucGlja2VkTWVzaCl7dGhpcy5fcGlja2VkRG93bk1lc2g9ZS5waWNrZWRNZXNoO2NvbnN0IG49ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO2lmKG4pe2lmKG4uaGFzUGlja1RyaWdnZXJzKXN3aXRjaChuLnByb2Nlc3NUcmlnZ2VyKDUsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSksdC5idXR0b24pe2Nhc2UgMDpuLnByb2Nlc3NUcmlnZ2VyKDIsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAxOm4ucHJvY2Vzc1RyaWdnZXIoNCxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDI6bi5wcm9jZXNzVHJpZ2dlcigzLFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrfW4uaGFzU3BlY2lmaWNUcmlnZ2VyKDgpJiZ3aW5kb3cuc2V0VGltZW91dCgoKT0+e2NvbnN0IGE9aS5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLG89Pm8uaXNQaWNrYWJsZSYmby5pc1Zpc2libGUmJm8uaXNSZWFkeSgpJiZvLmFjdGlvbk1hbmFnZXImJm8uYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJm89PT10aGlzLl9waWNrZWREb3duTWVzaCwhMSxpLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO2EhPW51bGwmJmEucGlja2VkTWVzaCYmbiYmdGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQhPT0wJiZEYXRlLm5vdygpLXRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU+RGUuTG9uZ1ByZXNzRGVsYXkmJiF0aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCkmJih0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsbi5wcm9jZXNzVHJpZ2dlcig4LFZlLkNyZWF0ZU5ldyhhLnBpY2tlZE1lc2gsdCkpKX0sRGUuTG9uZ1ByZXNzRGVsYXkpfX1lbHNlIGZvcihjb25zdCBuIG9mIGkuX3BvaW50ZXJEb3duU3RhZ2UpZT1uLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHQsITEpO2xldCBzO2NvbnN0IHI9VGUuUE9JTlRFUkRPV047ZT8oaS5vblBvaW50ZXJEb3duJiZpLm9uUG9pbnRlckRvd24odCxlLHIpLHM9bmV3IHVpKHIsdCxlKSx0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkpOnM9bmV3IHVpKHIsdCxudWxsLHRoaXMpLGkub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmaS5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzLHIpfV9pc1BvaW50ZXJTd2lwaW5nKCl7cmV0dXJuIHRoaXMuX2lzU3dpcGluZ31zaW11bGF0ZVBvaW50ZXJVcChlLHQsaSl7Y29uc3Qgcz1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVydXAiLHQpO3MuaW5wdXRJbmRleD1RLk1vdmU7Y29uc3Qgcj1uZXcgeHI7aT9yLmRvdWJsZUNsaWNrPSEwOnIuc2luZ2xlQ2xpY2s9ITAsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxzLFRlLlBPSU5URVJVUCkmJnRoaXMuX3Byb2Nlc3NQb2ludGVyVXAoZSxzLHIpfV9wcm9jZXNzUG9pbnRlclVwKGUsdCxpKXtjb25zdCBzPXRoaXMuX3NjZW5lO2lmKGUhPW51bGwmJmUucGlja2VkTWVzaCl7aWYodGhpcy5fcGlja2VkVXBNZXNoPWUucGlja2VkTWVzaCx0aGlzLl9waWNrZWREb3duTWVzaD09PXRoaXMuX3BpY2tlZFVwTWVzaCYmKHMub25Qb2ludGVyUGljayYmcy5vblBvaW50ZXJQaWNrKHQsZSksaS5zaW5nbGVDbGljayYmIWkuaWdub3JlJiZzLm9uUG9pbnRlck9ic2VydmFibGUub2JzZXJ2ZXJzLmxlbmd0aD50aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50KSl7Y29uc3Qgbj1UZS5QT0lOVEVSUElDSyxhPW5ldyB1aShuLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX1jb25zdCByPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihyJiYhaS5pZ25vcmUpe3IucHJvY2Vzc1RyaWdnZXIoNyxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpLCFpLmhhc1N3aXBlZCYmaS5zaW5nbGVDbGljayYmci5wcm9jZXNzVHJpZ2dlcigxLFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSk7Y29uc3Qgbj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDYpO2kuZG91YmxlQ2xpY2smJm4mJm4ucHJvY2Vzc1RyaWdnZXIoNixWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpfX1lbHNlIGlmKCFpLmlnbm9yZSlmb3IoY29uc3QgciBvZiBzLl9wb2ludGVyVXBTdGFnZSllPXIuYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCxpLmRvdWJsZUNsaWNrKTtpZih0aGlzLl9waWNrZWREb3duTWVzaCYmdGhpcy5fcGlja2VkRG93bk1lc2ghPT10aGlzLl9waWNrZWRVcE1lc2gpe2NvbnN0IHI9dGhpcy5fcGlja2VkRG93bk1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDE2KTtyJiZyLnByb2Nlc3NUcmlnZ2VyKDE2LFZlLkNyZWF0ZU5ldyh0aGlzLl9waWNrZWREb3duTWVzaCx0KSl9aWYoIWkuaWdub3JlKXtjb25zdCByPW5ldyB1aShUZS5QT0lOVEVSVVAsdCxlKTtpZih0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkscy5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLFRlLlBPSU5URVJVUCkscy5vblBvaW50ZXJVcCYmcy5vblBvaW50ZXJVcCh0LGUsVGUuUE9JTlRFUlVQKSwhaS5oYXNTd2lwZWQmJiF0aGlzLl9za2lwUG9pbnRlclRhcCYmIXRoaXMuX2lzTXVsdGlUb3VjaEdlc3R1cmUpe2xldCBuPTA7aWYoaS5zaW5nbGVDbGljaz9uPVRlLlBPSU5URVJUQVA6aS5kb3VibGVDbGljayYmKG49VGUuUE9JTlRFUkRPVUJMRVRBUCksbil7Y29uc3QgYT1uZXcgdWkobix0LGUpO3Mub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhuKSYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLG4pfX19fWlzUG9pbnRlckNhcHR1cmVkKGU9MCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJDYXB0dXJlc1tlXX1hdHRhY2hDb250cm9sKGU9ITAsdD0hMCxpPSEwLHM9bnVsbCl7Y29uc3Qgcj10aGlzLl9zY2VuZSxuPXIuZ2V0RW5naW5lKCk7c3x8KHM9bi5nZXRJbnB1dEVsZW1lbnQoKSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkJiZ0aGlzLmRldGFjaENvbnRyb2woKSxzJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89cyksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgRm4obiksdGhpcy5faW5pdEFjdGlvbk1hbmFnZXI9YT0+e2lmKCF0aGlzLl9tZXNoUGlja1Byb2NlZWQpe2NvbnN0IG89ci5za2lwUG9pbnRlclVwUGlja2luZ3x8ci5fcmVnaXN0ZXJlZEFjdGlvbnM9PT0wJiYhdGhpcy5fY2hlY2tGb3JQaWNraW5nKCkmJiFyLm9uUG9pbnRlclVwP251bGw6ci5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHIucG9pbnRlclVwUHJlZGljYXRlLCExLHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7dGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9byxvJiYoYT1vLmhpdCYmby5waWNrZWRNZXNoP28ucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTpudWxsKSx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITB9cmV0dXJuIGF9LHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGljaz0oYSxvLGgpPT57KERhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPkRlLkRvdWJsZUNsaWNrRGVsYXkmJiF0aGlzLl9kb3VibGVDbGlja09jY3VyZWR8fGEhPT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLG8uc2luZ2xlQ2xpY2s9ITAsby5pZ25vcmU9ITEsaChvLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSl9LHRoaXMuX2luaXRDbGlja0V2ZW50PShhLG8saCxsKT0+e2NvbnN0IHU9bmV3IHhyO3RoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW51bGw7bGV0IGQ9bnVsbCxmPWEuaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJQSUNLKXx8by5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUlBJQ0spfHxhLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSVEFQKXx8by5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUlRBUCl8fGEuaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJET1VCTEVUQVApfHxvLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKTshZiYmdXQmJihkPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKGQsdSksZCYmKGY9ZC5oYXNQaWNrVHJpZ2dlcnMpKTtsZXQgXz0hMTtpZihmKXtjb25zdCBFPWguYnV0dG9uO2lmKHUuaGFzU3dpcGVkPXRoaXMuX2lzUG9pbnRlclN3aXBpbmcoKSwhdS5oYXNTd2lwZWQpe2xldCBtPSFEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU7bXx8KG09IWEuaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJET1VCTEVUQVApJiYhby5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCksbSYmIXV0Lkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGQ9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZCx1KSxkJiYobT0hZC5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSksbT8oRGF0ZS5ub3coKS10aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU+RGUuRG91YmxlQ2xpY2tEZWxheXx8RSE9PXRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJih1LnNpbmdsZUNsaWNrPSEwLGwodSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCksXz0hMCk6KHRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD10aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrLmJpbmQodGhpcyxFLHUsbCksRGUuRG91YmxlQ2xpY2tEZWxheSkpO2xldCB2PWEuaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJET1VCTEVUQVApfHxvLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKTshdiYmdXQuSGFzU3BlY2lmaWNUcmlnZ2VyKDYpJiYoZD10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihkLHUpLGQmJih2PWQuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSksdiYmKEU9PT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQmJkRhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPERlLkRvdWJsZUNsaWNrRGVsYXkmJiF0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ/KCF1Lmhhc1N3aXBlZCYmIXRoaXMuX2lzUG9pbnRlclN3aXBpbmcoKT8odGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSEwLHUuZG91YmxlQ2xpY2s9ITAsdS5pZ25vcmU9ITEsRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlJiZ0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQpLHRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD10aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGwodSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCkpOih0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPXRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWUsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksdGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkPUUsRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPyh0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQpLHRoaXMuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD10aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGwodSx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQpKTpsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpKSxfPSEwKToodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LHRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1FKSl9fV98fGwodSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCl9LHRoaXMuX29uUG9pbnRlck1vdmU9YT0+e2lmKGEucG9pbnRlcklkPT09dm9pZCAwJiYoYS5wb2ludGVySWQ9MCksdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLCF0aGlzLl9pc1N3aXBpbmcmJnRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZCE9PS0xJiYodGhpcy5faXNTd2lwaW5nPU1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngtdGhpcy5fcG9pbnRlclgpPkRlLkRyYWdNb3ZlbWVudFRocmVzaG9sZHx8TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueS10aGlzLl9wb2ludGVyWSk+RGUuRHJhZ01vdmVtZW50VGhyZXNob2xkKSx0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxhLmlucHV0SW5kZXg+PVEuTW91c2VXaGVlbFgmJmEuaW5wdXRJbmRleDw9US5Nb3VzZVdoZWVsWj9UZS5QT0lOVEVSV0hFRUw6VGUuUE9JTlRFUk1PVkUpfHwhci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhci5hY3RpdmVDYW1lcmEpcmV0dXJuO2lmKHIuc2tpcFBvaW50ZXJNb3ZlUGlja2luZyl7dGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKG5ldyBVdCxhKTtyZXR1cm59ci5wb2ludGVyTW92ZVByZWRpY2F0ZXx8KHIucG9pbnRlck1vdmVQcmVkaWNhdGU9aD0+aC5pc1BpY2thYmxlJiZoLmlzVmlzaWJsZSYmaC5pc1JlYWR5KCkmJmguaXNFbmFibGVkKCkmJihoLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzfHxyLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyfHxoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpIT09bnVsbCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZoLmxheWVyTWFzaykhPT0wKSk7Y29uc3Qgbz1yLl9yZWdpc3RlcmVkQWN0aW9ucz4wP3RoaXMuX3BpY2tNb3ZlKGEucG9pbnRlcklkKTpudWxsO3RoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShvLGEpfSx0aGlzLl9vblBvaW50ZXJEb3duPWE9PntpZih0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCsrLHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGwsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLGEucG9pbnRlcklkPT09dm9pZCAwJiYoYS5wb2ludGVySWQ9MCksdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD09PS0xJiYodGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPWEuYnV0dG9uKSxyLnByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biYmcyYmKGEucHJldmVudERlZmF1bHQoKSxzLmZvY3VzKCkpLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fcG9pbnRlclgsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9wb2ludGVyWSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPURhdGUubm93KCksdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsVGUuUE9JTlRFUkRPV04pfHwhci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhci5hY3RpdmVDYW1lcmEpcmV0dXJuO3RoaXMuX3BvaW50ZXJDYXB0dXJlc1thLnBvaW50ZXJJZF09ITAsci5wb2ludGVyRG93blByZWRpY2F0ZXx8KHIucG9pbnRlckRvd25QcmVkaWNhdGU9aD0+aC5pc1BpY2thYmxlJiZoLmlzVmlzaWJsZSYmaC5pc1JlYWR5KCkmJmguaXNFbmFibGVkKCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZoLmxheWVyTWFzaykhPT0wKSksdGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbDtsZXQgbztyLnNraXBQb2ludGVyRG93blBpY2tpbmd8fHIuX3JlZ2lzdGVyZWRBY3Rpb25zPT09MCYmIXRoaXMuX2NoZWNrRm9yUGlja2luZygpJiYhci5vblBvaW50ZXJEb3duP289bmV3IFV0Om89ci5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHIucG9pbnRlckRvd25QcmVkaWNhdGUsITEsci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKSx0aGlzLl9wcm9jZXNzUG9pbnRlckRvd24obyxhKX0sdGhpcy5fb25Qb2ludGVyVXA9YT0+e3RoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmKHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkLS0sdGhpcy5fcGlja2VkVXBNZXNoPW51bGwsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLGEucG9pbnRlcklkPT09dm9pZCAwJiYoYS5wb2ludGVySWQ9MCksdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLHIucHJldmVudERlZmF1bHRPblBvaW50ZXJVcCYmcyYmKGEucHJldmVudERlZmF1bHQoKSxzLmZvY3VzKCkpLHRoaXMuX2luaXRDbGlja0V2ZW50KHIub25QcmVQb2ludGVyT2JzZXJ2YWJsZSxyLm9uUG9pbnRlck9ic2VydmFibGUsYSwobyxoKT0+e2lmKHIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmKHRoaXMuX3NraXBQb2ludGVyVGFwPSExLCFvLmlnbm9yZSkpe2lmKHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJVUCkpe3RoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD09PWEuYnV0dG9uJiYodGhpcy5faXNTd2lwaW5nPSExLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD0tMSk7cmV0dXJufW8uaGFzU3dpcGVkfHwoby5zaW5nbGVDbGljayYmci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSVEFQKSYmdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsVGUuUE9JTlRFUlRBUCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMCksby5kb3VibGVDbGljayYmci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKSYmdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsVGUuUE9JTlRFUkRPVUJMRVRBUCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMCkpfXRoaXMuX3BvaW50ZXJDYXB0dXJlc1thLnBvaW50ZXJJZF09ITEsISghci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhci5hY3RpdmVDYW1lcmEpJiYoci5wb2ludGVyVXBQcmVkaWNhdGV8fChyLnBvaW50ZXJVcFByZWRpY2F0ZT1sPT5sLmlzUGlja2FibGUmJmwuaXNWaXNpYmxlJiZsLmlzUmVhZHkoKSYmbC5pc0VuYWJsZWQoKSYmKCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmwubGF5ZXJNYXNrKSE9PTApKSwhdGhpcy5fbWVzaFBpY2tQcm9jZWVkJiYodXQmJnV0Lkhhc1RyaWdnZXJzfHx0aGlzLl9jaGVja0ZvclBpY2tpbmcoKXx8ci5vblBvaW50ZXJVcCkmJnRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKG51bGwsbyksaHx8KGg9dGhpcy5fY3VycmVudFBpY2tSZXN1bHQpLHRoaXMuX3Byb2Nlc3NQb2ludGVyVXAoaCxhLG8pLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD10aGlzLl9jdXJyZW50UGlja1Jlc3VsdCx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT1hLmJ1dHRvbiYmKHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEpKX0pKX0sdGhpcy5fb25LZXlEb3duPWE9Pntjb25zdCBvPUppLktFWURPV047aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgX3IobyxhKTtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pLGguc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlKXJldHVybn1pZihyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyBDcyhvLGEpO3Iub25LZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyl9ci5hY3Rpb25NYW5hZ2VyJiZyLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTQsVmUuQ3JlYXRlTmV3RnJvbVNjZW5lKHIsYSkpfSx0aGlzLl9vbktleVVwPWE9Pntjb25zdCBvPUppLktFWVVQO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IF9yKG8sYSk7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKSxoLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYoci5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgQ3MobyxhKTtyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pfXIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE1LFZlLkNyZWF0ZU5ld0Zyb21TY2VuZShyLGEpKX0sdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlci5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUuYWRkKGE9PnthLmRldmljZVR5cGU9PT16Lk1vdXNlP2Eub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChvPT57by5pbnB1dEluZGV4PT09US5MZWZ0Q2xpY2t8fG8uaW5wdXRJbmRleD09PVEuTWlkZGxlQ2xpY2t8fG8uaW5wdXRJbmRleD09PVEuUmlnaHRDbGlja3x8by5pbnB1dEluZGV4PT09US5Ccm93c2VyQmFja3x8by5pbnB1dEluZGV4PT09US5Ccm93c2VyRm9yd2FyZD90JiZhLmdldElucHV0KG8uaW5wdXRJbmRleCk9PT0xP3RoaXMuX29uUG9pbnRlckRvd24obyk6ZSYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MCYmdGhpcy5fb25Qb2ludGVyVXAobyk6aSYmKG8uaW5wdXRJbmRleD09PVEuTW92ZT90aGlzLl9vblBvaW50ZXJNb3ZlKG8pOihvLmlucHV0SW5kZXg9PT1RLk1vdXNlV2hlZWxYfHxvLmlucHV0SW5kZXg9PT1RLk1vdXNlV2hlZWxZfHxvLmlucHV0SW5kZXg9PT1RLk1vdXNlV2hlZWxaKSYmdGhpcy5fb25Qb2ludGVyTW92ZShvKSl9KTphLmRldmljZVR5cGU9PT16LlRvdWNoP2Eub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChvPT57by5pbnB1dEluZGV4PT09US5MZWZ0Q2xpY2smJih0JiZhLmdldElucHV0KG8uaW5wdXRJbmRleCk9PT0xPyh0aGlzLl9vblBvaW50ZXJEb3duKG8pLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPjEmJih0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlPSEwKSk6ZSYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MCYmKHRoaXMuX29uUG9pbnRlclVwKG8pLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPT09MCYmKHRoaXMuX2lzTXVsdGlUb3VjaEdlc3R1cmU9ITEpKSksaSYmby5pbnB1dEluZGV4PT09US5Nb3ZlJiZ0aGlzLl9vblBvaW50ZXJNb3ZlKG8pfSk6YS5kZXZpY2VUeXBlPT09ei5LZXlib2FyZCYmYS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKG89PntvLnR5cGU9PT0ia2V5ZG93biI/dGhpcy5fb25LZXlEb3duKG8pOm8udHlwZT09PSJrZXl1cCImJnRoaXMuX29uS2V5VXAobyl9KX0pLHRoaXMuX2FscmVhZHlBdHRhY2hlZD0hMH1kZXRhY2hDb250cm9sKCl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkJiYodGhpcy5fZGV2aWNlU291cmNlTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1udWxsLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvJiYhdGhpcy5fc2NlbmUuZG9Ob3RIYW5kbGVDdXJzb3JzJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8uc3R5bGUuY3Vyc29yPXRoaXMuX3NjZW5lLmRlZmF1bHRDdXJzb3IpLHRoaXMuX2FscmVhZHlBdHRhY2hlZD0hMSx0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbz1udWxsKX1zZXRQb2ludGVyT3Zlck1lc2goZSx0PTAsaSl7aWYodGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmKCFlfHwhZS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcpKXJldHVybjtjb25zdCBzPXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XTtsZXQgcjtzJiYocj1zLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxMCksciYmci5wcm9jZXNzVHJpZ2dlcigxMCxWZS5DcmVhdGVOZXcocyx2b2lkIDAse3BvaW50ZXJJZDp0fSkpKSxlPyh0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09ZSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9ZSxyPWUuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDkpLHImJnIucHJvY2Vzc1RyaWdnZXIoOSxWZS5DcmVhdGVOZXcoZSx2b2lkIDAse3BvaW50ZXJJZDp0LHBpY2tSZXN1bHQ6aX0pKSk6KGRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF0sdGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLm1lc2hVbmRlclBvaW50ZXJ9X2ludmFsaWRhdGVNZXNoKGUpe3RoaXMuX3BvaW50ZXJPdmVyTWVzaD09PWUmJih0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCksdGhpcy5fcGlja2VkRG93bk1lc2g9PT1lJiYodGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbCksdGhpcy5fcGlja2VkVXBNZXNoPT09ZSYmKHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsKTtmb3IoY29uc3QgdCBpbiB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQpdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XX19RGUuRHJhZ01vdmVtZW50VGhyZXNob2xkPTEwLERlLkxvbmdQcmVzc0RlbGF5PTUwMCxEZS5Eb3VibGVDbGlja0RlbGF5PTMwMCxEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU9ITE7Y2xhc3MgeHR7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5ub3JtYWw9bmV3IHAoZSx0LGkpLHRoaXMuZD1zfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kXX1jbG9uZSgpe3JldHVybiBuZXcgeHQodGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iUGxhbmUifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5ub3JtYWwuZ2V0SGFzaENvZGUoKTtyZXR1cm4gZT1lKjM5N14odGhpcy5kfDApLGV9bm9ybWFsaXplKCl7Y29uc3QgZT1NYXRoLnNxcnQodGhpcy5ub3JtYWwueCp0aGlzLm5vcm1hbC54K3RoaXMubm9ybWFsLnkqdGhpcy5ub3JtYWwueSt0aGlzLm5vcm1hbC56KnRoaXMubm9ybWFsLnopO2xldCB0PTA7cmV0dXJuIGUhPT0wJiYodD0xL2UpLHRoaXMubm9ybWFsLngqPXQsdGhpcy5ub3JtYWwueSo9dCx0aGlzLm5vcm1hbC56Kj10LHRoaXMuZCo9dCx0aGlzfXRyYW5zZm9ybShlKXtjb25zdCB0PXh0Ll9UbXBNYXRyaXg7ZS5pbnZlcnRUb1JlZih0KTtjb25zdCBpPXQubSxzPXRoaXMubm9ybWFsLngscj10aGlzLm5vcm1hbC55LG49dGhpcy5ub3JtYWwueixhPXRoaXMuZCxvPXMqaVswXStyKmlbMV0rbippWzJdK2EqaVszXSxoPXMqaVs0XStyKmlbNV0rbippWzZdK2EqaVs3XSxsPXMqaVs4XStyKmlbOV0rbippWzEwXSthKmlbMTFdLHU9cyppWzEyXStyKmlbMTNdK24qaVsxNF0rYSppWzE1XTtyZXR1cm4gbmV3IHh0KG8saCxsLHUpfWRvdENvb3JkaW5hdGUoZSl7cmV0dXJuIHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56K3RoaXMuZH1jb3B5RnJvbVBvaW50cyhlLHQsaSl7Y29uc3Qgcz10LngtZS54LHI9dC55LWUueSxuPXQuei1lLnosYT1pLngtZS54LG89aS55LWUueSxoPWkuei1lLnosbD1yKmgtbipvLHU9biphLXMqaCxkPXMqby1yKmEsZj1NYXRoLnNxcnQobCpsK3UqdStkKmQpO2xldCBfO3JldHVybiBmIT09MD9fPTEvZjpfPTAsdGhpcy5ub3JtYWwueD1sKl8sdGhpcy5ub3JtYWwueT11Kl8sdGhpcy5ub3JtYWwuej1kKl8sdGhpcy5kPS0odGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnopLHRoaXN9aXNGcm9udEZhY2luZ1RvKGUsdCl7cmV0dXJuIHAuRG90KHRoaXMubm9ybWFsLGUpPD10fXNpZ25lZERpc3RhbmNlVG8oZSl7cmV0dXJuIHAuRG90KGUsdGhpcy5ub3JtYWwpK3RoaXMuZH1zdGF0aWMgRnJvbUFycmF5KGUpe3JldHVybiBuZXcgeHQoZVswXSxlWzFdLGVbMl0sZVszXSl9c3RhdGljIEZyb21Qb2ludHMoZSx0LGkpe2NvbnN0IHM9bmV3IHh0KDAsMCwwLDApO3JldHVybiBzLmNvcHlGcm9tUG9pbnRzKGUsdCxpKSxzfXN0YXRpYyBGcm9tUG9zaXRpb25BbmROb3JtYWwoZSx0KXtjb25zdCBpPW5ldyB4dCgwLDAsMCwwKTtyZXR1cm4gdC5ub3JtYWxpemUoKSxpLm5vcm1hbD10LGkuZD0tKHQueCplLngrdC55KmUueSt0LnoqZS56KSxpfXN0YXRpYyBTaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwoZSx0LGkpe2NvbnN0IHM9LSh0LngqZS54K3QueSplLnkrdC56KmUueik7cmV0dXJuIHAuRG90KGksdCkrc319eHQuX1RtcE1hdHJpeD14LklkZW50aXR5KCk7Y2xhc3MgRXR7c3RhdGljIEdldFBsYW5lcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8NjtpKyspdC5wdXNoKG5ldyB4dCgwLDAsMCwwKSk7cmV0dXJuIEV0LkdldFBsYW5lc1RvUmVmKGUsdCksdH1zdGF0aWMgR2V0TmVhclBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVsyXSx0Lm5vcm1hbC55PWlbN10raVs2XSx0Lm5vcm1hbC56PWlbMTFdK2lbMTBdLHQuZD1pWzE1XStpWzE0XSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRGYXJQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMl0sdC5ub3JtYWwueT1pWzddLWlbNl0sdC5ub3JtYWwuej1pWzExXS1pWzEwXSx0LmQ9aVsxNV0taVsxNF0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0TGVmdFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVswXSx0Lm5vcm1hbC55PWlbN10raVs0XSx0Lm5vcm1hbC56PWlbMTFdK2lbOF0sdC5kPWlbMTVdK2lbMTJdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFJpZ2h0UGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzBdLHQubm9ybWFsLnk9aVs3XS1pWzRdLHQubm9ybWFsLno9aVsxMV0taVs4XSx0LmQ9aVsxNV0taVsxMl0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0VG9wUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzFdLHQubm9ybWFsLnk9aVs3XS1pWzVdLHQubm9ybWFsLno9aVsxMV0taVs5XSx0LmQ9aVsxNV0taVsxM10sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0Qm90dG9tUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzFdLHQubm9ybWFsLnk9aVs3XStpWzVdLHQubm9ybWFsLno9aVsxMV0raVs5XSx0LmQ9aVsxNV0raVsxM10sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0UGxhbmVzVG9SZWYoZSx0KXtFdC5HZXROZWFyUGxhbmVUb1JlZihlLHRbMF0pLEV0LkdldEZhclBsYW5lVG9SZWYoZSx0WzFdKSxFdC5HZXRMZWZ0UGxhbmVUb1JlZihlLHRbMl0pLEV0LkdldFJpZ2h0UGxhbmVUb1JlZihlLHRbM10pLEV0LkdldFRvcFBsYW5lVG9SZWYoZSx0WzRdKSxFdC5HZXRCb3R0b21QbGFuZVRvUmVmKGUsdFs1XSl9fWNsYXNzIE1ye3N0YXRpYyBnZXQgVW5pcXVlSWQoKXtjb25zdCBlPXRoaXMuX1VuaXF1ZUlkQ291bnRlcjtyZXR1cm4gdGhpcy5fVW5pcXVlSWRDb3VudGVyKyssZX19TXIuX1VuaXF1ZUlkQ291bnRlcj0xO2NsYXNzIEVle3N0YXRpYyBDb21wYXJlTGlnaHRzUHJpb3JpdHkoZSx0KXtyZXR1cm4gZS5zaGFkb3dFbmFibGVkIT09dC5zaGFkb3dFbmFibGVkPyh0LnNoYWRvd0VuYWJsZWQ/MTowKS0oZS5zaGFkb3dFbmFibGVkPzE6MCk6dC5yZW5kZXJQcmlvcml0eS1lLnJlbmRlclByaW9yaXR5fX1FZS5GQUxMT0ZGX0RFRkFVTFQ9MCxFZS5GQUxMT0ZGX1BIWVNJQ0FMPTEsRWUuRkFMTE9GRl9HTFRGPTIsRWUuRkFMTE9GRl9TVEFOREFSRD0zLEVlLkxJR0hUTUFQX0RFRkFVTFQ9MCxFZS5MSUdIVE1BUF9TUEVDVUxBUj0xLEVlLkxJR0hUTUFQX1NIQURPV1NPTkxZPTIsRWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9MCxFZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9MSxFZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPTIsRWUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT0zLEVlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPTQsRWUuTElHSFRUWVBFSURfUE9JTlRMSUdIVD0wLEVlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9MSxFZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9MixFZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPTM7dmFyIEN0OyhmdW5jdGlvbihjKXtjW2MuQmFja3dhcmRDb21wYXRpYmxlPTBdPSJCYWNrd2FyZENvbXBhdGlibGUiLGNbYy5JbnRlcm1lZGlhdGU9MV09IkludGVybWVkaWF0ZSIsY1tjLkFnZ3Jlc3NpdmU9Ml09IkFnZ3Jlc3NpdmUifSkoQ3R8fChDdD17fSkpO2NsYXNzIG5lIGV4dGVuZHMgWml7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX2lucHV0TWFuYWdlcj1uZXcgRGUodGhpcyksdGhpcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzPW51bGwsdGhpcy5faXNTY2VuZT0hMCx0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb249ITEsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWw9ITAsdGhpcy5jbGVhckNvbG9yPW5ldyBtZSguMiwuMiwuMywxKSx0aGlzLmFtYmllbnRDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuZW52aXJvbm1lbnRJbnRlbnNpdHk9MSx0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5PUN0LkJhY2t3YXJkQ29tcGF0aWJsZSx0aGlzLl9mb3JjZVdpcmVmcmFtZT0hMSx0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPSExLHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQ9ITEsdGhpcy5hbmltYXRpb25zRW5hYmxlZD0hMCx0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCx0aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPSExLHRoaXMuY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXI9ITEsdGhpcy5ob3ZlckN1cnNvcj0icG9pbnRlciIsdGhpcy5kZWZhdWx0Q3Vyc29yPSIiLHRoaXMuZG9Ob3RIYW5kbGVDdXJzb3JzPSExLHRoaXMucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duPSEwLHRoaXMucHJldmVudERlZmF1bHRPblBvaW50ZXJVcD0hMCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuZGlzYWJsZU9mZmxpbmVTdXBwb3J0RXhjZXB0aW9uUnVsZXM9bmV3IEFycmF5LHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vblJlYWR5T2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZD1uZXcgRix0aGlzLm9uQWN0aXZlQ2FtZXJhc0NoYW5nZWQ9bmV3IEYsdGhpcy5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncz1uZXcgaGkoMjU2KSx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITEsdGhpcy5za2lwUG9pbnRlckRvd25QaWNraW5nPSExLHRoaXMuc2tpcFBvaW50ZXJVcFBpY2tpbmc9ITEsdGhpcy5vblByZVBvaW50ZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25LZXlib2FyZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09ITEsdGhpcy5fdGltZUFjY3VtdWxhdG9yPTAsdGhpcy5fY3VycmVudFN0ZXBJZD0wLHRoaXMuX2N1cnJlbnRJbnRlcm5hbFN0ZXA9MCx0aGlzLl9mb2dFbmFibGVkPSEwLHRoaXMuX2ZvZ01vZGU9bmUuRk9HTU9ERV9OT05FLHRoaXMuZm9nQ29sb3I9bmV3IHJlKC4yLC4yLC4zKSx0aGlzLmZvZ0RlbnNpdHk9LjEsdGhpcy5mb2dTdGFydD0wLHRoaXMuZm9nRW5kPTFlMyx0aGlzLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzPSExLHRoaXMuX3NoYWRvd3NFbmFibGVkPSEwLHRoaXMuX2xpZ2h0c0VuYWJsZWQ9ITAsdGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcz1udWxsLHRoaXMuX3RleHR1cmVzRW5hYmxlZD0hMCx0aGlzLnBoeXNpY3NFbmFibGVkPSEwLHRoaXMucGFydGljbGVzRW5hYmxlZD0hMCx0aGlzLnNwcml0ZXNFbmFibGVkPSEwLHRoaXMuX3NrZWxldG9uc0VuYWJsZWQ9ITAsdGhpcy5sZW5zRmxhcmVzRW5hYmxlZD0hMCx0aGlzLmNvbGxpc2lvbnNFbmFibGVkPSEwLHRoaXMuZ3Jhdml0eT1uZXcgcCgwLC05LjgwNywwKSx0aGlzLnBvc3RQcm9jZXNzZXNFbmFibGVkPSEwLHRoaXMucmVuZGVyVGFyZ2V0c0VuYWJsZWQ9ITAsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHM9ITEsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSx0aGlzLmltcG9ydGVkTWVzaGVzRmlsZXM9bmV3IEFycmF5LHRoaXMucHJvYmVzRW5hYmxlZD0hMCx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zPW5ldyBoaSgyNTYpLHRoaXMucHJvY2VkdXJhbFRleHR1cmVzRW5hYmxlZD0hMCx0aGlzLl90b3RhbFZlcnRpY2VzPW5ldyBSdCx0aGlzLl9hY3RpdmVJbmRpY2VzPW5ldyBSdCx0aGlzLl9hY3RpdmVQYXJ0aWNsZXM9bmV3IFJ0LHRoaXMuX2FjdGl2ZUJvbmVzPW5ldyBSdCx0aGlzLl9hbmltYXRpb25UaW1lPTAsdGhpcy5hbmltYXRpb25UaW1lU2NhbGU9MSx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2ZyYW1lSWQ9MCx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGwsdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsdGhpcy5fdmlld1VwZGF0ZUZsYWc9LTEsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTEsdGhpcy5fdG9CZURpc3Bvc2VkPW5ldyBBcnJheSgyNTYpLHRoaXMuX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSx0aGlzLl9wZW5kaW5nRGF0YT1uZXcgQXJyYXksdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXM9ITEsdGhpcy5fYWN0aXZlTWVzaGVzPW5ldyAkZSgyNTYpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscz1uZXcgJGUoMjU2KSx0aGlzLl9yZW5kZXJUYXJnZXRzPW5ldyBoaSgyNTYpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHM9bmV3IGhpKDI1NiksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zPW5ldyAkZSgyNTYpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucz1uZXcgaGkoMzIpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcz1uZXcgaGkoMzIpLHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzPW5ldyBBcnJheSx0aGlzLl90cmFuc2Zvcm1NYXRyaXg9eC5aZXJvKCksdGhpcy5yZXF1aXJlTGlnaHRTb3J0aW5nPSExLHRoaXMuX2NvbXBvbmVudHM9W10sdGhpcy5fc2VyaWFsaXphYmxlQ29tcG9uZW50cz1bXSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzPVtdLHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2lzUmVhZHlGb3JNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyQ2FtZXJhUG9zdFByb2Nlc3NTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldFBvc3RQcm9jZXNzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJEb3duU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcG9pbnRlclVwU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9bnVsbCx0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9ITEsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz0hMSx0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PSExLHRoaXMuX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yPSEwLHRoaXMuZ2V0RGV0ZXJtaW5pc3RpY0ZyYW1lVGltZT0oKT0+dGhpcy5fZW5naW5lLmdldFRpbWVTdGVwKCksdGhpcy5fcmVnaXN0ZXJlZEFjdGlvbnM9MCx0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc209ITEsdGhpcy5fcGVyZkNvbGxlY3Rvcj1udWxsLHRoaXMuYWN0aXZlQ2FtZXJhcz1uZXcgQXJyYXk7Y29uc3QgaT17dXNlR2VvbWV0cnlVbmlxdWVJZHNNYXA6ITAsdXNlTWF0ZXJpYWxNZXNoTWFwOiEwLHVzZUNsb25lZE1lc2hNYXA6ITAsdmlydHVhbDohMSwuLi50fTt0aGlzLl9lbmdpbmU9ZXx8ZmUuTGFzdENyZWF0ZWRFbmdpbmUsaS52aXJ0dWFsP3RoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5wdXNoKHRoaXMpOihmZS5fTGFzdENyZWF0ZWRTY2VuZT10aGlzLHRoaXMuX2VuZ2luZS5zY2VuZXMucHVzaCh0aGlzKSksdGhpcy5fdWlkPW51bGwsdGhpcy5fcmVuZGVyaW5nTWFuYWdlcj1uZXcgV2UodGhpcyksUWkmJih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlcj1uZXcgUWkodGhpcykpLGplKCkmJnRoaXMuYXR0YWNoQ29udHJvbCgpLHRoaXMuX2NyZWF0ZVVibygpLHBlJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1uZXcgcGUpLHRoaXMuc2V0RGVmYXVsdENhbmRpZGF0ZVByb3ZpZGVycygpLGkudXNlR2VvbWV0cnlVbmlxdWVJZHNNYXAmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZD17fSksdGhpcy51c2VNYXRlcmlhbE1lc2hNYXA9aS51c2VNYXRlcmlhbE1lc2hNYXAsdGhpcy51c2VDbG9uZWRNZXNoTWFwPWkudXNlQ2xvbmVkTWVzaE1hcCwoIXR8fCF0LnZpcnR1YWwpJiZ0aGlzLl9lbmdpbmUub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9c3RhdGljIERlZmF1bHRNYXRlcmlhbEZhY3RvcnkoZSl7dGhyb3cgJCgiU3RhbmRhcmRNYXRlcmlhbCIpfXN0YXRpYyBDb2xsaXNpb25Db29yZGluYXRvckZhY3RvcnkoKXt0aHJvdyAkKCJEZWZhdWx0Q29sbGlzaW9uQ29vcmRpbmF0b3IiKX1nZXQgZW52aXJvbm1lbnRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZX1zZXQgZW52aXJvbm1lbnRUZXh0dXJlKGUpe3RoaXMuX2Vudmlyb25tZW50VGV4dHVyZSE9PWUmJih0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1nZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufWdldCBwZXJmb3JtYW5jZVByaW9yaXR5KCl7cmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHl9c2V0IHBlcmZvcm1hbmNlUHJpb3JpdHkoZSl7aWYoZSE9PXRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHkpc3dpdGNoKHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHk9ZSxlKXtjYXNlIEN0LkJhY2t3YXJkQ29tcGF0aWJsZTp0aGlzLnNraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz0hMSx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITEsdGhpcy5hdXRvQ2xlYXI9ITA7YnJlYWs7Y2FzZSBDdC5JbnRlcm1lZGlhdGU6dGhpcy5za2lwRnJ1c3R1bUNsaXBwaW5nPSExLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSEwLHRoaXMuYXV0b0NsZWFyPSExO2JyZWFrO2Nhc2UgQ3QuQWdncmVzc2l2ZTp0aGlzLnNraXBGcnVzdHVtQ2xpcHBpbmc9ITAsdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz0hMCx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITAsdGhpcy5hdXRvQ2xlYXI9ITE7YnJlYWt9fXNldCBmb3JjZVdpcmVmcmFtZShlKXt0aGlzLl9mb3JjZVdpcmVmcmFtZSE9PWUmJih0aGlzLl9mb3JjZVdpcmVmcmFtZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9yY2VXaXJlZnJhbWUoKXtyZXR1cm4gdGhpcy5fZm9yY2VXaXJlZnJhbWV9c2V0IHNraXBGcnVzdHVtQ2xpcHBpbmcoZSl7dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZyE9PWUmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPWUpfWdldCBza2lwRnJ1c3R1bUNsaXBwaW5nKCl7cmV0dXJuIHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd9c2V0IGZvcmNlUG9pbnRzQ2xvdWQoZSl7dGhpcy5fZm9yY2VQb2ludHNDbG91ZCE9PWUmJih0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb3JjZVBvaW50c0Nsb3VkKCl7cmV0dXJuIHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWR9Z2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSgpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9c2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZShlKXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9ZX1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfXNldCBiZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSl9c2V0IGFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSxlJiYodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpKX1zZXQgYmVmb3JlQ2FtZXJhUmVuZGVyKGUpe3RoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1zZXQgYWZ0ZXJDYW1lcmFSZW5kZXIoZSl7dGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgdW5UcmFuc2xhdGVkUG9pbnRlcigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIudW5UcmFuc2xhdGVkUG9pbnRlcn1zdGF0aWMgZ2V0IERyYWdNb3ZlbWVudFRocmVzaG9sZCgpe3JldHVybiBEZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR9c3RhdGljIHNldCBEcmFnTW92ZW1lbnRUaHJlc2hvbGQoZSl7RGUuRHJhZ01vdmVtZW50VGhyZXNob2xkPWV9c3RhdGljIGdldCBMb25nUHJlc3NEZWxheSgpe3JldHVybiBEZS5Mb25nUHJlc3NEZWxheX1zdGF0aWMgc2V0IExvbmdQcmVzc0RlbGF5KGUpe0RlLkxvbmdQcmVzc0RlbGF5PWV9c3RhdGljIGdldCBEb3VibGVDbGlja0RlbGF5KCl7cmV0dXJuIERlLkRvdWJsZUNsaWNrRGVsYXl9c3RhdGljIHNldCBEb3VibGVDbGlja0RlbGF5KGUpe0RlLkRvdWJsZUNsaWNrRGVsYXk9ZX1zdGF0aWMgZ2V0IEV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSgpe3JldHVybiBEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGV9c3RhdGljIHNldCBFeGNsdXNpdmVEb3VibGVDbGlja01vZGUoZSl7RGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPWV9YmluZEV5ZVBvc2l0aW9uKGUsdD0idkV5ZVBvc2l0aW9uIixpPSExKXt2YXIgcztjb25zdCByPXRoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbj90aGlzLl9mb3JjZWRWaWV3UG9zaXRpb246dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj90aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uOihzPXRoaXMuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uKSE9PW51bGwmJnMhPT12b2lkIDA/czp0aGlzLmFjdGl2ZUNhbWVyYS5kZXZpY2VQb3NpdGlvbixuPXRoaXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0odGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbiE9bnVsbCk7cmV0dXJuIEQuVmVjdG9yNFswXS5zZXQoci54LHIueSxyLnosbj8tMToxKSxlJiYoaT9lLnNldEZsb2F0Myh0LEQuVmVjdG9yNFswXS54LEQuVmVjdG9yNFswXS55LEQuVmVjdG9yNFswXS56KTplLnNldFZlY3RvcjQodCxELlZlY3RvcjRbMF0pKSxELlZlY3RvcjRbMF19ZmluYWxpemVTY2VuZVVibygpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSx0PXRoaXMuYmluZEV5ZVBvc2l0aW9uKG51bGwpO3JldHVybiBlLnVwZGF0ZUZsb2F0NCgidkV5ZVBvc2l0aW9uIix0LngsdC55LHQueix0LncpLGUudXBkYXRlKCksZX1zZXQgdXNlUmlnaHRIYW5kZWRTeXN0ZW0oZSl7dGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW0hPT1lJiYodGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IHVzZVJpZ2h0SGFuZGVkU3lzdGVtKCl7cmV0dXJuIHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtfXNldFN0ZXBJZChlKXt0aGlzLl9jdXJyZW50U3RlcElkPWV9Z2V0U3RlcElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGVwSWR9Z2V0SW50ZXJuYWxTdGVwKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbnRlcm5hbFN0ZXB9c2V0IGZvZ0VuYWJsZWQoZSl7dGhpcy5fZm9nRW5hYmxlZCE9PWUmJih0aGlzLl9mb2dFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb2dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9c2V0IGZvZ01vZGUoZSl7dGhpcy5fZm9nTW9kZSE9PWUmJih0aGlzLl9mb2dNb2RlPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb2dNb2RlKCl7cmV0dXJuIHRoaXMuX2ZvZ01vZGV9Z2V0IHByZVBhc3MoKXtyZXR1cm4hIXRoaXMucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLnByZVBhc3NSZW5kZXJlci5kZWZhdWx0UlQuZW5hYmxlZH1zZXQgc2hhZG93c0VuYWJsZWQoZSl7dGhpcy5fc2hhZG93c0VuYWJsZWQhPT1lJiYodGhpcy5fc2hhZG93c0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX1nZXQgc2hhZG93c0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0VuYWJsZWR9c2V0IGxpZ2h0c0VuYWJsZWQoZSl7dGhpcy5fbGlnaHRzRW5hYmxlZCE9PWUmJih0aGlzLl9saWdodHNFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgyKSl9Z2V0IGxpZ2h0c0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbGlnaHRzRW5hYmxlZH1nZXQgYWN0aXZlQ2FtZXJhcygpe3JldHVybiB0aGlzLl9hY3RpdmVDYW1lcmFzfXNldCBhY3RpdmVDYW1lcmFzKGUpe3RoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXMmJih0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzKCksdGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcz1udWxsKSxlJiYodGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcz0kcyhlLCgpPT57dGhpcy5vbkFjdGl2ZUNhbWVyYXNDaGFuZ2VkLm5vdGlmeU9ic2VydmVycyh0aGlzKX0pKSx0aGlzLl9hY3RpdmVDYW1lcmFzPWV9Z2V0IGFjdGl2ZUNhbWVyYSgpe3JldHVybiB0aGlzLl9hY3RpdmVDYW1lcmF9c2V0IGFjdGl2ZUNhbWVyYShlKXtlIT09dGhpcy5fYWN0aXZlQ2FtZXJhJiYodGhpcy5fYWN0aXZlQ2FtZXJhPWUsdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX1nZXQgZGVmYXVsdE1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNYXRlcmlhbHx8KHRoaXMuX2RlZmF1bHRNYXRlcmlhbD1uZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KHRoaXMpKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWx9c2V0IGRlZmF1bHRNYXRlcmlhbChlKXt0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9ZX1zZXQgdGV4dHVyZXNFbmFibGVkKGUpe3RoaXMuX3RleHR1cmVzRW5hYmxlZCE9PWUmJih0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1nZXQgdGV4dHVyZXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzRW5hYmxlZH1zZXQgc2tlbGV0b25zRW5hYmxlZChlKXt0aGlzLl9za2VsZXRvbnNFbmFibGVkIT09ZSYmKHRoaXMuX3NrZWxldG9uc0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDgpKX1nZXQgc2tlbGV0b25zRW5hYmxlZCgpe3JldHVybiB0aGlzLl9za2VsZXRvbnNFbmFibGVkfWdldCBjb2xsaXNpb25Db29yZGluYXRvcigpe3JldHVybiB0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcnx8KHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yPW5lLkNvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeSgpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yLmluaXQodGhpcykpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfWdldCByZW5kZXJpbmdNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXJ9Z2V0IGZydXN0dW1QbGFuZXMoKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bVBsYW5lc31fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCl7aWYodGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg+MCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cyllLnJlZ2lzdGVyKCk7dGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MH19X2FkZENvbXBvbmVudChlKXt0aGlzLl9jb21wb25lbnRzLnB1c2goZSksdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5wdXNoKGUpO2NvbnN0IHQ9ZTt0LmFkZEZyb21Db250YWluZXImJnQuc2VyaWFsaXplJiZ0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzLnB1c2godCl9X2dldENvbXBvbmVudChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jb21wb25lbnRzKWlmKHQubmFtZT09PWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNjZW5lIn1fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5kYXRhPXRoaXMubWVzaGVzLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9dGhpcy5tZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlc31fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzKGUpe3JldHVybiB0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuZGF0YT1lLnN1Yk1lc2hlcyx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMubGVuZ3RoPWUuc3ViTWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXN9c2V0RGVmYXVsdENhbmRpZGF0ZVByb3ZpZGVycygpe3RoaXMuZ2V0QWN0aXZlTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEludGVyc2VjdGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyl9Z2V0IG1lc2hVbmRlclBvaW50ZXIoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLm1lc2hVbmRlclBvaW50ZXJ9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWH1zZXQgcG9pbnRlclgoZSl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYPWV9Z2V0IHBvaW50ZXJZKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJZPWV9Z2V0Q2FjaGVkTWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fY2FjaGVkTWF0ZXJpYWx9Z2V0Q2FjaGVkRWZmZWN0KCl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdH1nZXRDYWNoZWRWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX2NhY2hlZFZpc2liaWxpdHl9aXNDYWNoZWRNYXRlcmlhbEludmFsaWQoZSx0LGk9MSl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdCE9PXR8fHRoaXMuX2NhY2hlZE1hdGVyaWFsIT09ZXx8dGhpcy5fY2FjaGVkVmlzaWJpbGl0eSE9PWl9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXMuY3VycmVudH1nZXQgdG90YWxWZXJ0aWNlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXN9Z2V0QWN0aXZlSW5kaWNlcygpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzLmN1cnJlbnR9Z2V0IHRvdGFsQWN0aXZlSW5kaWNlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXN9Z2V0QWN0aXZlUGFydGljbGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5jdXJyZW50fWdldCBhY3RpdmVQYXJ0aWNsZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVQYXJ0aWNsZXN9Z2V0QWN0aXZlQm9uZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXMuY3VycmVudH1nZXQgYWN0aXZlQm9uZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lc31nZXRBY3RpdmVNZXNoZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfWdldEFuaW1hdGlvblJhdGlvKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblJhdGlvIT09dm9pZCAwP3RoaXMuX2FuaW1hdGlvblJhdGlvOjF9Z2V0UmVuZGVySWQoKXtyZXR1cm4gdGhpcy5fcmVuZGVySWR9Z2V0RnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWluY3JlbWVudFJlbmRlcklkKCl7dGhpcy5fcmVuZGVySWQrK31fY3JlYXRlVWJvKCl7dGhpcy5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoKSl9c2ltdWxhdGVQb2ludGVyTW92ZShlLHQpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyTW92ZShlLHQpLHRoaXN9c2ltdWxhdGVQb2ludGVyRG93bihlLHQpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyRG93bihlLHQpLHRoaXN9c2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpLHRoaXN9aXNQb2ludGVyQ2FwdHVyZWQoZT0wKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmlzUG9pbnRlckNhcHR1cmVkKGUpfWF0dGFjaENvbnRyb2woZT0hMCx0PSEwLGk9ITApe3RoaXMuX2lucHV0TWFuYWdlci5hdHRhY2hDb250cm9sKGUsdCxpKX1kZXRhY2hDb250cm9sKCl7dGhpcy5faW5wdXRNYW5hZ2VyLmRldGFjaENvbnRyb2woKX1pc1JlYWR5KGU9ITApe2lmKHRoaXMuX2lzRGlzcG9zZWQpcmV0dXJuITE7bGV0IHQ7Y29uc3QgaT10aGlzLmdldEVuZ2luZSgpO2xldCBzPSEwO2Zvcih0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MCYmKHM9ITEpLGUmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCkpLHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5tZXNoZXNbdF07aWYoIXIuc3ViTWVzaGVzfHxyLnN1Yk1lc2hlcy5sZW5ndGg9PT0wKWNvbnRpbnVlO2lmKCFyLmlzUmVhZHkoITApKXtzPSExO2NvbnRpbnVlfWNvbnN0IG49ci5oYXNUaGluSW5zdGFuY2VzfHxyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2gifHxyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fGkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmci5pbnN0YW5jZXMubGVuZ3RoPjA7Zm9yKGNvbnN0IG8gb2YgdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZSlvLmFjdGlvbihyLG4pfHwocz0hMSk7aWYoIWUpY29udGludWU7Y29uc3QgYT1yLm1hdGVyaWFsfHx0aGlzLmRlZmF1bHRNYXRlcmlhbDtpZihhKWlmKGEuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IG8gb2Ygci5zdWJNZXNoZXMpe2NvbnN0IGg9by5nZXRNYXRlcmlhbCgpO2gmJmguaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmguZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGgpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShoLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1lbHNlIGEuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmEuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGEpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChhKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShhLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1pZighc3x8IWkuYXJlQWxsRWZmZWN0c1JlYWR5KCkpcmV0dXJuITE7aWYoZSl7Zm9yKHQ9MDt0PHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMubGVuZ3RoOysrdClpZighdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kYXRhW3RdLmlzUmVhZHlGb3JSZW5kZXJpbmcoKSlyZXR1cm4hMX1mb3IodD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4hMTtpZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MCl7Zm9yKGNvbnN0IHIgb2YgdGhpcy5hY3RpdmVDYW1lcmFzKWlmKCFyLmlzUmVhZHkoITApKXJldHVybiExfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJiF0aGlzLmFjdGl2ZUNhbWVyYS5pc1JlYWR5KCEwKSlyZXR1cm4hMTtmb3IoY29uc3QgciBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcylpZighci5pc1JlYWR5KCkpcmV0dXJuITE7cmV0dXJuITB9cmVzZXRDYWNoZWRNYXRlcmlhbCgpe3RoaXMuX2NhY2hlZE1hdGVyaWFsPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0PW51bGwsdGhpcy5fY2FjaGVkVmlzaWJpbGl0eT1udWxsfXJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX11bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpfXJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9dW5yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3RoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSl9X2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpe2NvbnN0IHQ9KCk9PntlKCksc2V0VGltZW91dCgoKT0+e3RoaXMudW5yZWdpc3RlckJlZm9yZVJlbmRlcih0KX0pfTt0aGlzLnJlZ2lzdGVyQmVmb3JlUmVuZGVyKHQpfWV4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUsdCl7dCE9PXZvaWQgMD9zZXRUaW1lb3V0KCgpPT57dGhpcy5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl9LHQpOnRoaXMuX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpfWFkZFBlbmRpbmdEYXRhKGUpe3RoaXMuX3BlbmRpbmdEYXRhLnB1c2goZSl9cmVtb3ZlUGVuZGluZ0RhdGEoZSl7Y29uc3QgdD10aGlzLmlzTG9hZGluZyxpPXRoaXMuX3BlbmRpbmdEYXRhLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLl9wZW5kaW5nRGF0YS5zcGxpY2UoaSwxKSx0JiYhdGhpcy5pc0xvYWRpbmcmJnRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0V2FpdGluZ0l0ZW1zQ291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RofWdldCBpc0xvYWRpbmcoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjB9ZXhlY3V0ZVdoZW5SZWFkeShlLHQ9ITEpe3RoaXMub25SZWFkeU9ic2VydmFibGUuYWRkT25jZShlKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KHQpfXdoZW5SZWFkeUFzeW5jKGU9ITEpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57dGhpcy5leGVjdXRlV2hlblJlYWR5KCgpPT57dCgpfSxlKX0pfV9jaGVja0lzUmVhZHkoZT0hMSl7aWYodGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5pc1JlYWR5KGUpKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsO3JldHVybn1pZih0aGlzLl9pc0Rpc3Bvc2VkKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsO3JldHVybn10aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmluY3JlbWVudFJlbmRlcklkKCksdGhpcy5fY2hlY2tJc1JlYWR5KGUpfSwxMDApfWdldCBhbmltYXRhYmxlcygpe3JldHVybiB0aGlzLl9hY3RpdmVBbmltYXRhYmxlc31yZXNldExhc3RBbmltYXRpb25UaW1lRnJhbWUoKXt0aGlzLl9hbmltYXRpb25UaW1lTGFzdD1haS5Ob3d9Z2V0Vmlld01hdHJpeCgpe3JldHVybiB0aGlzLl92aWV3TWF0cml4fWdldFByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4fXNldFRyYW5zZm9ybU1hdHJpeChlLHQsaSxzKXshaSYmIXMmJnRoaXMuX211bHRpdmlld1NjZW5lVWJvJiYodGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvPW51bGwpLCEodGhpcy5fdmlld1VwZGF0ZUZsYWc9PT1lLnVwZGF0ZUZsYWcmJnRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPT09dC51cGRhdGVGbGFnKSYmKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPWUudXBkYXRlRmxhZyx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdmlld01hdHJpeD1lLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9dCx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/RXQuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9RXQuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLnVzZVVibz90aGlzLl91cGRhdGVNdWx0aXZpZXdVYm8oaSxzKTp0aGlzLl9zY2VuZVViby51c2VVYm8mJih0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlldyIsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJwcm9qZWN0aW9uIix0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSkpfWdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpe3JldHVybiB0aGlzLl9tdWx0aXZpZXdTY2VuZVVibz90aGlzLl9tdWx0aXZpZXdTY2VuZVVibzp0aGlzLl9zY2VuZVVib31jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoZSl7Y29uc3QgdD1uZXcgVih0aGlzLl9lbmdpbmUsdm9pZCAwLCExLGU/PyJzY2VuZSIpO3JldHVybiB0LmFkZFVuaWZvcm0oInZpZXdQcm9qZWN0aW9uIiwxNiksdC5hZGRVbmlmb3JtKCJ2aWV3IiwxNiksdC5hZGRVbmlmb3JtKCJwcm9qZWN0aW9uIiwxNiksdC5hZGRVbmlmb3JtKCJ2RXllUG9zaXRpb24iLDQpLHR9c2V0U2NlbmVVbmlmb3JtQnVmZmVyKGUpe3RoaXMuX3NjZW5lVWJvPWUsdGhpcy5fdmlld1VwZGF0ZUZsYWc9LTEsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9LTF9Z2V0VW5pcXVlSWQoKXtyZXR1cm4gTXIuVW5pcXVlSWR9YWRkTWVzaChlLHQ9ITEpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMubWVzaGVzLnB1c2goZSksZS5fcmVzeW5jTGlnaHRTb3VyY2VzKCksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdCYmZS5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2goaT0+e3RoaXMuYWRkTWVzaChpKX0pKX1yZW1vdmVNZXNoKGUsdD0hMSl7Y29uc3QgaT10aGlzLm1lc2hlcy5pbmRleE9mKGUpO3JldHVybiBpIT09LTEmJih0aGlzLm1lc2hlc1tpXT10aGlzLm1lc2hlc1t0aGlzLm1lc2hlcy5sZW5ndGgtMV0sdGhpcy5tZXNoZXMucG9wKCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9pbnB1dE1hbmFnZXIuX2ludmFsaWRhdGVNZXNoKGUpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHQmJmUuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKHM9Pnt0aGlzLnJlbW92ZU1lc2gocyl9KSxpfWFkZFRyYW5zZm9ybU5vZGUoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHxlLmdldFNjZW5lKCk9PT10aGlzJiZlLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5IT09LTF8fChlLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLHRoaXMudHJhbnNmb3JtTm9kZXMucHVzaChlKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9cmVtb3ZlVHJhbnNmb3JtTm9kZShlKXtjb25zdCB0PWUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk7aWYodCE9PS0xKXtpZih0IT09dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybU5vZGVzW3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTFdO3RoaXMudHJhbnNmb3JtTm9kZXNbdF09aSxpLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXR9ZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLnRyYW5zZm9ybU5vZGVzLnBvcCgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVTa2VsZXRvbihlKXtjb25zdCB0PXRoaXMuc2tlbGV0b25zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKHRoaXMuc2tlbGV0b25zLnNwbGljZSh0LDEpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVTa2VsZXRvbnMpKSx0fXJlbW92ZU1vcnBoVGFyZ2V0TWFuYWdlcihlKXtjb25zdCB0PXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5zcGxpY2UodCwxKSx0fXJlbW92ZUxpZ2h0KGUpe2NvbnN0IHQ9dGhpcy5saWdodHMuaW5kZXhPZihlKTtpZih0IT09LTEpe2Zvcihjb25zdCBpIG9mIHRoaXMubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKGUsITEpO3RoaXMubGlnaHRzLnNwbGljZSh0LDEpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl9cmV0dXJuIHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZUNhbWVyYShlKXtjb25zdCB0PXRoaXMuY2FtZXJhcy5pbmRleE9mKGUpO2lmKHQhPT0tMSYmKHRoaXMuY2FtZXJhcy5zcGxpY2UodCwxKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuYWN0aXZlQ2FtZXJhcyl7Y29uc3QgaT10aGlzLmFjdGl2ZUNhbWVyYXMuaW5kZXhPZihlKTtpIT09LTEmJnRoaXMuYWN0aXZlQ2FtZXJhcy5zcGxpY2UoaSwxKX1yZXR1cm4gdGhpcy5hY3RpdmVDYW1lcmE9PT1lJiYodGhpcy5jYW1lcmFzLmxlbmd0aD4wP3RoaXMuYWN0aXZlQ2FtZXJhPXRoaXMuY2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlUGFydGljbGVTeXN0ZW0oZSl7Y29uc3QgdD10aGlzLnBhcnRpY2xlU3lzdGVtcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJih0aGlzLnBhcnRpY2xlU3lzdGVtcy5zcGxpY2UodCwxKSx0aGlzLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cCh0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMpKSx0fXJlbW92ZUFuaW1hdGlvbihlKXtjb25zdCB0PXRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodCwxKSx0fXN0b3BBbmltYXRpb24oZSx0LGkpe31yZW1vdmVBbmltYXRpb25Hcm91cChlKXtjb25zdCB0PXRoaXMuYW5pbWF0aW9uR3JvdXBzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hbmltYXRpb25Hcm91cHMuc3BsaWNlKHQsMSksdH1yZW1vdmVNdWx0aU1hdGVyaWFsKGUpe2NvbnN0IHQ9dGhpcy5tdWx0aU1hdGVyaWFscy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMubXVsdGlNYXRlcmlhbHMuc3BsaWNlKHQsMSksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVNYXRlcmlhbChlKXtjb25zdCB0PWUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk7aWYodCE9PS0xJiZ0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aCl7aWYodCE9PXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMubWF0ZXJpYWxzW3RoaXMubWF0ZXJpYWxzLmxlbmd0aC0xXTt0aGlzLm1hdGVyaWFsc1t0XT1pLGkuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9dH1lLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWF0ZXJpYWxzLnBvcCgpfXJldHVybiB0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVBY3Rpb25NYW5hZ2VyKGUpe2NvbnN0IHQ9dGhpcy5hY3Rpb25NYW5hZ2Vycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYWN0aW9uTWFuYWdlcnMuc3BsaWNlKHQsMSksdH1yZW1vdmVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy50ZXh0dXJlcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMudGV4dHVyZXMuc3BsaWNlKHQsMSksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1hZGRMaWdodChlKXtpZighdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uKXt0aGlzLmxpZ2h0cy5wdXNoKGUpLHRoaXMuc29ydExpZ2h0c0J5UHJpb3JpdHkoKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpO2Zvcihjb25zdCB0IG9mIHRoaXMubWVzaGVzKXQubGlnaHRTb3VyY2VzLmluZGV4T2YoZSk9PT0tMSYmKHQubGlnaHRTb3VyY2VzLnB1c2goZSksdC5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpO3RoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9fXNvcnRMaWdodHNCeVByaW9yaXR5KCl7dGhpcy5yZXF1aXJlTGlnaHRTb3J0aW5nJiZ0aGlzLmxpZ2h0cy5zb3J0KEVlLkNvbXBhcmVMaWdodHNQcmlvcml0eSl9YWRkQ2FtZXJhKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuY2FtZXJhcy5wdXNoKGUpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCkpfWFkZFNrZWxldG9uKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuc2tlbGV0b25zLnB1c2goZSksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkUGFydGljbGVTeXN0ZW0oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLnBhcnRpY2xlU3lzdGVtcy5wdXNoKGUpfWFkZEFuaW1hdGlvbihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMuYW5pbWF0aW9ucy5wdXNoKGUpfWFkZEFuaW1hdGlvbkdyb3VwKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25Hcm91cHMucHVzaChlKX1hZGRNdWx0aU1hdGVyaWFsKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMubXVsdGlNYXRlcmlhbHMucHVzaChlKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZE1hdGVyaWFsKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8ZS5nZXRTY2VuZSgpPT09dGhpcyYmZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheSE9PS0xfHwoZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10aGlzLm1hdGVyaWFscy5sZW5ndGgsdGhpcy5tYXRlcmlhbHMucHVzaChlKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRNb3JwaFRhcmdldE1hbmFnZXIoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMucHVzaChlKX1hZGRHZW9tZXRyeShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdPXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgpLHRoaXMuZ2VvbWV0cmllcy5wdXNoKGUpKX1hZGRBY3Rpb25NYW5hZ2VyKGUpe3RoaXMuYWN0aW9uTWFuYWdlcnMucHVzaChlKX1hZGRUZXh0dXJlKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMudGV4dHVyZXMucHVzaChlKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXN3aXRjaEFjdGl2ZUNhbWVyYShlLHQ9ITApe3RoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKSYmKHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5kZXRhY2hDb250cm9sKCksdGhpcy5hY3RpdmVDYW1lcmE9ZSx0JiZlLmF0dGFjaENvbnRyb2woKSl9c2V0QWN0aXZlQ2FtZXJhQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0Q2FtZXJhQnlJZChlKTtyZXR1cm4gdD8odGhpcy5hY3RpdmVDYW1lcmE9dCx0KTpudWxsfXNldEFjdGl2ZUNhbWVyYUJ5TmFtZShlKXtjb25zdCB0PXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKGUpO3JldHVybiB0Pyh0aGlzLmFjdGl2ZUNhbWVyYT10LHQpOm51bGx9Z2V0QW5pbWF0aW9uR3JvdXBCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5sZW5ndGg7dCsrKWlmKHRoaXMuYW5pbWF0aW9uR3JvdXBzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmFuaW1hdGlvbkdyb3Vwc1t0XTtyZXR1cm4gbnVsbH1fZ2V0TWF0ZXJpYWwoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5tYXRlcmlhbHNbaV07aWYodChzKSlyZXR1cm4gc31pZihlKWZvcihsZXQgaT0wO2k8dGhpcy5tdWx0aU1hdGVyaWFscy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMubXVsdGlNYXRlcmlhbHNbaV07aWYodChzKSlyZXR1cm4gc31yZXR1cm4gbnVsbH1nZXRNYXRlcmlhbEJ5VW5pcXVlSUQoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLnVuaXF1ZUlkPT09ZSl9Z2V0TWF0ZXJpYWxCeUlkKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS5pZD09PWUpfWdldE1hdGVyaWFsQnlOYW1lKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS5uYW1lPT09ZSl9Z2V0TGFzdE1hdGVyaWFsQnlJZChlLHQ9ITEpe2ZvcihsZXQgaT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMTtpPj0wO2ktLSlpZih0aGlzLm1hdGVyaWFsc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW2ldO2lmKHQpe2ZvcihsZXQgaT10aGlzLm11bHRpTWF0ZXJpYWxzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMubXVsdGlNYXRlcmlhbHNbaV0uaWQ9PT1lKXJldHVybiB0aGlzLm11bHRpTWF0ZXJpYWxzW2ldfXJldHVybiBudWxsfWdldFRleHR1cmVCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0dXJlcy5sZW5ndGg7dCsrKWlmKHRoaXMudGV4dHVyZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnRleHR1cmVzW3RdO3JldHVybiBudWxsfWdldFRleHR1cmVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0KyspaWYodGhpcy50ZXh0dXJlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy50ZXh0dXJlc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Qm9uZUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc2tlbGV0b25zW3RdO2ZvcihsZXQgcz0wO3M8aS5ib25lcy5sZW5ndGg7cysrKWlmKGkuYm9uZXNbc10uaWQ9PT1lKXJldHVybiBpLmJvbmVzW3NdfXJldHVybiBudWxsfWdldEJvbmVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc2tlbGV0b25zW3RdO2ZvcihsZXQgcz0wO3M8aS5ib25lcy5sZW5ndGg7cysrKWlmKGkuYm9uZXNbc10ubmFtZT09PWUpcmV0dXJuIGkuYm9uZXNbc119cmV0dXJuIG51bGx9Z2V0TGlnaHRCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRMaWdodEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0TGlnaHRCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldFBhcnRpY2xlU3lzdGVtQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDt0KyspaWYodGhpcy5wYXJ0aWNsZVN5c3RlbXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnBhcnRpY2xlU3lzdGVtc1t0XTtyZXR1cm4gbnVsbH1nZXRHZW9tZXRyeUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3QrKylpZih0aGlzLmdlb21ldHJpZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF07cmV0dXJuIG51bGx9X2dldEdlb21ldHJ5QnlVbmlxdWVJZChlKXtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7Y29uc3QgdD10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF19ZWxzZSBmb3IobGV0IHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XTtyZXR1cm4gbnVsbH1wdXNoR2VvbWV0cnkoZSx0KXtyZXR1cm4hdCYmdGhpcy5fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkKGUudW5pcXVlSWQpPyExOih0aGlzLmFkZEdlb21ldHJ5KGUpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksITApfXJlbW92ZUdlb21ldHJ5KGUpe2xldCB0O2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXtpZih0PXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdLHQ9PT12b2lkIDApcmV0dXJuITF9ZWxzZSBpZih0PXRoaXMuZ2VvbWV0cmllcy5pbmRleE9mKGUpLHQ8MClyZXR1cm4hMTtpZih0IT09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuZ2VvbWV0cmllc1t0aGlzLmdlb21ldHJpZXMubGVuZ3RoLTFdO2kmJih0aGlzLmdlb21ldHJpZXNbdF09aSx0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2kudW5pcXVlSWRdPXQpKX1yZXR1cm4gdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuZ2VvbWV0cmllcy5wb3AoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksITB9Z2V0R2VvbWV0cmllcygpe3JldHVybiB0aGlzLmdlb21ldHJpZXN9Z2V0TWVzaEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TWVzaGVzQnlJZChlKXtyZXR1cm4gdGhpcy5tZXNoZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pfWdldFRyYW5zZm9ybU5vZGVCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVzQnlJZChlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSl9Z2V0TWVzaEJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdE1lc2hCeUlkKGUpe2ZvcihsZXQgdD10aGlzLm1lc2hlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldExhc3RFbnRyeUJ5SWQoZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5tZXNoZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtmb3IodD10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO2Zvcih0PXRoaXMuY2FtZXJhcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLmNhbWVyYXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07Zm9yKHQ9dGhpcy5saWdodHMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5saWdodHNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXROb2RlQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0TWVzaEJ5SWQoZSk7aWYodClyZXR1cm4gdDtjb25zdCBpPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQoZSk7aWYoaSlyZXR1cm4gaTtjb25zdCBzPXRoaXMuZ2V0TGlnaHRCeUlkKGUpO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj10aGlzLmdldENhbWVyYUJ5SWQoZSk7aWYocilyZXR1cm4gcjtjb25zdCBuPXRoaXMuZ2V0Qm9uZUJ5SWQoZSk7cmV0dXJuIG58fG51bGx9Z2V0Tm9kZUJ5TmFtZShlKXtjb25zdCB0PXRoaXMuZ2V0TWVzaEJ5TmFtZShlKTtpZih0KXJldHVybiB0O2NvbnN0IGk9dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKGUpO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcz10aGlzLmdldExpZ2h0QnlOYW1lKGUpO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj10aGlzLmdldENhbWVyYUJ5TmFtZShlKTtpZihyKXJldHVybiByO2NvbnN0IG49dGhpcy5nZXRCb25lQnlOYW1lKGUpO3JldHVybiBufHxudWxsfWdldE1lc2hCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdFNrZWxldG9uQnlJZChlKXtmb3IobGV0IHQ9dGhpcy5za2VsZXRvbnMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5za2VsZXRvbnNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7dCsrKWlmKHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtyZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07Zm9yKGxldCBzPTA7czxpLm51bVRhcmdldHM7KytzKXtjb25zdCByPWkuZ2V0VGFyZ2V0KHMpO2lmKHIuaWQ9PT1lKXJldHVybiByfX1yZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtmb3IobGV0IHM9MDtzPGkubnVtVGFyZ2V0czsrK3Mpe2NvbnN0IHI9aS5nZXRUYXJnZXQocyk7aWYoci5uYW1lPT09ZSlyZXR1cm4gcn19cmV0dXJuIG51bGx9Z2V0UG9zdFByb2Nlc3NCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLnBvc3RQcm9jZXNzZXNbdF07aWYoaS5uYW1lPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9SC5SYW5kb21JZCgpKSx0aGlzLl91aWR9YWRkRXh0ZXJuYWxEYXRhKGUsdCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgY3IpLHRoaXMuX2V4dGVybmFsRGF0YS5hZGQoZSx0KX1nZXRFeHRlcm5hbERhdGEoZSl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YT90aGlzLl9leHRlcm5hbERhdGEuZ2V0KGUpOm51bGx9Z2V0T3JBZGRFeHRlcm5hbERhdGFXaXRoRmFjdG9yeShlLHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IGNyKSx0aGlzLl9leHRlcm5hbERhdGEuZ2V0T3JBZGRXaXRoRmFjdG9yeShlLHQpfXJlbW92ZUV4dGVybmFsRGF0YShlKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhLnJlbW92ZShlKX1fZXZhbHVhdGVTdWJNZXNoKGUsdCxpLHMpe2lmKHN8fGUuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpe2Zvcihjb25zdCBuIG9mIHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlKW4uYWN0aW9uKHQsZSk7Y29uc3Qgcj1lLmdldE1hdGVyaWFsKCk7ciE9bnVsbCYmKHIuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJnIuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKHIpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChyKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShyLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGUsdCxyKSl9fWZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKXt0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpfWdldCBibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMoKXtyZXR1cm4gdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHN9c2V0IGJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyhlKXt0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyE9PWUmJihlJiYodGhpcy5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCkpLHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPWUpfWZyZWVBY3RpdmVNZXNoZXMoKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYXMpKWZvcihsZXQgZT0wO2U8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5hY3RpdmVDYW1lcmFzW2VdO3QmJnQuX2FjdGl2ZU1lc2hlcyYmdC5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKX19ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMudGV4dHVyZXMpKWZvcihsZXQgZT0wO2U8dGhpcy50ZXh0dXJlcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMudGV4dHVyZXNbZV07dCYmdC5yZW5kZXJMaXN0JiZ0LmZyZWVSZW5kZXJpbmdHcm91cHMoKX19X2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nfWZyZWV6ZUFjdGl2ZU1lc2hlcyhlPSExLHQsaSxzPSEwLHI9ITEpe3JldHVybiB0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntpZighdGhpcy5hY3RpdmVDYW1lcmEpe2kmJmkoIk5vIGFjdGl2ZSBjYW1lcmEgZm91bmQiKTtyZXR1cm59aWYodGhpcy5fZnJ1c3R1bVBsYW5lc3x8dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMCx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9cix0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PWUscylmb3IobGV0IG49MDtuPHRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7bisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW25dLl9mcmVlemUoKTt0JiZ0KCl9KSx0aGlzfXVuZnJlZXplQWN0aXZlTWVzaGVzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1lc2hlcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMubWVzaGVzW2VdO3QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8mJih0Ll9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSl9Zm9yKGxldCBlPTA7ZTx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtlXS5fdW5GcmVlemUoKTtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXN9X2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKGUpeyEodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSkmJnRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aHx8dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkT25jZSgoKT0+ZS5kaXNwb3NlKCkpfV9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpe3ZhciBlO2lmKHRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpe3RoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg+MCYmKChlPXRoaXMuYWN0aXZlQ2FtZXJhKT09PW51bGx8fGU9PT12b2lkIDB8fGUuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSk7cmV0dXJufWlmKHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCl7aWYoIXRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHkpe2NvbnN0IHM9dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW3JdLmNvbXB1dGVXb3JsZE1hdHJpeCgpfWlmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcyl7Y29uc3Qgcz10aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRhdGFbcl0uYW5pbWF0ZSgpfXRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXRTcHJpdGVzKCk7cmV0dXJufWlmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm47dGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMucmVzZXQoKTtmb3IoY29uc3QgcyBvZiB0aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZSlzLmFjdGlvbigpO2NvbnN0IHQ9dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcygpLGk9dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxpO3MrKyl7Y29uc3Qgcj10LmRhdGFbc107aWYoci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITEsci5pc0Jsb2NrZWR8fCh0aGlzLl90b3RhbFZlcnRpY2VzLmFkZENvdW50KHIuZ2V0VG90YWxWZXJ0aWNlcygpLCExKSwhci5pc1JlYWR5KCl8fCFyLmlzRW5hYmxlZCgpfHxyLnNjYWxpbmcuaGFzQVplcm9Db21wb25lbnQpKWNvbnRpbnVlO3IuY29tcHV0ZVdvcmxkTWF0cml4KCksci5hY3Rpb25NYW5hZ2VyJiZyLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyczIoMTIsMTMpJiZ0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnB1c2hOb0R1cGxpY2F0ZShyKTtsZXQgbj10aGlzLmN1c3RvbUxPRFNlbGVjdG9yP3RoaXMuY3VzdG9tTE9EU2VsZWN0b3Iocix0aGlzLmFjdGl2ZUNhbWVyYSk6ci5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmEpO2lmKHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9bixyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCxuIT1udWxsJiYobiE9PXImJm4uYmlsbGJvYXJkTW9kZSE9PTAmJm4uY29tcHV0ZVdvcmxkTWF0cml4KCksci5fcHJlQWN0aXZhdGUoKSxyLmlzVmlzaWJsZSYmci52aXNpYmlsaXR5PjAmJnIubGF5ZXJNYXNrJnRoaXMuYWN0aXZlQ2FtZXJhLmxheWVyTWFzayYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHIuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHxyLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKSkpe3RoaXMuX2FjdGl2ZU1lc2hlcy5wdXNoKHIpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucHVzaChyKSxuIT09ciYmbi5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpO2Zvcihjb25zdCBhIG9mIHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZSlhLmFjdGlvbihyKTtyLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSkmJihyLmlzQW5JbnN0YW5jZT9yLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYobj1yKTpuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSExLG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSEwLHRoaXMuX2FjdGl2ZU1lc2gocixuKSksci5fcG9zdEFjdGl2YXRlKCl9fWlmKHRoaXMucGFydGljbGVzRW5hYmxlZCl7dGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2ZvcihsZXQgcz0wO3M8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLnBhcnRpY2xlU3lzdGVtc1tzXTtpZighci5pc1N0YXJ0ZWQoKXx8IXIuZW1pdHRlciljb250aW51ZTtjb25zdCBuPXIuZW1pdHRlcjsoIW4ucG9zaXRpb258fG4uaXNFbmFibGVkKCkpJiYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnB1c2gociksci5hbmltYXRlKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhyKSl9dGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9fV9hY3RpdmVNZXNoKGUsdCl7dGhpcy5fc2tlbGV0b25zRW5hYmxlZCYmdC5za2VsZXRvbiE9PW51bGwmJnQuc2tlbGV0b24hPT12b2lkIDAmJih0aGlzLl9hY3RpdmVTa2VsZXRvbnMucHVzaE5vRHVwbGljYXRlKHQuc2tlbGV0b24pJiYodC5za2VsZXRvbi5wcmVwYXJlKCksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQodC5za2VsZXRvbi5ib25lcy5sZW5ndGgsITEpKSx0LmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnB1c2hOb0R1cGxpY2F0ZSh0KSk7bGV0IGk9ZS5oYXNJbnN0YW5jZXN8fGUuaXNBbkluc3RhbmNlfHx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXN8fHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHQuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoO2lmKHQmJnQuc3ViTWVzaGVzJiZ0LnN1Yk1lc2hlcy5sZW5ndGg+MCl7Y29uc3Qgcz10aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzKHQpLHI9cy5sZW5ndGg7aT1pfHxyPT09MTtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCBhPXMuZGF0YVtuXTt0aGlzLl9ldmFsdWF0ZVN1Yk1lc2goYSx0LGUsaSl9fX11cGRhdGVUcmFuc2Zvcm1NYXRyaXgoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmEpaWYodGhpcy5hY3RpdmVDYW1lcmEuX3JlbmRlcmluZ011bHRpdmlldyl7Y29uc3QgdD10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1swXSxpPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzFdO3RoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHQuZ2V0Vmlld01hdHJpeCgpLHQuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSxpLmdldFZpZXdNYXRyaXgoKSxpLmdldFByb2plY3Rpb25NYXRyaXgoZSkpfWVsc2UgdGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHRoaXMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoZSkpfV9iaW5kRnJhbWVCdWZmZXIoZSx0PSEwKXtlJiZlLl9tdWx0aXZpZXdUZXh0dXJlP2UuX211bHRpdmlld1RleHR1cmUuX2JpbmRGcmFtZUJ1ZmZlcigpOmUmJmUub3V0cHV0UmVuZGVyVGFyZ2V0P2Uub3V0cHV0UmVuZGVyVGFyZ2V0Ll9iaW5kRnJhbWVCdWZmZXIoKTp0aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl8fHRoaXMuX2VuZ2luZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksdCYmdGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcihlKX1fY2xlYXJGcmFtZUJ1ZmZlcihlKXtpZighKGUmJmUuX211bHRpdmlld1RleHR1cmUpKWlmKGUmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYhZS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtjb25zdCB0PWUub3V0cHV0UmVuZGVyVGFyZ2V0O3Qub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dC5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZW5naW5lKTp0LnNraXBJbml0aWFsQ2xlYXJ8fCh0aGlzLmF1dG9DbGVhciYmdGhpcy5fZW5naW5lLmNsZWFyKHQuY2xlYXJDb2xvcnx8dGhpcy5jbGVhckNvbG9yLCF0Ll9jbGVhcmVkLCEwLCEwKSx0Ll9jbGVhcmVkPSEwKX1lbHNlIHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ/dGhpcy5fZW5naW5lLmNsZWFyKG51bGwsITEsITAsITApOih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSEwLHRoaXMuX2NsZWFyKCkpfV9yZW5kZXJGb3JDYW1lcmEoZSx0LGk9ITApe3ZhciBzLHIsbjtpZihlJiZlLl9za2lwUmVuZGVyaW5nKXJldHVybjtjb25zdCBhPXRoaXMuX2VuZ2luZTtpZih0aGlzLl9hY3RpdmVDYW1lcmE9ZSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpZihhLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLl9yZW5kZXJJZCsrLCF0aGlzLnByZVBhc3MmJmkpe2xldCBoPSEwO2UuX3JlbmRlcmluZ011bHRpdmlldyYmZS5vdXRwdXRSZW5kZXJUYXJnZXQmJihoPWUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXIsdGhpcy5hdXRvQ2xlYXImJihlLm91dHB1dFJlbmRlclRhcmdldC5za2lwSW5pdGlhbENsZWFyPSExKSksdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSksZS5fcmVuZGVyaW5nTXVsdGl2aWV3JiZlLm91dHB1dFJlbmRlclRhcmdldCYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9aCl9dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5hY3RpdmVDYW1lcmEpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCk7Zm9yKGxldCBoPTA7aDx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGF0YVtoXTtsLmFwcGx5U2tlbGV0b24obC5za2VsZXRvbil9dGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzKSxlLmN1c3RvbVJlbmRlclRhcmdldHMmJmUuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoZS5jdXN0b21SZW5kZXJUYXJnZXRzKSx0JiZ0LmN1c3RvbVJlbmRlclRhcmdldHMmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUodC5jdXN0b21SZW5kZXJUYXJnZXRzKSx0aGlzLmVudmlyb25tZW50VGV4dHVyZSYmdGhpcy5lbnZpcm9ubWVudFRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaE5vRHVwbGljYXRlKHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlKTtmb3IoY29uc3QgaCBvZiB0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UpaC5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyk7bGV0IG89ITE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7aWYodGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApe0guU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXIoIlJlbmRlciB0YXJnZXRzIix0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aD4wKTtmb3IobGV0IGg9MDtoPHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9yZW5kZXJUYXJnZXRzLmRhdGFbaF07aWYobC5fc2hvdWxkUmVuZGVyKCkpe3RoaXMuX3JlbmRlcklkKys7Y29uc3QgdT1sLmFjdGl2ZUNhbWVyYSYmbC5hY3RpdmVDYW1lcmEhPT10aGlzLmFjdGl2ZUNhbWVyYTtsLnJlbmRlcih1LHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzKSxvPSEwfX1ILkVuZFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX3JlbmRlcklkKyt9Zm9yKGNvbnN0IGggb2YgdGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlKW89aC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfHxvO3RoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMX10aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZD0obj0ocj0ocz1lLm91dHB1dFJlbmRlclRhcmdldCk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLnJlbmRlclBhc3NJZCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5yZW5kZXJQYXNzSWQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjAsbyYmIXRoaXMucHJlUGFzcyYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSwhMSksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhZS5fbXVsdGl2aWV3VGV4dHVyZSYmIXRoaXMucHJlUGFzcyYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSgpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7dGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGEuc25hcHNob3RSZW5kZXJpbmcmJmEuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSYmdGhpcy5maW5hbGl6ZVNjZW5lVWJvKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIobnVsbCxudWxsLCEwLCEwKSx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgaCBvZiB0aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7aWYodGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlKXtjb25zdCBoPWUub3V0cHV0UmVuZGVyVGFyZ2V0P2Uub3V0cHV0UmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldDp2b2lkIDA7dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoZS5pc0ludGVybWVkaWF0ZSxoKX1mb3IoY29uc3QgaCBvZiB0aGlzLl9hZnRlckNhbWVyYVBvc3RQcm9jZXNzU3RhZ2UpaC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpO3RoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSl9X3Byb2Nlc3NTdWJDYW1lcmFzKGUsdD0hMCl7aWYoZS5jYW1lcmFSaWdNb2RlPT09MHx8ZS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJiF0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fY3JlYXRlTXVsdGl2aWV3VWJvKCksdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUsdm9pZCAwLHQpLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpO3JldHVybn1pZihlLl91c2VNdWx0aXZpZXdUb1NpbmdsZVZpZXcpdGhpcy5fcmVuZGVyTXVsdGl2aWV3VG9TaW5nbGVWaWV3KGUpO2Vsc2V7dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpO2ZvcihsZXQgaT0wO2k8ZS5fcmlnQ2FtZXJhcy5sZW5ndGg7aSsrKXRoaXMuX3JlbmRlckZvckNhbWVyYShlLl9yaWdDYW1lcmFzW2ldLGUpfXRoaXMuX2FjdGl2ZUNhbWVyYT1lLHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9X2NoZWNrSW50ZXJzZWN0aW9ucygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGF0YVtlXTtpZih0LmFjdGlvbk1hbmFnZXIpZm9yKGxldCBpPTA7dC5hY3Rpb25NYW5hZ2VyJiZpPHQuYWN0aW9uTWFuYWdlci5hY3Rpb25zLmxlbmd0aDtpKyspe2NvbnN0IHM9dC5hY3Rpb25NYW5hZ2VyLmFjdGlvbnNbaV07aWYocy50cmlnZ2VyPT09MTJ8fHMudHJpZ2dlcj09PTEzKXtjb25zdCByPXMuZ2V0VHJpZ2dlclBhcmFtZXRlcigpLG49ci5tZXNoP3IubWVzaDpyLGE9bi5pbnRlcnNlY3RzTWVzaCh0LHIudXNlUHJlY2lzZUludGVyc2VjdGlvbiksbz10Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKG4pO2EmJm89PT0tMT9zLnRyaWdnZXI9PT0xMj8ocy5fZXhlY3V0ZUN1cnJlbnQoVmUuQ3JlYXRlTmV3KHQsdm9pZCAwLG4pKSx0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG4pKTpzLnRyaWdnZXI9PT0xMyYmdC5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MucHVzaChuKTohYSYmbz4tMSYmKHMudHJpZ2dlcj09PTEzJiZzLl9leGVjdXRlQ3VycmVudChWZS5DcmVhdGVOZXcodCx2b2lkIDAsbikpLCghdC5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcigxMyxoPT57Y29uc3QgbD1oLm1lc2g/aC5tZXNoOmg7cmV0dXJuIG49PT1sfSl8fHMudHJpZ2dlcj09PTEzKSYmdC5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3Muc3BsaWNlKG8sMSkpfX19fV9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAoZSl7fV9hbmltYXRlKCl7fWFuaW1hdGUoKXtpZih0aGlzLl9lbmdpbmUuaXNEZXRlcm1pbmlzdGljTG9ja1N0ZXAoKSl7bGV0IGU9TWF0aC5tYXgobmUuTWluRGVsdGFUaW1lLE1hdGgubWluKHRoaXMuX2VuZ2luZS5nZXREZWx0YVRpbWUoKSxuZS5NYXhEZWx0YVRpbWUpKSt0aGlzLl90aW1lQWNjdW11bGF0b3I7Y29uc3QgdD10aGlzLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKSxpPTFlMy90LzFlMztsZXQgcz0wO2NvbnN0IHI9dGhpcy5fZW5naW5lLmdldExvY2tzdGVwTWF4U3RlcHMoKTtsZXQgbj1NYXRoLmZsb29yKGUvdCk7Zm9yKG49TWF0aC5taW4obixyKTtlPjAmJnM8bjspdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9hbmltYXRpb25SYXRpbz10KmksdGhpcy5fYW5pbWF0ZSgpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBoeXNpY3NFbmFibGVkJiZ0aGlzLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAodCksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2N1cnJlbnRTdGVwSWQrKyxzKyssZS09dDt0aGlzLl90aW1lQWNjdW11bGF0b3I9ZTwwPzA6ZX1lbHNle2NvbnN0IGU9dGhpcy51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT8xNjpNYXRoLm1heChuZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLG5lLk1heERlbHRhVGltZSkpO3RoaXMuX2FuaW1hdGlvblJhdGlvPWUqKDYwLzFlMyksdGhpcy5fYW5pbWF0ZSgpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBoeXNpY3NFbmFibGVkJiZ0aGlzLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAoZSl9fV9jbGVhcigpeyh0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbHx8dGhpcy5hdXRvQ2xlYXIpJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yLHRoaXMuYXV0b0NsZWFyfHx0aGlzLmZvcmNlV2lyZWZyYW1lfHx0aGlzLmZvcmNlUG9pbnRzQ2xvdWQsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWwsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWwpfV9jaGVja0NhbWVyYVJlbmRlclRhcmdldChlKXt2YXIgdDtpZihlIT1udWxsJiZlLm91dHB1dFJlbmRlclRhcmdldCYmIShlIT1udWxsJiZlLmlzUmlnQ2FtZXJhKSYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0Ll9jbGVhcmVkPSExKSwhKCh0PWU9PW51bGw/dm9pZCAwOmUucmlnQ2FtZXJhcyk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLnJpZ0NhbWVyYXMubGVuZ3RoOysraSl7Y29uc3Qgcz1lLnJpZ0NhbWVyYXNbaV0ub3V0cHV0UmVuZGVyVGFyZ2V0O3MmJihzLl9jbGVhcmVkPSExKX19cmVzZXREcmF3Q2FjaGUoZSl7aWYodGhpcy5tZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5tZXNoZXMpdC5yZXNldERyYXdDYWNoZShlKX1yZW5kZXIoZT0hMCx0PSExKXt2YXIgaSxzLHI7aWYodGhpcy5pc0Rpc3Bvc2VkKXJldHVybjt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KCksdGhpcy5fZnJhbWVJZCsrLHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsdGhpcy5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQodGhpcy5hY3RpdmVDYW1lcmEpLCEoKGk9dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fGk9PT12b2lkIDApJiZpLmxlbmd0aCYmdGhpcy5hY3RpdmVDYW1lcmFzLmZvckVhY2godGhpcy5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQpLHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fdG90YWxWZXJ0aWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlSW5kaWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlQm9uZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucmVzZXQoKSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aW9uTWFuYWdlciYmdGhpcy5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDExKSx0fHx0aGlzLmFuaW1hdGUoKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZSlvLmFjdGlvbigpO2lmKGUpe2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgbz0wO288dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5hY3RpdmVDYW1lcmFzW29dO2lmKGgudXBkYXRlKCksaC5jYW1lcmFSaWdNb2RlIT09MClmb3IobGV0IGw9MDtsPGguX3JpZ0NhbWVyYXMubGVuZ3RoO2wrKyloLl9yaWdDYW1lcmFzW2xdLnVwZGF0ZSgpfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS51cGRhdGUoKSx0aGlzLmFjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MCkpZm9yKGxldCBvPTA7bzx0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhcy5sZW5ndGg7bysrKXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzW29dLnVwZGF0ZSgpfXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBuPXRoaXMuZ2V0RW5naW5lKCk7dGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBhPSEoKHM9dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fHM9PT12b2lkIDApJiZzLmxlbmd0aD90aGlzLmFjdGl2ZUNhbWVyYXNbMF06dGhpcy5hY3RpdmVDYW1lcmE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7SC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMDtmb3IobGV0IG89MDtvPHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7bysrKXtjb25zdCBoPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1tvXTtpZihoLl9zaG91bGRSZW5kZXIoKSl7aWYodGhpcy5fcmVuZGVySWQrKyx0aGlzLmFjdGl2ZUNhbWVyYT1oLmFjdGl2ZUNhbWVyYXx8dGhpcy5hY3RpdmVDYW1lcmEsIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7bi5zZXRWaWV3cG9ydCh0aGlzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCksdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxoLnJlbmRlcihhIT09dGhpcy5hY3RpdmVDYW1lcmEsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpfX1ILkVuZFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9yZW5kZXJJZCsrfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShyPWE9PW51bGw/dm9pZCAwOmEucmVuZGVyUGFzc0lkKSE9PW51bGwmJnIhPT12b2lkIDA/cjowLHRoaXMuYWN0aXZlQ2FtZXJhPWEsdGhpcy5fYWN0aXZlQ2FtZXJhJiZ0aGlzLl9hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTIyJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYmVmb3JlQ2xlYXJTdGFnZSlvLmFjdGlvbigpO3RoaXMuX2NsZWFyRnJhbWVCdWZmZXIodGhpcy5hY3RpdmVDYW1lcmEpO2Zvcihjb25zdCBvIG9mIHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZSlvLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtpZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MClmb3IobGV0IG89MDtvPHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7bysrKXRoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhc1tvXSxvPjApO2Vsc2V7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiTm8gY2FtZXJhIGRlZmluZWQiKTt0aGlzLl9wcm9jZXNzU3ViQ2FtZXJhcyh0aGlzLmFjdGl2ZUNhbWVyYSwhIXRoaXMuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldCl9dGhpcy5fY2hlY2tJbnRlcnNlY3Rpb25zKCk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZSlvLmFjdGlvbigpO2lmKHRoaXMuYWZ0ZXJSZW5kZXImJnRoaXMuYWZ0ZXJSZW5kZXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoKXtmb3IobGV0IG89MDtvPHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg7bysrKXtjb25zdCBoPXRoaXMuX3RvQmVEaXNwb3NlZFtvXTtoJiZoLmRpc3Bvc2UoKX10aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoPTB9dGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMmJih0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKX1mcmVlemVNYXRlcmlhbHMoKXtmb3IobGV0IGU9MDtlPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtlKyspdGhpcy5tYXRlcmlhbHNbZV0uZnJlZXplKCl9dW5mcmVlemVNYXRlcmlhbHMoKXtmb3IobGV0IGU9MDtlPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtlKyspdGhpcy5tYXRlcmlhbHNbZV0udW5mcmVlemUoKX1kaXNwb3NlKCl7aWYodGhpcy5pc0Rpc3Bvc2VkKXJldHVybjt0aGlzLmJlZm9yZVJlbmRlcj1udWxsLHRoaXMuYWZ0ZXJSZW5kZXI9bnVsbCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5za2VsZXRvbnMubGVuZ3RoPTAsdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aD0wLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMubGVuZ3RoPTAsdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlck1vdmVTdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJEb3duU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyVXBTdGFnZS5jbGVhcigpLHRoaXMuaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksdGhpcy5zdG9wQWxsQW5pbWF0aW9ucyYmdGhpcy5zdG9wQWxsQW5pbWF0aW9ucygpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmE9bnVsbCksdGhpcy5hY3RpdmVDYW1lcmFzPW51bGwsdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLmRpc3Bvc2UoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3MuZGlzcG9zZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGlzcG9zZSgpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MDtjb25zdCBlPXRoaXMuX2FjdGl2ZVJlcXVlc3RzLnNsaWNlKCk7Zm9yKGNvbnN0IHIgb2YgZSlyLmFib3J0KCk7dGhpcy5fYWN0aXZlUmVxdWVzdHMubGVuZ3RoPTA7dHJ5e3RoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2FsbGluZyBvbkRpc3Bvc2VPYnNlcnZhYmxlISIscil9aWYodGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uU2tlbGV0b25SZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblBvaW50ZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25LZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5jbGVhcigpLHRoaXMuZGV0YWNoQ29udHJvbCgpLHRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKSlmb3IobGV0IHI9MDtyPHRoaXMuY2FtZXJhcy5sZW5ndGg7cisrKXRoaXMuY2FtZXJhc1tyXS5kZXRhY2hDb250cm9sKCk7dGhpcy5fZGlzcG9zZUxpc3QodGhpcy5hbmltYXRpb25Hcm91cHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubGlnaHRzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1lc2hlcyxyPT5yLmRpc3Bvc2UoITApKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRyYW5zZm9ybU5vZGVzLHI9PnIuZGlzcG9zZSghMCkpO2NvbnN0IGk9dGhpcy5jYW1lcmFzO3RoaXMuX2Rpc3Bvc2VMaXN0KGkpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbCYmdGhpcy5fZGVmYXVsdE1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm11bHRpTWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1hdGVyaWFscyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wYXJ0aWNsZVN5c3RlbXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMucG9zdFByb2Nlc3NlcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50ZXh0dXJlcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzKSx0aGlzLl9zY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5fY29tcG9uZW50cyk7bGV0IHM9dGhpcy5fZW5naW5lLnNjZW5lcy5pbmRleE9mKHRoaXMpO3M+LTEmJnRoaXMuX2VuZ2luZS5zY2VuZXMuc3BsaWNlKHMsMSksZmUuX0xhc3RDcmVhdGVkU2NlbmU9PT10aGlzJiYodGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGg+MD9mZS5fTGFzdENyZWF0ZWRTY2VuZT10aGlzLl9lbmdpbmUuc2NlbmVzW3RoaXMuX2VuZ2luZS5zY2VuZXMubGVuZ3RoLTFdOmZlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwpLHM9dGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLmluZGV4T2YodGhpcykscz4tMSYmdGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnNwbGljZShzLDEpLHRoaXMuX2VuZ2luZS53aXBlQ2FjaGVzKCEwKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfV9kaXNwb3NlTGlzdChlLHQpe2NvbnN0IGk9ZS5zbGljZSgwKTt0PXQ/PyhzPT5zLmRpc3Bvc2UoKSk7Zm9yKGNvbnN0IHMgb2YgaSl0KHMpO2UubGVuZ3RoPTB9Z2V0IGlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH1jbGVhckNhY2hlZFZlcnRleERhdGEoKXtmb3IobGV0IGU9MDtlPHRoaXMubWVzaGVzLmxlbmd0aDtlKyspe2NvbnN0IGk9dGhpcy5tZXNoZXNbZV0uZ2VvbWV0cnk7aSYmaS5jbGVhckNhY2hlZERhdGEoKX19Y2xlYW5DYWNoZWRUZXh0dXJlQnVmZmVyKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50ZXh0dXJlcyllLl9idWZmZXImJihlLl9idWZmZXI9bnVsbCl9Z2V0V29ybGRFeHRlbmRzKGUpe2NvbnN0IHQ9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLGk9bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBlPWV8fCgoKT0+ITApLHRoaXMubWVzaGVzLmZpbHRlcihlKS5mb3JFYWNoKHM9PntpZihzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksIXMuc3ViTWVzaGVzfHxzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHxzLmluZmluaXRlRGlzdGFuY2UpcmV0dXJuO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLGE9ci5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQ7cC5DaGVja0V4dGVuZHMobix0LGkpLHAuQ2hlY2tFeHRlbmRzKGEsdCxpKX0pLHttaW46dCxtYXg6aX19Y3JlYXRlUGlja2luZ1JheShlLHQsaSxzLHI9ITEpe3Rocm93ICQoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlUb1JlZihlLHQsaSxzLHIsbj0hMSxhPSExKXt0aHJvdyAkKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZShlLHQsaSl7dGhyb3cgJCgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihlLHQsaSxzKXt0aHJvdyAkKCJSYXkiKX1nZXQgX3BpY2tpbmdBdmFpbGFibGUoKXtyZXR1cm4hMX1waWNrKGUsdCxpLHMscixuKXtyZXR1cm4gbmV3IFV0fXBpY2tXaXRoQm91bmRpbmdJbmZvKGUsdCxpLHMscil7cmV0dXJuIG5ldyBVdH1waWNrV2l0aFJheShlLHQsaSxzKXt0aHJvdyAkKCJSYXkiKX1tdWx0aVBpY2soZSx0LGkscyxyKXt0aHJvdyAkKCJSYXkiKX1tdWx0aVBpY2tXaXRoUmF5KGUsdCxpKXt0aHJvdyAkKCJSYXkiKX1zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpe3RoaXMuX2lucHV0TWFuYWdlci5zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuZ2V0UG9pbnRlck92ZXJNZXNoKCl9X3JlYnVpbGRHZW9tZXRyaWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZW9tZXRyaWVzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLm1lc2hlcyllLl9yZWJ1aWxkKCk7dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29tcG9uZW50cyllLnJlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcyllLnJlYnVpbGQoKTtpZih0aGlzLnNwcml0ZU1hbmFnZXJzKWZvcihjb25zdCBlIG9mIHRoaXMuc3ByaXRlTWFuYWdlcnMpZS5yZWJ1aWxkKCl9X3JlYnVpbGRUZXh0dXJlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGV4dHVyZXMpZS5fcmVidWlsZCgpO3RoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9X2dldEJ5VGFncyhlLHQsaSl7aWYodD09PXZvaWQgMClyZXR1cm4gZTtjb25zdCBzPVtdO2k9aXx8KHI9Pnt9KTtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl07Z2UmJmdlLk1hdGNoZXNRdWVyeShuLHQpJiYocy5wdXNoKG4pLGkobikpfXJldHVybiBzfWdldE1lc2hlc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tZXNoZXMsZSx0KX1nZXRDYW1lcmFzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmNhbWVyYXMsZSx0KX1nZXRMaWdodHNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubGlnaHRzLGUsdCl9Z2V0TWF0ZXJpYWxCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWF0ZXJpYWxzLGUsdCkuY29uY2F0KHRoaXMuX2dldEJ5VGFncyh0aGlzLm11bHRpTWF0ZXJpYWxzLGUsdCkpfWdldFRyYW5zZm9ybU5vZGVzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLnRyYW5zZm9ybU5vZGVzLGUsdCl9c2V0UmVuZGVyaW5nT3JkZXIoZSx0PW51bGwsaT1udWxsLHM9bnVsbCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdPcmRlcihlLHQsaSxzKX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGkscyl9Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl9Z2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSgpe3JldHVybiB0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc219c2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20hPT1lJiYodGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2MykpfW1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7aWYoIXRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSlmb3IoY29uc3QgaSBvZiB0aGlzLm1hdGVyaWFscyl0JiYhdChpKXx8aS5tYXJrQXNEaXJ0eShlKX1fbG9hZEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1qdChlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fbG9hZEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX2xvYWRGaWxlKGUsbz0+e24obyl9LHQsaSxzLChvLGgpPT57YShoKX0scil9KX1fcmVxdWVzdEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz14cyhlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fcmVxdWVzdEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX3JlcXVlc3RGaWxlKGUsbz0+e24obyl9LHQsaSxzLG89PnthKG8pfSxyKX0pfV9yZWFkRmlsZShlLHQsaSxzLHIpe2NvbnN0IG49d2koZSx0LGkscyxyKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChuKSxuLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChhPT57dGhpcy5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKHRoaXMuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoYSksMSl9KSxufV9yZWFkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9yZWFkRmlsZShlLG49PntzKG4pfSx0LGksbj0+e3Iobil9KX0pfWdldFBlcmZDb2xsZWN0b3IoKXt0aHJvdyAkKCJwZXJmb3JtYW5jZVZpZXdlclNjZW5lRXh0ZW5zaW9uIil9fW5lLkZPR01PREVfTk9ORT0wLG5lLkZPR01PREVfRVhQPTEsbmUuRk9HTU9ERV9FWFAyPTIsbmUuRk9HTU9ERV9MSU5FQVI9MyxuZS5NaW5EZWx0YVRpbWU9MSxuZS5NYXhEZWx0YVRpbWU9MWUzLG5lLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnNldEFjdGl2ZUNhbWVyYUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RNYXRlcmlhbEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWF0ZXJpYWxCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VGV4dHVyZUJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRDYW1lcmFCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRCb25lQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRCb25lQnlJZChjKX0sbmUucHJvdG90eXBlLmdldExpZ2h0QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMaWdodEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMaWdodEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeVVuaXF1ZUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFBhcnRpY2xlU3lzdGVtQnlJZChjKX0sbmUucHJvdG90eXBlLmdldEdlb21ldHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRHZW9tZXRyeUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRNZXNoQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlJZChjKX0sbmUucHJvdG90eXBlLmdldE1lc2hlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaGVzQnlJZChjKX0sbmUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZXNCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TWVzaEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0TWVzaEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1lc2hCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGFzdEVudHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0RW50cnlCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0Tm9kZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0U2tlbGV0b25CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RTa2VsZXRvbkJ5SWQoYyl9O2Z1bmN0aW9uIElzKGMsZSx0KXt0cnl7Y29uc3QgaT1jLm5leHQoKTtpLmRvbmU/ZShpKTppLnZhbHVlP2kudmFsdWUudGhlbigoKT0+e2kudmFsdWU9dm9pZCAwLGUoaSl9LHQpOmUoaSl9Y2F0Y2goaSl7dChpKX19ZnVuY3Rpb24gd24oYz0yNSl7bGV0IGU7cmV0dXJuKHQsaSxzKT0+e2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCk7ZT09PXZvaWQgMHx8ci1lPmM/KGU9cixzZXRUaW1lb3V0KCgpPT57SXModCxpLHMpfSwwKSk6SXModCxpLHMpfX1mdW5jdGlvbiBBcihjLGUsdCxpLHMpe2NvbnN0IHI9KCk9PntsZXQgbjtjb25zdCBhPW89PntvLmRvbmU/dChvLnZhbHVlKTpuPT09dm9pZCAwP249ITA6cigpfTtkbyBuPXZvaWQgMCwhc3x8IXMuYWJvcnRlZD9lKGMsYSxpKTppKG5ldyBFcnJvcigiQWJvcnRlZCIpKSxuPT09dm9pZCAwJiYobj0hMSk7d2hpbGUobil9O3IoKX1mdW5jdGlvbiBQcyhjLGUpe2xldCB0O3JldHVybiBBcihjLElzLGk9PnQ9aSxpPT57dGhyb3cgaX0sZSksdH1mdW5jdGlvbiBPbihjLGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57QXIoYyxlLGkscyx0KX0pfWZ1bmN0aW9uIExuKGMsZSl7cmV0dXJuKC4uLnQpPT5QcyhjKC4uLnQpLGUpfWNsYXNzIE5ue2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLl9pc1BhcmVudEVuYWJsZWQ9ITAsdGhpcy5faXNSZWFkeT0hMCx0aGlzLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQ2xvbmVkT2JzZXJ2YWJsZT1uZXcgRn19Y2xhc3MgemV7Y29uc3RydWN0b3IoZSx0PW51bGwpe3RoaXMuX2lzRGlydHk9ITEsdGhpcy5fbm9kZURhdGFTdG9yYWdlPW5ldyBObix0aGlzLnN0YXRlPSIiLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5fYWNjZXNzaWJpbGl0eVRhZz1udWxsLHRoaXMub25BY2Nlc3NpYmlsaXR5VGFnQ2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLl9yYW5nZXM9e30sdGhpcy5vblJlYWR5PW51bGwsdGhpcy5fY3VycmVudFJlbmRlcklkPS0xLHRoaXMuX3BhcmVudFVwZGF0ZUlkPS0xLHRoaXMuX2NoaWxkVXBkYXRlSWQ9LTEsdGhpcy5fd2FpdGluZ1BhcmVudElkPW51bGwsdGhpcy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9bnVsbCx0aGlzLl93YWl0aW5nUGFyc2VkVW5pcXVlSWQ9bnVsbCx0aGlzLl9jYWNoZT17fSx0aGlzLl9wYXJlbnROb2RlPW51bGwsdGhpcy5fY2hpbGRyZW49bnVsbCx0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD0wLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMuX2lzTm9kZT0hMCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9iZWhhdmlvcnM9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaWQ9ZSx0aGlzLl9zY2VuZT10fHxmZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9pbml0Q2FjaGUoKX1zdGF0aWMgQWRkTm9kZUNvbnN0cnVjdG9yKGUsdCl7dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXT10fXN0YXRpYyBDb25zdHJ1Y3QoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdO3JldHVybiByP3IodCxpLHMpOm51bGx9c2V0IGFjY2Vzc2liaWxpdHlUYWcoZSl7dGhpcy5fYWNjZXNzaWJpbGl0eVRhZz1lLHRoaXMub25BY2Nlc3NpYmlsaXR5VGFnQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfWdldCBhY2Nlc3NpYmlsaXR5VGFnKCl7cmV0dXJuIHRoaXMuX2FjY2Vzc2liaWxpdHlUYWd9Z2V0IGRvTm90U2VyaWFsaXplKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fZG9Ob3RTZXJpYWxpemU/ITA6dGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLmRvTm90U2VyaWFsaXplOiExfXNldCBkb05vdFNlcmlhbGl6ZShlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPWV9aXNEaXNwb3NlZCgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWR9c2V0IHBhcmVudChlKXtpZih0aGlzLl9wYXJlbnROb2RlPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9wYXJlbnROb2RlO2lmKHRoaXMuX3BhcmVudE5vZGUmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuIT09dm9pZCAwJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PW51bGwpe2NvbnN0IGk9dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtpIT09LTEmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLnNwbGljZShpLDEpLCFlJiYhdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkJiZ0aGlzLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCl9dGhpcy5fcGFyZW50Tm9kZT1lLHRoaXMuX3BhcmVudE5vZGUmJigodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49PT12b2lkIDB8fHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09bnVsbCkmJih0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj1uZXcgQXJyYXkpLHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLnB1c2godGhpcyksdHx8dGhpcy5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3BhcmVudE5vZGV9X3NlcmlhbGl6ZUFzUGFyZW50KGUpe2UucGFyZW50SWQ9dGhpcy51bmlxdWVJZH1fYWRkVG9TY2VuZVJvb3ROb2Rlcygpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD09PS0xJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PXRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5sZW5ndGgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnB1c2godGhpcykpfV9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKXtpZih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXghPT0tMSl7Y29uc3QgZT10aGlzLl9zY2VuZS5yb290Tm9kZXMsdD1lLmxlbmd0aC0xO2VbdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4XT1lW3RdLGVbdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4XS5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PXRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleCx0aGlzLl9zY2VuZS5yb290Tm9kZXMucG9wKCksdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xfX1nZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT90aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU6dGhpcy5fc2NlbmUuYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlfXNldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoZSl7dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk5vZGUifXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IG9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlfWdldCBvbkNsb25lZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkNsb25lZE9ic2VydmFibGV9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfWFkZEJlaGF2aW9yKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpIT09LTE/dGhpczooZS5pbml0KCksdGhpcy5fc2NlbmUuaXNMb2FkaW5nJiYhdD90aGlzLl9zY2VuZS5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PntlLmF0dGFjaCh0aGlzKX0pOmUuYXR0YWNoKHRoaXMpLHRoaXMuX2JlaGF2aW9ycy5wdXNoKGUpLHRoaXMpfXJlbW92ZUJlaGF2aW9yKGUpe2NvbnN0IHQ9dGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSk7cmV0dXJuIHQ9PT0tMT90aGlzOih0aGlzLl9iZWhhdmlvcnNbdF0uZGV0YWNoKCksdGhpcy5fYmVoYXZpb3JzLnNwbGljZSh0LDEpLHRoaXMpfWdldCBiZWhhdmlvcnMoKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzfWdldEJlaGF2aW9yQnlOYW1lKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2JlaGF2aW9ycylpZih0Lm5hbWU9PT1lKXJldHVybiB0O3JldHVybiBudWxsfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZCE9PXRoaXMuX3NjZW5lLmdldFJlbmRlcklkKCkmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXh9X2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHkmJih0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PXRoaXMuX3dvcmxkTWF0cml4LmRldGVybWluYW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnR9Z2V0IHdvcmxkTWF0cml4RnJvbUNhY2hlKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV9pbml0Q2FjaGUoKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9jYWNoZS5wYXJlbnQ9dm9pZCAwfXVwZGF0ZUNhY2hlKGUpeyFlJiZ0aGlzLmlzU3luY2hyb25pemVkKCl8fCh0aGlzLl9jYWNoZS5wYXJlbnQ9dGhpcy5wYXJlbnQsdGhpcy5fdXBkYXRlQ2FjaGUoKSl9X2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsdD0hMCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV91cGRhdGVDYWNoZShlKXt9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuITB9X21hcmtTeW5jZWRXaXRoUGFyZW50KCl7dGhpcy5fcGFyZW50Tm9kZSYmKHRoaXMuX3BhcmVudFVwZGF0ZUlkPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQpfWlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuX2lzRGlydHl8fHRoaXMuX3BhcmVudFVwZGF0ZUlkIT09dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZD8hMTp0aGlzLl9wYXJlbnROb2RlLmlzU3luY2hyb25pemVkKCk6ITB9aXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5fY2FjaGUucGFyZW50IT09dGhpcy5fcGFyZW50Tm9kZT8odGhpcy5fY2FjaGUucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsITEpOnRoaXMuX3BhcmVudE5vZGUmJiF0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpPyExOnRoaXMuX2lzU3luY2hyb25pemVkKCl9aXNSZWFkeShlPSExKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5fW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9aXNFbmFibGVkKGU9ITApe3JldHVybiBlPT09ITE/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ6dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ6ITF9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZT0+e2UuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX0pfXNldEVuYWJsZWQoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9aXNEZXNjZW5kYW50T2YoZSl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50PT09ZT8hMDp0aGlzLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihlKTohMX1fZ2V0RGVzY2VuZGFudHMoZSx0PSExLGkpe2lmKHRoaXMuX2NoaWxkcmVuKWZvcihsZXQgcz0wO3M8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLl9jaGlsZHJlbltzXTsoIWl8fGkocikpJiZlLnB1c2gociksdHx8ci5fZ2V0RGVzY2VuZGFudHMoZSwhMSxpKX19Z2V0RGVzY2VuZGFudHMoZSx0KXtjb25zdCBpPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMoaSxlLHQpLGl9Z2V0Q2hpbGRNZXNoZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcy5jdWxsaW5nU3RyYXRlZ3khPT12b2lkIDApLGl9Z2V0Q2hpbGRyZW4oZSx0PSEwKXtyZXR1cm4gdGhpcy5nZXREZXNjZW5kYW50cyh0LGUpfV9zZXRSZWFkeShlKXtpZihlIT09dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5KXtpZighZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5PSExO3JldHVybn10aGlzLm9uUmVhZHkmJnRoaXMub25SZWFkeSh0aGlzKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITB9fWdldEFuaW1hdGlvbkJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuYW5pbWF0aW9uc1t0XTtpZihpLm5hbWU9PT1lKXJldHVybiBpfXJldHVybiBudWxsfWNyZWF0ZUFuaW1hdGlvblJhbmdlKGUsdCxpKXtpZighdGhpcy5fcmFuZ2VzW2VdKXt0aGlzLl9yYW5nZXNbZV09emUuX0FuaW1hdGlvblJhbmdlRmFjdG9yeShlLHQsaSk7Zm9yKGxldCBzPTAscj10aGlzLmFuaW1hdGlvbnMubGVuZ3RoO3M8cjtzKyspdGhpcy5hbmltYXRpb25zW3NdJiZ0aGlzLmFuaW1hdGlvbnNbc10uY3JlYXRlUmFuZ2UoZSx0LGkpfX1kZWxldGVBbmltYXRpb25SYW5nZShlLHQ9ITApe2ZvcihsZXQgaT0wLHM9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpPHM7aSsrKXRoaXMuYW5pbWF0aW9uc1tpXSYmdGhpcy5hbmltYXRpb25zW2ldLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9Z2V0QW5pbWF0aW9uUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3Jhbmdlc1tlXXx8bnVsbH1nZXRBbmltYXRpb25SYW5nZXMoKXtjb25zdCBlPVtdO2xldCB0O2Zvcih0IGluIHRoaXMuX3JhbmdlcyllLnB1c2godGhpcy5fcmFuZ2VzW3RdKTtyZXR1cm4gZX1iZWdpbkFuaW1hdGlvbihlLHQsaSxzKXtjb25zdCByPXRoaXMuZ2V0QW5pbWF0aW9uUmFuZ2UoZSk7cmV0dXJuIHI/dGhpcy5fc2NlbmUuYmVnaW5BbmltYXRpb24odGhpcyxyLmZyb20sci50byx0LGkscyk6bnVsbH1zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX3Jhbmdlcyl7Y29uc3QgaT10aGlzLl9yYW5nZXNbdF07aWYoIWkpY29udGludWU7Y29uc3Qgcz17fTtzLm5hbWU9dCxzLmZyb209aS5mcm9tLHMudG89aS50byxlLnB1c2gocyl9cmV0dXJuIGV9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PXguSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXh9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZD0hMCwhZSl7Y29uc3QgaT10aGlzLmdldERlc2NlbmRhbnRzKCEwKTtmb3IoY29uc3QgcyBvZiBpKXMuZGlzcG9zZShlLHQpfXRoaXMucGFyZW50P3RoaXMucGFyZW50PW51bGw6dGhpcy5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5jbGVhcigpO2Zvcihjb25zdCBpIG9mIHRoaXMuX2JlaGF2aW9ycylpLmRldGFjaCgpO3RoaXMuX2JlaGF2aW9ycy5sZW5ndGg9MCx0aGlzLm1ldGFkYXRhPW51bGx9c3RhdGljIFBhcnNlQW5pbWF0aW9uUmFuZ2VzKGUsdCxpKXtpZih0LnJhbmdlcylmb3IobGV0IHM9MDtzPHQucmFuZ2VzLmxlbmd0aDtzKyspe2NvbnN0IHI9dC5yYW5nZXNbc107ZS5jcmVhdGVBbmltYXRpb25SYW5nZShyLm5hbWUsci5mcm9tLHIudG8pfX1nZXRIaWVyYXJjaHlCb3VuZGluZ1ZlY3RvcnMoZT0hMCx0PW51bGwpe3RoaXMuZ2V0U2NlbmUoKS5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtsZXQgaSxzO2NvbnN0IHI9dGhpcztpZihyLmdldEJvdW5kaW5nSW5mbyYmci5zdWJNZXNoZXMpe2NvbnN0IG49ci5nZXRCb3VuZGluZ0luZm8oKTtpPW4uYm91bmRpbmdCb3gubWluaW11bVdvcmxkLmNsb25lKCkscz1uLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZC5jbG9uZSgpfWVsc2UgaT1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkscz1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7aWYoZSl7Y29uc3Qgbj10aGlzLmdldERlc2NlbmRhbnRzKCExKTtmb3IoY29uc3QgYSBvZiBuKXtjb25zdCBvPWE7aWYoby5jb21wdXRlV29ybGRNYXRyaXgoITApLHQmJiF0KG8pfHwhby5nZXRCb3VuZGluZ0luZm98fG8uZ2V0VG90YWxWZXJ0aWNlcygpPT09MCljb250aW51ZTtjb25zdCBsPW8uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3gsdT1sLm1pbmltdW1Xb3JsZCxkPWwubWF4aW11bVdvcmxkO3AuQ2hlY2tFeHRlbmRzKHUsaSxzKSxwLkNoZWNrRXh0ZW5kcyhkLGkscyl9fXJldHVybnttaW46aSxtYXg6c319fXplLl9BbmltYXRpb25SYW5nZUZhY3Rvcnk9KGMsZSx0KT0+e3Rocm93ICQoIkFuaW1hdGlvblJhbmdlIil9LHplLl9Ob2RlQ29uc3RydWN0b3JzPXt9LFQoW1IoKV0semUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1IoKV0semUucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtSKCldLHplLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSx6ZS5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW1IoKV0semUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKTtjbGFzcyBCaXtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9c310b0dsb2JhbChlLHQpe3JldHVybiBuZXcgQmkodGhpcy54KmUsdGhpcy55KnQsdGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfXRvR2xvYmFsVG9SZWYoZSx0LGkpe3JldHVybiBpLng9dGhpcy54KmUsaS55PXRoaXMueSp0LGkud2lkdGg9dGhpcy53aWR0aCplLGkuaGVpZ2h0PXRoaXMuaGVpZ2h0KnQsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgQmkodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX19Y2xhc3MgaiBleHRlbmRzIHple2NvbnN0cnVjdG9yKGUsdCxpLHM9ITApe3N1cGVyKGUsaSksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fdXBWZWN0b3I9cC5VcCgpLHRoaXMuX29ydGhvTGVmdD1udWxsLHRoaXMuX29ydGhvUmlnaHQ9bnVsbCx0aGlzLl9vcnRob0JvdHRvbT1udWxsLHRoaXMuX29ydGhvVG9wPW51bGwsdGhpcy5mb3Y9LjgsdGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAsdGhpcy5taW5aPTEsdGhpcy5tYXhaPTFlNCx0aGlzLmluZXJ0aWE9LjksdGhpcy5fbW9kZT1qLlBFUlNQRUNUSVZFX0NBTUVSQSx0aGlzLmlzSW50ZXJtZWRpYXRlPSExLHRoaXMudmlld3BvcnQ9bmV3IEJpKDAsMCwxLDEpLHRoaXMubGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLmZvdk1vZGU9ai5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELHRoaXMuY2FtZXJhUmlnTW9kZT1qLlJJR19NT0RFX05PTkUsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSx0aGlzLm91dHB1dFJlbmRlclRhcmdldD1udWxsLHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGU9bmV3IEYsdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5pc1JpZ0NhbWVyYT0hMSx0aGlzLl9yaWdDYW1lcmFzPW5ldyBBcnJheSx0aGlzLl93ZWJ2clZpZXdNYXRyaXg9eC5JZGVudGl0eSgpLHRoaXMuX3NraXBSZW5kZXJpbmc9ITEsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1uZXcgeCx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVNZXNoZXM9bmV3ICRlKDI1NiksdGhpcy5fZ2xvYmFsUG9zaXRpb249cC5aZXJvKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExLHRoaXMuX3RyYW5zZm9ybU1hdHJpeD14Llplcm8oKSx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uPVouSWRlbnRpdHkoKSx0aGlzLl9pc0NhbWVyYT0hMCx0aGlzLl9pc0xlZnRDYW1lcmE9ITEsdGhpcy5faXNSaWdodENhbWVyYT0hMSx0aGlzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHRoaXMpLHMmJiF0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYodGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT10aGlzKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZChgQ2FtZXJhICR7ZX1gKX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9c2V0IHVwVmVjdG9yKGUpe3RoaXMuX3VwVmVjdG9yPWV9Z2V0IHVwVmVjdG9yKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfWdldCBzY3JlZW5BcmVhKCl7dmFyIGUsdCxpLHM7bGV0IHI9MCxuPTA7aWYodGhpcy5tb2RlPT09ai5QRVJTUEVDVElWRV9DQU1FUkEpdGhpcy5mb3ZNb2RlPT09ai5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPyhuPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLHI9dGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSpuKToocj10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxuPXIvdGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSk7ZWxzZXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKS8yLG89dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKS8yO3I9KChlPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZlIT09dm9pZCAwP2U6YSktKCh0PXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnQhPT12b2lkIDA/dDotYSksbj0oKGk9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZpIT09dm9pZCAwP2k6byktKChzPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmcyE9PXZvaWQgMD9zOi1vKX1yZXR1cm4gcipufXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvTGVmdD1lfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob1JpZ2h0KGUpe3RoaXMuX29ydGhvUmlnaHQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9SaWdodD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvQm90dG9tPWV9Z2V0IG9ydGhvQm90dG9tKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1RvcD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgbW9kZShlKXt0aGlzLl9tb2RlPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm1vZGU9ZX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9tb2RlfXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ9ITAsdGhpcy5fc3RvcmVkRm92PXRoaXMuZm92LHRoaXN9X3Jlc3RvcmVTdGF0ZVZhbHVlcygpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX1yZXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fcmVzdG9yZVN0YXRlVmFsdWVzKCk/KHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSwhMCk6ITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNhbWVyYSJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHQrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO3JldHVybiB0fWFwcGx5VmVydGljYWxDb3JyZWN0aW9uKCl7Y29uc3QgZT10aGlzLmFic29sdXRlUm90YXRpb24udG9FdWxlckFuZ2xlcygpO3RoaXMucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tZS54OmUueH1nZXQgZ2xvYmFsUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsUG9zaXRpb259Z2V0QWN0aXZlTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc31pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9aXNSZWFkeShlPSExKXtpZihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKWlmKHQmJiF0LmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4gc3VwZXIuaXNSZWFkeShlKX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS51cFZlY3Rvcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUubW9kZT12b2lkIDAsdGhpcy5fY2FjaGUubWluWj12b2lkIDAsdGhpcy5fY2FjaGUubWF4Wj12b2lkIDAsdGhpcy5fY2FjaGUuZm92PXZvaWQgMCx0aGlzLl9jYWNoZS5mb3ZNb2RlPXZvaWQgMCx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Ub3A9dm9pZCAwLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9dm9pZCAwfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl9jYWNoZS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKX1faXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfV9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKXtyZXR1cm4gc3VwZXIuX2lzU3luY2hyb25pemVkKCk/dGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pJiZ0aGlzLl9jYWNoZS51cFZlY3Rvci5lcXVhbHModGhpcy51cFZlY3RvcikmJnRoaXMuaXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCk6ITF9X2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpe2xldCBlPXRoaXMuX2NhY2hlLm1vZGU9PT10aGlzLm1vZGUmJnRoaXMuX2NhY2hlLm1pblo9PT10aGlzLm1pblomJnRoaXMuX2NhY2hlLm1heFo9PT10aGlzLm1heFo7aWYoIWUpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT1qLlBFUlNQRUNUSVZFX0NBTUVSQT9lPXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXQuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6ZT10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09dC5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT10LmdldFJlbmRlckhlaWdodCgpLGV9YXR0YWNoQ29udHJvbChlLHQpe31kZXRhY2hDb250cm9sKGUpe311cGRhdGUoKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWouUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpfV9jaGVja0lucHV0cygpe3RoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0IHJpZ0NhbWVyYXMoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc31nZXQgcmlnUG9zdFByb2Nlc3MoKXtyZXR1cm4gdGhpcy5fcmlnUG9zdFByb2Nlc3N9X2dldEZpcnN0UG9zdFByb2Nlc3MoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO2UrKylpZih0aGlzLl9wb3N0UHJvY2Vzc2VzW2VdIT09bnVsbClyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc1tlXTtyZXR1cm4gbnVsbH1fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKXtjb25zdCBlPXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtlJiZlLm1hcmtUZXh0dXJlRGlydHkoKTtmb3IobGV0IHQ9MCxpPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhc1t0XSxyPXMuX3JpZ1Bvc3RQcm9jZXNzO3I/KHIuZ2V0RWZmZWN0TmFtZSgpPT09InBhc3MiJiYocy5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLHMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQociksci5tYXJrVGV4dHVyZURpcnR5KCkpOnMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKX19YXR0YWNoUG9zdFByb2Nlc3MoZSx0PW51bGwpe3JldHVybiFlLmlzUmV1c2FibGUoKSYmdGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpPi0xPyhPLkVycm9yKCJZb3UncmUgdHJ5aW5nIHRvIHJldXNlIGEgcG9zdCBwcm9jZXNzIG5vdCBkZWZpbmVkIGFzIHJldXNhYmxlLiIpLDApOih0PT1udWxsfHx0PDA/dGhpcy5fcG9zdFByb2Nlc3Nlcy5wdXNoKGUpOnRoaXMuX3Bvc3RQcm9jZXNzZXNbdF09PT1udWxsP3RoaXMuX3Bvc3RQcm9jZXNzZXNbdF09ZTp0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDAsZSksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKSl9ZGV0YWNoUG9zdFByb2Nlc3MoZSl7Y29uc3QgdD10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk7dCE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fd29ybGRNYXRyaXg6KHRoaXMuZ2V0Vmlld01hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KX1fZ2V0Vmlld01hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9Z2V0Vmlld01hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9ZnJlZXplUHJvamVjdGlvbk1hdHJpeChlKXt0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSEwLGUhPT12b2lkIDAmJih0aGlzLl9wcm9qZWN0aW9uTWF0cml4PWUpfXVuZnJlZXplUHJvamVjdGlvbk1hdHJpeCgpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITF9Z2V0UHJvamVjdGlvbk1hdHJpeChlKXt2YXIgdCxpLHMscixuLGEsbyxoO2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCFlJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDtjb25zdCBsPXRoaXMuZ2V0RW5naW5lKCksdT10aGlzLmdldFNjZW5lKCksZD1sLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtpZih0aGlzLm1vZGU9PT1qLlBFUlNQRUNUSVZFX0NBTUVSQSl7dGhpcy5fY2FjaGUuZm92PXRoaXMuZm92LHRoaXMuX2NhY2hlLmZvdk1vZGU9dGhpcy5mb3ZNb2RlLHRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPWwuZ2V0QXNwZWN0UmF0aW8odGhpcyksdGhpcy5fY2FjaGUucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsdGhpcy5taW5aPD0wJiYodGhpcy5taW5aPS4xKTtsZXQgZjt1LnVzZVJpZ2h0SGFuZGVkU3lzdGVtP2Y9eC5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY6Zj14LlBlcnNwZWN0aXZlRm92TEhUb1JlZixmKHRoaXMuZm92LGwuZ2V0QXNwZWN0UmF0aW8odGhpcyksZD90aGlzLm1heFo6dGhpcy5taW5aLGQ/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuZm92TW9kZT09PWouRk9WTU9ERV9WRVJUSUNBTF9GSVhFRCxsLmlzTkRDSGFsZlpSYW5nZSx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsZCl9ZWxzZXtjb25zdCBmPWwuZ2V0UmVuZGVyV2lkdGgoKS8yLF89bC5nZXRSZW5kZXJIZWlnaHQoKS8yO3UudXNlUmlnaHRIYW5kZWRTeXN0ZW0/eC5PcnRob09mZkNlbnRlclJIVG9SZWYoKHQ9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmdCE9PXZvaWQgMD90Oi1mLChpPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZpIT09dm9pZCAwP2k6Ziwocz10aGlzLm9ydGhvQm90dG9tKSE9PW51bGwmJnMhPT12b2lkIDA/czotXywocj10aGlzLm9ydGhvVG9wKSE9PW51bGwmJnIhPT12b2lkIDA/cjpfLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCxsLmlzTkRDSGFsZlpSYW5nZSk6eC5PcnRob09mZkNlbnRlckxIVG9SZWYoKG49dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOi1mLChhPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZhIT09dm9pZCAwP2E6Ziwobz10aGlzLm9ydGhvQm90dG9tKSE9PW51bGwmJm8hPT12b2lkIDA/bzotXywoaD10aGlzLm9ydGhvVG9wKSE9PW51bGwmJmghPT12b2lkIDA/aDpfLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCxsLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXRoaXMub3J0aG9MZWZ0LHRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9dGhpcy5vcnRob1JpZ2h0LHRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPXRoaXMub3J0aG9Cb3R0b20sdGhpcy5fY2FjaGUub3J0aG9Ub3A9dGhpcy5vcnRob1RvcCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD1sLmdldFJlbmRlcldpZHRoKCksdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PWwuZ2V0UmVuZGVySGVpZ2h0KCl9cmV0dXJuIHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9Z2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKXtyZXR1cm4gdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1fdXBkYXRlRnJ1c3R1bVBsYW5lcygpe3RoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzJiYodGhpcy5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/RXQuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9RXQuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITEpfWlzSW5GcnVzdHVtKGUsdD0hMSl7aWYodGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHQmJnRoaXMucmlnQ2FtZXJhcy5sZW5ndGg+MCl7bGV0IGk9ITE7cmV0dXJuIHRoaXMucmlnQ2FtZXJhcy5mb3JFYWNoKHM9PntzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksaT1pfHxlLmlzSW5GcnVzdHVtKHMuX2ZydXN0dW1QbGFuZXMpfSksaX1lbHNlIHJldHVybiBlLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfWdldEZvcndhcmRSYXkoZT0xMDAsdCxpKXt0aHJvdyAkKCJSYXkiKX1nZXRGb3J3YXJkUmF5VG9SZWYoZSx0PTEwMCxpLHMpe3Rocm93ICQoIlJheSIpfWRpc3Bvc2UoZSx0PSExKXtmb3IodGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5jbGVhcigpLHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVDYW1lcmEodGhpcyk7dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg+MDspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtzJiZzLmRpc3Bvc2UoKX1pZih0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHM9dGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuY2FtZXJhcy5zcGxpY2UocywxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0aGlzLl9yaWdQb3N0UHJvY2Vzcyl0aGlzLl9yaWdQb3N0UHJvY2Vzcy5kaXNwb3NlKHRoaXMpLHRoaXMuX3JpZ1Bvc3RQcm9jZXNzPW51bGwsdGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9MDtlbHNlIGlmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PWouUklHX01PREVfTk9ORSl0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPTA7ZWxzZXtsZXQgcz10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtmb3IoOy0tcz49MDspe2NvbnN0IHI9dGhpcy5fcG9zdFByb2Nlc3Nlc1tzXTtyJiZyLmRpc3Bvc2UodGhpcyl9fWxldCBpPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7Zm9yKDstLWk+PTA7KXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1tpXS5kaXNwb3NlKCk7dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD0wLHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5yZW5kZXJQYXNzSWQpLHN1cGVyLmRpc3Bvc2UoZSx0KX1nZXQgaXNMZWZ0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2lzTGVmdENhbWVyYX1nZXQgaXNSaWdodENhbWVyYSgpe3JldHVybiB0aGlzLl9pc1JpZ2h0Q2FtZXJhfWdldCBsZWZ0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdfWdldCByaWdodENhbWVyYSgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXX1nZXRMZWZ0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdLmdldFRhcmdldCgpfWdldFJpZ2h0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdLmdldFRhcmdldCgpfXNldENhbWVyYVJpZ01vZGUoZSx0KXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1lKXtmb3IoO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXtjb25zdCBpPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7aSYmaS5kaXNwb3NlKCl9aWYodGhpcy5jYW1lcmFSaWdNb2RlPWUsdGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2U9dC5pbnRlcmF4aWFsRGlzdGFuY2V8fC4wNjM3LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGU9SC5Ub1JhZGlhbnModGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZS8uMDYzNyksdGhpcy5jYW1lcmFSaWdNb2RlIT09ai5SSUdfTU9ERV9OT05FKXtjb25zdCBpPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX0wiLDApO2kmJihpLl9pc0xlZnRDYW1lcmE9ITApO2NvbnN0IHM9dGhpcy5jcmVhdGVSaWdDYW1lcmEodGhpcy5uYW1lKyJfUiIsMSk7cyYmKHMuX2lzUmlnaHRDYW1lcmE9ITApLGkmJnMmJih0aGlzLl9yaWdDYW1lcmFzLnB1c2goaSksdGhpcy5fcmlnQ2FtZXJhcy5wdXNoKHMpKX10aGlzLl9zZXRSaWdNb2RlKHQpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy51cGRhdGUoKX19X3NldFJpZ01vZGUoZSl7fV9nZXRWUlByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4geC5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpb0Zvdix0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJNZXRyaWNzLmFzcGVjdFJhdGlvLHRoaXMubWluWix0aGlzLm1heFosdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeCwhMCx0aGlzLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ckhNYXRyaXgsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt9X3VwZGF0ZVdlYlZSQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt9X2dldFdlYlZSUHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9X2dldFdlYlZSVmlld01hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9c2V0Q2FtZXJhUmlnUGFyYW1ldGVyKGUsdCl7dGhpcy5fY2FtZXJhUmlnUGFyYW1zfHwodGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9KSx0aGlzLl9jYW1lcmFSaWdQYXJhbXNbZV09dCxlPT09ImludGVyYXhpYWxEaXN0YW5jZSImJih0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPUguVG9SYWRpYW5zKHQvLjA2MzcpKX1jcmVhdGVSaWdDYW1lcmEoZSx0KXtyZXR1cm4gbnVsbH1fdXBkYXRlUmlnQ2FtZXJhcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg7ZSsrKXRoaXMuX3JpZ0NhbWVyYXNbZV0ubWluWj10aGlzLm1pblosdGhpcy5fcmlnQ2FtZXJhc1tlXS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yaWdDYW1lcmFzW2VdLmZvdj10aGlzLmZvdix0aGlzLl9yaWdDYW1lcmFzW2VdLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpO3RoaXMuY2FtZXJhUmlnTW9kZT09PWouUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIJiYodGhpcy5fcmlnQ2FtZXJhc1swXS52aWV3cG9ydD10aGlzLl9yaWdDYW1lcmFzWzFdLnZpZXdwb3J0PXRoaXMudmlld3BvcnQpfV9zZXR1cElucHV0cygpe31zZXJpYWxpemUoKXtjb25zdCBlPWFlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLnNlcmlhbGl6ZShlKSxhZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLGUpLGUucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksZS5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSxlfWNsb25lKGUsdD1udWxsKXtjb25zdCBpPWFlLkNsb25lKGouR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldENsYXNzTmFtZSgpLGUsdGhpcy5nZXRTY2VuZSgpLHRoaXMuaW50ZXJheGlhbERpc3RhbmNlLHRoaXMuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSx0aGlzKTtyZXR1cm4gaS5uYW1lPWUsaS5wYXJlbnQ9dCx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaSksaX1nZXREaXJlY3Rpb24oZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXREaXJlY3Rpb25Ub1JlZihlLHQpLHR9Z2V0IGFic29sdXRlUm90YXRpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpLmRlY29tcG9zZSh2b2lkIDAsdGhpcy5fYWJzb2x1dGVSb3RhdGlvbiksdGhpcy5fYWJzb2x1dGVSb3RhdGlvbn1nZXREaXJlY3Rpb25Ub1JlZihlLHQpe3AuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCl9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkscz0wLHI9ITApe2NvbnN0IG49emUuQ29uc3RydWN0KGUsdCxpLHtpbnRlcmF4aWFsX2Rpc3RhbmNlOnMsaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlOnJ9KTtyZXR1cm4gbnx8KCgpPT5qLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhKHQsaSkpfWNvbXB1dGVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLmdldFdvcmxkTWF0cml4KCl9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1lLnR5cGUscz1qLkdldENvbnN0cnVjdG9yRnJvbU5hbWUoaSxlLm5hbWUsdCxlLmludGVyYXhpYWxfZGlzdGFuY2UsZS5pc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUpLHI9YWUuUGFyc2UocyxlLHQpO2lmKGUucGFyZW50SWQhPT12b2lkIDAmJihyLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYoci5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxyLmlucHV0cyYmKHIuaW5wdXRzLnBhcnNlKGUpLHIuX3NldHVwSW5wdXRzKCkpLGUudXBWZWN0b3ImJihyLnVwVmVjdG9yPXAuRnJvbUFycmF5KGUudXBWZWN0b3IpKSxyLnNldFBvc2l0aW9uJiYoci5wb3NpdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksci5zZXRQb3NpdGlvbihwLkZyb21BcnJheShlLnBvc2l0aW9uKSkpLGUudGFyZ2V0JiZyLnNldFRhcmdldCYmci5zZXRUYXJnZXQocC5Gcm9tQXJyYXkoZS50YXJnZXQpKSxlLmNhbWVyYVJpZ01vZGUpe2NvbnN0IG49ZS5pbnRlcmF4aWFsX2Rpc3RhbmNlP3tpbnRlcmF4aWFsRGlzdGFuY2U6ZS5pbnRlcmF4aWFsX2Rpc3RhbmNlfTp7fTtyLnNldENhbWVyYVJpZ01vZGUoZS5jYW1lcmFSaWdNb2RlLG4pfWlmKGUuYW5pbWF0aW9ucyl7Zm9yKGxldCBuPTA7bjxlLmFuaW1hdGlvbnMubGVuZ3RoO24rKyl7Y29uc3QgYT1lLmFuaW1hdGlvbnNbbl0sbz1yaSgiQkFCWUxPTi5BbmltYXRpb24iKTtvJiZyLmFuaW1hdGlvbnMucHVzaChvLlBhcnNlKGEpKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhyLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocixlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmci5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxyfX1qLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhPShjLGUpPT57dGhyb3cgJCgiVW5pdmVyc2FsQ2FtZXJhIil9LGouUEVSU1BFQ1RJVkVfQ0FNRVJBPTAsai5PUlRIT0dSQVBISUNfQ0FNRVJBPTEsai5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPTAsai5GT1ZNT0RFX0hPUklaT05UQUxfRklYRUQ9MSxqLlJJR19NT0RFX05PTkU9MCxqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSD0xMCxqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMPTExLGouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPTEyLGouUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUj0xMyxqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEPTE0LGouUklHX01PREVfVlI9MjAsai5SSUdfTU9ERV9XRUJWUj0yMSxqLlJJR19NT0RFX0NVU1RPTT0yMixqLkZvcmNlQXR0YWNoQ29udHJvbFRvQWx3YXlzUHJldmVudERlZmF1bHQ9ITEsVChbQnQoInBvc2l0aW9uIildLGoucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbQnQoInVwVmVjdG9yIildLGoucHJvdG90eXBlLCJfdXBWZWN0b3IiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwib3J0aG9MZWZ0IixudWxsKSxUKFtSKCldLGoucHJvdG90eXBlLCJvcnRob1JpZ2h0IixudWxsKSxUKFtSKCldLGoucHJvdG90eXBlLCJvcnRob0JvdHRvbSIsbnVsbCksVChbUigpXSxqLnByb3RvdHlwZSwib3J0aG9Ub3AiLG51bGwpLFQoW1IoKV0sai5wcm90b3R5cGUsImZvdiIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJwcm9qZWN0aW9uUGxhbmVUaWx0Iix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsIm1pbloiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwibWF4WiIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJpbmVydGlhIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsIm1vZGUiLG51bGwpLFQoW1IoKV0sai5wcm90b3R5cGUsImxheWVyTWFzayIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJmb3ZNb2RlIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsImNhbWVyYVJpZ01vZGUiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwiaW50ZXJheGlhbERpc3RhbmNlIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsImlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSIsdm9pZCAwKTtjbGFzcyBlZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2FwcGx5VG89TG4odGhpcy5fYXBwbHlUb0Nvcm91dGluZS5iaW5kKHRoaXMpKX1zZXQoZSx0KXtzd2l0Y2goZS5sZW5ndGh8fE8uV2FybihgU2V0dGluZyB2ZXJ0ZXggZGF0YSBraW5kICcke3R9JyB3aXRoIGFuIGVtcHR5IGFycmF5YCksdCl7Y2FzZSBnLlBvc2l0aW9uS2luZDp0aGlzLnBvc2l0aW9ucz1lO2JyZWFrO2Nhc2UgZy5Ob3JtYWxLaW5kOnRoaXMubm9ybWFscz1lO2JyZWFrO2Nhc2UgZy5UYW5nZW50S2luZDp0aGlzLnRhbmdlbnRzPWU7YnJlYWs7Y2FzZSBnLlVWS2luZDp0aGlzLnV2cz1lO2JyZWFrO2Nhc2UgZy5VVjJLaW5kOnRoaXMudXZzMj1lO2JyZWFrO2Nhc2UgZy5VVjNLaW5kOnRoaXMudXZzMz1lO2JyZWFrO2Nhc2UgZy5VVjRLaW5kOnRoaXMudXZzND1lO2JyZWFrO2Nhc2UgZy5VVjVLaW5kOnRoaXMudXZzNT1lO2JyZWFrO2Nhc2UgZy5VVjZLaW5kOnRoaXMudXZzNj1lO2JyZWFrO2Nhc2UgZy5Db2xvcktpbmQ6dGhpcy5jb2xvcnM9ZTticmVhaztjYXNlIGcuTWF0cmljZXNJbmRpY2VzS2luZDp0aGlzLm1hdHJpY2VzSW5kaWNlcz1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc1dlaWdodHNLaW5kOnRoaXMubWF0cmljZXNXZWlnaHRzPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZDp0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWU7YnJlYWt9fWFwcGx5VG9NZXNoKGUsdCl7cmV0dXJuIHRoaXMuX2FwcGx5VG8oZSx0LCExKSx0aGlzfWFwcGx5VG9HZW9tZXRyeShlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc311cGRhdGVNZXNoKGUpe3JldHVybiB0aGlzLl91cGRhdGUoZSksdGhpc311cGRhdGVHZW9tZXRyeShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9Kl9hcHBseVRvQ29yb3V0aW5lKGUsdD0hMSxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJihlLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyx0KSxpJiYoeWllbGQpKSx0aGlzLm5vcm1hbHMmJihlLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQpLGkmJih5aWVsZCkpLHRoaXMudGFuZ2VudHMmJihlLnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCksaSYmKHlpZWxkKSksdGhpcy51dnMmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCx0aGlzLnV2cyx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czImJihlLnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsdGhpcy51dnMyLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzMyYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCx0aGlzLnV2czMsdCksaSYmKHlpZWxkKSksdGhpcy51dnM0JiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHRoaXMudXZzNCx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czUmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsdGhpcy51dnM1LHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNiYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCx0aGlzLnV2czYsdCksaSYmKHlpZWxkKSksdGhpcy5jb2xvcnMmJihlLnNldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSx0KSxpJiYoeWllbGQpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSx0KSxpJiYoeWllbGQpKSx0aGlzLmluZGljZXM/KGUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCx0KSxpJiYoeWllbGQpKTplLnNldEluZGljZXMoW10sbnVsbCksdGhpc31fdXBkYXRlKGUsdCxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQsaSksdGhpcy5ub3JtYWxzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQsaSksdGhpcy50YW5nZW50cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQsaSksdGhpcy51dnMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVZLaW5kLHRoaXMudXZzLHQsaSksdGhpcy51dnMyJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWMktpbmQsdGhpcy51dnMyLHQsaSksdGhpcy51dnMzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdGhpcy51dnMzLHQsaSksdGhpcy51dnM0JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWNEtpbmQsdGhpcy51dnM0LHQsaSksdGhpcy51dnM1JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWNUtpbmQsdGhpcy51dnM1LHQsaSksdGhpcy51dnM2JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWNktpbmQsdGhpcy51dnM2LHQsaSksdGhpcy5jb2xvcnMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQsaSksdGhpcy5tYXRyaWNlc0luZGljZXMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyx0LGkpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCxpKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQsaSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSx0LGkpLHRoaXMuaW5kaWNlcyYmZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsKSx0aGlzfXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzKGUsdCxpPTAscz1lLmxlbmd0aCl7Y29uc3Qgcj1ELlZlY3RvcjNbMF0sbj1ELlZlY3RvcjNbMV07Zm9yKGxldCBhPWk7YTxpK3M7YSs9MylwLkZyb21BcnJheVRvUmVmKGUsYSxyKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYocix0LG4pLGVbYV09bi54LGVbYSsxXT1uLnksZVthKzJdPW4uen1zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKGUsdCxpPTAscz1lLmxlbmd0aCl7Y29uc3Qgcj1ELlZlY3RvcjNbMF0sbj1ELlZlY3RvcjNbMV07Zm9yKGxldCBhPWk7YTxpK3M7YSs9MylwLkZyb21BcnJheVRvUmVmKGUsYSxyKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnp9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9RC5WZWN0b3I0WzBdLG49RC5WZWN0b3I0WzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTQpQ2UuRnJvbUFycmF5VG9SZWYoZSxhLHIpLENlLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnosZVthKzNdPW4ud31zdGF0aWMgX0ZsaXBGYWNlcyhlLHQ9MCxpPWUubGVuZ3RoKXtmb3IobGV0IHM9dDtzPHQraTtzKz0zKXtjb25zdCByPWVbcysxXTtlW3MrMV09ZVtzKzJdLGVbcysyXT1yfX10cmFuc2Zvcm0oZSl7Y29uc3QgdD1lLmRldGVybWluYW50KCk8MDtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmVlLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXModGhpcy5wb3NpdGlvbnMsZSksdGhpcy5ub3JtYWxzJiZlZS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHModGhpcy5ub3JtYWxzLGUpLHRoaXMudGFuZ2VudHMmJmVlLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyh0aGlzLnRhbmdlbnRzLGUpLHQmJnRoaXMuaW5kaWNlcyYmZWUuX0ZsaXBGYWNlcyh0aGlzLmluZGljZXMpLHRoaXN9bWVyZ2UoZSx0PSExLGk9ITEpe2NvbnN0IHM9QXJyYXkuaXNBcnJheShlKT9lLm1hcChyPT5bcix2b2lkIDBdKTpbW2Usdm9pZCAwXV07cmV0dXJuIFBzKHRoaXMuX21lcmdlQ29yb3V0aW5lKHZvaWQgMCxzLHQsITEsaSkpfSpfbWVyZ2VDb3JvdXRpbmUoZSx0LGk9ITEscyxyKXt2YXIgbixhLG8saDt0aGlzLl92YWxpZGF0ZSgpO2NvbnN0IGw9dC5tYXAoXz0+X1swXSk7Zm9yKGNvbnN0IF8gb2YgbClpZihfLl92YWxpZGF0ZSgpLCF0aGlzLm5vcm1hbHMhPSFfLm5vcm1hbHN8fCF0aGlzLnRhbmdlbnRzIT0hXy50YW5nZW50c3x8IXRoaXMudXZzIT0hXy51dnN8fCF0aGlzLnV2czIhPSFfLnV2czJ8fCF0aGlzLnV2czMhPSFfLnV2czN8fCF0aGlzLnV2czQhPSFfLnV2czR8fCF0aGlzLnV2czUhPSFfLnV2czV8fCF0aGlzLnV2czYhPSFfLnV2czZ8fCF0aGlzLmNvbG9ycyE9IV8uY29sb3JzfHwhdGhpcy5tYXRyaWNlc0luZGljZXMhPSFfLm1hdHJpY2VzSW5kaWNlc3x8IXRoaXMubWF0cmljZXNXZWlnaHRzIT0hXy5tYXRyaWNlc1dlaWdodHN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhIT0hXy5tYXRyaWNlc0luZGljZXNFeHRyYXx8IXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEhPSFfLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG1lcmdlIHZlcnRleCBkYXRhIHRoYXQgZG8gbm90IGhhdmUgdGhlIHNhbWUgc2V0IG9mIGF0dHJpYnV0ZXMiKTtjb25zdCB1PWwucmVkdWNlKChfLEUpPT57dmFyIG0sdjtyZXR1cm4gXysoKHY9KG09RS5pbmRpY2VzKT09PW51bGx8fG09PT12b2lkIDA/dm9pZCAwOm0ubGVuZ3RoKSE9PW51bGwmJnYhPT12b2lkIDA/djowKX0sKGE9KG49dGhpcy5pbmRpY2VzKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ubGVuZ3RoKSE9PW51bGwmJmEhPT12b2lkIDA/YTowKTtsZXQgZj1yfHxsLnNvbWUoXz0+Xy5pbmRpY2VzPT09dGhpcy5pbmRpY2VzKT8obz10aGlzLmluZGljZXMpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5zbGljZSgpOnRoaXMuaW5kaWNlcztpZih1PjApe2xldCBfPShoPWY9PW51bGw/dm9pZCAwOmYubGVuZ3RoKSE9PW51bGwmJmghPT12b2lkIDA/aDowO2lmKGZ8fChmPW5ldyBBcnJheSh1KSksZi5sZW5ndGghPT11KXtpZihBcnJheS5pc0FycmF5KGYpKWYubGVuZ3RoPXU7ZWxzZXtjb25zdCBtPWl8fGYgaW5zdGFuY2VvZiBVaW50MzJBcnJheT9uZXcgVWludDMyQXJyYXkodSk6bmV3IFVpbnQxNkFycmF5KHUpO20uc2V0KGYpLGY9bX1lJiZlLmRldGVybWluYW50KCk8MCYmZWUuX0ZsaXBGYWNlcyhmLDAsXyl9bGV0IEU9dGhpcy5wb3NpdGlvbnM/dGhpcy5wb3NpdGlvbnMubGVuZ3RoLzM6MDtmb3IoY29uc3RbbSx2XW9mIHQpaWYobS5pbmRpY2VzKXtmb3IobGV0IFM9MDtTPG0uaW5kaWNlcy5sZW5ndGg7UysrKWZbXytTXT1tLmluZGljZXNbU10rRTt2JiZ2LmRldGVybWluYW50KCk8MCYmZWUuX0ZsaXBGYWNlcyhmLF8sbS5pbmRpY2VzLmxlbmd0aCksRSs9bS5wb3NpdGlvbnMubGVuZ3RoLzMsXys9bS5pbmRpY2VzLmxlbmd0aCxzJiYoeWllbGQpfX1yZXR1cm4gdGhpcy5pbmRpY2VzPWYsdGhpcy5wb3NpdGlvbnM9ZWUuX01lcmdlRWxlbWVudChnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyxlLHQubWFwKF89PltfWzBdLnBvc2l0aW9ucyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5ub3JtYWxzPWVlLl9NZXJnZUVsZW1lbnQoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyxlLHQubWFwKF89PltfWzBdLm5vcm1hbHMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudGFuZ2VudHM9ZWUuX01lcmdlRWxlbWVudChnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsZSx0Lm1hcChfPT5bX1swXS50YW5nZW50cyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM9ZWUuX01lcmdlRWxlbWVudChnLlVWS2luZCx0aGlzLnV2cyxlLHQubWFwKF89PltfWzBdLnV2cyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnMyPWVlLl9NZXJnZUVsZW1lbnQoZy5VVjJLaW5kLHRoaXMudXZzMixlLHQubWFwKF89PltfWzBdLnV2czIsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzMz1lZS5fTWVyZ2VFbGVtZW50KGcuVVYzS2luZCx0aGlzLnV2czMsZSx0Lm1hcChfPT5bX1swXS51dnMzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czQ9ZWUuX01lcmdlRWxlbWVudChnLlVWNEtpbmQsdGhpcy51dnM0LGUsdC5tYXAoXz0+W19bMF0udXZzNCxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM1PWVlLl9NZXJnZUVsZW1lbnQoZy5VVjVLaW5kLHRoaXMudXZzNSxlLHQubWFwKF89PltfWzBdLnV2czUsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzNj1lZS5fTWVyZ2VFbGVtZW50KGcuVVY2S2luZCx0aGlzLnV2czYsZSx0Lm1hcChfPT5bX1swXS51dnM2LF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLmNvbG9ycz1lZS5fTWVyZ2VFbGVtZW50KGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzLGUsdC5tYXAoXz0+W19bMF0uY29sb3JzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlcz1lZS5fTWVyZ2VFbGVtZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyxlLHQubWFwKF89PltfWzBdLm1hdHJpY2VzSW5kaWNlcyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc1dlaWdodHM9ZWUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsZSx0Lm1hcChfPT5bX1swXS5tYXRyaWNlc1dlaWdodHMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9ZWUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNJbmRpY2VzRXh0cmEsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZWUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNXZWlnaHRzRXh0cmEsX1sxXV0pKSx0aGlzfXN0YXRpYyBfTWVyZ2VFbGVtZW50KGUsdCxpLHMpe2NvbnN0IHI9cy5maWx0ZXIobz0+b1swXSE9PW51bGwmJm9bMF0hPT12b2lkIDApO2lmKCF0JiZyLmxlbmd0aD09MClyZXR1cm4gdDtpZighdClyZXR1cm4gdGhpcy5fTWVyZ2VFbGVtZW50KGUsclswXVswXSxyWzBdWzFdLHIuc2xpY2UoMSkpO2NvbnN0IG49ci5yZWR1Y2UoKG8saCk9Pm8raFswXS5sZW5ndGgsdC5sZW5ndGgpLGE9ZT09PWcuUG9zaXRpb25LaW5kP2VlLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXM6ZT09PWcuTm9ybWFsS2luZD9lZS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM6ZT09PWcuVGFuZ2VudEtpbmQ/ZWUuX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzOigpPT57fTtpZih0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBvPW5ldyBGbG9hdDMyQXJyYXkobik7by5zZXQodCksaSYmYShvLGksMCx0Lmxlbmd0aCk7bGV0IGg9dC5sZW5ndGg7Zm9yKGNvbnN0W2wsdV1vZiByKW8uc2V0KGwsaCksdSYmYShvLHUsaCxsLmxlbmd0aCksaCs9bC5sZW5ndGg7cmV0dXJuIG99ZWxzZXtjb25zdCBvPW5ldyBBcnJheShuKTtmb3IobGV0IGw9MDtsPHQubGVuZ3RoO2wrKylvW2xdPXRbbF07aSYmYShvLGksMCx0Lmxlbmd0aCk7bGV0IGg9dC5sZW5ndGg7Zm9yKGNvbnN0W2wsdV1vZiByKXtmb3IobGV0IGQ9MDtkPGwubGVuZ3RoO2QrKylvW2grZF09bFtkXTt1JiZhKG8sdSxoLGwubGVuZ3RoKSxoKz1sLmxlbmd0aH1yZXR1cm4gb319X3ZhbGlkYXRlKCl7aWYoIXRoaXMucG9zaXRpb25zKXRocm93IG5ldyBOdCgiUG9zaXRpb25zIGFyZSByZXF1aXJlZCIsb2kuTWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcik7Y29uc3QgZT0ocyxyKT0+e2NvbnN0IG49Zy5EZWR1Y2VTdHJpZGUocyk7aWYoci5sZW5ndGglbiE9PTApdGhyb3cgbmV3IEVycm9yKCJUaGUgIitzKyJzIGFycmF5IGNvdW50IG11c3QgYmUgYSBtdWx0aXBsZSBvZiAiK24pO3JldHVybiByLmxlbmd0aC9ufSx0PWUoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMpLGk9KHMscik9Pntjb25zdCBuPWUocyxyKTtpZihuIT09dCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK3MrInMgZWxlbWVudCBjb3VudCAoIituKyIpIGRvZXMgbm90IG1hdGNoIHRoZSBwb3NpdGlvbnMgY291bnQgKCIrdCsiKSIpfTt0aGlzLm5vcm1hbHMmJmkoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmaShnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiZpKGcuVVZLaW5kLHRoaXMudXZzKSx0aGlzLnV2czImJmkoZy5VVjJLaW5kLHRoaXMudXZzMiksdGhpcy51dnMzJiZpKGcuVVYzS2luZCx0aGlzLnV2czMpLHRoaXMudXZzNCYmaShnLlVWNEtpbmQsdGhpcy51dnM0KSx0aGlzLnV2czUmJmkoZy5VVjVLaW5kLHRoaXMudXZzNSksdGhpcy51dnM2JiZpKGcuVVY2S2luZCx0aGlzLnV2czYpLHRoaXMuY29sb3JzJiZpKGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmaShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZpKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmaShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZpKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5wb3NpdGlvbnM9dGhpcy5wb3NpdGlvbnMpLHRoaXMubm9ybWFscyYmKGUubm9ybWFscz10aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJihlLnRhbmdlbnRzPXRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiYoZS51dnM9dGhpcy51dnMpLHRoaXMudXZzMiYmKGUudXZzMj10aGlzLnV2czIpLHRoaXMudXZzMyYmKGUudXZzMz10aGlzLnV2czMpLHRoaXMudXZzNCYmKGUudXZzND10aGlzLnV2czQpLHRoaXMudXZzNSYmKGUudXZzNT10aGlzLnV2czUpLHRoaXMudXZzNiYmKGUudXZzNj10aGlzLnV2czYpLHRoaXMuY29sb3JzJiYoZS5jb2xvcnM9dGhpcy5jb2xvcnMpLHRoaXMubWF0cmljZXNJbmRpY2VzJiYoZS5tYXRyaWNlc0luZGljZXM9dGhpcy5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhPXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUubWF0cmljZXNXZWlnaHRzRXh0cmE9dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSksZS5pbmRpY2VzPXRoaXMuaW5kaWNlcyxlfXN0YXRpYyBFeHRyYWN0RnJvbU1lc2goZSx0LGkpe3JldHVybiBlZS5fRXh0cmFjdEZyb20oZSx0LGkpfXN0YXRpYyBFeHRyYWN0RnJvbUdlb21ldHJ5KGUsdCxpKXtyZXR1cm4gZWUuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgX0V4dHJhY3RGcm9tKGUsdCxpKXtjb25zdCBzPW5ldyBlZTtyZXR1cm4gZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQpJiYocy5wb3NpdGlvbnM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKHMubm9ybWFscz1lLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCkmJihzLnRhbmdlbnRzPWUuZ2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpJiYocy51dnM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmKHMudXZzMj1lLmdldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjNLaW5kKSYmKHMudXZzMz1lLmdldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjRLaW5kKSYmKHMudXZzND1lLmdldFZlcnRpY2VzRGF0YShnLlVWNEtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjVLaW5kKSYmKHMudXZzNT1lLmdldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjZLaW5kKSYmKHMudXZzNj1lLmdldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpJiYocy5jb2xvcnM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKHMubWF0cmljZXNJbmRpY2VzPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYocy5tYXRyaWNlc1dlaWdodHM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSYmKHMubWF0cmljZXNJbmRpY2VzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpJiYocy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0LGkpKSxzLmluZGljZXM9ZS5nZXRJbmRpY2VzKHQsaSksc31zdGF0aWMgQ3JlYXRlUmliYm9uKGUpe3Rocm93ICQoInJpYmJvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlQm94KGUpe3Rocm93ICQoImJveEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVGlsZWRCb3goZSl7dGhyb3cgJCgidGlsZWRCb3hCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkUGxhbmUoZSl7dGhyb3cgJCgidGlsZWRQbGFuZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlU3BoZXJlKGUpe3Rocm93ICQoInNwaGVyZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlQ3lsaW5kZXIoZSl7dGhyb3cgJCgiY3lsaW5kZXJCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRvcnVzKGUpe3Rocm93ICQoInRvcnVzQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVMaW5lU3lzdGVtKGUpe3Rocm93ICQoImxpbmVzQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVEYXNoZWRMaW5lcyhlKXt0aHJvdyAkKCJsaW5lc0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlR3JvdW5kKGUpe3Rocm93ICQoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVGlsZWRHcm91bmQoZSl7dGhyb3cgJCgiZ3JvdW5kQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwKGUpe3Rocm93ICQoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUGxhbmUoZSl7dGhyb3cgJCgicGxhbmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZURpc2MoZSl7dGhyb3cgJCgiZGlzY0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUG9seWdvbihlLHQsaSxzLHIsbixhKXt0aHJvdyAkKCJwb2x5Z29uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVJY29TcGhlcmUoZSl7dGhyb3cgJCgiaWNvU3BoZXJlQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVQb2x5aGVkcm9uKGUpe3Rocm93ICQoInBvbHloZWRyb25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUNhcHN1bGUoZT17b3JpZW50YXRpb246cC5VcCgpLHN1YmRpdmlzaW9uczoyLHRlc3NlbGxhdGlvbjoxNixoZWlnaHQ6MSxyYWRpdXM6LjI1LGNhcFN1YmRpdmlzaW9uczo2fSl7dGhyb3cgJCgiY2Fwc3VsZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVG9ydXNLbm90KGUpe3Rocm93ICQoInRvcnVzS25vdEJ1aWxkZXIiKX1zdGF0aWMgQ29tcHV0ZU5vcm1hbHMoZSx0LGkscyl7bGV0IHI9MCxuPTAsYT0wLG89MCxoPTAsbD0wLHU9MCxkPTAsZj0wLF89MCxFPTAsbT0wLHY9MCxTPTAseT0wLEE9MCxDPTAsYj0wLE09MCxMPTAsaz0hMSx3PSExLGRlPSExLGNlPSExLHNlPTEsdGU9MCxGZT1udWxsO3MmJihrPSEhcy5mYWNldE5vcm1hbHMsdz0hIXMuZmFjZXRQb3NpdGlvbnMsZGU9ISFzLmZhY2V0UGFydGl0aW9uaW5nLHNlPXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0hMD8tMToxLHRlPXMucmF0aW98fDAsY2U9ISFzLmRlcHRoU29ydCxGZT1zLmRpc3RhbmNlVG8sY2UmJkZlPT09dm9pZCAwJiYoRmU9cC5aZXJvKCkpKTtsZXQgd2U9MCxIZT0wLEtlPTAsWWU9MDtmb3IoZGUmJnMmJnMuYmJTaXplJiYod2U9cy5zdWJEaXYuWCp0ZS9zLmJiU2l6ZS54LEhlPXMuc3ViRGl2LlkqdGUvcy5iYlNpemUueSxLZT1zLnN1YkRpdi5aKnRlL3MuYmJTaXplLnosWWU9cy5zdWJEaXYubWF4KnMuc3ViRGl2Lm1heCxzLmZhY2V0UGFydGl0aW9uaW5nLmxlbmd0aD0wKSxyPTA7cjxlLmxlbmd0aDtyKyspaVtyXT0wO2NvbnN0IHB0PXQubGVuZ3RoLzN8MDtmb3Iocj0wO3I8cHQ7cisrKXtpZihtPXRbciozXSozLHY9bSsxLFM9bSsyLHk9dFtyKjMrMV0qMyxBPXkrMSxDPXkrMixiPXRbciozKzJdKjMsTT1iKzEsTD1iKzIsbj1lW21dLWVbeV0sYT1lW3ZdLWVbQV0sbz1lW1NdLWVbQ10saD1lW2JdLWVbeV0sbD1lW01dLWVbQV0sdT1lW0xdLWVbQ10sZD1zZSooYSp1LW8qbCksZj1zZSoobypoLW4qdSksXz1zZSoobipsLWEqaCksRT1NYXRoLnNxcnQoZCpkK2YqZitfKl8pLEU9RT09PTA/MTpFLGQvPUUsZi89RSxfLz1FLGsmJnMmJihzLmZhY2V0Tm9ybWFsc1tyXS54PWQscy5mYWNldE5vcm1hbHNbcl0ueT1mLHMuZmFjZXROb3JtYWxzW3JdLno9XyksdyYmcyYmKHMuZmFjZXRQb3NpdGlvbnNbcl0ueD0oZVttXStlW3ldK2VbYl0pLzMscy5mYWNldFBvc2l0aW9uc1tyXS55PShlW3ZdK2VbQV0rZVtNXSkvMyxzLmZhY2V0UG9zaXRpb25zW3JdLno9KGVbU10rZVtDXStlW0xdKS8zKSxkZSYmcyl7Y29uc3QgaHQ9TWF0aC5mbG9vcigocy5mYWNldFBvc2l0aW9uc1tyXS54LXMuYkluZm8ubWluaW11bS54KnRlKSp3ZSksd3Q9TWF0aC5mbG9vcigocy5mYWNldFBvc2l0aW9uc1tyXS55LXMuYkluZm8ubWluaW11bS55KnRlKSpIZSksc2k9TWF0aC5mbG9vcigocy5mYWNldFBvc2l0aW9uc1tyXS56LXMuYkluZm8ubWluaW11bS56KnRlKSpLZSksZHM9TWF0aC5mbG9vcigoZVttXS1zLmJJbmZvLm1pbmltdW0ueCp0ZSkqd2UpLGZzPU1hdGguZmxvb3IoKGVbdl0tcy5iSW5mby5taW5pbXVtLnkqdGUpKkhlKSxfcz1NYXRoLmZsb29yKChlW1NdLXMuYkluZm8ubWluaW11bS56KnRlKSpLZSksWHM9TWF0aC5mbG9vcigoZVt5XS1zLmJJbmZvLm1pbmltdW0ueCp0ZSkqd2UpLEhzPU1hdGguZmxvb3IoKGVbQV0tcy5iSW5mby5taW5pbXVtLnkqdGUpKkhlKSxLcz1NYXRoLmZsb29yKChlW0NdLXMuYkluZm8ubWluaW11bS56KnRlKSpLZSksWXM9TWF0aC5mbG9vcigoZVtiXS1zLmJJbmZvLm1pbmltdW0ueCp0ZSkqd2UpLFpzPU1hdGguZmxvb3IoKGVbTV0tcy5iSW5mby5taW5pbXVtLnkqdGUpKkhlKSxxcz1NYXRoLmZsb29yKChlW0xdLXMuYkluZm8ubWluaW11bS56KnRlKSpLZSksSHQ9ZHMrcy5zdWJEaXYubWF4KmZzK1llKl9zLEt0PVhzK3Muc3ViRGl2Lm1heCpIcytZZSpLcyxZdD1ZcytzLnN1YkRpdi5tYXgqWnMrWWUqcXMsWnQ9aHQrcy5zdWJEaXYubWF4Knd0K1llKnNpO3MuZmFjZXRQYXJ0aXRpb25pbmdbWnRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbWnRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbWnRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW0h0XT1zLmZhY2V0UGFydGl0aW9uaW5nW0h0XT9zLmZhY2V0UGFydGl0aW9uaW5nW0h0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tLdF09cy5mYWNldFBhcnRpdGlvbmluZ1tLdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tLdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbWXRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbWXRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbWXRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW0h0XS5wdXNoKHIpLEt0IT1IdCYmcy5mYWNldFBhcnRpdGlvbmluZ1tLdF0ucHVzaChyKSxZdD09S3R8fFl0PT1IdHx8cy5mYWNldFBhcnRpdGlvbmluZ1tZdF0ucHVzaChyKSxadD09SHR8fFp0PT1LdHx8WnQ9PVl0fHxzLmZhY2V0UGFydGl0aW9uaW5nW1p0XS5wdXNoKHIpfWlmKGNlJiZzJiZzLmZhY2V0UG9zaXRpb25zKXtjb25zdCBodD1zLmRlcHRoU29ydGVkRmFjZXRzW3JdO2h0LmluZD1yKjMsaHQuc3FEaXN0YW5jZT1wLkRpc3RhbmNlU3F1YXJlZChzLmZhY2V0UG9zaXRpb25zW3JdLEZlKX1pW21dKz1kLGlbdl0rPWYsaVtTXSs9XyxpW3ldKz1kLGlbQV0rPWYsaVtDXSs9XyxpW2JdKz1kLGlbTV0rPWYsaVtMXSs9X31mb3Iocj0wO3I8aS5sZW5ndGgvMztyKyspZD1pW3IqM10sZj1pW3IqMysxXSxfPWlbciozKzJdLEU9TWF0aC5zcXJ0KGQqZCtmKmYrXypfKSxFPUU9PT0wPzE6RSxkLz1FLGYvPUUsXy89RSxpW3IqM109ZCxpW3IqMysxXT1mLGlbciozKzJdPV99c3RhdGljIF9Db21wdXRlU2lkZXMoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1pLmxlbmd0aCxoPXMubGVuZ3RoO2xldCBsLHU7c3dpdGNoKGU9ZXx8ZWUuREVGQVVMVFNJREUsZSl7Y2FzZSBlZS5GUk9OVFNJREU6YnJlYWs7Y2FzZSBlZS5CQUNLU0lERTpmb3IobD0wO2w8bztsKz0zKXtjb25zdCBkPWlbbF07aVtsXT1pW2wrMl0saVtsKzJdPWR9Zm9yKHU9MDt1PGg7dSsrKXNbdV09LXNbdV07YnJlYWs7Y2FzZSBlZS5ET1VCTEVTSURFOntjb25zdCBkPXQubGVuZ3RoLGY9ZC8zO2ZvcihsZXQgbT0wO208ZDttKyspdFtkK21dPXRbbV07Zm9yKGw9MDtsPG87bCs9MylpW2wrb109aVtsKzJdK2YsaVtsKzErb109aVtsKzFdK2YsaVtsKzIrb109aVtsXStmO2Zvcih1PTA7dTxoO3UrKylzW2grdV09LXNbdV07Y29uc3QgXz1yLmxlbmd0aDtsZXQgRT0wO2ZvcihFPTA7RTxfO0UrKylyW0UrX109cltFXTtmb3Iobj1ufHxuZXcgQ2UoMCwwLDEsMSksYT1hfHxuZXcgQ2UoMCwwLDEsMSksRT0wLGw9MDtsPF8vMjtsKyspcltFXT1uLngrKG4uei1uLngpKnJbRV0scltFKzFdPW4ueSsobi53LW4ueSkqcltFKzFdLHJbRStfXT1hLngrKGEuei1hLngpKnJbRStfXSxyW0UrXysxXT1hLnkrKGEudy1hLnkpKnJbRStfKzFdLEUrPTI7YnJlYWt9fX1zdGF0aWMgSW1wb3J0VmVydGV4RGF0YShlLHQpe2NvbnN0IGk9bmV3IGVlLHM9ZS5wb3NpdGlvbnM7cyYmaS5zZXQocyxnLlBvc2l0aW9uS2luZCk7Y29uc3Qgcj1lLm5vcm1hbHM7ciYmaS5zZXQocixnLk5vcm1hbEtpbmQpO2NvbnN0IG49ZS50YW5nZW50cztuJiZpLnNldChuLGcuVGFuZ2VudEtpbmQpO2NvbnN0IGE9ZS51dnM7YSYmaS5zZXQoYSxnLlVWS2luZCk7Y29uc3Qgbz1lLnV2MnM7byYmaS5zZXQobyxnLlVWMktpbmQpO2NvbnN0IGg9ZS51djNzO2gmJmkuc2V0KGgsZy5VVjNLaW5kKTtjb25zdCBsPWUudXY0cztsJiZpLnNldChsLGcuVVY0S2luZCk7Y29uc3QgdT1lLnV2NXM7dSYmaS5zZXQodSxnLlVWNUtpbmQpO2NvbnN0IGQ9ZS51djZzO2QmJmkuc2V0KGQsZy5VVjZLaW5kKTtjb25zdCBmPWUuY29sb3JzO2YmJmkuc2V0KG1lLkNoZWNrQ29sb3JzNChmLHMubGVuZ3RoLzMpLGcuQ29sb3JLaW5kKTtjb25zdCBfPWUubWF0cmljZXNJbmRpY2VzO18mJmkuc2V0KF8sZy5NYXRyaWNlc0luZGljZXNLaW5kKTtjb25zdCBFPWUubWF0cmljZXNXZWlnaHRzO0UmJmkuc2V0KEUsZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtjb25zdCBtPWUuaW5kaWNlczttJiYoaS5pbmRpY2VzPW0pLHQuc2V0QWxsVmVydGljZXNEYXRhKGksZS51cGRhdGFibGUpfX1lZS5GUk9OVFNJREU9MCxlZS5CQUNLU0lERT0xLGVlLkRPVUJMRVNJREU9MixlZS5ERUZBVUxUU0lERT0wLFQoWyR0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxlZSwiX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyIsbnVsbCksVChbJHQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLGVlLCJfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMiLG51bGwpLFQoWyR0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxlZSwiX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzIixudWxsKSxUKFskdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sZWUsIl9GbGlwRmFjZXMiLG51bGwpO2NsYXNzIERze2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmJ1PWUsdGhpcy5idj10LHRoaXMuZGlzdGFuY2U9aSx0aGlzLmZhY2VJZD0wLHRoaXMuc3ViTWVzaElkPTB9fWNsYXNzIGt0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnZlY3RvcnM9QmUuQnVpbGRBcnJheSg4LHAuWmVybyksdGhpcy5jZW50ZXI9cC5aZXJvKCksdGhpcy5jZW50ZXJXb3JsZD1wLlplcm8oKSx0aGlzLmV4dGVuZFNpemU9cC5aZXJvKCksdGhpcy5leHRlbmRTaXplV29ybGQ9cC5aZXJvKCksdGhpcy5kaXJlY3Rpb25zPUJlLkJ1aWxkQXJyYXkoMyxwLlplcm8pLHRoaXMudmVjdG9yc1dvcmxkPUJlLkJ1aWxkQXJyYXkoOCxwLlplcm8pLHRoaXMubWluaW11bVdvcmxkPXAuWmVybygpLHRoaXMubWF4aW11bVdvcmxkPXAuWmVybygpLHRoaXMubWluaW11bT1wLlplcm8oKSx0aGlzLm1heGltdW09cC5aZXJvKCksdGhpcy5fZHJhd1dyYXBwZXJGcm9udD1udWxsLHRoaXMuX2RyYXdXcmFwcGVyQmFjaz1udWxsLHRoaXMucmVDb25zdHJ1Y3QoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXtjb25zdCBzPWUueCxyPWUueSxuPWUueixhPXQueCxvPXQueSxoPXQueixsPXRoaXMudmVjdG9yczt0aGlzLm1pbmltdW0uY29weUZyb21GbG9hdHMocyxyLG4pLHRoaXMubWF4aW11bS5jb3B5RnJvbUZsb2F0cyhhLG8saCksbFswXS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksbFsxXS5jb3B5RnJvbUZsb2F0cyhhLG8saCksbFsyXS5jb3B5RnJvbUZsb2F0cyhhLHIsbiksbFszXS5jb3B5RnJvbUZsb2F0cyhzLG8sbiksbFs0XS5jb3B5RnJvbUZsb2F0cyhzLHIsaCksbFs1XS5jb3B5RnJvbUZsb2F0cyhhLG8sbiksbFs2XS5jb3B5RnJvbUZsb2F0cyhzLG8saCksbFs3XS5jb3B5RnJvbUZsb2F0cyhhLHIsaCksdC5hZGRUb1JlZihlLHRoaXMuY2VudGVyKS5zY2FsZUluUGxhY2UoLjUpLHQuc3VidHJhY3RUb1JlZihlLHRoaXMuZXh0ZW5kU2l6ZSkuc2NhbGVJblBsYWNlKC41KSx0aGlzLl93b3JsZE1hdHJpeD1pfHx4LklkZW50aXR5UmVhZE9ubHksdGhpcy5fdXBkYXRlKHRoaXMuX3dvcmxkTWF0cml4KX1zY2FsZShlKXtjb25zdCB0PWt0Ll9UbXBWZWN0b3IzLGk9dGhpcy5tYXhpbXVtLnN1YnRyYWN0VG9SZWYodGhpcy5taW5pbXVtLHRbMF0pLHM9aS5sZW5ndGgoKTtpLm5vcm1hbGl6ZUZyb21MZW5ndGgocyk7Y29uc3Qgcj1zKmUsbj1pLnNjYWxlSW5QbGFjZShyKi41KSxhPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYobix0WzFdKSxvPXRoaXMuY2VudGVyLmFkZFRvUmVmKG4sdFsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QoYSxvLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV91cGRhdGUoZSl7Y29uc3QgdD10aGlzLm1pbmltdW1Xb3JsZCxpPXRoaXMubWF4aW11bVdvcmxkLHM9dGhpcy5kaXJlY3Rpb25zLHI9dGhpcy52ZWN0b3JzV29ybGQsbj10aGlzLnZlY3RvcnM7aWYoZS5pc0lkZW50aXR5KCkpe3QuY29weUZyb20odGhpcy5taW5pbXVtKSxpLmNvcHlGcm9tKHRoaXMubWF4aW11bSk7Zm9yKGxldCBhPTA7YTw4OysrYSlyW2FdLmNvcHlGcm9tKG5bYV0pO3RoaXMuZXh0ZW5kU2l6ZVdvcmxkLmNvcHlGcm9tKHRoaXMuZXh0ZW5kU2l6ZSksdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlcil9ZWxzZXt0LnNldEFsbChOdW1iZXIuTUFYX1ZBTFVFKSxpLnNldEFsbCgtTnVtYmVyLk1BWF9WQUxVRSk7Zm9yKGxldCBhPTA7YTw4OysrYSl7Y29uc3Qgbz1yW2FdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihuW2FdLGUsbyksdC5taW5pbWl6ZUluUGxhY2UobyksaS5tYXhpbWl6ZUluUGxhY2Uobyl9aS5zdWJ0cmFjdFRvUmVmKHQsdGhpcy5leHRlbmRTaXplV29ybGQpLnNjYWxlSW5QbGFjZSguNSksaS5hZGRUb1JlZih0LHRoaXMuY2VudGVyV29ybGQpLnNjYWxlSW5QbGFjZSguNSl9cC5Gcm9tQXJyYXlUb1JlZihlLm0sMCxzWzBdKSxwLkZyb21BcnJheVRvUmVmKGUubSw0LHNbMV0pLHAuRnJvbUFycmF5VG9SZWYoZS5tLDgsc1syXSksdGhpcy5fd29ybGRNYXRyaXg9ZX1pc0luRnJ1c3R1bShlKXtyZXR1cm4ga3QuSXNJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiBrdC5Jc0NvbXBsZXRlbHlJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9aW50ZXJzZWN0c1BvaW50KGUpe2NvbnN0IHQ9dGhpcy5taW5pbXVtV29ybGQsaT10aGlzLm1heGltdW1Xb3JsZCxzPXQueCxyPXQueSxuPXQueixhPWkueCxvPWkueSxoPWkueixsPWUueCx1PWUueSxkPWUueixmPS14ZTtyZXR1cm4hKGEtbDxmfHxmPmwtc3x8by11PGZ8fGY+dS1yfHxoLWQ8Znx8Zj5kLW4pfWludGVyc2VjdHNTcGhlcmUoZSl7cmV0dXJuIGt0LkludGVyc2VjdHNTcGhlcmUodGhpcy5taW5pbXVtV29ybGQsdGhpcy5tYXhpbXVtV29ybGQsZS5jZW50ZXJXb3JsZCxlLnJhZGl1c1dvcmxkKX1pbnRlcnNlY3RzTWluTWF4KGUsdCl7Y29uc3QgaT10aGlzLm1pbmltdW1Xb3JsZCxzPXRoaXMubWF4aW11bVdvcmxkLHI9aS54LG49aS55LGE9aS56LG89cy54LGg9cy55LGw9cy56LHU9ZS54LGQ9ZS55LGY9ZS56LF89dC54LEU9dC55LG09dC56O3JldHVybiEobzx1fHxyPl98fGg8ZHx8bj5FfHxsPGZ8fGE+bSl9ZGlzcG9zZSgpe3ZhciBlLHQ7KGU9dGhpcy5fZHJhd1dyYXBwZXJGcm9udCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSwodD10aGlzLl9kcmF3V3JhcHBlckJhY2spPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCl9c3RhdGljIEludGVyc2VjdHMoZSx0KXtyZXR1cm4gZS5pbnRlcnNlY3RzTWluTWF4KHQubWluaW11bVdvcmxkLHQubWF4aW11bVdvcmxkKX1zdGF0aWMgSW50ZXJzZWN0c1NwaGVyZShlLHQsaSxzKXtjb25zdCByPWt0Ll9UbXBWZWN0b3IzWzBdO3JldHVybiBwLkNsYW1wVG9SZWYoaSxlLHQscikscC5EaXN0YW5jZVNxdWFyZWQoaSxyKTw9cypzfXN0YXRpYyBJc0NvbXBsZXRlbHlJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7KytpKXtjb25zdCBzPXRbaV07Zm9yKGxldCByPTA7cjw4OysrcilpZihzLmRvdENvb3JkaW5hdGUoZVtyXSk8MClyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgSXNJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7KytpKXtsZXQgcz0hMDtjb25zdCByPXRbaV07Zm9yKGxldCBuPTA7bjw4OysrbilpZihyLmRvdENvb3JkaW5hdGUoZVtuXSk+PTApe3M9ITE7YnJlYWt9aWYocylyZXR1cm4hMX1yZXR1cm4hMH19a3QuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSgzLHAuWmVybyk7Y2xhc3MgZml7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY2VudGVyPXAuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9cC5aZXJvKCksdGhpcy5taW5pbXVtPXAuWmVybygpLHRoaXMubWF4aW11bT1wLlplcm8oKSx0aGlzLnJlQ29uc3RydWN0KGUsdCxpKX1yZUNvbnN0cnVjdChlLHQsaSl7dGhpcy5taW5pbXVtLmNvcHlGcm9tKGUpLHRoaXMubWF4aW11bS5jb3B5RnJvbSh0KTtjb25zdCBzPXAuRGlzdGFuY2UoZSx0KTt0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5yYWRpdXM9cyouNSx0aGlzLl91cGRhdGUoaXx8eC5JZGVudGl0eVJlYWRPbmx5KX1zY2FsZShlKXtjb25zdCB0PXRoaXMucmFkaXVzKmUsaT1maS5fVG1wVmVjdG9yMyxzPWlbMF0uc2V0QWxsKHQpLHI9dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihzLGlbMV0pLG49dGhpcy5jZW50ZXIuYWRkVG9SZWYocyxpWzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChyLG4sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9X3VwZGF0ZShlKXtpZihlLmlzSWRlbnRpdHkoKSl0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKSx0aGlzLnJhZGl1c1dvcmxkPXRoaXMucmFkaXVzO2Vsc2V7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuY2VudGVyLGUsdGhpcy5jZW50ZXJXb3JsZCk7Y29uc3QgdD1maS5fVG1wVmVjdG9yM1swXTtwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigxLDEsMSxlLHQpLHRoaXMucmFkaXVzV29ybGQ9TWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpLE1hdGguYWJzKHQueikpKnRoaXMucmFkaXVzfX1pc0luRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuY2VudGVyV29ybGQsaT10aGlzLnJhZGl1c1dvcmxkO2ZvcihsZXQgcz0wO3M8NjtzKyspaWYoZVtzXS5kb3RDb29yZGluYXRlKHQpPD0taSlyZXR1cm4hMTtyZXR1cm4hMH1pc0NlbnRlckluRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuY2VudGVyV29ybGQ7Zm9yKGxldCBpPTA7aTw2O2krKylpZihlW2ldLmRvdENvb3JkaW5hdGUodCk8MClyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzUG9pbnQoZSl7Y29uc3QgdD1wLkRpc3RhbmNlU3F1YXJlZCh0aGlzLmNlbnRlcldvcmxkLGUpO3JldHVybiEodGhpcy5yYWRpdXNXb3JsZCp0aGlzLnJhZGl1c1dvcmxkPHQpfXN0YXRpYyBJbnRlcnNlY3RzKGUsdCl7Y29uc3QgaT1wLkRpc3RhbmNlU3F1YXJlZChlLmNlbnRlcldvcmxkLHQuY2VudGVyV29ybGQpLHM9ZS5yYWRpdXNXb3JsZCt0LnJhZGl1c1dvcmxkO3JldHVybiEocypzPGkpfXN0YXRpYyBDcmVhdGVGcm9tQ2VudGVyQW5kUmFkaXVzKGUsdCxpKXt0aGlzLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLHRoaXMuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMoMCwwLHQpLHRoaXMuX1RtcFZlY3RvcjNbMl0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1swXS5hZGRJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pLHRoaXMuX1RtcFZlY3RvcjNbMl0uc3VidHJhY3RJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pO2NvbnN0IHM9bmV3IGZpKHRoaXMuX1RtcFZlY3RvcjNbMF0sdGhpcy5fVG1wVmVjdG9yM1syXSk7cmV0dXJuIGk/cy5fd29ybGRNYXRyaXg9aTpzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCksc319ZmkuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSgzLHAuWmVybyk7Y29uc3QgRnM9e21pbjowLG1heDowfSx3cz17bWluOjAsbWF4OjB9LFJyPShjLGUsdCk9Pntjb25zdCBpPXAuRG90KGUuY2VudGVyV29ybGQsYykscz1NYXRoLmFicyhwLkRvdChlLmRpcmVjdGlvbnNbMF0sYykpKmUuZXh0ZW5kU2l6ZS54LHI9TWF0aC5hYnMocC5Eb3QoZS5kaXJlY3Rpb25zWzFdLGMpKSplLmV4dGVuZFNpemUueSxuPU1hdGguYWJzKHAuRG90KGUuZGlyZWN0aW9uc1syXSxjKSkqZS5leHRlbmRTaXplLnosYT1zK3Irbjt0Lm1pbj1pLWEsdC5tYXg9aSthfSxydD0oYyxlLHQpPT4oUnIoYyxlLEZzKSxScihjLHQsd3MpLCEoRnMubWluPndzLm1heHx8d3MubWluPkZzLm1heCkpO2NsYXNzIGR0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9pc0xvY2tlZD0hMSx0aGlzLmJvdW5kaW5nQm94PW5ldyBrdChlLHQsaSksdGhpcy5ib3VuZGluZ1NwaGVyZT1uZXcgZmkoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXt0aGlzLmJvdW5kaW5nQm94LnJlQ29uc3RydWN0KGUsdCxpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KGUsdCxpKX1nZXQgbWluaW11bSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW19Z2V0IG1heGltdW0oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtfWdldCBpc0xvY2tlZCgpe3JldHVybiB0aGlzLl9pc0xvY2tlZH1zZXQgaXNMb2NrZWQoZSl7dGhpcy5faXNMb2NrZWQ9ZX11cGRhdGUoZSl7dGhpcy5faXNMb2NrZWR8fCh0aGlzLmJvdW5kaW5nQm94Ll91cGRhdGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5fdXBkYXRlKGUpKX1jZW50ZXJPbihlLHQpe2NvbnN0IGk9ZHQuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHQpLHM9ZHQuX1RtcFZlY3RvcjNbMV0uY29weUZyb20oZSkuYWRkSW5QbGFjZSh0KTtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChpLHMsdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KGkscyx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9ZW5jYXBzdWxhdGUoZSl7Y29uc3QgdD1wLk1pbmltaXplKHRoaXMubWluaW11bSxlKSxpPXAuTWF4aW1pemUodGhpcy5tYXhpbXVtLGUpO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHQsaSx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9ZW5jYXBzdWxhdGVCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuZW5jYXBzdWxhdGUoZS5ib3VuZGluZ0JveC5jZW50ZXJXb3JsZC5zdWJ0cmFjdChlLmJvdW5kaW5nQm94LmV4dGVuZFNpemVXb3JsZCkpLHRoaXMuZW5jYXBzdWxhdGUoZS5ib3VuZGluZ0JveC5jZW50ZXJXb3JsZC5hZGQoZS5ib3VuZGluZ0JveC5leHRlbmRTaXplV29ybGQpKSx0aGlzfXNjYWxlKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LnNjYWxlKGUpLHRoaXMuYm91bmRpbmdTcGhlcmUuc2NhbGUoZSksdGhpc31pc0luRnJ1c3R1bShlLHQ9MCl7cmV0dXJuKHQ9PT0yfHx0PT09MykmJnRoaXMuYm91bmRpbmdTcGhlcmUuaXNDZW50ZXJJbkZydXN0dW0oZSk/ITA6dGhpcy5ib3VuZGluZ1NwaGVyZS5pc0luRnJ1c3R1bShlKT90PT09MXx8dD09PTM/ITA6dGhpcy5ib3VuZGluZ0JveC5pc0luRnJ1c3R1bShlKTohMX1nZXQgZGlhZ29uYWxMZW5ndGgoKXtjb25zdCBlPXRoaXMuYm91bmRpbmdCb3g7cmV0dXJuIGUubWF4aW11bVdvcmxkLnN1YnRyYWN0VG9SZWYoZS5taW5pbXVtV29ybGQsZHQuX1RtcFZlY3RvcjNbMF0pLmxlbmd0aCgpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl9X2NoZWNrQ29sbGlzaW9uKGUpe3JldHVybiBlLl9jYW5Eb0NvbGxpc2lvbih0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzV29ybGQsdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQpfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4hKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkfHwhdGhpcy5ib3VuZGluZ1NwaGVyZS5pbnRlcnNlY3RzUG9pbnQoZSl8fCF0aGlzLmJvdW5kaW5nQm94LmludGVyc2VjdHNQb2ludChlKSl9aW50ZXJzZWN0cyhlLHQpe2lmKCFmaS5JbnRlcnNlY3RzKHRoaXMuYm91bmRpbmdTcGhlcmUsZS5ib3VuZGluZ1NwaGVyZSl8fCFrdC5JbnRlcnNlY3RzKHRoaXMuYm91bmRpbmdCb3gsZS5ib3VuZGluZ0JveCkpcmV0dXJuITE7aWYoIXQpcmV0dXJuITA7Y29uc3QgaT10aGlzLmJvdW5kaW5nQm94LHM9ZS5ib3VuZGluZ0JveDtyZXR1cm4hKCFydChpLmRpcmVjdGlvbnNbMF0saSxzKXx8IXJ0KGkuZGlyZWN0aW9uc1sxXSxpLHMpfHwhcnQoaS5kaXJlY3Rpb25zWzJdLGkscyl8fCFydChzLmRpcmVjdGlvbnNbMF0saSxzKXx8IXJ0KHMuZGlyZWN0aW9uc1sxXSxpLHMpfHwhcnQocy5kaXJlY3Rpb25zWzJdLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMl0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMl0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFydChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMl0pLGkscykpfX1kdC5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDIscC5aZXJvKTtjbGFzcyBpc3tzdGF0aWMgZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoZSx0LGkscyxyLG4pe2ZvcihsZXQgYT1pO2E8aStzO2ErKyl7Y29uc3Qgbz10W2FdKjMsaD1lW29dLGw9ZVtvKzFdLHU9ZVtvKzJdO3IubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSksbi5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KX19c3RhdGljIGV4dHJhY3RNaW5BbmRNYXgoZSx0LGkscyxyLG4pe2ZvcihsZXQgYT10LG89dCpzO2E8dCtpO2ErKyxvKz1zKXtjb25zdCBoPWVbb10sbD1lW28rMV0sdT1lW28rMl07ci5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KSxuLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpfX19VChbJHQuZmlsdGVyKCguLi5bYyxlXSk9PiFBcnJheS5pc0FycmF5KGMpJiYhQXJyYXkuaXNBcnJheShlKSldLGlzLCJleHRyYWN0TWluQW5kTWF4SW5kZXhlZCIsbnVsbCksVChbJHQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLGlzLCJleHRyYWN0TWluQW5kTWF4IixudWxsKTtmdW5jdGlvbiBCbihjLGUsdCxpLHM9bnVsbCl7Y29uc3Qgcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbj1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIGlzLmV4dHJhY3RNaW5BbmRNYXhJbmRleGVkKGMsZSx0LGkscixuKSxzJiYoci54LT1yLngqcy54K3MueSxyLnktPXIueSpzLngrcy55LHIuei09ci56KnMueCtzLnksbi54Kz1uLngqcy54K3MueSxuLnkrPW4ueSpzLngrcy55LG4ueis9bi56KnMueCtzLnkpLHttaW5pbXVtOnIsbWF4aW11bTpufX1mdW5jdGlvbiB5cihjLGUsdCxpPW51bGwscyl7Y29uc3Qgcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbj1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIHN8fChzPTMpLGlzLmV4dHJhY3RNaW5BbmRNYXgoYyxlLHQscyxyLG4pLGkmJihyLngtPXIueCppLngraS55LHIueS09ci55KmkueCtpLnksci56LT1yLnoqaS54K2kueSxuLngrPW4ueCppLngraS55LG4ueSs9bi55KmkueCtpLnksbi56Kz1uLnoqaS54K2kueSkse21pbmltdW06cixtYXhpbXVtOm59fWNsYXNzIHZ0e2NvbnN0cnVjdG9yKGUsdCxpLHMscixuLGEsbz0hMCxoPSEwKXt0aGlzLm1hdGVyaWFsSW5kZXg9ZSx0aGlzLnZlcnRpY2VzU3RhcnQ9dCx0aGlzLnZlcnRpY2VzQ291bnQ9aSx0aGlzLmluZGV4U3RhcnQ9cyx0aGlzLmluZGV4Q291bnQ9cix0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1udWxsLHRoaXMuX2xpbmVzSW5kZXhDb3VudD0wLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4PW51bGwsdGhpcy5fd2FzRGlzcGF0Y2hlZD0hMSx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2FscGhhSW5kZXg9MCx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPTAsdGhpcy5fY3VycmVudE1hdGVyaWFsPW51bGwsdGhpcy5fbWVzaD1uLHRoaXMuX3JlbmRlcmluZ01lc2g9YXx8bixoJiZuLnN1Yk1lc2hlcy5wdXNoKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3RyaWFuZ2xlUGxhbmVzPVtdLHRoaXMuX2lkPW4uc3ViTWVzaGVzLmxlbmd0aC0xLG8mJih0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxuLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpfWdldCBtYXRlcmlhbERlZmluZXMoKXt2YXIgZTtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZGVmaW5lczooZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVmaW5lc31zZXQgbWF0ZXJpYWxEZWZpbmVzKGUpe3ZhciB0O2NvbnN0IGk9KHQ9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCk7aS5kZWZpbmVzPWV9X2dldERyYXdXcmFwcGVyKGUsdD0hMSl7ZT1lPz90aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZDtsZXQgaT10aGlzLl9kcmF3V3JhcHBlcnNbZV07cmV0dXJuIWkmJnQmJih0aGlzLl9kcmF3V3JhcHBlcnNbZV09aT1uZXcgbWkodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpKSksaX1fcmVtb3ZlRHJhd1dyYXBwZXIoZSx0PSEwKXt2YXIgaTt0JiYoKGk9dGhpcy5fZHJhd1dyYXBwZXJzW2VdKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzcG9zZSgpKSx0aGlzLl9kcmF3V3JhcHBlcnNbZV09dm9pZCAwfWdldCBlZmZlY3QoKXt2YXIgZSx0O3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5lZmZlY3Q6KHQ9KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmVmZmVjdCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXQgX2RyYXdXcmFwcGVyKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCl9Z2V0IF9kcmF3V3JhcHBlck92ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlfV9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShlKXt0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1lfXNldEVmZmVjdChlLHQ9bnVsbCxpLHM9ITApe2NvbnN0IHI9dGhpcy5fZHJhd1dyYXBwZXI7ci5zZXRFZmZlY3QoZSx0LHMpLGkhPT12b2lkIDAmJihyLm1hdGVyaWFsQ29udGV4dD1pKSxlfHwoci5kZWZpbmVzPW51bGwsci5tYXRlcmlhbENvbnRleHQ9dm9pZCAwKX1yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLl9kcmF3V3JhcHBlcnMpaWYoZSE9PXZvaWQgMCl7dGhpcy5fcmVtb3ZlRHJhd1dyYXBwZXIoZSk7cmV0dXJufWVsc2UgZm9yKGNvbnN0IHQgb2YgdGhpcy5fZHJhd1dyYXBwZXJzKXQ9PW51bGx8fHQuZGlzcG9zZSgpO3RoaXMuX2RyYXdXcmFwcGVycz1bXX1zdGF0aWMgQWRkVG9NZXNoKGUsdCxpLHMscixuLGEsbz0hMCl7cmV0dXJuIG5ldyB2dChlLHQsaSxzLHIsbixhLG8pfWdldCBJc0dsb2JhbCgpe3JldHVybiB0aGlzLnZlcnRpY2VzU3RhcnQ9PT0wJiZ0aGlzLnZlcnRpY2VzQ291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsVmVydGljZXMoKSYmdGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dGhpcy5fbWVzaC5nZXRUb3RhbEluZGljZXMoKX1nZXRCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5Jc0dsb2JhbD90aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpOnRoaXMuX2JvdW5kaW5nSW5mb31zZXRCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9Z2V0TWVzaCgpe3JldHVybiB0aGlzLl9tZXNofWdldFJlbmRlcmluZ01lc2goKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaH1nZXRSZXBsYWNlbWVudE1lc2goKXtyZXR1cm4gdGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGx9Z2V0RWZmZWN0aXZlTWVzaCgpe2NvbnN0IGU9dGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGw7cmV0dXJuIGV8fHRoaXMuX3JlbmRlcmluZ01lc2h9Z2V0TWF0ZXJpYWwoZT0hMCl7dmFyIHQ7Y29uc3QgaT0odD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3JlbmRlcmluZ01lc2gubWF0ZXJpYWw7aWYoaSl7aWYodGhpcy5faXNNdWx0aU1hdGVyaWFsKGkpKXtjb25zdCBzPWkuZ2V0U3ViTWF0ZXJpYWwodGhpcy5tYXRlcmlhbEluZGV4KTtyZXR1cm4gdGhpcy5fY3VycmVudE1hdGVyaWFsIT09cyYmKHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1zLHRoaXMucmVzZXREcmF3Q2FjaGUoKSksc319ZWxzZSByZXR1cm4gZT90aGlzLl9tZXNoLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOm51bGw7cmV0dXJuIGl9X2lzTXVsdGlNYXRlcmlhbChlKXtyZXR1cm4gZS5nZXRTdWJNYXRlcmlhbCE9PXZvaWQgMH1yZWZyZXNoQm91bmRpbmdJbmZvKGU9bnVsbCl7aWYodGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuSXNHbG9iYWx8fCF0aGlzLl9yZW5kZXJpbmdNZXNofHwhdGhpcy5fcmVuZGVyaW5nTWVzaC5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZihlfHwoZT10aGlzLl9yZW5kZXJpbmdNZXNoLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCkpLCFlKXJldHVybiB0aGlzLl9ib3VuZGluZ0luZm89dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKSx0aGlzO2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRJbmRpY2VzKCk7bGV0IGk7aWYodGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dC5sZW5ndGgpe2NvbnN0IHM9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRCb3VuZGluZ0luZm8oKTtpPXttaW5pbXVtOnMubWluaW11bS5jbG9uZSgpLG1heGltdW06cy5tYXhpbXVtLmNsb25lKCl9fWVsc2UgaT1CbihlLHQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCx0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhcyk7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QoaS5taW5pbXVtLGkubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBkdChpLm1pbmltdW0saS5tYXhpbXVtKSx0aGlzfV9jaGVja0NvbGxpc2lvbihlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24oZSl9dXBkYXRlQm91bmRpbmdJbmZvKGUpe2xldCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHR8fCh0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkpLHQmJnQudXBkYXRlKGUpLHRoaXN9aXNJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNJbkZydXN0dW0oZSx0aGlzLl9tZXNoLmN1bGxpbmdTdHJhdGVneSk6ITF9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD90LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKTohMX1yZW5kZXIoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2gucmVuZGVyKHRoaXMsZSx0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6dm9pZCAwKSx0aGlzfV9nZXRMaW5lc0luZGV4QnVmZmVyKGUsdCl7aWYoIXRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpe2NvbnN0IGk9W107Zm9yKGxldCBzPXRoaXMuaW5kZXhTdGFydDtzPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7cys9MylpLnB1c2goZVtzXSxlW3MrMV0sZVtzKzFdLGVbcysyXSxlW3MrMl0sZVtzXSk7dGhpcy5fbGluZXNJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuX2xpbmVzSW5kZXhDb3VudD1pLmxlbmd0aH1yZXR1cm4gdGhpcy5fbGluZXNJbmRleEJ1ZmZlcn1jYW5JbnRlcnNlY3RzKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD9lLmludGVyc2VjdHNCb3godC5ib3VuZGluZ0JveCk6ITF9aW50ZXJzZWN0cyhlLHQsaSxzLHIpe2NvbnN0IG49dGhpcy5nZXRNYXRlcmlhbCgpO2lmKCFuKXJldHVybiBudWxsO2xldCBhPTMsbz0hMTtzd2l0Y2gobi5maWxsTW9kZSl7Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA4OnJldHVybiBudWxsO2Nhc2UgNzphPTEsbz0hMDticmVha31yZXR1cm4gbi5maWxsTW9kZT09PTQ/aS5sZW5ndGg/dGhpcy5faW50ZXJzZWN0TGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6IWkubGVuZ3RoJiZ0aGlzLl9tZXNoLl91bkluZGV4ZWQ/dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscik6dGhpcy5faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLGEsbyxzLHIpfV9pbnRlcnNlY3RMaW5lcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMuaW5kZXhTdGFydDthPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7YSs9Mil7Y29uc3Qgbz10W2lbYV1dLGg9dFtpW2ErMV1dLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KG8saCxzKTtpZighKGw8MCkmJihyfHwhbnx8bDxuLmRpc3RhbmNlKSYmKG49bmV3IERzKG51bGwsbnVsbCxsKSxuLmZhY2VJZD1hLzIscikpYnJlYWt9cmV0dXJuIG59X2ludGVyc2VjdFVuSW5kZXhlZExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0yKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgRHMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLHMscixuLGEpe2xldCBvPW51bGwsaD0tMTtmb3IobGV0IGw9dGhpcy5pbmRleFN0YXJ0O2w8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudC0oMy1zKTtsKz1zKXtoKys7Y29uc3QgdT1pW2xdLGQ9aVtsKzFdLGY9aVtsKzJdO2lmKHImJmY9PT00Mjk0OTY3Mjk1KXtsKz0yO2NvbnRpbnVlfWNvbnN0IF89dFt1XSxFPXRbZF0sbT10W2ZdO2lmKCFffHwhRXx8IW18fGEmJiFhKF8sRSxtLGUsdSxkLGYpKWNvbnRpbnVlO2NvbnN0IHY9ZS5pbnRlcnNlY3RzVHJpYW5nbGUoXyxFLG0pO2lmKHYpe2lmKHYuZGlzdGFuY2U8MCljb250aW51ZTtpZigobnx8IW98fHYuZGlzdGFuY2U8by5kaXN0YW5jZSkmJihvPXYsby5mYWNlSWQ9aCxuKSlicmVha319cmV0dXJuIG99X2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMudmVydGljZXNTdGFydDthPHRoaXMudmVydGljZXNTdGFydCt0aGlzLnZlcnRpY2VzQ291bnQ7YSs9Myl7Y29uc3Qgbz10W2FdLGg9dFthKzFdLGw9dFthKzJdO2lmKHImJiFyKG8saCxsLGUsLTEsLTEsLTEpKWNvbnRpbnVlO2NvbnN0IHU9ZS5pbnRlcnNlY3RzVHJpYW5nbGUobyxoLGwpO2lmKHUpe2lmKHUuZGlzdGFuY2U8MCljb250aW51ZTtpZigoc3x8IW58fHUuZGlzdGFuY2U8bi5kaXN0YW5jZSkmJihuPXUsbi5mYWNlSWQ9YS8zLHMpKWJyZWFrfX1yZXR1cm4gbn1fcmVidWlsZCgpe3RoaXMuX2xpbmVzSW5kZXhCdWZmZXImJih0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgdnQodGhpcy5tYXRlcmlhbEluZGV4LHRoaXMudmVydGljZXNTdGFydCx0aGlzLnZlcnRpY2VzQ291bnQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCxlLHQsITEpO2lmKCF0aGlzLklzR2xvYmFsKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXMpcmV0dXJuIGk7aS5fYm91bmRpbmdJbmZvPW5ldyBkdChzLm1pbmltdW0scy5tYXhpbXVtKX1yZXR1cm4gaX1kaXNwb3NlKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9saW5lc0luZGV4QnVmZmVyKSx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpO2NvbnN0IGU9dGhpcy5fbWVzaC5zdWJNZXNoZXMuaW5kZXhPZih0aGlzKTt0aGlzLl9tZXNoLnN1Yk1lc2hlcy5zcGxpY2UoZSwxKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN1Yk1lc2gifXN0YXRpYyBDcmVhdGVGcm9tSW5kaWNlcyhlLHQsaSxzLHIsbj0hMCl7bGV0IGE9TnVtYmVyLk1BWF9WQUxVRSxvPS1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGw9KHJ8fHMpLmdldEluZGljZXMoKTtmb3IobGV0IHU9dDt1PHQraTt1Kyspe2NvbnN0IGQ9bFt1XTtkPGEmJihhPWQpLGQ+byYmKG89ZCl9cmV0dXJuIG5ldyB2dChlLGEsby1hKzEsdCxpLHMscixuKX19Y2xhc3MgT2V7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiBPZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9c3RhdGljIHNldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbChlKXtPZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX1zdGF0aWMgZ2V0IFNob3dMb2FkaW5nU2NyZWVuKCl7cmV0dXJuIE9lLl9TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe09lLl9TaG93TG9hZGluZ1NjcmVlbj1lfXN0YXRpYyBnZXQgbG9nZ2luZ0xldmVsKCl7cmV0dXJuIE9lLl9Mb2dnaW5nTGV2ZWx9c3RhdGljIHNldCBsb2dnaW5nTGV2ZWwoZSl7T2UuX0xvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiBPZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c31zdGF0aWMgc2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoZSl7T2UuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX19T2UuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPSExLE9lLl9TaG93TG9hZGluZ1NjcmVlbj0hMCxPZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz0hMSxPZS5fTG9nZ2luZ0xldmVsPTA7Y2xhc3MgZnR7fWZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY9ITE7Y2xhc3MgYXR7Y29uc3RydWN0b3IoZSx0LGkscz0hMSxyPW51bGwpe3RoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPSExLHRoaXMuX3Bvc2l0aW9uc0NhY2hlPVtdLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5PSExLHRoaXMuX3NjZW5lPXR8fGZlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLmlkPWUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0aGlzLl9tZXNoZXM9W10sdGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3VwZGF0YWJsZT1zLGk/dGhpcy5zZXRBbGxWZXJ0aWNlc0RhdGEoaSxzKTp0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5fZW5naW5lLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksciYmKHRoaXMuYXBwbHlUb01lc2gociksci5jb21wdXRlV29ybGRNYXRyaXgoITApKSl9Z2V0IGJvdW5kaW5nQmlhcygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0JpYXN9c2V0IGJvdW5kaW5nQmlhcyhlKXt0aGlzLl9ib3VuZGluZ0JpYXM/dGhpcy5fYm91bmRpbmdCaWFzLmNvcHlGcm9tKGUpOnRoaXMuX2JvdW5kaW5nQmlhcz1lLmNsb25lKCksdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCEwLG51bGwpfXN0YXRpYyBDcmVhdGVHZW9tZXRyeUZvck1lc2goZSl7Y29uc3QgdD1uZXcgYXQoYXQuUmFuZG9tSWQoKSxlLmdldFNjZW5lKCkpO3JldHVybiB0LmFwcGx5VG9NZXNoKGUpLHR9Z2V0IG1lc2hlcygpe3JldHVybiB0aGlzLl9tZXNoZXN9Z2V0IGV4dGVuZCgpe3JldHVybiB0aGlzLl9leHRlbmR9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1pc1JlYWR5KCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0xfHx0aGlzLmRlbGF5TG9hZFN0YXRlPT09MH1nZXQgZG9Ob3RTZXJpYWxpemUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21lc2hlcy5sZW5ndGg7ZSsrKWlmKCF0aGlzLl9tZXNoZXNbZV0uZG9Ob3RTZXJpYWxpemUpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGQoKXt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e30pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9yZWJ1aWxkKCl9c2V0QWxsVmVydGljZXNEYXRhKGUsdCl7ZS5hcHBseVRvR2VvbWV0cnkodGhpcyx0KSx0aGlzLl9ub3RpZnlVcGRhdGUoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aSYmQXJyYXkuaXNBcnJheSh0KSYmKHQ9bmV3IEZsb2F0MzJBcnJheSh0KSk7Y29uc3Qgcj1uZXcgZyh0aGlzLl9lbmdpbmUsdCxlLGksdGhpcy5fbWVzaGVzLmxlbmd0aD09PTAscyk7dGhpcy5zZXRWZXJ0aWNlc0J1ZmZlcihyKX1yZW1vdmVWZXJ0aWNlc0RhdGEoZSl7dGhpcy5fdmVydGV4QnVmZmVyc1tlXSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9bnVsbCxpPSEwKXtjb25zdCBzPWUuZ2V0S2luZCgpO3RoaXMuX3ZlcnRleEJ1ZmZlcnNbc10mJmkmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbc10uZGlzcG9zZSgpLGUuX2J1ZmZlciYmZS5fYnVmZmVyLl9pbmNyZWFzZVJlZmVyZW5jZXMoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdPWU7Y29uc3Qgcj10aGlzLl9tZXNoZXMsbj1yLmxlbmd0aDtpZihzPT09Zy5Qb3NpdGlvbktpbmQpe2NvbnN0IGE9ZS5nZXREYXRhKCk7dCE9bnVsbD90aGlzLl90b3RhbFZlcnRpY2VzPXQ6YSE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9YS5sZW5ndGgvKGUudHlwZT09PWcuQllURT9lLmJ5dGVTdHJpZGU6ZS5ieXRlU3RyaWRlLzQpKSx0aGlzLl91cGRhdGVFeHRlbmQoYSksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKGxldCBvPTA7bzxuO28rKyl7Y29uc3QgaD1yW29dO2guYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGguX2NyZWF0ZUdsb2JhbFN1Yk1lc2goaC5pc1VuSW5kZXhlZCksaC5jb21wdXRlV29ybGRNYXRyaXgoITApLGguc3luY2hyb25pemVJbnN0YW5jZXMoKX19dGhpcy5fbm90aWZ5VXBkYXRlKHMpfXVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KGUsdCxpLHM9ITEpe2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7ciYmKHIudXBkYXRlRGlyZWN0bHkodCxpLHMpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpPSExKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO3MmJihzLnVwZGF0ZSh0KSxlPT09Zy5Qb3NpdGlvbktpbmQmJnRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyhpLHQpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9X3VwZGF0ZUJvdW5kaW5nSW5mbyhlLHQpe2lmKGUmJnRoaXMuX3VwZGF0ZUV4dGVuZCh0KSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSxlKXtjb25zdCBpPXRoaXMuX21lc2hlcztmb3IoY29uc3QgcyBvZiBpKXtzLmhhc0JvdW5kaW5nSW5mbz9zLmdldEJvdW5kaW5nSW5mbygpLnJlQ29uc3RydWN0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTpzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTtjb25zdCByPXMuc3ViTWVzaGVzO2Zvcihjb25zdCBuIG9mIHIpbi5yZWZyZXNoQm91bmRpbmdJbmZvKCl9fX1fYmluZChlLHQsaSxzKXtpZighZSlyZXR1cm47dD09PXZvaWQgMCYmKHQ9dGhpcy5faW5kZXhCdWZmZXIpO2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXJzKCk7aWYoIXIpcmV0dXJuO2lmKHQhPXRoaXMuX2luZGV4QnVmZmVyfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiYhcyl7dGhpcy5fZW5naW5lLmJpbmRCdWZmZXJzKHIsdCxlLGkpO3JldHVybn1jb25zdCBuPXN8fHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cztuW2Uua2V5XXx8KG5bZS5rZXldPXRoaXMuX2VuZ2luZS5yZWNvcmRWZXJ0ZXhBcnJheU9iamVjdChyLHQsZSxpKSksdGhpcy5fZW5naW5lLmJpbmRWZXJ0ZXhBcnJheU9iamVjdChuW2Uua2V5XSx0KX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3RvdGFsVmVydGljZXM6MH1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7cmV0dXJuIHM/cy5nZXRGbG9hdERhdGEodGhpcy5fdG90YWxWZXJ0aWNlcyxpfHx0JiZ0aGlzLl9tZXNoZXMubGVuZ3RoIT09MSk6bnVsbH1pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKXtjb25zdCB0PXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV07cmV0dXJuIHQ/dC5pc1VwZGF0YWJsZSgpOiExfWdldFZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyc1tlXTpudWxsfWdldFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyczpudWxsfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4gdGhpcy5fdmVydGV4QnVmZmVycz90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdIT09dm9pZCAwOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWdldFZlcnRpY2VzRGF0YUtpbmRzKCl7Y29uc3QgZT1bXTtsZXQgdDtpZighdGhpcy5fdmVydGV4QnVmZmVycyYmdGhpcy5fZGVsYXlJbmZvKWZvcih0IGluIHRoaXMuX2RlbGF5SW5mbyllLnB1c2godCk7ZWxzZSBmb3IodCBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKWUucHVzaCh0KTtyZXR1cm4gZX11cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtpZih0aGlzLl9pbmRleEJ1ZmZlcilpZighdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZSl0aGlzLnNldEluZGljZXMoZSxudWxsLCEwKTtlbHNle2NvbnN0IHM9ZS5sZW5ndGghPT10aGlzLl9pbmRpY2VzLmxlbmd0aDtpZihpfHwodGhpcy5faW5kaWNlcz1lLnNsaWNlKCkpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsZSx0KSxzKWZvcihjb25zdCByIG9mIHRoaXMuX21lc2hlcylyLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKX19c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXt0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRpY2VzPWUsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT1pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsaSkpLHQhPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPXQpO2Zvcihjb25zdCBzIG9mIHRoaXMuX21lc2hlcylzLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKSxzLnN5bmNocm9uaXplSW5zdGFuY2VzKCk7dGhpcy5fbm90aWZ5VXBkYXRlKCl9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGljZXMubGVuZ3RoOjB9Z2V0SW5kaWNlcyhlLHQpe2lmKCF0aGlzLmlzUmVhZHkoKSlyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuX2luZGljZXM7cmV0dXJuIXQmJighZXx8dGhpcy5fbWVzaGVzLmxlbmd0aD09PTEpP2k6aS5zbGljZSgpfWdldEluZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9X3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlPW51bGwpeyFlfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzfHx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldJiYodGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKSxkZWxldGUgdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSl9cmVsZWFzZUZvck1lc2goZSx0KXtjb25zdCBpPXRoaXMuX21lc2hlcyxzPWkuaW5kZXhPZihlKTtzIT09LTEmJihpLnNwbGljZShzLDEpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSxlLl9nZW9tZXRyeT1udWxsLGkubGVuZ3RoPT09MCYmdCYmdGhpcy5kaXNwb3NlKCkpfWFwcGx5VG9NZXNoKGUpe2lmKGUuX2dlb21ldHJ5PT09dGhpcylyZXR1cm47Y29uc3QgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTtjb25zdCBpPXRoaXMuX21lc2hlcztlLl9nZW9tZXRyeT10aGlzLGUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsLHRoaXMuX3NjZW5lLnB1c2hHZW9tZXRyeSh0aGlzKSxpLnB1c2goZSksdGhpcy5pc1JlYWR5KCk/dGhpcy5fYXBwbHlUb01lc2goZSk6dGhpcy5fYm91bmRpbmdJbmZvJiZlLnNldEJvdW5kaW5nSW5mbyh0aGlzLl9ib3VuZGluZ0luZm8pfV91cGRhdGVFeHRlbmQoZT1udWxsKXtpZih0aGlzLnVzZUJvdW5kaW5nSW5mb0Zyb21HZW9tZXRyeSYmdGhpcy5fYm91bmRpbmdJbmZvKXRoaXMuX2V4dGVuZD17bWluaW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWluaW11bS5jbG9uZSgpLG1heGltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1heGltdW0uY2xvbmUoKX07ZWxzZXtpZighZSYmKGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLCFlKSlyZXR1cm47dGhpcy5fZXh0ZW5kPXlyKGUsMCx0aGlzLl90b3RhbFZlcnRpY2VzLHRoaXMuYm91bmRpbmdCaWFzLDMpfX1fYXBwbHlUb01lc2goZSl7Y29uc3QgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdD09PTEmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbaV0uY3JlYXRlKCksaT09PWcuUG9zaXRpb25LaW5kJiYodGhpcy5fZXh0ZW5kfHx0aGlzLl91cGRhdGVFeHRlbmQoKSxlLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxlLl9jcmVhdGVHbG9iYWxTdWJNZXNoKGUuaXNVbkluZGV4ZWQpLGUuX3VwZGF0ZUJvdW5kaW5nSW5mbygpKTt0PT09MSYmdGhpcy5faW5kaWNlcyYmdGhpcy5faW5kaWNlcy5sZW5ndGg+MCYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLHRoaXMuX3VwZGF0YWJsZSkpLGUuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSxlLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9X25vdGlmeVVwZGF0ZShlKXt0aGlzLm9uR2VvbWV0cnlVcGRhdGVkJiZ0aGlzLm9uR2VvbWV0cnlVcGRhdGVkKHRoaXMsZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVzaGVzKXQuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWxvYWQoZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX1fcXVldWVMb2FkKGUsdCl7dGhpcy5kZWxheUxvYWRpbmdGaWxlJiYoZS5hZGRQZW5kaW5nRGF0YSh0aGlzKSxlLl9sb2FkRmlsZSh0aGlzLmRlbGF5TG9hZGluZ0ZpbGUsaT0+e2lmKCF0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbilyZXR1cm47dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShpKSx0aGlzKSx0aGlzLmRlbGF5TG9hZFN0YXRlPTEsdGhpcy5fZGVsYXlJbmZvPVtdLGUucmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7Y29uc3Qgcz10aGlzLl9tZXNoZXMscj1zLmxlbmd0aDtmb3IobGV0IG49MDtuPHI7bisrKXRoaXMuX2FwcGx5VG9NZXNoKHNbbl0pO3QmJnQoKX0sdm9pZCAwLCEwKSl9dG9MZWZ0SGFuZGVkKCl7Y29uc3QgZT10aGlzLmdldEluZGljZXMoITEpO2lmKGUhPW51bGwmJmUubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cys9Myl7Y29uc3Qgcj1lW3MrMF07ZVtzKzBdPWVbcysyXSxlW3MrMl09cn10aGlzLnNldEluZGljZXMoZSl9Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMSk7aWYodCE9bnVsbCYmdC5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKz0zKXRbcysyXT0tdFtzKzJdO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsITEpfWNvbnN0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLCExKTtpZihpIT1udWxsJiZpLmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrPTMpaVtzKzJdPS1pW3MrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGksITEpfX1fcmVzZXRQb2ludHNBcnJheUNhY2hlKCl7dGhpcy5fcG9zaXRpb25zPW51bGx9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtpZih0aGlzLl9wb3NpdGlvbnMpcmV0dXJuITA7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWV8fGUubGVuZ3RoPT09MClyZXR1cm4hMTtmb3IobGV0IHQ9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoKjMsaT10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg7dDxlLmxlbmd0aDt0Kz0zLCsraSl0aGlzLl9wb3NpdGlvbnNDYWNoZVtpXT1wLkZyb21BcnJheShlLHQpO2ZvcihsZXQgdD0wLGk9MDt0PGUubGVuZ3RoO3QrPTMsKytpKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW2ldLnNldChlWzArdF0sZVsxK3RdLGVbMit0XSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aD1lLmxlbmd0aC8zLHRoaXMuX3Bvc2l0aW9ucz10aGlzLl9wb3NpdGlvbnNDYWNoZSwhMH1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9X2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKXtpZih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpe2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tpXSk7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9O2NvbnN0IGU9dGhpcy5fbWVzaGVzLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyllW2ldLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpfX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aDtsZXQgaTtmb3IoaT0wO2k8dDtpKyspdGhpcy5yZWxlYXNlRm9yTWVzaChlW2ldKTt0aGlzLl9tZXNoZXMubGVuZ3RoPTAsdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpO2Zvcihjb25zdCBzIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdGhpcy5fdmVydGV4QnVmZmVyc1tzXS5kaXNwb3NlKCk7aWYodGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faW5kZXhCdWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmRlbGF5TG9hZGluZ0ZpbGU9bnVsbCx0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1udWxsLHRoaXMuX2RlbGF5SW5mbz1bXSx0aGlzLl9ib3VuZGluZ0luZm89bnVsbCx0aGlzLl9zY2VuZS5yZW1vdmVHZW9tZXRyeSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHM9dGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5zcGxpY2UocywxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH10aGlzLl9pc0Rpc3Bvc2VkPSEwfWNvcHkoZSl7Y29uc3QgdD1uZXcgZWU7dC5pbmRpY2VzPVtdO2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCk7aWYoaSlmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl0LmluZGljZXMucHVzaChpW29dKTtsZXQgcz0hMSxyPSExLG47Zm9yKG4gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7Y29uc3Qgbz10aGlzLmdldFZlcnRpY2VzRGF0YShuKTtpZihvJiYobyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90LnNldChuZXcgRmxvYXQzMkFycmF5KG8pLG4pOnQuc2V0KG8uc2xpY2UoMCksbiksIXIpKXtjb25zdCBoPXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO2gmJihzPWguaXNVcGRhdGFibGUoKSxyPSFzKX19Y29uc3QgYT1uZXcgYXQoZSx0aGlzLl9zY2VuZSx0LHMpO2EuZGVsYXlMb2FkU3RhdGU9dGhpcy5kZWxheUxvYWRTdGF0ZSxhLmRlbGF5TG9hZGluZ0ZpbGU9dGhpcy5kZWxheUxvYWRpbmdGaWxlLGEuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uO2ZvcihuIGluIHRoaXMuX2RlbGF5SW5mbylhLl9kZWxheUluZm89YS5fZGVsYXlJbmZvfHxbXSxhLl9kZWxheUluZm8ucHVzaChuKTtyZXR1cm4gYS5fYm91bmRpbmdJbmZvPW5ldyBkdCh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksYX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiBlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudXBkYXRhYmxlPXRoaXMuX3VwZGF0YWJsZSxnZSYmZ2UuSGFzVGFncyh0aGlzKSYmKGUudGFncz1nZS5HZXRUYWdzKHRoaXMpKSxlfV90b051bWJlckFycmF5KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSl9Y2xlYXJDYWNoZWREYXRhKCl7dGhpcy5faW5kaWNlcz1bXSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl92ZXJ0ZXhCdWZmZXJzLGUpJiYodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5fYnVmZmVyLl9kYXRhPW51bGwpfXNlcmlhbGl6ZVZlcnRpY2VEYXRhKCl7Y29uc3QgZT10aGlzLnNlcmlhbGl6ZSgpO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJihlLnV2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWS2luZCkmJihlLnV2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmKGUudXYycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVYyS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjJLaW5kKSYmKGUudXYycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjNLaW5kKSYmKGUudXYzcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjNLaW5kKSYmKGUudXYzcy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjRLaW5kKSYmKGUudXY0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjRLaW5kKSYmKGUudXY0cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjVLaW5kKSYmKGUudXY1cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY1S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjVLaW5kKSYmKGUudXY1cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjZLaW5kKSYmKGUudXY2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjZLaW5kKSYmKGUudXY2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpJiYoZS5jb2xvcnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Db2xvcktpbmQpJiYoZS5jb2xvcnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCkpLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlPSEwKSksZS5pbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRJbmRpY2VzKCkpLGV9c3RhdGljIEV4dHJhY3RGcm9tTWVzaChlLHQpe2NvbnN0IGk9ZS5fZ2VvbWV0cnk7cmV0dXJuIGk/aS5jb3B5KHQpOm51bGx9c3RhdGljIFJhbmRvbUlkKCl7cmV0dXJuIEguUmFuZG9tSWQoKX1zdGF0aWMgX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChlLHQpe2ZvcihsZXQgaT0wO2k8dC5nZW9tZXRyaWVzLmxlbmd0aDtpKyspaWYodC5nZW9tZXRyaWVzW2ldLl9sb2FkZWRVbmlxdWVJZD09PWUpcmV0dXJuIHQuZ2VvbWV0cmllc1tpXTtyZXR1cm4gbnVsbH1zdGF0aWMgX0ltcG9ydEdlb21ldHJ5KGUsdCl7Y29uc3QgaT10LmdldFNjZW5lKCkscz1lLmdlb21ldHJ5VW5pcXVlSWQscj1lLmdlb21ldHJ5SWQ7aWYoc3x8cil7Y29uc3Qgbj1zP3RoaXMuX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChzLGkpOmkuZ2V0R2VvbWV0cnlCeUlkKHIpO24mJm4uYXBwbHlUb01lc2godCl9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2NvbnN0IG49dC5fYmluYXJ5SW5mbztpZihuLnBvc2l0aW9uc0F0dHJEZXNjJiZuLnBvc2l0aW9uc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ucG9zaXRpb25zQXR0ckRlc2Mub2Zmc2V0LG4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLGEsITEpfWlmKG4ubm9ybWFsc0F0dHJEZXNjJiZuLm5vcm1hbHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLm5vcm1hbHNBdHRyRGVzYy5vZmZzZXQsbi5ub3JtYWxzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxhLCExKX1pZihuLnRhbmdldHNBdHRyRGVzYyYmbi50YW5nZXRzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi50YW5nZXRzQXR0ckRlc2Mub2Zmc2V0LG4udGFuZ2V0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLGEsITEpfWlmKG4udXZzQXR0ckRlc2MmJm4udXZzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnNBdHRyRGVzYy5vZmZzZXQsbi51dnNBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsYSwhMSl9aWYobi51dnMyQXR0ckRlc2MmJm4udXZzMkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzMkF0dHJEZXNjLm9mZnNldCxuLnV2czJBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLGEsITEpfWlmKG4udXZzM0F0dHJEZXNjJiZuLnV2czNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czNBdHRyRGVzYy5vZmZzZXQsbi51dnMzQXR0ckRlc2MuY291bnQpO2lmKGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCxhLCExKX1pZihuLnV2czRBdHRyRGVzYyYmbi51dnM0QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM0QXR0ckRlc2Mub2Zmc2V0LG4udXZzNEF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWNEtpbmQsYSwhMSl9aWYobi51dnM1QXR0ckRlc2MmJm4udXZzNUF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNUF0dHJEZXNjLm9mZnNldCxuLnV2czVBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLGEsITEpfWlmKG4udXZzNkF0dHJEZXNjJiZuLnV2czZBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czZBdHRyRGVzYy5vZmZzZXQsbi51dnM2QXR0ckRlc2MuY291bnQpO2lmKGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCxhLCExKX1pZihuLmNvbG9yc0F0dHJEZXNjJiZuLmNvbG9yc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4uY29sb3JzQXR0ckRlc2Mub2Zmc2V0LG4uY29sb3JzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLGEsITEsbi5jb2xvcnNBdHRyRGVzYy5zdHJpZGUpfWlmKG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsbywhMSl9aWYobi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjJiZuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50KSxvPVtdO2ZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBsPWFbaF07by5wdXNoKGwmMjU1KSxvLnB1c2goKGwmNjUyODApPj44KSxvLnB1c2goKGwmMTY3MTE2ODApPj4xNiksby5wdXNoKGw+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbywhMSl9aWYobi5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYyYmbi5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsYSwhMSl9aWYobi5pbmRpY2VzQXR0ckRlc2MmJm4uaW5kaWNlc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEludDMyQXJyYXkoZSxuLmluZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5pbmRpY2VzQXR0ckRlc2MuY291bnQpO3Quc2V0SW5kaWNlcyhhLG51bGwpfWlmKG4uc3ViTWVzaGVzQXR0ckRlc2MmJm4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uc3ViTWVzaGVzQXR0ckRlc2Mub2Zmc2V0LG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQqNSk7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBvPTA7bzxuLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50O28rKyl7Y29uc3QgaD1hW28qNSswXSxsPWFbbyo1KzFdLHU9YVtvKjUrMl0sZD1hW28qNSszXSxmPWFbbyo1KzRdO3Z0LkFkZFRvTWVzaChoLGwsdSxkLGYsdCl9fX1lbHNlIGlmKGUucG9zaXRpb25zJiZlLm5vcm1hbHMmJmUuaW5kaWNlcyl7aWYodC5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsZS5wb3NpdGlvbnMsZS5wb3NpdGlvbnMuX3VwZGF0YWJsZSksdC5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGUubm9ybWFscyxlLm5vcm1hbHMuX3VwZGF0YWJsZSksZS50YW5nZW50cyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCxlLnRhbmdlbnRzLGUudGFuZ2VudHMuX3VwZGF0YWJsZSksZS51dnMmJnQuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLGUudXZzLGUudXZzLl91cGRhdGFibGUpLGUudXZzMiYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLGUudXZzMixlLnV2czIuX3VwZGF0YWJsZSksZS51dnMzJiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsZS51dnMzLGUudXZzMy5fdXBkYXRhYmxlKSxlLnV2czQmJnQuc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCxlLnV2czQsZS51dnM0Ll91cGRhdGFibGUpLGUudXZzNSYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLGUudXZzNSxlLnV2czUuX3VwZGF0YWJsZSksZS51dnM2JiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsZS51dnM2LGUudXZzNi5fdXBkYXRhYmxlKSxlLmNvbG9ycyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsbWUuQ2hlY2tDb2xvcnM0KGUuY29sb3JzLGUucG9zaXRpb25zLmxlbmd0aC8zKSxlLmNvbG9ycy5fdXBkYXRhYmxlKSxlLm1hdHJpY2VzSW5kaWNlcylpZihlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLGUubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpO2Vsc2V7Y29uc3Qgbj1bXTtmb3IobGV0IGE9MDthPGUubWF0cmljZXNJbmRpY2VzLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNbYV07bi5wdXNoKG8mMjU1KSxuLnB1c2goKG8mNjUyODApPj44KSxuLnB1c2goKG8mMTY3MTE2ODApPj4xNiksbi5wdXNoKG8+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLG4sZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSl9aWYoZS5tYXRyaWNlc0luZGljZXNFeHRyYSlpZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXNFeHRyYS5sZW5ndGg7YSsrKXtjb25zdCBvPWUubWF0cmljZXNJbmRpY2VzRXh0cmFbYV07bi5wdXNoKG8mMjU1KSxuLnB1c2goKG8mNjUyODApPj44KSxuLnB1c2goKG8mMTY3MTE2ODApPj4xNiksbi5wdXNoKG8+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbixlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl91cGRhdGFibGUpfWUubWF0cmljZXNXZWlnaHRzJiYoYXQuX0NsZWFuTWF0cmljZXNXZWlnaHRzKGUsdCksdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLGUubWF0cmljZXNXZWlnaHRzLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpKSxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZ0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpLHQuc2V0SW5kaWNlcyhlLmluZGljZXMsbnVsbCl9aWYoZS5zdWJNZXNoZXMpe3Quc3ViTWVzaGVzPVtdO2ZvcihsZXQgbj0wO248ZS5zdWJNZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT1lLnN1Yk1lc2hlc1tuXTt2dC5BZGRUb01lc2goYS5tYXRlcmlhbEluZGV4LGEudmVydGljZXNTdGFydCxhLnZlcnRpY2VzQ291bnQsYS5pbmRleFN0YXJ0LGEuaW5kZXhDb3VudCx0KX19dC5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZyYmKHQuY29udmVydFRvRmxhdFNoYWRlZE1lc2goKSx0Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExKSx0LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksaS5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpfXN0YXRpYyBfQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KXtpZighT2UuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cylyZXR1cm47bGV0IHM9MDtpZihlLnNrZWxldG9uSWQ+LTEpe2NvbnN0IHU9dC5nZXRTY2VuZSgpLmdldExhc3RTa2VsZXRvbkJ5SWQoZS5za2VsZXRvbklkKTtpZighdSlyZXR1cm47cz11LmJvbmVzLmxlbmd0aH1lbHNlIHJldHVybjtjb25zdCByPXQuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbj10LmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksYT1lLm1hdHJpY2VzV2VpZ2h0cyxvPWUubWF0cmljZXNXZWlnaHRzRXh0cmEsaD1lLm51bUJvbmVJbmZsdWVuY2VyLGw9YS5sZW5ndGg7Zm9yKGxldCB1PTA7dTxsO3UrPTQpe2xldCBkPTAsZj0tMTtmb3IobGV0IF89MDtfPDQ7XysrKXtjb25zdCBFPWFbdStfXTtkKz1FLEU8LjAwMSYmZjwwJiYoZj1fKX1pZihvKWZvcihsZXQgXz0wO188NDtfKyspe2NvbnN0IEU9b1t1K19dO2QrPUUsRTwuMDAxJiZmPDAmJihmPV8rNCl9aWYoKGY8MHx8Zj5oLTEpJiYoZj1oLTEpLGQ+LjAwMSl7Y29uc3QgXz0xL2Q7Zm9yKGxldCBFPTA7RTw0O0UrKylhW3UrRV0qPV87aWYobylmb3IobGV0IEU9MDtFPDQ7RSsrKW9bdStFXSo9X31lbHNlIGY+PTQ/KG9bdStmLTRdPTEtZCxuW3UrZi00XT1zKTooYVt1K2ZdPTEtZCxyW3UrZl09cyl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLHIpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLG4pfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1uZXcgYXQoZS5pZCx0LHZvaWQgMCxlLnVwZGF0YWJsZSk7cmV0dXJuIHMuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZ2UmJmdlLkFkZFRhZ3NUbyhzLGUudGFncyksZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuX2JvdW5kaW5nSW5mbz1uZXcgZHQocC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSkscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChnLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2goZy5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPWVlLkltcG9ydFZlcnRleERhdGEpOmVlLkltcG9ydFZlcnRleERhdGEoZSxzKSx0LnB1c2hHZW9tZXRyeShzLCEwKSxzfX12YXIgVnQ7KGZ1bmN0aW9uKGMpe2NbYy5MT0NBTD0wXT0iTE9DQUwiLGNbYy5XT1JMRD0xXT0iV09STEQiLGNbYy5CT05FPTJdPSJCT05FIn0pKFZ0fHwoVnQ9e30pKTtjbGFzcyBfaXt9X2kuWD1uZXcgcCgxLDAsMCksX2kuWT1uZXcgcCgwLDEsMCksX2kuWj1uZXcgcCgwLDAsMSk7dmFyIENyOyhmdW5jdGlvbihjKXtjW2MuWD0wXT0iWCIsY1tjLlk9MV09IlkiLGNbYy5aPTJdPSJaIn0pKENyfHwoQ3I9e30pKTtjbGFzcyBKIGV4dGVuZHMgemV7Y29uc3RydWN0b3IoZSx0PW51bGwsaT0hMCl7c3VwZXIoZSx0KSx0aGlzLl9mb3J3YXJkPW5ldyBwKDAsMCwxKSx0aGlzLl91cD1uZXcgcCgwLDEsMCksdGhpcy5fcmlnaHQ9bmV3IHAoMSwwLDApLHRoaXMuX3Bvc2l0aW9uPXAuWmVybygpLHRoaXMuX3JvdGF0aW9uPXAuWmVybygpLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1udWxsLHRoaXMuX3NjYWxpbmc9cC5PbmUoKSx0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPW51bGwsdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLl9iaWxsYm9hcmRNb2RlPUouQklMTEJPQVJETU9ERV9OT05FLHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9ITEsdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQ9MSx0aGlzLl9pbmZpbml0ZURpc3RhbmNlPSExLHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc9ITEsdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbj0hMSx0aGlzLl9wb3NlTWF0cml4PW51bGwsdGhpcy5fbG9jYWxNYXRyaXg9eC5aZXJvKCksdGhpcy5fdXNlUGl2b3RNYXRyaXg9ITEsdGhpcy5fYWJzb2x1dGVQb3NpdGlvbj1wLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmc9cC5aZXJvKCksdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb249Wi5JZGVudGl0eSgpLHRoaXMuX3Bpdm90TWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD0hMSx0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9LTEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPSExLGkmJnRoaXMuZ2V0U2NlbmUoKS5hZGRUcmFuc2Zvcm1Ob2RlKHRoaXMpfWdldCBiaWxsYm9hcmRNb2RlKCl7cmV0dXJuIHRoaXMuX2JpbGxib2FyZE1vZGV9c2V0IGJpbGxib2FyZE1vZGUoZSl7dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUmJih0aGlzLl9iaWxsYm9hcmRNb2RlPWUpfWdldCBwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9c2V0IHByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQoZSl7ZSE9PXRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQmJih0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPWUpfWdldCBpbmZpbml0ZURpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9c2V0IGluZmluaXRlRGlzdGFuY2UoZSl7dGhpcy5faW5maW5pdGVEaXN0YW5jZSE9PWUmJih0aGlzLl9pbmZpbml0ZURpc3RhbmNlPWUpfWdldENsYXNzTmFtZSgpe3JldHVybiJUcmFuc2Zvcm1Ob2RlIn1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWUsdGhpcy5faXNEaXJ0eT0hMH1pc1VzaW5nUGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fdXNlUGl2b3RNYXRyaXh9Z2V0IHJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufXNldCByb3RhdGlvbihlKXt0aGlzLl9yb3RhdGlvbj1lLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1udWxsLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc2NhbGluZ31zZXQgc2NhbGluZyhlKXt0aGlzLl9zY2FsaW5nPWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgcm90YXRpb25RdWF0ZXJuaW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbn1zZXQgcm90YXRpb25RdWF0ZXJuaW9uKGUpe3RoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1lLGUmJnRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9pc0RpcnR5PSEwfWdldCBmb3J3YXJkKCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDAsMCx0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fZm9yd2FyZCksdGhpcy5fZm9yd2FyZC5ub3JtYWxpemUoKX1nZXQgdXAoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwxLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3VwKSx0aGlzLl91cC5ub3JtYWxpemUoKX1nZXQgcmlnaHQoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsMCwwLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9yaWdodCksdGhpcy5fcmlnaHQubm9ybWFsaXplKCl9dXBkYXRlUG9zZU1hdHJpeChlKXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeD8odGhpcy5fcG9zZU1hdHJpeC5jb3B5RnJvbShlKSx0aGlzKToodGhpcy5fcG9zZU1hdHJpeD1lLmNsb25lKCksdGhpcyl9Z2V0UG9zZU1hdHJpeCgpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD14LklkZW50aXR5KCkpLHRoaXMuX3Bvc2VNYXRyaXh9X2lzU3luY2hyb25pemVkKCl7Y29uc3QgZT10aGlzLl9jYWNoZTtyZXR1cm4hKHRoaXMuX2JpbGxib2FyZE1vZGUhPT1lLmJpbGxib2FyZE1vZGV8fHRoaXMuX2JpbGxib2FyZE1vZGUhPT1KLkJJTExCT0FSRE1PREVfTk9ORXx8ZS5waXZvdE1hdHJpeFVwZGF0ZWR8fHRoaXMuX2luZmluaXRlRGlzdGFuY2V8fHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5fHx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb24uX2lzRGlydHkpfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCk7Y29uc3QgZT10aGlzLl9jYWNoZTtlLmxvY2FsTWF0cml4VXBkYXRlZD0hMSxlLmJpbGxib2FyZE1vZGU9LTEsZS5pbmZpbml0ZURpc3RhbmNlPSExfWdldCBhYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpfWdldCBhYnNvbHV0ZVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVTY2FsaW5nfWdldCBhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn1zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoZSwhMSl9c2V0UGl2b3RNYXRyaXgoZSx0PSEwKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXguY29weUZyb20oZSksdGhpcy5fdXNlUGl2b3RNYXRyaXg9IXRoaXMuX3Bpdm90TWF0cml4LmlzSWRlbnRpdHkoKSx0aGlzLl9jYWNoZS5waXZvdE1hdHJpeFVwZGF0ZWQ9ITAsdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg9dCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT90aGlzLl9waXZvdE1hdHJpeC5pbnZlcnRUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UpOnRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT14LkludmVydCh0aGlzLl9waXZvdE1hdHJpeCkpLHRoaXN9Z2V0UGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31mcmVlemVXb3JsZE1hdHJpeChlPW51bGwsdD0hMSl7cmV0dXJuIGU/dD8odGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9yb3RhdGlvblF1YXRlcm5pb258fFouSWRlbnRpdHkoKSxlLmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9ZSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfXVuZnJlZXplV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpc31nZXQgaXNXb3JsZE1hdHJpeEZyb3plbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufXNldEFic29sdXRlUG9zaXRpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXM7bGV0IHQsaSxzO2lmKGUueD09PXZvaWQgMCl7aWYoYXJndW1lbnRzLmxlbmd0aDwzKXJldHVybiB0aGlzO3Q9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdfWVsc2UgdD1lLngsaT1lLnkscz1lLno7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHI9RC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQsaSxzLHIsdGhpcy5wb3NpdGlvbil9ZWxzZSB0aGlzLnBvc2l0aW9uLng9dCx0aGlzLnBvc2l0aW9uLnk9aSx0aGlzLnBvc2l0aW9uLno9cztyZXR1cm4gdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbShlKSx0aGlzfXNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249cC5UcmFuc2Zvcm1Ob3JtYWwoZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc31nZXRQb3NpdGlvbkV4cHJlc3NlZEluTG9jYWxTcGFjZSgpe3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3QgZT1ELk1hdHJpeFswXTtyZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXguaW52ZXJ0VG9SZWYoZSkscC5UcmFuc2Zvcm1Ob3JtYWwodGhpcy5wb3NpdGlvbixlKX1sb2NhbGx5VHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1wLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9bG9va0F0KGUsdD0wLGk9MCxzPTAscj1WdC5MT0NBTCl7Y29uc3Qgbj1KLl9Mb29rQXRWZWN0b3JDYWNoZSxhPXI9PT1WdC5MT0NBTD90aGlzLnBvc2l0aW9uOnRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO2lmKGUuc3VidHJhY3RUb1JlZihhLG4pLHRoaXMuc2V0RGlyZWN0aW9uKG4sdCxpLHMpLHI9PT1WdC5XT1JMRCYmdGhpcy5wYXJlbnQpaWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe2NvbnN0IG89RC5NYXRyaXhbMF07dGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeChvKTtjb25zdCBoPUQuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihoKSxoLmludmVydCgpLG8ubXVsdGlwbHlUb1JlZihoLG8pLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeChvKX1lbHNle2NvbnN0IG89RC5RdWF0ZXJuaW9uWzBdO1ouRnJvbUV1bGVyVmVjdG9yVG9SZWYodGhpcy5yb3RhdGlvbixvKTtjb25zdCBoPUQuTWF0cml4WzBdO28udG9Sb3RhdGlvbk1hdHJpeChoKTtjb25zdCBsPUQuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihsKSxsLmludmVydCgpLGgubXVsdGlwbHlUb1JlZihsLGgpLG8uZnJvbVJvdGF0aW9uTWF0cml4KGgpLG8udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pfXJldHVybiB0aGlzfWdldERpcmVjdGlvbihlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiB0aGlzLmdldERpcmVjdGlvblRvUmVmKGUsdCksdH1nZXREaXJlY3Rpb25Ub1JlZihlLHQpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpLHRoaXN9c2V0RGlyZWN0aW9uKGUsdD0wLGk9MCxzPTApe2NvbnN0IHI9LU1hdGguYXRhbjIoZS56LGUueCkrTWF0aC5QSS8yLG49TWF0aC5zcXJ0KGUueCplLngrZS56KmUueiksYT0tTWF0aC5hdGFuMihlLnksbik7cmV0dXJuIHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP1ouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihyK3QsYStpLHMsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOih0aGlzLnJvdGF0aW9uLng9YStpLHRoaXMucm90YXRpb24ueT1yK3QsdGhpcy5yb3RhdGlvbi56PXMpLHRoaXN9c2V0UGl2b3RQb2ludChlLHQ9VnQuTE9DQUwpe3RoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpPT0wJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7Y29uc3QgaT10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYodD09VnQuV09STEQpe2NvbnN0IHM9RC5NYXRyaXhbMF07aS5pbnZlcnRUb1JlZihzKSxlPXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXMoZSxzKX1yZXR1cm4gdGhpcy5zZXRQaXZvdE1hdHJpeCh4LlRyYW5zbGF0aW9uKC1lLngsLWUueSwtZS56KSwhMCl9Z2V0UGl2b3RQb2ludCgpe2NvbnN0IGU9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKGUpLGV9Z2V0UGl2b3RQb2ludFRvUmVmKGUpe3JldHVybiBlLng9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTJdLGUueT0tdGhpcy5fcGl2b3RNYXRyaXgubVsxM10sZS56PS10aGlzLl9waXZvdE1hdHJpeC5tWzE0XSx0aGlzfWdldEFic29sdXRlUGl2b3RQb2ludCgpe2NvbnN0IGU9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYoZSksZX1nZXRBYnNvbHV0ZVBpdm90UG9pbnRUb1JlZihlKXtyZXR1cm4gdGhpcy5nZXRQaXZvdFBvaW50VG9SZWYoZSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLGUpLHRoaXN9bWFya0FzRGlydHkoZSl7aWYodGhpcy5faXNEaXJ0eSlyZXR1cm4gdGhpcztpZih0aGlzLl9jaGlsZHJlbilmb3IoY29uc3QgdCBvZiB0aGlzLl9jaGlsZHJlbil0Lm1hcmtBc0RpcnR5KGUpO3JldHVybiBzdXBlci5tYXJrQXNEaXJ0eShlKX1zZXRQYXJlbnQoZSx0PSExLGk9ITEpe2lmKCFlJiYhdGhpcy5wYXJlbnQpcmV0dXJuIHRoaXM7Y29uc3Qgcz1ELlF1YXRlcm5pb25bMF0scj1ELlZlY3RvcjNbMF0sbj1ELlZlY3RvcjNbMV0sYT1ELk1hdHJpeFsxXTt4LklkZW50aXR5VG9SZWYoYSk7Y29uc3Qgbz1ELk1hdHJpeFswXTt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7bGV0IGg9dGhpcy5yb3RhdGlvblF1YXRlcm5pb247cmV0dXJuIGh8fChoPUouX1RtcFJvdGF0aW9uLFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueixoKSkseC5Db21wb3NlVG9SZWYodGhpcy5zY2FsaW5nLGgsdGhpcy5wb3NpdGlvbixvKSx0aGlzLnBhcmVudCYmby5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksbyksZSYmKGUuY29tcHV0ZVdvcmxkTWF0cml4KCEwKS5pbnZlcnRUb1JlZihhKSxvLm11bHRpcGx5VG9SZWYoYSxvKSksby5kZWNvbXBvc2UobixzLHIsdD90aGlzOnZvaWQgMCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20ocyk6cy50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5zY2FsaW5nLmNvcHlGcm9tKG4pLHRoaXMucG9zaXRpb24uY29weUZyb20ociksdGhpcy5wYXJlbnQ9ZSxpJiZ0aGlzLnNldFBpdm90TWF0cml4KHguSWRlbnRpdHkoKSksdGhpc31nZXQgbm9uVW5pZm9ybVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmd9X3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSl7cmV0dXJuIHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPT09ZT8hMToodGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ZSwhMCl9YXR0YWNoVG9Cb25lKGUsdCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lPXRoaXMucGFyZW50LHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9dCx0aGlzLnBhcmVudD1lLGUuZ2V0U2tlbGV0b24oKS5wcmVwYXJlKCksZS5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpc31kZXRhY2hGcm9tQm9uZShlPSExKXtyZXR1cm4gdGhpcy5wYXJlbnQ/KHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPW51bGwsZT90aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZTp0aGlzLnBhcmVudD1udWxsLHRoaXMpOihlJiYodGhpcy5wYXJlbnQ9dGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmUpLHRoaXMpfXJvdGF0ZShlLHQsaSl7ZS5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb24udG9RdWF0ZXJuaW9uKCksdGhpcy5yb3RhdGlvbi5zZXRBbGwoMCkpO2xldCBzO2lmKCFpfHxpPT09VnQuTE9DQUwpcz1aLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxKLl9Sb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXtjb25zdCByPUQuTWF0cml4WzBdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYociksZT1wLlRyYW5zZm9ybU5vcm1hbChlLHIpfXM9Wi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsSi5fUm90YXRpb25BeGlzQ2FjaGUpLHMubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9cmV0dXJuIHRoaXN9cm90YXRlQXJvdW5kKGUsdCxpKXt0Lm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249Wi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueiksdGhpcy5yb3RhdGlvbi5zZXRBbGwoMCkpO2NvbnN0IHM9RC5WZWN0b3IzWzBdLHI9RC5WZWN0b3IzWzFdLG49RC5WZWN0b3IzWzJdLGE9RC5RdWF0ZXJuaW9uWzBdLG89RC5NYXRyaXhbMF0saD1ELk1hdHJpeFsxXSxsPUQuTWF0cml4WzJdLHU9RC5NYXRyaXhbM107cmV0dXJuIGUuc3VidHJhY3RUb1JlZih0aGlzLnBvc2l0aW9uLHMpLHguVHJhbnNsYXRpb25Ub1JlZihzLngscy55LHMueixvKSx4LlRyYW5zbGF0aW9uVG9SZWYoLXMueCwtcy55LC1zLnosaCkseC5Sb3RhdGlvbkF4aXNUb1JlZih0LGksbCksaC5tdWx0aXBseVRvUmVmKGwsdSksdS5tdWx0aXBseVRvUmVmKG8sdSksdS5kZWNvbXBvc2UocixhLG4pLHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZShuKSxhLm11bHRpcGx5VG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pLHRoaXN9dHJhbnNsYXRlKGUsdCxpKXtjb25zdCBzPWUuc2NhbGUodCk7aWYoIWl8fGk9PT1WdC5MT0NBTCl7Y29uc3Qgcj10aGlzLmdldFBvc2l0aW9uRXhwcmVzc2VkSW5Mb2NhbFNwYWNlKCkuYWRkKHMpO3RoaXMuc2V0UG9zaXRpb25XaXRoTG9jYWxWZWN0b3Iocil9ZWxzZSB0aGlzLnNldEFic29sdXRlUG9zaXRpb24odGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuYWRkKHMpKTtyZXR1cm4gdGhpc31hZGRSb3RhdGlvbihlLHQsaSl7bGV0IHM7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/cz10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjoocz1ELlF1YXRlcm5pb25bMV0sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHMpKTtjb25zdCByPUQuUXVhdGVybmlvblswXTtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHIpLHMubXVsdGlwbHlJblBsYWNlKHIpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHxzLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzfV9nZXRFZmZlY3RpdmVQYXJlbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnR9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe2lmKHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW4mJiF0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzLl93b3JsZE1hdHJpeDtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO2lmKCF0aGlzLl9pc0RpcnR5JiYhZSYmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PXR8fHRoaXMuaXNTeW5jaHJvbml6ZWQoKSkpcmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD10LHRoaXMuX3dvcmxkTWF0cml4O2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSxzPSh0aGlzLl9iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04pIT09MCxyPXRoaXMuX2JpbGxib2FyZE1vZGUhPT1KLkJJTExCT0FSRE1PREVfTk9ORSYmIXRoaXMucHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZDt0aGlzLl91cGRhdGVDYWNoZSgpO2NvbnN0IG49dGhpcy5fY2FjaGU7bi5waXZvdE1hdHJpeFVwZGF0ZWQ9ITEsbi5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxuLmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLG4ucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsdGhpcy5fY3VycmVudFJlbmRlcklkPXQsdGhpcy5fY2hpbGRVcGRhdGVJZCs9MSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3JvdGF0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3NjYWxpbmcuX2lzRGlydHk9ITE7Y29uc3QgYT10aGlzLl9nZXRFZmZlY3RpdmVQYXJlbnQoKSxvPUouX1RtcFNjYWxpbmc7bGV0IGg9dGhpcy5fcG9zaXRpb247aWYodGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50JiZpKXtjb25zdCB1PWkuZ2V0V29ybGRNYXRyaXgoKSxkPW5ldyBwKHUubVsxMl0sdS5tWzEzXSx1Lm1bMTRdKTtoPUouX1RtcFRyYW5zbGF0aW9uLGguY29weUZyb21GbG9hdHModGhpcy5fcG9zaXRpb24ueCtkLngsdGhpcy5fcG9zaXRpb24ueStkLnksdGhpcy5fcG9zaXRpb24ueitkLnopfW8uY29weUZyb21GbG9hdHModGhpcy5fc2NhbGluZy54KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueSp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnoqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQpO2xldCBsO2lmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj8odGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLl9pc0RpcnR5PSExLGw9dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpJiYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5SW5QbGFjZShaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56KSksdGhpcy5fcm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKSk6KGw9Si5fVG1wUm90YXRpb24sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGwpKSx0aGlzLl91c2VQaXZvdE1hdHJpeCl7Y29uc3QgdT1ELk1hdHJpeFsxXTt4LlNjYWxpbmdUb1JlZihvLngsby55LG8ueix1KTtjb25zdCBkPUQuTWF0cml4WzBdO2wudG9Sb3RhdGlvbk1hdHJpeChkKSx0aGlzLl9waXZvdE1hdHJpeC5tdWx0aXBseVRvUmVmKHUsRC5NYXRyaXhbNF0pLEQuTWF0cml4WzRdLm11bHRpcGx5VG9SZWYoZCx0aGlzLl9sb2NhbE1hdHJpeCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXgmJnRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9sb2NhbE1hdHJpeC5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMoaC54LGgueSxoLnopfWVsc2UgeC5Db21wb3NlVG9SZWYobyxsLGgsdGhpcy5fbG9jYWxNYXRyaXgpO2lmKGEmJmEuZ2V0V29ybGRNYXRyaXgpe2lmKGUmJmEuY29tcHV0ZVdvcmxkTWF0cml4KGUpLHIpe3RoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw/YS5nZXRXb3JsZE1hdHJpeCgpLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLEQuTWF0cml4WzddKTpELk1hdHJpeFs3XS5jb3B5RnJvbShhLmdldFdvcmxkTWF0cml4KCkpO2NvbnN0IHU9RC5WZWN0b3IzWzVdLGQ9RC5WZWN0b3IzWzZdLGY9RC5RdWF0ZXJuaW9uWzBdO0QuTWF0cml4WzddLmRlY29tcG9zZShkLGYsdSkseC5TY2FsaW5nVG9SZWYoZC54LGQueSxkLnosRC5NYXRyaXhbN10pLEQuTWF0cml4WzddLnNldFRyYW5zbGF0aW9uKHUpLEouQmlsbGJvYXJkVXNlUGFyZW50T3JpZW50YXRpb24mJih0aGlzLl9wb3NpdGlvbi5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGYsdSksdGhpcy5fbG9jYWxNYXRyaXguc2V0VHJhbnNsYXRpb24odSkpLHRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbN10sdGhpcy5fd29ybGRNYXRyaXgpfWVsc2UgdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD8odGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihhLmdldFdvcmxkTWF0cml4KCksRC5NYXRyaXhbNl0pLEQuTWF0cml4WzZdLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KSk6dGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihhLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpO3RoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl93b3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9sb2NhbE1hdHJpeCk7aWYociYmaSYmdGhpcy5iaWxsYm9hcmRNb2RlJiYhcyl7Y29uc3QgdT1ELlZlY3RvcjNbMF07aWYodGhpcy5fd29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZih1KSxELk1hdHJpeFsxXS5jb3B5RnJvbShpLmdldFZpZXdNYXRyaXgoKSksRC5NYXRyaXhbMV0uc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSxELk1hdHJpeFsxXS5pbnZlcnRUb1JlZihELk1hdHJpeFswXSksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfQUxMKSE9PUouQklMTEJPQVJETU9ERV9BTEwpe0QuTWF0cml4WzBdLmRlY29tcG9zZSh2b2lkIDAsRC5RdWF0ZXJuaW9uWzBdLHZvaWQgMCk7Y29uc3QgZD1ELlZlY3RvcjNbMV07RC5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZihkKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9YKSE9PUouQklMTEJPQVJETU9ERV9YJiYoZC54PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1kpIT09Si5CSUxMQk9BUkRNT0RFX1kmJihkLnk9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfWikhPT1KLkJJTExCT0FSRE1PREVfWiYmKGQuej0wKSx4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZC55LGQueCxkLnosRC5NYXRyaXhbMF0pfXRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksdGhpcy5fd29ybGRNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFswXSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb24oRC5WZWN0b3IzWzBdKX1lbHNlIGlmKHImJmkmJnRoaXMuYmlsbGJvYXJkTW9kZSYmcyl7Y29uc3QgdT1ELlZlY3RvcjNbMF07dGhpcy5fd29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZih1KTtjb25zdCBkPWkuZ2xvYmFsUG9zaXRpb247dGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYoRC5NYXRyaXhbMV0pO2NvbnN0IGY9RC5WZWN0b3IzWzFdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihkLEQuTWF0cml4WzFdLGYpLGYubm9ybWFsaXplKCk7Y29uc3QgXz0tTWF0aC5hdGFuMihmLnosZi54KStNYXRoLlBJLzIsRT1NYXRoLnNxcnQoZi54KmYueCtmLnoqZi56KSxtPS1NYXRoLmF0YW4yKGYueSxFKTtpZihaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoXyxtLDAsRC5RdWF0ZXJuaW9uWzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9BTEwpIT09Si5CSUxMQk9BUkRNT0RFX0FMTCl7Y29uc3Qgdj1ELlZlY3RvcjNbMV07RC5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZih2KSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9YKSE9PUouQklMTEJPQVJETU9ERV9YJiYodi54PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1kpIT09Si5CSUxMQk9BUkRNT0RFX1kmJih2Lnk9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfWikhPT1KLkJJTExCT0FSRE1PREVfWiYmKHYuej0wKSx4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodi55LHYueCx2LnosRC5NYXRyaXhbMF0pfWVsc2UgeC5Gcm9tUXVhdGVybmlvblRvUmVmKEQuUXVhdGVybmlvblswXSxELk1hdHJpeFswXSk7dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfXJldHVybiB0aGlzLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpOnRoaXMuX3NjYWxpbmcuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbigxZS02KT90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCEwKTphJiZhLl9ub25Vbmlmb3JtU2NhbGluZz90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKGEuX25vblVuaWZvcm1TY2FsaW5nKTp0aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCExKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb21GbG9hdHModGhpcy5fd29ybGRNYXRyaXgubVsxMl0sdGhpcy5fd29ybGRNYXRyaXgubVsxM10sdGhpcy5fd29ybGRNYXRyaXgubVsxNF0pLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD14LkludmVydCh0aGlzLl93b3JsZE1hdHJpeCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4fXJlc2V0TG9jYWxNYXRyaXgoZT0hMCl7aWYodGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSxlKXtjb25zdCB0PXRoaXMuZ2V0Q2hpbGRyZW4oKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSl7Y29uc3Qgcz10W2ldO2lmKHMpe3MuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3Qgcj1ELk1hdHJpeFswXTtzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2xvY2FsTWF0cml4LHIpO2NvbnN0IG49RC5RdWF0ZXJuaW9uWzBdO3IuZGVjb21wb3NlKHMuc2NhbGluZyxuLHMucG9zaXRpb24pLHMucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG4pOm4udG9FdWxlckFuZ2xlc1RvUmVmKHMucm90YXRpb24pfX19dGhpcy5zY2FsaW5nLmNvcHlGcm9tRmxvYXRzKDEsMSwxKSx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPVouSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe31yZWdpc3RlckFmdGVyV29ybGRNYXRyaXhVcGRhdGUoZSl7cmV0dXJuIHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9Z2V0UG9zaXRpb25JbkNhbWVyYVNwYWNlKGU9bnVsbCl7cmV0dXJuIGV8fChlPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCksZS5nZXRWaWV3TWF0cml4KCkpfWdldERpc3RhbmNlVG9DYW1lcmEoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuc3VidHJhY3QoZS5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCl9Y2xvbmUoZSx0LGkpe2NvbnN0IHM9YWUuQ2xvbmUoKCk9Pm5ldyBKKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKTtpZihzLm5hbWU9ZSxzLmlkPWUsdCYmKHMucGFyZW50PXQpLCFpKXtjb25zdCByPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXtjb25zdCBhPXJbbl07YS5jbG9uZSYmYS5jbG9uZShlKyIuIithLm5hbWUscyl9fXJldHVybiBzfXNlcmlhbGl6ZShlKXtjb25zdCB0PWFlLlNlcmlhbGl6ZSh0aGlzLGUpO3JldHVybiB0LnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSx0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudCh0KSx0LmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1hZS5QYXJzZSgoKT0+bmV3IEooZS5uYW1lLHQpLGUsdCxpKTtyZXR1cm4gZS5sb2NhbE1hdHJpeD9zLnNldFByZVRyYW5zZm9ybU1hdHJpeCh4LkZyb21BcnJheShlLmxvY2FsTWF0cml4KSk6ZS5waXZvdE1hdHJpeCYmcy5zZXRQaXZvdE1hdHJpeCh4LkZyb21BcnJheShlLnBpdm90TWF0cml4KSkscy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzLl93YWl0aW5nUGFyc2VkVW5pcXVlSWQ9ZS51bmlxdWVJZCxlLnBhcmVudElkIT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksc31nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKGUsdCl7Y29uc3QgaT1bXTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMoaSxlLHM9PighdHx8dChzKSkmJnMgaW5zdGFuY2VvZiBKKSxpfWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlVHJhbnNmb3JtTm9kZSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLGUpe2NvbnN0IGk9dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKTtmb3IoY29uc3QgcyBvZiBpKXMucGFyZW50PW51bGwscy5jb21wdXRlV29ybGRNYXRyaXgoITApfXN1cGVyLmRpc3Bvc2UoZSx0KX1ub3JtYWxpemVUb1VuaXRDdWJlKGU9ITAsdD0hMSxpKXtsZXQgcz1udWxsLHI9bnVsbDt0JiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/KHI9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSk6dGhpcy5yb3RhdGlvbiYmKHM9dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKSk7Y29uc3Qgbj10aGlzLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycyhlLGkpLGE9bi5tYXguc3VidHJhY3Qobi5taW4pLG89TWF0aC5tYXgoYS54LGEueSxhLnopO2lmKG89PT0wKXJldHVybiB0aGlzO2NvbnN0IGg9MS9vO3JldHVybiB0aGlzLnNjYWxpbmcuc2NhbGVJblBsYWNlKGgpLHQmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmcj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShyKTp0aGlzLnJvdGF0aW9uJiZzJiZ0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKHMpKSx0aGlzfV9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKXt0aGlzLl9pc0Fic29sdXRlU3luY2VkfHwodGhpcy5fd29ybGRNYXRyaXguZGVjb21wb3NlKHRoaXMuX2Fic29sdXRlU2NhbGluZyx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMCl9fUouQklMTEJPQVJETU9ERV9OT05FPTAsSi5CSUxMQk9BUkRNT0RFX1g9MSxKLkJJTExCT0FSRE1PREVfWT0yLEouQklMTEJPQVJETU9ERV9aPTQsSi5CSUxMQk9BUkRNT0RFX0FMTD03LEouQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT049MTI4LEouQmlsbGJvYXJkVXNlUGFyZW50T3JpZW50YXRpb249ITEsSi5fVG1wUm90YXRpb249Wi5aZXJvKCksSi5fVG1wU2NhbGluZz1wLlplcm8oKSxKLl9UbXBUcmFuc2xhdGlvbj1wLlplcm8oKSxKLl9Mb29rQXRWZWN0b3JDYWNoZT1uZXcgcCgwLDAsMCksSi5fUm90YXRpb25BeGlzQ2FjaGU9bmV3IFosVChbQnQoInBvc2l0aW9uIildLEoucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbQnQoInJvdGF0aW9uIildLEoucHJvdG90eXBlLCJfcm90YXRpb24iLHZvaWQgMCksVChbUm4oInJvdGF0aW9uUXVhdGVybmlvbiIpXSxKLnByb3RvdHlwZSwiX3JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxUKFtCdCgic2NhbGluZyIpXSxKLnByb3RvdHlwZSwiX3NjYWxpbmciLHZvaWQgMCksVChbUigiYmlsbGJvYXJkTW9kZSIpXSxKLnByb3RvdHlwZSwiX2JpbGxib2FyZE1vZGUiLHZvaWQgMCksVChbUigpXSxKLnByb3RvdHlwZSwic2NhbGluZ0RldGVybWluYW50Iix2b2lkIDApLFQoW1IoImluZmluaXRlRGlzdGFuY2UiKV0sSi5wcm90b3R5cGUsIl9pbmZpbml0ZURpc3RhbmNlIix2b2lkIDApLFQoW1IoKV0sSi5wcm90b3R5cGUsImlnbm9yZU5vblVuaWZvcm1TY2FsaW5nIix2b2lkIDApLFQoW1IoKV0sSi5wcm90b3R5cGUsInJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApO2NsYXNzIFVue2NvbnN0cnVjdG9yKCl7dGhpcy5fY2hlY2tDb2xsaXNpb25zPSExLHRoaXMuX2NvbGxpc2lvbk1hc2s9LTEsdGhpcy5fY29sbGlzaW9uR3JvdXA9LTEsdGhpcy5fc3Vycm91bmRpbmdNZXNoZXM9bnVsbCx0aGlzLl9jb2xsaWRlcj1udWxsLHRoaXMuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgcCgwLDAsMCksdGhpcy5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgcCgwLDAsMCksdGhpcy5fY29sbGlzaW9uUmVzcG9uc2U9ITB9fWNsYXNzIGtue2NvbnN0cnVjdG9yKCl7dGhpcy5mYWNldE5iPTAsdGhpcy5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9MTAsdGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW89MS4wMSx0aGlzLmZhY2V0RGF0YUVuYWJsZWQ9ITEsdGhpcy5mYWNldFBhcmFtZXRlcnM9e30sdGhpcy5iYlNpemU9cC5aZXJvKCksdGhpcy5zdWJEaXY9e21heDoxLFg6MSxZOjEsWjoxfSx0aGlzLmZhY2V0RGVwdGhTb3J0PSExLHRoaXMuZmFjZXREZXB0aFNvcnRFbmFibGVkPSExfX1jbGFzcyBWbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2hhc1ZlcnRleEFscGhhPSExLHRoaXMuX3VzZVZlcnRleENvbG9ycz0hMCx0aGlzLl9udW1Cb25lSW5mbHVlbmNlcnM9NCx0aGlzLl9hcHBseUZvZz0hMCx0aGlzLl9yZWNlaXZlU2hhZG93cz0hMSx0aGlzLl9mYWNldERhdGE9bmV3IGtuLHRoaXMuX3Zpc2liaWxpdHk9MSx0aGlzLl9za2VsZXRvbj1udWxsLHRoaXMuX2xheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSEwLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXM9ITEsdGhpcy5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSx0aGlzLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0Q9bnVsbCx0aGlzLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSx0aGlzLl9jb2xsaXNpb25SZXRyeUNvdW50PTMsdGhpcy5fbW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXBJZD0wLHRoaXMuX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1udWxsLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fcG9zaXRpb25zPW51bGwsdGhpcy5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmc9ITEsdGhpcy5fbWVzaENvbGxpc2lvbkRhdGE9bmV3IFVuLHRoaXMuX2VuYWJsZURpc3RhbnRQaWNraW5nPSExfX1jbGFzcyBvdCBleHRlbmRzIEp7Y29uc3RydWN0b3IoZSx0PW51bGwpe3N3aXRjaChzdXBlcihlLHQsITEpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm89bmV3IFZuLHRoaXMuX3dhaXRpbmdNYXRlcmlhbElkPW51bGwsdGhpcy5jdWxsaW5nU3RyYXRlZ3k9b3QuQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD0hMCx0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsLHRoaXMuX3JlbmRlcmluZ0dyb3VwPW51bGwsdGhpcy5hbHBoYUluZGV4PU51bWJlci5NQVhfVkFMVUUsdGhpcy5pc1Zpc2libGU9ITAsdGhpcy5pc1BpY2thYmxlPSEwLHRoaXMuaXNOZWFyUGlja2FibGU9ITEsdGhpcy5pc05lYXJHcmFiYmFibGU9ITEsdGhpcy5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9ITEsdGhpcy5pc0Jsb2NrZXI9ITEsdGhpcy5lbmFibGVQb2ludGVyTW92ZUV2ZW50cz0hMSx0aGlzLm91dGxpbmVDb2xvcj1yZS5SZWQoKSx0aGlzLm91dGxpbmVXaWR0aD0uMDIsdGhpcy5vdmVybGF5Q29sb3I9cmUuUmVkKCksdGhpcy5vdmVybGF5QWxwaGE9LjUsdGhpcy51c2VPY3RyZWVGb3JSZW5kZXJpbmdTZWxlY3Rpb249ITAsdGhpcy51c2VPY3RyZWVGb3JQaWNraW5nPSEwLHRoaXMudXNlT2N0cmVlRm9yQ29sbGlzaW9ucz0hMCx0aGlzLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaD0hMSx0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMSx0aGlzLmFjdGlvbk1hbmFnZXI9bnVsbCx0aGlzLmVsbGlwc29pZD1uZXcgcCguNSwxLC41KSx0aGlzLmVsbGlwc29pZE9mZnNldD1uZXcgcCgwLDAsMCksdGhpcy5lZGdlc1dpZHRoPTEsdGhpcy5lZGdlc0NvbG9yPW5ldyBtZSgxLDAsMCwxKSx0aGlzLl9lZGdlc1JlbmRlcmVyPW51bGwsdGhpcy5fbWFzdGVyTWVzaD1udWxsLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITAsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcz1uZXcgQXJyYXksdGhpcy5fdW5JbmRleGVkPSExLHRoaXMuX2xpZ2h0U291cmNlcz1uZXcgQXJyYXksdGhpcy5fd2FpdGluZ0RhdGE9e2xvZHM6bnVsbCxhY3Rpb25zOm51bGwsZnJlZXplV29ybGRNYXRyaXg6bnVsbH0sdGhpcy5fYm9uZXNUcmFuc2Zvcm1NYXRyaWNlcz1udWxsLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCx0aGlzLm9uUmVidWlsZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZT0oaSxzLHI9bnVsbCk9PntzLnN1YnRyYWN0VG9SZWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucyx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucyksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMubGVuZ3RoKCk+SS5Db2xsaXNpb25zRXBzaWxvbiYmdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSxyJiZ0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucG9zaXRpb24pfSx0PXRoaXMuZ2V0U2NlbmUoKSx0LmFkZE1lc2godGhpcyksdGhpcy5fcmVzeW5jTGlnaHRTb3VyY2VzKCksdGhpcy5fdW5pZm9ybUJ1ZmZlcj1uZXcgVih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlLCF0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNXZWJHUFUpLHRoaXMuX2J1aWxkVW5pZm9ybUxheW91dCgpLHQucGVyZm9ybWFuY2VQcmlvcml0eSl7Y2FzZSBDdC5BZ2dyZXNzaXZlOnRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSEwO2Nhc2UgQ3QuSW50ZXJtZWRpYXRlOnRoaXMuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSEwLHRoaXMuaXNQaWNrYWJsZT0hMTticmVha319c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX05PTkUoKXtyZXR1cm4gSi5CSUxMQk9BUkRNT0RFX05PTkV9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1goKXtyZXR1cm4gSi5CSUxMQk9BUkRNT0RFX1h9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1koKXtyZXR1cm4gSi5CSUxMQk9BUkRNT0RFX1l9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1ooKXtyZXR1cm4gSi5CSUxMQk9BUkRNT0RFX1p9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX0FMTCgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfQUxMfXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04oKXtyZXR1cm4gSi5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTn1nZXQgZmFjZXROYigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXROYn1nZXQgcGFydGl0aW9uaW5nU3ViZGl2aXNpb25zKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnN9c2V0IHBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPWV9Z2V0IHBhcnRpdGlvbmluZ0JCb3hSYXRpbygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nQkJveFJhdGlvfXNldCBwYXJ0aXRpb25pbmdCQm94UmF0aW8oZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz1lfWdldCBtdXN0RGVwdGhTb3J0RmFjZXRzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydH1zZXQgbXVzdERlcHRoU29ydEZhY2V0cyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnQ9ZX1nZXQgZmFjZXREZXB0aFNvcnRGcm9tKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb219c2V0IGZhY2V0RGVwdGhTb3J0RnJvbShlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnRGcm9tPWV9Z2V0IGNvbGxpc2lvblJldHJ5Q291bnQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudH1zZXQgY29sbGlzaW9uUmV0cnlDb3VudChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb2xsaXNpb25SZXRyeUNvdW50PWV9Z2V0IGlzRmFjZXREYXRhRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZH1nZXQgbW9ycGhUYXJnZXRNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcn1zZXQgbW9ycGhUYXJnZXRNYW5hZ2VyKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlciE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXI9ZSx0aGlzLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCkpfWdldCBiYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyfXNldCBiYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpe31fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKXtyZXR1cm4gc3VwZXIuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSk/KHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpLCEwKTohMX1zZXQgb25Db2xsaWRlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlcj10aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXImJnRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXI9dGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IHZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eX1zZXQgdmlzaWJpbGl0eShlKXtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5PT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5O3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9ZSwodD09PTEmJmUhPT0xfHx0IT09MSYmZT09PTEpJiZ0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKX1nZXQgcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmd9c2V0IHBvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3BvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nPWV9Z2V0IHJlbmRlcmluZ0dyb3VwSWQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZH1zZXQgcmVuZGVyaW5nR3JvdXBJZChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZW5kZXJpbmdHcm91cElkPWV9Z2V0IG1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsfXNldCBtYXRlcmlhbChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbD1lLGUmJmUubWVzaE1hcCYmKGUubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT10aGlzKSx0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuc3ViTWVzaGVzJiYodGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3VuQmluZEVmZmVjdCgpKSl9Z2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKGUpe3ZhciB0O3JldHVybih0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0W2VdfXNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyhlLHQpe3RoaXMucmVzZXREcmF3Q2FjaGUoZSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzPVtdKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3NbZV09dH1nZXQgcmVjZWl2ZVNoYWRvd3MoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3N9c2V0IHJlY2VpdmVTaGFkb3dzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaGFzVmVydGV4QWxwaGEoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGF9c2V0IGhhc1ZlcnRleEFscGhhKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCkpfWdldCB1c2VWZXJ0ZXhDb2xvcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzfXNldCB1c2VWZXJ0ZXhDb2xvcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3VzZVZlcnRleENvbG9ycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc31zZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IG51bUJvbmVJbmZsdWVuY2Vycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnN9c2V0IG51bUJvbmVJbmZsdWVuY2VycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBhcHBseUZvZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZ31zZXQgYXBwbHlGb2coZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2chPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2c9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9Z2V0IGVuYWJsZURpc3RhbnRQaWNraW5nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nfXNldCBlbmFibGVEaXN0YW50UGlja2luZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZz1lfWdldCBsYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrfXNldCBsYXllck1hc2soZSl7ZSE9PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzayYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzaz1lLHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpKX1nZXQgY29sbGlzaW9uTWFzaygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFza31zZXQgY29sbGlzaW9uTWFzayhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFzaz1pc05hTihlKT8tMTplfWdldCBjb2xsaXNpb25SZXNwb25zZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uUmVzcG9uc2V9c2V0IGNvbGxpc2lvblJlc3BvbnNlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZT1lfWdldCBjb2xsaXNpb25Hcm91cCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXB9c2V0IGNvbGxpc2lvbkdyb3VwKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25Hcm91cD1pc05hTihlKT8tMTplfWdldCBzdXJyb3VuZGluZ01lc2hlcygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fc3Vycm91bmRpbmdNZXNoZXN9c2V0IHN1cnJvdW5kaW5nTWVzaGVzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlcz1lfWdldCBsaWdodFNvdXJjZXMoKXtyZXR1cm4gdGhpcy5fbGlnaHRTb3VyY2VzfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIG51bGx9c2V0IHNrZWxldG9uKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247dCYmdC5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnQuX3VucmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksZSYmZS5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJmUuX3JlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPWUsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b258fCh0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWdldCBza2VsZXRvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbn1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ3b3JsZCIsMTYpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidmlzaWJpbGl0eSIsMSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX10cmFuc2ZlclRvRWZmZWN0KGUpe2NvbnN0IHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0LnVwZGF0ZU1hdHJpeCgid29ybGQiLGUpLHQudXBkYXRlRmxvYXQoInZpc2liaWxpdHkiLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHkpLHQudXBkYXRlKCl9Z2V0TWVzaFVuaWZvcm1CdWZmZXIoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcn1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQWJzdHJhY3RNZXNoIn10b1N0cmluZyhlKXtsZXQgdD0iTmFtZTogIit0aGlzLm5hbWUrIiwgaXNJbnN0YW5jZTogIisodGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRNZXNoIj8iWUVTIjoiTk8iKTt0Kz0iLCAjIG9mIHN1Ym1lc2hlczogIisodGhpcy5zdWJNZXNoZXM/dGhpcy5zdWJNZXNoZXMubGVuZ3RoOjApO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247cmV0dXJuIGkmJih0Kz0iLCBza2VsZXRvbjogIitpLm5hbWUpLGUmJih0Kz0iLCBiaWxsYm9hcmQgbW9kZTogIitbIk5PTkUiLCJYIiwiWSIsbnVsbCwiWiIsbnVsbCxudWxsLCJBTEwiXVt0aGlzLmJpbGxib2FyZE1vZGVdLHQrPSIsIGZyZWV6ZSB3cmxkIG1hdDogIisodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbnx8dGhpcy5fd2FpdGluZ0RhdGEuZnJlZXplV29ybGRNYXRyaXg/IllFUyI6Ik5PIikpLHR9X2dldEVmZmVjdGl2ZVBhcmVudCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGUhPT1KLkJJTExCT0FSRE1PREVfTk9ORT90aGlzLl9tYXN0ZXJNZXNoOnN1cGVyLl9nZXRFZmZlY3RpdmVQYXJlbnQoKX1fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSx0PSEwKXtpZih0aGlzLmFjdGlvbk1hbmFnZXImJih0fHx0aGlzLmFjdGlvbk1hbmFnZXIuaXNSZWN1cnNpdmUpKWlmKGUpe2lmKHRoaXMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoZSkpcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcn1lbHNlIHJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXI7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV9yZWJ1aWxkKGU9ITEpe2lmKHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksISF0aGlzLnN1Yk1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLnN1Yk1lc2hlcyl0Ll9yZWJ1aWxkKCl9X3Jlc3luY0xpZ2h0U291cmNlcygpe3RoaXMuX2xpZ2h0U291cmNlcy5sZW5ndGg9MDtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNjZW5lKCkubGlnaHRzKWUuaXNFbmFibGVkKCkmJmUuY2FuQWZmZWN0TWVzaCh0aGlzKSYmdGhpcy5fbGlnaHRTb3VyY2VzLnB1c2goZSk7dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfV9yZXN5bmNMaWdodFNvdXJjZShlKXtjb25zdCB0PWUuaXNFbmFibGVkKCkmJmUuY2FuQWZmZWN0TWVzaCh0aGlzKSxpPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKGUpO2xldCBzPSExO2lmKGk9PT0tMSl7aWYoIXQpcmV0dXJuO3RoaXMuX2xpZ2h0U291cmNlcy5wdXNoKGUpfWVsc2V7aWYodClyZXR1cm47cz0hMCx0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKGksMSl9dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShzKX1fdW5CaW5kRWZmZWN0KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zdWJNZXNoZXMpZS5zZXRFZmZlY3QobnVsbCl9X3JlbW92ZUxpZ2h0U291cmNlKGUsdCl7Y29uc3QgaT10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZihlKTtpIT09LTEmJih0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKGksMSksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSh0KSl9X21hcmtTdWJNZXNoZXNBc0RpcnR5KGUpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKWZvcihsZXQgaT0wO2k8dC5fZHJhd1dyYXBwZXJzLmxlbmd0aDsrK2kpe2NvbnN0IHM9dC5fZHJhd1dyYXBwZXJzW2ldOyFzfHwhcy5kZWZpbmVzfHwhcy5kZWZpbmVzLm1hcmtBbGxBc0RpcnR5fHxlKHMuZGVmaW5lcyl9fV9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KGU9ITEpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KHQ9PnQubWFya0FzTGlnaHREaXJ0eShlKSl9X21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGU9PmUubWFya0FzQXR0cmlidXRlc0RpcnR5KCkpfV9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShlPT5lLm1hcmtBc01pc2NEaXJ0eSgpKX1tYXJrQXNEaXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXJlc2V0RHJhd0NhY2hlKGUpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKXQucmVzZXREcmF3Q2FjaGUoZSl9Z2V0IGlzQmxvY2tlZCgpe3JldHVybiExfWdldExPRChlKXtyZXR1cm4gdGhpc31nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIDB9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIDB9Z2V0SW5kaWNlcygpe3JldHVybiBudWxsfWdldFZlcnRpY2VzRGF0YShlKXtyZXR1cm4gbnVsbH1zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXN9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzfXNldEluZGljZXMoZSx0KXtyZXR1cm4gdGhpc31pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7cmV0dXJuITF9Z2V0Qm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5nZXRCb3VuZGluZ0luZm8oKToodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eSYmKHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITEsdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCkpLHRoaXMuX2JvdW5kaW5nSW5mbyl9c2V0Qm91bmRpbmdJbmZvKGUpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89ZSx0aGlzfWdldCBoYXNCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvIT09bnVsbH1idWlsZEJvdW5kaW5nSW5mbyhlLHQsaSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZHQoZSx0LGkpLHRoaXMuX2JvdW5kaW5nSW5mb31ub3JtYWxpemVUb1VuaXRDdWJlKGU9ITAsdD0hMSxpKXtyZXR1cm4gc3VwZXIubm9ybWFsaXplVG9Vbml0Q3ViZShlLHQsaSl9Z2V0IHVzZUJvbmVzKCl7cmV0dXJuIHRoaXMuc2tlbGV0b24mJnRoaXMuZ2V0U2NlbmUoKS5za2VsZXRvbnNFbmFibGVkJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpfV9wcmVBY3RpdmF0ZSgpe31fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl7fV9hY3RpdmF0ZShlLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJZD1lLCEwfV9wb3N0QWN0aXZhdGUoKXt9X2ZyZWV6ZSgpe31fdW5GcmVlemUoKXt9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCYmdGhpcy5iaWxsYm9hcmRNb2RlPT09Si5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaC5nZXRXb3JsZE1hdHJpeCgpOnN1cGVyLmdldFdvcmxkTWF0cml4KCl9X2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk6c3VwZXIuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKX1nZXQgaXNBbkluc3RhbmNlKCl7cmV0dXJuITF9Z2V0IGhhc0luc3RhbmNlcygpe3JldHVybiExfWdldCBoYXNUaGluSW5zdGFuY2VzKCl7cmV0dXJuITF9bW92ZVBPVihlLHQsaSl7cmV0dXJuIHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNNb3ZlUE9WKGUsdCxpKSksdGhpc31jYWxjTW92ZVBPVihlLHQsaSl7Y29uc3Qgcz1uZXcgeDsodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb246Wi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueikpLnRvUm90YXRpb25NYXRyaXgocyk7Y29uc3Qgbj1wLlplcm8oKSxhPXRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ/LTE6MTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlKmEsdCxpKmEscyxuKSxufXJvdGF0ZVBPVihlLHQsaSl7cmV0dXJuIHRoaXMucm90YXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNSb3RhdGVQT1YoZSx0LGkpKSx0aGlzfWNhbGNSb3RhdGVQT1YoZSx0LGkpe2NvbnN0IHM9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8xOi0xO3JldHVybiBuZXcgcChlKnMsdCxpKnMpfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvJiZ0aGlzLl9ib3VuZGluZ0luZm8uaXNMb2NrZWQ/dGhpczoodGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxudWxsKSx0aGlzKX1fcmVmcmVzaEJvdW5kaW5nSW5mbyhlLHQpe2lmKGUpe2NvbnN0IGk9eXIoZSwwLHRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpLHQpO3RoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QoaS5taW5pbXVtLGkubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBkdChpLm1pbmltdW0saS5tYXhpbXVtKX1pZih0aGlzLnN1Yk1lc2hlcylmb3IobGV0IGk9MDtpPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtpKyspdGhpcy5zdWJNZXNoZXNbaV0ucmVmcmVzaEJvdW5kaW5nSW5mbyhlKTt0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKX1fZ2V0RGF0YShlPSExLHQ9ITEsaSxzPWcuUG9zaXRpb25LaW5kKXtpZihpPWk/P3RoaXMuZ2V0VmVydGljZXNEYXRhKHMpLnNsaWNlKCksaSYmdCYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpe2xldCByPTAsbj0wO2ZvcihsZXQgYT0wO2E8aS5sZW5ndGg7YSsrKXtmb3IobGV0IG89MDtvPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLm51bVRhcmdldHM7bysrKXtjb25zdCBoPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmdldFRhcmdldChvKSxsPWguaW5mbHVlbmNlO2lmKGw+MCl7Y29uc3QgdT1oLmdldFBvc2l0aW9ucygpO3UmJihpW2FdKz0odVthXS1pW2FdKSpsKX19aWYocisrLHM9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZyPT09Myl7cj0wO2NvbnN0IG89biozO3RoaXMuX3Bvc2l0aW9uc1tuKytdLmNvcHlGcm9tRmxvYXRzKGlbb10saVtvKzFdLGlbbysyXSl9fX1pZihpJiZlJiZ0aGlzLnNrZWxldG9uKXtjb25zdCByPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKG4mJnIpe2NvbnN0IGE9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnM+NCxvPWE/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpOm51bGwsaD1hP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKTpudWxsLGw9dGhpcy5za2VsZXRvbi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyh0aGlzKSx1PUQuVmVjdG9yM1swXSxkPUQuTWF0cml4WzBdLGY9RC5NYXRyaXhbMV07bGV0IF89MDtmb3IobGV0IEU9MDtFPGkubGVuZ3RoO0UrPTMsXys9NCl7ZC5yZXNldCgpO2xldCBtLHY7Zm9yKG09MDttPDQ7bSsrKXY9bltfK21dLHY+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKGwsTWF0aC5mbG9vcihyW18rbV0qMTYpLHYsZiksZC5hZGRUb1NlbGYoZikpO2lmKGEpZm9yKG09MDttPDQ7bSsrKXY9aFtfK21dLHY+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKGwsTWF0aC5mbG9vcihvW18rbV0qMTYpLHYsZiksZC5hZGRUb1NlbGYoZikpO3M9PT1nLk5vcm1hbEtpbmQ/cC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaVtFXSxpW0UrMV0saVtFKzJdLGQsdSk6cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpW0VdLGlbRSsxXSxpW0UrMl0sZCx1KSx1LnRvQXJyYXkoaSxFKSxzPT09Zy5Qb3NpdGlvbktpbmQmJnRoaXMuX3Bvc2l0aW9ucyYmdGhpcy5fcG9zaXRpb25zW0UvM10uY29weUZyb20odSl9fX1yZXR1cm4gaX1nZXROb3JtYWxzRGF0YShlPSExLHQ9ITEpe3JldHVybiB0aGlzLl9nZXREYXRhKGUsdCxudWxsLGcuTm9ybWFsS2luZCl9Z2V0UG9zaXRpb25EYXRhKGU9ITEsdD0hMSxpKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YShlLHQsaSxnLlBvc2l0aW9uS2luZCl9X2dldFBvc2l0aW9uRGF0YShlLHQpe3ZhciBpO2xldCBzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnMmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCkscyYmKGUmJnRoaXMuc2tlbGV0b258fHQmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKSl7aWYocz1zLnNsaWNlKCksdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLHRoaXMuX3Bvc2l0aW9ucyl7Y29uc3Qgcj10aGlzLl9wb3NpdGlvbnM7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW5ldyBBcnJheShyLmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zW25dPSgoaT1yW25dKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuY2xvbmUoKSl8fG5ldyBwfXJldHVybiB0aGlzLmdldFBvc2l0aW9uRGF0YShlLHQscyl9cmV0dXJuIHN9X3VwZGF0ZUJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnVwZGF0ZSh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGR0KHAuWmVybygpLHAuWmVybygpLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXMuX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzfV91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8oZSl7aWYoIXRoaXMuc3ViTWVzaGVzKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2ZvcihsZXQgaT0wO2k8dDtpKyspe2NvbnN0IHM9dGhpcy5zdWJNZXNoZXNbaV07KHQ+MXx8IXMuSXNHbG9iYWwpJiZzLnVwZGF0ZUJvdW5kaW5nSW5mbyhlKX1yZXR1cm4gdGhpc31fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKXt0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8KHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITApfWlzSW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzSW5GcnVzdHVtKGUsdGhpcy5jdWxsaW5nU3RyYXRlZ3kpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl9aW50ZXJzZWN0c01lc2goZSx0PSExLGkpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSxyPWUuZ2V0Qm91bmRpbmdJbmZvKCk7aWYocy5pbnRlcnNlY3RzKHIsdCkpcmV0dXJuITA7aWYoaSl7Zm9yKGNvbnN0IG4gb2YgdGhpcy5nZXRDaGlsZE1lc2hlcygpKWlmKG4uaW50ZXJzZWN0c01lc2goZSx0LCEwKSlyZXR1cm4hMH1yZXR1cm4hMX1pbnRlcnNlY3RzUG9pbnQoZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaW50ZXJzZWN0c1BvaW50KGUpfWdldCBjaGVja0NvbGxpc2lvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9uc31zZXQgY2hlY2tDb2xsaXNpb25zKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jaGVja0NvbGxpc2lvbnM9ZX1nZXQgY29sbGlkZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfW1vdmVXaXRoQ29sbGlzaW9ucyhlKXt0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGRUb1JlZih0aGlzLmVsbGlwc29pZE9mZnNldCx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zKTtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKS5jb2xsaXNpb25Db29yZGluYXRvcjtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyPWkuY3JlYXRlQ29sbGlkZXIoKSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLl9yYWRpdXM9dGhpcy5lbGxpcHNvaWQsaS5nZXROZXdQb3NpdGlvbih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLGUsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLHRoaXMuY29sbGlzaW9uUmV0cnlDb3VudCx0aGlzLHRoaXMuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UsdGhpcy51bmlxdWVJZCksdGhpc31fY29sbGlkZUZvclN1Yk1lc2goZSx0LGkpe3ZhciBzO2lmKHRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSwhdGhpcy5fcG9zaXRpb25zKXJldHVybiB0aGlzO2lmKCFlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzfHwhZS5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4LmVxdWFscyh0KSl7ZS5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4PXQuY2xvbmUoKSxlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPVtdLGUuX3RyaWFuZ2xlUGxhbmVzPVtdO2NvbnN0IHI9ZS52ZXJ0aWNlc1N0YXJ0LG49ZS52ZXJ0aWNlc1N0YXJ0K2UudmVydGljZXNDb3VudDtmb3IobGV0IGE9cjthPG47YSsrKWUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXMucHVzaChwLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHRoaXMuX3Bvc2l0aW9uc1thXSx0KSl9cmV0dXJuIGkuX2NvbGxpZGUoZS5fdHJpYW5nbGVQbGFuZXMsZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcyx0aGlzLmdldEluZGljZXMoKSxlLmluZGV4U3RhcnQsZS5pbmRleFN0YXJ0K2UuaW5kZXhDb3VudCxlLnZlcnRpY2VzU3RhcnQsISFlLmdldE1hdGVyaWFsKCksdGhpcyx0aGlzLl9zaG91bGRDb252ZXJ0UkhTKCksKChzPWUuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmZpbGxNb2RlKT09PTcpLHRoaXN9X3Byb2Nlc3NDb2xsaXNpb25zRm9yU3ViTWVzaGVzKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRDb2xsaWRpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLGUpLHM9aS5sZW5ndGg7Zm9yKGxldCByPTA7cjxzO3IrKyl7Y29uc3Qgbj1pLmRhdGFbcl07cz4xJiYhbi5fY2hlY2tDb2xsaXNpb24oZSl8fHRoaXMuX2NvbGxpZGVGb3JTdWJNZXNoKG4sdCxlKX1yZXR1cm4gdGhpc31fc2hvdWxkQ29udmVydFJIUygpe3JldHVybiExfV9jaGVja0NvbGxpc2lvbihlKXtpZighdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24oZSkpcmV0dXJuIHRoaXM7Y29uc3QgdD1ELk1hdHJpeFswXSxpPUQuTWF0cml4WzFdO3JldHVybiB4LlNjYWxpbmdUb1JlZigxL2UuX3JhZGl1cy54LDEvZS5fcmFkaXVzLnksMS9lLl9yYWRpdXMueix0KSx0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlLm11bHRpcGx5VG9SZWYodCxpKSx0aGlzLl9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyhlLGkpLHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4hMX1pbnRlcnNlY3RzKGUsdCxpLHM9ITEscixuPSExKXtjb25zdCBhPW5ldyBVdCxvPXRoaXMuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTGluZXNNZXNoInx8dGhpcy5nZXRDbGFzc05hbWUoKT09PSJMaW5lc01lc2giP3RoaXMuaW50ZXJzZWN0aW9uVGhyZXNob2xkOjAsaD10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKCF0aGlzLnN1Yk1lc2hlc3x8IW4mJighZS5pbnRlcnNlY3RzU3BoZXJlKGguYm91bmRpbmdTcGhlcmUsbyl8fCFlLmludGVyc2VjdHNCb3goaC5ib3VuZGluZ0JveCxvKSkpcmV0dXJuIGE7aWYocylyZXR1cm4gYS5oaXQ9IW4sYS5waWNrZWRNZXNoPW4/bnVsbDp0aGlzLGEuZGlzdGFuY2U9bj8wOnAuRGlzdGFuY2UoZS5vcmlnaW4saC5ib3VuZGluZ1NwaGVyZS5jZW50ZXIpLGEuc3ViTWVzaElkPTAsYTtpZighdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpKXJldHVybiBhO2xldCBsPW51bGw7Y29uc3QgdT10aGlzLl9zY2VuZS5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLGUpLGQ9dS5sZW5ndGg7bGV0IGY9ITE7Zm9yKGxldCBfPTA7XzxkO18rKyl7Y29uc3QgbT11LmRhdGFbX10uZ2V0TWF0ZXJpYWwoKTtpZihtJiYobS5maWxsTW9kZT09N3x8bS5maWxsTW9kZT09MHx8bS5maWxsTW9kZT09MXx8bS5maWxsTW9kZT09Mnx8bS5maWxsTW9kZT09NCkpe2Y9ITA7YnJlYWt9fWlmKCFmKXJldHVybiBhLmhpdD0hMCxhLnBpY2tlZE1lc2g9dGhpcyxhLmRpc3RhbmNlPXAuRGlzdGFuY2UoZS5vcmlnaW4saC5ib3VuZGluZ1NwaGVyZS5jZW50ZXIpLGEuc3ViTWVzaElkPS0xLGE7Zm9yKGxldCBfPTA7XzxkO18rKyl7Y29uc3QgRT11LmRhdGFbX107aWYoZD4xJiYhRS5jYW5JbnRlcnNlY3RzKGUpKWNvbnRpbnVlO2NvbnN0IG09RS5pbnRlcnNlY3RzKGUsdGhpcy5fcG9zaXRpb25zLHRoaXMuZ2V0SW5kaWNlcygpLHQsaSk7aWYobSYmKHR8fCFsfHxtLmRpc3RhbmNlPGwuZGlzdGFuY2UpJiYobD1tLGwuc3ViTWVzaElkPV8sdCkpYnJlYWt9aWYobCl7Y29uc3QgXz1yPz90aGlzLmdldFdvcmxkTWF0cml4KCksRT1ELlZlY3RvcjNbMF0sbT1ELlZlY3RvcjNbMV07cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLF8sRSksZS5kaXJlY3Rpb24uc2NhbGVUb1JlZihsLmRpc3RhbmNlLG0pO2NvbnN0IFM9cC5UcmFuc2Zvcm1Ob3JtYWwobSxfKS5hZGRJblBsYWNlKEUpO3JldHVybiBhLmhpdD0hMCxhLmRpc3RhbmNlPXAuRGlzdGFuY2UoRSxTKSxhLnBpY2tlZFBvaW50PVMsYS5waWNrZWRNZXNoPXRoaXMsYS5idT1sLmJ1fHwwLGEuYnY9bC5idnx8MCxhLnN1Yk1lc2hGYWNlSWQ9bC5mYWNlSWQsYS5mYWNlSWQ9bC5mYWNlSWQrdS5kYXRhW2wuc3ViTWVzaElkXS5pbmRleFN0YXJ0Lyh0aGlzLmdldENsYXNzTmFtZSgpLmluZGV4T2YoIkxpbmVzTWVzaCIpIT09LTE/MjozKSxhLnN1Yk1lc2hJZD1sLnN1Yk1lc2hJZCxhfXJldHVybiBhfWNsb25lKGUsdCxpKXtyZXR1cm4gbnVsbH1yZWxlYXNlU3ViTWVzaGVzKCl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKDt0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7KXRoaXMuc3ViTWVzaGVzWzBdLmRpc3Bvc2UoKTtlbHNlIHRoaXMuc3ViTWVzaGVzPW5ldyBBcnJheTtyZXR1cm4gdGhpc31kaXNwb3NlKGUsdD0hMSl7bGV0IGk7Zm9yKHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZXRTY2VuZSgpLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmdldFNjZW5lKCkuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuYWN0aW9uTWFuYWdlciE9PXZvaWQgMCYmdGhpcy5hY3Rpb25NYW5hZ2VyIT09bnVsbCYmKHRoaXMuYWN0aW9uTWFuYWdlci5kaXNwb3NlKCksdGhpcy5hY3Rpb25NYW5hZ2VyPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZSYmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCksaT0wO2k8dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoO2krKyl7Y29uc3Qgbj10aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzc1tpXSxhPW4uX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2YodGhpcyk7bi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3Muc3BsaWNlKGEsMSl9dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoPTAsdGhpcy5nZXRTY2VuZSgpLmxpZ2h0cy5mb3JFYWNoKG49PntsZXQgYT1uLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKHRoaXMpO2EhPT0tMSYmbi5pbmNsdWRlZE9ubHlNZXNoZXMuc3BsaWNlKGEsMSksYT1uLmV4Y2x1ZGVkTWVzaGVzLmluZGV4T2YodGhpcyksYSE9PS0xJiZuLmV4Y2x1ZGVkTWVzaGVzLnNwbGljZShhLDEpO2NvbnN0IG89bi5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYobyl7Y29uc3QgaD1vLnZhbHVlcygpO2ZvcihsZXQgbD1oLm5leHQoKTtsLmRvbmUhPT0hMDtsPWgubmV4dCgpKXtjb25zdCBkPWwudmFsdWUuZ2V0U2hhZG93TWFwKCk7ZCYmZC5yZW5kZXJMaXN0JiYoYT1kLnJlbmRlckxpc3QuaW5kZXhPZih0aGlzKSxhIT09LTEmJmQucmVuZGVyTGlzdC5zcGxpY2UoYSwxKSl9fX0pLCh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZExpbmVzTWVzaCIpJiZ0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtpZih0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLmlzT2NjbHVzaW9uUXVlcnlJblByb2dyZXNzPSExLHIuZGVsZXRlUXVlcnkodGhpcy5fb2NjbHVzaW9uUXVlcnkpLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLHIud2lwZUNhY2hlcygpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVNZXNoKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgbj10aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLmluZGV4T2YodGhpcyk7bj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1lc2hlcy5zcGxpY2UobiwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0JiZ0aGlzLm1hdGVyaWFsJiYodGhpcy5tYXRlcmlhbC5nZXRDbGFzc05hbWUoKT09PSJNdWx0aU1hdGVyaWFsIj90aGlzLm1hdGVyaWFsLmRpc3Bvc2UoITEsITAsITApOnRoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCkpLCFlKWZvcihpPTA7aTx0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtpKyspdGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1tpXS5lbWl0dGVyPT09dGhpcyYmKHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXNbaV0uZGlzcG9zZSgpLGktLSk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWQmJnRoaXMuZGlzYWJsZUZhY2V0RGF0YSgpLHRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVidWlsZE9ic2VydmFibGUuY2xlYXIoKSxzdXBlci5kaXNwb3NlKGUsdCl9YWRkQ2hpbGQoZSx0PSExKXtyZXR1cm4gZS5zZXRQYXJlbnQodGhpcyx0KSx0aGlzfXJlbW92ZUNoaWxkKGUsdD0hMSl7cmV0dXJuIGUuc2V0UGFyZW50KG51bGwsdCksdGhpc31faW5pdEZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO2UuZmFjZXROb3JtYWxzfHwoZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5KSxlLmZhY2V0UG9zaXRpb25zfHwoZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXkpLGUuZmFjZXRQYXJ0aXRpb25pbmd8fChlLmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSksZS5mYWNldE5iPXRoaXMuZ2V0SW5kaWNlcygpLmxlbmd0aC8zfDAsZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM/ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM6MTAsZS5wYXJ0aXRpb25pbmdCQm94UmF0aW89ZS5wYXJ0aXRpb25pbmdCQm94UmF0aW8/ZS5wYXJ0aXRpb25pbmdCQm94UmF0aW86MS4wMTtmb3IobGV0IHQ9MDt0PGUuZmFjZXROYjt0KyspZS5mYWNldE5vcm1hbHNbdF09cC5aZXJvKCksZS5mYWNldFBvc2l0aW9uc1t0XT1wLlplcm8oKTtyZXR1cm4gZS5mYWNldERhdGFFbmFibGVkPSEwLHRoaXN9dXBkYXRlRmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7ZS5mYWNldERhdGFFbmFibGVkfHx0aGlzLl9pbml0RmFjZXREYXRhKCk7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCkscj10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKGUuZmFjZXREZXB0aFNvcnQmJiFlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7aWYoZS5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITAsaSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KWUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKTtlbHNlIGlmKGkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSllLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoaSk7ZWxzZXtsZXQgYT0hMTtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKylpZihpW29dPjY1NTM1KXthPSEwO2JyZWFrfWE/ZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KGkpOmUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKX1pZihlLmZhY2V0RGVwdGhTb3J0RnVuY3Rpb249ZnVuY3Rpb24oYSxvKXtyZXR1cm4gby5zcURpc3RhbmNlLWEuc3FEaXN0YW5jZX0sIWUuZmFjZXREZXB0aFNvcnRGcm9tKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7ZS5mYWNldERlcHRoU29ydEZyb209YT9hLnBvc2l0aW9uOnAuWmVybygpfWUuZGVwdGhTb3J0ZWRGYWNldHM9W107Zm9yKGxldCBhPTA7YTxlLmZhY2V0TmI7YSsrKXtjb25zdCBvPXtpbmQ6YSozLHNxRGlzdGFuY2U6MH07ZS5kZXB0aFNvcnRlZEZhY2V0cy5wdXNoKG8pfWUuaW52ZXJ0ZWRNYXRyaXg9eC5JZGVudGl0eSgpLGUuZmFjZXREZXB0aFNvcnRPcmlnaW49cC5aZXJvKCl9ZS5iYlNpemUueD1yLm1heGltdW0ueC1yLm1pbmltdW0ueD54ZT9yLm1heGltdW0ueC1yLm1pbmltdW0ueDp4ZSxlLmJiU2l6ZS55PXIubWF4aW11bS55LXIubWluaW11bS55PnhlP3IubWF4aW11bS55LXIubWluaW11bS55OnhlLGUuYmJTaXplLno9ci5tYXhpbXVtLnotci5taW5pbXVtLno+eGU/ci5tYXhpbXVtLnotci5taW5pbXVtLno6eGU7bGV0IG49ZS5iYlNpemUueD5lLmJiU2l6ZS55P2UuYmJTaXplLng6ZS5iYlNpemUueTtpZihuPW4+ZS5iYlNpemUuej9uOmUuYmJTaXplLnosZS5zdWJEaXYubWF4PWUucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zLGUuc3ViRGl2Llg9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUueC9uKSxlLnN1YkRpdi5ZPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLnkvbiksZS5zdWJEaXYuWj1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS56L24pLGUuc3ViRGl2Llg9ZS5zdWJEaXYuWDwxPzE6ZS5zdWJEaXYuWCxlLnN1YkRpdi5ZPWUuc3ViRGl2Llk8MT8xOmUuc3ViRGl2LlksZS5zdWJEaXYuWj1lLnN1YkRpdi5aPDE/MTplLnN1YkRpdi5aLGUuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0Tm9ybWFscz10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksZS5mYWNldFBhcmFtZXRlcnMuZmFjZXRQb3NpdGlvbnM9dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksZS5mYWNldFBhcmFtZXRlcnMuZmFjZXRQYXJ0aXRpb25pbmc9dGhpcy5nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCksZS5mYWNldFBhcmFtZXRlcnMuYkluZm89cixlLmZhY2V0UGFyYW1ldGVycy5iYlNpemU9ZS5iYlNpemUsZS5mYWNldFBhcmFtZXRlcnMuc3ViRGl2PWUuc3ViRGl2LGUuZmFjZXRQYXJhbWV0ZXJzLnJhdGlvPXRoaXMucGFydGl0aW9uaW5nQkJveFJhdGlvLGUuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydD1lLmZhY2V0RGVwdGhTb3J0LGUuZmFjZXREZXB0aFNvcnQmJmUuZmFjZXREZXB0aFNvcnRFbmFibGVkJiYodGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKGUuaW52ZXJ0ZWRNYXRyaXgpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLmZhY2V0RGVwdGhTb3J0RnJvbSxlLmludmVydGVkTWF0cml4LGUuZmFjZXREZXB0aFNvcnRPcmlnaW4pLGUuZmFjZXRQYXJhbWV0ZXJzLmRpc3RhbmNlVG89ZS5mYWNldERlcHRoU29ydE9yaWdpbiksZS5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0ZWRGYWNldHM9ZS5kZXB0aFNvcnRlZEZhY2V0cyxzJiZlZS5Db21wdXRlTm9ybWFscyh0LGkscyxlLmZhY2V0UGFyYW1ldGVycyksZS5mYWNldERlcHRoU29ydCYmZS5mYWNldERlcHRoU29ydEVuYWJsZWQpe2UuZGVwdGhTb3J0ZWRGYWNldHMuc29ydChlLmZhY2V0RGVwdGhTb3J0RnVuY3Rpb24pO2NvbnN0IGE9ZS5kZXB0aFNvcnRlZEluZGljZXMubGVuZ3RoLzN8MDtmb3IobGV0IG89MDtvPGE7bysrKXtjb25zdCBoPWUuZGVwdGhTb3J0ZWRGYWNldHNbb10uaW5kO2UuZGVwdGhTb3J0ZWRJbmRpY2VzW28qM109aVtoXSxlLmRlcHRoU29ydGVkSW5kaWNlc1tvKjMrMV09aVtoKzFdLGUuZGVwdGhTb3J0ZWRJbmRpY2VzW28qMysyXT1pW2grMl19dGhpcy51cGRhdGVJbmRpY2VzKGUuZGVwdGhTb3J0ZWRJbmRpY2VzLHZvaWQgMCwhMCl9cmV0dXJuIHRoaXN9Z2V0RmFjZXRMb2NhbE5vcm1hbHMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gZS5mYWNldE5vcm1hbHN8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldE5vcm1hbHN9Z2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0UG9zaXRpb25zfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLGUuZmFjZXRQb3NpdGlvbnN9Z2V0RmFjZXRMb2NhbFBhcnRpdGlvbmluZygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0UGFydGl0aW9uaW5nfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLGUuZmFjZXRQYXJ0aXRpb25pbmd9Z2V0RmFjZXRQb3NpdGlvbihlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiB0aGlzLmdldEZhY2V0UG9zaXRpb25Ub1JlZihlLHQpLHR9Z2V0RmFjZXRQb3NpdGlvblRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKVtlXSxzPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGkscyx0KSx0aGlzfWdldEZhY2V0Tm9ybWFsKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXROb3JtYWxUb1JlZihlLHQpLHR9Z2V0RmFjZXROb3JtYWxUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpW2VdO3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGksdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpLHRoaXN9Z2V0RmFjZXRzQXRMb2NhbENvb3JkaW5hdGVzKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEsbj1NYXRoLmZsb29yKChlLXMubWluaW11bS54KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5YKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLngpLGE9TWF0aC5mbG9vcigodC1zLm1pbmltdW0ueSpyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWSpyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS55KSxvPU1hdGguZmxvb3IoKGktcy5taW5pbXVtLnoqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Lloqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueik7cmV0dXJuIG48MHx8bj5yLnN1YkRpdi5tYXh8fGE8MHx8YT5yLnN1YkRpdi5tYXh8fG88MHx8bz5yLnN1YkRpdi5tYXg/bnVsbDpyLmZhY2V0UGFydGl0aW9uaW5nW24rci5zdWJEaXYubWF4KmErci5zdWJEaXYubWF4KnIuc3ViRGl2Lm1heCpvXX1nZXRDbG9zZXN0RmFjZXRBdENvb3JkaW5hdGVzKGUsdCxpLHMscj0hMSxuPSEwKXtjb25zdCBhPXRoaXMuZ2V0V29ybGRNYXRyaXgoKSxvPUQuTWF0cml4WzVdO2EuaW52ZXJ0VG9SZWYobyk7Y29uc3QgaD1ELlZlY3RvcjNbOF07cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxvLGgpO2NvbnN0IGw9dGhpcy5nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMoaC54LGgueSxoLnoscyxyLG4pO3JldHVybiBzJiZwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHMueCxzLnkscy56LGEscyksbH1nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkscyxyPSExLG49ITApe2xldCBhPW51bGwsbz0wLGg9MCxsPTAsdT0wLGQ9MCxmPTAsXz0wLEU9MDtjb25zdCBtPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHY9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLFM9dGhpcy5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkpO2lmKCFTKXJldHVybiBudWxsO2xldCB5PU51bWJlci5NQVhfVkFMVUUsQT15LEMsYixNO2ZvcihsZXQgTD0wO0w8Uy5sZW5ndGg7TCsrKUM9U1tMXSxiPXZbQ10sTT1tW0NdLHU9KGUtTS54KSpiLngrKHQtTS55KSpiLnkrKGktTS56KSpiLnosKCFyfHxyJiZuJiZ1Pj0wfHxyJiYhbiYmdTw9MCkmJih1PWIueCpNLngrYi55Kk0ueStiLnoqTS56LGQ9LShiLngqZStiLnkqdCtiLnoqaS11KS8oYi54KmIueCtiLnkqYi55K2IueipiLnopLGY9ZStiLngqZCxfPXQrYi55KmQsRT1pK2IueipkLG89Zi1lLGg9Xy10LGw9RS1pLEE9bypvK2gqaCtsKmwsQTx5JiYoeT1BLGE9QyxzJiYocy54PWYscy55PV8scy56PUUpKSk7cmV0dXJuIGF9Z2V0RmFjZXREYXRhUGFyYW1ldGVycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXRQYXJhbWV0ZXJzfWRpc2FibGVGYWNldERhdGEoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gZS5mYWNldERhdGFFbmFibGVkJiYoZS5mYWNldERhdGFFbmFibGVkPSExLGUuZmFjZXRQb3NpdGlvbnM9bmV3IEFycmF5LGUuZmFjZXROb3JtYWxzPW5ldyBBcnJheSxlLmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSxlLmZhY2V0UGFyYW1ldGVycz1udWxsLGUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheSgwKSksdGhpc311cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtyZXR1cm4gdGhpc31jcmVhdGVOb3JtYWxzKGUpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLGk9dGhpcy5nZXRJbmRpY2VzKCk7bGV0IHM7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCk/cz10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpOnM9W10sZWUuQ29tcHV0ZU5vcm1hbHModCxpLHMse3VzZVJpZ2h0SGFuZGVkU3lzdGVtOnRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbX0pLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxzLGUpLHRoaXN9YWxpZ25XaXRoTm9ybWFsKGUsdCl7dHx8KHQ9X2kuWSk7Y29uc3QgaT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV07cmV0dXJuIHAuQ3Jvc3NUb1JlZih0LGUscykscC5Dcm9zc1RvUmVmKGUscyxpKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9aLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoaSxlLHMsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOnAuUm90YXRpb25Gcm9tQXhpc1RvUmVmKGksZSxzLHRoaXMucm90YXRpb24pLHRoaXN9X2NoZWNrT2NjbHVzaW9uUXVlcnkoKXtyZXR1cm4hMX1kaXNhYmxlRWRnZXNSZW5kZXJpbmcoKXt0aHJvdyAkKCJFZGdlc1JlbmRlcmVyIil9ZW5hYmxlRWRnZXNSZW5kZXJpbmcoZSx0LGkpe3Rocm93ICQoIkVkZ2VzUmVuZGVyZXIiKX1nZXRDb25uZWN0ZWRQYXJ0aWNsZVN5c3RlbXMoKXtyZXR1cm4gdGhpcy5fc2NlbmUucGFydGljbGVTeXN0ZW1zLmZpbHRlcihlPT5lLmVtaXR0ZXI9PT10aGlzKX19b3QuT0NDTFVTSU9OX1RZUEVfTk9ORT0wLG90Lk9DQ0xVU0lPTl9UWVBFX09QVElNSVNUSUM9MSxvdC5PQ0NMVVNJT05fVFlQRV9TVFJJQ1Q9MixvdC5PQ0NMVVNJT05fQUxHT1JJVEhNX1RZUEVfQUNDVVJBVEU9MCxvdC5PQ0NMVVNJT05fQUxHT1JJVEhNX1RZUEVfQ09OU0VSVkFUSVZFPTEsb3QuQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEPTAsb3QuQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFk9MSxvdC5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT049MixvdC5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT05fVEhFTl9CU1BIRVJFX09OTFk9MyxpdCgiQkFCWUxPTi5BYnN0cmFjdE1lc2giLG90KTtmdW5jdGlvbiBzcyhjKXtjLmluZGV4T2YoInZDbGlwUGxhbmUiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUiKSxjLmluZGV4T2YoInZDbGlwUGxhbmUyIik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lMiIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTMiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUzIiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lNCIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTQiKSxjLmluZGV4T2YoInZDbGlwUGxhbmU1Iik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lNSIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTYiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmU2Iil9ZnVuY3Rpb24gT3MoYyxlLHQpe3ZhciBpLHMscixuLGEsbztsZXQgaD0hMSxsPShpPWMuY2xpcFBsYW5lKSE9PW51bGwmJmkhPT12b2lkIDA/aTplLmNsaXBQbGFuZTtyZXR1cm4gaD1iaShsLHQsIkNMSVBQTEFORSIpfHxoLGw9KHM9Yy5jbGlwUGxhbmUyKSE9PW51bGwmJnMhPT12b2lkIDA/czplLmNsaXBQbGFuZTIsaD1iaShsLHQsIkNMSVBQTEFORTIiKXx8aCxsPShyPWMuY2xpcFBsYW5lMykhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5jbGlwUGxhbmUzLGg9YmkobCx0LCJDTElQUExBTkUzIil8fGgsbD0obj1jLmNsaXBQbGFuZTQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmUuY2xpcFBsYW5lNCxoPWJpKGwsdCwiQ0xJUFBMQU5FNCIpfHxoLGw9KGE9Yy5jbGlwUGxhbmU1KSE9PW51bGwmJmEhPT12b2lkIDA/YTplLmNsaXBQbGFuZTUsaD1iaShsLHQsIkNMSVBQTEFORTUiKXx8aCxsPShvPWMuY2xpcFBsYW5lNikhPT1udWxsJiZvIT09dm9pZCAwP286ZS5jbGlwUGxhbmU2LGg9YmkobCx0LCJDTElQUExBTkU2Iil8fGgsaH1mdW5jdGlvbiBycyhjLGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPShpPWUuY2xpcFBsYW5lKSE9PW51bGwmJmkhPT12b2lkIDA/aTp0LmNsaXBQbGFuZTtUaShjLCJ2Q2xpcFBsYW5lIixoKSxoPShzPWUuY2xpcFBsYW5lMikhPT1udWxsJiZzIT09dm9pZCAwP3M6dC5jbGlwUGxhbmUyLFRpKGMsInZDbGlwUGxhbmUyIixoKSxoPShyPWUuY2xpcFBsYW5lMykhPT1udWxsJiZyIT09dm9pZCAwP3I6dC5jbGlwUGxhbmUzLFRpKGMsInZDbGlwUGxhbmUzIixoKSxoPShuPWUuY2xpcFBsYW5lNCkhPT1udWxsJiZuIT09dm9pZCAwP246dC5jbGlwUGxhbmU0LFRpKGMsInZDbGlwUGxhbmU0IixoKSxoPShhPWUuY2xpcFBsYW5lNSkhPT1udWxsJiZhIT09dm9pZCAwP2E6dC5jbGlwUGxhbmU1LFRpKGMsInZDbGlwUGxhbmU1IixoKSxoPShvPWUuY2xpcFBsYW5lNikhPT1udWxsJiZvIT09dm9pZCAwP286dC5jbGlwUGxhbmU2LFRpKGMsInZDbGlwUGxhbmU2IixoKX1mdW5jdGlvbiBUaShjLGUsdCl7dCYmYy5zZXRGbG9hdDQoZSx0Lm5vcm1hbC54LHQubm9ybWFsLnksdC5ub3JtYWwueix0LmQpfWZ1bmN0aW9uIGJpKGMsZSx0KXtsZXQgaT0hMDtpZihjKWlmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IHM9IiNkZWZpbmUgIit0O2k9ZS5pbmRleE9mKHMpIT09LTEsaXx8ZS5wdXNoKHMpfWVsc2UgaT1lW3RdLGVbdF09ITA7cmV0dXJuIWl9Y2xhc3MgaWV7c3RhdGljIEJpbmRTY2VuZVVuaWZvcm1CdWZmZXIoZSx0KXt0LmJpbmRUb0VmZmVjdChlLCJTY2VuZSIpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKGUsdCxpKXt0Ll9uZWVkVVZzPSEwLHRbaV09ITAsZS5vcHRpbWl6ZVVWQWxsb2NhdGlvbiYmZS5nZXRUZXh0dXJlTWF0cml4KCkuaXNJZGVudGl0eUFzM3gyKCk/KHRbaSsiRElSRUNUVVYiXT1lLmNvb3JkaW5hdGVzSW5kZXgrMSx0WyJNQUlOVVYiKyhlLmNvb3JkaW5hdGVzSW5kZXgrMSldPSEwKTp0W2krIkRJUkVDVFVWIl09MH1zdGF0aWMgQmluZFRleHR1cmVNYXRyaXgoZSx0LGkpe2NvbnN0IHM9ZS5nZXRUZXh0dXJlTWF0cml4KCk7dC51cGRhdGVNYXRyaXgoaSsiTWF0cml4IixzKX1zdGF0aWMgR2V0Rm9nU3RhdGUoZSx0KXtyZXR1cm4gdC5mb2dFbmFibGVkJiZlLmFwcGx5Rm9nJiZ0LmZvZ01vZGUhPT1uZS5GT0dNT0RFX05PTkV9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHQsaSxzLHIsbixhKXthLl9hcmVNaXNjRGlydHkmJihhLkxPR0FSSVRITUlDREVQVEg9aSxhLlBPSU5UU0laRT1zLGEuRk9HPXImJnRoaXMuR2V0Rm9nU3RhdGUoZSx0KSxhLk5PTlVOSUZPUk1TQ0FMSU5HPWUubm9uVW5pZm9ybVNjYWxpbmcsYS5BTFBIQVRFU1Q9bil9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQ2FtZXJhKGUsdCl7bGV0IGk9ITE7aWYoZS5hY3RpdmVDYW1lcmEpe2NvbnN0IHM9dC5DQU1FUkFfT1JUSE9HUkFQSElDPzE6MCxyPXQuQ0FNRVJBX1BFUlNQRUNUSVZFPzE6MCxuPWUuYWN0aXZlQ2FtZXJhLm1vZGU9PT1qLk9SVEhPR1JBUEhJQ19DQU1FUkE/MTowLGE9ZS5hY3RpdmVDYW1lcmEubW9kZT09PWouUEVSU1BFQ1RJVkVfQ0FNRVJBPzE6MDsoc15ufHxyXmEpJiYodC5DQU1FUkFfT1JUSE9HUkFQSElDPW49PT0xLHQuQ0FNRVJBX1BFUlNQRUNUSVZFPWE9PT0xLGk9ITApfXJldHVybiBpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMoZSx0LGkscyxyLG49bnVsbCxhPSExKXtsZXQgbz1pZS5QcmVwYXJlRGVmaW5lc0ZvckNhbWVyYShlLHMpO24hPT0hMSYmKG89T3MoaSxlLHMpKSxzLkRFUFRIUFJFUEFTUyE9PSF0LmdldENvbG9yV3JpdGUoKSYmKHMuREVQVEhQUkVQQVNTPSFzLkRFUFRIUFJFUEFTUyxvPSEwKSxzLklOU1RBTkNFUyE9PXImJihzLklOU1RBTkNFUz1yLG89ITApLHMuVEhJTl9JTlNUQU5DRVMhPT1hJiYocy5USElOX0lOU1RBTkNFUz1hLG89ITApLG8mJnMubWFya0FzVW5wcm9jZXNzZWQoKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JCb25lcyhlLHQpe2lmKGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKXt0Lk5VTV9CT05FX0lORkxVRU5DRVJTPWUubnVtQm9uZUluZmx1ZW5jZXJzO2NvbnN0IGk9dC5CT05FVEVYVFVSRSE9PXZvaWQgMDtpZihlLnNrZWxldG9uLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJmkpdC5CT05FVEVYVFVSRT0hMDtlbHNle3QuQm9uZXNQZXJNZXNoPWUuc2tlbGV0b24uYm9uZXMubGVuZ3RoKzEsdC5CT05FVEVYVFVSRT1pPyExOnZvaWQgMDtjb25zdCBzPWUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXI7aWYocyYmcy5lbmFibGVkKXtjb25zdCByPXMuZXhjbHVkZWRTa2lubmVkTWVzaC5pbmRleE9mKGUpPT09LTE7dC5CT05FU19WRUxPQ0lUWV9FTkFCTEVEPXJ9fX1lbHNlIHQuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0LkJvbmVzUGVyTWVzaD0wLHQuQk9ORVRFWFRVUkUhPT12b2lkIDAmJih0LkJPTkVURVhUVVJFPSExKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHMoZSx0KXtjb25zdCBpPWUubW9ycGhUYXJnZXRNYW5hZ2VyO2k/KHQuTU9SUEhUQVJHRVRTX1VWPWkuc3VwcG9ydHNVVnMmJnQuVVYxLHQuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9aS5zdXBwb3J0c1RhbmdlbnRzJiZ0LlRBTkdFTlQsdC5NT1JQSFRBUkdFVFNfTk9STUFMPWkuc3VwcG9ydHNOb3JtYWxzJiZ0Lk5PUk1BTCx0Lk1PUlBIVEFSR0VUUz1pLm51bUluZmx1ZW5jZXJzPjAsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9aS5udW1JbmZsdWVuY2Vycyx0Lk1PUlBIVEFSR0VUU19URVhUVVJFPWkuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKToodC5NT1JQSFRBUkdFVFNfVVY9ITEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsdC5NT1JQSFRBUkdFVFM9ITEsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0KXtjb25zdCBpPWUuYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyO3QuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSEhKGkmJmkuaXNFbmFibGVkKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsdCxpLHMscj0hMSxuPSEwLGE9ITApe2lmKCF0Ll9hcmVBdHRyaWJ1dGVzRGlydHkmJnQuX25lZWROb3JtYWxzPT09dC5fbm9ybWFscyYmdC5fbmVlZFVWcz09PXQuX3V2cylyZXR1cm4hMTt0Ll9ub3JtYWxzPXQuX25lZWROb3JtYWxzLHQuX3V2cz10Ll9uZWVkVVZzLHQuTk9STUFMPXQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpLHQuX25lZWROb3JtYWxzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kKSYmKHQuVEFOR0VOVD0hMCk7Zm9yKGxldCBvPTE7bzw9NjsrK28pdFsiVVYiK29dPXQuX25lZWRVVnM/ZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYHV2JHtvPT09MT8iIjpvfWApOiExO2lmKGkpe2NvbnN0IG89ZS51c2VWZXJ0ZXhDb2xvcnMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JLaW5kKTt0LlZFUlRFWENPTE9SPW8sdC5WRVJURVhBTFBIQT1lLmhhc1ZlcnRleEFscGhhJiZvJiZufXJldHVybiBlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9ySW5zdGFuY2VLaW5kKSYmKGUuaGFzSW5zdGFuY2VzfHxlLmhhc1RoaW5JbnN0YW5jZXMpJiYodC5JTlNUQU5DRVNDT0xPUj0hMCkscyYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJvbmVzKGUsdCksciYmdGhpcy5QcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cyhlLHQpLGEmJnRoaXMuUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQpLCEwfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhlLHQpe2lmKGUuYWN0aXZlQ2FtZXJhKXtjb25zdCBpPXQuTVVMVElWSUVXO3QuTVVMVElWSUVXPWUuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldCE9PW51bGwmJmUuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldC5nZXRWaWV3Q291bnQoKT4xLHQuTVVMVElWSUVXIT1pJiZ0Lm1hcmtBc1VucHJvY2Vzc2VkKCl9fXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck9JVChlLHQsaSl7Y29uc3Qgcz10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWSxyPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUzt0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT1lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kmJmksdC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSFlLmdldEVuZ2luZSgpLmdldENhcHMoKS50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmcsKHMhPT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWXx8ciE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUykmJnQubWFya0FzVW5wcm9jZXNzZWQoKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKGUsdCxpKXtjb25zdCBzPXQuUFJFUEFTUztpZighdC5fYXJlUHJlUGFzc0RpcnR5KXJldHVybjtjb25zdCByPVt7dHlwZToxLGRlZmluZToiUFJFUEFTU19QT1NJVElPTiIsaW5kZXg6IlBSRVBBU1NfUE9TSVRJT05fSU5ERVgifSx7dHlwZToyLGRlZmluZToiUFJFUEFTU19WRUxPQ0lUWSIsaW5kZXg6IlBSRVBBU1NfVkVMT0NJVFlfSU5ERVgifSx7dHlwZTozLGRlZmluZToiUFJFUEFTU19SRUZMRUNUSVZJVFkiLGluZGV4OiJQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWCJ9LHt0eXBlOjAsZGVmaW5lOiJQUkVQQVNTX0lSUkFESUFOQ0UiLGluZGV4OiJQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVgifSx7dHlwZTo3LGRlZmluZToiUFJFUEFTU19BTEJFRE9fU1FSVCIsaW5kZXg6IlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVgifSx7dHlwZTo1LGRlZmluZToiUFJFUEFTU19ERVBUSCIsaW5kZXg6IlBSRVBBU1NfREVQVEhfSU5ERVgifSx7dHlwZTo2LGRlZmluZToiUFJFUEFTU19OT1JNQUwiLGluZGV4OiJQUkVQQVNTX05PUk1BTF9JTkRFWCJ9XTtpZihlLnByZVBhc3NSZW5kZXJlciYmZS5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmaSl7dC5QUkVQQVNTPSEwLHQuU0NFTkVfTVJUX0NPVU5UPWUucHJlUGFzc1JlbmRlcmVyLm1ydENvdW50O2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXtjb25zdCBhPWUucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KHJbbl0udHlwZSk7YSE9PS0xPyh0W3Jbbl0uZGVmaW5lXT0hMCx0W3Jbbl0uaW5kZXhdPWEpOnRbcltuXS5kZWZpbmVdPSExfX1lbHNle3QuUFJFUEFTUz0hMTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl0W3Jbbl0uZGVmaW5lXT0hMX10LlBSRVBBU1MhPXMmJih0Lm1hcmtBc1VucHJvY2Vzc2VkKCksdC5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JMaWdodChlLHQsaSxzLHIsbixhKXt2YXIgbztzd2l0Y2goYS5uZWVkTm9ybWFscz0hMCxyWyJMSUdIVCIrc109PT12b2lkIDAmJihhLm5lZWRSZWJ1aWxkPSEwKSxyWyJMSUdIVCIrc109ITAsclsiU1BPVExJR0hUIitzXT0hMSxyWyJIRU1JTElHSFQiK3NdPSExLHJbIlBPSU5UTElHSFQiK3NdPSExLHJbIkRJUkxJR0hUIitzXT0hMSxpLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhyLHMpLHJbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK3NdPSExLHJbIkxJR0hUX0ZBTExPRkZfR0xURiIrc109ITEsclsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrc109ITEsaS5mYWxsb2ZmVHlwZSl7Y2FzZSBFZS5GQUxMT0ZGX0dMVEY6clsiTElHSFRfRkFMTE9GRl9HTFRGIitzXT0hMDticmVhaztjYXNlIEVlLkZBTExPRkZfUEhZU0lDQUw6clsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrc109ITA7YnJlYWs7Y2FzZSBFZS5GQUxMT0ZGX1NUQU5EQVJEOnJbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK3NdPSEwO2JyZWFrfWlmKG4mJiFpLnNwZWN1bGFyLmVxdWFsc0Zsb2F0cygwLDAsMCkmJihhLnNwZWN1bGFyRW5hYmxlZD0hMCksclsiU0hBRE9XIitzXT0hMSxyWyJTSEFET1dDU00iK3NdPSExLHJbIlNIQURPV0NTTURFQlVHIitzXT0hMSxyWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3NdPSExLHJbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK3NdPSExLHJbIlNIQURPV0NTTU5PQkxFTkQiK3NdPSExLHJbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrc109ITEsclsiU0hBRE9XUENGIitzXT0hMSxyWyJTSEFET1dQQ1NTIitzXT0hMSxyWyJTSEFET1dQT0lTU09OIitzXT0hMSxyWyJTSEFET1dFU00iK3NdPSExLHJbIlNIQURPV0NMT1NFRVNNIitzXT0hMSxyWyJTSEFET1dDVUJFIitzXT0hMSxyWyJTSEFET1dMT1dRVUFMSVRZIitzXT0hMSxyWyJTSEFET1dNRURJVU1RVUFMSVRZIitzXT0hMSx0JiZ0LnJlY2VpdmVTaGFkb3dzJiZlLnNoYWRvd3NFbmFibGVkJiZpLnNoYWRvd0VuYWJsZWQpe2NvbnN0IGg9KG89aS5nZXRTaGFkb3dHZW5lcmF0b3IoZS5hY3RpdmVDYW1lcmEpKSE9PW51bGwmJm8hPT12b2lkIDA/bzppLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKGgpe2NvbnN0IGw9aC5nZXRTaGFkb3dNYXAoKTtsJiZsLnJlbmRlckxpc3QmJmwucmVuZGVyTGlzdC5sZW5ndGg+MCYmKGEuc2hhZG93RW5hYmxlZD0hMCxoLnByZXBhcmVEZWZpbmVzKHIscykpfX1pLmxpZ2h0bWFwTW9kZSE9RWUuTElHSFRNQVBfREVGQVVMVD8oYS5saWdodG1hcE1vZGU9ITAsclsiTElHSFRNQVBFWENMVURFRCIrc109ITAsclsiTElHSFRNQVBOT1NQRUNVTEFSIitzXT1pLmxpZ2h0bWFwTW9kZT09RWUuTElHSFRNQVBfU0hBRE9XU09OTFkpOihyWyJMSUdIVE1BUEVYQ0xVREVEIitzXT0hMSxyWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK3NdPSExKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JMaWdodHMoZSx0LGkscyxyPTQsbj0hMSl7aWYoIWkuX2FyZUxpZ2h0c0RpcnR5KXJldHVybiBpLl9uZWVkTm9ybWFscztsZXQgYT0wO2NvbnN0IG89e25lZWROb3JtYWxzOmkuX25lZWROb3JtYWxzLG5lZWRSZWJ1aWxkOiExLGxpZ2h0bWFwTW9kZTohMSxzaGFkb3dFbmFibGVkOiExLHNwZWN1bGFyRW5hYmxlZDohMX07aWYoZS5saWdodHNFbmFibGVkJiYhbil7Zm9yKGNvbnN0IGwgb2YgdC5saWdodFNvdXJjZXMpaWYodGhpcy5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxsLGEsaSxzLG8pLGErKyxhPT09cilicmVha31pLlNQRUNVTEFSVEVSTT1vLnNwZWN1bGFyRW5hYmxlZCxpLlNIQURPV1M9by5zaGFkb3dFbmFibGVkO2ZvcihsZXQgbD1hO2w8cjtsKyspaVsiTElHSFQiK2xdIT09dm9pZCAwJiYoaVsiTElHSFQiK2xdPSExLGlbIkhFTUlMSUdIVCIrbF09ITEsaVsiUE9JTlRMSUdIVCIrbF09ITEsaVsiRElSTElHSFQiK2xdPSExLGlbIlNQT1RMSUdIVCIrbF09ITEsaVsiU0hBRE9XIitsXT0hMSxpWyJTSEFET1dDU00iK2xdPSExLGlbIlNIQURPV0NTTURFQlVHIitsXT0hMSxpWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK2xdPSExLGlbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK2xdPSExLGlbIlNIQURPV0NTTU5PQkxFTkQiK2xdPSExLGlbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrbF09ITEsaVsiU0hBRE9XUENGIitsXT0hMSxpWyJTSEFET1dQQ1NTIitsXT0hMSxpWyJTSEFET1dQT0lTU09OIitsXT0hMSxpWyJTSEFET1dFU00iK2xdPSExLGlbIlNIQURPV0NMT1NFRVNNIitsXT0hMSxpWyJTSEFET1dDVUJFIitsXT0hMSxpWyJTSEFET1dMT1dRVUFMSVRZIitsXT0hMSxpWyJTSEFET1dNRURJVU1RVUFMSVRZIitsXT0hMSk7Y29uc3QgaD1lLmdldEVuZ2luZSgpLmdldENhcHMoKTtyZXR1cm4gaS5TSEFET1dGTE9BVD09PXZvaWQgMCYmKG8ubmVlZFJlYnVpbGQ9ITApLGkuU0hBRE9XRkxPQVQ9by5zaGFkb3dFbmFibGVkJiYoaC50ZXh0dXJlRmxvYXRSZW5kZXImJmgudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxoLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJmgudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyksaS5MSUdIVE1BUEVYQ0xVREVEPW8ubGlnaHRtYXBNb2RlLG8ubmVlZFJlYnVpbGQmJmkucmVidWlsZCgpLG8ubmVlZE5vcm1hbHN9c3RhdGljIFByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQoZSx0LGkscyxyPW51bGwsbj0hMSl7ciYmci5wdXNoKCJMaWdodCIrZSksIW4mJih0LnB1c2goInZMaWdodERhdGEiK2UsInZMaWdodERpZmZ1c2UiK2UsInZMaWdodFNwZWN1bGFyIitlLCJ2TGlnaHREaXJlY3Rpb24iK2UsInZMaWdodEZhbGxvZmYiK2UsInZMaWdodEdyb3VuZCIrZSwibGlnaHRNYXRyaXgiK2UsInNoYWRvd3NJbmZvIitlLCJkZXB0aFZhbHVlcyIrZSksaS5wdXNoKCJzaGFkb3dTYW1wbGVyIitlKSxpLnB1c2goImRlcHRoU2FtcGxlciIrZSksdC5wdXNoKCJ2aWV3RnJ1c3R1bVoiK2UsImNhc2NhZGVCbGVuZEZhY3RvciIrZSwibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLCJkZXB0aENvcnJlY3Rpb24iK2UsInBlbnVtYnJhRGFya25lc3MiK2UsImZydXN0dW1MZW5ndGhzIitlKSxzJiYoaS5wdXNoKCJwcm9qZWN0aW9uTGlnaHRTYW1wbGVyIitlKSx0LnB1c2goInRleHR1cmVQcm9qZWN0aW9uTWF0cml4IitlKSkpfXN0YXRpYyBQcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3QoZSx0LGkscz00KXtsZXQgcixuPW51bGw7aWYoZS51bmlmb3Jtc05hbWVzKXtjb25zdCBhPWU7cj1hLnVuaWZvcm1zTmFtZXMsbj1hLnVuaWZvcm1CdWZmZXJzTmFtZXMsdD1hLnNhbXBsZXJzLGk9YS5kZWZpbmVzLHM9YS5tYXhTaW11bHRhbmVvdXNMaWdodHN8fDB9ZWxzZSByPWUsdHx8KHQ9W10pO2ZvcihsZXQgYT0wO2E8cyYmaVsiTElHSFQiK2FdO2ErKyl0aGlzLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQoYSxyLHQsaVsiUFJPSkVDVEVETElHSFRURVhUVVJFIithXSxuKTtpLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmci5wdXNoKCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKSxpLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmKHIucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncyIpLHIucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkIiksci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRpbWUiKSx0LnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSIpKX1zdGF0aWMgSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhlLHQsaT00LHM9MCl7bGV0IHI9MDtmb3IobGV0IG49MDtuPGkmJmVbIkxJR0hUIituXTtuKyspbj4wJiYocj1zK24sdC5hZGRGYWxsYmFjayhyLCJMSUdIVCIrbikpLGUuU0hBRE9XU3x8KGVbIlNIQURPVyIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XIituKSxlWyJTSEFET1dQQ0YiK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV1BDRiIrbiksZVsiU0hBRE9XUENTUyIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUENTUyIrbiksZVsiU0hBRE9XUE9JU1NPTiIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUE9JU1NPTiIrbiksZVsiU0hBRE9XRVNNIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dFU00iK24pLGVbIlNIQURPV0NMT1NFRVNNIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dDTE9TRUVTTSIrbikpO3JldHVybiByKyt9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMoZSx0LGkpe3RoaXMuX1RtcE1vcnBoSW5mbHVlbmNlcnMuTlVNX01PUlBIX0lORkxVRU5DRVJTPWksdGhpcy5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyhlLHQsdGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycyl9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCxpKXtjb25zdCBzPWkuTlVNX01PUlBIX0lORkxVRU5DRVJTO2lmKHM+MCYmZmUuTGFzdENyZWF0ZWRFbmdpbmUpe2NvbnN0IHI9ZmUuTGFzdENyZWF0ZWRFbmdpbmUuZ2V0Q2FwcygpLm1heFZlcnRleEF0dHJpYnMsbj10Lm1vcnBoVGFyZ2V0TWFuYWdlcjtpZihuIT1udWxsJiZuLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cylyZXR1cm47Y29uc3QgYT1uJiZuLnN1cHBvcnRzTm9ybWFscyYmaS5OT1JNQUwsbz1uJiZuLnN1cHBvcnRzVGFuZ2VudHMmJmkuVEFOR0VOVCxoPW4mJm4uc3VwcG9ydHNVVnMmJmkuVVYxO2ZvcihsZXQgbD0wO2w8cztsKyspZS5wdXNoKGcuUG9zaXRpb25LaW5kK2wpLGEmJmUucHVzaChnLk5vcm1hbEtpbmQrbCksbyYmZS5wdXNoKGcuVGFuZ2VudEtpbmQrbCksaCYmZS5wdXNoKGcuVVZLaW5kKyJfIitsKSxlLmxlbmd0aD5yJiZPLkVycm9yKCJDYW5ub3QgYWRkIG1vcmUgdmVydGV4IGF0dHJpYnV0ZXMgZm9yIG1lc2ggIit0Lm5hbWUpfX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQsaSl7aS5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJmkuSU5TVEFOQ0VTJiZlLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQiKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhlLHQsaSxzKXtpLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJihzLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCx0KSxlLnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSxlLnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxpLk5VTV9CT05FX0lORkxVRU5DRVJTPjQmJihlLnB1c2goZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSx0KXsodC5JTlNUQU5DRVN8fHQuVEhJTl9JTlNUQU5DRVMpJiZ0aGlzLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsISF0LlBSRVBBU1NfVkVMT0NJVFkpLHQuSU5TVEFOQ0VTQ09MT1ImJmUucHVzaChnLkNvbG9ySW5zdGFuY2VLaW5kKX1zdGF0aWMgUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSx0PSExKXtlLnB1c2goIndvcmxkMCIpLGUucHVzaCgid29ybGQxIiksZS5wdXNoKCJ3b3JsZDIiKSxlLnB1c2goIndvcmxkMyIpLHQmJihlLnB1c2goInByZXZpb3VzV29ybGQwIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMSIpLGUucHVzaCgicHJldmlvdXNXb3JsZDIiKSxlLnB1c2goInByZXZpb3VzV29ybGQzIikpfXN0YXRpYyBCaW5kTGlnaHRQcm9wZXJ0aWVzKGUsdCxpKXtlLnRyYW5zZmVyVG9FZmZlY3QodCxpKyIiKX1zdGF0aWMgQmluZExpZ2h0KGUsdCxpLHMscixuPSEwKXtlLl9iaW5kTGlnaHQodCxpLHMscixuKX1zdGF0aWMgQmluZExpZ2h0cyhlLHQsaSxzLHI9NCl7Y29uc3Qgbj1NYXRoLm1pbih0LmxpZ2h0U291cmNlcy5sZW5ndGgscik7Zm9yKGxldCBhPTA7YTxuO2ErKyl7Y29uc3Qgbz10LmxpZ2h0U291cmNlc1thXTt0aGlzLkJpbmRMaWdodChvLGEsZSxpLHR5cGVvZiBzPT0iYm9vbGVhbiI/czpzLlNQRUNVTEFSVEVSTSx0LnJlY2VpdmVTaGFkb3dzKX19c3RhdGljIEJpbmRGb2dQYXJhbWV0ZXJzKGUsdCxpLHM9ITEpe2UuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmZS5mb2dNb2RlIT09bmUuRk9HTU9ERV9OT05FJiYoaS5zZXRGbG9hdDQoInZGb2dJbmZvcyIsZS5mb2dNb2RlLGUuZm9nU3RhcnQsZS5mb2dFbmQsZS5mb2dEZW5zaXR5KSxzPyhlLmZvZ0NvbG9yLnRvTGluZWFyU3BhY2VUb1JlZih0aGlzLl9UZW1wRm9nQ29sb3IpLGkuc2V0Q29sb3IzKCJ2Rm9nQ29sb3IiLHRoaXMuX1RlbXBGb2dDb2xvcikpOmkuc2V0Q29sb3IzKCJ2Rm9nQ29sb3IiLGUuZm9nQ29sb3IpKX1zdGF0aWMgQmluZEJvbmVzUGFyYW1ldGVycyhlLHQsaSl7aWYoISghdHx8IWUpJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKSxlLnVzZUJvbmVzJiZlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZS5za2VsZXRvbikpe2NvbnN0IHM9ZS5za2VsZXRvbjtpZihzLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJnQuZ2V0VW5pZm9ybUluZGV4KCJib25lVGV4dHVyZVdpZHRoIik+LTEpe2NvbnN0IHI9cy5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGUpO3Quc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLHIpLHQuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKHMuYm9uZXMubGVuZ3RoKzEpKX1lbHNle2NvbnN0IHI9cy5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhlKTtyJiYodC5zZXRNYXRyaWNlcygibUJvbmVzIixyKSxpJiZlLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyJiZlLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KDIpJiYoaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdfHwoaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdPXIuc2xpY2UoKSksdC5zZXRNYXRyaWNlcygibVByZXZpb3VzQm9uZXMiLGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSksaWUuX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXMocixpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pKSl9fX1zdGF0aWMgX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXMoZSx0KXtyZXR1cm4gdC5zZXQoZSksdH1zdGF0aWMgQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9ZS5tb3JwaFRhcmdldE1hbmFnZXI7IWV8fCFpfHx0LnNldEZsb2F0QXJyYXkoIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsaS5pbmZsdWVuY2VzKX1zdGF0aWMgQmluZExvZ0RlcHRoKGUsdCxpKXtpZighZXx8ZS5MT0dBUklUSE1JQ0RFUFRIfHxlLmluZGV4T2YmJmUuaW5kZXhPZigiTE9HQVJJVEhNSUNERVBUSCIpPj0wKXtjb25zdCBzPWkuYWN0aXZlQ2FtZXJhO3MubW9kZT09PWouT1JUSE9HUkFQSElDX0NBTUVSQSYmTy5FcnJvcigiTG9nYXJpdGhtaWMgZGVwdGggaXMgbm90IGNvbXBhdGlibGUgd2l0aCBvcnRob2dyYXBoaWMgY2FtZXJhcyEiLDIwKSx0LnNldEZsb2F0KCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLDIvKE1hdGgubG9nKHMubWF4WisxKS9NYXRoLkxOMikpfX19aWUuX1RtcE1vcnBoSW5mbHVlbmNlcnM9e05VTV9NT1JQSF9JTkZMVUVOQ0VSUzowfSxpZS5fVGVtcEZvZ0NvbG9yPXJlLkJsYWNrKCk7Y2xhc3MgV3R7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9NTE5LHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD03NjgwLHRoaXMub3BEZXB0aEZhaWw9NzY4MCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz03NjgxfWdldCBmdW5jKCl7cmV0dXJuIHRoaXMuX2Z1bmN9c2V0IGZ1bmMoZSl7dGhpcy5fZnVuYz1lfWdldCBmdW5jUmVmKCl7cmV0dXJuIHRoaXMuX2Z1bmNSZWZ9c2V0IGZ1bmNSZWYoZSl7dGhpcy5fZnVuY1JlZj1lfWdldCBmdW5jTWFzaygpe3JldHVybiB0aGlzLl9mdW5jTWFza31zZXQgZnVuY01hc2soZSl7dGhpcy5fZnVuY01hc2s9ZX1nZXQgb3BTdGVuY2lsRmFpbCgpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxGYWlsfXNldCBvcFN0ZW5jaWxGYWlsKGUpe3RoaXMuX29wU3RlbmNpbEZhaWw9ZX1nZXQgb3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9c2V0IG9wRGVwdGhGYWlsKGUpe3RoaXMuX29wRGVwdGhGYWlsPWV9Z2V0IG9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IG9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3M9ZX1nZXQgbWFzaygpe3JldHVybiB0aGlzLl9tYXNrfXNldCBtYXNrKGUpe3RoaXMuX21hc2s9ZX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQ9ZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWF0ZXJpYWxTdGVuY2lsU3RhdGUifWNvcHlUbyhlKXthZS5DbG9uZSgoKT0+ZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gYWUuU2VyaWFsaXplKHRoaXMpfXBhcnNlKGUsdCxpKXthZS5QYXJzZSgoKT0+dGhpcyxlLHQsaSl9fVQoW1IoKV0sV3QucHJvdG90eXBlLCJmdW5jIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwiZnVuY1JlZiIsbnVsbCksVChbUigpXSxXdC5wcm90b3R5cGUsImZ1bmNNYXNrIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwib3BTdGVuY2lsRmFpbCIsbnVsbCksVChbUigpXSxXdC5wcm90b3R5cGUsIm9wRGVwdGhGYWlsIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwib3BTdGVuY2lsRGVwdGhQYXNzIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwibWFzayIsbnVsbCksVChbUigpXSxXdC5wcm90b3R5cGUsImVuYWJsZWQiLG51bGwpO3ZhciBRZTsoZnVuY3Rpb24oYyl7Y1tjLkNyZWF0ZWQ9MV09IkNyZWF0ZWQiLGNbYy5EaXNwb3NlZD0yXT0iRGlzcG9zZWQiLGNbYy5HZXREZWZpbmVOYW1lcz00XT0iR2V0RGVmaW5lTmFtZXMiLGNbYy5QcmVwYXJlVW5pZm9ybUJ1ZmZlcj04XT0iUHJlcGFyZVVuaWZvcm1CdWZmZXIiLGNbYy5Jc1JlYWR5Rm9yU3ViTWVzaD0xNl09IklzUmVhZHlGb3JTdWJNZXNoIixjW2MuUHJlcGFyZURlZmluZXM9MzJdPSJQcmVwYXJlRGVmaW5lcyIsY1tjLkJpbmRGb3JTdWJNZXNoPTY0XT0iQmluZEZvclN1Yk1lc2giLGNbYy5QcmVwYXJlRWZmZWN0PTEyOF09IlByZXBhcmVFZmZlY3QiLGNbYy5HZXRBbmltYXRhYmxlcz0yNTZdPSJHZXRBbmltYXRhYmxlcyIsY1tjLkdldEFjdGl2ZVRleHR1cmVzPTUxMl09IkdldEFjdGl2ZVRleHR1cmVzIixjW2MuSGFzVGV4dHVyZT0xMDI0XT0iSGFzVGV4dHVyZSIsY1tjLkZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz0yMDQ4XT0iRmlsbFJlbmRlclRhcmdldFRleHR1cmVzIixjW2MuSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9NDA5Nl09Ikhhc1JlbmRlclRhcmdldFRleHR1cmVzIixjW2MuSGFyZEJpbmRGb3JTdWJNZXNoPTgxOTJdPSJIYXJkQmluZEZvclN1Yk1lc2gifSkoUWV8fChRZT17fSkpO2NsYXNzIFB7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuc2hhZG93RGVwdGhXcmFwcGVyPW51bGwsdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSEwLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITEsdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITEsdGhpcy5zdGF0ZT0iIix0aGlzLl9hbHBoYT0xLHRoaXMuX2JhY2tGYWNlQ3VsbGluZz0hMCx0aGlzLl9jdWxsQmFja0ZhY2VzPSEwLHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc209ITEsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz1udWxsLHRoaXMuZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMSx0aGlzLmFuaW1hdGlvbnM9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl9vbkJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FscGhhTW9kZT0yLHRoaXMuX25lZWREZXB0aFByZVBhc3M9ITEsdGhpcy5kaXNhYmxlRGVwdGhXcml0ZT0hMSx0aGlzLmRpc2FibGVDb2xvcldyaXRlPSExLHRoaXMuZm9yY2VEZXB0aFdyaXRlPSExLHRoaXMuZGVwdGhGdW5jdGlvbj0wLHRoaXMuc2VwYXJhdGVDdWxsaW5nUGFzcz0hMSx0aGlzLl9mb2dFbmFibGVkPSEwLHRoaXMucG9pbnRTaXplPTEsdGhpcy56T2Zmc2V0PTAsdGhpcy56T2Zmc2V0VW5pdHM9MCx0aGlzLnN0ZW5jaWw9bmV3IFd0LHRoaXMuX3VzZVVCTz0hMSx0aGlzLl9maWxsTW9kZT1QLlRyaWFuZ2xlRmlsbE1vZGUsdGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT0hMSx0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9MCx0aGlzLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMSx0aGlzLl9ldmVudEluZm89e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz0oKT0+e30sdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ITEsdGhpcy5fdHJhbnNwYXJlbmN5TW9kZT1udWxsLHRoaXMubmFtZT1lO2NvbnN0IHM9dHx8ZmUuTGFzdENyZWF0ZWRTY2VuZTtzJiYodGhpcy5fc2NlbmU9cyx0aGlzLl9kaXJ0eUNhbGxiYWNrcz17fSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s0XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s4XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxNl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzYzXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuaWQ9ZXx8SC5SYW5kb21JZCgpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9tYXRlcmlhbENvbnRleHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCksdGhpcy5fZHJhd1dyYXBwZXI9bmV3IG1pKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLCExKSx0aGlzLl9kcmF3V3JhcHBlci5tYXRlcmlhbENvbnRleHQ9dGhpcy5fbWF0ZXJpYWxDb250ZXh0LHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3RoaXMuc2lkZU9yaWVudGF0aW9uPVAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOnRoaXMuc2lkZU9yaWVudGF0aW9uPVAuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbix0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fdXNlVUJPPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLGl8fHRoaXMuX3NjZW5lLmFkZE1hdGVyaWFsKHRoaXMpLHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmKHRoaXMubWVzaE1hcD17fSksUC5PbkV2ZW50T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyxRZS5DcmVhdGVkKSl9Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITF9c2V0IGFscGhhKGUpe2lmKHRoaXMuX2FscGhhPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9hbHBoYTt0aGlzLl9hbHBoYT1lLCh0PT09MXx8ZT09PTEpJiZ0aGlzLm1hcmtBc0RpcnR5KFAuTWlzY0RpcnR5RmxhZyl9Z2V0IGFscGhhKCl7cmV0dXJuIHRoaXMuX2FscGhhfXNldCBiYWNrRmFjZUN1bGxpbmcoZSl7dGhpcy5fYmFja0ZhY2VDdWxsaW5nIT09ZSYmKHRoaXMuX2JhY2tGYWNlQ3VsbGluZz1lLHRoaXMubWFya0FzRGlydHkoUC5UZXh0dXJlRGlydHlGbGFnKSl9Z2V0IGJhY2tGYWNlQ3VsbGluZygpe3JldHVybiB0aGlzLl9iYWNrRmFjZUN1bGxpbmd9c2V0IGN1bGxCYWNrRmFjZXMoZSl7dGhpcy5fY3VsbEJhY2tGYWNlcyE9PWUmJih0aGlzLl9jdWxsQmFja0ZhY2VzPWUsdGhpcy5tYXJrQXNEaXJ0eShQLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgY3VsbEJhY2tGYWNlcygpe3JldHVybiB0aGlzLl9jdWxsQmFja0ZhY2VzfWdldCBibG9ja0RpcnR5TWVjaGFuaXNtKCl7cmV0dXJuIHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc219c2V0IGJsb2NrRGlydHlNZWNoYW5pc20oZSl7dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSE9PWUmJih0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrRGlydHkoKSl9YXRvbWljTWF0ZXJpYWxzVXBkYXRlKGUpe3RoaXMuYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMDt0cnl7ZSh0aGlzKX1maW5hbGx5e3RoaXMuYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMX19Z2V0IGhhc1JlbmRlclRhcmdldFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgb25CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZX1zZXQgb25CaW5kKGUpe3RoaXMuX29uQmluZE9ic2VydmVyJiZ0aGlzLm9uQmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmluZE9ic2VydmVyKSx0aGlzLl9vbkJpbmRPYnNlcnZlcj10aGlzLm9uQmluZE9ic2VydmFibGUuYWRkKGUpfWdldCBvblVuQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGV9Z2V0IG9uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZXx8KHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV9c2V0IGFscGhhTW9kZShlKXt0aGlzLl9hbHBoYU1vZGUhPT1lJiYodGhpcy5fYWxwaGFNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShQLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgYWxwaGFNb2RlKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX1zZXQgbmVlZERlcHRoUHJlUGFzcyhlKXt0aGlzLl9uZWVkRGVwdGhQcmVQYXNzIT09ZSYmKHRoaXMuX25lZWREZXB0aFByZVBhc3M9ZSx0aGlzLl9uZWVkRGVwdGhQcmVQYXNzJiYodGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITApKX1nZXQgbmVlZERlcHRoUHJlUGFzcygpe3JldHVybiB0aGlzLl9uZWVkRGVwdGhQcmVQYXNzfWdldCBpc1ByZVBhc3NDYXBhYmxlKCl7cmV0dXJuITF9c2V0IGZvZ0VuYWJsZWQoZSl7dGhpcy5fZm9nRW5hYmxlZCE9PWUmJih0aGlzLl9mb2dFbmFibGVkPWUsdGhpcy5tYXJrQXNEaXJ0eShQLk1pc2NEaXJ0eUZsYWcpKX1nZXQgZm9nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9mb2dFbmFibGVkfWdldCB3aXJlZnJhbWUoKXtzd2l0Y2godGhpcy5fZmlsbE1vZGUpe2Nhc2UgUC5XaXJlRnJhbWVGaWxsTW9kZTpjYXNlIFAuTGluZUxpc3REcmF3TW9kZTpjYXNlIFAuTGluZUxvb3BEcmF3TW9kZTpjYXNlIFAuTGluZVN0cmlwRHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlV2lyZWZyYW1lfXNldCB3aXJlZnJhbWUoZSl7dGhpcy5maWxsTW9kZT1lP1AuV2lyZUZyYW1lRmlsbE1vZGU6UC5UcmlhbmdsZUZpbGxNb2RlfWdldCBwb2ludHNDbG91ZCgpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBQLlBvaW50RmlsbE1vZGU6Y2FzZSBQLlBvaW50TGlzdERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVBvaW50c0Nsb3VkfXNldCBwb2ludHNDbG91ZChlKXt0aGlzLmZpbGxNb2RlPWU/UC5Qb2ludEZpbGxNb2RlOlAuVHJpYW5nbGVGaWxsTW9kZX1nZXQgZmlsbE1vZGUoKXtyZXR1cm4gdGhpcy5fZmlsbE1vZGV9c2V0IGZpbGxNb2RlKGUpe3RoaXMuX2ZpbGxNb2RlIT09ZSYmKHRoaXMuX2ZpbGxNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShQLk1pc2NEaXJ0eUZsYWcpKX1fZ2V0RHJhd1dyYXBwZXIoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXJ9X3NldERyYXdXcmFwcGVyKGUpe3RoaXMuX2RyYXdXcmFwcGVyPWV9dG9TdHJpbmcoZSl7cmV0dXJuIk5hbWU6ICIrdGhpcy5uYW1lfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbCJ9Z2V0IF9pc01hdGVyaWFsKCl7cmV0dXJuITB9Z2V0IGlzRnJvemVuKCl7cmV0dXJuIHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlfWZyZWV6ZSgpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITB9dW5mcmVlemUoKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExfWlzUmVhZHkoZSx0KXtyZXR1cm4hMH1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4gcz8odGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoKTohMX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfWdldCB0cmFuc3BhcmVuY3lNb2RlKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGV9c2V0IHRyYW5zcGFyZW5jeU1vZGUoZSl7dGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PWUmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPWUsdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ZT09PVAuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKSl9Z2V0IF9kaXNhYmxlQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09UC5NQVRFUklBTF9PUEFRVUV8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1QLk1BVEVSSUFMX0FMUEhBVEVTVH1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF9bmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpe3JldHVybiBlLnZpc2liaWxpdHk8MT8hMDp0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTplLmhhc1ZlcnRleEFscGhhfHx0aGlzLm5lZWRBbHBoYUJsZW5kaW5nKCl9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiEhdGhpcy5fZm9yY2VBbHBoYVRlc3R9X3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXtyZXR1cm4hdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMubmVlZEFscGhhVGVzdGluZygpfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gbnVsbH1tYXJrRGlydHkoZT0hMSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCBpIG9mIHQpaWYoaS5zdWJNZXNoZXMpZm9yKGNvbnN0IHMgb2YgaS5zdWJNZXNoZXMpcy5nZXRNYXRlcmlhbCgpPT09dGhpcyYmcy5lZmZlY3QmJihzLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHMuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9bnVsbCxzLmVmZmVjdC5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPWUpO2UmJnRoaXMubWFya0FzRGlydHkoUC5BbGxEaXJ0eUZsYWcpfV9wcmVCaW5kKGUsdD1udWxsKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9KHQ/P3RoaXMuc2lkZU9yaWVudGF0aW9uKT09PVAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uO3JldHVybiBpLmVuYWJsZUVmZmVjdChlfHx0aGlzLl9nZXREcmF3V3JhcHBlcigpKSxpLnNldFN0YXRlKHRoaXMuYmFja0ZhY2VDdWxsaW5nLHRoaXMuek9mZnNldCwhMSxyLHRoaXMuX3NjZW5lLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uPyF0aGlzLmN1bGxCYWNrRmFjZXM6dGhpcy5jdWxsQmFja0ZhY2VzLHRoaXMuc3RlbmNpbCx0aGlzLnpPZmZzZXRVbml0cykscn1iaW5kKGUsdCl7fWJ1aWxkVW5pZm9ybUxheW91dCgpe2NvbnN0IGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0aGlzLl9ldmVudEluZm8udWJvPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoUWUuUHJlcGFyZVVuaWZvcm1CdWZmZXIsdGhpcy5fZXZlbnRJbmZvKSxlLmNyZWF0ZSgpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMH1iaW5kRm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz1pLmVmZmVjdDtzJiYodGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxzLl9mb3JjZVJlYmluZE9uTmV4dENhbGw9ITEpfWJpbmRPbmx5V29ybGRNYXRyaXgoZSl7fWJpbmRWaWV3KGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6ZS5zZXRNYXRyaXgoInZpZXciLHRoaXMuZ2V0U2NlbmUoKS5nZXRWaWV3TWF0cml4KCkpfWJpbmRWaWV3UHJvamVjdGlvbihlKXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOihlLnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksZS5zZXRNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRQcm9qZWN0aW9uTWF0cml4KCkpKX1iaW5kRXllUG9zaXRpb24oZSx0KXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOnRoaXMuX3NjZW5lLmJpbmRFeWVQb3NpdGlvbihlLHQpfV9hZnRlckJpbmQoZSx0PW51bGwpe2lmKHRoaXMuX3NjZW5lLl9jYWNoZWRNYXRlcmlhbD10aGlzLHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibyYmdCYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMSxpZS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKHQsdGhpcy5nZXRTY2VuZSgpLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpLGU/dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9ZS52aXNpYmlsaXR5OnRoaXMuX3NjZW5lLl9jYWNoZWRWaXNpYmlsaXR5PTEsdGhpcy5fb25CaW5kT2JzZXJ2YWJsZSYmZSYmdGhpcy5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9aS5nZXREZXB0aFdyaXRlKCksaS5zZXREZXB0aFdyaXRlKCExKX1pZih0aGlzLmRpc2FibGVDb2xvcldyaXRlKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT1pLmdldENvbG9yV3JpdGUoKSxpLnNldENvbG9yV3JpdGUoITEpfWlmKHRoaXMuZGVwdGhGdW5jdGlvbiE9PTApe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkRGVwdGhGdW5jdGlvblN0YXRlPWkuZ2V0RGVwdGhGdW5jdGlvbigpfHwwLGkuc2V0RGVwdGhGdW5jdGlvbih0aGlzLmRlcHRoRnVuY3Rpb24pfX11bmJpbmQoKXt0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5kZXB0aEZ1bmN0aW9uIT09MCYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0RGVwdGhGdW5jdGlvbih0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGUpLHRoaXMuZGlzYWJsZURlcHRoV3JpdGUmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldERlcHRoV3JpdGUodGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlKSx0aGlzLmRpc2FibGVDb2xvcldyaXRlJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXRDb2xvcldyaXRlKHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZSl9Z2V0QW5pbWF0YWJsZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFuaW1hdGFibGVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFFlLkdldEFuaW1hdGFibGVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFuaW1hdGFibGVzfWdldEFjdGl2ZVRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlcz1bXSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhRZS5HZXRBY3RpdmVUZXh0dXJlcyx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlc31oYXNUZXh0dXJlKGUpe3JldHVybiB0aGlzLl9ldmVudEluZm8uaGFzVGV4dHVyZT0hMSx0aGlzLl9ldmVudEluZm8udGV4dHVyZT1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFFlLkhhc1RleHR1cmUsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzVGV4dHVyZX1jbG9uZShlKXtyZXR1cm4gbnVsbH1nZXRCaW5kZWRNZXNoZXMoKXtpZih0aGlzLm1lc2hNYXApe2NvbnN0IGU9bmV3IEFycmF5O2Zvcihjb25zdCB0IGluIHRoaXMubWVzaE1hcCl7Y29uc3QgaT10aGlzLm1lc2hNYXBbdF07aSYmZS5wdXNoKGkpfXJldHVybiBlfWVsc2UgcmV0dXJuIHRoaXMuX3NjZW5lLm1lc2hlcy5maWx0ZXIodD0+dC5tYXRlcmlhbD09PXRoaXMpfWZvcmNlQ29tcGlsYXRpb24oZSx0LGkscyl7Y29uc3Qgcj17Y2xpcFBsYW5lOiExLHVzZUluc3RhbmNlczohMSwuLi5pfSxuPXRoaXMuZ2V0U2NlbmUoKSxhPXRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZzt0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITE7Y29uc3Qgbz0oKT0+e2lmKCF0aGlzLl9zY2VuZXx8IXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpKXJldHVybjtjb25zdCBoPW4uY2xpcFBsYW5lO2lmKHIuY2xpcFBsYW5lJiYobi5jbGlwUGxhbmU9bmV3IHh0KDAsMCwwLDEpKSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtsZXQgbD0hMCx1PW51bGw7aWYoZS5zdWJNZXNoZXMpe2NvbnN0IGQ9bmV3IHZ0KDAsMCwwLDAsMCxlLHZvaWQgMCwhMSwhMSk7ZC5tYXRlcmlhbERlZmluZXMmJihkLm1hdGVyaWFsRGVmaW5lcy5fcmVuZGVySWQ9LTEpLHRoaXMuaXNSZWFkeUZvclN1Yk1lc2goZSxkLHIudXNlSW5zdGFuY2VzKXx8KGQuZWZmZWN0JiZkLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCkmJmQuZWZmZWN0LmFsbEZhbGxiYWNrc1Byb2Nlc3NlZCgpP3U9ZC5lZmZlY3QuZ2V0Q29tcGlsYXRpb25FcnJvcigpOihsPSExLHNldFRpbWVvdXQobywxNikpKX1sJiYodGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPWEsdSYmcyYmcyh1KSx0JiZ0KHRoaXMpKX1lbHNlIHRoaXMuaXNSZWFkeSgpPyh0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9YSx0JiZ0KHRoaXMpKTpzZXRUaW1lb3V0KG8sMTYpO3IuY2xpcFBsYW5lJiYobi5jbGlwUGxhbmU9aCl9O28oKX1mb3JjZUNvbXBpbGF0aW9uQXN5bmMoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9Pnt0aGlzLmZvcmNlQ29tcGlsYXRpb24oZSwoKT0+e2koKX0sdCxyPT57cyhyKX0pfSl9bWFya0FzRGlydHkoZSl7dGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbXx8KFAuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGg9MCxlJlAuVGV4dHVyZURpcnR5RmxhZyYmUC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goUC5fVGV4dHVyZURpcnR5Q2FsbEJhY2spLGUmUC5MaWdodERpcnR5RmxhZyYmUC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goUC5fTGlnaHRzRGlydHlDYWxsQmFjayksZSZQLkZyZXNuZWxEaXJ0eUZsYWcmJlAuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKFAuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKSxlJlAuQXR0cmlidXRlc0RpcnR5RmxhZyYmUC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goUC5fQXR0cmlidXRlRGlydHlDYWxsQmFjayksZSZQLk1pc2NEaXJ0eUZsYWcmJlAuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKFAuX01pc2NEaXJ0eUNhbGxCYWNrKSxlJlAuUHJlUGFzc0RpcnR5RmxhZyYmUC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goUC5fUHJlUGFzc0RpcnR5Q2FsbEJhY2spLFAuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGgmJnRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX1J1bkRpcnR5Q2FsbEJhY2tzKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX1yZXNldERyYXdDYWNoZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgdCBvZiBlKWlmKHQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuZ2V0TWF0ZXJpYWwoKT09PXRoaXMmJmkucmVzZXREcmF3Q2FjaGUoKX1fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoZSl7aWYodGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCBpIG9mIHQpaWYoaS5zdWJNZXNoZXMpe2Zvcihjb25zdCBzIG9mIGkuc3ViTWVzaGVzKWlmKHMuZ2V0TWF0ZXJpYWwoITEpPT09dGhpcylmb3IoY29uc3QgciBvZiBzLl9kcmF3V3JhcHBlcnMpIXJ8fCFyLmRlZmluZXN8fCFyLmRlZmluZXMubWFya0FsbEFzRGlydHl8fHRoaXMuX21hdGVyaWFsQ29udGV4dD09PXIubWF0ZXJpYWxDb250ZXh0JiZlKHIuZGVmaW5lcyl9fV9tYXJrU2NlbmVQcmVQYXNzRGlydHkoKXtpZih0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHx0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKS5lbmFibGVQcmVQYXNzUmVuZGVyZXIoKTtlJiZlLm1hcmtBc0RpcnR5KCl9X21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fQWxsRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9UZXh0dXJlRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fTGlnaHRzRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9NaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX01pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2spfXNldFByZVBhc3NSZW5kZXJlcihlKXtyZXR1cm4hMX1kaXNwb3NlKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZihzLnN0b3BBbmltYXRpb24odGhpcykscy5mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzKCkscy5yZW1vdmVNYXRlcmlhbCh0aGlzKSx0aGlzLl9ldmVudEluZm8uZm9yY2VEaXNwb3NlVGV4dHVyZXM9dCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhRZS5EaXNwb3NlZCx0aGlzLl9ldmVudEluZm8pLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcj10aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5zcGxpY2UociwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZihpIT09ITApaWYodGhpcy5tZXNoTWFwKWZvcihjb25zdCByIGluIHRoaXMubWVzaE1hcCl7Y29uc3Qgbj10aGlzLm1lc2hNYXBbcl07biYmKG4ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChuLGUpKX1lbHNle2NvbnN0IHI9cy5tZXNoZXM7Zm9yKGNvbnN0IG4gb2YgciluLm1hdGVyaWFsPT09dGhpcyYmIW4uc291cmNlTWVzaCYmKG4ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChuLGUpKX10aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSxlJiZ0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QmJih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuZGlzcG9zZSgpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD1udWxsKSx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vblVuQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiZ0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXZlbnRJbmZvJiYodGhpcy5fZXZlbnRJbmZvPXt9KX1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSx0KXtpZihlLmdlb21ldHJ5KXtjb25zdCBpPWUuZ2VvbWV0cnk7aWYodGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IoY29uc3QgcyBvZiBlLnN1Yk1lc2hlcylpLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Qocy5lZmZlY3QpLHQmJnMuZWZmZWN0JiZzLmVmZmVjdC5kaXNwb3NlKCk7ZWxzZSBpLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KX19c2VyaWFsaXplKCl7Y29uc3QgZT1hZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGUuc3RlbmNpbD10aGlzLnN0ZW5jaWwuc2VyaWFsaXplKCksZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGV9c3RhdGljIFBhcnNlKGUsdCxpKXtpZighZS5jdXN0b21UeXBlKWUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIjtlbHNlIGlmKGUuY3VzdG9tVHlwZT09PSJCQUJZTE9OLlBCUk1hdGVyaWFsIiYmZS5vdmVybG9hZGVkQWxiZWRvJiYoZS5jdXN0b21UeXBlPSJCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsIiwhQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCkpcmV0dXJuIE8uRXJyb3IoIllvdXIgc2NlbmUgaXMgdHJ5aW5nIHRvIGxvYWQgYSBsZWdhY3kgdmVyc2lvbiBvZiB0aGUgUEJSTWF0ZXJpYWwsIHBsZWFzZSwgaW5jbHVkZSBpdCBmcm9tIHRoZSBtYXRlcmlhbHMgbGlicmFyeS4iKSxudWxsO2NvbnN0IHI9SC5JbnN0YW50aWF0ZShlLmN1c3RvbVR5cGUpLlBhcnNlKGUsdCxpKTtyZXR1cm4gci5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxyfX1QLlRyaWFuZ2xlRmlsbE1vZGU9MCxQLldpcmVGcmFtZUZpbGxNb2RlPTEsUC5Qb2ludEZpbGxNb2RlPTIsUC5Qb2ludExpc3REcmF3TW9kZT0zLFAuTGluZUxpc3REcmF3TW9kZT00LFAuTGluZUxvb3BEcmF3TW9kZT01LFAuTGluZVN0cmlwRHJhd01vZGU9NixQLlRyaWFuZ2xlU3RyaXBEcmF3TW9kZT03LFAuVHJpYW5nbGVGYW5EcmF3TW9kZT04LFAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTAsUC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTEsUC5UZXh0dXJlRGlydHlGbGFnPTEsUC5MaWdodERpcnR5RmxhZz0yLFAuRnJlc25lbERpcnR5RmxhZz00LFAuQXR0cmlidXRlc0RpcnR5RmxhZz04LFAuTWlzY0RpcnR5RmxhZz0xNixQLlByZVBhc3NEaXJ0eUZsYWc9MzIsUC5BbGxEaXJ0eUZsYWc9NjMsUC5NQVRFUklBTF9PUEFRVUU9MCxQLk1BVEVSSUFMX0FMUEhBVEVTVD0xLFAuTUFURVJJQUxfQUxQSEFCTEVORD0yLFAuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQ9MyxQLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VUPTAsUC5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9STk09MSxQLk9uRXZlbnRPYnNlcnZhYmxlPW5ldyBGLFAuX0FsbERpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQWxsQXNEaXJ0eSgpLFAuX0ltYWdlUHJvY2Vzc2luZ0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpLFAuX1RleHR1cmVEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzVGV4dHVyZXNEaXJ0eSgpLFAuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzRnJlc25lbERpcnR5KCksUC5fTWlzY0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNNaXNjRGlydHkoKSxQLl9QcmVQYXNzRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc1ByZVBhc3NEaXJ0eSgpLFAuX0xpZ2h0c0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNMaWdodERpcnR5KCksUC5fQXR0cmlidXRlRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpLFAuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjaz1jPT57UC5fRnJlc25lbERpcnR5Q2FsbEJhY2soYyksUC5fTWlzY0RpcnR5Q2FsbEJhY2soYyl9LFAuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjaz1jPT57UC5fVGV4dHVyZURpcnR5Q2FsbEJhY2soYyksUC5fTWlzY0RpcnR5Q2FsbEJhY2soYyl9LFAuX0RpcnR5Q2FsbGJhY2tBcnJheT1bXSxQLl9SdW5EaXJ0eUNhbGxCYWNrcz1jPT57Zm9yKGNvbnN0IGUgb2YgUC5fRGlydHlDYWxsYmFja0FycmF5KWUoYyl9LFQoW1IoKV0sUC5wcm90b3R5cGUsImlkIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiY2hlY2tSZWFkeU9uRXZlcnlDYWxsIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsImNoZWNrUmVhZHlPbmx5T25jZSIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJzdGF0ZSIsdm9pZCAwKSxUKFtSKCJhbHBoYSIpXSxQLnByb3RvdHlwZSwiX2FscGhhIix2b2lkIDApLFQoW1IoImJhY2tGYWNlQ3VsbGluZyIpXSxQLnByb3RvdHlwZSwiX2JhY2tGYWNlQ3VsbGluZyIsdm9pZCAwKSxUKFtSKCJjdWxsQmFja0ZhY2VzIildLFAucHJvdG90eXBlLCJfY3VsbEJhY2tGYWNlcyIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJzaWRlT3JpZW50YXRpb24iLHZvaWQgMCksVChbUigiYWxwaGFNb2RlIildLFAucHJvdG90eXBlLCJfYWxwaGFNb2RlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsIl9uZWVkRGVwdGhQcmVQYXNzIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsImRpc2FibGVEZXB0aFdyaXRlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsImRpc2FibGVDb2xvcldyaXRlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsImZvcmNlRGVwdGhXcml0ZSIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJkZXB0aEZ1bmN0aW9uIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInNlcGFyYXRlQ3VsbGluZ1Bhc3MiLHZvaWQgMCksVChbUigiZm9nRW5hYmxlZCIpXSxQLnByb3RvdHlwZSwiX2ZvZ0VuYWJsZWQiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwicG9pbnRTaXplIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInpPZmZzZXQiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiek9mZnNldFVuaXRzIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInBvaW50c0Nsb3VkIixudWxsKSxUKFtSKCldLFAucHJvdG90eXBlLCJmaWxsTW9kZSIsbnVsbCksVChbUigpXSxQLnByb3RvdHlwZSwidHJhbnNwYXJlbmN5TW9kZSIsbnVsbCk7Y2xhc3MgU2kgZXh0ZW5kcyBQe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LCEwKSx0aGlzLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPVtdLHRoaXMuZ2V0U2NlbmUoKS5tdWx0aU1hdGVyaWFscy5wdXNoKHRoaXMpLHRoaXMuc3ViTWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSEwfWdldCBzdWJNYXRlcmlhbHMoKXtyZXR1cm4gdGhpcy5fc3ViTWF0ZXJpYWxzfXNldCBzdWJNYXRlcmlhbHMoZSl7dGhpcy5fc3ViTWF0ZXJpYWxzPWUsdGhpcy5faG9va0FycmF5KGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuc3ViTWF0ZXJpYWxzfV9ob29rQXJyYXkoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO3JldHVybiB0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCkscn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtyZXR1cm4gdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpLG59fWdldFN1Yk1hdGVyaWFsKGUpe3JldHVybiBlPDB8fGU+PXRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aD90aGlzLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOnRoaXMuc3ViTWF0ZXJpYWxzW2VdfWdldEFjdGl2ZVRleHR1cmVzKCl7cmV0dXJuIHN1cGVyLmdldEFjdGl2ZVRleHR1cmVzKCkuY29uY2F0KC4uLnRoaXMuc3ViTWF0ZXJpYWxzLm1hcChlPT5lP2UuZ2V0QWN0aXZlVGV4dHVyZXMoKTpbXSkpfWhhc1RleHR1cmUoZSl7dmFyIHQ7aWYoc3VwZXIuaGFzVGV4dHVyZShlKSlyZXR1cm4hMDtmb3IobGV0IGk9MDtpPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtpKyspaWYoISgodD10aGlzLnN1Yk1hdGVyaWFsc1tpXSk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5oYXNUZXh0dXJlKGUpKXJldHVybiEwO3JldHVybiExfWdldENsYXNzTmFtZSgpe3JldHVybiJNdWx0aU1hdGVyaWFsIn1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7Zm9yKGxldCBzPTA7czx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO2lmKHIpe2lmKHIuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFyLmlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKSlyZXR1cm4hMTtjb250aW51ZX1pZighci5pc1JlYWR5KGUpKXJldHVybiExfX1yZXR1cm4hMH1jbG9uZShlLHQpe2NvbnN0IGk9bmV3IFNpKGUsdGhpcy5nZXRTY2VuZSgpKTtmb3IobGV0IHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe2xldCByPW51bGw7Y29uc3Qgbj10aGlzLnN1Yk1hdGVyaWFsc1tzXTt0JiZuP3I9bi5jbG9uZShlKyItIituLm5hbWUpOnI9dGhpcy5zdWJNYXRlcmlhbHNbc10saS5zdWJNYXRlcmlhbHMucHVzaChyKX1yZXR1cm4gaX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxnZSYmKGUudGFncz1nZS5HZXRUYWdzKHRoaXMpKSxlLm1hdGVyaWFsc1VuaXF1ZUlkcz1bXSxlLm1hdGVyaWFscz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5zdWJNYXRlcmlhbHNbdF07aT8oZS5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChpLnVuaXF1ZUlkKSxlLm1hdGVyaWFscy5wdXNoKGkuaWQpKTooZS5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChudWxsKSxlLm1hdGVyaWFscy5wdXNoKG51bGwpKX1yZXR1cm4gZX1kaXNwb3NlKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZighcylyZXR1cm47aWYoaSlmb3IobGV0IG49MDtuPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5zdWJNYXRlcmlhbHNbbl07YSYmYS5kaXNwb3NlKGUsdCl9Y29uc3Qgcj1zLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7cj49MCYmcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UociwxKSxzdXBlci5kaXNwb3NlKGUsdCl9c3RhdGljIFBhcnNlTXVsdGlNYXRlcmlhbChlLHQpe2NvbnN0IGk9bmV3IFNpKGUubmFtZSx0KTtyZXR1cm4gaS5pZD1lLmlkLGkuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZ2UmJmdlLkFkZFRhZ3NUbyhpLGUudGFncyksZS5tYXRlcmlhbHNVbmlxdWVJZHM/aS5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz1lLm1hdGVyaWFsc1VuaXF1ZUlkczplLm1hdGVyaWFscy5mb3JFYWNoKHM9Pmkuc3ViTWF0ZXJpYWxzLnB1c2godC5nZXRMYXN0TWF0ZXJpYWxCeUlkKHMpKSksaX19aXQoIkJBQllMT04uTXVsdGlNYXRlcmlhbCIsU2kpO2NsYXNzIFdue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLm1lc2g9dH19Y2xhc3Mgem57Y29uc3RydWN0b3IoKXt0aGlzLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5iYXRjaENhY2hlPW5ldyBJcix0aGlzLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU9bmV3IElyLHRoaXMuaW5zdGFuY2VzQnVmZmVyU2l6ZT0zMioxNio0fX1jbGFzcyBJcntjb25zdHJ1Y3Rvcigpe3RoaXMubXVzdFJldHVybj0hMSx0aGlzLnZpc2libGVJbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMucmVuZGVyU2VsZj1uZXcgQXJyYXksdGhpcy5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz1uZXcgQXJyYXl9fWNsYXNzIEdue2NvbnN0cnVjdG9yKCl7dGhpcy5pbnN0YW5jZXNDb3VudD0wLHRoaXMubWF0cml4QnVmZmVyPW51bGwsdGhpcy5wcmV2aW91c01hdHJpeEJ1ZmZlcj1udWxsLHRoaXMubWF0cml4QnVmZmVyU2l6ZT0zMioxNix0aGlzLm1hdHJpeERhdGE9bnVsbCx0aGlzLmJvdW5kaW5nVmVjdG9ycz1bXSx0aGlzLndvcmxkTWF0cmljZXM9bnVsbH19Y2xhc3MgWG57Y29uc3RydWN0b3IoKXt0aGlzLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3ByZUFjdGl2YXRlSWQ9LTEsdGhpcy5fTE9ETGV2ZWxzPW5ldyBBcnJheSx0aGlzLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT0hMSx0aGlzLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2ZvcmNlZEluc3RhbmNlQ291bnQ9MH19Y2xhc3MgVyBleHRlbmRzIG90e2NvbnN0cnVjdG9yKGUsdD1udWxsLGk9bnVsbCxzPW51bGwscixuPSEwKXtpZihzdXBlcihlLHQpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvPW5ldyBYbix0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5pbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9bnVsbCx0aGlzLl9nZW9tZXRyeT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IHpuLHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBHbix0aGlzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExLHRoaXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1XLkRFRkFVTFRTSURFLHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1udWxsLHRoaXMuaWdub3JlQ2FtZXJhTWF4Wj0hMSx0PXRoaXMuZ2V0U2NlbmUoKSx0aGlzLl9vbkJlZm9yZURyYXc9KGEsbyxoKT0+e2EmJmgmJih0aGlzLl91bmlmb3JtQnVmZmVyP3RoaXMudHJhbnNmZXJUb0VmZmVjdChvKTpoLmJpbmRPbmx5V29ybGRNYXRyaXgobykpfSxzKXtpZihzLl9nZW9tZXRyeSYmcy5fZ2VvbWV0cnkuYXBwbHlUb01lc2godGhpcyksdnMuRGVlcENvcHkocyx0aGlzLFsibmFtZSIsIm1hdGVyaWFsIiwic2tlbGV0b24iLCJpbnN0YW5jZXMiLCJwYXJlbnQiLCJ1bmlxdWVJZCIsInNvdXJjZSIsIm1ldGFkYXRhIiwibW9ycGhUYXJnZXRNYW5hZ2VyIiwiaGFzSW5zdGFuY2VzIiwid29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwiaGFzTE9ETGV2ZWxzIiwiZ2VvbWV0cnkiLCJpc0Jsb2NrZWQiLCJhcmVOb3JtYWxzRnJvemVuIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImxpZ2h0U291cmNlcyIsInVzZUJvbmVzIiwiaXNBbkluc3RhbmNlIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJjbG9uZU1lc2hNYXAiLCJoYXNCb3VuZGluZ0luZm8iXSxbIl9wb3NlTWF0cml4Il0pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9cyx0LnVzZUNsb25lZE1lc2hNYXAmJihzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfHwocy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcD17fSkscy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT10aGlzKSx0aGlzLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249cy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uLHRoaXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9cy5fY3JlYXRpb25EYXRhU3RvcmFnZSxzLl9yYW5nZXMpe2NvbnN0IGE9cy5fcmFuZ2VzO2Zvcihjb25zdCBvIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsbykmJmFbb10mJnRoaXMuY3JlYXRlQW5pbWF0aW9uUmFuZ2UobyxhW29dLmZyb20sYVtvXS50byl9aWYocy5tZXRhZGF0YSYmcy5tZXRhZGF0YS5jbG9uZT90aGlzLm1ldGFkYXRhPXMubWV0YWRhdGEuY2xvbmUoKTp0aGlzLm1ldGFkYXRhPXMubWV0YWRhdGEsZ2UmJmdlLkhhc1RhZ3MocykmJmdlLkFkZFRhZ3NUbyh0aGlzLGdlLkdldFRhZ3MocywhMCkpLHRoaXMuc2V0RW5hYmxlZChzLmlzRW5hYmxlZCghMSkpLHRoaXMucGFyZW50PXMucGFyZW50LHRoaXMuc2V0UGl2b3RNYXRyaXgocy5nZXRQaXZvdE1hdHJpeCgpKSx0aGlzLmlkPWUrIi4iK3MuaWQsdGhpcy5tYXRlcmlhbD1zLm1hdGVyaWFsLCFyKXtjb25zdCBhPXMuZ2V0RGVzY2VuZGFudHMoITApO2ZvcihsZXQgbz0wO288YS5sZW5ndGg7bysrKXtjb25zdCBoPWFbb107aC5jbG9uZSYmaC5jbG9uZShlKyIuIitoLm5hbWUsdGhpcyl9fWlmKHMubW9ycGhUYXJnZXRNYW5hZ2VyJiYodGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9cy5tb3JwaFRhcmdldE1hbmFnZXIpLHQuZ2V0UGh5c2ljc0VuZ2luZSl7Y29uc3QgYT10LmdldFBoeXNpY3NFbmdpbmUoKTtpZihuJiZhJiZhLmdldFBsdWdpblZlcnNpb24oKT09PTEpe2NvbnN0IG89YS5nZXRJbXBvc3RvckZvclBoeXNpY3NPYmplY3Qocyk7byYmKHRoaXMucGh5c2ljc0ltcG9zdG9yPW8uY2xvbmUodGhpcykpfX1mb3IobGV0IGE9MDthPHQucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89dC5wYXJ0aWNsZVN5c3RlbXNbYV07by5lbWl0dGVyPT09cyYmby5jbG9uZShvLm5hbWUsdGhpcyl9dGhpcy5za2VsZXRvbj1zLnNrZWxldG9uLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApfWkhPT1udWxsJiYodGhpcy5wYXJlbnQ9aSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz10aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZD1hPT57YS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMCx0aGlzLmlzUmVhZHkoITApP3RoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcnx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmlzUmVhZHkoITApJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlciksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfSkpfSx0aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZT1uZXcgRih0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkKSxzJiZzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9c3RhdGljIF9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUpe3JldHVybiBlfHxXLkZST05UU0lERX1nZXQgdXNlTE9EU2NyZWVuQ292ZXJhZ2UoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlfXNldCB1c2VMT0RTY3JlZW5Db3ZlcmFnZShlKXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLl9zb3J0TE9ETGV2ZWxzKCl9Z2V0IGNvbXB1dGVCb25lc1VzaW5nU2hhZGVycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN9c2V0IGNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMhPT1lJiYoZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucyYmKHRoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnMsITApLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzJiZ0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMsITApLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnM9bnVsbCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscz1udWxsKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IG9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZX1nZXQgb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZX1nZXQgb25BZnRlclJlbmRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV9Z2V0IG9uQmV0d2VlblBhc3NPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfWdldCBvbkJlZm9yZURyYXdPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlfXNldCBvbkJlZm9yZURyYXcoZSl7dGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXImJnRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyPXRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IGhhc0luc3RhbmNlcygpe3JldHVybiB0aGlzLmluc3RhbmNlcy5sZW5ndGg+MH1nZXQgaGFzVGhpbkluc3RhbmNlcygpe3ZhciBlO3JldHVybigoZT10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCk+MH1nZXQgZm9yY2VkSW5zdGFuY2VDb3VudCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudH1zZXQgZm9yY2VkSW5zdGFuY2VDb3VudChlKXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudD1lfWdldCBzb3VyY2UoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZX1nZXQgY2xvbmVNZXNoTWFwKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXB9Z2V0IGlzVW5JbmRleGVkKCl7cmV0dXJuIHRoaXMuX3VuSW5kZXhlZH1zZXQgaXNVbkluZGV4ZWQoZSl7dGhpcy5fdW5JbmRleGVkIT09ZSYmKHRoaXMuX3VuSW5kZXhlZD1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgd29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNEYXRhfWdldCBwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzUHJldmlvdXNEYXRhfWdldCBtYW51YWxVcGRhdGVPZldvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfXNldCBtYW51YWxVcGRhdGVPZldvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlPWV9Z2V0IG1hbnVhbFVwZGF0ZU9mUHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlfXNldCBtYW51YWxVcGRhdGVPZlByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZT1lfWdldCBmb3JjZVdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyVXBkYXRlKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzfXNldCBmb3JjZVdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyVXBkYXRlKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzPWV9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmdldFRvdGFsVmVydGljZXMoKT09PTB8fHQmJnQuZG9Ob3RJbnN0YW50aWF0ZSYmKHQuZG9Ob3RJbnN0YW50aWF0ZT09PSEwfHx0LmRvTm90SW5zdGFudGlhdGUodGhpcykpP3RoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksZXx8dGhpcy5wYXJlbnQsITApOnRoaXMuY3JlYXRlSW5zdGFuY2UoImluc3RhbmNlIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCkpO3MucGFyZW50PWV8fHRoaXMucGFyZW50LHMucG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLHMuc2NhbGluZz10aGlzLnNjYWxpbmcuY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9zLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpOnMucm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLGkmJmkodGhpcyxzKTtmb3IoY29uc3QgciBvZiB0aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApKXIuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTWVzaCImJnMuZ2V0Q2xhc3NOYW1lKCk9PT0iTWVzaCI/ci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHtkb05vdEluc3RhbnRpYXRlOnQmJnQuZG9Ob3RJbnN0YW50aWF0ZXx8ITEsbmV3U291cmNlZE1lc2g6c30saSk6ci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHQsaSk7cmV0dXJuIHN9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1lc2gifWdldCBfaXNNZXNoKCl7cmV0dXJuITB9dG9TdHJpbmcoZSl7bGV0IHQ9c3VwZXIudG9TdHJpbmcoZSk7aWYodCs9IiwgbiB2ZXJ0aWNlczogIit0aGlzLmdldFRvdGFsVmVydGljZXMoKSx0Kz0iLCBwYXJlbnQ6ICIrKHRoaXMuX3dhaXRpbmdQYXJlbnRJZD90aGlzLl93YWl0aW5nUGFyZW50SWQ6dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQubmFtZToiTk9ORSIpLHRoaXMuYW5pbWF0aW9ucylmb3IobGV0IGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXQrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbaV0udG9TdHJpbmcoZSk7aWYoZSlpZih0aGlzLl9nZW9tZXRyeSl7Y29uc3QgaT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtzJiZpJiYodCs9IiwgZmxhdCBzaGFkaW5nOiAiKyhzLmxlbmd0aC8zPT09aS5sZW5ndGg/IllFUyI6Ik5PIikpfWVsc2UgdCs9IiwgZmxhdCBzaGFkaW5nOiBVTktOT1dOIjtyZXR1cm4gdH1fdW5CaW5kRWZmZWN0KCl7c3VwZXIuX3VuQmluZEVmZmVjdCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuaW5zdGFuY2VzKWUuX3VuQmluZEVmZmVjdCgpfWdldCBoYXNMT0RMZXZlbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5sZW5ndGg+MH1nZXRMT0RMZXZlbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVsc31fc29ydExPRExldmVscygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlPy0xOjE7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5zb3J0KCh0LGkpPT50LmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxpLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT9lOnQuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPmkuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPy1lOjApfWFkZExPRExldmVsKGUsdCl7aWYodCYmdC5fbWFzdGVyTWVzaClyZXR1cm4gTy5XYXJuKCJZb3UgY2Fubm90IHVzZSBhIG1lc2ggYXMgTE9EIGxldmVsIHR3aWNlIiksdGhpcztjb25zdCBpPW5ldyBXbihlLHQpO3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnB1c2goaSksdCYmKHQuX21hc3Rlck1lc2g9dGhpcyksdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9Z2V0TE9ETGV2ZWxBdERpc3RhbmNlKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87Zm9yKGxldCBpPTA7aTx0Ll9MT0RMZXZlbHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10Ll9MT0RMZXZlbHNbaV07aWYocy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9PT1lKXJldHVybiBzLm1lc2h9cmV0dXJuIG51bGx9cmVtb3ZlTE9ETGV2ZWwoZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztmb3IobGV0IGk9MDtpPHQuX0xPRExldmVscy5sZW5ndGg7aSsrKXQuX0xPRExldmVsc1tpXS5tZXNoPT09ZSYmKHQuX0xPRExldmVscy5zcGxpY2UoaSwxKSxlJiYoZS5fbWFzdGVyTWVzaD1udWxsKSk7cmV0dXJuIHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfWdldExPRChlLHQpe2NvbnN0IGk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWkuX0xPRExldmVsc3x8aS5fTE9ETGV2ZWxzLmxlbmd0aD09PTApcmV0dXJuIHRoaXM7Y29uc3Qgcz10fHx0aGlzLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLHI9ZS5tb2RlPT09ai5PUlRIT0dSQVBISUNfQ0FNRVJBP2UubWluWjpzLmNlbnRlcldvcmxkLnN1YnRyYWN0KGUuZ2xvYmFsUG9zaXRpb24pLmxlbmd0aCgpO2xldCBuPXIsYT0xO2lmKGkuX3VzZUxPRFNjcmVlbkNvdmVyYWdlKXtjb25zdCBvPWUuc2NyZWVuQXJlYTtsZXQgaD1zLnJhZGl1c1dvcmxkKmUubWluWi9yO2g9aCpoKk1hdGguUEksbj1oL28sYT0tMX1pZihhKmkuX0xPRExldmVsc1tpLl9MT0RMZXZlbHMubGVuZ3RoLTFdLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT5hKm4pcmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKG4sdGhpcyx0aGlzKSx0aGlzO2ZvcihsZXQgbz0wO288aS5fTE9ETGV2ZWxzLmxlbmd0aDtvKyspe2NvbnN0IGg9aS5fTE9ETGV2ZWxzW29dO2lmKGEqaC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8YSpuKXtpZihoLm1lc2gpe2lmKGgubWVzaC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIGgubWVzaC5fY2hlY2tEZWxheVN0YXRlKCksdGhpcztpZihoLm1lc2guZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiB0aGlzO2gubWVzaC5fcHJlQWN0aXZhdGUoKSxoLm1lc2guX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24obix0aGlzLGgubWVzaCksaC5tZXNofX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24obix0aGlzLHRoaXMpLHRoaXN9Z2V0IGdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5fWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk9PT1udWxsfHx0aGlzLl9nZW9tZXRyeT09PXZvaWQgMD8wOnRoaXMuX2dlb21ldHJ5LmdldFRvdGFsVmVydGljZXMoKX1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpe3ZhciBzLHI7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiBudWxsO2xldCBuPShyPShzPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLnZlcnRleEJ1ZmZlcnNbZV0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5nZXRGbG9hdERhdGEodGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpLGl8fHQmJnRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGghPT0xKTtyZXR1cm4gbnx8KG49dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhKGUsdCxpKSksbn1nZXRWZXJ0ZXhCdWZmZXIoZSl7dmFyIHQsaTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KGk9KHQ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudmVydGV4QnVmZmVyc1tlXSkhPT1udWxsJiZpIT09dm9pZCAwP2k6dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVyKGUpOm51bGx9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3ZhciB0O3JldHVybiB0aGlzLl9nZW9tZXRyeT8oKHQ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudmVydGV4QnVmZmVyc1tlXSkhPT12b2lkIDB8fHRoaXMuX2dlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChlKTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMX1pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKXt2YXIgdCxpO3JldHVybiB0aGlzLl9nZW9tZXRyeT8oKGk9KHQ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudmVydGV4QnVmZmVyc1tlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLmlzVXBkYXRhYmxlKCkpfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMX1nZXRWZXJ0aWNlc0RhdGFLaW5kcygpe2lmKCF0aGlzLl9nZW9tZXRyeSl7Y29uc3QgdD1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2RlbGF5SW5mbyYmdGhpcy5fZGVsYXlJbmZvLmZvckVhY2goZnVuY3Rpb24oaSl7dC5wdXNoKGkpfSksdH1jb25zdCBlPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YUtpbmRzKCk7aWYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKWZvcihjb25zdCB0IGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKWUucHVzaCh0KTtyZXR1cm4gZX1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxJbmRpY2VzKCk6MH1nZXRJbmRpY2VzKGUsdCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldEluZGljZXMoZSx0KTpbXX1nZXQgaXNCbG9ja2VkKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2ghPT1udWxsJiZ0aGlzLl9tYXN0ZXJNZXNoIT09dm9pZCAwfWlzUmVhZHkoZT0hMSx0PSExKXt2YXIgaSxzLHIsbixhLG87aWYodGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFzdXBlci5pc1JlYWR5KGUpKXJldHVybiExO2lmKCF0aGlzLnN1Yk1lc2hlc3x8dGhpcy5zdWJNZXNoZXMubGVuZ3RoPT09MHx8IWUpcmV0dXJuITA7Y29uc3QgaD10aGlzLmdldEVuZ2luZSgpLGw9dGhpcy5nZXRTY2VuZSgpLHU9dHx8aC5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYodGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB8fHRoaXMuaGFzVGhpbkluc3RhbmNlcyk7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCBkPXRoaXMubWF0ZXJpYWx8fGwuZGVmYXVsdE1hdGVyaWFsO2lmKGQpe2lmKGQuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IF8gb2YgdGhpcy5zdWJNZXNoZXMpe2NvbnN0IEU9Xy5nZXRNYXRlcmlhbCgpO2lmKEUpe2lmKEUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFFLmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsXyx1KSlyZXR1cm4hMX1lbHNlIGlmKCFFLmlzUmVhZHkodGhpcyx1KSlyZXR1cm4hMX19ZWxzZSBpZighZC5pc1JlYWR5KHRoaXMsdSkpcmV0dXJuITF9Y29uc3QgZj1oLmN1cnJlbnRSZW5kZXJQYXNzSWQ7Zm9yKGNvbnN0IF8gb2YgdGhpcy5saWdodFNvdXJjZXMpe2NvbnN0IEU9Xy5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYoIUUpY29udGludWU7Y29uc3QgbT1FLnZhbHVlcygpO2ZvcihsZXQgdj1tLm5leHQoKTt2LmRvbmUhPT0hMDt2PW0ubmV4dCgpKXtjb25zdCBTPXYudmFsdWU7aWYoUyYmKCEoISgoaT1TLmdldFNoYWRvd01hcCgpKT09PW51bGx8fGk9PT12b2lkIDApJiZpLnJlbmRlckxpc3QpfHwhKChzPVMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMucmVuZGVyTGlzdCYmKChuPShyPVMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5yZW5kZXJMaXN0KT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uaW5kZXhPZih0aGlzKSkhPT0tMSkpe1MuZ2V0U2hhZG93TWFwKCkmJihoLmN1cnJlbnRSZW5kZXJQYXNzSWQ9Uy5nZXRTaGFkb3dNYXAoKS5yZW5kZXJQYXNzSWQpO2Zvcihjb25zdCB5IG9mIHRoaXMuc3ViTWVzaGVzKWlmKCFTLmlzUmVhZHkoeSx1LChvPShhPXkuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0aGlzKSkhPT1udWxsJiZvIT09dm9pZCAwP286ITEpKXJldHVybiBoLmN1cnJlbnRSZW5kZXJQYXNzSWQ9ZiwhMTtoLmN1cnJlbnRSZW5kZXJQYXNzSWQ9Zn19fWZvcihjb25zdCBfIG9mIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMpaWYoXy5tZXNoJiYhXy5tZXNoLmlzUmVhZHkodSkpcmV0dXJuITE7cmV0dXJuITB9Z2V0IGFyZU5vcm1hbHNGcm96ZW4oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW59ZnJlZXplTm9ybWFscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMCx0aGlzfXVuZnJlZXplTm9ybWFscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMSx0aGlzfXNldCBvdmVycmlkZW5JbnN0YW5jZUNvdW50KGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudD1lfV9wcmVBY3RpdmF0ZSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8sdD10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKTtyZXR1cm4gZS5fcHJlQWN0aXZhdGVJZD09PXQ/dGhpczooZS5fcHJlQWN0aXZhdGVJZD10LHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcz1udWxsLHRoaXMpfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZD1lKSx0aGlzfV9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQoZSx0KXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXtkZWZhdWx0UmVuZGVySWQ6dCxzZWxmRGVmYXVsdFJlbmRlcklkOnRoaXMuX3JlbmRlcklkfSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkIT09dm9pZCAwJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZF09bnVsbCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkPXQsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdPW5ldyBBcnJheSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdLnB1c2goZSksdGhpc31fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKXtzdXBlci5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmhhc1RoaW5JbnN0YW5jZXMmJih0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8dGhpcy50aGluSW5zdGFuY2VSZWZyZXNoQm91bmRpbmdJbmZvKCExKSl9X3Bvc3RBY3RpdmF0ZSgpe3RoaXMuZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXMmJnRoaXMuZWRnZXNSZW5kZXJlciYmdGhpcy5lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fcmVuZGVyaW5nR3JvdXAmJih0aGlzLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuZWRnZXNSZW5kZXJlciksdGhpcy5lZGdlc1JlbmRlcmVyLmN1c3RvbUluc3RhbmNlcy5wdXNoKHRoaXMuZ2V0V29ybGRNYXRyaXgoKSkpfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtpZih0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuZ2VvbWV0cnk/dGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxpKSx0aGlzfV9jcmVhdGVHbG9iYWxTdWJNZXNoKGUpe2NvbnN0IHQ9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk7aWYoIXR8fCF0aGlzLmdldEluZGljZXMoKSlyZXR1cm4gbnVsbDtpZih0aGlzLnN1Yk1lc2hlcyYmdGhpcy5zdWJNZXNoZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1pLmxlbmd0aDtsZXQgcj0hMTtpZihlKXI9ITA7ZWxzZSBmb3IoY29uc3QgbiBvZiB0aGlzLnN1Yk1lc2hlcyl7aWYobi5pbmRleFN0YXJ0K24uaW5kZXhDb3VudD5zKXtyPSEwO2JyZWFrfWlmKG4udmVydGljZXNTdGFydCtuLnZlcnRpY2VzQ291bnQ+dCl7cj0hMDticmVha319aWYoIXIpcmV0dXJuIHRoaXMuc3ViTWVzaGVzWzBdfXJldHVybiB0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSxuZXcgdnQoMCwwLHQsMCx0aGlzLmdldFRvdGFsSW5kaWNlcygpLHRoaXMpfXN1YmRpdmlkZShlKXtpZihlPDEpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgaT10L2V8MCxzPTA7Zm9yKDtpJTMhPT0wOylpKys7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCByPTA7cjxlJiYhKHM+PXQpO3IrKyl2dC5DcmVhdGVGcm9tSW5kaWNlcygwLHMscj09PWUtMT90LXM6aSx0aGlzKSxzKz1pO3RoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aWYodGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGUsdCxpLHMpO2Vsc2V7Y29uc3Qgcj1uZXcgZWU7ci5zZXQodCxlKTtjb25zdCBuPXRoaXMuZ2V0U2NlbmUoKTtuZXcgYXQoYXQuUmFuZG9tSWQoKSxuLHIsaSx0aGlzKX1yZXR1cm4gdGhpc31yZW1vdmVWZXJ0aWNlc0RhdGEoZSl7dGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShlKX1tYXJrVmVydGljZXNEYXRhQXNVcGRhdGFibGUoZSx0PSEwKXtjb25zdCBpPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpOyFpfHxpLmlzVXBkYXRhYmxlKCk9PT10fHx0aGlzLnNldFZlcnRpY2VzRGF0YShlLHRoaXMuZ2V0VmVydGljZXNEYXRhKGUpLHQpfXNldFZlcnRpY2VzQnVmZmVyKGUsdD0hMCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5fHwodGhpcy5fZ2VvbWV0cnk9YXQuQ3JlYXRlR2VvbWV0cnlGb3JNZXNoKHRoaXMpKSx0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0J1ZmZlcihlLG51bGwsdCksdGhpc311cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhzPyh0aGlzLm1ha2VHZW9tZXRyeVVuaXF1ZSgpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLCExKSk6dGhpcy5fZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpKSx0aGlzKTp0aGlzfXVwZGF0ZU1lc2hQb3NpdGlvbnMoZSx0PSEwKXtjb25zdCBpPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZighaSlyZXR1cm4gdGhpcztpZihlKGkpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLGksITEsITEpLHQpe2NvbnN0IHM9dGhpcy5nZXRJbmRpY2VzKCkscj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2lmKCFyKXJldHVybiB0aGlzO2VlLkNvbXB1dGVOb3JtYWxzKGkscyxyKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsciwhMSwhMSl9cmV0dXJuIHRoaXN9bWFrZUdlb21ldHJ5VW5pcXVlKCl7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGg9PT0xKXJldHVybiB0aGlzO2NvbnN0IGU9dGhpcy5fZ2VvbWV0cnksdD10aGlzLl9nZW9tZXRyeS5jb3B5KGF0LlJhbmRvbUlkKCkpO3JldHVybiBlLnJlbGVhc2VGb3JNZXNoKHRoaXMsITApLHQuYXBwbHlUb01lc2godGhpcyksdGhpc31zZXRJbmRpY2VzKGUsdD1udWxsLGk9ITEpe2lmKHRoaXMuX2dlb21ldHJ5KXRoaXMuX2dlb21ldHJ5LnNldEluZGljZXMoZSx0LGkpO2Vsc2V7Y29uc3Qgcz1uZXcgZWU7cy5pbmRpY2VzPWU7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCk7bmV3IGF0KGF0LlJhbmRvbUlkKCkscixzLGksdGhpcyl9cmV0dXJuIHRoaXN9dXBkYXRlSW5kaWNlcyhlLHQsaT0hMSl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pyh0aGlzLl9nZW9tZXRyeS51cGRhdGVJbmRpY2VzKGUsdCxpKSx0aGlzKTp0aGlzfXRvTGVmdEhhbmRlZCgpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudG9MZWZ0SGFuZGVkKCksdGhpcyk6dGhpc31fYmluZChlLHQsaSl7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHQpO2xldCByO2lmKHRoaXMuX3VuSW5kZXhlZClyPW51bGw7ZWxzZSBzd2l0Y2goaSl7Y2FzZSBQLlBvaW50RmlsbE1vZGU6cj1udWxsO2JyZWFrO2Nhc2UgUC5XaXJlRnJhbWVGaWxsTW9kZTpyPWUuX2dldExpbmVzSW5kZXhCdWZmZXIodGhpcy5nZXRJbmRpY2VzKCkscyk7YnJlYWs7ZGVmYXVsdDpjYXNlIFAuVHJpYW5nbGVGaWxsTW9kZTpyPXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCk7YnJlYWt9cmV0dXJuIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5oYXNUaGluSW5zdGFuY2VzP3RoaXMuX2dlb21ldHJ5Ll9iaW5kKHQscik6dGhpcy5fZ2VvbWV0cnkuX2JpbmQodCxyLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMpLHRoaXN9X2RyYXcoZSx0LGkpe2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfHx0PT1QLlBvaW50RmlsbE1vZGU/ci5kcmF3QXJyYXlzVHlwZSh0LGUudmVydGljZXNTdGFydCxlLnZlcnRpY2VzQ291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKTp0PT1QLldpcmVGcmFtZUZpbGxNb2RlP3IuZHJhd0VsZW1lbnRzVHlwZSh0LDAsZS5fbGluZXNJbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSk6ci5kcmF3RWxlbWVudHNUeXBlKHQsZS5pbmRleFN0YXJ0LGUuaW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpLHRoaXN9cmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9cmVnaXN0ZXJBZnRlclJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLHQ9ITEpe2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4pe2lmKHQpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1tlXT0hMSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUucmVuZGVyU2VsZltlXT0hMCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoKXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2h9Y29uc3QgaT10aGlzLmdldFNjZW5lKCkscz1pLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCkscj1zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU6dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcyxuPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZTtpZihuLm11c3RSZXR1cm49ITEsbi5yZW5kZXJTZWxmW2VdPXR8fCFyJiZ0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzVmlzaWJsZSxuLnZpc2libGVJbnN0YW5jZXNbZV09bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJiF0KXtjb25zdCBhPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyxvPWkuZ2V0UmVuZGVySWQoKSxoPXM/YS5pbnRlcm1lZGlhdGVEZWZhdWx0UmVuZGVySWQ6YS5kZWZhdWx0UmVuZGVySWQ7bi52aXNpYmxlSW5zdGFuY2VzW2VdPWFbb10sIW4udmlzaWJsZUluc3RhbmNlc1tlXSYmaCYmKG4udmlzaWJsZUluc3RhbmNlc1tlXT1hW2hdKX1yZXR1cm4gbi5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1tlXT0hdCYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZyYmbi52aXNpYmxlSW5zdGFuY2VzW2VdIT09bnVsbCYmbi52aXNpYmxlSW5zdGFuY2VzW2VdIT09dm9pZCAwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1uLG59X3JlbmRlcldpdGhJbnN0YW5jZXMoZSx0LGkscyxyKXt2YXIgbjtjb25zdCBhPWkudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0sbz1hP2EubGVuZ3RoOjAsaD10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLGw9aC5pbnN0YW5jZXNCdWZmZXJTaXplO2xldCB1PWguaW5zdGFuY2VzQnVmZmVyLGQ9aC5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcjtjb25zdCBfPShvKzEpKjE2KjQ7Zm9yKDtoLmluc3RhbmNlc0J1ZmZlclNpemU8XzspaC5pbnN0YW5jZXNCdWZmZXJTaXplKj0yOyghaC5pbnN0YW5jZXNEYXRhfHxsIT1oLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoaC5pbnN0YW5jZXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoaC5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKSwodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFoLmluc3RhbmNlc1ByZXZpb3VzRGF0YXx8bCE9aC5pbnN0YW5jZXNCdWZmZXJTaXplKSYmKGguaW5zdGFuY2VzUHJldmlvdXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoaC5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKTtsZXQgRT0wLG09MDtjb25zdCB2PWkucmVuZGVyU2VsZltlLl9pZF0sUz0hdXx8bCE9PWguaW5zdGFuY2VzQnVmZmVyU2l6ZXx8dGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFoLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2lmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmKCFoLmlzRnJvemVufHxTKSl7Y29uc3QgeT10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYodiYmKHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeD8oaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxFKSxoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlGcm9tKHkpKTooaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeD15LmNsb25lKCksaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxFKSkpLHkuY29weVRvQXJyYXkoaC5pbnN0YW5jZXNEYXRhLEUpLEUrPTE2LG0rKyksYSl7aWYoVy5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSYmKCEoKG49ZS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fG49PT12b2lkIDApJiZuLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlLmdldFJlbmRlcmluZ01lc2goKSkpKXtjb25zdCBBPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbjtmb3IobGV0IEM9MDtDPGEubGVuZ3RoO0MrKyl7Y29uc3QgYj1hW0NdO2IuX2Rpc3RhbmNlVG9DYW1lcmE9cC5EaXN0YW5jZShiLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLEEpfWEuc29ydCgoQyxiKT0+Qy5fZGlzdGFuY2VUb0NhbWVyYT5iLl9kaXN0YW5jZVRvQ2FtZXJhPy0xOkMuX2Rpc3RhbmNlVG9DYW1lcmE8Yi5fZGlzdGFuY2VUb0NhbWVyYT8xOjApfWZvcihsZXQgQT0wO0E8YS5sZW5ndGg7QSsrKXtjb25zdCBDPWFbQV0sYj1DLmdldFdvcmxkTWF0cml4KCk7Yi5jb3B5VG9BcnJheShoLmluc3RhbmNlc0RhdGEsRSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihDLl9wcmV2aW91c1dvcmxkTWF0cml4PyhDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLEUpLEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oYikpOihDLl9wcmV2aW91c1dvcmxkTWF0cml4PWIuY2xvbmUoKSxDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLEUpKSksRSs9MTYsbSsrfX19ZWxzZSBtPSh2PzE6MCkrbztyZXR1cm4gUz8odSYmdS5kaXNwb3NlKCksZCYmZC5kaXNwb3NlKCksdT1uZXcgJGkocixoLmluc3RhbmNlc0RhdGEsITAsMTYsITEsITApLGguaW5zdGFuY2VzQnVmZmVyPXUsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHwodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlPXtkYXRhOnt9LHZlcnRleEJ1ZmZlcnM6e30sc3RyaWRlczp7fSxzaXplczp7fSx2ZXJ0ZXhBcnJheU9iamVjdHM6dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3Q/e306dm9pZCAwfSksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQwPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDAiLDAsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQxPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDEiLDQsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQyPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQzPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDMiLDEyLDQpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoZD1uZXcgJGkocixoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwhMCwxNiwhMSwhMCksaC5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcj1kLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQwPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMT1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDEiLDQsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDI9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQyIiw4LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQzPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMyIsMTIsNCkpLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpOighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXMpJiYodS51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc0RhdGEsMCxtKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZXx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSkmJmQudXBkYXRlRGlyZWN0bHkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsMCxtKSksdGhpcy5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnMoYSx2KSx0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoZS5pbmRleENvdW50Km0sITEpLHIuX2N1cnJlbnREcmF3Q29udGV4dCYmKHIuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKGUscyx0KSx0aGlzLl9kcmF3KGUsdCxtKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIVMmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW58fHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzKSYmIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUmJmQudXBkYXRlRGlyZWN0bHkoaC5pbnN0YW5jZXNEYXRhLDAsbSksci51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKSx0aGlzfV9yZW5kZXJXaXRoVGhpbkluc3RhbmNlcyhlLHQsaSxzKXt2YXIgcixuO2NvbnN0IGE9KG49KHI9dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5pbnN0YW5jZXNDb3VudCkhPT1udWxsJiZuIT09dm9pZCAwP246MDt0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoZS5pbmRleENvdW50KmEsITEpLHMuX2N1cnJlbnREcmF3Q29udGV4dCYmKHMuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKGUsaSx0KSx0aGlzLl9kcmF3KGUsdCxhKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4RGF0YSYmdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSYmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyP3RoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyLnVwZGF0ZURpcmVjdGx5KHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEsMCxhKTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlcj10aGlzLl90aGluSW5zdGFuY2VDcmVhdGVNYXRyaXhCdWZmZXIoInByZXZpb3VzV29ybGQiLHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEsITEpKSxzLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpfV9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycyhlLHQpe31fcHJvY2Vzc1JlbmRlcmluZyhlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9dGhpcy5nZXRTY2VuZSgpLGw9aC5nZXRFbmdpbmUoKTtpZihuJiZ0LmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzKXJldHVybiB0aGlzLl9yZW5kZXJXaXRoVGhpbkluc3RhbmNlcyh0LHMsaSxsKSx0aGlzO2lmKG4pdGhpcy5fcmVuZGVyV2l0aEluc3RhbmNlcyh0LHMscixpLGwpO2Vsc2V7bC5fY3VycmVudERyYXdDb250ZXh0JiYobC5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITEpO2xldCB1PTA7ci5yZW5kZXJTZWxmW3QuX2lkXSYmKGEmJmEoITEsZS5nZXRXb3JsZE1hdHJpeCgpLG8pLHUrKyx0aGlzLl9kcmF3KHQscyx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm92ZXJyaWRlbkluc3RhbmNlQ291bnQpKTtjb25zdCBkPXIudmlzaWJsZUluc3RhbmNlc1t0Ll9pZF07aWYoZCl7Y29uc3QgZj1kLmxlbmd0aDt1Kz1mO2ZvcihsZXQgXz0wO188ZjtfKyspe2NvbnN0IG09ZFtfXS5nZXRXb3JsZE1hdHJpeCgpO2EmJmEoITAsbSxvKSx0aGlzLl9kcmF3KHQscyl9fWguX2FjdGl2ZUluZGljZXMuYWRkQ291bnQodC5pbmRleENvdW50KnUsITEpfXJldHVybiB0aGlzfV9yZWJ1aWxkKGU9ITEpe2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyJiYoZSYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXIuZGlzcG9zZSgpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyPW51bGwpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMpe2NvbnN0IGk9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbdF07aSYmKGUmJmkuZGlzcG9zZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3RdPW51bGwpfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9KX10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCxzdXBlci5fcmVidWlsZChlKX1fZnJlZXplKCl7aWYodGhpcy5zdWJNZXNoZXMpe2ZvcihsZXQgZT0wO2U8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITB9fV91bkZyZWV6ZSgpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW51bGx9cmVuZGVyKGUsdCxpKXt2YXIgcyxyLG47Y29uc3QgYT10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITE6dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITEsdGhpcy5fY2hlY2tPY2NsdXNpb25RdWVyeSgpJiYhdGhpcy5fb2NjbHVzaW9uRGF0YVN0b3JhZ2UuZm9yY2VSZW5kZXJpbmdXaGVuT2NjbHVkZWQpcmV0dXJuIHRoaXM7Y29uc3Qgbz10aGlzLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUuX2lkLCEhaSk7aWYoby5tdXN0UmV0dXJuKXJldHVybiB0aGlzO2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7Y29uc3QgaD1hLmdldEVuZ2luZSgpO2xldCBsPTAsdT1udWxsO3RoaXMuaWdub3JlQ2FtZXJhTWF4WiYmYS5hY3RpdmVDYW1lcmEmJiFhLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCkmJihsPWEuYWN0aXZlQ2FtZXJhLm1heFosdT1hLmFjdGl2ZUNhbWVyYSxhLmFjdGl2ZUNhbWVyYS5tYXhaPTAsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBkPWUuZ2V0UmVuZGVyaW5nTWVzaCgpLGY9by5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1tlLl9pZF18fGQuaGFzVGhpbkluc3RhbmNlc3x8ISF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UmJiFlLmdldE1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaCxfPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsRT1lLmdldE1hdGVyaWFsKCk7aWYoIUUpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7aWYoIV8uaXNGcm96ZW58fCF0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWx8fHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCE9PUUpe2lmKEUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFFLmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsZSxmKSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpc31lbHNlIGlmKCFFLmlzUmVhZHkodGhpcyxmKSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9RX1lbHNlIGlmKEUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoISgocz1lLmVmZmVjdCk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5fd2FzUHJldmlvdXNseVJlYWR5KXx8IUUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoISgocj1FLmdldEVmZmVjdCgpKT09PW51bGx8fHI9PT12b2lkIDApJiZyLl93YXNQcmV2aW91c2x5UmVhZHkpKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3QmJmguc2V0QWxwaGFNb2RlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5hbHBoYU1vZGUpO2xldCBtO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz9tPWUuX2RyYXdXcmFwcGVyOm09dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9nZXREcmF3V3JhcHBlcigpO2NvbnN0IHY9KG49bT09bnVsbD92b2lkIDA6bS5lZmZlY3QpIT09bnVsbCYmbiE9PXZvaWQgMD9uOm51bGw7Zm9yKGNvbnN0IEwgb2YgYS5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlKUwuYWN0aW9uKHRoaXMsZSxvLHYpO2lmKCFtfHwhdilyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztjb25zdCBTPWl8fHRoaXM7bGV0IHk7aWYoIV8uaXNGcm96ZW4mJih0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nfHx0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24hPT1udWxsKSl7Y29uc3QgTD1TLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk7eT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24seT09bnVsbCYmKHk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLnNpZGVPcmllbnRhdGlvbiksTDwwJiYoeT15PT09UC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24/UC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOlAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uKSxfLnNpZGVPcmllbnRhdGlvbj15fWVsc2UgeT1fLnNpZGVPcmllbnRhdGlvbjtjb25zdCBBPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fcHJlQmluZChtLHkpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5mb3JjZURlcHRoV3JpdGUmJmguc2V0RGVwdGhXcml0ZSghMCk7Y29uc3QgQz1hLmZvcmNlUG9pbnRzQ2xvdWQ/UC5Qb2ludEZpbGxNb2RlOmEuZm9yY2VXaXJlZnJhbWU/UC5XaXJlRnJhbWVGaWxsTW9kZTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZmlsbE1vZGU7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxmfHx0aGlzLl9iaW5kKGUsdixDKTtjb25zdCBiPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCxNPVMuZ2V0V29ybGRNYXRyaXgoKTtiLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP2IuYmluZEZvclN1Yk1lc2goTSx0aGlzLGUpOmIuYmluZChNLHRoaXMpLCFiLmJhY2tGYWNlQ3VsbGluZyYmYi5zZXBhcmF0ZUN1bGxpbmdQYXNzJiYoaC5zZXRTdGF0ZSghMCxiLnpPZmZzZXQsITEsIUEsYi5jdWxsQmFja0ZhY2VzLGIuc3RlbmNpbCxiLnpPZmZzZXRVbml0cyksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsdixDLG8sZix0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSxoLnNldFN0YXRlKCEwLGIuek9mZnNldCwhMSxBLGIuY3VsbEJhY2tGYWNlcyxiLnN0ZW5jaWwsYi56T2Zmc2V0VW5pdHMpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsdixDLG8sZix0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwudW5iaW5kKCk7Zm9yKGNvbnN0IEwgb2YgYS5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UpTC5hY3Rpb24odGhpcyxlLG8sdik7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSxhLnBlcmZvcm1hbmNlUHJpb3JpdHk9PT1DdC5BZ2dyZXNzaXZlJiYhXy5pc0Zyb3plbiYmdGhpcy5fZnJlZXplKCksdGhpc31jbGVhbk1hdHJpeFdlaWdodHMoKXt0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYodGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpP3RoaXMuX25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKTp0aGlzLl9ub3JtYWxpemVTa2luRm91cldlaWdodHMoKSl9X25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSx0PWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8dDtpKz00KXtjb25zdCBzPWVbaV0rZVtpKzFdK2VbaSsyXStlW2krM107aWYocz09PTApZVtpXT0xO2Vsc2V7Y29uc3Qgcj0xL3M7ZVtpXSo9cixlW2krMV0qPXIsZVtpKzJdKj1yLGVbaSszXSo9cn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLGUpfV9ub3JtYWxpemVTa2luV2VpZ2h0c0FuZEV4dHJhKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGk9dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxpO3MrPTQpe2xldCByPXRbc10rdFtzKzFdK3RbcysyXSt0W3MrM107aWYocis9ZVtzXStlW3MrMV0rZVtzKzJdK2VbcyszXSxyPT09MCl0W3NdPTE7ZWxzZXtjb25zdCBuPTEvcjt0W3NdKj1uLHRbcysxXSo9bix0W3MrMl0qPW4sdFtzKzNdKj1uLGVbc10qPW4sZVtzKzFdKj1uLGVbcysyXSo9bixlW3MrM10qPW59fXRoaXMuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0KSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9dmFsaWRhdGVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpLHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZih0PT09bnVsbHx8dGhpcy5za2VsZXRvbj09bnVsbClyZXR1cm57c2tpbm5lZDohMSx2YWxpZDohMCxyZXBvcnQ6Im5vdCBza2lubmVkIn07Y29uc3QgaT10Lmxlbmd0aDtsZXQgcz0wLHI9MCxuPTAsYT0wO2NvbnN0IG89ZT09PW51bGw/NDo4LGg9bmV3IEFycmF5O2ZvcihsZXQgbT0wO208PW87bSsrKWhbbV09MDtjb25zdCBsPS4wMDE7Zm9yKGxldCBtPTA7bTxpO20rPTQpe2xldCB2PXRbbV0sUz12LHk9Uz09PTA/MDoxO2ZvcihsZXQgQT0xO0E8bztBKyspe2NvbnN0IEM9QTw0P3RbbStBXTplW20rQS00XTtDPnYmJnMrKyxDIT09MCYmeSsrLFMrPUMsdj1DfWlmKGhbeV0rKyx5Pm4mJihuPXkpLFM9PT0wKXIrKztlbHNle2NvbnN0IEE9MS9TO2xldCBDPTA7Zm9yKGxldCBiPTA7YjxvO2IrKyliPDQ/Qys9TWF0aC5hYnModFttK2JdLXRbbStiXSpBKTpDKz1NYXRoLmFicyhlW20rYi00XS1lW20rYi00XSpBKTtDPmwmJmErK319Y29uc3QgdT10aGlzLnNrZWxldG9uLmJvbmVzLmxlbmd0aCxkPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk7bGV0IF89MDtmb3IobGV0IG09MDttPGk7bSs9NClmb3IobGV0IHY9MDt2PG87disrKXtjb25zdCBTPXY8ND9kW20rdl06ZlttK3YtNF07KFM+PXV8fFM8MCkmJl8rK31jb25zdCBFPSJOdW1iZXIgb2YgV2VpZ2h0cyA9ICIraS80K2AKTWF4aW11bSBpbmZsdWVuY2VzID0gYCtuK2AKTWlzc2luZyBXZWlnaHRzID0gYCtyK2AKTm90IFNvcnRlZCA9IGArcytgCk5vdCBOb3JtYWxpemVkID0gYCthK2AKV2VpZ2h0Q291bnRzID0gW2AraCtgXQpOdW1iZXIgb2YgYm9uZXMgPSBgK3UrYApCYWQgQm9uZSBJbmRpY2VzID0gYCtfO3JldHVybntza2lubmVkOiEwLHZhbGlkOnI9PT0wJiZhPT09MCYmXz09PTAscmVwb3J0OkV9fV9jaGVja0RlbGF5U3RhdGUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkubG9hZChlKTp0aGlzLmRlbGF5TG9hZFN0YXRlPT09NCYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQoZSkpLHRoaXN9X3F1ZXVlTG9hZChlKXtlLmFkZFBlbmRpbmdEYXRhKHRoaXMpO2NvbnN0IHQ9dGhpcy5kZWxheUxvYWRpbmdGaWxlLmluZGV4T2YoIi5iYWJ5bG9uYmluYXJ5bWVzaGRhdGEiKSE9PS0xO3JldHVybiBILkxvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxpPT57aSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3RoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKGksdGhpcyk6dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShpKSx0aGlzKSx0aGlzLmluc3RhbmNlcy5mb3JFYWNoKHM9PntzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxzLl9zeW5jU3ViTWVzaGVzKCl9KSx0aGlzLmRlbGF5TG9hZFN0YXRlPTEsZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKX0sKCk9Pnt9LGUub2ZmbGluZVByb3ZpZGVyLHQpLHRoaXN9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhc3VwZXIuaXNJbkZydXN0dW0oZSk/ITE6KHRoaXMuX2NoZWNrRGVsYXlTdGF0ZSgpLCEwKX1zZXRNYXRlcmlhbEJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWF0ZXJpYWxzO2xldCBpO2ZvcihpPXQubGVuZ3RoLTE7aT4tMTtpLS0paWYodFtpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWw9dFtpXSx0aGlzO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzO2ZvcihpPXMubGVuZ3RoLTE7aT4tMTtpLS0paWYoc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWw9c1tpXSx0aGlzO3JldHVybiB0aGlzfWdldEFuaW1hdGFibGVzKCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMubWF0ZXJpYWwmJmUucHVzaCh0aGlzLm1hdGVyaWFsKSx0aGlzLnNrZWxldG9uJiZlLnB1c2godGhpcy5za2VsZXRvbiksZX1iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKGUpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5zcGxpY2UoMCk7dGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7bGV0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2NvbnN0IHM9cC5aZXJvKCk7bGV0IHI7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrPTMpcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpW3JdLGlbcisxXSxpW3IrMl0sZSxzKS50b0FycmF5KGkscik7aWYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaSx0aGlzLmdldFZlcnRleEJ1ZmZlcihnLlBvc2l0aW9uS2luZCkuaXNVcGRhdGFibGUoKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSl7Zm9yKGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSxyPTA7cjxpLmxlbmd0aDtyKz0zKXAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGlbcl0saVtyKzFdLGlbcisyXSxlLHMpLm5vcm1hbGl6ZSgpLnRvQXJyYXkoaSxyKTt0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsaSx0aGlzLmdldFZlcnRleEJ1ZmZlcihnLk5vcm1hbEtpbmQpLmlzVXBkYXRhYmxlKCkpfXJldHVybiBlLmRldGVybWluYW50KCk8MCYmdGhpcy5mbGlwRmFjZXMoKSx0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLnN1Yk1lc2hlcz10LHRoaXN9YmFrZUN1cnJlbnRUcmFuc2Zvcm1JbnRvVmVydGljZXMoZT0hMCl7cmV0dXJuIHRoaXMuYmFrZVRyYW5zZm9ybUludG9WZXJ0aWNlcyh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMucmVzZXRMb2NhbE1hdHJpeChlKSx0aGlzfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM6dGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX3Bvc2l0aW9uczpudWxsfV9yZXNldFBvaW50c0FycmF5Q2FjaGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5Ll9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSx0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9nZW5lcmF0ZVBvaW50c0FycmF5KCk6ITF9Y2xvbmUoZT0iIix0PW51bGwsaSxzPSEwKXtyZXR1cm4gbmV3IFcoZSx0aGlzLmdldFNjZW5lKCksdCx0aGlzLGkscyl9ZGlzcG9zZShlLHQ9ITEpe3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5LnJlbGVhc2VGb3JNZXNoKHRoaXMsITApO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoaS5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlQmluZE9ic2VydmFibGUmJmkuX29uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSxpLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJmkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZpLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZpLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lLnVzZUNsb25lZE1lc2hNYXApe2lmKGkubWVzaE1hcClmb3IoY29uc3QgcyBpbiBpLm1lc2hNYXApe2NvbnN0IHI9aS5tZXNoTWFwW3NdO3ImJihyLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwsaS5tZXNoTWFwW3NdPXZvaWQgMCl9aS5fc291cmNlJiZpLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXAmJihpLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKX1lbHNle2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgciBvZiBzKXtjb25zdCBuPXI7bi5faW50ZXJuYWxNZXNoRGF0YUluZm8mJm4uX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2UmJm4uX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9PT10aGlzJiYobi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1udWxsKX19aS5fc291cmNlPW51bGwsdGhpcy5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSxzdXBlci5kaXNwb3NlKGUsdCl9X2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YSgpe31fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpe31faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKXt9YXBwbHlEaXNwbGFjZW1lbnRNYXAoZSx0LGkscyxyLG4sYT0hMSl7Y29uc3Qgbz10aGlzLmdldFNjZW5lKCksaD1sPT57Y29uc3QgdT1sLndpZHRoLGQ9bC5oZWlnaHQsXz10aGlzLmdldEVuZ2luZSgpLmNyZWF0ZUNhbnZhcyh1LGQpLmdldENvbnRleHQoIjJkIik7Xy5kcmF3SW1hZ2UobCwwLDApO2NvbnN0IEU9Xy5nZXRJbWFnZURhdGEoMCwwLHUsZCkuZGF0YTt0aGlzLmFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihFLHUsZCx0LGkscixuLGEpLHMmJnModGhpcyl9O3JldHVybiBILkxvYWRJbWFnZShlLGgsKCk9Pnt9LG8ub2ZmbGluZVByb3ZpZGVyKSx0aGlzfWFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihlLHQsaSxzLHIsbixhLG89ITEpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpKXJldHVybiBPLldhcm4oIkNhbm5vdCBjYWxsIGFwcGx5RGlzcGxhY2VtZW50TWFwOiBHaXZlbiBtZXNoIGlzIG5vdCBjb21wbGV0ZS4gUG9zaXRpb24sIE5vcm1hbCBvciBVViBhcmUgbWlzc2luZyIpLHRoaXM7Y29uc3QgaD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMCwhMCksbD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpO2xldCBkPXAuWmVybygpO2NvbnN0IGY9cC5aZXJvKCksXz12ZS5aZXJvKCk7bj1ufHx2ZS5aZXJvKCksYT1hfHxuZXcgdmUoMSwxKTtmb3IobGV0IEU9MDtFPGgubGVuZ3RoO0UrPTMpe3AuRnJvbUFycmF5VG9SZWYoaCxFLGQpLHAuRnJvbUFycmF5VG9SZWYobCxFLGYpLHZlLkZyb21BcnJheVRvUmVmKHUsRS8zKjIsXyk7Y29uc3QgbT1NYXRoLmFicyhfLngqYS54K24ueCUxKSoodC0xKSV0fDAsdj1NYXRoLmFicyhfLnkqYS55K24ueSUxKSooaS0xKSVpfDAsUz0obSt2KnQpKjQseT1lW1NdLzI1NSxBPWVbUysxXS8yNTUsQz1lW1MrMl0vMjU1LGI9eSouMytBKi41OStDKi4xMTtmLm5vcm1hbGl6ZSgpLGYuc2NhbGVJblBsYWNlKHMrKHItcykqYiksZD1kLmFkZChmKSxkLnRvQXJyYXkoaCxFKX1yZXR1cm4gZWUuQ29tcHV0ZU5vcm1hbHMoaCx0aGlzLmdldEluZGljZXMoKSxsKSxvPyh0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdSkpOih0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCkpLHRoaXN9Y29udmVydFRvRmxhdFNoYWRlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcj0hMSxuLGE7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7YT1lW25dO2NvbnN0IG09dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoYSksdj1tLmdldERhdGEoKTtpZighKCh2IGluc3RhbmNlb2YgQXJyYXl8fHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpJiZ2Lmxlbmd0aD09PTApKXtpZihhPT09Zy5Ob3JtYWxLaW5kKXtyPW0uaXNVcGRhdGFibGUoKSxlLnNwbGljZShuLDEpLG4tLTtjb250aW51ZX10W2FdPW0saVthXT10aGlzLmdldFZlcnRpY2VzRGF0YShhKSxzW2FdPVtdfX1jb25zdCBvPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLGg9dGhpcy5nZXRJbmRpY2VzKCksbD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCB1O2Zvcih1PTA7dTxsO3UrKyl7Y29uc3QgbT1oW3VdO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe2lmKGE9ZVtuXSwhdFthXSljb250aW51ZTtjb25zdCB2PXRbYV0uZ2V0U3RyaWRlU2l6ZSgpO2ZvcihsZXQgUz0wO1M8djtTKyspc1thXS5wdXNoKGlbYV1bbSp2K1NdKX19Y29uc3QgZD1bXSxmPXNbZy5Qb3NpdGlvbktpbmRdLF89dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2xldCBFO2ZvcihfP0U9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MTpFPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTAsdT0wO3U8bDt1Kz0zKXtoW3VdPXUsaFt1KzFdPXUrMSxoW3UrMl09dSsyO2NvbnN0IG09cC5Gcm9tQXJyYXkoZix1KjMpLHY9cC5Gcm9tQXJyYXkoZiwodSsxKSozKSxTPXAuRnJvbUFycmF5KGYsKHUrMikqMykseT1tLnN1YnRyYWN0KHYpLEE9Uy5zdWJ0cmFjdCh2KSxDPXAuTm9ybWFsaXplKHAuQ3Jvc3MoeSxBKSk7RSYmQy5zY2FsZUluUGxhY2UoLTEpO2ZvcihsZXQgYj0wO2I8MztiKyspZC5wdXNoKEMueCksZC5wdXNoKEMueSksZC5wdXNoKEMueil9Zm9yKHRoaXMuc2V0SW5kaWNlcyhoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZCxyKSxuPTA7bjxlLmxlbmd0aDtuKyspYT1lW25dLHNbYV0mJnRoaXMuc2V0VmVydGljZXNEYXRhKGEsc1thXSx0W2FdLmlzVXBkYXRhYmxlKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgbT0wO208by5sZW5ndGg7bSsrKXtjb25zdCB2PW9bbV07dnQuQWRkVG9NZXNoKHYubWF0ZXJpYWxJbmRleCx2LmluZGV4U3RhcnQsdi5pbmRleENvdW50LHYuaW5kZXhTdGFydCx2LmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWNvbnZlcnRUb1VuSW5kZXhlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcixuO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspe249ZVtyXTtjb25zdCB1PXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO3Rbbl09dSxpW25dPXRbbl0uZ2V0RGF0YSgpLHNbbl09W119Y29uc3QgYT10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxvPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgbDtmb3IobD0wO2w8aDtsKyspe2NvbnN0IHU9b1tsXTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXtuPWVbcl07Y29uc3QgZD10W25dLmdldFN0cmlkZVNpemUoKTtmb3IobGV0IGY9MDtmPGQ7ZisrKXNbbl0ucHVzaChpW25dW3UqZCtmXSl9fWZvcihsPTA7bDxoO2wrPTMpb1tsXT1sLG9bbCsxXT1sKzEsb1tsKzJdPWwrMjtmb3IodGhpcy5zZXRJbmRpY2VzKG8pLHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobixzW25dLHRbbl0uaXNVcGRhdGFibGUoKSx0W25dLmdldFN0cmlkZVNpemUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCB1PTA7dTxhLmxlbmd0aDt1Kyspe2NvbnN0IGQ9YVt1XTt2dC5BZGRUb01lc2goZC5tYXRlcmlhbEluZGV4LGQuaW5kZXhTdGFydCxkLmluZGV4Q291bnQsZC5pbmRleFN0YXJ0LGQuaW5kZXhDb3VudCx0aGlzKX1yZXR1cm4gdGhpcy5fdW5JbmRleGVkPSEwLHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWZsaXBGYWNlcyhlPSExKXtjb25zdCB0PWVlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKTtsZXQgaTtpZihlJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiZ0Lm5vcm1hbHMpZm9yKGk9MDtpPHQubm9ybWFscy5sZW5ndGg7aSsrKXQubm9ybWFsc1tpXSo9LTE7aWYodC5pbmRpY2VzKXtsZXQgcztmb3IoaT0wO2k8dC5pbmRpY2VzLmxlbmd0aDtpKz0zKXM9dC5pbmRpY2VzW2krMV0sdC5pbmRpY2VzW2krMV09dC5pbmRpY2VzW2krMl0sdC5pbmRpY2VzW2krMl09c31yZXR1cm4gdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpKSx0aGlzfWluY3JlYXNlVmVydGljZXMoZT0xKXtjb25zdCB0PWVlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSxpPXQuaW5kaWNlcyYmIUFycmF5LmlzQXJyYXkodC5pbmRpY2VzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQuaW5kaWNlcyk6dC5pbmRpY2VzLHM9dC5wb3NpdGlvbnMmJiFBcnJheS5pc0FycmF5KHQucG9zaXRpb25zKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQucG9zaXRpb25zKTp0LnBvc2l0aW9ucyxyPXQudXZzJiYhQXJyYXkuaXNBcnJheSh0LnV2cykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0LnV2cyk6dC51dnMsbj10Lm5vcm1hbHMmJiFBcnJheS5pc0FycmF5KHQubm9ybWFscykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0Lm5vcm1hbHMpOnQubm9ybWFscztpZighaXx8IXMpTy5XYXJuKCJDb3VsZG4ndCBpbmNyZWFzZSBudW1iZXIgb2YgdmVydGljZXMgOiBWZXJ0ZXhEYXRhIG11c3QgY29udGFpbiBhdCBsZWFzdCBpbmRpY2VzIGFuZCBwb3NpdGlvbnMiKTtlbHNle3QuaW5kaWNlcz1pLHQucG9zaXRpb25zPXMsciYmKHQudXZzPXIpLG4mJih0Lm5vcm1hbHM9bik7Y29uc3QgYT1lKzEsbz1uZXcgQXJyYXk7Zm9yKGxldCBDPTA7QzxhKzE7QysrKW9bQ109bmV3IEFycmF5O2xldCBoLGw7Y29uc3QgdT1uZXcgcCgwLDAsMCksZD1uZXcgcCgwLDAsMCksZj1uZXcgdmUoMCwwKSxfPW5ldyBBcnJheSxFPW5ldyBBcnJheSxtPW5ldyBBcnJheTtsZXQgdixTPXMubGVuZ3RoLHk7ciYmKHk9ci5sZW5ndGgpO2xldCBBO24mJihBPW4ubGVuZ3RoKTtmb3IobGV0IEM9MDtDPGkubGVuZ3RoO0MrPTMpe0VbMF09aVtDXSxFWzFdPWlbQysxXSxFWzJdPWlbQysyXTtmb3IobGV0IGI9MDtiPDM7YisrKWlmKGg9RVtiXSxsPUVbKGIrMSklM10sbVtoXT09PXZvaWQgMCYmbVtsXT09PXZvaWQgMD8obVtoXT1uZXcgQXJyYXksbVtsXT1uZXcgQXJyYXkpOihtW2hdPT09dm9pZCAwJiYobVtoXT1uZXcgQXJyYXkpLG1bbF09PT12b2lkIDAmJihtW2xdPW5ldyBBcnJheSkpLG1baF1bbF09PT12b2lkIDAmJm1bbF1baF09PT12b2lkIDApe21baF1bbF09W10sdS54PShzWzMqbF0tc1szKmhdKS9hLHUueT0oc1szKmwrMV0tc1szKmgrMV0pL2EsdS56PShzWzMqbCsyXS1zWzMqaCsyXSkvYSxuJiYoZC54PShuWzMqbF0tblszKmhdKS9hLGQueT0oblszKmwrMV0tblszKmgrMV0pL2EsZC56PShuWzMqbCsyXS1uWzMqaCsyXSkvYSksciYmKGYueD0oclsyKmxdLXJbMipoXSkvYSxmLnk9KHJbMipsKzFdLXJbMipoKzFdKS9hKSxtW2hdW2xdLnB1c2goaCk7Zm9yKGxldCBNPTE7TTxhO00rKyltW2hdW2xdLnB1c2gocy5sZW5ndGgvMyksc1tTKytdPXNbMypoXStNKnUueCxzW1MrK109c1szKmgrMV0rTSp1Lnksc1tTKytdPXNbMypoKzJdK00qdS56LG4mJihuW0ErK109blszKmhdK00qZC54LG5bQSsrXT1uWzMqaCsxXStNKmQueSxuW0ErK109blszKmgrMl0rTSpkLnopLHImJihyW3krK109clsyKmhdK00qZi54LHJbeSsrXT1yWzIqaCsxXStNKmYueSk7bVtoXVtsXS5wdXNoKGwpLG1bbF1baF09bmV3IEFycmF5LHY9bVtoXVtsXS5sZW5ndGg7Zm9yKGxldCBNPTA7TTx2O00rKyltW2xdW2hdW01dPW1baF1bbF1bdi0xLU1dfW9bMF1bMF09aVtDXSxvWzFdWzBdPW1baVtDXV1baVtDKzFdXVsxXSxvWzFdWzFdPW1baVtDXV1baVtDKzJdXVsxXTtmb3IobGV0IGI9MjtiPGE7YisrKXtvW2JdWzBdPW1baVtDXV1baVtDKzFdXVtiXSxvW2JdW2JdPW1baVtDXV1baVtDKzJdXVtiXSx1Lng9KHNbMypvW2JdW2JdXS1zWzMqb1tiXVswXV0pL2IsdS55PShzWzMqb1tiXVtiXSsxXS1zWzMqb1tiXVswXSsxXSkvYix1Lno9KHNbMypvW2JdW2JdKzJdLXNbMypvW2JdWzBdKzJdKS9iLG4mJihkLng9KG5bMypvW2JdW2JdXS1uWzMqb1tiXVswXV0pL2IsZC55PShuWzMqb1tiXVtiXSsxXS1uWzMqb1tiXVswXSsxXSkvYixkLno9KG5bMypvW2JdW2JdKzJdLW5bMypvW2JdWzBdKzJdKS9iKSxyJiYoZi54PShyWzIqb1tiXVtiXV0tclsyKm9bYl1bMF1dKS9iLGYueT0oclsyKm9bYl1bYl0rMV0tclsyKm9bYl1bMF0rMV0pL2IpO2ZvcihsZXQgTT0xO008YjtNKyspb1tiXVtNXT1zLmxlbmd0aC8zLHNbUysrXT1zWzMqb1tiXVswXV0rTSp1Lngsc1tTKytdPXNbMypvW2JdWzBdKzFdK00qdS55LHNbUysrXT1zWzMqb1tiXVswXSsyXStNKnUueixuJiYobltBKytdPW5bMypvW2JdWzBdXStNKmQueCxuW0ErK109blszKm9bYl1bMF0rMV0rTSpkLnksbltBKytdPW5bMypvW2JdWzBdKzJdK00qZC56KSxyJiYoclt5KytdPXJbMipvW2JdWzBdXStNKmYueCxyW3krK109clsyKm9bYl1bMF0rMV0rTSpmLnkpfW9bYV09bVtpW0MrMV1dW2lbQysyXV0sXy5wdXNoKG9bMF1bMF0sb1sxXVswXSxvWzFdWzFdKTtmb3IobGV0IGI9MTtiPGE7YisrKXtsZXQgTTtmb3IoTT0wO008YjtNKyspXy5wdXNoKG9bYl1bTV0sb1tiKzFdW01dLG9bYisxXVtNKzFdKSxfLnB1c2gob1tiXVtNXSxvW2IrMV1bTSsxXSxvW2JdW00rMV0pO18ucHVzaChvW2JdW01dLG9bYisxXVtNXSxvW2IrMV1bTSsxXSl9fXQuaW5kaWNlcz1fLHQuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSl9fWZvcmNlU2hhcmVkVmVydGljZXMoKXtjb25zdCBlPWVlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSx0PWUudXZzLGk9ZS5pbmRpY2VzLHM9ZS5wb3NpdGlvbnMscj1lLmNvbG9ycyxuPWUubWF0cmljZXNJbmRpY2VzLGE9ZS5tYXRyaWNlc1dlaWdodHMsbz1lLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGg9ZS5tYXRyaWNlc1dlaWdodHNFeHRyYTtpZihpPT09dm9pZCAwfHxzPT09dm9pZCAwfHxpPT09bnVsbHx8cz09PW51bGwpTy5XYXJuKCJWZXJ0ZXhEYXRhIGNvbnRhaW5zIGVtcHR5IGVudHJpZXMiKTtlbHNle2NvbnN0IGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9bmV3IEFycmF5LGY9bmV3IEFycmF5LF89bmV3IEFycmF5LEU9bmV3IEFycmF5LG09bmV3IEFycmF5LHY9bmV3IEFycmF5O2xldCBTPW5ldyBBcnJheSx5PTA7Y29uc3QgQT17fTtsZXQgQyxiO2ZvcihsZXQgTD0wO0w8aS5sZW5ndGg7TCs9Myl7Yj1baVtMXSxpW0wrMV0saVtMKzJdXSxTPW5ldyBBcnJheTtmb3IobGV0IGs9MDtrPDM7aysrKXtTW2tdPSIiO2ZvcihsZXQgdz0wO3c8Mzt3KyspTWF0aC5hYnMoc1szKmJba10rd10pPDFlLTgmJihzWzMqYltrXSt3XT0wKSxTW2tdKz1zWzMqYltrXSt3XSsifCJ9aWYoIShTWzBdPT1TWzFdfHxTWzBdPT1TWzJdfHxTWzFdPT1TWzJdKSlmb3IobGV0IGs9MDtrPDM7aysrKXtpZihDPUFbU1trXV0sQz09PXZvaWQgMCl7QVtTW2tdXT15LEM9eSsrO2ZvcihsZXQgdz0wO3c8Mzt3KyspbC5wdXNoKHNbMypiW2tdK3ddKTtpZihyIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspZi5wdXNoKHJbNCpiW2tdK3ddKTtpZih0IT1udWxsKWZvcihsZXQgdz0wO3c8Mjt3KyspZC5wdXNoKHRbMipiW2tdK3ddKTtpZihuIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspXy5wdXNoKG5bNCpiW2tdK3ddKTtpZihhIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspRS5wdXNoKGFbNCpiW2tdK3ddKTtpZihvIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspbS5wdXNoKG9bNCpiW2tdK3ddKTtpZihoIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3Kyspdi5wdXNoKGhbNCpiW2tdK3ddKX11LnB1c2goQyl9fWNvbnN0IE09bmV3IEFycmF5O2VlLkNvbXB1dGVOb3JtYWxzKGwsdSxNKSxlLnBvc2l0aW9ucz1sLGUuaW5kaWNlcz11LGUubm9ybWFscz1NLHQhPW51bGwmJihlLnV2cz1kKSxyIT1udWxsJiYoZS5jb2xvcnM9ZiksbiE9bnVsbCYmKGUubWF0cmljZXNJbmRpY2VzPV8pLGEhPW51bGwmJihlLm1hdHJpY2VzV2VpZ2h0cz1FKSxvIT1udWxsJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT1tKSxhIT1udWxsJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT12KSxlLmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkpfX1zdGF0aWMgX2luc3RhbmNlZE1lc2hGYWN0b3J5KGUsdCl7dGhyb3cgJCgiSW5zdGFuY2VkTWVzaCIpfXN0YXRpYyBfUGh5c2ljc0ltcG9zdG9yUGFyc2VyKGUsdCxpKXt0aHJvdyAkKCJQaHlzaWNzSW1wb3N0b3IiKX1jcmVhdGVJbnN0YW5jZShlKXtyZXR1cm4gVy5faW5zdGFuY2VkTWVzaEZhY3RvcnkoZSx0aGlzKX1zeW5jaHJvbml6ZUluc3RhbmNlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2UrKyl0aGlzLmluc3RhbmNlc1tlXS5fc3luY1N1Yk1lc2hlcygpO3JldHVybiB0aGlzfW9wdGltaXplSW5kaWNlcyhlKXtjb25zdCB0PXRoaXMuZ2V0SW5kaWNlcygpLGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFpfHwhdClyZXR1cm4gdGhpcztjb25zdCBzPW5ldyBBcnJheTtmb3IobGV0IG49MDtuPGkubGVuZ3RoO249biszKXMucHVzaChwLkZyb21BcnJheShpLG4pKTtjb25zdCByPW5ldyBBcnJheTtyZXR1cm4gWWkuU3luY0FzeW5jRm9yTG9vcChzLmxlbmd0aCw0MCxuPT57Y29uc3QgYT1zLmxlbmd0aC0xLW4sbz1zW2FdO2ZvcihsZXQgaD0wO2g8YTsrK2gpe2NvbnN0IGw9c1toXTtpZihvLmVxdWFscyhsKSl7clthXT1oO2JyZWFrfX19LCgpPT57Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aDsrK2EpdFthXT1yW3RbYV1dfHx0W2FdO2NvbnN0IG49dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCk7dGhpcy5zZXRJbmRpY2VzKHQpLHRoaXMuc3ViTWVzaGVzPW4sZSYmZSh0aGlzKX0pLHRoaXN9c2VyaWFsaXplKGU9e30pe2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSxnZSYmZ2UuSGFzVGFncyh0aGlzKSYmKGUudGFncz1nZS5HZXRUYWdzKHRoaXMpKSxlLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uYXNBcnJheSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2Uucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmFzQXJyYXkoKTp0aGlzLnJvdGF0aW9uJiYoZS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmFzQXJyYXkoKSksZS5zY2FsaW5nPXRoaXMuc2NhbGluZy5hc0FycmF5KCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg/ZS5waXZvdE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpOmUubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCghMSksZS5pc1Zpc2libGU9dGhpcy5pc1Zpc2libGUsZS5pbmZpbml0ZURpc3RhbmNlPXRoaXMuaW5maW5pdGVEaXN0YW5jZSxlLnBpY2thYmxlPXRoaXMuaXNQaWNrYWJsZSxlLnJlY2VpdmVTaGFkb3dzPXRoaXMucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxlLnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5LGUuY2hlY2tDb2xsaXNpb25zPXRoaXMuY2hlY2tDb2xsaXNpb25zLGUuaXNCbG9ja2VyPXRoaXMuaXNCbG9ja2VyLGUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSxlLmlzVW5JbmRleGVkPXRoaXMuaXNVbkluZGV4ZWQ7Y29uc3QgdD10aGlzLl9nZW9tZXRyeTtpZih0JiZ0aGlzLnN1Yk1lc2hlcyl7ZS5nZW9tZXRyeVVuaXF1ZUlkPXQudW5pcXVlSWQsZS5nZW9tZXRyeUlkPXQuaWQsZS5zdWJNZXNoZXM9W107Zm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuc3ViTWVzaGVzW2ldO2Uuc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6cy5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6cy52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6cy52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6cy5pbmRleFN0YXJ0LGluZGV4Q291bnQ6cy5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLGUubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsZS5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJihlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYoZS5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsZS5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KHEuTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3QgaT10aGlzLmdldFBoeXNpY3NJbXBvc3RvcigpO2kmJihlLnBoeXNpY3NNYXNzPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NGcmljdGlvbj1pLmdldFBhcmFtKCJmcmljdGlvbiIpLGUucGh5c2ljc1Jlc3RpdHV0aW9uPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NJbXBvc3Rvcj1pLnR5cGUpfXRoaXMubWV0YWRhdGEmJihlLm1ldGFkYXRhPXRoaXMubWV0YWRhdGEpLGUuaW5zdGFuY2VzPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmluc3RhbmNlc1tpXTtpZihzLmRvTm90U2VyaWFsaXplKWNvbnRpbnVlO2NvbnN0IHI9e25hbWU6cy5uYW1lLGlkOnMuaWQsaXNFbmFibGVkOnMuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6cy5pc1Zpc2libGUsaXNQaWNrYWJsZTpzLmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnMuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnMucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6cy5zY2FsaW5nLmFzQXJyYXkoKX07aWYocy5wYXJlbnQmJnMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChyKSxzLnJvdGF0aW9uUXVhdGVybmlvbj9yLnJvdGF0aW9uUXVhdGVybmlvbj1zLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6cy5yb3RhdGlvbiYmKHIucm90YXRpb249cy5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KHEuTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3Qgbj1zLmdldFBoeXNpY3NJbXBvc3RvcigpO24mJihyLnBoeXNpY3NNYXNzPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NGcmljdGlvbj1uLmdldFBhcmFtKCJmcmljdGlvbiIpLHIucGh5c2ljc1Jlc3RpdHV0aW9uPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NJbXBvc3Rvcj1uLnR5cGUpfXMubWV0YWRhdGEmJihyLm1ldGFkYXRhPXMubWV0YWRhdGEpLGUuaW5zdGFuY2VzLnB1c2gociksYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnMocyxyKSxyLnJhbmdlcz1zLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpfWlmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50JiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYoZS50aGluSW5zdGFuY2VzPXtpbnN0YW5jZXNDb3VudDp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCxtYXRyaXhEYXRhOkFycmF5LmZyb20odGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSksbWF0cml4QnVmZmVyU2l6ZTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplLGVuYWJsZVBpY2tpbmc6dGhpcy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nfSx0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UpKXtjb25zdCBpPXtkYXRhOnt9LHNpemVzOnt9LHN0cmlkZXM6e319O2Zvcihjb25zdCBzIGluIHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhKWkuZGF0YVtzXT1BcnJheS5mcm9tKHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhW3NdKSxpLnNpemVzW3NdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1tzXSxpLnN0cmlkZXNbc109dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbc107ZS50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2U9aX1yZXR1cm4gYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLGUuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsZS5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLGUub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLGUub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSxlLnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LGUuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJihlLmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKSxlfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuO3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyO2lmKGUmJmUudmVydGV4Q291bnQpe2lmKGUudmVydGV4Q291bnQhPT10aGlzLmdldFRvdGFsVmVydGljZXMoKSl7Ty5FcnJvcigiTWVzaCBpcyBpbmNvbXBhdGlibGUgd2l0aCBtb3JwaCB0YXJnZXRzLiBUYXJnZXRzIGFuZCBtZXNoIG11c3QgYWxsIGhhdmUgdGhlIHNhbWUgdmVydGljZXMgY291bnQuIiksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbDtyZXR1cm59aWYoZS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2ZvcihsZXQgdD0wO3Q8ZS5udW1JbmZsdWVuY2Vyczt0Kyspe2NvbnN0IGk9ZS5nZXRBY3RpdmVUYXJnZXQodCkscz1pLmdldFBvc2l0aW9ucygpO2lmKCFzKXtPLkVycm9yKCJJbnZhbGlkIG1vcnBoIHRhcmdldC4gVGFyZ2V0IG11c3QgaGF2ZSBwb3NpdGlvbnMuIik7cmV0dXJufXRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kK3QscywhMSwzKTtjb25zdCByPWkuZ2V0Tm9ybWFscygpO3ImJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0LHIsITEsMyk7Y29uc3Qgbj1pLmdldFRhbmdlbnRzKCk7biYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCt0LG4sITEsMyk7Y29uc3QgYT1pLmdldFVWcygpO2EmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKyJfIit0LGEsITEsMil9fWVsc2V7bGV0IHQ9MDtmb3IoO3RoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kK3QpOyl0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQrdCkmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kK3QpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlVWS2luZCsiXyIrdCksdCsrfX1zdGF0aWMgUGFyc2UoZSx0LGkpe2xldCBzO2lmKGUudHlwZSYmZS50eXBlPT09IkxpbmVzTWVzaCI/cz1XLl9MaW5lc01lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHcm91bmRNZXNoIj9zPVcuX0dyb3VuZE1lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHb2xkYmVyZ01lc2giP3M9Vy5fR29sZGJlcmdNZXNoUGFyc2VyKGUsdCk6cz1uZXcgVyhlLm5hbWUsdCkscy5pZD1lLmlkLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGdlJiZnZS5BZGRUYWdzVG8ocyxlLnRhZ3MpLHMucG9zaXRpb249cC5Gcm9tQXJyYXkoZS5wb3NpdGlvbiksZS5tZXRhZGF0YSE9PXZvaWQgMCYmKHMubWV0YWRhdGE9ZS5tZXRhZGF0YSksZS5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb249Wi5Gcm9tQXJyYXkoZS5yb3RhdGlvblF1YXRlcm5pb24pOmUucm90YXRpb24mJihzLnJvdGF0aW9uPXAuRnJvbUFycmF5KGUucm90YXRpb24pKSxzLnNjYWxpbmc9cC5Gcm9tQXJyYXkoZS5zY2FsaW5nKSxlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KHguRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KHguRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuaXNWaXNpYmxlPWUuaXNWaXNpYmxlLHMuaW5maW5pdGVEaXN0YW5jZT1lLmluZmluaXRlRGlzdGFuY2Uscy5zaG93Qm91bmRpbmdCb3g9ZS5zaG93Qm91bmRpbmdCb3gscy5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9ZS5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gsZS5hcHBseUZvZyE9PXZvaWQgMCYmKHMuYXBwbHlGb2c9ZS5hcHBseUZvZyksZS5waWNrYWJsZSE9PXZvaWQgMCYmKHMuaXNQaWNrYWJsZT1lLnBpY2thYmxlKSxlLmFscGhhSW5kZXghPT12b2lkIDAmJihzLmFscGhhSW5kZXg9ZS5hbHBoYUluZGV4KSxzLnJlY2VpdmVTaGFkb3dzPWUucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlIT09dm9pZCAwJiYocy5iaWxsYm9hcmRNb2RlPWUuYmlsbGJvYXJkTW9kZSksZS52aXNpYmlsaXR5IT09dm9pZCAwJiYocy52aXNpYmlsaXR5PWUudmlzaWJpbGl0eSkscy5jaGVja0NvbGxpc2lvbnM9ZS5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixlLmlzQmxvY2tlciE9PXZvaWQgMCYmKHMuaXNCbG9ja2VyPWUuaXNCbG9ja2VyKSxzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPWUudXNlRmxhdFNoYWRpbmcsZS5mcmVlemVXb3JsZE1hdHJpeCYmKHMuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PWUuZnJlZXplV29ybGRNYXRyaXgpLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxlLmFjdGlvbnMhPT12b2lkIDAmJihzLl93YWl0aW5nRGF0YS5hY3Rpb25zPWUuYWN0aW9ucyksZS5vdmVybGF5QWxwaGEhPT12b2lkIDAmJihzLm92ZXJsYXlBbHBoYT1lLm92ZXJsYXlBbHBoYSksZS5vdmVybGF5Q29sb3IhPT12b2lkIDAmJihzLm92ZXJsYXlDb2xvcj1yZS5Gcm9tQXJyYXkoZS5vdmVybGF5Q29sb3IpKSxlLnJlbmRlck92ZXJsYXkhPT12b2lkIDAmJihzLnJlbmRlck92ZXJsYXk9ZS5yZW5kZXJPdmVybGF5KSxzLmlzVW5JbmRleGVkPSEhZS5pc1VuSW5kZXhlZCxzLmhhc1ZlcnRleEFscGhhPWUuaGFzVmVydGV4QWxwaGEsZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuYnVpbGRCb3VuZGluZ0luZm8ocC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksZS5fYmluYXJ5SW5mbyYmKHMuX2JpbmFyeUluZm89ZS5fYmluYXJ5SW5mbykscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChnLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2goZy5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPWF0Ll9JbXBvcnRHZW9tZXRyeSxPZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCYmcy5fY2hlY2tEZWxheVN0YXRlKCkpOmF0Ll9JbXBvcnRHZW9tZXRyeShlLHMpLGUubWF0ZXJpYWxVbmlxdWVJZD9zLl93YWl0aW5nTWF0ZXJpYWxJZD1lLm1hdGVyaWFsVW5pcXVlSWQ6ZS5tYXRlcmlhbElkJiYocy5fd2FpdGluZ01hdGVyaWFsSWQ9ZS5tYXRlcmlhbElkKSxlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPi0xJiYocy5tb3JwaFRhcmdldE1hbmFnZXI9dC5nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkKGUubW9ycGhUYXJnZXRNYW5hZ2VySWQpKSxlLnNrZWxldG9uSWQhPT12b2lkIDAmJmUuc2tlbGV0b25JZCE9PW51bGwmJihzLnNrZWxldG9uPXQuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpLGUubnVtQm9uZUluZmx1ZW5jZXJzJiYocy5udW1Cb25lSW5mbHVlbmNlcnM9ZS5udW1Cb25lSW5mbHVlbmNlcnMpKSxlLmFuaW1hdGlvbnMpe2ZvcihsZXQgcj0wO3I8ZS5hbmltYXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5hbmltYXRpb25zW3JdLGE9cmkoIkJBQllMT04uQW5pbWF0aW9uIik7YSYmcy5hbmltYXRpb25zLnB1c2goYS5QYXJzZShuKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMocyxlLHQpfWlmKGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmxheWVyTWFzayYmIWlzTmFOKGUubGF5ZXJNYXNrKT9zLmxheWVyTWFzaz1NYXRoLmFicyhwYXJzZUludChlLmxheWVyTWFzaykpOnMubGF5ZXJNYXNrPTI2ODQzNTQ1NSxlLnBoeXNpY3NJbXBvc3RvciYmVy5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHQscyxlKSxlLmxvZE1lc2hJZHMmJihzLl93YWl0aW5nRGF0YS5sb2RzPXtpZHM6ZS5sb2RNZXNoSWRzLGRpc3RhbmNlczplLmxvZERpc3RhbmNlcz9lLmxvZERpc3RhbmNlczpudWxsLGNvdmVyYWdlczplLmxvZENvdmVyYWdlcz9lLmxvZENvdmVyYWdlczpudWxsfSksZS5pbnN0YW5jZXMpZm9yKGxldCByPTA7cjxlLmluc3RhbmNlcy5sZW5ndGg7cisrKXtjb25zdCBuPWUuaW5zdGFuY2VzW3JdLGE9cy5jcmVhdGVJbnN0YW5jZShuLm5hbWUpO2lmKG4uaWQmJihhLmlkPW4uaWQpLGdlJiYobi50YWdzP2dlLkFkZFRhZ3NUbyhhLG4udGFncyk6Z2UuQWRkVGFnc1RvKGEsZS50YWdzKSksYS5wb3NpdGlvbj1wLkZyb21BcnJheShuLnBvc2l0aW9uKSxuLm1ldGFkYXRhIT09dm9pZCAwJiYoYS5tZXRhZGF0YT1uLm1ldGFkYXRhKSxuLnBhcmVudElkIT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudElkPW4ucGFyZW50SWQpLG4ucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW4ucGFyZW50SW5zdGFuY2VJbmRleCksbi5pc0VuYWJsZWQhPT12b2lkIDAmJm4uaXNFbmFibGVkIT09bnVsbCYmYS5zZXRFbmFibGVkKG4uaXNFbmFibGVkKSxuLmlzVmlzaWJsZSE9PXZvaWQgMCYmbi5pc1Zpc2libGUhPT1udWxsJiYoYS5pc1Zpc2libGU9bi5pc1Zpc2libGUpLG4uaXNQaWNrYWJsZSE9PXZvaWQgMCYmbi5pc1BpY2thYmxlIT09bnVsbCYmKGEuaXNQaWNrYWJsZT1uLmlzUGlja2FibGUpLG4ucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uPVouRnJvbUFycmF5KG4ucm90YXRpb25RdWF0ZXJuaW9uKTpuLnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1wLkZyb21BcnJheShuLnJvdGF0aW9uKSksYS5zY2FsaW5nPXAuRnJvbUFycmF5KG4uc2NhbGluZyksbi5jaGVja0NvbGxpc2lvbnMhPW51bGwmJm4uY2hlY2tDb2xsaXNpb25zIT1udWxsJiYoYS5jaGVja0NvbGxpc2lvbnM9bi5jaGVja0NvbGxpc2lvbnMpLG4ucGlja2FibGUhPW51bGwmJm4ucGlja2FibGUhPW51bGwmJihhLmlzUGlja2FibGU9bi5waWNrYWJsZSksbi5zaG93Qm91bmRpbmdCb3ghPW51bGwmJm4uc2hvd0JvdW5kaW5nQm94IT1udWxsJiYoYS5zaG93Qm91bmRpbmdCb3g9bi5zaG93Qm91bmRpbmdCb3gpLG4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiZuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PW4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94KSxuLmFscGhhSW5kZXghPW51bGwmJm4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoYS5hbHBoYUluZGV4PW4uYWxwaGFJbmRleCksbi5waHlzaWNzSW1wb3N0b3ImJlcuX1BoeXNpY3NJbXBvc3RvclBhcnNlcih0LGEsbiksbi5hbmltYXRpb25zKXtmb3IobGV0IG89MDtvPG4uYW5pbWF0aW9ucy5sZW5ndGg7bysrKXtjb25zdCBoPW4uYW5pbWF0aW9uc1tvXSxsPXJpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2wmJmEuYW5pbWF0aW9ucy5wdXNoKGwuUGFyc2UoaCkpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKGEsbix0KSxuLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKGEsbi5hdXRvQW5pbWF0ZUZyb20sbi5hdXRvQW5pbWF0ZVRvLG4uYXV0b0FuaW1hdGVMb29wLG4uYXV0b0FuaW1hdGVTcGVlZHx8MSl9fWlmKGUudGhpbkluc3RhbmNlcyl7Y29uc3Qgcj1lLnRoaW5JbnN0YW5jZXM7aWYocy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nPSEhci5lbmFibGVQaWNraW5nLHIubWF0cml4RGF0YT8ocy50aGluSW5zdGFuY2VTZXRCdWZmZXIoIm1hdHJpeCIsbmV3IEZsb2F0MzJBcnJheShyLm1hdHJpeERhdGEpLDE2LCExKSxzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPXIubWF0cml4QnVmZmVyU2l6ZSxzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudD1yLmluc3RhbmNlc0NvdW50KTpzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPXIubWF0cml4QnVmZmVyU2l6ZSxlLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZSl7Y29uc3Qgbj1lLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZTtmb3IoY29uc3QgYSBpbiBuLmRhdGEpcy50aGluSW5zdGFuY2VTZXRCdWZmZXIoYSxuZXcgRmxvYXQzMkFycmF5KG4uZGF0YVthXSksbi5zdHJpZGVzW2FdLCExKSxzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbYV09bi5zaXplc1thXX19cmV0dXJuIHN9c2V0UG9zaXRpb25zRm9yQ1BVU2tpbm5pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFlLl9zb3VyY2VQb3NpdGlvbnMpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCF0KXJldHVybiBlLl9zb3VyY2VQb3NpdGlvbnM7ZS5fc291cmNlUG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkodCksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsITApfXJldHVybiBlLl9zb3VyY2VQb3NpdGlvbnN9c2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighZS5fc291cmNlTm9ybWFscyl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2lmKCF0KXJldHVybiBlLl9zb3VyY2VOb3JtYWxzO2UuX3NvdXJjZU5vcm1hbHM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuTm9ybWFsS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0LCEwKX1yZXR1cm4gZS5fc291cmNlTm9ybWFsc31hcHBseVNrZWxldG9uKGUpe2lmKCF0aGlzLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPT10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpKXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCksIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCksaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighaS5fc291cmNlUG9zaXRpb25zKXtjb25zdCB2PXRoaXMuc3ViTWVzaGVzLnNsaWNlKCk7dGhpcy5zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpLHRoaXMuc3ViTWVzaGVzPXZ9dCYmIWkuX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCk7bGV0IHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFzKXJldHVybiB0aGlzO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChzPW5ldyBGbG9hdDMyQXJyYXkocykpO2xldCByPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYodCl7aWYoIXIpcmV0dXJuIHRoaXM7ciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHI9bmV3IEZsb2F0MzJBcnJheShyKSl9Y29uc3Qgbj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZighYXx8IW4pcmV0dXJuIHRoaXM7Y29uc3Qgbz10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LGg9bz90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxsPW8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsdT1lLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLGQ9cC5aZXJvKCksZj1uZXcgeCxfPW5ldyB4O2xldCBFPTAsbTtmb3IobGV0IHY9MDt2PHMubGVuZ3RoO3YrPTMsRSs9NCl7bGV0IFM7Zm9yKG09MDttPDQ7bSsrKVM9YVtFK21dLFM+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKHUsTWF0aC5mbG9vcihuW0UrbV0qMTYpLFMsXyksZi5hZGRUb1NlbGYoXykpO2lmKG8pZm9yKG09MDttPDQ7bSsrKVM9bFtFK21dLFM+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKHUsTWF0aC5mbG9vcihoW0UrbV0qMTYpLFMsXyksZi5hZGRUb1NlbGYoXykpO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoaS5fc291cmNlUG9zaXRpb25zW3ZdLGkuX3NvdXJjZVBvc2l0aW9uc1t2KzFdLGkuX3NvdXJjZVBvc2l0aW9uc1t2KzJdLGYsZCksZC50b0FycmF5KHMsdiksdCYmKHAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGkuX3NvdXJjZU5vcm1hbHNbdl0saS5fc291cmNlTm9ybWFsc1t2KzFdLGkuX3NvdXJjZU5vcm1hbHNbdisyXSxmLGQpLGQudG9BcnJheShyLHYpKSxmLnJlc2V0KCl9cmV0dXJuIHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHMpLHQmJnRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxyKSx0aGlzfXN0YXRpYyBNaW5NYXgoZSl7bGV0IHQ9bnVsbCxpPW51bGw7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihzKXtjb25zdCBuPXMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3g7IXR8fCFpPyh0PW4ubWluaW11bVdvcmxkLGk9bi5tYXhpbXVtV29ybGQpOih0Lm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksaS5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpKX0pLCF0fHwhaT97bWluOnAuWmVybygpLG1heDpwLlplcm8oKX06e21pbjp0LG1heDppfX1zdGF0aWMgQ2VudGVyKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEFycmF5P1cuTWluTWF4KGUpOmU7cmV0dXJuIHAuQ2VudGVyKHQubWluLHQubWF4KX1zdGF0aWMgTWVyZ2VNZXNoZXMoZSx0PSEwLGkscyxyLG4pe3JldHVybiBQcyhXLl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQsaSxzLHIsbiwhMSkpfXN0YXRpYyBNZXJnZU1lc2hlc0FzeW5jKGUsdD0hMCxpLHMscixuKXtyZXR1cm4gT24oVy5fTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0LGkscyxyLG4sITApLHduKCkpfXN0YXRpYypfTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0PSEwLGkscyxyLG4sYSl7aWYoZT1lLmZpbHRlcihCb29sZWFuKSxlLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IG87aWYoIWkpe2xldCBNPTA7Zm9yKG89MDtvPGUubGVuZ3RoO28rKylpZihNKz1lW29dLmdldFRvdGFsVmVydGljZXMoKSxNPj02NTUzNilyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgbWVzaGVzIGJlY2F1c2UgcmVzdWx0aW5nIG1lc2ggd2lsbCBoYXZlIG1vcmUgdGhhbiA2NTUzNiB2ZXJ0aWNlcy4gUGxlYXNlIHVzZSBhbGxvdzMyQml0c0luZGljZXMgPSB0cnVlIHRvIHVzZSAzMiBiaXRzIGluZGljZXMiKSxudWxsfW4mJihyPSExKTtjb25zdCBoPW5ldyBBcnJheSxsPW5ldyBBcnJheSx1PW5ldyBBcnJheSxkPWVbMF0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbjtmb3Iobz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBNPWVbb107aWYoTS5pc0FuSW5zdGFuY2UpcmV0dXJuIE8uV2FybigiQ2Fubm90IG1lcmdlIGluc3RhbmNlIG1lc2hlcy4iKSxudWxsO2lmKGQhPT1NLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pcmV0dXJuIE8uV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyB3aXRoIGRpZmZlcmVudCBvdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIHZhbHVlcy4iKSxudWxsO2lmKHImJnUucHVzaChNLmdldFRvdGFsSW5kaWNlcygpKSxuKWlmKE0ubWF0ZXJpYWwpe2NvbnN0IEw9TS5tYXRlcmlhbDtpZihMIGluc3RhbmNlb2YgU2kpe2ZvcihsZXQgaz0wO2s8TC5zdWJNYXRlcmlhbHMubGVuZ3RoO2srKyloLmluZGV4T2YoTC5zdWJNYXRlcmlhbHNba10pPDAmJmgucHVzaChMLnN1Yk1hdGVyaWFsc1trXSk7Zm9yKGxldCBrPTA7azxNLnN1Yk1lc2hlcy5sZW5ndGg7aysrKWwucHVzaChoLmluZGV4T2YoTC5zdWJNYXRlcmlhbHNbTS5zdWJNZXNoZXNba10ubWF0ZXJpYWxJbmRleF0pKSx1LnB1c2goTS5zdWJNZXNoZXNba10uaW5kZXhDb3VudCl9ZWxzZXtoLmluZGV4T2YoTCk8MCYmaC5wdXNoKEwpO2ZvcihsZXQgaz0wO2s8TS5zdWJNZXNoZXMubGVuZ3RoO2srKylsLnB1c2goaC5pbmRleE9mKEwpKSx1LnB1c2goTS5zdWJNZXNoZXNba10uaW5kZXhDb3VudCl9fWVsc2UgZm9yKGxldCBMPTA7TDxNLnN1Yk1lc2hlcy5sZW5ndGg7TCsrKWwucHVzaCgwKSx1LnB1c2goTS5zdWJNZXNoZXNbTF0uaW5kZXhDb3VudCl9Y29uc3QgZj1lWzBdLF89TT0+e2NvbnN0IEw9TS5jb21wdXRlV29ybGRNYXRyaXgoITApO3JldHVybltlZS5FeHRyYWN0RnJvbU1lc2goTSwhMSwhMSksTF19LFtFLG1dPV8oZik7YSYmKHlpZWxkKTtjb25zdCB2PW5ldyBBcnJheShlLmxlbmd0aC0xKTtmb3IobGV0IE09MTtNPGUubGVuZ3RoO00rKyl2W00tMV09XyhlW01dKSxhJiYoeWllbGQpO2NvbnN0IFM9RS5fbWVyZ2VDb3JvdXRpbmUobSx2LGksYSwhdCk7bGV0IHk9Uy5uZXh0KCk7Zm9yKDsheS5kb25lOylhJiYoeWllbGQpLHk9Uy5uZXh0KCk7Y29uc3QgQT15LnZhbHVlO3N8fChzPW5ldyBXKGYubmFtZSsiX21lcmdlZCIsZi5nZXRTY2VuZSgpKSk7Y29uc3QgQz1BLl9hcHBseVRvQ29yb3V0aW5lKHMsdm9pZCAwLGEpO2xldCBiPUMubmV4dCgpO2Zvcig7IWIuZG9uZTspYSYmKHlpZWxkKSxiPUMubmV4dCgpO2lmKHMuY2hlY2tDb2xsaXNpb25zPWYuY2hlY2tDb2xsaXNpb25zLHMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1mLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdClmb3Iobz0wO288ZS5sZW5ndGg7bysrKWVbb10uZGlzcG9zZSgpO2lmKHJ8fG4pe3MucmVsZWFzZVN1Yk1lc2hlcygpLG89MDtsZXQgTT0wO2Zvcig7bzx1Lmxlbmd0aDspdnQuQ3JlYXRlRnJvbUluZGljZXMoMCxNLHVbb10scyx2b2lkIDAsITEpLE0rPXVbb10sbysrO2Zvcihjb25zdCBMIG9mIHMuc3ViTWVzaGVzKUwucmVmcmVzaEJvdW5kaW5nSW5mbygpO3MuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1pZihuKXtjb25zdCBNPW5ldyBTaShmLm5hbWUrIl9tZXJnZWQiLGYuZ2V0U2NlbmUoKSk7TS5zdWJNYXRlcmlhbHM9aDtmb3IobGV0IEw9MDtMPHMuc3ViTWVzaGVzLmxlbmd0aDtMKyspcy5zdWJNZXNoZXNbTF0ubWF0ZXJpYWxJbmRleD1sW0xdO3MubWF0ZXJpYWw9TX1lbHNlIHMubWF0ZXJpYWw9Zi5tYXRlcmlhbDtyZXR1cm4gc31hZGRJbnN0YW5jZShlKXtlLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9dGhpcy5pbnN0YW5jZXMubGVuZ3RoLHRoaXMuaW5zdGFuY2VzLnB1c2goZSl9cmVtb3ZlSW5zdGFuY2UoZSl7Y29uc3QgdD1lLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk7aWYodCE9LTEpe2lmKHQhPT10aGlzLmluc3RhbmNlcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLmluc3RhbmNlc1t0aGlzLmluc3RhbmNlcy5sZW5ndGgtMV07dGhpcy5pbnN0YW5jZXNbdF09aSxpLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9dH1lLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsdGhpcy5pbnN0YW5jZXMucG9wKCl9fV9zaG91bGRDb252ZXJ0UkhTKCl7cmV0dXJuIHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PVAuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbn19Vy5GUk9OVFNJREU9ZWUuRlJPTlRTSURFLFcuQkFDS1NJREU9ZWUuQkFDS1NJREUsVy5ET1VCTEVTSURFPWVlLkRPVUJMRVNJREUsVy5ERUZBVUxUU0lERT1lZS5ERUZBVUxUU0lERSxXLk5PX0NBUD0wLFcuQ0FQX1NUQVJUPTEsVy5DQVBfRU5EPTIsVy5DQVBfQUxMPTMsVy5OT19GTElQPTAsVy5GTElQX1RJTEU9MSxXLlJPVEFURV9USUxFPTIsVy5GTElQX1JPVz0zLFcuUk9UQVRFX1JPVz00LFcuRkxJUF9OX1JPVEFURV9USUxFPTUsVy5GTElQX05fUk9UQVRFX1JPVz02LFcuQ0VOVEVSPTAsVy5MRUZUPTEsVy5SSUdIVD0yLFcuVE9QPTMsVy5CT1RUT009NCxXLklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVD0hMSxXLl9Hcm91bmRNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgJCgiR3JvdW5kTWVzaCIpfSxXLl9Hb2xkYmVyZ01lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyAkKCJHb2xkYmVyZ01lc2giKX0sVy5fTGluZXNNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgJCgiTGluZXNNZXNoIil9LGl0KCJCQUJZTE9OLk1lc2giLFcpLFcucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5zZXRNYXRlcmlhbEJ5SWQoYyl9LFcuQ3JlYXRlRGlzYz1XLkNyZWF0ZURpc2N8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlQm94PVcuQ3JlYXRlQm94fHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVNwaGVyZT1XLkNyZWF0ZVNwaGVyZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVDeWxpbmRlcj1XLkNyZWF0ZUN5bGluZGVyfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVRvcnVzS25vdD1XLkNyZWF0ZVRvcnVzS25vdHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVUb3J1cz1XLkNyZWF0ZVRvcnVzfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVBsYW5lPVcuQ3JlYXRlUGxhbmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlR3JvdW5kPVcuQ3JlYXRlR3JvdW5kfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVRpbGVkR3JvdW5kPVcuQ3JlYXRlVGlsZWRHcm91bmR8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD1XLkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXB8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlVHViZT1XLkNyZWF0ZVR1YmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlUG9seWhlZHJvbj1XLkNyZWF0ZVBvbHloZWRyb258fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlSWNvU3BoZXJlPVcuQ3JlYXRlSWNvU3BoZXJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZURlY2FsPVcuQ3JlYXRlRGVjYWx8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlQ2Fwc3VsZT1XLkNyZWF0ZUNhcHN1bGV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuRXh0ZW5kVG9Hb2xkYmVyZz1XLkV4dGVuZFRvR29sZGJlcmd8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pO2NsYXNzIHp0e2NvbnN0cnVjdG9yKGU9MCl7dGhpcy5wcmlvcml0eT1lfWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIiJ9YXBwbHkoZSx0KXtyZXR1cm4hMH19Y2xhc3MgTHMgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlPTAsdD0xMDI0LGk9LjUpe3N1cGVyKGUpLHRoaXMucHJpb3JpdHk9ZSx0aGlzLm1heGltdW1TaXplPXQsdGhpcy5zdGVwPWl9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iUmVkdWNpbmcgcmVuZGVyIHRhcmdldCB0ZXh0dXJlIHNpemUgdG8gIit0aGlzLm1heGltdW1TaXplfWFwcGx5KGUsdCl7bGV0IGk9ITA7Zm9yKGxldCBzPTA7czxlLnRleHR1cmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS50ZXh0dXJlc1tzXTtpZighci5jYW5SZXNjYWxlfHxyLmdldENvbnRleHQpY29udGludWU7Y29uc3Qgbj1yLmdldFNpemUoKTtNYXRoLm1heChuLndpZHRoLG4uaGVpZ2h0KT50aGlzLm1heGltdW1TaXplJiYoci5zY2FsZSh0aGlzLnN0ZXApLGk9ITEpfXJldHVybiBpfX1jbGFzcyBQciBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGU9MCx0PTIsaT0uMjUpe3N1cGVyKGUpLHRoaXMucHJpb3JpdHk9ZSx0aGlzLm1heGltdW1TY2FsZT10LHRoaXMuc3RlcD1pLHRoaXMuX2N1cnJlbnRTY2FsZT0tMSx0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9MX1nZXREZXNjcmlwdGlvbigpe3JldHVybiJTZXR0aW5nIGhhcmR3YXJlIHNjYWxpbmcgbGV2ZWwgdG8gIit0aGlzLl9jdXJyZW50U2NhbGV9YXBwbHkoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFNjYWxlPT09LTEmJih0aGlzLl9jdXJyZW50U2NhbGU9ZS5nZXRFbmdpbmUoKS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLHRoaXMuX2N1cnJlbnRTY2FsZT50aGlzLm1heGltdW1TY2FsZSYmKHRoaXMuX2RpcmVjdGlvbk9mZnNldD0tMSkpLHRoaXMuX2N1cnJlbnRTY2FsZSs9dGhpcy5fZGlyZWN0aW9uT2Zmc2V0KnRoaXMuc3RlcCxlLmdldEVuZ2luZSgpLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsKHRoaXMuX2N1cnJlbnRTY2FsZSksdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PT09MT90aGlzLl9jdXJyZW50U2NhbGU+PXRoaXMubWF4aW11bVNjYWxlOnRoaXMuX2N1cnJlbnRTY2FsZTw9dGhpcy5tYXhpbXVtU2NhbGV9fWNsYXNzIE5zIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBzaGFkb3dzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5zaGFkb3dzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIEJzIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBwb3N0LXByb2Nlc3NlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBVcyBleHRlbmRzIHp0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgbGVucyBmbGFyZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLmxlbnNGbGFyZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgSG4gZXh0ZW5kcyB6dHtnZXREZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm9uR2V0RGVzY3JpcHRpb24/dGhpcy5vbkdldERlc2NyaXB0aW9uKCk6IlJ1bm5pbmcgdXNlciBkZWZpbmVkIGNhbGxiYWNrIn1hcHBseShlLHQpe3JldHVybiB0aGlzLm9uQXBwbHk/dGhpcy5vbkFwcGx5KGUsdCk6ITB9fWNsYXNzIGtzIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBwYXJ0aWNsZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnBhcnRpY2xlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBEciBleHRlbmRzIHp0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcmVuZGVyIHRhcmdldHMgb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnJlbmRlclRhcmdldHNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgUXQgZXh0ZW5kcyB6dHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fY2FuQmVNZXJnZWQ9ZT0+e2lmKCEoZSBpbnN0YW5jZW9mIFcpKXJldHVybiExO2NvbnN0IHQ9ZTtyZXR1cm4hKHQuaXNEaXNwb3NlZCgpfHwhdC5pc1Zpc2libGV8fCF0LmlzRW5hYmxlZCgpfHx0Lmluc3RhbmNlcy5sZW5ndGg+MHx8dC5za2VsZXRvbnx8dC5oYXNMT0RMZXZlbHMpfX1zdGF0aWMgZ2V0IFVwZGF0ZVNlbGVjdGlvblRyZWUoKXtyZXR1cm4gUXQuX1VwZGF0ZVNlbGVjdGlvblRyZWV9c3RhdGljIHNldCBVcGRhdGVTZWxlY3Rpb25UcmVlKGUpe1F0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlPWV9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iTWVyZ2luZyBzaW1pbGFyIG1lc2hlcyB0b2dldGhlciJ9YXBwbHkoZSx0LGkpe2NvbnN0IHM9ZS5tZXNoZXMuc2xpY2UoMCk7bGV0IHI9cy5sZW5ndGg7Zm9yKGxldCBhPTA7YTxyO2ErKyl7Y29uc3Qgbz1uZXcgQXJyYXksaD1zW2FdO2lmKHRoaXMuX2NhbkJlTWVyZ2VkKGgpKXtvLnB1c2goaCk7Zm9yKGxldCBsPWErMTtsPHI7bCsrKXtjb25zdCB1PXNbbF07dGhpcy5fY2FuQmVNZXJnZWQodSkmJnUubWF0ZXJpYWw9PT1oLm1hdGVyaWFsJiZ1LmNoZWNrQ29sbGlzaW9ucz09PWguY2hlY2tDb2xsaXNpb25zJiYoby5wdXNoKHUpLHItLSxzLnNwbGljZShsLDEpLGwtLSl9by5sZW5ndGg8Mnx8Vy5NZXJnZU1lc2hlcyhvLHZvaWQgMCwhMCl9fWNvbnN0IG49ZTtyZXR1cm4gbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSYmKGkhPW51bGw/aSYmbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpOlF0LlVwZGF0ZVNlbGVjdGlvblRyZWUmJm4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKSksITB9fVF0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlPSExO2NsYXNzIGdpe2NvbnN0cnVjdG9yKGU9NjAsdD0yZTMpe3RoaXMudGFyZ2V0RnJhbWVSYXRlPWUsdGhpcy50cmFja2VyRHVyYXRpb249dCx0aGlzLm9wdGltaXphdGlvbnM9bmV3IEFycmF5fWFkZE9wdGltaXphdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpbWl6YXRpb25zLnB1c2goZSksdGhpc31hZGRDdXN0b21PcHRpbWl6YXRpb24oZSx0LGk9MCl7Y29uc3Qgcz1uZXcgSG4oaSk7cmV0dXJuIHMub25BcHBseT1lLHMub25HZXREZXNjcmlwdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKHMpLHRoaXN9c3RhdGljIExvd0RlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBnaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgUXQoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBOcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFVzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IEJzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcga3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTHMoaSwxMDI0KSksdH1zdGF0aWMgTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgZ2koZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IFF0KGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgTnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBVcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBCcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IGtzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IExzKGksNTEyKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBEcihpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBQcihpLDIpKSx0fXN0YXRpYyBIaWdoRGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IGdpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBRdChpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IE5zKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgVXMoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgQnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBrcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBMcyhpLDI1NikpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgRHIoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgUHIoaSw0KSksdH19Y2xhc3MgVnN7Y29uc3RydWN0b3IoZSx0LGk9ITAscz0hMSl7aWYodGhpcy5faXNSdW5uaW5nPSExLHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTAsdGhpcy5fdGFyZ2V0RnJhbWVSYXRlPTYwLHRoaXMuX3RyYWNrZXJEdXJhdGlvbj0yZTMsdGhpcy5fY3VycmVudEZyYW1lUmF0ZT0wLHRoaXMuX2ltcHJvdmVtZW50TW9kZT0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZT1uZXcgRix0P3RoaXMuX29wdGlvbnM9dDp0aGlzLl9vcHRpb25zPW5ldyBnaSx0aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSYmKHRoaXMuX3RhcmdldEZyYW1lUmF0ZT10aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSksdGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24mJih0aGlzLl90cmFja2VyRHVyYXRpb249dGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24pLGkpe2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zKW4ucHJpb3JpdHk9cisrfXRoaXMuX2ltcHJvdmVtZW50TW9kZT1zLHRoaXMuX3NjZW5lPWV8fGZlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9dGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuZGlzcG9zZSgpfSl9Z2V0IGlzSW5JbXByb3ZlbWVudE1vZGUoKXtyZXR1cm4gdGhpcy5faW1wcm92ZW1lbnRNb2RlfXNldCBpc0luSW1wcm92ZW1lbnRNb2RlKGUpe3RoaXMuX2ltcHJvdmVtZW50TW9kZT1lfWdldCBjdXJyZW50UHJpb3JpdHlMZXZlbCgpe3JldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbH1nZXQgY3VycmVudEZyYW1lUmF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVSYXRlfWdldCB0YXJnZXRGcmFtZVJhdGUoKXtyZXR1cm4gdGhpcy5fdGFyZ2V0RnJhbWVSYXRlfXNldCB0YXJnZXRGcmFtZVJhdGUoZSl7dGhpcy5fdGFyZ2V0RnJhbWVSYXRlPWV9Z2V0IHRyYWNrZXJEdXJhdGlvbigpe3JldHVybiB0aGlzLl90cmFja2VyRHVyYXRpb259c2V0IHRyYWNrZXJEdXJhdGlvbihlKXt0aGlzLl90cmFja2VyRHVyYXRpb249ZX1nZXQgb3B0aW1pemF0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnN9c3RvcCgpe3RoaXMuX2lzUnVubmluZz0hMX1yZXNldCgpe3RoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTB9c3RhcnQoKXt0aGlzLl9pc1J1bm5pbmd8fCh0aGlzLl9pc1J1bm5pbmc9ITAsdGhpcy5fc2NlbmUuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSx0aGlzLl90cmFja2VyRHVyYXRpb24pfSkpfV9jaGVja0N1cnJlbnRTdGF0ZSgpe2lmKCF0aGlzLl9pc1J1bm5pbmcpcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2NlbmUsdD10aGlzLl9vcHRpb25zO2lmKHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9TWF0aC5yb3VuZChlLmdldEVuZ2luZSgpLmdldEZwcygpKSx0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU8PXRoaXMuX3RhcmdldEZyYW1lUmF0ZXx8IXRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZT49dGhpcy5fdGFyZ2V0RnJhbWVSYXRlKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59bGV0IGk9ITAscz0hMDtmb3IobGV0IHI9MDtyPHQub3B0aW1pemF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPXQub3B0aW1pemF0aW9uc1tyXTtuLnByaW9yaXR5PT09dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwmJihzPSExLGk9aSYmbi5hcHBseShlLHRoaXMpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobikpfWlmKHMpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1pJiZ0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCsrLGUuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSx0aGlzLl90cmFja2VyRHVyYXRpb24pfSl9ZGlzcG9zZSgpe3RoaXMuc3RvcCgpLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcil9c3RhdGljIE9wdGltaXplQXN5bmMoZSx0LGkscyl7Y29uc3Qgcj1uZXcgVnMoZSx0fHxnaS5Nb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZCgpLCExKTtyZXR1cm4gaSYmci5vblN1Y2Nlc3NPYnNlcnZhYmxlLmFkZCgoKT0+e2koKX0pLHMmJnIub25GYWlsdXJlT2JzZXJ2YWJsZS5hZGQoKCk9PntzKCl9KSxyLnN0YXJ0KCkscn19ZnVuY3Rpb24gS24oYyl7Y29uc3R7ZW5naW5lOmV9PWMsdD1uZXcgbmUoZSk7dC5jbGVhckNvbG9yPW5ldyBtZSgwLDAsMCwwKSx0LnBvaW50ZXJNb3ZlUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJEb3duUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJVcFByZWRpY2F0ZT0oKT0+ITEsdC5jbGVhckNhY2hlZFZlcnRleERhdGEoKSx0LnRoZW1lRGF0YT17fTtjb25zdCBpPWdpLkxvd0RlZ3JhZGF0aW9uQWxsb3dlZCgpO3JldHVybiBpLm9wdGltaXphdGlvbnM9aS5vcHRpbWl6YXRpb25zLnNwbGljZSgxKSxpLnRhcmdldEZyYW1lUmF0ZT02MCxWcy5PcHRpbWl6ZUFzeW5jKHQsaSksdH1jbGFzcyBHZSBleHRlbmRzIGp7Y29uc3RydWN0b3IoZSx0LGkscz0hMCl7c3VwZXIoZSx0LGkscyksdGhpcy5fdG1wVXBWZWN0b3I9cC5aZXJvKCksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yPXAuWmVybygpLHRoaXMuY2FtZXJhRGlyZWN0aW9uPW5ldyBwKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uPW5ldyB2ZSgwLDApLHRoaXMuaWdub3JlUGFyZW50U2NhbGluZz0hMSx0aGlzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uPSExLHRoaXMuX3RtcFF1YXRlcm5pb249bmV3IFosdGhpcy5yb3RhdGlvbj1uZXcgcCgwLDAsMCksdGhpcy5zcGVlZD0yLHRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnQ9ITEsdGhpcy5pbnZlcnRSb3RhdGlvbj0hMSx0aGlzLmludmVyc2VSb3RhdGlvblNwZWVkPS4yLHRoaXMubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY3VycmVudFRhcmdldD1wLlplcm8oKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT0xLHRoaXMuX3ZpZXdNYXRyaXg9eC5aZXJvKCksdGhpcy5fY2FtTWF0cml4PXguWmVybygpLHRoaXMuX2NhbWVyYVRyYW5zZm9ybU1hdHJpeD14Llplcm8oKSx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeD14Llplcm8oKSx0aGlzLl9yZWZlcmVuY2VQb2ludD1uZXcgcCgwLDAsMSksdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludD1wLlplcm8oKSx0aGlzLl9kZWZhdWx0VXA9cC5VcCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj0wLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9MH1nZXRGcm9udFBvc2l0aW9uKGUpe3RoaXMuZ2V0V29ybGRNYXRyaXgoKTtjb25zdCB0PXRoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7cmV0dXJuIHQubm9ybWFsaXplKCksdC5zY2FsZUluUGxhY2UoZSksdGhpcy5nbG9iYWxQb3NpdGlvbi5hZGQodCl9X2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0Pyh0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9uJiZ0aGlzLmxvY2tlZFRhcmdldC5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9ufHx0aGlzLmxvY2tlZFRhcmdldCk6bnVsbH1zdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0b3JlZFBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLl9zdG9yZWRSb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksc3VwZXIuc3RvcmVTdGF0ZSgpfV9yZXN0b3JlU3RhdGVWYWx1ZXMoKXtyZXR1cm4gc3VwZXIuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLnBvc2l0aW9uPXRoaXMuX3N0b3JlZFBvc2l0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbj10aGlzLl9zdG9yZWRSb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuY2FtZXJhRGlyZWN0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCksITApOiExfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCksdGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBaKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKTtjb25zdCB0PXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7dD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmNvcHlGcm9tKHQpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD10LmNsb25lKCk6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY2FjaGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9X2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpe2lmKCFzdXBlci5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3JldHVybih0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmVxdWFscyhlKTohZSkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5lcXVhbHModGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uKTp0aGlzLl9jYWNoZS5yb3RhdGlvbi5lcXVhbHModGhpcy5yb3RhdGlvbikpfV9jb21wdXRlTG9jYWxDYW1lcmFTcGVlZCgpe2NvbnN0IGU9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5zcGVlZCpNYXRoLnNxcnQoZS5nZXREZWx0YVRpbWUoKS8oZS5nZXRGcHMoKSoxMDApKX1zZXRUYXJnZXQoZSl7dGhpcy51cFZlY3Rvci5ub3JtYWxpemUoKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT1lLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pLmxlbmd0aCgpLHRoaXMucG9zaXRpb24uej09PWUueiYmKHRoaXMucG9zaXRpb24ueis9eGUpLHRoaXMuX3JlZmVyZW5jZVBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSkseC5Mb29rQXRMSFRvUmVmKHRoaXMucG9zaXRpb24sZSx0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtTWF0cml4KSx0aGlzLl9jYW1NYXRyaXguaW52ZXJ0KCksdGhpcy5yb3RhdGlvbi54PU1hdGguYXRhbih0aGlzLl9jYW1NYXRyaXgubVs2XS90aGlzLl9jYW1NYXRyaXgubVsxMF0pO2NvbnN0IHQ9ZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTt0Lng+PTA/dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4odC56L3QueCkrTWF0aC5QSS8yOnRoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHQuei90LngpLU1hdGguUEkvMix0aGlzLnJvdGF0aW9uLno9MCxpc05hTih0aGlzLnJvdGF0aW9uLngpJiYodGhpcy5yb3RhdGlvbi54PTApLGlzTmFOKHRoaXMucm90YXRpb24ueSkmJih0aGlzLnJvdGF0aW9uLnk9MCksaXNOYU4odGhpcy5yb3RhdGlvbi56KSYmKHRoaXMucm90YXRpb24uej0wKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1nZXQgdGFyZ2V0KCl7cmV0dXJuIHRoaXMuZ2V0VGFyZ2V0KCl9c2V0IHRhcmdldChlKXt0aGlzLnNldFRhcmdldChlKX1nZXRUYXJnZXQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldH1fZGVjaWRlSWZOZWVkc1RvTW92ZSgpe3JldHVybiBNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KT4wfV91cGRhdGVQb3NpdGlvbigpe2lmKHRoaXMucGFyZW50KXt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLEQuTWF0cml4WzBdLEQuVmVjdG9yM1swXSksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKEQuVmVjdG9yM1swXSk7cmV0dXJufXRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbWVyYURpcmVjdGlvbil9X2NoZWNrSW5wdXRzKCl7Y29uc3QgZT10aGlzLmludmVydFJvdGF0aW9uPy10aGlzLmludmVyc2VSb3RhdGlvblNwZWVkOjEsdD10aGlzLl9kZWNpZGVJZk5lZWRzVG9Nb3ZlKCksaT1NYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk+MDt0JiZ0aGlzLl91cGRhdGVQb3NpdGlvbigpLGkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb24ueCs9dGhpcy5jYW1lcmFSb3RhdGlvbi54KmUsdGhpcy5yb3RhdGlvbi55Kz10aGlzLmNhbWVyYVJvdGF0aW9uLnkqZSx0aGlzLm5vUm90YXRpb25Db25zdHJhaW50fHwodGhpcy5yb3RhdGlvbi54PjEuNTcwNzk2JiYodGhpcy5yb3RhdGlvbi54PTEuNTcwNzk2KSx0aGlzLnJvdGF0aW9uLng8LTEuNTcwNzk2JiYodGhpcy5yb3RhdGlvbi54PS0xLjU3MDc5NikpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKSYmWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSksdCYmKE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi55PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi56PTApLHRoaXMuY2FtZXJhRGlyZWN0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxpJiYoTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KTx0aGlzLnNwZWVkKnhlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk8dGhpcy5zcGVlZCp4ZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueT0wKSx0aGlzLmNhbWVyYVJvdGF0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxzdXBlci5fY2hlY2tJbnB1dHMoKX1fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KTp4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpfV9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLnVwVmVjdG9yKSx0aGlzfV9nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0JiZ0aGlzLnNldFRhcmdldCh0aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpKSx0aGlzLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aIT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56Pyh0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24ueik6dGhpcy5fY2FjaGVkUm90YXRpb25aIT09dGhpcy5yb3RhdGlvbi56JiYodGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRSb3RhdGlvblo9dGhpcy5yb3RhdGlvbi56KSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fcmVmZXJlbmNlUG9pbnQsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCksdGhpcy5wb3NpdGlvbi5hZGRUb1JlZih0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50LHRoaXMuX2N1cnJlbnRUYXJnZXQpLHRoaXMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9faS5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpOihaLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sdGhpcy5fdG1wUXVhdGVybmlvbiksX2kuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLl90bXBRdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpKSksdGhpcy5fY29tcHV0ZVZpZXdNYXRyaXgodGhpcy5wb3NpdGlvbix0aGlzLl9jdXJyZW50VGFyZ2V0LHRoaXMudXBWZWN0b3IpLHRoaXMuX3ZpZXdNYXRyaXh9X2NvbXB1dGVWaWV3TWF0cml4KGUsdCxpKXtpZih0aGlzLmlnbm9yZVBhcmVudFNjYWxpbmcpe2lmKHRoaXMucGFyZW50KXtjb25zdCBzPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUscyx0aGlzLl9nbG9iYWxQb3NpdGlvbikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHQscyx0aGlzLl90bXBUYXJnZXRWZWN0b3IpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSxzLHRoaXMuX3RtcFVwVmVjdG9yKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20oZSksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLmNvcHlGcm9tKHQpLHRoaXMuX3RtcFVwVmVjdG9yLmNvcHlGcm9tKGkpO3RoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT94Lkxvb2tBdFJIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpOnguTG9va0F0TEhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk7cmV0dXJufWlmKHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT94Lkxvb2tBdFJIVG9SZWYoZSx0LGksdGhpcy5fdmlld01hdHJpeCk6eC5Mb29rQXRMSFRvUmVmKGUsdCxpLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMucGFyZW50KXtjb25zdCBzPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7dGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYocyx0aGlzLl92aWV3TWF0cml4KSx0aGlzLl92aWV3TWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24pLHRoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKGUpfWNyZWF0ZVJpZ0NhbWVyYShlLHQpe2lmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PWouUklHX01PREVfTk9ORSl7Y29uc3QgaT1uZXcgR2UoZSx0aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5nZXRTY2VuZSgpKTtyZXR1cm4gaS5pc1JpZ0NhbWVyYT0hMCxpLnJpZ1BhcmVudD10aGlzLCh0aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1ZSfHx0aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1dFQlZSKSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249bmV3IFopLGkuX2NhbWVyYVJpZ1BhcmFtcz17fSxpLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgWiksaS5tb2RlPXRoaXMubW9kZSxpLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCxpLm9ydGhvUmlnaHQ9dGhpcy5vcnRob1JpZ2h0LGkub3J0aG9Ub3A9dGhpcy5vcnRob1RvcCxpLm9ydGhvQm90dG9tPXRoaXMub3J0aG9Cb3R0b20saX1yZXR1cm4gbnVsbH1fdXBkYXRlUmlnQ2FtZXJhcygpe2NvbnN0IGU9dGhpcy5fcmlnQ2FtZXJhc1swXSx0PXRoaXMuX3JpZ0NhbWVyYXNbMV07c3dpdGNoKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5jYW1lcmFSaWdNb2RlKXtjYXNlIGouUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTDpjYXNlIGouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRDp7Y29uc3QgaT10aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8xOi0xLHM9dGhpcy5jYW1lcmFSaWdNb2RlPT09ai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ/LTE6MTt0aGlzLl9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldCh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlKmksZSksdGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSpzLHQpO2JyZWFrfWNhc2Ugai5SSUdfTU9ERV9WUjplLnJvdGF0aW9uUXVhdGVybmlvbj8oZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pLHQucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSk6KGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdC5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSksZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pO2JyZWFrfXN1cGVyLl91cGRhdGVSaWdDYW1lcmFzKCl9X2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KGUsdCl7dGhpcy5nZXRUYXJnZXQoKS5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24sR2UuX1RhcmdldEZvY2FsUG9pbnQpLEdlLl9UYXJnZXRGb2NhbFBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSk7Y29uc3Qgcz1HZS5fVGFyZ2V0Rm9jYWxQb2ludC5hZGRJblBsYWNlKHRoaXMucG9zaXRpb24pO3guVHJhbnNsYXRpb25Ub1JlZigtcy54LC1zLnksLXMueixHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4Lm11bHRpcGx5VG9SZWYoeC5Sb3RhdGlvbkF4aXModC51cFZlY3RvcixlKSxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSx4LlRyYW5zbGF0aW9uVG9SZWYocy54LHMueSxzLnosR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCksR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgsR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCx0LnBvc2l0aW9uKSx0LnNldFRhcmdldChzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGFyZ2V0Q2FtZXJhIn19R2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeD1uZXcgeCxHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4PW5ldyB4LEdlLl9UYXJnZXRGb2NhbFBvaW50PW5ldyBwLFQoW0J0KCldLEdlLnByb3RvdHlwZSwicm90YXRpb24iLHZvaWQgMCksVChbUigpXSxHZS5wcm90b3R5cGUsInNwZWVkIix2b2lkIDApLFQoW01uKCJsb2NrZWRUYXJnZXRJZCIpXSxHZS5wcm90b3R5cGUsImxvY2tlZFRhcmdldCIsdm9pZCAwKTtmdW5jdGlvbiBZbihjKXtjb25zdHtzY2VuZTplfT1jO2xldCB0O2NvbnN0IGk9MzYuNTtyZXR1cm4gdD1uZXcgR2UoIlRhcmdldENhbWVyYTEiLG5ldyBwKDAsaSwwKSxlKSx0LmZvdj0uMjUsdC5taW5aPTUsdC5tYXhaPWkrMSx0LnNldFRhcmdldChwLlplcm8oKSksdH1jbGFzcyBoZSBleHRlbmRzIHple2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmRpZmZ1c2U9bmV3IHJlKDEsMSwxKSx0aGlzLnNwZWN1bGFyPW5ldyByZSgxLDEsMSksdGhpcy5mYWxsb2ZmVHlwZT1oZS5GQUxMT0ZGX0RFRkFVTFQsdGhpcy5pbnRlbnNpdHk9MSx0aGlzLl9yYW5nZT1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX2ludmVyc2VTcXVhcmVkUmFuZ2U9MCx0aGlzLl9waG90b21ldHJpY1NjYWxlPTEsdGhpcy5faW50ZW5zaXR5TW9kZT1oZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyx0aGlzLl9yYWRpdXM9MWUtNSx0aGlzLnJlbmRlclByaW9yaXR5PTAsdGhpcy5fc2hhZG93RW5hYmxlZD0hMCx0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz0wLHRoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzaz0wLHRoaXMuX2xpZ2h0bWFwTW9kZT0wLHRoaXMuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbCx0aGlzLl9leGNsdWRlZE1lc2hlc0lkcz1uZXcgQXJyYXksdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPW5ldyBBcnJheSx0aGlzLl9pc0xpZ2h0PSEwLHRoaXMuZ2V0U2NlbmUoKS5hZGRMaWdodCh0aGlzKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUpLHRoaXMuX2J1aWxkVW5pZm9ybUxheW91dCgpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzPW5ldyBBcnJheSx0aGlzLmV4Y2x1ZGVkTWVzaGVzPW5ldyBBcnJheSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXQgcmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2V9c2V0IHJhbmdlKGUpe3RoaXMuX3JhbmdlPWUsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0xLyh0aGlzLnJhbmdlKnRoaXMucmFuZ2UpfWdldCBpbnRlbnNpdHlNb2RlKCl7cmV0dXJuIHRoaXMuX2ludGVuc2l0eU1vZGV9c2V0IGludGVuc2l0eU1vZGUoZSl7dGhpcy5faW50ZW5zaXR5TW9kZT1lLHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9Z2V0IHJhZGl1cygpe3JldHVybiB0aGlzLl9yYWRpdXN9c2V0IHJhZGl1cyhlKXt0aGlzLl9yYWRpdXM9ZSx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfWdldCBzaGFkb3dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0VuYWJsZWR9c2V0IHNoYWRvd0VuYWJsZWQoZSl7dGhpcy5fc2hhZG93RW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dFbmFibGVkPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaW5jbHVkZWRPbmx5TWVzaGVzKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc31zZXQgaW5jbHVkZWRPbmx5TWVzaGVzKGUpe3RoaXMuX2luY2x1ZGVkT25seU1lc2hlcz1lLHRoaXMuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seShlKX1nZXQgZXhjbHVkZWRNZXNoZXMoKXtyZXR1cm4gdGhpcy5fZXhjbHVkZWRNZXNoZXN9c2V0IGV4Y2x1ZGVkTWVzaGVzKGUpe3RoaXMuX2V4Y2x1ZGVkTWVzaGVzPWUsdGhpcy5faG9va0FycmF5Rm9yRXhjbHVkZWQoZSl9Z2V0IGV4Y2x1ZGVXaXRoTGF5ZXJNYXNrKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrfXNldCBleGNsdWRlV2l0aExheWVyTWFzayhlKXt0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz1lLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrfXNldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soZSl7dGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0IGxpZ2h0bWFwTW9kZSgpe3JldHVybiB0aGlzLl9saWdodG1hcE1vZGV9c2V0IGxpZ2h0bWFwTW9kZShlKXt0aGlzLl9saWdodG1hcE1vZGUhPT1lJiYodGhpcy5fbGlnaHRtYXBNb2RlPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX10cmFuc2ZlclRleHR1cmVzVG9FZmZlY3QoZSx0KXtyZXR1cm4gdGhpc31fYmluZExpZ2h0KGUsdCxpLHMscj0hMCl7dmFyIG47Y29uc3QgYT1lLnRvU3RyaW5nKCk7bGV0IG89ITE7aWYodGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoaSwiTGlnaHQiK2EpLHRoaXMuX3JlbmRlcklkIT09dC5nZXRSZW5kZXJJZCgpfHx0aGlzLl9sYXN0VXNlU3BlY3VsYXIhPT1zfHwhdGhpcy5fdW5pZm9ybUJ1ZmZlci51c2VVYm8pe3RoaXMuX3JlbmRlcklkPXQuZ2V0UmVuZGVySWQoKSx0aGlzLl9sYXN0VXNlU3BlY3VsYXI9cztjb25zdCBoPXRoaXMuZ2V0U2NhbGVkSW50ZW5zaXR5KCk7dGhpcy50cmFuc2ZlclRvRWZmZWN0KGksYSksdGhpcy5kaWZmdXNlLnNjYWxlVG9SZWYoaCxFaS5Db2xvcjNbMF0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHREaWZmdXNlIixFaS5Db2xvcjNbMF0sdGhpcy5yYW5nZSxhKSxzJiYodGhpcy5zcGVjdWxhci5zY2FsZVRvUmVmKGgsRWkuQ29sb3IzWzFdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0U3BlY3VsYXIiLEVpLkNvbG9yM1sxXSx0aGlzLnJhZGl1cyxhKSksbz0hMH1pZih0aGlzLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChpLGEpLHQuc2hhZG93c0VuYWJsZWQmJnRoaXMuc2hhZG93RW5hYmxlZCYmcil7Y29uc3QgaD0obj10aGlzLmdldFNoYWRvd0dlbmVyYXRvcih0LmFjdGl2ZUNhbWVyYSkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOnRoaXMuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aCYmKGguYmluZFNoYWRvd0xpZ2h0KGEsaSksbz0hMCl9bz90aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZSgpOnRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFVuaWZvcm1CdWZmZXIoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTGlnaHQifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZTtpZih0Kz0iLCB0eXBlOiAiK1siUG9pbnQiLCJEaXJlY3Rpb25hbCIsIlNwb3QiLCJIZW1pc3BoZXJpYyJdW3RoaXMuZ2V0VHlwZUlEKCldLHRoaXMuYW5pbWF0aW9ucylmb3IobGV0IGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXQrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbaV0udG9TdHJpbmcoZSk7cmV0dXJuIHR9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXtzdXBlci5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpLHRoaXMuaXNEaXNwb3NlZCgpfHx0aGlzLl9yZXN5bmNNZXNoZXMoKX1zZXRFbmFibGVkKGUpe3N1cGVyLnNldEVuYWJsZWQoZSksdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0U2hhZG93R2VuZXJhdG9yKGU9bnVsbCl7dmFyIHQ7cmV0dXJuIHRoaXMuX3NoYWRvd0dlbmVyYXRvcnM9PT1udWxsP251bGw6KHQ9dGhpcy5fc2hhZG93R2VuZXJhdG9ycy5nZXQoZSkpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Z2V0U2hhZG93R2VuZXJhdG9ycygpe3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3JzfWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gcC5aZXJvKCl9Y2FuQWZmZWN0TWVzaChlKXtyZXR1cm4gZT8hKHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5sZW5ndGg+MCYmdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMuaW5kZXhPZihlKT09PS0xfHx0aGlzLmV4Y2x1ZGVkTWVzaGVzJiZ0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmV4Y2x1ZGVkTWVzaGVzLmluZGV4T2YoZSkhPT0tMXx8dGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2shPT0wJiYhKHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrJmUubGF5ZXJNYXNrKXx8dGhpcy5leGNsdWRlV2l0aExheWVyTWFzayE9PTAmJnRoaXMuZXhjbHVkZVdpdGhMYXllck1hc2smZS5sYXllck1hc2spOiEwfWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLl9zaGFkb3dHZW5lcmF0b3JzKXtjb25zdCBpPXRoaXMuX3NoYWRvd0dlbmVyYXRvcnMudmFsdWVzKCk7Zm9yKGxldCBzPWkubmV4dCgpO3MuZG9uZSE9PSEwO3M9aS5uZXh0KCkpcy52YWx1ZS5kaXNwb3NlKCk7dGhpcy5fc2hhZG93R2VuZXJhdG9ycz1udWxsfWlmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1mb3IoY29uc3QgaSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKHRoaXMsITApO3RoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVMaWdodCh0aGlzKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0VHlwZUlEKCl7cmV0dXJuIDB9Z2V0U2NhbGVkSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX3Bob3RvbWV0cmljU2NhbGUqdGhpcy5pbnRlbnNpdHl9Y2xvbmUoZSx0PW51bGwpe2NvbnN0IGk9aGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldFR5cGVJRCgpLGUsdGhpcy5nZXRTY2VuZSgpKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWFlLkNsb25lKGksdGhpcyk7cmV0dXJuIGUmJihzLm5hbWU9ZSksdCYmKHMucGFyZW50PXQpLHMuc2V0RW5hYmxlZCh0aGlzLmlzRW5hYmxlZCgpKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyksc31zZXJpYWxpemUoKXtjb25zdCBlPWFlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldFR5cGVJRCgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmKGUuZXhjbHVkZWRNZXNoZXNJZHM9W10sdGhpcy5leGNsdWRlZE1lc2hlcy5mb3JFYWNoKHQ9PntlLmV4Y2x1ZGVkTWVzaGVzSWRzLnB1c2godC5pZCl9KSksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJihlLmluY2x1ZGVkT25seU1lc2hlc0lkcz1bXSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5mb3JFYWNoKHQ9PntlLmluY2x1ZGVkT25seU1lc2hlc0lkcy5wdXNoKHQuaWQpfSkpLGFlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsZSksZS5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLGV9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkpe2NvbnN0IHM9emUuQ29uc3RydWN0KCJMaWdodF9UeXBlXyIrZSx0LGkpO3JldHVybiBzfHxudWxsfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9aGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLnR5cGUsZS5uYW1lLHQpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9YWUuUGFyc2UoaSxlLHQpO2lmKGUuZXhjbHVkZWRNZXNoZXNJZHMmJihzLl9leGNsdWRlZE1lc2hlc0lkcz1lLmV4Y2x1ZGVkTWVzaGVzSWRzKSxlLmluY2x1ZGVkT25seU1lc2hlc0lkcyYmKHMuX2luY2x1ZGVkT25seU1lc2hlc0lkcz1lLmluY2x1ZGVkT25seU1lc2hlc0lkcyksZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLGUuZmFsbG9mZlR5cGUhPT12b2lkIDAmJihzLmZhbGxvZmZUeXBlPWUuZmFsbG9mZlR5cGUpLGUubGlnaHRtYXBNb2RlIT09dm9pZCAwJiYocy5saWdodG1hcE1vZGU9ZS5saWdodG1hcE1vZGUpLGUuYW5pbWF0aW9ucyl7Zm9yKGxldCByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmFuaW1hdGlvbnNbcl0sYT1yaSgiQkFCWUxPTi5BbmltYXRpb24iKTthJiZzLmFuaW1hdGlvbnMucHVzaChhLlBhcnNlKG4pKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmcy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzfV9ob29rQXJyYXlGb3JFeGNsdWRlZChlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7Zm9yKGNvbnN0IG4gb2YgcyluLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKTtyZXR1cm4gcn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtmb3IoY29uc3QgYSBvZiBuKWEuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpO3JldHVybiBufTtmb3IoY29uc3QgcyBvZiBlKXMuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfV9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHkoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxufSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1fcmVzeW5jTWVzaGVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcyllLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX1fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpZS5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZlLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9X2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl7dGhpcy5fcGhvdG9tZXRyaWNTY2FsZT10aGlzLl9nZXRQaG90b21ldHJpY1NjYWxlKCksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKX1fZ2V0UGhvdG9tZXRyaWNTY2FsZSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLmdldFR5cGVJRCgpO2xldCBpPXRoaXMuaW50ZW5zaXR5TW9kZTtzd2l0Y2goaT09PWhlLklOVEVOU0lUWU1PREVfQVVUT01BVElDJiYodD09PWhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/aT1oZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFOmk9aGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSksdCl7Y2FzZSBoZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2UgaGUuTElHSFRUWVBFSURfU1BPVExJR0hUOnN3aXRjaChpKXtjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUjplPTEvKDQqTWF0aC5QSSk7YnJlYWs7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOmU9MTticmVhaztjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFOmU9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXM7YnJlYWt9YnJlYWs7Y2FzZSBoZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUOnN3aXRjaChpKXtjYXNlIGhlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6ZT0xO2JyZWFrO2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6e2xldCBzPXRoaXMucmFkaXVzO3M9TWF0aC5tYXgocywuMDAxKSxlPTIqTWF0aC5QSSooMS1NYXRoLmNvcyhzKSk7YnJlYWt9fWJyZWFrO2Nhc2UgaGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVDplPTE7YnJlYWt9cmV0dXJuIGV9X3Jlb3JkZXJMaWdodHNJblNjZW5lKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7dGhpcy5fcmVuZGVyUHJpb3JpdHkhPTAmJihlLnJlcXVpcmVMaWdodFNvcnRpbmc9ITApLHRoaXMuZ2V0U2NlbmUoKS5zb3J0TGlnaHRzQnlQcmlvcml0eSgpfX1oZS5GQUxMT0ZGX0RFRkFVTFQ9RWUuRkFMTE9GRl9ERUZBVUxULGhlLkZBTExPRkZfUEhZU0lDQUw9RWUuRkFMTE9GRl9QSFlTSUNBTCxoZS5GQUxMT0ZGX0dMVEY9RWUuRkFMTE9GRl9HTFRGLGhlLkZBTExPRkZfU1RBTkRBUkQ9RWUuRkFMTE9GRl9TVEFOREFSRCxoZS5MSUdIVE1BUF9ERUZBVUxUPUVlLkxJR0hUTUFQX0RFRkFVTFQsaGUuTElHSFRNQVBfU1BFQ1VMQVI9RWUuTElHSFRNQVBfU1BFQ1VMQVIsaGUuTElHSFRNQVBfU0hBRE9XU09OTFk9RWUuTElHSFRNQVBfU0hBRE9XU09OTFksaGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9RWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsaGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPUVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUixoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPUVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFksaGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT1FZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFLGhlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPUVlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFLGhlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9RWUuTElHSFRUWVBFSURfUE9JTlRMSUdIVCxoZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPUVlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQsaGUuTElHSFRUWVBFSURfU1BPVExJR0hUPUVlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVCxoZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPUVlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQsVChbY2koKV0saGUucHJvdG90eXBlLCJkaWZmdXNlIix2b2lkIDApLFQoW2NpKCldLGhlLnByb3RvdHlwZSwic3BlY3VsYXIiLHZvaWQgMCksVChbUigpXSxoZS5wcm90b3R5cGUsImZhbGxvZmZUeXBlIix2b2lkIDApLFQoW1IoKV0saGUucHJvdG90eXBlLCJpbnRlbnNpdHkiLHZvaWQgMCksVChbUigpXSxoZS5wcm90b3R5cGUsInJhbmdlIixudWxsKSxUKFtSKCldLGhlLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIsbnVsbCksVChbUigpXSxoZS5wcm90b3R5cGUsInJhZGl1cyIsbnVsbCksVChbUigpXSxoZS5wcm90b3R5cGUsIl9yZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFtiZSgiX3Jlb3JkZXJMaWdodHNJblNjZW5lIildLGhlLnByb3RvdHlwZSwicmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksVChbUigic2hhZG93RW5hYmxlZCIpXSxoZS5wcm90b3R5cGUsIl9zaGFkb3dFbmFibGVkIix2b2lkIDApLFQoW1IoImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIildLGhlLnByb3RvdHlwZSwiX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW1IoImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIpXSxoZS5wcm90b3R5cGUsIl9pbmNsdWRlT25seVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbUigibGlnaHRtYXBNb2RlIildLGhlLnByb3RvdHlwZSwiX2xpZ2h0bWFwTW9kZSIsdm9pZCAwKTtjbGFzcyBVaSBleHRlbmRzIGhle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9X3NldFBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbihlKXt0aGlzLl9zZXRQb3NpdGlvbihlKX1fc2V0RGlyZWN0aW9uKGUpe3RoaXMuX2RpcmVjdGlvbj1lfWdldCBkaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0aW9ufXNldCBkaXJlY3Rpb24oZSl7dGhpcy5fc2V0RGlyZWN0aW9uKGUpfWdldCBzaGFkb3dNaW5aKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01pblp9c2V0IHNoYWRvd01pblooZSl7dGhpcy5fc2hhZG93TWluWj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01heFp9c2V0IHNoYWRvd01heFooZSl7dGhpcy5fc2hhZG93TWF4Wj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeD8odGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9ufHwodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPXAuWmVybygpKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbiksdGhpcy5kaXJlY3Rpb24mJih0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9ufHwodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1wLlplcm8oKSkscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmRpcmVjdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24pKSwhMCk6ITF9Z2V0RGVwdGhTY2FsZSgpe3JldHVybiA1MH1nZXRTaGFkb3dEaXJlY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn1nZXRBYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj90aGlzLnRyYW5zZm9ybWVkUG9zaXRpb246dGhpcy5wb3NpdGlvbn1zZXREaXJlY3Rpb25Ub1RhcmdldChlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249cC5Ob3JtYWxpemUoZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKSksdGhpcy5kaXJlY3Rpb259Z2V0Um90YXRpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTtjb25zdCBlPXAuQ3Jvc3ModGhpcy5kaXJlY3Rpb24sX2kuWSksdD1wLkNyb3NzKGUsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBwLlJvdGF0aW9uRnJvbUF4aXMoZSx0LHRoaXMuZGlyZWN0aW9uKX1uZWVkQ3ViZSgpe3JldHVybiExfW5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9Zm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3RoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPXAuWmVybygpfV9pc1N5bmNocm9uaXplZCgpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfWNvbXB1dGVXb3JsZE1hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpPyh0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fd29ybGRNYXRyaXgpOih0aGlzLl91cGRhdGVDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnosdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCYmKHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXgpfWdldERlcHRoTWluWihlKXtyZXR1cm4gdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjplLm1pblp9Z2V0RGVwdGhNYXhaKGUpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOmUubWF4Wn1zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcj90aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyKHQsaSxlKTp0aGlzLl9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSksdGhpc31fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3N1cGVyLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksKCF0aGlzLnBhcmVudHx8IXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KSYmKHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1udWxsLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249bnVsbCl9fVQoW0J0KCldLFVpLnByb3RvdHlwZSwicG9zaXRpb24iLG51bGwpLFQoW0J0KCldLFVpLnByb3RvdHlwZSwiZGlyZWN0aW9uIixudWxsKSxUKFtSKCldLFVpLnByb3RvdHlwZSwic2hhZG93TWluWiIsbnVsbCksVChbUigpXSxVaS5wcm90b3R5cGUsInNoYWRvd01heFoiLG51bGwpLHplLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8xIiwoYyxlKT0+KCk9Pm5ldyBJdChjLHAuWmVybygpLGUpKTtjbGFzcyBJdCBleHRlbmRzIFVpe2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLGkpLHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplPTAsdGhpcy5fc2hhZG93T3J0aG9TY2FsZT0uMSx0aGlzLmF1dG9VcGRhdGVFeHRlbmRzPSEwLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzPSExLHRoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUUsdGhpcy5wb3NpdGlvbj10LnNjYWxlKC0xKSx0aGlzLmRpcmVjdGlvbj10fWdldCBzaGFkb3dGcnVzdHVtU2l6ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZX1zZXQgc2hhZG93RnJ1c3R1bVNpemUoZSl7dGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgc2hhZG93T3J0aG9TY2FsZSgpe3JldHVybiB0aGlzLl9zaGFkb3dPcnRob1NjYWxlfXNldCBzaGFkb3dPcnRob1NjYWxlKGUpe3RoaXMuX3NoYWRvd09ydGhvU2NhbGU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgb3J0aG9MZWZ0KCl7cmV0dXJuIHRoaXMuX29ydGhvTGVmdH1zZXQgb3J0aG9MZWZ0KGUpe3RoaXMuX29ydGhvTGVmdD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvUmlnaHQoZSl7dGhpcy5fb3J0aG9SaWdodD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgb3J0aG9Ub3AoZSl7dGhpcy5fb3J0aG9Ub3A9ZX1nZXQgb3J0aG9Cb3R0b20oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkRpcmVjdGlvbmFsTGlnaHQifWdldFR5cGVJRCgpe3JldHVybiBoZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUfV9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7dGhpcy5zaGFkb3dGcnVzdHVtU2l6ZT4wP3RoaXMuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpOnRoaXMuX3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl9X3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTt0JiZ4Lk9ydGhvTEhUb1JlZih0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93RnJ1c3R1bVNpemUsdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjp0Lm1pblosdGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4Wjp0Lm1heFosZSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKX1fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7aWYoIXMpcmV0dXJuO2lmKHRoaXMuYXV0b1VwZGF0ZUV4dGVuZHN8fHRoaXMuX29ydGhvTGVmdD09PU51bWJlci5NQVhfVkFMVUUpe2NvbnN0IGw9cC5aZXJvKCk7dGhpcy5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRTtsZXQgdT1OdW1iZXIuTUFYX1ZBTFVFLGQ9TnVtYmVyLk1JTl9WQUxVRTtmb3IobGV0IGY9MDtmPGkubGVuZ3RoO2YrKyl7Y29uc3QgXz1pW2ZdO2lmKCFfKWNvbnRpbnVlO2NvbnN0IG09Xy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveDtmb3IobGV0IHY9MDt2PG0udmVjdG9yc1dvcmxkLmxlbmd0aDt2KyspcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKG0udmVjdG9yc1dvcmxkW3ZdLHQsbCksbC54PHRoaXMuX29ydGhvTGVmdCYmKHRoaXMuX29ydGhvTGVmdD1sLngpLGwueTx0aGlzLl9vcnRob0JvdHRvbSYmKHRoaXMuX29ydGhvQm90dG9tPWwueSksbC54PnRoaXMuX29ydGhvUmlnaHQmJih0aGlzLl9vcnRob1JpZ2h0PWwueCksbC55PnRoaXMuX29ydGhvVG9wJiYodGhpcy5fb3J0aG9Ub3A9bC55KSx0aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKGwuejx1JiYodT1sLnopLGwuej5kJiYoZD1sLnopKX10aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKHRoaXMuX3NoYWRvd01pblo9dSx0aGlzLl9zaGFkb3dNYXhaPWQpfWNvbnN0IHI9dGhpcy5fb3J0aG9SaWdodC10aGlzLl9vcnRob0xlZnQsbj10aGlzLl9vcnRob1RvcC10aGlzLl9vcnRob0JvdHRvbSxhPXRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6cy5taW5aLG89dGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4WjpzLm1heFosaD10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyO3guT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX29ydGhvTGVmdC1yKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1JpZ2h0K3IqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvQm90dG9tLW4qdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvVG9wK24qdGhpcy5zaGFkb3dPcnRob1NjYWxlLGg/bzphLGg/YTpvLGUsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9X2J1aWxkVW5pZm9ybUxheW91dCgpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfXRyYW5zZmVyVG9FZmZlY3QoZSx0KXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyh0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi54LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnosMSx0KSx0aGlzKToodGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMuZGlyZWN0aW9uLngsdGhpcy5kaXJlY3Rpb24ueSx0aGlzLmRpcmVjdGlvbi56LDEsdCksdGhpcyl9dHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdChlLHQpe3JldHVybiB0aGlzLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCk/KGUuc2V0RmxvYXQzKHQsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi54LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnopLHRoaXMpOihlLnNldEZsb2F0Myh0LHRoaXMuZGlyZWN0aW9uLngsdGhpcy5kaXJlY3Rpb24ueSx0aGlzLmRpcmVjdGlvbi56KSx0aGlzKX1nZXREZXB0aE1pblooZSl7Y29uc3QgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4hdC51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnQuaXNORENIYWxmWlJhbmdlPzA6MX1nZXREZXB0aE1heFooZSl7Y29uc3QgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4gdC51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnQuaXNORENIYWxmWlJhbmdlPzA6MX1wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMoZSx0KXtlWyJESVJMSUdIVCIrdF09ITB9fVQoW1IoKV0sSXQucHJvdG90eXBlLCJzaGFkb3dGcnVzdHVtU2l6ZSIsbnVsbCksVChbUigpXSxJdC5wcm90b3R5cGUsInNoYWRvd09ydGhvU2NhbGUiLG51bGwpLFQoW1IoKV0sSXQucHJvdG90eXBlLCJhdXRvVXBkYXRlRXh0ZW5kcyIsdm9pZCAwKSxUKFtSKCldLEl0LnByb3RvdHlwZSwiYXV0b0NhbGNTaGFkb3daQm91bmRzIix2b2lkIDApLFQoW1IoIm9ydGhvTGVmdCIpXSxJdC5wcm90b3R5cGUsIl9vcnRob0xlZnQiLHZvaWQgMCksVChbUigib3J0aG9SaWdodCIpXSxJdC5wcm90b3R5cGUsIl9vcnRob1JpZ2h0Iix2b2lkIDApLFQoW1IoIm9ydGhvVG9wIildLEl0LnByb3RvdHlwZSwiX29ydGhvVG9wIix2b2lkIDApLFQoW1IoIm9ydGhvQm90dG9tIildLEl0LnByb3RvdHlwZSwiX29ydGhvQm90dG9tIix2b2lkIDApLHplLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8zIiwoYyxlKT0+KCk9Pm5ldyBucyhjLHAuWmVybygpLGUpKTtjbGFzcyBucyBleHRlbmRzIGhle2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLGkpLHRoaXMuZ3JvdW5kQ29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLmRpcmVjdGlvbj10fHxwLlVwKCl9X2J1aWxkVW5pZm9ybUxheW91dCgpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodEdyb3VuZCIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSGVtaXNwaGVyaWNMaWdodCJ9c2V0RGlyZWN0aW9uVG9UYXJnZXQoZSl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uPXAuTm9ybWFsaXplKGUuc3VidHJhY3QocC5aZXJvKCkpKSx0aGlzLmRpcmVjdGlvbn1nZXRTaGFkb3dHZW5lcmF0b3IoKXtyZXR1cm4gbnVsbH10cmFuc2ZlclRvRWZmZWN0KGUsdCl7Y29uc3QgaT1wLk5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIixpLngsaS55LGkueiwwLHQpLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3IzKCJ2TGlnaHRHcm91bmQiLHRoaXMuZ3JvdW5kQ29sb3Iuc2NhbGUodGhpcy5pbnRlbnNpdHkpLHQpLHRoaXN9dHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdChlLHQpe2NvbnN0IGk9cC5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiBlLnNldEZsb2F0Myh0LGkueCxpLnksaS56KSx0aGlzfWNvbXB1dGVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PXguSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXh9Z2V0VHlwZUlEKCl7cmV0dXJuIGhlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFR9cHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKGUsdCl7ZVsiSEVNSUxJR0hUIit0XT0hMH19VChbY2koKV0sbnMucHJvdG90eXBlLCJncm91bmRDb2xvciIsdm9pZCAwKSxUKFtCdCgpXSxucy5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKTtjbGFzcyBHdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10fXRvU3RyaW5nKCl7cmV0dXJuYHtXOiAke3RoaXMud2lkdGh9LCBIOiAke3RoaXMuaGVpZ2h0fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJTaXplIn1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMud2lkdGh8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5oZWlnaHR8MCksZX1jb3B5RnJvbShlKXt0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHR9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfW11bHRpcGx5QnlGbG9hdHMoZSx0KXtyZXR1cm4gbmV3IEd0KHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX1jbG9uZSgpe3JldHVybiBuZXcgR3QodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9ZXF1YWxzKGUpe3JldHVybiBlP3RoaXMud2lkdGg9PT1lLndpZHRoJiZ0aGlzLmhlaWdodD09PWUuaGVpZ2h0OiExfWdldCBzdXJmYWNlKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IEd0KDAsMCl9YWRkKGUpe3JldHVybiBuZXcgR3QodGhpcy53aWR0aCtlLndpZHRoLHRoaXMuaGVpZ2h0K2UuaGVpZ2h0KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IEd0KHRoaXMud2lkdGgtZS53aWR0aCx0aGlzLmhlaWdodC1lLmhlaWdodCl9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS53aWR0aCsodC53aWR0aC1lLndpZHRoKSppLHI9ZS5oZWlnaHQrKHQuaGVpZ2h0LWUuaGVpZ2h0KSppO3JldHVybiBuZXcgR3QocyxyKX19Y2xhc3MgWm57Y29uc3RydWN0b3IoZSl7dGhpcy5fd3JhcFU9MSx0aGlzLl93cmFwVj0xLHRoaXMud3JhcFI9MSx0aGlzLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9NCx0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuX2VuZ2luZT1udWxsLHRoaXMuX2NhY2hlZFNpemU9R3QuWmVybygpLHRoaXMuX2NhY2hlZEJhc2VTaXplPUd0Llplcm8oKSx0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlPTIsdGhpcy5fdGV4dHVyZT1lLHRoaXMuX3RleHR1cmUmJih0aGlzLl9lbmdpbmU9dGhpcy5fdGV4dHVyZS5nZXRFbmdpbmUoKSl9Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX3dyYXBVfXNldCB3cmFwVShlKXt0aGlzLl93cmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl93cmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fd3JhcFY9ZX1nZXQgY29vcmRpbmF0ZXNNb2RlKCl7cmV0dXJuIDB9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOiExfXNldCBpc0N1YmUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXNDdWJlPWUpfWdldCBpczNEKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfXNldCBpczNEKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfWdldENsYXNzTmFtZSgpe3JldHVybiJUaGluVGV4dHVyZSJ9aXNSZWFkeSgpe3JldHVybiB0aGlzLmRlbGF5TG9hZFN0YXRlPT09ND8odGhpcy5kZWxheUxvYWQoKSwhMSk6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzUmVhZHk6ITF9ZGVsYXlMb2FkKCl7fWdldEludGVybmFsVGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlfWdldFNpemUoKXtpZih0aGlzLl90ZXh0dXJlKXtpZih0aGlzLl90ZXh0dXJlLndpZHRoKXJldHVybiB0aGlzLl9jYWNoZWRTaXplLndpZHRoPXRoaXMuX3RleHR1cmUud2lkdGgsdGhpcy5fY2FjaGVkU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5oZWlnaHQsdGhpcy5fY2FjaGVkU2l6ZTtpZih0aGlzLl90ZXh0dXJlLl9zaXplKXJldHVybiB0aGlzLl9jYWNoZWRTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRTaXplfXJldHVybiB0aGlzLl9jYWNoZWRTaXplfWdldEJhc2VTaXplKCl7cmV0dXJuIXRoaXMuaXNSZWFkeSgpfHwhdGhpcy5fdGV4dHVyZT8odGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9MCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9MCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSk6dGhpcy5fdGV4dHVyZS5fc2l6ZT8odGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRCYXNlU2l6ZSk6KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuYmFzZVdpZHRoLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLmJhc2VIZWlnaHQsdGhpcy5fY2FjaGVkQmFzZVNpemUpfWdldCBzYW1wbGluZ01vZGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLnNhbXBsaW5nTW9kZTp0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlfXVwZGF0ZVNhbXBsaW5nTW9kZShlKXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl9lbmdpbmUmJnRoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlU2FtcGxpbmdNb2RlKGUsdGhpcy5fdGV4dHVyZSl9cmVsZWFzZUludGVybmFsVGV4dHVyZSgpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlPW51bGwpfWRpc3Bvc2UoKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCksdGhpcy5fZW5naW5lPW51bGwpfX1jbGFzcyBSZSBleHRlbmRzIFpue2NvbnN0cnVjdG9yKGUsdD1udWxsKXtzdXBlcihudWxsKSx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuX2hhc0FscGhhPSExLHRoaXMuX2dldEFscGhhRnJvbVJHQj0hMSx0aGlzLmxldmVsPTEsdGhpcy5fY29vcmRpbmF0ZXNJbmRleD0wLHRoaXMub3B0aW1pemVVVkFsbG9jYXRpb249ITAsdGhpcy5fY29vcmRpbmF0ZXNNb2RlPTAsdGhpcy53cmFwUj0xLHRoaXMuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1SZS5ERUZBVUxUX0FOSVNPVFJPUElDX0ZJTFRFUklOR19MRVZFTCx0aGlzLl9pc0N1YmU9ITEsdGhpcy5fZ2FtbWFTcGFjZT0hMCx0aGlzLmludmVydFo9ITEsdGhpcy5sb2RMZXZlbEluQWxwaGE9ITEsdGhpcy5pc1JlbmRlclRhcmdldD0hMSx0aGlzLl9wcmVmaWx0ZXJlZD0hMSx0aGlzLl9mb3JjZVNlcmlhbGl6ZT0hMSx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX3NjZW5lPW51bGwsdGhpcy5fdWlkPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fbG9hZGluZ0Vycm9yPSExLGU/UmUuX0lzU2NlbmUoZSk/dGhpcy5fc2NlbmU9ZTp0aGlzLl9lbmdpbmU9ZTp0aGlzLl9zY2VuZT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lJiYodGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX3NjZW5lLmFkZFRleHR1cmUodGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpKSx0aGlzLl90ZXh0dXJlPXQsdGhpcy5fdWlkPW51bGx9c2V0IGhhc0FscGhhKGUpe3RoaXMuX2hhc0FscGhhIT09ZSYmKHRoaXMuX2hhc0FscGhhPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGhhc0FscGhhKCl7cmV0dXJuIHRoaXMuX2hhc0FscGhhfXNldCBnZXRBbHBoYUZyb21SR0IoZSl7dGhpcy5fZ2V0QWxwaGFGcm9tUkdCIT09ZSYmKHRoaXMuX2dldEFscGhhRnJvbVJHQj1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBnZXRBbHBoYUZyb21SR0IoKXtyZXR1cm4gdGhpcy5fZ2V0QWxwaGFGcm9tUkdCfXNldCBjb29yZGluYXRlc0luZGV4KGUpe3RoaXMuX2Nvb3JkaW5hdGVzSW5kZXghPT1lJiYodGhpcy5fY29vcmRpbmF0ZXNJbmRleD1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBjb29yZGluYXRlc0luZGV4KCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXh9c2V0IGNvb3JkaW5hdGVzTW9kZShlKXt0aGlzLl9jb29yZGluYXRlc01vZGUhPT1lJiYodGhpcy5fY29vcmRpbmF0ZXNNb2RlPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGNvb3JkaW5hdGVzTW9kZSgpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc01vZGV9Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX3dyYXBVfXNldCB3cmFwVShlKXt0aGlzLl93cmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl93cmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fd3JhcFY9ZX1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6dGhpcy5faXNDdWJlfXNldCBpc0N1YmUoZSl7dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZT1lOnRoaXMuX2lzQ3ViZT1lfWdldCBpczNEKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfXNldCBpczNEKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfWdldCBnYW1tYVNwYWNlKCl7aWYodGhpcy5fdGV4dHVyZSl0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPT09bnVsbCYmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9dGhpcy5fZ2FtbWFTcGFjZSk7ZWxzZSByZXR1cm4gdGhpcy5fZ2FtbWFTcGFjZTtyZXR1cm4gdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZSYmIXRoaXMuX3RleHR1cmUuX3VzZVNSR0JCdWZmZXJ9c2V0IGdhbW1hU3BhY2UoZSl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PWUpcmV0dXJuO3RoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9ZX1lbHNle2lmKHRoaXMuX2dhbW1hU3BhY2U9PT1lKXJldHVybjt0aGlzLl9nYW1tYVNwYWNlPWV9dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWdldCBpc1JHQkQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSE9bnVsbCYmdGhpcy5fdGV4dHVyZS5faXNSR0JEfXNldCBpc1JHQkQoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2lzUkdCRD1lKX1nZXQgbm9NaXBtYXAoKXtyZXR1cm4hMX1nZXQgbG9kR2VuZXJhdGlvbk9mZnNldCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ6MH1zZXQgbG9kR2VuZXJhdGlvbk9mZnNldChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldD1lKX1nZXQgbG9kR2VuZXJhdGlvblNjYWxlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlOjB9c2V0IGxvZEdlbmVyYXRpb25TY2FsZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlPWUpfWdldCBsaW5lYXJTcGVjdWxhckxPRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xpbmVhclNwZWN1bGFyTE9EOiExfXNldCBsaW5lYXJTcGVjdWxhckxPRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q9ZSl9Z2V0IGlycmFkaWFuY2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU6bnVsbH1zZXQgaXJyYWRpYW5jZVRleHR1cmUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlPWUpfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPWxyKCkpLHRoaXMuX3VpZH10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJhc2VUZXh0dXJlIn1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBpc0Jsb2NraW5nKCl7cmV0dXJuITB9Z2V0IGxvYWRpbmdFcnJvcigpe3JldHVybiB0aGlzLl9sb2FkaW5nRXJyb3J9Z2V0IGVycm9yT2JqZWN0KCl7cmV0dXJuIHRoaXMuX2Vycm9yT2JqZWN0fWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfV9nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGx9Z2V0VGV4dHVyZU1hdHJpeCgpe3JldHVybiB4LklkZW50aXR5UmVhZE9ubHl9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtyZXR1cm4geC5JZGVudGl0eVJlYWRPbmx5fWlzUmVhZHlPck5vdEJsb2NraW5nKCl7cmV0dXJuIXRoaXMuaXNCbG9ja2luZ3x8dGhpcy5pc1JlYWR5KCl8fHRoaXMubG9hZGluZ0Vycm9yfXNjYWxlKGUpe31nZXQgY2FuUmVzY2FsZSgpe3JldHVybiExfV9nZXRGcm9tQ2FjaGUoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgbz1hLl9nZXRVc2VTUkdCQnVmZmVyKCEhcix0KSxoPWEuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtjb25zdCB1PWhbbF07aWYoKHI9PT12b2lkIDB8fG89PT11Ll91c2VTUkdCQnVmZmVyKSYmKHM9PT12b2lkIDB8fHM9PT11LmludmVydFkpJiZ1LnVybD09PWUmJnUuZ2VuZXJhdGVNaXBNYXBzPT09IXQmJighaXx8aT09PXUuc2FtcGxpbmdNb2RlKSYmKG49PT12b2lkIDB8fG49PT11LmlzQ3ViZSkpcmV0dXJuIHUuaW5jcmVtZW50UmVmZXJlbmNlcygpLHV9cmV0dXJuIG51bGx9X3JlYnVpbGQoKXt9Y2xvbmUoKXtyZXR1cm4gbnVsbH1nZXQgdGV4dHVyZVR5cGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS50eXBlIT09dm9pZCAwP3RoaXMuX3RleHR1cmUudHlwZTowfWdldCB0ZXh0dXJlRm9ybWF0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZm9ybWF0IT09dm9pZCAwP3RoaXMuX3RleHR1cmUuZm9ybWF0OjV9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtlJiZlLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfXJlYWRQaXhlbHMoZT0wLHQ9MCxpPW51bGwscz0hMCxyPSExLG49MCxhPTAsbz1OdW1iZXIuTUFYX1ZBTFVFLGg9TnVtYmVyLk1BWF9WQUxVRSl7aWYoIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7Y29uc3QgbD10aGlzLl9nZXRFbmdpbmUoKTtpZighbClyZXR1cm4gbnVsbDtjb25zdCB1PXRoaXMuZ2V0U2l6ZSgpO2xldCBkPXUud2lkdGgsZj11LmhlaWdodDt0IT09MCYmKGQ9ZC9NYXRoLnBvdygyLHQpLGY9Zi9NYXRoLnBvdygyLHQpLGQ9TWF0aC5yb3VuZChkKSxmPU1hdGgucm91bmQoZikpLG89TWF0aC5taW4oZCxvKSxoPU1hdGgubWluKGYsaCk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9sLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLG8saCxlLHQsaSxzLHIsbixhKTpsLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLG8saCwtMSx0LGkscyxyLG4sYSl9Y2F0Y2h7cmV0dXJuIG51bGx9fV9yZWFkUGl4ZWxzU3luYyhlPTAsdD0wLGk9bnVsbCxzPSEwLHI9ITEpe2lmKCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy5nZXRTaXplKCk7bGV0IGE9bi53aWR0aCxvPW4uaGVpZ2h0O2NvbnN0IGg9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWgpcmV0dXJuIG51bGw7dCE9MCYmKGE9YS9NYXRoLnBvdygyLHQpLG89by9NYXRoLnBvdygyLHQpLGE9TWF0aC5yb3VuZChhKSxvPU1hdGgucm91bmQobykpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/aC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsYSxvLGUsdCxpLHMscik6aC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsYSxvLC0xLHQsaSxzLHIpfWNhdGNoe3JldHVybiBudWxsfX1nZXQgX2xvZFRleHR1cmVIaWdoKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUhpZ2g6bnVsbH1nZXQgX2xvZFRleHR1cmVNaWQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTWlkOm51bGx9Z2V0IF9sb2RUZXh0dXJlTG93KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUxvdzpudWxsfWRpc3Bvc2UoKXtpZih0aGlzLl9zY2VuZSl7dGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbiYmdGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9zY2VuZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTtjb25zdCBlPXRoaXMuX3NjZW5lLnRleHR1cmVzLmluZGV4T2YodGhpcyk7aWYoZT49MCYmdGhpcy5fc2NlbmUudGV4dHVyZXMuc3BsaWNlKGUsMSksdGhpcy5fc2NlbmUub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3NjZW5lPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCB0PXRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO3Q+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH19dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm1ldGFkYXRhPW51bGwsc3VwZXIuZGlzcG9zZSgpfXNlcmlhbGl6ZShlPSExKXtpZighdGhpcy5uYW1lJiYhZSlyZXR1cm4gbnVsbDtjb25zdCB0PWFlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0fXN0YXRpYyBXaGVuQWxsUmVhZHkoZSx0KXtsZXQgaT1lLmxlbmd0aDtpZihpPT09MCl7dCgpO3JldHVybn1mb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lW3NdO2lmKHIuaXNSZWFkeSgpKS0taT09PTAmJnQoKTtlbHNle2NvbnN0IG49ci5vbkxvYWRPYnNlcnZhYmxlO24/bi5hZGRPbmNlKCgpPT57LS1pPT09MCYmdCgpfSk6LS1pPT09MCYmdCgpfX19c3RhdGljIF9Jc1NjZW5lKGUpe3JldHVybiBlLmdldENsYXNzTmFtZSgpPT09IlNjZW5lIn19UmUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUw9NCxUKFtSKCldLFJlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1IoImhhc0FscGhhIildLFJlLnByb3RvdHlwZSwiX2hhc0FscGhhIix2b2lkIDApLFQoW1IoImdldEFscGhhRnJvbVJHQiIpXSxSZS5wcm90b3R5cGUsIl9nZXRBbHBoYUZyb21SR0IiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImxldmVsIix2b2lkIDApLFQoW1IoImNvb3JkaW5hdGVzSW5kZXgiKV0sUmUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNJbmRleCIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwib3B0aW1pemVVVkFsbG9jYXRpb24iLHZvaWQgMCksVChbUigiY29vcmRpbmF0ZXNNb2RlIildLFJlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzTW9kZSIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwid3JhcFUiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJ3cmFwViIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsIndyYXBSIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpc0N1YmUiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpczNEIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaXMyREFycmF5IixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiZ2FtbWFTcGFjZSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImludmVydFoiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImxvZExldmVsSW5BbHBoYSIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvbk9mZnNldCIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIixudWxsKSxUKFttdCgpXSxSZS5wcm90b3R5cGUsImlycmFkaWFuY2VUZXh0dXJlIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaXNSZW5kZXJUYXJnZXQiLHZvaWQgMCk7ZnVuY3Rpb24gRnIoYyxlLHQ9ITEpe2NvbnN0IGk9ZS53aWR0aCxzPWUuaGVpZ2h0O2lmKGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2xldCBoPWMuYnl0ZUxlbmd0aC9jLkJZVEVTX1BFUl9FTEVNRU5UO2NvbnN0IGw9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKDstLWg+PTA7KXtsZXQgdT1jW2hdO3U8MD91PTA6dT4xJiYodT0xKSxsW2hdPXUqMjU1fWM9bH1jb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3Iud2lkdGg9aSxyLmhlaWdodD1zO2NvbnN0IG49ci5nZXRDb250ZXh0KCIyZCIpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGE9bi5jcmVhdGVJbWFnZURhdGEoaSxzKTtpZihhLmRhdGEuc2V0KGMpLG4ucHV0SW1hZ2VEYXRhKGEsMCwwKSx0KXtjb25zdCBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2gud2lkdGg9aSxoLmhlaWdodD1zO2NvbnN0IGw9aC5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBsPyhsLnRyYW5zbGF0ZSgwLHMpLGwuc2NhbGUoMSwtMSksbC5kcmF3SW1hZ2UociwwLDApLGgudG9EYXRhVVJMKCJpbWFnZS9wbmciKSk6bnVsbH1yZXR1cm4gci50b0RhdGFVUkwoImltYWdlL3BuZyIpfWZ1bmN0aW9uIHFuKGMsZT0wLHQ9MCl7Y29uc3QgaT1jLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9Yy5fcmVhZFBpeGVsc1N5bmMoZSx0KTtyZXR1cm4gcz9GcihzLGMuZ2V0U2l6ZSgpLGkuaW52ZXJ0WSk6bnVsbH1hc3luYyBmdW5jdGlvbiBqbihjLGU9MCx0PTApe2NvbnN0IGk9Yy5nZXRJbnRlcm5hbFRleHR1cmUoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWF3YWl0IGMucmVhZFBpeGVscyhlLHQpO3JldHVybiBzP0ZyKHMsYy5nZXRTaXplKCksaS5pbnZlcnRZKTpudWxsfWNsYXNzIE4gZXh0ZW5kcyBSZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHI9Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG49bnVsbCxhPW51bGwsbz1udWxsLGg9ITEsbCx1LGQsZixfKXt2YXIgRSxtLHYsUyx5LEEsQyxiLE07c3VwZXIodCksdGhpcy51cmw9bnVsbCx0aGlzLnVPZmZzZXQ9MCx0aGlzLnZPZmZzZXQ9MCx0aGlzLnVTY2FsZT0xLHRoaXMudlNjYWxlPTEsdGhpcy51QW5nPTAsdGhpcy52QW5nPTAsdGhpcy53QW5nPTAsdGhpcy51Um90YXRpb25DZW50ZXI9LjUsdGhpcy52Um90YXRpb25DZW50ZXI9LjUsdGhpcy53Um90YXRpb25DZW50ZXI9LjUsdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT0hMSx0aGlzLmluc3BlY3RhYmxlQ3VzdG9tUHJvcGVydGllcz1udWxsLHRoaXMuX25vTWlwbWFwPSExLHRoaXMuX2ludmVydFk9ITEsdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeD1udWxsLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9bnVsbCx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeD1udWxsLHRoaXMuX3QwPW51bGwsdGhpcy5fdDE9bnVsbCx0aGlzLl90Mj1udWxsLHRoaXMuX2NhY2hlZFVPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkVk9mZnNldD0tMSx0aGlzLl9jYWNoZWRVU2NhbGU9MCx0aGlzLl9jYWNoZWRWU2NhbGU9MCx0aGlzLl9jYWNoZWRVQW5nPS0xLHRoaXMuX2NhY2hlZFZBbmc9LTEsdGhpcy5fY2FjaGVkV0FuZz0tMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uUHJvamVjdGlvbk1hdHJpeElkPS0xLHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPSExLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4PW51bGwsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblVTY2FsZT0wLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WU2NhbGU9MCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlPS0xLHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2RlbGV0ZUJ1ZmZlcj0hMSx0aGlzLl9mb3JtYXQ9bnVsbCx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCx0aGlzLm9uTG9hZE9ic2VydmFibGU9bmV3IEYsdGhpcy5faXNCbG9ja2luZz0hMCx0aGlzLm5hbWU9ZXx8IiIsdGhpcy51cmw9ZTtsZXQgTCxrPSExLHc9bnVsbDt0eXBlb2YgaT09Im9iamVjdCImJmkhPT1udWxsPyhMPShFPWkubm9NaXBtYXApIT09bnVsbCYmRSE9PXZvaWQgMD9FOiExLHM9KG09aS5pbnZlcnRZKSE9PW51bGwmJm0hPT12b2lkIDA/bTohZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVixyPSh2PWkuc2FtcGxpbmdNb2RlKSE9PW51bGwmJnYhPT12b2lkIDA/djpOLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbj0oUz1pLm9uTG9hZCkhPT1udWxsJiZTIT09dm9pZCAwP1M6bnVsbCxhPSh5PWkub25FcnJvcikhPT1udWxsJiZ5IT09dm9pZCAwP3k6bnVsbCxvPShBPWkuYnVmZmVyKSE9PW51bGwmJkEhPT12b2lkIDA/QTpudWxsLGg9KEM9aS5kZWxldGVCdWZmZXIpIT09bnVsbCYmQyE9PXZvaWQgMD9DOiExLGw9aS5mb3JtYXQsdT1pLm1pbWVUeXBlLGQ9aS5sb2FkZXJPcHRpb25zLGY9aS5jcmVhdGlvbkZsYWdzLGs9KGI9aS51c2VTUkdCQnVmZmVyKSE9PW51bGwmJmIhPT12b2lkIDA/YjohMSx3PShNPWkuaW50ZXJuYWxUZXh0dXJlKSE9PW51bGwmJk0hPT12b2lkIDA/TTpudWxsKTpMPSEhaSx0aGlzLl9ub01pcG1hcD1MLHRoaXMuX2ludmVydFk9cz09PXZvaWQgMD8hZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVjpzLHRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGU9cix0aGlzLl9idWZmZXI9byx0aGlzLl9kZWxldGVCdWZmZXI9aCx0aGlzLl9taW1lVHlwZT11LHRoaXMuX2xvYWRlck9wdGlvbnM9ZCx0aGlzLl9jcmVhdGlvbkZsYWdzPWYsdGhpcy5fdXNlU1JHQkJ1ZmZlcj1rLHRoaXMuX2ZvcmNlZEV4dGVuc2lvbj1fLGwmJih0aGlzLl9mb3JtYXQ9bCk7Y29uc3QgZGU9dGhpcy5nZXRTY2VuZSgpLGNlPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFjZSlyZXR1cm47Y2Uub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IHNlPSgpPT57dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2ludmVydFZTY2FsZSYmKHRoaXMudlNjYWxlKj0tMSx0aGlzLnZPZmZzZXQrPTEpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVIT09bnVsbCYmKHRoaXMud3JhcFU9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYhPT1udWxsJiYodGhpcy53cmFwVj10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVix0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUiE9PW51bGwmJih0aGlzLndyYXBSPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBSLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpKSx0aGlzLm9uTG9hZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25Mb2FkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksbiYmbigpLCF0aGlzLmlzQmxvY2tpbmcmJmRlJiZkZS5yZXNldENhY2hlZE1hdGVyaWFsKCl9LHRlPShGZSx3ZSk9Pnt0aGlzLl9sb2FkaW5nRXJyb3I9ITAsdGhpcy5fZXJyb3JPYmplY3Q9e21lc3NhZ2U6RmUsZXhjZXB0aW9uOndlfSxhJiZhKEZlLHdlKSxOLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfTtpZighdGhpcy51cmwmJiF3KXt0aGlzLl9kZWxheWVkT25Mb2FkPXNlLHRoaXMuX2RlbGF5ZWRPbkVycm9yPXRlO3JldHVybn1pZih0aGlzLl90ZXh0dXJlPXc/P3RoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCxMLHIsdGhpcy5faW52ZXJ0WSxrKSx0aGlzLl90ZXh0dXJlKWlmKHRoaXMuX3RleHR1cmUuaXNSZWFkeSlYaS5TZXRJbW1lZGlhdGUoKCk9PnNlKCkpO2Vsc2V7Y29uc3QgRmU9dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHNlKTt0aGlzLl90ZXh0dXJlLm9uRXJyb3JPYnNlcnZhYmxlLmFkZCh3ZT0+e3ZhciBIZTt0ZSh3ZS5tZXNzYWdlLHdlLmV4Y2VwdGlvbiksKEhlPXRoaXMuX3RleHR1cmUpPT09bnVsbHx8SGU9PT12b2lkIDB8fEhlLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUoRmUpfSl9ZWxzZSBpZighZGV8fCFkZS51c2VEZWxheWVkVGV4dHVyZUxvYWRpbmcpe3RyeXt0aGlzLl90ZXh0dXJlPWNlLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsTCx0aGlzLl9pbnZlcnRZLGRlLHIsc2UsdGUsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLl9mb3JtYXQsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uLHUsZCxmLGspfWNhdGNoKEZlKXt0aHJvdyB0ZSgiZXJyb3IgbG9hZGluZyIsRmUpLEZlfWgmJih0aGlzLl9idWZmZXI9bnVsbCl9ZWxzZSB0aGlzLmRlbGF5TG9hZFN0YXRlPTQsdGhpcy5fZGVsYXllZE9uTG9hZD1zZSx0aGlzLl9kZWxheWVkT25FcnJvcj10ZX1nZXQgbm9NaXBtYXAoKXtyZXR1cm4gdGhpcy5fbm9NaXBtYXB9Z2V0IG1pbWVUeXBlKCl7cmV0dXJuIHRoaXMuX21pbWVUeXBlfXNldCBpc0Jsb2NraW5nKGUpe3RoaXMuX2lzQmxvY2tpbmc9ZX1nZXQgaXNCbG9ja2luZygpe3JldHVybiB0aGlzLl9pc0Jsb2NraW5nfWdldCBpbnZlcnRZKCl7cmV0dXJuIHRoaXMuX2ludmVydFl9dXBkYXRlVVJMKGUsdD1udWxsLGkscyl7dGhpcy51cmwmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLmdldFNjZW5lKCkubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpLCghdGhpcy5uYW1lfHx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSkmJih0aGlzLm5hbWU9ZSksdGhpcy51cmw9ZSx0aGlzLl9idWZmZXI9dCx0aGlzLl9mb3JjZWRFeHRlbnNpb249cyx0aGlzLmRlbGF5TG9hZFN0YXRlPTQsaSYmKHRoaXMuX2RlbGF5ZWRPbkxvYWQ9aSksdGhpcy5kZWxheUxvYWQoKX1kZWxheUxvYWQoKXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09NClyZXR1cm47Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7ZSYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9YaS5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT1lLmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSxlLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9X3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbihlLHQsaSxzKXtlKj10aGlzLl9jYWNoZWRVU2NhbGUsdCo9dGhpcy5fY2FjaGVkVlNjYWxlLGUtPXRoaXMudVJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFVTY2FsZSx0LT10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUsaS09dGhpcy53Um90YXRpb25DZW50ZXIscC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHMpLHMueCs9dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlK3RoaXMuX2NhY2hlZFVPZmZzZXQscy55Kz10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUrdGhpcy5fY2FjaGVkVk9mZnNldCxzLnorPXRoaXMud1JvdGF0aW9uQ2VudGVyfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGwmJnRoaXMudU9mZnNldD09PWUudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09ZS52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PWUudVNjYWxlJiZ0aGlzLnZTY2FsZT09PWUudlNjYWxlJiZ0aGlzLnVBbmc9PT1lLnVBbmcmJnRoaXMudkFuZz09PWUudkFuZyYmdGhpcy53QW5nPT09ZS53QW5nfWdldFRleHR1cmVNYXRyaXgoZT0xKXtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRVT2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT10aGlzLl9jYWNoZWRWT2Zmc2V0JiZ0aGlzLnVTY2FsZSplPT09dGhpcy5fY2FjaGVkVVNjYWxlJiZ0aGlzLnZTY2FsZT09PXRoaXMuX2NhY2hlZFZTY2FsZSYmdGhpcy51QW5nPT09dGhpcy5fY2FjaGVkVUFuZyYmdGhpcy52QW5nPT09dGhpcy5fY2FjaGVkVkFuZyYmdGhpcy53QW5nPT09dGhpcy5fY2FjaGVkV0FuZyYmdGhpcy51Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXImJnRoaXMudlJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyJiZ0aGlzLndSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlciYmdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT09PXRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFVTY2FsZT10aGlzLnVTY2FsZSplLHRoaXMuX2NhY2hlZFZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRVQW5nPXRoaXMudUFuZyx0aGlzLl9jYWNoZWRWQW5nPXRoaXMudkFuZyx0aGlzLl9jYWNoZWRXQW5nPXRoaXMud0FuZyx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9dGhpcy51Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPXRoaXMudlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj10aGlzLndSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT10aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtLCghdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8IXRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpJiYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD14Llplcm8oKSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4PW5ldyB4LHRoaXMuX3QwPXAuWmVybygpLHRoaXMuX3QxPXAuWmVybygpLHRoaXMuX3QyPXAuWmVybygpKSx4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy52QW5nLHRoaXMudUFuZyx0aGlzLndBbmcsdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCksdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT8oeC5UcmFuc2xhdGlvblRvUmVmKC10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLEQuTWF0cml4WzBdKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsRC5NYXRyaXhbMV0pLHguU2NhbGluZ1RvUmVmKHRoaXMuX2NhY2hlZFVTY2FsZSx0aGlzLl9jYWNoZWRWU2NhbGUsMCxELk1hdHJpeFsyXSkseC5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldCwwLEQuTWF0cml4WzNdKSxELk1hdHJpeFswXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzFdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFsyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzKDIsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxNF0sMSkpOih0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwwLDAsdGhpcy5fdDApLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigxLDAsMCx0aGlzLl90MSksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMSwwLHRoaXMuX3QyKSx0aGlzLl90MS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLHRoaXMuX3QyLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCkseC5Gcm9tVmFsdWVzVG9SZWYodGhpcy5fdDEueCx0aGlzLl90MS55LHRoaXMuX3QxLnosMCx0aGlzLl90Mi54LHRoaXMuX3QyLnksdGhpcy5fdDIueiwwLHRoaXMuX3QwLngsdGhpcy5fdDAueSx0aGlzLl90MC56LDAsMCwwLDAsMSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSk7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7cmV0dXJuIHQ/KHRoaXMub3B0aW1pemVVVkFsbG9jYXRpb24mJnQubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmhhc1RleHR1cmUodGhpcykpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpOnRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtpZighZSlyZXR1cm4gdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQmJnRoaXMudk9mZnNldD09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZSYmdGhpcy5jb29yZGluYXRlc01vZGU9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlKWlmKHRoaXMuY29vcmRpbmF0ZXNNb2RlPT09Ti5QUk9KRUNUSU9OX01PREUpe2lmKHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Qcm9qZWN0aW9uTWF0cml4SWQ9PT1lLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeH1lbHNlIHJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4PXguWmVybygpKSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeHx8KHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4PXguWmVybygpKTtjb25zdCB0PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGUhPT10aGlzLmNvb3JkaW5hdGVzTW9kZTtzd2l0Y2godGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVVNjYWxlPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBOLlBMQU5BUl9NT0RFOnt4LklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzBdPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzVdPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzEyXT10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMTNdPXRoaXMudk9mZnNldDticmVha31jYXNlIE4uUFJPSkVDVElPTl9NT0RFOnt4LkZyb21WYWx1ZXNUb1JlZiguNSwwLDAsMCwwLC0uNSwwLDAsMCwwLDAsMCwuNSwuNSwxLDEsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgpO2NvbnN0IGk9ZS5nZXRQcm9qZWN0aW9uTWF0cml4KCk7dGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD1pLnVwZGF0ZUZsYWcsaS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0OnguSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCk7YnJlYWt9cmV0dXJuIHQmJmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmdldEFjdGl2ZVRleHR1cmVzKCkuaW5kZXhPZih0aGlzKSE9PS0xKSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeH1jbG9uZSgpe2NvbnN0IGU9e25vTWlwbWFwOnRoaXMuX25vTWlwbWFwLGludmVydFk6dGhpcy5faW52ZXJ0WSxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsb25Mb2FkOnZvaWQgMCxvbkVycm9yOnZvaWQgMCxidWZmZXI6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9idWZmZXI6dm9pZCAwLGRlbGV0ZUJ1ZmZlcjp0aGlzLl9kZWxldGVCdWZmZXIsZm9ybWF0OnRoaXMudGV4dHVyZUZvcm1hdCxtaW1lVHlwZTp0aGlzLm1pbWVUeXBlLGxvYWRlck9wdGlvbnM6dGhpcy5fbG9hZGVyT3B0aW9ucyxjcmVhdGlvbkZsYWdzOnRoaXMuX2NyZWF0aW9uRmxhZ3MsdXNlU1JHQkJ1ZmZlcjp0aGlzLl91c2VTUkdCQnVmZmVyfTtyZXR1cm4gYWUuQ2xvbmUoKCk9Pm5ldyBOKHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS51cmw6bnVsbCx0aGlzLmdldFNjZW5lKCksZSksdGhpcyl9c2VyaWFsaXplKCl7dmFyIGUsdDtjb25zdCBpPXRoaXMubmFtZTtOLlNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiYodGhpcy5uYW1lPSIiKSx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy51cmw9PT10aGlzLm5hbWUmJih0aGlzLnVybD0iIik7Y29uc3Qgcz1zdXBlci5zZXJpYWxpemUoTi5fU2VyaWFsaXplSW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpO3JldHVybiBzPygoTi5TZXJpYWxpemVCdWZmZXJzfHxOLkZvcmNlU2VyaWFsaXplQnVmZmVycykmJih0eXBlb2YgdGhpcy5fYnVmZmVyPT0ic3RyaW5nIiYmdGhpcy5fYnVmZmVyLnN1YnN0cigwLDUpPT09ImRhdGE6Ij8ocy5iYXNlNjRTdHJpbmc9dGhpcy5fYnVmZmVyLHMubmFtZT1zLm5hbWUucmVwbGFjZSgiZGF0YToiLCIiKSk6dGhpcy51cmwmJnRoaXMudXJsLnN0YXJ0c1dpdGgoImRhdGE6IikmJnRoaXMuX2J1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/cy5iYXNlNjRTdHJpbmc9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiK3NyKHRoaXMuX2J1ZmZlcik6KE4uRm9yY2VTZXJpYWxpemVCdWZmZXJzfHx0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiYmxvYjoiKXx8dGhpcy5fZm9yY2VTZXJpYWxpemUpJiYocy5iYXNlNjRTdHJpbmc9IXRoaXMuX2VuZ2luZXx8dGhpcy5fZW5naW5lLl9mZWF0dXJlcy5zdXBwb3J0U3luY1RleHR1cmVSZWFkP3FuKHRoaXMpOmpuKHRoaXMpKSkscy5pbnZlcnRZPXRoaXMuX2ludmVydFkscy5zYW1wbGluZ01vZGU9dGhpcy5zYW1wbGluZ01vZGUscy5fY3JlYXRpb25GbGFncz10aGlzLl9jcmVhdGlvbkZsYWdzLHMuX3VzZVNSR0JCdWZmZXI9dGhpcy5fdXNlU1JHQkJ1ZmZlcixOLl9TZXJpYWxpemVJbnRlcm5hbFRleHR1cmVVbmlxdWVJZCYmKHMuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQ9KHQ9KGU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVuaXF1ZUlkKSE9PW51bGwmJnQhPT12b2lkIDA/dDp2b2lkIDApLHRoaXMubmFtZT1pLHMpOm51bGx9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRleHR1cmUifWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5fYnVmZmVyPW51bGx9c3RhdGljIFBhcnNlKGUsdCxpKXtpZihlLmN1c3RvbVR5cGUpe2NvbnN0IGg9TGkuSW5zdGFudGlhdGUoZS5jdXN0b21UeXBlKS5QYXJzZShlLHQsaSk7cmV0dXJuIGUuc2FtcGxpbmdNb2RlJiZoLnVwZGF0ZVNhbXBsaW5nTW9kZSYmaC5fc2FtcGxpbmdNb2RlJiZoLl9zYW1wbGluZ01vZGUhPT1lLnNhbXBsaW5nTW9kZSYmaC51cGRhdGVTYW1wbGluZ01vZGUoZS5zYW1wbGluZ01vZGUpLGh9aWYoZS5pc0N1YmUmJiFlLmlzUmVuZGVyVGFyZ2V0KXJldHVybiBOLl9DdWJlVGV4dHVyZVBhcnNlcihlLHQsaSk7Y29uc3Qgcz1lLmludGVybmFsVGV4dHVyZVVuaXF1ZUlkIT09dm9pZCAwO2lmKCFlLm5hbWUmJiFlLmlzUmVuZGVyVGFyZ2V0JiYhcylyZXR1cm4gbnVsbDtsZXQgcjtpZihzKXtjb25zdCBvPXQuZ2V0RW5naW5lKCkuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2Zvcihjb25zdCBoIG9mIG8paWYoaC51bmlxdWVJZD09PWUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpe3I9aDticmVha319Y29uc3Qgbj1vPT57dmFyIGg7aWYobyYmby5fdGV4dHVyZSYmKG8uX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwsby5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCxvLl90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSxlLnNhbXBsaW5nTW9kZSl7Y29uc3QgbD1lLnNhbXBsaW5nTW9kZTtvJiZvLnNhbXBsaW5nTW9kZSE9PWwmJm8udXBkYXRlU2FtcGxpbmdNb2RlKGwpfWlmKG8mJmUuYW5pbWF0aW9ucylmb3IobGV0IGw9MDtsPGUuYW5pbWF0aW9ucy5sZW5ndGg7bCsrKXtjb25zdCB1PWUuYW5pbWF0aW9uc1tsXSxkPXJpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2QmJm8uYW5pbWF0aW9ucy5wdXNoKGQuUGFyc2UodSkpfXMmJiFyJiYoKGg9bz09bnVsbD92b2lkIDA6by5fdGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLl9zZXRVbmlxdWVJZChlLmludGVybmFsVGV4dHVyZVVuaXF1ZUlkKSl9O3JldHVybiBhZS5QYXJzZSgoKT0+e3ZhciBvLGgsbDtsZXQgdT0hMDtpZihlLm5vTWlwbWFwJiYodT0hMSksZS5taXJyb3JQbGFuZSl7Y29uc3QgZD1OLl9DcmVhdGVNaXJyb3IoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LHUpO3JldHVybiBkLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3QsZC5taXJyb3JQbGFuZT14dC5Gcm9tQXJyYXkoZS5taXJyb3JQbGFuZSksbihkKSxkfWVsc2UgaWYoZS5pc1JlbmRlclRhcmdldCl7bGV0IGQ9bnVsbDtpZihlLmlzQ3ViZSl7aWYodC5yZWZsZWN0aW9uUHJvYmVzKWZvcihsZXQgZj0wO2Y8dC5yZWZsZWN0aW9uUHJvYmVzLmxlbmd0aDtmKyspe2NvbnN0IF89dC5yZWZsZWN0aW9uUHJvYmVzW2ZdO2lmKF8ubmFtZT09PWUubmFtZSlyZXR1cm4gXy5jdWJlVGV4dHVyZX19ZWxzZSBkPU4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LHUsKG89ZS5fY3JlYXRpb25GbGFncykhPT1udWxsJiZvIT09dm9pZCAwP286MCksZC5fd2FpdGluZ1JlbmRlckxpc3Q9ZS5yZW5kZXJMaXN0O3JldHVybiBuKGQpLGR9ZWxzZXtsZXQgZDtpZihlLmJhc2U2NFN0cmluZyYmIXIpZD1OLkNyZWF0ZUZyb21CYXNlNjRTdHJpbmcoZS5iYXNlNjRTdHJpbmcsZS5iYXNlNjRTdHJpbmcsdCwhdSxlLmludmVydFksZS5zYW1wbGluZ01vZGUsKCk9PntuKGQpfSwoaD1lLl9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmghPT12b2lkIDA/aDowLChsPWUuX3VzZVNSR0JCdWZmZXIpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiExKSxkLm5hbWU9ZS5uYW1lO2Vsc2V7bGV0IGY7ZS5uYW1lJiZlLm5hbWUuaW5kZXhPZigiOi8vIik+MD9mPWUubmFtZTpmPWkrZS5uYW1lLGUudXJsJiYoZS51cmwuc3RhcnRzV2l0aCgiZGF0YToiKXx8Ti5Vc2VTZXJpYWxpemVkVXJsSWZBbnkpJiYoZj1lLnVybCk7Y29uc3QgXz17bm9NaXBtYXA6IXUsaW52ZXJ0WTplLmludmVydFksc2FtcGxpbmdNb2RlOmUuc2FtcGxpbmdNb2RlLG9uTG9hZDooKT0+e24oZCl9LGludGVybmFsVGV4dHVyZTpyfTtkPW5ldyBOKGYsdCxfKX1yZXR1cm4gZH19LGUsdCl9c3RhdGljIENyZWF0ZUZyb21CYXNlNjRTdHJpbmcoZSx0LGkscyxyLG49Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGE9bnVsbCxvPW51bGwsaD01LGwpe3JldHVybiBuZXcgTigiZGF0YToiK3QsaSxzLHIsbixhLG8sZSwhMSxoLHZvaWQgMCx2b2lkIDAsbCl9c3RhdGljIExvYWRGcm9tRGF0YVN0cmluZyhlLHQsaSxzPSExLHIsbj0hMCxhPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxvPW51bGwsaD1udWxsLGw9NSx1KXtyZXR1cm4gZS5zdWJzdHIoMCw1KSE9PSJkYXRhOiImJihlPSJkYXRhOiIrZSksbmV3IE4oZSxpLHIsbixhLG8saCx0LHMsbCx2b2lkIDAsdm9pZCAwLHUpfX1OLlNlcmlhbGl6ZUJ1ZmZlcnM9ITAsTi5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnM9ITEsTi5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlPW5ldyBGLE4uX1NlcmlhbGl6ZUludGVybmFsVGV4dHVyZVVuaXF1ZUlkPSExLE4uX0N1YmVUZXh0dXJlUGFyc2VyPShjLGUsdCk9Pnt0aHJvdyAkKCJDdWJlVGV4dHVyZSIpfSxOLl9DcmVhdGVNaXJyb3I9KGMsZSx0LGkpPT57dGhyb3cgJCgiTWlycm9yVGV4dHVyZSIpfSxOLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPShjLGUsdCxpLHMpPT57dGhyb3cgJCgiUmVuZGVyVGFyZ2V0VGV4dHVyZSIpfSxOLk5FQVJFU1RfU0FNUExJTkdNT0RFPTEsTi5ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsTi5CSUxJTkVBUl9TQU1QTElOR01PREU9MixOLkxJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxOLlRSSUxJTkVBUl9TQU1QTElOR01PREU9MyxOLkxJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsTi5ORUFSRVNUX05FQVJFU1RfTUlQTkVBUkVTVD00LE4uTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LE4uTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsTi5ORUFSRVNUX0xJTkVBUj03LE4uTkVBUkVTVF9ORUFSRVNUPTEsTi5MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksTi5MSU5FQVJfTkVBUkVTVF9NSVBMSU5FQVI9MTAsTi5MSU5FQVJfTElORUFSPTIsTi5MSU5FQVJfTkVBUkVTVD0xMixOLkVYUExJQ0lUX01PREU9MCxOLlNQSEVSSUNBTF9NT0RFPTEsTi5QTEFOQVJfTU9ERT0yLE4uQ1VCSUNfTU9ERT0zLE4uUFJPSkVDVElPTl9NT0RFPTQsTi5TS1lCT1hfTU9ERT01LE4uSU5WQ1VCSUNfTU9ERT02LE4uRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERT05LE4uQ0xBTVBfQUREUkVTU01PREU9MCxOLldSQVBfQUREUkVTU01PREU9MSxOLk1JUlJPUl9BRERSRVNTTU9ERT0yLE4uVXNlU2VyaWFsaXplZFVybElmQW55PSExLFQoW1IoKV0sTi5wcm90b3R5cGUsInVybCIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1T2Zmc2V0Iix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInZPZmZzZXQiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidVNjYWxlIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInZTY2FsZSIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1QW5nIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInZBbmciLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwid0FuZyIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidlJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsIndSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJpc0Jsb2NraW5nIixudWxsKSxpdCgiQkFCWUxPTi5UZXh0dXJlIixOKSxhZS5fVGV4dHVyZVBhcnNlcj1OLlBhcnNlO2NsYXNzICRue2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2F0dGFjaG1lbnRzPW51bGwsdGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLHRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ITEsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPSExLHRoaXMuX2lzTXVsdGk9ZSx0aGlzLl9pc0N1YmU9dCx0aGlzLl9zaXplPWksdGhpcy5fZW5naW5lPXMsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCgpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWx9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl9pc0N1YmV9Z2V0IGlzTXVsdGkoKXtyZXR1cm4gdGhpcy5faXNNdWx0aX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMubGF5ZXJzPjB9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy53aWR0aH1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX3NpemUuaGVpZ2h0fHx0aGlzLl9zaXplfWdldCBsYXllcnMoKXtyZXR1cm4gdGhpcy5fc2l6ZS5sYXllcnN8fDB9Z2V0IHRleHR1cmUoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbMF0pIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Z2V0IHRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzfWdldCBzYW1wbGVzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9c2V0U2FtcGxlcyhlLHQ9ITAsaT0hMSl7aWYodGhpcy5zYW1wbGVzPT09ZSYmIWkpcmV0dXJuIGU7Y29uc3Qgcz10aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpO3JldHVybiB0aGlzLl9zYW1wbGVzPWUsc31zZXRUZXh0dXJlcyhlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3RoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZpJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX1jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGU9MCx0PSEwLGk9ITEscz0xLHI9MTQpe3ZhciBuO3JldHVybihuPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPWksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT10aGlzLl9lbmdpbmUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zaXplLHtiaWxpbmVhckZpbHRlcmluZzp0LGNvbXBhcmlzb25GdW5jdGlvbjplLGdlbmVyYXRlU3RlbmNpbDppLGlzQ3ViZTp0aGlzLl9pc0N1YmUsc2FtcGxlczpzLGRlcHRoVGV4dHVyZUZvcm1hdDpyfSx0aGlzKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlfV9zaGFyZURlcHRoKGUpe3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJihlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmRpc3Bvc2UoKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pbmNyZW1lbnRSZWZlcmVuY2VzKCkpfV9zd2FwQW5kRGllKGUpe3RoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLl9zd2FwQW5kRGllKGUpLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5kaXNwb3NlKCEwKX1fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCl7dmFyIGUsdCxpLHMscixuO2xldCBhPW51bGw7aWYodGhpcy5faXNNdWx0aSl7Y29uc3Qgbz10aGlzLnRleHR1cmVzO2lmKG8mJm8ubGVuZ3RoPjApe2xldCBoPSExLGw9by5sZW5ndGg7Y29uc3QgdT1vW28ubGVuZ3RoLTFdLl9zb3VyY2U7KHU9PT1OZS5EZXB0aHx8dT09PU5lLkRlcHRoU3RlbmNpbCkmJihoPSEwLGwtLSk7Y29uc3QgZD1bXSxmPVtdO2ZvcihsZXQgbT0wO208bDsrK20pe2NvbnN0IHY9b1ttXTtkLnB1c2godi5zYW1wbGluZ01vZGUpLGYucHVzaCh2LnR5cGUpfWNvbnN0IF89e3NhbXBsaW5nTW9kZXM6ZCxnZW5lcmF0ZU1pcE1hcHM6b1swXS5nZW5lcmF0ZU1pcE1hcHMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsZ2VuZXJhdGVEZXB0aFRleHR1cmU6aCx0eXBlczpmLHRleHR1cmVDb3VudDpsfSxFPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH07YT10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXQoRSxfKX19ZWxzZXtjb25zdCBvPXt9O2lmKG8uZ2VuZXJhdGVEZXB0aEJ1ZmZlcj10aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLG8uZ2VuZXJhdGVNaXBNYXBzPSh0PShlPXRoaXMudGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITEsby5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9dGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLG8uc2FtcGxpbmdNb2RlPShpPXRoaXMudGV4dHVyZSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNhbXBsaW5nTW9kZSxvLnR5cGU9KHM9dGhpcy50ZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMudHlwZSxvLmZvcm1hdD0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5mb3JtYXQsdGhpcy5pc0N1YmUpYT10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy53aWR0aCxvKTtlbHNle2NvbnN0IGg9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LGxheWVyczp0aGlzLmlzMkRBcnJheT8obj10aGlzLnRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5kZXB0aDp2b2lkIDB9O2E9dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoaCxvKX1hLnRleHR1cmUuaXNSZWFkeT0hMH1yZXR1cm4gYX1fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSl7aWYodGhpcy5fdGV4dHVyZXMmJmUuX3RleHR1cmVzKWZvcihsZXQgdD0wO3Q8dGhpcy5fdGV4dHVyZXMubGVuZ3RoOysrdCl0aGlzLl90ZXh0dXJlc1t0XS5fc3dhcEFuZERpZShlLl90ZXh0dXJlc1t0XSwhMSksZS5fdGV4dHVyZXNbdF0uaXNSZWFkeT0hMDt0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fc3dhcEFuZERpZShlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmlzUmVhZHk9ITApLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfV9yZWJ1aWxkKCl7Y29uc3QgZT10aGlzLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKTtpZihlKXtpZih0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKXtjb25zdCB0PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxpbmdNb2RlLGk9dD09PTJ8fHQ9PT0zfHx0PT09MTE7ZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuX2NvbXBhcmlzb25GdW5jdGlvbixpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnNhbXBsZXMpfXRoaXMuc2FtcGxlcz4xJiZlLnNldFNhbXBsZXModGhpcy5zYW1wbGVzKSxlLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcih0aGlzKSxlLmRpc3Bvc2UoKX19cmVsZWFzZVRleHR1cmVzKCl7dmFyIGUsdDtpZih0aGlzLl90ZXh0dXJlcylmb3IobGV0IGk9MDsodD1pPCgoZT10aGlzLl90ZXh0dXJlcyk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmxlbmd0aCkpIT09bnVsbCYmdCE9PXZvaWQgMCYmdDsrK2kpdGhpcy5fdGV4dHVyZXNbaV0uZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVzPW51bGx9ZGlzcG9zZShlPSExKXt2YXIgdDtlfHwoKHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGwsdGhpcy5yZWxlYXNlVGV4dHVyZXMoKSksdGhpcy5fZW5naW5lLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcih0aGlzKX19Y2xhc3MgUW4gZXh0ZW5kcyAkbntjb25zdHJ1Y3RvcihlLHQsaSxzLHIpe3N1cGVyKGUsdCxpLHMpLHRoaXMuX2ZyYW1lYnVmZmVyPW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwsdGhpcy5fTVNBQUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbCx0aGlzLl9jb250ZXh0PXJ9X2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpe2xldCBlPW51bGw7cmV0dXJuIHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5JiZ0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk/KGU9dGhpcy5fZW5naW5lLmNyZWF0ZU11bHRpdmlld1JlbmRlclRhcmdldFRleHR1cmUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksZS50ZXh0dXJlLmlzUmVhZHk9ITApOmU9c3VwZXIuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpLGV9X3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKGUpe3N1cGVyLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKSxlLl9mcmFtZWJ1ZmZlcj10aGlzLl9mcmFtZWJ1ZmZlcixlLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLGUuX01TQUFGcmFtZWJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXIsZS5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXksZS5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSx0aGlzLl9mcmFtZWJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsfV9zaGFyZURlcHRoKGUpe3N1cGVyLl9zaGFyZURlcHRoKGUpO2NvbnN0IHQ9dGhpcy5fY29udGV4dCxpPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcixzPWUuX01TQUFGcmFtZWJ1ZmZlcnx8ZS5fZnJhbWVidWZmZXI7ZS5fZGVwdGhTdGVuY2lsQnVmZmVyJiZ0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihlLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLGUuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHMpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0LkRFUFRIX0FUVEFDSE1FTlQsdC5SRU5ERVJCVUZGRVIsaSksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfV9iaW5kVGV4dHVyZVJlbmRlclRhcmdldChlLHQ9MCxpPS0xLHM9MCl7aWYoIWUuX2hhcmR3YXJlVGV4dHVyZSlyZXR1cm47Y29uc3Qgcj10aGlzLl9jb250ZXh0LG49dGhpcy5fZnJhbWVidWZmZXIsYT10aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZWJ1ZmZlcjt0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobik7Y29uc3Qgbz1yW3RoaXMuX2VuZ2luZS53ZWJHTFZlcnNpb24+MT8iQ09MT1JfQVRUQUNITUVOVCIrdDoiQ09MT1JfQVRUQUNITUVOVCIrdCsiX1dFQkdMIl0saD1pIT09LTE/ci5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graTpyLlRFWFRVUkVfMkQ7ci5mcmFtZWJ1ZmZlclRleHR1cmUyRChyLkZSQU1FQlVGRkVSLG8saCxlLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLHMpLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihhKX1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3N1cGVyLnNldFRleHR1cmUoZSx0LGkpLHRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdCl9ZGlzcG9zZShlPSExKXtjb25zdCB0PXRoaXMuX2NvbnRleHQ7ZXx8KHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5JiYodGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5KSx0aGlzLl9jb2xvclRleHR1cmVBcnJheT1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5KSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbCkpLHRoaXMuX2ZyYW1lYnVmZmVyJiYodC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9mcmFtZWJ1ZmZlciksdGhpcy5fZnJhbWVidWZmZXI9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksdGhpcy5fTVNBQUZyYW1lYnVmZmVyJiYodC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9NU0FBRnJhbWVidWZmZXIpLHRoaXMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKSxzdXBlci5kaXNwb3NlKGUpfX1vZS5wcm90b3R5cGUuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1uZXcgUW4oYyxlLHQsdGhpcyx0aGlzLl9nbCk7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5wdXNoKGkpLGl9LG9lLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKGMsZSl7dmFyIHQsaTtjb25zdCBzPXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMSxjKTtsZXQgcj0hMCxuPSExLGE9ITEsbyxoPTE7ZSE9PXZvaWQgMCYmdHlwZW9mIGU9PSJvYmplY3QiJiYocj0odD1lLmdlbmVyYXRlRGVwdGhCdWZmZXIpIT09bnVsbCYmdCE9PXZvaWQgMD90OiEwLG49ISFlLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixhPSEhZS5ub0NvbG9yQXR0YWNobWVudCxvPWUuY29sb3JBdHRhY2htZW50LGg9KGk9ZS5zYW1wbGVzKSE9PW51bGwmJmkhPT12b2lkIDA/aToxKTtjb25zdCBsPW98fChhP251bGw6dGhpcy5fY3JlYXRlSW50ZXJuYWxUZXh0dXJlKGMsZSwhMCxOZS5SZW5kZXJUYXJnZXQpKSx1PWMud2lkdGh8fGMsZD1jLmhlaWdodHx8YyxmPXRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcixfPXRoaXMuX2dsLEU9Xy5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JldHVybiB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKEUpLHMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhuLHIsdSxkKSxsJiYhbC5pczJEQXJyYXkmJl8uZnJhbWVidWZmZXJUZXh0dXJlMkQoXy5GUkFNRUJVRkZFUixfLkNPTE9SX0FUVEFDSE1FTlQwLF8uVEVYVFVSRV8yRCxsLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLDApLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZikscy5fZnJhbWVidWZmZXI9RSxzLl9nZW5lcmF0ZURlcHRoQnVmZmVyPXIscy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPW4scy5zZXRUZXh0dXJlcyhsKSx0aGlzLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudChzLGgpLHN9LG9lLnByb3RvdHlwZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGMsZSx0KXtpZihlLmlzQ3ViZSl7Y29uc3QgaT1jLndpZHRofHxjO3JldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxDdWJlVGV4dHVyZShpLGUsdCl9ZWxzZSByZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShjLGUsdCl9LG9lLnByb3RvdHlwZS5fY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT10aGlzLl9nbCxzPWMubGF5ZXJzfHwwLHI9cyE9PTA/aS5URVhUVVJFXzJEX0FSUkFZOmkuVEVYVFVSRV8yRCxuPW5ldyBPdCh0aGlzLE5lLkRlcHRoU3RlbmNpbCk7aWYoIXRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uKXJldHVybiBPLkVycm9yKCJEZXB0aCB0ZXh0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyIG9yIGhhcmR3YXJlLiIpLG47Y29uc3QgYT17YmlsaW5lYXJGaWx0ZXJpbmc6ITEsY29tcGFyaXNvbkZ1bmN0aW9uOjAsZ2VuZXJhdGVTdGVuY2lsOiExLC4uLmV9O2lmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixuLCEwKSx0aGlzLl9zZXR1cERlcHRoU3RlbmNpbFRleHR1cmUobixjLGEuZ2VuZXJhdGVTdGVuY2lsLGEuY29tcGFyaXNvbkZ1bmN0aW9uPT09MD8hMTphLmJpbGluZWFyRmlsdGVyaW5nLGEuY29tcGFyaXNvbkZ1bmN0aW9uLGEuc2FtcGxlcyksYS5kZXB0aFRleHR1cmVGb3JtYXQhPT12b2lkIDApe2lmKGEuZGVwdGhUZXh0dXJlRm9ybWF0IT09MTUmJmEuZGVwdGhUZXh0dXJlRm9ybWF0IT09MTYmJmEuZGVwdGhUZXh0dXJlRm9ybWF0IT09MTcmJmEuZGVwdGhUZXh0dXJlRm9ybWF0IT09MTMmJmEuZGVwdGhUZXh0dXJlRm9ybWF0IT09MTQmJmEuZGVwdGhUZXh0dXJlRm9ybWF0IT09MTgpcmV0dXJuIE8uRXJyb3IoIkRlcHRoIHRleHR1cmUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuIiksbjtuLmZvcm1hdD1hLmRlcHRoVGV4dHVyZUZvcm1hdH1lbHNlIG4uZm9ybWF0PWEuZ2VuZXJhdGVTdGVuY2lsPzEzOjE2O2NvbnN0IG89bi5mb3JtYXQ9PT0xN3x8bi5mb3JtYXQ9PT0xM3x8bi5mb3JtYXQ9PT0xODt0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlPW4sdC5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPW87bGV0IGg9aS5VTlNJR05FRF9JTlQ7bi5mb3JtYXQ9PT0xNT9oPWkuVU5TSUdORURfU0hPUlQ6bi5mb3JtYXQ9PT0xN3x8bi5mb3JtYXQ9PT0xMz9oPWkuVU5TSUdORURfSU5UXzI0Xzg6bi5mb3JtYXQ9PT0xND9oPWkuRkxPQVQ6bi5mb3JtYXQ9PT0xOCYmKGg9aS5GTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVYpO2NvbnN0IGw9bz9pLkRFUFRIX1NURU5DSUw6aS5ERVBUSF9DT01QT05FTlQ7bGV0IHU9bDt0aGlzLndlYkdMVmVyc2lvbj4xJiYobi5mb3JtYXQ9PT0xNT91PWkuREVQVEhfQ09NUE9ORU5UMTY6bi5mb3JtYXQ9PT0xNj91PWkuREVQVEhfQ09NUE9ORU5UMjQ6bi5mb3JtYXQ9PT0xN3x8bi5mb3JtYXQ9PT0xMz91PWkuREVQVEgyNF9TVEVOQ0lMODpuLmZvcm1hdD09PTE0P3U9aS5ERVBUSF9DT01QT05FTlQzMkY6bi5mb3JtYXQ9PT0xOCYmKHU9aS5ERVBUSDMyRl9TVEVOQ0lMOCkpLG4uaXMyREFycmF5P2kudGV4SW1hZ2UzRChyLDAsdSxuLndpZHRoLG4uaGVpZ2h0LHMsMCxsLGgsbnVsbCk6aS50ZXhJbWFnZTJEKHIsMCx1LG4ud2lkdGgsbi5oZWlnaHQsMCxsLGgsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShyLG51bGwpLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKG4pO2NvbnN0IGQ9dDtpZihkLl9kZXB0aFN0ZW5jaWxCdWZmZXIpe2NvbnN0IGY9dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyO3RoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZC5fZnJhbWVidWZmZXIpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaS5GUkFNRUJVRkZFUixpLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCxpLlJFTkRFUkJVRkZFUixudWxsKSxpLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGkuRlJBTUVCVUZGRVIsaS5ERVBUSF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaS5GUkFNRUJVRkZFUixpLlNURU5DSUxfQVRUQUNITUVOVCxpLlJFTkRFUkJVRkZFUixudWxsKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGYpLGkuZGVsZXRlUmVuZGVyYnVmZmVyKGQuX2RlcHRoU3RlbmNpbEJ1ZmZlciksZC5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGx9cmV0dXJuIG59LG9lLnByb3RvdHlwZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQ9ZnVuY3Rpb24oYyxlKXtpZih0aGlzLndlYkdMVmVyc2lvbjwyfHwhY3x8IWMudGV4dHVyZSlyZXR1cm4gMTtpZihjLnNhbXBsZXM9PT1lKXJldHVybiBlO2NvbnN0IHQ9dGhpcy5fZ2w7ZT1NYXRoLm1pbihlLHRoaXMuZ2V0Q2FwcygpLm1heE1TQUFTYW1wbGVzKSxjLl9kZXB0aFN0ZW5jaWxCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihjLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLGMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSxjLl9NU0FBRnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKGMuX01TQUFGcmFtZWJ1ZmZlciksYy5fTVNBQUZyYW1lYnVmZmVyPW51bGwpO2NvbnN0IGk9Yy50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmU7aWYoaS5fTVNBQVJlbmRlckJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKGkuX01TQUFSZW5kZXJCdWZmZXIpLGkuX01TQUFSZW5kZXJCdWZmZXI9bnVsbCksZT4xJiZ0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSl7Y29uc3Qgcz10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtjLl9NU0FBRnJhbWVidWZmZXI9cyx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGMuX01TQUFGcmFtZWJ1ZmZlcik7Y29uc3Qgcj10aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoYy50ZXh0dXJlLndpZHRoLGMudGV4dHVyZS5oZWlnaHQsZSwtMSx0aGlzLl9nZXRSR0JBTXVsdGlTYW1wbGVCdWZmZXJGb3JtYXQoYy50ZXh0dXJlLnR5cGUpLHQuQ09MT1JfQVRUQUNITUVOVDAsITEpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBtdWx0aSBzYW1wbGVkIGZyYW1lYnVmZmVyIik7aS5fTVNBQVJlbmRlckJ1ZmZlcj1yfWVsc2UgdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihjLl9mcmFtZWJ1ZmZlcik7cmV0dXJuIGMudGV4dHVyZS5zYW1wbGVzPWUsYy5fc2FtcGxlcz1lLGMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhjLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsYy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixjLnRleHR1cmUud2lkdGgsYy50ZXh0dXJlLmhlaWdodCxlKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLGV9LG9lLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZT1mdW5jdGlvbihjLGUpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCEwLGMpLGk9e2dlbmVyYXRlTWlwTWFwczohMCxnZW5lcmF0ZURlcHRoQnVmZmVyOiEwLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMSx0eXBlOjAsc2FtcGxpbmdNb2RlOjMsZm9ybWF0OjUsLi4uZX07aS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9aS5nZW5lcmF0ZURlcHRoQnVmZmVyJiZpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlciwoaS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxpLnR5cGU9PT0yJiYhdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSYmKGkuc2FtcGxpbmdNb2RlPTEpO2NvbnN0IHM9dGhpcy5fZ2wscj1uZXcgT3QodGhpcyxOZS5SZW5kZXJUYXJnZXQpO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocy5URVhUVVJFX0NVQkVfTUFQLHIsITApO2NvbnN0IG49dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGkuc2FtcGxpbmdNb2RlLGkuZ2VuZXJhdGVNaXBNYXBzKTtpLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJihpLnR5cGU9MCxPLldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBDdWJlIHJlbmRlciB0YXJnZXQgZm9yY2VkIHRvIFRFWFRVUkVUWVBFX1VORVNJR05FRF9CWVRFIHR5cGUiKSkscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV9DVUJFX01BUCxzLlRFWFRVUkVfTUFHX0ZJTFRFUixuLm1hZykscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV9DVUJFX01BUCxzLlRFWFRVUkVfTUlOX0ZJTFRFUixuLm1pbikscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV9DVUJFX01BUCxzLlRFWFRVUkVfV1JBUF9TLHMuQ0xBTVBfVE9fRURHRSkscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV9DVUJFX01BUCxzLlRFWFRVUkVfV1JBUF9ULHMuQ0xBTVBfVE9fRURHRSk7Zm9yKGxldCBvPTA7bzw2O28rKylzLnRleEltYWdlMkQocy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbywwLHRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGkudHlwZSxpLmZvcm1hdCksYyxjLDAsdGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoaS5mb3JtYXQpLHRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoaS50eXBlKSxudWxsKTtjb25zdCBhPXMuY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihhKSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoaS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsaS5nZW5lcmF0ZURlcHRoQnVmZmVyLGMsYyksaS5nZW5lcmF0ZU1pcE1hcHMmJnMuZ2VuZXJhdGVNaXBtYXAocy5URVhUVVJFX0NVQkVfTUFQKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLHQuX2ZyYW1lYnVmZmVyPWEsdC5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj1pLmdlbmVyYXRlRGVwdGhCdWZmZXIsdC5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPWkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHIud2lkdGg9YyxyLmhlaWdodD1jLHIuaXNSZWFkeT0hMCxyLmlzQ3ViZT0hMCxyLnNhbXBsZXM9MSxyLmdlbmVyYXRlTWlwTWFwcz1pLmdlbmVyYXRlTWlwTWFwcyxyLnNhbXBsaW5nTW9kZT1pLnNhbXBsaW5nTW9kZSxyLnR5cGU9aS50eXBlLHIuZm9ybWF0PWkuZm9ybWF0LHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKHIpLHQuc2V0VGV4dHVyZXMociksdH07Y29uc3QgSm49InBvc3Rwcm9jZXNzVmVydGV4U2hhZGVyIixlYT1gYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CnVuaWZvcm0gdmVjMiBzY2FsZTsKdmFyeWluZyB2ZWMyIHZVVjsKY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2VVY9KHBvc2l0aW9uKm1hZGQrbWFkZCkqc2NhbGU7CmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtVLlNoYWRlcnNTdG9yZVtKbl09ZWE7Y29uc3QgV3M9e3Bvc2l0aW9uczpbMSwxLC0xLDEsLTEsLTEsMSwtMV0saW5kaWNlczpbMCwxLDIsMCwyLDNdfTtjbGFzcyB0YXtjb25zdHJ1Y3RvcihlLHQ9V3Mpe3ZhciBpLHM7dGhpcy5fZnVsbHNjcmVlblZpZXdwb3J0PW5ldyBCaSgwLDAsMSwxKTtjb25zdCByPShpPXQucG9zaXRpb25zKSE9PW51bGwmJmkhPT12b2lkIDA/aTpXcy5wb3NpdGlvbnMsbj0ocz10LmluZGljZXMpIT09bnVsbCYmcyE9PXZvaWQgMD9zOldzLmluZGljZXM7dGhpcy5lbmdpbmU9ZSx0aGlzLl92ZXJ0ZXhCdWZmZXJzPXtbZy5Qb3NpdGlvbktpbmRdOm5ldyBnKGUscixnLlBvc2l0aW9uS2luZCwhMSwhMSwyKX0sdGhpcy5faW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuX2luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIobik7Zm9yKGNvbnN0IGEgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW2FdLl9yZWJ1aWxkKCl9KX1zZXRWaWV3cG9ydChlPXRoaXMuX2Z1bGxzY3JlZW5WaWV3cG9ydCl7dGhpcy5lbmdpbmUuc2V0Vmlld3BvcnQoZSl9YmluZEJ1ZmZlcnMoZSl7dGhpcy5lbmdpbmUuYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcixlKX1hcHBseUVmZmVjdFdyYXBwZXIoZSl7dGhpcy5lbmdpbmUuc2V0U3RhdGUoITApLHRoaXMuZW5naW5lLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD0hMSx0aGlzLmVuZ2luZS5zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9ITEsdGhpcy5lbmdpbmUuZW5hYmxlRWZmZWN0KGUuX2RyYXdXcmFwcGVyKSx0aGlzLmJpbmRCdWZmZXJzKGUuZWZmZWN0KSxlLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7fSl9cmVzdG9yZVN0YXRlcygpe3RoaXMuZW5naW5lLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD0hMCx0aGlzLmVuZ2luZS5zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9ITB9ZHJhdygpe3RoaXMuZW5naW5lLmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpfV9pc1JlbmRlclRhcmdldFRleHR1cmUoZSl7cmV0dXJuIGUucmVuZGVyVGFyZ2V0IT09dm9pZCAwfXJlbmRlcihlLHQ9bnVsbCl7aWYoIWUuZWZmZWN0LmlzUmVhZHkoKSlyZXR1cm47dGhpcy5zZXRWaWV3cG9ydCgpO2NvbnN0IGk9dD09PW51bGw/bnVsbDp0aGlzLl9pc1JlbmRlclRhcmdldFRleHR1cmUodCk/dC5yZW5kZXJUYXJnZXQ6dDtpJiZ0aGlzLmVuZ2luZS5iaW5kRnJhbWVidWZmZXIoaSksdGhpcy5hcHBseUVmZmVjdFdyYXBwZXIoZSksdGhpcy5kcmF3KCksaSYmdGhpcy5lbmdpbmUudW5CaW5kRnJhbWVidWZmZXIoaSksdGhpcy5yZXN0b3JlU3RhdGVzKCl9ZGlzcG9zZSgpe2NvbnN0IGU9dGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF07ZSYmKGUuZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXSksdGhpcy5faW5kZXhCdWZmZXImJnRoaXMuZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5lbmdpbmUub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPW51bGwpfX1jbGFzcyBpYXtjb25zdHJ1Y3RvcihlKXt0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyBGO2xldCB0O2NvbnN0IGk9ZS51bmlmb3JtTmFtZXN8fFtdO2UudmVydGV4U2hhZGVyP3Q9e2ZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRTaGFkZXIsdmVydGV4U291cmNlOmUudmVydGV4U2hhZGVyLHNwZWN0b3JOYW1lOmUubmFtZXx8ImVmZmVjdFdyYXBwZXIifTooaS5wdXNoKCJzY2FsZSIpLHQ9e2ZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRTaGFkZXIsdmVydGV4OiJwb3N0cHJvY2VzcyIsc3BlY3Rvck5hbWU6ZS5uYW1lfHwiZWZmZWN0V3JhcHBlciJ9LHRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5lZmZlY3Quc2V0RmxvYXQyKCJzY2FsZSIsMSwxKX0pKTtjb25zdCBzPWUuZGVmaW5lcz9lLmRlZmluZXMuam9pbihgCmApOiIiO3RoaXMuX2RyYXdXcmFwcGVyPW5ldyBtaShlLmVuZ2luZSksZS51c2VTaGFkZXJTdG9yZT8odC5mcmFnbWVudD10LmZyYWdtZW50U291cmNlLHQudmVydGV4fHwodC52ZXJ0ZXg9dC52ZXJ0ZXhTb3VyY2UpLGRlbGV0ZSB0LmZyYWdtZW50U291cmNlLGRlbGV0ZSB0LnZlcnRleFNvdXJjZSx0aGlzLmVmZmVjdD1lLmVuZ2luZS5jcmVhdGVFZmZlY3QodCxlLmF0dHJpYnV0ZU5hbWVzfHxbInBvc2l0aW9uIl0saSxlLnNhbXBsZXJOYW1lcyxzLHZvaWQgMCxlLm9uQ29tcGlsZWQsdm9pZCAwLHZvaWQgMCxlLnNoYWRlckxhbmd1YWdlKSk6KHRoaXMuZWZmZWN0PW5ldyBQZSh0LGUuYXR0cmlidXRlTmFtZXN8fFsicG9zaXRpb24iXSxpLGUuc2FtcGxlck5hbWVzLGUuZW5naW5lLHMsdm9pZCAwLGUub25Db21waWxlZCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlLnNoYWRlckxhbmd1YWdlKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZW5naW5lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmVmZmVjdC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLmVmZmVjdC5fcHJlcGFyZUVmZmVjdCgpfSkpfWdldCBlZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fXNldCBlZmZlY3QoZSl7dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PWV9ZGlzcG9zZSgpe3RoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLmVmZmVjdC5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCksdGhpcy5lZmZlY3QuZGlzcG9zZSgpfX1jb25zdCB3cj0icGFzc1BpeGVsU2hhZGVyIixPcj1gdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSAKewpnbF9GcmFnQ29sb3I9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHZVVik7Cn1gO1UuU2hhZGVyc1N0b3JlW3dyXT1Pcjtjb25zdCBMcj17bmFtZTp3cixzaGFkZXI6T3J9O2NsYXNzIHR0e3N0YXRpYyBfQ3JlYXRlRHVtcFJlbmRlcmVyKCl7aWYoIXR0Ll9EdW1wVG9vbHNFbmdpbmUpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdD1uZXcgb2UoZSwhMSx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLGRlcHRoOiExLHN0ZW5jaWw6ITEsYWxwaGE6ITAscHJlbXVsdGlwbGllZEFscGhhOiExLGFudGlhbGlhczohMSxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExfSk7dC5nZXRDYXBzKCkucGFyYWxsZWxTaGFkZXJDb21waWxlPXZvaWQgMDtjb25zdCBpPW5ldyB0YSh0KSxzPW5ldyBpYSh7ZW5naW5lOnQsbmFtZTpMci5uYW1lLGZyYWdtZW50U2hhZGVyOkxyLnNoYWRlcixzYW1wbGVyTmFtZXM6WyJ0ZXh0dXJlU2FtcGxlciJdfSk7dHQuX0R1bXBUb29sc0VuZ2luZT17Y2FudmFzOmUsZW5naW5lOnQscmVuZGVyZXI6aSx3cmFwcGVyOnN9fXJldHVybiB0dC5fRHVtcFRvb2xzRW5naW5lfXN0YXRpYyBhc3luYyBEdW1wRnJhbWVidWZmZXIoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4pe2NvbnN0IGE9YXdhaXQgaS5yZWFkUGl4ZWxzKDAsMCxlLHQpLG89bmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIpO3R0LkR1bXBEYXRhKGUsdCxvLHMscixuLCEwKX1zdGF0aWMgRHVtcERhdGFBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHIsbj0hMSxhPSExLG8pe3JldHVybiBuZXcgUHJvbWlzZShoPT57dHQuRHVtcERhdGEoZSx0LGksbD0+aChsKSxzLHIsbixhLG8pfSl9c3RhdGljIER1bXBEYXRhKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuLGE9ITEsbz0hMSxoKXtjb25zdCBsPXR0Ll9DcmVhdGVEdW1wUmVuZGVyZXIoKTtpZihsLmVuZ2luZS5zZXRTaXplKGUsdCwhMCksaSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7Y29uc3QgZD1uZXcgVWludDhBcnJheShpLmxlbmd0aCk7bGV0IGY9aS5sZW5ndGg7Zm9yKDtmLS07KXtjb25zdCBfPWlbZl07ZFtmXT1fPDA/MDpfPjE/MTpNYXRoLnJvdW5kKF8qMjU1KX1pPWR9Y29uc3QgdT1sLmVuZ2luZS5jcmVhdGVSYXdUZXh0dXJlKGksZSx0LDUsITEsIWEsMSk7bC5yZW5kZXJlci5zZXRWaWV3cG9ydCgpLGwucmVuZGVyZXIuYXBwbHlFZmZlY3RXcmFwcGVyKGwud3JhcHBlciksbC53cmFwcGVyLmVmZmVjdC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix1KSxsLnJlbmRlcmVyLmRyYXcoKSxvP0guVG9CbG9iKGwuY2FudmFzLGQ9Pntjb25zdCBmPW5ldyBGaWxlUmVhZGVyO2Yub25sb2FkPV89Pntjb25zdCBFPV8udGFyZ2V0LnJlc3VsdDtzJiZzKEUpfSxmLnJlYWRBc0FycmF5QnVmZmVyKGQpfSxyLGgpOkguRW5jb2RlU2NyZWVuc2hvdENhbnZhc0RhdGEobC5jYW52YXMscyxyLG4saCksdS5kaXNwb3NlKCl9c3RhdGljIERpc3Bvc2UoKXt0dC5fRHVtcFRvb2xzRW5naW5lJiYodHQuX0R1bXBUb29sc0VuZ2luZS53cmFwcGVyLmRpc3Bvc2UoKSx0dC5fRHVtcFRvb2xzRW5naW5lLnJlbmRlcmVyLmRpc3Bvc2UoKSx0dC5fRHVtcFRvb2xzRW5naW5lLmVuZ2luZS5kaXNwb3NlKCkpLHR0Ll9EdW1wVG9vbHNFbmdpbmU9bnVsbH19KCgpPT57SC5EdW1wRGF0YT10dC5EdW1wRGF0YSxILkR1bXBEYXRhQXN5bmM9dHQuRHVtcERhdGFBc3luYyxILkR1bXBGcmFtZWJ1ZmZlcj10dC5EdW1wRnJhbWVidWZmZXJ9KSgpO2NsYXNzIF90IGV4dGVuZHMgTntjb25zdHJ1Y3RvcihlLHQsaSxzPSExLHI9ITAsbj0wLGE9ITEsbz1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsaD0hMCxsPSExLHU9ITEsZD01LGY9ITEsXyxFLG09ITEsdj0hMSl7dmFyIFMseSxBLEMsYixNO2xldCBMO2lmKHR5cGVvZiBzPT0ib2JqZWN0Iil7Y29uc3Qgdz1zO3M9ISF3LmdlbmVyYXRlTWlwTWFwcyxyPShTPXcuZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbykhPT1udWxsJiZTIT09dm9pZCAwP1M6ITAsbj0oeT13LnR5cGUpIT09bnVsbCYmeSE9PXZvaWQgMD95OjAsYT0hIXcuaXNDdWJlLG89KEE9dy5zYW1wbGluZ01vZGUpIT09bnVsbCYmQSE9PXZvaWQgMD9BOk4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxoPShDPXcuZ2VuZXJhdGVEZXB0aEJ1ZmZlcikhPT1udWxsJiZDIT09dm9pZCAwP0M6ITAsbD0hIXcuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHU9ISF3LmlzTXVsdGksZD0oYj13LmZvcm1hdCkhPT1udWxsJiZiIT09dm9pZCAwP2I6NSxmPSEhdy5kZWxheUFsbG9jYXRpb24sXz13LnNhbXBsZXMsRT13LmNyZWF0aW9uRmxhZ3MsbT0hIXcubm9Db2xvckF0dGFjaG1lbnQsdj0hIXcudXNlU1JHQkJ1ZmZlcixMPXcuY29sb3JBdHRhY2htZW50fWlmKHN1cGVyKG51bGwsaSwhcyx2b2lkIDAsbyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZCksdGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdD1udWxsLHRoaXMuX3JlbmRlckxpc3RIYXNDaGFuZ2VkPSh3LGRlKT0+e3ZhciBjZTtjb25zdCBzZT10aGlzLl9yZW5kZXJMaXN0P3RoaXMuX3JlbmRlckxpc3QubGVuZ3RoOjA7KGRlPT09MCYmc2U+MHx8c2U9PT0wKSYmKChjZT10aGlzLmdldFNjZW5lKCkpPT09bnVsbHx8Y2U9PT12b2lkIDB8fGNlLm1lc2hlcy5mb3JFYWNoKHRlPT57dGUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0pKX0sdGhpcy5yZW5kZXJQYXJ0aWNsZXM9ITAsdGhpcy5yZW5kZXJTcHJpdGVzPSExLHRoaXMuZm9yY2VMYXllck1hc2tDaGVjaz0hMSx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSExLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9jbGVhcmVkPSExLHRoaXMuc2tpcEluaXRpYWxDbGVhcj0hMSx0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xLHRoaXMuX3JlZnJlc2hSYXRlPTEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2NhblJlc2NhbGU9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5ib3VuZGluZ0JveFBvc2l0aW9uPXAuWmVybygpLGk9dGhpcy5nZXRTY2VuZSgpLCFpKXJldHVybjtjb25zdCBrPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLl9jb29yZGluYXRlc01vZGU9Ti5QUk9KRUNUSU9OX01PREUsdGhpcy5yZW5kZXJMaXN0PW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSEwLHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyPXQsdGhpcy5fcmVuZGVyUGFzc0lkcz1bXSx0aGlzLl9pc0N1YmVEYXRhPWEsdGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIodCksdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1swXSx0aGlzLl9yZXNpemVPYnNlcnZlcj1rLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoKCk9Pnt9KSx0aGlzLl9nZW5lcmF0ZU1pcE1hcHM9ISFzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW89cix0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBXZShpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSEwLCF1JiYodGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucz17Z2VuZXJhdGVNaXBNYXBzOnMsdHlwZTpuLGZvcm1hdDooTT10aGlzLl9mb3JtYXQpIT09bnVsbCYmTSE9PXZvaWQgMD9NOnZvaWQgMCxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpoLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjpsLHNhbXBsZXM6XyxjcmVhdGlvbkZsYWdzOkUsbm9Db2xvckF0dGFjaG1lbnQ6bSx1c2VTUkdCQnVmZmVyOnYsY29sb3JBdHRhY2htZW50Okx9LHRoaXMuc2FtcGxpbmdNb2RlPT09Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKHRoaXMud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUpLGZ8fChhPyh0aGlzLl9yZW5kZXJUYXJnZXQ9aS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLmdldFJlbmRlclNpemUoKSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLmNvb3JkaW5hdGVzTW9kZT1OLklOVkNVQklDX01PREUsdGhpcy5fdGV4dHVyZU1hdHJpeD14LklkZW50aXR5KCkpOnRoaXMuX3JlbmRlclRhcmdldD1pLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLF8hPT12b2lkIDAmJih0aGlzLnNhbXBsZXM9XykpKX1nZXQgcmVuZGVyTGlzdCgpe3JldHVybiB0aGlzLl9yZW5kZXJMaXN0fXNldCByZW5kZXJMaXN0KGUpe3RoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3QmJih0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0KCksdGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdD1udWxsKSxlJiYodGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdD0kcyhlLHRoaXMuX3JlbmRlckxpc3RIYXNDaGFuZ2VkKSksdGhpcy5fcmVuZGVyTGlzdD1lfWdldCBwb3N0UHJvY2Vzc2VzKCl7cmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXN9Z2V0IF9wcmVQYXNzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldCYmdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldC5lbmFibGVkfXNldCBvbkFmdGVyVW5iaW5kKGUpe3RoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciYmdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQmVmb3JlUmVuZGVyKGUpe3RoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25BZnRlclJlbmRlcihlKXt0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkNsZWFyKGUpe3RoaXMuX29uQ2xlYXJPYnNlcnZlciYmdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25DbGVhck9ic2VydmVyKSx0aGlzLl9vbkNsZWFyT2JzZXJ2ZXI9dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IHJlbmRlclBhc3NJZHMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc0lkc31nZXQgY3VycmVudFJlZnJlc2hJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50UmVmcmVzaElkfXNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl7bGV0IGk7QXJyYXkuaXNBcnJheShlKT9pPWU6aT1bZV07Zm9yKGxldCBzPTA7czxpLmxlbmd0aDsrK3MpZm9yKGxldCByPTA7cjx0aGlzLl9yZW5kZXJQYXNzSWRzLmxlbmd0aDsrK3IpaVtzXS5zZXRNYXRlcmlhbEZvclJlbmRlclBhc3ModGhpcy5fcmVuZGVyUGFzc0lkc1tyXSx0IT09dm9pZCAwP0FycmF5LmlzQXJyYXkodCk/dFtyXTp0OnZvaWQgMCl9Z2V0IHJlbmRlclRhcmdldE9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9uc31nZXQgcmVuZGVyVGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldH1fb25SYXRpb1Jlc2NhbGUoKXt0aGlzLl9zaXplUmF0aW8mJnRoaXMucmVzaXplKHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyKX1zZXQgYm91bmRpbmdCb3hTaXplKGUpe2lmKHRoaXMuX2JvdW5kaW5nQm94U2l6ZSYmdGhpcy5fYm91bmRpbmdCb3hTaXplLmVxdWFscyhlKSlyZXR1cm47dGhpcy5fYm91bmRpbmdCb3hTaXplPWU7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7dCYmdC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX1nZXQgYm91bmRpbmdCb3hTaXplKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQm94U2l6ZX1nZXQgZGVwdGhTdGVuY2lsVGV4dHVyZSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2RlcHRoU3RlbmNpbFRleHR1cmUpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Y3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlPTAsdD0hMCxpPSExLHM9MSxyPTE0KXt2YXIgbjsobj10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMscil9X3JlbGVhc2VSZW5kZXJQYXNzSWQoKXtpZih0aGlzLl9zY2VuZSl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrdCllLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5fcmVuZGVyUGFzc0lkc1t0XSl9dGhpcy5fcmVuZGVyUGFzc0lkcz1bXX1fY3JlYXRlUmVuZGVyUGFzc0lkKCl7dGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD10aGlzLl9pc0N1YmVEYXRhPzY6dGhpcy5nZXRSZW5kZXJMYXllcnMoKXx8MTtmb3IobGV0IGk9MDtpPHQ7KytpKXRoaXMuX3JlbmRlclBhc3NJZHNbaV09ZS5jcmVhdGVSZW5kZXJQYXNzSWQoYFJlbmRlclRhcmdldFRleHR1cmUgLSAke3RoaXMubmFtZX0jJHtpfWApfV9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlKXtpZihlLnJhdGlvKXt0aGlzLl9zaXplUmF0aW89ZS5yYXRpbztjb25zdCB0PXRoaXMuX2dldEVuZ2luZSgpO3RoaXMuX3NpemU9e3dpZHRoOnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHQuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLl9zaXplUmF0aW8pLGhlaWdodDp0aGlzLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbih0LmdldFJlbmRlckhlaWdodCgpLHRoaXMuX3NpemVSYXRpbyl9fWVsc2UgdGhpcy5fc2l6ZT1lO3RoaXMuX2NyZWF0ZVJlbmRlclBhc3NJZCgpfWdldCBzYW1wbGVzKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5zYW1wbGVzKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9zYW1wbGVzfXNldCBzYW1wbGVzKGUpe3RoaXMuX3JlbmRlclRhcmdldCYmKHRoaXMuX3NhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0LnNldFNhbXBsZXMoZSkpfXJlc2V0UmVmcmVzaENvdW50ZXIoKXt0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xfWdldCByZWZyZXNoUmF0ZSgpe3JldHVybiB0aGlzLl9yZWZyZXNoUmF0ZX1zZXQgcmVmcmVzaFJhdGUoZSl7dGhpcy5fcmVmcmVzaFJhdGU9ZSx0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKX1hZGRQb3N0UHJvY2VzcyhlKXtpZighdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtpZighdClyZXR1cm47dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBRaSh0KSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX10aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2goZSksdGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITF9Y2xlYXJQb3N0UHJvY2Vzc2VzKGU9ITEpe2lmKHRoaXMuX3Bvc3RQcm9jZXNzZXMpe2lmKGUpZm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9zdFByb2Nlc3Nlcyl0LmRpc3Bvc2UoKTt0aGlzLl9wb3N0UHJvY2Vzc2VzPVtdfX1yZW1vdmVQb3N0UHJvY2VzcyhlKXtpZighdGhpcy5fcG9zdFByb2Nlc3NlcylyZXR1cm47Y29uc3QgdD10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk7dCE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITEpKX1fc2hvdWxkUmVuZGVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9PT0tMT8odGhpcy5fY3VycmVudFJlZnJlc2hJZD0xLCEwKTp0aGlzLnJlZnJlc2hSYXRlPT09dGhpcy5fY3VycmVudFJlZnJlc2hJZD8odGhpcy5fY3VycmVudFJlZnJlc2hJZD0xLCEwKToodGhpcy5fY3VycmVudFJlZnJlc2hJZCsrLCExKX1nZXRSZW5kZXJTaXplKCl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgoKX1nZXRSZW5kZXJXaWR0aCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUud2lkdGg6dGhpcy5fc2l6ZX1nZXRSZW5kZXJIZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aD90aGlzLl9zaXplLmhlaWdodDp0aGlzLl9zaXplfWdldFJlbmRlckxheWVycygpe2NvbnN0IGU9dGhpcy5fc2l6ZS5sYXllcnM7cmV0dXJuIGV8fDB9ZGlzYWJsZVJlc2NhbGluZygpe3RoaXMuX2NhblJlc2NhbGU9ITF9Z2V0IGNhblJlc2NhbGUoKXtyZXR1cm4gdGhpcy5fY2FuUmVzY2FsZX1zY2FsZShlKXtjb25zdCB0PU1hdGgubWF4KDEsdGhpcy5nZXRSZW5kZXJTaXplKCkqZSk7dGhpcy5yZXNpemUodCl9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtyZXR1cm4gdGhpcy5pc0N1YmU/dGhpcy5fdGV4dHVyZU1hdHJpeDpzdXBlci5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpfXJlc2l6ZShlKXt2YXIgdDtjb25zdCBpPXRoaXMuaXNDdWJlOyh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbDtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtzJiYodGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIoZSksaT90aGlzLl9yZW5kZXJUYXJnZXQ9cy5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLmdldFJlbmRlclNpemUoKSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKTp0aGlzLl9yZW5kZXJUYXJnZXQ9cy5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMhPT12b2lkIDAmJih0aGlzLnNhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX1yZW5kZXIoZT0hMSx0PSExKXt0aGlzLl9yZW5kZXIoZSx0KX1pc1JlYWR5Rm9yUmVuZGVyaW5nKCl7cmV0dXJuIHRoaXMuX3JlbmRlcighMSwhMSwhMCl9X3JlbmRlcihlPSExLHQ9ITEsaT0hMSl7dmFyIHM7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuIGk7Y29uc3Qgbj1yLmdldEVuZ2luZSgpO2lmKHRoaXMudXNlQ2FtZXJhUG9zdFByb2Nlc3NlcyE9PXZvaWQgMCYmKGU9dGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzKSx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdCl7dGhpcy5yZW5kZXJMaXN0PVtdO2ZvcihsZXQgdT0wO3U8dGhpcy5fd2FpdGluZ1JlbmRlckxpc3QubGVuZ3RoO3UrKyl7Y29uc3QgZD10aGlzLl93YWl0aW5nUmVuZGVyTGlzdFt1XSxmPXIuZ2V0TWVzaEJ5SWQoZCk7ZiYmdGhpcy5yZW5kZXJMaXN0LnB1c2goZil9dGhpcy5fd2FpdGluZ1JlbmRlckxpc3Q9dm9pZCAwfWlmKHRoaXMucmVuZGVyTGlzdFByZWRpY2F0ZSl7dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg9MDp0aGlzLnJlbmRlckxpc3Q9W107Y29uc3QgdT10aGlzLmdldFNjZW5lKCk7aWYoIXUpcmV0dXJuIGk7Y29uc3QgZD11Lm1lc2hlcztmb3IobGV0IGY9MDtmPGQubGVuZ3RoO2YrKyl7Y29uc3QgXz1kW2ZdO3RoaXMucmVuZGVyTGlzdFByZWRpY2F0ZShfKSYmdGhpcy5yZW5kZXJMaXN0LnB1c2goXyl9fWNvbnN0IGE9bi5jdXJyZW50UmVuZGVyUGFzc0lkO3RoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3Qgbz0ocz10aGlzLmFjdGl2ZUNhbWVyYSkhPT1udWxsJiZzIT09dm9pZCAwP3M6ci5hY3RpdmVDYW1lcmEsaD1yLmFjdGl2ZUNhbWVyYTtvJiYobyE9PXIuYWN0aXZlQ2FtZXJhJiYoci5zZXRUcmFuc2Zvcm1NYXRyaXgoby5nZXRWaWV3TWF0cml4KCksby5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksci5hY3RpdmVDYW1lcmE9byksbi5zZXRWaWV3cG9ydChvLnZpZXdwb3J0LHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpKSksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMTtsZXQgbD1pO2lmKGkpe3IuZ2V0Vmlld01hdHJpeCgpfHxyLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpO2NvbnN0IHU9dGhpcy5pczJEQXJyYXk/dGhpcy5nZXRSZW5kZXJMYXllcnMoKTp0aGlzLmlzQ3ViZT82OjE7Zm9yKGxldCBkPTA7ZDx1JiZsO2QrKyl7bGV0IGY9bnVsbDtjb25zdCBfPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3Q6ci5nZXRBY3RpdmVNZXNoZXMoKS5kYXRhLEU9dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg6ci5nZXRBY3RpdmVNZXNoZXMoKS5sZW5ndGg7bi5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbZF0sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLHRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKGY9dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KGQsXyxFKSksZnx8KGY9XyksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ci51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2ZvcihsZXQgbT0wO208Zi5sZW5ndGgmJmw7KyttKXtjb25zdCB2PWZbbV07aWYoISghdi5pc0VuYWJsZWQoKXx8di5pc0Jsb2NrZWR8fCF2LmlzVmlzaWJsZXx8IXYuc3ViTWVzaGVzKSl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbih2LHRoaXMucmVmcmVzaFJhdGUsaSkpe2w9ITE7Y29udGludWV9fWVsc2UgaWYoIXYuaXNSZWFkeSghMCkpe2w9ITE7Y29udGludWV9fX10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkKSwodGhpcy5pczJEQXJyYXl8fHRoaXMuaXNDdWJlKSYmKHIuaW5jcmVtZW50UmVuZGVySWQoKSxyLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSl9fWVsc2UgaWYodGhpcy5pczJEQXJyYXkpZm9yKGxldCB1PTA7dTx0aGlzLmdldFJlbmRlckxheWVycygpO3UrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCgwLGUsdCx1LG8pLHIuaW5jcmVtZW50UmVuZGVySWQoKSxyLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTtlbHNlIGlmKHRoaXMuaXNDdWJlKWZvcihsZXQgdT0wO3U8Njt1KyspdGhpcy5fcmVuZGVyVG9UYXJnZXQodSxlLHQsdm9pZCAwLG8pLHIuaW5jcmVtZW50UmVuZGVySWQoKSxyLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTtlbHNlIHRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsZSx0LHZvaWQgMCxvKTtyZXR1cm4gdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksbi5jdXJyZW50UmVuZGVyUGFzc0lkPWEsaCYmKHIuYWN0aXZlQ2FtZXJhPWgsKHIuZ2V0RW5naW5lKCkuc2NlbmVzLmxlbmd0aD4xfHx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEhPT1yLmFjdGl2ZUNhbWVyYSkmJnIuc2V0VHJhbnNmb3JtTWF0cml4KHIuYWN0aXZlQ2FtZXJhLmdldFZpZXdNYXRyaXgoKSxyLmFjdGl2ZUNhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksbi5zZXRWaWV3cG9ydChyLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCkpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGx9X2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKGUsdCl7Y29uc3Qgcz1lKnQscj1JLk5lYXJlc3RQT1QocysxMjgqMTI4LygxMjgrcykpO3JldHVybiBNYXRoLm1pbihJLkZsb29yUE9UKGUpLHIpfV9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcihlLHQsaSxzKXtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm47dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpO2NvbnN0IG49ci5nZXRSZW5kZXJJZCgpO2ZvcihsZXQgYT0wO2E8dDthKyspe2NvbnN0IG89ZVthXTtpZihvJiYhby5pc0Jsb2NrZWQpe2lmKHRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKXtpZighdGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24obyx0aGlzLnJlZnJlc2hSYXRlLCExKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9fWVsc2UgaWYoIW8uaXNSZWFkeSh0aGlzLnJlZnJlc2hSYXRlPT09MCkpe3RoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpO2NvbnRpbnVlfWlmKCFvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZSYmci5hY3RpdmVDYW1lcmEmJihvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EPXIuY3VzdG9tTE9EU2VsZWN0b3I/ci5jdXN0b21MT0RTZWxlY3RvcihvLHRoaXMuYWN0aXZlQ2FtZXJhfHxyLmFjdGl2ZUNhbWVyYSk6by5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmF8fHIuYWN0aXZlQ2FtZXJhKSxvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCksIW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0QpY29udGludWU7bGV0IGg9by5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRDtoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhuKTtsZXQgbDtpZihzJiZpP2w9KG8ubGF5ZXJNYXNrJmkubGF5ZXJNYXNrKT09PTA6bD0hMSxvLmlzRW5hYmxlZCgpJiZvLmlzVmlzaWJsZSYmby5zdWJNZXNoZXMmJiFsJiYoaCE9PW8mJmguX2FjdGl2YXRlKG4sITApLG8uX2FjdGl2YXRlKG4sITApJiZvLnN1Yk1lc2hlcy5sZW5ndGgpKXtvLmlzQW5JbnN0YW5jZT9vLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYoaD1vKTpoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLGguX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSEwO2ZvcihsZXQgdT0wO3U8aC5zdWJNZXNoZXMubGVuZ3RoO3UrKyl7Y29uc3QgZD1oLnN1Yk1lc2hlc1t1XTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGQsaCl9fX19Zm9yKGxldCBhPTA7YTxyLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7YSsrKXtjb25zdCBvPXIucGFydGljbGVTeXN0ZW1zW2FdLGg9by5lbWl0dGVyOyFvLmlzU3RhcnRlZCgpfHwhaHx8IWgucG9zaXRpb258fCFoLmlzRW5hYmxlZCgpfHxlLmluZGV4T2YoaCk+PTAmJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2hQYXJ0aWNsZXMobyl9fV9iaW5kRnJhbWVCdWZmZXIoZT0wLHQ9MCl7Y29uc3QgaT10aGlzLmdldFNjZW5lKCk7aWYoIWkpcmV0dXJuO2NvbnN0IHM9aS5nZXRFbmdpbmUoKTt0aGlzLl9yZW5kZXJUYXJnZXQmJnMuYmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlbmRlclRhcmdldCx0aGlzLmlzQ3ViZT9lOnZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQsMCx0KX1fdW5iaW5kRnJhbWVCdWZmZXIoZSx0KXt0aGlzLl9yZW5kZXJUYXJnZXQmJmUudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlLCgpPT57dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9KX1fcHJlcGFyZUZyYW1lKGUsdCxpLHMpe3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wcmVQYXNzRW5hYmxlZHx8dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSx0aGlzLl9wb3N0UHJvY2Vzc2VzKTooIXN8fCFlLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKHRoaXMuX3RleHR1cmUpKSYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHQsaSl9X3JlbmRlclRvVGFyZ2V0KGUsdCxpLHM9MCxyPW51bGwpe3ZhciBuLGEsbyxoLGwsdTtjb25zdCBkPXRoaXMuZ2V0U2NlbmUoKTtpZighZClyZXR1cm47Y29uc3QgZj1kLmdldEVuZ2luZSgpO2lmKChuPWYuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbChmLGByZW5kZXIgdG8gZmFjZSAjJHtlfSBsYXllciAjJHtzfWAsMSksdGhpcy5fcHJlcGFyZUZyYW1lKGQsZSxzLHQpLHRoaXMuaXMyREFycmF5PyhmLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tzXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocykpOihmLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tlXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpLGYuc25hcHNob3RSZW5kZXJpbmcmJmYuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Zi5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGQuY2xlYXJDb2xvciwhMCwhMCwhMCk7ZWxzZXtsZXQgRT1udWxsO2NvbnN0IG09dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpkLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpkLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDt0aGlzLmdldEN1c3RvbVJlbmRlckxpc3QmJihFPXRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCh0aGlzLmlzMkRBcnJheT9zOmUsbSx2KSksRT90aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcihFLEUubGVuZ3RoLHIsdGhpcy5mb3JjZUxheWVyTWFza0NoZWNrKToodGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZHx8KHRoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKG0sdixyLCF0aGlzLnJlbmRlckxpc3R8fHRoaXMuZm9yY2VMYXllck1hc2tDaGVjayksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMCksRT1tKTtmb3IoY29uc3QgeSBvZiBkLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlKXkuYWN0aW9uKHRoaXMsZSxzKTt0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Zi5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGQuY2xlYXJDb2xvciwhMCwhMCwhMCksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ZC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2Zvcihjb25zdCB5IG9mIGQuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZSl5LmFjdGlvbih0aGlzLGUscyk7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIodGhpcy5jdXN0b21SZW5kZXJGdW5jdGlvbixFLHRoaXMucmVuZGVyUGFydGljbGVzLHRoaXMucmVuZGVyU3ByaXRlcyk7Zm9yKGNvbnN0IHkgb2YgZC5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UpeS5hY3Rpb24odGhpcyxlLHMpO2NvbnN0IFM9KG89KGE9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZvIT09dm9pZCAwP286ITE7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChoPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZoIT09dm9pZCAwP2g6dm9pZCAwLGUsdGhpcy5fcG9zdFByb2Nlc3Nlcyx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0KTp0JiZkLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSghMSwobD10aGlzLl9yZW5kZXJUYXJnZXQpIT09bnVsbCYmbCE9PXZvaWQgMD9sOnZvaWQgMCxlKTtmb3IoY29uc3QgeSBvZiBkLl9hZnRlclJlbmRlclRhcmdldFBvc3RQcm9jZXNzU3RhZ2UpeS5hY3Rpb24odGhpcyxlLHMpO3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmdlbmVyYXRlTWlwTWFwcz1TKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxkLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCksaSYmdHQuRHVtcEZyYW1lYnVmZmVyKHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpLGYpfXRoaXMuX3VuYmluZEZyYW1lQnVmZmVyKGYsZSksdGhpcy5fdGV4dHVyZSYmdGhpcy5pc0N1YmUmJmU9PT01JiZmLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAodGhpcy5fdGV4dHVyZSksKHU9Zi5fZGVidWdQb3BHcm91cCk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmNhbGwoZiwxKX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKGUsdCxpLHMpfXNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMX1jbG9uZSgpe2NvbnN0IGU9dGhpcy5nZXRTaXplKCksdD1uZXcgX3QodGhpcy5uYW1lLGUsdGhpcy5nZXRTY2VuZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW8sdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy50eXBlLHRoaXMuaXNDdWJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxpbmdNb2RlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5mb3JtYXQsdm9pZCAwLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyk7cmV0dXJuIHQuaGFzQWxwaGE9dGhpcy5oYXNBbHBoYSx0LmxldmVsPXRoaXMubGV2ZWwsdC5jb29yZGluYXRlc01vZGU9dGhpcy5jb29yZGluYXRlc01vZGUsdGhpcy5yZW5kZXJMaXN0JiYodC5yZW5kZXJMaXN0PXRoaXMucmVuZGVyTGlzdC5zbGljZSgwKSksdH1zZXJpYWxpemUoKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCk7aWYoZS5yZW5kZXJUYXJnZXRTaXplPXRoaXMuZ2V0UmVuZGVyU2l6ZSgpLGUucmVuZGVyTGlzdD1bXSx0aGlzLnJlbmRlckxpc3QpZm9yKGxldCB0PTA7dDx0aGlzLnJlbmRlckxpc3QubGVuZ3RoO3QrKyllLnJlbmRlckxpc3QucHVzaCh0aGlzLnJlbmRlckxpc3RbdF0uaWQpO3JldHVybiBlfWRpc3Bvc2VGcmFtZWJ1ZmZlck9iamVjdHMoKXt2YXIgZTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCEwKX1yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCl7dmFyIGU7KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDB8fGUucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfWRpc3Bvc2UoKXt2YXIgZTt0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbGVhck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiYodGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bnVsbCksdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldCYmdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldC5kaXNwb3NlKCksdGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpLHRoaXMuY2xlYXJQb3N0UHJvY2Vzc2VzKCEwKSx0aGlzLl9yZXNpemVPYnNlcnZlciYmKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5vblJlc2l6ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3Jlc2l6ZU9ic2VydmVyKSx0aGlzLl9yZXNpemVPYnNlcnZlcj1udWxsKSx0aGlzLnJlbmRlckxpc3Q9bnVsbDtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtpZighdClyZXR1cm47bGV0IGk9dC5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyk7aT49MCYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShpLDEpO2Zvcihjb25zdCBzIG9mIHQuY2FtZXJhcylpPXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5pbmRleE9mKHRoaXMpLGk+PTAmJnMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5zcGxpY2UoaSwxKTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLHN1cGVyLmRpc3Bvc2UoKX1fcmVidWlsZCgpe3RoaXMucmVmcmVzaFJhdGU9PT1fdC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSYmKHRoaXMucmVmcmVzaFJhdGU9X3QuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0UpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfWdldFZpZXdDb3VudCgpe3JldHVybiAxfX1fdC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRT0wLF90LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZRlJBTUU9MSxfdC5SRUZSRVNIUkFURV9SRU5ERVJfT05FVkVSWVRXT0ZSQU1FUz0yLE4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9KGMsZSx0LGkscyk9Pm5ldyBfdChjLGUsdCxpKTtjbGFzcyBNZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhPTEsbyxoLGw9bnVsbCx1PTAsZD0icG9zdHByb2Nlc3MiLGYsXz0hMSxFPTUsbT1aZS5HTFNMKXt0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLndpZHRoPS0xLHRoaXMuaGVpZ2h0PS0xLHRoaXMubm9kZU1hdGVyaWFsU291cmNlPW51bGwsdGhpcy5fb3V0cHV0VGV4dHVyZT1udWxsLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYWxwaGFNb2RlPTAsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU9ITEsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLnNjYWxlTW9kZT0xLHRoaXMuYWx3YXlzRm9yY2VQT1Q9ITEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0PSExLHRoaXMuX3JldXNhYmxlPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMSx0aGlzLl90ZXh0dXJlcz1uZXcgJGUoMiksdGhpcy5fdGV4dHVyZUNhY2hlPVtdLHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPTAsdGhpcy5fc2NhbGVSYXRpbz1uZXcgdmUoMSwxKSx0aGlzLl90ZXhlbFNpemU9dmUuWmVybygpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5uYW1lPWUsbiE9bnVsbD8odGhpcy5fY2FtZXJhPW4sdGhpcy5fc2NlbmU9bi5nZXRTY2VuZSgpLG4uYXR0YWNoUG9zdFByb2Nlc3ModGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCkpOm8mJih0aGlzLl9lbmdpbmU9byx0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpKSx0aGlzLl9vcHRpb25zPXIsdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGU9YXx8MSx0aGlzLl9yZXVzYWJsZT1ofHwhMSx0aGlzLl90ZXh0dXJlVHlwZT11LHRoaXMuX3RleHR1cmVGb3JtYXQ9RSx0aGlzLl9zaGFkZXJMYW5ndWFnZT1tLHRoaXMuX3NhbXBsZXJzPXN8fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9ZCx0aGlzLl9wYXJhbWV0ZXJzPWl8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9Zix0aGlzLl9kcmF3V3JhcHBlcj1uZXcgbWkodGhpcy5fZW5naW5lKSxffHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1zdGF0aWMgUmVnaXN0ZXJTaGFkZXJDb2RlUHJvY2Vzc2luZyhlLHQpe2lmKCF0KXtkZWxldGUgTWUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2U/PyIiXTtyZXR1cm59TWUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2U/PyIiXT10fXN0YXRpYyBfR2V0U2hhZGVyQ29kZVByb2Nlc3NpbmcoZSl7dmFyIHQ7cmV0dXJuKHQ9TWUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2VdKSE9PW51bGwmJnQhPT12b2lkIDA/dDpNZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbIiJdfWdldCBzYW1wbGVzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9c2V0IHNhbXBsZXMoZSl7dGhpcy5fc2FtcGxlcz1NYXRoLm1pbihlLHRoaXMuX2VuZ2luZS5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLHRoaXMuX3RleHR1cmVzLmZvckVhY2godD0+e3Quc2V0U2FtcGxlcyh0aGlzLl9zYW1wbGVzKX0pfWdldEVmZmVjdE5hbWUoKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRVcmx9c2V0IG9uQWN0aXZhdGUoZSl7dGhpcy5fb25BY3RpdmF0ZU9ic2VydmVyJiZ0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXI9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5hZGQoZSkpfXNldCBvblNpemVDaGFuZ2VkKGUpe3RoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlciYmdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyKSx0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXI9dGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQXBwbHkoZSl7dGhpcy5fb25BcHBseU9ic2VydmVyJiZ0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFwcGx5T2JzZXJ2ZXIpLHRoaXMuX29uQXBwbHlPYnNlcnZlcj10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IGlucHV0VGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlcy5kYXRhW3RoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXX1zZXQgaW5wdXRUZXh0dXJlKGUpe3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9ZX1yZXN0b3JlRGVmYXVsdElucHV0VGV4dHVyZSgpe3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUmJih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5tYXJrVGV4dHVyZURpcnR5KCkpfWdldENhbWVyYSgpe3JldHVybiB0aGlzLl9jYW1lcmF9Z2V0IHRleGVsU2l6ZSgpe3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz90aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy50ZXhlbFNpemU6KHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUmJnRoaXMuX3RleGVsU2l6ZS5jb3B5RnJvbUZsb2F0cygxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgsMS90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodCksdGhpcy5fdGV4ZWxTaXplKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iUG9zdFByb2Nlc3MifWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1zaGFyZU91dHB1dFdpdGgoZSl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPWUsdGhpc311c2VPd25PdXRwdXQoKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg9PTAmJih0aGlzLl90ZXh0dXJlcz1uZXcgJGUoMikpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPW51bGx9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuLGEsbyl7dmFyIGgsbDtjb25zdCB1PU1lLl9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyh0aGlzLm5hbWUpO2lmKHUhPW51bGwmJnUuZGVmaW5lQ3VzdG9tQmluZGluZ3Mpe2NvbnN0IGQ9KGg9dD09bnVsbD92b2lkIDA6dC5zbGljZSgpKSE9PW51bGwmJmghPT12b2lkIDA/aDpbXTtkLnB1c2goLi4udGhpcy5fcGFyYW1ldGVycyk7Y29uc3QgZj0obD1pPT1udWxsP3ZvaWQgMDppLnNsaWNlKCkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOltdO2YucHVzaCguLi50aGlzLl9zYW1wbGVycyksZT11LmRlZmluZUN1c3RvbUJpbmRpbmdzKHRoaXMubmFtZSxlLGQsZiksdD1kLGk9Zn10aGlzLl9wb3N0UHJvY2Vzc0RlZmluZXM9ZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9dGhpcy5fZW5naW5lLmNyZWF0ZUVmZmVjdCh7dmVydGV4OmE/P3RoaXMuX3ZlcnRleFVybCxmcmFnbWVudDpvPz90aGlzLl9mcmFnbWVudFVybH0se2F0dHJpYnV0ZXM6WyJwb3NpdGlvbiJdLHVuaWZvcm1zTmFtZXM6dHx8dGhpcy5fcGFyYW1ldGVycyx1bmlmb3JtQnVmZmVyc05hbWVzOltdLHNhbXBsZXJzOml8fHRoaXMuX3NhbXBsZXJzLGRlZmluZXM6ZSE9PW51bGw/ZToiIixmYWxsYmFja3M6bnVsbCxvbkNvbXBpbGVkOnI/P251bGwsb25FcnJvcjpuPz9udWxsLGluZGV4UGFyYW1ldGVyczpzfHx0aGlzLl9pbmRleFBhcmFtZXRlcnMscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnUhPW51bGwmJnUucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzPyhkLGYpPT51LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0aGlzLm5hbWUsZCxmKTpudWxsLHByb2Nlc3NGaW5hbENvZGU6dSE9bnVsbCYmdS5wcm9jZXNzRmluYWxDb2RlPyhkLGYpPT51LnByb2Nlc3NGaW5hbENvZGUodGhpcy5uYW1lLGQsZik6bnVsbCxzaGFkZXJMYW5ndWFnZTp0aGlzLl9zaGFkZXJMYW5ndWFnZX0sdGhpcy5fZW5naW5lKX1pc1JldXNhYmxlKCl7cmV0dXJuIHRoaXMuX3JldXNhYmxlfW1hcmtUZXh0dXJlRGlydHkoKXt0aGlzLndpZHRoPS0xfV9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCxpPTApe2ZvcihsZXQgcj0wO3I8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtyKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUud2lkdGg9PT1lLndpZHRoJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5oZWlnaHQ9PT1lLmhlaWdodCYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnBvc3RQcm9jZXNzQ2hhbm5lbD09PWkmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLl9nZW5lcmF0ZURlcHRoQnVmZmVyPT09dC5nZW5lcmF0ZURlcHRoQnVmZmVyJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5zYW1wbGVzPT09dC5zYW1wbGVzKXJldHVybiB0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZTtjb25zdCBzPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOnMscG9zdFByb2Nlc3NDaGFubmVsOmksbGFzdFVzZWRSZW5kZXJJZDotMX0pLHN9X2ZsdXNoVGV4dHVyZUNhY2hlKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJJZDtmb3IobGV0IHQ9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGUtdGhpcy5fdGV4dHVyZUNhY2hlW3RdLmxhc3RVc2VkUmVuZGVySWQ+MTAwKXtsZXQgaT0hMTtmb3IobGV0IHM9MDtzPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtzKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtzXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtpPSEwO2JyZWFrfWl8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19X3Jlc2l6ZShlLHQsaSxzLHIpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD4wJiZ0aGlzLl90ZXh0dXJlcy5yZXNldCgpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O2xldCBuPW51bGw7Zm9yKGxldCBoPTA7aDxpLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtoKyspaWYoaS5fcG9zdFByb2Nlc3Nlc1toXSE9PW51bGwpe249aS5fcG9zdFByb2Nlc3Nlc1toXTticmVha31jb25zdCBhPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbz17Z2VuZXJhdGVNaXBNYXBzOnMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpyfHxuPT09dGhpcyxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6KHJ8fG49PT10aGlzKSYmdGhpcy5fZW5naW5lLmlzU3RlbmNpbEVuYWJsZSxzYW1wbGluZ01vZGU6dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsdHlwZTp0aGlzLl90ZXh0dXJlVHlwZSxmb3JtYXQ6dGhpcy5fdGV4dHVyZUZvcm1hdCxzYW1wbGVzOnRoaXMuX3NhbXBsZXN9O3RoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShhLG8sMCkpLHRoaXMuX3JldXNhYmxlJiZ0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoYSxvLDEpKSx0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLndpZHRoLDEvdGhpcy5oZWlnaHQpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWFjdGl2YXRlKGUsdD1udWxsLGkpe3ZhciBzLHI7ZT1lfHx0aGlzLl9jYW1lcmE7Y29uc3Qgbj1lLmdldFNjZW5lKCksYT1uLmdldEVuZ2luZSgpLG89YS5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemU7bGV0IGg9KHQ/dC53aWR0aDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyV2lkdGgoITApKSp0aGlzLl9vcHRpb25zfDA7Y29uc3QgbD0odD90LmhlaWdodDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVySGVpZ2h0KCEwKSkqdGhpcy5fb3B0aW9uc3wwLHU9ZS5wYXJlbnQ7dSYmKHUubGVmdENhbWVyYT09ZXx8dS5yaWdodENhbWVyYT09ZSkmJihoLz0yKTtsZXQgZD10aGlzLl9vcHRpb25zLndpZHRofHxoLGY9dGhpcy5fb3B0aW9ucy5oZWlnaHR8fGw7Y29uc3QgXz10aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTcmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MSYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0yO2lmKCF0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcyYmIXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe2lmKHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0KXtjb25zdCBtPWEuY3VycmVudFZpZXdwb3J0O20mJihkKj1tLndpZHRoLGYqPW0uaGVpZ2h0KX0oX3x8dGhpcy5hbHdheXNGb3JjZVBPVCkmJih0aGlzLl9vcHRpb25zLndpZHRofHwoZD1hLm5lZWRQT1RUZXh0dXJlcz9JLkdldEV4cG9uZW50T2ZUd28oZCxvLHRoaXMuc2NhbGVNb2RlKTpkKSx0aGlzLl9vcHRpb25zLmhlaWdodHx8KGY9YS5uZWVkUE9UVGV4dHVyZXM/SS5HZXRFeHBvbmVudE9mVHdvKGYsbyx0aGlzLnNjYWxlTW9kZSk6ZikpLCh0aGlzLndpZHRoIT09ZHx8dGhpcy5oZWlnaHQhPT1mKSYmdGhpcy5fcmVzaXplKGQsZixlLF8saSksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChtPT57bS5zYW1wbGVzIT09dGhpcy5zYW1wbGVzJiZ0aGlzLl9lbmdpbmUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KG0sdGhpcy5zYW1wbGVzKX0pLHRoaXMuX2ZsdXNoVGV4dHVyZUNhY2hlKCksdGhpcy5fcmVuZGVySWQrK31sZXQgRTtpZih0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcylFPXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmlucHV0VGV4dHVyZTtlbHNlIGlmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpRT10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLHRoaXMud2lkdGg9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodDtlbHNle0U9dGhpcy5pbnB1dFRleHR1cmU7bGV0IG07Zm9yKGxldCB2PTA7djx0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoO3YrKylpZih0aGlzLl90ZXh0dXJlQ2FjaGVbdl0udGV4dHVyZT09PUUpe209dGhpcy5fdGV4dHVyZUNhY2hlW3ZdO2JyZWFrfW0mJihtLmxhc3RVc2VkUmVuZGVySWQ9dGhpcy5fcmVuZGVySWQpfXJldHVybiB0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU/KHRoaXMuX3NjYWxlUmF0aW8uY29weUZyb21GbG9hdHMoaC9kLGwvZiksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihFLDAsaCxsLHRoaXMuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpKToodGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cygxLDEpLHRoaXMuX2VuZ2luZS5iaW5kRnJhbWVidWZmZXIoRSwwLHZvaWQgMCx2b2lkIDAsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpLChyPShzPXRoaXMuX2VuZ2luZSkuX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChzLGBwb3N0IHByb2Nlc3MgJHt0aGlzLm5hbWV9IGlucHV0YCksdGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdGhpcy5hdXRvQ2xlYXImJnRoaXMuYWxwaGFNb2RlPT09MCYmdGhpcy5fZW5naW5lLmNsZWFyKHRoaXMuY2xlYXJDb2xvcj90aGlzLmNsZWFyQ29sb3I6bi5jbGVhckNvbG9yLG4uX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yLCEwLCEwKSx0aGlzLl9yZXVzYWJsZSYmKHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPSh0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZCsxKSUyKSxFfWdldCBpc1N1cHBvcnRlZCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuaXNTdXBwb3J0ZWR9Z2V0IGFzcGVjdFJhdGlvKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmFzcGVjdFJhdGlvOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aC90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodDp0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWlzUmVhZHkoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmlzUmVhZHkoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9YXBwbHkoKXt2YXIgZSx0LGk7aWYoISghKChlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwKSYmZS5pc1JlYWR5KCkpKXJldHVybiBudWxsO3RoaXMuX2VuZ2luZS5lbmFibGVFZmZlY3QodGhpcy5fZHJhd1dyYXBwZXIpLHRoaXMuX2VuZ2luZS5zZXRTdGF0ZSghMSksdGhpcy5fZW5naW5lLnNldERlcHRoQnVmZmVyKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhXcml0ZSghMSksdGhpcy5fZW5naW5lLnNldEFscGhhTW9kZSh0aGlzLmFscGhhTW9kZSksdGhpcy5hbHBoYUNvbnN0YW50cyYmdGhpcy5nZXRFbmdpbmUoKS5zZXRBbHBoYUNvbnN0YW50cyh0aGlzLmFscGhhQ29uc3RhbnRzLnIsdGhpcy5hbHBoYUNvbnN0YW50cy5nLHRoaXMuYWxwaGFDb25zdGFudHMuYix0aGlzLmFscGhhQ29uc3RhbnRzLmEpO2xldCBzO3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz9zPXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmlucHV0VGV4dHVyZTp0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlP3M9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZTpzPXRoaXMuaW5wdXRUZXh0dXJlLHRoaXMuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmd8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixzPT1udWxsP3ZvaWQgMDpzLnRleHR1cmUpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5zZXRWZWN0b3IyKCJzY2FsZSIsdGhpcy5fc2NhbGVSYXRpbyksdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSwoaT0odD1NZS5fR2V0U2hhZGVyQ29kZVByb2Nlc3NpbmcodGhpcy5uYW1lKSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmJpbmRDdXN0b21CaW5kaW5ncyk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodCx0aGlzLm5hbWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9X2Rpc3Bvc2VUZXh0dXJlcygpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9X2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKXtmb3IobGV0IGU9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX3RleHR1cmVDYWNoZVtlXS50ZXh0dXJlLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoPTB9c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiB0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj8odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb249ZS5hZGRFZmZlY3RDb25maWd1cmF0aW9uKHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uKSx0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbi5lbmFibGVkPSEwLCEwKTohMX1kaXNwb3NlKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO2xldCB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0PXRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSwhIWUpe2lmKGUuZGV0YWNoUG9zdFByb2Nlc3ModGhpcyksdD1lLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdD09PTAmJmUuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5fY2FtZXJhLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7aSYmaS5tYXJrVGV4dHVyZURpcnR5KCl9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCl9fXNlcmlhbGl6ZSgpe2NvbnN0IGU9YWUuU2VyaWFsaXplKHRoaXMpLHQ9dGhpcy5nZXRDYW1lcmEoKXx8dGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLiIrdGhpcy5nZXRDbGFzc05hbWUoKSxlLmNhbWVyYUlkPXQ/dC5pZDpudWxsLGUucmV1c2FibGU9dGhpcy5fcmV1c2FibGUsZS50ZXh0dXJlVHlwZT10aGlzLl90ZXh0dXJlVHlwZSxlLmZyYWdtZW50VXJsPXRoaXMuX2ZyYWdtZW50VXJsLGUucGFyYW1ldGVycz10aGlzLl9wYXJhbWV0ZXJzLGUuc2FtcGxlcnM9dGhpcy5fc2FtcGxlcnMsZS5vcHRpb25zPXRoaXMuX29wdGlvbnMsZS5kZWZpbmVzPXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcyxlLnRleHR1cmVGb3JtYXQ9dGhpcy5fdGV4dHVyZUZvcm1hdCxlLnZlcnRleFVybD10aGlzLl92ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnM9dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGV9Y2xvbmUoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7ZS5fZW5naW5lPXRoaXMuX2VuZ2luZSxlLmNhbWVyYUlkPW51bGw7Y29uc3QgdD1NZS5QYXJzZShlLHRoaXMuX3NjZW5lLCIiKTtyZXR1cm4gdD8odC5vbkFjdGl2YXRlT2JzZXJ2YWJsZT10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsb25lKCksdC5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsb25lKCksdC5vbkFwcGx5T2JzZXJ2YWJsZT10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsb25lKCksdC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Ll9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj10aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbix0KTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1yaShlLmN1c3RvbVR5cGUpO2lmKCFzfHwhcy5fUGFyc2UpcmV0dXJuIG51bGw7Y29uc3Qgcj10P3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsO3JldHVybiBzLl9QYXJzZShlLHIsdCxpKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiBhZS5QYXJzZSgoKT0+bmV3IE1lKGUubmFtZSxlLmZyYWdtZW50VXJsLGUucGFyYW1ldGVycyxlLnNhbXBsZXJzLGUub3B0aW9ucyx0LGUucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLGUuX2VuZ2luZSxlLnJldXNhYmxlLGUuZGVmaW5lcyxlLnRleHR1cmVUeXBlLGUudmVydGV4VXJsLGUuaW5kZXhQYXJhbWV0ZXJzLCExLGUudGV4dHVyZUZvcm1hdCksZSxpLHMpfX1NZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3Npbmc9e30sVChbUigpXSxNZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJ3aWR0aCIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiaGVpZ2h0Iix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJyZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUiLHZvaWQgMCksVChbZHIoKV0sTWUucHJvdG90eXBlLCJjbGVhckNvbG9yIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJhdXRvQ2xlYXIiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImFscGhhTW9kZSIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiYWxwaGFDb25zdGFudHMiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImVuYWJsZVBpeGVsUGVyZmVjdE1vZGUiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImZvcmNlRnVsbHNjcmVlblZpZXdwb3J0Iix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJzY2FsZU1vZGUiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImFsd2F5c0ZvcmNlUE9UIix2b2lkIDApLFQoW1IoInNhbXBsZXMiKV0sTWUucHJvdG90eXBlLCJfc2FtcGxlcyIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0Iix2b2lkIDApLGl0KCJCQUJZTE9OLlBvc3RQcm9jZXNzIixNZSk7Y29uc3Qgc2E9Imtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24iLHJhPSJ2YXJ5aW5nIHZlYzIgc2FtcGxlQ29vcmR7WH07IjtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NhXT1yYTtjb25zdCBuYT0icGFja2luZ0Z1bmN0aW9ucyIsYWE9YHZlYzQgcGFjayhmbG9hdCBkZXB0aCkKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDI1NS4wKjI1NS4wKjI1NS4wLDI1NS4wKjI1NS4wLDI1NS4wLDEuMCk7CmNvbnN0IHZlYzQgYml0X21hc2s9dmVjNCgwLjAsMS4wLzI1NS4wLDEuMC8yNTUuMCwxLjAvMjU1LjApOwp2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpOwpyZXMtPXJlcy54eHl6KmJpdF9tYXNrOwpyZXR1cm4gcmVzOwp9CmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfWA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtuYV09YWE7Y29uc3Qgb2E9Imtlcm5lbEJsdXJGcmFnbWVudCIsaGE9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDb29yZHtYfSk7IApjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvYV09aGE7Y29uc3QgbGE9Imtlcm5lbEJsdXJGcmFnbWVudDIiLGNhPWAjaWZkZWYgRE9GCmZhY3Rvcj1zYW1wbGVDb0Moc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KTsKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX0RFUF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKSpjb21wdXRlZFdlaWdodDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xhXT1jYTtjb25zdCB1YT0ia2VybmVsQmx1clBpeGVsU2hhZGVyIixkYT1gdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CnVuaWZvcm0gdmVjMiBkZWx0YTsKdmFyeWluZyB2ZWMyIHNhbXBsZUNlbnRlcjsKI2lmZGVmIERPRgp1bmlmb3JtIHNhbXBsZXIyRCBjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXI7CmZsb2F0IHNhbXBsZUNvQyhpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBjb2M9dGV4dHVyZTJEKGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcixvZmZzZXQpLnI7CnJldHVybiBjb2M7IAp9CiNlbmRpZgojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCiNpZmRlZiBQQUNLRURGTE9BVAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKZmxvYXQgY29tcHV0ZWRXZWlnaHQ9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKZmxvYXQgYmxlbmQ9MC47CiNlbHNlCnZlYzQgYmxlbmQ9dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgRE9GCmZsb2F0IHN1bU9mV2VpZ2h0cz1DRU5URVJfV0VJR0hUOyAKZmxvYXQgZmFjdG9yPTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcikpKkNFTlRFUl9XRUlHSFQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSpDRU5URVJfV0VJR0hUOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudD5bMC4udmFyeWluZ0NvdW50XQojaW5jbHVkZTxrZXJuZWxCbHVyRnJhZ21lbnQyPlswLi5kZXBDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCmdsX0ZyYWdDb2xvcj1wYWNrKGJsZW5kKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPWJsZW5kOwojZW5kaWYKI2lmZGVmIERPRgpnbF9GcmFnQ29sb3IvPXN1bU9mV2VpZ2h0czsKI2VuZGlmCn1gO1UuU2hhZGVyc1N0b3JlW3VhXT1kYTtjb25zdCBmYT0ia2VybmVsQmx1clZlcnRleCIsX2E9InNhbXBsZUNvb3Jke1h9PXNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfT0ZGU0VUe1h9OyI7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmYV09X2E7Y29uc3QgZ2E9Imtlcm5lbEJsdXJWZXJ0ZXhTaGFkZXIiLHBhPWBhdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCmNvbnN0IHZlYzIgbWFkZD12ZWMyKDAuNSwwLjUpOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4Kc2FtcGxlQ2VudGVyPShwb3NpdGlvbiptYWRkK21hZGQpOwojaW5jbHVkZTxrZXJuZWxCbHVyVmVydGV4PlswLi52YXJ5aW5nQ291bnRdCmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtVLlNoYWRlcnNTdG9yZVtnYV09cGE7Y2xhc3MgSnQgZXh0ZW5kcyBNZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbj1OLkJJTElORUFSX1NBTVBMSU5HTU9ERSxhLG8saD0wLGw9IiIsdT0hMSxkPTUpe3N1cGVyKGUsImtlcm5lbEJsdXIiLFsiZGVsdGEiLCJkaXJlY3Rpb24iXSxbImNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlciJdLHMscixuLGEsbyxudWxsLGgsImtlcm5lbEJsdXIiLHt2YXJ5aW5nQ291bnQ6MCxkZXBDb3VudDowfSwhMCxkKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPXUsdGhpcy5fcGFja2VkRmxvYXQ9ITEsdGhpcy5fc3RhdGljRGVmaW5lcz0iIix0aGlzLl9zdGF0aWNEZWZpbmVzPWwsdGhpcy5kaXJlY3Rpb249dCx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmPT57dGhpcy5fb3V0cHV0VGV4dHVyZT9mLnNldEZsb2F0MigiZGVsdGEiLDEvdGhpcy5fb3V0cHV0VGV4dHVyZS53aWR0aCp0aGlzLmRpcmVjdGlvbi54LDEvdGhpcy5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqdGhpcy5kaXJlY3Rpb24ueSk6Zi5zZXRGbG9hdDIoImRlbHRhIiwxL3RoaXMud2lkdGgqdGhpcy5kaXJlY3Rpb24ueCwxL3RoaXMuaGVpZ2h0KnRoaXMuZGlyZWN0aW9uLnkpfSksdGhpcy5rZXJuZWw9aX1zZXQga2VybmVsKGUpe3RoaXMuX2lkZWFsS2VybmVsIT09ZSYmKGU9TWF0aC5tYXgoZSwxKSx0aGlzLl9pZGVhbEtlcm5lbD1lLHRoaXMuX2tlcm5lbD10aGlzLl9uZWFyZXN0QmVzdEtlcm5lbChlKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBrZXJuZWwoKXtyZXR1cm4gdGhpcy5faWRlYWxLZXJuZWx9c2V0IHBhY2tlZEZsb2F0KGUpe3RoaXMuX3BhY2tlZEZsb2F0IT09ZSYmKHRoaXMuX3BhY2tlZEZsb2F0PWUsdGhpcy5fYmxvY2tDb21waWxhdGlvbnx8dGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgcGFja2VkRmxvYXQoKXtyZXR1cm4gdGhpcy5fcGFja2VkRmxvYXR9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuKXt0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKHIsbil9X3VwZGF0ZVBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2tlcm5lbCxzPShpLTEpLzI7bGV0IHI9W10sbj1bXSxhPTA7Zm9yKGxldCBtPTA7bTxpO20rKyl7Y29uc3Qgdj1tLyhpLTEpLFM9dGhpcy5fZ2F1c3NpYW5XZWlnaHQodioyLTEpO3JbbV09bS1zLG5bbV09UyxhKz1TfWZvcihsZXQgbT0wO208bi5sZW5ndGg7bSsrKW5bbV0vPWE7Y29uc3Qgbz1bXSxoPVtdLGw9W107Zm9yKGxldCBtPTA7bTw9czttKz0yKXtjb25zdCB2PU1hdGgubWluKG0rMSxNYXRoLmZsb29yKHMpKTtpZihtPT09dilsLnB1c2goe286clttXSx3Om5bbV19KTtlbHNle2NvbnN0IHk9dj09PXMsQT1uW21dK25bdl0qKHk/LjU6MSksQz1yW21dKzEvKDErblttXS9uW3ZdKTtDPT09MD8obC5wdXNoKHtvOnJbbV0sdzpuW21dfSksbC5wdXNoKHtvOnJbbSsxXSx3Om5bbSsxXX0pKToobC5wdXNoKHtvOkMsdzpBfSksbC5wdXNoKHtvOi1DLHc6QX0pKX19Zm9yKGxldCBtPTA7bTxsLmxlbmd0aDttKyspaFttXT1sW21dLm8sb1ttXT1sW21dLnc7cj1oLG49bztjb25zdCB1PXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLGQ9TWF0aC5tYXgodSwwKS0xO2xldCBmPU1hdGgubWluKHIubGVuZ3RoLGQpLF89IiI7Xys9dGhpcy5fc3RhdGljRGVmaW5lcyx0aGlzLl9zdGF0aWNEZWZpbmVzLmluZGV4T2YoIkRPRiIpIT0tMSYmKF8rPWAjZGVmaW5lIENFTlRFUl9XRUlHSFQgJHt0aGlzLl9nbHNsRmxvYXQobltmLTFdKX1ccgpgLGYtLSk7Zm9yKGxldCBtPTA7bTxmO20rKylfKz1gI2RlZmluZSBLRVJORUxfT0ZGU0VUJHttfSAke3RoaXMuX2dsc2xGbG9hdChyW21dKX1ccgpgLF8rPWAjZGVmaW5lIEtFUk5FTF9XRUlHSFQke219ICR7dGhpcy5fZ2xzbEZsb2F0KG5bbV0pfVxyCmA7bGV0IEU9MDtmb3IobGV0IG09ZDttPHIubGVuZ3RoO20rKylfKz1gI2RlZmluZSBLRVJORUxfREVQX09GRlNFVCR7RX0gJHt0aGlzLl9nbHNsRmxvYXQoclttXSl9XHIKYCxfKz1gI2RlZmluZSBLRVJORUxfREVQX1dFSUdIVCR7RX0gJHt0aGlzLl9nbHNsRmxvYXQoblttXSl9XHIKYCxFKys7dGhpcy5wYWNrZWRGbG9hdCYmKF8rPSIjZGVmaW5lIFBBQ0tFREZMT0FUIDEiKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPSExLHN1cGVyLnVwZGF0ZUVmZmVjdChfLG51bGwsbnVsbCx7dmFyeWluZ0NvdW50OmYsZGVwQ291bnQ6RX0sZSx0KX1fbmVhcmVzdEJlc3RLZXJuZWwoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKGUpO2Zvcihjb25zdCBpIG9mW3QsdC0xLHQrMSx0LTIsdCsyXSlpZihpJTIhPT0wJiZNYXRoLmZsb29yKGkvMiklMj09PTAmJmk+MClyZXR1cm4gTWF0aC5tYXgoaSwzKTtyZXR1cm4gTWF0aC5tYXgodCwzKX1fZ2F1c3NpYW5XZWlnaHQoZSl7Y29uc3QgdD0uMzMzMzMzMzMzMzMzMzMzMyxpPU1hdGguc3FydCgyKk1hdGguUEkpKnQscz0tKGUqZS8oMip0KnQpKTtyZXR1cm4gMS9pKk1hdGguZXhwKHMpfV9nbHNsRmxvYXQoZSx0PTgpe3JldHVybiBlLnRvRml4ZWQodCkucmVwbGFjZSgvMCskLywiIil9c3RhdGljIF9QYXJzZShlLHQsaSxzKXtyZXR1cm4gYWUuUGFyc2UoKCk9Pm5ldyBKdChlLm5hbWUsZS5kaXJlY3Rpb24sZS5rZXJuZWwsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsaS5nZXRFbmdpbmUoKSxlLnJldXNhYmxlLGUudGV4dHVyZVR5cGUsdm9pZCAwLCExKSxlLGkscyl9fVQoW1IoImtlcm5lbCIpXSxKdC5wcm90b3R5cGUsIl9rZXJuZWwiLHZvaWQgMCksVChbUigicGFja2VkRmxvYXQiKV0sSnQucHJvdG90eXBlLCJfcGFja2VkRmxvYXQiLHZvaWQgMCksVChbeG4oKV0sSnQucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksaXQoIkJBQllMT04uQmx1clBvc3RQcm9jZXNzIixKdCk7Y2xhc3MgenN7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWZpbmVzPXt9LHRoaXMuX2N1cnJlbnRSYW5rPTMyLHRoaXMuX21heFJhbms9LTEsdGhpcy5fbWVzaD1udWxsfXVuQmluZE1lc2goKXt0aGlzLl9tZXNoPW51bGx9YWRkRmFsbGJhY2soZSx0KXt0aGlzLl9kZWZpbmVzW2VdfHwoZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSksdGhpcy5fZGVmaW5lc1tlXT1uZXcgQXJyYXkpLHRoaXMuX2RlZmluZXNbZV0ucHVzaCh0KX1hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKGUsdCl7dGhpcy5fbWVzaD10LGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpfWdldCBoYXNNb3JlRmFsbGJhY2tzKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5rPD10aGlzLl9tYXhSYW5rfXJlZHVjZShlLHQpe2lmKHRoaXMuX21lc2gmJnRoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0aGlzLl9tZXNoLm51bUJvbmVJbmZsdWVuY2Vycz4wKXt0aGlzLl9tZXNoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSxlPWUucmVwbGFjZSgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3RoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzLCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKSx0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITA7Y29uc3QgaT10aGlzLl9tZXNoLmdldFNjZW5lKCk7Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7cysrKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKCFyLm1hdGVyaWFsKXshdGhpcy5fbWVzaC5tYXRlcmlhbCYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnIubnVtQm9uZUluZmx1ZW5jZXJzPjAmJihyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSk7Y29udGludWV9aWYoISghci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHIubnVtQm9uZUluZmx1ZW5jZXJzPT09MCkpe2lmKHIubWF0ZXJpYWwuZ2V0RWZmZWN0KCk9PT10KXIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2Vsc2UgaWYoci5zdWJNZXNoZXMpe2Zvcihjb25zdCBuIG9mIHIuc3ViTWVzaGVzKWlmKG4uZWZmZWN0PT09dCl7ci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7YnJlYWt9fX19fWVsc2V7Y29uc3QgaT10aGlzLl9kZWZpbmVzW3RoaXMuX2N1cnJlbnRSYW5rXTtpZihpKWZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKWU9ZS5yZXBsYWNlKCIjZGVmaW5lICIraVtzXSwiIik7dGhpcy5fY3VycmVudFJhbmsrK31yZXR1cm4gZX19Y29uc3QgbWE9ImJheWVyRGl0aGVyRnVuY3Rpb25zIixFYT1gZmxvYXQgYmF5ZXJEaXRoZXIyKHZlYzIgX1ApIHsKcmV0dXJuIG1vZCgyLjAqX1AueStfUC54KzEuMCw0LjApOwp9CmZsb2F0IGJheWVyRGl0aGVyNCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSptb2QoX1AsNC4wKSk7IApyZXR1cm4gNC4wKmJheWVyRGl0aGVyMihQMSkrYmF5ZXJEaXRoZXIyKFAyKTsKfQpmbG9hdCBiYXllckRpdGhlcjgodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOyAKdmVjMiBQMj1mbG9vcigwLjUgKm1vZChfUCw0LjApKTsgCnZlYzIgUDQ9Zmxvb3IoMC4yNSptb2QoX1AsOC4wKSk7IApyZXR1cm4gNC4wKig0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpKStiYXllckRpdGhlcjIoUDQpOwp9CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVttYV09RWE7Y29uc3QgdmE9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIsVGE9YCNpZiBTTV9GTE9BVD09MAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaW5jbHVkZTxiYXllckRpdGhlckZ1bmN0aW9ucz4KdW5pZm9ybSBmbG9hdCBzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTTsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZhXT1UYTtjb25zdCBiYT0iY2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbiIsU2E9YCNpZmRlZiBDTElQUExBTkUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U0OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYmFdPVNhO2NvbnN0IHhhPSJjbGlwUGxhbmVGcmFnbWVudCIsTWE9YCNpZiBkZWZpbmVkKENMSVBQTEFORSkgfHwgZGVmaW5lZChDTElQUExBTkUyKSB8fCBkZWZpbmVkKENMSVBQTEFORTMpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNCkgfHwgZGVmaW5lZChDTElQUExBTkU1KSB8fCBkZWZpbmVkKENMSVBQTEFORTYpCmlmIChmYWxzZSkge30KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTI+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmVsc2UgaWYgKGZDbGlwRGlzdGFuY2UzPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAplbHNlIGlmIChmQ2xpcERpc3RhbmNlND4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTU+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U2PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeGFdPU1hO2NvbnN0IEFhPSJzaGFkb3dNYXBGcmFnbWVudCIsUmE9YGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKI2lmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpkZXB0aFNNPSgtelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCmRlcHRoU009KHpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9GcmFnRGVwdGg9Y2xhbXAoMS4wLWRlcHRoU00sMC4wLDEuMCk7CiNlbHNlCmdsX0ZyYWdEZXB0aD1jbGFtcChkZXB0aFNNLDAuMCwxLjApOyAKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojaWYgU01fRVNNPT0xCmRlcHRoU009Y2xhbXAoZXhwKC1taW4oODcuLGJpYXNBbmRTY2FsZVNNLnoqZGVwdGhTTSkpLDAuLDEuKTsKI2VuZGlmCiNpZiBTTV9GTE9BVD09MQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0FhXT1SYTtjb25zdCB5YT0ic2hhZG93TWFwUGl4ZWxTaGFkZXIiLENhPWAjaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudEV4dHJhRGVjbGFyYXRpb24+CiNpZmRlZiBBTFBIQVRFWFRVUkUKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVYVFVSRQpmbG9hdCBhbHBoYUZyb21BbHBoYVRleHR1cmU9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTsKI2lmZGVmIEFMUEhBVEVTVFZBTFVFCmlmIChhbHBoYUZyb21BbHBoYVRleHR1cmU8QUxQSEFURVNUVkFMVUUpCmRpc2NhcmQ7CiNlbmRpZgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaWZkZWYgQUxQSEFURVhUVVJFCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYUZyb21BbHBoYVRleHR1cmUpIGRpc2NhcmQ7CiNlbHNlCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSkgZGlzY2FyZDsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudD4KfWA7VS5TaGFkZXJzU3RvcmVbeWFdPUNhO2NvbnN0IElhPSJib25lc0RlY2xhcmF0aW9uIixQYT1gI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHM7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlc0V4dHJhOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHNFeHRyYTsKI2VuZGlmCiNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZmRlZiBCT05FVEVYVFVSRQp1bmlmb3JtIHNhbXBsZXIyRCBib25lU2FtcGxlcjsKdW5pZm9ybSBmbG9hdCBib25lVGV4dHVyZVdpZHRoOwojZWxzZQp1bmlmb3JtIG1hdDQgbUJvbmVzW0JvbmVzUGVyTWVzaF07CiNpZmRlZiBCT05FU19WRUxPQ0lUWV9FTkFCTEVECnVuaWZvcm0gbWF0NCBtUHJldmlvdXNCb25lc1tCb25lc1Blck1lc2hdOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBCT05FVEVYVFVSRQojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4KQp7CmZsb2F0IG9mZnNldD1pbmRleCAqNC4wOwpmbG9hdCBkeD0xLjAvYm9uZVRleHR1cmVXaWR0aDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLDAuKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSwwLikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksMC4pKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLDAuKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSWFdPVBhO2NvbnN0IERhPSJiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uIixGYT1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp1bmlmb3JtIGZsb2F0IGJha2VkVmVydGV4QW5pbWF0aW9uVGltZTsKdW5pZm9ybSB2ZWMyIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZDsKdW5pZm9ybSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3M7CnVuaWZvcm0gc2FtcGxlcjJEIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZTsKI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkOwojZW5kaWYKI2RlZmluZSBpbmxpbmUKbWF0NCByZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoc2FtcGxlcjJEIHNtcCxmbG9hdCBpbmRleCxmbG9hdCBmcmFtZSkKewpmbG9hdCBvZmZzZXQ9aW5kZXgqNC4wOwpmbG9hdCBmcmFtZVVWPShmcmFtZSswLjUpKmJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC55OwpmbG9hdCBkeD1iYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLGZyYW1lVVYpKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLGZyYW1lVVYpKTsKdmVjNCBtMj10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsyLjUpLGZyYW1lVVYpKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLGZyYW1lVVYpKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRGFdPUZhO2NvbnN0IHdhPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbiIsT2E9YCNpZmRlZiBNT1JQSFRBUkdFVFMKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbTlVNX01PUlBIX0lORkxVRU5DRVJTXTsKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIApwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkRBcnJheTsgCnVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwp1bmlmb3JtIHZlYzMgbW9ycGhUYXJnZXRUZXh0dXJlSW5mbzsKdW5pZm9ybSBzYW1wbGVyMkRBcnJheSBtb3JwaFRhcmdldHM7CnZlYzMgcmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcihpbnQgdGFyZ2V0SW5kZXgsZmxvYXQgdmVydGV4SW5kZXgpCnsgCmZsb2F0IHk9Zmxvb3IodmVydGV4SW5kZXgvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55KTsKZmxvYXQgeD12ZXJ0ZXhJbmRleC15Km1vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueTsKdmVjMyB0ZXh0dXJlVVY9dmVjMygoeCswLjUpL21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueSwoeSswLjUpL21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueixtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW3RhcmdldEluZGV4XSk7CnJldHVybiB0ZXh0dXJlKG1vcnBoVGFyZ2V0cyx0ZXh0dXJlVVYpLnh5ejsKfQojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3YV09T2E7Y29uc3QgTGE9Im1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uIixOYT1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZuZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ue1h9OwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWx7WH07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKYXR0cmlidXRlIHZlYzMgdGFuZ2VudHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKYXR0cmlidXRlIHZlYzIgdXZfe1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTGFdPU5hO2NvbnN0IEJhPSJoZWxwZXJGdW5jdGlvbnMiLFVhPWBjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTU7CmNvbnN0IGZsb2F0IEhBTEZfTUlOPTUuOTYwNDY0NDhlLTA4OyAKY29uc3QgZmxvYXQgTGluZWFyRW5jb2RlUG93ZXJBcHByb3g9Mi4yOwpjb25zdCBmbG9hdCBHYW1tYUVuY29kZVBvd2VyQXBwcm94PTEuMC9MaW5lYXJFbmNvZGVQb3dlckFwcHJveDsKY29uc3QgdmVjMyBMdW1pbmFuY2VFbmNvZGVBcHByb3g9dmVjMygwLjIxMjYsMC43MTUyLDAuMDcyMik7CmNvbnN0IGZsb2F0IEVwc2lsb249MC4wMDAwMDAxOwojZGVmaW5lIHNhdHVyYXRlKHgpIGNsYW1wKHgsMC4wLDEuMCkKI2RlZmluZSBhYnNFcHMoeCkgYWJzKHgpK0Vwc2lsb24KI2RlZmluZSBtYXhFcHMoeCkgbWF4KHgsRXBzaWxvbikKI2RlZmluZSBzYXR1cmF0ZUVwcyh4KSBjbGFtcCh4LEVwc2lsb24sMS4wKQptYXQzIHRyYW5zcG9zZU1hdDMobWF0MyBpbk1hdHJpeCkgewp2ZWMzIGkwPWluTWF0cml4WzBdOwp2ZWMzIGkxPWluTWF0cml4WzFdOwp2ZWMzIGkyPWluTWF0cml4WzJdOwptYXQzIG91dE1hdHJpeD1tYXQzKAp2ZWMzKGkwLngsaTEueCxpMi54KSwKdmVjMyhpMC55LGkxLnksaTIueSksCnZlYzMoaTAueixpMS56LGkyLnopCik7CnJldHVybiBvdXRNYXRyaXg7Cn0KbWF0MyBpbnZlcnNlTWF0MyhtYXQzIGluTWF0cml4KSB7CmZsb2F0IGEwMD1pbk1hdHJpeFswXVswXSxhMDE9aW5NYXRyaXhbMF1bMV0sYTAyPWluTWF0cml4WzBdWzJdOwpmbG9hdCBhMTA9aW5NYXRyaXhbMV1bMF0sYTExPWluTWF0cml4WzFdWzFdLGExMj1pbk1hdHJpeFsxXVsyXTsKZmxvYXQgYTIwPWluTWF0cml4WzJdWzBdLGEyMT1pbk1hdHJpeFsyXVsxXSxhMjI9aW5NYXRyaXhbMl1bMl07CmZsb2F0IGIwMT1hMjIqYTExLWExMiphMjE7CmZsb2F0IGIxMT0tYTIyKmExMCthMTIqYTIwOwpmbG9hdCBiMjE9YTIxKmExMC1hMTEqYTIwOwpmbG9hdCBkZXQ9YTAwKmIwMSthMDEqYjExK2EwMipiMjE7CnJldHVybiBtYXQzKGIwMSwoLWEyMiphMDErYTAyKmEyMSksKGExMiphMDEtYTAyKmExMSksCmIxMSwoYTIyKmEwMC1hMDIqYTIwKSwoLWExMiphMDArYTAyKmExMCksCmIyMSwoLWEyMSphMDArYTAxKmEyMCksKGExMSphMDAtYTAxKmExMCkpL2RldDsKfQojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKdmVjMyB0b0xpbmVhclNwYWNlRXhhY3QodmVjMyBjb2xvcikKewp2ZWMzIG5lYXJaZXJvU2VjdGlvbj0wLjA3NzM5OTM4MDgqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yK3ZlYzMoMC4wNTUpKSx2ZWMzKDIuNCkpOwojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKcmV0dXJuIG1peChyZW1haW5pbmdTZWN0aW9uLG5lYXJaZXJvU2VjdGlvbixsZXNzVGhhbkVxdWFsKGNvbG9yLHZlYzMoMC4wNDA0NSkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5nIDogcmVtYWluaW5nU2VjdGlvbi5nLApjb2xvci5iPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZUV4YWN0KHZlYzMgY29sb3IpCnsKdmVjMyBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj0xLjA1NSpwb3coY29sb3IsdmVjMygwLjQxNjY2KSktdmVjMygwLjA1NSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQpyZXR1cm4gbWl4KHJlbWFpbmluZ1NlY3Rpb24sbmVhclplcm9TZWN0aW9uLGxlc3NUaGFuRXF1YWwoY29sb3IsdmVjMygwLjAwMzEzMDgpKSk7CiNlbHNlCnJldHVybgp2ZWMzKApjb2xvci5yPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmcgOiByZW1haW5pbmdTZWN0aW9uLmcsCmNvbG9yLmI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5iIDogcmVtYWluaW5nU2VjdGlvbi5iKTsKI2VuZGlmCn0KI2VuZGlmCmZsb2F0IHRvTGluZWFyU3BhY2UoZmxvYXQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCmZsb2F0IG5lYXJaZXJvU2VjdGlvbj0wLjA3NzM5OTM4MDgqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249cG93KDAuOTQ3ODY3Mjk5Kihjb2xvciswLjA1NSksMi40KTsKcmV0dXJuIGNvbG9yPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uIDogcmVtYWluaW5nU2VjdGlvbjsKI2Vsc2UKcmV0dXJuIHBvdyhjb2xvcixMaW5lYXJFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9MaW5lYXJTcGFjZSh2ZWMzIGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdG9MaW5lYXJTcGFjZUV4YWN0KGNvbG9yKTsKI2Vsc2UKcmV0dXJuIHBvdyhjb2xvcix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9MaW5lYXJTcGFjZSh2ZWM0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdmVjNCh0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IucmdiKSxjb2xvci5hKTsKI2Vsc2UKcmV0dXJuIHZlYzQocG93KGNvbG9yLnJnYix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHRvR2FtbWFTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTEyLjkyKmNvbG9yOwpmbG9hdCByZW1haW5pbmdTZWN0aW9uPTEuMDU1KnBvdyhjb2xvciwwLjQxNjY2KS0wLjA1NTsKcmV0dXJuIGNvbG9yPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZSh2ZWMzIGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdG9HYW1tYVNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpOwojZW5kaWYKfQp2ZWM0IHRvR2FtbWFTcGFjZSh2ZWM0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdmVjNCh0b0dhbW1hU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpLGNvbG9yLmEpOwojZW5kaWYKfQpmbG9hdCBzcXVhcmUoZmxvYXQgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CnZlYzMgc3F1YXJlKHZlYzMgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CmZsb2F0IHBvdzUoZmxvYXQgdmFsdWUpIHsKZmxvYXQgc3E9dmFsdWUqdmFsdWU7CnJldHVybiBzcSpzcSp2YWx1ZTsKfQpmbG9hdCBnZXRMdW1pbmFuY2UodmVjMyBjb2xvcikKewpyZXR1cm4gY2xhbXAoZG90KGNvbG9yLEx1bWluYW5jZUVuY29kZUFwcHJveCksMC4sMS4pOwp9CmZsb2F0IGdldFJhbmQodmVjMiBzZWVkKSB7CnJldHVybiBmcmFjdChzaW4oZG90KHNlZWQueHkgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKSkqNDM3NTguNTQ1Myk7Cn0KZmxvYXQgZGl0aGVyKHZlYzIgc2VlZCxmbG9hdCB2YXJpYW5jZUFtb3VudCkgewpmbG9hdCByYW5kPWdldFJhbmQoc2VlZCk7CmZsb2F0IG5vcm1WYXJpYW5jZT12YXJpYW5jZUFtb3VudC8yNTUuMDsKZmxvYXQgZGl0aGVyPW1peCgtbm9ybVZhcmlhbmNlLG5vcm1WYXJpYW5jZSxyYW5kKTsKcmV0dXJuIGRpdGhlcjsKfQpjb25zdCBmbG9hdCByZ2JkTWF4UmFuZ2U9MjU1LjA7CnZlYzQgdG9SR0JEKHZlYzMgY29sb3IpIHsKZmxvYXQgbWF4UkdCPW1heEVwcyhtYXgoY29sb3IucixtYXgoY29sb3IuZyxjb2xvci5iKSkpOwpmbG9hdCBEID1tYXgocmdiZE1heFJhbmdlL21heFJHQiwxLik7CkQgPWNsYW1wKGZsb29yKEQpLzI1NS4wLDAuLDEuKTsKdmVjMyByZ2I9Y29sb3IucmdiKkQ7CnJnYj10b0dhbW1hU3BhY2UocmdiKTsKcmV0dXJuIHZlYzQoY2xhbXAocmdiLDAuLDEuKSxEKTsgCn0KdmVjMyBmcm9tUkdCRCh2ZWM0IHJnYmQpIHsKcmdiZC5yZ2I9dG9MaW5lYXJTcGFjZShyZ2JkLnJnYik7CnJldHVybiByZ2JkLnJnYi9yZ2JkLmE7Cn0KdmVjMyBwYXJhbGxheENvcnJlY3ROb3JtYWwoIHZlYzMgdmVydGV4UG9zLHZlYzMgb3JpZ1ZlYyx2ZWMzIGN1YmVTaXplLHZlYzMgY3ViZVBvcyApIHsKdmVjMyBpbnZPcmlnVmVjPXZlYzMoMS4wLDEuMCwxLjApL29yaWdWZWM7CnZlYzMgaGFsZlNpemU9Y3ViZVNpemUqMC41Owp2ZWMzIGludGVyc2VjQXRNYXhQbGFuZT0oY3ViZVBvcytoYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgaW50ZXJzZWNBdE1pblBsYW5lPShjdWJlUG9zLWhhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBsYXJnZXN0SW50ZXJzZWM9bWF4KGludGVyc2VjQXRNYXhQbGFuZSxpbnRlcnNlY0F0TWluUGxhbmUpOwpmbG9hdCBkaXN0YW5jZT1taW4obWluKGxhcmdlc3RJbnRlcnNlYy54LGxhcmdlc3RJbnRlcnNlYy55KSxsYXJnZXN0SW50ZXJzZWMueik7CnZlYzMgaW50ZXJzZWN0UG9zaXRpb25XUz12ZXJ0ZXhQb3Mrb3JpZ1ZlYypkaXN0YW5jZTsKcmV0dXJuIGludGVyc2VjdFBvc2l0aW9uV1MtY3ViZVBvczsKfQpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQmFdPVVhO2NvbnN0IGthPSJzY2VuZVZlcnRleERlY2xhcmF0aW9uIixWYT1gdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvblI7CiNlbmRpZgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHByb2plY3Rpb247CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrYV09VmE7Y29uc3QgV2E9Im1lc2hWZXJ0ZXhEZWNsYXJhdGlvbiIsemE9YHVuaWZvcm0gbWF0NCB3b3JsZDsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV2FdPXphO2NvbnN0IEdhPSJzaGFkb3dNYXBWZXJ0ZXhEZWNsYXJhdGlvbiIsWGE9YCNpbmNsdWRlPHNjZW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hWZXJ0ZXhEZWNsYXJhdGlvbj4KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dhXT1YYTtjb25zdCBIYT0ic2NlbmVVYm9EZWNsYXJhdGlvbiIsS2E9YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIFNjZW5lIHsKbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIE1VTFRJVklFVwptYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmIAptYXQ0IHZpZXc7Cm1hdDQgcHJvamVjdGlvbjsKdmVjNCB2RXllUG9zaXRpb247Cn07CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIYV09S2E7Y29uc3QgWWE9Im1lc2hVYm9EZWNsYXJhdGlvbiIsWmE9YCNpZmRlZiBXRUJHTDIKdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNlbHNlCmxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1lc2gKewptYXQ0IHdvcmxkOwpmbG9hdCB2aXNpYmlsaXR5Owp9OwojZW5kaWYKI2RlZmluZSBXT1JMRF9VQk8KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lhXT1aYTtjb25zdCBxYT0ic2hhZG93TWFwVWJvRGVjbGFyYXRpb24iLGphPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcWFdPWphO2NvbnN0ICRhPSJzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uIixRYT1gI2lmIFNNX05PUk1BTEJJQVM9PTEKdW5pZm9ybSB2ZWMzIGxpZ2h0RGF0YVNNOwojZW5kaWYKdW5pZm9ybSB2ZWMzIGJpYXNBbmRTY2FsZVNNOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXNTTTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlWyRhXT1RYTtjb25zdCBKYT0iY2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24iLGVvPWAjaWZkZWYgQ0xJUFBMQU5FCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lOwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTI7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTM7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTQ7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTY7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSmFdPWVvO2NvbnN0IHRvPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWwiLGlvPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQpmbG9hdCB2ZXJ0ZXhJRDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdG9dPWlvO2NvbnN0IHNvPSJtb3JwaFRhcmdldHNWZXJ0ZXgiLHJvPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRSAKdmVydGV4SUQ9ZmxvYXQoZ2xfVmVydGV4SUQpKm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueDsKcG9zaXRpb25VcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtbm9ybWFsKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKdXZVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLnh5LXV2KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAp0YW5nZW50VXBkYXRlZC54eXorPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkgLXRhbmdlbnQueHl6KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNlbHNlCnBvc2l0aW9uVXBkYXRlZCs9KHBvc2l0aW9ue1h9LXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KG5vcm1hbHtYfS1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHRhbmdlbnR7WH0tdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPSh1dl97WH0tdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc29dPXJvO2NvbnN0IG5vPSJpbnN0YW5jZXNWZXJ0ZXgiLGFvPWAjaWZkZWYgSU5TVEFOQ0VTCm1hdDQgZmluYWxXb3JsZD1tYXQ0KHdvcmxkMCx3b3JsZDEsd29ybGQyLHdvcmxkMyk7CiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpIHx8IGRlZmluZWQoVkVMT0NJVFkpCm1hdDQgZmluYWxQcmV2aW91c1dvcmxkPW1hdDQocHJldmlvdXNXb3JsZDAscHJldmlvdXNXb3JsZDEscHJldmlvdXNXb3JsZDIscHJldmlvdXNXb3JsZDMpOwojZW5kaWYKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCmZpbmFsV29ybGQ9d29ybGQqZmluYWxXb3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKZmluYWxQcmV2aW91c1dvcmxkPXByZXZpb3VzV29ybGQqZmluYWxQcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCm1hdDQgZmluYWxXb3JsZD13b3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbm9dPWFvO2NvbnN0IG9vPSJib25lc1ZlcnRleCIsaG89YCNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgaW5mbHVlbmNlOwojaWZkZWYgQk9ORVRFWFRVUkUKaW5mbHVlbmNlPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMF0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzFdKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMl0pKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1szXSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2Vsc2UKaW5mbHVlbmNlPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbmRpZgpmaW5hbFdvcmxkPWZpbmFsV29ybGQqaW5mbHVlbmNlOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvb109aG87Y29uc3QgbG89ImJha2VkVmVydGV4QW5pbWF0aW9uIixjbz1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp7CiNpZmRlZiBJTlNUQU5DRVMKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkCiNlbHNlCiNkZWZpbmUgQlZBU05BTUUgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncwojZW5kaWYKZmxvYXQgVkFUU3RhcnRGcmFtZT1CVkFTTkFNRS54OwpmbG9hdCBWQVRFbmRGcmFtZT1CVkFTTkFNRS55OwpmbG9hdCBWQVRPZmZzZXRGcmFtZT1CVkFTTkFNRS56OwpmbG9hdCBWQVRTcGVlZD1CVkFTTkFNRS53OwpmbG9hdCB0b3RhbEZyYW1lcz1WQVRFbmRGcmFtZS1WQVRTdGFydEZyYW1lKzEuMDsKZmxvYXQgdGltZT1iYWtlZFZlcnRleEFuaW1hdGlvblRpbWUqVkFUU3BlZWQvdG90YWxGcmFtZXM7CmZsb2F0IGZyYW1lQ29ycmVjdGlvbj10aW1lPDEuMCA/IDAuMCA6IDEuMDsKZmxvYXQgbnVtT2ZGcmFtZXM9dG90YWxGcmFtZXMtZnJhbWVDb3JyZWN0aW9uOwpmbG9hdCBWQVRGcmFtZU51bT1mcmFjdCh0aW1lKSpudW1PZkZyYW1lczsKVkFURnJhbWVOdW09bW9kKFZBVEZyYW1lTnVtK1ZBVE9mZnNldEZyYW1lLG51bU9mRnJhbWVzKTsKVkFURnJhbWVOdW09Zmxvb3IoVkFURnJhbWVOdW0pOwpWQVRGcmFtZU51bSs9VkFUU3RhcnRGcmFtZStmcmFtZUNvcnJlY3Rpb247Cm1hdDQgVkFUSW5mbHVlbmNlOwpWQVRJbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1sxXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1syXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1szXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsxXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCpWQVRJbmZsdWVuY2U7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsb109Y287Y29uc3QgdW89InNoYWRvd01hcFZlcnRleE5vcm1hbEJpYXMiLGZvPWAjaWYgU01fTk9STUFMQklBUz09MQojaWYgU01fRElSRUNUSU9OSU5MSUdIVERBVEE9PTEKdmVjMyB3b3JsZExpZ2h0RGlyU009bm9ybWFsaXplKC1saWdodERhdGFTTS54eXopOwojZWxzZQp2ZWMzIGRpcmVjdGlvblRvTGlnaHRTTT1saWdodERhdGFTTS54eXotd29ybGRQb3MueHl6Owp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodFNNKTsKI2VuZGlmCmZsb2F0IG5kbFNNPWRvdCh2Tm9ybWFsVyx3b3JsZExpZ2h0RGlyU00pOwpmbG9hdCBzaW5OTFNNPXNxcnQoMS4wLW5kbFNNKm5kbFNNKTsKZmxvYXQgbm9ybWFsQmlhc1NNPWJpYXNBbmRTY2FsZVNNLnkqc2luTkxTTTsKd29ybGRQb3MueHl6LT12Tm9ybWFsVypub3JtYWxCaWFzU007CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdW9dPWZvO2NvbnN0IF9vPSJzaGFkb3dNYXBWZXJ0ZXhNZXRyaWMiLGdvPWAjaWYgU01fVVNFRElTVEFOQ0U9PTEKdlBvc2l0aW9uV1NNPXdvcmxkUG9zLnh5ejsKI2VuZGlmCiNpZiBTTV9ERVBUSFRFWFRVUkU9PTEKI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIEJJQVNGQUNUT1IgMC41CiNlbHNlCiNkZWZpbmUgQklBU0ZBQ1RPUiAxLjAKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9Qb3NpdGlvbi56LT1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2Vsc2UKZ2xfUG9zaXRpb24ueis9Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQp6U009Z2xfUG9zaXRpb24uejsKZ2xfUG9zaXRpb24uej0wLjA7CiNlbGlmIFNNX1VTRURJU1RBTkNFPT0wCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWNTTT0oLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKdkRlcHRoTWV0cmljU009KGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbX29dPWdvO2NvbnN0IHBvPSJjbGlwUGxhbmVWZXJ0ZXgiLG1vPWAjaWZkZWYgQ0xJUFBMQU5FCmZDbGlwRGlzdGFuY2U9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZkNsaXBEaXN0YW5jZTI9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUyKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmZDbGlwRGlzdGFuY2UzPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lMyk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNApmQ2xpcERpc3RhbmNlND1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTQpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZkNsaXBEaXN0YW5jZTU9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU1KTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmZDbGlwRGlzdGFuY2U2PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNik7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcG9dPW1vO2NvbnN0IEVvPSJzaGFkb3dNYXBWZXJ0ZXhTaGFkZXIiLHZvPWBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fc2hhZG93TWFwVmVydGV4PgojaWZkZWYgQUxQSEFURVhUVVJFCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4RXh0cmFEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1Xb3JsZFNNPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdmVjMyB2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1Xb3JsZFNNWzBdLG5vcm1Xb3JsZFNNWzBdKSxkb3Qobm9ybVdvcmxkU01bMV0sbm9ybVdvcmxkU01bMV0pLGRvdChub3JtV29ybGRTTVsyXSxub3JtV29ybGRTTVsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybVdvcmxkU009dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtV29ybGRTTSkpOwojZW5kaWYKdmVjMyB2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcz4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleE1ldHJpYz4KI2lmZGVmIEFMUEhBVEVYVFVSRQojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+Cn1gO1UuU2hhZGVyc1N0b3JlW0VvXT12bztjb25zdCBUbz0iZGVwdGhCb3hCbHVyUGl4ZWxTaGFkZXIiLGJvPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemU7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzQgY29sb3JEZXB0aD12ZWM0KDAuMCk7CmZvciAoaW50IHg9LU9GRlNFVDsgeDw9T0ZGU0VUOyB4KyspCmZvciAoaW50IHk9LU9GRlNFVDsgeTw9T0ZGU0VUOyB5KyspCmNvbG9yRGVwdGgrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcix2VVYrdmVjMih4LHkpL3NjcmVlblNpemUpOwpnbF9GcmFnQ29sb3I9KGNvbG9yRGVwdGgvZmxvYXQoKE9GRlNFVCoyKzEpKihPRkZTRVQqMisxKSkpOwp9YDtVLlNoYWRlcnNTdG9yZVtUb109Ym87Y29uc3QgU289InNoYWRvd01hcEZyYWdtZW50U29mdFRyYW5zcGFyZW50U2hhZG93Iix4bz1gI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00qYWxwaGEpIGRpc2NhcmQ7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbU29dPXhvO2NsYXNzIEd7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IEYsdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPUcuRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1HLlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1wLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PXguWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9eC5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD14LklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHRoaXMuX2NhbWVyYT1zPz9udWxsO2xldCByPXQuX3NoYWRvd0dlbmVyYXRvcnM7cnx8KHI9dC5fc2hhZG93R2VuZXJhdG9ycz1uZXcgTWFwKSxyLnNldCh0aGlzLl9jYW1lcmEsdGhpcyksdGhpcy5pZD10LmlkLHRoaXMuX3VzZVVCTz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lVUJPcz1bXSx0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoYFNjZW5lIGZvciBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIpYCkpKSxHLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTtjb25zdCBuPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmdldENhcHMoKTtpP24udGV4dHVyZUZsb2F0UmVuZGVyJiZuLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0xOm4udGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmbi50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTI6dGhpcy5fdGV4dHVyZVR5cGU9MDpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOm4udGV4dHVyZUZsb2F0UmVuZGVyJiZuLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0xOnRoaXMuX3RleHR1cmVUeXBlPTAsdGhpcy5faW5pdGlhbGl6ZUdlbmVyYXRvcigpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCl9Z2V0IGJpYXMoKXtyZXR1cm4gdGhpcy5fYmlhc31zZXQgYmlhcyhlKXt0aGlzLl9iaWFzPWV9Z2V0IG5vcm1hbEJpYXMoKXtyZXR1cm4gdGhpcy5fbm9ybWFsQmlhc31zZXQgbm9ybWFsQmlhcyhlKXt0aGlzLl9ub3JtYWxCaWFzPWV9Z2V0IGJsdXJCb3hPZmZzZXQoKXtyZXR1cm4gdGhpcy5fYmx1ckJveE9mZnNldH1zZXQgYmx1ckJveE9mZnNldChlKXt0aGlzLl9ibHVyQm94T2Zmc2V0IT09ZSYmKHRoaXMuX2JsdXJCb3hPZmZzZXQ9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGJsdXJTY2FsZSgpe3JldHVybiB0aGlzLl9ibHVyU2NhbGV9c2V0IGJsdXJTY2FsZShlKXt0aGlzLl9ibHVyU2NhbGUhPT1lJiYodGhpcy5fYmx1clNjYWxlPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCBibHVyS2VybmVsKCl7cmV0dXJuIHRoaXMuX2JsdXJLZXJuZWx9c2V0IGJsdXJLZXJuZWwoZSl7dGhpcy5fYmx1cktlcm5lbCE9PWUmJih0aGlzLl9ibHVyS2VybmVsPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCB1c2VLZXJuZWxCbHVyKCl7cmV0dXJuIHRoaXMuX3VzZUtlcm5lbEJsdXJ9c2V0IHVzZUtlcm5lbEJsdXIoZSl7dGhpcy5fdXNlS2VybmVsQmx1ciE9PWUmJih0aGlzLl91c2VLZXJuZWxCbHVyPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCBkZXB0aFNjYWxlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU2NhbGUhPT12b2lkIDA/dGhpcy5fZGVwdGhTY2FsZTp0aGlzLl9saWdodC5nZXREZXB0aFNjYWxlKCl9c2V0IGRlcHRoU2NhbGUoZSl7dGhpcy5fZGVwdGhTY2FsZT1lfV92YWxpZGF0ZUZpbHRlcihlKXtyZXR1cm4gZX1nZXQgZmlsdGVyKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcn1zZXQgZmlsdGVyKGUpe2lmKGU9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoZSksdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl7aWYoZT09PUcuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09Ry5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApe3RoaXMudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09Ry5GSUxURVJfUENGfHxlPT09Ry5GSUxURVJfUENTUyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufX1pZigoZT09PUcuRklMVEVSX1BDRnx8ZT09PUcuRklMVEVSX1BDU1MpJiYhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLnN1cHBvcnRTaGFkb3dTYW1wbGVycyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufXRoaXMuX2ZpbHRlciE9PWUmJih0aGlzLl9maWx0ZXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCB1c2VQb2lzc29uU2FtcGxpbmcoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9QT0lTU09OU0FNUExJTkd9c2V0IHVzZVBvaXNzb25TYW1wbGluZyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX1BPSVNTT05TQU1QTElORyk7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfUE9JU1NPTlNBTVBMSU5HfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCB1c2VFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgdXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgdXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCB1c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgdXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZygpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX1BDRn1zZXQgdXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX1BDRik7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfUENGfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCBmaWx0ZXJpbmdRdWFsaXR5KCl7cmV0dXJuIHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHl9c2V0IGZpbHRlcmluZ1F1YWxpdHkoZSl7dGhpcy5fZmlsdGVyaW5nUXVhbGl0eSE9PWUmJih0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgdXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdygpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX1BDU1N9c2V0IHVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3coZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9QQ1NTKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9QQ1NTfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCBjb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbygpe3JldHVybiB0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpb31zZXQgY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8oZSl7dGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZX1nZXQgZGFya25lc3MoKXtyZXR1cm4gdGhpcy5fZGFya25lc3N9c2V0IGRhcmtuZXNzKGUpe3RoaXMuc2V0RGFya25lc3MoZSl9Z2V0RGFya25lc3MoKXtyZXR1cm4gdGhpcy5fZGFya25lc3N9c2V0RGFya25lc3MoZSl7cmV0dXJuIGU+PTE/dGhpcy5fZGFya25lc3M9MTplPD0wP3RoaXMuX2RhcmtuZXNzPTA6dGhpcy5fZGFya25lc3M9ZSx0aGlzfWdldCB0cmFuc3BhcmVuY3lTaGFkb3coKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93fXNldCB0cmFuc3BhcmVuY3lTaGFkb3coZSl7dGhpcy5zZXRUcmFuc3BhcmVuY3lTaGFkb3coZSl9c2V0VHJhbnNwYXJlbmN5U2hhZG93KGUpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3c9ZSx0aGlzfWdldFNoYWRvd01hcCgpe3JldHVybiB0aGlzLl9zaGFkb3dNYXB9Z2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcDI/dGhpcy5fc2hhZG93TWFwMjp0aGlzLl9zaGFkb3dNYXB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIEcuQ0xBU1NOQU1FfWFkZFNoYWRvd0Nhc3RlcihlLHQ9ITApe2lmKCF0aGlzLl9zaGFkb3dNYXApcmV0dXJuIHRoaXM7aWYodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSksdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGUpLHQpZm9yKGNvbnN0IGkgb2YgZS5nZXRDaGlsZE1lc2hlcygpKXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoaSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChpKTtyZXR1cm4gdGhpc31yZW1vdmVTaGFkb3dDYXN0ZXIoZSx0PSEwKXtpZighdGhpcy5fc2hhZG93TWFwfHwhdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpO2lmKGkhPT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Quc3BsaWNlKGksMSksdClmb3IoY29uc3QgcyBvZiBlLmdldENoaWxkcmVuKCkpdGhpcy5yZW1vdmVTaGFkb3dDYXN0ZXIocyk7cmV0dXJuIHRoaXN9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5fbGlnaHR9X2dldENhbWVyYSgpe3ZhciBlO3JldHVybihlPXRoaXMuX2NhbWVyYSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhfWdldCBtYXBTaXplKCl7cmV0dXJuIHRoaXMuX21hcFNpemV9c2V0IG1hcFNpemUoZSl7dGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfV9pbml0aWFsaXplR2VuZXJhdG9yKCl7dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9pbml0aWFsaXplU2hhZG93TWFwKCl9X2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2UuX2ZlYXR1cmVzLnN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlPyh0aGlzLl9zaGFkb3dNYXA9bmV3IF90KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAiLHRoaXMuX21hcFNpemUsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdGhpcy5fbGlnaHQubmVlZEN1YmUoKSx2b2lkIDAsITEsITEpLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApKTp0aGlzLl9zaGFkb3dNYXA9bmV3IF90KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAiLHRoaXMuX21hcFNpemUsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl9X2luaXRpYWxpemVTaGFkb3dNYXAoKXtpZih0aGlzLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlKCksdGhpcy5fc2hhZG93TWFwPT09bnVsbClyZXR1cm47dGhpcy5fc2hhZG93TWFwLndyYXBVPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9MSx0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uQklMSU5FQVJfU0FNUExJTkdNT0RFKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX3NoYWRvd01hcC5pZ25vcmVDYW1lcmFWaWV3cG9ydD0hMCx0aGlzLl9zdG9yZWRVbmlxdWVJZCYmKHRoaXMuX3NoYWRvd01hcC51bmlxdWVJZD10aGlzLl9zdG9yZWRVbmlxdWVJZCksdGhpcy5fc2hhZG93TWFwLmN1c3RvbVJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckZvclNoYWRvd01hcC5iaW5kKHRoaXMpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249KCk9PiEwO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHM7dGhpcy5fY3VycmVudFNjZW5lVUJPPXRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLChzPWUuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbChlLGBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgJHtlLmN1cnJlbnRSZW5kZXJQYXNzSWR9YCwxKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9zY2VuZVVCT3NbMF0pLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9cyx0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5fdmlld01hdHJpeCx0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBzLHI7aWYodGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fY3VycmVudFNjZW5lVUJPKSx0aGlzLl9zY2VuZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMCksIXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwJiYhdGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCl7KHM9ZS5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwoZSwxKTtyZXR1cm59Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpO24mJih0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzLG4ucmVuZGVyVGFyZ2V0LCEwKSxlLnVuQmluZEZyYW1lYnVmZmVyKG4ucmVuZGVyVGFyZ2V0LCEwKSwocj1lLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChlLDEpKX0pO2NvbnN0IHQ9bmV3IG1lKDAsMCwwLDApLGk9bmV3IG1lKDEsMSwxLDEpO3RoaXMuX3NoYWRvd01hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDRj9zLmNsZWFyKGksITEsITAsITEpOnRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP3MuY2xlYXIodCwhMCwhMCwhMSk6cy5jbGVhcihpLCEwLCEwLCExKX0pLHRoaXMuX3NoYWRvd01hcC5vblJlc2l6ZU9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zdG9yZWRVbmlxdWVJZD10aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQsdGhpcy5fbWFwU2l6ZT1zLmdldFJlbmRlclNpemUoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKX0pO2ZvcihsZXQgcz1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO3M8V2UuTUFYX1JFTkRFUklOR0dST1VQUztzKyspdGhpcy5fc2hhZG93TWFwLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChzLCExKX1faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX21hcFNpemUvdGhpcy5ibHVyU2NhbGU7KCF0aGlzLnVzZUtlcm5lbEJsdXJ8fHRoaXMuYmx1clNjYWxlIT09MSkmJih0aGlzLl9zaGFkb3dNYXAyPW5ldyBfdCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwMiIsdCx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx2b2lkIDAsdm9pZCAwLCExKSx0aGlzLl9zaGFkb3dNYXAyLndyYXBVPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi53cmFwVj1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIudXBkYXRlU2FtcGxpbmdNb2RlKE4uQklMSU5FQVJfU0FNUExJTkdNT0RFKSksdGhpcy51c2VLZXJuZWxCbHVyPyh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzPW5ldyBKdCh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWCIsbmV3IHZlKDEsMCksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLndpZHRoPXQsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5oZWlnaHQ9dCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGk9PntpLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0aGlzLl9zaGFkb3dNYXApfSksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1uZXcgSnQodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clkiLG5ldyB2ZSgwLDEpLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsTi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgTWUodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsTi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSwiI2RlZmluZSBPRkZTRVQgIit0aGlzLl9ibHVyQm94T2Zmc2V0LHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChpPT57aS5zZXRGbG9hdDIoInNjcmVlblNpemUiLHQsdCksaS5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdGhpcy5fc2hhZG93TWFwKX0pLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2JveEJsdXJQb3N0cHJvY2Vzc10pfV9yZW5kZXJGb3JTaGFkb3dNYXAoZSx0LGkscyl7bGV0IHI7aWYocy5sZW5ndGgpZm9yKHI9MDtyPHMubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHMuZGF0YVtyXSk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUuZGF0YVtyXSk7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHQuZGF0YVtyXSk7aWYodGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93KWZvcihyPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChpLmRhdGFbcl0sITApO2Vsc2UgZm9yKHI9MDtyPGkubGVuZ3RoO3IrKylpLmRhdGFbcl0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0LGkpe3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSl9X3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0PSExKXt2YXIgaSxzO2NvbnN0IHI9ZS5nZXRSZW5kZXJpbmdNZXNoKCksbj1lLmdldEVmZmVjdGl2ZU1lc2goKSxhPXRoaXMuX3NjZW5lLG89YS5nZXRFbmdpbmUoKSxoPWUuZ2V0TWF0ZXJpYWwoKTtpZihuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhaHx8ZS52ZXJ0aWNlc0NvdW50PT09MHx8ZS5fcmVuZGVySWQ9PT1hLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IGw9bi5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IHU9KGk9ci5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmkhPT12b2lkIDA/aTpoLnNpZGVPcmllbnRhdGlvbjtsJiYodT11PT09MD8xOjApO2NvbnN0IGQ9dT09PTA7by5zZXRTdGF0ZShoLmJhY2tGYWNlQ3VsbGluZyx2b2lkIDAsdm9pZCAwLGQsaC5jdWxsQmFja0ZhY2VzKTtjb25zdCBmPXIuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFlLmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZihmLm11c3RSZXR1cm4pcmV0dXJuO2NvbnN0IF89by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoZi52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PW51bGwmJmYudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0hPT12b2lkIDB8fHIuaGFzVGhpbkluc3RhbmNlcyk7aWYoISh0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nJiYhdGhpcy5jdXN0b21BbGxvd1JlbmRlcmluZyhlKSkpaWYodGhpcy5pc1JlYWR5KGUsXyx0KSl7ZS5fcmVuZGVySWQ9YS5nZXRSZW5kZXJJZCgpO2NvbnN0IEU9aC5zaGFkb3dEZXB0aFdyYXBwZXIsbT0ocz1FPT1udWxsP3ZvaWQgMDpFLmdldEVmZmVjdChlLHRoaXMsby5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5fZ2V0RHJhd1dyYXBwZXIoKSx2PW1pLkdldEVmZmVjdChtKTtvLmVuYWJsZUVmZmVjdChtKSxffHxyLl9iaW5kKGUsdixoLmZpbGxNb2RlKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLHYuc2V0RmxvYXQzKCJiaWFzQW5kU2NhbGVTTSIsdGhpcy5iaWFzLHRoaXMubm9ybWFsQmlhcyx0aGlzLmRlcHRoU2NhbGUpLHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PWhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/di5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkRGlyZWN0aW9uKTp2LnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWRQb3NpdGlvbik7Y29uc3QgUz10aGlzLl9nZXRDYW1lcmEoKTtpZihTJiZ2LnNldEZsb2F0MigiZGVwdGhWYWx1ZXNTTSIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihTKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKFMpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFooUykpLHQmJnRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZ2LnNldEZsb2F0KCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIsbi52aXNpYmlsaXR5KmguYWxwaGEpLEUpZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobSksRS5zdGFuZGFsb25lP0UuYmFzZU1hdGVyaWFsLmJpbmRGb3JTdWJNZXNoKG4uZ2V0V29ybGRNYXRyaXgoKSxyLGUpOmguYmluZEZvclN1Yk1lc2gobi5nZXRXb3JsZE1hdHJpeCgpLHIsZSksZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobnVsbCk7ZWxzZXtpZih0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3cpe2NvbnN0IEE9aC5vcGFjaXR5VGV4dHVyZTtBJiYodi5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsQSksdi5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLEEuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWVsc2UgaWYoaC5uZWVkQWxwaGFUZXN0aW5nKCl8fGgubmVlZEFscGhhQmxlbmRpbmcoKSl7Y29uc3QgQT1oLmdldEFscGhhVGVzdFRleHR1cmUoKTtBJiYodi5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsQSksdi5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLEEuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWlmKHIudXNlQm9uZXMmJnIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZyLnNrZWxldG9uKXtjb25zdCBBPXIuc2tlbGV0b247aWYoQS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXtjb25zdCBDPUEuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShyKTtpZighQylyZXR1cm47di5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsQyksdi5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCooQS5ib25lcy5sZW5ndGgrMSkpfWVsc2Ugdi5zZXRNYXRyaWNlcygibUJvbmVzIixBLmdldFRyYW5zZm9ybU1hdHJpY2VzKHIpKX1pZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKHIsdiksci5tb3JwaFRhcmdldE1hbmFnZXImJnIubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmci5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQodikscnModixoLGEpfSF0aGlzLl91c2VVQk8mJiFFJiZ0aGlzLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHYsbiksaWUuQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcih2LHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpKSx0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS5iaW5kVW5pZm9ybUJ1ZmZlcigpO2NvbnN0IHk9bi5nZXRXb3JsZE1hdHJpeCgpO18mJihuLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxuLnRyYW5zZmVyVG9FZmZlY3QoeSkpLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZvLnNldFN0YXRlKCEwLDAsITEsITAsaC5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh2KSxyLl9wcm9jZXNzUmVuZGVyaW5nKG4sZSx2LGguZmlsbE1vZGUsZixfLChBLEMpPT57biE9PXImJiFBPyhyLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxyLnRyYW5zZmVyVG9FZmZlY3QoQykpOihuLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxuLnRyYW5zZmVyVG9FZmZlY3QoQT9DOnkpKX0pLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZvLnNldFN0YXRlKCEwLDAsITEsITEsaC5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh2KSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9ZWxzZSB0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZXNldFJlZnJlc2hDb3VudGVyKCl9X2FwcGx5RmlsdGVyVmFsdWVzKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9OT05FfHx0aGlzLmZpbHRlcj09PUcuRklMVEVSX1BDU1M/dGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShOLk5FQVJFU1RfU0FNUExJTkdNT0RFKTp0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uQklMSU5FQVJfU0FNUExJTkdNT0RFKSl9Zm9yY2VDb21waWxhdGlvbihlLHQpe2NvbnN0IGk9e3VzZUluc3RhbmNlczohMSwuLi50fSxzPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXMpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IHI9cy5yZW5kZXJMaXN0O2lmKCFyKXtlJiZlKHRoaXMpO3JldHVybn1jb25zdCBuPW5ldyBBcnJheTtmb3IoY29uc3QgaCBvZiByKW4ucHVzaCguLi5oLnN1Yk1lc2hlcyk7aWYobi5sZW5ndGg9PT0wKXtlJiZlKHRoaXMpO3JldHVybn1sZXQgYT0wO2NvbnN0IG89KCk9Pnt2YXIgaCxsO2lmKCEoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpKXtmb3IoO3RoaXMuaXNSZWFkeShuW2FdLGkudXNlSW5zdGFuY2VzLChsPShoPW5bYV0uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChuW2FdLmdldE1lc2goKSkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiExKTspaWYoYSsrLGE+PW4ubGVuZ3RoKXtlJiZlKHRoaXMpO3JldHVybn1zZXRUaW1lb3V0KG8sMTYpfX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZm9yY2VDb21waWxhdGlvbigoKT0+e3QoKX0sZSl9KX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSx0LGkpe31fcHJlcGFyZVNoYWRvd0RlZmluZXMoZSx0LGkscyl7aS5wdXNoKCIjZGVmaW5lIFNNX0xJR0hUVFlQRV8iK3RoaXMuX2xpZ2h0LmdldENsYXNzTmFtZSgpLnRvVXBwZXJDYXNlKCkpLGkucHVzaCgiI2RlZmluZSBTTV9GTE9BVCAiKyh0aGlzLl90ZXh0dXJlVHlwZSE9PTA/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9FU00gIisodGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9ERVBUSFRFWFRVUkUgIisodGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nfHx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/IjEiOiIwIikpO2NvbnN0IHI9ZS5nZXRNZXNoKCk7cmV0dXJuIGkucHVzaCgiI2RlZmluZSBTTV9OT1JNQUxCSUFTICIrKHRoaXMubm9ybWFsQmlhcyYmci5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKT8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RJUkVDVElPTklOTElHSFREQVRBICIrKHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PWhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9VU0VESVNUQU5DRSAiKyh0aGlzLl9saWdodC5uZWVkQ3ViZSgpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XICIrKHRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZzPyIxIjoiMCIpKSx0aGlzLl9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhpLGUsdCksaX1pc1JlYWR5KGUsdCxpKXt2YXIgcztjb25zdCByPWUuZ2V0TWF0ZXJpYWwoKSxuPXI9PW51bGw/dm9pZCAwOnIuc2hhZG93RGVwdGhXcmFwcGVyO2lmKCFyKXJldHVybiExO2NvbnN0IGE9W107aWYodGhpcy5fcHJlcGFyZVNoYWRvd0RlZmluZXMoZSx0LGEsaSksbil7aWYoIW4uaXNSZWFkeUZvclN1Yk1lc2goZSxhLHRoaXMsdCx0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jdXJyZW50UmVuZGVyUGFzc0lkKSlyZXR1cm4hMX1lbHNle2NvbnN0IG89ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKTtsZXQgaD1vLmVmZmVjdCxsPW8uZGVmaW5lcztjb25zdCB1PVtnLlBvc2l0aW9uS2luZF0sZD1lLmdldE1lc2goKTt0aGlzLm5vcm1hbEJpYXMmJmQuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkmJih1LnB1c2goZy5Ob3JtYWxLaW5kKSxhLnB1c2goIiNkZWZpbmUgTk9STUFMIiksZC5ub25Vbmlmb3JtU2NhbGluZyYmYS5wdXNoKCIjZGVmaW5lIE5PTlVOSUZPUk1TQ0FMSU5HIikpO2NvbnN0IGY9cj09bnVsbD92b2lkIDA6ci5uZWVkQWxwaGFUZXN0aW5nKCksXz1yPT1udWxsP3ZvaWQgMDpyLm5lZWRBbHBoYUJsZW5kaW5nKCk7aWYociYmKGZ8fF8pKXtsZXQgeT1udWxsO2lmKHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdz95PXIub3BhY2l0eVRleHR1cmU6eT1yLmdldEFscGhhVGVzdFRleHR1cmUoKSx5KXtpZigheS5pc1JlYWR5KCkpcmV0dXJuITE7Y29uc3QgQT0ocz1yLmFscGhhQ3V0T2ZmKSE9PW51bGwmJnMhPT12b2lkIDA/czpHLkRFRkFVTFRfQUxQSEFfQ1VUT0ZGO2EucHVzaCgiI2RlZmluZSBBTFBIQVRFWFRVUkUiKSxmJiZhLnB1c2goYCNkZWZpbmUgQUxQSEFURVNUVkFMVUUgJHtBfSR7QSUxPT09MD8iLiI6IiJ9YCksZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpJiYodS5wdXNoKGcuVVZLaW5kKSxhLnB1c2goIiNkZWZpbmUgVVYxIikpLGQuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYyS2luZCkmJnkuY29vcmRpbmF0ZXNJbmRleD09PTEmJih1LnB1c2goZy5VVjJLaW5kKSxhLnB1c2goIiNkZWZpbmUgVVYyIikpfX1jb25zdCBFPW5ldyB6cztpZihkLnVzZUJvbmVzJiZkLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZC5za2VsZXRvbil7dS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksdS5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCksZC5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKHUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksdS5wdXNoKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSk7Y29uc3QgeT1kLnNrZWxldG9uO2EucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK2QubnVtQm9uZUluZmx1ZW5jZXJzKSxkLm51bUJvbmVJbmZsdWVuY2Vycz4wJiZFLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCxkKSx5LmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXM/YS5wdXNoKCIjZGVmaW5lIEJPTkVURVhUVVJFIik6YS5wdXNoKCIjZGVmaW5lIEJvbmVzUGVyTWVzaCAiKyh5LmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSBhLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpO2NvbnN0IG09ZC5tb3JwaFRhcmdldE1hbmFnZXI7bGV0IHY9MDtpZihtJiZtLm51bUluZmx1ZW5jZXJzPjAmJihhLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTIiksdj1tLm51bUluZmx1ZW5jZXJzLGEucHVzaCgiI2RlZmluZSBOVU1fTU9SUEhfSU5GTFVFTkNFUlMgIit2KSxtLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmYS5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIiksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2Vycyh1LGQsdikpLE9zKHIsdGhpcy5fc2NlbmUsYSksdCYmKGEucHVzaCgiI2RlZmluZSBJTlNUQU5DRVMiKSxpZS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyh1KSxlLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzJiZhLnB1c2goIiNkZWZpbmUgVEhJTl9JTlNUQU5DRVMiKSksdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zJiZ0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuZGVmaW5lcylmb3IoY29uc3QgeSBvZiB0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuZGVmaW5lcylhLmluZGV4T2YoeSk9PT0tMSYmYS5wdXNoKHkpO2NvbnN0IFM9YS5qb2luKGAKYCk7aWYobCE9PVMpe2w9UztsZXQgeT0ic2hhZG93TWFwIjtjb25zdCBBPVsid29ybGQiLCJtQm9uZXMiLCJ2aWV3UHJvamVjdGlvbiIsImRpZmZ1c2VNYXRyaXgiLCJsaWdodERhdGFTTSIsImRlcHRoVmFsdWVzU00iLCJiaWFzQW5kU2NhbGVTTSIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsImJvbmVUZXh0dXJlV2lkdGgiLCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl0sQz1bImRpZmZ1c2VTYW1wbGVyIiwiYm9uZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiXSxiPVsiU2NlbmUiLCJNZXNoIl07aWYoc3MoQSksdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zKXtpZih5PXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zaGFkZXJOYW1lLHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5hdHRyaWJ1dGVzKWZvcihjb25zdCBMIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5hdHRyaWJ1dGVzKXUuaW5kZXhPZihMKT09PS0xJiZ1LnB1c2goTCk7aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKWZvcihjb25zdCBMIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy51bmlmb3JtcylBLmluZGV4T2YoTCk9PT0tMSYmQS5wdXNoKEwpO2lmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycylmb3IoY29uc3QgTCBvZiB0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2FtcGxlcnMpQy5pbmRleE9mKEwpPT09LTEmJkMucHVzaChMKX1jb25zdCBNPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2g9TS5jcmVhdGVFZmZlY3QoeSx7YXR0cmlidXRlczp1LHVuaWZvcm1zTmFtZXM6QSx1bmlmb3JtQnVmZmVyc05hbWVzOmIsc2FtcGxlcnM6QyxkZWZpbmVzOlMsZmFsbGJhY2tzOkUsb25Db21waWxlZDpudWxsLG9uRXJyb3I6bnVsbCxpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czp2fX0sTSksby5zZXRFZmZlY3QoaCxsKX1pZighaC5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuKHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKCF0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlc3x8IXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzLmxlbmd0aCkmJnRoaXMuX2luaXRpYWxpemVCbHVyUlRUQW5kUG9zdFByb2Nlc3NlcygpLCEodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmIXRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuaXNSZWFkeSgpfHx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2JveEJsdXJQb3N0cHJvY2VzcyYmIXRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5pc1JlYWR5KCkpfXByZXBhcmVEZWZpbmVzKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZSxzPXRoaXMuX2xpZ2h0OyFpLnNoYWRvd3NFbmFibGVkfHwhcy5zaGFkb3dFbmFibGVkfHwoZVsiU0hBRE9XIit0XT0hMCx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/KGVbIlNIQURPV1BDU1MiK3RdPSEwLHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1HLlFVQUxJVFlfTE9XP2VbIlNIQURPV0xPV1FVQUxJVFkiK3RdPSEwOnRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1HLlFVQUxJVFlfTUVESVVNJiYoZVsiU0hBRE9XTUVESVVNUVVBTElUWSIrdF09ITApKTp0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc/KGVbIlNIQURPV1BDRiIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUcuUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUcuUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUG9pc3NvblNhbXBsaW5nP2VbIlNIQURPV1BPSVNTT04iK3RdPSEwOnRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP2VbIlNIQURPV0VTTSIrdF09ITA6KHRoaXMudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCkmJihlWyJTSEFET1dDTE9TRUVTTSIrdF09ITApLHMubmVlZEN1YmUoKSYmKGVbIlNIQURPV0NVQkUiK3RdPSEwKSl9YmluZFNoYWRvd0xpZ2h0KGUsdCl7Y29uc3QgaT10aGlzLl9saWdodDtpZighdGhpcy5fc2NlbmUuc2hhZG93c0VuYWJsZWR8fCFpLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIXIpcmV0dXJuO2NvbnN0IG49dGhpcy5nZXRTaGFkb3dNYXAoKTtuJiYoaS5uZWVkQ3ViZSgpfHx0LnNldE1hdHJpeCgibGlnaHRNYXRyaXgiK2UsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksdGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENGPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksbi5nZXRTaXplKCkud2lkdGgsMS9uLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6dGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENTUz8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qbi5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOih0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdGhpcy5ibHVyU2NhbGUvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5kZXB0aFNjYWxlLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloociksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKHIpLGUpKX1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtjb25zdCBlPXRoaXMuX3NjZW5lO2lmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PWUuZ2V0UmVuZGVySWQoKSYmdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPT09dGhpcy5fY3VycmVudEZhY2VJbmRleClyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4O3RoaXMuX2N1cnJlbnRSZW5kZXJJZD1lLmdldFJlbmRlcklkKCksdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPXRoaXMuX2N1cnJlbnRGYWNlSW5kZXg7bGV0IHQ9dGhpcy5fbGlnaHQucG9zaXRpb247aWYodGhpcy5fbGlnaHQuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKSYmKHQ9dGhpcy5fbGlnaHQudHJhbnNmb3JtZWRQb3NpdGlvbikscC5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24odGhpcy5fY3VycmVudEZhY2VJbmRleCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKHAuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLHAuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2xpZ2h0Lm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfHwhdGhpcy5fY2FjaGVkUG9zaXRpb258fCF0aGlzLl9jYWNoZWREaXJlY3Rpb258fCF0LmVxdWFscyh0aGlzLl9jYWNoZWRQb3NpdGlvbil8fCF0aGlzLl9saWdodERpcmVjdGlvbi5lcXVhbHModGhpcy5fY2FjaGVkRGlyZWN0aW9uKSl7dGhpcy5fY2FjaGVkUG9zaXRpb24uY29weUZyb20odCksdGhpcy5fY2FjaGVkRGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSx4Lkxvb2tBdExIVG9SZWYodCx0LmFkZCh0aGlzLl9saWdodERpcmVjdGlvbikscC5VcCgpLHRoaXMuX3ZpZXdNYXRyaXgpO2NvbnN0IGk9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZihpKXtjb25zdCBzPWkucmVuZGVyTGlzdDtzJiZ0aGlzLl9saWdodC5zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdmlld01hdHJpeCxzKX10aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpfXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9cmVjcmVhdGVTaGFkb3dNYXAoKXtjb25zdCBlPXRoaXMuX3NoYWRvd01hcDtpZighZSlyZXR1cm47Y29uc3QgdD1lLnJlbmRlckxpc3Q7aWYodGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5maWx0ZXI9dGhpcy5fZmlsdGVyLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdCl7dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSk7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGkpfWVsc2UgdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9bnVsbH1fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl7dGhpcy5fc2hhZG93TWFwMiYmKHRoaXMuX3NoYWRvd01hcDIuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcDI9bnVsbCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W119X2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5fc2hhZG93TWFwLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dNYXA9bnVsbCksdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl9X2Rpc3Bvc2VTY2VuZVVCT3MoKXtpZih0aGlzLl9zY2VuZVVCT3Mpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3NjZW5lVUJPcyllLmRpc3Bvc2UoKTt0aGlzLl9zY2VuZVVCT3M9W119fWRpc3Bvc2UoKXtpZih0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9saWdodCl7aWYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMpe2NvbnN0IGU9dGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMuZW50cmllcygpO2ZvcihsZXQgdD1lLm5leHQoKTt0LmRvbmUhPT0hMDt0PWUubmV4dCgpKXtjb25zdFtpLHNdPXQudmFsdWU7cz09PXRoaXMmJnRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzLmRlbGV0ZShpKX10aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycy5zaXplPT09MCYmKHRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzPW51bGwpfXRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGUuY2xlYXIoKX1zZXJpYWxpemUoKXt2YXIgZTtjb25zdCB0PXt9LGk9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighaSlyZXR1cm4gdDtpZih0LmNsYXNzTmFtZT10aGlzLmdldENsYXNzTmFtZSgpLHQubGlnaHRJZD10aGlzLl9saWdodC5pZCx0LmNhbWVyYUlkPShlPXRoaXMuX2NhbWVyYSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmlkLHQuaWQ9dGhpcy5pZCx0Lm1hcFNpemU9aS5nZXRSZW5kZXJTaXplKCksdC5mb3JjZUJhY2tGYWNlc09ubHk9dGhpcy5mb3JjZUJhY2tGYWNlc09ubHksdC5kYXJrbmVzcz10aGlzLmdldERhcmtuZXNzKCksdC50cmFuc3BhcmVuY3lTaGFkb3c9dGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93LHQuZnJ1c3R1bUVkZ2VGYWxsb2ZmPXRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLHQuYmlhcz10aGlzLmJpYXMsdC5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyx0LnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nLHQudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz10aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3csdC5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz10aGlzLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvLHQuZmlsdGVyaW5nUXVhbGl0eT10aGlzLmZpbHRlcmluZ1F1YWxpdHksdC51c2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCx0LnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlUG9pc3NvblNhbXBsaW5nPXRoaXMudXNlUG9pc3NvblNhbXBsaW5nLHQuZGVwdGhTY2FsZT10aGlzLmRlcHRoU2NhbGUsdC5ibHVyQm94T2Zmc2V0PXRoaXMuYmx1ckJveE9mZnNldCx0LmJsdXJLZXJuZWw9dGhpcy5ibHVyS2VybmVsLHQuYmx1clNjYWxlPXRoaXMuYmx1clNjYWxlLHQudXNlS2VybmVsQmx1cj10aGlzLnVzZUtlcm5lbEJsdXIsdC5yZW5kZXJMaXN0PVtdLGkucmVuZGVyTGlzdClmb3IobGV0IHM9MDtzPGkucmVuZGVyTGlzdC5sZW5ndGg7cysrKXtjb25zdCByPWkucmVuZGVyTGlzdFtzXTt0LnJlbmRlckxpc3QucHVzaChyLmlkKX1yZXR1cm4gdH1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9dC5nZXRMaWdodEJ5SWQoZS5saWdodElkKSxyPWUuY2FtZXJhSWQhPT12b2lkIDA/dC5nZXRDYW1lcmFCeUlkKGUuY2FtZXJhSWQpOm51bGwsbj1pP2koZS5tYXBTaXplLHMscik6bmV3IEcoZS5tYXBTaXplLHMsdm9pZCAwLHIpLGE9bi5nZXRTaGFkb3dNYXAoKTtmb3IobGV0IG89MDtvPGUucmVuZGVyTGlzdC5sZW5ndGg7bysrKXQuZ2V0TWVzaGVzQnlJZChlLnJlbmRlckxpc3Rbb10pLmZvckVhY2goZnVuY3Rpb24obCl7YSYmKGEucmVuZGVyTGlzdHx8KGEucmVuZGVyTGlzdD1bXSksYS5yZW5kZXJMaXN0LnB1c2gobCkpfSk7cmV0dXJuIGUuaWQhPT12b2lkIDAmJihuLmlkPWUuaWQpLG4uZm9yY2VCYWNrRmFjZXNPbmx5PSEhZS5mb3JjZUJhY2tGYWNlc09ubHksZS5kYXJrbmVzcyE9PXZvaWQgMCYmbi5zZXREYXJrbmVzcyhlLmRhcmtuZXNzKSxlLnRyYW5zcGFyZW5jeVNoYWRvdyYmbi5zZXRUcmFuc3BhcmVuY3lTaGFkb3coITApLGUuZnJ1c3R1bUVkZ2VGYWxsb2ZmIT09dm9pZCAwJiYobi5mcnVzdHVtRWRnZUZhbGxvZmY9ZS5mcnVzdHVtRWRnZUZhbGxvZmYpLGUuYmlhcyE9PXZvaWQgMCYmKG4uYmlhcz1lLmJpYXMpLGUubm9ybWFsQmlhcyE9PXZvaWQgMCYmKG4ubm9ybWFsQmlhcz1lLm5vcm1hbEJpYXMpLGUudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz9uLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITA6ZS51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93P24udXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz0hMDplLnVzZVBvaXNzb25TYW1wbGluZz9uLnVzZVBvaXNzb25TYW1wbGluZz0hMDplLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwP24udXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwP24udXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwP24udXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VWYXJpYW5jZVNoYWRvd01hcD9uLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1clZhcmlhbmNlU2hhZG93TWFwJiYobi51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9ITApLGUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8hPT12b2lkIDAmJihuLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPWUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8pLGUuZmlsdGVyaW5nUXVhbGl0eSE9PXZvaWQgMCYmKG4uZmlsdGVyaW5nUXVhbGl0eT1lLmZpbHRlcmluZ1F1YWxpdHkpLGUuZGVwdGhTY2FsZSYmKG4uZGVwdGhTY2FsZT1lLmRlcHRoU2NhbGUpLGUuYmx1clNjYWxlJiYobi5ibHVyU2NhbGU9ZS5ibHVyU2NhbGUpLGUuYmx1ckJveE9mZnNldCYmKG4uYmx1ckJveE9mZnNldD1lLmJsdXJCb3hPZmZzZXQpLGUudXNlS2VybmVsQmx1ciYmKG4udXNlS2VybmVsQmx1cj1lLnVzZUtlcm5lbEJsdXIpLGUuYmx1cktlcm5lbCYmKG4uYmx1cktlcm5lbD1lLmJsdXJLZXJuZWwpLG59fUcuQ0xBU1NOQU1FPSJTaGFkb3dHZW5lcmF0b3IiLEcuRklMVEVSX05PTkU9MCxHLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUD0xLEcuRklMVEVSX1BPSVNTT05TQU1QTElORz0yLEcuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUD0zLEcuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVA9NCxHLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD01LEcuRklMVEVSX1BDRj02LEcuRklMVEVSX1BDU1M9NyxHLlFVQUxJVFlfSElHSD0wLEcuUVVBTElUWV9NRURJVU09MSxHLlFVQUxJVFlfTE9XPTIsRy5ERUZBVUxUX0FMUEhBX0NVVE9GRj0uNSxHLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9Pnt0aHJvdyAkKCJTaGFkb3dHZW5lcmF0b3JTY2VuZUNvbXBvbmVudCIpfTtjb25zdCBNbz0iZGVwdGhQaXhlbFNoYWRlciIsQW89YCNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpYzsKI2lmZGVmIFBBQ0tFRAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CiNpZmRlZiBBTFBIQVRFU1QKaWYgKHRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2VVYpLmE8MC40KQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIE5PTkxJTkVBUkRFUFRICiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2soZ2xfRnJhZ0Nvb3JkLnopOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNChnbF9GcmFnQ29vcmQueiwwLjAsMC4wLDAuMCk7CiNlbmRpZgojZWxzZQojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKHZEZXB0aE1ldHJpYyk7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KHZEZXB0aE1ldHJpYywwLjAsMC4wLDEuMCk7CiNlbmRpZgojZW5kaWYKfWA7VS5TaGFkZXJzU3RvcmVbTW9dPUFvO2NvbnN0IFJvPSJpbnN0YW5jZXNEZWNsYXJhdGlvbiIseW89YCNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgd29ybGQwOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMjsKYXR0cmlidXRlIHZlYzQgd29ybGQzOwojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKSAmJiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQwOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMTsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQzOwojaWZkZWYgVEhJTl9JTlNUQU5DRVMKdW5pZm9ybSBtYXQ0IHByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKdW5pZm9ybSBtYXQ0IHByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1JvXT15bztjb25zdCBDbz0iZGVwdGhWZXJ0ZXhTaGFkZXIiLElvPWBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uPlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXM7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgfHwgZGVmaW5lZChORUVEX1VWKQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpZmRlZiBVVjIKYXR0cmlidXRlIHZlYzIgdXYyOwojZW5kaWYKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWM9KCgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZWxzZQp2RGVwdGhNZXRyaWM9KChnbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KSk7CiNlbmRpZgojaWYgZGVmaW5lZChBTFBIQVRFU1QpIHx8IGRlZmluZWQoQkFTSUNfUkVOREVSKQojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgp9CmA7VS5TaGFkZXJzU3RvcmVbQ29dPUlvO2NsYXNzIGFze2NvbnN0cnVjdG9yKGUsdD0xLGk9bnVsbCxzPSExLHI9Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFKXt0aGlzLmVuYWJsZWQ9ITAsdGhpcy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcz0hMSx0aGlzLnVzZU9ubHlJbkFjdGl2ZUNhbWVyYT0hMSx0aGlzLl9zY2VuZT1lLHRoaXMuX3N0b3JlTm9uTGluZWFyRGVwdGg9cyx0aGlzLmlzUGFja2VkPXQ9PT0wLHRoaXMuaXNQYWNrZWQ/dGhpcy5fY2xlYXJDb2xvcj1uZXcgbWUoMSwxLDEsMSk6dGhpcy5fY2xlYXJDb2xvcj1uZXcgbWUoMSwwLDAsMSksYXMuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb24odGhpcy5fc2NlbmUpO2NvbnN0IG49ZS5nZXRFbmdpbmUoKTt0aGlzLl9jYW1lcmE9aSxyIT09Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKHQ9PT0xJiYhbi5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmcmJihyPU4uTkVBUkVTVF9TQU1QTElOR01PREUpLHQ9PT0yJiYhbi5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nJiYocj1OLk5FQVJFU1RfU0FNUExJTkdNT0RFKSk7Y29uc3QgYT10aGlzLmlzUGFja2VkfHwhbi5fZmVhdHVyZXMuc3VwcG9ydEV4dGVuZGVkVGV4dHVyZUZvcm1hdHM/NTo2O3RoaXMuX2RlcHRoTWFwPW5ldyBfdCgiRGVwdGhSZW5kZXJlciIse3dpZHRoOm4uZ2V0UmVuZGVyV2lkdGgoKSxoZWlnaHQ6bi5nZXRSZW5kZXJIZWlnaHQoKX0sdGhpcy5fc2NlbmUsITEsITAsdCwhMSxyLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEpLHRoaXMuX2RlcHRoTWFwLndyYXBVPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAud3JhcFY9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9kZXB0aE1hcC5yZWZyZXNoUmF0ZT0xLHRoaXMuX2RlcHRoTWFwLnJlbmRlclBhcnRpY2xlcz0hMSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJMaXN0PW51bGwsdGhpcy5fZGVwdGhNYXAuYWN0aXZlQ2FtZXJhPXRoaXMuX2NhbWVyYSx0aGlzLl9kZXB0aE1hcC5pZ25vcmVDYW1lcmFWaWV3cG9ydD0hMCx0aGlzLl9kZXB0aE1hcC51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzPSExLHRoaXMuX2RlcHRoTWFwLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChoPT57aC5jbGVhcih0aGlzLl9jbGVhckNvbG9yLCEwLCEwLCEwKX0pLHRoaXMuX2RlcHRoTWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIGg7KGg9bi5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8aD09PXZvaWQgMHx8aC5jYWxsKG4sImRlcHRoIHJlbmRlcmVyIiwxKX0pLHRoaXMuX2RlcHRoTWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBoOyhoPW4uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8aD09PXZvaWQgMHx8aC5jYWxsKG4sMSl9KSx0aGlzLl9kZXB0aE1hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249KGgsbCx1KT0+e2lmKCh1fHxsPT09MCkmJmguc3ViTWVzaGVzKWZvcihsZXQgZD0wO2Q8aC5zdWJNZXNoZXMubGVuZ3RoOysrZCl7Y29uc3QgZj1oLnN1Yk1lc2hlc1tkXSxfPWYuZ2V0UmVuZGVyaW5nTWVzaCgpLEU9Xy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChmLl9pZCwhIWYuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpLG09bi5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoRS52aXNpYmxlSW5zdGFuY2VzW2YuX2lkXSE9PW51bGwmJkUudmlzaWJsZUluc3RhbmNlc1tmLl9pZF0hPT12b2lkIDB8fF8uaGFzVGhpbkluc3RhbmNlcyk7aWYoIXRoaXMuaXNSZWFkeShmLG0pKXJldHVybiExfXJldHVybiEwfTtjb25zdCBvPWg9Pnt2YXIgbCx1O2NvbnN0IGQ9aC5nZXRSZW5kZXJpbmdNZXNoKCksZj1oLmdldEVmZmVjdGl2ZU1lc2goKSxfPXRoaXMuX3NjZW5lLEU9Xy5nZXRFbmdpbmUoKSxtPWguZ2V0TWF0ZXJpYWwoKTtpZihmLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhbXx8Zi5pbmZpbml0ZURpc3RhbmNlfHxtLmRpc2FibGVEZXB0aFdyaXRlfHxoLnZlcnRpY2VzQ291bnQ9PT0wfHxoLl9yZW5kZXJJZD09PV8uZ2V0UmVuZGVySWQoKSlyZXR1cm47Y29uc3Qgdj1mLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk8MDtsZXQgUz0obD1kLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmbCE9PXZvaWQgMD9sOm0uc2lkZU9yaWVudGF0aW9uO3YmJihTPVM9PT0wPzE6MCk7Y29uc3QgeT1TPT09MDtFLnNldFN0YXRlKG0uYmFja0ZhY2VDdWxsaW5nLDAsITEseSxtLmN1bGxCYWNrRmFjZXMpO2NvbnN0IEE9ZC5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChoLl9pZCwhIWguZ2V0UmVwbGFjZW1lbnRNZXNoKCkpO2lmKEEubXVzdFJldHVybilyZXR1cm47Y29uc3QgQz1FLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihBLnZpc2libGVJbnN0YW5jZXNbaC5faWRdIT09bnVsbCYmQS52aXNpYmxlSW5zdGFuY2VzW2guX2lkXSE9PXZvaWQgMHx8ZC5oYXNUaGluSW5zdGFuY2VzKSxiPXRoaXMuX2NhbWVyYXx8Xy5hY3RpdmVDYW1lcmE7aWYodGhpcy5pc1JlYWR5KGgsQykmJmIpe2guX3JlbmRlcklkPV8uZ2V0UmVuZGVySWQoKTtjb25zdCBNPSh1PWYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1W0UuY3VycmVudFJlbmRlclBhc3NJZF07bGV0IEw9aC5fZ2V0RHJhd1dyYXBwZXIoKTshTCYmTSYmKEw9TS5fZ2V0RHJhd1dyYXBwZXIoKSk7Y29uc3Qgaz1iLm1vZGU9PT1qLk9SVEhPR1JBUEhJQ19DQU1FUkE7aWYoIUwpcmV0dXJuO2NvbnN0IHc9TC5lZmZlY3Q7RS5lbmFibGVFZmZlY3QoTCksQ3x8ZC5fYmluZChoLHcsbS5maWxsTW9kZSksTT9NLmJpbmRGb3JTdWJNZXNoKGYuZ2V0V29ybGRNYXRyaXgoKSxmLGgpOih3LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLF8uZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHcuc2V0TWF0cml4KCJ3b3JsZCIsZi5nZXRXb3JsZE1hdHJpeCgpKSk7bGV0IGRlLGNlO2lmKGs/KGRlPSFFLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDoxLGNlPUUudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZFLmlzTkRDSGFsZlpSYW5nZT8wOjEpOihkZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/Yi5taW5aOkUuaXNORENIYWxmWlJhbmdlPzA6Yi5taW5aLGNlPUUudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZFLmlzTkRDSGFsZlpSYW5nZT8wOmIubWF4Wiksdy5zZXRGbG9hdDIoImRlcHRoVmFsdWVzIixkZSxkZStjZSksIU0pe2lmKG0ubmVlZEFscGhhVGVzdGluZygpKXtjb25zdCBzZT1tLmdldEFscGhhVGVzdFRleHR1cmUoKTtzZSYmKHcuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHNlKSx3LnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsc2UuZ2V0VGV4dHVyZU1hdHJpeCgpKSl9aWYoZC51c2VCb25lcyYmZC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmQuc2tlbGV0b24pe2NvbnN0IHNlPWQuc2tlbGV0b247aWYoc2UuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7Y29uc3QgdGU9c2UuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShkKTtpZighdGUpcmV0dXJuO3cuc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLHRlKSx3LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihzZS5ib25lcy5sZW5ndGgrMSkpfWVsc2Ugdy5zZXRNYXRyaWNlcygibUJvbmVzIixzZS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhkKSl9cnModyxtLF8pLGllLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMoZCx3KSxkLm1vcnBoVGFyZ2V0TWFuYWdlciYmZC5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZkLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZCh3KX1kLl9wcm9jZXNzUmVuZGVyaW5nKGYsaCx3LG0uZmlsbE1vZGUsQSxDLChzZSx0ZSk9Pncuc2V0TWF0cml4KCJ3b3JsZCIsdGUpKX19O3RoaXMuX2RlcHRoTWFwLmN1c3RvbVJlbmRlckZ1bmN0aW9uPShoLGwsdSxkKT0+e2xldCBmO2lmKGQubGVuZ3RoKWZvcihmPTA7ZjxkLmxlbmd0aDtmKyspbyhkLmRhdGFbZl0pO2ZvcihmPTA7ZjxoLmxlbmd0aDtmKyspbyhoLmRhdGFbZl0pO2ZvcihmPTA7ZjxsLmxlbmd0aDtmKyspbyhsLmRhdGFbZl0pO2lmKHRoaXMuZm9yY2VEZXB0aFdyaXRlVHJhbnNwYXJlbnRNZXNoZXMpZm9yKGY9MDtmPHUubGVuZ3RoO2YrKylvKHUuZGF0YVtmXSk7ZWxzZSBmb3IoZj0wO2Y8dS5sZW5ndGg7ZisrKXUuZGF0YVtmXS5nZXRFZmZlY3RpdmVNZXNoKCkuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExfX1zZXRNYXRlcmlhbEZvclJlbmRlcmluZyhlLHQpe3RoaXMuX2RlcHRoTWFwLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl9aXNSZWFkeShlLHQpe3ZhciBpO2NvbnN0IHM9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj1lLmdldE1lc2goKSxuPXIuZ2V0U2NlbmUoKSxhPShpPXIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3MuY3VycmVudFJlbmRlclBhc3NJZF07aWYoYSlyZXR1cm4gYS5pc1JlYWR5Rm9yU3ViTWVzaChyLGUsdCk7Y29uc3Qgbz1lLmdldE1hdGVyaWFsKCk7aWYoIW98fG8uZGlzYWJsZURlcHRoV3JpdGUpcmV0dXJuITE7Y29uc3QgaD1bXSxsPVtnLlBvc2l0aW9uS2luZF07aWYobyYmby5uZWVkQWxwaGFUZXN0aW5nKCkmJm8uZ2V0QWxwaGFUZXN0VGV4dHVyZSgpJiYoaC5wdXNoKCIjZGVmaW5lIEFMUEhBVEVTVCIpLHIuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKGwucHVzaChnLlVWS2luZCksaC5wdXNoKCIjZGVmaW5lIFVWMSIpKSxyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYobC5wdXNoKGcuVVYyS2luZCksaC5wdXNoKCIjZGVmaW5lIFVWMiIpKSksci51c2VCb25lcyYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMpe2wucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGwucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHIubnVtQm9uZUluZmx1ZW5jZXJzPjQmJihsLnB1c2goZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGwucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpLGgucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3IubnVtQm9uZUluZmx1ZW5jZXJzKSxoLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKHIuc2tlbGV0b24/ci5za2VsZXRvbi5ib25lcy5sZW5ndGgrMTowKSk7Y29uc3QgbT1lLmdldFJlbmRlcmluZ01lc2goKS5za2VsZXRvbjttIT1udWxsJiZtLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJmgucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpfWVsc2UgaC5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTtjb25zdCB1PXIubW9ycGhUYXJnZXRNYW5hZ2VyO2xldCBkPTA7dSYmdS5udW1JbmZsdWVuY2Vycz4wJiYoZD11Lm51bUluZmx1ZW5jZXJzLGgucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSxoLnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrZCksdS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmgucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLGllLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMobCxyLGQpKSx0JiYoaC5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLGllLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGwpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmgucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoJiZoLnB1c2goIiNkZWZpbmUgTk9OTElORUFSREVQVEgiKSx0aGlzLmlzUGFja2VkJiZoLnB1c2goIiNkZWZpbmUgUEFDS0VEIiksT3MobyxuLGgpO2NvbnN0IGY9ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKSxfPWYuZGVmaW5lcyxFPWguam9pbihgCmApO2lmKF8hPT1FKXtjb25zdCBtPVsid29ybGQiLCJtQm9uZXMiLCJib25lVGV4dHVyZVdpZHRoIiwidmlld1Byb2plY3Rpb24iLCJkaWZmdXNlTWF0cml4IiwiZGVwdGhWYWx1ZXMiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdO3NzKG0pLGYuc2V0RWZmZWN0KHMuY3JlYXRlRWZmZWN0KCJkZXB0aCIsbCxtLFsiZGlmZnVzZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiLCJib25lU2FtcGxlciJdLEUsdm9pZCAwLHZvaWQgMCx2b2lkIDAse21heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpkfSksRSl9cmV0dXJuIGYuZWZmZWN0LmlzUmVhZHkoKX1nZXREZXB0aE1hcCgpe3JldHVybiB0aGlzLl9kZXB0aE1hcH1kaXNwb3NlKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlcil0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlclt0XT09PXRoaXMmJmUucHVzaCh0KTtpZihlLmxlbmd0aD4wKXt0aGlzLl9kZXB0aE1hcC5kaXNwb3NlKCk7Zm9yKGNvbnN0IHQgb2YgZSlkZWxldGUgdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF19fX1hcy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgJCgiRGVwdGhSZW5kZXJlclNjZW5lQ29tcG9uZW50Iil9O2NvbnN0IFBvPSJtaW5tYXhSZWR1eFBpeGVsU2hhZGVyIixEbz1gdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CiNpZiBkZWZpbmVkKElOSVRJQUwpCnVuaWZvcm0gc2FtcGxlcjJEIHNvdXJjZVRleHR1cmU7CnVuaWZvcm0gdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqKHRleFNpemUtMS4wKSk7CmZsb2F0IGYxPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCwwKS5yOwpmbG9hdCBmMj10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMSwwKSwwKS5yOwpmbG9hdCBmMz10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMSwxKSwwKS5yOwpmbG9hdCBmND10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMCwxKSwwKS5yOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLGYyKSxmMyksZjQpOwojaWZkZWYgREVQVEhfUkVEVVgKZmxvYXQgbWF4ej1tYXgobWF4KG1heChzaWduKDEuMC1mMSkqZjEsc2lnbigxLjAtZjIpKmYyKSxzaWduKDEuMC1mMykqZjMpLHNpZ24oMS4wLWY0KSpmNCk7CiNlbHNlCmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEsZjIpLGYzKSxmNCk7CiNlbmRpZgpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChNQUlOKQp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwp2ZWMyIGYxPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQsMCkucmc7CnZlYzIgZjI9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigxLDApLDApLnJnOwp2ZWMyIGYzPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwxKSwwKS5yZzsKdmVjMiBmND10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDAsMSksMCkucmc7CmZsb2F0IG1pbno9bWluKG1pbihtaW4oZjEueCxmMi54KSxmMy54KSxmNC54KTsKZmxvYXQgbWF4ej1tYXgobWF4KG1heChmMS55LGYyLnkpLGYzLnkpLGY0LnkpOwpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChPTkVCRUZPUkVMQVNUKQp1bmlmb3JtIGl2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVip2ZWMyKHRleFNpemUtMSkpOwp2ZWMyIGYxPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDEsMCkpICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDEpKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMCwxKSkgJSB0ZXhTaXplLDApLnJnOwpmbG9hdCBtaW56PW1pbihmMS54LGYyLngpOwpmbG9hdCBtYXh6PW1heChmMS55LGYyLnkpOwpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChMQVNUKQp2b2lkIG1haW4odm9pZCkKewpnbEZyYWdDb2xvcj12ZWM0KDAuKTsKaWYgKHRydWUpIHsgCmRpc2NhcmQ7Cn0KfQojZW5kaWYKYDtVLlNoYWRlcnNTdG9yZVtQb109RG87Y2xhc3MgRm97Y29uc3RydWN0b3IoZSl7dGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkPW5ldyBGLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuX2FjdGl2YXRlZD0hMSx0aGlzLl9jYW1lcmE9ZSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IFFpKGUuZ2V0U2NlbmUoKSksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0pfWdldCBzb3VyY2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmV9c2V0U291cmNlVGV4dHVyZShlLHQsaT0yLHM9ITApe2lmKGU9PT10aGlzLl9zb3VyY2VUZXh0dXJlKXJldHVybjt0aGlzLmRpc3Bvc2UoITEpLHRoaXMuX3NvdXJjZVRleHR1cmU9ZSx0aGlzLl9yZWR1Y3Rpb25TdGVwcz1bXSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zO2NvbnN0IHI9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCksbj1uZXcgTWUoIkluaXRpYWwgcmVkdWN0aW9uIHBoYXNlIiwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLFsic291cmNlVGV4dHVyZSJdLDEsbnVsbCwxLHIuZ2V0RW5naW5lKCksITEsIiNkZWZpbmUgSU5JVElBTCIrKHQ/YAojZGVmaW5lIERFUFRIX1JFRFVYYDoiIiksaSx2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtuLmF1dG9DbGVhcj0hMSxuLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PXM7bGV0IGE9dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJXaWR0aCgpLG89dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJIZWlnaHQoKTtuLm9uQXBwbHk9KChsLHUpPT5kPT57ZC5zZXRUZXh0dXJlKCJzb3VyY2VUZXh0dXJlIix0aGlzLl9zb3VyY2VUZXh0dXJlKSxkLnNldEZsb2F0MigidGV4U2l6ZSIsbCx1KX0pKGEsbyksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChuKTtsZXQgaD0xO2Zvcig7YT4xfHxvPjE7KXthPU1hdGgubWF4KE1hdGgucm91bmQoYS8yKSwxKSxvPU1hdGgubWF4KE1hdGgucm91bmQoby8yKSwxKTtjb25zdCBsPW5ldyBNZSgiUmVkdWN0aW9uIHBoYXNlICIraCwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLG51bGwse3dpZHRoOmEsaGVpZ2h0Om99LG51bGwsMSxyLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lICIrKGE9PTEmJm89PTE/IkxBU1QiOmE9PTF8fG89PTE/Ik9ORUJFRk9SRUxBU1QiOiJNQUlOIiksaSx2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtpZihsLmF1dG9DbGVhcj0hMSxsLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PXMsbC5vbkFwcGx5PSgodSxkKT0+Zj0+e3U9PTF8fGQ9PTE/Zi5zZXRJbnQyKCJ0ZXhTaXplIix1LGQpOmYuc2V0RmxvYXQyKCJ0ZXhTaXplIix1LGQpfSkoYSxvKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5wdXNoKGwpLGgrKyxhPT0xJiZvPT0xKXtjb25zdCB1PShkLGYsXyk9Pntjb25zdCBFPW5ldyBGbG9hdDMyQXJyYXkoNCpkKmYpLG09e21pbjowLG1heDowfTtyZXR1cm4oKT0+e3IuZ2V0RW5naW5lKCkuX3JlYWRUZXh0dXJlUGl4ZWxzKF8uaW5wdXRUZXh0dXJlLnRleHR1cmUsZCxmLC0xLDAsRSwhMSksbS5taW49RVswXSxtLm1heD1FWzFdLHRoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5ub3RpZnlPYnNlcnZlcnMobSl9fTtsLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZCh1KGEsbyxsKSl9fX1nZXQgcmVmcmVzaFJhdGUoKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZT90aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlOi0xfXNldCByZWZyZXNoUmF0ZShlKXt0aGlzLl9zb3VyY2VUZXh0dXJlJiYodGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZT1lKX1nZXQgYWN0aXZhdGVkKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZH1hY3RpdmF0ZSgpe3RoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcnx8IXRoaXMuX3NvdXJjZVRleHR1cmV8fCh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9dGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgZSx0O2NvbnN0IGk9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7KGU9aS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKGksIm1pbiBtYXggcmVkdWN0aW9uIiwxKSx0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5hY3RpdmF0ZSh0aGlzLl9jYW1lcmEpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIodGhpcy5fcmVkdWN0aW9uU3RlcHMsdGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uaW5wdXRUZXh0dXJlLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSxpLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSwhMSksKHQ9aS5fZGVidWdQb3BHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwoaSwxKX0pLHRoaXMuX2FjdGl2YXRlZD0hMCl9ZGVhY3RpdmF0ZSgpeyF0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9bnVsbCx0aGlzLl9hY3RpdmF0ZWQ9ITEpfWRpc3Bvc2UoZT0hMCl7aWYoZSYmKHRoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5jbGVhcigpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLl9jYW1lcmEuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPW51bGwpKSx0aGlzLmRlYWN0aXZhdGUoKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcyl7Zm9yKGxldCB0PTA7dDx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5sZW5ndGg7Kyt0KXRoaXMuX3JlZHVjdGlvblN0ZXBzW3RdLmRpc3Bvc2UoKTt0aGlzLl9yZWR1Y3Rpb25TdGVwcz1udWxsfXRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmZSYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9zb3VyY2VUZXh0dXJlPW51bGx9fWNsYXNzIHdvIGV4dGVuZHMgRm97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9Z2V0IGRlcHRoUmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5fZGVwdGhSZW5kZXJlcn1zZXREZXB0aFJlbmRlcmVyKGU9bnVsbCx0PTIsaT0hMCl7Y29uc3Qgcz10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKTt0aGlzLl9kZXB0aFJlbmRlcmVyJiYoZGVsZXRlIHMuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGwpLGU9PT1udWxsJiYocy5fZGVwdGhSZW5kZXJlcnx8KHMuX2RlcHRoUmVuZGVyZXI9e30pLGU9dGhpcy5fZGVwdGhSZW5kZXJlcj1uZXcgYXMocyx0LHRoaXMuX2NhbWVyYSwhMSwxKSxlLmVuYWJsZWQ9ITEsdGhpcy5fZGVwdGhSZW5kZXJlcklkPSJtaW5tYXgiK3RoaXMuX2NhbWVyYS5pZCxzLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF09ZSksc3VwZXIuc2V0U291cmNlVGV4dHVyZShlLmdldERlcHRoTWFwKCksITAsdCxpKX1zZXRTb3VyY2VUZXh0dXJlKGUsdCxpPTIscz0hMCl7c3VwZXIuc2V0U291cmNlVGV4dHVyZShlLHQsaSxzKX1hY3RpdmF0ZSgpe3RoaXMuX2RlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlbmRlcmVyLmVuYWJsZWQ9ITApLHN1cGVyLmFjdGl2YXRlKCl9ZGVhY3RpdmF0ZSgpe3N1cGVyLmRlYWN0aXZhdGUoKSx0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSExKX1kaXNwb3NlKGU9ITApe2lmKHN1cGVyLmRpc3Bvc2UoZSksdGhpcy5fZGVwdGhSZW5kZXJlciYmZSl7Y29uc3QgdD10aGlzLl9kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkuZ2V0U2NlbmUoKTt0JiZkZWxldGUgdC5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdLHRoaXMuX2RlcHRoUmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXI9bnVsbH19fWNvbnN0IE5yPXAuVXAoKSxPbz1wLlplcm8oKSxMZT1uZXcgcCx4aT1uZXcgcCxvcz1uZXcgeDtjbGFzcyBrZSBleHRlbmRzIEd7Y29uc3RydWN0b3IoZSx0LGkscyl7aWYoIWtlLklzU3VwcG9ydGVkKXtPLkVycm9yKCJDYXNjYWRlZFNoYWRvd01hcCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGVuZ2luZS4iKTtyZXR1cm59c3VwZXIoZSx0LGkscyksdGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPSEwfV92YWxpZGF0ZUZpbHRlcihlKXtyZXR1cm4gZT09PUcuRklMVEVSX05PTkV8fGU9PT1HLkZJTFRFUl9QQ0Z8fGU9PT1HLkZJTFRFUl9QQ1NTP2U6KGNvbnNvbGUuZXJyb3IoJ1Vuc3VwcG9ydGVkIGZpbHRlciAiJytlKyciIScpLEcuRklMVEVSX05PTkUpfWdldCBudW1DYXNjYWRlcygpe3JldHVybiB0aGlzLl9udW1DYXNjYWRlc31zZXQgbnVtQ2FzY2FkZXMoZSl7ZT1NYXRoLm1pbihNYXRoLm1heChlLGtlLk1JTl9DQVNDQURFU19DT1VOVCksa2UuTUFYX0NBU0NBREVTX0NPVU5UKSxlIT09dGhpcy5fbnVtQ2FzY2FkZXMmJih0aGlzLl9udW1DYXNjYWRlcz1lLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpKX1nZXQgZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvfXNldCBmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKGUpe3RoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiZlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksIXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYhZSYmKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8uYmluZCh0aGlzKSkpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZSxlJiZ0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpfV9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe2lmKHRoaXMuX3NjYmlNaW4uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX3NjYmlNYXguY29weUZyb21GbG9hdHMoTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUpLHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qpe2NvbnN0IGU9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHM9ZVtpXTtpZighcyljb250aW51ZTtjb25zdCByPXMuZ2V0Qm91bmRpbmdJbmZvKCksbj1yLmJvdW5kaW5nQm94O3RoaXMuX3NjYmlNaW4ubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSx0aGlzLl9zY2JpTWF4Lm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCl9Y29uc3QgdD10aGlzLl9zY2VuZS5tZXNoZXM7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtpZighc3x8IXMuaXNWaXNpYmxlfHwhcy5pc0VuYWJsZWR8fCFzLnJlY2VpdmVTaGFkb3dzKWNvbnRpbnVlO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKX19dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdCh0aGlzLl9zY2JpTWluLHRoaXMuX3NjYmlNYXgpfWdldCBzaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99c2V0IHNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oZSl7dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lfXNldE1pbk1heERpc3RhbmNlKGUsdCl7dGhpcy5fbWluRGlzdGFuY2U9PT1lJiZ0aGlzLl9tYXhEaXN0YW5jZT09PXR8fChlPnQmJihlPTAsdD0xKSxlPDAmJihlPTApLHQ+MSYmKHQ9MSksdGhpcy5fbWluRGlzdGFuY2U9ZSx0aGlzLl9tYXhEaXN0YW5jZT10LHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXQgbWluRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWluRGlzdGFuY2V9Z2V0IG1heERpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21heERpc3RhbmNlfWdldENsYXNzTmFtZSgpe3JldHVybiBrZS5DTEFTU05BTUV9Z2V0Q2FzY2FkZU1pbkV4dGVudHMoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV06bnVsbH1nZXRDYXNjYWRlTWF4RXh0ZW50cyhlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXTpudWxsfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX2dldENhbWVyYSgpP3RoaXMuX3NoYWRvd01heFo6MH1zZXQgc2hhZG93TWF4WihlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKCF0KXt0aGlzLl9zaGFkb3dNYXhaPWU7cmV0dXJufXRoaXMuX3NoYWRvd01heFo9PT1lfHxlPHQubWluWnx8ZT50Lm1heFp8fCh0aGlzLl9zaGFkb3dNYXhaPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0IGRlYnVnKCl7cmV0dXJuIHRoaXMuX2RlYnVnfXNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9Z2V0IGRlcHRoQ2xhbXAoKXtyZXR1cm4gdGhpcy5fZGVwdGhDbGFtcH1zZXQgZGVwdGhDbGFtcChlKXt0aGlzLl9kZXB0aENsYW1wPWV9Z2V0IGNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UoKXtyZXR1cm4gdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZX1zZXQgY2FzY2FkZUJsZW5kUGVyY2VudGFnZShlKXt0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX1nZXQgbGFtYmRhKCl7cmV0dXJuIHRoaXMuX2xhbWJkYX1zZXQgbGFtYmRhKGUpe2NvbnN0IHQ9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKTt0aGlzLl9sYW1iZGEhPXQmJih0aGlzLl9sYW1iZGE9dCx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0Q2FzY2FkZVZpZXdNYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fdmlld01hdHJpY2VzW2VdOm51bGx9Z2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW2VdOm51bGx9Z2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tlXTpudWxsfXNldERlcHRoUmVuZGVyZXIoZSl7dGhpcy5fZGVwdGhSZW5kZXJlcj1lLHRoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLnNldERlcHRoUmVuZGVyZXIodGhpcy5fZGVwdGhSZW5kZXJlcil9Z2V0IGF1dG9DYWxjRGVwdGhCb3VuZHMoKXtyZXR1cm4gdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kc31zZXQgYXV0b0NhbGNEZXB0aEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKHQpe2lmKHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHM9ZSwhZSl7dGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuZGVhY3RpdmF0ZSgpLHRoaXMuc2V0TWluTWF4RGlzdGFuY2UoMCwxKTtyZXR1cm59dGhpcy5fZGVwdGhSZWR1Y2VyfHwodGhpcy5fZGVwdGhSZWR1Y2VyPW5ldyB3byh0KSx0aGlzLl9kZXB0aFJlZHVjZXIub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5hZGQoaT0+e2xldCBzPWkubWluLHI9aS5tYXg7cz49ciYmKHM9MCxyPTEpLChzIT10aGlzLl9taW5EaXN0YW5jZXx8ciE9dGhpcy5fbWF4RGlzdGFuY2UpJiZ0aGlzLnNldE1pbk1heERpc3RhbmNlKHMscil9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fWdldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoKXt2YXIgZSx0LGk7cmV0dXJuKGk9KHQ9KGU9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVwdGhSZW5kZXJlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOi0xfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoZSl7dmFyIHQ7ISgodD10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGU9ZSl9c3BsaXRGcnVzdHVtKCl7dGhpcy5fYnJlYWtzQXJlRGlydHk9ITB9X3NwbGl0RnJ1c3R1bSgpe2NvbnN0IGU9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5taW5aLGk9ZS5tYXhaLHM9aS10LHI9dGhpcy5fbWluRGlzdGFuY2Usbj10aGlzLl9zaGFkb3dNYXhaPGkmJnRoaXMuX3NoYWRvd01heFo+PXQ/TWF0aC5taW4oKHRoaXMuX3NoYWRvd01heFotdCkvKGktdCksdGhpcy5fbWF4RGlzdGFuY2UpOnRoaXMuX21heERpc3RhbmNlLGE9dCtyKnMsbz10K24qcyxoPW8tYSxsPW8vYTtmb3IobGV0IHU9MDt1PHRoaXMuX2Nhc2NhZGVzLmxlbmd0aDsrK3Upe2NvbnN0IGQ9KHUrMSkvdGhpcy5fbnVtQ2FzY2FkZXMsZj1hKmwqKmQsXz1hK2gqZCxFPXRoaXMuX2xhbWJkYSooZi1fKStfO3RoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlPXU9PT0wP3I6dGhpcy5fY2FzY2FkZXNbdS0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW3VdLmJyZWFrRGlzdGFuY2U9KEUtdCkvcyx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbdV09RSx0aGlzLl9mcnVzdHVtTGVuZ3Roc1t1XT0odGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1t1XS5wcmV2QnJlYWtEaXN0YW5jZSkqc310aGlzLl9icmVha3NBcmVEaXJ0eT0hMX1fY29tcHV0ZU1hdHJpY2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZTtpZighdGhpcy5fZ2V0Q2FtZXJhKCkpcmV0dXJuO3AuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKDApLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhwLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixwLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pO2NvbnN0IGk9ZS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7Zm9yKGxldCBzPTA7czx0aGlzLl9udW1DYXNjYWRlczsrK3Mpe3RoaXMuX2NvbXB1dGVGcnVzdHVtSW5Xb3JsZFNwYWNlKHMpLHRoaXMuX2NvbXB1dGVDYXNjYWRlRnJ1c3R1bShzKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLExlKSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLnNjYWxlKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLnopLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSkseC5Mb29rQXRMSFRvUmVmKHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLE5yLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSk7bGV0IHI9MCxuPUxlLno7Y29uc3QgYT10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvO2EudXBkYXRlKHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSksbj1NYXRoLm1pbihuLGEuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLnopLCF0aGlzLl9kZXB0aENsYW1wfHx0aGlzLmZpbHRlcj09PUcuRklMVEVSX1BDU1M/cj1NYXRoLm1pbihyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnI9TWF0aC5tYXgocixhLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSx4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS55LGk/bjpyLGk/cjpuLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSxlLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10uej1yLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLno9bix0aGlzLl92aWV3TWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10pLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihPbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSxMZSksTGUuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMikseGkuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZChMZS54KSxNYXRoLnJvdW5kKExlLnkpLE1hdGgucm91bmQoTGUueikpLHhpLnN1YnRyYWN0SW5QbGFjZShMZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSkseC5UcmFuc2xhdGlvblRvUmVmKHhpLngseGkueSwwLG9zKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZihvcyx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10pLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LHMqMTYpfX1fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRDYW1lcmEoKTtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLl9jYXNjYWRlc1tlXS5wcmV2QnJlYWtEaXN0YW5jZSxzPXRoaXMuX2Nhc2NhZGVzW2VdLmJyZWFrRGlzdGFuY2Uscj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2U7dC5nZXRWaWV3TWF0cml4KCk7Y29uc3Qgbj14LkludmVydCh0LmdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCkpLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzQ6MDtmb3IobGV0IG89MDtvPGtlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK28pTGUuY29weUZyb20oa2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKG8rYSkla2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoXSksciYmTGUuej09PS0xJiYoTGUuej0wKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoTGUsbix0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bb10pO2ZvcihsZXQgbz0wO288a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoLzI7KytvKUxlLmNvcHlGcm9tKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvKzRdKS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dKSx4aS5jb3B5RnJvbShMZSkuc2NhbGVJblBsYWNlKGkpLExlLnNjYWxlSW5QbGFjZShzKSxMZS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW28rNF0uY29weUZyb20oTGUpLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXS5hZGRJblBsYWNlKHhpKX1fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGUpe2lmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5jb3B5RnJvbUZsb2F0cygwLDAsMCksISF0aGlzLl9nZXRDYW1lcmEoKSl7Zm9yKGxldCBpPTA7aTx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2ldKTtpZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLnNjYWxlSW5QbGFjZSgxL3RoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGgpLHRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpe2xldCBpPTA7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcyl7Y29uc3Qgcj10aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bc10uc3VidHJhY3RUb1JlZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLExlKS5sZW5ndGgoKTtpPU1hdGgubWF4KGkscil9aT1NYXRoLmNlaWwoaSoxNikvMTYsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoaSxpLGkpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKC1pLC1pLC1pKX1lbHNle2NvbnN0IGk9dGhpcy5fZnJ1c3R1bUNlbnRlcltlXTt0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLExlKSx4Lkxvb2tBdExIVG9SZWYoaSxMZSxOcixvcyk7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW3NdLG9zLExlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXS5taW5pbWl6ZUluUGxhY2UoTGUpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLm1heGltaXplSW5QbGFjZShMZSl9fX1fcmVjcmVhdGVTY2VuZVVCT3MoKXtpZih0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fc2NlbmVVQk9zKWZvcihsZXQgZT0wO2U8dGhpcy5fbnVtQ2FzY2FkZXM7KytlKXRoaXMuX3NjZW5lVUJPcy5wdXNoKHRoaXMuX3NjZW5lLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihgU2NlbmUgZm9yIENTTSBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIgY2FzY2FkZSAjJHtlfSlgKSl9c3RhdGljIGdldCBJc1N1cHBvcnRlZCgpe2NvbnN0IGU9ZmUuTGFzdENyZWF0ZWRFbmdpbmU7cmV0dXJuIGU/ZS5fZmVhdHVyZXMuc3VwcG9ydENTTTohMX1faW5pdGlhbGl6ZUdlbmVyYXRvcigpe3ZhciBlLHQsaSxzLHIsbixhLG8saCxsLHUsZCxmLF8sRSxtLHYsUyx5LEE7dGhpcy5wZW51bWJyYURhcmtuZXNzPShlPXRoaXMucGVudW1icmFEYXJrbmVzcykhPT1udWxsJiZlIT09dm9pZCAwP2U6MSx0aGlzLl9udW1DYXNjYWRlcz0odD10aGlzLl9udW1DYXNjYWRlcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6a2UuREVGQVVMVF9DQVNDQURFU19DT1VOVCx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzPShpPXRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiExLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPShzPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLHRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0ocj10aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmciE9PXZvaWQgMD9yOiExLHRoaXMuX3NjYmlNaW49KG49dGhpcy5fc2NiaU1pbikhPT1udWxsJiZuIT09dm9pZCAwP246bmV3IHAoMCwwLDApLHRoaXMuX3NjYmlNYXg9KGE9dGhpcy5fc2NiaU1heCkhPT1udWxsJiZhIT09dm9pZCAwP2E6bmV3IHAoMCwwLDApLHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KG89dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZvIT09dm9pZCAwP286bmV3IGR0KG5ldyBwKDAsMCwwKSxuZXcgcCgwLDAsMCkpLHRoaXMuX2JyZWFrc0FyZURpcnR5PShoPXRoaXMuX2JyZWFrc0FyZURpcnR5KSE9PW51bGwmJmghPT12b2lkIDA/aDohMCx0aGlzLl9taW5EaXN0YW5jZT0obD10aGlzLl9taW5EaXN0YW5jZSkhPT1udWxsJiZsIT09dm9pZCAwP2w6MCx0aGlzLl9tYXhEaXN0YW5jZT0odT10aGlzLl9tYXhEaXN0YW5jZSkhPT1udWxsJiZ1IT09dm9pZCAwP3U6MSx0aGlzLl9jdXJyZW50TGF5ZXI9KGQ9dGhpcy5fY3VycmVudExheWVyKSE9PW51bGwmJmQhPT12b2lkIDA/ZDowLHRoaXMuX3NoYWRvd01heFo9KEU9KGY9dGhpcy5fc2hhZG93TWF4WikhPT1udWxsJiZmIT09dm9pZCAwP2Y6KF89dGhpcy5fZ2V0Q2FtZXJhKCkpPT09bnVsbHx8Xz09PXZvaWQgMD92b2lkIDA6Xy5tYXhaKSE9PW51bGwmJkUhPT12b2lkIDA/RToxZTQsdGhpcy5fZGVidWc9KG09dGhpcy5fZGVidWcpIT09bnVsbCYmbSE9PXZvaWQgMD9tOiExLHRoaXMuX2RlcHRoQ2xhbXA9KHY9dGhpcy5fZGVwdGhDbGFtcCkhPT1udWxsJiZ2IT09dm9pZCAwP3Y6ITAsdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT0oUz10aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSE9PW51bGwmJlMhPT12b2lkIDA/UzouMSx0aGlzLl9sYW1iZGE9KHk9dGhpcy5fbGFtYmRhKSE9PW51bGwmJnkhPT12b2lkIDA/eTouNSx0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPShBPXRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHMpIT09bnVsbCYmQSE9PXZvaWQgMD9BOiExLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCksc3VwZXIuX2luaXRpYWxpemVHZW5lcmF0b3IoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD17d2lkdGg6dGhpcy5fbWFwU2l6ZSxoZWlnaHQ6dGhpcy5fbWFwU2l6ZSxsYXllcnM6dGhpcy5udW1DYXNjYWRlc307dGhpcy5fc2hhZG93TWFwPW5ldyBfdCh0aGlzLl9saWdodC5uYW1lKyJfQ1NNU2hhZG93TWFwIix0LHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLCExLHZvaWQgMCwhMSwhMSx2b2lkIDApLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApfV9pbml0aWFsaXplU2hhZG93TWFwKCl7aWYoc3VwZXIuX2luaXRpYWxpemVTaGFkb3dNYXAoKSx0aGlzLl9zaGFkb3dNYXA9PT1udWxsKXJldHVybjt0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoxNiksdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fZnJ1c3R1bUxlbmd0aHM9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKjIpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX3ZpZXdNYXRyaWNlcz1bXSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXM9W10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXM9W10sdGhpcy5fY2FzY2FkZU1pbkV4dGVudHM9W10sdGhpcy5fY2FzY2FkZU1heEV4dGVudHM9W10sdGhpcy5fZnJ1c3R1bUNlbnRlcj1bXSx0aGlzLl9zaGFkb3dDYW1lcmFQb3M9W10sdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5fbnVtQ2FzY2FkZXM7Kyt0KXt0aGlzLl9jYXNjYWRlc1t0XT17cHJldkJyZWFrRGlzdGFuY2U6MCxicmVha0Rpc3RhbmNlOjB9LHRoaXMuX3ZpZXdNYXRyaWNlc1t0XT14Llplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbdF09eC5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbdF09eC5aZXJvKCksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF09bmV3IHAsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF09bmV3IHAsdGhpcy5fZnJ1c3R1bUNlbnRlclt0XT1uZXcgcCx0aGlzLl9zaGFkb3dDYW1lcmFQb3NbdF09bmV3IHAsdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdPW5ldyBBcnJheShrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1baV09bmV3IHB9Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0PT57dGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fc2NlbmVVQk9zW3RdKSx0aGlzLl9jdXJyZW50TGF5ZXI9dCx0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KHRoaXMuZ2V0Q2FzY2FkZVZpZXdNYXRyaXgodCksdGhpcy5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeCh0KSksdGhpcy5fdXNlVUJPJiYodGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB0O3RoaXMuX2N1cnJlbnRTY2VuZVVCTz10aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwodD1lLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwoZSxgY2FzY2FkZWQgc2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICR7ZS5jdXJyZW50UmVuZGVyUGFzc0lkfWAsMSksdGhpcy5fYnJlYWtzQXJlRGlydHkmJnRoaXMuX3NwbGl0RnJ1c3R1bSgpLHRoaXMuX2NvbXB1dGVNYXRyaWNlcygpfSksdGhpcy5fc3BsaXRGcnVzdHVtKCl9X2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdCl7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgodGhpcy5fY3VycmVudExheWVyKSl9X2lzUmVhZHlDdXN0b21EZWZpbmVzKGUpe2UucHVzaCgiI2RlZmluZSBTTV9ERVBUSENMQU1QICIrKHRoaXMuX2RlcHRoQ2xhbXAmJnRoaXMuX2ZpbHRlciE9PUcuRklMVEVSX1BDU1M/IjEiOiIwIikpfXByZXBhcmVEZWZpbmVzKGUsdCl7c3VwZXIucHJlcGFyZURlZmluZXMoZSx0KTtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7aWYoIWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2VbIlNIQURPV0NTTSIrdF09ITAsZVsiU0hBRE9XQ1NNREVCVUciK3RdPXRoaXMuZGVidWcsZVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIit0XT10aGlzLm51bUNhc2NhZGVzLGVbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrdF09aS51c2VSaWdodEhhbmRlZFN5c3RlbTtjb25zdCByPXRoaXMuX2dldENhbWVyYSgpO3ImJnRoaXMuX3NoYWRvd01heFo8ci5tYXhaJiYoZVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrdF09ITApLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTAmJihlWyJTSEFET1dDU01OT0JMRU5EIit0XT0hMCl9YmluZFNoYWRvd0xpZ2h0KGUsdCl7Y29uc3QgaT10aGlzLl9saWdodDtpZighdGhpcy5fc2NlbmUuc2hhZG93c0VuYWJsZWR8fCFpLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIXIpcmV0dXJuO2NvbnN0IG49dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighbilyZXR1cm47Y29uc3QgYT1uLmdldFNpemUoKS53aWR0aDtpZih0LnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrZSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHQuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrZSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHQuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrZSx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksdC5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK2UsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDRil0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksYSwxL2EsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSk7ZWxzZSBpZih0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ1NTKXtmb3IobGV0IG89MDtvPHRoaXMuX251bUNhc2NhZGVzOysrbyl0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bbyoyKzBdPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueCkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueCksdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uW28qMisxXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnkpLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnkpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbltvXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnopLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnopO3Quc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSx0LnNldFRleHR1cmUoImRlcHRoU2FtcGxlciIrZSxuKSx0LnNldEFycmF5MigibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbiksdC5zZXRBcnJheSgiZGVwdGhDb3JyZWN0aW9uIitlLHRoaXMuX2RlcHRoQ29ycmVjdGlvbiksdC5zZXRGbG9hdCgicGVudW1icmFEYXJrbmVzcyIrZSx0aGlzLnBlbnVtYnJhRGFya25lc3MpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvYSx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyphLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpfWVsc2UgdC5zZXRUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLGEsMS9hLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpO2kuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSl9Z2V0VHJhbnNmb3JtTWF0cml4KCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksdGhpcy5fZGVwdGhSZWR1Y2VyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlZHVjZXI9bnVsbCl9c2VyaWFsaXplKCl7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKSx0PXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXQpcmV0dXJuIGU7aWYoZS5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyxlLmRlYnVnPXRoaXMuX2RlYnVnLGUuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyxlLmxhbWJkYT10aGlzLl9sYW1iZGEsZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSxlLmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCxlLmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLGUuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLGUucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sZS5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLGUubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSxlLnJlbmRlckxpc3Q9W10sdC5yZW5kZXJMaXN0KWZvcihsZXQgaT0wO2k8dC5yZW5kZXJMaXN0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dC5yZW5kZXJMaXN0W2ldO2UucmVuZGVyTGlzdC5wdXNoKHMuaWQpfXJldHVybiBlfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9Ry5QYXJzZShlLHQsKHMscixuKT0+bmV3IGtlKHMscix2b2lkIDAsbikpO3JldHVybiBlLm51bUNhc2NhZGVzIT09dm9pZCAwJiYoaS5udW1DYXNjYWRlcz1lLm51bUNhc2NhZGVzKSxlLmRlYnVnIT09dm9pZCAwJiYoaS5kZWJ1Zz1lLmRlYnVnKSxlLnN0YWJpbGl6ZUNhc2NhZGVzIT09dm9pZCAwJiYoaS5zdGFiaWxpemVDYXNjYWRlcz1lLnN0YWJpbGl6ZUNhc2NhZGVzKSxlLmxhbWJkYSE9PXZvaWQgMCYmKGkubGFtYmRhPWUubGFtYmRhKSxlLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UhPT12b2lkIDAmJihpLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9ZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSxlLmRlcHRoQ2xhbXAhPT12b2lkIDAmJihpLmRlcHRoQ2xhbXA9ZS5kZXB0aENsYW1wKSxlLmF1dG9DYWxjRGVwdGhCb3VuZHMhPT12b2lkIDAmJihpLmF1dG9DYWxjRGVwdGhCb3VuZHM9ZS5hdXRvQ2FsY0RlcHRoQm91bmRzKSxlLnNoYWRvd01heFohPT12b2lkIDAmJihpLnNoYWRvd01heFo9ZS5zaGFkb3dNYXhaKSxlLnBlbnVtYnJhRGFya25lc3MhPT12b2lkIDAmJihpLnBlbnVtYnJhRGFya25lc3M9ZS5wZW51bWJyYURhcmtuZXNzKSxlLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8hPT12b2lkIDAmJihpLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSxlLm1pbkRpc3RhbmNlIT09dm9pZCAwJiZlLm1heERpc3RhbmNlIT09dm9pZCAwJiZpLnNldE1pbk1heERpc3RhbmNlKGUubWluRGlzdGFuY2UsZS5tYXhEaXN0YW5jZSksaX19a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2U9W25ldyBwKC0xLDEsLTEpLG5ldyBwKDEsMSwtMSksbmV3IHAoMSwtMSwtMSksbmV3IHAoLTEsLTEsLTEpLG5ldyBwKC0xLDEsMSksbmV3IHAoMSwxLDEpLG5ldyBwKDEsLTEsMSksbmV3IHAoLTEsLTEsMSldLGtlLkNMQVNTTkFNRT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiLGtlLkRFRkFVTFRfQ0FTQ0FERVNfQ09VTlQ9NCxrZS5NSU5fQ0FTQ0FERVNfQ09VTlQ9MixrZS5NQVhfQ0FTQ0FERVNfQ09VTlQ9NCxrZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgJCgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX0sWmkuQWRkUGFyc2VyKHEuTkFNRV9TSEFET1dHRU5FUkFUT1IsKGMsZSk9PntpZihjLnNoYWRvd0dlbmVyYXRvcnMhPT12b2lkIDAmJmMuc2hhZG93R2VuZXJhdG9ycyE9PW51bGwpZm9yKGxldCB0PTAsaT1jLnNoYWRvd0dlbmVyYXRvcnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9Yy5zaGFkb3dHZW5lcmF0b3JzW3RdO3MuY2xhc3NOYW1lPT09a2UuQ0xBU1NOQU1FP2tlLlBhcnNlKHMsZSk6Ry5QYXJzZShzLGUpfX0pO2NsYXNzIExve2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZT1xLk5BTUVfU0hBRE9XR0VORVJBVE9SLHRoaXMuc2NlbmU9ZX1yZWdpc3Rlcigpe3RoaXMuc2NlbmUuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5yZWdpc3RlclN0ZXAocS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SLHRoaXMsdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0cyl9cmVidWlsZCgpe31zZXJpYWxpemUoZSl7ZS5zaGFkb3dHZW5lcmF0b3JzPVtdO2NvbnN0IHQ9dGhpcy5zY2VuZS5saWdodHM7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3Qgcz1pLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihzKXtjb25zdCByPXMudmFsdWVzKCk7Zm9yKGxldCBuPXIubmV4dCgpO24uZG9uZSE9PSEwO249ci5uZXh0KCkpe2NvbnN0IGE9bi52YWx1ZTtlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChhLnNlcmlhbGl6ZSgpKX19fX1hZGRGcm9tQ29udGFpbmVyKGUpe31yZW1vdmVGcm9tQ29udGFpbmVyKGUsdCl7fWRpc3Bvc2UoKXt9X2dhdGhlclJlbmRlclRhcmdldHMoZSl7Y29uc3QgdD10aGlzLnNjZW5lO2lmKHRoaXMuc2NlbmUuc2hhZG93c0VuYWJsZWQpZm9yKGxldCBpPTA7aTx0LmxpZ2h0cy5sZW5ndGg7aSsrKXtjb25zdCBzPXQubGlnaHRzW2ldLHI9cy5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYocy5pc0VuYWJsZWQoKSYmcy5zaGFkb3dFbmFibGVkJiZyKXtjb25zdCBuPXIudmFsdWVzKCk7Zm9yKGxldCBhPW4ubmV4dCgpO2EuZG9uZSE9PSEwO2E9bi5uZXh0KCkpe2NvbnN0IGg9YS52YWx1ZS5nZXRTaGFkb3dNYXAoKTt0LnRleHR1cmVzLmluZGV4T2YoaCkhPT0tMSYmZS5wdXNoKGgpfX19fX1HLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9PntsZXQgZT1jLl9nZXRDb21wb25lbnQocS5OQU1FX1NIQURPV0dFTkVSQVRPUik7ZXx8KGU9bmV3IExvKGMpLGMuX2FkZENvbXBvbmVudChlKSl9O2NvbnN0IE5vPXtlbmFibGVTaGFkb3dzOiEwfTtmdW5jdGlvbiBCcihjPU5vKXtjb25zdHtlbmFibGVTaGFkb3dzOmUsc2hhZG93VHJhbnNwYXJlbmN5OnQsaW50ZW5zaXR5Omksc2NlbmU6c309YyxyPW5ldyBJdCgiRGlyZWN0aW9uYWxMaWdodCIsbmV3IHAoLS4zLC0xLC40KSxzKTtyLnBvc2l0aW9uPW5ldyBwKC01MCw2NSwtNTApLHIuaW50ZW5zaXR5PS42NSppO2NvbnN0IG49bmV3IG5zKCJIZW1pc3BoZXJpY0xpZ2h0IixuZXcgcCgxLDEsMCkscyk7cmV0dXJuIG4uaW50ZW5zaXR5PS40KmksZSYmKHIuc2hhZG93TWluWj0xLHIuc2hhZG93TWF4Wj03MCxyLnNoYWRvd0dlbmVyYXRvcj1uZXcgRygyMDQ4LHIpLHIuc2hhZG93R2VuZXJhdG9yLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITAsci5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dCkse2RpcmVjdGlvbmFsOnIsaGVtaXNwaGVyaWM6bn19ZnVuY3Rpb24gVXIoYyl7bGV0IHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXTtjb25zdCBpPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0scz1bXTtsZXQgcj1bXTtjb25zdCBuPWMud2lkdGh8fGMuc2l6ZXx8MSxhPWMuaGVpZ2h0fHxjLnNpemV8fDEsbz1jLmRlcHRofHxjLnNpemV8fDEsaD1jLndyYXB8fCExO2xldCBsPWMudG9wQmFzZUF0PT09dm9pZCAwPzE6Yy50b3BCYXNlQXQsdT1jLmJvdHRvbUJhc2VBdD09PXZvaWQgMD8wOmMuYm90dG9tQmFzZUF0O2w9KGwrNCklNCx1PSh1KzQpJTQ7Y29uc3QgZD1bMiwwLDMsMV0sZj1bMiwwLDEsM107bGV0IF89ZFtsXSxFPWZbdV0sbT1bMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDFdO2lmKGgpe3Q9WzIsMywwLDIsMCwxLDQsNSw2LDQsNiw3LDksMTAsMTEsOSwxMSw4LDEyLDE0LDE1LDEyLDEzLDE0XSxtPVstMSwxLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMV07bGV0IE09W1sxLDEsMV0sWy0xLDEsMV0sWy0xLDEsLTFdLFsxLDEsLTFdXSxMPVtbLTEsLTEsMV0sWzEsLTEsMV0sWzEsLTEsLTFdLFstMSwtMSwtMV1dO2NvbnN0IGs9WzE3LDE4LDE5LDE2XSx3PVsyMiwyMywyMCwyMV07Zm9yKDtfPjA7KU0udW5zaGlmdChNLnBvcCgpKSxrLnVuc2hpZnQoay5wb3AoKSksXy0tO2Zvcig7RT4wOylMLnVuc2hpZnQoTC5wb3AoKSksdy51bnNoaWZ0KHcucG9wKCkpLEUtLTtNPU0uZmxhdCgpLEw9TC5mbGF0KCksbT1tLmNvbmNhdChNKS5jb25jYXQoTCksdC5wdXNoKGtbMF0sa1syXSxrWzNdLGtbMF0sa1sxXSxrWzJdKSx0LnB1c2god1swXSx3WzJdLHdbM10sd1swXSx3WzFdLHdbMl0pfWNvbnN0IHY9W24vMixhLzIsby8yXTtyPW0ucmVkdWNlKChNLEwsayk9Pk0uY29uY2F0KEwqdltrJTNdKSxbXSk7Y29uc3QgUz1jLnNpZGVPcmllbnRhdGlvbj09PTA/MDpjLnNpZGVPcmllbnRhdGlvbnx8ZWUuREVGQVVMVFNJREUseT1jLmZhY2VVVnx8bmV3IEFycmF5KDYpLEE9Yy5mYWNlQ29sb3JzLEM9W107Zm9yKGxldCBNPTA7TTw2O00rKyl5W01dPT09dm9pZCAwJiYoeVtNXT1uZXcgQ2UoMCwwLDEsMSkpLEEmJkFbTV09PT12b2lkIDAmJihBW01dPW5ldyBtZSgxLDEsMSwxKSk7Zm9yKGxldCBNPTA7TTw2O00rKylpZihzLnB1c2goeVtNXS56LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnc6eVtNXS53KSxzLnB1c2goeVtNXS54LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnc6eVtNXS53KSxzLnB1c2goeVtNXS54LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnk6eVtNXS55KSxzLnB1c2goeVtNXS56LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnk6eVtNXS55KSxBKWZvcihsZXQgTD0wO0w8NDtMKyspQy5wdXNoKEFbTV0ucixBW01dLmcsQVtNXS5iLEFbTV0uYSk7ZWUuX0NvbXB1dGVTaWRlcyhTLHIsdCxpLHMsYy5mcm9udFVWcyxjLmJhY2tVVnMpO2NvbnN0IGI9bmV3IGVlO2lmKGIuaW5kaWNlcz10LGIucG9zaXRpb25zPXIsYi5ub3JtYWxzPWksYi51dnM9cyxBKXtjb25zdCBNPVM9PT1lZS5ET1VCTEVTSURFP0MuY29uY2F0KEMpOkM7Yi5jb2xvcnM9TX1yZXR1cm4gYn1mdW5jdGlvbiBNaShjLGU9e30sdD1udWxsKXtjb25zdCBpPW5ldyBXKGMsdCk7cmV0dXJuIGUuc2lkZU9yaWVudGF0aW9uPVcuX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb24oZS5zaWRlT3JpZW50YXRpb24pLGkuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1lLnNpZGVPcmllbnRhdGlvbixVcihlKS5hcHBseVRvTWVzaChpLGUudXBkYXRhYmxlKSxpfWVlLkNyZWF0ZUJveD1VcixXLkNyZWF0ZUJveD0oYyxlLHQ9bnVsbCxpLHMpPT5NaShjLHtzaXplOmUsc2lkZU9yaWVudGF0aW9uOnMsdXBkYXRhYmxlOml9LHQpO2NsYXNzIGtye2NvbnN0cnVjdG9yKCl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXM9e30sdGhpcy5wcmV2aW91c0JvbmVzPXt9fXN0YXRpYyBBZGRVbmlmb3JtcyhlKXtlLnB1c2goInByZXZpb3VzV29ybGQiLCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIiwibVByZXZpb3VzQm9uZXMiKX1zdGF0aWMgQWRkU2FtcGxlcnMoZSl7fWJpbmRGb3JTdWJNZXNoKGUsdCxpLHMscil7aWYodC5wcmVQYXNzUmVuZGVyZXImJnQucHJlUGFzc1JlbmRlcmVyLmVuYWJsZWQmJnQucHJlUGFzc1JlbmRlcmVyLmN1cnJlbnRSVGlzU2NlbmVSVCYmdC5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikhPT0tMSl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF18fCh0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXT1zLmNsb25lKCkpLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbnx8KHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb249dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS5jbG9uZSgpKTtjb25zdCBuPXQuZ2V0RW5naW5lKCk7dGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24udXBkYXRlRmxhZyE9PXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkudXBkYXRlRmxhZz8odGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9bi5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbiksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24uY29weUZyb20odC5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkIT09bi5mcmFtZUlkJiYodGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9bi5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbikpLGUuc2V0TWF0cml4KCJwcmV2aW91c1dvcmxkIix0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXSksZS5zZXRNYXRyaXgoInByZXZpb3VzVmlld1Byb2plY3Rpb24iLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbiksdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF09cy5jbG9uZSgpfX19Y2xhc3MgVnIgZXh0ZW5kcyBQe2NvbnN0cnVjdG9yKGUsdCxpPSEwKXtzdXBlcihlLHQpLHRoaXMuX25vcm1hbE1hdHJpeD1uZXcgeCx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPWl9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dGhpcy5fYWN0aXZlRWZmZWN0OnN1cGVyLmdldEVmZmVjdCgpfWlzUmVhZHkoZSx0KXtyZXR1cm4gZT8hdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlc3x8IWUuc3ViTWVzaGVzfHxlLnN1Yk1lc2hlcy5sZW5ndGg9PT0wPyEwOnRoaXMuaXNSZWFkeUZvclN1Yk1lc2goZSxlLnN1Yk1lc2hlc1swXSx0KTohMX1faXNSZWFkeUZvclN1Yk1lc2goZSl7Y29uc3QgdD1lLm1hdGVyaWFsRGVmaW5lcztyZXR1cm4hISghdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGwmJmUuZWZmZWN0JiZ0JiZ0Ll9yZW5kZXJJZD09PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpKX1iaW5kT25seVdvcmxkTWF0cml4KGUpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIndvcmxkIixlKX1iaW5kT25seU5vcm1hbE1hdHJpeChlKXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJub3JtYWxNYXRyaXgiLGUpfWJpbmQoZSx0KXt0JiZ0aGlzLmJpbmRGb3JTdWJNZXNoKGUsdCx0LnN1Yk1lc2hlc1swXSl9X2FmdGVyQmluZChlLHQ9bnVsbCl7c3VwZXIuX2FmdGVyQmluZChlLHQpLHRoaXMuZ2V0U2NlbmUoKS5fY2FjaGVkRWZmZWN0PXQsdCYmKHQuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSl9X211c3RSZWJpbmQoZSx0LGk9MSl7cmV0dXJuIGUuaXNDYWNoZWRNYXRlcmlhbEludmFsaWQodGhpcyx0LGkpfX1jbGFzcyB1ZXtzdGF0aWMgZ2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEZXRhaWxUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBCdW1wVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQnVtcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQnVtcFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEZyZXNuZWxFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0ZyZXNuZWxFbmFibGVkfXN0YXRpYyBzZXQgRnJlc25lbEVuYWJsZWQoZSl7dGhpcy5fRnJlc25lbEVuYWJsZWQhPT1lJiYodGhpcy5fRnJlc25lbEVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDQpKX1zdGF0aWMgZ2V0IENsZWFyQ29hdFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IENsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBTaGVlblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBTaGVlblRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFRoaWNrbmVzc1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBUcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFRyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBJcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBJcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfX11ZS5fRGlmZnVzZVRleHR1cmVFbmFibGVkPSEwLHVlLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQW1iaWVudFRleHR1cmVFbmFibGVkPSEwLHVlLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCx1ZS5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQnVtcFRleHR1cmVFbmFibGVkPSEwLHVlLl9MaWdodG1hcFRleHR1cmVFbmFibGVkPSEwLHVlLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPSEwLHVlLl9GcmVzbmVsRW5hYmxlZD0hMCx1ZS5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkPSEwLHVlLl9TaGVlblRleHR1cmVFbmFibGVkPSEwLHVlLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPSEwLHVlLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLHVlLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZD0hMDtjb25zdCBCbz0iZGVmYXVsdEZyYWdtZW50RGVjbGFyYXRpb24iLFVvPWB1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwp1bmlmb3JtIHZlYzQgdkRpZmZ1c2VDb2xvcjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdlNwZWN1bGFyQ29sb3I7CiNlbmRpZgp1bmlmb3JtIHZlYzMgdkVtaXNzaXZlQ29sb3I7CnVuaWZvcm0gdmVjMyB2QW1iaWVudENvbG9yOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNpZmRlZiBESUZGVVNFCnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWSAKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIHZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKdW5pZm9ybSBmbG9hdCBhbHBoYUN1dE9mZjsKI2VuZGlmCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZSQUNUSU9OKSB8fCBkZWZpbmVkKFBSRVBBU1MpCnVuaWZvcm0gbWF0NCB2aWV3OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT04KdW5pZm9ybSB2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CiNpZm5kZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIG1hdDQgcmVmcmFjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTAp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvbkxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25SaWdodENvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMpICYmIGRlZmluZWQoUkVGUkFDVElPTk1BUF8zRCkKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uUG9zaXRpb247CnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblNpemU7IAojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSKSAmJiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKdW5pZm9ybSB2ZWMyIHZTcGVjdWxhckluZm9zOwojZW5kaWYKI2lmZGVmIERJRkZVU0VGUkVTTkVMCnVuaWZvcm0gdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgZGlmZnVzZVJpZ2h0Q29sb3I7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKdW5pZm9ybSB2ZWM0IG9wYWNpdHlQYXJ0czsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSB2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUExBTkFSKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU0tZQk9YKQp1bmlmb3JtIG1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZm5kZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKI2lmIGRlZmluZWQoVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMpICYmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uUG9zaXRpb247CnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblNpemU7IAojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTAp1bmlmb3JtIHZlYzQgcmVmbGVjdGlvbkxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKI2VuZGlmCiNkZWZpbmUgQURESVRJT05BTF9GUkFHTUVOVF9ERUNMQVJBVElPTgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQm9dPVVvO2NvbnN0IGtvPSJkZWZhdWx0VWJvRGVjbGFyYXRpb24iLFZvPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKdW5pZm9ybSBNYXRlcmlhbAp7CnZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdmVjNCBkaWZmdXNlUmlnaHRDb2xvcjsKdmVjNCBvcGFjaXR5UGFydHM7CnZlYzQgcmVmbGVjdGlvbkxlZnRDb2xvcjsKdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKdmVjNCByZWZyYWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25SaWdodENvbG9yOwp2ZWM0IGVtaXNzaXZlTGVmdENvbG9yOwp2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKdmVjMiB2RGlmZnVzZUluZm9zOwp2ZWMyIHZBbWJpZW50SW5mb3M7CnZlYzIgdk9wYWNpdHlJbmZvczsKdmVjMiB2UmVmbGVjdGlvbkluZm9zOwp2ZWMzIHZSZWZsZWN0aW9uUG9zaXRpb247CnZlYzMgdlJlZmxlY3Rpb25TaXplOwp2ZWMyIHZFbWlzc2l2ZUluZm9zOwp2ZWMyIHZMaWdodG1hcEluZm9zOwp2ZWMyIHZTcGVjdWxhckluZm9zOwp2ZWMzIHZCdW1wSW5mb3M7Cm1hdDQgZGlmZnVzZU1hdHJpeDsKbWF0NCBhbWJpZW50TWF0cml4OwptYXQ0IG9wYWNpdHlNYXRyaXg7Cm1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKbWF0NCBlbWlzc2l2ZU1hdHJpeDsKbWF0NCBsaWdodG1hcE1hdHJpeDsKbWF0NCBzcGVjdWxhck1hdHJpeDsKbWF0NCBidW1wTWF0cml4Owp2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CmZsb2F0IHBvaW50U2l6ZTsKZmxvYXQgYWxwaGFDdXRPZmY7Cm1hdDQgcmVmcmFjdGlvbk1hdHJpeDsKdmVjNCB2UmVmcmFjdGlvbkluZm9zOwp2ZWMzIHZSZWZyYWN0aW9uUG9zaXRpb247CnZlYzMgdlJlZnJhY3Rpb25TaXplOwp2ZWM0IHZTcGVjdWxhckNvbG9yOwp2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp2ZWM0IHZEaWZmdXNlQ29sb3I7CnZlYzMgdkFtYmllbnRDb2xvcjsKI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTgp9OwojaW5jbHVkZTxzY2VuZVVib0RlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVWJvRGVjbGFyYXRpb24+CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrb109Vm87Y29uc3QgV289InByZVBhc3NEZWNsYXJhdGlvbiIsem89YCNpZmRlZiBQUkVQQVNTCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCBoaWdocCB2ZWM0IGdsRnJhZ0RhdGFbe1h9XTtoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyBoaWdocCB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmFyeWluZyBoaWdocCB2ZWM0IHZDdXJyZW50UG9zaXRpb247dmFyeWluZyBoaWdocCB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtXb109em87Y29uc3QgR289Im9pdERlY2xhcmF0aW9uIixYbz1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQojZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlCmxheW91dChsb2NhdGlvbj0wKSBvdXQgdmVjMiBkZXB0aDsgCmxheW91dChsb2NhdGlvbj0xKSBvdXQgdmVjNCBmcm9udENvbG9yOwpsYXlvdXQobG9jYXRpb249Mikgb3V0IHZlYzQgYmFja0NvbG9yOwojZGVmaW5lIE1BWF9ERVBUSCA5OTk5OS4wCmhpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXREZXB0aFNhbXBsZXI7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdEZyb250Q29sb3JTYW1wbGVyOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dvXT1Ybztjb25zdCBIbz0ibWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uIixLbz1gI2lmZGVmIE1BSU5VVntYfQp2YXJ5aW5nIHZlYzIgdk1haW5VVntYfTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIb109S287Y29uc3QgWW89ImxpZ2h0RnJhZ21lbnREZWNsYXJhdGlvbiIsWm89YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWW9dPVpvO2NvbnN0IHFvPSJsaWdodFVib0RlY2xhcmF0aW9uIixqbz1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gTGlnaHR7WH0Kewp2ZWM0IHZMaWdodERhdGE7CnZlYzQgdkxpZ2h0RGlmZnVzZTsKdmVjNCB2TGlnaHRTcGVjdWxhcjsKI2lmZGVmIFNQT1RMSUdIVHtYfQp2ZWM0IHZMaWdodERpcmVjdGlvbjsKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnZlYzMgdkxpZ2h0R3JvdW5kOwojZW5kaWYKdmVjNCBzaGFkb3dzSW5mbzsKdmVjMiBkZXB0aFZhbHVlczsKfSBsaWdodHtYfTsKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQp1bmlmb3JtIG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH07CnVuaWZvcm0gc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07IAojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3FvXT1qbztjb25zdCAkbz0ibGlnaHRzRnJhZ21lbnRGdW5jdGlvbnMiLFFvPWBzdHJ1Y3QgbGlnaHRpbmdJbmZvCnsKdmVjMyBkaWZmdXNlOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXI7CiNlbmRpZgojaWZkZWYgTkRPVEwKZmxvYXQgbmRsOwojZW5kaWYKfTsKbGlnaHRpbmdJbmZvIGNvbXB1dGVMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGxpZ2h0VmVjdG9yVzsKZmxvYXQgYXR0ZW51YXRpb249MS4wOwppZiAobGlnaHREYXRhLnc9PTAuKQp7CnZlYzMgZGlyZWN0aW9uPWxpZ2h0RGF0YS54eXotdlBvc2l0aW9uVzsKYXR0ZW51YXRpb249bWF4KDAuLDEuMC1sZW5ndGgoZGlyZWN0aW9uKS9yYW5nZSk7CmxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoZGlyZWN0aW9uKTsKfQplbHNlCnsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZSgtbGlnaHREYXRhLnh5eik7Cn0KZmxvYXQgbmRsPW1heCgwLixkb3Qodk5vcm1hbCxsaWdodFZlY3RvclcpKTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bmRsKmRpZmZ1c2VDb2xvciphdHRlbnVhdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHRWZWN0b3JXKTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3IqYXR0ZW51YXRpb247CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CmxpZ2h0aW5nSW5mbyBjb21wdXRlU3BvdExpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzQgbGlnaHREaXJlY3Rpb24sdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLGZsb2F0IHJhbmdlLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwp2ZWMzIGxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoZGlyZWN0aW9uKTsKZmxvYXQgYXR0ZW51YXRpb249bWF4KDAuLDEuMC1sZW5ndGgoZGlyZWN0aW9uKS9yYW5nZSk7CmZsb2F0IGNvc0FuZ2xlPW1heCgwLixkb3QobGlnaHREaXJlY3Rpb24ueHl6LC1saWdodFZlY3RvclcpKTsKaWYgKGNvc0FuZ2xlPj1saWdodERpcmVjdGlvbi53KQp7CmNvc0FuZ2xlPW1heCgwLixwb3coY29zQW5nbGUsbGlnaHREYXRhLncpKTsKYXR0ZW51YXRpb24qPWNvc0FuZ2xlOwpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KcmVzdWx0LmRpZmZ1c2U9dmVjMygwLik7CiNpZmRlZiBTUEVDVUxBUlRFUk0KcmVzdWx0LnNwZWN1bGFyPXZlYzMoMC4pOwojZW5kaWYKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9MC47CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CmxpZ2h0aW5nSW5mbyBjb21wdXRlSGVtaXNwaGVyaWNMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsdmVjMyBncm91bmRDb2xvcixmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CmZsb2F0IG5kbD1kb3Qodk5vcm1hbCxsaWdodERhdGEueHl6KSowLjUrMC41OwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1taXgoZ3JvdW5kQ29sb3IsZGlmZnVzZUNvbG9yLG5kbCk7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0RGF0YS54eXopOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvcjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KI2RlZmluZSBpbmxpbmUKdmVjMyBjb21wdXRlUHJvamVjdGlvblRleHR1cmVEaWZmdXNlTGlnaHRpbmcoc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXIsbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCl7CnZlYzQgc3RycT10ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCp2ZWM0KHZQb3NpdGlvblcsMS4wKTsKc3RycS89c3RycS53Owp2ZWMzIHRleHR1cmVDb2xvcj10ZXh0dXJlMkQocHJvamVjdGlvbkxpZ2h0U2FtcGxlcixzdHJxLnh5KS5yZ2I7CnJldHVybiB0ZXh0dXJlQ29sb3I7Cn1gO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJG9dPVFvO2NvbnN0IEpvPSJzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnMiLGVoPWAjaWZkZWYgU0hBRE9XUwojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKI2RlZmluZSBURVhUVVJFRlVOQyhzLGMsbCkgdGV4dHVyZTJETG9kRVhUKHMsYyxsKQojZWxzZQojZGVmaW5lIFRFWFRVUkVGVU5DKHMsYyxiKSB0ZXh0dXJlMkQocyxjLGIpCiNlbmRpZgojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfQojZW5kaWYKZmxvYXQgY29tcHV0ZUZhbGxPZmYoZmxvYXQgdmFsdWUsdmVjMiBjbGlwU3BhY2UsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmZsb2F0IG1hc2s9c21vb3Roc3RlcCgxLjAtZnJ1c3R1bUVkZ2VGYWxsb2ZmLDEuMDAwMDAwMTIsY2xhbXAoZG90KGNsaXBTcGFjZSxjbGlwU3BhY2UpLDAuLDEuKSk7CnJldHVybiBtaXgodmFsdWUsMS4wLG1hc2spOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCnJldHVybiBkZXB0aD5zaGFkb3cgPyBkYXJrbmVzcyA6IDEuMDsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMzIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMzKC0xLjAsMS4wLC0xLjApOwpwb2lzc29uRGlza1sxXT12ZWMzKDEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1syXT12ZWMzKC0xLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbM109dmVjMygxLjAsLTEuMCwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7IApyZXR1cm4gZXNtOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGVzbTsKfQojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd0NTTShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwp2ZWMzIHV2TGF5ZXI9dmVjMyh1di54LHV2LnksbGF5ZXIpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkxheWVyKSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkxheWVyKS54OwojZW5kaWYKcmV0dXJuIHNoYWRvd1BpeGVsRGVwdGg+c2hhZG93ID8gY29tcHV0ZUZhbGxPZmYoZGFya25lc3MsY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZikgOiAxLjsKfQojZW5kaWYKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvdyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKSk7CiNlbHNlCmZsb2F0IHNoYWRvdz1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKS54OwojZW5kaWYKcmV0dXJuIHNoYWRvd1BpeGVsRGVwdGg+c2hhZG93ID8gY29tcHV0ZUZhbGxPZmYoZGFya25lc3MsY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZikgOiAxLjsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IG1hcFNpemUsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMyIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMyKC0wLjk0MjAxNjI0LC0wLjM5OTA2MjE2KTsKcG9pc3NvbkRpc2tbMV09dmVjMigwLjk0NTU4NjA5LC0wLjc2ODkwNzI1KTsKcG9pc3NvbkRpc2tbMl09dmVjMigtMC4wOTQxODQxMDEsLTAuOTI5Mzg4NzApOwpwb2lzc29uRGlza1szXT12ZWMyKDAuMzQ0OTU5MzgsMC4yOTM4Nzc2MCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gY29tcHV0ZUZhbGxPZmYobWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7IAojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIFpJTkNMSVAgY2xpcFNwYWNlLnoKI2Vsc2UKI2RlZmluZSBaSU5DTElQIHV2RGVwdGguegojZW5kaWYKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCiNkZWZpbmUgR1JFQVRFU1RfTEVTU19USEFOX09ORSAwLjk5OTk5OTk0CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKZmxvYXQgc2hhZG93PVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCwwLik7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzAueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3c9c2hhZG93LzE2LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD00Li0zLipzdDsKdmVjMiB1dncxPXZlYzIoNy4pOwp2ZWMyIHV2dzI9MS4rMy4qc3Q7CnZlYzMgdT12ZWMzKCgzLi0yLipzdC54KS91dncwLngtMi4sKDMuK3N0LngpL3V2dzEueCxzdC54L3V2dzIueCsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMyB2PXZlYzMoKDMuLTIuKnN0LnkpL3V2dzAueS0yLiwoMy4rc3QueSkvdXZ3MS55LHN0LnkvdXZ3Mi55KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMl0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MC54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MC54KnV2dzIueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzIueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsyXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdz1zaGFkb3cvMTQ0LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnMzMls2NF09dmVjM1s2NF0oCnZlYzMoMC4wNjQwNzAxMywwLjA1NDA5OTI3LDAuKSwKdmVjMygwLjczNjY1NzcsMC41Nzg5Mzk0LDAuKSwKdmVjMygtMC42MjcwNTQyLC0wLjUzMjAyNzgsMC4pLAp2ZWMzKC0wLjQwOTYxMDcsMC44NDExMDk1LDAuKSwKdmVjMygwLjY4NDk1NjQsLTAuNDk5MDgxOCwwLiksCnZlYzMoLTAuODc0MTgxLC0wLjA0NTc5NzM1LDAuKSwKdmVjMygwLjk5ODk5OTgsMC4wMDA5ODgwMDY2LDAuKSwKdmVjMygtMC4wMDQ5MjA1NzgsLTAuOTE1MTY0OSwwLiksCnZlYzMoMC4xODA1NzYzLDAuOTc0NzQ4MywwLiksCnZlYzMoLTAuMjEzODQ1MSwwLjI2MzU4MTgsMC4pLAp2ZWMzKDAuMTA5ODQ1LDAuMzg4NDc4NSwwLiksCnZlYzMoMC4wNjg3Njc1NSwtMC4zNTgxMDc0LDAuKSwKdmVjMygwLjM3NDA3MywtMC43NjYxMjY2LDAuKSwKdmVjMygwLjMwNzkxMzIsLTAuMTIxNjc2MywwLiksCnZlYzMoLTAuMzc5NDMzNSwtMC44MjcxNTgzLDAuKSwKdmVjMygtMC4yMDM4NzgsLTAuMDc3MTUwMzQsMC4pLAp2ZWMzKDAuNTkxMjY5NywwLjE0Njk3OTksMC4pLAp2ZWMzKC0wLjg4MDY5LDAuMzAzMTc4NCwwLiksCnZlYzMoMC41MDQwMTA4LDAuODI4MzcyMiwwLiksCnZlYzMoLTAuNTg0NDEyNCwwLjU0OTQ4NzcsMC4pLAp2ZWMzKDAuNjAxNzc5OSwtMC4xNzI2NjU0LDAuKSwKdmVjMygtMC41NTU0OTgxLDAuMTU1OTk5NywwLiksCnZlYzMoLTAuMzAxNjM2OSwtMC4zOTAwOTI4LDAuKSwKdmVjMygtMC41NTUwNjMyLC0wLjE3MjM3NjIsMC4pLAp2ZWMzKDAuOTI1MDI5LDAuMjk5NTA0MSwwLiksCnZlYzMoLTAuMjQ3MzEzNywwLjU1Mzg1MDUsMC4pLAp2ZWMzKDAuOTE4MzAzNywtMC4yODYyMzkyLDAuKSwKdmVjMygwLjI0Njk0MjEsMC42NzE4NzEyLDAuKSwKdmVjMygwLjM5MTYzOTcsLTAuNDMyODIwOSwwLiksCnZlYzMoLTAuMDM1NzY5MjcsLTAuNjIyMDAzMiwwLiksCnZlYzMoLTAuMDQ2NjEyNTUsMC43OTk1MjAxLDAuKSwKdmVjMygwLjQ0MDI5MjQsMC4zNjQwMzEyLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pCik7CmNvbnN0IHZlYzMgUG9pc3NvblNhbXBsZXJzNjRbNjRdPXZlYzNbNjRdKAp2ZWMzKC0wLjYxMzM5MiwwLjYxNzQ4MSwwLiksCnZlYzMoMC4xNzAwMTksLTAuMDQwMjU0LDAuKSwKdmVjMygtMC4yOTk0MTcsMC43OTE5MjUsMC4pLAp2ZWMzKDAuNjQ1NjgwLDAuNDkzMjEwLDAuKSwKdmVjMygtMC42NTE3ODQsMC43MTc4ODcsMC4pLAp2ZWMzKDAuNDIxMDAzLDAuMDI3MDcwLDAuKSwKdmVjMygtMC44MTcxOTQsLTAuMjcxMDk2LDAuKSwKdmVjMygtMC43MDUzNzQsLTAuNjY4MjAzLDAuKSwKdmVjMygwLjk3NzA1MCwtMC4xMDg2MTUsMC4pLAp2ZWMzKDAuMDYzMzI2LDAuMTQyMzY5LDAuKSwKdmVjMygwLjIwMzUyOCwwLjIxNDMzMSwwLiksCnZlYzMoLTAuNjY3NTMxLDAuMzI2MDkwLDAuKSwKdmVjMygtMC4wOTg0MjIsLTAuMjk1NzU1LDAuKSwKdmVjMygtMC44ODU5MjIsMC4yMTUzNjksMC4pLAp2ZWMzKDAuNTY2NjM3LDAuNjA1MjEzLDAuKSwKdmVjMygwLjAzOTc2NiwtMC4zOTYxMDAsMC4pLAp2ZWMzKDAuNzUxOTQ2LDAuNDUzMzUyLDAuKSwKdmVjMygwLjA3ODcwNywtMC43MTUzMjMsMC4pLAp2ZWMzKC0wLjA3NTgzOCwtMC41MjkzNDQsMC4pLAp2ZWMzKDAuNzI0NDc5LC0wLjU4MDc5OCwwLiksCnZlYzMoMC4yMjI5OTksLTAuMjE1MTI1LDAuKSwKdmVjMygtMC40Njc1NzQsLTAuNDA1NDM4LDAuKSwKdmVjMygtMC4yNDgyNjgsLTAuODE0NzUzLDAuKSwKdmVjMygwLjM1NDQxMSwtMC44ODc1NzAsMC4pLAp2ZWMzKDAuMTc1ODE3LDAuMzgyMzY2LDAuKSwKdmVjMygwLjQ4NzQ3MiwtMC4wNjMwODIsMC4pLAp2ZWMzKC0wLjA4NDA3OCwwLjg5ODMxMiwwLiksCnZlYzMoMC40ODg4NzYsLTAuNzgzNDQxLDAuKSwKdmVjMygwLjQ3MDAxNiwwLjIxNzkzMywwLiksCnZlYzMoLTAuNjk2ODkwLC0wLjU0OTc5MSwwLiksCnZlYzMoLTAuMTQ5NjkzLDAuNjA1NzYyLDAuKSwKdmVjMygwLjAzNDIxMSwwLjk3OTk4MCwwLiksCnZlYzMoMC41MDMwOTgsLTAuMzA4ODc4LDAuKSwKdmVjMygtMC4wMTYyMDUsLTAuODcyOTIxLDAuKSwKdmVjMygwLjM4NTc4NCwtMC4zOTM5MDIsMC4pLAp2ZWMzKC0wLjE0Njg4NiwtMC44NTkyNDksMC4pLAp2ZWMzKDAuNjQzMzYxLDAuMTY0MDk4LDAuKSwKdmVjMygwLjYzNDM4OCwtMC4wNDk0NzEsMC4pLAp2ZWMzKC0wLjY4ODg5NCwwLjAwNzg0MywwLiksCnZlYzMoMC40NjQwMzQsLTAuMTg4ODE4LDAuKSwKdmVjMygtMC40NDA4NDAsMC4xMzc0ODYsMC4pLAp2ZWMzKDAuMzY0NDgzLDAuNTExNzA0LDAuKSwKdmVjMygwLjAzNDAyOCwwLjMyNTk2OCwwLiksCnZlYzMoMC4wOTkwOTQsLTAuMzA4MDIzLDAuKSwKdmVjMygwLjY5Mzk2MCwtMC4zNjYyNTMsMC4pLAp2ZWMzKDAuNjc4ODg0LC0wLjIwNDY4OCwwLiksCnZlYzMoMC4wMDE4MDEsMC43ODAzMjgsMC4pLAp2ZWMzKDAuMTQ1MTc3LC0wLjg5ODk4NCwwLiksCnZlYzMoMC4wNjI2NTUsLTAuNjExODY2LDAuKSwKdmVjMygwLjMxNTIyNiwtMC42MDQyOTcsMC4pLAp2ZWMzKC0wLjc4MDE0NSwwLjQ4NjI1MSwwLiksCnZlYzMoLTAuMzcxODY4LDAuODgyMTM4LDAuKSwKdmVjMygwLjIwMDQ3NiwwLjQ5NDQzMCwwLiksCnZlYzMoLTAuNDk0NTUyLC0wLjcxMTA1MSwwLiksCnZlYzMoMC42MTI0NzYsMC43MDUyNTIsMC4pLAp2ZWMzKC0wLjU3ODg0NSwtMC43Njg3OTIsMC4pLAp2ZWMzKC0wLjc3MjQ1NCwtMC4wOTA5NzYsMC4pLAp2ZWMzKDAuNTA0NDQwLDAuMzcyMjk1LDAuKSwKdmVjMygwLjE1NTczNiwwLjA2NTE1NywwLiksCnZlYzMoMC4zOTE1MjIsMC44NDk2MDUsMC4pLAp2ZWMzKC0wLjYyMDEwNiwtMC4zMjgxMDQsMC4pLAp2ZWMzKDAuNzg5MjM5LC0wLjQxOTk2NSwwLiksCnZlYzMoLTAuNTQ1Mzk2LDAuNTM4MTMzLDAuKSwKdmVjMygtMC4xNzg1NjQsLTAuNTk2MDU3LDAuKQopOwojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLGludCBzZWFyY2hUYXBDb3VudCxpbnQgcGNmVGFwQ291bnQsdmVjM1s2NF0gcG9pc3NvblNhbXBsZXJzLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWM0IHV2RGVwdGhMYXllcj12ZWM0KHV2RGVwdGgueCx1dkRlcHRoLnksbGF5ZXIsdXZEZXB0aC56KTsKZmxvYXQgYmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgc3VtQmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgbnVtQmxvY2tlcj0wLjA7CmZvciAoaW50IGk9MDsgaTxzZWFyY2hUYXBDb3VudDsgaSArKykgewpibG9ja2VyRGVwdGg9dGV4dHVyZTJEKGRlcHRoU2FtcGxlcix2ZWMzKHV2RGVwdGgueHkrKGxpZ2h0U2l6ZVVWKmxpZ2h0U2l6ZVVWQ29ycmVjdGlvbipzaGFkb3dNYXBTaXplSW52ZXJzZSpQb2lzc29uU2FtcGxlcnMzMltpXS54eSksbGF5ZXIpKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQpmbG9hdCBhdmdCbG9ja2VyRGVwdGg9c3VtQmxvY2tlckRlcHRoL251bUJsb2NrZXI7CmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKZmxvYXQgcGVudW1icmFSYXRpbz0oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uK0FBT2Zmc2V0KTsKdmVjNCBmaWx0ZXJSYWRpdXM9dmVjNChwZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKmxpZ2h0U2l6ZVVWQ29ycmVjdGlvbipzaGFkb3dNYXBTaXplSW52ZXJzZSwwLiwwLik7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzQgb2Zmc2V0PXZlYzQocG9pc3NvblNhbXBsZXJzW2ldLDAuKTsKb2Zmc2V0PXZlYzQob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLiwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyK29mZnNldCpmaWx0ZXJSYWRpdXMpOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwpzaGFkb3c9bWl4KHNoYWRvdywxLixtaW4oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uKnBlbnVtYnJhRGFya25lc3MsMS4pKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycykKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKZmxvYXQgYmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgc3VtQmxvY2tlckRlcHRoPTAuMDsKZmxvYXQgbnVtQmxvY2tlcj0wLjA7CmZvciAoaW50IGk9MDsgaTxzZWFyY2hUYXBDb3VudDsgaSArKykgewpibG9ja2VyRGVwdGg9VEVYVFVSRUZVTkMoZGVwdGhTYW1wbGVyLHV2RGVwdGgueHkrKGxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSwwLikucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKStBQU9mZnNldCk7CmZsb2F0IGZpbHRlclJhZGl1cz1wZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlOwpmbG9hdCByYW5kb209Z2V0UmFuZCh2UG9zaXRpb25Gcm9tTGlnaHQueHkpOwpmbG9hdCByb3RhdGlvbkFuZ2xlPXJhbmRvbSozLjE0MTU5MjY7CnZlYzIgcm90YXRpb25WZWN0b3I9dmVjMihjb3Mocm90YXRpb25BbmdsZSksc2luKHJvdGF0aW9uQW5nbGUpKTsKZmxvYXQgc2hhZG93PTAuOwpmb3IgKGludCBpPTA7IGk8cGNmVGFwQ291bnQ7IGkrKykgewp2ZWMzIG9mZnNldD1wb2lzc29uU2FtcGxlcnNbaV07Cm9mZnNldD12ZWMzKG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4pOwpzaGFkb3crPVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCtvZmZzZXQqZmlsdGVyUmFkaXVzLDAuKTsKfQpzaGFkb3cvPWZsb2F0KHBjZlRhcENvdW50KTsKc2hhZG93PW1peChzaGFkb3csMS4sZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MxNih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMTYsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0KTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyLGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMzIsNjQsUG9pc3NvblNhbXBsZXJzNjQsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKb109ZWg7Y29uc3QgdGg9InNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uIixpaD1gI2lmZGVmIF9ERUZJTkVOQU1FXwojaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTEKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYxCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0yCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMgojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MwojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjMKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTQKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY0CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT01CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NgojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjYKI2Vsc2UKdmFyeWluZyB2ZWMyIHZfVkFSWUlOR05BTUVfVVY7CiNlbmRpZgp1bmlmb3JtIHNhbXBsZXIyRCBfU0FNUExFUk5BTUVfU2FtcGxlcjsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0aF09aWg7Y29uc3Qgc2g9ImZyZXNuZWxGdW5jdGlvbiIscmg9YCNpZmRlZiBGUkVTTkVMCmZsb2F0IGNvbXB1dGVGcmVzbmVsVGVybSh2ZWMzIHZpZXdEaXJlY3Rpb24sdmVjMyB3b3JsZE5vcm1hbCxmbG9hdCBiaWFzLGZsb2F0IHBvd2VyKQp7CmZsb2F0IGZyZXNuZWxUZXJtPXBvdyhiaWFzK2Ficyhkb3Qodmlld0RpcmVjdGlvbix3b3JsZE5vcm1hbCkpLHBvd2VyKTsKcmV0dXJuIGNsYW1wKGZyZXNuZWxUZXJtLDAuLDEuKTsKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NoXT1yaDtjb25zdCBuaD0icmVmbGVjdGlvbkZ1bmN0aW9uIixhaD1gdmVjMyBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7IAp9CnZlYzMgY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMygxLjAtcyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgY2FtZXJhVG9WZXJ0ZXg9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgcj1ub3JtYWxpemUocmVmbGVjdChjYW1lcmFUb1ZlcnRleCx3b3JsZE5vcm1hbCkpOwpyPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHIsMCkpOwpmbG9hdCBsb249YXRhbihyLnosci54KTsKZmxvYXQgbGF0PWFjb3Moci55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOwp9CnZlYzMgY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsbWF0NCB2aWV3LG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHZlYzModmlldyp3b3JsZFBvcykpOwp2ZWMzIHZpZXdOb3JtYWw9bm9ybWFsaXplKHZlYzModmlldyp2ZWM0KHdvcmxkTm9ybWFsLDAuMCkpKTsKdmVjMyByPXJlZmxlY3Qodmlld0Rpcix2aWV3Tm9ybWFsKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKci56PXIuei0xLjA7CmZsb2F0IG09Mi4wKmxlbmd0aChyKTsKcmV0dXJuIHZlYzMoci54L20rMC41LDEuMC1yLnkvbS0wLjUsMCk7Cn0KdmVjMyBjb21wdXRlUGxhbmFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9d29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uOwp2ZWMzIGNvb3Jkcz1ub3JtYWxpemUocmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKSk7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMSkpOwp9CnZlYzMgY29tcHV0ZUN1YmljQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgY29vcmRzPXJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCk7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZUN1YmljTG9jYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4LHZlYzMgcmVmbGVjdGlvblNpemUsdmVjMyByZWZsZWN0aW9uUG9zaXRpb24pCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHdvcmxkUG9zLnh5eixjb29yZHMscmVmbGVjdGlvblNpemUscmVmbGVjdGlvblBvc2l0aW9uKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCoodmlldyp3b3JsZFBvcykpOwp9CnZlYzMgY29tcHV0ZVNreUJveENvb3Jkcyh2ZWMzIHBvc2l0aW9uVyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHBvc2l0aW9uVywxLikpOwp9CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgY29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsKQp7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUgpyZXR1cm4gY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMCnJldHVybiBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QTEFOQVIKcmV0dXJuIGNvbXB1dGVQbGFuYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0NVQklDCiNpZmRlZiBVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQwpyZXR1cm4gY29tcHV0ZUN1YmljTG9jYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4LHZSZWZsZWN0aW9uU2l6ZSx2UmVmbGVjdGlvblBvc2l0aW9uKTsKI2Vsc2UKcmV0dXJuIGNvbXB1dGVDdWJpY0Nvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KcmV0dXJuIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHdvcmxkUG9zLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKcmV0dXJuIGNvbXB1dGVTa3lCb3hDb29yZHModlBvc2l0aW9uVVZXLHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVhQTElDSVQKcmV0dXJuIHZlYzMoMCwwLDApOwojZW5kaWYKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW25oXT1haDtjb25zdCBvaD0iaW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24iLGhoPWAjaWZkZWYgRVhQT1NVUkUKdW5pZm9ybSBmbG9hdCBleHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBDT05UUkFTVAp1bmlmb3JtIGZsb2F0IGNvbnRyYXN0OwojZW5kaWYKI2lmIGRlZmluZWQoVklHTkVUVEUpIHx8IGRlZmluZWQoRElUSEVSKQp1bmlmb3JtIHZlYzIgdkludmVyc2VTY3JlZW5TaXplOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMTsKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MyOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZTsKI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKI2lmZGVmIENPTE9SR1JBRElORzNECnVuaWZvcm0gaGlnaHAgc2FtcGxlcjNEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbmRpZgp1bmlmb3JtIHZlYzQgY29sb3JUcmFuc2Zvcm1TZXR0aW5nczsKI2VuZGlmCiNpZmRlZiBESVRIRVIKdW5pZm9ybSBmbG9hdCBkaXRoZXJJbnRlbnNpdHk7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2hdPWhoO2NvbnN0IGxoPSJpbWFnZVByb2Nlc3NpbmdGdW5jdGlvbnMiLGNoPWAjaWYgZGVmaW5lZChDT0xPUkdSQURJTkcpICYmICFkZWZpbmVkKENPTE9SR1JBRElORzNEKQovKiogCiogUG9seWZpbGwgZm9yIFNBTVBMRV9URVhUVVJFXzNELHdoaWNoIGlzIHVuc3VwcG9ydGVkIGluIFdlYkdMLgoqIHNhbXBsZXIzZFNldHRpbmcueD10ZXh0dXJlT2Zmc2V0ICgwLjUvdGV4dHVyZVNpemUpLgoqIHNhbXBsZXIzZFNldHRpbmcueT10ZXh0dXJlU2l6ZS4KKi8KI2RlZmluZSBpbmxpbmUKdmVjMyBzYW1wbGVUZXh0dXJlM0Qoc2FtcGxlcjJEIGNvbG9yVHJhbnNmb3JtLHZlYzMgY29sb3IsdmVjMiBzYW1wbGVyM2RTZXR0aW5nKQp7CmZsb2F0IHNsaWNlU2l6ZT0yLjAqc2FtcGxlcjNkU2V0dGluZy54OyAKI2lmZGVmIFNBTVBMRVIzREdSRUVOREVQVEgKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5nLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZWxzZQpmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmItc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbmRpZgpmbG9hdCBzbGljZUludGVnZXI9Zmxvb3Ioc2xpY2VDb250aW51b3VzKTsKZmxvYXQgc2xpY2VGcmFjdGlvbj1zbGljZUNvbnRpbnVvdXMtc2xpY2VJbnRlZ2VyOwojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSAp2ZWMyIHNsaWNlVVY9Y29sb3IucmI7CiNlbHNlCnZlYzIgc2xpY2VVVj1jb2xvci5yZzsKI2VuZGlmCnNsaWNlVVYueCo9c2xpY2VTaXplOwpzbGljZVVWLngrPXNsaWNlSW50ZWdlcipzbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UwQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwpzbGljZVVWLngrPXNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTFDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnZlYzMgcmVzdWx0PW1peChzbGljZTBDb2xvci5yZ2Isc2xpY2UxQ29sb3IucmdiLHNsaWNlRnJhY3Rpb24pOwojaWZkZWYgU0FNUExFUjNEQkdSTUFQCmNvbG9yLnJnYj1yZXN1bHQucmdiOwojZWxzZQpjb2xvci5yZ2I9cmVzdWx0LmJncjsKI2VuZGlmCnJldHVybiBjb2xvcjsKfQojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKY29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQ9bWF0MygKdmVjMygwLjU5NzE5LDAuMDc2MDAsMC4wMjg0MCksCnZlYzMoMC4zNTQ1OCwwLjkwODM0LDAuMTMzODMpLAp2ZWMzKDAuMDQ4MjMsMC4wMTU2NiwwLjgzNzc3KQopOwpjb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQ9bWF0MygKdmVjMyggMS42MDQ3NSwtMC4xMDIwOCwtMC4wMDMyNyksCnZlYzMoLTAuNTMxMDgsIDEuMTA4MTMsLTAuMDcyNzYpLAp2ZWMzKC0wLjA3MzY3LC0wLjAwNjA1LCAxLjA3NjAyKQopOwp2ZWMzIFJSVEFuZE9EVEZpdCh2ZWMzIHYpCnsKdmVjMyBhPXYqKHYrMC4wMjQ1Nzg2KS0wLjAwMDA5MDUzNzsKdmVjMyBiPXYqKDAuOTgzNzI5KnYrMC40MzI5NTEwKSswLjIzODA4MTsKcmV0dXJuIGEvYjsKfQp2ZWMzIEFDRVNGaXR0ZWQodmVjMyBjb2xvcikKewpjb2xvcj1BQ0VTSW5wdXRNYXQqY29sb3I7CmNvbG9yPVJSVEFuZE9EVEZpdChjb2xvcik7CmNvbG9yPUFDRVNPdXRwdXRNYXQqY29sb3I7CmNvbG9yPXNhdHVyYXRlKGNvbG9yKTsKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgojZGVmaW5lIENVU1RPTV9JTUFHRVBST0NFU1NJTkdGVU5DVElPTlNfREVGSU5JVElPTlMKdmVjNCBhcHBseUltYWdlUHJvY2Vzc2luZyh2ZWM0IHJlc3VsdCkgewojZGVmaW5lIENVU1RPTV9JTUFHRVBST0NFU1NJTkdGVU5DVElPTlNfVVBEQVRFUkVTVUxUX0FUU1RBUlQKI2lmZGVmIEVYUE9TVVJFCnJlc3VsdC5yZ2IqPWV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnZlYzIgdmlld3BvcnRYWT1nbF9GcmFnQ29vcmQueHkqdkludmVyc2VTY3JlZW5TaXplOwp2aWV3cG9ydFhZPXZpZXdwb3J0WFkqMi4wLTEuMDsKdmVjMyB2aWduZXR0ZVhZMT12ZWMzKHZpZXdwb3J0WFkqdmlnbmV0dGVTZXR0aW5nczEueHkrdmlnbmV0dGVTZXR0aW5nczEuencsMS4wKTsKZmxvYXQgdmlnbmV0dGVUZXJtPWRvdCh2aWduZXR0ZVhZMSx2aWduZXR0ZVhZMSk7CmZsb2F0IHZpZ25ldHRlPXBvdyh2aWduZXR0ZVRlcm0sdmlnbmV0dGVTZXR0aW5nczIudyk7CnZlYzMgdmlnbmV0dGVDb2xvcj12aWduZXR0ZVNldHRpbmdzMi5yZ2I7CiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU1VTFRJUExZCnZlYzMgdmlnbmV0dGVDb2xvck11bHRpcGxpZXI9bWl4KHZpZ25ldHRlQ29sb3IsdmVjMygxLDEsMSksdmlnbmV0dGUpOwpyZXN1bHQucmdiKj12aWduZXR0ZUNvbG9yTXVsdGlwbGllcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU9QQVFVRQpyZXN1bHQucmdiPW1peCh2aWduZXR0ZUNvbG9yLHJlc3VsdC5yZ2IsdmlnbmV0dGUpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBUT05FTUFQUElORwojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpyZXN1bHQucmdiPUFDRVNGaXR0ZWQocmVzdWx0LnJnYik7CiNlbHNlCmNvbnN0IGZsb2F0IHRvbmVtYXBwaW5nQ2FsaWJyYXRpb249MS41OTA1Nzk7CnJlc3VsdC5yZ2I9MS4wLWV4cDIoLXRvbmVtYXBwaW5nQ2FsaWJyYXRpb24qcmVzdWx0LnJnYik7CiNlbmRpZgojZW5kaWYKcmVzdWx0LnJnYj10b0dhbW1hU3BhY2UocmVzdWx0LnJnYik7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYik7CiNpZmRlZiBDT05UUkFTVAp2ZWMzIHJlc3VsdEhpZ2hDb250cmFzdD1yZXN1bHQucmdiKnJlc3VsdC5yZ2IqKDMuMC0yLjAqcmVzdWx0LnJnYik7CmlmIChjb250cmFzdDwxLjApIHsKcmVzdWx0LnJnYj1taXgodmVjMygwLjUsMC41LDAuNSkscmVzdWx0LnJnYixjb250cmFzdCk7Cn0gZWxzZSB7CnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IscmVzdWx0SGlnaENvbnRyYXN0LGNvbnRyYXN0LTEuMCk7Cn0KI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKdmVjMyBjb2xvclRyYW5zZm9ybUlucHV0PXJlc3VsdC5yZ2IqY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy54eHgrY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eXk7CiNpZmRlZiBDT0xPUkdSQURJTkczRAp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXRleHR1cmUodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0KS5yZ2I7CiNlbHNlCnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9c2FtcGxlVGV4dHVyZTNEKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl6KS5yZ2I7CiNlbmRpZgpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLGNvbG9yVHJhbnNmb3JtT3V0cHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3Mud3d3KTsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwpmbG9hdCBsdW1hPWdldEx1bWluYW5jZShyZXN1bHQucmdiKTsKdmVjMiBjdXJ2ZU1peD1jbGFtcCh2ZWMyKGx1bWEqMy4wLTEuNSxsdW1hKi0zLjArMS41KSx2ZWMyKDAuMCksdmVjMigxLjApKTsKdmVjNCBjb2xvckN1cnZlPXZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCtjdXJ2ZU1peC54KnZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUtY3VydmVNaXgueSp2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwpyZXN1bHQucmdiKj1jb2xvckN1cnZlLnJnYjsKcmVzdWx0LnJnYj1taXgodmVjMyhsdW1hKSxyZXN1bHQucmdiLGNvbG9yQ3VydmUuYSk7CiNlbmRpZgojaWZkZWYgRElUSEVSCmZsb2F0IHJhbmQ9Z2V0UmFuZChnbF9GcmFnQ29vcmQueHkqdkludmVyc2VTY3JlZW5TaXplKTsKZmxvYXQgZGl0aGVyPW1peCgtZGl0aGVySW50ZW5zaXR5LGRpdGhlckludGVuc2l0eSxyYW5kKTsKcmVzdWx0LnJnYj1zYXR1cmF0ZShyZXN1bHQucmdiK3ZlYzMoZGl0aGVyKSk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9JTUFHRVBST0NFU1NJTkdGVU5DVElPTlNfVVBEQVRFUkVTVUxUX0FURU5ECnJldHVybiByZXN1bHQ7Cn1gO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbGhdPWNoO2NvbnN0IHVoPSJidW1wRnJhZ21lbnRNYWluRnVuY3Rpb25zIixkaD1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykgfHwgZGVmaW5lZChERVRBSUwpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKSAKdmFyeWluZyBtYXQzIHZUQk47CiNlbmRpZgojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCnVuaWZvcm0gbWF0NCBub3JtYWxNYXRyaXg7CiNlbmRpZgp2ZWMzIHBlcnR1cmJOb3JtYWxCYXNlKG1hdDMgY290YW5nZW50RnJhbWUsdmVjMyBub3JtYWwsZmxvYXQgc2NhbGUpCnsKI2lmZGVmIE5PUk1BTFhZU0NBTEUKbm9ybWFsPW5vcm1hbGl6ZShub3JtYWwqdmVjMyhzY2FsZSxzY2FsZSwxLjApKTsKI2VuZGlmCnJldHVybiBub3JtYWxpemUoY290YW5nZW50RnJhbWUqbm9ybWFsKTsKfQp2ZWMzIHBlcnR1cmJOb3JtYWwobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIHRleHR1cmVTYW1wbGUsZmxvYXQgc2NhbGUpCnsKcmV0dXJuIHBlcnR1cmJOb3JtYWxCYXNlKGNvdGFuZ2VudEZyYW1lLHRleHR1cmVTYW1wbGUqMi4wLTEuMCxzY2FsZSk7Cn0KbWF0MyBjb3RhbmdlbnRfZnJhbWUodmVjMyBub3JtYWwsdmVjMyBwLHZlYzIgdXYsdmVjMiB0YW5nZW50U3BhY2VQYXJhbXMpCnsKdmVjMyBkcDE9ZEZkeChwKTsKdmVjMyBkcDI9ZEZkeShwKTsKdmVjMiBkdXYxPWRGZHgodXYpOwp2ZWMyIGR1djI9ZEZkeSh1dik7CnZlYzMgZHAycGVycD1jcm9zcyhkcDIsbm9ybWFsKTsKdmVjMyBkcDFwZXJwPWNyb3NzKG5vcm1hbCxkcDEpOwp2ZWMzIHRhbmdlbnQ9ZHAycGVycCpkdXYxLngrZHAxcGVycCpkdXYyLng7CnZlYzMgYml0YW5nZW50PWRwMnBlcnAqZHV2MS55K2RwMXBlcnAqZHV2Mi55Owp0YW5nZW50Kj10YW5nZW50U3BhY2VQYXJhbXMueDsKYml0YW5nZW50Kj10YW5nZW50U3BhY2VQYXJhbXMueTsKZmxvYXQgZGV0PW1heChkb3QodGFuZ2VudCx0YW5nZW50KSxkb3QoYml0YW5nZW50LGJpdGFuZ2VudCkpOwpmbG9hdCBpbnZtYXg9ZGV0PT0wLjAgPyAwLjAgOiBpbnZlcnNlc3FydChkZXQpOwpyZXR1cm4gbWF0Myh0YW5nZW50Kmludm1heCxiaXRhbmdlbnQqaW52bWF4LG5vcm1hbCk7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1aF09ZGg7Y29uc3QgZmg9ImJ1bXBGcmFnbWVudEZ1bmN0aW9ucyIsX2g9YCNpZiBkZWZpbmVkKEJVTVApCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXAsX1NBTVBMRVJOQU1FXyxidW1wKQojZW5kaWYKI2lmIGRlZmluZWQoREVUQUlMKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCxfU0FNUExFUk5BTUVfLGRldGFpbCkKI2VuZGlmCiNpZiBkZWZpbmVkKEJVTVApICYmIGRlZmluZWQoUEFSQUxMQVgpCmNvbnN0IGZsb2F0IG1pblNhbXBsZXM9NC47CmNvbnN0IGZsb2F0IG1heFNhbXBsZXM9MTUuOwpjb25zdCBpbnQgaU1heFNhbXBsZXM9MTU7CnZlYzIgcGFyYWxsYXhPY2NsdXNpb24odmVjMyB2Vmlld0RpckNvVCx2ZWMzIHZOb3JtYWxDb1QsdmVjMiB0ZXhDb29yZCxmbG9hdCBwYXJhbGxheFNjYWxlKSB7CmZsb2F0IHBhcmFsbGF4TGltaXQ9bGVuZ3RoKHZWaWV3RGlyQ29ULnh5KS92Vmlld0RpckNvVC56OwpwYXJhbGxheExpbWl0Kj1wYXJhbGxheFNjYWxlOwp2ZWMyIHZPZmZzZXREaXI9bm9ybWFsaXplKHZWaWV3RGlyQ29ULnh5KTsKdmVjMiB2TWF4T2Zmc2V0PXZPZmZzZXREaXIqcGFyYWxsYXhMaW1pdDsKZmxvYXQgbnVtU2FtcGxlcz1tYXhTYW1wbGVzKyhkb3QodlZpZXdEaXJDb1Qsdk5vcm1hbENvVCkqKG1pblNhbXBsZXMtbWF4U2FtcGxlcykpOwpmbG9hdCBzdGVwU2l6ZT0xLjAvbnVtU2FtcGxlczsKZmxvYXQgY3VyclJheUhlaWdodD0xLjA7CnZlYzIgdkN1cnJPZmZzZXQ9dmVjMigwLDApOwp2ZWMyIHZMYXN0T2Zmc2V0PXZlYzIoMCwwKTsKZmxvYXQgbGFzdFNhbXBsZWRIZWlnaHQ9MS4wOwpmbG9hdCBjdXJyU2FtcGxlZEhlaWdodD0xLjA7CmJvb2wga2VlcFdvcmtpbmc9dHJ1ZTsKZm9yIChpbnQgaT0wOyBpPGlNYXhTYW1wbGVzOyBpKyspCnsKY3VyclNhbXBsZWRIZWlnaHQ9dGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHRleENvb3JkK3ZDdXJyT2Zmc2V0KS53OwppZiAoIWtlZXBXb3JraW5nKQp7Cn0KZWxzZSBpZiAoY3VyclNhbXBsZWRIZWlnaHQ+Y3VyclJheUhlaWdodCkKewpmbG9hdCBkZWx0YTE9Y3VyclNhbXBsZWRIZWlnaHQtY3VyclJheUhlaWdodDsKZmxvYXQgZGVsdGEyPShjdXJyUmF5SGVpZ2h0K3N0ZXBTaXplKS1sYXN0U2FtcGxlZEhlaWdodDsKZmxvYXQgcmF0aW89ZGVsdGExLyhkZWx0YTErZGVsdGEyKTsKdkN1cnJPZmZzZXQ9KHJhdGlvKSogdkxhc3RPZmZzZXQrKDEuMC1yYXRpbykqdkN1cnJPZmZzZXQ7CmtlZXBXb3JraW5nPWZhbHNlOwp9CmVsc2UKewpjdXJyUmF5SGVpZ2h0LT1zdGVwU2l6ZTsKdkxhc3RPZmZzZXQ9dkN1cnJPZmZzZXQ7CnZDdXJyT2Zmc2V0Kz1zdGVwU2l6ZSp2TWF4T2Zmc2V0OwpsYXN0U2FtcGxlZEhlaWdodD1jdXJyU2FtcGxlZEhlaWdodDsKfQp9CnJldHVybiB2Q3Vyck9mZnNldDsKfQp2ZWMyIHBhcmFsbGF4T2Zmc2V0KHZlYzMgdmlld0RpcixmbG9hdCBoZWlnaHRTY2FsZSkKewpmbG9hdCBoZWlnaHQ9dGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYpLnc7CnZlYzIgdGV4Q29vcmRPZmZzZXQ9aGVpZ2h0U2NhbGUqdmlld0Rpci54eSpoZWlnaHQ7CnJldHVybiAtdGV4Q29vcmRPZmZzZXQ7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmaF09X2g7Y29uc3QgZ2g9ImxvZ0RlcHRoRGVjbGFyYXRpb24iLHBoPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp1bmlmb3JtIGZsb2F0IGxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKdmFyeWluZyBmbG9hdCB2RnJhZ21lbnREZXB0aDsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtnaF09cGg7Y29uc3QgbWg9ImZvZ0ZyYWdtZW50RGVjbGFyYXRpb24iLEVoPWAjaWZkZWYgRk9HCiNkZWZpbmUgRk9HTU9ERV9OT05FIDAuCiNkZWZpbmUgRk9HTU9ERV9FWFAgMS4KI2RlZmluZSBGT0dNT0RFX0VYUDIgMi4KI2RlZmluZSBGT0dNT0RFX0xJTkVBUiAzLgojZGVmaW5lIEUgMi43MTgyOAp1bmlmb3JtIHZlYzQgdkZvZ0luZm9zOwp1bmlmb3JtIHZlYzMgdkZvZ0NvbG9yOwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwpmbG9hdCBDYWxjRm9nRmFjdG9yKCkKewpmbG9hdCBmb2dDb2VmZj0xLjA7CmZsb2F0IGZvZ1N0YXJ0PXZGb2dJbmZvcy55OwpmbG9hdCBmb2dFbmQ9dkZvZ0luZm9zLno7CmZsb2F0IGZvZ0RlbnNpdHk9dkZvZ0luZm9zLnc7CmZsb2F0IGZvZ0Rpc3RhbmNlPWxlbmd0aCh2Rm9nRGlzdGFuY2UpOwppZiAoRk9HTU9ERV9MSU5FQVI9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPShmb2dFbmQtZm9nRGlzdGFuY2UpLyhmb2dFbmQtZm9nU3RhcnQpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSk7Cn0KZWxzZSBpZiAoRk9HTU9ERV9FWFAyPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSpmb2dEZW5zaXR5KTsKfQpyZXR1cm4gY2xhbXAoZm9nQ29lZmYsMC4wLDEuMCk7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVttaF09RWg7Y29uc3Qgdmg9ImJ1bXBGcmFnbWVudCIsVGg9YHZlYzIgdXZPZmZzZXQ9dmVjMigwLjAsMC4wKTsKI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChERVRBSUwpCiNpZmRlZiBOT1JNQUxYWVNDQUxFCmZsb2F0IG5vcm1hbFNjYWxlPTEuMDsKI2VsaWYgZGVmaW5lZChCVU1QKQpmbG9hdCBub3JtYWxTY2FsZT12QnVtcEluZm9zLnk7CiNlbHNlCmZsb2F0IG5vcm1hbFNjYWxlPTEuMDsKI2VuZGlmCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQptYXQzIFRCTj12VEJOOwojZWxpZiBkZWZpbmVkKEJVTVApCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2QnVtcFVWIDogLXZCdW1wVVY7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXKm5vcm1hbFNjYWxlLHZQb3NpdGlvblcsVEJOVVYsdlRhbmdlbnRTcGFjZVBhcmFtcyk7CiNlbHNlCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2RGV0YWlsVVYgOiAtdkRldGFpbFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQptYXQzIFRCTj12VEJOOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdk1haW5VVjEgOiAtdk1haW5VVjE7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXLHZQb3NpdGlvblcsVEJOVVYsdmVjMigxLiwxLikpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBQQVJBTExBWAptYXQzIGludlRCTj10cmFuc3Bvc2VNYXQzKFRCTik7CiNpZmRlZiBQQVJBTExBWE9DQ0xVU0lPTgp1dk9mZnNldD1wYXJhbGxheE9jY2x1c2lvbihpbnZUQk4qLXZpZXdEaXJlY3Rpb25XLGludlRCTipub3JtYWxXLHZCdW1wVVYsdkJ1bXBJbmZvcy56KTsKI2Vsc2UKdXZPZmZzZXQ9cGFyYWxsYXhPZmZzZXQoaW52VEJOKnZpZXdEaXJlY3Rpb25XLHZCdW1wSW5mb3Mueik7CiNlbmRpZgojZW5kaWYKI2lmZGVmIERFVEFJTAp2ZWM0IGRldGFpbENvbG9yPXRleHR1cmUyRChkZXRhaWxTYW1wbGVyLHZEZXRhaWxVVit1dk9mZnNldCk7CnZlYzIgZGV0YWlsTm9ybWFsUkc9ZGV0YWlsQ29sb3Iud3kqMi4wLTEuMDsKZmxvYXQgZGV0YWlsTm9ybWFsQj1zcXJ0KDEuLXNhdHVyYXRlKGRvdChkZXRhaWxOb3JtYWxSRyxkZXRhaWxOb3JtYWxSRykpKTsKdmVjMyBkZXRhaWxOb3JtYWw9dmVjMyhkZXRhaWxOb3JtYWxSRyxkZXRhaWxOb3JtYWxCKTsKI2VuZGlmCiNpZmRlZiBCVU1QCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKbm9ybWFsVz1ub3JtYWxpemUodGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYpLnh5eiAqMi4wLTEuMCk7Cm5vcm1hbFc9bm9ybWFsaXplKG1hdDMobm9ybWFsTWF0cml4KSpub3JtYWxXKTsKI2VsaWYgIWRlZmluZWQoREVUQUlMKQpub3JtYWxXPXBlcnR1cmJOb3JtYWwoVEJOLHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWK3V2T2Zmc2V0KS54eXosdkJ1bXBJbmZvcy55KTsKI2Vsc2UKdmVjMyBidW1wTm9ybWFsPXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWK3V2T2Zmc2V0KS54eXoqMi4wLTEuMDsKI2lmIERFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD09MCAKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKdmVjMyBibGVuZGVkTm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKGJ1bXBOb3JtYWwueHkrZGV0YWlsTm9ybWFsLnh5LGJ1bXBOb3JtYWwueipkZXRhaWxOb3JtYWwueikpOwojZWxpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTEgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CmJ1bXBOb3JtYWwrPXZlYzMoMC4wLDAuMCwxLjApOwpkZXRhaWxOb3JtYWwqPXZlYzMoLTEuMCwtMS4wLDEuMCk7CnZlYzMgYmxlbmRlZE5vcm1hbD1idW1wTm9ybWFsKmRvdChidW1wTm9ybWFsLGRldGFpbE5vcm1hbCkvYnVtcE5vcm1hbC56LWRldGFpbE5vcm1hbDsKI2VuZGlmCm5vcm1hbFc9cGVydHVyYk5vcm1hbEJhc2UoVEJOLGJsZW5kZWROb3JtYWwsdkJ1bXBJbmZvcy55KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoREVUQUlMKQpkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56Owpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixkZXRhaWxOb3JtYWwsdkRldGFpbEluZm9zLnopOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZoXT1UaDtjb25zdCBiaD0iZGVwdGhQcmVQYXNzIixTaD1gI2lmZGVmIERFUFRIUFJFUEFTUwpnbF9GcmFnQ29sb3I9dmVjNCgwLiwwLiwwLiwxLjApOwpyZXR1cm47CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYmhdPVNoO2NvbnN0IHhoPSJsaWdodEZyYWdtZW50IixNaD1gI2lmZGVmIExJR0hUe1h9CiNpZiBkZWZpbmVkKFNIQURPV09OTFkpIHx8IGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkgJiYgZGVmaW5lZChMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0pCiNlbHNlCiNpZmRlZiBQQlIKI2lmZGVmIFNQT1RMSUdIVHtYfQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZUhlbWlzcGhlcmljUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoRElSTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZURpcmVjdGlvbmFsUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbmRpZgpwcmVJbmZvLk5kb3RWPU5kb3RWOwojaWZkZWYgU1BPVExJR0hUe1h9CiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9HTFRGKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfUGh5c2ljYWwobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VuZGlmCiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249MS4wOwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1yb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMocm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNpZmRlZiBJUklERVNDRU5DRQpwcmVJbmZvLmlyaWRlc2NlbmNlSW50ZW5zaXR5PWlyaWRlc2NlbmNlSW50ZW5zaXR5OwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQppbmZvLmRpZmZ1c2U9Y29tcHV0ZUhlbWlzcGhlcmljRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kKTsKI2VsaWYgZGVmaW5lZChTU19UUkFOU0xVQ0VOQ1kpCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUFuZFRyYW5zbWl0dGVkTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixzdWJTdXJmYWNlT3V0LnRyYW5zbWl0dGFuY2UpOwojZWxzZQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIEFOSVNPVFJPUElDCmluZm8uc3BlY3VsYXI9Y29tcHV0ZUFuaXNvdHJvcGljU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNUYW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljQml0YW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcHksY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2Vsc2UKaW5mby5zcGVjdWxhcj1jb21wdXRlU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmZGVmIFNIRUVOX0xJTktXSVRIQUxCRURPCnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuSW50ZW5zaXR5OwojZWxzZQojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuUm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHNoZWVuT3V0LnNoZWVuUm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNlbmRpZgppbmZvLnNoZWVuPWNvbXB1dGVTaGVlbkxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxzaGVlbk91dC5zaGVlbkNvbG9yLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPWNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgppbmZvLmNsZWFyQ29hdD1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmcocHJlSW5mbyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0QUFSb3VnaG5lc3NGYWN0b3JzLngsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNpZmRlZiBDTEVBUkNPQVRfVElOVAphYnNvcnB0aW9uPWNvbXB1dGVDbGVhckNvYXRMaWdodGluZ0Fic29ycHRpb24oY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5kb3RWUmVmcmFjdCxwcmVJbmZvLkwsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdENvbG9yLGNsZWFyY29hdE91dC5jbGVhckNvYXRUaGlja25lc3MsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSk7CmluZm8uZGlmZnVzZSo9YWJzb3JwdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1hYnNvcnB0aW9uOwojZW5kaWYKI2VuZGlmCmluZm8uZGlmZnVzZSo9aW5mby5jbGVhckNvYXQudzsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2lmZGVmIFNIRUVOCmluZm8uc2hlZW4qPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNQT1RMSUdIVHtYfQppbmZvPWNvbXB1dGVTcG90TGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbixsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKaW5mbz1jb21wdXRlSGVtaXNwaGVyaWNMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KSB8fCBkZWZpbmVkKERJUkxJR0hUe1h9KQppbmZvPWNvbXB1dGVMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CmluZm8uZGlmZnVzZSo9Y29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH0sdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH0pOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQpmb3IgKGludCBpPTA7IGk8U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9OyBpKyspIAp7CiNpZmRlZiBTSEFET1dDU01fUklHSFRIQU5ERUR7WH0KZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0rdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZWxzZQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXS12UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbmRpZgppZiAoZGlmZntYfT49MC4pIHsKaW5kZXh7WH09aTsKYnJlYWs7Cn0KfQojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppZiAoaW5kZXh7WH0+PTApCiNlbmRpZgp7CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT12ZWMzKHNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XTsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XQ1NNTk9CTEVORHtYfQpmbG9hdCBmcnVzdHVtTGVuZ3RoPWZydXN0dW1MZW5ndGhze1h9W2luZGV4e1h9XTsKZmxvYXQgZGlmZlJhdGlvPWNsYW1wKGRpZmZ7WH0vZnJ1c3R1bUxlbmd0aCwwLiwxLikqY2FzY2FkZUJsZW5kRmFjdG9ye1h9OwppZiAoaW5kZXh7WH08KFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xKSAmJiBkaWZmUmF0aW88MS4pCnsKaW5kZXh7WH0rPTE7CmZsb2F0IG5leHRTaGFkb3c9MC47CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgpzaGFkb3c9bWl4KG5leHRTaGFkb3csc2hhZG93LGRpZmZSYXRpbyk7CiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT1taXgodmVjMyhuZXh0U2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dLHNoYWRvd0RlYnVne1h9LGRpZmZSYXRpbyk7CiNlbmRpZgp9CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9XQ0xPU0VFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV0VTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQT0lTU09Oe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxzZQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3codlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV09OTFkKI2lmbmRlZiBTSEFET1dJTlVTRQojZGVmaW5lIFNIQURPV0lOVVNFCiNlbmRpZgpnbG9iYWxTaGFkb3crPXNoYWRvdzsKc2hhZG93TGlnaHRDb3VudCs9MS4wOwojZW5kaWYKI2Vsc2UKc2hhZG93PTEuOwojZW5kaWYKI2lmbmRlZiBTSEFET1dPTkxZCiNpZmRlZiBDVVNUT01VU0VSTElHSFRJTkcKZGlmZnVzZUJhc2UrPWNvbXB1dGVDdXN0b21EaWZmdXNlTGlnaHRpbmcoaW5mbyxkaWZmdXNlQmFzZSxzaGFkb3cpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9Y29tcHV0ZUN1c3RvbVNwZWN1bGFyTGlnaHRpbmcoaW5mbyxzcGVjdWxhckJhc2Usc2hhZG93KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkKZGlmZnVzZUJhc2UrPWxpZ2h0bWFwQ29sb3IucmdiKnNoYWRvdzsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0KY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93RGVidWd7WH07CiNlbHNlIApkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTSEVFTgpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt4aF09TWg7Y29uc3QgQWg9ImxvZ0RlcHRoRnJhZ21lbnQiLFJoPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSApnbF9GcmFnRGVwdGhFWFQ9bG9nMih2RnJhZ21lbnREZXB0aCkqbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50KjAuNTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtBaF09Umg7Y29uc3QgeWg9ImZvZ0ZyYWdtZW50IixDaD1gI2lmZGVmIEZPRwpmbG9hdCBmb2c9Q2FsY0ZvZ0ZhY3RvcigpOwojaWZkZWYgUEJSCmZvZz10b0xpbmVhclNwYWNlKGZvZyk7CiNlbmRpZgpjb2xvci5yZ2I9bWl4KHZGb2dDb2xvcixjb2xvci5yZ2IsZm9nKTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt5aF09Q2g7Y29uc3QgSWg9Im9pdEZyYWdtZW50IixQaD1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQpmbG9hdCBmcmFnRGVwdGg9Z2xfRnJhZ0Nvb3JkLno7IAojaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUwp1aW50IGhhbGZGbG9hdD1wYWNrSGFsZjJ4MTYodmVjMihmcmFnRGVwdGgpKTsKdmVjMiBmdWxsPXVucGFja0hhbGYyeDE2KGhhbGZGbG9hdCk7CmZyYWdEZXB0aD1mdWxsLng7CiNlbmRpZgppdmVjMiBmcmFnQ29vcmQ9aXZlYzIoZ2xfRnJhZ0Nvb3JkLnh5KTsKdmVjMiBsYXN0RGVwdGg9dGV4ZWxGZXRjaChvaXREZXB0aFNhbXBsZXIsZnJhZ0Nvb3JkLDApLnJnOwp2ZWM0IGxhc3RGcm9udENvbG9yPXRleGVsRmV0Y2gob2l0RnJvbnRDb2xvclNhbXBsZXIsZnJhZ0Nvb3JkLDApOwpkZXB0aC5yZz12ZWMyKC1NQVhfREVQVEgpOwpmcm9udENvbG9yPWxhc3RGcm9udENvbG9yOwpiYWNrQ29sb3I9dmVjNCgwLjApOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZmxvYXQgZnVydGhlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IG5lYXJlc3REZXB0aD1sYXN0RGVwdGgueTsKI2Vsc2UKZmxvYXQgbmVhcmVzdERlcHRoPS1sYXN0RGVwdGgueDsKZmxvYXQgZnVydGhlc3REZXB0aD1sYXN0RGVwdGgueTsKI2VuZGlmCmZsb2F0IGFscGhhTXVsdGlwbGllcj0xLjAtbGFzdEZyb250Q29sb3IuYTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmlmIChmcmFnRGVwdGg+bmVhcmVzdERlcHRoIHx8IGZyYWdEZXB0aDxmdXJ0aGVzdERlcHRoKSB7CiNlbHNlCmlmIChmcmFnRGVwdGg8bmVhcmVzdERlcHRoIHx8IGZyYWdEZXB0aD5mdXJ0aGVzdERlcHRoKSB7CiNlbmRpZgpyZXR1cm47Cn0KI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmlmIChmcmFnRGVwdGg8bmVhcmVzdERlcHRoICYmIGZyYWdEZXB0aD5mdXJ0aGVzdERlcHRoKSB7CiNlbHNlCmlmIChmcmFnRGVwdGg+bmVhcmVzdERlcHRoICYmIGZyYWdEZXB0aDxmdXJ0aGVzdERlcHRoKSB7CiNlbmRpZgpkZXB0aC5yZz12ZWMyKC1mcmFnRGVwdGgsZnJhZ0RlcHRoKTsKcmV0dXJuOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSWhdPVBoO2NvbnN0IERoPSJkZWZhdWx0UGl4ZWxTaGFkZXIiLEZoPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRGcmFnbWVudD4KI2lmIGRlZmluZWQoQlVNUCkgfHwgIWRlZmluZWQoTk9STUFMKQojZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZQojZW5kaWYKI2luY2x1ZGU8cHJlUGFzc0RlY2xhcmF0aW9uPltTQ0VORV9NUlRfQ09VTlRdCiNpbmNsdWRlPG9pdERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUdJTgojaWZkZWYgTE9HQVJJVEhNSUNERVBUSAojZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlCiNlbmRpZgojZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTQKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlLF9TQU1QTEVSTkFNRV8sZGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfU0FNUExFUk5BTUVfLGFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHksX1NBTVBMRVJOQU1FXyxvcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX1NBTVBMRVJOQU1FXyxlbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9TQU1QTEVSTkFNRV8sbGlnaHRtYXApCiNpZmRlZiBSRUZSQUNUSU9OCiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmcmFjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZyYWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9TQU1QTEVSTkFNRV8sc3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxmcmVzbmVsRnVuY3Rpb24+CiNpZmRlZiBSRUZMRUNUSU9OCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmbGVjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZsZWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbHNlCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZhcnlpbmcgdmVjMyB2RGlyZWN0aW9uVzsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxyZWZsZWN0aW9uRnVuY3Rpb24+CiNlbmRpZgojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRNYWluRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGxvZ0RlcHRoRGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CnZlYzQgYmFzZUNvbG9yPXZlYzQoMS4sMS4sMS4sMS4pOwp2ZWMzIGRpZmZ1c2VDb2xvcj12RGlmZnVzZUNvbG9yLnJnYjsKZmxvYXQgYWxwaGE9dkRpZmZ1c2VDb2xvci5hOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKC1jcm9zcyhkRmR4KHZQb3NpdGlvblcpLGRGZHkodlBvc2l0aW9uVykpKTsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBGcmFnbWVudD4KI2lmZGVmIFRXT1NJREVETElHSFRJTkcKbm9ybWFsVz1nbF9Gcm9udEZhY2luZyA/IG5vcm1hbFcgOiAtbm9ybWFsVzsKI2VuZGlmCiNpZmRlZiBESUZGVVNFCmJhc2VDb2xvcj10ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdkRpZmZ1c2VVVit1dk9mZnNldCk7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgJiYgIWRlZmluZWQoQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlMpCmlmIChiYXNlQ29sb3IuYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBBTFBIQUZST01ESUZGVVNFCmFscGhhKj1iYXNlQ29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9BTFBIQQpiYXNlQ29sb3IucmdiKj12RGlmZnVzZUluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxkZXB0aFByZVBhc3M+CiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKYmFzZUNvbG9yLnJnYio9dkNvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBERVRBSUwKYmFzZUNvbG9yLnJnYj1iYXNlQ29sb3IucmdiKjIuMCptaXgoMC41LGRldGFpbENvbG9yLnIsdkRldGFpbEluZm9zLnkpOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0RJRkZVU0UKdmVjMyBiYXNlQW1iaWVudENvbG9yPXZlYzMoMS4sMS4sMS4pOwojaWZkZWYgQU1CSUVOVApiYXNlQW1iaWVudENvbG9yPXRleHR1cmUyRChhbWJpZW50U2FtcGxlcix2QW1iaWVudFVWK3V2T2Zmc2V0KS5yZ2IqdkFtYmllbnRJbmZvcy55OwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0xJR0hUUwojaWZkZWYgU1BFQ1VMQVJURVJNCmZsb2F0IGdsb3NzaW5lc3M9dlNwZWN1bGFyQ29sb3IuYTsKdmVjMyBzcGVjdWxhckNvbG9yPXZTcGVjdWxhckNvbG9yLnJnYjsKI2lmZGVmIFNQRUNVTEFSCnZlYzQgc3BlY3VsYXJNYXBDb2xvcj10ZXh0dXJlMkQoc3BlY3VsYXJTYW1wbGVyLHZTcGVjdWxhclVWK3V2T2Zmc2V0KTsKc3BlY3VsYXJDb2xvcj1zcGVjdWxhck1hcENvbG9yLnJnYjsKI2lmZGVmIEdMT1NTSU5FU1MKZ2xvc3NpbmVzcz1nbG9zc2luZXNzKnNwZWN1bGFyTWFwQ29sb3IuYTsKI2VuZGlmCiNlbmRpZgojZWxzZQpmbG9hdCBnbG9zc2luZXNzPTAuOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhckJhc2U9dmVjMygwLiwwLiwwLik7CiNlbmRpZgpmbG9hdCBzaGFkb3c9MS47CiNpZmRlZiBMSUdIVE1BUAp2ZWM0IGxpZ2h0bWFwQ29sb3I9dGV4dHVyZTJEKGxpZ2h0bWFwU2FtcGxlcix2TGlnaHRtYXBVVit1dk9mZnNldCk7CiNpZmRlZiBSR0JETElHSFRNQVAKbGlnaHRtYXBDb2xvci5yZ2I9ZnJvbVJHQkQobGlnaHRtYXBDb2xvcik7CiNlbmRpZgpsaWdodG1hcENvbG9yLnJnYio9dkxpZ2h0bWFwSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGxpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KdmVjNCByZWZyYWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZSQUNUSU9OCnZlYzMgcmVmcmFjdGlvblZlY3Rvcj1ub3JtYWxpemUocmVmcmFjdCgtdmlld0RpcmVjdGlvblcsbm9ybWFsVyx2UmVmcmFjdGlvbkluZm9zLnkpKTsKI2lmZGVmIFJFRlJBQ1RJT05NQVBfM0QKI2lmZGVmIFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDCnJlZnJhY3Rpb25WZWN0b3I9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHZQb3NpdGlvblcscmVmcmFjdGlvblZlY3Rvcix2UmVmcmFjdGlvblNpemUsdlJlZnJhY3Rpb25Qb3NpdGlvbik7CiNlbmRpZgpyZWZyYWN0aW9uVmVjdG9yLnk9cmVmcmFjdGlvblZlY3Rvci55KnZSZWZyYWN0aW9uSW5mb3MudzsKaWYgKGRvdChyZWZyYWN0aW9uVmVjdG9yLHZpZXdEaXJlY3Rpb25XKTwxLjApIHsKcmVmcmFjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZnJhY3Rpb25DdWJlU2FtcGxlcixyZWZyYWN0aW9uVmVjdG9yKTsKfQojZWxzZQp2ZWMzIHZSZWZyYWN0aW9uVVZXPXZlYzMocmVmcmFjdGlvbk1hdHJpeCoodmlldyp2ZWM0KHZQb3NpdGlvblcrcmVmcmFjdGlvblZlY3Rvcip2UmVmcmFjdGlvbkluZm9zLnosMS4wKSkpOwp2ZWMyIHJlZnJhY3Rpb25Db29yZHM9dlJlZnJhY3Rpb25VVlcueHkvdlJlZnJhY3Rpb25VVlcuejsKcmVmcmFjdGlvbkNvb3Jkcy55PTEuMC1yZWZyYWN0aW9uQ29vcmRzLnk7CnJlZnJhY3Rpb25Db2xvcj10ZXh0dXJlMkQocmVmcmFjdGlvbjJEU2FtcGxlcixyZWZyYWN0aW9uQ29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGUkFDVElPTgpyZWZyYWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZnJhY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGUkFDVElPTl9MSU5FQVIKcmVmcmFjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmcmFjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZyYWN0aW9uQ29sb3IucmdiKj12UmVmcmFjdGlvbkluZm9zLng7CiNlbmRpZgp2ZWM0IHJlZmxlY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRkxFQ1RJT04KdmVjMyB2UmVmbGVjdGlvblVWVz1jb21wdXRlUmVmbGVjdGlvbkNvb3Jkcyh2ZWM0KHZQb3NpdGlvblcsMS4wKSxub3JtYWxXKTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaCnZSZWZsZWN0aW9uVVZXLnoqPS0xLjA7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAojaWZkZWYgUk9VR0hORVNTCmZsb2F0IGJpYXM9dlJlZmxlY3Rpb25JbmZvcy55OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBTUEVDVUxBUgojaWZkZWYgR0xPU1NJTkVTUwpiaWFzKj0oMS4wLXNwZWN1bGFyTWFwQ29sb3IuYSk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcsYmlhcyk7CiNlbHNlCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcpOwojZW5kaWYKI2Vsc2UKdmVjMiBjb29yZHM9dlJlZmxlY3Rpb25VVlcueHk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KY29vcmRzLz12UmVmbGVjdGlvblVWVy56OwojZW5kaWYKY29vcmRzLnk9MS4wLWNvb3Jkcy55OwpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZmxlY3Rpb24yRFNhbXBsZXIsY29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGTEVDVElPTgpyZWZsZWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZmxlY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGTEVDVElPTl9MSU5FQVIKcmVmbGVjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmbGVjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZsZWN0aW9uQ29sb3IucmdiKj12UmVmbGVjdGlvbkluZm9zLng7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTApmbG9hdCByZWZsZWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmbGVjdGlvblJpZ2h0Q29sb3IuYSxyZWZsZWN0aW9uTGVmdENvbG9yLmEpOwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVIKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZWZsZWN0aW9uQ29sb3IucmdiKj1zcGVjdWxhckNvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCmZsb2F0IHJlZnJhY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZyYWN0aW9uUmlnaHRDb2xvci5hLHJlZnJhY3Rpb25MZWZ0Q29sb3IuYSk7CnJlZnJhY3Rpb25Db2xvci5yZ2IqPXJlZnJhY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmcmFjdGlvbkZyZXNuZWxUZXJtKStyZWZyYWN0aW9uRnJlc25lbFRlcm0qcmVmcmFjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdmVjNCBvcGFjaXR5TWFwPXRleHR1cmUyRChvcGFjaXR5U2FtcGxlcix2T3BhY2l0eVVWK3V2T2Zmc2V0KTsKI2lmZGVmIE9QQUNJVFlSR0IKb3BhY2l0eU1hcC5yZ2I9b3BhY2l0eU1hcC5yZ2IqdmVjMygwLjMsMC41OSwwLjExKTsKYWxwaGEqPShvcGFjaXR5TWFwLngrb3BhY2l0eU1hcC55K29wYWNpdHlNYXAueikqIHZPcGFjaXR5SW5mb3MueTsKI2Vsc2UKYWxwaGEqPW9wYWNpdHlNYXAuYSp2T3BhY2l0eUluZm9zLnk7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQUxQSEEpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQphbHBoYSo9dkNvbG9yLmE7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKZmxvYXQgb3BhY2l0eUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLG9wYWNpdHlQYXJ0cy56LG9wYWNpdHlQYXJ0cy53KTsKYWxwaGErPW9wYWNpdHlQYXJ0cy54KigxLjAtb3BhY2l0eUZyZXNuZWxUZXJtKStvcGFjaXR5RnJlc25lbFRlcm0qb3BhY2l0eVBhcnRzLnk7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUwppZiAoYWxwaGE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZuZGVmIEFMUEhBQkxFTkQKYWxwaGE9MS4wOwojZW5kaWYKI2VuZGlmCnZlYzMgZW1pc3NpdmVDb2xvcj12RW1pc3NpdmVDb2xvcjsKI2lmZGVmIEVNSVNTSVZFCmVtaXNzaXZlQ29sb3IrPXRleHR1cmUyRChlbWlzc2l2ZVNhbXBsZXIsdkVtaXNzaXZlVVYrdXZPZmZzZXQpLnJnYip2RW1pc3NpdmVJbmZvcy55OwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTApmbG9hdCBlbWlzc2l2ZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGVtaXNzaXZlUmlnaHRDb2xvci5hLGVtaXNzaXZlTGVmdENvbG9yLmEpOwplbWlzc2l2ZUNvbG9yKj1lbWlzc2l2ZUxlZnRDb2xvci5yZ2IqKDEuMC1lbWlzc2l2ZUZyZXNuZWxUZXJtKStlbWlzc2l2ZUZyZXNuZWxUZXJtKmVtaXNzaXZlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKZmxvYXQgZGlmZnVzZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGRpZmZ1c2VSaWdodENvbG9yLmEsZGlmZnVzZUxlZnRDb2xvci5hKTsKZGlmZnVzZUJhc2UqPWRpZmZ1c2VMZWZ0Q29sb3IucmdiKigxLjAtZGlmZnVzZUZyZXNuZWxUZXJtKStkaWZmdXNlRnJlc25lbFRlcm0qZGlmZnVzZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKI2lmZGVmIExJTktFTUlTU0lWRVdJVEhESUZGVVNFCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKChkaWZmdXNlQmFzZStlbWlzc2l2ZUNvbG9yKSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrZW1pc3NpdmVDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGZpbmFsU3BlY3VsYXI9c3BlY3VsYXJCYXNlKnNwZWN1bGFyQ29sb3I7CiNpZmRlZiBTUEVDVUxBUk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QoZmluYWxTcGVjdWxhcix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojZWxzZQp2ZWMzIGZpbmFsU3BlY3VsYXI9dmVjMygwLjApOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05PVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KHJlZmxlY3Rpb25Db2xvci5yZ2IsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjNCBjb2xvcj12ZWM0KGNsYW1wKGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYitlbWlzc2l2ZUNvbG9yK3JlZnJhY3Rpb25Db2xvci5yZ2IsMC4wLDEuMCksYWxwaGEpOwojZWxzZQp2ZWM0IGNvbG9yPXZlYzQoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK3JlZnJhY3Rpb25Db2xvci5yZ2IsYWxwaGEpOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCiNpZm5kZWYgTElHSFRNQVBFWENMVURFRAojaWZkZWYgVVNFTElHSFRNQVBBU1NIQURPV01BUApjb2xvci5yZ2IqPWxpZ2h0bWFwQ29sb3IucmdiOwojZWxzZQpjb2xvci5yZ2IrPWxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HCmNvbG9yLnJnYj1tYXgoY29sb3IucmdiLDAuKTsKI2luY2x1ZGU8bG9nRGVwdGhGcmFnbWVudD4KI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CiNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwojZWxzZQojaWZkZWYgSU1BR0VQUk9DRVNTSU5HCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CmNvbG9yPWFwcGx5SW1hZ2VQcm9jZXNzaW5nKGNvbG9yKTsKI2VuZGlmCiNlbmRpZgpjb2xvci5hKj12aXNpYmlsaXR5OwojaWZkZWYgUFJFTVVMVElQTFlBTFBIQQpjb2xvci5yZ2IqPWNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SCiNpZmRlZiBQUkVQQVNTCmZsb2F0IHdyaXRlR2VvbWV0cnlJbmZvPWNvbG9yLmE+MC40ID8gMS4wIDogMC4wOwpnbF9GcmFnRGF0YVswXT1jb2xvcjsgCiNpZmRlZiBQUkVQQVNTX1BPU0lUSU9OCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUE9TSVRJT05fSU5ERVhdPXZlYzQodlBvc2l0aW9uVyx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2ZWMyIGE9KHZDdXJyZW50UG9zaXRpb24ueHkvdkN1cnJlbnRQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIGI9KHZQcmV2aW91c1Bvc2l0aW9uLnh5L3ZQcmV2aW91c1Bvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgdmVsb2NpdHk9YWJzKGEtYik7CnZlbG9jaXR5PXZlYzIocG93KHZlbG9jaXR5LngsMS4wLzMuMCkscG93KHZlbG9jaXR5LnksMS4wLzMuMCkpKnNpZ24oYS1iKSowLjUrMC41OwpnbF9GcmFnRGF0YVtQUkVQQVNTX1ZFTE9DSVRZX0lOREVYXT12ZWM0KHZlbG9jaXR5LDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19JUlJBRElBTkNFCmdsX0ZyYWdEYXRhW1BSRVBBU1NfSVJSQURJQU5DRV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfREVQVEgKZ2xfRnJhZ0RhdGFbUFJFUEFTU19ERVBUSF9JTkRFWF09dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX05PUk1BTApnbF9GcmFnRGF0YVtQUkVQQVNTX05PUk1BTF9JTkRFWF09dmVjNCgodmlldyp2ZWM0KG5vcm1hbFcsMC4wKSkucmdiLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19BTEJFRE9fU1FSVApnbF9GcmFnRGF0YVtQUkVQQVNTX0FMQkVET19TUVJUX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19SRUZMRUNUSVZJVFkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaWYgZGVmaW5lZChTUEVDVUxBUikKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoc3BlY3VsYXJNYXBDb2xvcikqd3JpdGVHZW9tZXRyeUluZm87IAojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNChzcGVjdWxhckNvbG9yLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWYgIWRlZmluZWQoUFJFUEFTUykgfHwgZGVmaW5lZChXRUJHTDIpCmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2VuZGlmCiNpbmNsdWRlPG9pdEZyYWdtZW50PgojaWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmlmIChmcmFnRGVwdGg9PW5lYXJlc3REZXB0aCkgewpmcm9udENvbG9yLnJnYis9Y29sb3IucmdiKmNvbG9yLmEqYWxwaGFNdWx0aXBsaWVyOwpmcm9udENvbG9yLmE9MS4wLWFscGhhTXVsdGlwbGllciooMS4wLWNvbG9yLmEpOwp9IGVsc2UgewpiYWNrQ29sb3IrPWNvbG9yOwp9CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORAp9CmA7VS5TaGFkZXJzU3RvcmVbRGhdPUZoO2NvbnN0IHdoPSJkZWZhdWx0VmVydGV4RGVjbGFyYXRpb24iLE9oPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gbWF0NCB2aWV3OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIG1hdDQgYW1iaWVudE1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp1bmlmb3JtIG1hdDQgb3BhY2l0eU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwp1bmlmb3JtIG1hdDQgZW1pc3NpdmVNYXRyaXg7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwp1bmlmb3JtIG1hdDQgbGlnaHRtYXBNYXRyaXg7CiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKdW5pZm9ybSBtYXQ0IHNwZWN1bGFyTWF0cml4OwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gbWF0NCBidW1wTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwp1bmlmb3JtIG1hdDQgZGV0YWlsTWF0cml4OwojZW5kaWYKI2RlZmluZSBBRERJVElPTkFMX1ZFUlRFWF9ERUNMQVJBVElPTgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd2hdPU9oO2NvbnN0IExoPSJ1dkF0dHJpYnV0ZURlY2xhcmF0aW9uIixOaD1gI2lmZGVmIFVWe1h9CmF0dHJpYnV0ZSB2ZWMyIHV2e1h9OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0xoXT1OaDtjb25zdCBCaD0icHJlUGFzc1ZlcnRleERlY2xhcmF0aW9uIixVaD1gI2lmZGVmIFBSRVBBU1MKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdW5pZm9ybSBtYXQ0IHByZXZpb3VzVmlld1Byb2plY3Rpb247CnZhcnlpbmcgdmVjNCB2Q3VycmVudFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0JoXT1VaDtjb25zdCBraD0ic2FtcGxlclZlcnRleERlY2xhcmF0aW9uIixWaD1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtraF09Vmg7Y29uc3QgV2g9ImJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbiIsemg9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKSAKdmFyeWluZyBtYXQzIHZUQk47CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1doXT16aDtjb25zdCBHaD0iZm9nVmVydGV4RGVjbGFyYXRpb24iLFhoPWAjaWZkZWYgRk9HCnZhcnlpbmcgdmVjMyB2Rm9nRGlzdGFuY2U7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR2hdPVhoO2NvbnN0IEhoPSJsaWdodFZ4RnJhZ21lbnREZWNsYXJhdGlvbiIsS2g9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIaF09S2g7Y29uc3QgWWg9ImxpZ2h0VnhVYm9EZWNsYXJhdGlvbiIsWmg9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWWhdPVpoO2NvbnN0IHFoPSJwcmVQYXNzVmVydGV4IixqaD1gI2lmZGVmIFBSRVBBU1NfREVQVEgKdlZpZXdQb3M9KHZpZXcqd29ybGRQb3MpLnJnYjsKI2VuZGlmCiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmIGRlZmluZWQoQk9ORVNfVkVMT0NJVFlfRU5BQkxFRCkKdkN1cnJlbnRQb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBwcmV2aW91c0luZmx1ZW5jZTsKcHJldmlvdXNJbmZsdWVuY2U9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1swXSldKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMl0pXSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCpwcmV2aW91c0luZmx1ZW5jZSp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZWxzZQp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxaF09amg7Y29uc3QgJGg9InV2VmFyaWFibGVEZWNsYXJhdGlvbiIsUWg9YCNpZiAhZGVmaW5lZChVVntYfSkgJiYgZGVmaW5lZChNQUlOVVZ7WH0pCnZlYzIgdXZ7WH09dmVjMigwLiwwLik7CiNlbmRpZgojaWZkZWYgTUFJTlVWe1h9CnZNYWluVVZ7WH09dXZ7WH07CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJGhdPVFoO2NvbnN0IEpoPSJzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24iLGVsPWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0wCmlmICh2X0lORk9OQU1FXz09MC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7Cn0KI2lmZGVmIFVWMgplbHNlIGlmICh2X0lORk9OQU1FXz09MS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjMKZWxzZSBpZiAodl9JTkZPTkFNRV89PTIuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djMsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY0CmVsc2UgaWYgKHZfSU5GT05BTUVfPT0zLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY0LDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNQplbHNlIGlmICh2X0lORk9OQU1FXz09NC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NSwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjYKZWxzZSBpZiAodl9JTkZPTkFNRV89PTUuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djYsMS4wLDAuMCkpOwp9CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0poXT1lbDtjb25zdCB0bD0iYnVtcFZlcnRleCIsaWw9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQp2ZWMzIHRibk5vcm1hbD1ub3JtYWxpemUobm9ybWFsVXBkYXRlZCk7CnZlYzMgdGJuVGFuZ2VudD1ub3JtYWxpemUodGFuZ2VudFVwZGF0ZWQueHl6KTsKdmVjMyB0Ym5CaXRhbmdlbnQ9Y3Jvc3ModGJuTm9ybWFsLHRiblRhbmdlbnQpKnRhbmdlbnRVcGRhdGVkLnc7CnZUQk49bWF0MyhmaW5hbFdvcmxkKSptYXQzKHRiblRhbmdlbnQsdGJuQml0YW5nZW50LHRibk5vcm1hbCk7CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3RsXT1pbDtjb25zdCBzbD0iZm9nVmVydGV4IixybD1gI2lmZGVmIEZPRwp2Rm9nRGlzdGFuY2U9KHZpZXcqd29ybGRQb3MpLnh5ejsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzbF09cmw7Y29uc3Qgbmw9InNoYWRvd3NWZXJ0ZXgiLGFsPWAjaWZkZWYgU0hBRE9XUwojaWYgZGVmaW5lZChTSEFET1dDU017WH0pCnZQb3NpdGlvbkZyb21DYW1lcmF7WH09dmlldyp3b3JsZFBvczsKZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSB7CnZQb3NpdGlvbkZyb21MaWdodHtYfVtpXT1saWdodE1hdHJpeHtYfVtpXSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfVtpXT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfVtpXT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldLnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1d7WH0pICYmICFkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnZQb3NpdGlvbkZyb21MaWdodHtYfT1saWdodE1hdHJpeHtYfSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW25sXT1hbDtjb25zdCBvbD0idmVydGV4Q29sb3JNaXhpbmciLGhsPWAjaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCnZDb2xvcj12ZWM0KDEuMCk7CiNpZmRlZiBWRVJURVhDT0xPUgojaWZkZWYgVkVSVEVYQUxQSEEKdkNvbG9yKj1jb2xvcjsKI2Vsc2UKdkNvbG9yLnJnYio9Y29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBJTlNUQU5DRVNDT0xPUgp2Q29sb3IqPWluc3RhbmNlQ29sb3I7CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29sXT1obDtjb25zdCBsbD0icG9pbnRDbG91ZFZlcnRleCIsY2w9YCNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xsXT1jbDtjb25zdCB1bD0ibG9nRGVwdGhWZXJ0ZXgiLGRsPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp2RnJhZ21lbnREZXB0aD0xLjArZ2xfUG9zaXRpb24udzsKZ2xfUG9zaXRpb24uej1sb2cyKG1heCgwLjAwMDAwMSx2RnJhZ21lbnREZXB0aCkpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1bF09ZGw7Y29uc3QgZmw9ImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLF9sPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTgphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAphdHRyaWJ1dGUgdmVjNCB0YW5nZW50OwojZW5kaWYKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpbmNsdWRlPHV2QXR0cmlidXRlRGVjbGFyYXRpb24+WzIuLjddCiNpZmRlZiBWRVJURVhDT0xPUgphdHRyaWJ1dGUgdmVjNCBjb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CiNpbmNsdWRlPHByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXApCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcikKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wKQp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxidW1wVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodFZ4RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uPlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdmFyeWluZyB2ZWMzIHZEaXJlY3Rpb25XOwojZW5kaWYKI2luY2x1ZGU8bG9nRGVwdGhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVXBkYXRlZD1ub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAp2ZWM0IHRhbmdlbnRVcGRhdGVkPXRhbmdlbnQ7CiNlbmRpZgojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZQb3NpdGlvblVWVz1wb3NpdGlvblVwZGF0ZWQ7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2lmIGRlZmluZWQoUFJFUEFTUykgJiYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiAhZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKmZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpZmRlZiBOT1JNQUwKbWF0MyBub3JtYWxXb3JsZD1tYXQzKGZpbmFsV29ybGQpOwojaWYgZGVmaW5lZChJTlNUQU5DRVMpICYmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpCnZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybWFsV29ybGRbMF0sbm9ybWFsV29ybGRbMF0pLGRvdChub3JtYWxXb3JsZFsxXSxub3JtYWxXb3JsZFsxXSksZG90KG5vcm1hbFdvcmxkWzJdLG5vcm1hbFdvcmxkWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtYWxXb3JsZD10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1hbFdvcmxkKSk7CiNlbmRpZgp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUwojaWZkZWYgTVVMVElWSUVXCmlmIChnbF9WaWV3SURfT1ZSPT0wdSkgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKfSBlbHNlIHsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb25SKndvcmxkUG9zOwp9CiNlbHNlCmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojZW5kaWYKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2luY2x1ZGU8cHJlUGFzc1ZlcnRleD4KI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdkRpcmVjdGlvblc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwwLjApKSk7CiNlbmRpZgojaWZuZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVYxCnZNYWluVVYxPXV2VXBkYXRlZDsKI2VuZGlmCiNpbmNsdWRlPHV2VmFyaWFibGVEZWNsYXJhdGlvbj5bMi4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX01BVFJJWE5BTUVfLGRpZmZ1c2UsX0lORk9OQU1FXyxEaWZmdXNlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9NQVRSSVhOQU1FXyxkZXRhaWwsX0lORk9OQU1FXyxEZXRhaWxJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfTUFUUklYTkFNRV8sYW1iaWVudCxfSU5GT05BTUVfLEFtYmllbnRJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfTUFUUklYTkFNRV8sb3BhY2l0eSxfSU5GT05BTUVfLE9wYWNpdHlJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9NQVRSSVhOQU1FXyxlbWlzc2l2ZSxfSU5GT05BTUVfLEVtaXNzaXZlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfTUFUUklYTkFNRV8sbGlnaHRtYXAsX0lORk9OQU1FXyxMaWdodG1hcEluZm9zLngpCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfTUFUUklYTkFNRV8sc3BlY3VsYXIsX0lORk9OQU1FXyxTcGVjdWxhckluZm9zLngpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfTUFUUklYTkFNRV8sYnVtcCxfSU5GT05BTUVfLEJ1bXBJbmZvcy54KQojaW5jbHVkZTxidW1wVmVydGV4PgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTx2ZXJ0ZXhDb2xvck1peGluZz4KI2luY2x1ZGU8cG9pbnRDbG91ZFZlcnRleD4KI2luY2x1ZGU8bG9nRGVwdGhWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7VS5TaGFkZXJzU3RvcmVbZmxdPV9sO2NvbnN0IGdsPW5ldyBSZWdFeHAoIl4oW2dpbXVzXSspISIpO2NsYXNzIGVpe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3BsdWdpbnM9W10sdGhpcy5fYWN0aXZlUGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHM9W10sdGhpcy5fbWF0ZXJpYWw9ZSx0aGlzLl9zY2VuZT1lLmdldFNjZW5lKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfV9hZGRQbHVnaW4oZSl7Zm9yKGxldCBzPTA7czx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3MpaWYodGhpcy5fcGx1Z2luc1tzXS5uYW1lPT09ZS5uYW1lKXRocm93YFBsdWdpbiAiJHtlLm5hbWV9IiBhbHJlYWR5IGFkZGVkIHRvIHRoZSBtYXRlcmlhbCAiJHt0aGlzLl9tYXRlcmlhbC5uYW1lfSIhYDtpZih0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0KXRocm93YFRoZSBwbHVnaW4gIiR7ZS5uYW1lfSIgY2FuJ3QgYmUgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICIke3RoaXMuX21hdGVyaWFsLm5hbWV9IiBiZWNhdXNlIHRoaXMgbWF0ZXJpYWwgaGFzIGFscmVhZHkgYmVlbiB1c2VkIGZvciByZW5kZXJpbmchIFBsZWFzZSBhZGQgcGx1Z2lucyB0byBtYXRlcmlhbHMgYmVmb3JlIGFueSByZW5kZXJpbmcgd2l0aCB0aGlzIG1hdGVyaWFsIG9jY3Vycy5gO2NvbnN0IHQ9ZS5nZXRDbGFzc05hbWUoKTtlaS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XXx8KGVpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdPSJNQVRFUklBTFBMVUdJTl8iKyArK2VpLl9NYXRlcmlhbFBsdWdpbkNvdW50ZXIpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudC5iaW5kKHRoaXMpLHRoaXMuX3BsdWdpbnMucHVzaChlKSx0aGlzLl9wbHVnaW5zLnNvcnQoKHMscik9PnMucHJpb3JpdHktci5wcmlvcml0eSksdGhpcy5fY29kZUluamVjdGlvblBvaW50cz17fTtjb25zdCBpPXt9O2lbZWkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF1dPXt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwfTtmb3IoY29uc3QgcyBvZiB0aGlzLl9wbHVnaW5zKXMuY29sbGVjdERlZmluZXMoaSksdGhpcy5fY29sbGVjdFBvaW50TmFtZXMoInZlcnRleCIscy5nZXRDdXN0b21Db2RlKCJ2ZXJ0ZXgiKSksdGhpcy5fY29sbGVjdFBvaW50TmFtZXMoImZyYWdtZW50IixzLmdldEN1c3RvbUNvZGUoImZyYWdtZW50IikpO3RoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM9aX1fYWN0aXZhdGVQbHVnaW4oZSl7dGhpcy5fYWN0aXZlUGx1Z2lucy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVQbHVnaW5zLnB1c2goZSksdGhpcy5fYWN0aXZlUGx1Z2lucy5zb3J0KCh0LGkpPT50LnByaW9yaXR5LWkucHJpb3JpdHkpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaC5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcyksZS5yZWdpc3RlckZvckV4dHJhRXZlbnRzJiYodGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzLnB1c2goZSksdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzLnNvcnQoKHQsaSk9PnQucHJpb3JpdHktaS5wcmlvcml0eSksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaC5iaW5kKHRoaXMpKSl9Z2V0UGx1Z2luKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcGx1Z2lucy5sZW5ndGg7Kyt0KWlmKHRoaXMuX3BsdWdpbnNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuX3BsdWdpbnNbdF07cmV0dXJuIG51bGx9X2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2goZSl7bGV0IHQ9ITA7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0PXQmJmkuaXNSZWFkeUZvclN1Yk1lc2goZS5kZWZpbmVzLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpO2UuaXNSZWFkeUZvclN1Yk1lc2g9dH1faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0LnByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQucHJlcGFyZURlZmluZXMoZS5kZWZpbmVzLHRoaXMuX3NjZW5lLGUubWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cyl0LmhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQuYmluZEZvclN1Yk1lc2godGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXIsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKWlmKHQ9aS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpLHQpYnJlYWs7ZS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10fV9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpdC5maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZS5yZW5kZXJUYXJnZXRzKX1faGFuZGxlUGx1Z2luRXZlbnQoZSx0KXtzd2l0Y2goZSl7Y2FzZSBRZS5HZXRBY3RpdmVUZXh0dXJlczp7Y29uc3QgaT10O2Zvcihjb25zdCBzIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpcy5nZXRBY3RpdmVUZXh0dXJlcyhpLmFjdGl2ZVRleHR1cmVzKTticmVha31jYXNlIFFlLkdldEFuaW1hdGFibGVzOntjb25zdCBpPXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylzLmdldEFuaW1hdGFibGVzKGkuYW5pbWF0YWJsZXMpO2JyZWFrfWNhc2UgUWUuSGFzVGV4dHVyZTp7Y29uc3QgaT10O2xldCBzPSExO2Zvcihjb25zdCByIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpaWYocz1yLmhhc1RleHR1cmUoaS50ZXh0dXJlKSxzKWJyZWFrO2kuaGFzVGV4dHVyZT1zO2JyZWFrfWNhc2UgUWUuRGlzcG9zZWQ6e2NvbnN0IGk9dDtmb3IoY29uc3QgcyBvZiB0aGlzLl9wbHVnaW5zKXMuZGlzcG9zZShpLmZvcmNlRGlzcG9zZVRleHR1cmVzKTticmVha31jYXNlIFFlLkdldERlZmluZU5hbWVzOntjb25zdCBpPXQ7aS5kZWZpbmVOYW1lcz10aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zO2JyZWFrfWNhc2UgUWUuUHJlcGFyZUVmZmVjdDp7Y29uc3QgaT10O2Zvcihjb25zdCBzIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpaS5mYWxsYmFja1Jhbms9cy5hZGRGYWxsYmFja3MoaS5kZWZpbmVzLGkuZmFsbGJhY2tzLGkuZmFsbGJhY2tSYW5rKSxzLmdldEF0dHJpYnV0ZXMoaS5hdHRyaWJ1dGVzLHRoaXMuX3NjZW5lLGkubWVzaCk7dGhpcy5fdW5pZm9ybUxpc3QubGVuZ3RoPjAmJmkudW5pZm9ybXMucHVzaCguLi50aGlzLl91bmlmb3JtTGlzdCksdGhpcy5fc2FtcGxlckxpc3QubGVuZ3RoPjAmJmkuc2FtcGxlcnMucHVzaCguLi50aGlzLl9zYW1wbGVyTGlzdCksdGhpcy5fdWJvTGlzdC5sZW5ndGg+MCYmaS51bmlmb3JtQnVmZmVyc05hbWVzLnB1c2goLi4udGhpcy5fdWJvTGlzdCksaS5jdXN0b21Db2RlPXRoaXMuX2luamVjdEN1c3RvbUNvZGUoaS5jdXN0b21Db2RlKTticmVha31jYXNlIFFlLlByZXBhcmVVbmlmb3JtQnVmZmVyOntjb25zdCBpPXQ7dGhpcy5fdWJvRGVjbGFyYXRpb249IiIsdGhpcy5fdmVydGV4RGVjbGFyYXRpb249IiIsdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbj0iIix0aGlzLl91bmlmb3JtTGlzdD1bXSx0aGlzLl9zYW1wbGVyTGlzdD1bXSx0aGlzLl91Ym9MaXN0PVtdO2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpe2NvbnN0IHI9cy5nZXRVbmlmb3JtcygpO2lmKHIpe2lmKHIudWJvKWZvcihjb25zdCBuIG9mIHIudWJvKWkudWJvLmFkZFVuaWZvcm0obi5uYW1lLG4uc2l6ZSksdGhpcy5fdWJvRGVjbGFyYXRpb24rPWAke24udHlwZX0gJHtuLm5hbWV9O1xyCmAsdGhpcy5fdW5pZm9ybUxpc3QucHVzaChuLm5hbWUpO3IudmVydGV4JiYodGhpcy5fdmVydGV4RGVjbGFyYXRpb24rPXIudmVydGV4K2BccgpgKSxyLmZyYWdtZW50JiYodGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbis9ci5mcmFnbWVudCtgXHIKYCl9cy5nZXRTYW1wbGVycyh0aGlzLl9zYW1wbGVyTGlzdCkscy5nZXRVbmlmb3JtQnVmZmVyc05hbWVzKHRoaXMuX3Vib0xpc3QpfWJyZWFrfX19X2NvbGxlY3RQb2ludE5hbWVzKGUsdCl7aWYodClmb3IoY29uc3QgaSBpbiB0KXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV18fCh0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdPXt9KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdW2ldPSEwfV9pbmplY3RDdXN0b21Db2RlKGUpe3JldHVybih0LGkpPT57dmFyIHM7ZSYmKGk9ZSh0LGkpKSx0aGlzLl91Ym9EZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OIix0aGlzLl91Ym9EZWNsYXJhdGlvbikpLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04iLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKSksdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04iLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24pKTtjb25zdCByPShzPXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHMpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1t0XTtpZighcilyZXR1cm4gaTtmb3IobGV0IG4gaW4gcil7bGV0IGE9IiI7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl7Y29uc3QgaD1vLmdldEN1c3RvbUNvZGUodCk7aCE9bnVsbCYmaFtuXSYmKGErPWhbbl0rYFxyCmApfWlmKGEubGVuZ3RoPjApaWYobi5jaGFyQXQoMCk9PT0iISIpe249bi5zdWJzdHJpbmcoMSk7bGV0IG89ImciO2lmKG4uY2hhckF0KDApPT09IiEiKW89IiIsbj1uLnN1YnN0cmluZygxKTtlbHNle2NvbnN0IGQ9Z2wuZXhlYyhuKTtkJiZkLmxlbmd0aD49MiYmKG89ZFsxXSxuPW4uc3Vic3RyaW5nKG8ubGVuZ3RoKzEpKX1vLmluZGV4T2YoImciKTwwJiYobys9ImciKTtjb25zdCBoPWksbD1uZXcgUmVnRXhwKG4sbyk7bGV0IHU9bC5leGVjKGgpO2Zvcig7dSE9PW51bGw7KXtsZXQgZD1hO2ZvcihsZXQgZj0wO2Y8dS5sZW5ndGg7KytmKWQ9ZC5yZXBsYWNlKCIkIitmLHVbZl0pO2k9aS5yZXBsYWNlKHVbMF0sZCksdT1sLmV4ZWMoaCl9fWVsc2V7Y29uc3Qgbz0iI2RlZmluZSAiK247aT1pLnJlcGxhY2UobyxgXHIKYCthK2BccgpgK28pfX1yZXR1cm4gaX19fWVpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LGVpLl9NYXRlcmlhbFBsdWdpbkNvdW50ZXI9MDtjbGFzcyBoc3tjb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITAsbj0hMSl7dGhpcy5wcmlvcml0eT01MDAsdGhpcy5yZWdpc3RlckZvckV4dHJhRXZlbnRzPSExLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5uYW1lPXQsdGhpcy5wcmlvcml0eT1pLGUucGx1Z2luTWFuYWdlcnx8KGUucGx1Z2luTWFuYWdlcj1uZXcgZWkoZSkpLHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzPXMsdGhpcy5fcGx1Z2luTWFuYWdlcj1lLnBsdWdpbk1hbmFnZXIsciYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWRkUGx1Z2luKHRoaXMpLG4mJnRoaXMuX2VuYWJsZSghMCksdGhpcy5tYXJrQWxsRGVmaW5lc0FzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbNjNdfV9lbmFibGUoZSl7ZSYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWN0aXZhdGVQbHVnaW4odGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkscyl7cmV0dXJuITB9aGFyZEJpbmRGb3JTdWJNZXNoKGUsdCxpLHMpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzKXt9ZGlzcG9zZShlKXt9Z2V0Q3VzdG9tQ29kZShlKXtyZXR1cm4gbnVsbH1jb2xsZWN0RGVmaW5lcyhlKXtpZih0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcylmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcykpe2lmKHRbMF09PT0iXyIpY29udGludWU7Y29uc3QgaT10eXBlb2YgdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbdF07ZVt0XT17dHlwZTppPT09Im51bWJlciI/Im51bWJlciI6aT09PSJzdHJpbmciPyJzdHJpbmciOmk9PT0iYm9vbGVhbiI/ImJvb2xlYW4iOiJvYmplY3QiLGRlZmF1bHQ6dGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbdF19fX1wcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZSx0LGkpe31wcmVwYXJlRGVmaW5lcyhlLHQsaSl7fWhhc1RleHR1cmUoZSl7cmV0dXJuITF9aGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4hMX1maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7fWdldEFjdGl2ZVRleHR1cmVzKGUpe31nZXRBbmltYXRhYmxlcyhlKXt9YWRkRmFsbGJhY2tzKGUsdCxpKXtyZXR1cm4gaX1nZXRTYW1wbGVycyhlKXt9Z2V0QXR0cmlidXRlcyhlLHQsaSl7fWdldFVuaWZvcm1CdWZmZXJzTmFtZXMoZSl7fWdldFVuaWZvcm1zKCl7cmV0dXJue319Y29weVRvKGUpe2FlLkNsb25lKCgpPT5lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBhZS5TZXJpYWxpemUodGhpcyl9cGFyc2UoZSx0LGkpe2FlLlBhcnNlKCgpPT50aGlzLGUsdCxpKX19VChbUigpXSxocy5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSxocy5wcm90b3R5cGUsInByaW9yaXR5Iix2b2lkIDApLFQoW1IoKV0saHMucHJvdG90eXBlLCJyZWdpc3RlckZvckV4dHJhRXZlbnRzIix2b2lkIDApO2NsYXNzIHBsIGV4dGVuZHMgeXN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuREVUQUlMPSExLHRoaXMuREVUQUlMRElSRUNUVVY9MCx0aGlzLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD0wfX1jbGFzcyBwaSBleHRlbmRzIGhze2NvbnN0cnVjdG9yKGUsdD0hMCl7c3VwZXIoZSwiRGV0YWlsTWFwIiwxNDAsbmV3IHBsLHQpLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsPTEsdGhpcy5yb3VnaG5lc3NCbGVuZExldmVsPTEsdGhpcy5idW1wTGV2ZWw9MSx0aGlzLl9ub3JtYWxCbGVuZE1ldGhvZD1QLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VULHRoaXMuX2lzRW5hYmxlZD0hMSx0aGlzLmlzRW5hYmxlZD0hMSx0aGlzLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbMV19X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXt0aGlzLl9lbmFibGUodGhpcy5faXNFbmFibGVkKSx0aGlzLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZD8hKGUuX2FyZVRleHR1cmVzRGlydHkmJnQudGV4dHVyZXNFbmFibGVkJiZpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmIXRoaXMuX3RleHR1cmUuaXNSZWFkeSgpKTohMH1wcmVwYXJlRGVmaW5lcyhlLHQpe2lmKHRoaXMuX2lzRW5hYmxlZCl7ZS5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2Q7Y29uc3QgaT10LmdldEVuZ2luZSgpO2UuX2FyZVRleHR1cmVzRGlydHkmJihpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdGhpcy5faXNFbmFibGVkPyhpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3RleHR1cmUsZSwiREVUQUlMIiksZS5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2QpOmUuREVUQUlMPSExKX1lbHNlIGUuREVUQUlMPSExfWJpbmRGb3JTdWJNZXNoKGUsdCl7aWYoIXRoaXMuX2lzRW5hYmxlZClyZXR1cm47Y29uc3QgaT10aGlzLl9tYXRlcmlhbC5pc0Zyb3plbjsoIWUudXNlVWJvfHwhaXx8IWUuaXNTeW5jKSYmdGhpcy5fdGV4dHVyZSYmdWUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJihlLnVwZGF0ZUZsb2F0NCgidkRldGFpbEluZm9zIix0aGlzLl90ZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5kaWZmdXNlQmxlbmRMZXZlbCx0aGlzLmJ1bXBMZXZlbCx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWwpLGllLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3RleHR1cmUsZSwiZGV0YWlsIikpLHQudGV4dHVyZXNFbmFibGVkJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmZS5zZXRUZXh0dXJlKCJkZXRhaWxTYW1wbGVyIix0aGlzLl90ZXh0dXJlKX1oYXNUZXh0dXJlKGUpe3JldHVybiB0aGlzLl90ZXh0dXJlPT09ZX1nZXRBY3RpdmVUZXh0dXJlcyhlKXt0aGlzLl90ZXh0dXJlJiZlLnB1c2godGhpcy5fdGV4dHVyZSl9Z2V0QW5pbWF0YWJsZXMoZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl90ZXh0dXJlKX1kaXNwb3NlKGUpe3ZhciB0O2UmJigodD10aGlzLl90ZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iRGV0YWlsTWFwQ29uZmlndXJhdGlvbiJ9Z2V0U2FtcGxlcnMoZSl7ZS5wdXNoKCJkZXRhaWxTYW1wbGVyIil9Z2V0VW5pZm9ybXMoKXtyZXR1cm57dWJvOlt7bmFtZToidkRldGFpbEluZm9zIixzaXplOjQsdHlwZToidmVjNCJ9LHtuYW1lOiJkZXRhaWxNYXRyaXgiLHNpemU6MTYsdHlwZToibWF0NCJ9XX19fVQoW210KCJkZXRhaWxUZXh0dXJlIiksYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLHBpLnByb3RvdHlwZSwidGV4dHVyZSIsdm9pZCAwKSxUKFtSKCldLHBpLnByb3RvdHlwZSwiZGlmZnVzZUJsZW5kTGV2ZWwiLHZvaWQgMCksVChbUigpXSxwaS5wcm90b3R5cGUsInJvdWdobmVzc0JsZW5kTGV2ZWwiLHZvaWQgMCksVChbUigpXSxwaS5wcm90b3R5cGUsImJ1bXBMZXZlbCIsdm9pZCAwKSxUKFtSKCksYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLHBpLnByb3RvdHlwZSwibm9ybWFsQmxlbmRNZXRob2QiLHZvaWQgMCksVChbUigpLGJlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxwaS5wcm90b3R5cGUsImlzRW5hYmxlZCIsdm9pZCAwKTtjb25zdCBHcz17ZWZmZWN0Om51bGwsc3ViTWVzaDpudWxsfTtjbGFzcyBtbCBleHRlbmRzIHlze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuTUFJTlVWMT0hMSx0aGlzLk1BSU5VVjI9ITEsdGhpcy5NQUlOVVYzPSExLHRoaXMuTUFJTlVWND0hMSx0aGlzLk1BSU5VVjU9ITEsdGhpcy5NQUlOVVY2PSExLHRoaXMuRElGRlVTRT0hMSx0aGlzLkRJRkZVU0VESVJFQ1RVVj0wLHRoaXMuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSExLHRoaXMuQU1CSUVOVD0hMSx0aGlzLkFNQklFTlRESVJFQ1RVVj0wLHRoaXMuT1BBQ0lUWT0hMSx0aGlzLk9QQUNJVFlESVJFQ1RVVj0wLHRoaXMuT1BBQ0lUWVJHQj0hMSx0aGlzLlJFRkxFQ1RJT049ITEsdGhpcy5FTUlTU0lWRT0hMSx0aGlzLkVNSVNTSVZFRElSRUNUVVY9MCx0aGlzLlNQRUNVTEFSPSExLHRoaXMuU1BFQ1VMQVJESVJFQ1RVVj0wLHRoaXMuQlVNUD0hMSx0aGlzLkJVTVBESVJFQ1RVVj0wLHRoaXMuUEFSQUxMQVg9ITEsdGhpcy5QQVJBTExBWE9DQ0xVU0lPTj0hMSx0aGlzLlNQRUNVTEFST1ZFUkFMUEhBPSExLHRoaXMuQ0xJUFBMQU5FPSExLHRoaXMuQ0xJUFBMQU5FMj0hMSx0aGlzLkNMSVBQTEFORTM9ITEsdGhpcy5DTElQUExBTkU0PSExLHRoaXMuQ0xJUFBMQU5FNT0hMSx0aGlzLkNMSVBQTEFORTY9ITEsdGhpcy5BTFBIQVRFU1Q9ITEsdGhpcy5ERVBUSFBSRVBBU1M9ITEsdGhpcy5BTFBIQUZST01ESUZGVVNFPSExLHRoaXMuUE9JTlRTSVpFPSExLHRoaXMuRk9HPSExLHRoaXMuU1BFQ1VMQVJURVJNPSExLHRoaXMuRElGRlVTRUZSRVNORUw9ITEsdGhpcy5PUEFDSVRZRlJFU05FTD0hMSx0aGlzLlJFRkxFQ1RJT05GUkVTTkVMPSExLHRoaXMuUkVGUkFDVElPTkZSRVNORUw9ITEsdGhpcy5FTUlTU0lWRUZSRVNORUw9ITEsdGhpcy5GUkVTTkVMPSExLHRoaXMuTk9STUFMPSExLHRoaXMuVEFOR0VOVD0hMSx0aGlzLlVWMT0hMSx0aGlzLlVWMj0hMSx0aGlzLlVWMz0hMSx0aGlzLlVWND0hMSx0aGlzLlVWNT0hMSx0aGlzLlVWNj0hMSx0aGlzLlZFUlRFWENPTE9SPSExLHRoaXMuVkVSVEVYQUxQSEE9ITEsdGhpcy5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHRoaXMuQm9uZXNQZXJNZXNoPTAsdGhpcy5CT05FVEVYVFVSRT0hMSx0aGlzLkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9ITEsdGhpcy5JTlNUQU5DRVM9ITEsdGhpcy5USElOX0lOU1RBTkNFUz0hMSx0aGlzLklOU1RBTkNFU0NPTE9SPSExLHRoaXMuR0xPU1NJTkVTUz0hMSx0aGlzLlJPVUdITkVTUz0hMSx0aGlzLkVNSVNTSVZFQVNJTExVTUlOQVRJT049ITEsdGhpcy5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT0hMSx0aGlzLlJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSPSExLHRoaXMuTElHSFRNQVA9ITEsdGhpcy5MSUdIVE1BUERJUkVDVFVWPTAsdGhpcy5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9ITEsdGhpcy5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPSExLHRoaXMuUkVGTEVDVElPTk1BUF8zRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMPSExLHRoaXMuUkVGTEVDVElPTk1BUF9QTEFOQVI9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0NVQklDPSExLHRoaXMuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfU0tZQk9YPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FWFBMSUNJVD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITEsdGhpcy5JTlZFUlRDVUJJQ01BUD0hMSx0aGlzLkxPR0FSSVRITUlDREVQVEg9ITEsdGhpcy5SRUZSQUNUSU9OPSExLHRoaXMuUkVGUkFDVElPTk1BUF8zRD0hMSx0aGlzLlJFRkxFQ1RJT05PVkVSQUxQSEE9ITEsdGhpcy5UV09TSURFRExJR0hUSU5HPSExLHRoaXMuU0hBRE9XRkxPQVQ9ITEsdGhpcy5NT1JQSFRBUkdFVFM9ITEsdGhpcy5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHRoaXMuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsdGhpcy5NT1JQSFRBUkdFVFNfVVY9ITEsdGhpcy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCx0aGlzLk1PUlBIVEFSR0VUU19URVhUVVJFPSExLHRoaXMuTk9OVU5JRk9STVNDQUxJTkc9ITEsdGhpcy5QUkVNVUxUSVBMWUFMUEhBPSExLHRoaXMuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9ITEsdGhpcy5BTFBIQUJMRU5EPSEwLHRoaXMuUFJFUEFTUz0hMSx0aGlzLlBSRVBBU1NfSVJSQURJQU5DRT0hMSx0aGlzLlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfQUxCRURPX1NRUlQ9ITEsdGhpcy5QUkVQQVNTX0FMQkVET19TUVJUX0lOREVYPS0xLHRoaXMuUFJFUEFTU19ERVBUSD0hMSx0aGlzLlBSRVBBU1NfREVQVEhfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX05PUk1BTD0hMSx0aGlzLlBSRVBBU1NfTk9STUFMX0lOREVYPS0xLHRoaXMuUFJFUEFTU19QT1NJVElPTj0hMSx0aGlzLlBSRVBBU1NfUE9TSVRJT05fSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1ZFTE9DSVRZPSExLHRoaXMuUFJFUEFTU19WRUxPQ0lUWV9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfUkVGTEVDVElWSVRZPSExLHRoaXMuUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVg9LTEsdGhpcy5TQ0VORV9NUlRfQ09VTlQ9MCx0aGlzLlJHQkRMSUdIVE1BUD0hMSx0aGlzLlJHQkRSRUZMRUNUSU9OPSExLHRoaXMuUkdCRFJFRlJBQ1RJT049ITEsdGhpcy5JTUFHRVBST0NFU1NJTkc9ITEsdGhpcy5WSUdORVRURT0hMSx0aGlzLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsdGhpcy5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSx0aGlzLlRPTkVNQVBQSU5HPSExLHRoaXMuVE9ORU1BUFBJTkdfQUNFUz0hMSx0aGlzLkNPTlRSQVNUPSExLHRoaXMuQ09MT1JDVVJWRVM9ITEsdGhpcy5DT0xPUkdSQURJTkc9ITEsdGhpcy5DT0xPUkdSQURJTkczRD0hMSx0aGlzLlNBTVBMRVIzREdSRUVOREVQVEg9ITEsdGhpcy5TQU1QTEVSM0RCR1JNQVA9ITEsdGhpcy5ESVRIRVI9ITEsdGhpcy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0aGlzLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdGhpcy5NVUxUSVZJRVc9ITEsdGhpcy5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ITEsdGhpcy5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSExLHRoaXMuQ0FNRVJBX09SVEhPR1JBUEhJQz0hMSx0aGlzLkNBTUVSQV9QRVJTUEVDVElWRT0hMSx0aGlzLklTX1JFRkxFQ1RJT05fTElORUFSPSExLHRoaXMuSVNfUkVGUkFDVElPTl9MSU5FQVI9ITEsdGhpcy5FWFBPU1VSRT0hMSx0aGlzLnJlYnVpbGQoKX1zZXRSZWZsZWN0aW9uTW9kZShlKXtjb25zdCB0PVsiUkVGTEVDVElPTk1BUF9DVUJJQyIsIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiLCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfU0tZQk9YIiwiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIiwiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCJdO2Zvcihjb25zdCBpIG9mIHQpdGhpc1tpXT1pPT09ZX19Y2xhc3MgQiBleHRlbmRzIFZye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl9kaWZmdXNlVGV4dHVyZT1udWxsLHRoaXMuX2FtYmllbnRUZXh0dXJlPW51bGwsdGhpcy5fb3BhY2l0eVRleHR1cmU9bnVsbCx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZT1udWxsLHRoaXMuX2VtaXNzaXZlVGV4dHVyZT1udWxsLHRoaXMuX3NwZWN1bGFyVGV4dHVyZT1udWxsLHRoaXMuX2J1bXBUZXh0dXJlPW51bGwsdGhpcy5fbGlnaHRtYXBUZXh0dXJlPW51bGwsdGhpcy5fcmVmcmFjdGlvblRleHR1cmU9bnVsbCx0aGlzLmFtYmllbnRDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuZGlmZnVzZUNvbG9yPW5ldyByZSgxLDEsMSksdGhpcy5zcGVjdWxhckNvbG9yPW5ldyByZSgxLDEsMSksdGhpcy5lbWlzc2l2ZUNvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5zcGVjdWxhclBvd2VyPTY0LHRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlPSExLHRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb249ITEsdGhpcy5fbGlua0VtaXNzaXZlV2l0aERpZmZ1c2U9ITEsdGhpcy5fdXNlU3BlY3VsYXJPdmVyQWxwaGE9ITEsdGhpcy5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYT0hMSx0aGlzLl9kaXNhYmxlTGlnaHRpbmc9ITEsdGhpcy5fdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXA9ITEsdGhpcy5fdXNlUGFyYWxsYXg9ITEsdGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb249ITEsdGhpcy5wYXJhbGxheFNjYWxlQmlhcz0uMDUsdGhpcy5fcm91Z2huZXNzPTAsdGhpcy5pbmRleE9mUmVmcmFjdGlvbj0uOTgsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT0hMCx0aGlzLmFscGhhQ3V0T2ZmPS40LHRoaXMuX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXA9ITEsdGhpcy5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXI9ITEsdGhpcy5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhPSExLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cz00LHRoaXMuX2ludmVydE5vcm1hbE1hcFg9ITEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT0hMSx0aGlzLl90d29TaWRlZExpZ2h0aW5nPSExLHRoaXMuX3JlbmRlclRhcmdldHM9bmV3ICRlKDE2KSx0aGlzLl93b3JsZFZpZXdQcm9qZWN0aW9uTWF0cml4PXguWmVybygpLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5kZXRhaWxNYXA9bmV3IHBpKHRoaXMpLHRoaXMuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24obnVsbCksdGhpcy5wcmVQYXNzQ29uZmlndXJhdGlvbj1uZXcga3IsdGhpcy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz0oKT0+KHRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSxCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLEIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaCh0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSksdGhpcy5fZXZlbnRJbmZvLnJlbmRlclRhcmdldHM9dGhpcy5fcmVuZGVyVGFyZ2V0cyx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcmVuZGVyVGFyZ2V0cyl9Z2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbn1zZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihlKXt0aGlzLl9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX1fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihlKXtlIT09dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLGU/dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1lOnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249dGhpcy5nZXRTY2VuZSgpLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24sdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyPXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLmFkZCgoKT0+e3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl9KSkpfWdldCBpc1ByZVBhc3NDYXBhYmxlKCl7cmV0dXJuIXRoaXMuZGlzYWJsZURlcHRoV3JpdGV9Z2V0IGNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZCgpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkfXNldCBjYW1lcmFDb2xvckN1cnZlc0VuYWJsZWQoZSl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzRW5hYmxlZD1lfWdldCBjYW1lcmFDb2xvckdyYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkfXNldCBjYW1lcmFDb2xvckdyYWRpbmdFbmFibGVkKGUpe3RoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkPWV9Z2V0IGNhbWVyYVRvbmVNYXBwaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZH1zZXQgY2FtZXJhVG9uZU1hcHBpbmdFbmFibGVkKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkPWV9Z2V0IGNhbWVyYUV4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uZXhwb3N1cmV9c2V0IGNhbWVyYUV4cG9zdXJlKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uZXhwb3N1cmU9ZX1nZXQgY2FtZXJhQ29udHJhc3QoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb250cmFzdH1zZXQgY2FtZXJhQ29udHJhc3QoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb250cmFzdD1lfWdldCBjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZX1zZXQgY2FtZXJhQ29sb3JHcmFkaW5nVGV4dHVyZShlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ1RleHR1cmU9ZX1nZXQgY2FtZXJhQ29sb3JDdXJ2ZXMoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc31zZXQgY2FtZXJhQ29sb3JDdXJ2ZXMoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlcz1lfWdldCBjYW5SZW5kZXJUb01SVCgpe3JldHVybiEwfWdldCBoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiBCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0fHxCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0PyEwOnRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN0YW5kYXJkTWF0ZXJpYWwifWdldCB1c2VMb2dhcml0aG1pY0RlcHRoKCl7cmV0dXJuIHRoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGh9c2V0IHVzZUxvZ2FyaXRobWljRGVwdGgoZSl7dGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aD1lJiZ0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmZyYWdtZW50RGVwdGhTdXBwb3J0ZWQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbHx8dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXx8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4gdGhpcy5fZm9yY2VBbHBoYVRlc3Q/ITA6dGhpcy5faGFzQWxwaGFDaGFubmVsKCkmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT1udWxsfHx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09UC5NQVRFUklBTF9BTFBIQVRFU1QpfV9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGEmJnRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlJiZ0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09UC5NQVRFUklBTF9PUEFRVUV9X2hhc0FscGhhQ2hhbm5lbCgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmV9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGk9ITEpe2lmKHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdHx8dGhpcy5idWlsZFVuaWZvcm1MYXlvdXQoKSx0LmVmZmVjdCYmdGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz09PWkpcmV0dXJuITA7dC5tYXRlcmlhbERlZmluZXN8fCh0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhRZS5HZXREZWZpbmVOYW1lcyx0aGlzLl9ldmVudEluZm8pLHQubWF0ZXJpYWxEZWZpbmVzPW5ldyBtbCh0aGlzLl9ldmVudEluZm8uZGVmaW5lTmFtZXMpKTtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKSxyPXQubWF0ZXJpYWxEZWZpbmVzO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IG49cy5nZXRFbmdpbmUoKTtyLl9uZWVkTm9ybWFscz1pZS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhzLGUsciwhMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nKSxpZS5QcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhzLHIpO2NvbnN0IGE9dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5O2lmKGllLlByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcyhzLHIsdGhpcy5jYW5SZW5kZXJUb01SVCYmIWEpLGllLlByZXBhcmVEZWZpbmVzRm9yT0lUKHMscixhKSxyLl9hcmVUZXh0dXJlc0RpcnR5KXt0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMsci5fbmVlZFVWcz0hMTtmb3IobGV0IGg9MTtoPD02OysraClyWyJNQUlOVVYiK2hdPSExO2lmKHMudGV4dHVyZXNFbmFibGVkKXtpZihyLkRJRkZVU0VESVJFQ1RVVj0wLHIuQlVNUERJUkVDVFVWPTAsci5BTUJJRU5URElSRUNUVVY9MCxyLk9QQUNJVFlESVJFQ1RVVj0wLHIuRU1JU1NJVkVESVJFQ1RVVj0wLHIuU1BFQ1VMQVJESVJFQ1RVVj0wLHIuTElHSFRNQVBESVJFQ1RVVj0wLHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZCLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9kaWZmdXNlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZGlmZnVzZVRleHR1cmUsciwiRElGRlVTRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkRJRkZVU0U9ITE7aWYodGhpcy5fYW1iaWVudFRleHR1cmUmJkIuQW1iaWVudFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2FtYmllbnRUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9hbWJpZW50VGV4dHVyZSxyLCJBTUJJRU5UIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuQU1CSUVOVD0hMTtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmQi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX29wYWNpdHlUZXh0dXJlLHIsIk9QQUNJVFkiKSxyLk9QQUNJVFlSR0I9dGhpcy5fb3BhY2l0eVRleHR1cmUuZ2V0QWxwaGFGcm9tUkdCO2Vsc2UgcmV0dXJuITE7ZWxzZSByLk9QQUNJVFk9ITE7aWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJkIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpe3N3aXRjaChyLl9uZWVkTm9ybWFscz0hMCxyLlJFRkxFQ1RJT049ITAsci5ST1VHSE5FU1M9dGhpcy5fcm91Z2huZXNzPjAsci5SRUZMRUNUSU9OT1ZFUkFMUEhBPXRoaXMuX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEsci5JTlZFUlRDVUJJQ01BUD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGU9PT1OLklOVkNVQklDX01PREUsci5SRUZMRUNUSU9OTUFQXzNEPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPXIuUkVGTEVDVElPTk1BUF8zRCYmdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPyF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaOnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFosci5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIE4uRVhQTElDSVRfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIik7YnJlYWs7Y2FzZSBOLlBMQU5BUl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUExBTkFSIik7YnJlYWs7Y2FzZSBOLlBST0pFQ1RJT05fTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iKTticmVhaztjYXNlIE4uU0tZQk9YX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TS1lCT1giKTticmVhaztjYXNlIE4uU1BIRVJJQ0FMX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiKTticmVhaztjYXNlIE4uRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiKTticmVhaztjYXNlIE4uRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIE4uRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgTi5DVUJJQ19NT0RFOmNhc2UgTi5JTlZDVUJJQ19NT0RFOmRlZmF1bHQ6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9DVUJJQyIpO2JyZWFrfXIuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemV9ZWxzZSByZXR1cm4hMTtlbHNlIHIuUkVGTEVDVElPTj0hMSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExO2lmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLHIsIkVNSVNTSVZFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuRU1JU1NJVkU9ITE7aWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZCLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9saWdodG1hcFRleHR1cmUsciwiTElHSFRNQVAiKSxyLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9dGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcCxyLlJHQkRMSUdIVE1BUD10aGlzLl9saWdodG1hcFRleHR1cmUuaXNSR0JEO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkxJR0hUTUFQPSExO2lmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmQi5TcGVjdWxhclRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLHIsIlNQRUNVTEFSIiksci5HTE9TU0lORVNTPXRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYTtlbHNlIHJldHVybiExO2Vsc2Ugci5TUEVDVUxBUj0hMTtpZihzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl9idW1wVGV4dHVyZSYmQi5CdW1wVGV4dHVyZUVuYWJsZWQpe2lmKHRoaXMuX2J1bXBUZXh0dXJlLmlzUmVhZHkoKSlpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2J1bXBUZXh0dXJlLHIsIkJVTVAiKSxyLlBBUkFMTEFYPXRoaXMuX3VzZVBhcmFsbGF4LHIuUEFSQUxMQVhPQ0NMVVNJT049dGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb247ZWxzZSByZXR1cm4hMTtyLk9CSkVDVFNQQUNFX05PUk1BTE1BUD10aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcH1lbHNlIHIuQlVNUD0hMSxyLlBBUkFMTEFYPSExLHIuUEFSQUxMQVhPQ0NMVVNJT049ITE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJkIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpci5fbmVlZFVWcz0hMCxyLlJFRlJBQ1RJT049ITAsci5SRUZSQUNUSU9OTUFQXzNEPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJHQkRSRUZSQUNUSU9OPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUkdCRCxyLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplO2Vsc2UgcmV0dXJuITE7ZWxzZSByLlJFRlJBQ1RJT049ITE7ci5UV09TSURFRExJR0hUSU5HPSF0aGlzLl9iYWNrRmFjZUN1bGxpbmcmJnRoaXMuX3R3b1NpZGVkTGlnaHRpbmd9ZWxzZSByLkRJRkZVU0U9ITEsci5BTUJJRU5UPSExLHIuT1BBQ0lUWT0hMSxyLlJFRkxFQ1RJT049ITEsci5FTUlTU0lWRT0hMSxyLkxJR0hUTUFQPSExLHIuQlVNUD0hMSxyLlJFRlJBQ1RJT049ITE7ci5BTFBIQUZST01ESUZGVVNFPXRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCksci5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPXRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24sci5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT10aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSxyLlNQRUNVTEFST1ZFUkFMUEhBPXRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhLHIuUFJFTVVMVElQTFlBTFBIQT10aGlzLmFscGhhTW9kZT09PTd8fHRoaXMuYWxwaGFNb2RlPT09OCxyLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPXRoaXMudHJhbnNwYXJlbmN5TW9kZSE9PW51bGwsci5BTFBIQUJMRU5EPXRoaXMudHJhbnNwYXJlbmN5TW9kZT09PW51bGx8fHRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpfWlmKHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLCF0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpcmV0dXJuITE7aWYoci5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHkmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24pe2lmKCF0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmlzUmVhZHkoKSlyZXR1cm4hMTt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnByZXBhcmVEZWZpbmVzKHIpLHIuSVNfUkVGTEVDVElPTl9MSU5FQVI9dGhpcy5yZWZsZWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmbGVjdGlvblRleHR1cmUuZ2FtbWFTcGFjZSxyLklTX1JFRlJBQ1RJT05fTElORUFSPXRoaXMucmVmcmFjdGlvblRleHR1cmUhPW51bGwmJiF0aGlzLnJlZnJhY3Rpb25UZXh0dXJlLmdhbW1hU3BhY2V9ci5fYXJlRnJlc25lbERpcnR5JiYoQi5GcmVzbmVsRW5hYmxlZD8odGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzKSYmKHIuRElGRlVTRUZSRVNORUw9dGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuT1BBQ0lUWUZSRVNORUw9dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuUkVGTEVDVElPTkZSRVNORUw9dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9dGhpcy5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIsci5SRUZSQUNUSU9ORlJFU05FTD10aGlzLl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5FTUlTU0lWRUZSRVNORUw9dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5fbmVlZE5vcm1hbHM9ITAsci5GUkVTTkVMPSEwKTpyLkZSRVNORUw9ITEpLGllLlByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHMsdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aCx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24oZSl8fHRoaXMuX2ZvcmNlQWxwaGFUZXN0LHIpLGllLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhzLG4sdGhpcyxyLGksbnVsbCx0LmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzKSx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby5tZXNoPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyh0aGlzLl9ldmVudEluZm8pLGllLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyhlLHIsITAsITAsITApLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcyh0aGlzLl9ldmVudEluZm8pO2xldCBvPSExO2lmKHIuaXNEaXJ0eSl7Y29uc3QgaD1yLl9hcmVMaWdodHNEaXNwb3NlZDtyLm1hcmtBc1Byb2Nlc3NlZCgpO2NvbnN0IGw9bmV3IHpzO3IuUkVGTEVDVElPTiYmbC5hZGRGYWxsYmFjaygwLCJSRUZMRUNUSU9OIiksci5TUEVDVUxBUiYmbC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUiIpLHIuQlVNUCYmbC5hZGRGYWxsYmFjaygwLCJCVU1QIiksci5QQVJBTExBWCYmbC5hZGRGYWxsYmFjaygxLCJQQVJBTExBWCIpLHIuUEFSQUxMQVhPQ0NMVVNJT04mJmwuYWRkRmFsbGJhY2soMCwiUEFSQUxMQVhPQ0NMVVNJT04iKSxyLlNQRUNVTEFST1ZFUkFMUEhBJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFST1ZFUkFMUEhBIiksci5GT0cmJmwuYWRkRmFsbGJhY2soMSwiRk9HIiksci5QT0lOVFNJWkUmJmwuYWRkRmFsbGJhY2soMCwiUE9JTlRTSVpFIiksci5MT0dBUklUSE1JQ0RFUFRIJiZsLmFkZEZhbGxiYWNrKDAsIkxPR0FSSVRITUlDREVQVEgiKSxpZS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHIsbCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLHIuU1BFQ1VMQVJURVJNJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSVEVSTSIpLHIuRElGRlVTRUZSRVNORUwmJmwuYWRkRmFsbGJhY2soMSwiRElGRlVTRUZSRVNORUwiKSxyLk9QQUNJVFlGUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDIsIk9QQUNJVFlGUkVTTkVMIiksci5SRUZMRUNUSU9ORlJFU05FTCYmbC5hZGRGYWxsYmFjaygzLCJSRUZMRUNUSU9ORlJFU05FTCIpLHIuRU1JU1NJVkVGUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDQsIkVNSVNTSVZFRlJFU05FTCIpLHIuRlJFU05FTCYmbC5hZGRGYWxsYmFjayg0LCJGUkVTTkVMIiksci5NVUxUSVZJRVcmJmwuYWRkRmFsbGJhY2soMCwiTVVMVElWSUVXIik7Y29uc3QgdT1bZy5Qb3NpdGlvbktpbmRdO3IuTk9STUFMJiZ1LnB1c2goZy5Ob3JtYWxLaW5kKSxyLlRBTkdFTlQmJnUucHVzaChnLlRhbmdlbnRLaW5kKTtmb3IobGV0IEE9MTtBPD02OysrQSlyWyJVViIrQV0mJnUucHVzaChgdXYke0E9PT0xPyIiOkF9YCk7ci5WRVJURVhDT0xPUiYmdS5wdXNoKGcuQ29sb3JLaW5kKSxpZS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKHUsZSxyLGwpLGllLlByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUsciksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHModSxlLHIpLGllLlByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24odSxlLHIpO2xldCBkPSJkZWZhdWx0Ijtjb25zdCBmPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZBbWJpZW50Q29sb3IiLCJ2RGlmZnVzZUNvbG9yIiwidlNwZWN1bGFyQ29sb3IiLCJ2RW1pc3NpdmVDb2xvciIsInZpc2liaWxpdHkiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJ2RGlmZnVzZUluZm9zIiwidkFtYmllbnRJbmZvcyIsInZPcGFjaXR5SW5mb3MiLCJ2UmVmbGVjdGlvbkluZm9zIiwidkVtaXNzaXZlSW5mb3MiLCJ2U3BlY3VsYXJJbmZvcyIsInZCdW1wSW5mb3MiLCJ2TGlnaHRtYXBJbmZvcyIsInZSZWZyYWN0aW9uSW5mb3MiLCJtQm9uZXMiLCJkaWZmdXNlTWF0cml4IiwiYW1iaWVudE1hdHJpeCIsIm9wYWNpdHlNYXRyaXgiLCJyZWZsZWN0aW9uTWF0cml4IiwiZW1pc3NpdmVNYXRyaXgiLCJzcGVjdWxhck1hdHJpeCIsImJ1bXBNYXRyaXgiLCJub3JtYWxNYXRyaXgiLCJsaWdodG1hcE1hdHJpeCIsInJlZnJhY3Rpb25NYXRyaXgiLCJkaWZmdXNlTGVmdENvbG9yIiwiZGlmZnVzZVJpZ2h0Q29sb3IiLCJvcGFjaXR5UGFydHMiLCJyZWZsZWN0aW9uTGVmdENvbG9yIiwicmVmbGVjdGlvblJpZ2h0Q29sb3IiLCJlbWlzc2l2ZUxlZnRDb2xvciIsImVtaXNzaXZlUmlnaHRDb2xvciIsInJlZnJhY3Rpb25MZWZ0Q29sb3IiLCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsInZSZWZsZWN0aW9uUG9zaXRpb24iLCJ2UmVmbGVjdGlvblNpemUiLCJ2UmVmcmFjdGlvblBvc2l0aW9uIiwidlJlZnJhY3Rpb25TaXplIiwibG9nYXJpdGhtaWNEZXB0aENvbnN0YW50IiwidlRhbmdlbnRTcGFjZVBhcmFtcyIsImFscGhhQ3V0T2ZmIiwiYm9uZVRleHR1cmVXaWR0aCIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl0sXz1bImRpZmZ1c2VTYW1wbGVyIiwiYW1iaWVudFNhbXBsZXIiLCJvcGFjaXR5U2FtcGxlciIsInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsInJlZmxlY3Rpb24yRFNhbXBsZXIiLCJlbWlzc2l2ZVNhbXBsZXIiLCJzcGVjdWxhclNhbXBsZXIiLCJidW1wU2FtcGxlciIsImxpZ2h0bWFwU2FtcGxlciIsInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsInJlZnJhY3Rpb24yRFNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyIsIm9pdERlcHRoU2FtcGxlciIsIm9pdEZyb250Q29sb3JTYW1wbGVyIl0sRT1bIk1hdGVyaWFsIiwiU2NlbmUiLCJNZXNoIl07dGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrcz1sLHRoaXMuX2V2ZW50SW5mby5mYWxsYmFja1Jhbms9MCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby51bmlmb3Jtcz1mLHRoaXMuX2V2ZW50SW5mby5hdHRyaWJ1dGVzPXUsdGhpcy5fZXZlbnRJbmZvLnNhbXBsZXJzPV8sdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1CdWZmZXJzTmFtZXM9RSx0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhRZS5QcmVwYXJlRWZmZWN0LHRoaXMuX2V2ZW50SW5mbyksa3IuQWRkVW5pZm9ybXMoZikscGUmJihwZS5QcmVwYXJlVW5pZm9ybXMoZixyKSxwZS5QcmVwYXJlU2FtcGxlcnMoXyxyKSksaWUuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOmYsdW5pZm9ybUJ1ZmZlcnNOYW1lczpFLHNhbXBsZXJzOl8sZGVmaW5lczpyLG1heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHN9KSxzcyhmKTtjb25zdCBtPXt9O3RoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUmJihkPXRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUoZCxmLEUsXyxyLHUsbSkpO2NvbnN0IHY9ci50b1N0cmluZygpLFM9dC5lZmZlY3Q7bGV0IHk9cy5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QoZCx7YXR0cmlidXRlczp1LHVuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOkUsc2FtcGxlcnM6XyxkZWZpbmVzOnYsZmFsbGJhY2tzOmwsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6dGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzLG1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSU30scHJvY2Vzc0ZpbmFsQ29kZTptLnByb2Nlc3NGaW5hbENvZGUscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlLG11bHRpVGFyZ2V0OnIuUFJFUEFTU30sbik7aWYodGhpcy5fZXZlbnRJbmZvLmN1c3RvbUNvZGU9dm9pZCAwLHkpaWYodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmKEdzLmVmZmVjdD15LEdzLnN1Yk1lc2g9dCx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhHcykpLHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZyYmUyYmIXkuaXNSZWFkeSgpKXtpZih5PVMsci5tYXJrQXNVbnByb2Nlc3NlZCgpLG89dGhpcy5pc0Zyb3plbixoKXJldHVybiByLl9hcmVMaWdodHNEaXNwb3NlZD0hMCwhMX1lbHNlIHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHQuc2V0RWZmZWN0KHkscix0aGlzLl9tYXRlcmlhbENvbnRleHQpfXJldHVybiF0LmVmZmVjdHx8IXQuZWZmZWN0LmlzUmVhZHkoKT8hMTooci5fcmVuZGVySWQ9cy5nZXRSZW5kZXJJZCgpLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9IW8sdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1pLHMucGVyZm9ybWFuY2VQcmlvcml0eSE9PUN0LkJhY2t3YXJkQ29tcGF0aWJsZSYmKHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSEwKSwhMCl9YnVpbGRVbmlmb3JtTGF5b3V0KCl7Y29uc3QgZT10aGlzLl91bmlmb3JtQnVmZmVyO2UuYWRkVW5pZm9ybSgiZGlmZnVzZUxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJkaWZmdXNlUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJvcGFjaXR5UGFydHMiLDQpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvbkxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25SaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2RGlmZnVzZUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZBbWJpZW50SW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidk9wYWNpdHlJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvbkluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uUG9zaXRpb24iLDMpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25TaXplIiwzKSxlLmFkZFVuaWZvcm0oInZFbWlzc2l2ZUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZMaWdodG1hcEluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZTcGVjdWxhckluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZCdW1wSW5mb3MiLDMpLGUuYWRkVW5pZm9ybSgiZGlmZnVzZU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiYW1iaWVudE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgib3BhY2l0eU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvbk1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImxpZ2h0bWFwTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJzcGVjdWxhck1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiYnVtcE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgidlRhbmdlbnRTcGFjZVBhcmFtcyIsMiksZS5hZGRVbmlmb3JtKCJwb2ludFNpemUiLDEpLGUuYWRkVW5pZm9ybSgiYWxwaGFDdXRPZmYiLDEpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvbk1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25JbmZvcyIsNCksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblBvc2l0aW9uIiwzKSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uU2l6ZSIsMyksZS5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVDb2xvciIsMyksZS5hZGRVbmlmb3JtKCJ2RGlmZnVzZUNvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZBbWJpZW50Q29sb3IiLDMpLHN1cGVyLmJ1aWxkVW5pZm9ybUxheW91dCgpfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKSxuPWkubWF0ZXJpYWxEZWZpbmVzO2lmKCFuKXJldHVybjtjb25zdCBhPWkuZWZmZWN0O2lmKCFhKXJldHVybjt0aGlzLl9hY3RpdmVFZmZlY3Q9YSx0LmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KGEsIk1lc2giKSx0LnRyYW5zZmVyVG9FZmZlY3QoZSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoYSwiTWF0ZXJpYWwiKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uLmJpbmRGb3JTdWJNZXNoKHRoaXMuX2FjdGl2ZUVmZmVjdCxyLHQsZSx0aGlzLmlzRnJvemVuKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxuLk9CSkVDVFNQQUNFX05PUk1BTE1BUCYmKGUudG9Ob3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSx0aGlzLmJpbmRPbmx5Tm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCkpO2NvbnN0IG89YS5fZm9yY2VSZWJpbmRPbk5leHRDYWxsfHx0aGlzLl9tdXN0UmViaW5kKHIsYSx0LnZpc2liaWxpdHkpO2llLkJpbmRCb25lc1BhcmFtZXRlcnModCxhKTtjb25zdCBoPXRoaXMuX3VuaWZvcm1CdWZmZXI7aWYobyl7aWYodGhpcy5iaW5kVmlld1Byb2plY3Rpb24oYSksIWgudXNlVWJvfHwhdGhpcy5pc0Zyb3plbnx8IWguaXNTeW5jfHxhLl9mb3JjZVJlYmluZE9uTmV4dENhbGwpe2lmKEIuRnJlc25lbEVuYWJsZWQmJm4uRlJFU05FTCYmKHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZUxlZnRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZVJpZ2h0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJmgudXBkYXRlQ29sb3I0KCJvcGFjaXR5UGFydHMiLG5ldyByZSh0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuYmlhcyksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZUxlZnRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSkpLHIudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmQi5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkRpZmZ1c2VJbmZvcyIsdGhpcy5fZGlmZnVzZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9kaWZmdXNlVGV4dHVyZS5sZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZGlmZnVzZVRleHR1cmUsaCwiZGlmZnVzZSIpKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmQi5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkFtYmllbnRJbmZvcyIsdGhpcy5fYW1iaWVudFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9hbWJpZW50VGV4dHVyZS5sZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYW1iaWVudFRleHR1cmUsaCwiYW1iaWVudCIpKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmQi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0Migidk9wYWNpdHlJbmZvcyIsdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9vcGFjaXR5VGV4dHVyZS5sZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fb3BhY2l0eVRleHR1cmUsaCwib3BhY2l0eSIpKSx0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmaC51cGRhdGVGbG9hdCgiYWxwaGFDdXRPZmYiLHRoaXMuYWxwaGFDdXRPZmYpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2UmVmbGVjdGlvbkluZm9zIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLnJvdWdobmVzcyksaC51cGRhdGVNYXRyaXgoInJlZmxlY3Rpb25NYXRyaXgiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSkpe2NvbnN0IGw9dGhpcy5fcmVmbGVjdGlvblRleHR1cmU7aC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblBvc2l0aW9uIixsLmJvdW5kaW5nQm94UG9zaXRpb24pLGgudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25TaXplIixsLmJvdW5kaW5nQm94U2l6ZSl9aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZCLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkVtaXNzaXZlSW5mb3MiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5sZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZW1pc3NpdmVUZXh0dXJlLGgsImVtaXNzaXZlIikpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmQi5MaWdodG1hcFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZMaWdodG1hcEluZm9zIix0aGlzLl9saWdodG1hcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9saWdodG1hcFRleHR1cmUubGV2ZWwpLGllLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxoLCJsaWdodG1hcCIpKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJkIuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2U3BlY3VsYXJJbmZvcyIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9zcGVjdWxhclRleHR1cmUsaCwic3BlY3VsYXIiKSksdGhpcy5fYnVtcFRleHR1cmUmJnIuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJkIuQnVtcFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDMoInZCdW1wSW5mb3MiLHRoaXMuX2J1bXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsMS90aGlzLl9idW1wVGV4dHVyZS5sZXZlbCx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9idW1wVGV4dHVyZSxoLCJidW1wIiksci5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj9oLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8xOi0xLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/MTotMSk6aC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/LTE6MSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPy0xOjEpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpe2xldCBsPTE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlfHwoaC51cGRhdGVNYXRyaXgoInJlZnJhY3Rpb25NYXRyaXgiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoJiYobD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCkpLGgudXBkYXRlRmxvYXQ0KCJ2UmVmcmFjdGlvbkluZm9zIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uLGwsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT8tMToxKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpe2NvbnN0IHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmU7aC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblBvc2l0aW9uIix1LmJvdW5kaW5nQm94UG9zaXRpb24pLGgudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25TaXplIix1LmJvdW5kaW5nQm94U2l6ZSl9fX10aGlzLnBvaW50c0Nsb3VkJiZoLnVwZGF0ZUZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSxuLlNQRUNVTEFSVEVSTSYmaC51cGRhdGVDb2xvcjQoInZTcGVjdWxhckNvbG9yIix0aGlzLnNwZWN1bGFyQ29sb3IsdGhpcy5zcGVjdWxhclBvd2VyKSxoLnVwZGF0ZUNvbG9yMygidkVtaXNzaXZlQ29sb3IiLEIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD90aGlzLmVtaXNzaXZlQ29sb3I6cmUuQmxhY2tSZWFkT25seSksaC51cGRhdGVDb2xvcjQoInZEaWZmdXNlQ29sb3IiLHRoaXMuZGlmZnVzZUNvbG9yLHRoaXMuYWxwaGEpLHIuYW1iaWVudENvbG9yLm11bHRpcGx5VG9SZWYodGhpcy5hbWJpZW50Q29sb3IsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKSxoLnVwZGF0ZUNvbG9yMygidkFtYmllbnRDb2xvciIsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKX1yLnRleHR1cmVzRW5hYmxlZCYmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZCLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZCLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJhbWJpZW50U2FtcGxlciIsdGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZCLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJvcGFjaXR5U2FtcGxlciIsdGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZT9hLnNldFRleHR1cmUoInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpOmEuc2V0VGV4dHVyZSgicmVmbGVjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJkIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJlbWlzc2l2ZVNhbXBsZXIiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZCLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgibGlnaHRtYXBTYW1wbGVyIix0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmQi5TcGVjdWxhclRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoInNwZWN1bGFyU2FtcGxlciIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmci5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmQi5CdW1wVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgiYnVtcFNhbXBsZXIiLHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmU/YS5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKTphLnNldFRleHR1cmUoInJlZnJhY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSkpLHRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZ0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KSYmdGhpcy5nZXRTY2VuZSgpLmRlcHRoUGVlbGluZ1JlbmRlcmVyLmJpbmQoYSksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxycyhhLHRoaXMsciksdGhpcy5iaW5kRXllUG9zaXRpb24oYSl9ZWxzZSByLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5uZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnMmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITApOyhvfHwhdGhpcy5pc0Zyb3plbikmJihyLmxpZ2h0c0VuYWJsZWQmJiF0aGlzLl9kaXNhYmxlTGlnaHRpbmcmJmllLkJpbmRMaWdodHMocix0LGEsbix0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLChyLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJnIuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlfHx0LnJlY2VpdmVTaGFkb3dzfHxuLlBSRVBBU1MpJiZ0aGlzLmJpbmRWaWV3KGEpLGllLkJpbmRGb2dQYXJhbWV0ZXJzKHIsdCxhKSxuLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmaWUuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyh0LGEpLG4uQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKHM9dC5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5iaW5kKGEsbi5JTlNUQU5DRVMpKSx0aGlzLnVzZUxvZ2FyaXRobWljRGVwdGgmJmllLkJpbmRMb2dEZXB0aChuLGEsciksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmJpbmQodGhpcy5fYWN0aXZlRWZmZWN0KSksdGhpcy5fYWZ0ZXJCaW5kKHQsdGhpcy5fYWN0aXZlRWZmZWN0KSxoLnVwZGF0ZSgpfWdldEFuaW1hdGFibGVzKCl7Y29uc3QgZT1zdXBlci5nZXRBbmltYXRhYmxlcygpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSxlfWdldEFjdGl2ZVRleHR1cmVzKCl7Y29uc3QgZT1zdXBlci5nZXRBY3RpdmVUZXh0dXJlcygpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmZS5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUucHVzaCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJmUucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSxlfWhhc1RleHR1cmUoZSl7cmV0dXJuISEoc3VwZXIuaGFzVGV4dHVyZShlKXx8dGhpcy5fZGlmZnVzZVRleHR1cmU9PT1lfHx0aGlzLl9hbWJpZW50VGV4dHVyZT09PWV8fHRoaXMuX29wYWNpdHlUZXh0dXJlPT09ZXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmU9PT1lfHx0aGlzLl9lbWlzc2l2ZVRleHR1cmU9PT1lfHx0aGlzLl9zcGVjdWxhclRleHR1cmU9PT1lfHx0aGlzLl9idW1wVGV4dHVyZT09PWV8fHRoaXMuX2xpZ2h0bWFwVGV4dHVyZT09PWV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlPT09ZSl9ZGlzcG9zZShlLHQpe3ZhciBpLHMscixuLGEsbyxoLGwsdTt0JiYoKGk9dGhpcy5fZGlmZnVzZVRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCksKHM9dGhpcy5fYW1iaWVudFRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5kaXNwb3NlKCksKHI9dGhpcy5fb3BhY2l0eVRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksKG49dGhpcy5fcmVmbGVjdGlvblRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNwb3NlKCksKGE9dGhpcy5fZW1pc3NpdmVUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDB8fGEuZGlzcG9zZSgpLChvPXRoaXMuX3NwZWN1bGFyVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmRpc3Bvc2UoKSwoaD10aGlzLl9idW1wVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmRpc3Bvc2UoKSwobD10aGlzLl9saWdodG1hcFRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMHx8bC5kaXNwb3NlKCksKHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5kaXNwb3NlKCkpLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLHN1cGVyLmRpc3Bvc2UoZSx0KX1jbG9uZShlKXtjb25zdCB0PWFlLkNsb25lKCgpPT5uZXcgQihlLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1lLHQuaWQ9ZSx0aGlzLnN0ZW5jaWwuY29weVRvKHQuc3RlbmNpbCksdH1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9YWUuUGFyc2UoKCk9Pm5ldyBCKGUubmFtZSx0KSxlLHQsaSk7cmV0dXJuIGUuc3RlbmNpbCYmcy5zdGVuY2lsLnBhcnNlKGUuc3RlbmNpbCx0LGkpLHN9c3RhdGljIGdldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuRGlmZnVzZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKGUpe3VlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuRGV0YWlsVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEZXRhaWxUZXh0dXJlRW5hYmxlZChlKXt1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkFtYmllbnRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZChlKXt1ZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoZSl7dWUuT3BhY2l0eVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKGUpe3VlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZChlKXt1ZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKGUpe3VlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5CdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dWUuQnVtcFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKGUpe3VlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dWUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKGUpe3VlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBGcmVzbmVsRW5hYmxlZCgpe3JldHVybiB1ZS5GcmVzbmVsRW5hYmxlZH1zdGF0aWMgc2V0IEZyZXNuZWxFbmFibGVkKGUpe3VlLkZyZXNuZWxFbmFibGVkPWV9fVQoW210KCJkaWZmdXNlVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2RpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsImRpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW210KCJhbWJpZW50VGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2FtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiYW1iaWVudFRleHR1cmUiLHZvaWQgMCksVChbbXQoIm9wYWNpdHlUZXh0dXJlIildLEIucHJvdG90eXBlLCJfb3BhY2l0eVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwib3BhY2l0eVRleHR1cmUiLHZvaWQgMCksVChbbXQoInJlZmxlY3Rpb25UZXh0dXJlIildLEIucHJvdG90eXBlLCJfcmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJyZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFttdCgiZW1pc3NpdmVUZXh0dXJlIildLEIucHJvdG90eXBlLCJfZW1pc3NpdmVUZXh0dXJlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZW1pc3NpdmVUZXh0dXJlIix2b2lkIDApLFQoW210KCJzcGVjdWxhclRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9zcGVjdWxhclRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJzcGVjdWxhclRleHR1cmUiLHZvaWQgMCksVChbbXQoImJ1bXBUZXh0dXJlIildLEIucHJvdG90eXBlLCJfYnVtcFRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJidW1wVGV4dHVyZSIsdm9pZCAwKSxUKFttdCgibGlnaHRtYXBUZXh0dXJlIildLEIucHJvdG90eXBlLCJfbGlnaHRtYXBUZXh0dXJlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwibGlnaHRtYXBUZXh0dXJlIix2b2lkIDApLFQoW210KCJyZWZyYWN0aW9uVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksVChbY2koImFtYmllbnQiKV0sQi5wcm90b3R5cGUsImFtYmllbnRDb2xvciIsdm9pZCAwKSxUKFtjaSgiZGlmZnVzZSIpXSxCLnByb3RvdHlwZSwiZGlmZnVzZUNvbG9yIix2b2lkIDApLFQoW2NpKCJzcGVjdWxhciIpXSxCLnByb3RvdHlwZSwic3BlY3VsYXJDb2xvciIsdm9pZCAwKSxUKFtjaSgiZW1pc3NpdmUiKV0sQi5wcm90b3R5cGUsImVtaXNzaXZlQ29sb3IiLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwic3BlY3VsYXJQb3dlciIsdm9pZCAwKSxUKFtSKCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW1IoInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iKV0sQi5wcm90b3R5cGUsIl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFtSKCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIpXSxCLnByb3RvdHlwZSwiX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksVChbUigidXNlU3BlY3VsYXJPdmVyQWxwaGEiKV0sQi5wcm90b3R5cGUsIl91c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFQoW1IoInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiKV0sQi5wcm90b3R5cGUsIl91c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFtSKCJkaXNhYmxlTGlnaHRpbmciKV0sQi5wcm90b3R5cGUsIl9kaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW1IoInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIildLEIucHJvdG90eXBlLCJfdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxUKFtSKCJ1c2VQYXJhbGxheCIpXSxCLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4Iix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUGFyYWxsYXgiLHZvaWQgMCksVChbUigidXNlUGFyYWxsYXhPY2NsdXNpb24iKV0sQi5wcm90b3R5cGUsIl91c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsInBhcmFsbGF4U2NhbGVCaWFzIix2b2lkIDApLFQoW1IoInJvdWdobmVzcyIpXSxCLnByb3RvdHlwZSwiX3JvdWdobmVzcyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInJvdWdobmVzcyIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJpbmRleE9mUmVmcmFjdGlvbiIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJpbnZlcnRSZWZyYWN0aW9uWSIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJhbHBoYUN1dE9mZiIsdm9pZCAwKSxUKFtSKCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIildLEIucHJvdG90eXBlLCJfdXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbTmkoImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW05pKCJvcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5IildLEIucHJvdG90eXBlLCJvcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbTmkoInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW05pKCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtOaSgiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbUigidXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiKV0sQi5wcm90b3R5cGUsIl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbUigidXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIildLEIucHJvdG90eXBlLCJfdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIix2b2lkIDApLFQoW1IoIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIpXSxCLnByb3RvdHlwZSwiX21heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLEIucHJvdG90eXBlLCJtYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbUigiaW52ZXJ0Tm9ybWFsTWFwWCIpXSxCLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW1IoImludmVydE5vcm1hbE1hcFkiKV0sQi5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFtSKCJ0d29TaWRlZExpZ2h0aW5nIildLEIucHJvdG90eXBlLCJfdHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInR3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwidXNlTG9nYXJpdGhtaWNEZXB0aCIsbnVsbCksaXQoIkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCIsQiksbmUuRGVmYXVsdE1hdGVyaWFsRmFjdG9yeT1jPT5uZXcgQigiZGVmYXVsdCBtYXRlcmlhbCIsYyk7Y29uc3QgRWw9ImltYWdlUHJvY2Vzc2luZ0NvbXBhdGliaWxpdHkiLHZsPWAjaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKZ2xfRnJhZ0NvbG9yLnJnYj1wb3coZ2xfRnJhZ0NvbG9yLnJnYix2ZWMzKDIuMikpOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0VsXT12bDtjb25zdCBUbD0ic2hhZG93T25seVBpeGVsU2hhZGVyIixibD1gcHJlY2lzaW9uIGhpZ2hwIGZsb2F0Owp1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwp1bmlmb3JtIGZsb2F0IGFscGhhOwp1bmlmb3JtIHZlYzMgc2hhZG93Q29sb3I7CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPGxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz12ZWMzKDEuMCwxLjAsMS4wKTsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwpmbG9hdCBzaGFkb3c9MS47CmZsb2F0IGdsb3NzaW5lc3M9MC47CiNpbmNsdWRlPGxpZ2h0RnJhZ21lbnQ+WzAuLjFdCnZlYzQgY29sb3I9dmVjNChzaGFkb3dDb2xvciwoMS4wLWNsYW1wKHNoYWRvdywwLiwxLikpKmFscGhhKTsKI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eT4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfWA7VS5TaGFkZXJzU3RvcmVbVGxdPWJsO2NvbnN0IFNsPSJzaGFkb3dPbmx5VmVydGV4U2hhZGVyIix4bD1gcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OwphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZmRlZiBWRVJURVhDT0xPUgp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvbiwxLjApOwpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2lmZGVmIE5PUk1BTAp2Tm9ybWFsVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQobm9ybWFsLDAuMCkpKTsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtVLlNoYWRlcnNTdG9yZVtTbF09eGw7Y2xhc3MgTWwgZXh0ZW5kcyB5c3tjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5DTElQUExBTkU9ITEsdGhpcy5DTElQUExBTkUyPSExLHRoaXMuQ0xJUFBMQU5FMz0hMSx0aGlzLkNMSVBQTEFORTQ9ITEsdGhpcy5DTElQUExBTkU1PSExLHRoaXMuQ0xJUFBMQU5FNj0hMSx0aGlzLlBPSU5UU0laRT0hMSx0aGlzLkZPRz0hMSx0aGlzLk5PUk1BTD0hMSx0aGlzLk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdGhpcy5Cb25lc1Blck1lc2g9MCx0aGlzLklOU1RBTkNFUz0hMSx0aGlzLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHRoaXMuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0aGlzLnJlYnVpbGQoKX19Y2xhc3Mga2kgZXh0ZW5kcyBWcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9ITAsdGhpcy5zaGFkb3dDb2xvcj1yZS5CbGFjaygpfW5lZWRBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4hMX1nZXRBbHBoYVRlc3RUZXh0dXJlKCl7cmV0dXJuIG51bGx9Z2V0IGFjdGl2ZUxpZ2h0KCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUxpZ2h0fXNldCBhY3RpdmVMaWdodChlKXt0aGlzLl9hY3RpdmVMaWdodD1lfV9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaChlKXtmb3IoY29uc3QgdCBvZiBlLmxpZ2h0U291cmNlcylpZih0LnNoYWRvd0VuYWJsZWQpcmV0dXJuIHQ7cmV0dXJuIG51bGx9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpe3ZhciBzO2lmKHRoaXMuaXNGcm96ZW4mJnQuZWZmZWN0JiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5JiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPT09aSlyZXR1cm4hMDt0Lm1hdGVyaWFsRGVmaW5lc3x8KHQubWF0ZXJpYWxEZWZpbmVzPW5ldyBNbCk7Y29uc3Qgcj10Lm1hdGVyaWFsRGVmaW5lcyxuPXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLl9pc1JlYWR5Rm9yU3ViTWVzaCh0KSlyZXR1cm4hMDtjb25zdCBhPW4uZ2V0RW5naW5lKCk7aWYodGhpcy5fYWN0aXZlTGlnaHQpe2Zvcihjb25zdCBoIG9mIGUubGlnaHRTb3VyY2VzKWlmKGguc2hhZG93RW5hYmxlZCl7aWYodGhpcy5fYWN0aXZlTGlnaHQ9PT1oKWJyZWFrO2NvbnN0IGw9ZS5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzLl9hY3RpdmVMaWdodCk7bCE9PS0xJiYoZS5saWdodFNvdXJjZXMuc3BsaWNlKGwsMSksZS5saWdodFNvdXJjZXMuc3BsaWNlKDAsMCx0aGlzLl9hY3RpdmVMaWdodCkpO2JyZWFrfX1pZS5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMobixhLHRoaXMsciwhIWkpLGllLlByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLG4sITEsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKGUpLHIpLHIuX25lZWROb3JtYWxzPWllLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKG4sZSxyLCExLDEpO2NvbnN0IG89KHM9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2goZSkpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZih0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCxvJiZvLmdldENsYXNzTmFtZSYmby5nZXRDbGFzc05hbWUoKT09PSJDYXNjYWRlZFNoYWRvd0dlbmVyYXRvciIpe2NvbnN0IGg9bzt0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0haC5hdXRvQ2FsY0RlcHRoQm91bmRzfWlmKGllLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyhlLHIsITEsITApLHIuaXNEaXJ0eSl7ci5tYXJrQXNQcm9jZXNzZWQoKSxuLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTtjb25zdCBoPW5ldyB6cztyLkZPRyYmaC5hZGRGYWxsYmFjaygxLCJGT0ciKSxpZS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHIsaCwxKSxyLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJmguYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGUpLHIuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9bi5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmFwcGx5QnlQb3N0UHJvY2Vzcztjb25zdCBsPVtnLlBvc2l0aW9uS2luZF07ci5OT1JNQUwmJmwucHVzaChnLk5vcm1hbEtpbmQpLGllLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMobCxlLHIsaCksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMobCxyKTtjb25zdCB1PSJzaGFkb3dPbmx5IixkPXIudG9TdHJpbmcoKSxmPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsImFscGhhIiwic2hhZG93Q29sb3IiLCJtQm9uZXMiXSxfPW5ldyBBcnJheSxFPW5ldyBBcnJheTtzcyhmKSxpZS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOkUsc2FtcGxlcnM6XyxkZWZpbmVzOnIsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOjF9KSx0LnNldEVmZmVjdChuLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdCh1LHthdHRyaWJ1dGVzOmwsdW5pZm9ybXNOYW1lczpmLHVuaWZvcm1CdWZmZXJzTmFtZXM6RSxzYW1wbGVyczpfLGRlZmluZXM6ZCxmYWxsYmFja3M6aCxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czoxfX0sYSkscix0aGlzLl9tYXRlcmlhbENvbnRleHQpfXJldHVybiF0LmVmZmVjdHx8IXQuZWZmZWN0LmlzUmVhZHkoKT8hMTooci5fcmVuZGVySWQ9bi5nZXRSZW5kZXJJZCgpLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITAsdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz0hIWksITApfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKSxyPWkubWF0ZXJpYWxEZWZpbmVzO2lmKCFyKXJldHVybjtjb25zdCBuPWkuZWZmZWN0O2lmKG4pe2lmKHRoaXMuX2FjdGl2ZUVmZmVjdD1uLHRoaXMuYmluZE9ubHlXb3JsZE1hdHJpeChlKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIscy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksaWUuQmluZEJvbmVzUGFyYW1ldGVycyh0LHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fbXVzdFJlYmluZChzLG4pJiYocnMobix0aGlzLHMpLHRoaXMucG9pbnRzQ2xvdWQmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJhbHBoYSIsdGhpcy5hbHBoYSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldENvbG9yMygic2hhZG93Q29sb3IiLHRoaXMuc2hhZG93Q29sb3IpLHMuYmluZEV5ZVBvc2l0aW9uKG4pKSxzLmxpZ2h0c0VuYWJsZWQpe2llLkJpbmRMaWdodHMocyx0LHRoaXMuX2FjdGl2ZUVmZmVjdCxyLDEpO2NvbnN0IGE9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2godCk7YSYmKGEuX3JlbmRlcklkPS0xKX0ocy5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZzLmZvZ01vZGUhPT1uZS5GT0dNT0RFX05PTkV8fHIuU0hBRE9XQ1NNMCkmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoInZpZXciLHMuZ2V0Vmlld01hdHJpeCgpKSxpZS5CaW5kRm9nUGFyYW1ldGVycyhzLHQsdGhpcy5fYWN0aXZlRWZmZWN0KSx0aGlzLl9hZnRlckJpbmQodCx0aGlzLl9hY3RpdmVFZmZlY3QpfX1jbG9uZShlKXtyZXR1cm4gYWUuQ2xvbmUoKCk9Pm5ldyBraShlLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyl9c2VyaWFsaXplKCl7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2hhZG93T25seU1hdGVyaWFsIn1zdGF0aWMgUGFyc2UoZSx0LGkpe3JldHVybiBhZS5QYXJzZSgoKT0+bmV3IGtpKGUubmFtZSx0KSxlLHQsaSl9fWl0KCJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsa2kpO2NvbnN0IEFsPXthc3BlY3Q6MzAwLzE1MCxlbmFibGVEZWJ1Z2dpbmc6ITEsZW5hYmxlU2hhZG93czohMH07Y2xhc3MgUmx7Y29uc3RydWN0b3IoZSl7YnQodGhpcywic2l6ZSIsOS41KTt0aGlzLmNvbmZpZz17Li4uQWwsLi4uZX0sdGhpcy5jcmVhdGUoKX1jcmVhdGUoZSl7dGhpcy5kZXN0cm95KCksT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyxlKTtjb25zdHthc3BlY3Q6dCxlbmFibGVEZWJ1Z2dpbmc6aT0hMCxlbmFibGVTaGFkb3dzOnN9PXRoaXMuY29uZmlnLHI9MzA7bGV0IG47dGhpcy5ib3g9bmV3IEooImRpY2VCb3giKSxpPyhuPW5ldyBCKCJkaWNlQm94X21hdGVyaWFsIiksbi5hbHBoYT0uNyxuLmRpZmZ1c2VDb2xvcj1uZXcgcmUoMSwxLDApKTpzJiYobj1uZXcga2koInNoYWRvd09ubHkiLHRoaXMuY29uZmlnLnNjZW5lKSk7Y29uc3QgYT1NaSgiZ3JvdW5kIix7d2lkdGg6dGhpcy5zaXplKjIsaGVpZ2h0OjEsZGVwdGg6dGhpcy5zaXplKjJ9LHRoaXMuY29uZmlnLnNjZW5lKTtpZihhLnNjYWxpbmc9bmV3IHAodCwxLDEpLGEubWF0ZXJpYWw9bixhLnJlY2VpdmVTaGFkb3dzPSEwLGEuc2V0UGFyZW50KHRoaXMuYm94KSxpKXtjb25zdCBvPU1pKCJ3YWxsVG9wIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDpyLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtvLnBvc2l0aW9uLnk9ci8yLG8ucG9zaXRpb24uej10aGlzLnNpemUvLTIsby5zY2FsaW5nPW5ldyBwKHQsMSwxKSxvLm1hdGVyaWFsPW4sby5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IGg9TWkoIndhbGxSaWdodCIse3dpZHRoOjEsaGVpZ2h0OnIsZGVwdGg6dGhpcy5zaXplfSx0aGlzLmNvbmZpZy5zY2VuZSk7aC5wb3NpdGlvbi54PXRoaXMuc2l6ZSp0LzIsaC5wb3NpdGlvbi55PXIvMixoLm1hdGVyaWFsPW4saC5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IGw9TWkoIndhbGxCb3R0b20iLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OnIsZGVwdGg6MX0sdGhpcy5jb25maWcuc2NlbmUpO2wucG9zaXRpb24ueT1yLzIsbC5wb3NpdGlvbi56PXRoaXMuc2l6ZS8yLGwuc2NhbGluZz1uZXcgcCh0LDEsMSksbC5tYXRlcmlhbD1uLGwuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCB1PU1pKCJ3YWxsTGVmdCIse3dpZHRoOjEsaGVpZ2h0OnIsZGVwdGg6dGhpcy5zaXplfSx0aGlzLmNvbmZpZy5zY2VuZSk7dS5wb3NpdGlvbi54PXRoaXMuc2l6ZSp0Ly0yLHUucG9zaXRpb24ueT1yLzIsdS5tYXRlcmlhbD1uLHUuc2V0UGFyZW50KHRoaXMuYm94KX19ZGVzdHJveSgpe3RoaXMuYm94JiZ0aGlzLmJveC5kaXNwb3NlKCl9fXZhciB0aTsoZnVuY3Rpb24oYyl7Y1tjLkNsZWFuPTBdPSJDbGVhbiIsY1tjLlN0b3A9MV09IlN0b3AiLGNbYy5TeW5jPTJdPSJTeW5jIixjW2MuTm9TeW5jPTNdPSJOb1N5bmMifSkodGl8fCh0aT17fSkpO2NsYXNzIGxle3N0YXRpYyBnZXQgRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwoKXtyZXR1cm4gT2UuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9c3RhdGljIHNldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbChlKXtPZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfXN0YXRpYyBnZXQgU2hvd0xvYWRpbmdTY3JlZW4oKXtyZXR1cm4gT2UuU2hvd0xvYWRpbmdTY3JlZW59c3RhdGljIHNldCBTaG93TG9hZGluZ1NjcmVlbihlKXtPZS5TaG93TG9hZGluZ1NjcmVlbj1lfXN0YXRpYyBnZXQgbG9nZ2luZ0xldmVsKCl7cmV0dXJuIE9lLmxvZ2dpbmdMZXZlbH1zdGF0aWMgc2V0IGxvZ2dpbmdMZXZlbChlKXtPZS5sb2dnaW5nTGV2ZWw9ZX1zdGF0aWMgZ2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoKXtyZXR1cm4gT2UuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c31zdGF0aWMgc2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoZSl7T2UuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfXN0YXRpYyBHZXREZWZhdWx0UGx1Z2luKCl7cmV0dXJuIGxlLl9SZWdpc3RlcmVkUGx1Z2luc1siLmJhYnlsb24iXX1zdGF0aWMgX0dldFBsdWdpbkZvckV4dGVuc2lvbihlKXtjb25zdCB0PWxlLl9SZWdpc3RlcmVkUGx1Z2luc1tlXTtyZXR1cm4gdHx8KE8uV2FybigiVW5hYmxlIHRvIGZpbmQgYSBwbHVnaW4gdG8gbG9hZCAiK2UrIiBmaWxlcy4gVHJ5aW5nIHRvIHVzZSAuYmFieWxvbiBkZWZhdWx0IHBsdWdpbi4gVG8gbG9hZCBmcm9tIGEgc3BlY2lmaWMgZmlsZXR5cGUgKGVnLiBnbHRmKSBzZWU6IGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vZmVhdHVyZXMvZmVhdHVyZXNEZWVwRGl2ZS9pbXBvcnRlcnMvbG9hZGluZ0ZpbGVUeXBlcyIpLGxlLkdldERlZmF1bHRQbHVnaW4oKSl9c3RhdGljIF9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUpe2Zvcihjb25zdCB0IGluIGxlLl9SZWdpc3RlcmVkUGx1Z2lucyl7Y29uc3QgaT1sZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdF0ucGx1Z2luO2lmKGkuY2FuRGlyZWN0TG9hZCYmaS5jYW5EaXJlY3RMb2FkKGUpKXJldHVybiBsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdF19cmV0dXJuIGxlLkdldERlZmF1bHRQbHVnaW4oKX1zdGF0aWMgX0dldFBsdWdpbkZvckZpbGVuYW1lKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKCI/Iik7dCE9PS0xJiYoZT1lLnN1YnN0cmluZygwLHQpKTtjb25zdCBpPWUubGFzdEluZGV4T2YoIi4iKSxzPWUuc3Vic3RyaW5nKGksZS5sZW5ndGgpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGxlLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24ocyl9c3RhdGljIF9HZXREaXJlY3RMb2FkKGUpe3JldHVybiBlLnN1YnN0cigwLDUpPT09ImRhdGE6Ij9lLnN1YnN0cig1KTpudWxsfXN0YXRpYyBfRm9ybWF0RXJyb3JNZXNzYWdlKGUsdCxpKXtsZXQgcz0iVW5hYmxlIHRvIGxvYWQgZnJvbSAiK2UudXJsO3JldHVybiB0P3MrPWA6ICR7dH1gOmkmJihzKz1gOiAke2l9YCksc31zdGF0aWMgX0xvYWREYXRhKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bGUuX0dldERpcmVjdExvYWQoZS51cmwpLGg9YT9sZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGEpOm8/bGUuX0dldFBsdWdpbkZvckRpcmVjdExvYWQoZS51cmwpOmxlLl9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlLnVybCk7bGV0IGw7aWYoaC5wbHVnaW4uY3JlYXRlUGx1Z2luIT09dm9pZCAwP2w9aC5wbHVnaW4uY3JlYXRlUGx1Z2luKCk6bD1oLnBsdWdpbiwhbCl0aHJvdyJUaGUgbG9hZGVyIHBsdWdpbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBmaWxlIHR5cGUgeW91IGFyZSB0cnlpbmcgdG8gbG9hZCBoYXMgbm90IGJlZW4gZm91bmQuIElmIHVzaW5nIGVzNiwgcGxlYXNlIGltcG9ydCB0aGUgcGx1Z2luIHlvdSB3aXNoIHRvIHVzZSBiZWZvcmUuIjtpZihsZS5PblBsdWdpbkFjdGl2YXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwpLG8mJihsLmNhbkRpcmVjdExvYWQmJmwuY2FuRGlyZWN0TG9hZChlLnVybCl8fCFNcyhlLnVybCkpKXtpZihsLmRpcmVjdExvYWQpe2NvbnN0IHk9bC5kaXJlY3RMb2FkKHQsbyk7eS50aGVuP3kudGhlbihBPT57aShsLEEpfSkuY2F0Y2goQT0+e3IoIkVycm9yIGluIGRpcmVjdExvYWQgb2YgX2xvYWREYXRhOiAiK0EsQSl9KTppKGwseSl9ZWxzZSBpKGwsbyk7cmV0dXJuIGx9Y29uc3QgdT1oLmlzQmluYXJ5LGQ9KHksQSk9PntpZih0LmlzRGlzcG9zZWQpe3IoIlNjZW5lIGhhcyBiZWVuIGRpc3Bvc2VkIik7cmV0dXJufWkobCx5LEEpfTtsZXQgZj1udWxsLF89ITE7Y29uc3QgRT1sLm9uRGlzcG9zZU9ic2VydmFibGU7RSYmRS5hZGQoKCk9PntfPSEwLGYmJihmLmFib3J0KCksZj1udWxsKSxuKCl9KTtjb25zdCBtPSgpPT57aWYoXylyZXR1cm47Y29uc3QgeT0oQyxiKT0+e3IoQz09bnVsbD92b2lkIDA6Qy5zdGF0dXNUZXh0LGIpfSxBPWUuZmlsZXx8ZS51cmw7Zj1sLmxvYWRGaWxlP2wubG9hZEZpbGUodCxBLGQscyx1LHkpOnQuX2xvYWRGaWxlKEEsZCxzLCEwLHUseSl9LHY9dC5nZXRFbmdpbmUoKTtsZXQgUz12LmVuYWJsZU9mZmxpbmVTdXBwb3J0O2lmKFMpe2xldCB5PSExO2Zvcihjb25zdCBBIG9mIHQuZGlzYWJsZU9mZmxpbmVTdXBwb3J0RXhjZXB0aW9uUnVsZXMpaWYoQS50ZXN0KGUudXJsKSl7eT0hMDticmVha31TPSF5fXJldHVybiBTJiZJLk9mZmxpbmVQcm92aWRlckZhY3Rvcnk/dC5vZmZsaW5lUHJvdmlkZXI9SS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5KGUudXJsLG0sdi5kaXNhYmxlTWFuaWZlc3RDaGVjayk6bSgpLGx9c3RhdGljIF9HZXRGaWxlSW5mbyhlLHQpe2xldCBpLHMscj1udWxsO2lmKCF0KWk9ZSxzPUguR2V0RmlsZW5hbWUoZSksZT1ILkdldEZvbGRlclBhdGgoZSk7ZWxzZSBpZih0Lm5hbWUpe2NvbnN0IG49dDtpPWBmaWxlOiR7bi5uYW1lfWAscz1uLm5hbWUscj1ufWVsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0LnN0YXJ0c1dpdGgoImRhdGE6IikpaT10LHM9IiI7ZWxzZXtjb25zdCBuPXQ7aWYobi5zdWJzdHIoMCwxKT09PSIvIilyZXR1cm4gSC5FcnJvcigiV3Jvbmcgc2NlbmVGaWxlbmFtZSBwYXJhbWV0ZXIiKSxudWxsO2k9ZStuLHM9bn1yZXR1cm57dXJsOmkscm9vdFVybDplLG5hbWU6cyxmaWxlOnJ9fXN0YXRpYyBHZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSl7cmV0dXJuIGxlLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSkucGx1Z2lufXN0YXRpYyBJc1BsdWdpbkZvckV4dGVuc2lvbkF2YWlsYWJsZShlKXtyZXR1cm4hIWxlLl9SZWdpc3RlcmVkUGx1Z2luc1tlXX1zdGF0aWMgUmVnaXN0ZXJQbHVnaW4oZSl7aWYodHlwZW9mIGUuZXh0ZW5zaW9ucz09InN0cmluZyIpe2NvbnN0IHQ9ZS5leHRlbnNpb25zO2xlLl9SZWdpc3RlcmVkUGx1Z2luc1t0LnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTohMX19ZWxzZXtjb25zdCB0PWUuZXh0ZW5zaW9ucztPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGk9PntsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbaS50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6dFtpXS5pc0JpbmFyeX19KX19c3RhdGljIEltcG9ydE1lc2goZSx0LGk9IiIscz1mZS5MYXN0Q3JlYXRlZFNjZW5lLHI9bnVsbCxuPW51bGwsYT1udWxsLG89bnVsbCl7aWYoIXMpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBpbXBvcnQgbWVzaCB0byIpLG51bGw7Y29uc3QgaD1sZS5fR2V0RmlsZUluZm8odCxpKTtpZighaClyZXR1cm4gbnVsbDtjb25zdCBsPXt9O3MuYWRkUGVuZGluZ0RhdGEobCk7Y29uc3QgdT0oKT0+e3MucmVtb3ZlUGVuZGluZ0RhdGEobCl9LGQ9KEUsbSk9Pntjb25zdCB2PWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UoaCxFLG0pO2E/YShzLHYsbmV3IE50KHYsb2kuU2NlbmVMb2FkZXJFcnJvcixtKSk6Ty5FcnJvcih2KSx1KCl9LGY9bj9FPT57dHJ5e24oRSl9Y2F0Y2gobSl7ZCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjazogIittLG0pfX06dm9pZCAwLF89KEUsbSx2LFMseSxBLEMpPT57aWYocy5pbXBvcnRlZE1lc2hlc0ZpbGVzLnB1c2goaC51cmwpLHIpdHJ5e3IoRSxtLHYsUyx5LEEsQyl9Y2F0Y2goYil7ZCgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrOiAiK2IsYil9cy5yZW1vdmVQZW5kaW5nRGF0YShsKX07cmV0dXJuIGxlLl9Mb2FkRGF0YShoLHMsKEUsbSx2KT0+e2lmKEUucmV3cml0ZVJvb3RVUkwmJihoLnJvb3RVcmw9RS5yZXdyaXRlUm9vdFVSTChoLnJvb3RVcmwsdikpLEUuaW1wb3J0TWVzaCl7Y29uc3QgUz1FLHk9bmV3IEFycmF5LEE9bmV3IEFycmF5LEM9bmV3IEFycmF5O2lmKCFTLmltcG9ydE1lc2goZSxzLG0saC5yb290VXJsLHksQSxDLGQpKXJldHVybjtzLmxvYWRpbmdQbHVnaW5OYW1lPUUubmFtZSxfKHksQSxDLFtdLFtdLFtdLFtdKX1lbHNlIEUuaW1wb3J0TWVzaEFzeW5jKGUscyxtLGgucm9vdFVybCxmLGgubmFtZSkudGhlbih5PT57cy5sb2FkaW5nUGx1Z2luTmFtZT1FLm5hbWUsXyh5Lm1lc2hlcyx5LnBhcnRpY2xlU3lzdGVtcyx5LnNrZWxldG9ucyx5LmFuaW1hdGlvbkdyb3Vwcyx5LnRyYW5zZm9ybU5vZGVzLHkuZ2VvbWV0cmllcyx5LmxpZ2h0cyl9KS5jYXRjaCh5PT57ZCh5Lm1lc3NhZ2UseSl9KX0sZixkLHUsbyl9c3RhdGljIEltcG9ydE1lc2hBc3luYyhlLHQsaT0iIixzPWZlLkxhc3RDcmVhdGVkU2NlbmUscj1udWxsLG49bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChhLG8pPT57bGUuSW1wb3J0TWVzaChlLHQsaSxzLChoLGwsdSxkLGYsXyxFKT0+e2Eoe21lc2hlczpoLHBhcnRpY2xlU3lzdGVtczpsLHNrZWxldG9uczp1LGFuaW1hdGlvbkdyb3VwczpkLHRyYW5zZm9ybU5vZGVzOmYsZ2VvbWV0cmllczpfLGxpZ2h0czpFfSl9LHIsKGgsbCx1KT0+e28odXx8bmV3IEVycm9yKGwpKX0sbil9KX1zdGF0aWMgTG9hZChlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZEVuZ2luZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe3JldHVybiBpP2xlLkFwcGVuZChlLHQsbmV3IG5lKGkpLHMscixuLGEpOihILkVycm9yKCJObyBlbmdpbmUgYXZhaWxhYmxlIiksbnVsbCl9c3RhdGljIExvYWRBc3luYyhlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZEVuZ2luZSxzPW51bGwscj1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9PntsZS5Mb2FkKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIEFwcGVuZChlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwsbj1udWxsLGE9bnVsbCl7aWYoIWkpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBhcHBlbmQgdG8iKSxudWxsO2NvbnN0IG89bGUuX0dldEZpbGVJbmZvKGUsdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgaD17fTtpLmFkZFBlbmRpbmdEYXRhKGgpO2NvbnN0IGw9KCk9PntpLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtsZS5TaG93TG9hZGluZ1NjcmVlbiYmIXRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuJiYodGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITAsaS5nZXRFbmdpbmUoKS5kaXNwbGF5TG9hZGluZ1VJKCksaS5leGVjdXRlV2hlblJlYWR5KCgpPT57aS5nZXRFbmdpbmUoKS5oaWRlTG9hZGluZ1VJKCksdGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITF9KSk7Y29uc3QgdT0oXyxFKT0+e2NvbnN0IG09bGUuX0Zvcm1hdEVycm9yTWVzc2FnZShvLF8sRSk7bj9uKGksbSxuZXcgTnQobSxvaS5TY2VuZUxvYWRlckVycm9yLEUpKTpPLkVycm9yKG0pLGwoKX0sZD1yP189Pnt0cnl7cihfKX1jYXRjaChFKXt1KCJFcnJvciBpbiBvblByb2dyZXNzIGNhbGxiYWNrIixFKX19OnZvaWQgMCxmPSgpPT57aWYocyl0cnl7cyhpKX1jYXRjaChfKXt1KCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLF8pfWkucmVtb3ZlUGVuZGluZ0RhdGEoaCl9O3JldHVybiBsZS5fTG9hZERhdGEobyxpLChfLEUpPT57aWYoXy5sb2FkKXtpZighXy5sb2FkKGksRSxvLnJvb3RVcmwsdSkpcmV0dXJuO2kubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLGYoKX1lbHNlIF8ubG9hZEFzeW5jKGksRSxvLnJvb3RVcmwsZCxvLm5hbWUpLnRoZW4oKCk9PntpLmxvYWRpbmdQbHVnaW5OYW1lPV8ubmFtZSxmKCl9KS5jYXRjaCh2PT57dSh2Lm1lc3NhZ2Usdil9KX0sZCx1LGwsYSl9c3RhdGljIEFwcGVuZEFzeW5jKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57bGUuQXBwZW5kKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIExvYWRBc3NldENvbnRhaW5lcihlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwsbj1udWxsLGE9bnVsbCl7aWYoIWkpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFzc2V0IGNvbnRhaW5lciB0byIpLG51bGw7Y29uc3Qgbz1sZS5fR2V0RmlsZUluZm8oZSx0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBoPXt9O2kuYWRkUGVuZGluZ0RhdGEoaCk7Y29uc3QgbD0oKT0+e2kucmVtb3ZlUGVuZGluZ0RhdGEoaCl9LHU9KF8sRSk9Pntjb25zdCBtPWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UobyxfLEUpO24/bihpLG0sbmV3IE50KG0sb2kuU2NlbmVMb2FkZXJFcnJvcixFKSk6Ty5FcnJvcihtKSxsKCl9LGQ9cj9fPT57dHJ5e3IoXyl9Y2F0Y2goRSl7dSgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsRSl9fTp2b2lkIDAsZj1fPT57aWYocyl0cnl7cyhfKX1jYXRjaChFKXt1KCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLEUpfWkucmVtb3ZlUGVuZGluZ0RhdGEoaCl9O3JldHVybiBsZS5fTG9hZERhdGEobyxpLChfLEUpPT57aWYoXy5sb2FkQXNzZXRDb250YWluZXIpe2NvbnN0IHY9Xy5sb2FkQXNzZXRDb250YWluZXIoaSxFLG8ucm9vdFVybCx1KTtpZighdilyZXR1cm47aS5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUsZih2KX1lbHNlIF8ubG9hZEFzc2V0Q29udGFpbmVyQXN5bmM/Xy5sb2FkQXNzZXRDb250YWluZXJBc3luYyhpLEUsby5yb290VXJsLGQsby5uYW1lKS50aGVuKHY9PntpLmxvYWRpbmdQbHVnaW5OYW1lPV8ubmFtZSxmKHYpfSkuY2F0Y2godj0+e3Uodi5tZXNzYWdlLHYpfSk6dSgiTG9hZEFzc2V0Q29udGFpbmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBwbHVnaW4uIFBsdWdpbiBkaWQgbm90IHByb3ZpZGUgYSBsb2FkQXNzZXRDb250YWluZXIgb3IgbG9hZEFzc2V0Q29udGFpbmVyQXN5bmMgbWV0aG9kLiIpfSxkLHUsbCxhKX1zdGF0aWMgTG9hZEFzc2V0Q29udGFpbmVyQXN5bmMoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9PntsZS5Mb2FkQXNzZXRDb250YWluZXIoZSx0LGksbz0+e24obyl9LHMsKG8saCxsKT0+e2EobHx8bmV3IEVycm9yKGgpKX0scil9KX1zdGF0aWMgSW1wb3J0QW5pbWF0aW9ucyhlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHM9ITAscj10aS5DbGVhbixuPW51bGwsYT1udWxsLG89bnVsbCxoPW51bGwsbD1udWxsKXtpZighaSl7Ty5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGxvYWQgYW5pbWF0aW9ucyB0byIpO3JldHVybn1pZihzKXtmb3IoY29uc3QgXyBvZiBpLmFuaW1hdGFibGVzKV8ucmVzZXQoKTtpLnN0b3BBbGxBbmltYXRpb25zKCksaS5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKF89PntfLmRpc3Bvc2UoKX0pLGkuZ2V0Tm9kZXMoKS5mb3JFYWNoKF89PntfLmFuaW1hdGlvbnMmJihfLmFuaW1hdGlvbnM9W10pfSl9ZWxzZSBzd2l0Y2gocil7Y2FzZSB0aS5DbGVhbjppLmFuaW1hdGlvbkdyb3Vwcy5zbGljZSgpLmZvckVhY2goZj0+e2YuZGlzcG9zZSgpfSk7YnJlYWs7Y2FzZSB0aS5TdG9wOmkuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goZj0+e2Yuc3RvcCgpfSk7YnJlYWs7Y2FzZSB0aS5TeW5jOmkuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goZj0+e2YucmVzZXQoKSxmLnJlc3RhcnQoKX0pO2JyZWFrO2Nhc2UgdGkuTm9TeW5jOmJyZWFrO2RlZmF1bHQ6Ty5FcnJvcigiVW5rbm93biBhbmltYXRpb24gZ3JvdXAgbG9hZGluZyBtb2RlIHZhbHVlICciK3IrIiciKTtyZXR1cm59Y29uc3QgdT1pLmFuaW1hdGFibGVzLmxlbmd0aCxkPWY9PntmLm1lcmdlQW5pbWF0aW9uc1RvKGksaS5hbmltYXRhYmxlcy5zbGljZSh1KSxuKSxmLmRpc3Bvc2UoKSxpLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaSksYSYmYShpKX07dGhpcy5Mb2FkQXNzZXRDb250YWluZXIoZSx0LGksZCxvLGgsbCl9c3RhdGljIEltcG9ydEFuaW1hdGlvbnNBc3luYyhlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHM9ITAscj10aS5DbGVhbixuPW51bGwsYT1udWxsLG89bnVsbCxoPW51bGwsbD1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKHUsZCk9PntsZS5JbXBvcnRBbmltYXRpb25zKGUsdCxpLHMscixuLGY9Pnt1KGYpfSxvLChmLF8sRSk9PntkKEV8fG5ldyBFcnJvcihfKSl9LGwpfSl9fWxlLk5PX0xPR0dJTkc9MCxsZS5NSU5JTUFMX0xPR0dJTkc9MSxsZS5TVU1NQVJZX0xPR0dJTkc9MixsZS5ERVRBSUxFRF9MT0dHSU5HPTMsbGUuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlPW5ldyBGLGxlLl9SZWdpc3RlcmVkUGx1Z2lucz17fSxsZS5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITE7Y2xhc3MgX2V7Y29uc3RydWN0b3IoZSx0LGk9TnVtYmVyLk1BWF9WQUxVRSl7dGhpcy5vcmlnaW49ZSx0aGlzLmRpcmVjdGlvbj10LHRoaXMubGVuZ3RoPWl9Y2xvbmUoKXtyZXR1cm4gbmV3IF9lKHRoaXMub3JpZ2luLmNsb25lKCksdGhpcy5kaXJlY3Rpb24uY2xvbmUoKSx0aGlzLmxlbmd0aCl9aW50ZXJzZWN0c0JveE1pbk1heChlLHQsaT0wKXtjb25zdCBzPV9lLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tRmxvYXRzKGUueC1pLGUueS1pLGUuei1pKSxyPV9lLl9UbXBWZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKHQueCtpLHQueStpLHQueitpKTtsZXQgbj0wLGE9TnVtYmVyLk1BWF9WQUxVRSxvLGgsbCx1O2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLngpPDFlLTcpe2lmKHRoaXMub3JpZ2luLng8cy54fHx0aGlzLm9yaWdpbi54PnIueClyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi54LGg9KHMueC10aGlzLm9yaWdpbi54KSpvLGw9KHIueC10aGlzLm9yaWdpbi54KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi55KTwxZS03KXtpZih0aGlzLm9yaWdpbi55PHMueXx8dGhpcy5vcmlnaW4ueT5yLnkpcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueSxoPShzLnktdGhpcy5vcmlnaW4ueSkqbyxsPShyLnktdGhpcy5vcmlnaW4ueSkqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueik8MWUtNyl7aWYodGhpcy5vcmlnaW4uejxzLnp8fHRoaXMub3JpZ2luLno+ci56KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLnosaD0ocy56LXRoaXMub3JpZ2luLnopKm8sbD0oci56LXRoaXMub3JpZ2luLnopKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO3JldHVybiEwfWludGVyc2VjdHNCb3goZSx0PTApe3JldHVybiB0aGlzLmludGVyc2VjdHNCb3hNaW5NYXgoZS5taW5pbXVtLGUubWF4aW11bSx0KX1pbnRlcnNlY3RzU3BoZXJlKGUsdD0wKXtjb25zdCBpPWUuY2VudGVyLngtdGhpcy5vcmlnaW4ueCxzPWUuY2VudGVyLnktdGhpcy5vcmlnaW4ueSxyPWUuY2VudGVyLnotdGhpcy5vcmlnaW4ueixuPWkqaStzKnMrcipyLGE9ZS5yYWRpdXMrdCxvPWEqYTtpZihuPD1vKXJldHVybiEwO2NvbnN0IGg9aSp0aGlzLmRpcmVjdGlvbi54K3MqdGhpcy5kaXJlY3Rpb24ueStyKnRoaXMuZGlyZWN0aW9uLno7cmV0dXJuIGg8MD8hMTpuLWgqaDw9b31pbnRlcnNlY3RzVHJpYW5nbGUoZSx0LGkpe2NvbnN0IHM9X2UuX1RtcFZlY3RvcjNbMF0scj1fZS5fVG1wVmVjdG9yM1sxXSxuPV9lLl9UbXBWZWN0b3IzWzJdLGE9X2UuX1RtcFZlY3RvcjNbM10sbz1fZS5fVG1wVmVjdG9yM1s0XTt0LnN1YnRyYWN0VG9SZWYoZSxzKSxpLnN1YnRyYWN0VG9SZWYoZSxyKSxwLkNyb3NzVG9SZWYodGhpcy5kaXJlY3Rpb24scixuKTtjb25zdCBoPXAuRG90KHMsbik7aWYoaD09PTApcmV0dXJuIG51bGw7Y29uc3QgbD0xL2g7dGhpcy5vcmlnaW4uc3VidHJhY3RUb1JlZihlLGEpO2NvbnN0IHU9cC5Eb3QoYSxuKSpsO2lmKHU8MHx8dT4xKXJldHVybiBudWxsO3AuQ3Jvc3NUb1JlZihhLHMsbyk7Y29uc3QgZD1wLkRvdCh0aGlzLmRpcmVjdGlvbixvKSpsO2lmKGQ8MHx8dStkPjEpcmV0dXJuIG51bGw7Y29uc3QgZj1wLkRvdChyLG8pKmw7cmV0dXJuIGY+dGhpcy5sZW5ndGg/bnVsbDpuZXcgRHMoMS11LWQsdSxmKX1pbnRlcnNlY3RzUGxhbmUoZSl7bGV0IHQ7Y29uc3QgaT1wLkRvdChlLm5vcm1hbCx0aGlzLmRpcmVjdGlvbik7aWYoTWF0aC5hYnMoaSk8OTk5OTk5OTk3NDc1MjQzZS0yMSlyZXR1cm4gbnVsbDt7Y29uc3Qgcz1wLkRvdChlLm5vcm1hbCx0aGlzLm9yaWdpbik7cmV0dXJuIHQ9KC1lLmQtcykvaSx0PDA/dDwtOTk5OTk5OTk3NDc1MjQzZS0yMT9udWxsOjA6dH19aW50ZXJzZWN0c0F4aXMoZSx0PTApe3N3aXRjaChlKXtjYXNlInkiOntjb25zdCBpPSh0aGlzLm9yaWdpbi55LXQpL3RoaXMuZGlyZWN0aW9uLnk7cmV0dXJuIGk+MD9udWxsOm5ldyBwKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotaSx0LHRoaXMub3JpZ2luLnordGhpcy5kaXJlY3Rpb24ueiotaSl9Y2FzZSJ4Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4ueC10KS90aGlzLmRpcmVjdGlvbi54O3JldHVybiBpPjA/bnVsbDpuZXcgcCh0LHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotaSx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLWkpfWNhc2UieiI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLnotdCkvdGhpcy5kaXJlY3Rpb24uejtyZXR1cm4gaT4wP251bGw6bmV3IHAodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1pLHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotaSx0KX1kZWZhdWx0OnJldHVybiBudWxsfX1pbnRlcnNlY3RzTWVzaChlLHQpe2NvbnN0IGk9RC5NYXRyaXhbMF07cmV0dXJuIGUuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihpKSx0aGlzLl90bXBSYXk/X2UuVHJhbnNmb3JtVG9SZWYodGhpcyxpLHRoaXMuX3RtcFJheSk6dGhpcy5fdG1wUmF5PV9lLlRyYW5zZm9ybSh0aGlzLGkpLGUuaW50ZXJzZWN0cyh0aGlzLl90bXBSYXksdCl9aW50ZXJzZWN0c01lc2hlcyhlLHQsaSl7aT9pLmxlbmd0aD0wOmk9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5pbnRlcnNlY3RzTWVzaChlW3NdLHQpO3IuaGl0JiZpLnB1c2gocil9cmV0dXJuIGkuc29ydCh0aGlzLl9jb21wYXJlUGlja2luZ0luZm8pLGl9X2NvbXBhcmVQaWNraW5nSW5mbyhlLHQpe3JldHVybiBlLmRpc3RhbmNlPHQuZGlzdGFuY2U/LTE6ZS5kaXN0YW5jZT50LmRpc3RhbmNlPzE6MH1pbnRlcnNlY3Rpb25TZWdtZW50KGUsdCxpKXtjb25zdCBzPXRoaXMub3JpZ2luLHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdLGE9RC5WZWN0b3IzWzJdLG89RC5WZWN0b3IzWzNdO3Quc3VidHJhY3RUb1JlZihlLHIpLHRoaXMuZGlyZWN0aW9uLnNjYWxlVG9SZWYoX2UuX1JheWwsYSkscy5hZGRUb1JlZihhLG4pLGUuc3VidHJhY3RUb1JlZihzLG8pO2NvbnN0IGg9cC5Eb3QocixyKSxsPXAuRG90KHIsYSksdT1wLkRvdChhLGEpLGQ9cC5Eb3QocixvKSxmPXAuRG90KGEsbyksXz1oKnUtbCpsO2xldCBFLG09Xyx2LFM9XztfPF9lLl9TbWFsbG51bT8oRT0wLG09MSx2PWYsUz11KTooRT1sKmYtdSpkLHY9aCpmLWwqZCxFPDA/KEU9MCx2PWYsUz11KTpFPm0mJihFPW0sdj1mK2wsUz11KSksdjwwPyh2PTAsLWQ8MD9FPTA6LWQ+aD9FPW06KEU9LWQsbT1oKSk6dj5TJiYodj1TLC1kK2w8MD9FPTA6LWQrbD5oP0U9bTooRT0tZCtsLG09aCkpO2NvbnN0IHk9TWF0aC5hYnMoRSk8X2UuX1NtYWxsbnVtPzA6RS9tLEE9TWF0aC5hYnModik8X2UuX1NtYWxsbnVtPzA6di9TLEM9RC5WZWN0b3IzWzRdO2Euc2NhbGVUb1JlZihBLEMpO2NvbnN0IGI9RC5WZWN0b3IzWzVdO3Iuc2NhbGVUb1JlZih5LGIpLGIuYWRkSW5QbGFjZShvKTtjb25zdCBNPUQuVmVjdG9yM1s2XTtyZXR1cm4gYi5zdWJ0cmFjdFRvUmVmKEMsTSksQT4wJiZBPD10aGlzLmxlbmd0aCYmTS5sZW5ndGhTcXVhcmVkKCk8aSppP2IubGVuZ3RoKCk6LTF9dXBkYXRlKGUsdCxpLHMscixuLGEsbz0hMSl7aWYobyl7X2UuX1JheURpc3RhbnR8fChfZS5fUmF5RGlzdGFudD1fZS5aZXJvKCkpLF9lLl9SYXlEaXN0YW50LnVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMseC5JZGVudGl0eVJlYWRPbmx5LG4sYSk7Y29uc3QgaD1ELk1hdHJpeFswXTtyLmludmVydFRvUmVmKGgpLF9lLlRyYW5zZm9ybVRvUmVmKF9lLl9SYXlEaXN0YW50LGgsdGhpcyl9ZWxzZSB0aGlzLnVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMscixuLGEpO3JldHVybiB0aGlzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSl9c3RhdGljIENyZWF0ZU5ldyhlLHQsaSxzLHIsbixhKXtyZXR1cm4gX2UuWmVybygpLnVwZGF0ZShlLHQsaSxzLHIsbixhKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVRvKGUsdCxpPXguSWRlbnRpdHlSZWFkT25seSl7Y29uc3Qgcz10LnN1YnRyYWN0KGUpLHI9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueStzLnoqcy56KTtyZXR1cm4gcy5ub3JtYWxpemUoKSxfZS5UcmFuc2Zvcm0obmV3IF9lKGUscyxyKSxpKX1zdGF0aWMgVHJhbnNmb3JtKGUsdCl7Y29uc3QgaT1uZXcgX2UobmV3IHAoMCwwLDApLG5ldyBwKDAsMCwwKSk7cmV0dXJuIF9lLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLHQsaS5vcmlnaW4pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZS5kaXJlY3Rpb24sdCxpLmRpcmVjdGlvbiksaS5sZW5ndGg9ZS5sZW5ndGg7Y29uc3Qgcz1pLmRpcmVjdGlvbixyPXMubGVuZ3RoKCk7aWYoIShyPT09MHx8cj09PTEpKXtjb25zdCBuPTEvcjtzLngqPW4scy55Kj1uLHMueio9bixpLmxlbmd0aCo9cn19dW5wcm9qZWN0UmF5VG9SZWYoZSx0LGkscyxyLG4sYSl7dmFyIG87Y29uc3QgaD1ELk1hdHJpeFswXTtyLm11bHRpcGx5VG9SZWYobixoKSxoLm11bHRpcGx5VG9SZWYoYSxoKSxoLmludmVydCgpO2NvbnN0IGw9RC5WZWN0b3IzWzBdO2wueD1lL2kqMi0xLGwueT0tKHQvcyoyLTEpLGwuej0hKChvPWZlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fG89PT12b2lkIDApJiZvLmlzTkRDSGFsZlpSYW5nZT8wOi0xO2NvbnN0IHU9RC5WZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKGwueCxsLnksMS0xZS04KSxkPUQuVmVjdG9yM1syXSxmPUQuVmVjdG9yM1szXTtwLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihsLGgsZCkscC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYodSxoLGYpLHRoaXMub3JpZ2luLmNvcHlGcm9tKGQpLGYuc3VidHJhY3RUb1JlZihkLHRoaXMuZGlyZWN0aW9uKSx0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKX19X2UuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSg2LHAuWmVybyksX2UuX1JheURpc3RhbnQ9X2UuWmVybygpLF9lLl9TbWFsbG51bT0xZS04LF9lLl9SYXlsPTFlOSxuZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbihjLGUsdCxpLHM9ITEpe2NvbnN0IHI9X2UuWmVybygpO3JldHVybiB0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsdCxyLGkscykscn0sbmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZj1mdW5jdGlvbihjLGUsdCxpLHMscj0hMSxuPSExKXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCk7aWYoIXMpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm4gdGhpcztzPXRoaXMuYWN0aXZlQ2FtZXJhfWNvbnN0IGg9cy52aWV3cG9ydC50b0dsb2JhbChhLmdldFJlbmRlcldpZHRoKCksYS5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGM9Yy9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktaC54LGU9ZS9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKGEuZ2V0UmVuZGVySGVpZ2h0KCktaC55LWguaGVpZ2h0KSxpLnVwZGF0ZShjLGUsaC53aWR0aCxoLmhlaWdodCx0fHx4LklkZW50aXR5UmVhZE9ubHkscj94LklkZW50aXR5UmVhZE9ubHk6cy5nZXRWaWV3TWF0cml4KCkscy5nZXRQcm9qZWN0aW9uTWF0cml4KCksbiksdGhpc30sbmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPV9lLlplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmKGMsZSxpLHQpLGl9LG5lLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmPWZ1bmN0aW9uKGMsZSx0LGkpe2lmKCFVdClyZXR1cm4gdGhpcztjb25zdCBzPXRoaXMuZ2V0RW5naW5lKCk7aWYoIWkpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2k9dGhpcy5hY3RpdmVDYW1lcmF9Y29uc3Qgbj1pLnZpZXdwb3J0LnRvR2xvYmFsKHMuZ2V0UmVuZGVyV2lkdGgoKSxzLmdldFJlbmRlckhlaWdodCgpKSxhPXguSWRlbnRpdHkoKTtyZXR1cm4gYz1jL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS1uLngsZT1lL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS0ocy5nZXRSZW5kZXJIZWlnaHQoKS1uLnktbi5oZWlnaHQpLHQudXBkYXRlKGMsZSxuLndpZHRoLG4uaGVpZ2h0LGEsYSxpLmdldFByb2plY3Rpb25NYXRyaXgoKSksdGhpc30sbmUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2tGb3JNZXNoPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1lKGksdC5lbmFibGVEaXN0YW50UGlja2luZyksaD10LmludGVyc2VjdHMobyxzLG4scixpLGEpO3JldHVybiFofHwhaC5oaXR8fCFzJiZjIT1udWxsJiZoLmRpc3RhbmNlPj1jLmRpc3RhbmNlP251bGw6aH0sbmUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtsZXQgcj1udWxsO2ZvcihsZXQgbj0wO248dGhpcy5tZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLm1lc2hlc1tuXTtpZihlKXtpZighZShhKSljb250aW51ZX1lbHNlIGlmKCFhLmlzRW5hYmxlZCgpfHwhYS5pc1Zpc2libGV8fCFhLmlzUGlja2FibGUpY29udGludWU7Y29uc3Qgbz1hLmdldFdvcmxkTWF0cml4KCk7aWYoYS5oYXNUaGluSW5zdGFuY2VzJiZhLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmcpe2NvbnN0IGg9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsYSxvLCEwLCEwLHMpO2lmKGgpe2lmKGkpcmV0dXJuIGg7Y29uc3QgbD1ELk1hdHJpeFsxXSx1PWEudGhpbkluc3RhbmNlR2V0V29ybGRNYXRyaWNlcygpO2ZvcihsZXQgZD0wO2Q8dS5sZW5ndGg7ZCsrKXt1W2RdLm11bHRpcGx5VG9SZWYobyxsKTtjb25zdCBfPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gocixjLGEsbCx0LGkscywhMCk7aWYoXyYmKHI9XyxyLnRoaW5JbnN0YW5jZUluZGV4PWQsdCkpcmV0dXJuIHJ9fX1lbHNle2NvbnN0IGg9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsYSxvLHQsaSxzKTtpZihoJiYocj1oLHQpKXJldHVybiByfX1yZXR1cm4gcnx8bmV3IFV0fSxuZS5wcm90b3R5cGUuX2ludGVybmFsTXVsdGlQaWNrPWZ1bmN0aW9uKGMsZSx0KXtpZighVXQpcmV0dXJuIG51bGw7Y29uc3QgaT1uZXcgQXJyYXk7Zm9yKGxldCBzPTA7czx0aGlzLm1lc2hlcy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMubWVzaGVzW3NdO2lmKGUpe2lmKCFlKHIpKWNvbnRpbnVlfWVsc2UgaWYoIXIuaXNFbmFibGVkKCl8fCFyLmlzVmlzaWJsZXx8IXIuaXNQaWNrYWJsZSljb250aW51ZTtjb25zdCBuPXIuZ2V0V29ybGRNYXRyaXgoKTtpZihyLmhhc1RoaW5JbnN0YW5jZXMmJnIudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZyl7aWYodGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGMscixuLCEwLCEwLHQpKXtjb25zdCBvPUQuTWF0cml4WzFdLGg9ci50aGluSW5zdGFuY2VHZXRXb3JsZE1hdHJpY2VzKCk7Zm9yKGxldCBsPTA7bDxoLmxlbmd0aDtsKyspe2hbbF0ubXVsdGlwbHlUb1JlZihuLG8pO2NvbnN0IGQ9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGMscixvLCExLCExLHQsITApO2QmJihkLnRoaW5JbnN0YW5jZUluZGV4PWwsaS5wdXNoKGQpKX19fWVsc2V7Y29uc3QgYT10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsYyxyLG4sITEsITEsdCk7YSYmaS5wdXNoKGEpfX1yZXR1cm4gaX0sbmUucHJvdG90eXBlLnBpY2tXaXRoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGMsZSx0LGkscyl7aWYoIVV0KXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5faW50ZXJuYWxQaWNrKG49Pih0aGlzLl90ZW1wUGlja2luZ1JheXx8KHRoaXMuX3RlbXBQaWNraW5nUmF5PV9lLlplcm8oKSksdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoYyxlLG4sdGhpcy5fdGVtcFBpY2tpbmdSYXksc3x8bnVsbCksdGhpcy5fdGVtcFBpY2tpbmdSYXkpLHQsaSwhMCk7cmV0dXJuIHImJihyLnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLHguSWRlbnRpdHkoKSxzfHxudWxsKSkscn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG5lLnByb3RvdHlwZSwiX3BpY2tpbmdBdmFpbGFibGUiLHtnZXQ6KCk9PiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExfSksbmUucHJvdG90eXBlLnBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzLHIsbj0hMSl7Y29uc3QgYT10aGlzLl9pbnRlcm5hbFBpY2soKG8saCk9Pih0aGlzLl90ZW1wUGlja2luZ1JheXx8KHRoaXMuX3RlbXBQaWNraW5nUmF5PV9lLlplcm8oKSksdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoYyxlLG8sdGhpcy5fdGVtcFBpY2tpbmdSYXksc3x8bnVsbCwhMSxoKSx0aGlzLl90ZW1wUGlja2luZ1JheSksdCxpLCExLHIpO3JldHVybiBhJiYoYS5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSx4LklkZW50aXR5KCksc3x8bnVsbCkpLGF9LG5lLnByb3RvdHlwZS5waWNrV2l0aFJheT1mdW5jdGlvbihjLGUsdCxpKXtjb25zdCBzPXRoaXMuX2ludGVybmFsUGljayhyPT4odGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PXguSWRlbnRpdHkoKSksci5pbnZlcnRUb1JlZih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybT1fZS5aZXJvKCkpLF9lLlRyYW5zZm9ybVRvUmVmKGMsdGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSxlLHQsITEsaSk7cmV0dXJuIHMmJihzLnJheT1jKSxzfSxuZS5wcm90b3R5cGUubXVsdGlQaWNrPWZ1bmN0aW9uKGMsZSx0LGkscyl7cmV0dXJuIHRoaXMuX2ludGVybmFsTXVsdGlQaWNrKHI9PnRoaXMuY3JlYXRlUGlja2luZ1JheShjLGUscixpfHxudWxsKSx0LHMpfSxuZS5wcm90b3R5cGUubXVsdGlQaWNrV2l0aFJheT1mdW5jdGlvbihjLGUsdCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTXVsdGlQaWNrKGk9Pih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXh8fCh0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXg9eC5JZGVudGl0eSgpKSxpLmludmVydFRvUmVmKHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfHwodGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtPV9lLlplcm8oKSksX2UuVHJhbnNmb3JtVG9SZWYoYyx0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgsdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLGUsdCl9LGoucHJvdG90eXBlLmdldEZvcndhcmRSYXk9ZnVuY3Rpb24oYz0xMDAsZSx0KXtyZXR1cm4gdGhpcy5nZXRGb3J3YXJkUmF5VG9SZWYobmV3IF9lKHAuWmVybygpLHAuWmVybygpLGMpLGMsZSx0KX0sai5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheVRvUmVmPWZ1bmN0aW9uKGMsZT0xMDAsdCxpKXtyZXR1cm4gdHx8KHQ9dGhpcy5nZXRXb3JsZE1hdHJpeCgpKSxjLmxlbmd0aD1lLGk/Yy5vcmlnaW4uY29weUZyb20oaSk6Yy5vcmlnaW4uY29weUZyb20odGhpcy5wb3NpdGlvbiksRC5WZWN0b3IzWzJdLnNldCgwLDAsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSkscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihELlZlY3RvcjNbMl0sdCxELlZlY3RvcjNbM10pLHAuTm9ybWFsaXplVG9SZWYoRC5WZWN0b3IzWzNdLGMuZGlyZWN0aW9uKSxjfTt2YXIgeWw9ZnVuY3Rpb24oYyxlLHQpe2Zvcih2YXIgaSBpbiBlKWlmKGMubmFtZT09PWVbaV0pcmV0dXJuIHQucHVzaChjLmlkKSwhMDtyZXR1cm4gYy5wYXJlbnRJZCYmdC5pbmRleE9mKGMucGFyZW50SWQpIT09LTE/KHQucHVzaChjLmlkKSwhMCk6ITF9LGxzPWZ1bmN0aW9uKGMsZSl7cmV0dXJuIGMrIiBvZiAiKyhlP2UuZmlsZSsiIGZyb20gIitlLm5hbWUrIiB2ZXJzaW9uOiAiK2UudmVyc2lvbisiLCBleHBvcnRlciB2ZXJzaW9uOiAiK2UuZXhwb3J0ZXJfdmVyc2lvbjoidW5rbm93biIpfTtsZS5SZWdpc3RlclBsdWdpbih7bmFtZToiYmFieWxvbi5qcyIsZXh0ZW5zaW9uczoiLmpzb24iLGNhbkRpcmVjdExvYWQ6ZnVuY3Rpb24oYyl7cmV0dXJuIGMuaW5kZXhPZigianNvbiIpIT09LTEsITB9LGltcG9ydE1lc2g6ZnVuY3Rpb24oYyxlLHQsaSxzLHIsbixhKXt2YXIgbz0iaW1wb3J0TWVzaCBoYXMgZmFpbGVkIEpTT04gcGFyc2UiO3RyeXt2YXIgaD1KU09OLnBhcnNlKHQpO2gucGh5c2ljc0VuYWJsZWQ9ITEsaD09bnVsbHx8aC5tZXNoZXMubWFwKFM9PmRlbGV0ZSBTLnBoeXNpY3NJbXBvc3Rvciksbz0iIjt2YXIgbD1sZS5sb2dnaW5nTGV2ZWw9PT1sZS5ERVRBSUxFRF9MT0dHSU5HO2M/QXJyYXkuaXNBcnJheShjKXx8KGM9W2NdKTpjPW51bGw7dmFyIHU9bmV3IEFycmF5O2lmKGgubWVzaGVzIT09dm9pZCAwJiZoLm1lc2hlcyE9PW51bGwpe3ZhciBkLGY7Zm9yKGQ9MCxmPWgubWVzaGVzLmxlbmd0aDtkPGY7ZCsrKXt2YXIgXz1oLm1lc2hlc1tkXTtpZihjPT09bnVsbHx8eWwoXyxjLHUpKXtjIT09bnVsbCYmZGVsZXRlIGNbYy5pbmRleE9mKF8ubmFtZSldO3ZhciBFPVcuUGFyc2UoXyxlLGkpO3MucHVzaChFKSxvKz1gCglNZXNoIGArRS50b1N0cmluZyhsKX19dmFyIG07Zm9yKGQ9MCxmPWUubWVzaGVzLmxlbmd0aDtkPGY7ZCsrKW09ZS5tZXNoZXNbZF0sbS5fd2FpdGluZ1BhcmVudElkJiYobS5wYXJlbnQ9ZS5nZXRMYXN0RW50cnlCeUlEKG0uX3dhaXRpbmdQYXJlbnRJZCksbS5fd2FpdGluZ1BhcmVudElkPW51bGwpLG0uY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1yZXR1cm4hMH1jYXRjaChTKXt2YXIgdj1scygiaW1wb3J0TWVzaCIsaD9oLnByb2R1Y2VyOiJVbmtub3duIikrbztpZihhKWEodixTKTtlbHNlIHRocm93IE8uTG9nKHYpLFN9ZmluYWxseXtvIT09bnVsbCYmbGUubG9nZ2luZ0xldmVsIT09bGUuTk9fTE9HR0lORyYmTy5Mb2cobHMoImltcG9ydE1lc2giLGg/aC5wcm9kdWNlcjoiVW5rbm93biIpKyhsZS5sb2dnaW5nTGV2ZWwhPT1sZS5NSU5JTUFMX0xPR0dJTkc/bzoiIikpfXJldHVybiExfSxsb2FkOmZ1bmN0aW9uKGMsZSx0LGkpe3ZhciBzPSJpbXBvcnRTY2VuZSBoYXMgZmFpbGVkIEpTT04gcGFyc2UiO3RyeXt2YXIgcj1KU09OLnBhcnNlKGUpO3M9IiIsci5jbGVhckNvbG9yIT09dm9pZCAwJiZyLmNsZWFyQ29sb3IhPT1udWxsJiYoYy5jbGVhckNvbG9yPUNvbG9yNC5Gcm9tQXJyYXkoci5jbGVhckNvbG9yKSk7dmFyIG49bG9hZEFzc2V0Q29udGFpbmVyKGMsZSx0LGksITApO3JldHVybiEhbn1jYXRjaChvKXt2YXIgYT1scygiaW1wb3J0U2NlbmUiLHI/ci5wcm9kdWNlcjoiVW5rbm93biIpK3M7aWYoaSlpKGEsbyk7ZWxzZSB0aHJvdyBPLkxvZyhhKSxvfWZpbmFsbHl7cyE9PW51bGwmJmxlLmxvZ2dpbmdMZXZlbCE9PWxlLk5PX0xPR0dJTkcmJk8uTG9nKGxzKCJpbXBvcnRTY2VuZSIscj9yLnByb2R1Y2VyOiJVbmtub3duIikrKGxlLmxvZ2dpbmdMZXZlbCE9PWxlLk1JTklNQUxfTE9HR0lORz9zOiIiKSl9cmV0dXJuITF9LGxvYWRBc3NldENvbnRhaW5lcjpmdW5jdGlvbihjLGUsdCxpKXt2YXIgcz1sb2FkQXNzZXRDb250YWluZXIoYyxlLHQsaSk7cmV0dXJuIHN9fSksVy5faW5zdGFuY2VkTWVzaEZhY3Rvcnk9KGMsZSk9Pntjb25zdCB0PW5ldyBDbChjLGUpO2lmKGUuaW5zdGFuY2VkQnVmZmVycyl7dC5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcihjb25zdCBpIGluIGUuaW5zdGFuY2VkQnVmZmVycyl0Lmluc3RhbmNlZEJ1ZmZlcnNbaV09ZS5pbnN0YW5jZWRCdWZmZXJzW2ldfXJldHVybiB0fTtjbGFzcyBDbCBleHRlbmRzIG90e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LmdldFNjZW5lKCkpLHRoaXMuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPTAsdC5hZGRJbnN0YW5jZSh0aGlzKSx0aGlzLl9zb3VyY2VNZXNoPXQsdGhpcy5fdW5JbmRleGVkPXQuX3VuSW5kZXhlZCx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tKHQucG9zaXRpb24pLHRoaXMucm90YXRpb24uY29weUZyb20odC5yb3RhdGlvbiksdGhpcy5zY2FsaW5nLmNvcHlGcm9tKHQuc2NhbGluZyksdC5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj10LnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSx0aGlzLmFuaW1hdGlvbnM9dC5hbmltYXRpb25zLnNsaWNlKCk7Zm9yKGNvbnN0IGkgb2YgdC5nZXRBbmltYXRpb25SYW5nZXMoKSlpIT1udWxsJiZ0aGlzLmNyZWF0ZUFuaW1hdGlvblJhbmdlKGkubmFtZSxpLmZyb20saS50byk7dGhpcy5pbmZpbml0ZURpc3RhbmNlPXQuaW5maW5pdGVEaXN0YW5jZSx0aGlzLnNldFBpdm90TWF0cml4KHQuZ2V0UGl2b3RNYXRyaXgoKSksdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCEwLCEwKSx0aGlzLl9zeW5jU3ViTWVzaGVzKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkluc3RhbmNlZE1lc2gifWdldCBsaWdodFNvdXJjZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fbGlnaHRTb3VyY2VzfV9yZXN5bmNMaWdodFNvdXJjZXMoKXt9X3Jlc3luY0xpZ2h0U291cmNlKCl7fV9yZW1vdmVMaWdodFNvdXJjZSgpe31nZXQgcmVjZWl2ZVNoYWRvd3MoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZWNlaXZlU2hhZG93c31nZXQgbWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5tYXRlcmlhbH1nZXQgdmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnZpc2liaWxpdHl9Z2V0IHNrZWxldG9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guc2tlbGV0b259Z2V0IHJlbmRlcmluZ0dyb3VwSWQoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfXNldCByZW5kZXJpbmdHcm91cElkKGUpeyF0aGlzLl9zb3VyY2VNZXNofHxlPT09dGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfHxPLldhcm4oIk5vdGUgLSBzZXR0aW5nIHJlbmRlcmluZ0dyb3VwSWQgb2YgYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCBvbiB0aGUgc2NlbmUiKX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2g/dGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk6MH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbEluZGljZXMoKX1nZXQgc291cmNlTWVzaCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNofWNyZWF0ZUluc3RhbmNlKGUpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKGUpfWlzUmVhZHkoZT0hMSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guaXNSZWFkeShlLCEwKX1nZXRWZXJ0aWNlc0RhdGEoZSx0KXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZSx0KX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnNldFZlcnRpY2VzRGF0YShlLHQsaSxzKSx0aGlzLnNvdXJjZU1lc2h9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC51cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyksdGhpcy5zb3VyY2VNZXNofXNldEluZGljZXMoZSx0PW51bGwpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRJbmRpY2VzKGUsdCksdGhpcy5zb3VyY2VNZXNofWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl9Z2V0SW5kaWNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldEluZGljZXMoKX1nZXQgX3Bvc2l0aW9ucygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9wb3NpdGlvbnN9cmVmcmVzaEJvdW5kaW5nSW5mbyhlPSExLHQ9ITEpe2lmKHRoaXMuaGFzQm91bmRpbmdJbmZvJiZ0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzTG9ja2VkKXJldHVybiB0aGlzO2NvbnN0IGk9dGhpcy5fc291cmNlTWVzaC5nZW9tZXRyeT90aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhczpudWxsO3JldHVybiB0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX3NvdXJjZU1lc2guX2dldFBvc2l0aW9uRGF0YShlLHQpLGkpLHRoaXN9X3ByZUFjdGl2YXRlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuX3ByZUFjdGl2YXRlKCksdGhpc31fYWN0aXZhdGUoZSx0KXtpZihzdXBlci5fYWN0aXZhdGUoZSx0KSx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc3x8Ty5XYXJuKCJJbnN0YW5jZXMgc2hvdWxkIG9ubHkgYmUgY3JlYXRlZCBmb3IgbWVzaGVzIHdpdGggZ2VvbWV0cnkuIiksdGhpcy5fY3VycmVudExPRCl7aWYodGhpcy5fY3VycmVudExPRC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPj0wIT10aGlzLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTApcmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITAsITA7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD0hMSx0aGlzLl9jdXJyZW50TE9ELl9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQodGhpcyxlKSx0KXtpZighdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGUpcmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITAsITB9ZWxzZSBpZighdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmUpcmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXM9ITAsITB9cmV0dXJuITF9X3Bvc3RBY3RpdmF0ZSgpe3RoaXMuX3NvdXJjZU1lc2guZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXMmJnRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXImJnRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cD8odGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyKSx0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyLmN1c3RvbUluc3RhbmNlcy5wdXNoKHRoaXMuZ2V0V29ybGRNYXRyaXgoKSkpOnRoaXMuX2VkZ2VzUmVuZGVyZXImJnRoaXMuX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2godGhpcy5fZWRnZXNSZW5kZXJlcil9Z2V0V29ybGRNYXRyaXgoKXtpZih0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELmJpbGxib2FyZE1vZGUhPT1KLkJJTExCT0FSRE1PREVfTk9ORSYmdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaCE9PXRoaXMpe3RoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4fHwodGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXg9bmV3IHgpO2NvbnN0IGU9dGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaDtyZXR1cm4gdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaD10aGlzLEQuVmVjdG9yM1s3XS5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uKSx0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uLnNldCgwLDAsMCksdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXguY29weUZyb20odGhpcy5fY3VycmVudExPRC5jb21wdXRlV29ybGRNYXRyaXgoITApKSx0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uLmNvcHlGcm9tKEQuVmVjdG9yM1s3XSksdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaD1lLHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4fXJldHVybiBzdXBlci5nZXRXb3JsZE1hdHJpeCgpfWdldCBpc0FuSW5zdGFuY2UoKXtyZXR1cm4hMH1nZXRMT0QoZSl7aWYoIWUpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnNvdXJjZU1lc2guZ2V0TE9ETGV2ZWxzKCk7aWYoIXR8fHQubGVuZ3RoPT09MCl0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaDtlbHNle2NvbnN0IGk9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTt0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaC5nZXRMT0QoZSxpLmJvdW5kaW5nU3BoZXJlKX1yZXR1cm4gdGhpcy5fY3VycmVudExPRH1fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl7cmV0dXJuIHRoaXMuc291cmNlTWVzaC5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl9X3N5bmNTdWJNZXNoZXMoKXtpZih0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlcylmb3IobGV0IGU9MDtlPHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXNbZV0uY2xvbmUodGhpcyx0aGlzLl9zb3VyY2VNZXNoKTtyZXR1cm4gdGhpc31fZ2VuZXJhdGVQb2ludHNBcnJheSgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9nZW5lcmF0ZVBvaW50c0FycmF5KCl9X3VwZGF0ZUJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLmhhc0JvdW5kaW5nSW5mbz90aGlzLmdldEJvdW5kaW5nSW5mbygpLnVwZGF0ZSh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKTp0aGlzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLmFic29sdXRlUG9zaXRpb24sdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9Y2xvbmUoZSx0PW51bGwsaSxzKXtjb25zdCByPShzfHx0aGlzLl9zb3VyY2VNZXNoKS5jcmVhdGVJbnN0YW5jZShlKTtpZih2cy5EZWVwQ29weSh0aGlzLHIsWyJuYW1lIiwic3ViTWVzaGVzIiwidW5pcXVlSWQiLCJwYXJlbnQiLCJsaWdodFNvdXJjZXMiLCJyZWNlaXZlU2hhZG93cyIsIm1hdGVyaWFsIiwidmlzaWJpbGl0eSIsInNrZWxldG9uIiwic291cmNlTWVzaCIsImlzQW5JbnN0YW5jZSIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJpc0Jsb2NrZWQiLCJ1c2VCb25lcyIsImhhc0luc3RhbmNlcyIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiaGFzQm91bmRpbmdJbmZvIl0sW10pLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHQmJihyLnBhcmVudD10KSwhaSlmb3IobGV0IG49MDtuPHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLmdldFNjZW5lKCkubWVzaGVzW25dO2EucGFyZW50PT09dGhpcyYmYS5jbG9uZShhLm5hbWUscil9cmV0dXJuIHIuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocikscn1kaXNwb3NlKGUsdD0hMSl7dGhpcy5fc291cmNlTWVzaC5yZW1vdmVJbnN0YW5jZSh0aGlzKSxzdXBlci5kaXNwb3NlKGUsdCl9X3NlcmlhbGl6ZUFzUGFyZW50KGUpe3N1cGVyLl9zZXJpYWxpemVBc1BhcmVudChlKSxlLnBhcmVudElkPXRoaXMuX3NvdXJjZU1lc2gudW5pcXVlSWQsZS5wYXJlbnRJbnN0YW5jZUluZGV4PXRoaXMuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheX1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksZXx8dGhpcy5wYXJlbnQsITAsdCYmdC5uZXdTb3VyY2VkTWVzaCk7cyYmaSYmaSh0aGlzLHMpO2Zvcihjb25zdCByIG9mIHRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkpci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHQsaSk7cmV0dXJuIHN9fVcucHJvdG90eXBlLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyPWZ1bmN0aW9uKGMsZSl7dmFyIHQsaTtpZigoaT0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2NdKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzcG9zZSgpLCF0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe3RoaXMuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IoY29uc3QgcyBvZiB0aGlzLmluc3RhbmNlcylzLmluc3RhbmNlZEJ1ZmZlcnM9e307dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHwodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlPXtkYXRhOnt9LHZlcnRleEJ1ZmZlcnM6e30sc3RyaWRlczp7fSxzaXplczp7fSx2ZXJ0ZXhBcnJheU9iamVjdHM6dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3Q/e306dm9pZCAwfSl9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2NdPW51bGwsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbY109ZSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbY109ZSozMix0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtjXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tjXSksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY109bmV3IGcodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtjXSxjLCEwLCExLGUsITApO2Zvcihjb25zdCBzIG9mIHRoaXMuaW5zdGFuY2VzKXMuaW5zdGFuY2VkQnVmZmVyc1tjXT1udWxsO3RoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9LFcucHJvdG90eXBlLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycz1mdW5jdGlvbihjLGUpe2NvbnN0IHQ9Yz9jLmxlbmd0aDowO2Zvcihjb25zdCBpIGluIHRoaXMuaW5zdGFuY2VkQnVmZmVycyl7bGV0IHM9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldO2NvbnN0IHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbaV0sbj0odCsxKSpyO2Zvcig7czxuOylzKj0yO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldLmxlbmd0aCE9cyYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldPW5ldyBGbG9hdDMyQXJyYXkocyksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldPXMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0mJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV09bnVsbCkpO2NvbnN0IGE9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV07bGV0IG89MDtpZihlKXtjb25zdCBoPXRoaXMuaW5zdGFuY2VkQnVmZmVyc1tpXTtoLnRvQXJyYXk/aC50b0FycmF5KGEsbyk6aC5jb3B5VG9BcnJheT9oLmNvcHlUb0FycmF5KGEsbyk6YVtvXT1oLG8rPXJ9Zm9yKGxldCBoPTA7aDx0O2grKyl7Y29uc3QgdT1jW2hdLmluc3RhbmNlZEJ1ZmZlcnNbaV07dS50b0FycmF5P3UudG9BcnJheShhLG8pOnUuY29weVRvQXJyYXk/dS5jb3B5VG9BcnJheShhLG8pOmFbb109dSxvKz1yfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldP3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLnVwZGF0ZURpcmVjdGx5KGEsMCk6KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldPW5ldyBnKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0saSwhMCwhMSxyLCEwKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKX19LFcucHJvdG90eXBlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpe2lmKCEoIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz09PXZvaWQgMCkpe2Zvcihjb25zdCBjIGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5nZXRFbmdpbmUoKS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0c1tjXSk7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fX19LFcucHJvdG90eXBlLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGE9ZnVuY3Rpb24oKXtmb3IodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXImJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlci5kaXNwb3NlKCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXI9bnVsbCk7dGhpcy5pbnN0YW5jZXMubGVuZ3RoOyl0aGlzLmluc3RhbmNlc1swXS5kaXNwb3NlKCk7Zm9yKGNvbnN0IGMgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdJiZ0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tjXS5kaXNwb3NlKCk7dGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLmluc3RhbmNlZEJ1ZmZlcnM9e319O2NvbnN0IFdyPWM9PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYykpLElsPXthc3NldFBhdGg6IiIsZW5hYmxlU2hhZG93czohMSxncm91cElkOm51bGwsaWQ6bnVsbCxsaWdodHM6W10scm9sbElkOm51bGwsc2NlbmU6bnVsbH0sWHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXtidCh0aGlzLCJ2YWx1ZSIsMCk7YnQodGhpcywiYXNsZWVwIiwhMSk7dGhpcy5jb25maWc9ey4uLklsLC4uLmV9LHRoaXMuaWQ9dGhpcy5jb25maWcuaWQhPT12b2lkIDA/dGhpcy5jb25maWcuaWQ6RGF0ZS5ub3coKSx0aGlzLmRpZVR5cGU9dGhpcy5jb25maWcuc2lkZXMsdGhpcy5jb21ib0tleT1gJHt0aGlzLmNvbmZpZy50aGVtZX1fJHt0aGlzLmRpZVR5cGV9YCx0aGlzLnNjZW5lPXQsdGhpcy5jcmVhdGVJbnN0YW5jZSgpfWNyZWF0ZUluc3RhbmNlKCl7Y29uc3QgZT1gJHt0aGlzLmNvbmZpZy5tZXNoTmFtZX1fJHt0aGlzLmRpZVR5cGV9XyR7dGhpcy5jb25maWcudGhlbWV9JHt0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeH1gLHQ9YCR7ZX0taW5zdGFuY2UtJHt0aGlzLmlkfWAsaT10aGlzLnNjZW5lLmdldE1lc2hCeU5hbWUoZSkuY3JlYXRlSW5zdGFuY2UodCk7aWYodGhpcy5jb25maWcuY29sb3JTdWZmaXgubGVuZ3RoPjApe2NvbnN0IHM9cmUuRnJvbUhleFN0cmluZyh0aGlzLmNvbmZpZy50aGVtZUNvbG9yKTtpLmluc3RhbmNlZEJ1ZmZlcnMuY3VzdG9tQ29sb3I9c31pLnBvc2l0aW9uLnk9LTEwMCxpLnNjYWxpbmc9bmV3IHAoaS5zY2FsaW5nLngqdGhpcy5jb25maWcuc2NhbGUsaS5zY2FsaW5nLnkqdGhpcy5jb25maWcuc2NhbGUsaS5zY2FsaW5nLnoqdGhpcy5jb25maWcuc2NhbGUpLHRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MmJnRoaXMuY29uZmlnLmxpZ2h0cy5kaXJlY3Rpb25hbC5zaGFkb3dHZW5lcmF0b3IuYWRkU2hhZG93Q2FzdGVyKGkpLHRoaXMubWVzaD1pfXN0YXRpYyBhc3luYyBsb2FkRGllKGUsdCl7Y29uc3R7c2lkZXM6aSx0aGVtZTpzPSJkZWZhdWx0IixtZXNoTmFtZTpyLGNvbG9yU3VmZml4Om59PWUsYT1yKyJfIitpLG89YSsiXyIrcytuO2xldCBoPXQuZ2V0TWVzaEJ5TmFtZShvKTtyZXR1cm4gaHx8KGg9dC5nZXRNZXNoQnlOYW1lKGEpLmNsb25lKG8pKSxoLm1hdGVyaWFsfHwoaC5tYXRlcmlhbD10LmdldE1hdGVyaWFsQnlOYW1lKHMrbiksbi5sZW5ndGg+MCYmaC5yZWdpc3Rlckluc3RhbmNlZEJ1ZmZlcigiY3VzdG9tQ29sb3IiLDMpKSxlfXN0YXRpYyBhc3luYyBsb2FkTW9kZWxzKGUsdCl7Y29uc3R7bWVzaEZpbGVQYXRoOmksbWVzaE5hbWU6cyxzY2FsZTpyLGQ0RmFjZURvd246bj0hMH09ZTtsZXQgYT0hMSxvPSExO2NvbnN0IGg9YXdhaXQgZmV0Y2goYCR7aX1gKS50aGVuKGw9PntpZihsLm9rKXtjb25zdCB1PWwuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpO2lmKHUmJnUuaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpIT09LTEpcmV0dXJuIGwuanNvbigpO2lmKGwudHlwZSYmbC50eXBlPT09ImJhc2ljIilyZXR1cm4gbC5qc29uKCk7dGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgY29udGVudFR5cGU6ICR7dX0uIEV4cGVjdGVkICJhcHBsaWNhdGlvbi9qc29uIiBvciAiYmFzaWMiYCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBsb2FkIDNEIG1lc2ggZmlsZTogJyR7aX0nLiBSZXF1ZXN0IHJlamVjdGVkIHdpdGggc3RhdHVzICR7bC5zdGF0dXN9OiAke2wuc3RhdHVzVGV4dH1gKX0pLmNhdGNoKGw9PmNvbnNvbGUuZXJyb3IobCkpO2lmKGgpcmV0dXJuIGxlLkltcG9ydE1lc2hBc3luYyhudWxsLG51bGwsImRhdGE6IitKU09OLnN0cmluZ2lmeShoKSx0KS50aGVuKGw9PntpZihsLm1lc2hlcy5mb3JFYWNoKHU9Pnt1Lm5hbWU9PT0iX19yb290X18iJiZ1LmRpc3Bvc2UoKSx1Lm5hbWUuaW5jbHVkZXMoImNvbGxpZGVyIikmJih1LnNjYWxpbmc9bmV3IHAodS5zY2FsaW5nLngqLjksdS5zY2FsaW5nLnkqLjksdS5zY2FsaW5nLnoqLjkpKSxhfHwoYT11Lm5hbWU9PT0iZDEwMCIpLG98fChvPXUubmFtZT09PSJkMTAiKSx1LnNldEVuYWJsZWQoITEpLHUuZnJlZXplTm9ybWFscygpLHUuZnJlZXplV29ybGRNYXRyaXgoKSx1LmlzUGlja2FibGU9ITEsdS5kb05vdFN5bmNCb3VuZGluZ0luZm89ITAsdS5uYW1lPXMrIl8iK3UubmFtZX0pLCFhJiZvJiYodC5nZXRNZXNoQnlOYW1lKHMrIl9kMTAiKS5jbG9uZShzKyJfZDEwMCIpLHQuZ2V0TWVzaEJ5TmFtZShzKyJfZDEwX2NvbGxpZGVyIikuY2xvbmUocysiX2QxMDBfY29sbGlkZXIiKSxoLmNvbGxpZGVyRmFjZU1hcCYmKGguY29sbGlkZXJGYWNlTWFwLmQxMDA9V3IoaC5jb2xsaWRlckZhY2VNYXAuZDEwKSxPYmplY3QudmFsdWVzKGguY29sbGlkZXJGYWNlTWFwLmQxMDApLmZvckVhY2goKHUsZCk9PntoLmNvbGxpZGVyRmFjZU1hcC5kMTAwW2RdPXUqKHU9PT0xMD8wOjEwKX0pKSksIWguY29sbGlkZXJGYWNlTWFwKXRocm93IG5ldyBFcnJvcihgJ2NvbGxpZGVyRmFjZU1hcCcgZGF0YSBub3QgZm91bmQgaW4gJHtpfS4gV2l0aG91dCB0aGUgY29sbGlkZXJGYWNlTWFwIGRhdGEgZGljZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXNvbHZlZC5gKTt0LnRoZW1lRGF0YVtzXT17fSx0LnRoZW1lRGF0YVtzXS5jb2xsaWRlckZhY2VNYXA9aC5jb2xsaWRlckZhY2VNYXAsdC50aGVtZURhdGFbc10uZDRGYWNlRG93bj1ufSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSksaC5tZXNoZXMuZmlsdGVyKGw9PmwubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSl9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPXsuLi50aGlzLmNvbmZpZywuLi5lfX1zdGF0aWMgc2V0VmVjdG9yMyhlLHQsaSl7cmV0dXJuIFh0LnZlY3RvcjMuc2V0KGUsdCxpKX1zdGF0aWMgZ2V0VmVjdG9yMygpe3JldHVybiBYdC52ZWN0b3IzfXN0YXRpYyBhc3luYyBnZXRSb2xsUmVzdWx0KGUsdCl7Y29uc3QgaT0ocz1lKT0+bmV3IFByb21pc2UoKHIsbik9Pntjb25zdCBhPWUuY29uZmlnLnBhcmVudE1lc2h8fGUuY29uZmlnLm1lc2hOYW1lLG89dC50aGVtZURhdGFbYV0uY29sbGlkZXJGYWNlTWFwLGg9dC50aGVtZURhdGFbYV0uZDRGYWNlRG93bjtpZighb1tzLmRpZVR5cGVdKXRocm93IG5ldyBFcnJvcihgTm8gY29sbGlkZXJGYWNlTWFwIGRhdGEgZm9yICR7cy5kaWVUeXBlfWApO2NvbnN0IGw9dC5nZXRNZXNoQnlOYW1lKGAke2F9XyR7cy5kaWVUeXBlfV9jb2xsaWRlcmApLmNyZWF0ZUluc3RhbmNlKGAke2F9XyR7cy5kaWVUeXBlfS1oaXRib3gtJHtzLmlkfWApO2wuaXNQaWNrYWJsZT0hMCxsLmlzVmlzaWJsZT0hMCxsLnNldEVuYWJsZWQoITApLGwucG9zaXRpb249cy5tZXNoLnBvc2l0aW9uLGwucm90YXRpb25RdWF0ZXJuaW9uPXMubWVzaC5yb3RhdGlvblF1YXRlcm5pb247bGV0IHU9WHQuc2V0VmVjdG9yMygwLDEsMCk7cy5kaWVUeXBlPT09ImQ0IiYmaCYmKHU9WHQuc2V0VmVjdG9yMygwLC0xLDApKSxYdC5yYXkuZGlyZWN0aW9uPXUsWHQucmF5Lm9yaWdpbj1lLm1lc2gucG9zaXRpb247Y29uc3QgZD10LnBpY2tXaXRoUmF5KFh0LnJheSk7aWYobC5kaXNwb3NlKCkscy52YWx1ZT1vW3MuZGllVHlwZV1bZC5mYWNlSWRdLHMudmFsdWU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBjb2xsaWRlckZhY2VNYXAgRXJyb3I6IE5vIHZhbHVlIGZvdW5kIGZvciAke3MuZGllVHlwZX0gbWVzaCBmYWNlICR7ZC5mYWNlSWR9YCk7cmV0dXJuIHIocy52YWx1ZSl9KS5jYXRjaChyPT5jb25zb2xlLmVycm9yKHIpKTtyZXR1cm4gZS5tZXNoP2F3YWl0IGkoKTplLnZhbHVlfX07bGV0IFB0PVh0O2J0KFB0LCJyYXkiLG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSwxKSksYnQoUHQsInZlY3RvcjMiLHAuWmVybygpKTtjbGFzcyBQbHtjb25zdHJ1Y3Rvcigpe319Y2xhc3MgaWkgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLkN1c3RvbVBhcnRzPW5ldyBQbCx0aGlzLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlPXRoaXMuQnVpbGRlcix0aGlzLkZyYWdtZW50U2hhZGVyPVBlLlNoYWRlcnNTdG9yZS5kZWZhdWx0UGl4ZWxTaGFkZXIsdGhpcy5WZXJ0ZXhTaGFkZXI9UGUuU2hhZGVyc1N0b3JlLmRlZmF1bHRWZXJ0ZXhTaGFkZXJ9QXR0YWNoQWZ0ZXJCaW5kKGUsdCl7aWYodGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcylmb3IoY29uc3QgaSBpbiB0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKXtjb25zdCBzPWkudG9TdHJpbmcoKS5zcGxpdCgiLSIpO3NbMF09PSJ2ZWMyIj90LnNldFZlY3RvcjIoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0idmVjMyI/dC5zZXRWZWN0b3IzKHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09InZlYzQiP3Quc2V0VmVjdG9yNChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJtYXQ0Ij90LnNldE1hdHJpeChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJmbG9hdCImJnQuc2V0RmxvYXQoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKX1pZih0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKWZvcihjb25zdCBpIGluIHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpe2NvbnN0IHM9aS50b1N0cmluZygpLnNwbGl0KCItIik7c1swXT09InNhbXBsZXIyRCImJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0uaXNSZWFkeSYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXS5pc1JlYWR5KCkmJnQuc2V0VGV4dHVyZShzWzFdLHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0pfX1SZXZpZXdVbmlmb3JtKGUsdCl7aWYoZT09InVuaWZvcm0iJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIik9PS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0pO2lmKGU9PSJzYW1wbGVyIiYmdGhpcy5fbmV3VW5pZm9ybXMpZm9yKGxldCBpPTA7aTx0aGlzLl9uZXdVbmlmb3Jtcy5sZW5ndGg7aSsrKXRoaXMuX2N1c3RvbVVuaWZvcm1baV0uaW5kZXhPZigic2FtcGxlciIpIT0tMSYmdC5wdXNoKHRoaXMuX25ld1VuaWZvcm1zW2ldKTtyZXR1cm4gdH1CdWlsZGVyKGUsdCxpLHMscixuKXtpZihuJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLmxlbmd0aD4wJiZuLnB1c2goLi4udGhpcy5fY3VzdG9tQXR0cmlidXRlcyksdGhpcy5SZXZpZXdVbmlmb3JtKCJ1bmlmb3JtIix0KSx0aGlzLlJldmlld1VuaWZvcm0oInNhbXBsZXIiLHMpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcilyZXR1cm4gdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU7dGhpcy5faXNDcmVhdGVkU2hhZGVyPSExLGlpLlNoYWRlckluZGV4ZXIrKztjb25zdCBhPSJjdXN0b21fIitpaS5TaGFkZXJJbmRleGVyLG89dGhpcy5fYWZ0ZXJCaW5kLmJpbmQodGhpcyk7cmV0dXJuIHRoaXMuX2FmdGVyQmluZD0oaCxsKT0+e2lmKGwpe3RoaXMuQXR0YWNoQWZ0ZXJCaW5kKGgsbCk7dHJ5e28oaCxsKX1jYXRjaHt9fX0sUGUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdPXRoaXMuVmVydGV4U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQmJihQZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl09UGUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQpKSxQZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXT10aGlzLkZyYWdtZW50U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nJiYoUGUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl09UGUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nKSksdGhpcy5faXNDcmVhdGVkU2hhZGVyPSEwLHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lPWEsYX1BZGRVbmlmb3JtKGUsdCxpKXtyZXR1cm4gdGhpcy5fY3VzdG9tVW5pZm9ybXx8KHRoaXMuX2N1c3RvbVVuaWZvcm09bmV3IEFycmF5LHRoaXMuX25ld1VuaWZvcm1zPW5ldyBBcnJheSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzPXt9LHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXM9e30pLGkmJih0LmluZGV4T2YoInNhbXBsZXIiKSE9LTE/dGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1t0KyItIitlXT1pOnRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbdCsiLSIrZV09aSksdGhpcy5fY3VzdG9tVW5pZm9ybS5wdXNoKCJ1bmlmb3JtICIrdCsiICIrZSsiOyIpLHRoaXMuX25ld1VuaWZvcm1zLnB1c2goZSksdGhpc31BZGRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXN8fCh0aGlzLl9jdXN0b21BdHRyaWJ1dGVzPVtdKSx0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLnB1c2goZSksdGhpc31GcmFnbWVudF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLHRoaXN9RnJhZ21lbnRfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZSx0aGlzfUZyYWdtZW50X01haW5CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW49ZSx0aGlzfUZyYWdtZW50X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD1lLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5yZXBsYWNlKCJyZXN1bHQiLCJkaWZmdXNlQ29sb3IiKSx0aGlzfUZyYWdtZW50X0N1c3RvbV9BbHBoYShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5yZXBsYWNlKCJyZXN1bHQiLCJhbHBoYSIpLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUsdGhpc31GcmFnbWVudF9CZWZvcmVfRm9nKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLnJlcGxhY2UoInJlc3VsdCIsImNvbG9yIiksdGhpc31WZXJ0ZXhfQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luPWUsdGhpc31WZXJ0ZXhfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zPWUsdGhpc31WZXJ0ZXhfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZSx0aGlzfVZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0IiwicG9zaXRpb25VcGRhdGVkIiksdGhpc31WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0Iiwibm9ybWFsVXBkYXRlZCIpLHRoaXN9VmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQ9ZSx0aGlzfVZlcnRleF9NYWluRW5kKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kPWUsdGhpc319aWkuU2hhZGVySW5kZXhlcj0xLGl0KCJCQUJZTE9OLkN1c3RvbU1hdGVyaWFsIixpaSksaWkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcyx0PWFlLkNsb25lKCgpPT5uZXcgaWkoYyx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO3JldHVybiB0Lm5hbWU9Yyx0LmlkPWMsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4sdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnMsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkLHQuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZCx0fTtjbGFzcyBEbHtjb25zdHJ1Y3RvcihlKXtidCh0aGlzLCJsb2FkZWRUaGVtZXMiLHt9KTtidCh0aGlzLCJ0aGVtZURhdGEiLHt9KTt0aGlzLnNjZW5lPWUuc2NlbmV9YXN5bmMgbG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IEIodCx0aGlzLnNjZW5lKTtpLmRpZmZ1c2VUZXh0dXJlJiYocy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLGUpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITF9YXN5bmMgbG9hZENvbG9yTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IGlpKHQrIl9saWdodCIsdGhpcy5zY2VuZSkscj1XcihlKTtpLmRpZmZ1c2VUZXh0dXJlJiZpLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0JiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0LHMuZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksaS5idW1wVGV4dHVyZSYmKHMuYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksaS5zcGVjdWxhclRleHR1cmUmJihzLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSkscy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLHMuVmVydGV4X0RlZmluaXRpb25zKGAKICAgICAgYXR0cmlidXRlIHZlYzMgY3VzdG9tQ29sb3I7CiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5WZXJ0ZXhfTWFpbkVuZChgCiAgICAgIHZDb2xvciA9IGN1c3RvbUNvbG9yOwogICAgYCkuRnJhZ21lbnRfRGVmaW5pdGlvbnMoYAogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAogICAgICBiYXNlQ29sb3IucmdiID0gbWl4KHZDb2xvci5yZ2IsIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKICAgIGApLHMuQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpO2NvbnN0IG49cy5jbG9uZSh0KyJfZGFyayIpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUuZGFyayYmKHIubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5kYXJrLG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksbi5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIil9YXN5bmMgZ2V0VGV4dHVyZShlLHQpe2NvbnN0e2Jhc2VQYXRoOmksbWF0ZXJpYWw6cyx0aGVtZTpyfT10O2xldCBuO2NvbnN0IGE9ZSsiTGV2ZWwiLG89ZSsiVGV4dHVyZSI7dHJ5e3N3aXRjaChlKXtjYXNlImRpZmZ1c2UiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJidW1wIjpuPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke2l9LyR7c1tvXX1gLHIpLHNbYV0mJihuLmxldmVsPXNbYV0pO2JyZWFrO2Nhc2Uic3BlY3VsYXIiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAscikscy5zcGVjdWxhclBvd2VyJiYobi5zcGVjdWxhclBvd2VyPXMuc3BlY3VsYXJQb3dlcik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgdHlwZTogJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fWNhdGNoKGgpe2NvbnNvbGUuZXJyb3IoaCl9cmV0dXJuIG59YXN5bmMgaW1wb3J0VGV4dHVyZUFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57bGV0IHI9ZS5tYXRjaCgvXiguKlwvKSguKikkLyksbj1uZXcgTihlLHRoaXMuc2NlbmUsdm9pZCAwLCEwLHZvaWQgMCwoKT0+aShuKSwoKT0+cyhgVW5hYmxlIHRvIGxvYWQgdGV4dHVyZSAnJHtyWzJdfScgZm9yIHRoZW1lOiAnJHt0fScuIENoZWNrIHRoYXQgeW91ciBhc3NldFBhdGggaXMgY29uZmlndXJlZCBjb3JyZWN0bHkgYW5kIHRoYXQgdGhlIGZpbGVzIGV4aXN0IGF0IHBhdGg6ICcke3JbMV19J2ApKX0pLmNhdGNoKGk9PmNvbnNvbGUuZXJyb3IoaSkpfWFzeW5jIGxvYWQoZSl7Y29uc3R7bWF0ZXJpYWw6dH09ZTt0LnR5cGU9PT0iY29sb3IiP2F3YWl0IHRoaXMubG9hZENvbG9yTWF0ZXJpYWwoZSk6dC50eXBlPT09InN0YW5kYXJkIj9hd2FpdCB0aGlzLmxvYWRTdGFuZGFyZE1hdGVyaWFsKGUpOmNvbnNvbGUuZXJyb3IoYE1hdGVyaWFsIHR5cGU6ICR7dC50eXBlfSBub3Qgc3VwcG9ydGVkYCl9fWNsYXNzIEZse2NvbnN0cnVjdG9yKGUpe250KHRoaXMsdXMpO2J0KHRoaXMsImNvbmZpZyIpO2J0KHRoaXMsImluaXRpYWxpemVkIiwhMSk7bnQodGhpcyxYZSx7fSk7bnQodGhpcyxBaSwwKTtudCh0aGlzLEZ0LDApO250KHRoaXMsUmksW10pO250KHRoaXMsTXQsdm9pZCAwKTtudCh0aGlzLFR0LHZvaWQgMCk7bnQodGhpcyxKZSx2b2lkIDApO250KHRoaXMsY3Msdm9pZCAwKTtudCh0aGlzLEF0LHZvaWQgMCk7bnQodGhpcyxWaSx2b2lkIDApO250KHRoaXMsV2ksdm9pZCAwKTtudCh0aGlzLGd0LHZvaWQgMCk7bnQodGhpcyx6aSx7fSk7YnQodGhpcywibm9vcCIsKCk9Pnt9KTtidCh0aGlzLCJkaWNlQnVmZmVyVmlldyIsbmV3IEZsb2F0MzJBcnJheSg4ZTMpKTt0aGlzLm9uSW5pdENvbXBsZXRlPWUub25Jbml0Q29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uVGhlbWVMb2FkZWQ9ZS5vblRoZW1lTG9hZGVkfHx0aGlzLm5vb3AsdGhpcy5vblJvbGxSZXN1bHQ9ZS5vblJvbGxSZXN1bHR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbENvbXBsZXRlPWUub25Sb2xsQ29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uRGllUmVtb3ZlZD1lLm9uRGllUmVtb3ZlZHx8dGhpcy5ub29wLHRoaXMuaW5pdGlhbGl6ZWQ9dGhpcy5pbml0U2NlbmUoZSl9YXN5bmMgaW5pdFNjZW5lKGUpe2x0KHRoaXMsTXQsZS5jYW52YXMpLFkodGhpcyxNdCkud2lkdGg9ZS53aWR0aCxZKHRoaXMsTXQpLmhlaWdodD1lLmhlaWdodCx0aGlzLmNvbmZpZz1lLm9wdGlvbnMsbHQodGhpcyxUdCxnbihZKHRoaXMsTXQpKSksbHQodGhpcyxKZSxLbih7ZW5naW5lOlkodGhpcyxUdCl9KSksbHQodGhpcyxjcyxZbih7ZW5naW5lOlkodGhpcyxUdCksc2NlbmU6WSh0aGlzLEplKX0pKSxsdCh0aGlzLEF0LEJyKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2hhZG93VHJhbnNwYXJlbmN5OnRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSxpbnRlbnNpdHk6dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksc2NlbmU6WSh0aGlzLEplKX0pKSxsdCh0aGlzLFZpLG5ldyBSbCh7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLGFzcGVjdDpZKHRoaXMsTXQpLndpZHRoL1kodGhpcyxNdCkuaGVpZ2h0LGxpZ2h0czpZKHRoaXMsQXQpLHNjZW5lOlkodGhpcyxKZSl9KSksbHQodGhpcyxXaSxuZXcgRGwoe3NjZW5lOlkodGhpcyxKZSl9KSksdGhpcy5vbkluaXRDb21wbGV0ZSgpfWNvbm5lY3QoZSl7bHQodGhpcyxndCxlKSxZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXRCdWZmZXIiLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pLFkodGhpcyxndCkub25tZXNzYWdlPXQ9Pntzd2l0Y2godC5kYXRhLmFjdGlvbil7Y2FzZSJ1cGRhdGVzIjp0aGlzLnVwZGF0ZXNGcm9tUGh5c2ljcyh0LmRhdGEuZGljZUJ1ZmZlcik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gZnJvbSBwaHlzaWNzV29ya2VyIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIik7YnJlYWt9fX11cGRhdGVDb25maWcoZSl7Y29uc3QgdD10aGlzLmNvbmZpZzt0aGlzLmNvbmZpZz1lLHQuZW5hYmxlU2hhZG93cyE9PXRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MmJihPYmplY3QudmFsdWVzKFkodGhpcyxBdCkpLmZvckVhY2goaT0+aS5kaXNwb3NlKCkpLGx0KHRoaXMsQXQsQnIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93c30pKSksdC5zY2FsZSE9PXRoaXMuY29uZmlnLnNjYWxlJiZPYmplY3QudmFsdWVzKFkodGhpcyxYZSkpLmZvckVhY2goKHttZXNoOml9KT0+e2kmJihpLnNjYWxpbmc9bmV3IHAodGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUpKX0pLHQuc2hhZG93VHJhbnNwYXJlbmN5IT09dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5JiYoWSh0aGlzLEF0KS5kaXJlY3Rpb25hbC5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5KSx0LmxpZ2h0SW50ZW5zaXR5IT09dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHkmJihZKHRoaXMsQXQpLmRpcmVjdGlvbmFsLmludGVuc2l0eT0uNjUqdGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksWSh0aGlzLEF0KS5oZW1pc3BoZXJpYy5pbnRlbnNpdHk9LjQqdGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHkpfXJlbmRlcihlKXtZKHRoaXMsVHQpLnJ1blJlbmRlckxvb3AodGhpcy5yZW5kZXJMb29wLmJpbmQodGhpcykpLFkodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicmVzdW1lU2ltdWxhdGlvbiIsbmV3U3RhcnRQb2ludDplfSl9cmVuZGVyTG9vcCgpe1kodGhpcyxGdCkmJlkodGhpcyxGdCk9PT1PYmplY3Qua2V5cyhZKHRoaXMsWGUpKS5sZW5ndGg/KFkodGhpcyxUdCkuc3RvcFJlbmRlckxvb3AoKSxZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0b3BTaW11bGF0aW9uIn0pLHRoaXMub25Sb2xsQ29tcGxldGUoKSk6WSh0aGlzLEplKS5yZW5kZXIoKX1hc3luYyBsb2FkVGhlbWUoZSl7Y29uc3R7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnMsbWVzaEZpbGVQYXRoOnIsbWVzaE5hbWU6bn09ZTtpZihhd2FpdCBZKHRoaXMsV2kpLmxvYWQoe3RoZW1lOnQsYmFzZVBhdGg6aSxtYXRlcmlhbDpzfSksIU9iamVjdC5rZXlzKFkodGhpcyx6aSkpLmluY2x1ZGVzKG4pKXtZKHRoaXMsemkpW25dPXI7Y29uc3QgYT1hd2FpdCBQdC5sb2FkTW9kZWxzKHttZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufSxZKHRoaXMsSmUpKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIk5vIGNvbGxpZGVycyByZXR1cm5lZCBmcm9tIHRoZSAzRCBtZXNoIGZpbGUuIExvdyBwb2x5IGNvbGxpZGVycyBhcmUgZXhwZWN0ZWQgdG8gYmUgaW4gdGhlIHNhbWUgZmlsZSBhcyB0aGUgaGlnaCBwb2x5IGRpY2UgYW5kIHRoZSBtZXNoIG5hbWUgY29udGFpbnMgdGhlIHdvcmQgJ2NvbGxpZGVyJyIpO1kodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoibG9hZE1vZGVscyIsb3B0aW9uczp7Y29sbGlkZXJzOmEsbWVzaE5hbWU6bn19KX10aGlzLm9uVGhlbWVMb2FkZWQoe2lkOnR9KX1jbGVhcigpeyFPYmplY3Qua2V5cyhZKHRoaXMsWGUpKS5sZW5ndGgmJiFZKHRoaXMsRnQpfHwodGhpcy5kaWNlQnVmZmVyVmlldy5ieXRlTGVuZ3RoJiZ0aGlzLmRpY2VCdWZmZXJWaWV3LmZpbGwoMCksWSh0aGlzLFJpKS5mb3JFYWNoKGU9PmNsZWFyVGltZW91dChlKSksWSh0aGlzLFR0KS5zdG9wUmVuZGVyTG9vcCgpLE9iamVjdC52YWx1ZXMoWSh0aGlzLFhlKSkuZm9yRWFjaChlPT57ZS5tZXNoJiZlLm1lc2guZGlzcG9zZSgpfSksbHQodGhpcyxYZSx7fSksbHQodGhpcyxBaSwwKSxsdCh0aGlzLEZ0LDApLFkodGhpcyxKZSkucmVuZGVyKCkpfWFkZChlKXtQdC5sb2FkRGllKGUsWSh0aGlzLEplKSkudGhlbih0PT57WSh0aGlzLFJpKS5wdXNoKHNldFRpbWVvdXQoKCk9Pnt6cih0aGlzLHVzLEdyKS5jYWxsKHRoaXMsdCl9LHlpKHRoaXMsQWkpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSl9YWRkTm9uRGllKGUpe1kodGhpcyxUdCkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoITEpO2NvbnN0e2lkOnQsdmFsdWU6aSwuLi5zfT1lLHI9e2lkOnQsdmFsdWU6aSxjb25maWc6c307WSh0aGlzLFhlKVt0XT1yLHNldFRpbWVvdXQoKCk9PntZKHRoaXMsUmkpLnB1c2goc2V0VGltZW91dCgoKT0+e3RoaXMuaGFuZGxlQXNsZWVwKHIpfSx5aSh0aGlzLEFpKS5fKysqdGhpcy5jb25maWcuZGVsYXkpKX0sMTApfXJlbW92ZShlKXtjb25zdCB0PVkodGhpcyxYZSlbZS5pZF07dC5oYXNPd25Qcm9wZXJ0eSgiZDEwSW5zdGFuY2UiKSYmKFkodGhpcyxYZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaCYmKFkodGhpcyxYZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaC5kaXNwb3NlKCksWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZW1vdmVEaWUiLGlkOnQuZDEwSW5zdGFuY2UuaWR9KSksZGVsZXRlIFkodGhpcyxYZSlbdC5kMTBJbnN0YW5jZS5pZF0seWkodGhpcyxGdCkuXy0tKSxZKHRoaXMsWGUpW2UuaWRdLm1lc2gmJlkodGhpcyxYZSlbZS5pZF0ubWVzaC5kaXNwb3NlKCksZGVsZXRlIFkodGhpcyxYZSlbZS5pZF0seWkodGhpcyxGdCkuXy0tLFkodGhpcyxKZSkucmVuZGVyKCksdGhpcy5vbkRpZVJlbW92ZWQoZS5yb2xsSWQpfXVwZGF0ZXNGcm9tUGh5c2ljcyhlKXt0aGlzLmRpY2VCdWZmZXJWaWV3PW5ldyBGbG9hdDMyQXJyYXkoZSk7bGV0IHQ9MTtmb3IobGV0IGk9MCxzPXRoaXMuZGljZUJ1ZmZlclZpZXdbMF07aTxzO2krKyl7aWYoIU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aCljb250aW51ZTtjb25zdCByPVkodGhpcyxYZSlbYCR7dGhpcy5kaWNlQnVmZmVyVmlld1t0XX1gXTtpZighcil7Y29uc29sZS5sb2coIkVycm9yOiBkaWUgbm90IGF2YWlsYWJsZSBpbiBzY2VuZSB0byBhbmltYXRlIik7YnJlYWt9aWYodGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdPT09LTEpdGhpcy5oYW5kbGVBc2xlZXAocik7ZWxzZXtjb25zdCBuPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsxXSxhPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsyXSxvPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCszXSxoPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs0XSxsPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs1XSx1PXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs2XSxkPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs3XTtyLm1lc2gucG9zaXRpb24uc2V0KG4sYSxvKSxyLm1lc2gucm90YXRpb25RdWF0ZXJuaW9uLnNldChoLGwsdSxkKX10PXQrOH1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0ZXBTaW11bGF0aW9uIixkaWNlQnVmZmVyOnRoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyfSxbdGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJdKX0pfWFzeW5jIGhhbmRsZUFzbGVlcChlKXt2YXIgdCxpO2lmKGUuYXNsZWVwPSEwLGF3YWl0IFB0LmdldFJvbGxSZXN1bHQoZSxZKHRoaXMsSmUpKSxlLmQxMEluc3RhbmNlfHxlLmRpZVBhcmVudCl7aWYoKHQ9ZT09bnVsbD92b2lkIDA6ZS5kMTBJbnN0YW5jZSkhPW51bGwmJnQuYXNsZWVwfHwoaT1lPT1udWxsP3ZvaWQgMDplLmRpZVBhcmVudCkhPW51bGwmJmkuYXNsZWVwKXtjb25zdCBzPWUuY29uZmlnLnNpZGVzPT09MTAwP2U6ZS5kaWVQYXJlbnQscj1lLmNvbmZpZy5zaWRlcz09PTEwP2U6ZS5kMTBJbnN0YW5jZTtyLnZhbHVlPT09MCYmcy52YWx1ZT09PTA/cy52YWx1ZT0xMDA6cy52YWx1ZT1zLnZhbHVlK3IudmFsdWUsdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDpzLmNvbmZpZy5yb2xsSWQsdmFsdWU6cy52YWx1ZX0pfX1lbHNlIGUuY29uZmlnLnNpZGVzPT09MTAmJmUudmFsdWU9PT0wJiYoZS52YWx1ZT0xMCksdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDplLmNvbmZpZy5yb2xsSWQsdmFsdWU6ZS52YWx1ZX0pO3lpKHRoaXMsRnQpLl8rK31yZXNpemUoZSl7Y29uc3QgdD1ZKHRoaXMsTXQpLndpZHRoPWUud2lkdGgsaT1ZKHRoaXMsTXQpLmhlaWdodD1lLmhlaWdodDtZKHRoaXMsVmkpLmNyZWF0ZSh7YXNwZWN0OnQvaX0pLFkodGhpcyxUdCkucmVzaXplKCl9fVhlPW5ldyBXZWFrTWFwLEFpPW5ldyBXZWFrTWFwLEZ0PW5ldyBXZWFrTWFwLFJpPW5ldyBXZWFrTWFwLE10PW5ldyBXZWFrTWFwLFR0PW5ldyBXZWFrTWFwLEplPW5ldyBXZWFrTWFwLGNzPW5ldyBXZWFrTWFwLEF0PW5ldyBXZWFrTWFwLFZpPW5ldyBXZWFrTWFwLFdpPW5ldyBXZWFrTWFwLGd0PW5ldyBXZWFrTWFwLHppPW5ldyBXZWFrTWFwLHVzPW5ldyBXZWFrU2V0LEdyPWFzeW5jIGZ1bmN0aW9uKGUpe1kodGhpcyxUdCkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoZS5uZXdTdGFydFBvaW50KTtjb25zdCB0PXsuLi5lLGFzc2V0UGF0aDp0aGlzLmNvbmZpZy5hc3NldFBhdGgsZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGxpZ2h0czpZKHRoaXMsQXQpfSxpPW5ldyBQdCh0LFkodGhpcyxKZSkpO3JldHVybiBZKHRoaXMsWGUpW2kuaWRdPWksWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOmUuc2lkZXMsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6aS5pZCxuZXdTdGFydFBvaW50OmUubmV3U3RhcnRQb2ludCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSksZS5zaWRlcz09PTEwMCYmKGkuZDEwSW5zdGFuY2U9YXdhaXQgUHQubG9hZERpZSh7Li4udCxzaWRlczoxMCxpZDppLmlkKzFlNH0sWSh0aGlzLEplKSkudGhlbihzPT57Y29uc3Qgcj1uZXcgUHQocyxZKHRoaXMsSmUpKTtyZXR1cm4gci5kaWVQYXJlbnQ9aSxyfSksWSh0aGlzLFhlKVtgJHtpLmQxMEluc3RhbmNlLmlkfWBdPWkuZDEwSW5zdGFuY2UsWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOjEwLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGlkOmkuZDEwSW5zdGFuY2UuaWQsdGhlbWU6ZS50aGVtZSxtZXNoTmFtZTplLm1lc2hOYW1lfX0pKSxpfTtsZXQgRHQ7c2VsZi5vbm1lc3NhZ2U9YXN5bmMgYz0+e3N3aXRjaChjLmRhdGEuYWN0aW9uKXtjYXNlInJvbGxEaWUiOkR0LnBoeXNpY3NXb3JrZXJQb3J0LnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwifSk7YnJlYWs7Y2FzZSJhZGREaWUiOkR0LmFkZChjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJhZGROb25EaWUiOkR0LmFkZE5vbkRpZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJsb2FkVGhlbWUiOmF3YWl0IER0LmxvYWRUaGVtZShjLmRhdGEub3B0aW9ucykuY2F0Y2goZT0+Y29uc29sZS5lcnJvcihlKSk7YnJlYWs7Y2FzZSJjbGVhckRpY2UiOkR0LmNsZWFyKCk7YnJlYWs7Y2FzZSJyZW1vdmVEaWUiOkR0LnJlbW92ZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJyZXNpemUiOkR0LnJlc2l6ZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJpbml0IjpEdD1uZXcgRmwoey4uLmMuZGF0YSxvbkluaXRDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdC1jb21wbGV0ZSJ9KX0sb25UaGVtZUxvYWRlZDooe2lkOmV9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoidGhlbWUtbG9hZGVkIixpZDplfSl9LG9uUm9sbFJlc3VsdDooe3JvbGxJZDplLHZhbHVlOnR9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1yZXN1bHQiLGRpZTp7cm9sbElkOmUsdmFsdWU6dH19KX0sb25Sb2xsQ29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtY29tcGxldGUifSl9LG9uRGllUmVtb3ZlZDplPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJkaWUtcmVtb3ZlZCIscm9sbElkOmV9KX19KTticmVhaztjYXNlInVwZGF0ZUNvbmZpZyI6RHQudXBkYXRlQ29uZmlnKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImNvbm5lY3QiOkR0LmNvbm5lY3QoYy5kYXRhLnBvcnQpLHNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiY29ubmVjdC1jb21wbGV0ZSJ9KTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpfX19KSgpOwo=", y = typeof window < "u" && window.Blob && new Blob([atob(p)], { type: "text/javascript;charset=utf-8" });
function N() {
  const X = y && (window.URL || window.webkitURL).createObjectURL(y);
  try {
    return X ? new Worker(X) : new Worker("data:application/javascript;base64," + p);
  } finally {
    X && (window.URL || window.webkitURL).revokeObjectURL(X);
  }
}
var b, G, W, Y;
class U {
  // roll group callback
  constructor(l) {
    // initialize the babylon scene
    m(this, W);
    d(this, "initialized", !1);
    d(this, "offscreenWorkerInit", !1);
    d(this, "themeLoadedInit", !1);
    d(this, "pendingThemePromises", {});
    m(this, b, void 0);
    m(this, G, void 0);
    // onInitComplete = () => {} // init callback
    d(this, "onRollResult", () => {
    });
    // individual die callback
    d(this, "onRollComplete", () => {
    });
    this.onInitComplete = l.onInitComplete, h(this, b, l.canvas.transferControlToOffscreen()), h(this, G, new N()), V(this, G).init = new Promise((Z, c) => {
      this.offscreenWorkerInit = Z;
    }), this.initialized = a(this, W, Y).call(this, l);
  }
  connect(l) {
    V(this, G).postMessage({
      action: "connect",
      port: l
    }, [l]);
  }
  updateConfig(l) {
    V(this, G).postMessage({ action: "updateConfig", options: l });
  }
  resize(l) {
    V(this, G).postMessage({ action: "resize", options: l });
  }
  async loadTheme(l) {
    return new Promise((Z, c) => {
      if (Object.keys(this.pendingThemePromises).includes(l.theme))
        return Z();
      this.pendingThemePromises[l.theme] = Z, V(this, G).postMessage({ action: "loadTheme", options: l });
    }).catch((Z) => console.error(Z));
  }
  clear() {
    V(this, G).postMessage({ action: "clearDice" });
  }
  add(l) {
    V(this, G).postMessage({ action: "addDie", options: l });
  }
  addNonDie(l) {
    V(this, G).postMessage({ action: "addNonDie", options: l });
  }
  remove(l) {
    V(this, G).postMessage({ action: "removeDie", options: l });
  }
}
b = new WeakMap(), G = new WeakMap(), W = new WeakSet(), Y = async function(l) {
  return V(this, G).postMessage({
    action: "init",
    canvas: V(this, b),
    width: l.canvas.clientWidth,
    height: l.canvas.clientHeight,
    options: l.options
  }, [V(this, b)]), V(this, G).onmessage = (Z) => {
    switch (Z.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "connect-complete":
        break;
      case "theme-loaded":
        Z.data.id && this.pendingThemePromises[Z.data.id](Z.data.id);
        break;
      case "roll-result":
        this.onRollResult(Z.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(Z.data.rollId);
        break;
    }
  }, await V(this, G).init, this.onInitComplete(!0), !0;
};
export {
  U as default
};
//# sourceMappingURL=world.offscreen.js.map
