var a = Object.defineProperty;
var J = (m, l, Z) => l in m ? a(m, l, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : m[l] = Z;
var X = (m, l, Z) => (J(m, typeof l != "symbol" ? l + "" : l, Z), Z), R = (m, l, Z) => {
  if (!l.has(m))
    throw TypeError("Cannot " + Z);
};
var b = (m, l, Z) => (R(m, l, "read from private field"), Z ? Z.call(m) : l.get(m)), c = (m, l, Z) => {
  if (l.has(m))
    throw TypeError("Cannot add the same private member more than once");
  l instanceof WeakSet ? l.add(m) : l.set(m, Z);
}, u = (m, l, Z, V) => (R(m, l, "write to private field"), V ? V.call(m, Z) : l.set(m, Z), Z);
var h = (m, l, Z) => (R(m, l, "access private method"), Z);
const y = "dmFyIE1mPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgQWY9KHosYWUscGUpPT5hZSBpbiB6P01mKHosYWUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnBlfSk6elthZV09cGU7dmFyIHFlPSh6LGFlLHBlKT0+KEFmKHosdHlwZW9mIGFlIT0ic3ltYm9sIj9hZSsiIjphZSxwZSkscGUpLGJpPSh6LGFlLHBlKT0+e2lmKCFhZS5oYXMoeikpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitwZSl9O3ZhciBWPSh6LGFlLHBlKT0+KGJpKHosYWUsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIikscGU/cGUuY2FsbCh6KTphZS5nZXQoeikpLFVlPSh6LGFlLHBlKT0+e2lmKGFlLmhhcyh6KSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTthZSBpbnN0YW5jZW9mIFdlYWtTZXQ/YWUuYWRkKHopOmFlLnNldCh6LHBlKX0semU9KHosYWUscGUsc2UpPT4oYmkoeixhZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLHNlP3NlLmNhbGwoeixwZSk6YWUuc2V0KHoscGUpLHBlKSxIdD0oeixhZSxwZSxzZSk9Pih7c2V0IF8oQWUpe3plKHosYWUsQWUscGUpfSxnZXQgXygpe3JldHVybiBWKHosYWUsc2UpfX0pLGJuPSh6LGFlLHBlKT0+KGJpKHosYWUsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLHBlKTsoZnVuY3Rpb24oKXt2YXIgTWUsenQsdXQsR3QsdHQsWWUsSWUsSXIscnQsc3Isb3IsWGUsdXIsT3IsRW47InVzZSBzdHJpY3QiO3ZhciB6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5XaXRoaW5FcHNpbG9uPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9MTQwMTI5OGUtNTEpLE1hdGguYWJzKGUtdCk8PXJ9LGkuVG9IZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIGU8PTE1PygiMCIrdCkudG9VcHBlckNhc2UoKTp0LnRvVXBwZXJDYXNlKCl9LGkuU2lnbj1mdW5jdGlvbihlKXtyZXR1cm4gZT0rZSxlPT09MHx8aXNOYU4oZSk/ZTplPjA/MTotMX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTEpLE1hdGgubWluKHIsTWF0aC5tYXgodCxlKSl9LGkuTG9nMj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5sb2coZSkqTWF0aC5MT0cyRX0saS5JTG9nMj1mdW5jdGlvbihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO3ZhciB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH0saS5SZXBlYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS1NYXRoLmZsb29yKGUvdCkqdH0saS5Ob3JtYWxpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybihlLXQpLyhyLXQpfSxpLkRlbm9ybWFsaXplPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSooci10KSt0fSxpLkRlbHRhQW5nbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcj4xODAmJihyLT0zNjApLHJ9LGkuUGluZ1Bvbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlJlcGVhdChlLHQqMik7cmV0dXJuIHQtTWF0aC5hYnMoci10KX0saS5TbW9vdGhTdGVwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLkNsYW1wKHIpO3JldHVybiBuPS0yKm4qbipuKzMqbipuLHQqbitlKigxLW4pfSxpLk1vdmVUb3dhcmRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1yP249dDpuPWUraS5TaWduKHQtZSkqcixufSxpLk1vdmVUb3dhcmRzQW5nbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuRGVsdGFBbmdsZShlLHQpLGE9MDtyZXR1cm4tcjxuJiZuPHI/YT10Oih0PWUrbixhPWkuTW92ZVRvd2FyZHMoZSx0LHIpKSxhfSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlKyh0LWUpKnJ9LGkuTGVycEFuZ2xlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gbj4xODAmJihuLT0zNjApLGUrbippLkNsYW1wKHIpfSxpLkludmVyc2VMZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0wO3JldHVybiBlIT10P249aS5DbGFtcCgoci1lKS8odC1lKSk6bj0wLG59LGkuSGVybWl0ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PTIqby0zKnMrMSxmPS0yKm8rMypzLGw9by0yKnMrYSxoPW8tcztyZXR1cm4gZSp1K3IqZit0KmwrbipofSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphO3JldHVybihzLWEpKjYqZSsoMypzLTQqYSsxKSp0KygtcythKSo2KnIrKDMqcy0yKmEpKm59LGkuUmFuZG9tUmFuZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/ZTpNYXRoLnJhbmRvbSgpKih0LWUpK2V9LGkuUmFuZ2VUb1BlcmNlbnQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybihlLXQpLyhyLXQpfSxpLlBlcmNlbnRUb1JhbmdlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4oci10KSplK3R9LGkuTm9ybWFsaXplUmFkaWFucz1mdW5jdGlvbihlKXtyZXR1cm4gZS09aS5Ud29QaSpNYXRoLmZsb29yKChlK01hdGguUEkpL2kuVHdvUGkpLGV9LGkuSENGPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSV0O3JldHVybiByPT09MD90OmkuSENGKHQscil9LGkuVHdvUGk9TWF0aC5QSSoyLGl9KCksYWU9MS8yLjIscGU9Mi4yLHNlPS4wMDEsQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkJ1aWxkQXJyYXk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZTsrK24pci5wdXNoKHQoKSk7cmV0dXJuIHJ9LGkuQnVpbGRUdXBsZT1mdW5jdGlvbihlLHQpe3JldHVybiBpLkJ1aWxkQXJyYXkoZSx0KX0saX0oKSxFaT17fTtmdW5jdGlvbiB3ZShpLGUpe0VpW2ldPWV9ZnVuY3Rpb24gUnQoaSl7cmV0dXJuIEVpW2ldfXZhciBQdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuU2V0TWF0cml4UHJlY2lzaW9uPWZ1bmN0aW9uKGUpe2lmKGkuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2U9ITEsZSYmIWkuTWF0cml4VXNlNjRCaXRzJiZpLk1hdHJpeFRyYWNrZWRNYXRyaWNlcylmb3IodmFyIHQ9MDt0PGkuTWF0cml4VHJhY2tlZE1hdHJpY2VzLmxlbmd0aDsrK3Qpe3ZhciByPWkuTWF0cml4VHJhY2tlZE1hdHJpY2VzW3RdLG49ci5fbTtyLl9tPW5ldyBBcnJheSgxNik7Zm9yKHZhciBhPTA7YTwxNjsrK2Epci5fbVthXT1uW2FdfWkuTWF0cml4VXNlNjRCaXRzPWUsaS5NYXRyaXhDdXJyZW50VHlwZT1pLk1hdHJpeFVzZTY0Qml0cz9BcnJheTpGbG9hdDMyQXJyYXksaS5NYXRyaXhUcmFja2VkTWF0cmljZXM9bnVsbH0saS5NYXRyaXhVc2U2NEJpdHM9ITEsaS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMCxpLk1hdHJpeEN1cnJlbnRUeXBlPUZsb2F0MzJBcnJheSxpLk1hdHJpeFRyYWNrZWRNYXRyaWNlcz1bXSxpfSgpLHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxhc3RDcmVhdGVkRW5naW5lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSW5zdGFuY2VzLmxlbmd0aD09PTA/bnVsbDp0aGlzLkluc3RhbmNlc1t0aGlzLkluc3RhbmNlcy5sZW5ndGgtMV19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxhc3RDcmVhdGVkU2NlbmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fTGFzdENyZWF0ZWRTY2VuZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkluc3RhbmNlcz1uZXcgQXJyYXksaS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsLGkuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGkuRmFsbGJhY2tUZXh0dXJlPSIiLGl9KCksTGU9ZnVuY3Rpb24oaSl7cmV0dXJuIHBhcnNlSW50KGkudG9TdHJpbmcoKS5yZXBsYWNlKC9cVy9nLCIiKSl9LFNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHRoaXMueD1lLHRoaXMueT10fXJldHVybiBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7WDogIi5jb25jYXQodGhpcy54LCIgWTogIikuY29uY2F0KHRoaXMueSwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVmVjdG9yMiJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9TGUodGhpcy54KSx0PUxlKHRoaXMueSkscj1lO3JldHVybiByPXIqMzk3XnQscn0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54K2UueCx0aGlzLnkrZS55KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdGhpc30saS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30saS5wcm90b3R5cGUuYWRkVmVjdG9yMz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54K2UueCx0aGlzLnkrZS55KX0saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC1lLngsdGhpcy55LWUueSl9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3RJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngqZS54LHRoaXMueSplLnkpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5QnlGbG9hdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQpfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC9lLngsdGhpcy55L2UueSl9LGkucHJvdG90eXBlLmRpdmlkZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHRoaXN9LGkucHJvdG90eXBlLmRpdmlkZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC10aGlzLngsLXRoaXMueSl9LGkucHJvdG90eXBlLm5lZ2F0ZUluUGxhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEpfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoMCwwKTtyZXR1cm4gdGhpcy5zY2FsZVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHRoaXN9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LGkucHJvdG90eXBlLmVxdWFsc1dpdGhFcHNpbG9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PXNlKSxlJiZ6LldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9LGkucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSkpfSxpLnByb3RvdHlwZS5mcmFjdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSkpfSxpLnByb3RvdHlwZS5yb3RhdGVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHQueD1yKnRoaXMueC1uKnRoaXMueSx0Lnk9bip0aGlzLngrcip0aGlzLnksdGhpc30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX0saS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngsdGhpcy55KX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCl9LGkuT25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXX0saS5DYXRtdWxsUm9tPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9LjUqKDIqdC54KygtZS54K3IueCkqYSsoMiplLngtNSp0LngrNCpyLngtbi54KSpzKygtZS54KzMqdC54LTMqci54K24ueCkqbyksZj0uNSooMip0LnkrKC1lLnkrci55KSphKygyKmUueS01KnQueSs0KnIueS1uLnkpKnMrKC1lLnkrMyp0LnktMypyLnkrbi55KSpvKTtyZXR1cm4gbmV3IGkodSxmKX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS54O249bj5yLng/ci54Om4sbj1uPHQueD90Lng6bjt2YXIgYT1lLnk7cmV0dXJuIGE9YT5yLnk/ci55OmEsYT1hPHQueT90Lnk6YSxuZXcgaShuLGEpfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLngqdStyLngqZit0LngqbCtuLngqaCxkPWUueSp1K3IueSpmK3QueSpsK24ueSpoO3JldHVybiBuZXcgaShjLGQpfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9aS5aZXJvKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy54PShvLWEpKjYqZS54KygzKm8tNCphKzEpKnQueCsoLW8rYSkqNipyLngrKDMqby0yKmEpKm4ueCxzLnk9KG8tYSkqNiplLnkrKDMqby00KmErMSkqdC55KygtbythKSo2KnIueSsoMypvLTIqYSkqbi55fSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUueCsodC54LWUueCkqcixhPWUueSsodC55LWUueSkqcjtyZXR1cm4gbmV3IGkobixhKX0saS5Eb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD1pLlplcm8oKTtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9LGkuTm9ybWFsaXplVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmxlbmd0aCgpO3IhPT0wJiYodC54PWUueC9yLHQueT1lLnkvcil9LGkuTWluaW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLng8dC54P2UueDp0Lngsbj1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBpKHIsbil9LGkuTWF4aW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLng+dC54P2UueDp0Lngsbj1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBpKHIsbil9LGkuVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuVHJhbnNmb3JtVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQubSxhPWUueCpuWzBdK2UueSpuWzRdK25bMTJdLHM9ZS54Km5bMV0rZS55Km5bNV0rblsxM107ci54PWEsci55PXN9LGkuUG9pbnRJblRyaWFuZ2xlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPS41Kigtci55Km4ueCt0LnkqKC1yLngrbi54KSt0LngqKHIueS1uLnkpK3IueCpuLnkpLHM9YTwwPy0xOjEsbz0odC55Km4ueC10Lngqbi55KyhuLnktdC55KSplLngrKHQueC1uLngpKmUueSkqcyx1PSh0Lngqci55LXQueSpyLngrKHQueS1yLnkpKmUueCsoci54LXQueCkqZS55KSpzO3JldHVybiBvPjAmJnU+MCYmbyt1PDIqYSpzfSxpLkRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguc3FydChpLkRpc3RhbmNlU3F1YXJlZChlLHQpKX0saS5EaXN0YW5jZVNxdWFyZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLngtdC54LG49ZS55LXQueTtyZXR1cm4gcipyK24qbn0saS5DZW50ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5DZW50ZXJUb1JlZihlLHQsaS5aZXJvKCkpfSxpLkNlbnRlclRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5jb3B5RnJvbUZsb2F0cygoZS54K3QueCkvMiwoZS55K3QueSkvMil9LGkuRGlzdGFuY2VPZlBvaW50RnJvbVNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuRGlzdGFuY2VTcXVhcmVkKHQscik7aWYobj09PTApcmV0dXJuIGkuRGlzdGFuY2UoZSx0KTt2YXIgYT1yLnN1YnRyYWN0KHQpLHM9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGkuRG90KGUuc3VidHJhY3QodCksYSkvbikpLG89dC5hZGQoYS5tdWx0aXBseUJ5RmxvYXRzKHMscykpO3JldHVybiBpLkRpc3RhbmNlKGUsbyl9LGl9KCksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLHRoaXMuX2lzRGlydHk9ITAsdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLl94LCIgWTogIikuY29uY2F0KHRoaXMuX3ksIiBaOiAiKS5jb25jYXQodGhpcy5feiwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVmVjdG9yMyJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9TGUodGhpcy5feCksdD1MZSh0aGlzLl95KSxyPUxlKHRoaXMuX3opLG49ZTtyZXR1cm4gbj1uKjM5N150LG49biozOTdecixufSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS50b1F1YXRlcm5pb249ZnVuY3Rpb24oKXtyZXR1cm4gaWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5feSx0aGlzLl94LHRoaXMuX3opfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZEluUGxhY2VGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUuYWRkSW5QbGFjZUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9cix0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3grZS5feCx0aGlzLl95K2UuX3ksdGhpcy5feitlLl96KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9LGkucHJvdG90eXBlLnN1YnRyYWN0SW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gtZS5feCx0aGlzLl95LWUuX3ksdGhpcy5fei1lLl96KX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgaSh0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otcil9LGkucHJvdG90eXBlLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gtZSx0aGlzLl95LXQsdGhpcy5fei1yKX0saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96KX0saS5wcm90b3R5cGUubmVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfSxpLnByb3RvdHlwZS5uZWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLl94Ki0xLHRoaXMuX3kqLTEsdGhpcy5feiotMSl9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUudyp0aGlzLngrZS55KnRoaXMuei1lLnoqdGhpcy55LG49ZS53KnRoaXMueStlLnoqdGhpcy54LWUueCp0aGlzLnosYT1lLncqdGhpcy56K2UueCp0aGlzLnktZS55KnRoaXMueCxzPS1lLngqdGhpcy54LWUueSp0aGlzLnktZS56KnRoaXMuejtyZXR1cm4gdC54PXIqZS53K3MqLWUueCtuKi1lLnotYSotZS55LHQueT1uKmUudytzKi1lLnkrYSotZS54LXIqLWUueix0Lno9YSplLncrcyotZS56K3IqLWUueS1uKi1lLngsdH0saS5wcm90b3R5cGUuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25JblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUuYXBwbHlSb3RhdGlvblF1YXRlcm5pb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZihlLGkuWmVybygpKX0saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmFkZEluUGxhY2VGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUucHJvamVjdE9uUGxhbmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gdGhpcy5wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxyKSxyfSxpLnByb3RvdHlwZS5wcm9qZWN0T25QbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLm5vcm1hbCxhPWUuZCxzPVUuVmVjdG9yM1swXTt0aGlzLnN1YnRyYWN0VG9SZWYodCxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBvPWkuRG90KHMsbiksdT0tKGkuRG90KHQsbikrYSkvbyxmPXMuc2NhbGVJblBsYWNlKHUpO3QuYWRkVG9SZWYoZixyKX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96fSxpLnByb3RvdHlwZS5lcXVhbHNXaXRoRXBzaWxvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1zZSksZSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KX0saS5wcm90b3R5cGUuZXF1YWxzVG9GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl94PT09ZSYmdGhpcy5feT09PXQmJnRoaXMuX3o9PT1yfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5QnlGbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLl94LHRoaXMuX3kqZS5feSx0aGlzLl96KmUuX3opfSxpLnByb3RvdHlwZS5tdWx0aXBseUJ5RmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IGkodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KnIpfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gvZS5feCx0aGlzLl95L2UuX3ksdGhpcy5fei9lLl96KX0saS5wcm90b3R5cGUuZGl2aWRlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94L2UuX3gsdGhpcy5feS9lLl95LHRoaXMuX3ovZS5feil9LGkucHJvdG90eXBlLmRpdmlkZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUubWluaW1pemVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLHI8dGhpcy5feiYmKHRoaXMuej1yKSx0aGlzfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT50aGlzLl94JiYodGhpcy54PWUpLHQ+dGhpcy5feSYmKHRoaXMueT10KSxyPnRoaXMuX3omJih0aGlzLno9ciksdGhpc30saS5wcm90b3R5cGUuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbj1mdW5jdGlvbihlKXt2YXIgdD1NYXRoLmFicyh0aGlzLl94KSxyPU1hdGguYWJzKHRoaXMuX3kpO2lmKCF6LldpdGhpbkVwc2lsb24odCxyLGUpKXJldHVybiEwO3ZhciBuPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiF6LldpdGhpbkVwc2lsb24odCxuLGUpfHwhei5XaXRoaW5FcHNpbG9uKHIsbixlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc05vblVuaWZvcm0iLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLmFicyh0aGlzLl94KSx0PU1hdGguYWJzKHRoaXMuX3kpO2lmKGUhPT10KXJldHVybiEwO3ZhciByPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiBlIT09cn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiBuZXcgaShNYXRoLmZsb29yKHRoaXMuX3gpLE1hdGguZmxvb3IodGhpcy5feSksTWF0aC5mbG9vcih0aGlzLl96KSl9LGkucHJvdG90eXBlLmZyYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feil9LGkucHJvdG90eXBlLmxlbmd0aFNxdWFyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3p9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzQVplcm9Db21wb25lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feCp0aGlzLl95KnRoaXMuX3o9PT0wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vcm1hbGl6ZUZyb21MZW5ndGgodGhpcy5sZW5ndGgoKSl9LGkucHJvdG90eXBlLnJlb3JkZXJJblBsYWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLGU9PT0ieHl6Ij90aGlzOihVLlZlY3RvcjNbMF0uY29weUZyb20odGhpcyksWyJ4IiwieSIsInoiXS5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dFtyXT1VLlZlY3RvcjNbMF1bZVtuXV19KSx0aGlzKX0saS5wcm90b3R5cGUucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b1JvdGF0aW9uTWF0cml4KFUuTWF0cml4WzBdKSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcyxVLk1hdHJpeFswXSx0KSx0fSxpLnByb3RvdHlwZS5yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsVS5WZWN0b3IzWzBdKSxVLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxVLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoVS5WZWN0b3IzWzBdLHIpLHJ9LGkucHJvdG90eXBlLmNyb3NzPWZ1bmN0aW9uKGUpe3JldHVybiBpLkNyb3NzKHRoaXMsZSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZUZyb21MZW5ndGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0wfHxlPT09MT90aGlzOnRoaXMuc2NhbGVJblBsYWNlKDEvZSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZVRvTmV3PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGkoMCwwLDApO3JldHVybiB0aGlzLm5vcm1hbGl6ZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLm5vcm1hbGl6ZVRvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLl94LHRoaXMuX3ksdGhpcy5feil9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej1lLHRoaXN9LGkuR2V0Q2xpcEZhY3Rvcj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1pLkRvdChlLHIpLW4scz1pLkRvdCh0LHIpLW4sbz1hLyhhLXMpO3JldHVybiBvfSxpLkdldEFuZ2xlQmV0d2VlblZlY3RvcnM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUubm9ybWFsaXplVG9SZWYoVS5WZWN0b3IzWzFdKSxhPXQubm9ybWFsaXplVG9SZWYoVS5WZWN0b3IzWzJdKSxzPWkuRG90KG4sYSk7cz16LkNsYW1wKHMsLTEsMSk7dmFyIG89TWF0aC5hY29zKHMpLHU9VS5WZWN0b3IzWzNdO3JldHVybiBpLkNyb3NzVG9SZWYobixhLHUpLGkuRG90KHUscik+MD9pc05hTihvKT8wOm86aXNOYU4obyk/LU1hdGguUEk6LU1hdGguYWNvcyhzKX0saS5HZXRBbmdsZUJldHdlZW5WZWN0b3JzT25QbGFuZT1mdW5jdGlvbihlLHQscil7VS5WZWN0b3IzWzBdLmNvcHlGcm9tKGUpO3ZhciBuPVUuVmVjdG9yM1swXTtVLlZlY3RvcjNbMV0uY29weUZyb20odCk7dmFyIGE9VS5WZWN0b3IzWzFdO1UuVmVjdG9yM1syXS5jb3B5RnJvbShyKTt2YXIgcz1VLlZlY3RvcjNbMl0sbz1VLlZlY3RvcjNbM10sdT1VLlZlY3RvcjNbNF07bi5ub3JtYWxpemUoKSxhLm5vcm1hbGl6ZSgpLHMubm9ybWFsaXplKCksaS5Dcm9zc1RvUmVmKHMsbixvKSxpLkNyb3NzVG9SZWYobyxzLHUpO3ZhciBmPU1hdGguYXRhbjIoaS5Eb3QoYSxvKSxpLkRvdChhLHUpKTtyZXR1cm4gei5Ob3JtYWxpemVSYWRpYW5zKGYpfSxpLlNsZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7cj16LkNsYW1wKHIsMCwxKTt2YXIgYT1VLlZlY3RvcjNbMF0scz1VLlZlY3RvcjNbMV07YS5jb3B5RnJvbShlKTt2YXIgbz1hLmxlbmd0aCgpO2Eubm9ybWFsaXplRnJvbUxlbmd0aChvKSxzLmNvcHlGcm9tKHQpO3ZhciB1PXMubGVuZ3RoKCk7cy5ub3JtYWxpemVGcm9tTGVuZ3RoKHUpO3ZhciBmPWkuRG90KGEscyksbCxoO2lmKGY8MS1zZSl7dmFyIGM9TWF0aC5hY29zKGYpLGQ9MS9NYXRoLnNpbihjKTtsPU1hdGguc2luKCgxLXIpKmMpKmQsaD1NYXRoLnNpbihyKmMpKmR9ZWxzZSBsPTEtcixoPXI7YS5zY2FsZUluUGxhY2UobCkscy5zY2FsZUluUGxhY2UoaCksbi5jb3B5RnJvbShhKS5hZGRJblBsYWNlKHMpLG4uc2NhbGVJblBsYWNlKHouTGVycChvLHUscikpfSxpLlNtb290aFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aS5TbGVycFRvUmVmKGUsdCxuPT09MD8xOnIvbixhKX0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdKX0saS5Gcm9tRmxvYXRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiBpLkZyb21BcnJheShlLHQpfSxpLkZyb21BcnJheVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyLng9ZVt0XSxyLnk9ZVt0KzFdLHIuej1lW3QrMl19LGkuRnJvbUZsb2F0QXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuRnJvbUFycmF5VG9SZWYoZSx0LHIpfSxpLkZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuKXtuLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwKX0saS5PbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDEpfSxpLlVwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMSwwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVwUmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fVXBSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmlnaHRSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9SaWdodFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMZWZ0UmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fTGVmdFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJaZXJvUmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fWmVyb1JlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuRG93bj1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLC0xLDApfSxpLkZvcndhcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSxuZXcgaSgwLDAsZT8tMToxKX0saS5CYWNrd2FyZD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLG5ldyBpKDAsMCxlPzE6LTEpfSxpLlJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMCwwKX0saS5MZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC0xLDAsMCl9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxyKSxyfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2kuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyKX0saS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ubSxvPWUqc1swXSt0KnNbNF0rcipzWzhdK3NbMTJdLHU9ZSpzWzFdK3Qqc1s1XStyKnNbOV0rc1sxM10sZj1lKnNbMl0rdCpzWzZdK3Iqc1sxMF0rc1sxNF0sbD0xLyhlKnNbM10rdCpzWzddK3Iqc1sxMV0rc1sxNV0pO2EueD1vKmwsYS55PXUqbCxhLno9ZipsfSxpLlRyYW5zZm9ybU5vcm1hbD1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxyKSxyfSxpLlRyYW5zZm9ybU5vcm1hbFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LHIpfSxpLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ubTthLng9ZSpzWzBdK3Qqc1s0XStyKnNbOF0sYS55PWUqc1sxXSt0KnNbNV0rcipzWzldLGEuej1lKnNbMl0rdCpzWzZdK3Iqc1sxMF19LGkuQ2F0bXVsbFJvbT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PS41KigyKnQuX3grKC1lLl94K3IuX3gpKmErKDIqZS5feC01KnQuX3grNCpyLl94LW4uX3gpKnMrKC1lLl94KzMqdC5feC0zKnIuX3grbi5feCkqbyksZj0uNSooMip0Ll95KygtZS5feStyLl95KSphKygyKmUuX3ktNSp0Ll95KzQqci5feS1uLl95KSpzKygtZS5feSszKnQuX3ktMypyLl95K24uX3kpKm8pLGw9LjUqKDIqdC5feisoLWUuX3orci5feikqYSsoMiplLl96LTUqdC5feis0KnIuX3otbi5feikqcysoLWUuX3orMyp0Ll96LTMqci5feituLl96KSpvKTtyZXR1cm4gbmV3IGkodSxmLGwpfSxpLkNsYW1wPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5DbGFtcFRvUmVmKGUsdCxyLG4pLG59LGkuQ2xhbXBUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1lLl94O2E9YT5yLl94P3IuX3g6YSxhPWE8dC5feD90Ll94OmE7dmFyIHM9ZS5feTtzPXM+ci5feT9yLl95OnMscz1zPHQuX3k/dC5feTpzO3ZhciBvPWUuX3o7bz1vPnIuX3o/ci5fejpvLG89bzx0Ll96P3QuX3o6byxuLmNvcHlGcm9tRmxvYXRzKGEscyxvKX0saS5DaGVja0V4dGVuZHM9ZnVuY3Rpb24oZSx0LHIpe3QubWluaW1pemVJblBsYWNlKGUpLHIubWF4aW1pemVJblBsYWNlKGUpfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLl94KnUrci5feCpmK3QuX3gqbCtuLl94KmgsZD1lLl95KnUrci5feSpmK3QuX3kqbCtuLl95KmgscD1lLl96KnUrci5feipmK3QuX3oqbCtuLl96Kmg7cmV0dXJuIG5ldyBpKGMsZCxwKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuWmVybygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3MueD0oby1hKSo2KmUueCsoMypvLTQqYSsxKSp0LngrKC1vK2EpKjYqci54KygzKm8tMiphKSpuLngscy55PShvLWEpKjYqZS55KygzKm8tNCphKzEpKnQueSsoLW8rYSkqNipyLnkrKDMqby0yKmEpKm4ueSxzLno9KG8tYSkqNiplLnorKDMqby00KmErMSkqdC56KygtbythKSo2KnIueisoMypvLTIqYSkqbi56fSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwKTtyZXR1cm4gaS5MZXJwVG9SZWYoZSx0LHIsbiksbn0saS5MZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi54PWUuX3grKHQuX3gtZS5feCkqcixuLnk9ZS5feSsodC5feS1lLl95KSpyLG4uej1lLl96Kyh0Ll96LWUuX3opKnJ9LGkuRG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96fSxpLkNyb3NzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuQ3Jvc3NUb1JlZihlLHQscikscn0saS5Dcm9zc1RvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLl95KnQuX3otZS5feip0Ll95LGE9ZS5feip0Ll94LWUuX3gqdC5feixzPWUuX3gqdC5feS1lLl95KnQuX3g7ci5jb3B5RnJvbUZsb2F0cyhuLGEscyl9LGkuTm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWkuWmVybygpO3JldHVybiBpLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH0saS5Ob3JtYWxpemVUb1JlZj1mdW5jdGlvbihlLHQpe2Uubm9ybWFsaXplVG9SZWYodCl9LGkuUHJvamVjdD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uZXcgaTtyZXR1cm4gaS5Qcm9qZWN0VG9SZWYoZSx0LHIsbixhKSxhfSxpLlByb2plY3RUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ud2lkdGgsbz1uLmhlaWdodCx1PW4ueCxmPW4ueSxsPVUuTWF0cml4WzFdO0kuRnJvbVZhbHVlc1RvUmVmKHMvMiwwLDAsMCwwLC1vLzIsMCwwLDAsMCwuNSwwLHUrcy8yLG8vMitmLC41LDEsbCk7dmFyIGg9VS5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihyLGgpLGgubXVsdGlwbHlUb1JlZihsLGgpLGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLGgsYSksYX0saS5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2kuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQscik7dmFyIG49dC5tLGE9ZS5feCpuWzNdK2UuX3kqbls3XStlLl96Km5bMTFdK25bMTVdO3ouV2l0aGluRXBzaWxvbihhLDEpJiZyLnNjYWxlSW5QbGFjZSgxL2EpfSxpLlVucHJvamVjdEZyb21UcmFuc2Zvcm09ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdGhpcy5VbnByb2plY3QoZSx0LHIsbixhLEkuSWRlbnRpdHlSZWFkT25seSl9LGkuVW5wcm9qZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1pLlplcm8oKTtyZXR1cm4gaS5VbnByb2plY3RUb1JlZihlLHQscixuLGEscyxvKSxvfSxpLlVucHJvamVjdFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe2kuVW5wcm9qZWN0RmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyLG4sYSxzLG8pfSxpLlVucHJvamVjdEZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXt2YXIgbCxoPVUuTWF0cml4WzBdO3MubXVsdGlwbHlUb1JlZihvLGgpLGgubXVsdGlwbHlUb1JlZih1LGgpLGguaW52ZXJ0KCk7dmFyIGM9VS5WZWN0b3IzWzBdO2MueD1lL24qMi0xLGMueT0tKHQvYSoyLTEpLCEoKGw9cmUuTGFzdENyZWF0ZWRFbmdpbmUpPT09bnVsbHx8bD09PXZvaWQgMCkmJmwuaXNORENIYWxmWlJhbmdlP2Muej1yOmMuej0yKnItMSxpLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihjLGgsZil9LGkuTWluaW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNsb25lKCk7cmV0dXJuIHIubWluaW1pemVJblBsYWNlKHQpLHJ9LGkuTWF4aW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNsb25lKCk7cmV0dXJuIHIubWF4aW1pemVJblBsYWNlKHQpLHJ9LGkuRGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KGkuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfSxpLkRpc3RhbmNlU3F1YXJlZD1mdW5jdGlvbihlLHQpe3ZhciByPWUuX3gtdC5feCxuPWUuX3ktdC5feSxhPWUuX3otdC5fejtyZXR1cm4gcipyK24qbithKmF9LGkuUHJvamVjdE9uVHJpYW5nbGVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPVUuVmVjdG9yM1swXSxvPVUuVmVjdG9yM1sxXSx1PVUuVmVjdG9yM1syXSxmPVUuVmVjdG9yM1szXSxsPVUuVmVjdG9yM1s0XTtyLnN1YnRyYWN0VG9SZWYodCxzKSxuLnN1YnRyYWN0VG9SZWYodCxvKSxuLnN1YnRyYWN0VG9SZWYocix1KTt2YXIgaD1zLmxlbmd0aCgpLGM9by5sZW5ndGgoKSxkPXUubGVuZ3RoKCk7aWYoaDxzZXx8YzxzZXx8ZDxzZSlyZXR1cm4gYS5jb3B5RnJvbSh0KSxpLkRpc3RhbmNlKGUsdCk7ZS5zdWJ0cmFjdFRvUmVmKHQsbCksaS5Dcm9zc1RvUmVmKHMsbyxmKTt2YXIgcD1mLmxlbmd0aCgpO2lmKHA8c2UpcmV0dXJuIGEuY29weUZyb20odCksaS5EaXN0YW5jZShlLHQpO2Yubm9ybWFsaXplRnJvbUxlbmd0aChwKTt2YXIgZz1sLmxlbmd0aCgpO2lmKGc8c2UpcmV0dXJuIGEuY29weUZyb20odCksMDtsLm5vcm1hbGl6ZUZyb21MZW5ndGgoZyk7dmFyIF89aS5Eb3QoZixsKSx2PVUuVmVjdG9yM1s1XSx5PVUuVmVjdG9yM1s2XTt2LmNvcHlGcm9tKGYpLnNjYWxlSW5QbGFjZSgtZypfKSx5LmNvcHlGcm9tKGUpLmFkZEluUGxhY2Uodik7dmFyIEU9VS5WZWN0b3IzWzRdLFI9VS5WZWN0b3IzWzVdLE09VS5WZWN0b3IzWzddLEM9VS5WZWN0b3IzWzhdO0UuY29weUZyb20ocykuc2NhbGVJblBsYWNlKDEvaCksQy5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoMS9jKSxFLmFkZEluUGxhY2UoQykuc2NhbGVJblBsYWNlKC0xKSxSLmNvcHlGcm9tKHMpLnNjYWxlSW5QbGFjZSgtMS9oKSxDLmNvcHlGcm9tKHUpLnNjYWxlSW5QbGFjZSgxL2QpLFIuYWRkSW5QbGFjZShDKS5zY2FsZUluUGxhY2UoLTEpLE0uY29weUZyb20odSkuc2NhbGVJblBsYWNlKC0xL2QpLEMuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xL2MpLE0uYWRkSW5QbGFjZShDKS5zY2FsZUluUGxhY2UoLTEpO3ZhciBBPVUuVmVjdG9yM1s5XSxTO0EuY29weUZyb20oeSkuc3VidHJhY3RJblBsYWNlKHQpLGkuQ3Jvc3NUb1JlZihFLEEsQyksUz1pLkRvdChDLGYpO3ZhciB3PVM7QS5jb3B5RnJvbSh5KS5zdWJ0cmFjdEluUGxhY2UociksaS5Dcm9zc1RvUmVmKFIsQSxDKSxTPWkuRG90KEMsZik7dmFyIEY9UztBLmNvcHlGcm9tKHkpLnN1YnRyYWN0SW5QbGFjZShuKSxpLkNyb3NzVG9SZWYoTSxBLEMpLFM9aS5Eb3QoQyxmKTt2YXIgeD1TLEc9VS5WZWN0b3IzWzEwXSxXLE47dz4wJiZGPDA/KEcuY29weUZyb20ocyksVz10LE49cik6Rj4wJiZ4PDA/KEcuY29weUZyb20odSksVz1yLE49bik6KEcuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xKSxXPW4sTj10KTt2YXIgcT1VLlZlY3RvcjNbOV0sJD1VLlZlY3RvcjNbNF07Vy5zdWJ0cmFjdFRvUmVmKHksQyksTi5zdWJ0cmFjdFRvUmVmKHkscSksaS5Dcm9zc1RvUmVmKEMscSwkKTt2YXIgb2U9aS5Eb3QoJCxmKTwwO2lmKCFvZSlyZXR1cm4gYS5jb3B5RnJvbSh5KSxNYXRoLmFicyhnKl8pO3ZhciBaPVUuVmVjdG9yM1s1XTtpLkNyb3NzVG9SZWYoRywkLFopLFoubm9ybWFsaXplKCk7dmFyIGo9VS5WZWN0b3IzWzldO2ouY29weUZyb20oVykuc3VidHJhY3RJblBsYWNlKHkpO3ZhciB1ZT1qLmxlbmd0aCgpO2lmKHVlPHNlKXJldHVybiBhLmNvcHlGcm9tKFcpLGkuRGlzdGFuY2UoZSxXKTtqLm5vcm1hbGl6ZUZyb21MZW5ndGgodWUpO3ZhciBQZT1pLkRvdChaLGopLFdlPVUuVmVjdG9yM1s3XTtXZS5jb3B5RnJvbSh5KS5hZGRJblBsYWNlKFouc2NhbGVJblBsYWNlKHVlKlBlKSksQy5jb3B5RnJvbShXZSkuc3VidHJhY3RJblBsYWNlKFcpLGc9Ry5sZW5ndGgoKSxHLm5vcm1hbGl6ZUZyb21MZW5ndGgoZyk7dmFyIFplPWkuRG90KEMsRykvTWF0aC5tYXgoZyxzZSk7cmV0dXJuIFplPXouQ2xhbXAoWmUsMCwxKSxXZS5jb3B5RnJvbShXKS5hZGRJblBsYWNlKEcuc2NhbGVJblBsYWNlKFplKmcpKSxhLmNvcHlGcm9tKFdlKSxpLkRpc3RhbmNlKGUsV2UpfSxpLkNlbnRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLkNlbnRlclRvUmVmKGUsdCxpLlplcm8oKSl9LGkuQ2VudGVyVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmNvcHlGcm9tRmxvYXRzKChlLl94K3QuX3gpLzIsKGUuX3krdC5feSkvMiwoZS5feit0Ll96KS8yKX0saS5Sb3RhdGlvbkZyb21BeGlzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLlplcm8oKTtyZXR1cm4gaS5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvbkZyb21BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9VS5RdWF0ZXJuaW9uWzBdO2llLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LHIsYSksYS50b0V1bGVyQW5nbGVzVG9SZWYobil9LGkuX1VwUmVhZE9ubHk9aS5VcCgpLGkuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9aS5Gb3J3YXJkKCExKSxpLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seT1pLkZvcndhcmQoITApLGkuX1JpZ2h0UmVhZE9ubHk9aS5SaWdodCgpLGkuX0xlZnRSZWFkT25seT1pLkxlZnQoKSxpLl9aZXJvUmVhZE9ubHk9aS5aZXJvKCksaX0oKSxtdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PXIsdGhpcy53PW59cmV0dXJuIGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLngsIiBZOiAiKS5jb25jYXQodGhpcy55LCIgWjogIikuY29uY2F0KHRoaXMueiwiIFc6ICIpLmNvbmNhdCh0aGlzLncsIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlZlY3RvcjQifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMueCksdD1MZSh0aGlzLnkpLHI9TGUodGhpcy56KSxuPUxlKHRoaXMudyksYT1lO3JldHVybiBhPWEqMzk3XnQsYT1hKjM5N15yLGE9YSozOTdebixhfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksZVt0KzJdPXRoaXMueixlW3QrM109dGhpcy53LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueCtlLngsdGhpcy55K2UueSx0aGlzLnorZS56LHRoaXMudytlLncpfSxpLnByb3RvdHlwZS5hZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0Lno9dGhpcy56K2Uueix0Lnc9dGhpcy53K2Uudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngtZS54LHRoaXMueS1lLnksdGhpcy56LWUueix0aGlzLnctZS53KX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54LWUueCx0Lnk9dGhpcy55LWUueSx0Lno9dGhpcy56LWUueix0Lnc9dGhpcy53LWUudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1yLHRoaXMudy1uKX0saS5wcm90b3R5cGUuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gYS54PXRoaXMueC1lLGEueT10aGlzLnktdCxhLno9dGhpcy56LXIsYS53PXRoaXMudy1uLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy54LC10aGlzLnksLXRoaXMueiwtdGhpcy53KX0saS5wcm90b3R5cGUubmVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEsdGhpcy56Ki0xLHRoaXMudyotMSl9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0Lno9dGhpcy56KmUsdC53PXRoaXMudyplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHQueis9dGhpcy56KmUsdC53Kz10aGlzLncqZSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud30saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9c2UpLGUmJnouV2l0aGluRXBzaWxvbih0aGlzLngsZS54LHQpJiZ6LldpdGhpbkVwc2lsb24odGhpcy55LGUueSx0KSYmei5XaXRoaW5FcHNpbG9uKHRoaXMueixlLnosdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLncsZS53LHQpfSxpLnByb3RvdHlwZS5lcXVhbHNUb0Zsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09ciYmdGhpcy53PT09bn0saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzLnoqPWUueix0aGlzLncqPWUudyx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54KmUueCx0aGlzLnkqZS55LHRoaXMueiplLnosdGhpcy53KmUudyl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlCeUZsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQsdGhpcy56KnIsdGhpcy53Km4pfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC9lLngsdGhpcy55L2UueSx0aGlzLnovZS56LHRoaXMudy9lLncpfSxpLnByb3RvdHlwZS5kaXZpZGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0aGlzfSxpLnByb3RvdHlwZS5kaXZpZGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS54PHRoaXMueCYmKHRoaXMueD1lLngpLGUueTx0aGlzLnkmJih0aGlzLnk9ZS55KSxlLno8dGhpcy56JiYodGhpcy56PWUueiksZS53PHRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9LGkucHJvdG90eXBlLm1heGltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9LGkucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSksTWF0aC5mbG9vcih0aGlzLnopLE1hdGguZmxvb3IodGhpcy53KSl9LGkucHJvdG90eXBlLmZyYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueC1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55LU1hdGguZmxvb3IodGhpcy55KSx0aGlzLnotTWF0aC5mbG9vcih0aGlzLnopLHRoaXMudy1NYXRoLmZsb29yKHRoaXMudykpfSxpLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLnd9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX0saS5wcm90b3R5cGUudG9WZWN0b3IzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMueCx0aGlzLnksdGhpcy56KX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdLHIudz1lW3QrM119LGkuRnJvbUZsb2F0QXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7aS5Gcm9tQXJyYXlUb1JlZihlLHQscil9LGkuRnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YS54PWUsYS55PXQsYS56PXIsYS53PW59LGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCwwKX0saS5PbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDEsMSl9LGkuTm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWkuWmVybygpO3JldHVybiBpLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH0saS5Ob3JtYWxpemVUb1JlZj1mdW5jdGlvbihlLHQpe3QuY29weUZyb20oZSksdC5ub3JtYWxpemUoKX0saS5NaW5pbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5taW5pbWl6ZUluUGxhY2UodCkscn0saS5NYXhpbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5tYXhpbWl6ZUluUGxhY2UodCkscn0saS5EaXN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLnNxcnQoaS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9LGkuRGlzdGFuY2VTcXVhcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS54LXQueCxuPWUueS10LnksYT1lLnotdC56LHM9ZS53LXQudztyZXR1cm4gcipyK24qbithKmErcypzfSxpLkNlbnRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLkNlbnRlclRvUmVmKGUsdCxpLlplcm8oKSl9LGkuQ2VudGVyVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmNvcHlGcm9tRmxvYXRzKChlLngrdC54KS8yLChlLnkrdC55KS8yLChlLnordC56KS8yLChlLncrdC53KS8yKX0saS5UcmFuc2Zvcm1Db29yZGluYXRlcz1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZj1mdW5jdGlvbihlLHQscil7aS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LHIpfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bi5tLG89ZSpzWzBdK3Qqc1s0XStyKnNbOF0rc1sxMl0sdT1lKnNbMV0rdCpzWzVdK3Iqc1s5XStzWzEzXSxmPWUqc1syXSt0KnNbNl0rcipzWzEwXStzWzE0XSxsPWUqc1szXSt0KnNbN10rcipzWzExXStzWzE1XTthLng9byxhLnk9dSxhLno9ZixhLnc9bH0saS5UcmFuc2Zvcm1Ob3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49dC5tLGE9ZS54Km5bMF0rZS55Km5bNF0rZS56Km5bOF0scz1lLngqblsxXStlLnkqbls1XStlLnoqbls5XSxvPWUueCpuWzJdK2UueSpuWzZdK2UueipuWzEwXTtyLng9YSxyLnk9cyxyLno9byxyLnc9ZS53fSxpLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YS5tO3MueD1lKm9bMF0rdCpvWzRdK3Iqb1s4XSxzLnk9ZSpvWzFdK3Qqb1s1XStyKm9bOV0scy56PWUqb1syXSt0Km9bNl0rcipvWzEwXSxzLnc9bn0saS5Gcm9tVmVjdG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlLl94LGUuX3ksZS5feix0KX0saX0oKSxpZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7ZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MSksdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9cix0aGlzLl93PW59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdz1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1g6ICIuY29uY2F0KHRoaXMuX3gsIiBZOiAiKS5jb25jYXQodGhpcy5feSwiIFo6ICIpLmNvbmNhdCh0aGlzLl96LCIgVzogIikuY29uY2F0KHRoaXMuX3csIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlF1YXRlcm5pb24ifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMuX3gpLHQ9TGUodGhpcy5feSkscj1MZSh0aGlzLl96KSxuPUxlKHRoaXMuX3cpLGE9ZTtyZXR1cm4gYT1hKjM5N150LGE9YSozOTdecixhPWEqMzk3Xm4sYX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93XX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96JiZ0aGlzLl93PT09ZS5fd30saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9c2UpLGUmJnouV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCkmJnouV2l0aGluRXBzaWxvbih0aGlzLl93LGUuX3csdCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3cpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94Kz1lLl94LHRoaXMuX3krPWUuX3ksdGhpcy5feis9ZS5feix0aGlzLl93Kz1lLl93LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94LWUuX3gsdGhpcy5feS1lLl95LHRoaXMuX3otZS5feix0aGlzLl93LWUuX3cpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplLHRoaXMuX3cqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMuX3gqZSx0Lnk9dGhpcy5feSplLHQuej10aGlzLl96KmUsdC53PXRoaXMuX3cqZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueCs9dGhpcy5feCplLHQueSs9dGhpcy5feSplLHQueis9dGhpcy5feiplLHQudys9dGhpcy5fdyplLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKDAsMCwwLDEpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5feCplLl93K3RoaXMuX3kqZS5fei10aGlzLl96KmUuX3krdGhpcy5fdyplLl94LG49LXRoaXMuX3gqZS5feit0aGlzLl95KmUuX3crdGhpcy5feiplLl94K3RoaXMuX3cqZS5feSxhPXRoaXMuX3gqZS5feS10aGlzLl95KmUuX3grdGhpcy5feiplLl93K3RoaXMuX3cqZS5feixzPS10aGlzLl94KmUuX3gtdGhpcy5feSplLl95LXRoaXMuX3oqZS5feit0aGlzLl93KmUuX3c7cmV0dXJuIHQuY29weUZyb21GbG9hdHMocixuLGEscyksdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5jb25qdWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cygtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KSx0aGlzfSxpLnByb3RvdHlwZS5jb25qdWdhdGVJblBsYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCo9LTEsdGhpcy55Kj0tMSx0aGlzLnoqPS0xLHRoaXN9LGkucHJvdG90eXBlLmNvbmp1Z2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX0saS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25qdWdhdGUoKSx0PXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiB0PT0wfHx0PT0xfHxlLnNjYWxlSW5QbGFjZSgxL3QpLGV9LGkucHJvdG90eXBlLmludmVydEluUGxhY2U9ZnVuY3Rpb24oKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTt2YXIgZT10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gZT09MHx8ZT09MT90aGlzOih0aGlzLnNjYWxlSW5QbGFjZSgxL2UpLHRoaXMpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7aWYoZT09PTApcmV0dXJuIHRoaXM7dmFyIHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfSxpLnByb3RvdHlwZS5ub3JtYWxpemVUb05ldz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7aWYoZT09PTApcmV0dXJuIHRoaXMuY2xvbmUoKTt2YXIgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9LGkucHJvdG90eXBlLnRvRXVsZXJBbmdsZXM9ZnVuY3Rpb24oKXt2YXIgZT1iLlplcm8oKTtyZXR1cm4gdGhpcy50b0V1bGVyQW5nbGVzVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9FdWxlckFuZ2xlc1RvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3oscj10aGlzLl94LG49dGhpcy5feSxhPXRoaXMuX3cscz1uKnQtciphLG89LjQ5OTk5OTk7aWYoczwtbyllLnk9MipNYXRoLmF0YW4yKG4sYSksZS54PU1hdGguUEkvMixlLno9MDtlbHNlIGlmKHM+byllLnk9MipNYXRoLmF0YW4yKG4sYSksZS54PS1NYXRoLlBJLzIsZS56PTA7ZWxzZXt2YXIgdT1hKmEsZj10KnQsbD1yKnIsaD1uKm47ZS56PU1hdGguYXRhbjIoMioocipuK3QqYSksLWYtbCtoK3UpLGUueD1NYXRoLmFzaW4oLTIqcyksZS55PU1hdGguYXRhbjIoMioodCpyK24qYSksZi1sLWgrdSl9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLnRvUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIEkuRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLHRoaXN9LGkucHJvdG90eXBlLmZyb21Sb3RhdGlvbk1hdHJpeD1mdW5jdGlvbihlKXtyZXR1cm4gaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHRoaXMpLHRoaXN9LGkuRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBpLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdCksdH0saS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubSxuPXJbMF0sYT1yWzRdLHM9cls4XSxvPXJbMV0sdT1yWzVdLGY9cls5XSxsPXJbMl0saD1yWzZdLGM9clsxMF0sZD1uK3UrYyxwO2Q+MD8ocD0uNS9NYXRoLnNxcnQoZCsxKSx0Lnc9LjI1L3AsdC54PShoLWYpKnAsdC55PShzLWwpKnAsdC56PShvLWEpKnApOm4+dSYmbj5jPyhwPTIqTWF0aC5zcXJ0KDErbi11LWMpLHQudz0oaC1mKS9wLHQueD0uMjUqcCx0Lnk9KGErbykvcCx0Lno9KHMrbCkvcCk6dT5jPyhwPTIqTWF0aC5zcXJ0KDErdS1uLWMpLHQudz0ocy1sKS9wLHQueD0oYStvKS9wLHQueT0uMjUqcCx0Lno9KGYraCkvcCk6KHA9MipNYXRoLnNxcnQoMStjLW4tdSksdC53PShvLWEpL3AsdC54PShzK2wpL3AsdC55PShmK2gpL3AsdC56PS4yNSpwKX0saS5Eb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3orZS5fdyp0Ll93fSxpLkFyZUNsb3NlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5Eb3QoZSx0KTtyZXR1cm4gcj49MH0saS5TbW9vdGhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW49PT0wPzE6ci9uO3M9ei5DbGFtcChzLDAsMSksaS5TbGVycFRvUmVmKGUsdCxzLGEpfSxpLlplcm89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDAsMCl9LGkuSW52ZXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyl9LGkuSW52ZXJzZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc2V0KC1lLl94LC1lLl95LC1lLl96LGUuX3cpLHR9LGkuSWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDAsMSl9LGkuSXNJZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5feD09PTAmJmUuX3k9PT0wJiZlLl96PT09MCYmZS5fdz09PTF9LGkuUm90YXRpb25BeGlzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuUm90YXRpb25BeGlzVG9SZWYoZSx0LG5ldyBpKX0saS5Sb3RhdGlvbkF4aXNUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5zaW4odC8yKTtyZXR1cm4gZS5ub3JtYWxpemUoKSxyLnc9TWF0aC5jb3ModC8yKSxyLng9ZS5feCpuLHIueT1lLl95Km4sci56PWUuX3oqbixyfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdLHIudz1lW3QrM119LGkuRnJvbUV1bGVyQW5nbGVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxyLG4pLG59LGkuRnJvbUV1bGVyQW5nbGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUscixuKSxufSxpLkZyb21FdWxlclZlY3Rvcj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9LGkuRnJvbUV1bGVyVmVjdG9yVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9LGkuRnJvbVVuaXRWZWN0b3JzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWIuRG90KGUsdCkrMTtyZXR1cm4gbjxzZT9NYXRoLmFicyhlLngpPk1hdGguYWJzKGUueik/ci5zZXQoLWUueSxlLngsMCwwKTpyLnNldCgwLC1lLnosZS55LDApOihiLkNyb3NzVG9SZWYoZSx0LEQuVmVjdG9yM1swXSksci5zZXQoRC5WZWN0b3IzWzBdLngsRC5WZWN0b3IzWzBdLnksRC5WZWN0b3IzWzBdLnosbikpLHIubm9ybWFsaXplKCl9LGkuUm90YXRpb25ZYXdQaXRjaFJvbGw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXIqLjUscz10Ki41LG89ZSouNSx1PU1hdGguc2luKGEpLGY9TWF0aC5jb3MoYSksbD1NYXRoLnNpbihzKSxoPU1hdGguY29zKHMpLGM9TWF0aC5zaW4obyksZD1NYXRoLmNvcyhvKTtuLng9ZCpsKmYrYypoKnUsbi55PWMqaCpmLWQqbCp1LG4uej1kKmgqdS1jKmwqZixuLnc9ZCpoKmYrYypsKnV9LGkuUm90YXRpb25BbHBoYUJldGFHYW1tYT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPShyK2UpKi41LHM9KHItZSkqLjUsbz10Ki41O24ueD1NYXRoLmNvcyhzKSpNYXRoLnNpbihvKSxuLnk9TWF0aC5zaW4ocykqTWF0aC5zaW4obyksbi56PU1hdGguc2luKGEpKk1hdGguY29zKG8pLG4udz1NYXRoLmNvcyhhKSpNYXRoLmNvcyhvKX0saS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpcz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoMCwwLDAsMCk7cmV0dXJuIGkuUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQscixuKSxufSxpLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9VS5NYXRyaXhbMF07SS5Gcm9tWFlaQXhlc1RvUmVmKGUubm9ybWFsaXplKCksdC5ub3JtYWxpemUoKSxyLm5vcm1hbGl6ZSgpLGEpLGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoYSxuKX0saS5Gcm9tTG9va0RpcmVjdGlvbkxIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxyKSxyfSxpLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49VS5NYXRyaXhbMF07SS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsbiksaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihuLHIpfSxpLkZyb21Mb29rRGlyZWN0aW9uUkg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Gcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHIpLHJ9LGkuRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1VLk1hdHJpeFswXTtyZXR1cm4gSS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsbiksaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihuLHIpfSxpLlNsZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLklkZW50aXR5KCk7cmV0dXJuIGkuU2xlcnBUb1JlZihlLHQscixuKSxufSxpLlNsZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGEscyxvPWUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fdyx1PSExO2lmKG88MCYmKHU9ITAsbz0tbyksbz4uOTk5OTk5KXM9MS1yLGE9dT8tcjpyO2Vsc2V7dmFyIGY9TWF0aC5hY29zKG8pLGw9MS9NYXRoLnNpbihmKTtzPU1hdGguc2luKCgxLXIpKmYpKmwsYT11Py1NYXRoLnNpbihyKmYpKmw6TWF0aC5zaW4ocipmKSpsfW4ueD1zKmUuX3grYSp0Ll94LG4ueT1zKmUuX3krYSp0Ll95LG4uej1zKmUuX3orYSp0Ll96LG4udz1zKmUuX3crYSp0Ll93fSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLl94KnUrci5feCpmK3QuX3gqbCtuLl94KmgsZD1lLl95KnUrci5feSpmK3QuX3kqbCtuLl95KmgscD1lLl96KnUrci5feipmK3QuX3oqbCtuLl96KmgsZz1lLl93KnUrci5fdypmK3QuX3cqbCtuLl93Kmg7cmV0dXJuIG5ldyBpKGMsZCxwLGcpfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9aS5aZXJvKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy54PShvLWEpKjYqZS54KygzKm8tNCphKzEpKnQueCsoLW8rYSkqNipyLngrKDMqby0yKmEpKm4ueCxzLnk9KG8tYSkqNiplLnkrKDMqby00KmErMSkqdC55KygtbythKSo2KnIueSsoMypvLTIqYSkqbi55LHMuej0oby1hKSo2KmUueisoMypvLTQqYSsxKSp0LnorKC1vK2EpKjYqci56KygzKm8tMiphKSpuLnoscy53PShvLWEpKjYqZS53KygzKm8tNCphKzEpKnQudysoLW8rYSkqNipyLncrKDMqby0yKmEpKm4ud30saX0oKSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwLHRoaXMudXBkYXRlRmxhZz0tMSxQdC5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZSYmUHQuTWF0cml4VHJhY2tlZE1hdHJpY2VzLnB1c2godGhpcyksdGhpcy5fbT1uZXcgUHQuTWF0cml4Q3VycmVudFR5cGUoMTYpLHRoaXMubWFya0FzVXBkYXRlZCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVXNlNjRCaXRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFB0Lk1hdHJpeFVzZTY0Qml0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm0iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5tYXJrQXNVcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVGbGFnPWkuX1VwZGF0ZUZsYWdTZWVkKyssdGhpcy5faXNJZGVudGl0eT0hMSx0aGlzLl9pc0lkZW50aXR5M3gyPSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITB9LGkucHJvdG90eXBlLl91cGRhdGVJZGVudGl0eVN0YXR1cz1mdW5jdGlvbihlLHQscixuKXt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSEwKSx0aGlzLl9pc0lkZW50aXR5PWUsdGhpcy5faXNJZGVudGl0eTN4Mj1lfHxyLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT10aGlzLl9pc0lkZW50aXR5PyExOnQsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PXRoaXMuX2lzSWRlbnRpdHkzeDI/ITE6bn0saS5wcm90b3R5cGUuaXNJZGVudGl0eT1mdW5jdGlvbigpe2lmKHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSl7dGhpcy5faXNJZGVudGl0eURpcnR5PSExO3ZhciBlPXRoaXMuX207dGhpcy5faXNJZGVudGl0eT1lWzBdPT09MSYmZVsxXT09PTAmJmVbMl09PT0wJiZlWzNdPT09MCYmZVs0XT09PTAmJmVbNV09PT0xJiZlWzZdPT09MCYmZVs3XT09PTAmJmVbOF09PT0wJiZlWzldPT09MCYmZVsxMF09PT0xJiZlWzExXT09PTAmJmVbMTJdPT09MCYmZVsxM109PT0wJiZlWzE0XT09PTAmJmVbMTVdPT09MX1yZXR1cm4gdGhpcy5faXNJZGVudGl0eX0saS5wcm90b3R5cGUuaXNJZGVudGl0eUFzM3gyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSYmKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMSx0aGlzLl9tWzBdIT09MXx8dGhpcy5fbVs1XSE9PTF8fHRoaXMuX21bMTVdIT09MT90aGlzLl9pc0lkZW50aXR5M3gyPSExOnRoaXMuX21bMV0hPT0wfHx0aGlzLl9tWzJdIT09MHx8dGhpcy5fbVszXSE9PTB8fHRoaXMuX21bNF0hPT0wfHx0aGlzLl9tWzZdIT09MHx8dGhpcy5fbVs3XSE9PTB8fHRoaXMuX21bOF0hPT0wfHx0aGlzLl9tWzldIT09MHx8dGhpcy5fbVsxMF0hPT0wfHx0aGlzLl9tWzExXSE9PTB8fHRoaXMuX21bMTJdIT09MHx8dGhpcy5fbVsxM10hPT0wfHx0aGlzLl9tWzE0XSE9PTA/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9pc0lkZW50aXR5M3gyPSEwKSx0aGlzLl9pc0lkZW50aXR5M3gyfSxpLnByb3RvdHlwZS5kZXRlcm1pbmFudD1mdW5jdGlvbigpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gMTt2YXIgZT10aGlzLl9tLHQ9ZVswXSxyPWVbMV0sbj1lWzJdLGE9ZVszXSxzPWVbNF0sbz1lWzVdLHU9ZVs2XSxmPWVbN10sbD1lWzhdLGg9ZVs5XSxjPWVbMTBdLGQ9ZVsxMV0scD1lWzEyXSxnPWVbMTNdLF89ZVsxNF0sdj1lWzE1XSx5PWMqdi1fKmQsRT1oKnYtZypkLFI9aCpfLWcqYyxNPWwqdi1wKmQsQz1sKl8tYypwLEE9bCpnLXAqaCxTPSsobyp5LXUqRStmKlIpLHc9LShzKnktdSpNK2YqQyksRj0rKHMqRS1vKk0rZipBKSx4PS0ocypSLW8qQyt1KkEpO3JldHVybiB0KlMrcip3K24qRithKnh9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tfSxpLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZlcnRUb1JlZih0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZigwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHRoaXMpLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSx0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIHRoaXMuYWRkVG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5hZGRUb1JlZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLl9tLG49dC5fbSxhPWUubSxzPTA7czwxNjtzKyspbltzXT1yW3NdK2Fbc107cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLmFkZFRvU2VsZj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fbSxyPWUubSxuPTA7bjwxNjtuKyspdFtuXSs9cltuXTtyZXR1cm4gdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc30saS5wcm90b3R5cGUuaW52ZXJ0VG9SZWY9ZnVuY3Rpb24oZSl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiBpLklkZW50aXR5VG9SZWYoZSksdGhpczt2YXIgdD10aGlzLl9tLHI9dFswXSxuPXRbMV0sYT10WzJdLHM9dFszXSxvPXRbNF0sdT10WzVdLGY9dFs2XSxsPXRbN10saD10WzhdLGM9dFs5XSxkPXRbMTBdLHA9dFsxMV0sZz10WzEyXSxfPXRbMTNdLHY9dFsxNF0seT10WzE1XSxFPWQqeS12KnAsUj1jKnktXypwLE09Yyp2LV8qZCxDPWgqeS1nKnAsQT1oKnYtZCpnLFM9aCpfLWcqYyx3PSsodSpFLWYqUitsKk0pLEY9LShvKkUtZipDK2wqQSkseD0rKG8qUi11KkMrbCpTKSxHPS0obypNLXUqQStmKlMpLFc9cip3K24qRithKngrcypHO2lmKFc9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLHRoaXM7dmFyIE49MS9XLHE9Zip5LXYqbCwkPXUqeS1fKmwsb2U9dSp2LV8qZixaPW8qeS1nKmwsaj1vKnYtZypmLHVlPW8qXy1nKnUsUGU9ZipwLWQqbCxXZT11KnAtYypsLFplPXUqZC1jKmYsWHQ9bypwLWgqbCxGcj1vKmQtaCpmLHdyPW8qYy1oKnUscGk9LShuKkUtYSpSK3MqTSksX2k9KyhyKkUtYSpDK3MqQSksZ2k9LShyKlItbipDK3MqUyksdmk9KyhyKk0tbipBK2EqUyksbWk9KyhuKnEtYSokK3Mqb2UpLHlpPS0ocipxLWEqWitzKmopLHB0PSsociokLW4qWitzKnVlKSxfdD0tKHIqb2UtbipqK2EqdWUpLGd0PS0obipQZS1hKldlK3MqWmUpLHZ0PSsocipQZS1hKlh0K3MqRnIpLExyPS0ocipXZS1uKlh0K3Mqd3IpLFNmPSsocipaZS1uKkZyK2Eqd3IpO3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZih3Kk4scGkqTixtaSpOLGd0Kk4sRipOLF9pKk4seWkqTix2dCpOLHgqTixnaSpOLHB0Kk4sTHIqTixHKk4sdmkqTixfdCpOLFNmKk4sZSksdGhpc30saS5wcm90b3R5cGUuYWRkQXRJbmRleD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9tW2VdKz10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5QXRJbmRleD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9tW2VdKj10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX21bMTJdPWUsdGhpcy5fbVsxM109dCx0aGlzLl9tWzE0XT1yLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX21bMTJdKz1lLHRoaXMuX21bMTNdKz10LHRoaXMuX21bMTRdKz1yLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNldFRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLmdldFRyYW5zbGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMuX21bMTJdLHRoaXMuX21bMTNdLHRoaXMuX21bMTRdKX0saS5wcm90b3R5cGUuZ2V0VHJhbnNsYXRpb25Ub1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS54PXRoaXMuX21bMTJdLGUueT10aGlzLl9tWzEzXSxlLno9dGhpcy5fbVsxNF0sdGhpc30saS5wcm90b3R5cGUucmVtb3ZlUm90YXRpb25BbmRTY2FsaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tO3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlWzEyXSxlWzEzXSxlWzE0XSxlWzE1XSx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyhlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTEpLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtlLmNvcHlUb0FycmF5KHRoaXMuX20pO3ZhciB0PWU7cmV0dXJuIHRoaXMudXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXModC5faXNJZGVudGl0eSx0Ll9pc0lkZW50aXR5RGlydHksdC5faXNJZGVudGl0eTN4Mix0Ll9pc0lkZW50aXR5M3gyRGlydHkpLHRoaXN9LGkucHJvdG90eXBlLmNvcHlUb0FycmF5PWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9dGhpcy5fbTtyZXR1cm4gZVt0XT1yWzBdLGVbdCsxXT1yWzFdLGVbdCsyXT1yWzJdLGVbdCszXT1yWzNdLGVbdCs0XT1yWzRdLGVbdCs1XT1yWzVdLGVbdCs2XT1yWzZdLGVbdCs3XT1yWzddLGVbdCs4XT1yWzhdLGVbdCs5XT1yWzldLGVbdCsxMF09clsxMF0sZVt0KzExXT1yWzExXSxlW3QrMTJdPXJbMTJdLGVbdCsxM109clsxM10sZVt0KzE0XT1yWzE0XSxlW3QrMTVdPXJbMTVdLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faXNJZGVudGl0eT8odC5jb3B5RnJvbShlKSx0aGlzKTplLl9pc0lkZW50aXR5Pyh0LmNvcHlGcm9tKHRoaXMpLHRoaXMpOih0aGlzLm11bHRpcGx5VG9BcnJheShlLHQuX20sMCksdC5tYXJrQXNVcGRhdGVkKCksdGhpcyl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9BcnJheT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fbSxhPWUubSxzPW5bMF0sbz1uWzFdLHU9blsyXSxmPW5bM10sbD1uWzRdLGg9bls1XSxjPW5bNl0sZD1uWzddLHA9bls4XSxnPW5bOV0sXz1uWzEwXSx2PW5bMTFdLHk9blsxMl0sRT1uWzEzXSxSPW5bMTRdLE09blsxNV0sQz1hWzBdLEE9YVsxXSxTPWFbMl0sdz1hWzNdLEY9YVs0XSx4PWFbNV0sRz1hWzZdLFc9YVs3XSxOPWFbOF0scT1hWzldLCQ9YVsxMF0sb2U9YVsxMV0sWj1hWzEyXSxqPWFbMTNdLHVlPWFbMTRdLFBlPWFbMTVdO3JldHVybiB0W3JdPXMqQytvKkYrdSpOK2YqWix0W3IrMV09cypBK28qeCt1KnErZipqLHRbcisyXT1zKlMrbypHK3UqJCtmKnVlLHRbciszXT1zKncrbypXK3Uqb2UrZipQZSx0W3IrNF09bCpDK2gqRitjKk4rZCpaLHRbcis1XT1sKkEraCp4K2MqcStkKmosdFtyKzZdPWwqUytoKkcrYyokK2QqdWUsdFtyKzddPWwqdytoKlcrYypvZStkKlBlLHRbcis4XT1wKkMrZypGK18qTit2KlosdFtyKzldPXAqQStnKngrXypxK3Yqaix0W3IrMTBdPXAqUytnKkcrXyokK3YqdWUsdFtyKzExXT1wKncrZypXK18qb2UrdipQZSx0W3IrMTJdPXkqQytFKkYrUipOK00qWix0W3IrMTNdPXkqQStFKngrUipxK00qaix0W3IrMTRdPXkqUytFKkcrUiokK00qdWUsdFtyKzE1XT15KncrRSpXK1Iqb2UrTSpQZSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtpZighdClyZXR1cm4hMTtpZigodGhpcy5faXNJZGVudGl0eXx8dC5faXNJZGVudGl0eSkmJiF0aGlzLl9pc0lkZW50aXR5RGlydHkmJiF0Ll9pc0lkZW50aXR5RGlydHkpcmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkmJnQuX2lzSWRlbnRpdHk7dmFyIHI9dGhpcy5tLG49dC5tO3JldHVybiByWzBdPT09blswXSYmclsxXT09PW5bMV0mJnJbMl09PT1uWzJdJiZyWzNdPT09blszXSYmcls0XT09PW5bNF0mJnJbNV09PT1uWzVdJiZyWzZdPT09bls2XSYmcls3XT09PW5bN10mJnJbOF09PT1uWzhdJiZyWzldPT09bls5XSYmclsxMF09PT1uWzEwXSYmclsxMV09PT1uWzExXSYmclsxMl09PT1uWzEyXSYmclsxM109PT1uWzEzXSYmclsxNF09PT1uWzE0XSYmclsxNV09PT1uWzE1XX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gZS5jb3B5RnJvbSh0aGlzKSxlfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTWF0cml4In0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9TGUodGhpcy5fbVswXSksdD0xO3Q8MTY7dCsrKWU9ZSozOTdeTGUodGhpcy5fbVt0XSk7cmV0dXJuIGV9LGkucHJvdG90eXBlLmRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBpZSx0aGlzLmRlY29tcG9zZShlLnNjYWxpbmcsZS5yb3RhdGlvblF1YXRlcm5pb24sZS5wb3NpdGlvbil9LGkucHJvdG90eXBlLmRlY29tcG9zZT1mdW5jdGlvbihlLHQscixuKXtpZih0aGlzLl9pc0lkZW50aXR5KXJldHVybiByJiZyLnNldEFsbCgwKSxlJiZlLnNldEFsbCgxKSx0JiZ0LmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpLCEwO3ZhciBhPXRoaXMuX207aWYociYmci5jb3B5RnJvbUZsb2F0cyhhWzEyXSxhWzEzXSxhWzE0XSksZT1lfHxVLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChhWzBdKmFbMF0rYVsxXSphWzFdK2FbMl0qYVsyXSksZS55PU1hdGguc3FydChhWzRdKmFbNF0rYVs1XSphWzVdK2FbNl0qYVs2XSksZS56PU1hdGguc3FydChhWzhdKmFbOF0rYVs5XSphWzldK2FbMTBdKmFbMTBdKSxuKXt2YXIgcz1uLnNjYWxpbmcueDwwPy0xOjEsbz1uLnNjYWxpbmcueTwwPy0xOjEsdT1uLnNjYWxpbmcuejwwPy0xOjE7ZS54Kj1zLGUueSo9byxlLnoqPXV9ZWxzZSB0aGlzLmRldGVybWluYW50KCk8PTAmJihlLnkqPS0xKTtpZihlLl94PT09MHx8ZS5feT09PTB8fGUuX3o9PT0wKXJldHVybiB0JiZ0LmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpLCExO2lmKHQpe3ZhciBmPTEvZS5feCxsPTEvZS5feSxoPTEvZS5fejtpLkZyb21WYWx1ZXNUb1JlZihhWzBdKmYsYVsxXSpmLGFbMl0qZiwwLGFbNF0qbCxhWzVdKmwsYVs2XSpsLDAsYVs4XSpoLGFbOV0qaCxhWzEwXSpoLDAsMCwwLDAsMSxVLk1hdHJpeFswXSksaWUuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoVS5NYXRyaXhbMF0sdCl9cmV0dXJuITB9LGkucHJvdG90eXBlLmdldFJvdz1mdW5jdGlvbihlKXtpZihlPDB8fGU+MylyZXR1cm4gbnVsbDt2YXIgdD1lKjQ7cmV0dXJuIG5ldyBtdCh0aGlzLl9tW3QrMF0sdGhpcy5fbVt0KzFdLHRoaXMuX21bdCsyXSx0aGlzLl9tW3QrM10pfSxpLnByb3RvdHlwZS5zZXRSb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX0saS5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuVHJhbnNwb3NlKHRoaXMpfSxpLnByb3RvdHlwZS50cmFuc3Bvc2VUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gaS5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLHRoaXN9LGkucHJvdG90eXBlLnNldFJvd0Zyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZihlPDB8fGU+MylyZXR1cm4gdGhpczt2YXIgcz1lKjQ7cmV0dXJuIHRoaXMuX21bcyswXT10LHRoaXMuX21bcysxXT1yLHRoaXMuX21bcysyXT1uLHRoaXMuX21bcyszXT1hLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fSxpLnByb3RvdHlwZS5zY2FsZVRvUmVmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwxNjtyKyspdC5fbVtyXT10aGlzLl9tW3JdKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDE2O3IrKyl0Ll9tW3JdKz10aGlzLl9tW3JdKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLnRvTm9ybWFsTWF0cml4PWZ1bmN0aW9uKGUpe3ZhciB0PVUuTWF0cml4WzBdO3RoaXMuaW52ZXJ0VG9SZWYodCksdC50cmFuc3Bvc2VUb1JlZihlKTt2YXIgcj1lLl9tO2kuRnJvbVZhbHVlc1RvUmVmKHJbMF0sclsxXSxyWzJdLDAscls0XSxyWzVdLHJbNl0sMCxyWzhdLHJbOV0sclsxMF0sMCwwLDAsMCwxLGUpfSxpLnByb3RvdHlwZS5nZXRSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLmdldFJvdGF0aW9uTWF0cml4VG9SZWYoZSksZX0saS5wcm90b3R5cGUuZ2V0Um90YXRpb25NYXRyaXhUb1JlZj1mdW5jdGlvbihlKXt2YXIgdD1VLlZlY3RvcjNbMF07aWYoIXRoaXMuZGVjb21wb3NlKHQpKXJldHVybiBpLklkZW50aXR5VG9SZWYoZSksdGhpczt2YXIgcj10aGlzLl9tLG49MS90Ll94LGE9MS90Ll95LHM9MS90Ll96O3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZihyWzBdKm4sclsxXSpuLHJbMl0qbiwwLHJbNF0qYSxyWzVdKmEscls2XSphLDAscls4XSpzLHJbOV0qcyxyWzEwXSpzLDAsMCwwLDAsMSxlKSx0aGlzfSxpLnByb3RvdHlwZS50b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbTtlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCl9LGkucHJvdG90eXBlLnRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX207ZVs4XSo9LTEsZVs5XSo9LTEsZVsxMF0qPS0xLGVbMTFdKj0tMSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0wKTt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Gcm9tQXJyYXlUb1JlZihlLHQscikscn0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPTA7bjwxNjtuKyspci5fbVtuXT1lW24rdF07ci5tYXJrQXNVcGRhdGVkKCl9LGkuRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYT0wO2E8MTY7YSsrKW4uX21bYV09ZVthK3RdKnI7bi5tYXJrQXNVcGRhdGVkKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJZGVudGl0eVJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0lkZW50aXR5UmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5Gcm9tVmFsdWVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcsXyx2KXt2YXIgeT12Ll9tO3lbMF09ZSx5WzFdPXQseVsyXT1yLHlbM109bix5WzRdPWEseVs1XT1zLHlbNl09byx5WzddPXUseVs4XT1mLHlbOV09bCx5WzEwXT1oLHlbMTFdPWMseVsxMl09ZCx5WzEzXT1wLHlbMTRdPWcseVsxNV09Xyx2Lm1hcmtBc1VwZGF0ZWQoKX0saS5Gcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8pe3ZhciB2PW5ldyBpLHk9di5fbTtyZXR1cm4geVswXT1lLHlbMV09dCx5WzJdPXIseVszXT1uLHlbNF09YSx5WzVdPXMseVs2XT1vLHlbN109dSx5WzhdPWYseVs5XT1sLHlbMTBdPWgseVsxMV09Yyx5WzEyXT1kLHlbMTNdPXAseVsxNF09Zyx5WzE1XT1fLHYubWFya0FzVXBkYXRlZCgpLHZ9LGkuQ29tcG9zZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuQ29tcG9zZVRvUmVmKGUsdCxyLG4pLG59LGkuQ29tcG9zZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPW4uX20scz10Ll94LG89dC5feSx1PXQuX3osZj10Ll93LGw9cytzLGg9bytvLGM9dSt1LGQ9cypsLHA9cypoLGc9cypjLF89bypoLHY9bypjLHk9dSpjLEU9ZipsLFI9ZipoLE09ZipjLEM9ZS5feCxBPWUuX3ksUz1lLl96O2FbMF09KDEtKF8reSkpKkMsYVsxXT0ocCtNKSpDLGFbMl09KGctUikqQyxhWzNdPTAsYVs0XT0ocC1NKSpBLGFbNV09KDEtKGQreSkpKkEsYVs2XT0oditFKSpBLGFbN109MCxhWzhdPShnK1IpKlMsYVs5XT0odi1FKSpTLGFbMTBdPSgxLShkK18pKSpTLGFbMTFdPTAsYVsxMl09ci5feCxhWzEzXT1yLl95LGFbMTRdPXIuX3osYVsxNV09MSxuLm1hcmtBc1VwZGF0ZWQoKX0saS5JZGVudGl0eT1mdW5jdGlvbigpe3ZhciBlPWkuRnJvbVZhbHVlcygxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKTtyZXR1cm4gZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITApLGV9LGkuSWRlbnRpdHlUb1JlZj1mdW5jdGlvbihlKXtpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxLGUpLGUuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCEwKX0saS5aZXJvPWZ1bmN0aW9uKCl7dmFyIGU9aS5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX0saS5Sb3RhdGlvblg9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25YVG9SZWYoZSx0KSx0fSxpLkludmVydD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fSxpLlJvdGF0aW9uWFRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsbixyLDAsMCwtcixuLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhuPT09MSYmcj09PTApfSxpLlJvdGF0aW9uWT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllUb1JlZihlLHQpLHR9LGkuUm90YXRpb25ZVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO2kuRnJvbVZhbHVlc1RvUmVmKG4sMCwtciwwLDAsMSwwLDAsciwwLG4sMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG49PT0xJiZyPT09MCl9LGkuUm90YXRpb25aPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBpLlJvdGF0aW9uWlRvUmVmKGUsdCksdH0saS5Sb3RhdGlvblpUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7aS5Gcm9tVmFsdWVzVG9SZWYobixyLDAsMCwtcixuLDAsMCwwLDAsMSwwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMobj09PTEmJnI9PT0wKX0saS5Sb3RhdGlvbkF4aXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbkF4aXNUb1JlZihlLHQscikscn0saS5Sb3RhdGlvbkF4aXNUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5zaW4oLXQpLGE9TWF0aC5jb3MoLXQpLHM9MS1hO2Uubm9ybWFsaXplKCk7dmFyIG89ci5fbTtvWzBdPWUuX3gqZS5feCpzK2Esb1sxXT1lLl94KmUuX3kqcy1lLl96Km4sb1syXT1lLl94KmUuX3oqcytlLl95Km4sb1szXT0wLG9bNF09ZS5feSplLl94KnMrZS5feipuLG9bNV09ZS5feSplLl95KnMrYSxvWzZdPWUuX3kqZS5feipzLWUuX3gqbixvWzddPTAsb1s4XT1lLl96KmUuX3gqcy1lLl95Km4sb1s5XT1lLl96KmUuX3kqcytlLl94Km4sb1sxMF09ZS5feiplLl96KnMrYSxvWzExXT0wLG9bMTJdPTAsb1sxM109MCxvWzE0XT0wLG9bMTVdPTEsci5tYXJrQXNVcGRhdGVkKCl9LGkuUm90YXRpb25BbGlnblRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1iLkRvdCh0LGUpLGE9ci5fbTtpZihuPC0xK3NlKWFbMF09LTEsYVsxXT0wLGFbMl09MCxhWzNdPTAsYVs0XT0wLGFbNV09LTEsYVs2XT0wLGFbN109MCxhWzhdPTAsYVs5XT0wLGFbMTBdPTEsYVsxMV09MDtlbHNle3ZhciBzPWIuQ3Jvc3ModCxlKSxvPTEvKDErbik7YVswXT1zLl94KnMuX3gqbytuLGFbMV09cy5feSpzLl94Km8tcy5feixhWzJdPXMuX3oqcy5feCpvK3MuX3ksYVszXT0wLGFbNF09cy5feCpzLl95Km8rcy5feixhWzVdPXMuX3kqcy5feSpvK24sYVs2XT1zLl96KnMuX3kqby1zLl94LGFbN109MCxhWzhdPXMuX3gqcy5feipvLXMuX3ksYVs5XT1zLl95KnMuX3oqbytzLl94LGFbMTBdPXMuX3oqcy5feipvK24sYVsxMV09MH1hWzEyXT0wLGFbMTNdPTAsYVsxNF09MCxhWzE1XT0xLHIubWFya0FzVXBkYXRlZCgpfSxpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZj1mdW5jdGlvbihlLHQscixuKXtpZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxyLFUuUXVhdGVybmlvblswXSksVS5RdWF0ZXJuaW9uWzBdLnRvUm90YXRpb25NYXRyaXgobil9LGkuU2NhbGluZz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuU2NhbGluZ1RvUmVmKGUsdCxyLG4pLG59LGkuU2NhbGluZ1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe2kuRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsciwwLDAsMCwwLDEsbiksbi5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZyPT09MSl9LGkuVHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlRyYW5zbGF0aW9uVG9SZWYoZSx0LHIsbiksbn0saS5UcmFuc2xhdGlvblRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe2kuRnJvbVZhbHVlc1RvUmVmKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLGUsdCxyLDEsbiksbi5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTAmJnQ9PT0wJiZyPT09MCl9LGkuTGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYT1uLl9tLHM9ZS5tLG89dC5tLHU9MDt1PDE2O3UrKylhW3VdPXNbdV0qKDEtcikrb1t1XSpyO24ubWFya0FzVXBkYXRlZCgpfSxpLkRlY29tcG9zZUxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkRlY29tcG9zZUxlcnBUb1JlZihlLHQscixuKSxufSxpLkRlY29tcG9zZUxlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1VLlZlY3RvcjNbMF0scz1VLlF1YXRlcm5pb25bMF0sbz1VLlZlY3RvcjNbMV07ZS5kZWNvbXBvc2UoYSxzLG8pO3ZhciB1PVUuVmVjdG9yM1syXSxmPVUuUXVhdGVybmlvblsxXSxsPVUuVmVjdG9yM1szXTt0LmRlY29tcG9zZSh1LGYsbCk7dmFyIGg9VS5WZWN0b3IzWzRdO2IuTGVycFRvUmVmKGEsdSxyLGgpO3ZhciBjPVUuUXVhdGVybmlvblsyXTtpZS5TbGVycFRvUmVmKHMsZixyLGMpO3ZhciBkPVUuVmVjdG9yM1s1XTtiLkxlcnBUb1JlZihvLGwscixkKSxpLkNvbXBvc2VUb1JlZihoLGMsZCxuKX0saS5Mb29rQXRMSD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuTG9va0F0TEhUb1JlZihlLHQscixuKSxufSxpLkxvb2tBdExIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9VS5WZWN0b3IzWzBdLHM9VS5WZWN0b3IzWzFdLG89VS5WZWN0b3IzWzJdO3Quc3VidHJhY3RUb1JlZihlLG8pLG8ubm9ybWFsaXplKCksYi5Dcm9zc1RvUmVmKHIsbyxhKTt2YXIgdT1hLmxlbmd0aFNxdWFyZWQoKTt1PT09MD9hLng9MTphLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KHUpKSxiLkNyb3NzVG9SZWYobyxhLHMpLHMubm9ybWFsaXplKCk7dmFyIGY9LWIuRG90KGEsZSksbD0tYi5Eb3QocyxlKSxoPS1iLkRvdChvLGUpO2kuRnJvbVZhbHVlc1RvUmVmKGEuX3gscy5feCxvLl94LDAsYS5feSxzLl95LG8uX3ksMCxhLl96LHMuX3osby5feiwwLGYsbCxoLDEsbil9LGkuTG9va0F0Ukg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkxvb2tBdFJIVG9SZWYoZSx0LHIsbiksbn0saS5Mb29rQXRSSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVUuVmVjdG9yM1swXSxzPVUuVmVjdG9yM1sxXSxvPVUuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxvKSxvLm5vcm1hbGl6ZSgpLGIuQ3Jvc3NUb1JlZihyLG8sYSk7dmFyIHU9YS5sZW5ndGhTcXVhcmVkKCk7dT09PTA/YS54PTE6YS5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydCh1KSksYi5Dcm9zc1RvUmVmKG8sYSxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBmPS1iLkRvdChhLGUpLGw9LWIuRG90KHMsZSksaD0tYi5Eb3QobyxlKTtpLkZyb21WYWx1ZXNUb1JlZihhLl94LHMuX3gsby5feCwwLGEuX3kscy5feSxvLl95LDAsYS5feixzLl96LG8uX3osMCxmLGwsaCwxLG4pfSxpLkxvb2tEaXJlY3Rpb25MSD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBpO3JldHVybiBpLkxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxyKSxyfSxpLkxvb2tEaXJlY3Rpb25MSFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1VLlZlY3RvcjNbMF07bi5jb3B5RnJvbShlKSxuLnNjYWxlSW5QbGFjZSgtMSk7dmFyIGE9VS5WZWN0b3IzWzFdO2IuQ3Jvc3NUb1JlZih0LG4sYSksaS5Gcm9tVmFsdWVzVG9SZWYoYS5feCxhLl95LGEuX3osMCx0Ll94LHQuX3ksdC5feiwwLG4uX3gsbi5feSxuLl96LDAsMCwwLDAsMSxyKX0saS5Mb29rRGlyZWN0aW9uUkg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQscikscn0saS5Mb29rRGlyZWN0aW9uUkhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49VS5WZWN0b3IzWzJdO2IuQ3Jvc3NUb1JlZih0LGUsbiksaS5Gcm9tVmFsdWVzVG9SZWYobi5feCxuLl95LG4uX3osMCx0Ll94LHQuX3ksdC5feiwwLGUuX3gsZS5feSxlLl96LDAsMCwwLDAsMSxyKX0saS5PcnRob0xIPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bmV3IGk7cmV0dXJuIGkuT3J0aG9MSFRvUmVmKGUsdCxyLG4scyxhKSxzfSxpLk9ydGhvTEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89cix1PW4sZj0yL2UsbD0yL3QsaD0yLyh1LW8pLGM9LSh1K28pLyh1LW8pO2kuRnJvbVZhbHVlc1RvUmVmKGYsMCwwLDAsMCxsLDAsMCwwLDAsaCwwLDAsMCxjLDEsYSkscyYmYS5tdWx0aXBseVRvUmVmKHl0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGY9PT0xJiZsPT09MSYmaD09PTEmJmM9PT0wKX0saS5PcnRob09mZkNlbnRlckxIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PW5ldyBpO3JldHVybiBpLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQscixuLGEscyx1LG8pLHV9LGkuT3J0aG9PZmZDZW50ZXJMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7dmFyIGY9YSxsPXMsaD0yLyh0LWUpLGM9Mi8obi1yKSxkPTIvKGwtZikscD0tKGwrZikvKGwtZiksZz0oZSt0KS8oZS10KSxfPShuK3IpLyhyLW4pO2kuRnJvbVZhbHVlc1RvUmVmKGgsMCwwLDAsMCxjLDAsMCwwLDAsZCwwLGcsXyxwLDEsbyksdSYmby5tdWx0aXBseVRvUmVmKHl0LG8pLG8ubWFya0FzVXBkYXRlZCgpfSxpLk9ydGhvT2ZmQ2VudGVyUkg9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9bmV3IGk7cmV0dXJuIGkuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxyLG4sYSxzLHUsbyksdX0saS5PcnRob09mZkNlbnRlclJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtpLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQscixuLGEscyxvLHUpLG8uX21bMTBdKj0tMX0saS5QZXJzcGVjdGl2ZUxIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0wKTt2YXIgbz1uZXcgaSx1PXIsZj1uLGw9Mip1L2UsaD0yKnUvdCxjPShmK3UpLyhmLXUpLGQ9LTIqZip1LyhmLXUpLHA9TWF0aC50YW4ocyk7cmV0dXJuIGkuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCxoLDAscCwwLDAsYywxLDAsMCxkLDAsbyksYSYmby5tdWx0aXBseVRvUmVmKHl0LG8pLG8uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxvfSxpLlBlcnNwZWN0aXZlRm92TEg9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9MCksbz09PXZvaWQgMCYmKG89ITEpO3ZhciB1PW5ldyBpO3JldHVybiBpLlBlcnNwZWN0aXZlRm92TEhUb1JlZihlLHQscixuLHUsITAsYSxzLG8pLHV9LGkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXtzPT09dm9pZCAwJiYocz0hMCksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9ITEpO3ZhciBsPXIsaD1uLGM9MS9NYXRoLnRhbihlKi41KSxkPXM/Yy90OmMscD1zP2M6Yyp0LGc9ZiYmbD09PTA/LTE6aCE9PTA/KGgrbCkvKGgtbCk6MSxfPWYmJmw9PT0wPzIqaDpoIT09MD8tMipoKmwvKGgtbCk6LTIqbCx2PU1hdGgudGFuKHUpO2kuRnJvbVZhbHVlc1RvUmVmKGQsMCwwLDAsMCxwLDAsdiwwLDAsZywxLDAsMCxfLDAsYSksbyYmYS5tdWx0aXBseVRvUmVmKHl0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKX0saS5QZXJzcGVjdGl2ZUZvdlJldmVyc2VMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7cz09PXZvaWQgMCYmKHM9ITApLHU9PT12b2lkIDAmJih1PTApO3ZhciBmPTEvTWF0aC50YW4oZSouNSksbD1zP2YvdDpmLGg9cz9mOmYqdCxjPU1hdGgudGFuKHUpO2kuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCxoLDAsYywwLDAsLXIsMSwwLDAsMSwwLGEpLG8mJmEubXVsdGlwbHlUb1JlZih5dCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZSSD1mdW5jdGlvbihlLHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0wKSxvPT09dm9pZCAwJiYobz0hMSk7dmFyIHU9bmV3IGk7cmV0dXJuIGkuUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxyLG4sdSwhMCxhLHMsbyksdX0saS5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYpe3M9PT12b2lkIDAmJihzPSEwKSx1PT09dm9pZCAwJiYodT0wKSxmPT09dm9pZCAwJiYoZj0hMSk7dmFyIGw9cixoPW4sYz0xL01hdGgudGFuKGUqLjUpLGQ9cz9jL3Q6YyxwPXM/YzpjKnQsZz1mJiZsPT09MD8xOmghPT0wPy0oaCtsKS8oaC1sKTotMSxfPWYmJmw9PT0wPzIqaDpoIT09MD8tMipoKmwvKGgtbCk6LTIqbCx2PU1hdGgudGFuKHUpO2kuRnJvbVZhbHVlc1RvUmVmKGQsMCwwLDAsMCxwLDAsdiwwLDAsZywtMSwwLDAsXywwLGEpLG8mJmEubXVsdGlwbHlUb1JlZih5dCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZSZXZlcnNlUkhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3M9PT12b2lkIDAmJihzPSEwKSx1PT09dm9pZCAwJiYodT0wKTt2YXIgZj0xL01hdGgudGFuKGUqLjUpLGw9cz9mL3Q6ZixoPXM/ZjpmKnQsYz1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsaCwwLGMsMCwwLC1yLC0xLDAsMCwtMSwwLGEpLG8mJmEubXVsdGlwbHlUb1JlZih5dCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZXZWJWUlRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe2E9PT12b2lkIDAmJihhPSExKSxvPT09dm9pZCAwJiYobz0wKTt2YXIgdT1hPy0xOjEsZj1NYXRoLnRhbihlLnVwRGVncmVlcypNYXRoLlBJLzE4MCksbD1NYXRoLnRhbihlLmRvd25EZWdyZWVzKk1hdGguUEkvMTgwKSxoPU1hdGgudGFuKGUubGVmdERlZ3JlZXMqTWF0aC5QSS8xODApLGM9TWF0aC50YW4oZS5yaWdodERlZ3JlZXMqTWF0aC5QSS8xODApLGQ9Mi8oaCtjKSxwPTIvKGYrbCksZz1NYXRoLnRhbihvKSxfPW4uX207X1swXT1kLF9bMV09X1syXT1fWzNdPV9bNF09MCxfWzVdPXAsX1s2XT0wLF9bN109ZyxfWzhdPShoLWMpKmQqLjUsX1s5XT0tKChmLWwpKnAqLjUpLF9bMTBdPS1yLyh0LXIpLF9bMTFdPTEqdSxfWzEyXT1fWzEzXT1fWzE1XT0wLF9bMTRdPS0oMipyKnQpLyhyLXQpLHMmJm4ubXVsdGlwbHlUb1JlZih5dCxuKSxuLm1hcmtBc1VwZGF0ZWQoKX0saS5HZXRGaW5hbE1hdHJpeD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89ZS53aWR0aCx1PWUuaGVpZ2h0LGY9ZS54LGw9ZS55LGg9aS5Gcm9tVmFsdWVzKG8vMiwwLDAsMCwwLC11LzIsMCwwLDAsMCxzLWEsMCxmK28vMix1LzIrbCxhLDEpLGM9VS5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihyLGMpLGMubXVsdGlwbHlUb1JlZihuLGMpLGMubXVsdGlwbHkoaCl9LGkuR2V0QXNNYXRyaXgyeDI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tLHI9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBQdC5NYXRyaXhVc2U2NEJpdHM/cjpuZXcgRmxvYXQzMkFycmF5KHIpfSxpLkdldEFzTWF0cml4M3gzPWZ1bmN0aW9uKGUpe3ZhciB0PWUubSxyPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBQdC5NYXRyaXhVc2U2NEJpdHM/cjpuZXcgRmxvYXQzMkFycmF5KHIpfSxpLlRyYW5zcG9zZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9LGkuVHJhbnNwb3NlVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Ll9tLG49ZS5tO3JbMF09blswXSxyWzFdPW5bNF0sclsyXT1uWzhdLHJbM109blsxMl0scls0XT1uWzFdLHJbNV09bls1XSxyWzZdPW5bOV0scls3XT1uWzEzXSxyWzhdPW5bMl0scls5XT1uWzZdLHJbMTBdPW5bMTBdLHJbMTFdPW5bMTRdLHJbMTJdPW5bM10sclsxM109bls3XSxyWzE0XT1uWzExXSxyWzE1XT1uWzE1XSx0Lm1hcmtBc1VwZGF0ZWQoKSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhlLl9pc0lkZW50aXR5LGUuX2lzSWRlbnRpdHlEaXJ0eSl9LGkuUmVmbGVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fSxpLlJlZmxlY3Rpb25Ub1JlZj1mdW5jdGlvbihlLHQpe2Uubm9ybWFsaXplKCk7dmFyIHI9ZS5ub3JtYWwueCxuPWUubm9ybWFsLnksYT1lLm5vcm1hbC56LHM9LTIqcixvPS0yKm4sdT0tMiphO2kuRnJvbVZhbHVlc1RvUmVmKHMqcisxLG8qcix1KnIsMCxzKm4sbypuKzEsdSpuLDAscyphLG8qYSx1KmErMSwwLHMqZS5kLG8qZS5kLHUqZS5kLDEsdCl9LGkuRnJvbVhZWkF4ZXNUb1JlZj1mdW5jdGlvbihlLHQscixuKXtpLkZyb21WYWx1ZXNUb1JlZihlLl94LGUuX3ksZS5feiwwLHQuX3gsdC5feSx0Ll96LDAsci5feCxyLl95LHIuX3osMCwwLDAsMCwxLG4pfSxpLkZyb21RdWF0ZXJuaW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLl94KmUuX3gsbj1lLl95KmUuX3ksYT1lLl96KmUuX3oscz1lLl94KmUuX3ksbz1lLl96KmUuX3csdT1lLl96KmUuX3gsZj1lLl95KmUuX3csbD1lLl95KmUuX3osaD1lLl94KmUuX3c7dC5fbVswXT0xLTIqKG4rYSksdC5fbVsxXT0yKihzK28pLHQuX21bMl09MioodS1mKSx0Ll9tWzNdPTAsdC5fbVs0XT0yKihzLW8pLHQuX21bNV09MS0yKihhK3IpLHQuX21bNl09MioobCtoKSx0Ll9tWzddPTAsdC5fbVs4XT0yKih1K2YpLHQuX21bOV09MioobC1oKSx0Ll9tWzEwXT0xLTIqKG4rciksdC5fbVsxMV09MCx0Ll9tWzEyXT0wLHQuX21bMTNdPTAsdC5fbVsxNF09MCx0Ll9tWzE1XT0xLHQubWFya0FzVXBkYXRlZCgpfSxpLl9VcGRhdGVGbGFnU2VlZD0wLGkuX0lkZW50aXR5UmVhZE9ubHk9aS5JZGVudGl0eSgpLGl9KCksVT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuVmVjdG9yMz1BZS5CdWlsZFR1cGxlKDExLGIuWmVybyksaS5NYXRyaXg9QWUuQnVpbGRUdXBsZSgyLEkuSWRlbnRpdHkpLGkuUXVhdGVybmlvbj1BZS5CdWlsZFR1cGxlKDMsaWUuWmVybyksaX0oKSxEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5WZWN0b3IyPUFlLkJ1aWxkVHVwbGUoMyxTZS5aZXJvKSxpLlZlY3RvcjM9QWUuQnVpbGRUdXBsZSgxMyxiLlplcm8pLGkuVmVjdG9yND1BZS5CdWlsZFR1cGxlKDMsbXQuWmVybyksaS5RdWF0ZXJuaW9uPUFlLkJ1aWxkVHVwbGUoMixpZS5aZXJvKSxpLk1hdHJpeD1BZS5CdWlsZFR1cGxlKDgsSS5JZGVudGl0eSksaX0oKTt3ZSgiQkFCWUxPTi5WZWN0b3IyIixTZSksd2UoIkJBQllMT04uVmVjdG9yMyIsYiksd2UoIkJBQllMT04uVmVjdG9yNCIsbXQpLHdlKCJCQUJZTE9OLk1hdHJpeCIsSSk7dmFyIHl0PUkuRnJvbVZhbHVlcygxLDAsMCwwLDAsMSwwLDAsMCwwLC41LDAsMCwwLC41LDEpLE5yPWZ1bmN0aW9uKGksZSl7cmV0dXJuIE5yPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LHIpe3QuX19wcm90b19fPXJ9fHxmdW5jdGlvbih0LHIpe2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYodFtuXT1yW25dKX0sTnIoaSxlKX07ZnVuY3Rpb24gSyhpLGUpe2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24iJiZlIT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKGUpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO05yKGksZSk7ZnVuY3Rpb24gdCgpe3RoaXMuY29uc3RydWN0b3I9aX1pLnByb3RvdHlwZT1lPT09bnVsbD9PYmplY3QuY3JlYXRlKGUpOih0LnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgdCl9dmFyIGJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGJ0PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspe3Q9YXJndW1lbnRzW3JdO2Zvcih2YXIgYSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKX1yZXR1cm4gZX0sYnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBUKGksZSx0LHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsYT1uPDM/ZTpyPT09bnVsbD9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTpyLHM7aWYodHlwZW9mIFJlZmxlY3Q9PSJvYmplY3QiJiZ0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZT09ImZ1bmN0aW9uIilhPVJlZmxlY3QuZGVjb3JhdGUoaSxlLHQscik7ZWxzZSBmb3IodmFyIG89aS5sZW5ndGgtMTtvPj0wO28tLSkocz1pW29dKSYmKGE9KG48Mz9zKGEpOm4+Mz9zKGUsdCxhKTpzKGUsdCkpfHxhKTtyZXR1cm4gbj4zJiZhJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGEpLGF9ZnVuY3Rpb24gQnIoaSxlLHQscil7ZnVuY3Rpb24gbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHQ/YTpuZXcgdChmdW5jdGlvbihzKXtzKGEpfSl9cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoZnVuY3Rpb24oYSxzKXtmdW5jdGlvbiBvKGwpe3RyeXtmKHIubmV4dChsKSl9Y2F0Y2goaCl7cyhoKX19ZnVuY3Rpb24gdShsKXt0cnl7ZihyLnRocm93KGwpKX1jYXRjaChoKXtzKGgpfX1mdW5jdGlvbiBmKGwpe2wuZG9uZT9hKGwudmFsdWUpOm4obC52YWx1ZSkudGhlbihvLHUpfWYoKHI9ci5hcHBseShpLGV8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIEZ0KGksZSl7dmFyIHQ9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKGFbMF0mMSl0aHJvdyBhWzFdO3JldHVybiBhWzFdfSx0cnlzOltdLG9wczpbXX0scixuLGEscztyZXR1cm4gcz17bmV4dDpvKDApLHRocm93Om8oMSkscmV0dXJuOm8oMil9LHR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJihzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHM7ZnVuY3Rpb24gbyhmKXtyZXR1cm4gZnVuY3Rpb24obCl7cmV0dXJuIHUoW2YsbF0pfX1mdW5jdGlvbiB1KGYpe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLiIpO2Zvcig7dDspdHJ5e2lmKHI9MSxuJiYoYT1mWzBdJjI/bi5yZXR1cm46ZlswXT9uLnRocm93fHwoKGE9bi5yZXR1cm4pJiZhLmNhbGwobiksMCk6bi5uZXh0KSYmIShhPWEuY2FsbChuLGZbMV0pKS5kb25lKXJldHVybiBhO3N3aXRjaChuPTAsYSYmKGY9W2ZbMF0mMixhLnZhbHVlXSksZlswXSl7Y2FzZSAwOmNhc2UgMTphPWY7YnJlYWs7Y2FzZSA0OnJldHVybiB0LmxhYmVsKysse3ZhbHVlOmZbMV0sZG9uZTohMX07Y2FzZSA1OnQubGFiZWwrKyxuPWZbMV0sZj1bMF07Y29udGludWU7Y2FzZSA3OmY9dC5vcHMucG9wKCksdC50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoYT10LnRyeXMsIShhPWEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pJiYoZlswXT09PTZ8fGZbMF09PT0yKSl7dD0wO2NvbnRpbnVlfWlmKGZbMF09PT0zJiYoIWF8fGZbMV0+YVswXSYmZlsxXTxhWzNdKSl7dC5sYWJlbD1mWzFdO2JyZWFrfWlmKGZbMF09PT02JiZ0LmxhYmVsPGFbMV0pe3QubGFiZWw9YVsxXSxhPWY7YnJlYWt9aWYoYSYmdC5sYWJlbDxhWzJdKXt0LmxhYmVsPWFbMl0sdC5vcHMucHVzaChmKTticmVha31hWzJdJiZ0Lm9wcy5wb3AoKSx0LnRyeXMucG9wKCk7Y29udGludWV9Zj1lLmNhbGwoaSx0KX1jYXRjaChsKXtmPVs2LGxdLG49MH1maW5hbGx5e3I9YT0wfWlmKGZbMF0mNSl0aHJvdyBmWzFdO3JldHVybnt2YWx1ZTpmWzBdP2ZbMV06dm9pZCAwLGRvbmU6ITB9fX12YXIgVG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3Q9PT12b2lkIDAmJih0PSExKSx0aGlzLmluaXRpYWxpemUoZSx0LHIsbil9cmV0dXJuIGkucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLm1hc2s9ZSx0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzPXQsdGhpcy50YXJnZXQ9cix0aGlzLmN1cnJlbnRUYXJnZXQ9bix0aGlzfSxpfSgpLFNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5jYWxsYmFjaz1lLHRoaXMubWFzaz10LHRoaXMuc2NvcGU9cix0aGlzLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITEsdGhpcy51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMX1yZXR1cm4gaX0oKSxPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLl9vYnNlcnZlcnM9bmV3IEFycmF5LHRoaXMuX2V2ZW50U3RhdGU9bmV3IFRuKDApLGUmJih0aGlzLl9vbk9ic2VydmVyQWRkZWQ9ZSl9cmV0dXJuIGkuRnJvbVByb21pc2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKG4pe3Iubm90aWZ5T2JzZXJ2ZXJzKG4pfSkuY2F0Y2goZnVuY3Rpb24obil7aWYodCl0Lm5vdGlmeU9ic2VydmVycyhuKTtlbHNlIHRocm93IG59KSxyfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9ic2VydmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodD09PXZvaWQgMCYmKHQ9LTEpLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMSksIWUpcmV0dXJuIG51bGw7dmFyIHM9bmV3IFNuKGUsdCxuKTtyZXR1cm4gcy51bnJlZ2lzdGVyT25OZXh0Q2FsbD1hLHI/dGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQocyk6dGhpcy5fb2JzZXJ2ZXJzLnB1c2gocyksdGhpcy5fb25PYnNlcnZlckFkZGVkJiZ0aGlzLl9vbk9ic2VydmVyQWRkZWQocyksc30saS5wcm90b3R5cGUuYWRkT25jZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQoZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCwhMCl9LGkucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD10aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xPyh0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSksITApOiExfSxpLnByb3RvdHlwZS5yZW1vdmVDYWxsYmFjaz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuX29ic2VydmVyc1tyXTtpZighbi5fd2lsbEJlVW5yZWdpc3RlcmVkJiZuLmNhbGxiYWNrPT09ZSYmKCF0fHx0PT09bi5zY29wZSkpcmV0dXJuIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihuKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuX2RlZmVyVW5yZWdpc3Rlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UudW5yZWdpc3Rlck9uTmV4dENhbGw9ITEsZS5fd2lsbEJlVW5yZWdpc3RlcmVkPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9yZW1vdmUoZSl9LDApfSxpLnByb3RvdHlwZS5fcmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PXRoaXMuX29ic2VydmVycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTE/KHRoaXMuX29ic2VydmVycy5zcGxpY2UodCwxKSwhMCk6ITF9LGkucHJvdG90eXBlLm1ha2VPYnNlcnZlclRvcFByaW9yaXR5PWZ1bmN0aW9uKGUpe3RoaXMuX3JlbW92ZShlKSx0aGlzLl9vYnNlcnZlcnMudW5zaGlmdChlKX0saS5wcm90b3R5cGUubWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHk9ZnVuY3Rpb24oZSl7dGhpcy5fcmVtb3ZlKGUpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfSxpLnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnM9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0tMSksIXRoaXMuX29ic2VydmVycy5sZW5ndGgpcmV0dXJuITA7dmFyIHM9dGhpcy5fZXZlbnRTdGF0ZTtzLm1hc2s9dCxzLnRhcmdldD1yLHMuY3VycmVudFRhcmdldD1uLHMuc2tpcE5leHRPYnNlcnZlcnM9ITEscy5sYXN0UmV0dXJuVmFsdWU9ZSxzLnVzZXJJbmZvPWE7Zm9yKHZhciBvPTAsdT10aGlzLl9vYnNlcnZlcnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107aWYoIWYuX3dpbGxCZVVucmVnaXN0ZXJlZCYmKGYubWFzayZ0JiYoZi5zY29wZT9zLmxhc3RSZXR1cm5WYWx1ZT1mLmNhbGxiYWNrLmFwcGx5KGYuc2NvcGUsW2Usc10pOnMubGFzdFJldHVyblZhbHVlPWYuY2FsbGJhY2soZSxzKSxmLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoZikpLHMuc2tpcE5leHRPYnNlcnZlcnMpKXJldHVybiExfXJldHVybiEwfSxpLnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnNXaXRoUHJvbWlzZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPXRoaXM7dD09PXZvaWQgMCYmKHQ9LTEpO3ZhciBvPVByb21pc2UucmVzb2x2ZShlKTtpZighdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4gbzt2YXIgdT10aGlzLl9ldmVudFN0YXRlO3JldHVybiB1Lm1hc2s9dCx1LnRhcmdldD1yLHUuY3VycmVudFRhcmdldD1uLHUuc2tpcE5leHRPYnNlcnZlcnM9ITEsdS51c2VySW5mbz1hLHRoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKGYpe3Uuc2tpcE5leHRPYnNlcnZlcnN8fGYuX3dpbGxCZVVucmVnaXN0ZXJlZHx8Zi5tYXNrJnQmJihmLnNjb3BlP289by50aGVuKGZ1bmN0aW9uKGwpe3JldHVybiB1Lmxhc3RSZXR1cm5WYWx1ZT1sLGYuY2FsbGJhY2suYXBwbHkoZi5zY29wZSxbZSx1XSl9KTpvPW8udGhlbihmdW5jdGlvbihsKXtyZXR1cm4gdS5sYXN0UmV0dXJuVmFsdWU9bCxmLmNhbGxiYWNrKGUsdSl9KSxmLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZzLl9kZWZlclVucmVnaXN0ZXIoZikpfSksby50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0saS5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXI9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPS0xKSwhZS5fd2lsbEJlVW5yZWdpc3RlcmVkKXt2YXIgbj10aGlzLl9ldmVudFN0YXRlO24ubWFzaz1yLG4uc2tpcE5leHRPYnNlcnZlcnM9ITEsZS5jYWxsYmFjayh0LG4pLGUudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKX19LGkucHJvdG90eXBlLmhhc09ic2VydmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoPjB9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9vbk9ic2VydmVyQWRkZWQ9bnVsbH0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gZS5fb2JzZXJ2ZXJzPXRoaXMuX29ic2VydmVycy5zbGljZSgwKSxlfSxpLnByb3RvdHlwZS5oYXNTcGVjaWZpY01hc2s9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9LTEpO2Zvcih2YXIgdD0wLHI9dGhpcy5fb2JzZXJ2ZXJzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4ubWFzayZlfHxuLm1hc2s9PT1lKXJldHVybiEwfXJldHVybiExfSxpfSgpLE1uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVkV3JhcFU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBWIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBWfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVkV3JhcFY9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBSIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBSfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVkV3JhcFI9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbXBhcmlzb25GdW5jdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wYXJpc29uRnVuY3Rpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZU1pcE1hcHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlTWlwTWFwc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3VzZU1pcE1hcHM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MSksdD09PXZvaWQgMCYmKHQ9MSkscj09PXZvaWQgMCYmKHI9MSksbj09PXZvaWQgMCYmKG49MSksYT09PXZvaWQgMCYmKGE9Mikscz09PXZvaWQgMCYmKHM9MCksdGhpcy5fY2FjaGVkV3JhcFU9ZSx0aGlzLl9jYWNoZWRXcmFwVj10LHRoaXMuX2NhY2hlZFdyYXBSPXIsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1uLHRoaXMuc2FtcGxpbmdNb2RlPWEsdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPXMsdGhpc30saS5wcm90b3R5cGUuY29tcGFyZVNhbXBsZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPT09ZS5fY2FjaGVkV3JhcFUmJnRoaXMuX2NhY2hlZFdyYXBWPT09ZS5fY2FjaGVkV3JhcFYmJnRoaXMuX2NhY2hlZFdyYXBSPT09ZS5fY2FjaGVkV3JhcFImJnRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9PT1lLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsJiZ0aGlzLnNhbXBsaW5nTW9kZT09PWUuc2FtcGxpbmdNb2RlJiZ0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249PT1lLl9jb21wYXJpc29uRnVuY3Rpb24mJnRoaXMuX3VzZU1pcE1hcHM9PT1lLl91c2VNaXBNYXBzfSxpfSgpLG1lOyhmdW5jdGlvbihpKXtpW2kuVW5rbm93bj0wXT0iVW5rbm93biIsaVtpLlVybD0xXT0iVXJsIixpW2kuVGVtcD0yXT0iVGVtcCIsaVtpLlJhdz0zXT0iUmF3IixpW2kuRHluYW1pYz00XT0iRHluYW1pYyIsaVtpLlJlbmRlclRhcmdldD01XT0iUmVuZGVyVGFyZ2V0IixpW2kuTXVsdGlSZW5kZXJUYXJnZXQ9Nl09Ik11bHRpUmVuZGVyVGFyZ2V0IixpW2kuQ3ViZT03XT0iQ3ViZSIsaVtpLkN1YmVSYXc9OF09IkN1YmVSYXciLGlbaS5DdWJlUHJlZmlsdGVyZWQ9OV09IkN1YmVQcmVmaWx0ZXJlZCIsaVtpLlJhdzNEPTEwXT0iUmF3M0QiLGlbaS5SYXcyREFycmF5PTExXT0iUmF3MkRBcnJheSIsaVtpLkRlcHRoU3RlbmNpbD0xMl09IkRlcHRoU3RlbmNpbCIsaVtpLkN1YmVSYXdSR0JEPTEzXT0iQ3ViZVJhd1JHQkQiLGlbaS5EZXB0aD0xNF09IkRlcHRoIn0pKG1lfHwobWU9e30pKTt2YXIgd3Q9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT1pLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGEuaXNSZWFkeT0hMSxhLmlzQ3ViZT0hMSxhLmlzM0Q9ITEsYS5pczJEQXJyYXk9ITEsYS5pc011bHRpdmlldz0hMSxhLnVybD0iIixhLmdlbmVyYXRlTWlwTWFwcz0hMSxhLnNhbXBsZXM9MCxhLnR5cGU9LTEsYS5mb3JtYXQ9LTEsYS5vbkxvYWRlZE9ic2VydmFibGU9bmV3IE8sYS5vbkVycm9yT2JzZXJ2YWJsZT1uZXcgTyxhLm9uUmVidWlsZENhbGxiYWNrPW51bGwsYS53aWR0aD0wLGEuaGVpZ2h0PTAsYS5kZXB0aD0wLGEuYmFzZVdpZHRoPTAsYS5iYXNlSGVpZ2h0PTAsYS5iYXNlRGVwdGg9MCxhLmludmVydFk9ITEsYS5faW52ZXJ0VlNjYWxlPSExLGEuX2Fzc29jaWF0ZWRDaGFubmVsPS0xLGEuX3NvdXJjZT1tZS5Vbmtub3duLGEuX2J1ZmZlcj1udWxsLGEuX2J1ZmZlclZpZXc9bnVsbCxhLl9idWZmZXJWaWV3QXJyYXk9bnVsbCxhLl9idWZmZXJWaWV3QXJyYXlBcnJheT1udWxsLGEuX3NpemU9MCxhLl9leHRlbnNpb249IiIsYS5fZmlsZXM9bnVsbCxhLl93b3JraW5nQ2FudmFzPW51bGwsYS5fd29ya2luZ0NvbnRleHQ9bnVsbCxhLl9jYWNoZWRDb29yZGluYXRlc01vZGU9bnVsbCxhLl9pc0Rpc2FibGVkPSExLGEuX2NvbXByZXNzaW9uPW51bGwsYS5fc3BoZXJpY2FsUG9seW5vbWlhbD1udWxsLGEuX3NwaGVyaWNhbFBvbHlub21pYWxQcm9taXNlPW51bGwsYS5fc3BoZXJpY2FsUG9seW5vbWlhbENvbXB1dGVkPSExLGEuX2xvZEdlbmVyYXRpb25TY2FsZT0wLGEuX2xvZEdlbmVyYXRpb25PZmZzZXQ9MCxhLl91c2VTUkdCQnVmZmVyPSExLGEuX2xvZFRleHR1cmVIaWdoPW51bGwsYS5fbG9kVGV4dHVyZU1pZD1udWxsLGEuX2xvZFRleHR1cmVMb3c9bnVsbCxhLl9pc1JHQkQ9ITEsYS5fbGluZWFyU3BlY3VsYXJMT0Q9ITEsYS5faXJyYWRpYW5jZVRleHR1cmU9bnVsbCxhLl9oYXJkd2FyZVRleHR1cmU9bnVsbCxhLl9tYXhMb2RMZXZlbD1udWxsLGEuX3JlZmVyZW5jZXM9MSxhLl9nYW1tYVNwYWNlPW51bGwsYS5fZW5naW5lPXQsYS5fc291cmNlPXIsYS5fdW5pcXVlSWQ9ZS5fQ291bnRlcisrLG58fChhLl9oYXJkd2FyZVRleHR1cmU9dC5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpLGF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlTWlwTWFwcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdlbmVyYXRlTWlwTWFwc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1bmlxdWVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlxdWVJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaW5jcmVtZW50UmVmZXJlbmNlcz1mdW5jdGlvbigpe3RoaXMuX3JlZmVyZW5jZXMrK30sZS5wcm90b3R5cGUudXBkYXRlU2l6ZT1mdW5jdGlvbih0LHIsbil7bj09PXZvaWQgMCYmKG49MSksdGhpcy5fZW5naW5lLnVwZGF0ZVRleHR1cmVEaW1lbnNpb25zKHRoaXMsdCxyLG4pLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1yLHRoaXMuZGVwdGg9bix0aGlzLmJhc2VXaWR0aD10LHRoaXMuYmFzZUhlaWdodD1yLHRoaXMuYmFzZURlcHRoPW4sdGhpcy5fc2l6ZT10KnIqbn0sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI7aWYodGhpcy5pc1JlYWR5PSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLm9uUmVidWlsZENhbGxiYWNrKXt2YXIgbj10aGlzLm9uUmVidWlsZENhbGxiYWNrKHRoaXMpLGE9ZnVuY3Rpb24obyl7by5fc3dhcEFuZERpZSh0LCExKSx0LmlzUmVhZHk9bi5pc1JlYWR5fTtuLmlzQXN5bmM/bi5wcm94eS50aGVuKGEpOmEobi5wcm94eSk7cmV0dXJufXZhciBzO3N3aXRjaCh0aGlzLnNvdXJjZSl7Y2FzZSBtZS5UZW1wOmJyZWFrO2Nhc2UgbWUuVXJsOnM9dGhpcy5fZW5naW5lLmNyZWF0ZVRleHR1cmUoKHI9dGhpcy5fb3JpZ2luYWxVcmwpIT09bnVsbCYmciE9PXZvaWQgMD9yOnRoaXMudXJsLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksbnVsbCx0aGlzLnNhbXBsaW5nTW9kZSxmdW5jdGlvbigpe3MuX3N3YXBBbmREaWUodCwhMSksdC5pc1JlYWR5PSEwfSxudWxsLHRoaXMuX2J1ZmZlcix2b2lkIDAsdGhpcy5mb3JtYXQsdGhpcy5fZXh0ZW5zaW9uLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpO3JldHVybjtjYXNlIG1lLlJhdzpzPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlKHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHMuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgbWUuUmF3M0Q6cz10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTNEKHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuYmFzZURlcHRoLHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUpLHMuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgbWUuUmF3MkRBcnJheTpzPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIG1lLkR5bmFtaWM6cz10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1RleHR1cmUodGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuc2FtcGxpbmdNb2RlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVGV4dHVyZSh0aGlzLHRoaXMuX2VuZ2luZS5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmludmVydFksdm9pZCAwLHZvaWQgMCwhMCk7YnJlYWs7Y2FzZSBtZS5DdWJlOnM9dGhpcy5fZW5naW5lLmNyZWF0ZUN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fZmlsZXMsIXRoaXMuZ2VuZXJhdGVNaXBNYXBzLGZ1bmN0aW9uKCl7cy5fc3dhcEFuZERpZSh0LCExKSx0LmlzUmVhZHk9ITB9LG51bGwsdGhpcy5mb3JtYXQsdGhpcy5fZXh0ZW5zaW9uLCExLDAsMCxudWxsLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSBtZS5DdWJlUmF3OnM9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd0N1YmVUZXh0dXJlKHRoaXMuX2J1ZmZlclZpZXdBcnJheSx0aGlzLndpZHRoLHRoaXMuZm9ybWF0LHRoaXMudHlwZSx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24pLHMuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgbWUuQ3ViZVJhd1JHQkQ6cmV0dXJuO2Nhc2UgbWUuQ3ViZVByZWZpbHRlcmVkOnM9dGhpcy5fZW5naW5lLmNyZWF0ZVByZWZpbHRlcmVkQ3ViZVRleHR1cmUodGhpcy51cmwsbnVsbCx0aGlzLl9sb2RHZW5lcmF0aW9uU2NhbGUsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldCxmdW5jdGlvbihvKXtvJiZvLl9zd2FwQW5kRGllKHQsITEpLHQuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24pLHMuX3NwaGVyaWNhbFBvbHlub21pYWw9dGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbDtyZXR1cm59fSxlLnByb3RvdHlwZS5fc3dhcEFuZERpZT1mdW5jdGlvbih0LHIpe3ZhciBuO3I9PT12b2lkIDAmJihyPSEwKSwobj10aGlzLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5zZXRVc2FnZSh0Ll9zb3VyY2UsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pc0N1YmUsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdC5faGFyZHdhcmVUZXh0dXJlPXRoaXMuX2hhcmR3YXJlVGV4dHVyZSxyJiYodC5faXNSR0JEPXRoaXMuX2lzUkdCRCksdGhpcy5fbG9kVGV4dHVyZUhpZ2gmJih0Ll9sb2RUZXh0dXJlSGlnaCYmdC5fbG9kVGV4dHVyZUhpZ2guZGlzcG9zZSgpLHQuX2xvZFRleHR1cmVIaWdoPXRoaXMuX2xvZFRleHR1cmVIaWdoKSx0aGlzLl9sb2RUZXh0dXJlTWlkJiYodC5fbG9kVGV4dHVyZU1pZCYmdC5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksdC5fbG9kVGV4dHVyZU1pZD10aGlzLl9sb2RUZXh0dXJlTWlkKSx0aGlzLl9sb2RUZXh0dXJlTG93JiYodC5fbG9kVGV4dHVyZUxvdyYmdC5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksdC5fbG9kVGV4dHVyZUxvdz10aGlzLl9sb2RUZXh0dXJlTG93KSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZSYmKHQuX2lycmFkaWFuY2VUZXh0dXJlJiZ0Ll9pcnJhZGlhbmNlVGV4dHVyZS5kaXNwb3NlKCksdC5faXJyYWRpYW5jZVRleHR1cmU9dGhpcy5faXJyYWRpYW5jZVRleHR1cmUpO3ZhciBhPXRoaXMuX2VuZ2luZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCkscz1hLmluZGV4T2YodGhpcyk7cyE9PS0xJiZhLnNwbGljZShzLDEpLHM9YS5pbmRleE9mKHQpLHM9PT0tMSYmYS5wdXNoKHQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fcmVmZXJlbmNlcy0tLHRoaXMub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3JlZmVyZW5jZXM9PT0wJiYodGhpcy5fZW5naW5lLl9yZWxlYXNlVGV4dHVyZSh0aGlzKSx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCl9LGUuX0NvdW50ZXI9MCxlfShNbik7ZnVuY3Rpb24geWUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSJ9ZnVuY3Rpb24gVGkoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSJ9ZnVuY3Rpb24gZnIoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PCJ1In1mdW5jdGlvbiBVcihpKXtmb3IodmFyIGU9IiIsdD1pLmZpcnN0Q2hpbGQ7dDspdC5ub2RlVHlwZT09PTMmJihlKz10LnRleHRDb250ZW50KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGV9dmFyIFZyPXtJc1dpbmRvd09iamVjdEV4aXN0OnllLElzTmF2aWdhdG9yQXZhaWxhYmxlOlRpLElzRG9jdW1lbnRBdmFpbGFibGU6ZnIsR2V0RE9NVGV4dENvbnRlbnQ6VXJ9O2Z1bmN0aW9uIFgoaSl7cmV0dXJuIiIuY29uY2F0KGksIiBuZWVkcyB0byBiZSBpbXBvcnRlZCBiZWZvcmUgYXMgaXQgY29udGFpbnMgYSBzaWRlLWVmZmVjdCByZXF1aXJlZCBieSB5b3VyIGNvZGUuIil9dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLl9DaGVja0xpbWl0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5fTG9nTGltaXRPdXRwdXRzW2VdO3JldHVybiByP3IuY3VycmVudCsrOihyPXtsaW1pdDp0LGN1cnJlbnQ6MX0saS5fTG9nTGltaXRPdXRwdXRzW2VdPXIpLHIuY3VycmVudDw9ci5saW1pdH0saS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLl9Mb2dMaW1pdE91dHB1dHNbZV07aWYoISghcnx8IWkuTWVzc2FnZUxpbWl0UmVhY2hlZCkmJnIuY3VycmVudD09PXIubGltaXQpc3dpdGNoKHQpe2Nhc2UgMDppLkxvZyhpLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3IubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLCJsb2ciKSk7YnJlYWs7Y2FzZSAxOmkuV2FybihpLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3IubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLCJ3YXJuaW5nIikpO2JyZWFrO2Nhc2UgMjppLkVycm9yKGkuTWVzc2FnZUxpbWl0UmVhY2hlZC5yZXBsYWNlKC8lTElNSVQlL2csIiIrci5saW1pdCkucmVwbGFjZSgvJVRZUEUlL2csImVycm9yIikpO2JyZWFrfX0saS5fQWRkTG9nRW50cnk9ZnVuY3Rpb24oZSl7aS5fTG9nQ2FjaGU9ZStpLl9Mb2dDYWNoZSxpLk9uTmV3Q2FjaGVFbnRyeSYmaS5Pbk5ld0NhY2hlRW50cnkoZSl9LGkuX0Zvcm1hdE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24obil7cmV0dXJuIG48MTA/IjAiK246IiIrbn0scj1uZXcgRGF0ZTtyZXR1cm4iWyIrdChyLmdldEhvdXJzKCkpKyI6Iit0KHIuZ2V0TWludXRlcygpKSsiOiIrdChyLmdldFNlY29uZHMoKSkrIl06ICIrZX0saS5fTG9nRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0xvZ0VuYWJsZWQ9ZnVuY3Rpb24oZSx0KXtpZighKHQhPT12b2lkIDAmJiFpLl9DaGVja0xpbWl0KGUsdCkpKXt2YXIgcj1pLl9Gb3JtYXRNZXNzYWdlKGUpO2NvbnNvbGUubG9nKCJCSlMgLSAiK3IpO3ZhciBuPSI8ZGl2IHN0eWxlPSdjb2xvcjp3aGl0ZSc+IityKyI8L2Rpdj48YnI+IjtpLl9BZGRMb2dFbnRyeShuKSxpLl9HZW5lcmF0ZUxpbWl0TWVzc2FnZShlLDApfX0saS5fV2FybkRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9XYXJuRW5hYmxlZD1mdW5jdGlvbihlLHQpe2lmKCEodCE9PXZvaWQgMCYmIWkuX0NoZWNrTGltaXQoZSx0KSkpe3ZhciByPWkuX0Zvcm1hdE1lc3NhZ2UoZSk7Y29uc29sZS53YXJuKCJCSlMgLSAiK3IpO3ZhciBuPSI8ZGl2IHN0eWxlPSdjb2xvcjpvcmFuZ2UnPiIrZSsiPC9kaXY+PGJyPiI7aS5fQWRkTG9nRW50cnkobiksaS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSwxKX19LGkuX0Vycm9yRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0Vycm9yRW5hYmxlZD1mdW5jdGlvbihlLHQpe2lmKCEodCE9PXZvaWQgMCYmIWkuX0NoZWNrTGltaXQoZSx0KSkpe3ZhciByPWkuX0Zvcm1hdE1lc3NhZ2UoZSk7aS5lcnJvcnNDb3VudCsrLGNvbnNvbGUuZXJyb3IoIkJKUyAtICIrcik7dmFyIG49IjxkaXYgc3R5bGU9J2NvbG9yOnJlZCc+IityKyI8L2Rpdj48YnI+IjtpLl9BZGRMb2dFbnRyeShuKSxpLl9HZW5lcmF0ZUxpbWl0TWVzc2FnZShlLDIpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxvZ0NhY2hlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0xvZ0NhY2hlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2xlYXJMb2dDYWNoZT1mdW5jdGlvbigpe2kuX0xvZ0NhY2hlPSIiLGkuX0xvZ0xpbWl0T3V0cHV0cz17fSxpLmVycm9yc0NvdW50PTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dMZXZlbHMiLHtzZXQ6ZnVuY3Rpb24oZSl7KGUmaS5NZXNzYWdlTG9nTGV2ZWwpPT09aS5NZXNzYWdlTG9nTGV2ZWw/aS5Mb2c9aS5fTG9nRW5hYmxlZDppLkxvZz1pLl9Mb2dEaXNhYmxlZCwoZSZpLldhcm5pbmdMb2dMZXZlbCk9PT1pLldhcm5pbmdMb2dMZXZlbD9pLldhcm49aS5fV2FybkVuYWJsZWQ6aS5XYXJuPWkuX1dhcm5EaXNhYmxlZCwoZSZpLkVycm9yTG9nTGV2ZWwpPT09aS5FcnJvckxvZ0xldmVsP2kuRXJyb3I9aS5fRXJyb3JFbmFibGVkOmkuRXJyb3I9aS5fRXJyb3JEaXNhYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLk5vbmVMb2dMZXZlbD0wLGkuTWVzc2FnZUxvZ0xldmVsPTEsaS5XYXJuaW5nTG9nTGV2ZWw9MixpLkVycm9yTG9nTGV2ZWw9NCxpLkFsbExvZ0xldmVsPTcsaS5NZXNzYWdlTGltaXRSZWFjaGVkPSJUb28gbWFueSAlVFlQRSVzICglTElNSVQlKSwgbm8gbW9yZSAlVFlQRSVzIHdpbGwgYmUgcmVwb3J0ZWQgZm9yIHRoaXMgbWVzc2FnZS4iLGkuX0xvZ0NhY2hlPSIiLGkuX0xvZ0xpbWl0T3V0cHV0cz17fSxpLmVycm9yc0NvdW50PTAsaS5Mb2c9aS5fTG9nRW5hYmxlZCxpLldhcm49aS5fV2FybkVuYWJsZWQsaS5FcnJvcj1pLl9FcnJvckVuYWJsZWQsaX0oKSxqdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmNoaWxkcmVuPVtdfXJldHVybiBpLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEwfSxpLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9IiI7aWYodGhpcy5saW5lKXt2YXIgbj10aGlzLmxpbmUsYT10LnByb2Nlc3NvcjtpZihhKXtpZihhLmxpbmVQcm9jZXNzb3ImJihuPWEubGluZVByb2Nlc3NvcihuLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSksYS5hdHRyaWJ1dGVQcm9jZXNzb3ImJnRoaXMubGluZS5zdGFydHNXaXRoKCJhdHRyaWJ1dGUiKSluPWEuYXR0cmlidXRlUHJvY2Vzc29yKHRoaXMubGluZSxlLHQucHJvY2Vzc2luZ0NvbnRleHQpO2Vsc2UgaWYoYS52YXJ5aW5nUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidmFyeWluZyIpKW49YS52YXJ5aW5nUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTtlbHNlIGlmKGEudW5pZm9ybVByb2Nlc3NvciYmYS51bmlmb3JtUmVnZXhwJiZhLnVuaWZvcm1SZWdleHAudGVzdCh0aGlzLmxpbmUpKXQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KG49YS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk7ZWxzZSBpZihhLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJmEudW5pZm9ybUJ1ZmZlclJlZ2V4cCYmYS51bmlmb3JtQnVmZmVyUmVnZXhwLnRlc3QodGhpcy5saW5lKSl0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXJ8fChuPWEudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCk7ZWxzZSBpZihhLnRleHR1cmVQcm9jZXNzb3ImJmEudGV4dHVyZVJlZ2V4cCYmYS50ZXh0dXJlUmVnZXhwLnRlc3QodGhpcy5saW5lKSluPWEudGV4dHVyZVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCk7ZWxzZSBpZigoYS51bmlmb3JtUHJvY2Vzc29yfHxhLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IpJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyKXt2YXIgcz0vdW5pZm9ybVxzKyg/Oig/OmhpZ2hwKT98KD86bG93cCk/KVxzKihcUyspXHMrKFxTKylccyo7LztzLnRlc3QodGhpcy5saW5lKT9hLnVuaWZvcm1Qcm9jZXNzb3ImJihuPWEudW5pZm9ybVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCkpOmEudW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKG49YS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSEwKX10Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSxhLmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKG49YS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpfXIrPW4rYFxyCmB9cmV0dXJuIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihvKXtyKz1vLnByb2Nlc3MoZSx0KX0pLHRoaXMuYWRkaXRpb25hbERlZmluZUtleSYmKGVbdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5XT10aGlzLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZXx8InRydWUiKSxyfSxpfSgpLEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50TGluZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lc1t0aGlzLmxpbmVJbmRleF19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjYW5SZWFkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZUluZGV4PHRoaXMuX2xpbmVzLmxlbmd0aC0xfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibGluZXMiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbGluZXM9W107Zm9yKHZhciB0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG5bMF09PT0iIyIpe3RoaXMuX2xpbmVzLnB1c2gobik7Y29udGludWV9aWYobi50cmltKCkuc3RhcnRzV2l0aCgiLy8iKSl7dGhpcy5fbGluZXMucHVzaChuKTtjb250aW51ZX1mb3IodmFyIGE9bi5zcGxpdCgiOyIpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIG89YVtzXTtvPW8udHJpbSgpLG8mJnRoaXMuX2xpbmVzLnB1c2gobysocyE9PWEubGVuZ3RoLTE/IjsiOiIiKSl9fX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpfSgpLGtyPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgYT10aGlzLmNoaWxkcmVuW25dO2lmKGEuaXNWYWxpZCh0KSlyZXR1cm4gYS5wcm9jZXNzKHQscil9cmV0dXJuIiJ9LGV9KGp0KSxSbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGVzdEV4cHJlc3Npb24uaXNUcnVlKHQpfSxlfShqdCksS3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLnByb3RvdHlwZS5pc1RydWU9ZnVuY3Rpb24oZSl7cmV0dXJuITB9LGkucG9zdGZpeFRvSW5maXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MCxuPWU7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoaS5fT3BlcmF0b3JQcmlvcml0eVthXT09PXZvaWQgMCl0LnB1c2goYSk7ZWxzZXt2YXIgcz10W3QubGVuZ3RoLTFdLG89dFt0Lmxlbmd0aC0yXTt0Lmxlbmd0aC09Mix0LnB1c2goIigiLmNvbmNhdChvKS5jb25jYXQoYSkuY29uY2F0KHMsIikiKSl9fXJldHVybiB0W3QubGVuZ3RoLTFdfSxpLmluZml4VG9Qb3N0Zml4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPS0xLG49ZnVuY3Rpb24oKXtmPWYudHJpbSgpLGYhPT0iIiYmKHQucHVzaChmKSxmPSIiKX0sYT1mdW5jdGlvbihjKXtyPGkuX1N0YWNrLmxlbmd0aC0xJiYoaS5fU3RhY2tbKytyXT1jKX0scz1mdW5jdGlvbigpe3JldHVybiBpLl9TdGFja1tyXX0sbz1mdW5jdGlvbigpe3JldHVybiByPT09LTE/IiEhSU5WQUxJRCBFWFBSRVNTSU9OISEiOmkuX1N0YWNrW3ItLV19LHU9MCxmPSIiO3U8ZS5sZW5ndGg7KXt2YXIgbD1lLmNoYXJBdCh1KSxoPXU8ZS5sZW5ndGgtMT9lLnN1YnN0cih1LDIpOiIiO2lmKGw9PT0iKCIpZj0iIixhKGwpO2Vsc2UgaWYobD09PSIpIil7Zm9yKG4oKTtyIT09LTEmJnMoKSE9PSIoIjspdC5wdXNoKG8oKSk7bygpfWVsc2UgaWYoaS5fT3BlcmF0b3JQcmlvcml0eVtoXT4xKXtmb3IobigpO3IhPT0tMSYmaS5fT3BlcmF0b3JQcmlvcml0eVtzKCldPj1pLl9PcGVyYXRvclByaW9yaXR5W2hdOyl0LnB1c2gobygpKTthKGgpLHUrK31lbHNlIGYrPWw7dSsrfWZvcihuKCk7ciE9PS0xOylzKCk9PT0iKCI/bygpOnQucHVzaChvKCkpO3JldHVybiB0fSxpLl9PcGVyYXRvclByaW9yaXR5PXsiKSI6MCwiKCI6MSwifHwiOjIsIiYmIjozfSxpLl9TdGFjaz1bIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiJdLGl9KCksbHI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmRlZmluZT10LG4ubm90PXIsbn1yZXR1cm4gZS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKHQpe3ZhciByPXRbdGhpcy5kZWZpbmVdIT09dm9pZCAwO3JldHVybiB0aGlzLm5vdCYmKHI9IXIpLHJ9LGV9KEt0KSxQbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUodCl8fHRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZSh0KX0sZX0oS3QpLENuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZSh0KSYmdGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKHQpfSxlfShLdCkseG49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5kZWZpbmU9dCxhLm9wZXJhbmQ9cixhLnRlc3RWYWx1ZT1uLGF9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXt2YXIgcj10W3RoaXMuZGVmaW5lXTtyPT09dm9pZCAwJiYocj10aGlzLmRlZmluZSk7dmFyIG49ITEsYT1wYXJzZUludChyKSxzPXBhcnNlSW50KHRoaXMudGVzdFZhbHVlKTtzd2l0Y2godGhpcy5vcGVyYW5kKXtjYXNlIj4iOm49YT5zO2JyZWFrO2Nhc2UiPCI6bj1hPHM7YnJlYWs7Y2FzZSI8PSI6bj1hPD1zO2JyZWFrO2Nhc2UiPj0iOm49YT49czticmVhaztjYXNlIj09IjpuPWE9PT1zO2JyZWFrfXJldHVybiBufSxlfShLdCksQ2U7KGZ1bmN0aW9uKGkpe2lbaS5HTFNMPTBdPSJHTFNMIixpW2kuV0dTTD0xXT0iV0dTTCJ9KShDZXx8KENlPXt9KSk7dmFyIERuPS9kZWZpbmVkXHMqP1woKC4rPylcKS9nLFdyPS9kZWZpbmVkXHMqP1xbKC4rPylcXS9nLFNpPS8jaW5jbHVkZVxzPzwoLispPihcKCguKilcKSkqKFxbKC4qKVxdKSovZyxZdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuSW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtlLnByb2Nlc3NvciYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMmJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzKGUucHJvY2Vzc2luZ0NvbnRleHQpfSxpLlByb2Nlc3M9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcyxzOyEoKHM9dC5wcm9jZXNzb3IpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxmdW5jdGlvbihvKXt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG89dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbykpO3ZhciB1PWEuX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uKG8sdCxuKTtyKHUpfSl9LGkuUHJlUHJvY2Vzcz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLHM7ISgocz10LnByb2Nlc3Nvcik9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LGZ1bmN0aW9uKG8pe3QucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzJiYobz10LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0LmlzRnJhZ21lbnQ/ImZyYWdtZW50IjoidmVydGV4IixvKSk7dmFyIHU9YS5fQXBwbHlQcmVQcm9jZXNzaW5nKG8sdCxuKTtyKHUpfSl9LGkuRmluYWxpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiFyLnByb2Nlc3Nvcnx8IXIucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycz97dmVydGV4Q29kZTplLGZyYWdtZW50Q29kZTp0fTpyLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnMoZSx0LHIucHJvY2Vzc2luZ0NvbnRleHQpfSxpLl9Qcm9jZXNzUHJlY2lzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5ub1ByZWNpc2lvbilyZXR1cm4gZTt2YXIgbj10LnNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI7cmV0dXJuIGUuaW5kZXhPZigicHJlY2lzaW9uIGhpZ2hwIGZsb2F0Iik9PT0tMT9uP2U9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYCtlOmU9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpgK2U6bnx8KGU9ZS5yZXBsYWNlKCJwcmVjaXNpb24gaGlnaHAgZmxvYXQiLCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdCIpKSxlfSxpLl9FeHRyYWN0T3BlcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PS9kZWZpbmVkXCgoLispXCkvLHI9dC5leGVjKGUpO2lmKHImJnIubGVuZ3RoKXJldHVybiBuZXcgbHIoclsxXS50cmltKCksZVswXT09PSIhIik7Zm9yKHZhciBuPVsiPT0iLCI+PSIsIjw9IiwiPCIsIj4iXSxhPSIiLHM9MCxvPTAsdT1uO288dS5sZW5ndGgmJihhPXVbb10scz1lLmluZGV4T2YoYSksIShzPi0xKSk7bysrKTtpZihzPT09LTEpcmV0dXJuIG5ldyBscihlKTt2YXIgZj1lLnN1YnN0cmluZygwLHMpLnRyaW0oKSxsPWUuc3Vic3RyaW5nKHMrYS5sZW5ndGgpLnRyaW0oKTtyZXR1cm4gbmV3IHhuKGYsYSxsKX0saS5fQnVpbGRTdWJFeHByZXNzaW9uPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKERuLCJkZWZpbmVkWyQxXSIpO2Zvcih2YXIgdD1LdC5pbmZpeFRvUG9zdGZpeChlKSxyPVtdLG49MCxhPXQ7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07aWYocyE9PSJ8fCImJnMhPT0iJiYiKXIucHVzaChzKTtlbHNlIGlmKHIubGVuZ3RoPj0yKXt2YXIgbz1yW3IubGVuZ3RoLTFdLHU9cltyLmxlbmd0aC0yXTtyLmxlbmd0aC09Mjt2YXIgZj1zPT0iJiYiP25ldyBDbjpuZXcgUG47dHlwZW9mIG89PSJzdHJpbmciJiYobz1vLnJlcGxhY2UoV3IsImRlZmluZWQoJDEpIikpLHR5cGVvZiB1PT0ic3RyaW5nIiYmKHU9dS5yZXBsYWNlKFdyLCJkZWZpbmVkKCQxKSIpKSxmLmxlZnRPcGVyYW5kPXR5cGVvZiB1PT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHUpOnUsZi5yaWdodE9wZXJhbmQ9dHlwZW9mIG89PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obyk6byxyLnB1c2goZil9fXZhciBsPXJbci5sZW5ndGgtMV07cmV0dXJuIHR5cGVvZiBsPT0ic3RyaW5nIiYmKGw9bC5yZXBsYWNlKFdyLCJkZWZpbmVkKCQxKSIpKSx0eXBlb2YgbD09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihsKTpsfSxpLl9CdWlsZEV4cHJlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUm4sbj1lLnN1YnN0cmluZygwLHQpLGE9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIGE9YS5zdWJzdHJpbmcoMCwoYS5pbmRleE9mKCIvLyIpKzF8fGEubGVuZ3RoKzEpLTEpLnRyaW0oKSxuPT09IiNpZmRlZiI/ci50ZXN0RXhwcmVzc2lvbj1uZXcgbHIoYSk6bj09PSIjaWZuZGVmIj9yLnRlc3RFeHByZXNzaW9uPW5ldyBscihhLCEwKTpyLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihhKSxyfSxpLl9Nb3ZlQ3Vyc29yV2l0aGluSWY9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1lLmN1cnJlbnRMaW5lO3RoaXMuX01vdmVDdXJzb3IoZSxyKTspe249ZS5jdXJyZW50TGluZTt2YXIgYT1uLnN1YnN0cmluZygwLDUpLnRvTG93ZXJDYXNlKCk7aWYoYT09PSIjZWxzZSIpe3ZhciBzPW5ldyBqdDt0LmNoaWxkcmVuLnB1c2gocyksdGhpcy5fTW92ZUN1cnNvcihlLHMpO3JldHVybn1lbHNlIGlmKGE9PT0iI2VsaWYiKXt2YXIgbz10aGlzLl9CdWlsZEV4cHJlc3Npb24obiw1KTt0LmNoaWxkcmVuLnB1c2gobykscj1vfX19LGkuX01vdmVDdXJzb3I9ZnVuY3Rpb24oZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7dmFyIHI9ZS5jdXJyZW50TGluZSxuPS8oI2lmZGVmKXwoI2Vsc2UpfCgjZWxpZil8KCNlbmRpZil8KCNpZm5kZWYpfCgjaWYpLyxhPW4uZXhlYyhyKTtpZihhJiZhLmxlbmd0aCl7dmFyIHM9YVswXTtzd2l0Y2gocyl7Y2FzZSIjaWZkZWYiOnt2YXIgbz1uZXcga3I7dC5jaGlsZHJlbi5wdXNoKG8pO3ZhciB1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDYpO28uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfWNhc2UiI2Vsc2UiOmNhc2UiI2VsaWYiOnJldHVybiEwO2Nhc2UiI2VuZGlmIjpyZXR1cm4hMTtjYXNlIiNpZm5kZWYiOnt2YXIgbz1uZXcga3I7dC5jaGlsZHJlbi5wdXNoKG8pO3ZhciB1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDcpO28uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfWNhc2UiI2lmIjp7dmFyIG89bmV3IGtyLHU9dGhpcy5fQnVpbGRFeHByZXNzaW9uKHIsMyk7dC5jaGlsZHJlbi5wdXNoKG8pLG8uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfX19ZWxzZXt2YXIgZj1uZXcganQ7aWYoZi5saW5lPXIsdC5jaGlsZHJlbi5wdXNoKGYpLHJbMF09PT0iIyImJnJbMV09PT0iZCIpe3ZhciBsPXIucmVwbGFjZSgiOyIsIiIpLnNwbGl0KCIgIik7Zi5hZGRpdGlvbmFsRGVmaW5lS2V5PWxbMV0sbC5sZW5ndGg9PT0zJiYoZi5hZGRpdGlvbmFsRGVmaW5lVmFsdWU9bFsyXSl9fX1yZXR1cm4hMX0saS5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcganQsYT1uZXcgQW47cmV0dXJuIGEubGluZUluZGV4PS0xLGEubGluZXM9ZS5zcGxpdChgCmApLHRoaXMuX01vdmVDdXJzb3IoYSxuKSxuLnByb2Nlc3ModCxyKX0saS5fUHJlcGFyZVByZVByb2Nlc3NvcnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj1lLmRlZmluZXMsYT17fSxzPTAsbz1uO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdLGY9dS5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKSxsPWYuc3BsaXQoIiAiKTthW2xbMF1dPWwubGVuZ3RoPjE/bFsxXToiIn1yZXR1cm4oKHI9ZS5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zaGFkZXJMYW5ndWFnZSk9PT1DZS5HTFNMJiYoYS5HTF9FUz0idHJ1ZSIpLGEuX19WRVJTSU9OX189ZS52ZXJzaW9uLGFbZS5wbGF0Zm9ybU5hbWVdPSJ0cnVlIix0Ll9nZXRHbG9iYWxEZWZpbmVzKGEpLGF9LGkuX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9Qcm9jZXNzUHJlY2lzaW9uKGUsdCk7aWYoIXQucHJvY2Vzc29yKXJldHVybiBuO2lmKHQucHJvY2Vzc29yLnNoYWRlckxhbmd1YWdlPT09Q2UuR0xTTCYmbi5pbmRleE9mKCIjdmVyc2lvbiAzIikhPT0tMSlyZXR1cm4gbi5yZXBsYWNlKCIjdmVyc2lvbiAzMDAgZXMiLCIiKTt2YXIgYT10LmRlZmluZXMscz10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LHIpO3JldHVybiB0LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxuPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhuLHMsdCksdC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvciYmKG49dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQscikpLHIuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihuPXIuaW5saW5lU2hhZGVyQ29kZShuKSksbn0saS5fQXBwbHlQcmVQcm9jZXNzaW5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhLHM9ZSxvPXQuZGVmaW5lcyx1PXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQscik7cmV0dXJuISgobj10LnByb2Nlc3Nvcik9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5wcmVQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihzLG8sdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxzPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhzLHUsdCksISgoYT10LnByb2Nlc3Nvcik9PT1udWxsfHxhPT09dm9pZCAwKSYmYS5wb3N0UHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wb3N0UHJvY2Vzc29yKHMsbyx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCxyKSksci5fZmVhdHVyZXMubmVlZFNoYWRlckNvZGVJbmxpbmluZyYmKHM9ci5pbmxpbmVTaGFkZXJDb2RlKHMpKSxzfSxpLl9Qcm9jZXNzSW5jbHVkZXM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj10aGlzLGE9U2kuZXhlYyhlKSxzPW5ldyBTdHJpbmcoZSksbz0hMSx1PWZ1bmN0aW9uKCl7dmFyIGw9YVsxXTtpZihsLmluZGV4T2YoIl9fZGVjbF9fIikhPT0tMSYmKGw9bC5yZXBsYWNlKC9fX2RlY2xfXy8sIiIpLHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyYmKGw9bC5yZXBsYWNlKC9WZXJ0ZXgvLCJVYm8iKSxsPWwucmVwbGFjZSgvRnJhZ21lbnQvLCJVYm8iKSksbD1sKyJEZWNsYXJhdGlvbiIpLHQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbbF0pe3ZhciBoPXQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbbF07aWYoYVsyXSlmb3IodmFyIGM9YVszXS5zcGxpdCgiLCIpLGQ9MDtkPGMubGVuZ3RoO2QrPTIpe3ZhciBwPW5ldyBSZWdFeHAoY1tkXSwiZyIpLGc9Y1tkKzFdO2g9aC5yZXBsYWNlKHAsZyl9aWYoYVs0XSl7dmFyIF89YVs1XTtpZihfLmluZGV4T2YoIi4uIikhPT0tMSl7dmFyIHY9Xy5zcGxpdCgiLi4iKSx5PXBhcnNlSW50KHZbMF0pLEU9cGFyc2VJbnQodlsxXSksUj1oLnNsaWNlKDApO2g9IiIsaXNOYU4oRSkmJihFPXQuaW5kZXhQYXJhbWV0ZXJzW3ZbMV1dKTtmb3IodmFyIE09eTtNPEU7TSsrKXQuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8KFI9Ui5yZXBsYWNlKC9saWdodFx7WFx9LihcdyopL2csZnVuY3Rpb24oQSxTKXtyZXR1cm4gUysie1h9In0pKSxoKz1SLnJlcGxhY2UoL1x7WFx9L2csTS50b1N0cmluZygpKStgCmB9ZWxzZSB0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChoPWgucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLGZ1bmN0aW9uKEEsUyl7cmV0dXJuIFMrIntYfSJ9KSksaD1oLnJlcGxhY2UoL1x7WFx9L2csXyl9cz1zLnJlcGxhY2UoYVswXSxoKSxvPW98fGguaW5kZXhPZigiI2luY2x1ZGU8Iik+PTB8fGguaW5kZXhPZigiI2luY2x1ZGUgPCIpPj0wfWVsc2V7dmFyIEM9dC5zaGFkZXJzUmVwb3NpdG9yeSsiU2hhZGVyc0luY2x1ZGUvIitsKyIuZngiO3JldHVybiBpLl9GaWxlVG9vbHNMb2FkRmlsZShDLGZ1bmN0aW9uKEEpe3QuaW5jbHVkZXNTaGFkZXJzU3RvcmVbbF09QSxuLl9Qcm9jZXNzSW5jbHVkZXMocyx0LHIpfSkse3ZhbHVlOnZvaWQgMH19YT1TaS5leGVjKGUpfTthIT1udWxsOyl7dmFyIGY9dSgpO2lmKHR5cGVvZiBmPT0ib2JqZWN0IilyZXR1cm4gZi52YWx1ZX1vP3RoaXMuX1Byb2Nlc3NJbmNsdWRlcyhzLnRvU3RyaW5nKCksdCxyKTpyKHMpfSxpLl9GaWxlVG9vbHNMb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7dGhyb3cgWCgiRmlsZVRvb2xzIil9LGl9KCksTD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuR2V0U2hhZGVyc1JlcG9zaXRvcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPUNlLkdMU0wpLGU9PT1DZS5HTFNMP2kuU2hhZGVyc1JlcG9zaXRvcnk6aS5TaGFkZXJzUmVwb3NpdG9yeVdHU0x9LGkuR2V0U2hhZGVyc1N0b3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1DZS5HTFNMKSxlPT09Q2UuR0xTTD9pLlNoYWRlcnNTdG9yZTppLlNoYWRlcnNTdG9yZVdHU0x9LGkuR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPUNlLkdMU0wpLGU9PT1DZS5HTFNMP2kuSW5jbHVkZXNTaGFkZXJzU3RvcmU6aS5JbmNsdWRlc1NoYWRlcnNTdG9yZVdHU0x9LGkuU2hhZGVyc1JlcG9zaXRvcnk9InNyYy9TaGFkZXJzLyIsaS5TaGFkZXJzU3RvcmU9e30saS5JbmNsdWRlc1NoYWRlcnNTdG9yZT17fSxpLlNoYWRlcnNSZXBvc2l0b3J5V0dTTD0ic3JjL1NoYWRlcnNXR1NMLyIsaS5TaGFkZXJzU3RvcmVXR1NMPXt9LGkuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMPXt9LGl9KCksR2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtuPT09dm9pZCAwJiYobj1udWxsKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxmPT09dm9pZCAwJiYoZj1udWxsKSxoPT09dm9pZCAwJiYoaD0iIiksYz09PXZvaWQgMCYmKGM9Q2UuR0xTTCk7dmFyIGQ9dGhpcyxwLGcsXzt0aGlzLm5hbWU9bnVsbCx0aGlzLmRlZmluZXM9IiIsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5vbkJpbmQ9bnVsbCx0aGlzLnVuaXF1ZUlkPTAsdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25FcnJvck9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMSx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzPXt9LHRoaXMuX211bHRpVGFyZ2V0PSExLHRoaXMuX3NhbXBsZXJzPXt9LHRoaXMuX2lzUmVhZHk9ITEsdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5fa2V5PSIiLHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPW51bGwsdGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5uYW1lPWUsdGhpcy5fa2V5PWg7dmFyIHY9dm9pZCAwLHk9bnVsbDtpZih0LmF0dHJpYnV0ZXMpe3ZhciBFPXQ7aWYodGhpcy5fZW5naW5lPXIsdGhpcy5fYXR0cmlidXRlc05hbWVzPUUuYXR0cmlidXRlcyx0aGlzLl91bmlmb3Jtc05hbWVzPUUudW5pZm9ybXNOYW1lcy5jb25jYXQoRS5zYW1wbGVycyksdGhpcy5fc2FtcGxlckxpc3Q9RS5zYW1wbGVycy5zbGljZSgpLHRoaXMuZGVmaW5lcz1FLmRlZmluZXMsdGhpcy5vbkVycm9yPUUub25FcnJvcix0aGlzLm9uQ29tcGlsZWQ9RS5vbkNvbXBpbGVkLHRoaXMuX2ZhbGxiYWNrcz1FLmZhbGxiYWNrcyx0aGlzLl9pbmRleFBhcmFtZXRlcnM9RS5pbmRleFBhcmFtZXRlcnMsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1FLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3N8fG51bGwsdGhpcy5fbXVsdGlUYXJnZXQ9ISFFLm11bHRpVGFyZ2V0LHRoaXMuX3NoYWRlckxhbmd1YWdlPShwPUUuc2hhZGVyTGFuZ3VhZ2UpIT09bnVsbCYmcCE9PXZvaWQgMD9wOkNlLkdMU0wsRS51bmlmb3JtQnVmZmVyc05hbWVzKXt0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1FLnVuaWZvcm1CdWZmZXJzTmFtZXMuc2xpY2UoKTtmb3IodmFyIFI9MDtSPEUudW5pZm9ybUJ1ZmZlcnNOYW1lcy5sZW5ndGg7UisrKXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbRS51bmlmb3JtQnVmZmVyc05hbWVzW1JdXT1SfXk9KGc9RS5wcm9jZXNzRmluYWxDb2RlKSE9PW51bGwmJmchPT12b2lkIDA/ZzpudWxsLHY9KF89RS5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMpIT09bnVsbCYmXyE9PXZvaWQgMD9fOnZvaWQgMH1lbHNlIHRoaXMuX2VuZ2luZT1hLHRoaXMuZGVmaW5lcz1zPz8iIix0aGlzLl91bmlmb3Jtc05hbWVzPXIuY29uY2F0KG4pLHRoaXMuX3NhbXBsZXJMaXN0PW4/bi5zbGljZSgpOltdLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz10LHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0PVtdLHRoaXMuX3NoYWRlckxhbmd1YWdlPWMsdGhpcy5vbkVycm9yPWYsdGhpcy5vbkNvbXBpbGVkPXUsdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWwsdGhpcy5fZmFsbGJhY2tzPW87dGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWU9e30sdGhpcy51bmlxdWVJZD1pLl9VbmlxdWVJZFNlZWQrKzt2YXIgTSxDLEE9eWUoKT90aGlzLl9lbmdpbmUuZ2V0SG9zdERvY3VtZW50KCk6bnVsbDtlLnZlcnRleFNvdXJjZT9NPSJzb3VyY2U6IitlLnZlcnRleFNvdXJjZTplLnZlcnRleEVsZW1lbnQ/KE09QT9BLmdldEVsZW1lbnRCeUlkKGUudmVydGV4RWxlbWVudCk6bnVsbCxNfHwoTT1lLnZlcnRleEVsZW1lbnQpKTpNPWUudmVydGV4fHxlLGUuZnJhZ21lbnRTb3VyY2U/Qz0ic291cmNlOiIrZS5mcmFnbWVudFNvdXJjZTplLmZyYWdtZW50RWxlbWVudD8oQz1BP0EuZ2V0RWxlbWVudEJ5SWQoZS5mcmFnbWVudEVsZW1lbnQpOm51bGwsQ3x8KEM9ZS5mcmFnbWVudEVsZW1lbnQpKTpDPWUuZnJhZ21lbnR8fGUsdGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQ9dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dCh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7dmFyIFM9e2RlZmluZXM6dGhpcy5kZWZpbmVzLnNwbGl0KGAKYCksaW5kZXhQYXJhbWV0ZXJzOnRoaXMuX2luZGV4UGFyYW1ldGVycyxpc0ZyYWdtZW50OiExLHNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI6dGhpcy5fZW5naW5lLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyLHByb2Nlc3Nvcjp0aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3Nvcih0aGlzLl9zaGFkZXJMYW5ndWFnZSksc3VwcG9ydHNVbmlmb3JtQnVmZmVyczp0aGlzLl9lbmdpbmUuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyxzaGFkZXJzUmVwb3NpdG9yeTpMLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKSxpbmNsdWRlc1NoYWRlcnNTdG9yZTpMLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKSx2ZXJzaW9uOih0aGlzLl9lbmdpbmUudmVyc2lvbioxMDApLnRvU3RyaW5nKCkscGxhdGZvcm1OYW1lOnRoaXMuX2VuZ2luZS5zaGFkZXJQbGF0Zm9ybU5hbWUscHJvY2Vzc2luZ0NvbnRleHQ6dGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQsaXNORENIYWxmWlJhbmdlOnRoaXMuX2VuZ2luZS5pc05EQ0hhbGZaUmFuZ2UsdXNlUmV2ZXJzZURlcHRoQnVmZmVyOnRoaXMuX2VuZ2luZS51c2VSZXZlcnNlRGVwdGhCdWZmZXIscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnZ9LHc9W3ZvaWQgMCx2b2lkIDBdLEY9ZnVuY3Rpb24oKXtpZih3WzBdJiZ3WzFdKXtTLmlzRnJhZ21lbnQ9ITA7dmFyIHg9d1swXSxHPXdbMV07WXQuUHJvY2VzcyhHLFMsZnVuY3Rpb24oVyl7eSYmKFc9eSgiZnJhZ21lbnQiLFcpKTt2YXIgTj1ZdC5GaW5hbGl6ZSh4LFcsUyk7ZC5fdXNlRmluYWxDb2RlKE4udmVydGV4Q29kZSxOLmZyYWdtZW50Q29kZSxlKX0sZC5fZW5naW5lKX19O3RoaXMuX2xvYWRTaGFkZXIoTSwiVmVydGV4IiwiIixmdW5jdGlvbih4KXtZdC5Jbml0aWFsaXplKFMpLFl0LlByb2Nlc3MoeCxTLGZ1bmN0aW9uKEcpe2QuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9eCx5JiYoRz15KCJ2ZXJ0ZXgiLEcpKSx3WzBdPUcsRigpfSxkLl9lbmdpbmUpfSksdGhpcy5fbG9hZFNoYWRlcihDLCJGcmFnbWVudCIsIlBpeGVsIixmdW5jdGlvbih4KXtkLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9eCx3WzFdPXgsRigpfSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaGFkZXJzUmVwb3NpdG9yeSIse2dldDpmdW5jdGlvbigpe3JldHVybiBMLlNoYWRlcnNSZXBvc2l0b3J5fSxzZXQ6ZnVuY3Rpb24oZSl7TC5TaGFkZXJzUmVwb3NpdG9yeT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25CaW5kT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fdXNlRmluYWxDb2RlPWZ1bmN0aW9uKGUsdCxyKXtpZihyKXt2YXIgbj1yLnZlcnRleEVsZW1lbnR8fHIudmVydGV4fHxyLnNwZWN0b3JOYW1lfHxyLGE9ci5mcmFnbWVudEVsZW1lbnR8fHIuZnJhZ21lbnR8fHIuc3BlY3Rvck5hbWV8fHI7dGhpcy5fdmVydGV4U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1DZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIHZlcnRleDoiK24rYApgK2UsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PUNlLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgZnJhZ21lbnQ6IithK2AKYCt0fWVsc2UgdGhpcy5fdmVydGV4U291cmNlQ29kZT1lLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT10O3RoaXMuX3ByZXBhcmVFZmZlY3QoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJrZXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpfWNhdGNoe3JldHVybiExfX0saS5wcm90b3R5cGUuX2lzUmVhZHlJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1JlYWR5PyEwOnRoaXMuX3BpcGVsaW5lQ29udGV4dD90aGlzLl9waXBlbGluZUNvbnRleHQuaXNSZWFkeTohMX0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0saS5wcm90b3R5cGUuZ2V0UGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dH0saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlc05hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNOYW1lc30saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTG9jYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNbZV19LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVtlXX0saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMubGVuZ3RofSxpLnByb3RvdHlwZS5nZXRVbmlmb3JtSW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXMuaW5kZXhPZihlKX0saS5wcm90b3R5cGUuZ2V0VW5pZm9ybT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNbZV19LGkucHJvdG90eXBlLmdldFNhbXBsZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXJMaXN0fSxpLnByb3RvdHlwZS5nZXRVbmlmb3JtTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNOYW1lc30saS5wcm90b3R5cGUuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdH0saS5wcm90b3R5cGUuZ2V0SW5kZXhQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZGV4UGFyYW1ldGVyc30saS5wcm90b3R5cGUuZ2V0Q29tcGlsYXRpb25FcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21waWxhdGlvbkVycm9yfSxpLnByb3RvdHlwZS5hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkfSxpLnByb3RvdHlwZS5leGVjdXRlV2hlbkNvbXBpbGVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5pc1JlYWR5KCkpe2UodGhpcyk7cmV0dXJufXRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocil7ZShyKX0pLCghdGhpcy5fcGlwZWxpbmVDb250ZXh0fHx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYykmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9jaGVja0lzUmVhZHkobnVsbCl9LDE2KX0saS5wcm90b3R5cGUuX2NoZWNrSXNSZWFkeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RyeXtpZih0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKSlyZXR1cm59Y2F0Y2gocil7dGhpcy5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKHIsZSk7cmV0dXJufXRoaXMuX2lzRGlzcG9zZWR8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9jaGVja0lzUmVhZHkoZSl9LDE2KX0saS5wcm90b3R5cGUuX2xvYWRTaGFkZXI9ZnVuY3Rpb24oZSx0LHIsbil7aWYodHlwZW9mIEhUTUxFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXt2YXIgYT1VcihlKTtuKGEpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09InNvdXJjZToiKXtuKGUuc3Vic3RyKDcpKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJiYXNlNjQ6Iil7dmFyIHM9d2luZG93LmF0b2IoZS5zdWJzdHIoNykpO24ocyk7cmV0dXJufXZhciBvPUwuR2V0U2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKTtpZihvW2UrdCsiU2hhZGVyIl0pe24ob1tlK3QrIlNoYWRlciJdKTtyZXR1cm59aWYociYmb1tlK3IrIlNoYWRlciJdKXtuKG9bZStyKyJTaGFkZXIiXSk7cmV0dXJufXZhciB1O2VbMF09PT0iLiJ8fGVbMF09PT0iLyJ8fGUuaW5kZXhPZigiaHR0cCIpPi0xP3U9ZTp1PUwuR2V0U2hhZGVyc1JlcG9zaXRvcnkodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpK2UsdGhpcy5fZW5naW5lLl9sb2FkRmlsZSh1KyIuIit0LnRvTG93ZXJDYXNlKCkrIi5meCIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidmVydGV4U291cmNlQ29kZSIse2dldDpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/dGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlOih0PShlPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3ZlcnRleFNvdXJjZUNvZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmcmFnbWVudFNvdXJjZUNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlOih0PShlPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmF3VmVydGV4U291cmNlQ29kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmF3RnJhZ21lbnRTb3VyY2VDb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fcmVidWlsZFByb2dyYW09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpczt0aGlzLl9pc1JlYWR5PSExLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT1lLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlPXQsdGhpcy5vbkVycm9yPWZ1bmN0aW9uKHMsbyl7biYmbihvKX0sdGhpcy5vbkNvbXBpbGVkPWZ1bmN0aW9uKCl7dmFyIHM9YS5nZXRFbmdpbmUoKS5zY2VuZXM7aWYocylmb3IodmFyIG89MDtvPHMubGVuZ3RoO28rKylzW29dLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKTthLl9waXBlbGluZUNvbnRleHQuX2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKHIpfSx0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl9wcmVwYXJlRWZmZWN0KCl9LGkucHJvdG90eXBlLl9wcmVwYXJlRWZmZWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyxyPXRoaXMuZGVmaW5lcyxuPXRoaXMuX3BpcGVsaW5lQ29udGV4dDt0aGlzLl9pc1JlYWR5PSExO3RyeXt2YXIgYT10aGlzLl9lbmdpbmU7dGhpcy5fcGlwZWxpbmVDb250ZXh0PWEuY3JlYXRlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0KSx0aGlzLl9waXBlbGluZUNvbnRleHQuX25hbWU9dGhpcy5fa2V5O3ZhciBzPXRoaXMuX3JlYnVpbGRQcm9ncmFtLmJpbmQodGhpcyk7dGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT9hLl9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3BpcGVsaW5lQ29udGV4dCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGUsITAsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscyxudWxsLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KTphLl9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3BpcGVsaW5lQ29udGV4dCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZSwhMSx0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZSxzLHIsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyx0aGlzLl9rZXkpLGEuX2V4ZWN1dGVXaGVuUmVuZGVyaW5nU3RhdGVJc0NvbXBpbGVkKHRoaXMuX3BpcGVsaW5lQ29udGV4dCxmdW5jdGlvbigpe2lmKGUuX2F0dHJpYnV0ZXM9W10sZS5fcGlwZWxpbmVDb250ZXh0Ll9maWxsRWZmZWN0SW5mb3JtYXRpb24oZSxlLl91bmlmb3JtQnVmZmVyc05hbWVzLGUuX3VuaWZvcm1zTmFtZXMsZS5fdW5pZm9ybXMsZS5fc2FtcGxlckxpc3QsZS5fc2FtcGxlcnMsdCxlLl9hdHRyaWJ1dGVzKSx0KWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgdT10W29dO2UuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lW3VdPWUuX2F0dHJpYnV0ZXNbb119YS5iaW5kU2FtcGxlcnMoZSksZS5fY29tcGlsYXRpb25FcnJvcj0iIixlLl9pc1JlYWR5PSEwLGUub25Db21waWxlZCYmZS5vbkNvbXBpbGVkKGUpLGUub25Db21waWxlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5vbkNvbXBpbGVPYnNlcnZhYmxlLmNsZWFyKCksZS5fZmFsbGJhY2tzJiZlLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpLG4mJmUuZ2V0RW5naW5lKCkuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dChuKX0pLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jJiZ0aGlzLl9jaGVja0lzUmVhZHkobil9Y2F0Y2gobyl7dGhpcy5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKG8sbil9fSxpLnByb3RvdHlwZS5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZT1mdW5jdGlvbihlLHQscil7dmFyIG49cj8vRlJBR01FTlQgU0hBREVSIEVSUk9SOiAwOihcZCs/KTovOi9WRVJURVggU0hBREVSIEVSUk9SOiAwOihcZCs/KTovLGE9bnVsbDtpZih0JiZlKXt2YXIgcz10Lm1hdGNoKG4pO2lmKHMmJnMubGVuZ3RoPT09Mil7dmFyIG89cGFyc2VJbnQoc1sxXSksdT1lLnNwbGl0KGAKYCwtMSk7dS5sZW5ndGg+PW8mJihhPSJPZmZlbmRpbmcgbGluZSBbIi5jb25jYXQobywiXSBpbiAiKS5jb25jYXQocj8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLCIgY29kZTogIikuY29uY2F0KHVbby0xXSkpfX1yZXR1cm5bZSxhXX0saS5wcm90b3R5cGUuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycz1mdW5jdGlvbihlLHQpe3ZhciByLG4sYSxzLG87dD09PXZvaWQgMCYmKHQ9bnVsbCksdGhpcy5fY29tcGlsYXRpb25FcnJvcj1lLm1lc3NhZ2U7dmFyIHU9dGhpcy5fYXR0cmlidXRlc05hbWVzLGY9dGhpcy5fZmFsbGJhY2tzO2lmKGsuRXJyb3IoIlVuYWJsZSB0byBjb21waWxlIGVmZmVjdDoiKSxrLkVycm9yKCJVbmlmb3JtczogIit0aGlzLl91bmlmb3Jtc05hbWVzLm1hcChmdW5jdGlvbihkKXtyZXR1cm4iICIrZH0pKSxrLkVycm9yKCJBdHRyaWJ1dGVzOiAiK3UubWFwKGZ1bmN0aW9uKGQpe3JldHVybiIgIitkfSkpLGsuRXJyb3IoYERlZmluZXM6XHIKYCt0aGlzLmRlZmluZXMpLGkuTG9nU2hhZGVyQ29kZU9uQ29tcGlsYXRpb25FcnJvcil7dmFyIGw9bnVsbCxoPW51bGwsYz1udWxsOyEoKGE9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGE9PT12b2lkIDApJiZhLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkmJihyPXRoaXMuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUodGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMSksYz1yWzBdLGw9clsxXSxjJiYoay5FcnJvcigiVmVydGV4IGNvZGU6Iiksay5FcnJvcihjKSkpLCEoKHM9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fHM9PT12b2lkIDApJiZzLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSYmKG49dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSgobz10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMCksYz1uWzBdLGg9blsxXSxjJiYoay5FcnJvcigiRnJhZ21lbnQgY29kZToiKSxrLkVycm9yKGMpKSksbCYmay5FcnJvcihsKSxoJiZrLkVycm9yKGgpfWsuRXJyb3IoIkVycm9yOiAiK3RoaXMuX2NvbXBpbGF0aW9uRXJyb3IpLHQmJih0aGlzLl9waXBlbGluZUNvbnRleHQ9dCx0aGlzLl9pc1JlYWR5PSEwLHRoaXMub25FcnJvciYmdGhpcy5vbkVycm9yKHRoaXMsdGhpcy5fY29tcGlsYXRpb25FcnJvciksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpLGY/KHRoaXMuX3BpcGVsaW5lQ29udGV4dD1udWxsLGYuaGFzTW9yZUZhbGxiYWNrcz8odGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSExLGsuRXJyb3IoIlRyeWluZyBuZXh0IGZhbGxiYWNrLiIpLHRoaXMuZGVmaW5lcz1mLnJlZHVjZSh0aGlzLmRlZmluZXMsdGhpcyksdGhpcy5fcHJlcGFyZUVmZmVjdCgpKToodGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwLHRoaXMub25FcnJvciYmdGhpcy5vbkVycm9yKHRoaXMsdGhpcy5fY29tcGlsYXRpb25FcnJvciksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSkpOnRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1N1cHBvcnRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21waWxhdGlvbkVycm9yPT09IiJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2JpbmRUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLl9iaW5kVGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldFRleHR1cmVBcnJheT1mdW5jdGlvbihlLHQpe3ZhciByPWUrIkV4IjtpZih0aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKHIrIjAiKT09PS0xKXtmb3IodmFyIG49dGhpcy5fc2FtcGxlckxpc3QuaW5kZXhPZihlKSxhPTE7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXIrKGEtMSkudG9TdHJpbmcoKTt0aGlzLl9zYW1wbGVyTGlzdC5zcGxpY2UobithLDAscyl9Zm9yKHZhciBvPTAsdT0wLGY9dGhpcy5fc2FtcGxlckxpc3Q7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07dGhpcy5fc2FtcGxlcnNbbF09byxvKz0xfX10aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUFycmF5KHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3M9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcyh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW3RdO3I9PT12b2lkIDB8fGkuX0Jhc2VDYWNoZVtyXT09PWUmJnRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudXNlVUJPQmluZGluZ0NhY2hlfHwoaS5fQmFzZUNhY2hlW3JdPWUsdGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQnVmZmVyQmFzZShlLHIsdCkpfSxpLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJsb2NrPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQmxvY2sodGhpcy5fcGlwZWxpbmVDb250ZXh0LGUsdCl9LGkucHJvdG90eXBlLnNldEludD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0SW50Mj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQyKGUsdCxyKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnQzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MyhlLHQscixuKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQ0KGUsdCxyLG4sYSksdGhpc30saS5wcm90b3R5cGUuc2V0SW50QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0SW50QXJyYXkyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTIoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5MyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEludEFycmF5ND1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXk0KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdEFycmF5Mj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXRBcnJheTM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRNYXRyaWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cmljZXMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRNYXRyaXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldE1hdHJpeDN4Mz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4M3gzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0TWF0cml4MngyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgyeDIoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRCb29sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0PzE6MCksdGhpc30saS5wcm90b3R5cGUuc2V0VmVjdG9yMj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0Mj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDIoZSx0LHIpLHRoaXN9LGkucHJvdG90eXBlLnNldFZlY3RvcjM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFZlY3RvcjMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDMoZSx0LHIsbiksdGhpc30saS5wcm90b3R5cGUuc2V0VmVjdG9yND1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yNChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldFF1YXRlcm5pb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFF1YXRlcm5pb24oZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0NChlLHQscixuLGEpLHRoaXN9LGkucHJvdG90eXBlLnNldENvbG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0Q29sb3IzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0Q29sb3I0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldENvbG9yNChlLHQsciksdGhpc30saS5wcm90b3R5cGUuc2V0RGlyZWN0Q29sb3I0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXREaXJlY3RDb2xvcjQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fcGlwZWxpbmVDb250ZXh0JiZ0aGlzLl9waXBlbGluZUNvbnRleHQuZGlzcG9zZSgpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZUVmZmVjdCh0aGlzKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfSxpLlJlZ2lzdGVyU2hhZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPUNlLkdMU0wpLHQmJihMLkdldFNoYWRlcnNTdG9yZShuKVsiIi5jb25jYXQoZSwiUGl4ZWxTaGFkZXIiKV09dCksciYmKEwuR2V0U2hhZGVyc1N0b3JlKG4pWyIiLmNvbmNhdChlLCJWZXJ0ZXhTaGFkZXIiKV09cil9LGkuUmVzZXRDYWNoZT1mdW5jdGlvbigpe2kuX0Jhc2VDYWNoZT17fX0saS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yPSEwLGkuX1VuaXF1ZUlkU2VlZD0wLGkuX0Jhc2VDYWNoZT17fSxpLlNoYWRlcnNTdG9yZT1MLlNoYWRlcnNTdG9yZSxpLkluY2x1ZGVzU2hhZGVyc1N0b3JlPUwuSW5jbHVkZXNTaGFkZXJzU3RvcmUsaX0oKSxJbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7ZT09PXZvaWQgMCYmKGU9ITApLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExLGUmJnRoaXMucmVzZXQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0RpcnR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGVwdGhGdW5jRGlydHl8fHRoaXMuX2lzRGVwdGhUZXN0RGlydHl8fHRoaXMuX2lzRGVwdGhNYXNrRGlydHl8fHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eXx8dGhpcy5faXNDdWxsRGlydHl8fHRoaXMuX2lzWk9mZnNldERpcnR5fHx0aGlzLl9pc0Zyb250RmFjZURpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiek9mZnNldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96T2Zmc2V0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fek9mZnNldCE9PWUmJih0aGlzLl96T2Zmc2V0PWUsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiek9mZnNldFVuaXRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXRVbml0c30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3pPZmZzZXRVbml0cyE9PWUmJih0aGlzLl96T2Zmc2V0VW5pdHM9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdWxsRmFjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdWxsRmFjZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2N1bGxGYWNlIT09ZSYmKHRoaXMuX2N1bGxGYWNlPWUsdGhpcy5faXNDdWxsRmFjZURpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1bGwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VsbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2N1bGwhPT1lJiYodGhpcy5fY3VsbD1lLHRoaXMuX2lzQ3VsbERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoRnVuYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEZ1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kZXB0aEZ1bmMhPT1lJiYodGhpcy5fZGVwdGhGdW5jPWUsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aE1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhNYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhNYXNrIT09ZSYmKHRoaXMuX2RlcHRoTWFzaz1lLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhUZXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoVGVzdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoVGVzdCE9PWUmJih0aGlzLl9kZXB0aFRlc3Q9ZSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZyb250RmFjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcm9udEZhY2V9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mcm9udEZhY2UhPT1lJiYodGhpcy5fZnJvbnRGYWNlPWUsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9kZXB0aE1hc2s9ITAsdGhpcy5fZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoRnVuYz1udWxsLHRoaXMuX2N1bGxGYWNlPW51bGwsdGhpcy5fY3VsbD1udWxsLHRoaXMuX3pPZmZzZXQ9MCx0aGlzLl96T2Zmc2V0VW5pdHM9MCx0aGlzLl9mcm9udEZhY2U9bnVsbCx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITAsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEsdGhpcy5faXNDdWxsRGlydHk9ITEsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITAsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7dGhpcy5pc0RpcnR5JiYodGhpcy5faXNDdWxsRGlydHkmJih0aGlzLmN1bGw/ZS5lbmFibGUoZS5DVUxMX0ZBQ0UpOmUuZGlzYWJsZShlLkNVTExfRkFDRSksdGhpcy5faXNDdWxsRGlydHk9ITEpLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eSYmKGUuY3VsbEZhY2UodGhpcy5jdWxsRmFjZSksdGhpcy5faXNDdWxsRmFjZURpcnR5PSExKSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5JiYoZS5kZXB0aE1hc2sodGhpcy5kZXB0aE1hc2spLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHkmJih0aGlzLmRlcHRoVGVzdD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEpLHRoaXMuX2lzRGVwdGhGdW5jRGlydHkmJihlLmRlcHRoRnVuYyh0aGlzLmRlcHRoRnVuYyksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNaT2Zmc2V0RGlydHkmJih0aGlzLnpPZmZzZXR8fHRoaXMuek9mZnNldFVuaXRzPyhlLmVuYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLGUucG9seWdvbk9mZnNldCh0aGlzLnpPZmZzZXQsdGhpcy56T2Zmc2V0VW5pdHMpKTplLmRpc2FibGUoZS5QT0xZR09OX09GRlNFVF9GSUxMKSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSksdGhpcy5faXNGcm9udEZhY2VEaXJ0eSYmKGUuZnJvbnRGYWNlKHRoaXMuZnJvbnRGYWNlKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExKSl9LGl9KCksT249ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5yZXNldCgpfXJldHVybiBpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz1pLkFMV0FZUyx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9aS5LRUVQLHRoaXMub3BEZXB0aEZhaWw9aS5LRUVQLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWkuUkVQTEFDRX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsRnVuYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZ1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZ1bmM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxGdW5jUmVmIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY1JlZn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZnVuY1JlZj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbEZ1bmNNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY01hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZ1bmNNYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsT3BTdGVuY2lsRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wU3RlbmNpbEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxPcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wRGVwdGhGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vcERlcHRoRmFpbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wU3RlbmNpbERlcHRoUGFzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc2s9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxUZXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQUxXQVlTPTUxOSxpLktFRVA9NzY4MCxpLlJFUExBQ0U9NzY4MSxpfSgpLEZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSg0KSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVycz1uZXcgQXJyYXkoMiksdGhpcy5fYmxlbmRDb25zdGFudHM9bmV3IEFycmF5KDQpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSx0aGlzLl9hbHBoYUJsZW5kPSExLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5yZXNldCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFCbGVuZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUJsZW5kfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldEFscGhhQmxlbmRDb25zdGFudHM9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09ciYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1ufHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPXIsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bix0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfSxpLnByb3RvdHlwZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPT09ZSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09PT10JiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT09PXImJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPT09bnx8KHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT1yLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPW4sdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX0saS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPT09dHx8KHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITApfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7dGhpcy5pc0RpcnR5JiYodGhpcy5faXNBbHBoYUJsZW5kRGlydHkmJih0aGlzLl9hbHBoYUJsZW5kP2UuZW5hYmxlKGUuQkxFTkQpOmUuZGlzYWJsZShlLkJMRU5EKSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMSksdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEZ1bmNTZXBhcmF0ZSh0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXSksdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExKSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHkmJihlLmJsZW5kRXF1YXRpb25TZXBhcmF0ZSh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHkmJihlLmJsZW5kQ29sb3IodGhpcy5fYmxlbmRDb25zdGFudHNbMF0sdGhpcy5fYmxlbmRDb25zdGFudHNbMV0sdGhpcy5fYmxlbmRDb25zdGFudHNbMl0sdGhpcy5fYmxlbmRDb25zdGFudHNbM10pLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSkpfSxpfSgpLHduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuc2hhZGVyTGFuZ3VhZ2U9Q2UuR0xTTH1yZXR1cm4gaS5wcm90b3R5cGUucG9zdFByb2Nlc3Nvcj1mdW5jdGlvbihlLHQscixuLGEpe2lmKCFhLmdldENhcHMoKS5kcmF3QnVmZmVyc0V4dGVuc2lvbil7dmFyIHM9LyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuKyhlbmFibGV8cmVxdWlyZSkvZztlPWUucmVwbGFjZShzLCIiKX1yZXR1cm4gZX0saX0oKSxMbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnNoYWRlckxhbmd1YWdlPUNlLkdMU0x9cmV0dXJuIGkucHJvdG90eXBlLmF0dHJpYnV0ZVByb2Nlc3Nvcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKCJhdHRyaWJ1dGUiLCJpbiIpfSxpLnByb3RvdHlwZS52YXJ5aW5nUHJvY2Vzc29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgidmFyeWluZyIsdD8iaW4iOiJvdXQiKX0saS5wcm90b3R5cGUucG9zdFByb2Nlc3Nvcj1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5zZWFyY2goLyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuK3JlcXVpcmUvKSE9PS0xLGE9LyNleHRlbnNpb24uKyhHTF9PVlJfbXVsdGl2aWV3MnxHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXN8R0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZHxHTF9FWFRfZnJhZ19kZXB0aHxHTF9FWFRfZHJhd19idWZmZXJzKS4rKGVuYWJsZXxyZXF1aXJlKS9nO2lmKGU9ZS5yZXBsYWNlKGEsIiIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRccypcKC9nLCJ0ZXh0dXJlKCIpLHIpZT1lLnJlcGxhY2UoL3RleHR1cmUyRExvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlTG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVccypcKC9nLCJ0ZXh0dXJlKCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnRGVwdGhFWFQvZywiZ2xfRnJhZ0RlcHRoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdDb2xvci9nLCJnbEZyYWdDb2xvciIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnRGF0YS9nLCJnbEZyYWdEYXRhIiksZT1lLnJlcGxhY2UoL3ZvaWRccys/bWFpblxzKlwoL2csKG4/IiI6YG91dCB2ZWM0IGdsRnJhZ0NvbG9yOwpgKSsidm9pZCBtYWluKCIpO2Vsc2V7dmFyIHM9dC5pbmRleE9mKCIjZGVmaW5lIE1VTFRJVklFVyIpIT09LTE7aWYocylyZXR1cm5gI2V4dGVuc2lvbiBHTF9PVlJfbXVsdGl2aWV3MiA6IHJlcXVpcmUKbGF5b3V0IChudW1fdmlld3MgPSAyKSBpbjsKYCtlfXJldHVybiBlfSxpfSgpLE1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMucmVmZXJlbmNlcz0wLHRoaXMuY2FwYWNpdHk9MCx0aGlzLmlzMzJCaXRzPSExLHRoaXMudW5pcXVlSWQ9aS5fQ291bnRlcisrfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVuZGVybHlpbmdSZXNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX0NvdW50ZXI9MCxpfSgpLFp0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQpe3ZhciByPWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fYnVmZmVyPXQscn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1bmRlcmx5aW5nUmVzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KE1pKSxObj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMudmVydGV4Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5wcm9ncmFtTGlua0Vycm9yPW51bGwsdGhpcy5wcm9ncmFtVmFsaWRhdGlvbkVycm9yPW51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNBc3luYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGFyYWxsZWxDb21waWxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzUmVhZHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9ncmFtP3RoaXMuaXNQYXJhbGxlbENvbXBpbGVkP3RoaXMuZW5naW5lLl9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQodGhpcyk6ITA6ITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrPWZ1bmN0aW9uKGUpe2UmJnRoaXMucHJvZ3JhbSYmZSh0aGlzLnByb2dyYW0pfSxpLnByb3RvdHlwZS5fZmlsbEVmZmVjdEluZm9ybWF0aW9uPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7dmFyIGY9dGhpcy5lbmdpbmU7aWYoZi5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzKWZvcih2YXIgbCBpbiB0KWUuYmluZFVuaWZvcm1CbG9jayhsLHRbbF0pO3ZhciBoPXRoaXMuZW5naW5lLmdldFVuaWZvcm1zKHRoaXMscik7aC5mb3JFYWNoKGZ1bmN0aW9uKHYseSl7bltyW3ldXT12fSksdGhpcy5fdW5pZm9ybXM9bjt2YXIgYztmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1lLmdldFVuaWZvcm0oYVtjXSk7ZD09bnVsbCYmKGEuc3BsaWNlKGMsMSksYy0tKX1hLmZvckVhY2goZnVuY3Rpb24odix5KXtzW3ZdPXl9KTtmb3IodmFyIHA9MCxnPWYuZ2V0QXR0cmlidXRlcyh0aGlzLG8pO3A8Zy5sZW5ndGg7cCsrKXt2YXIgXz1nW3BdO3UucHVzaChfKX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3Jtcz17fX0saS5wcm90b3R5cGUuX2NhY2hlTWF0cml4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXSxuPXQudXBkYXRlRmxhZztyZXR1cm4gciE9PXZvaWQgMCYmcj09PW4/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMCl9LGkucHJvdG90eXBlLl9jYWNoZUZsb2F0Mj1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighbnx8bi5sZW5ndGghPT0yKXJldHVybiBuPVt0LHJdLHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMDt2YXIgYT0hMTtyZXR1cm4gblswXSE9PXQmJihuWzBdPXQsYT0hMCksblsxXSE9PXImJihuWzFdPXIsYT0hMCksYX0saS5wcm90b3R5cGUuX2NhY2hlRmxvYXQzPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIWF8fGEubGVuZ3RoIT09MylyZXR1cm4gYT1bdCxyLG5dLHRoaXMuX3ZhbHVlQ2FjaGVbZV09YSwhMDt2YXIgcz0hMTtyZXR1cm4gYVswXSE9PXQmJihhWzBdPXQscz0hMCksYVsxXSE9PXImJihhWzFdPXIscz0hMCksYVsyXSE9PW4mJihhWzJdPW4scz0hMCksc30saS5wcm90b3R5cGUuX2NhY2hlRmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighc3x8cy5sZW5ndGghPT00KXJldHVybiBzPVt0LHIsbixhXSx0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITA7dmFyIG89ITE7cmV0dXJuIHNbMF0hPT10JiYoc1swXT10LG89ITApLHNbMV0hPT1yJiYoc1sxXT1yLG89ITApLHNbMl0hPT1uJiYoc1syXT1uLG89ITApLHNbM10hPT1hJiYoc1szXT1hLG89ITApLG99LGkucHJvdG90eXBlLnNldEludD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3ZhbHVlQ2FjaGVbZV07ciE9PXZvaWQgMCYmcj09PXR8fHRoaXMuZW5naW5lLnNldEludCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9LGkucHJvdG90eXBlLnNldEludDI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxyKSYmKHRoaXMuZW5naW5lLnNldEludDIodGhpcy5fdW5pZm9ybXNbZV0sdCxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRJbnQzPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2NhY2hlRmxvYXQzKGUsdCxyLG4pJiYodGhpcy5lbmdpbmUuc2V0SW50Myh0aGlzLl91bmlmb3Jtc1tlXSx0LHIsbil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0SW50ND1mdW5jdGlvbihlLHQscixuLGEpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxyLG4sYSkmJih0aGlzLmVuZ2luZS5zZXRJbnQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQscixuLGEpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEludEFycmF5PWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5KHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTI9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTM9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXk0KHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXkyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXkzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXk0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0TWF0cmljZXM9ZnVuY3Rpb24oZSx0KXt0JiYodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQpKX0saS5wcm90b3R5cGUuc2V0TWF0cml4PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVNYXRyaXgoZSx0KSYmKHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQudG9BcnJheSgpKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgzeDM9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4M3gzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgyeDI9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4MngyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRGbG9hdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3ZhbHVlQ2FjaGVbZV07ciE9PXZvaWQgMCYmcj09PXR8fHRoaXMuZW5naW5lLnNldEZsb2F0KHRoaXMuX3VuaWZvcm1zW2VdLHQpJiYodGhpcy5fdmFsdWVDYWNoZVtlXT10KX0saS5wcm90b3R5cGUuc2V0VmVjdG9yMj1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdC54LHQueSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0RmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jYWNoZUZsb2F0MihlLHQscikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdCxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRWZWN0b3IzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LngsdC55LHQueikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnopfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQscixuKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LHIsbil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0VmVjdG9yND1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdC54LHQueSx0LnosdC53KSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LngsdC55LHQueix0LncpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldFF1YXRlcm5pb249ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQueCx0LnksdC56LHQudykmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnosdC53KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRGbG9hdDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQscixuLGEpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQscixuLGEpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldENvbG9yMz1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdC5yLHQuZyx0LmIpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRDb2xvcjQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdC5yLHQuZyx0LmIscikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIscil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0RGlyZWN0Q29sb3I0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LnIsdC5nLHQuYix0LmEpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLHQuYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuX2dldFZlcnRleFNoYWRlckNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0ZXhTaGFkZXI/dGhpcy5lbmdpbmUuX2dldFNoYWRlclNvdXJjZSh0aGlzLnZlcnRleFNoYWRlcik6bnVsbH0saS5wcm90b3R5cGUuX2dldEZyYWdtZW50U2hhZGVyQ29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50U2hhZGVyP3RoaXMuZW5naW5lLl9nZXRTaGFkZXJTb3VyY2UodGhpcy5mcmFnbWVudFNoYWRlcik6bnVsbH0saX0oKSxBaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXtpZihlPT09dm9pZCAwJiYoZT1udWxsKSx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwsdGhpcy5fY29udGV4dD10LCFlJiYoZT10LmNyZWF0ZVRleHR1cmUoKSwhZSkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHdlYkdMIHRleHR1cmUiKTt0aGlzLnNldChlKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1bmRlcmx5aW5nUmVzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldFVzYWdlPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSl7dGhpcy5fd2ViR0xUZXh0dXJlPWV9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fd2ViR0xUZXh0dXJlPW51bGwsdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsfSxpLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5fTVNBQVJlbmRlckJ1ZmZlciYmKHRoaXMuX2NvbnRleHQuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuX01TQUFSZW5kZXJCdWZmZXIpLHRoaXMuX01TQUFSZW5kZXJCdWZmZXI9bnVsbCksdGhpcy5fd2ViR0xUZXh0dXJlJiZ0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fd2ViR0xUZXh0dXJlKSx0aGlzLnJlc2V0KCl9LGl9KCkscXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuZWZmZWN0PW51bGwsdGhpcy5kZWZpbmVzPW51bGwsdGhpcy5kcmF3Q29udGV4dD1lLmNyZWF0ZURyYXdDb250ZXh0KCksdCYmKHRoaXMubWF0ZXJpYWxDb250ZXh0PWUuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCkpfXJldHVybiBpLklzV3JhcHBlcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQaXBlbGluZUNvbnRleHQ9PT12b2lkIDB9LGkuR2V0RWZmZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMD9lLmVmZmVjdDplfSxpLnByb3RvdHlwZS5zZXRFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3I9PT12b2lkIDAmJihyPSEwKSx0aGlzLmVmZmVjdD1lLHQhPT12b2lkIDAmJih0aGlzLmRlZmluZXM9dCksciYmKChuPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5yZXNldCgpKX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlOyhlPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCl9LGl9KCksQm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2U9PT12b2lkIDAmJihlPSEwKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSExLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSExLHRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITEsZSYmdGhpcy5yZXNldCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5fHx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHl8fHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eXx8dGhpcy5faXNTdGVuY2lsT3BEaXJ0eX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmMhPT1lJiYodGhpcy5fZnVuYz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jUmVmIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmNSZWZ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jUmVmIT09ZSYmKHRoaXMuX2Z1bmNSZWY9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuY01hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY01hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jTWFzayE9PWUmJih0aGlzLl9mdW5jTWFzaz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsIT09ZSYmKHRoaXMuX29wU3RlbmNpbEZhaWw9ZSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wRGVwdGhGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BEZXB0aEZhaWwhPT1lJiYodGhpcy5fb3BEZXB0aEZhaWw9ZSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wU3RlbmNpbERlcHRoUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3MhPT1lJiYodGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXNrIT09ZSYmKHRoaXMuX21hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZW5hYmxlZCE9PWUmJih0aGlzLl9lbmFibGVkPWUsdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBlO3RoaXMuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCwoZT10aGlzLnN0ZW5jaWxHbG9iYWwpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZXNldCgpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITB9LGkucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpe3ZhciByPSF0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5JiYhISghKCh0PXRoaXMuc3RlbmNpbE1hdGVyaWFsKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0LmVuYWJsZWQpO3RoaXMuZW5hYmxlZD1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmVuYWJsZWQ6dGhpcy5zdGVuY2lsR2xvYmFsLmVuYWJsZWQsdGhpcy5mdW5jPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuYzp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuYyx0aGlzLmZ1bmNSZWY9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jUmVmOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jUmVmLHRoaXMuZnVuY01hc2s9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jTWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY01hc2ssdGhpcy5vcFN0ZW5jaWxGYWlsPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BEZXB0aEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRGVwdGhQYXNzOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxEZXB0aFBhc3MsdGhpcy5tYXNrPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwubWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwubWFzayx0aGlzLmlzRGlydHkmJih0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHkmJih0aGlzLmVuYWJsZWQ/ZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpOmUuZGlzYWJsZShlLlNURU5DSUxfVEVTVCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHkmJihlLnN0ZW5jaWxNYXNrKHRoaXMubWFzayksdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHkmJihlLnN0ZW5jaWxGdW5jKHRoaXMuZnVuYyx0aGlzLmZ1bmNSZWYsdGhpcy5mdW5jTWFzayksdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5JiYoZS5zdGVuY2lsT3AodGhpcy5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3MpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITEpKX19LGl9KCksVW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpfSgpLGZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt2YXIgYT10aGlzO3RoaXMuX25hbWU9IldlYkdMIix0aGlzLmZvcmNlUE9UVGV4dHVyZXM9ITEsdGhpcy5pc0Z1bGxzY3JlZW49ITEsdGhpcy5jdWxsQmFja0ZhY2VzPW51bGwsdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kPSEwLHRoaXMucHJldmVudENhY2hlV2lwZUJldHdlZW5GcmFtZXM9ITEsdGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zPSExLHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj0hMSx0aGlzLmlzTkRDSGFsZlpSYW5nZT0hMSx0aGlzLmhhc09yaWdpbkJvdHRvbUxlZnQ9ITAsdGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITEsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2ZyYW1lSWQ9MCx0aGlzLl91bmlmb3JtQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fc3RvcmFnZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3dlYkdMVmVyc2lvbj0xLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMSx0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9ITAsdGhpcy5fYmFkT1M9ITEsdGhpcy5fYmFkRGVza3RvcE9TPSExLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITEsdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9bmV3IEFycmF5LHRoaXMub25Db250ZXh0TG9zdE9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGU9bmV3IE8sdGhpcy5fY29udGV4dFdhc0xvc3Q9ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hMSx0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHM9ITEsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZT1uZXcgSW4sdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXI9bmV3IEJuLHRoaXMuX3N0ZW5jaWxTdGF0ZT1uZXcgT24sdGhpcy5fYWxwaGFTdGF0ZT1uZXcgRm4sdGhpcy5fYWxwaGFNb2RlPTEsdGhpcy5fYWxwaGFFcXVhdGlvbj0wLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZT1uZXcgQXJyYXksdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVDaGFubmVsPTAsdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZT17fSx0aGlzLl9jb21waWxlZEVmZmVjdHM9e30sdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZD1bXSx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD0hMSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXI9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2R1bW15RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucz1uZXcgQXJyYXksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITEsdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHM9bmV3IEFycmF5LHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPTAsdGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT1udWxsLHRoaXMuX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSx0aGlzLl9hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fdHJhbnNmb3JtVGV4dHVyZVVybD1udWxsLHRoaXMuaG9zdEluZm9ybWF0aW9uPXtpc01vYmlsZTohMX0sdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9ITAsdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9pc1dlYkdQVT0hMSx0aGlzLl9zbmFwc2hvdFJlbmRlcmluZ01vZGU9MCx0aGlzLl92aWV3cG9ydENhY2hlZD17eDowLHk6MCx6OjAsdzowfSx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuZW5hYmxlVW5wYWNrRmxpcFlDYWNoZWQ9ITAsdGhpcy5fYm91bmRVbmlmb3Jtcz17fTt2YXIgcz1udWxsO2lmKHI9cnx8e30sdGhpcy5fY3JlYXRpb25PcHRpb25zPXIsdGhpcy5fYWRhcHRUb0RldmljZVJhdGlvPW4/PyExLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxHbG9iYWw9dGhpcy5fc3RlbmNpbFN0YXRlLFB0LlNldE1hdHJpeFByZWNpc2lvbighIXIudXNlSGlnaFByZWNpc2lvbk1hdHJpeCksISFlKXtpZihuPW58fHIuYWRhcHRUb0RldmljZVJhdGlvfHwhMSxlLmdldENvbnRleHQpe2lmKHM9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXM9cyx0IT09dm9pZCAwJiYoci5hbnRpYWxpYXM9dCksci5kZXRlcm1pbmlzdGljTG9ja3N0ZXA9PT12b2lkIDAmJihyLmRldGVybWluaXN0aWNMb2Nrc3RlcD0hMSksci5sb2Nrc3RlcE1heFN0ZXBzPT09dm9pZCAwJiYoci5sb2Nrc3RlcE1heFN0ZXBzPTQpLHIudGltZVN0ZXA9PT12b2lkIDAmJihyLnRpbWVTdGVwPTEvNjApLHIucHJlc2VydmVEcmF3aW5nQnVmZmVyPT09dm9pZCAwJiYoci5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEpLHIuYXVkaW9FbmdpbmU9PT12b2lkIDAmJihyLmF1ZGlvRW5naW5lPSEwKSxyLmF1ZGlvRW5naW5lT3B0aW9ucyE9PXZvaWQgMCYmci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9Db250ZXh0IT09dm9pZCAwJiYodGhpcy5fYXVkaW9Db250ZXh0PXIuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvQ29udGV4dCksci5hdWRpb0VuZ2luZU9wdGlvbnMhPT12b2lkIDAmJnIuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvRGVzdGluYXRpb24hPT12b2lkIDAmJih0aGlzLl9hdWRpb0Rlc3RpbmF0aW9uPXIuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvRGVzdGluYXRpb24pLHIuc3RlbmNpbD09PXZvaWQgMCYmKHIuc3RlbmNpbD0hMCksci5wcmVtdWx0aXBsaWVkQWxwaGE9PT0hMSYmKHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSExKSxyLnhyQ29tcGF0aWJsZT09PXZvaWQgMCYmKHIueHJDb21wYXRpYmxlPSEwKSx0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0PSEhci5kb05vdEhhbmRsZUNvbnRleHRMb3N0LG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dGhpcy5fY2hlY2tGb3JNb2JpbGU9ZnVuY3Rpb24oKXt2YXIgeD1uYXZpZ2F0b3IudXNlckFnZW50O2EuaG9zdEluZm9ybWF0aW9uLmlzTW9iaWxlPXguaW5kZXhPZigiTW9iaWxlIikhPT0tMXx8eC5pbmRleE9mKCJNYWMiKSE9PS0xJiZmcigpJiYib250b3VjaGVuZCJpbiBkb2N1bWVudH0sdGhpcy5fY2hlY2tGb3JNb2JpbGUoKSx5ZSgpJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSk7Zm9yKHZhciBvPW5hdmlnYXRvci51c2VyQWdlbnQsdT0wLGY9aS5FeGNlcHRpb25MaXN0O3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdLGg9bC5rZXksYz1sLnRhcmdldHMsZD1uZXcgUmVnRXhwKGgpO2lmKGQudGVzdChvKSl7aWYobC5jYXB0dXJlJiZsLmNhcHR1cmVDb25zdHJhaW50KXt2YXIgcD1sLmNhcHR1cmUsZz1sLmNhcHR1cmVDb25zdHJhaW50LF89bmV3IFJlZ0V4cChwKSx2PV8uZXhlYyhvKTtpZih2JiZ2Lmxlbmd0aD4wKXt2YXIgeT1wYXJzZUludCh2W3YubGVuZ3RoLTFdKTtpZih5Pj1nKWNvbnRpbnVlfX1mb3IodmFyIEU9MCxSPWM7RTxSLmxlbmd0aDtFKyspe3ZhciBNPVJbRV07c3dpdGNoKE0pe2Nhc2UidW5pZm9ybUJ1ZmZlciI6dGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITA7YnJlYWs7Y2FzZSJ2YW8iOnRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cz0hMDticmVhaztjYXNlImFudGlhbGlhcyI6ci5hbnRpYWxpYXM9ITE7YnJlYWs7Y2FzZSJtYXhNU0FBU2FtcGxlcyI6dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT0xO2JyZWFrfX19fX1pZih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fb25Db250ZXh0TG9zdD1mdW5jdGlvbih4KXt4LnByZXZlbnREZWZhdWx0KCksYS5fY29udGV4dFdhc0xvc3Q9ITAsay5XYXJuKCJXZWJHTCBjb250ZXh0IGxvc3QuIiksYS5vbkNvbnRleHRMb3N0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9LHRoaXMuX29uQ29udGV4dFJlc3RvcmVkPWZ1bmN0aW9uKCl7YS5fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QoYS5faW5pdEdMQ29udGV4dC5iaW5kKGEpKX0scy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0Iix0aGlzLl9vbkNvbnRleHRMb3N0LCExKSxzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCwhMSksci5wb3dlclByZWZlcmVuY2U9ImhpZ2gtcGVyZm9ybWFuY2UiKSx0aGlzLl9iYWREZXNrdG9wT1M9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx0aGlzLl9iYWREZXNrdG9wT1MmJihyLnhyQ29tcGF0aWJsZT0hMSksIXIuZGlzYWJsZVdlYkdMMlN1cHBvcnQpdHJ5e3RoaXMuX2dsPXMuZ2V0Q29udGV4dCgid2ViZ2wyIixyKXx8cy5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wyIixyKSx0aGlzLl9nbCYmKHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIix0aGlzLl9nbC5kZWxldGVRdWVyeXx8KHRoaXMuX3dlYkdMVmVyc2lvbj0xLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wxIikpfWNhdGNoe31pZighdGhpcy5fZ2wpe2lmKCFzKXRocm93IG5ldyBFcnJvcigiVGhlIHByb3ZpZGVkIGNhbnZhcyBpcyBudWxsIG9yIHVuZGVmaW5lZC4iKTt0cnl7dGhpcy5fZ2w9cy5nZXRDb250ZXh0KCJ3ZWJnbCIscil8fHMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIixyKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX19aWYoIXRoaXMuX2dsKXRocm93IG5ldyBFcnJvcigiV2ViR0wgbm90IHN1cHBvcnRlZCIpfWVsc2V7dGhpcy5fZ2w9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXM9dGhpcy5fZ2wuY2FudmFzLHRoaXMuX2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT8odGhpcy5fd2ViR0xWZXJzaW9uPTIsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDIiKTp0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSI7dmFyIEM9dGhpcy5fZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtDJiYoci5zdGVuY2lsPUMuc3RlbmNpbCl9dGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSxyLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMhPT12b2lkIDAmJih0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9ci51c2VIaWdoUHJlY2lzaW9uRmxvYXRzKTt2YXIgQT15ZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxTPXIubGltaXREZXZpY2VSYXRpb3x8QTt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1uPzEvTWF0aC5taW4oUyxBKToxLHRoaXMucmVzaXplKCksdGhpcy5faXNTdGVuY2lsRW5hYmxlPSEhci5zdGVuY2lsLHRoaXMuX2luaXRHTENvbnRleHQoKSx0aGlzLl9pbml0RmVhdHVyZXMoKTtmb3IodmFyIHc9MDt3PHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmliczt3KyspdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3ddPW5ldyBVbjt0aGlzLl9zaGFkZXJQcm9jZXNzb3I9dGhpcy53ZWJHTFZlcnNpb24+MT9uZXcgTG46bmV3IHduLHRoaXMuX2JhZE9TPS9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L2lQaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIEY9IkJhYnlsb24uanMgdiIuY29uY2F0KGkuVmVyc2lvbik7Y29uc29sZS5sb2coRisiIC0gIi5jb25jYXQodGhpcy5kZXNjcmlwdGlvbikpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSgiZGF0YS1lbmdpbmUiLEYpfX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk5wbVBhY2thZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iYmFieWxvbmpzQDUuMTAuMCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlZlcnNpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNS4xMC4wIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlc2NyaXB0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYW1lK3RoaXMud2ViR0xWZXJzaW9uO3JldHVybiB0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZSYmKGUrPSIgLSBQYXJhbGxlbCBzaGFkZXIgY29tcGlsYXRpb24iKSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbmFtZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidmVyc2lvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlNoYWRlcnNSZXBvc2l0b3J5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEdlLlNoYWRlcnNSZXBvc2l0b3J5fSxzZXQ6ZnVuY3Rpb24oZSl7R2UuU2hhZGVyc1JlcG9zaXRvcnk9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fZ2V0U2hhZGVyUHJvY2Vzc29yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGFkZXJQcm9jZXNzb3J9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlUmV2ZXJzZURlcHRoQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcn0sc2V0OmZ1bmN0aW9uKGUpe2UhPT10aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXImJih0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ZSxlP3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz01MTg6dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxNSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmcmFtZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZyYW1lSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdXBwb3J0c1VuaWZvcm1CdWZmZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDcmVhdGlvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5fY2Fwcy5oaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkJiZ0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibmVlZFBPVFRleHR1cmVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhY3RpdmVSZW5kZXJMb29wcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVSZW5kZXJMb29wc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRvTm90SGFuZGxlQ29udGV4dExvc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0Iix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VycmVudFZpZXdwb3J0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFZpZXdwb3J0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW1wdHlUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZXx8KHRoaXMuX2VtcHR5VGV4dHVyZT10aGlzLmNyZWF0ZVJhd1RleHR1cmUobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDUsITEsITEsMSkpLHRoaXMuX2VtcHR5VGV4dHVyZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVtcHR5VGV4dHVyZTNEIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbXB0eVRleHR1cmUyREFycmF5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXl8fCh0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5PXRoaXMuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVtcHR5Q3ViZVRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNXZWJHUFUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNXZWJHUFV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaGFkZXJQbGF0Zm9ybU5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic25hcHNob3RSZW5kZXJpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2V0OmZ1bmN0aW9uKGUpe30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNuYXBzaG90UmVuZGVyaW5nTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zbmFwc2hvdFJlbmRlcmluZ01vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zbmFwc2hvdFJlbmRlcmluZ01vZGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zbmFwc2hvdFJlbmRlcmluZ1Jlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zbmFwc2hvdFJlbmRlcmluZz0hMX0saS5fQ3JlYXRlQ2FudmFzPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGRvY3VtZW50PiJ1IilyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcyhlLHQpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiByLndpZHRoPWUsci5oZWlnaHQ9dCxyfSxpLnByb3RvdHlwZS5jcmVhdGVDYW52YXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5fQ3JlYXRlQ2FudmFzKGUsdCl9LGkucHJvdG90eXBlLmNyZWF0ZUNhbnZhc0ltYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpfSxpLnByb3RvdHlwZS5fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIEJyKHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLG4sYSxzLG87cmV0dXJuIEZ0KHRoaXMsZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcj1udWxsLHI9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0LG49dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jLGE9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrLHM9dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0LFs0LGUoKV07Y2FzZSAxOnJldHVybiB1LnNlbnQoKSx0aGlzLl9yZWJ1aWxkRWZmZWN0cygpLChvPXRoaXMuX3JlYnVpbGRDb21wdXRlRWZmZWN0cyk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodGhpcyksdGhpcy5fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKSx0aGlzLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKSx0aGlzLl9yZWJ1aWxkQnVmZmVycygpLHRoaXMud2lwZUNhY2hlcyghMCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PXIsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPW4sdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWEsdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PXMsay5XYXJuKHRoaXMubmFtZSsiIGNvbnRleHQgc3VjY2Vzc2Z1bGx5IHJlc3RvcmVkLiIpLHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb250ZXh0V2FzTG9zdD0hMSxbMl19fSl9KX0sMCl9LGkucHJvdG90eXBlLl9zaGFyZWRJbml0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9yZW5kZXJpbmdDYW52YXM9ZX0saS5wcm90b3R5cGUuX2dldFNoYWRlclByb2Nlc3NpbmdDb250ZXh0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5fcmVidWlsZEludGVybmFsVGV4dHVyZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNsaWNlKCksdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9yZWJ1aWxkKCl9fSxpLnByb3RvdHlwZS5fcmVidWlsZFJlbmRlclRhcmdldFdyYXBwZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zbGljZSgpLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fcmVidWlsZCgpfX0saS5wcm90b3R5cGUuX3JlYnVpbGRFZmZlY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7dmFyIHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdO3QuX3BpcGVsaW5lQ29udGV4dD1udWxsLHQuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0Ll9wcmVwYXJlRWZmZWN0KCl9R2UuUmVzZXRDYWNoZSgpfSxpLnByb3RvdHlwZS5hcmVBbGxFZmZlY3RzUmVhZHk9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXt2YXIgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV07aWYoIXQuaXNSZWFkeSgpKXJldHVybiExfXJldHVybiEwfSxpLnByb3RvdHlwZS5fcmVidWlsZEJ1ZmZlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PXRoaXMuX3VuaWZvcm1CdWZmZXJzO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3IuX3JlYnVpbGQoKX1mb3IodmFyIG49MCxhPXRoaXMuX3N0b3JhZ2VCdWZmZXJzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuX3JlYnVpbGQoKX19LGkucHJvdG90eXBlLl9pbml0R0xDb250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5fY2Fwcz17bWF4VGV4dHVyZXNJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhWZXJ0ZXhUZXh0dXJlSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1RFWFRVUkVfU0laRSksbWF4U2FtcGxlczp0aGlzLl93ZWJHTFZlcnNpb24+MT90aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1NBTVBMRVMpOjEsbWF4Q3ViZW1hcFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQ1VCRV9NQVBfVEVYVFVSRV9TSVpFKSxtYXhSZW5kZXJUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1JFTkRFUkJVRkZFUl9TSVpFKSxtYXhWZXJ0ZXhBdHRyaWJzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX0FUVFJJQlMpLG1heFZhcnlpbmdWZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkFSWUlOR19WRUNUT1JTKSxtYXhGcmFnbWVudFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTKSxtYXhWZXJ0ZXhVbmlmb3JtVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMpLHBhcmFsbGVsU2hhZGVyQ29tcGlsZTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIktIUl9wYXJhbGxlbF9zaGFkZXJfY29tcGlsZSIpfHx2b2lkIDAsc3RhbmRhcmREZXJpdmF0aXZlczp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiKSE9PW51bGwsbWF4QW5pc290cm9weToxLGFzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YyIpLGJwdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKSxzM3RjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKSxzM3RjX3NyZ2I6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKSxwdnJ0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKSxldGMxOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEiKSxldGMyOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2VzM18wIiksdGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKSx1aW50SW5kaWNlczp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfZWxlbWVudF9pbmRleF91aW50IikhPT1udWxsLGZyYWdtZW50RGVwdGhTdXBwb3J0ZWQ6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2ZyYWdfZGVwdGgiKSE9PW51bGwsaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZDohMSx0aW1lclF1ZXJ5OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIpLHN1cHBvcnRPY2NsdXNpb25RdWVyeTp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VUaW1lc3RhbXBGb3JUaW1lclF1ZXJ5OiExLGRyYXdCdWZmZXJzRXh0ZW5zaW9uOiExLG1heE1TQUFTYW1wbGVzOjEsY29sb3JCdWZmZXJGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MSYmdGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0IikpLHRleHR1cmVGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdFJlbmRlcjohMSx0ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc6ITEsdGV4dHVyZUZsb2F0UmVuZGVyOiExLHRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc6ITEsdmVydGV4QXJyYXlPYmplY3Q6ITEsaW5zdGFuY2VkQXJyYXlzOiExLHRleHR1cmVMT0Q6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCIpKSxibGVuZE1pbk1heDohMSxtdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPVlJfbXVsdGl2aWV3MiIpLG9jdWx1c011bHRpdmlldzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9DVUxVU19tdWx0aXZpZXciKSxkZXB0aFRleHR1cmVFeHRlbnNpb246ITEsY2FuVXNlR0xJbnN0YW5jZUlEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZUdMVmVydGV4SUQ6dGhpcy5fd2ViR0xWZXJzaW9uPjEsc3VwcG9ydENvbXB1dGVTaGFkZXJzOiExLHN1cHBvcnRTUkdCQnVmZmVyczohMSxzdXBwb3J0VHJhbnNmb3JtRmVlZGJhY2tzOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHRleHR1cmVNYXhMZXZlbDp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlMkRBcnJheU1heExheWVyQ291bnQ6dGhpcy5fd2ViR0xWZXJzaW9uPjE/MjU2OjEyOH0sdGhpcy5fZ2xWZXJzaW9uPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5WRVJTSU9OKTt2YXIgZT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtpZihlIT1udWxsJiYodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIoZS5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKGUuVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5fZ2xWZW5kb3J8fCh0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVORE9SKXx8IlVua25vd24gdmVuZG9yIiksdGhpcy5fZ2xSZW5kZXJlcnx8KHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlJFTkRFUkVSKXx8IlVua25vd24gcmVuZGVyZXIiKSx0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTM2MTkzJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9MzYxOTMpLHRoaXMuX2dsLlJHQkExNkYhPT0zNDg0MiYmKHRoaXMuX2dsLlJHQkExNkY9MzQ4NDIpLHRoaXMuX2dsLlJHQkEzMkYhPT0zNDgzNiYmKHRoaXMuX2dsLlJHQkEzMkY9MzQ4MzYpLHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDghPT0zNTA1NiYmKHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDg9MzUwNTYpLHRoaXMuX2NhcHMudGltZXJRdWVyeSYmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEmJih0aGlzLl9nbC5nZXRRdWVyeT10aGlzLl9jYXBzLnRpbWVyUXVlcnkuZ2V0UXVlcnlFWFQuYmluZCh0aGlzLl9jYXBzLnRpbWVyUXVlcnkpKSx0aGlzLl9jYXBzLmNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk9dGhpcy5fZ2wuZ2V0UXVlcnkodGhpcy5fY2Fwcy50aW1lclF1ZXJ5LlRJTUVTVEFNUF9FWFQsdGhpcy5fY2Fwcy50aW1lclF1ZXJ5LlFVRVJZX0NPVU5URVJfQklUU19FWFQpPjApLHRoaXMuX2NhcHMubWF4QW5pc290cm9weT10aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbj90aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb24uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTowLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpKSx0aGlzLl9jYXBzLnRleHR1cmVGbG9hdFJlbmRlcj0hISh0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmdGhpcy5fY2FuUmVuZGVyVG9GbG9hdEZyYW1lYnVmZmVyKCkpLHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz0hISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMuYXN0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUj10aGlzLl9jYXBzLmFzdGMuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSKSx0aGlzLl9jYXBzLmJwdGMmJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ9dGhpcy5fY2Fwcy5icHRjLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVCksdGhpcy5fY2Fwcy5zM3RjX3NyZ2ImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVD10aGlzLl9jYXBzLnMzdGNfc3JnYi5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVCx0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVD10aGlzLl9jYXBzLnMzdGNfc3JnYi5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCx0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVD10aGlzLl9jYXBzLnMzdGNfc3JnYi5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVCksdGhpcy5fY2Fwcy5ldGMyJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9FVEMyPXRoaXMuX2NhcHMuZXRjMi5DT01QUkVTU0VEX1NSR0I4X0VUQzIsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUM9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDKSx0aGlzLl93ZWJHTFZlcnNpb24+MSYmdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVMhPT01MTMxJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9NTEzMSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyPXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdCYmdGhpcy5fY2FuUmVuZGVyVG9IYWxmRmxvYXRGcmFtZWJ1ZmZlcigpLHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuZHJhd0J1ZmZlcnNFeHRlbnNpb249ITAsdGhpcy5fY2Fwcy5tYXhNU0FBU2FtcGxlcz10aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlIT09bnVsbD90aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk7ZWxzZXt2YXIgdD10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO2lmKHQhPT1udWxsKXt0aGlzLl9jYXBzLmRyYXdCdWZmZXJzRXh0ZW5zaW9uPSEwLHRoaXMuX2dsLmRyYXdCdWZmZXJzPXQuZHJhd0J1ZmZlcnNXRUJHTC5iaW5kKHQpLHRoaXMuX2dsLkRSQVdfRlJBTUVCVUZGRVI9dGhpcy5fZ2wuRlJBTUVCVUZGRVI7Zm9yKHZhciByPTA7cjwxNjtyKyspdGhpcy5fZ2xbIkNPTE9SX0FUVEFDSE1FTlQiK3IrIl9XRUJHTCJdPXRbIkNPTE9SX0FUVEFDSE1FTlQiK3IrIl9XRUJHTCJdfX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMDtlbHNle3ZhciBuPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVwdGhfdGV4dHVyZSIpO24hPW51bGwmJih0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMCx0aGlzLl9nbC5VTlNJR05FRF9JTlRfMjRfOD1uLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMKX1pZih0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMTtlbHNlIGlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITA7ZWxzZXt2YXIgYT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Iik7YSE9bnVsbCYmKHRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITAsdGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXk9YS5jcmVhdGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGEpLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheT1hLmJpbmRWZXJ0ZXhBcnJheU9FUy5iaW5kKGEpLHRoaXMuX2dsLmRlbGV0ZVZlcnRleEFycmF5PWEuZGVsZXRlVmVydGV4QXJyYXlPRVMuYmluZChhKSl9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITA7ZWxzZXt2YXIgcz10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKTtzIT1udWxsPyh0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMCx0aGlzLl9nbC5kcmF3QXJyYXlzSW5zdGFuY2VkPXMuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFLmJpbmQocyksdGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkPXMuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUuYmluZChzKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yPXMudmVydGV4QXR0cmliRGl2aXNvckFOR0xFLmJpbmQocykpOnRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSExfWlmKHRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCl7dmFyIG89dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLlZFUlRFWF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCksdT10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpO28mJnUmJih0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ9by5wcmVjaXNpb24hPT0wJiZ1LnByZWNpc2lvbiE9PTApfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITA7ZWxzZXt2YXIgZj10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9ibGVuZF9taW5tYXgiKTtmIT1udWxsJiYodGhpcy5fY2Fwcy5ibGVuZE1pbk1heD0hMCx0aGlzLl9nbC5NQVg9Zi5NQVhfRVhULHRoaXMuX2dsLk1JTj1mLk1JTl9FWFQpfWlmKCF0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9ITA7ZWxzZXt2YXIgbD10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zUkdCIik7bCE9bnVsbCYmKHRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwLHRoaXMuX2dsLlNSR0I9bC5TUkdCX0VYVCx0aGlzLl9nbC5TUkdCOD1sLlNSR0JfQUxQSEFfRVhULHRoaXMuX2dsLlNSR0I4X0FMUEhBOD1sLlNSR0JfQUxQSEFfRVhUKX10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmISEodGhpcy5fY3JlYXRpb25PcHRpb25zJiZ0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZm9yY2VTUkdCQnVmZmVyU3VwcG9ydFN0YXRlKX10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkxFUVVBTCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9ITAsdGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM9dGhpcy5fY2Fwcy5tYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0cztmb3IodmFyIGg9MDtoPHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzO2grKyl0aGlzLl9uZXh0RnJlZVRleHR1cmVTbG90cy5wdXNoKGgpfSxpLnByb3RvdHlwZS5faW5pdEZlYXR1cmVzPWZ1bmN0aW9uKCl7dGhpcy5fZmVhdHVyZXM9e2ZvcmNlQml0bWFwT3ZlckhUTUxJbWFnZUVsZW1lbnQ6ITEsc3VwcG9ydFJlbmRlckFuZENvcHlUb0xvZEZvckZsb2F0VGV4dHVyZXM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0RGVwdGhTdGVuY2lsVGV4dHVyZTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTaGFkb3dTYW1wbGVyczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXg6ITEsYWxsb3dUZXh0dXJlUHJlZmlsdGVyaW5nOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdHJhY2tVYm9zSW5GcmFtZTohMSxjaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkOiExLHN1cHBvcnRDU006dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxiYXNpc05lZWRzUE9UOnRoaXMuX3dlYkdMVmVyc2lvbj09PTEsc3VwcG9ydDNEVGV4dHVyZXM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxuZWVkVHlwZVN1ZmZpeEluU2hhZGVyQ29uc3RhbnRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydE1TQUE6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U1NBTzI6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTd2l0Y2hDYXNlSW5TaGFkZXI6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3luY1RleHR1cmVSZWFkOiEwLG5lZWRzSW52ZXJ0aW5nQml0bWFwOiEwLHVzZVVCT0JpbmRpbmdDYWNoZTohMCxuZWVkU2hhZGVyQ29kZUlubGluaW5nOiExLG5lZWRUb0Fsd2F5c0JpbmRVbmlmb3JtQnVmZmVyczohMSxzdXBwb3J0UmVuZGVyUGFzc2VzOiExLF9jb2xsZWN0VWJvc1VwZGF0ZWRJbkZyYW1lOiExfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3ZWJHTFZlcnNpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUaGluRW5naW5lIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1N0ZW5jaWxFbmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsRW5hYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9wcmVwYXJlV29ya2luZ0NhbnZhcz1mdW5jdGlvbigpe2lmKCF0aGlzLl93b3JraW5nQ2FudmFzKXt0aGlzLl93b3JraW5nQ2FudmFzPXRoaXMuY3JlYXRlQ2FudmFzKDEsMSk7dmFyIGU9dGhpcy5fd29ya2luZ0NhbnZhcy5nZXRDb250ZXh0KCIyZCIpO2UmJih0aGlzLl93b3JraW5nQ29udGV4dD1lKX19LGkucHJvdG90eXBlLnJlc2V0VGV4dHVyZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlLGUpJiYodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPW51bGwpO3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMX0saS5wcm90b3R5cGUuZ2V0SW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdsSW5mbygpfSxpLnByb3RvdHlwZS5nZXRHbEluZm89ZnVuY3Rpb24oKXtyZXR1cm57dmVuZG9yOnRoaXMuX2dsVmVuZG9yLHJlbmRlcmVyOnRoaXMuX2dsUmVuZGVyZXIsdmVyc2lvbjp0aGlzLl9nbFZlcnNpb259fSxpLnByb3RvdHlwZS5zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbD1mdW5jdGlvbihlKXt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1lLHRoaXMucmVzaXplKCl9LGkucHJvdG90eXBlLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsfSxpLnByb3RvdHlwZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZX0saS5wcm90b3R5cGUuZ2V0Q2Fwcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXBzfSxpLnByb3RvdHlwZS5zdG9wUmVuZGVyTG9vcD1mdW5jdGlvbihlKXtpZighZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9W107cmV0dXJufXZhciB0PXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmluZGV4T2YoZSk7dD49MCYmdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuc3BsaWNlKHQsMSl9LGkucHJvdG90eXBlLl9yZW5kZXJMb29wPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXt2YXIgZT0hMDtpZighdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQmJihlPSExKSxlKXt0aGlzLmJlZ2luRnJhbWUoKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzW3RdO3IoKX10aGlzLmVuZEZyYW1lKCl9fXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD4wP3RoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpOnRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITF9LGkucHJvdG90eXBlLmdldFJlbmRlcmluZ0NhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9LGkucHJvdG90eXBlLmdldEF1ZGlvQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHR9LGkucHJvdG90eXBlLmdldEF1ZGlvRGVzdGluYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9EZXN0aW5hdGlvbn0saS5wcm90b3R5cGUuZ2V0SG9zdFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB5ZSgpP3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OndpbmRvdzpudWxsfSxpLnByb3RvdHlwZS5nZXRSZW5kZXJXaWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLCFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQud2lkdGg6dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0P3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdC5mcmFtZWJ1ZmZlcldpZHRoOnRoaXMuX2dsLmRyYXdpbmdCdWZmZXJXaWR0aH0saS5wcm90b3R5cGUuZ2V0UmVuZGVySGVpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0hMSksIWUmJnRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy5fY3VycmVudFJlbmRlclRhcmdldC5oZWlnaHQ6dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0P3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdC5mcmFtZWJ1ZmZlckhlaWdodDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVySGVpZ2h0fSxpLnByb3RvdHlwZS5fcXVldWVOZXdGcmFtZT1mdW5jdGlvbihlLHQpe3JldHVybiBpLlF1ZXVlTmV3RnJhbWUoZSx0KX0saS5wcm90b3R5cGUucnVuUmVuZGVyTG9vcD1mdW5jdGlvbihlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5wdXNoKGUpLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWR8fCh0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSEwLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyTG9vcC5iaW5kKHRoaXMpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpKSl9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT10aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5O3RoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITAsdGhpcy5hcHBseVN0YXRlcygpLHRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9YTt2YXIgcz0wO3QmJmUmJih0aGlzLl9nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSE9PXZvaWQgMD9lLmE6MSksc3w9dGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCksciYmKHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuR0VRVUFMLHRoaXMuX2dsLmNsZWFyRGVwdGgoMCkpOnRoaXMuX2dsLmNsZWFyRGVwdGgoMSksc3w9dGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCksbiYmKHRoaXMuX2dsLmNsZWFyU3RlbmNpbCgwKSxzfD10aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX2dsLmNsZWFyKHMpfSxpLnByb3RvdHlwZS5fdmlld3BvcnQ9ZnVuY3Rpb24oZSx0LHIsbil7KGUhPT10aGlzLl92aWV3cG9ydENhY2hlZC54fHx0IT09dGhpcy5fdmlld3BvcnRDYWNoZWQueXx8ciE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnp8fG4hPT10aGlzLl92aWV3cG9ydENhY2hlZC53KSYmKHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLng9ZSx0aGlzLl92aWV3cG9ydENhY2hlZC55PXQsdGhpcy5fdmlld3BvcnRDYWNoZWQuej1yLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnc9bix0aGlzLl9nbC52aWV3cG9ydChlLHQscixuKSl9LGkucHJvdG90eXBlLnNldFZpZXdwb3J0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10fHx0aGlzLmdldFJlbmRlcldpZHRoKCksYT1yfHx0aGlzLmdldFJlbmRlckhlaWdodCgpLHM9ZS54fHwwLG89ZS55fHwwO3RoaXMuX2NhY2hlZFZpZXdwb3J0PWUsdGhpcy5fdmlld3BvcnQocypuLG8qYSxuKmUud2lkdGgsYSplLmhlaWdodCl9LGkucHJvdG90eXBlLmJlZ2luRnJhbWU9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLmVuZEZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fYmFkT1MmJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2ZyYW1lSWQrK30saS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPSExKTt2YXIgdCxyO2lmKHRoaXMuX2FkYXB0VG9EZXZpY2VSYXRpbyl7dmFyIG49eWUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEsYT10aGlzLl9jcmVhdGlvbk9wdGlvbnMubGltaXREZXZpY2VSYXRpb3x8bjt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD10aGlzLl9hZGFwdFRvRGV2aWNlUmF0aW8/MS9NYXRoLm1pbihhLG4pOjF9eWUoKT8odD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6d2luZG93LmlubmVyV2lkdGgscj10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudEhlaWdodHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQpOih0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6MTAwLHI9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6MTAwKSx0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxyL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfSxpLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITEpLCF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhciYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfSxpLnByb3RvdHlwZS5iaW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHUsZixsLGgsYzt0PT09dm9pZCAwJiYodD0wKSxzPT09dm9pZCAwJiYocz0wKSxvPT09dm9pZCAwJiYobz0wKTt2YXIgZD1lO3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQmJnRoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCksdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD1lLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZC5fTVNBQUZyYW1lYnVmZmVyP2QuX01TQUFGcmFtZWJ1ZmZlcjpkLl9mcmFtZWJ1ZmZlcik7dmFyIHA9dGhpcy5fZ2w7ZS5pczJEQXJyYXk/cC5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihwLkZSQU1FQlVGRkVSLHAuQ09MT1JfQVRUQUNITUVOVDAsKHU9ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS51bmRlcmx5aW5nUmVzb3VyY2UscyxvKTplLmlzQ3ViZSYmcC5mcmFtZWJ1ZmZlclRleHR1cmUyRChwLkZSQU1FQlVGRkVSLHAuQ09MT1JfQVRUQUNITUVOVDAscC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoZj1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxmPT09dm9pZCAwP3ZvaWQgMDpmLnVuZGVybHlpbmdSZXNvdXJjZSxzKTt2YXIgZz1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKGcpe3ZhciBfPWUuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD9wLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVDpwLkRFUFRIX0FUVEFDSE1FTlQ7ZS5pczJEQXJyYXk/cC5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihwLkZSQU1FQlVGRkVSLF8sKGw9Zy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLHMsbyk6ZS5pc0N1YmU/cC5mcmFtZWJ1ZmZlclRleHR1cmUyRChwLkZSQU1FQlVGRkVSLF8scC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoaD1nLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMD92b2lkIDA6aC51bmRlcmx5aW5nUmVzb3VyY2Uscyk6cC5mcmFtZWJ1ZmZlclRleHR1cmUyRChwLkZSQU1FQlVGRkVSLF8scC5URVhUVVJFXzJELChjPWcuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxjPT09dm9pZCAwP3ZvaWQgMDpjLnVuZGVybHlpbmdSZXNvdXJjZSxzKX10aGlzLl9jYWNoZWRWaWV3cG9ydCYmIWE/dGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCxyLG4pOihyfHwocj1lLndpZHRoLHMmJihyPXIvTWF0aC5wb3coMixzKSkpLG58fChuPWUuaGVpZ2h0LHMmJihuPW4vTWF0aC5wb3coMixzKSkpLHRoaXMuX3ZpZXdwb3J0KDAsMCxyLG4pKSx0aGlzLndpcGVDYWNoZXMoKX0saS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHUsZjt0PT09dm9pZCAwJiYodD0wKSxuPT09dm9pZCAwJiYobj0hMSksbz09PXZvaWQgMCYmKG89MCksKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGwhPT1lfHxyKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGw9ZSk7dmFyIGw9ISgoZj0odT10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmdSE9PXZvaWQgMD91OmEpIT09bnVsbCYmZiE9PXZvaWQgMCl8fGY/dGhpcy5fZ2wuQkFDSzp0aGlzLl9nbC5GUk9OVDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2UhPT1sfHxyKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlPWwpLHRoaXMuc2V0Wk9mZnNldCh0KSx0aGlzLnNldFpPZmZzZXRVbml0cyhvKTt2YXIgaD1uP3RoaXMuX2dsLkNXOnRoaXMuX2dsLkNDVzsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZnJvbnRGYWNlIT09aHx8cikmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2U9aCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPXN9LGkucHJvdG90eXBlLnNldFpPZmZzZXQ9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldD10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfSxpLnByb3RvdHlwZS5nZXRaT2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldDtyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX0saS5wcm90b3R5cGUuc2V0Wk9mZnNldFVuaXRzPWZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cz10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfSxpLnByb3RvdHlwZS5nZXRaT2Zmc2V0VW5pdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9LGkucHJvdG90eXBlLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlciE9PWUmJih0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsZSksdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPWUpfSxpLnByb3RvdHlwZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPT09bnVsbH0saS5wcm90b3R5cGUuZ2VuZXJhdGVNaXBtYXBzPWZ1bmN0aW9uKGUpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLl9nbC5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9LGkucHJvdG90eXBlLnVuQmluZEZyYW1lYnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjt0PT09dm9pZCAwJiYodD0hMSk7dmFyIGE9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7dmFyIHM9dGhpcy5fZ2w7aWYoYS5fTVNBQUZyYW1lYnVmZmVyKXtpZihlLmlzTXVsdGkpe3RoaXMudW5CaW5kTXVsdGlDb2xvckF0dGFjaG1lbnRGcmFtZWJ1ZmZlcihlLHQscik7cmV0dXJufXMuYmluZEZyYW1lYnVmZmVyKHMuUkVBRF9GUkFNRUJVRkZFUixhLl9NU0FBRnJhbWVidWZmZXIpLHMuYmluZEZyYW1lYnVmZmVyKHMuRFJBV19GUkFNRUJVRkZFUixhLl9mcmFtZWJ1ZmZlcikscy5ibGl0RnJhbWVidWZmZXIoMCwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLGUud2lkdGgsZS5oZWlnaHQscy5DT0xPUl9CVUZGRVJfQklULHMuTkVBUkVTVCl9ISgobj1lLnRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4uZ2VuZXJhdGVNaXBNYXBzJiYhdCYmIWUuaXNDdWJlJiZ0aGlzLmdlbmVyYXRlTWlwbWFwcyhlLnRleHR1cmUpLHImJihhLl9NU0FBRnJhbWVidWZmZXImJnRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYS5fZnJhbWVidWZmZXIpLHIoKSksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKX0saS5wcm90b3R5cGUuZmx1c2hGcmFtZWJ1ZmZlcj1mdW5jdGlvbigpe3RoaXMuX2dsLmZsdXNoKCl9LGkucHJvdG90eXBlLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXI9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCk6dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRWaWV3cG9ydCYmdGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCksdGhpcy53aXBlQ2FjaGVzKCl9LGkucHJvdG90eXBlLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmc9ZnVuY3Rpb24oKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPW51bGx9LGkucHJvdG90eXBlLmNyZWF0ZVZlcnRleEJ1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuU1RBVElDX0RSQVcpfSxpLnByb3RvdHlwZS5fY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHZlcnRleCBidWZmZXIiKTt2YXIgbj1uZXcgWnQocik7cmV0dXJuIHRoaXMuYmluZEFycmF5QnVmZmVyKG4pLGUgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGUpLHQpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdCksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksbi5yZWZlcmVuY2VzPTEsbn0saS5wcm90b3R5cGUuY3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKX0saS5wcm90b3R5cGUuX3Jlc2V0SW5kZXhCdWZmZXJCaW5kaW5nPWZ1bmN0aW9uKCl7dGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbH0saS5wcm90b3R5cGUuY3JlYXRlSW5kZXhCdWZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSxuPW5ldyBadChyKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5kZXggYnVmZmVyIik7dGhpcy5iaW5kSW5kZXhCdWZmZXIobik7dmFyIGE9dGhpcy5fbm9ybWFsaXplSW5kZXhEYXRhKGUpO3JldHVybiB0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGEsdD90aGlzLl9nbC5EWU5BTUlDX0RSQVc6dGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuX3Jlc2V0SW5kZXhCdWZmZXJCaW5kaW5nKCksbi5yZWZlcmVuY2VzPTEsbi5pczMyQml0cz1hLkJZVEVTX1BFUl9FTEVNRU5UPT09NCxufSxpLnByb3RvdHlwZS5fbm9ybWFsaXplSW5kZXhEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PWUuQllURVNfUEVSX0VMRU1FTlQ7aWYodD09PTIpcmV0dXJuIGU7aWYodGhpcy5fY2Fwcy51aW50SW5kaWNlcyl7aWYoZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KXJldHVybiBlO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0+PTY1NTM1KXJldHVybiBuZXcgVWludDMyQXJyYXkoZSk7cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX1yZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUpfSxpLnByb3RvdHlwZS5iaW5kQXJyYXlCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuQVJSQVlfQlVGRkVSKX0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CbG9jaz1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5wcm9ncmFtLGE9dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgobix0KTt0aGlzLl9nbC51bmlmb3JtQmxvY2tCaW5kaW5nKG4sYSxyKX0saS5wcm90b3R5cGUuYmluZEluZGV4QnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKX0saS5wcm90b3R5cGUuX2JpbmRCdWZmZXI9ZnVuY3Rpb24oZSx0KXsodGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdIT09ZSkmJih0aGlzLl9nbC5iaW5kQnVmZmVyKHQsZT9lLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF09ZSl9LGkucHJvdG90eXBlLnVwZGF0ZUFycmF5QnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsZSl9LGkucHJvdG90eXBlLl92ZXJ0ZXhBdHRyaWJQb2ludGVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PXRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1t0XTtpZih1KXt2YXIgZj0hMTt1LmFjdGl2ZT8odS5idWZmZXIhPT1lJiYodS5idWZmZXI9ZSxmPSEwKSx1LnNpemUhPT1yJiYodS5zaXplPXIsZj0hMCksdS50eXBlIT09biYmKHUudHlwZT1uLGY9ITApLHUubm9ybWFsaXplZCE9PWEmJih1Lm5vcm1hbGl6ZWQ9YSxmPSEwKSx1LnN0cmlkZSE9PXMmJih1LnN0cmlkZT1zLGY9ITApLHUub2Zmc2V0IT09byYmKHUub2Zmc2V0PW8sZj0hMCkpOihmPSEwLHUuYWN0aXZlPSEwLHUuaW5kZXg9dCx1LnNpemU9cix1LnR5cGU9bix1Lm5vcm1hbGl6ZWQ9YSx1LnN0cmlkZT1zLHUub2Zmc2V0PW8sdS5idWZmZXI9ZSksKGZ8fHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3MpJiYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcih0LHIsbixhLHMsbykpfX0saS5wcm90b3R5cGUuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZT1mdW5jdGlvbihlKXtlIT1udWxsJiZ0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlciE9PWUmJih0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1lLHRoaXMuYmluZEluZGV4QnVmZmVyKGUpLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PWUuaXMzMkJpdHMpfSxpLnByb3RvdHlwZS5fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmdldEF0dHJpYnV0ZXNOYW1lcygpO3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPXQuZ2V0QXR0cmlidXRlTG9jYXRpb24oYSk7aWYocz49MCl7dmFyIG89blthXSx1PW51bGw7aWYociYmKHU9cltvXSksdXx8KHU9ZVtvXSksIXUpY29udGludWU7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocyksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbc109ITApO3ZhciBmPXUuZ2V0QnVmZmVyKCk7ZiYmKHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZixzLHUuZ2V0U2l6ZSgpLHUudHlwZSx1Lm5vcm1hbGl6ZWQsdS5ieXRlU3RyaWRlLHUuYnl0ZU9mZnNldCksdS5nZXRJc0luc3RhbmNlZCgpJiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihzLHUuZ2V0SW5zdGFuY2VEaXZpc29yKCkpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fCh0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChzKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZikpKSl9fX0saS5wcm90b3R5cGUucmVjb3JkVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtyZXR1cm4gdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoYSksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHIsbiksdGhpcy5iaW5kSW5kZXhCdWZmZXIodCksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCksYX0saS5wcm90b3R5cGUuYmluZFZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QhPT1lJiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9ZSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9dCE9bnVsbCYmdC5pczMyQml0cyx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITApfSxpLnByb3RvdHlwZS5iaW5kQnVmZmVyc0RpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycyE9PWV8fHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnMhPT1hKXt0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1hO3ZhciBzPWEuZ2V0QXR0cmlidXRlc0NvdW50KCk7dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtmb3IodmFyIG89MCx1PTA7dTxzO3UrKylpZih1PHIubGVuZ3RoKXt2YXIgZj1hLmdldEF0dHJpYnV0ZUxvY2F0aW9uKHUpO2Y+PTAmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2ZdPSEwLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxmLHJbdV0sdGhpcy5fZ2wuRkxPQVQsITEsbixvKSksbys9clt1XSo0fX10aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9LGkucHJvdG90eXBlLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpe3RoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkpfSxpLnByb3RvdHlwZS5iaW5kQnVmZmVycz1mdW5jdGlvbihlLHQscixuKXsodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycyE9PWV8fHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnMhPT1yKSYmKHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9ZSx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPXIsdGhpcy5fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzKGUscixuKSksdGhpcy5fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKHQpfSxpLnByb3RvdHlwZS51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wLHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmxlbmd0aDt0PHI7dCsrKXt2YXIgbj10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzW3RdO2UhPW4mJm4ucmVmZXJlbmNlcyYmKGU9bix0aGlzLmJpbmRBcnJheUJ1ZmZlcihuKSk7dmFyIGE9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zW3RdO3RoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IoYSwwKX10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg9MH0saS5wcm90b3R5cGUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuX2dsLmRlbGV0ZVZlcnRleEFycmF5KGUpfSxpLnByb3RvdHlwZS5fcmVsZWFzZUJ1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWZlcmVuY2VzLS0sZS5yZWZlcmVuY2VzPT09MD8odGhpcy5fZGVsZXRlQnVmZmVyKGUpLCEwKTohMX0saS5wcm90b3R5cGUuX2RlbGV0ZUJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZS51bmRlcmx5aW5nUmVzb3VyY2UpfSxpLnByb3RvdHlwZS51cGRhdGVBbmRCaW5kSW5zdGFuY2VzQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKSx0JiZ0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLHQpLHJbMF0uaW5kZXghPT12b2lkIDApdGhpcy5iaW5kSW5zdGFuY2VzQnVmZmVyKGUsciwhMCk7ZWxzZSBmb3IodmFyIG49MDtuPDQ7bisrKXt2YXIgYT1yW25dO3RoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbYV18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2FdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsYSw0LHRoaXMuX2dsLkZMT0FULCExLDY0LG4qMTYpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IoYSwxKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChhKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZSl9fSxpLnByb3RvdHlwZS5iaW5kSW5zdGFuY2VzQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0hMCksdGhpcy5iaW5kQXJyYXlCdWZmZXIoZSk7dmFyIG49MDtpZihyKWZvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdO24rPXMuYXR0cmlidXRlU2l6ZSo0fWZvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdO3MuaW5kZXg9PT12b2lkIDAmJihzLmluZGV4PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUocy5hdHRyaWJ1dGVOYW1lKSksIShzLmluZGV4PDApJiYodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtzLmluZGV4XXx8KHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHMuaW5kZXgpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbcy5pbmRleF09ITApLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxzLmluZGV4LHMuYXR0cmlidXRlU2l6ZSxzLmF0dHJpYnV0ZVR5cGV8fHRoaXMuX2dsLkZMT0FULHMubm9ybWFsaXplZHx8ITEsbixzLm9mZnNldCksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihzLmluZGV4LHMuZGl2aXNvcj09PXZvaWQgMD8xOnMuZGl2aXNvciksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gocy5pbmRleCksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpKX19LGkucHJvdG90eXBlLmRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZUJ5TmFtZT1mdW5jdGlvbihlKXtpZih0aGlzLl9jdXJyZW50RWZmZWN0KXt2YXIgdD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpO3RoaXMuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKHQpfX0saS5wcm90b3R5cGUuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0hMSxyOyhyPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpKSE9PS0xOyl0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuc3BsaWNlKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5zcGxpY2UociwxKSx0PSEwLHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSk7dCYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IoZSwwKSx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpKX0saS5wcm90b3R5cGUuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV09ITEsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW2VdLmFjdGl2ZT0hMX0saS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLHQscixuKXt0aGlzLmRyYXdFbGVtZW50c1R5cGUoZT8wOjEsdCxyLG4pfSxpLnByb3RvdHlwZS5kcmF3UG9pbnRDbG91ZHM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZHJhd0FycmF5c1R5cGUoMixlLHQscil9LGkucHJvdG90eXBlLmRyYXdVbkluZGV4ZWQ9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5kcmF3QXJyYXlzVHlwZShlPzA6MSx0LHIsbil9LGkucHJvdG90eXBlLmRyYXdFbGVtZW50c1R5cGU9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7dmFyIGE9dGhpcy5fZHJhd01vZGUoZSkscz10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD90aGlzLl9nbC5VTlNJR05FRF9JTlQ6dGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsbz10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD80OjI7bj90aGlzLl9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQoYSxyLHMsdCpvLG4pOnRoaXMuX2dsLmRyYXdFbGVtZW50cyhhLHIscyx0Km8pfSxpLnByb3RvdHlwZS5kcmF3QXJyYXlzVHlwZT1mdW5jdGlvbihlLHQscixuKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTt2YXIgYT10aGlzLl9kcmF3TW9kZShlKTtuP3RoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQoYSx0LHIsbik6dGhpcy5fZ2wuZHJhd0FycmF5cyhhLHQscil9LGkucHJvdG90eXBlLl9kcmF3TW9kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDM6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuTElORV9MT09QO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuTElORV9TVFJJUDtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX1NUUklQO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfRkFOO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFU319LGkucHJvdG90eXBlLl9yZXBvcnREcmF3Q2FsbD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuX3JlbGVhc2VFZmZlY3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV0pe2RlbGV0ZSB0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XTt2YXIgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3QmJnRoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX19LGkucHJvdG90eXBlLl9kZWxldGVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0JiZ0LnByb2dyYW0mJih0LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPW51bGwsdGhpcy5fZ2wuZGVsZXRlUHJvZ3JhbSh0LnByb2dyYW0pKX0saS5wcm90b3R5cGUuX2dldEdsb2JhbERlZmluZXM9ZnVuY3Rpb24oZSl7aWYoZSl7dGhpcy5pc05EQ0hhbGZaUmFuZ2U/ZS5JU19ORENfSEFMRl9aUkFOR0U9IiI6ZGVsZXRlIGUuSVNfTkRDX0hBTEZfWlJBTkdFLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyP2UuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI9IiI6ZGVsZXRlIGUuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI7cmV0dXJufWVsc2V7dmFyIHQ9IiI7cmV0dXJuIHRoaXMuaXNORENIYWxmWlJhbmdlJiYodCs9IiNkZWZpbmUgSVNfTkRDX0hBTEZfWlJBTkdFIiksdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUiIpLHR9fSxpLnByb3RvdHlwZS5jcmVhdGVFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7dmFyIGg7bD09PXZvaWQgMCYmKGw9Q2UuR0xTTCk7dmFyIGM9ZS52ZXJ0ZXhFbGVtZW50fHxlLnZlcnRleHx8ZS52ZXJ0ZXhUb2tlbnx8ZS52ZXJ0ZXhTb3VyY2V8fGUsZD1lLmZyYWdtZW50RWxlbWVudHx8ZS5mcmFnbWVudHx8ZS5mcmFnbWVudFRva2VufHxlLmZyYWdtZW50U291cmNlfHxlLHA9dGhpcy5fZ2V0R2xvYmFsRGVmaW5lcygpLGc9KGg9YT8/dC5kZWZpbmVzKSE9PW51bGwmJmghPT12b2lkIDA/aDoiIjtwJiYoZys9cCk7dmFyIF89YysiKyIrZCsiQCIrZztpZih0aGlzLl9jb21waWxlZEVmZmVjdHNbX10pe3ZhciB2PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tfXTtyZXR1cm4gbyYmdi5pc1JlYWR5KCkmJm8odiksdn12YXIgeT1uZXcgR2UoZSx0LHIsbix0aGlzLGEscyxvLHUsZixfLGwpO3JldHVybiB0aGlzLl9jb21waWxlZEVmZmVjdHNbX109eSx5fSxpLl9Db25jYXRlbmF0ZVNoYWRlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSIiKSxyKyh0P3QrYApgOiIiKStlfSxpLnByb3RvdHlwZS5fY29tcGlsZVNoYWRlcj1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5fY29tcGlsZVJhd1NoYWRlcihpLl9Db25jYXRlbmF0ZVNoYWRlcihlLHIsbiksdCl9LGkucHJvdG90eXBlLl9jb21waWxlUmF3U2hhZGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2wsbj1yLmNyZWF0ZVNoYWRlcih0PT09InZlcnRleCI/ci5WRVJURVhfU0hBREVSOnIuRlJBR01FTlRfU0hBREVSKTtpZighbil7Zm9yKHZhciBhPXIuTk9fRVJST1Iscz1yLk5PX0VSUk9SOyhzPXIuZ2V0RXJyb3IoKSkhPT1yLk5PX0VSUk9SOylhPXM7dGhyb3cgbmV3IEVycm9yKCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBjcmVhdGluZyBhIGdsICIuY29uY2F0KHQsIiBzaGFkZXIgb2JqZWN0LiBnbCBlcnJvcj0iKS5jb25jYXQoYSwiLCBnbCBpc0NvbnRleHRMb3N0PSIpLmNvbmNhdChyLmlzQ29udGV4dExvc3QoKSwiLCBfY29udGV4dFdhc0xvc3Q9IikuY29uY2F0KHRoaXMuX2NvbnRleHRXYXNMb3N0KSl9cmV0dXJuIHIuc2hhZGVyU291cmNlKG4sZSksci5jb21waWxlU2hhZGVyKG4pLG59LGkucHJvdG90eXBlLl9nZXRTaGFkZXJTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dsLmdldFNoYWRlclNvdXJjZShlKX0saS5wcm90b3R5cGUuY3JlYXRlUmF3U2hhZGVyUHJvZ3JhbT1mdW5jdGlvbihlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPW51bGwpLG49bnx8dGhpcy5fZ2w7dmFyIHM9dGhpcy5fY29tcGlsZVJhd1NoYWRlcih0LCJ2ZXJ0ZXgiKSxvPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIociwiZnJhZ21lbnQiKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHMsbyxuLGEpfSxpLnByb3RvdHlwZS5jcmVhdGVTaGFkZXJQcm9ncmFtPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz1udWxsKSxhPWF8fHRoaXMuX2dsO3ZhciBvPXRoaXMuX3dlYkdMVmVyc2lvbj4xP2AjdmVyc2lvbiAzMDAgZXMKI2RlZmluZSBXRUJHTDIgCmA6IiIsdT10aGlzLl9jb21waWxlU2hhZGVyKHQsInZlcnRleCIsbixvKSxmPXRoaXMuX2NvbXBpbGVTaGFkZXIociwiZnJhZ21lbnQiLG4sbyk7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSx1LGYsYSxzKX0saS5wcm90b3R5cGUuaW5saW5lU2hhZGVyQ29kZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0saS5wcm90b3R5cGUuY3JlYXRlUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBObjtyZXR1cm4gdC5lbmdpbmU9dGhpcyx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZSYmKHQuaXNQYXJhbGxlbENvbXBpbGVkPSEwKSx0fSxpLnByb3RvdHlwZS5jcmVhdGVNYXRlcmlhbENvbnRleHQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLmNyZWF0ZURyYXdDb250ZXh0PWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5fY3JlYXRlU2hhZGVyUHJvZ3JhbT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4uY3JlYXRlUHJvZ3JhbSgpO2lmKGUucHJvZ3JhbT1zLCFzKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBwcm9ncmFtIik7cmV0dXJuIG4uYXR0YWNoU2hhZGVyKHMsdCksbi5hdHRhY2hTaGFkZXIocyxyKSxuLmxpbmtQcm9ncmFtKHMpLGUuY29udGV4dD1uLGUudmVydGV4U2hhZGVyPXQsZS5mcmFnbWVudFNoYWRlcj1yLGUuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKSxzfSxpLnByb3RvdHlwZS5fZmluYWxpemVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250ZXh0LHI9ZS52ZXJ0ZXhTaGFkZXIsbj1lLmZyYWdtZW50U2hhZGVyLGE9ZS5wcm9ncmFtLHM9dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsdC5MSU5LX1NUQVRVUyk7aWYoIXMpe2lmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIocix0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe3ZhciBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2cocik7aWYobyl0aHJvdyBlLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9byxuZXcgRXJyb3IoIlZFUlRFWCBTSEFERVIgIitvKX1pZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKG4sdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXt2YXIgbz10aGlzLl9nbC5nZXRTaGFkZXJJbmZvTG9nKG4pO2lmKG8pdGhyb3cgZS5mcmFnbWVudENvbXBpbGF0aW9uRXJyb3I9byxuZXcgRXJyb3IoIkZSQUdNRU5UIFNIQURFUiAiK28pfXZhciB1PXQuZ2V0UHJvZ3JhbUluZm9Mb2coYSk7aWYodSl0aHJvdyBlLnByb2dyYW1MaW5rRXJyb3I9dSxuZXcgRXJyb3IodSl9aWYodGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zKXt0LnZhbGlkYXRlUHJvZ3JhbShhKTt2YXIgZj10LmdldFByb2dyYW1QYXJhbWV0ZXIoYSx0LlZBTElEQVRFX1NUQVRVUyk7aWYoIWYpe3ZhciB1PXQuZ2V0UHJvZ3JhbUluZm9Mb2coYSk7aWYodSl0aHJvdyBlLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9dSxuZXcgRXJyb3IodSl9fXQuZGVsZXRlU2hhZGVyKHIpLHQuZGVsZXRlU2hhZGVyKG4pLGUudmVydGV4U2hhZGVyPXZvaWQgMCxlLmZyYWdtZW50U2hhZGVyPXZvaWQgMCxlLm9uQ29tcGlsZWQmJihlLm9uQ29tcGlsZWQoKSxlLm9uQ29tcGlsZWQ9dm9pZCAwKX0saS5wcm90b3R5cGUuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7dmFyIGg9ZTtuP2gucHJvZ3JhbT10aGlzLmNyZWF0ZVJhd1NoYWRlclByb2dyYW0oaCx0LHIsdm9pZCAwLGYpOmgucHJvZ3JhbT10aGlzLmNyZWF0ZVNoYWRlclByb2dyYW0oaCx0LHIsdSx2b2lkIDAsZiksaC5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1vfSxpLnByb3RvdHlwZS5faXNSZW5kZXJpbmdTdGF0ZUNvbXBpbGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJuIHRoaXMuX2dsLmdldFByb2dyYW1QYXJhbWV0ZXIodC5wcm9ncmFtLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlLkNPTVBMRVRJT05fU1RBVFVTX0tIUik/KHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KHQpLCEwKTohMX0saS5wcm90b3R5cGUuX2V4ZWN1dGVXaGVuUmVuZGVyaW5nU3RhdGVJc0NvbXBpbGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtpZighci5pc1BhcmFsbGVsQ29tcGlsZWQpe3QoKTtyZXR1cm59dmFyIG49ci5vbkNvbXBpbGVkO24/ci5vbkNvbXBpbGVkPWZ1bmN0aW9uKCl7bigpLHQoKX06ci5vbkNvbXBpbGVkPXR9LGkucHJvdG90eXBlLmdldFVuaWZvcm1zPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPW5ldyBBcnJheSxuPWUsYT0wO2E8dC5sZW5ndGg7YSsrKXIucHVzaCh0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24obi5wcm9ncmFtLHRbYV0pKTtyZXR1cm4gcn0saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxuPWUsYT0wO2E8dC5sZW5ndGg7YSsrKXRyeXtyLnB1c2godGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24obi5wcm9ncmFtLHRbYV0pKX1jYXRjaHtyLnB1c2goLTEpfXJldHVybiByfSxpLnByb3RvdHlwZS5lbmFibGVFZmZlY3Q9ZnVuY3Rpb24oZSl7ZT1lIT09bnVsbCYmcXQuSXNXcmFwcGVyKGUpP2UuZWZmZWN0OmUsISghZXx8ZT09PXRoaXMuX2N1cnJlbnRFZmZlY3QpJiYodGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCxlPWUsdGhpcy5iaW5kU2FtcGxlcnMoZSksdGhpcy5fY3VycmVudEVmZmVjdD1lLGUub25CaW5kJiZlLm9uQmluZChlKSxlLl9vbkJpbmRPYnNlcnZhYmxlJiZlLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9LGkucHJvdG90eXBlLnNldEludD1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWkoZSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludDI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMmkoZSx0LHIpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0SW50Mz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNpKGUsdCxyLG4pLCEwKTohMX0saS5wcm90b3R5cGUuc2V0SW50ND1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGkoZSx0LHIsbixhKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xaXYoZSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludEFycmF5Mj1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJpdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXkzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2l2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00aXYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoPDE/ITE6KHRoaXMuX2dsLnVuaWZvcm0xZnYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEFycmF5Mj1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJmdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0QXJyYXkzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2Z2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00ZnYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldE1hdHJpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXg0ZnYoZSwhMSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldE1hdHJpeDN4Mz1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4M2Z2KGUsITEsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgyeDI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDJmdihlLCExLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0RmxvYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFmKGUsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMmYoZSx0LHIpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0RmxvYXQzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2YoZSx0LHIsbiksITApOiExfSxpLnByb3RvdHlwZS5zZXRGbG9hdDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTRmKGUsdCxyLG4sYSksITApOiExfSxpLnByb3RvdHlwZS5hcHBseVN0YXRlcz1mdW5jdGlvbigpe2lmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5hcHBseSh0aGlzLl9nbCksdGhpcy5fYWxwaGFTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQpe3RoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSExO3ZhciBlPXRoaXMuX2NvbG9yV3JpdGU7dGhpcy5fZ2wuY29sb3JNYXNrKGUsZSxlLGUpfX0saS5wcm90b3R5cGUuc2V0Q29sb3JXcml0ZT1mdW5jdGlvbihlKXtlIT09dGhpcy5fY29sb3JXcml0ZSYmKHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSEwLHRoaXMuX2NvbG9yV3JpdGU9ZSl9LGkucHJvdG90eXBlLmdldENvbG9yV3JpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JXcml0ZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aEN1bGxpbmdTdGF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFscGhhU3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxTdGF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsU3RhdGVDb21wb3NlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5jbGVhckludGVybmFsVGV4dHVyZXNDYWNoZT1mdW5jdGlvbigpe3RoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZT1bXX0saS5wcm90b3R5cGUud2lwZUNhY2hlcz1mdW5jdGlvbihlKXt0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzJiYhZXx8KHRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbCx0aGlzLl92aWV3cG9ydENhY2hlZC54PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQueT0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLno9MCx0aGlzLl92aWV3cG9ydENhY2hlZC53PTAsdGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSxlJiYodGhpcy5fY3VycmVudFByb2dyYW09bnVsbCx0aGlzLnJlc2V0VGV4dHVyZUNhY2hlKCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5yZXNldCgpLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fYWxwaGFTdGF0ZS5yZXNldCgpLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9jb2xvcldyaXRlPSEwLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSEwLHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsMCksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9bnVsbCx0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSl9LGkucHJvdG90eXBlLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9nbCxuPXIuTkVBUkVTVCxhPXIuTkVBUkVTVDtzd2l0Y2goZSl7Y2FzZSAxMTpuPXIuTElORUFSLHQ/YT1yLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDphPXIuTElORUFSO2JyZWFrO2Nhc2UgMzpuPXIuTElORUFSLHQ/YT1yLkxJTkVBUl9NSVBNQVBfTElORUFSOmE9ci5MSU5FQVI7YnJlYWs7Y2FzZSA4Om49ci5ORUFSRVNULHQ/YT1yLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjphPXIuTkVBUkVTVDticmVhaztjYXNlIDQ6bj1yLk5FQVJFU1QsdD9hPXIuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDphPXIuTkVBUkVTVDticmVhaztjYXNlIDU6bj1yLk5FQVJFU1QsdD9hPXIuTElORUFSX01JUE1BUF9ORUFSRVNUOmE9ci5MSU5FQVI7YnJlYWs7Y2FzZSA2Om49ci5ORUFSRVNULHQ/YT1yLkxJTkVBUl9NSVBNQVBfTElORUFSOmE9ci5MSU5FQVI7YnJlYWs7Y2FzZSA3Om49ci5ORUFSRVNULGE9ci5MSU5FQVI7YnJlYWs7Y2FzZSAxOm49ci5ORUFSRVNULGE9ci5ORUFSRVNUO2JyZWFrO2Nhc2UgOTpuPXIuTElORUFSLHQ/YT1yLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSAxMDpuPXIuTElORUFSLHQ/YT1yLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjphPXIuTkVBUkVTVDticmVhaztjYXNlIDI6bj1yLkxJTkVBUixhPXIuTElORUFSO2JyZWFrO2Nhc2UgMTI6bj1yLkxJTkVBUixhPXIuTkVBUkVTVDticmVha31yZXR1cm57bWluOmEsbWFnOm59fSxpLnByb3RvdHlwZS5fY3JlYXRlVGV4dHVyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dsLmNyZWF0ZVRleHR1cmUoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGV4dHVyZSIpO3JldHVybiBlfSxpLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBaSh0aGlzLl9jcmVhdGVUZXh0dXJlKCksdGhpcy5fZ2wpfSxpLnByb3RvdHlwZS5fY3JlYXRlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPW1lLlVua25vd24pO3ZhciBhPXt9O3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8oYS5nZW5lcmF0ZU1pcE1hcHM9dC5nZW5lcmF0ZU1pcE1hcHMsYS50eXBlPXQudHlwZT09PXZvaWQgMD8wOnQudHlwZSxhLnNhbXBsaW5nTW9kZT10LnNhbXBsaW5nTW9kZT09PXZvaWQgMD8zOnQuc2FtcGxpbmdNb2RlLGEuZm9ybWF0PXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsYS51c2VTUkdCQnVmZmVyPXQudXNlU1JHQkJ1ZmZlcj09PXZvaWQgMD8hMTp0LnVzZVNSR0JCdWZmZXIpOihhLmdlbmVyYXRlTWlwTWFwcz10LGEudHlwZT0wLGEuc2FtcGxpbmdNb2RlPTMsYS5mb3JtYXQ9NSxhLnVzZVNSR0JCdWZmZXI9ITEpLGEudXNlU1JHQkJ1ZmZlcj1hLnVzZVNSR0JCdWZmZXImJnRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYodGhpcy53ZWJHTFZlcnNpb24+MXx8dGhpcy5pc1dlYkdQVSksKGEudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8YS50eXBlPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihhLnNhbXBsaW5nTW9kZT0xKSxhLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJihhLnR5cGU9MCxrLldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBUeXBlIGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFIikpO3ZhciBzPXRoaXMuX2dsLG89bmV3IHd0KHRoaXMsbik7by5fdXNlU1JHQkJ1ZmZlcj0hIWEudXNlU1JHQkJ1ZmZlcjt2YXIgdT1lLndpZHRofHxlLGY9ZS5oZWlnaHR8fGUsbD1lLmxheWVyc3x8MCxoPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhhLnNhbXBsaW5nTW9kZSwhIWEuZ2VuZXJhdGVNaXBNYXBzKSxjPWwhPT0wP3MuVEVYVFVSRV8yRF9BUlJBWTpzLlRFWFRVUkVfMkQsZD10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChhLnR5cGUsYS5mb3JtYXQsYS51c2VTUkdCQnVmZmVyKSxwPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGEuZm9ybWF0KSxnPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYS50eXBlKTtyZXR1cm4gdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShjLG8pLGwhPT0wPyhvLmlzMkRBcnJheT0hMCxzLnRleEltYWdlM0QoYywwLGQsdSxmLGwsMCxwLGcsbnVsbCkpOnMudGV4SW1hZ2UyRChjLDAsZCx1LGYsMCxwLGcsbnVsbCkscy50ZXhQYXJhbWV0ZXJpKGMscy5URVhUVVJFX01BR19GSUxURVIsaC5tYWcpLHMudGV4UGFyYW1ldGVyaShjLHMuVEVYVFVSRV9NSU5fRklMVEVSLGgubWluKSxzLnRleFBhcmFtZXRlcmkoYyxzLlRFWFRVUkVfV1JBUF9TLHMuQ0xBTVBfVE9fRURHRSkscy50ZXhQYXJhbWV0ZXJpKGMscy5URVhUVVJFX1dSQVBfVCxzLkNMQU1QX1RPX0VER0UpLGEuZ2VuZXJhdGVNaXBNYXBzJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChjKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGMsbnVsbCksby5iYXNlV2lkdGg9dSxvLmJhc2VIZWlnaHQ9ZixvLndpZHRoPXUsby5oZWlnaHQ9ZixvLmRlcHRoPWwsby5pc1JlYWR5PSEwLG8uc2FtcGxlcz0xLG8uZ2VuZXJhdGVNaXBNYXBzPSEhYS5nZW5lcmF0ZU1pcE1hcHMsby5zYW1wbGluZ01vZGU9YS5zYW1wbGluZ01vZGUsby50eXBlPWEudHlwZSxvLmZvcm1hdD1hLmZvcm1hdCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChvKSxvfSxpLnByb3RvdHlwZS5fZ2V0VXNlU1JHQkJ1ZmZlcj1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmKHRoaXMud2ViR0xWZXJzaW9uPjF8fHRoaXMuaXNXZWJHUFV8fHQpfSxpLnByb3RvdHlwZS5fY3JlYXRlVGV4dHVyZUJhc2U9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcsXyl7dmFyIHY9dGhpczthPT09dm9pZCAwJiYoYT0zKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSxsPT09dm9pZCAwJiYobD1udWxsKSxoPT09dm9pZCAwJiYoaD1udWxsKSxjPT09dm9pZCAwJiYoYz1udWxsKSxkPT09dm9pZCAwJiYoZD1udWxsKSxlPWV8fCIiO3ZhciB5PWUuc3Vic3RyKDAsNSk9PT0iZGF0YToiLEU9ZS5zdWJzdHIoMCw1KT09PSJibG9iOiIsUj15JiZlLmluZGV4T2YoIjtiYXNlNjQsIikhPT0tMSxNPWh8fG5ldyB3dCh0aGlzLG1lLlVybCksQz1lO3RoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwmJiFSJiYhaCYmIWwmJihlPXRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwoZSkpLEMhPT1lJiYoTS5fb3JpZ2luYWxVcmw9Qyk7dmFyIEE9ZS5sYXN0SW5kZXhPZigiLiIpLFM9ZHx8KEE+LTE/ZS5zdWJzdHJpbmcoQSkudG9Mb3dlckNhc2UoKToiIiksdz1udWxsLEY9Uy5pbmRleE9mKCI/Iik7Rj4tMSYmKFM9Uy5zcGxpdCgiPyIpWzBdKTtmb3IodmFyIHg9MCxHPWkuX1RleHR1cmVMb2FkZXJzO3g8Ry5sZW5ndGg7eCsrKXt2YXIgVz1HW3hdO2lmKFcuY2FuTG9hZChTLHApKXt3PVc7YnJlYWt9fW4mJm4uX2FkZFBlbmRpbmdEYXRhKE0pLE0udXJsPWUsTS5nZW5lcmF0ZU1pcE1hcHM9IXQsTS5zYW1wbGluZ01vZGU9YSxNLmludmVydFk9cixNLl91c2VTUkdCQnVmZmVyPXRoaXMuX2dldFVzZVNSR0JCdWZmZXIoISFfLHQpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fChNLl9idWZmZXI9bCk7dmFyIE49bnVsbDtzJiYhaCYmKE49TS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHMpKSxofHx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChNKTt2YXIgcT1mdW5jdGlvbihaLGope24mJm4uX3JlbW92ZVBlbmRpbmdEYXRhKE0pLGU9PT1DPyhOJiZNLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUoTikscmUuVXNlRmFsbGJhY2tUZXh0dXJlJiZ2Ll9jcmVhdGVUZXh0dXJlQmFzZShyZS5GYWxsYmFja1RleHR1cmUsdCxNLmludmVydFksbixhLG51bGwsbyx1LGYsbCxNKSxaPShafHwiVW5rbm93biBlcnJvciIpKyhyZS5Vc2VGYWxsYmFja1RleHR1cmU/IiAtIEZhbGxiYWNrIHRleHR1cmUgd2FzIHVzZWQiOiIiKSxNLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7bWVzc2FnZTpaLGV4Y2VwdGlvbjpqfSksbyYmbyhaLGopKTooay5XYXJuKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChlLCIsIGZhbGxpbmcgYmFjayB0byAiKS5jb25jYXQoQykpLHYuX2NyZWF0ZVRleHR1cmVCYXNlKEMsdCxNLmludmVydFksbixhLHMsbyx1LGYsbCxNLGMsZCxwLGcsXykpfTtpZih3KXt2YXIgJD1mdW5jdGlvbihaKXt3LmxvYWREYXRhKFosTSxmdW5jdGlvbihqLHVlLFBlLFdlLFplLFh0KXtYdD9xKCJUZXh0dXJlTG9hZGVyIGZhaWxlZCB0byBsb2FkIGRhdGEiKTp1KE0sUyxuLHt3aWR0aDpqLGhlaWdodDp1ZX0sTS5pbnZlcnRZLCFQZSxXZSxmdW5jdGlvbigpe3JldHVybiBaZSgpLCExfSxhKX0sZyl9O2w/bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPyQobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT8kKGwpOm8mJm8oIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsZnVuY3Rpb24oWil7cmV0dXJuICQobmV3IFVpbnQ4QXJyYXkoWikpfSx2b2lkIDAsbj9uLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAsITAsZnVuY3Rpb24oWixqKXtxKCJVbmFibGUgdG8gbG9hZCAiKyhaJiZaLnJlc3BvbnNlVVJMLGopKX0pfWVsc2V7dmFyIG9lPWZ1bmN0aW9uKFope0UmJiF2Ll9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoTS5fYnVmZmVyPVopLHUoTSxTLG4sWixNLmludmVydFksdCwhMSxmLGEpfTsheXx8Uj9sJiYodHlwZW9mIGwuZGVjb2Rpbmc9PSJzdHJpbmcifHxsLmNsb3NlKT9vZShsKTppLl9GaWxlVG9vbHNMb2FkSW1hZ2UoZSxvZSxxLG4/bi5vZmZsaW5lUHJvdmlkZXI6bnVsbCxwLE0uaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTp0eXBlb2YgbD09InN0cmluZyJ8fGwgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGwpfHxsIGluc3RhbmNlb2YgQmxvYj9pLl9GaWxlVG9vbHNMb2FkSW1hZ2UobCxvZSxxLG4/bi5vZmZsaW5lUHJvdmlkZXI6bnVsbCxwLE0uaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZvZShsKX1yZXR1cm4gTX0saS5wcm90b3R5cGUuY3JlYXRlVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyl7dmFyIF89dGhpcztyZXR1cm4gYT09PXZvaWQgMCYmKGE9Mykscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksdT09PXZvaWQgMCYmKHU9bnVsbCksZj09PXZvaWQgMCYmKGY9bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9bnVsbCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoZSx0LHIsbixhLHMsbyx0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlLmJpbmQodGhpcyksZnVuY3Rpb24odix5LEUsUixNLEMpe3ZhciBBPV8uX2dsLFM9RS53aWR0aD09PXYmJkUuaGVpZ2h0PT09eSx3PWw/Xy5fZ2V0SW50ZXJuYWxGb3JtYXQobCxNLl91c2VTUkdCQnVmZmVyKTpSPT09Ii5qcGciJiYhTS5fdXNlU1JHQkJ1ZmZlcj9BLlJHQjpNLl91c2VTUkdCQnVmZmVyP0EuU1JHQjhfQUxQSEE4OkEuUkdCQSxGPWw/Xy5fZ2V0SW50ZXJuYWxGb3JtYXQobCk6Uj09PSIuanBnIiYmIU0uX3VzZVNSR0JCdWZmZXI/QS5SR0I6QS5SR0JBO2lmKE0uX3VzZVNSR0JCdWZmZXImJl8ud2ViR0xWZXJzaW9uPT09MSYmKEY9dyksUylyZXR1cm4gQS50ZXhJbWFnZTJEKEEuVEVYVFVSRV8yRCwwLHcsRixBLlVOU0lHTkVEX0JZVEUsRSksITE7dmFyIHg9Xy5fY2Fwcy5tYXhUZXh0dXJlU2l6ZTtpZihFLndpZHRoPnh8fEUuaGVpZ2h0Pnh8fCFfLl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZylyZXR1cm4gXy5fcHJlcGFyZVdvcmtpbmdDYW52YXMoKSwhXy5fd29ya2luZ0NhbnZhc3x8IV8uX3dvcmtpbmdDb250ZXh0fHwoXy5fd29ya2luZ0NhbnZhcy53aWR0aD12LF8uX3dvcmtpbmdDYW52YXMuaGVpZ2h0PXksXy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKEUsMCwwLEUud2lkdGgsRS5oZWlnaHQsMCwwLHYseSksQS50ZXhJbWFnZTJEKEEuVEVYVFVSRV8yRCwwLHcsRixBLlVOU0lHTkVEX0JZVEUsXy5fd29ya2luZ0NhbnZhcyksTS53aWR0aD12LE0uaGVpZ2h0PXkpLCExO3ZhciBHPW5ldyB3dChfLG1lLlRlbXApO3JldHVybiBfLl9iaW5kVGV4dHVyZURpcmVjdGx5KEEuVEVYVFVSRV8yRCxHLCEwKSxBLnRleEltYWdlMkQoQS5URVhUVVJFXzJELDAsdyxGLEEuVU5TSUdORURfQllURSxFKSxfLl9yZXNjYWxlVGV4dHVyZShHLE0sbix3LGZ1bmN0aW9uKCl7Xy5fcmVsZWFzZVRleHR1cmUoRyksXy5fYmluZFRleHR1cmVEaXJlY3RseShBLlRFWFRVUkVfMkQsTSwhMCksQygpfSksITB9LHUsZixsLGgsYyxkLGcpfSxpLl9GaWxlVG9vbHNMb2FkSW1hZ2U9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3Rocm93IFgoIkZpbGVUb29scyIpfSxpLnByb3RvdHlwZS5fcmVzY2FsZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1RleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCxoKXt0aHJvdyBYKCJFbmdpbmUuUmF3VGV4dHVyZSIpfSxpLnByb3RvdHlwZS5jcmVhdGVSYXdDdWJlVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3Rocm93IFgoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1RleHR1cmUzRD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsKXt0aHJvdyBYKCJFbmdpbmUuUmF3VGV4dHVyZSIpfSxpLnByb3RvdHlwZS5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsKXt0aHJvdyBYKCJFbmdpbmUuUmF3VGV4dHVyZSIpfSxpLnByb3RvdHlwZS5fdW5wYWNrRmxpcFk9ZnVuY3Rpb24oZSl7dGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQhPT1lJiYodGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlPzE6MCksdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZCYmKHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPWUpKX0saS5wcm90b3R5cGUuX2dldFVucGFja0FsaWduZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlVOUEFDS19BTElHTk1FTlQpfSxpLnByb3RvdHlwZS5fZ2V0VGV4dHVyZVRhcmdldD1mdW5jdGlvbihlKXtyZXR1cm4gZS5pc0N1YmU/dGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUDplLmlzM0Q/dGhpcy5fZ2wuVEVYVFVSRV8zRDplLmlzMkRBcnJheXx8ZS5pc011bHRpdmlldz90aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZOnRoaXMuX2dsLlRFWFRVUkVfMkR9LGkucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGU9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPSExKTt2YXIgbj10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpLGE9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUsdC5nZW5lcmF0ZU1pcE1hcHN8fHIpO3RoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG4sdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLGEubWFnLHQpLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG4sdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLGEubWluKSxyJiYodC5nZW5lcmF0ZU1pcE1hcHM9ITAsdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAobikpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobixudWxsKSx0LnNhbXBsaW5nTW9kZT1lfSxpLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlRGltZW5zaW9ucz1mdW5jdGlvbihlLHQscixuKXt9LGkucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVXcmFwcGluZ01vZGU9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49bnVsbCk7dmFyIGE9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKTt0IT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKGEsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQpLGUpLGUuX2NhY2hlZFdyYXBVPXQpLHIhPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoYSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUociksZSksZS5fY2FjaGVkV3JhcFY9ciksKGUuaXMyREFycmF5fHxlLmlzM0QpJiZuIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKGEsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKG4pLGUpLGUuX2NhY2hlZFdyYXBSPW4pLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYSxudWxsKX0saS5wcm90b3R5cGUuX3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9MSk7dmFyIG89dC53aWR0aHx8dCx1PXQuaGVpZ2h0fHx0LGY9dC5sYXllcnN8fDA7ZS5iYXNlV2lkdGg9byxlLmJhc2VIZWlnaHQ9dSxlLndpZHRoPW8sZS5oZWlnaHQ9dSxlLmlzMkRBcnJheT1mPjAsZS5kZXB0aD1mLGUuaXNSZWFkeT0hMCxlLnNhbXBsZXM9cyxlLmdlbmVyYXRlTWlwTWFwcz0hMSxlLnNhbXBsaW5nTW9kZT1uPzI6MSxlLnR5cGU9MCxlLl9jb21wYXJpc29uRnVuY3Rpb249YTt2YXIgbD10aGlzLl9nbCxoPXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSksYz10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZS5zYW1wbGluZ01vZGUsITEpO2wudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9NQUdfRklMVEVSLGMubWFnKSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfTUlOX0ZJTFRFUixjLm1pbiksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX1dSQVBfUyxsLkNMQU1QX1RPX0VER0UpLGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9XUkFQX1QsbC5DTEFNUF9UT19FREdFKSxhPT09MD8obC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5OT05FKSk6KGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsYSksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX0NPTVBBUkVfTU9ERSxsLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKX0saS5wcm90b3R5cGUuX3VwbG9hZENvbXByZXNzZWREYXRhVG9UZXh0dXJlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9MCksbz09PXZvaWQgMCYmKG89MCk7dmFyIHU9dGhpcy5fZ2wsZj11LlRFWFRVUkVfMkQ7aWYoZS5pc0N1YmUmJihmPXUuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3MpLGUuX3VzZVNSR0JCdWZmZXIpc3dpdGNoKHQpe2Nhc2UgMzc0OTI6Y2FzZSAzNjE5Njp0aGlzLl9jYXBzLmV0YzI/dD11LkNPTVBSRVNTRURfU1JHQjhfRVRDMjplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzc0OTY6dGhpcy5fY2Fwcy5ldGMyP3Q9dS5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQzplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzY0OTI6dD11LkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVDticmVhaztjYXNlIDM3ODA4OnQ9dS5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFI7YnJlYWs7Y2FzZSAzMzc3Njp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PXUuQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDMzNzc3OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9dS5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzk6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD11LkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7ZGVmYXVsdDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrfXRoaXMuX2dsLmNvbXByZXNzZWRUZXhJbWFnZTJEKGYsbyx0LHIsbiwwLGEpfSxpLnByb3RvdHlwZS5fdXBsb2FkRGF0YVRvVGV4dHVyZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKSxzPT09dm9pZCAwJiYocz0hMSk7dmFyIG89dGhpcy5fZ2wsdT10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksZj10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbD1hPT09dm9pZCAwP3RoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxlLmZvcm1hdCxlLl91c2VTUkdCQnVmZmVyKTp0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChhLGUuX3VzZVNSR0JCdWZmZXIpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7dmFyIGg9by5URVhUVVJFXzJEO2UuaXNDdWJlJiYoaD1vLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtyKTt2YXIgYz1NYXRoLnJvdW5kKE1hdGgubG9nKGUud2lkdGgpKk1hdGguTE9HMkUpLGQ9TWF0aC5yb3VuZChNYXRoLmxvZyhlLmhlaWdodCkqTWF0aC5MT0cyRSkscD1zP2Uud2lkdGg6TWF0aC5wb3coMixNYXRoLm1heChjLW4sMCkpLGc9cz9lLmhlaWdodDpNYXRoLnBvdygyLE1hdGgubWF4KGQtbiwwKSk7by50ZXhJbWFnZTJEKGgsbixsLHAsZywwLGYsdSx0KX0saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZURhdGE9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYpe289PT12b2lkIDAmJihvPTApLHU9PT12b2lkIDAmJih1PTApLGY9PT12b2lkIDAmJihmPSExKTt2YXIgbD10aGlzLl9nbCxoPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxjPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO3ZhciBkPWwuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGQ9bC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShkLGUsITApLGwudGV4U3ViSW1hZ2UyRChkLHUscixuLGEscyxjLGgsdCksZiYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoZCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShkLG51bGwpfSxpLnByb3RvdHlwZS5fdXBsb2FkQXJyYXlCdWZmZXJWaWV3VG9UZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTApO3ZhciBhPXRoaXMuX2dsLHM9ZS5pc0N1YmU/YS5URVhUVVJFX0NVQkVfTUFQOmEuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsZSwhMCksdGhpcy5fdXBsb2FkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxyLG4pLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocyxudWxsLCEwKX0saS5wcm90b3R5cGUuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb249ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz10aGlzLl9nbDtpZihzKXt2YXIgbz10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoYSwhcik7cy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfTUFHX0ZJTFRFUixvLm1hZykscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfTUlOX0ZJTFRFUixvLm1pbiksIXImJiFuJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5fcmVtb3ZlUGVuZGluZ0RhdGEoZSksZS5vbkxvYWRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCl9fSxpLnByb3RvdHlwZS5fcHJlcGFyZVdlYkdMVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7dmFyIGw9dGhpcztmPT09dm9pZCAwJiYoZj0zKTt2YXIgaD10aGlzLmdldENhcHMoKS5tYXhUZXh0dXJlU2l6ZSxjPU1hdGgubWluKGgsdGhpcy5uZWVkUE9UVGV4dHVyZXM/aS5HZXRFeHBvbmVudE9mVHdvKG4ud2lkdGgsaCk6bi53aWR0aCksZD1NYXRoLm1pbihoLHRoaXMubmVlZFBPVFRleHR1cmVzP2kuR2V0RXhwb25lbnRPZlR3byhuLmhlaWdodCxoKTpuLmhlaWdodCkscD10aGlzLl9nbDtpZihwKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXtyJiZyLl9yZW1vdmVQZW5kaW5nRGF0YShlKTtyZXR1cm59dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShwLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fdW5wYWNrRmxpcFkoYT09PXZvaWQgMD8hMDohIWEpLGUuYmFzZVdpZHRoPW4ud2lkdGgsZS5iYXNlSGVpZ2h0PW4uaGVpZ2h0LGUud2lkdGg9YyxlLmhlaWdodD1kLGUuaXNSZWFkeT0hMCwhdShjLGQsbix0LGUsZnVuY3Rpb24oKXtsLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUscixzLG8sZil9KSYmdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbihlLHIscyxvLGYpfX0saS5wcm90b3R5cGUuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9MSk7dmFyIHM9dGhpcy5fZ2w7aWYoZSYmdClyZXR1cm4gdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKHIsbixhLHMuREVQVEhfU1RFTkNJTCxzLkRFUFRIMjRfU1RFTkNJTDgscy5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQpO2lmKHQpe3ZhciBvPXMuREVQVEhfQ09NUE9ORU5UMTY7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xJiYobz1zLkRFUFRIX0NPTVBPTkVOVDMyRiksdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKHIsbixhLG8sbyxzLkRFUFRIX0FUVEFDSE1FTlQpfXJldHVybiBlP3RoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihyLG4sYSxzLlNURU5DSUxfSU5ERVg4LHMuU1RFTkNJTF9JTkRFWDgscy5TVEVOQ0lMX0FUVEFDSE1FTlQpOm51bGx9LGkucHJvdG90eXBlLl9jcmVhdGVSZW5kZXJCdWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7bz09PXZvaWQgMCYmKG89ITApO3ZhciB1PXRoaXMuX2dsLGY9dS5jcmVhdGVSZW5kZXJidWZmZXIoKTtyZXR1cm4gdS5iaW5kUmVuZGVyYnVmZmVyKHUuUkVOREVSQlVGRkVSLGYpLHI+MSYmdS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/dS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUodS5SRU5ERVJCVUZGRVIscixhLGUsdCk6dS5yZW5kZXJidWZmZXJTdG9yYWdlKHUuUkVOREVSQlVGRkVSLG4sZSx0KSx1LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHUuRlJBTUVCVUZGRVIscyx1LlJFTkRFUkJVRkZFUixmKSxvJiZ1LmJpbmRSZW5kZXJidWZmZXIodS5SRU5ERVJCVUZGRVIsbnVsbCksZn0saS5wcm90b3R5cGUuX3JlbGVhc2VUZXh0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0O3RoaXMuX2RlbGV0ZVRleHR1cmUoKHQ9ZS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudW5kZXJseWluZ1Jlc291cmNlKSx0aGlzLnVuYmluZEFsbFRleHR1cmVzKCk7dmFyIHI9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmluZGV4T2YoZSk7ciE9PS0xJiZ0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc3BsaWNlKHIsMSksZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTWlkJiZlLl9sb2RUZXh0dXJlTWlkLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTG93JiZlLl9sb2RUZXh0dXJlTG93LmRpc3Bvc2UoKSxlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpfSxpLnByb3RvdHlwZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLmluZGV4T2YoZSk7dCE9PS0xJiZ0aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuc3BsaWNlKHQsMSl9LGkucHJvdG90eXBlLl9kZWxldGVUZXh0dXJlPWZ1bmN0aW9uKGUpe2UmJnRoaXMuX2dsLmRlbGV0ZVRleHR1cmUoZSl9LGkucHJvdG90eXBlLl9zZXRQcm9ncmFtPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRQcm9ncmFtIT09ZSYmKHRoaXMuX2dsLnVzZVByb2dyYW0oZSksdGhpcy5fY3VycmVudFByb2dyYW09ZSl9LGkucHJvdG90eXBlLmJpbmRTYW1wbGVycz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX3NldFByb2dyYW0odC5wcm9ncmFtKTtmb3IodmFyIHI9ZS5nZXRTYW1wbGVycygpLG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGE9ZS5nZXRVbmlmb3JtKHJbbl0pO2EmJih0aGlzLl9ib3VuZFVuaWZvcm1zW25dPWEpfXRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbH0saS5wcm90b3R5cGUuX2FjdGl2YXRlQ3VycmVudFRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWwhPT10aGlzLl9hY3RpdmVDaGFubmVsJiYodGhpcy5fZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFMCt0aGlzLl9hY3RpdmVDaGFubmVsKSx0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9LGkucHJvdG90eXBlLl9iaW5kVGV4dHVyZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhLHM7cj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSExKTt2YXIgbz0hMSx1PXQmJnQuX2Fzc29jaWF0ZWRDaGFubmVsPi0xO3ImJnUmJih0aGlzLl9hY3RpdmVDaGFubmVsPXQuX2Fzc29jaWF0ZWRDaGFubmVsKTt2YXIgZj10aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF07aWYoZiE9PXR8fG4pe2lmKHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSx0JiZ0LmlzTXVsdGl2aWV3KXRocm93IGNvbnNvbGUuZXJyb3IoZSx0KSwiX2JpbmRUZXh0dXJlRGlyZWN0bHkgY2FsbGVkIHdpdGggYSBtdWx0aXZpZXcgdGV4dHVyZSEiO3RoaXMuX2dsLmJpbmRUZXh0dXJlKGUsKHM9KGE9dD09bnVsbD92b2lkIDA6dC5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEudW5kZXJseWluZ1Jlc291cmNlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsKSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF09dCx0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9ZWxzZSByJiYobz0hMCx0aGlzLl9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCkpO3JldHVybiB1JiYhciYmdGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKHQuX2Fzc29jaWF0ZWRDaGFubmVsLHRoaXMuX2FjdGl2ZUNoYW5uZWwpLG99LGkucHJvdG90eXBlLl9iaW5kVGV4dHVyZT1mdW5jdGlvbihlLHQscil7aWYoZSE9PXZvaWQgMCl7dCYmKHQuX2Fzc29jaWF0ZWRDaGFubmVsPWUpLHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZTt2YXIgbj10P3RoaXMuX2dldFRleHR1cmVUYXJnZXQodCk6dGhpcy5fZ2wuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4sdCl9fSxpLnByb3RvdHlwZS51bmJpbmRBbGxUZXh0dXJlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM7ZSsrKXRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscixuKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksdGhpcy5fc2V0VGV4dHVyZShlLHIpKX0saS5wcm90b3R5cGUuX2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2JvdW5kVW5pZm9ybXNbZV07IXJ8fHIuX2N1cnJlbnRTdGF0ZT09PXR8fCh0aGlzLl9nbC51bmlmb3JtMWkocix0KSxyLl9jdXJyZW50U3RhdGU9dCl9LGkucHJvdG90eXBlLl9nZXRUZXh0dXJlV3JhcE1vZGU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuUkVQRUFUO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLk1JUlJPUkVEX1JFUEVBVH1yZXR1cm4gdGhpcy5fZ2wuUkVQRUFUfSxpLnByb3RvdHlwZS5fc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEpe2lmKHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0hMSksIXQpcmV0dXJuIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXSE9bnVsbCYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKSksITE7aWYodC52aWRlbyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdC51cGRhdGUoKTtlbHNlIGlmKHQuZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiB0LmRlbGF5TG9hZCgpLCExO3ZhciBzO24/cz10LmRlcHRoU3RlbmNpbFRleHR1cmU6dC5pc1JlYWR5KCk/cz10LmdldEludGVybmFsVGV4dHVyZSgpOnQuaXNDdWJlP3M9dGhpcy5lbXB0eUN1YmVUZXh0dXJlOnQuaXMzRD9zPXRoaXMuZW1wdHlUZXh0dXJlM0Q6dC5pczJEQXJyYXk/cz10aGlzLmVtcHR5VGV4dHVyZTJEQXJyYXk6cz10aGlzLmVtcHR5VGV4dHVyZSwhciYmcyYmKHMuX2Fzc29jaWF0ZWRDaGFubmVsPWUpO3ZhciBvPSEwO3RoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT09PXMmJihyfHx0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwocy5fYXNzb2NpYXRlZENoYW5uZWwsZSksbz0hMSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO3ZhciB1PXRoaXMuX2dldFRleHR1cmVUYXJnZXQocyk7aWYobyYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh1LHMscikscyYmIXMuaXNNdWx0aXZpZXcpe2lmKHMuaXNDdWJlJiZzLl9jYWNoZWRDb29yZGluYXRlc01vZGUhPT10LmNvb3JkaW5hdGVzTW9kZSl7cy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPXQuY29vcmRpbmF0ZXNNb2RlO3ZhciBmPXQuY29vcmRpbmF0ZXNNb2RlIT09MyYmdC5jb29yZGluYXRlc01vZGUhPT01PzE6MDt0LndyYXBVPWYsdC53cmFwVj1mfXMuX2NhY2hlZFdyYXBVIT09dC53cmFwVSYmKHMuX2NhY2hlZFdyYXBVPXQud3JhcFUsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIodSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwVSkscykpLHMuX2NhY2hlZFdyYXBWIT09dC53cmFwViYmKHMuX2NhY2hlZFdyYXBWPXQud3JhcFYsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIodSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwVikscykpLHMuaXMzRCYmcy5fY2FjaGVkV3JhcFIhPT10LndyYXBSJiYocy5fY2FjaGVkV3JhcFI9dC53cmFwUix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcih1LHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBSKSxzKSksdGhpcy5fc2V0QW5pc290cm9waWNMZXZlbCh1LHMsdC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKX1yZXR1cm4hMH0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUFycmF5PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZT09PXZvaWQgMHx8IXQpKXsoIXRoaXMuX3RleHR1cmVVbml0c3x8dGhpcy5fdGV4dHVyZVVuaXRzLmxlbmd0aCE9PXIubGVuZ3RoKSYmKHRoaXMuX3RleHR1cmVVbml0cz1uZXcgSW50MzJBcnJheShyLmxlbmd0aCkpO2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgcz1yW2FdLmdldEludGVybmFsVGV4dHVyZSgpO3M/KHRoaXMuX3RleHR1cmVVbml0c1thXT1lK2Escy5fYXNzb2NpYXRlZENoYW5uZWw9ZSthKTp0aGlzLl90ZXh0dXJlVW5pdHNbYV09LTF9dGhpcy5fZ2wudW5pZm9ybTFpdih0LHRoaXMuX3RleHR1cmVVbml0cyk7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspdGhpcy5fc2V0VGV4dHVyZSh0aGlzLl90ZXh0dXJlVW5pdHNbb10scltvXSwhMCl9fSxpLnByb3RvdHlwZS5fc2V0QW5pc290cm9waWNMZXZlbD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb247dC5zYW1wbGluZ01vZGUhPT0xMSYmdC5zYW1wbGluZ01vZGUhPT0zJiZ0LnNhbXBsaW5nTW9kZSE9PTImJihyPTEpLG4mJnQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwhPT1yJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUsbi5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihyLHRoaXMuX2NhcHMubWF4QW5pc290cm9weSksdCksdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1yKX0saS5wcm90b3R5cGUuX3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdD1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUsbiwhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyZihlLHQscil9LGkucHJvdG90eXBlLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcj1mdW5jdGlvbihlLHQscixuKXtuJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUsbiwhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaShlLHQscil9LGkucHJvdG90eXBlLnVuYmluZEFsbEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXMpe3RoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMTtmb3IodmFyIGU9MDtlPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztlKyspdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKTtyZXR1cm59Zm9yKHZhciBlPTAsdD10aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkLmxlbmd0aDtlPHQ7ZSsrKWU+PXRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlic3x8IXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV18fHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl9LGkucHJvdG90eXBlLnJlbGVhc2VFZmZlY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7dmFyIHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX10aGlzLl9jb21waWxlZEVmZmVjdHM9e319LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnN0b3BSZW5kZXJMb29wKCksdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZSYmdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2VtcHR5VGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5VGV4dHVyZSksdGhpcy5fZW1wdHlUZXh0dXJlPW51bGwpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUmJih0aGlzLl9yZWxlYXNlVGV4dHVyZSh0aGlzLl9lbXB0eUN1YmVUZXh0dXJlKSx0aGlzLl9lbXB0eUN1YmVUZXh0dXJlPW51bGwpLHRoaXMuX2R1bW15RnJhbWVidWZmZXImJnRoaXMuX2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLHRoaXMucmVsZWFzZUVmZmVjdHMoKSwoZT10aGlzLnJlbGVhc2VDb21wdXRlRWZmZWN0cyk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCksdGhpcy5fYm91bmRVbmlmb3Jtcz1bXSx5ZSgpJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fb25Db250ZXh0UmVzdG9yZWQpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVycz1bXSx0aGlzLl9yZW5kZXJpbmdDYW52YXM9bnVsbCx0aGlzLl9jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249bnVsbCxHZS5SZXNldENhY2hlKCk7Zm9yKHZhciB0PTAscj10aGlzLl9hY3RpdmVSZXF1ZXN0czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmFib3J0KCl9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKX0saS5wcm90b3R5cGUuYXR0YWNoQ29udGV4dExvc3RFdmVudD1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0IixlLCExKX0saS5wcm90b3R5cGUuYXR0YWNoQ29udGV4dFJlc3RvcmVkRXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLGUsITEpfSxpLnByb3RvdHlwZS5nZXRFcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbC5nZXRFcnJvcigpfSxpLnByb3RvdHlwZS5fY2FuUmVuZGVyVG9GbG9hdEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDEpfSxpLnByb3RvdHlwZS5fY2FuUmVuZGVyVG9IYWxmRmxvYXRGcmFtZWJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb24+MT90aGlzLl9jYXBzLmNvbG9yQnVmZmVyRmxvYXQ6dGhpcy5fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcigyKX0saS5wcm90b3R5cGUuX2NhblJlbmRlclRvRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dsO3QuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTt2YXIgcj0hMCxuPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG4pLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlKSwxLDEsMCx0LlJHQkEsdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKSxudWxsKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpO3ZhciBhPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGEpLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxuLDApO3ZhciBzPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyh0LkZSQU1FQlVGRkVSKTtpZihyPXImJnM9PT10LkZSQU1FQlVGRkVSX0NPTVBMRVRFLHI9ciYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUixyJiYodC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLHI9ciYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUikscil7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKTt2YXIgbz10LlJHQkEsdT10LlVOU0lHTkVEX0JZVEUsZj1uZXcgVWludDhBcnJheSg0KTt0LnJlYWRQaXhlbHMoMCwwLDEsMSxvLHUsZikscj1yJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SfWZvcih0LmRlbGV0ZVRleHR1cmUobiksdC5kZWxldGVGcmFtZWJ1ZmZlcihhKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpOyFyJiZ0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLl9nZXRXZWJHTFRleHR1cmVUeXBlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkZMT0FUO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzV9cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEV9c3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuQllURTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5TSE9SVDtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuSU5UO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzU7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWO2Nhc2UgMTI6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzVfOV85XzlfUkVWO2Nhc2UgMTU6cmV0dXJuIHRoaXMuX2dsLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVn1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX0saS5wcm90b3R5cGUuX2dldEludGVybmFsRm9ybWF0PWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDpyPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTpyPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6cj10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2OnI9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzpyPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDpyPXQ/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0I7YnJlYWs7Y2FzZSA1OnI9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTticmVha31pZih0aGlzLl93ZWJHTFZlcnNpb24+MSlzd2l0Y2goZSl7Y2FzZSA4OnI9dGhpcy5fZ2wuUkVEX0lOVEVHRVI7YnJlYWs7Y2FzZSA5OnI9dGhpcy5fZ2wuUkdfSU5URUdFUjticmVhaztjYXNlIDEwOnI9dGhpcy5fZ2wuUkdCX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMTpyPXRoaXMuX2dsLlJHQkFfSU5URUdFUjticmVha31yZXR1cm4gcn0saS5wcm90b3R5cGUuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0PWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7aWYodCE9PXZvaWQgMClzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtjYXNlIDQ6cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0J9cmV0dXJuIHRoaXMuX2dsLlJHQkF9c3dpdGNoKGUpe2Nhc2UgMzpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SOF9TTk9STTtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHOF9TTk9STTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjhfU05PUk07Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SOEk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzhJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjhJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkE4STtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBOF9TTk9STX1jYXNlIDA6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjg7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzg7Y2FzZSA0OnJldHVybiByP3RoaXMuX2dsLlNSR0I4OnRoaXMuX2dsLlJHQjg7Y2FzZSA1OnJldHVybiByP3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBODtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4VUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzhVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThVSTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4fWNhc2UgNDpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2SX1jYXNlIDU6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2VUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZVSX1jYXNlIDY6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMySTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjMySTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkl9Y2FzZSA3OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjMyVUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyVUl9Y2FzZSAxOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIzMkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzMyRjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjMyRjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRn1jYXNlIDI6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjE2RjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMTZGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2RjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGfWNhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjU2NTtjYXNlIDEzOnJldHVybiB0aGlzLl9nbC5SMTFGX0cxMUZfQjEwRjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5SR0I5X0U1O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUkdCQTQ7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SR0I1X0ExO2Nhc2UgMTE6c3dpdGNoKHQpe2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTI7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMn19cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE4fSxpLnByb3RvdHlwZS5fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09MT90aGlzLl9nbC5SR0JBMzJGOmU9PT0yP3RoaXMuX2dsLlJHQkExNkY6dGhpcy5fZ2wuUkdCQTh9LGkucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcyx1PWkuX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxyLG4sYSxzKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaCh1KSx1Lm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtvLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2Uoby5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihmKSwxKX0pLHV9LGkuX0ZpbGVUb29sc0xvYWRGaWxlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt0aHJvdyBYKCJGaWxlVG9vbHMiKX0saS5wcm90b3R5cGUucmVhZFBpeGVscz1mdW5jdGlvbihlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9ITApLHM9PT12b2lkIDAmJihzPSEwKTt2YXIgbz1hPzQ6Myx1PWE/dGhpcy5fZ2wuUkdCQTp0aGlzLl9nbC5SR0IsZj1uZXcgVWludDhBcnJheShuKnIqbyk7cmV0dXJuIHMmJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2dsLnJlYWRQaXhlbHMoZSx0LHIsbix1LHRoaXMuX2dsLlVOU0lHTkVEX0JZVEUsZiksUHJvbWlzZS5yZXNvbHZlKGYpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXNTdXBwb3J0ZWRBc3luYyIse2dldDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5pc1N1cHBvcnRlZCgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IT09bnVsbClyZXR1cm4hdGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtpZih0aGlzLl9Jc1N1cHBvcnRlZD09PW51bGwpdHJ5e3ZhciBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIpfHxlLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIpO3RoaXMuX0lzU3VwcG9ydGVkPXQhPW51bGwmJiEhd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dH1jYXRjaHt0aGlzLl9Jc1N1cHBvcnRlZD0hMX1yZXR1cm4gdGhpcy5fSXNTdXBwb3J0ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJIYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD09PW51bGwpdHJ5e3ZhciBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2VpbGluZ1BPVD1mdW5jdGlvbihlKXtyZXR1cm4gZS0tLGV8PWU+PjEsZXw9ZT4+MixlfD1lPj40LGV8PWU+PjgsZXw9ZT4+MTYsZSsrLGV9LGkuRmxvb3JQT1Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX0saS5OZWFyZXN0UE9UPWZ1bmN0aW9uKGUpe3ZhciB0PWkuQ2VpbGluZ1BPVChlKSxyPWkuRmxvb3JQT1QoZSk7cmV0dXJuIHQtZT5lLXI/cjp0fSxpLkdldEV4cG9uZW50T2ZUd289ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPTIpO3ZhciBuO3N3aXRjaChyKXtjYXNlIDE6bj1pLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpuPWkuTmVhcmVzdFBPVChlKTticmVhaztjYXNlIDM6ZGVmYXVsdDpuPWkuQ2VpbGluZ1BPVChlKTticmVha31yZXR1cm4gTWF0aC5taW4obix0KX0saS5RdWV1ZU5ld0ZyYW1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHllKCk/KHR8fCh0PXdpbmRvdyksdC5yZXF1ZXN0UG9zdEFuaW1hdGlvbkZyYW1lP3QucmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZShlKTp0LnJlcXVlc3RBbmltYXRpb25GcmFtZT90LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lP3QubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lP3Qub1JlcXVlc3RBbmltYXRpb25GcmFtZShlKTp3aW5kb3cuc2V0VGltZW91dChlLDE2KSk6dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZTwidSI/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnNldFRpbWVvdXQoZSwxNil9LGkucHJvdG90eXBlLmdldEhvc3REb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50OmZyKCk/ZG9jdW1lbnQ6bnVsbH0saS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLGkuX1RleHR1cmVMb2FkZXJzPVtdLGkuQ29sbGlzaW9uc0Vwc2lsb249LjAwMSxpLl9Jc1N1cHBvcnRlZD1udWxsLGkuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9bnVsbCxpfSgpLEx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk5vdyIse2dldDpmdW5jdGlvbigpe3JldHVybiBWci5Jc1dpbmRvd09iamVjdEV4aXN0KCkmJndpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpfSgpLFZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlPT09dm9pZCAwJiYoZT0zMCksdGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyBrbihlKX1yZXR1cm4gaS5wcm90b3R5cGUuc2FtcGxlRnJhbWU9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9THQuTm93KSwhIXRoaXMuX2VuYWJsZWQpe2lmKHRoaXMuX2xhc3RGcmFtZVRpbWVNcyE9bnVsbCl7dmFyIHQ9ZS10aGlzLl9sYXN0RnJhbWVUaW1lTXM7dGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hZGQodCl9dGhpcy5fbGFzdEZyYW1lVGltZU1zPWV9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImF2ZXJhZ2VGcmFtZVRpbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZUZyYW1lVGltZVZhcmlhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUudmFyaWFuY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpbnN0YW50YW5lb3VzRnJhbWVUaW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImF2ZXJhZ2VGUFMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYXZlcmFnZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImluc3RhbnRhbmVvdXNGUFMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCk7cmV0dXJuIGU9PT0wPzA6MWUzL2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1NhdHVyYXRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmlzU2F0dXJhdGVkKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMH0saS5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbGFzdEZyYW1lVGltZU1zPW51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnJlc2V0KCl9LGl9KCksa249ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3NhbXBsZXM9bmV3IEFycmF5KGUpLHRoaXMucmVzZXQoKX1yZXR1cm4gaS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKHRoaXMuaXNTYXR1cmF0ZWQoKSl7dmFyIHI9dGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdO3Q9ci10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlLT10Lyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9tMi09dCooci10aGlzLmF2ZXJhZ2UpfWVsc2UgdGhpcy5fc2FtcGxlQ291bnQrKzt0PWUtdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZSs9dC90aGlzLl9zYW1wbGVDb3VudCx0aGlzLl9tMis9dCooZS10aGlzLmF2ZXJhZ2UpLHRoaXMudmFyaWFuY2U9dGhpcy5fbTIvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXT1lLHRoaXMuX3BvcysrLHRoaXMuX3BvcyU9dGhpcy5fc2FtcGxlcy5sZW5ndGh9LGkucHJvdG90eXBlLmhpc3Rvcnk9ZnVuY3Rpb24oZSl7aWYoZT49dGhpcy5fc2FtcGxlQ291bnR8fGU+PXRoaXMuX3NhbXBsZXMubGVuZ3RoKXJldHVybiAwO3ZhciB0PXRoaXMuX3dyYXBQb3NpdGlvbih0aGlzLl9wb3MtMSk7cmV0dXJuIHRoaXMuX3NhbXBsZXNbdGhpcy5fd3JhcFBvc2l0aW9uKHQtZSldfSxpLnByb3RvdHlwZS5pc1NhdHVyYXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zYW1wbGVDb3VudD49dGhpcy5fc2FtcGxlcy5sZW5ndGh9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdmVyYWdlPTAsdGhpcy52YXJpYW5jZT0wLHRoaXMuX3NhbXBsZUNvdW50PTAsdGhpcy5fcG9zPTAsdGhpcy5fbTI9MH0saS5wcm90b3R5cGUuX3dyYXBQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zYW1wbGVzLmxlbmd0aDtyZXR1cm4oZSV0K3QpJXR9LGl9KCksUXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT0wLHRoaXMuX21pbj0wLHRoaXMuX21heD0wLHRoaXMuX2F2ZXJhZ2U9MCx0aGlzLl9sYXN0U2VjQXZlcmFnZT0wLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl90b3RhbFZhbHVlQ291bnQ9MCx0aGlzLl90b3RhbEFjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1RpbWU9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdmVyYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibGFzdFNlY0F2ZXJhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdFNlY0F2ZXJhZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0b3RhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbEFjY3VtdWxhdGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxWYWx1ZUNvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmZldGNoTmV3RnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl90b3RhbFZhbHVlQ291bnQrKyx0aGlzLl9jdXJyZW50PTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQrK30saS5wcm90b3R5cGUuYWRkQ291bnQ9ZnVuY3Rpb24oZSx0KXtpLkVuYWJsZWQmJih0aGlzLl9jdXJyZW50Kz1lLHQmJnRoaXMuX2ZldGNoUmVzdWx0KCkpfSxpLnByb3RvdHlwZS5iZWdpbk1vbml0b3Jpbmc9ZnVuY3Rpb24oKXtpLkVuYWJsZWQmJih0aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lPUx0Lk5vdyl9LGkucHJvdG90eXBlLmVuZE1vbml0b3Jpbmc9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9ITApLCEhaS5FbmFibGVkKXtlJiZ0aGlzLmZldGNoTmV3RnJhbWUoKTt2YXIgdD1MdC5Ob3c7dGhpcy5fY3VycmVudD10LXRoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWUsZSYmdGhpcy5fZmV0Y2hSZXN1bHQoKX19LGkucHJvdG90eXBlLl9mZXRjaFJlc3VsdD1mdW5jdGlvbigpe3RoaXMuX3RvdGFsQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkKz10aGlzLl9jdXJyZW50LHRoaXMuX21pbj1NYXRoLm1pbih0aGlzLl9taW4sdGhpcy5fY3VycmVudCksdGhpcy5fbWF4PU1hdGgubWF4KHRoaXMuX21heCx0aGlzLl9jdXJyZW50KSx0aGlzLl9hdmVyYWdlPXRoaXMuX3RvdGFsQWNjdW11bGF0ZWQvdGhpcy5fdG90YWxWYWx1ZUNvdW50O3ZhciBlPUx0Lk5vdztlLXRoaXMuX2xhc3RTZWNUaW1lPjFlMyYmKHRoaXMuX2xhc3RTZWNBdmVyYWdlPXRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZC90aGlzLl9sYXN0U2VjVmFsdWVDb3VudCx0aGlzLl9sYXN0U2VjVGltZT1lLHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50PTApfSxpLkVuYWJsZWQ9ITAsaX0oKTtmZS5wcm90b3R5cGUuc2V0QWxwaGFDb25zdGFudHM9ZnVuY3Rpb24oaSxlLHQscil7dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kQ29uc3RhbnRzKGksZSx0LHIpfSxmZS5wcm90b3R5cGUuc2V0QWxwaGFNb2RlPWZ1bmN0aW9uKGksZSl7aWYoZT09PXZvaWQgMCYmKGU9ITEpLHRoaXMuX2FscGhhTW9kZSE9PWkpe3N3aXRjaChpKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSExO2JyZWFrO2Nhc2UgNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgODp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA5OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuQ09OU1RBTlRfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDExOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrfWV8fCh0aGlzLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1pPT09MCksdGhpcy5fYWxwaGFNb2RlPWl9fSxmZS5wcm90b3R5cGUuZ2V0QWxwaGFNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX0sZmUucHJvdG90eXBlLnNldEFscGhhRXF1YXRpb249ZnVuY3Rpb24oaSl7aWYodGhpcy5fYWxwaGFFcXVhdGlvbiE9PWkpe3N3aXRjaChpKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NCwzMjc3NCk7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzgsMzI3NzgpO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc5LDMyNzc5KTticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NiwzMjc3Nik7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzUpO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc1LDMyNzc0KTticmVha310aGlzLl9hbHBoYUVxdWF0aW9uPWl9fSxmZS5wcm90b3R5cGUuZ2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUVxdWF0aW9ufTtmdW5jdGlvbiBXbihpLGUsdCxyKXtzd2l0Y2godD09PXZvaWQgMCYmKHQ9ITEpLGkpe2Nhc2UgMzp7dmFyIG49ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQ4QXJyYXkoZSk6bmV3IEludDhBcnJheShlKTtyZXR1cm4gciYmbi5zZXQobmV3IEludDhBcnJheShyKSksbn1jYXNlIDA6e3ZhciBhPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShlKTpuZXcgVWludDhBcnJheShlKTtyZXR1cm4gciYmYS5zZXQobmV3IFVpbnQ4QXJyYXkocikpLGF9Y2FzZSA0Ont2YXIgcz1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDE2QXJyYXkoZSk6bmV3IEludDE2QXJyYXkodD9lLzI6ZSk7cmV0dXJuIHImJnMuc2V0KG5ldyBJbnQxNkFycmF5KHIpKSxzfWNhc2UgNTpjYXNlIDg6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAyOnt2YXIgbz1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQxNkFycmF5KGUpOm5ldyBVaW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gciYmby5zZXQobmV3IFVpbnQxNkFycmF5KHIpKSxvfWNhc2UgNjp7dmFyIHU9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQzMkFycmF5KGUpOm5ldyBJbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiByJiZ1LnNldChuZXcgSW50MzJBcnJheShyKSksdX1jYXNlIDc6Y2FzZSAxMTpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAxNDpjYXNlIDE1Ont2YXIgZj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQzMkFycmF5KGUpOm5ldyBVaW50MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gciYmZi5zZXQobmV3IFVpbnQzMkFycmF5KHIpKSxmfWNhc2UgMTp7dmFyIGw9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBGbG9hdDMyQXJyYXkoZSk6bmV3IEZsb2F0MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gciYmbC5zZXQobmV3IEZsb2F0MzJBcnJheShyKSksbH19dmFyIGg9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiByJiZoLnNldChuZXcgVWludDhBcnJheShyKSksaH1mZS5wcm90b3R5cGUuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYz1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8sdSxmKXt2YXIgbCxoO3I9PT12b2lkIDAmJihyPS0xKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz0hMCksbz09PXZvaWQgMCYmKG89ITEpLHU9PT12b2lkIDAmJih1PTApLGY9PT12b2lkIDAmJihmPTApO3ZhciBjPXRoaXMuX2dsO2lmKCFjKXRocm93IG5ldyBFcnJvcigiRW5naW5lIGRvZXMgbm90IGhhdmUgZ2wgcmVuZGVyaW5nIGNvbnRleHQuIik7aWYoIXRoaXMuX2R1bW15RnJhbWVidWZmZXIpe3ZhciBkPWMuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighZCl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHVtbXkgZnJhbWVidWZmZXIiKTt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPWR9Yy5iaW5kRnJhbWVidWZmZXIoYy5GUkFNRUJVRkZFUix0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSxyPi0xP2MuZnJhbWVidWZmZXJUZXh0dXJlMkQoYy5GUkFNRUJVRkZFUixjLkNPTE9SX0FUVEFDSE1FTlQwLGMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3IsKGw9aS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLG4pOmMuZnJhbWVidWZmZXJUZXh0dXJlMkQoYy5GUkFNRUJVRkZFUixjLkNPTE9SX0FUVEFDSE1FTlQwLGMuVEVYVFVSRV8yRCwoaD1pLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMD92b2lkIDA6aC51bmRlcmx5aW5nUmVzb3VyY2Usbik7dmFyIHA9aS50eXBlIT09dm9pZCAwP3RoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoaS50eXBlKTpjLlVOU0lHTkVEX0JZVEU7aWYobylhfHwoYT1XbihpLnR5cGUsNCplKnQpKTtlbHNlIHN3aXRjaChwKXtjYXNlIGMuVU5TSUdORURfQllURTphfHwoYT1uZXcgVWludDhBcnJheSg0KmUqdCkpLHA9Yy5VTlNJR05FRF9CWVRFO2JyZWFrO2RlZmF1bHQ6YXx8KGE9bmV3IEZsb2F0MzJBcnJheSg0KmUqdCkpLHA9Yy5GTE9BVDticmVha31yZXR1cm4gcyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksYy5yZWFkUGl4ZWxzKHUsZixlLHQsYy5SR0JBLHAsYSksYy5iaW5kRnJhbWVidWZmZXIoYy5GUkFNRUJVRkZFUix0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIpLGF9LGZlLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHM9ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvLHUsZil7cmV0dXJuIHI9PT12b2lkIDAmJihyPS0xKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz0hMCksbz09PXZvaWQgMCYmKG89ITEpLHU9PT12b2lkIDAmJih1PTApLGY9PT12b2lkIDAmJihmPTApLFByb21pc2UucmVzb2x2ZSh0aGlzLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmMoaSxlLHQscixuLGEscyxvLHUsZikpfSxmZS5wcm90b3R5cGUudXBkYXRlRHluYW1pY0luZGV4QnVmZmVyPWZ1bmN0aW9uKGksZSx0KXt0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJdPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIoaSk7dmFyIHI7aS5pczMyQml0cz9yPWUgaW5zdGFuY2VvZiBVaW50MzJBcnJheT9lOm5ldyBVaW50MzJBcnJheShlKTpyPWUgaW5zdGFuY2VvZiBVaW50MTZBcnJheT9lOm5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHIsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpfSxmZS5wcm90b3R5cGUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcj1mdW5jdGlvbihpLGUsdCxyKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihpKSx0PT09dm9pZCAwJiYodD0wKTt2YXIgbj1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO3I9PT12b2lkIDB8fHI+PW4mJnQ9PT0wP2UgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsZSk6ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQrcikpOihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1uZXcgVWludDhBcnJheShlLHQscik6ZT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQrdCxyKSx0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKX07dmFyIGhlPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEpe2E9PT12b2lkIDAmJihhPSExKTt2YXIgcz1pLmNhbGwodGhpcyx0LHIsbixhKXx8dGhpcztpZihzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PSExLHMuZGlzYWJsZU1hbmlmZXN0Q2hlY2s9ITEscy5zY2VuZXM9bmV3IEFycmF5LHMuX3ZpcnR1YWxTY2VuZXM9bmV3IEFycmF5LHMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHMuaXNQb2ludGVyTG9jaz0hMSxzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQ2FudmFzQmx1ck9ic2VydmFibGU9bmV3IE8scy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGU9bmV3IE8scy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlPW5ldyBPLHMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXI9bnVsbCxzLm9uRW5kRnJhbWVPYnNlcnZhYmxlPW5ldyBPLHMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IE8scy5vbkFmdGVyU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyBPLHMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hMSxzLl9sb2Nrc3RlcE1heFN0ZXBzPTQscy5fdGltZVN0ZXA9MS82MCxzLl9mcHM9NjAscy5fZGVsdGFUaW1lPTAscy5fZHJhd0NhbGxzPW5ldyBRdCxzLmNhbnZhc1RhYkluZGV4PTEscy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kPSExLHMuX3BlcmZvcm1hbmNlTW9uaXRvcj1uZXcgVm4scy5fY29tcGF0aWJpbGl0eU1vZGU9ITAscy5jdXJyZW50UmVuZGVyUGFzc0lkPTAscy5fcmVuZGVyUGFzc05hbWVzPVsibWFpbiJdLGUuSW5zdGFuY2VzLnB1c2gocyksIXQpcmV0dXJuIHM7aWYocy5fZmVhdHVyZXMuc3VwcG9ydFJlbmRlclBhc3Nlcz0hMCxuPXMuX2NyZWF0aW9uT3B0aW9ucyx0LmdldENvbnRleHQpe3ZhciBvPXQ7aWYocy5fc2hhcmVkSW5pdChvLCEhbi5kb05vdEhhbmRsZVRvdWNoQWN0aW9uLG4uYXVkaW9FbmdpbmUpLHllKCkpe3ZhciB1PWRvY3VtZW50O3MuX29uRnVsbHNjcmVlbkNoYW5nZT1mdW5jdGlvbigpe3UuZnVsbHNjcmVlbiE9PXZvaWQgMD9zLmlzRnVsbHNjcmVlbj11LmZ1bGxzY3JlZW46dS5tb3pGdWxsU2NyZWVuIT09dm9pZCAwP3MuaXNGdWxsc2NyZWVuPXUubW96RnVsbFNjcmVlbjp1LndlYmtpdElzRnVsbFNjcmVlbiE9PXZvaWQgMD9zLmlzRnVsbHNjcmVlbj11LndlYmtpdElzRnVsbFNjcmVlbjp1Lm1zSXNGdWxsU2NyZWVuIT09dm9pZCAwJiYocy5pc0Z1bGxzY3JlZW49dS5tc0lzRnVsbFNjcmVlbikscy5pc0Z1bGxzY3JlZW4mJnMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkJiZvJiZlLl9SZXF1ZXN0UG9pbnRlcmxvY2sobyl9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2UiLHMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIscy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIixzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1zZnVsbHNjcmVlbmNoYW5nZSIscy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxzLl9vblBvaW50ZXJMb2NrQ2hhbmdlPWZ1bmN0aW9uKCl7cy5pc1BvaW50ZXJMb2NrPXUubW96UG9pbnRlckxvY2tFbGVtZW50PT09b3x8dS53ZWJraXRQb2ludGVyTG9ja0VsZW1lbnQ9PT1vfHx1Lm1zUG9pbnRlckxvY2tFbGVtZW50PT09b3x8dS5wb2ludGVyTG9ja0VsZW1lbnQ9PT1vfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIscy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibXNwb2ludGVybG9ja2NoYW5nZSIscy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW96cG9pbnRlcmxvY2tjaGFuZ2UiLHMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlIixzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSwhZS5hdWRpb0VuZ2luZSYmbi5hdWRpb0VuZ2luZSYmZS5BdWRpb0VuZ2luZUZhY3RvcnkmJihlLmF1ZGlvRW5naW5lPWUuQXVkaW9FbmdpbmVGYWN0b3J5KHMuZ2V0UmVuZGVyaW5nQ2FudmFzKCkscy5nZXRBdWRpb0NvbnRleHQoKSxzLmdldEF1ZGlvRGVzdGluYXRpb24oKSkpfXMuX2Nvbm5lY3RWUkV2ZW50cygpLHMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9ZS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5IT09dm9pZCAwLHMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hIW4uZGV0ZXJtaW5pc3RpY0xvY2tzdGVwLHMuX2xvY2tzdGVwTWF4U3RlcHM9bi5sb2Nrc3RlcE1heFN0ZXBzfHwwLHMuX3RpbWVTdGVwPW4udGltZVN0ZXB8fDEvNjB9cmV0dXJuIHMuX3ByZXBhcmVWUkNvbXBvbmVudCgpLG4uYXV0b0VuYWJsZVdlYlZSJiZzLmluaXRXZWJWUigpLHN9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJOcG1QYWNrYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZlLk5wbVBhY2thZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlZlcnNpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmUuVmVyc2lvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJlLkluc3RhbmNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGFzdENyZWF0ZWRFbmdpbmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcmUuTGFzdENyZWF0ZWRFbmdpbmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxhc3RDcmVhdGVkU2NlbmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcmUuTGFzdENyZWF0ZWRTY2VuZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fY3JlYXRlSW1hZ2VCaXRtYXBGcm9tU291cmNlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcyxhPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7dmFyIHU9bmV3IEltYWdlO3Uub25sb2FkPWZ1bmN0aW9uKCl7dS5kZWNvZGUoKS50aGVuKGZ1bmN0aW9uKCl7bi5jcmVhdGVJbWFnZUJpdG1hcCh1LHIpLnRoZW4oZnVuY3Rpb24oZil7cyhmKX0pfSl9LHUub25lcnJvcj1mdW5jdGlvbigpe28oIkVycm9yIGxvYWRpbmcgaW1hZ2UgIi5jb25jYXQodS5zcmMpKX0sdS5zcmM9dH0pO3JldHVybiBhfSxlLnByb3RvdHlwZS5jcmVhdGVJbWFnZUJpdG1hcD1mdW5jdGlvbih0LHIpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcCh0LHIpfSxlLnByb3RvdHlwZS5yZXNpemVJbWFnZUJpdG1hcD1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5jcmVhdGVDYW52YXMocixuKSxzPWEuZ2V0Q29udGV4dCgiMmQiKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgMmQgY29udGV4dCBmb3IgcmVzaXplSW1hZ2VCaXRtYXAiKTtzLmRyYXdJbWFnZSh0LDAsMCk7dmFyIG89cy5nZXRJbWFnZURhdGEoMCwwLHIsbikuZGF0YTtyZXR1cm4gb30sZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eT1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0wO248ZS5JbnN0YW5jZXMubGVuZ3RoO24rKylmb3IodmFyIGE9ZS5JbnN0YW5jZXNbbl0scz0wO3M8YS5zY2VuZXMubGVuZ3RoO3MrKylhLnNjZW5lc1tzXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSh0LHIpfSxlLkRlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeT1mdW5jdGlvbih0KXt0aHJvdyBYKCJMb2FkaW5nU2NyZWVuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISFlLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGVyZm9ybWFuY2VNb25pdG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbXBhdGliaWxpdHlNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBhdGliaWxpdHlNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0SW5wdXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc30sZS5wcm90b3R5cGUuX3NoYXJlZEluaXQ9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXM7aWYoaS5wcm90b3R5cGUuX3NoYXJlZEluaXQuY2FsbCh0aGlzLHQscixuKSx0aGlzLl9vbkNhbnZhc0ZvY3VzPWZ1bmN0aW9uKCl7YS5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9LHRoaXMuX29uQ2FudmFzQmx1cj1mdW5jdGlvbigpe2Eub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9LHQuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLHQuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25DYW52YXNCbHVyKSx0aGlzLl9vbkJsdXI9ZnVuY3Rpb24oKXthLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJmEuX3BlcmZvcm1hbmNlTW9uaXRvci5kaXNhYmxlKCksYS5fd2luZG93SXNCYWNrZ3JvdW5kPSEwfSx0aGlzLl9vbkZvY3VzPWZ1bmN0aW9uKCl7YS5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZhLl9wZXJmb3JtYW5jZU1vbml0b3IuZW5hYmxlKCksYS5fd2luZG93SXNCYWNrZ3JvdW5kPSExfSx0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQ9ZnVuY3Rpb24obyl7ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChvLmNsaWVudFgsby5jbGllbnRZKSE9PXQmJmEub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobyl9LHllKCkpe3ZhciBzPXRoaXMuZ2V0SG9zdFdpbmRvdygpO3MmJihzLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1cikscy5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpfXQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcm91dCIsdGhpcy5fb25DYW52YXNQb2ludGVyT3V0KSxyfHx0aGlzLl9kaXNhYmxlVG91Y2hBY3Rpb24oKSwhZS5hdWRpb0VuZ2luZSYmbiYmZS5BdWRpb0VuZ2luZUZhY3RvcnkmJihlLmF1ZGlvRW5naW5lPWUuQXVkaW9FbmdpbmVGYWN0b3J5KHRoaXMuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5nZXRBdWRpb0NvbnRleHQoKSx0aGlzLmdldEF1ZGlvRGVzdGluYXRpb24oKSkpfSxlLnByb3RvdHlwZS5nZXRBc3BlY3RSYXRpbz1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSExKTt2YXIgbj10LnZpZXdwb3J0O3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKHIpKm4ud2lkdGgvKHRoaXMuZ2V0UmVuZGVySGVpZ2h0KHIpKm4uaGVpZ2h0KX0sZS5wcm90b3R5cGUuZ2V0U2NyZWVuQXNwZWN0UmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCghMCkvdGhpcy5nZXRSZW5kZXJIZWlnaHQoITApfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJpbmdDYW52YXNDbGllbnRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfSxlLnByb3RvdHlwZS5pc0RldGVybWluaXN0aWNMb2NrU3RlcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXB9LGUucHJvdG90eXBlLmdldExvY2tzdGVwTWF4U3RlcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9ja3N0ZXBNYXhTdGVwc30sZS5wcm90b3R5cGUuZ2V0VGltZVN0ZXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZVN0ZXAqMWUzfSxlLnByb3RvdHlwZS5nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwPWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITApLHQuZ2VuZXJhdGVNaXBNYXBzKXt2YXIgbj10aGlzLl9nbDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV9DVUJFX01BUCx0LCEwKSxuLmdlbmVyYXRlTWlwbWFwKG4uVEVYVFVSRV9DVUJFX01BUCksciYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCl9fSxlLnByb3RvdHlwZS5nZXREZXB0aEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3R9LGUucHJvdG90eXBlLnNldERlcHRoQnVmZmVyPWZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD10fSxlLnByb3RvdHlwZS5nZXREZXB0aFdyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFza30sZS5wcm90b3R5cGUuc2V0RGVwdGhXcml0ZT1mdW5jdGlvbih0KXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9dH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3R9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxCdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PXR9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxNYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsTWFza30sZS5wcm90b3R5cGUuc2V0U3RlbmNpbE1hc2s9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrPXR9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxGdW5jdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmN9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWZ9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxGdW5jdGlvbk1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFza30sZS5wcm90b3R5cGUuc2V0U3RlbmNpbEZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuYz10fSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2U9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jUmVmPXR9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxGdW5jdGlvbk1hc2s9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFzaz10fSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbEZhaWx9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbE9wZXJhdGlvblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3N9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxPcGVyYXRpb25GYWlsPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbD10fSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsPWZ1bmN0aW9uKHQpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BEZXB0aEZhaWw9dH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbE9wZXJhdGlvblBhc3M9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3M9dH0sZS5wcm90b3R5cGUuc2V0RGl0aGVyaW5nU3RhdGU9ZnVuY3Rpb24odCl7dD90aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuRElUSEVSKTp0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkRJVEhFUil9LGUucHJvdG90eXBlLnNldFJhc3Rlcml6ZXJTdGF0ZT1mdW5jdGlvbih0KXt0P3RoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKTp0aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhGdW5jdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmN9LGUucHJvdG90eXBlLnNldERlcHRoRnVuY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXR9LGUucHJvdG90eXBlLnNldERlcHRoRnVuY3Rpb25Ub0dyZWF0ZXI9ZnVuY3Rpb24oKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE2KX0sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlck9yRXF1YWw9ZnVuY3Rpb24oKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE4KX0sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvblRvTGVzcz1mdW5jdGlvbigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTMpfSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uVG9MZXNzT3JFcXVhbD1mdW5jdGlvbigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTUpfSxlLnByb3RvdHlwZS5jYWNoZVN0ZW5jaWxTdGF0ZT1mdW5jdGlvbigpe3RoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXI9dGhpcy5nZXRTdGVuY2lsQnVmZmVyKCksdGhpcy5fY2FjaGVkU3RlbmNpbEZ1bmN0aW9uPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uKCksdGhpcy5fY2FjaGVkU3RlbmNpbE1hc2s9dGhpcy5nZXRTdGVuY2lsTWFzaygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl9LGUucHJvdG90eXBlLnJlc3RvcmVTdGVuY2lsU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLnNldFN0ZW5jaWxGdW5jdGlvbih0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb24pLHRoaXMuc2V0U3RlbmNpbE1hc2sodGhpcy5fY2FjaGVkU3RlbmNpbE1hc2spLHRoaXMuc2V0U3RlbmNpbEJ1ZmZlcih0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCksdGhpcy5zZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UodGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZSl9LGUucHJvdG90eXBlLnNldERpcmVjdFZpZXdwb3J0PWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzPXRoaXMuX2NhY2hlZFZpZXdwb3J0O3JldHVybiB0aGlzLl9jYWNoZWRWaWV3cG9ydD1udWxsLHRoaXMuX3ZpZXdwb3J0KHQscixuLGEpLHN9LGUucHJvdG90eXBlLnNjaXNzb3JDbGVhcj1mdW5jdGlvbih0LHIsbixhLHMpe3RoaXMuZW5hYmxlU2Npc3Nvcih0LHIsbixhKSx0aGlzLmNsZWFyKHMsITAsITAsITApLHRoaXMuZGlzYWJsZVNjaXNzb3IoKX0sZS5wcm90b3R5cGUuZW5hYmxlU2Npc3Nvcj1mdW5jdGlvbih0LHIsbixhKXt2YXIgcz10aGlzLl9nbDtzLmVuYWJsZShzLlNDSVNTT1JfVEVTVCkscy5zY2lzc29yKHQscixuLGEpfSxlLnByb3RvdHlwZS5kaXNhYmxlU2Npc3Nvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dsO3QuZGlzYWJsZSh0LlNDSVNTT1JfVEVTVCl9LGUucHJvdG90eXBlLl9yZXBvcnREcmF3Q2FsbD1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD0xKSx0aGlzLl9kcmF3Q2FsbHMuYWRkQ291bnQodCwhMSl9LGUucHJvdG90eXBlLmluaXRXZWJWUj1mdW5jdGlvbigpe3Rocm93IFgoIldlYlZSQ2FtZXJhIil9LGUucHJvdG90eXBlLl9wcmVwYXJlVlJDb21wb25lbnQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9jb25uZWN0VlJFdmVudHM9ZnVuY3Rpb24odCxyKXt9LGUucHJvdG90eXBlLl9zdWJtaXRWUkZyYW1lPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5kaXNhYmxlVlI9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmlzVlJQcmVzZW50aW5nPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLl9yZXF1ZXN0VlJGcmFtZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2xvYWRGaWxlQXN5bmM9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7YS5fbG9hZEZpbGUodCxmdW5jdGlvbih1KXtzKHUpfSx2b2lkIDAscixuLGZ1bmN0aW9uKHUsZil7byhmKX0pfSl9LGUucHJvdG90eXBlLmdldFZlcnRleFNoYWRlclNvdXJjZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnModCk7cmV0dXJuIHI/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHJbMF0pOm51bGx9LGUucHJvdG90eXBlLmdldEZyYWdtZW50U2hhZGVyU291cmNlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dsLmdldEF0dGFjaGVkU2hhZGVycyh0KTtyZXR1cm4gcj90aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UoclsxXSk6bnVsbH0sZS5wcm90b3R5cGUuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbih0LHIsbixhKXt0IT09dm9pZCAwJiYociYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbdF09ciksIW58fCFuLmRlcHRoU3RlbmNpbFRleHR1cmU/dGhpcy5fc2V0VGV4dHVyZSh0LG51bGwsdm9pZCAwLHZvaWQgMCxhKTp0aGlzLl9zZXRUZXh0dXJlKHQsbiwhMSwhMCxhKSl9LGUucHJvdG90eXBlLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3M9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHM9bnVsbDtyJiYoci5fdGV4dHVyZXMuZGF0YVtyLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF0/cz1yLl90ZXh0dXJlcy5kYXRhW3IuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXTpyLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiYocz1yLl9mb3JjZWRPdXRwdXRUZXh0dXJlKSksdGhpcy5fYmluZFRleHR1cmUodCwoYT1zPT1udWxsP3ZvaWQgMDpzLnRleHR1cmUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOm51bGwsbil9LGUucHJvdG90eXBlLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQ9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHM7dGhpcy5fYmluZFRleHR1cmUodCwocz0oYT1yPT1udWxsP3ZvaWQgMDpyLl9vdXRwdXRUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEudGV4dHVyZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6bnVsbCxuKX0sZS5wcm90b3R5cGUuX3JlYnVpbGRCdWZmZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLnNjZW5lczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxuLl9yZWJ1aWxkR2VvbWV0cmllcygpLG4uX3JlYnVpbGRUZXh0dXJlcygpfWZvcih2YXIgYT0wLHM9dGhpcy5fdmlydHVhbFNjZW5lczthPHMubGVuZ3RoO2ErKyl7dmFyIG49c1thXTtuLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxuLl9yZWJ1aWxkR2VvbWV0cmllcygpLG4uX3JlYnVpbGRUZXh0dXJlcygpfWkucHJvdG90eXBlLl9yZWJ1aWxkQnVmZmVycy5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fcmVuZGVyRnJhbWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzW3RdO3IoKX19LGUucHJvdG90eXBlLl9yZW5kZXJMb29wPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXt2YXIgdD0hMDshdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQmJih0PSExKSx0JiYodGhpcy5iZWdpbkZyYW1lKCksdGhpcy5fcmVuZGVyVmlld3MoKXx8dGhpcy5fcmVuZGVyRnJhbWUoKSx0aGlzLmVuZEZyYW1lKCkpfXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD4wP3RoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXI/KHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZW5kZXJGdW5jdGlvbnx8dGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyKSx0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZXF1ZXN0SUQpOnRoaXMuaXNWUlByZXNlbnRpbmcoKT90aGlzLl9yZXF1ZXN0VlJGcmFtZSgpOnRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpOnRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITF9LGUucHJvdG90eXBlLl9yZW5kZXJWaWV3cz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5zd2l0Y2hGdWxsc2NyZWVuPWZ1bmN0aW9uKHQpe3RoaXMuaXNGdWxsc2NyZWVuP3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLmVudGVyRnVsbHNjcmVlbih0KX0sZS5wcm90b3R5cGUuZW50ZXJGdWxsc2NyZWVuPWZ1bmN0aW9uKHQpe3RoaXMuaXNGdWxsc2NyZWVufHwodGhpcy5fcG9pbnRlckxvY2tSZXF1ZXN0ZWQ9dCx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJmUuX1JlcXVlc3RGdWxsc2NyZWVuKHRoaXMuX3JlbmRlcmluZ0NhbnZhcykpfSxlLnByb3RvdHlwZS5leGl0RnVsbHNjcmVlbj1mdW5jdGlvbigpe3RoaXMuaXNGdWxsc2NyZWVuJiZlLl9FeGl0RnVsbHNjcmVlbigpfSxlLnByb3RvdHlwZS5lbnRlclBvaW50ZXJsb2NrPWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZlLl9SZXF1ZXN0UG9pbnRlcmxvY2sodGhpcy5fcmVuZGVyaW5nQ2FudmFzKX0sZS5wcm90b3R5cGUuZXhpdFBvaW50ZXJsb2NrPWZ1bmN0aW9uKCl7ZS5fRXhpdFBvaW50ZXJsb2NrKCl9LGUucHJvdG90eXBlLmJlZ2luRnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl9tZWFzdXJlRnBzKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxpLnByb3RvdHlwZS5iZWdpbkZyYW1lLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmVuZEZyYW1lPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuZW5kRnJhbWUuY2FsbCh0aGlzKSx0aGlzLl9zdWJtaXRWUkZyYW1lKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD0hMSksIXRoaXMuaXNWUlByZXNlbnRpbmcoKSYmaS5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbih0LHIsbil7aWYobj09PXZvaWQgMCYmKG49ITEpLCF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fCFpLnByb3RvdHlwZS5zZXRTaXplLmNhbGwodGhpcyx0LHIsbikpcmV0dXJuITE7aWYodGhpcy5zY2VuZXMpe2Zvcih2YXIgYT0wO2E8dGhpcy5zY2VuZXMubGVuZ3RoO2ErKylmb3IodmFyIHM9dGhpcy5zY2VuZXNbYV0sbz0wO288cy5jYW1lcmFzLmxlbmd0aDtvKyspe3ZhciB1PXMuY2FtZXJhc1tvXTt1Ll9jdXJyZW50UmVuZGVySWQ9MH10aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfXJldHVybiEwfSxlLnByb3RvdHlwZS5fZGVsZXRlUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKHQpe3ZhciByPXQ7ciYmci5wcm9ncmFtJiZyLnRyYW5zZm9ybUZlZWRiYWNrJiYodGhpcy5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayhyLnRyYW5zZm9ybUZlZWRiYWNrKSxyLnRyYW5zZm9ybUZlZWRiYWNrPW51bGwpLGkucHJvdG90eXBlLl9kZWxldGVQaXBlbGluZUNvbnRleHQuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5jcmVhdGVTaGFkZXJQcm9ncmFtPWZ1bmN0aW9uKHQscixuLGEscyxvKXtvPT09dm9pZCAwJiYobz1udWxsKSxzPXN8fHRoaXMuX2dsLHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciB1PWkucHJvdG90eXBlLmNyZWF0ZVNoYWRlclByb2dyYW0uY2FsbCh0aGlzLHQscixuLGEscyxvKTtyZXR1cm4gdGhpcy5vbkFmdGVyU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx1fSxlLnByb3RvdHlwZS5fY3JlYXRlU2hhZGVyUHJvZ3JhbT1mdW5jdGlvbih0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPW51bGwpO3ZhciBvPWEuY3JlYXRlUHJvZ3JhbSgpO2lmKHQucHJvZ3JhbT1vLCFvKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBwcm9ncmFtIik7aWYoYS5hdHRhY2hTaGFkZXIobyxyKSxhLmF0dGFjaFNoYWRlcihvLG4pLHRoaXMud2ViR0xWZXJzaW9uPjEmJnMpe3ZhciB1PXRoaXMuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTt0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayh1KSx0aGlzLnNldFRyYW5mb3JtRmVlZGJhY2tWYXJ5aW5ncyhvLHMpLHQudHJhbnNmb3JtRmVlZGJhY2s9dX1yZXR1cm4gYS5saW5rUHJvZ3JhbShvKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZzJiZ0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhudWxsKSx0LmNvbnRleHQ9YSx0LnZlcnRleFNoYWRlcj1yLHQuZnJhZ21lbnRTaGFkZXI9bix0LmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQodCksb30sZS5wcm90b3R5cGUuX3JlbGVhc2VUZXh0dXJlPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLl9yZWxlYXNlVGV4dHVyZS5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbih0KXtpLnByb3RvdHlwZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIuY2FsbCh0aGlzLHQpLHRoaXMuc2NlbmVzLmZvckVhY2goZnVuY3Rpb24ocil7ci5wb3N0UHJvY2Vzc2VzLmZvckVhY2goZnVuY3Rpb24obil7bi5fb3V0cHV0VGV4dHVyZT09PXQmJihuLl9vdXRwdXRUZXh0dXJlPW51bGwpfSksci5jYW1lcmFzLmZvckVhY2goZnVuY3Rpb24obil7bi5fcG9zdFByb2Nlc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EmJmEuX291dHB1dFRleHR1cmU9PT10JiYoYS5fb3V0cHV0VGV4dHVyZT1udWxsKX0pfSl9KX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyUGFzc05hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc30sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFJlbmRlclBhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1t0aGlzLmN1cnJlbnRSZW5kZXJQYXNzSWRdfSxlLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJQYXNzSWQ9ZnVuY3Rpb24odCl7dmFyIHI9KytlLl9SZW5kZXJQYXNzSWRDb3VudGVyO3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbcl09dD8/Ik5PTkFNRSIscn0sZS5wcm90b3R5cGUucmVsZWFzZVJlbmRlclBhc3NJZD1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdF09dm9pZCAwO2Zvcih2YXIgcj0wO3I8dGhpcy5zY2VuZXMubGVuZ3RoOysrcilmb3IodmFyIG49dGhpcy5zY2VuZXNbcl0sYT0wO2E8bi5tZXNoZXMubGVuZ3RoOysrYSl7dmFyIHM9bi5tZXNoZXNbYV07aWYocy5zdWJNZXNoZXMpZm9yKHZhciBvPTA7bzxzLnN1Yk1lc2hlcy5sZW5ndGg7KytvKXt2YXIgdT1zLnN1Yk1lc2hlc1tvXTt1Ll9yZW1vdmVEcmF3V3JhcHBlcih0KX19fSxlLnByb3RvdHlwZS5fcmVzY2FsZVRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzO3RoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKTt2YXIgdT10aGlzLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoe3dpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fSx7Z2VuZXJhdGVNaXBNYXBzOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6MixnZW5lcmF0ZURlcHRoQnVmZmVyOiExLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMX0pOyF0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJmUuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9ZS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSh0aGlzKSksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5nZXRFZmZlY3QoKS5leGVjdXRlV2hlbkNvbXBpbGVkKGZ1bmN0aW9uKCl7by5fcmVzY2FsZVBvc3RQcm9jZXNzLm9uQXBwbHk9ZnVuY3Rpb24obCl7bC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0KX07dmFyIGY9bjtmfHwoZj1vLnNjZW5lc1tvLnNjZW5lcy5sZW5ndGgtMV0pLGYucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihbby5fcmVzY2FsZVBvc3RQcm9jZXNzXSx1LCEwKSxvLl9iaW5kVGV4dHVyZURpcmVjdGx5KG8uX2dsLlRFWFRVUkVfMkQsciwhMCksby5fZ2wuY29weVRleEltYWdlMkQoby5fZ2wuVEVYVFVSRV8yRCwwLGEsMCwwLHIud2lkdGgsci5oZWlnaHQsMCksby51bkJpbmRGcmFtZWJ1ZmZlcih1KSx1LmRpc3Bvc2UoKSxzJiZzKCl9KX0sZS5wcm90b3R5cGUuZ2V0RnBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zwc30sZS5wcm90b3R5cGUuZ2V0RGVsdGFUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX0sZS5wcm90b3R5cGUuX21lYXN1cmVGcHM9ZnVuY3Rpb24oKXt0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3Iuc2FtcGxlRnJhbWUoKSx0aGlzLl9mcHM9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmF2ZXJhZ2VGUFMsdGhpcy5fZGVsdGFUaW1lPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5pbnN0YW50YW5lb3VzRnJhbWVUaW1lfHwwfSxlLnByb3RvdHlwZS53cmFwV2ViR0xUZXh0dXJlPWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBBaSh0LHRoaXMuX2dsKSxuPW5ldyB3dCh0aGlzLG1lLlVua25vd24sITApO3JldHVybiBuLl9oYXJkd2FyZVRleHR1cmU9cixuLmlzUmVhZHk9ITAsbn0sZS5wcm90b3R5cGUuX3VwbG9hZEltYWdlVG9UZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEpe249PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPTApO3ZhciBzPXRoaXMuX2dsLG89dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZSh0LnR5cGUpLHU9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQodC5mb3JtYXQpLGY9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQodC50eXBlLHUpLGw9dC5pc0N1YmU/cy5URVhUVVJFX0NVQkVfTUFQOnMuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGwsdCwhMCksdGhpcy5fdW5wYWNrRmxpcFkodC5pbnZlcnRZKTt2YXIgaD1zLlRFWFRVUkVfMkQ7dC5pc0N1YmUmJihoPXMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK24pLHMudGV4SW1hZ2UyRChoLGEsZix1LG8sciksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShsLG51bGwsITApfSxlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlQ29tcGFyaXNvbkZ1bmN0aW9uPWZ1bmN0aW9uKHQscil7aWYodGhpcy53ZWJHTFZlcnNpb249PT0xKXtrLkVycm9yKCJXZWJHTCAxIGRvZXMgbm90IHN1cHBvcnQgdGV4dHVyZSBjb21wYXJpc29uLiIpO3JldHVybn12YXIgbj10aGlzLl9nbDt0LmlzQ3ViZT8odGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLHQsITApLHI9PT0wPyhuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5OT05FKSk6KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyxyKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpKToodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELHQsITApLHI9PT0wPyhuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5OT05FKSk6KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyxyKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpKSx0Ll9jb21wYXJpc29uRnVuY3Rpb249cn0sZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2VzQnVmZmVyPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbnN0YW5jZSBidWZmZXIiKTt2YXIgbj1uZXcgWnQocik7cmV0dXJuIG4uY2FwYWNpdHk9dCx0aGlzLmJpbmRBcnJheUJ1ZmZlcihuKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksbi5yZWZlcmVuY2VzPTEsbn0sZS5wcm90b3R5cGUuZGVsZXRlSW5zdGFuY2VzQnVmZmVyPWZ1bmN0aW9uKHQpe3RoaXMuX2dsLmRlbGV0ZUJ1ZmZlcih0KX0sZS5wcm90b3R5cGUuX2NsaWVudFdhaXRBc3luYz1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MTApO3ZhciBhPXRoaXMuX2dsO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGY9YS5jbGllbnRXYWl0U3luYyh0LHIsMCk7aWYoZj09YS5XQUlUX0ZBSUxFRCl7bygpO3JldHVybn1pZihmPT1hLlRJTUVPVVRfRVhQSVJFRCl7c2V0VGltZW91dCh1LG4pO3JldHVybn1zKCl9O3UoKX0pfSxlLnByb3RvdHlwZS5fcmVhZFBpeGVsc0FzeW5jPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbjwyKXRocm93IG5ldyBFcnJvcigiX3JlYWRQaXhlbHNBc3luYyBvbmx5IHdvcmsgb24gV2ViR0wyKyIpO3ZhciBmPXRoaXMuX2dsLGw9Zi5jcmVhdGVCdWZmZXIoKTtmLmJpbmRCdWZmZXIoZi5QSVhFTF9QQUNLX0JVRkZFUixsKSxmLmJ1ZmZlckRhdGEoZi5QSVhFTF9QQUNLX0JVRkZFUix1LmJ5dGVMZW5ndGgsZi5TVFJFQU1fUkVBRCksZi5yZWFkUGl4ZWxzKHQscixuLGEscyxvLDApLGYuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpO3ZhciBoPWYuZmVuY2VTeW5jKGYuU1lOQ19HUFVfQ09NTUFORFNfQ09NUExFVEUsMCk7cmV0dXJuIGg/KGYuZmx1c2goKSx0aGlzLl9jbGllbnRXYWl0QXN5bmMoaCwwLDEwKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGYuZGVsZXRlU3luYyhoKSxmLmJpbmRCdWZmZXIoZi5QSVhFTF9QQUNLX0JVRkZFUixsKSxmLmdldEJ1ZmZlclN1YkRhdGEoZi5QSVhFTF9QQUNLX0JVRkZFUiwwLHUpLGYuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpLGYuZGVsZXRlQnVmZmVyKGwpLHV9KSk6bnVsbH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2Zvcih0aGlzLmhpZGVMb2FkaW5nVUkoKSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKTt0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOyl0aGlzLnBvc3RQcm9jZXNzZXNbMF0uZGlzcG9zZSgpO2Zvcih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJnRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5kaXNwb3NlKCk7dGhpcy5zY2VuZXMubGVuZ3RoOyl0aGlzLnNjZW5lc1swXS5kaXNwb3NlKCk7Zm9yKDt0aGlzLl92aXJ0dWFsU2NlbmVzLmxlbmd0aDspdGhpcy5fdmlydHVhbFNjZW5lc1swXS5kaXNwb3NlKCk7ZS5JbnN0YW5jZXMubGVuZ3RoPT09MSYmZS5hdWRpb0VuZ2luZSYmKGUuYXVkaW9FbmdpbmUuZGlzcG9zZSgpLGUuYXVkaW9FbmdpbmU9bnVsbCksdGhpcy5kaXNhYmxlVlIoKSx5ZSgpJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpKSxmcigpJiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3pmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibXNmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc3BvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpKSksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO3ZhciB0PWUuSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7dD49MCYmZS5JbnN0YW5jZXMuc3BsaWNlKHQsMSksdGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpfSxlLnByb3RvdHlwZS5fZGlzYWJsZVRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7IXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGV8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUubXNUb3VjaEFjdGlvbj0ibm9uZSIsdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJ0cmFuc3BhcmVudCIpfSxlLnByb3RvdHlwZS5kaXNwbGF5TG9hZGluZ1VJPWZ1bmN0aW9uKCl7aWYoeWUoKSl7dmFyIHQ9dGhpcy5sb2FkaW5nU2NyZWVuO3QmJnQuZGlzcGxheUxvYWRpbmdVSSgpfX0sZS5wcm90b3R5cGUuaGlkZUxvYWRpbmdVST1mdW5jdGlvbigpe2lmKHllKCkpe3ZhciB0PXRoaXMuX2xvYWRpbmdTY3JlZW47dCYmdC5oaWRlTG9hZGluZ1VJKCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvYWRpbmdTY3JlZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbG9hZGluZ1NjcmVlbiYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fbG9hZGluZ1NjcmVlbj1lLkRlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeSh0aGlzLl9yZW5kZXJpbmdDYW52YXMpKSx0aGlzLl9sb2FkaW5nU2NyZWVufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9hZGluZ1NjcmVlbj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ1VJVGV4dCIse3NldDpmdW5jdGlvbih0KXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJVGV4dD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ1VJQmFja2dyb3VuZENvbG9yIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3I9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVWaWRlb0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIil9LGUuX1JlcXVlc3RQb2ludGVybG9jaz1mdW5jdGlvbih0KXt0LnJlcXVlc3RQb2ludGVyTG9jaz10LnJlcXVlc3RQb2ludGVyTG9ja3x8dC5tc1JlcXVlc3RQb2ludGVyTG9ja3x8dC5tb3pSZXF1ZXN0UG9pbnRlckxvY2t8fHQud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrLHQucmVxdWVzdFBvaW50ZXJMb2NrJiYodC5yZXF1ZXN0UG9pbnRlckxvY2soKSx0LmZvY3VzKCkpfSxlLl9FeGl0UG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudDtkb2N1bWVudC5leGl0UG9pbnRlckxvY2s9ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrfHx0Lm1zRXhpdFBvaW50ZXJMb2NrfHx0Lm1vekV4aXRQb2ludGVyTG9ja3x8dC53ZWJraXRFeGl0UG9pbnRlckxvY2ssZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX0sZS5fUmVxdWVzdEZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dmFyIHI9dC5yZXF1ZXN0RnVsbHNjcmVlbnx8dC5tc1JlcXVlc3RGdWxsc2NyZWVufHx0LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVufHx0Lm1velJlcXVlc3RGdWxsU2NyZWVuO3ImJnIuY2FsbCh0KX0sZS5fRXhpdEZ1bGxzY3JlZW49ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudDtkb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOnQubW96Q2FuY2VsRnVsbFNjcmVlbj90Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTp0LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4/dC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk6dC5tc0NhbmNlbEZ1bGxTY3JlZW4mJnQubXNDYW5jZWxGdWxsU2NyZWVuKCl9LGUucHJvdG90eXBlLmdldEZvbnRPZmZzZXQ9ZnVuY3Rpb24odCl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3IuaW5uZXJIVE1MPSJIZyIsci5zZXRBdHRyaWJ1dGUoInN0eWxlIiwiZm9udDogIi5jb25jYXQodCwiICFpbXBvcnRhbnQiKSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLG4uc3R5bGUud2lkdGg9IjFweCIsbi5zdHlsZS5oZWlnaHQ9IjBweCIsbi5zdHlsZS52ZXJ0aWNhbEFsaWduPSJib3R0b20iO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIixhLmFwcGVuZENoaWxkKHIpLGEuYXBwZW5kQ2hpbGQobiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTt2YXIgcz0wLG89MDt0cnl7bz1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxuLnN0eWxlLnZlcnRpY2FsQWxpZ249ImJhc2VsaW5lIixzPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wfWZpbmFsbHl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKX1yZXR1cm57YXNjZW50OnMsaGVpZ2h0Om8sZGVzY2VudDpvLXN9fSxlLkFMUEhBX0RJU0FCTEU9MCxlLkFMUEhBX0FERD0xLGUuQUxQSEFfQ09NQklORT0yLGUuQUxQSEFfU1VCVFJBQ1Q9MyxlLkFMUEhBX01VTFRJUExZPTQsZS5BTFBIQV9NQVhJTUlaRUQ9NSxlLkFMUEhBX09ORU9ORT02LGUuQUxQSEFfUFJFTVVMVElQTElFRD03LGUuQUxQSEFfUFJFTVVMVElQTElFRF9QT1JURVJEVUZGPTgsZS5BTFBIQV9JTlRFUlBPTEFURT05LGUuQUxQSEFfU0NSRUVOTU9ERT0xMCxlLkRFTEFZTE9BRFNUQVRFX05PTkU9MCxlLkRFTEFZTE9BRFNUQVRFX0xPQURFRD0xLGUuREVMQVlMT0FEU1RBVEVfTE9BRElORz0yLGUuREVMQVlMT0FEU1RBVEVfTk9UTE9BREVEPTQsZS5ORVZFUj01MTIsZS5BTFdBWVM9NTE5LGUuTEVTUz01MTMsZS5FUVVBTD01MTQsZS5MRVFVQUw9NTE1LGUuR1JFQVRFUj01MTYsZS5HRVFVQUw9NTE4LGUuTk9URVFVQUw9NTE3LGUuS0VFUD03NjgwLGUuUkVQTEFDRT03NjgxLGUuSU5DUj03NjgyLGUuREVDUj03NjgzLGUuSU5WRVJUPTUzODYsZS5JTkNSX1dSQVA9MzQwNTUsZS5ERUNSX1dSQVA9MzQwNTYsZS5URVhUVVJFX0NMQU1QX0FERFJFU1NNT0RFPTAsZS5URVhUVVJFX1dSQVBfQUREUkVTU01PREU9MSxlLlRFWFRVUkVfTUlSUk9SX0FERFJFU1NNT0RFPTIsZS5URVhUVVJFRk9STUFUX0FMUEhBPTAsZS5URVhUVVJFRk9STUFUX0xVTUlOQU5DRT0xLGUuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0VfQUxQSEE9MixlLlRFWFRVUkVGT1JNQVRfUkdCPTQsZS5URVhUVVJFRk9STUFUX1JHQkE9NSxlLlRFWFRVUkVGT1JNQVRfUkVEPTYsZS5URVhUVVJFRk9STUFUX1I9NixlLlRFWFRVUkVGT1JNQVRfUkc9NyxlLlRFWFRVUkVGT1JNQVRfUkVEX0lOVEVHRVI9OCxlLlRFWFRVUkVGT1JNQVRfUl9JTlRFR0VSPTgsZS5URVhUVVJFRk9STUFUX1JHX0lOVEVHRVI9OSxlLlRFWFRVUkVGT1JNQVRfUkdCX0lOVEVHRVI9MTAsZS5URVhUVVJFRk9STUFUX1JHQkFfSU5URUdFUj0xMSxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEU9MCxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVD0wLGUuVEVYVFVSRVRZUEVfRkxPQVQ9MSxlLlRFWFRVUkVUWVBFX0hBTEZfRkxPQVQ9MixlLlRFWFRVUkVUWVBFX0JZVEU9MyxlLlRFWFRVUkVUWVBFX1NIT1JUPTQsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVD01LGUuVEVYVFVSRVRZUEVfSU5UPTYsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRFR0VSPTcsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF80XzRfNF80PTgsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzVfNV8xPTksZS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzZfNT0xMCxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVj0xMSxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yNF84PTEyLGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVj0xMyxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF81XzlfOV85X1JFVj0xNCxlLlRFWFRVUkVUWVBFX0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVj0xNSxlLlRFWFRVUkVfTkVBUkVTVF9TQU1QTElOR01PREU9MSxlLlRFWFRVUkVfQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsZS5URVhUVVJFX1RSSUxJTkVBUl9TQU1QTElOR01PREU9MyxlLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LGUuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsZS5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsZS5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsZS5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxlLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsZS5URVhUVVJFX05FQVJFU1RfTElORUFSPTcsZS5URVhUVVJFX05FQVJFU1RfTkVBUkVTVD0xLGUuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksZS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxlLlRFWFRVUkVfTElORUFSX0xJTkVBUj0yLGUuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVD0xMixlLlRFWFRVUkVfRVhQTElDSVRfTU9ERT0wLGUuVEVYVFVSRV9TUEhFUklDQUxfTU9ERT0xLGUuVEVYVFVSRV9QTEFOQVJfTU9ERT0yLGUuVEVYVFVSRV9DVUJJQ19NT0RFPTMsZS5URVhUVVJFX1BST0pFQ1RJT05fTU9ERT00LGUuVEVYVFVSRV9TS1lCT1hfTU9ERT01LGUuVEVYVFVSRV9JTlZDVUJJQ19NT0RFPTYsZS5URVhUVVJFX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTcsZS5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsZS5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksZS5TQ0FMRU1PREVfRkxPT1I9MSxlLlNDQUxFTU9ERV9ORUFSRVNUPTIsZS5TQ0FMRU1PREVfQ0VJTElORz0zLGUuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnk9bnVsbCxlLl9SZW5kZXJQYXNzSWRDb3VudGVyPTAsZX0oZmUpO2ZlLnByb3RvdHlwZS5fZGVidWdQdXNoR3JvdXA9ZnVuY3Rpb24oaSxlKXt9LGZlLnByb3RvdHlwZS5fZGVidWdQb3BHcm91cD1mdW5jdGlvbihpKXt9LGZlLnByb3RvdHlwZS5fZGVidWdJbnNlcnRNYXJrZXI9ZnVuY3Rpb24oaSxlKXt9LGZlLnByb3RvdHlwZS5fZGVidWdGbHVzaFBlbmRpbmdDb21tYW5kcz1mdW5jdGlvbigpe307ZnVuY3Rpb24gem4oaSl7cmV0dXJuIG5ldyBoZShpLCEwLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsc3RlbmNpbDohMH0pfXZhciBiZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1yfXJldHVybiBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisifSJ9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJDb2xvcjMifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucioyNTV8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5nKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmIqMjU1fDApLGV9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS50b0NvbG9yND1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MSksbmV3IEVlKHRoaXMucix0aGlzLmcsdGhpcy5iLGUpfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMucix0aGlzLmcsdGhpcy5iXX0saS5wcm90b3R5cGUudG9MdW1pbmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yKi4zK3RoaXMuZyouNTkrdGhpcy5iKi4xMX0saS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iKX0saS5wcm90b3R5cGUubXVsdGlwbHlUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmJ9LGkucHJvdG90eXBlLmVxdWFsc0Zsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMucj09PWUmJnRoaXMuZz09PXQmJnRoaXMuYj09PXJ9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdGhpc30saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0aGlzfSxpLnByb3RvdHlwZS5jbGFtcFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MSksci5yPXouQ2xhbXAodGhpcy5yLGUsdCksci5nPXouQ2xhbXAodGhpcy5nLGUsdCksci5iPXouQ2xhbXAodGhpcy5iLGUsdCksdGhpc30saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYil9LGkucHJvdG90eXBlLmFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnIrZS5yLHQuZz10aGlzLmcrZS5nLHQuYj10aGlzLmIrZS5iLHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnItZS5yLHRoaXMuZy1lLmcsdGhpcy5iLWUuYil9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdGhpc30saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5yLHRoaXMuZyx0aGlzLmIpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnJvdW5kKHRoaXMucioyNTUpLHQ9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxyPU1hdGgucm91bmQodGhpcy5iKjI1NSk7cmV0dXJuIiMiK3ouVG9IZXgoZSkrei5Ub0hleCh0KSt6LlRvSGV4KHIpfSxpLnByb3RvdHlwZS50b0xpbmVhclNwYWNlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvSFNWPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9IU1ZUb1JlZihlKSxlfSxpLnByb3RvdHlwZS50b0hTVlRvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucixyPXRoaXMuZyxuPXRoaXMuYixhPU1hdGgubWF4KHQscixuKSxzPU1hdGgubWluKHQscixuKSxvPTAsdT0wLGY9YSxsPWEtczthIT09MCYmKHU9bC9hKSxhIT1zJiYoYT09dD8obz0oci1uKS9sLHI8biYmKG8rPTYpKTphPT1yP289KG4tdCkvbCsyOmE9PW4mJihvPSh0LXIpL2wrNCksbyo9NjApLGUucj1vLGUuZz11LGUuYj1mfSxpLnByb3RvdHlwZS50b0xpbmVhclNwYWNlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIscGUpLGUuZz1NYXRoLnBvdyh0aGlzLmcscGUpLGUuYj1NYXRoLnBvdyh0aGlzLmIscGUpLHRoaXN9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLGFlKSxlLmc9TWF0aC5wb3codGhpcy5nLGFlKSxlLmI9TWF0aC5wb3codGhpcy5iLGFlKSx0aGlzfSxpLkhTVnRvUkdCVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9cip0LHM9ZS82MCxvPWEqKDEtTWF0aC5hYnMocyUyLTEpKSx1PTAsZj0wLGw9MDtzPj0wJiZzPD0xPyh1PWEsZj1vKTpzPj0xJiZzPD0yPyh1PW8sZj1hKTpzPj0yJiZzPD0zPyhmPWEsbD1vKTpzPj0zJiZzPD00PyhmPW8sbD1hKTpzPj00JiZzPD01Pyh1PW8sbD1hKTpzPj01JiZzPD02JiYodT1hLGw9byk7dmFyIGg9ci1hO24uc2V0KHUraCxmK2gsbCtoKX0saS5Gcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09NylyZXR1cm4gbmV3IGkoMCwwLDApO3ZhciB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLHI9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNiksbj1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KTtyZXR1cm4gaS5Gcm9tSW50cyh0LHIsbil9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdLGVbdCsyXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PTApLHIucj1lW3RdLHIuZz1lW3QrMV0sci5iPWVbdCsyXX0saS5Gcm9tSW50cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBpKGUvMjU1LHQvMjU1LHIvMjU1KX0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe24ucj1lLnIrKHQuci1lLnIpKnIsbi5nPWUuZysodC5nLWUuZykqcixuLmI9ZS5iKyh0LmItZS5iKSpyfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLnIqdStyLnIqZit0LnIqbCtuLnIqaCxkPWUuZyp1K3IuZypmK3QuZypsK24uZypoLHA9ZS5iKnUrci5iKmYrdC5iKmwrbi5iKmg7cmV0dXJuIG5ldyBpKGMsZCxwKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuQmxhY2soKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxyLG4sYSxzKSxzfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWEqYTtzLnI9KG8tYSkqNiplLnIrKDMqby00KmErMSkqdC5yKygtbythKSo2KnIucisoMypvLTIqYSkqbi5yLHMuZz0oby1hKSo2KmUuZysoMypvLTQqYSsxKSp0LmcrKC1vK2EpKjYqci5nKygzKm8tMiphKSpuLmcscy5iPShvLWEpKjYqZS5iKygzKm8tNCphKzEpKnQuYisoLW8rYSkqNipyLmIrKDMqby0yKmEpKm4uYn0saS5SZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwwLDApfSxpLkdyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMSwwKX0saS5CbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwxKX0saS5CbGFjaz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJCbGFja1JlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0JsYWNrUmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5XaGl0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDEsMSl9LGkuUHVycGxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC41LDAsLjUpfSxpLk1hZ2VudGE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwwLDEpfSxpLlllbGxvdz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDEsMCl9LGkuR3JheT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSguNSwuNSwuNSl9LGkuVGVhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDEsMSl9LGkuUmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpKX0saS5fQmxhY2tSZWFkT25seT1pLkJsYWNrKCksaX0oKSxFZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7ZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MSksdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPXIsdGhpcy5hPW59cmV0dXJuIGkucHJvdG90eXBlLmFkZEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucis9ZS5yLHRoaXMuZys9ZS5nLHRoaXMuYis9ZS5iLHRoaXMuYSs9ZS5hLHRoaXN9LGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hXX0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsZVt0KzNdPXRoaXMuYSx0aGlzfSxpLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksaS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc30saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5iJiZ0aGlzLmE9PT1lLmF9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yK2Uucix0aGlzLmcrZS5nLHRoaXMuYitlLmIsdGhpcy5hK2UuYSl9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnItZS5yLHRoaXMuZy1lLmcsdGhpcy5iLWUuYix0aGlzLmEtZS5hKX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yLWUucix0Lmc9dGhpcy5nLWUuZyx0LmI9dGhpcy5iLWUuYix0LmE9dGhpcy5hLWUuYSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUsdGhpcy5hKmUpfSxpLnByb3RvdHlwZS5zY2FsZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHQuYT10aGlzLmEqZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHQuYSs9dGhpcy5hKmUsdGhpc30saS5wcm90b3R5cGUuY2xhbXBUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTEpLHIucj16LkNsYW1wKHRoaXMucixlLHQpLHIuZz16LkNsYW1wKHRoaXMuZyxlLHQpLHIuYj16LkNsYW1wKHRoaXMuYixlLHQpLHIuYT16LkNsYW1wKHRoaXMuYSxlLHQpLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYix0aGlzLmEqZS5hKX0saS5wcm90b3R5cGUubXVsdGlwbHlUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0LmE9dGhpcy5hKmUuYSx0fSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisiIEE6Iit0aGlzLmErIn0ifSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ29sb3I0In0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmEqMjU1fDApLGV9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSl9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzLmE9ZS5hLHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cix0aGlzLmE9bix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LHIsbil9LGkucHJvdG90eXBlLnRvSGV4U3RyaW5nPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPSExKTt2YXIgdD1NYXRoLnJvdW5kKHRoaXMucioyNTUpLHI9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxuPU1hdGgucm91bmQodGhpcy5iKjI1NSk7aWYoZSlyZXR1cm4iIyIrei5Ub0hleCh0KSt6LlRvSGV4KHIpK3ouVG9IZXgobik7dmFyIGE9TWF0aC5yb3VuZCh0aGlzLmEqMjU1KTtyZXR1cm4iIyIrei5Ub0hleCh0KSt6LlRvSGV4KHIpK3ouVG9IZXgobikrei5Ub0hleChhKX0saS5wcm90b3R5cGUudG9MaW5lYXJTcGFjZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZihlKSxlfSxpLnByb3RvdHlwZS50b0xpbmVhclNwYWNlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIscGUpLGUuZz1NYXRoLnBvdyh0aGlzLmcscGUpLGUuYj1NYXRoLnBvdyh0aGlzLmIscGUpLGUuYT10aGlzLmEsdGhpc30saS5wcm90b3R5cGUudG9HYW1tYVNwYWNlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9HYW1tYVNwYWNlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsYWUpLGUuZz1NYXRoLnBvdyh0aGlzLmcsYWUpLGUuYj1NYXRoLnBvdyh0aGlzLmIsYWUpLGUuYT10aGlzLmEsdGhpc30saS5Gcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09OSYmZS5sZW5ndGghPT03KXJldHVybiBuZXcgaSgwLDAsMCwwKTt2YXIgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxyPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLG49cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNiksYT1lLmxlbmd0aD09PTk/cGFyc2VJbnQoZS5zdWJzdHJpbmcoNyw5KSwxNik6MjU1O3JldHVybiBpLkZyb21JbnRzKHQscixuLGEpfSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwLDApO3JldHVybiBpLkxlcnBUb1JlZihlLHQscixuKSxufSxpLkxlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXtuLnI9ZS5yKyh0LnItZS5yKSpyLG4uZz1lLmcrKHQuZy1lLmcpKnIsbi5iPWUuYisodC5iLWUuYikqcixuLmE9ZS5hKyh0LmEtZS5hKSpyfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLnIqdStyLnIqZit0LnIqbCtuLnIqaCxkPWUuZyp1K3IuZypmK3QuZypsK24uZypoLHA9ZS5iKnUrci5iKmYrdC5iKmwrbi5iKmgsZz1lLmEqdStyLmEqZit0LmEqbCtuLmEqaDtyZXR1cm4gbmV3IGkoYyxkLHAsZyl9LGkuSGVybWl0ZTFzdERlcml2YXRpdmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uZXcgaTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxyLG4sYSxzKSxzfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWEqYTtzLnI9KG8tYSkqNiplLnIrKDMqby00KmErMSkqdC5yKygtbythKSo2KnIucisoMypvLTIqYSkqbi5yLHMuZz0oby1hKSo2KmUuZysoMypvLTQqYSsxKSp0LmcrKC1vK2EpKjYqci5nKygzKm8tMiphKSpuLmcscy5iPShvLWEpKjYqZS5iKygzKm8tNCphKzEpKnQuYisoLW8rYSkqNipyLmIrKDMqby0yKmEpKm4uYixzLmE9KG8tYSkqNiplLmErKDMqby00KmErMSkqdC5hKygtbythKSo2KnIuYSsoMypvLTIqYSkqbi5hfSxpLkZyb21Db2xvcjM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MSksbmV3IGkoZS5yLGUuZyxlLmIsdCl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfSxpLkZyb21BcnJheVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD0wKSxyLnI9ZVt0XSxyLmc9ZVt0KzFdLHIuYj1lW3QrMl0sci5hPWVbdCszXX0saS5Gcm9tSW50cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkoZS8yNTUsdC8yNTUsci8yNTUsbi8yNTUpfSxpLkNoZWNrQ29sb3JzND1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoPT09dCozKXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bis9Myl7dmFyIGE9bi8zKjQ7clthXT1lW25dLHJbYSsxXT1lW24rMV0sclthKzJdPWVbbisyXSxyW2ErM109MX1yZXR1cm4gcn1yZXR1cm4gZX0saX0oKSxocj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQ29sb3IzPUFlLkJ1aWxkQXJyYXkoMyxiZS5CbGFjayksaS5Db2xvcjQ9QWUuQnVpbGRBcnJheSgzLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFZSgwLDAsMCwwKX0pLGl9KCk7d2UoIkJBQllMT04uQ29sb3IzIixiZSksd2UoIkJBQllMT04uQ29sb3I0IixFZSk7dmFyIFJpPWZ1bmN0aW9uKGksZSl7cmV0dXJuIWl8fGkuZ2V0Q2xhc3NOYW1lJiZpLmdldENsYXNzTmFtZSgpPT09Ik1lc2giP251bGw6aS5nZXRDbGFzc05hbWUmJmkuZ2V0Q2xhc3NOYW1lKCk9PT0iU3ViTWVzaCI/aS5jbG9uZShlKTppLmNsb25lP2kuY2xvbmUoKTpudWxsfTtmdW5jdGlvbiBHbihpKXt2YXIgZT1bXTtkbyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuaW5kZXhPZih0KT09PS0xJiZlLnB1c2godCl9KTt3aGlsZShpPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKSk7cmV0dXJuIGV9dmFyIHpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5EZWVwQ29weT1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9R24oZSkscz0wLG89YTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTtpZighKHVbMF09PT0iXyImJighbnx8bi5pbmRleE9mKHUpPT09LTEpKSYmIXUuZW5kc1dpdGgoIk9ic2VydmFibGUiKSYmIShyJiZyLmluZGV4T2YodSkhPT0tMSkpe3ZhciBmPWVbdV0sbD10eXBlb2YgZjtpZihsIT09ImZ1bmN0aW9uIil0cnl7aWYobD09PSJvYmplY3QiKWlmKGYgaW5zdGFuY2VvZiBBcnJheSl7aWYodFt1XT1bXSxmLmxlbmd0aD4wKWlmKHR5cGVvZiBmWzBdPT0ib2JqZWN0Iilmb3IodmFyIGg9MDtoPGYubGVuZ3RoO2grKyl7dmFyIGM9UmkoZltoXSx0KTt0W3VdLmluZGV4T2YoYyk9PT0tMSYmdFt1XS5wdXNoKGMpfWVsc2UgdFt1XT1mLnNsaWNlKDApfWVsc2UgdFt1XT1SaShmLHQpO2Vsc2UgdFt1XT1mfWNhdGNoKGQpe2suV2FybihkLm1lc3NhZ2UpfX19fSxpfSgpO2Z1bmN0aW9uIFhuKCl7cmV0dXJuIHR5cGVvZiBfbmF0aXZlPCJ1IiYmX25hdGl2ZS5YTUxIdHRwUmVxdWVzdD9uZXcgX25hdGl2ZS5YTUxIdHRwUmVxdWVzdDpuZXcgWE1MSHR0cFJlcXVlc3R9dmFyIGNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX3hocj1YbigpLHRoaXMuX3JlcXVlc3RVUkw9IiJ9cmV0dXJuIGkucHJvdG90eXBlLl9pbmplY3RDdXN0b21SZXF1ZXN0SGVhZGVycz1mdW5jdGlvbigpe2lmKCF0aGlzLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnModGhpcy5fcmVxdWVzdFVSTCkpZm9yKHZhciBlIGluIGkuQ3VzdG9tUmVxdWVzdEhlYWRlcnMpe3ZhciB0PWkuQ3VzdG9tUmVxdWVzdEhlYWRlcnNbZV07dCYmdGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoZSx0KX19LGkucHJvdG90eXBlLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuU2tpcFJlcXVlc3RNb2RpZmljYXRpb25Gb3JCYWJ5bG9uQ0ROJiYoZS5pbmNsdWRlcygicHJldmlldy5iYWJ5bG9uanMuY29tIil8fGUuaW5jbHVkZXMoImNkbi5iYWJ5bG9uanMuY29tIikpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9ucHJvZ3Jlc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLm9ucHJvZ3Jlc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLl94aHIub25wcm9ncmVzcz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVhZHlTdGF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIucmVhZHlTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0YXR1cyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIuc3RhdHVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RhdHVzVGV4dCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIuc3RhdHVzVGV4dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlc3BvbnNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlc3BvbnNlVVJMIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVVSTH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlc3BvbnNlVGV4dCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VUZXh0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2VUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVR5cGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl94aHIucmVzcG9uc2VUeXBlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0aW1lb3V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci50aW1lb3V0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feGhyLnRpbWVvdXQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl94aHIuYWRkRXZlbnRMaXN0ZW5lcihlLHQscil9LGkucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3hoci5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxyKX0saS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLl94aHIuYWJvcnQoKX0saS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXtpLkN1c3RvbVJlcXVlc3RIZWFkZXJzJiZ0aGlzLl9pbmplY3RDdXN0b21SZXF1ZXN0SGVhZGVycygpLHRoaXMuX3hoci5zZW5kKGUpfSxpLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj1pLkN1c3RvbVJlcXVlc3RNb2RpZmllcnM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYodGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHQpKXJldHVybjthKHRoaXMuX3hocix0KX1yZXR1cm4gdD10LnJlcGxhY2UoImZpbGU6aHR0cDoiLCJodHRwOiIpLHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHBzOiIsImh0dHBzOiIpLHRoaXMuX3JlcXVlc3RVUkw9dCx0aGlzLl94aHIub3BlbihlLHQsITApfSxpLnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKGUsdCl7dGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoZSx0KX0saS5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3hoci5nZXRSZXNwb25zZUhlYWRlcihlKX0saS5DdXN0b21SZXF1ZXN0SGVhZGVycz17fSxpLkN1c3RvbVJlcXVlc3RNb2RpZmllcnM9bmV3IEFycmF5LGkuU2tpcFJlcXVlc3RNb2RpZmljYXRpb25Gb3JCYWJ5bG9uQ0ROPSEwLGl9KCksZHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkZpbGVzVG9Mb2FkPXt9LGl9KCksSG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkV4cG9uZW50aWFsQmFja29mZj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dm9pZCAwJiYoZT0zKSx0PT09dm9pZCAwJiYodD01MDApLGZ1bmN0aW9uKHIsbixhKXtyZXR1cm4gbi5zdGF0dXMhPT0wfHxhPj1lfHxyLmluZGV4T2YoImZpbGU6IikhPT0tMT8tMTpNYXRoLnBvdygyLGEpKnR9fSxpfSgpLCR0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5fc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LHIpe3JldHVybiB0Ll9fcHJvdG9fXz1yLHR9LGV9KEVycm9yKSxDdD17TWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcjowLFVuc3VwcG9ydGVkVGV4dHVyZUVycm9yOjFlMyxHTFRGTG9hZGVyVW5leHBlY3RlZE1hZ2ljRXJyb3I6MmUzLFNjZW5lTG9hZGVyRXJyb3I6M2UzLExvYWRGaWxlRXJyb3I6NGUzLFJlcXVlc3RGaWxlRXJyb3I6NDAwMSxSZWFkRmlsZUVycm9yOjQwMDJ9LHh0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt2YXIgYT1pLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gYS5lcnJvckNvZGU9cixhLmlubmVyRXJyb3I9bixhLm5hbWU9IlJ1bnRpbWVFcnJvciIsJHQuX3NldFByb3RvdHlwZU9mKGEsZS5wcm90b3R5cGUpLGF9cmV0dXJuIGV9KCR0KSxQaT1mdW5jdGlvbihpKXtmb3IodmFyIGU9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89Iix0PSIiLHIsbixhLHMsbyx1LGYsbD0wLGg9QXJyYXlCdWZmZXIuaXNWaWV3KGkpP25ldyBVaW50OEFycmF5KGkuYnVmZmVyLGkuYnl0ZU9mZnNldCxpLmJ5dGVMZW5ndGgpOm5ldyBVaW50OEFycmF5KGkpO2w8aC5sZW5ndGg7KXI9aFtsKytdLG49bDxoLmxlbmd0aD9oW2wrK106TnVtYmVyLk5hTixhPWw8aC5sZW5ndGg/aFtsKytdOk51bWJlci5OYU4scz1yPj4yLG89KHImMyk8PDR8bj4+NCx1PShuJjE1KTw8MnxhPj42LGY9YSY2Myxpc05hTihuKT91PWY9NjQ6aXNOYU4oYSkmJihmPTY0KSx0Kz1lLmNoYXJBdChzKStlLmNoYXJBdChvKStlLmNoYXJBdCh1KStlLmNoYXJBdChmKTtyZXR1cm4gdH0sQ2k9ZnVuY3Rpb24oaSl7cmV0dXJuIGF0b2IoaSl9LGpuPWZ1bmN0aW9uKGkpe2Zvcih2YXIgZT1DaShpKSx0PWUubGVuZ3RoLHI9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQpKSxuPTA7bjx0O24rKylyW25dPWUuY2hhckNvZGVBdChuKTtyZXR1cm4gci5idWZmZXJ9LHByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5TZXRJbW1lZGlhdGU9ZnVuY3Rpb24oZSl7eWUoKSYmd2luZG93LnNldEltbWVkaWF0ZT93aW5kb3cuc2V0SW1tZWRpYXRlKGUpOnNldFRpbWVvdXQoZSwxKX0saX0oKSxLbj1uZXcgUmVnRXhwKC9eZGF0YTooW14sXStcL1teLF0rKT87YmFzZTY0LC9pKSx4aT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQsQ3QuTG9hZEZpbGVFcnJvcil8fHRoaXM7cmV0dXJuIG4ubmFtZT0iTG9hZEZpbGVFcnJvciIsJHQuX3NldFByb3RvdHlwZU9mKG4sZS5wcm90b3R5cGUpLHIgaW5zdGFuY2VvZiBjcj9uLnJlcXVlc3Q9cjpuLmZpbGU9cixufXJldHVybiBlfSh4dCksRGk9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LEN0LlJlcXVlc3RGaWxlRXJyb3IpfHx0aGlzO3JldHVybiBuLnJlcXVlc3Q9cixuLm5hbWU9IlJlcXVlc3RGaWxlRXJyb3IiLCR0Ll9zZXRQcm90b3R5cGVPZihuLGUucHJvdG90eXBlKSxufXJldHVybiBlfSh4dCksWW49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LEN0LlJlYWRGaWxlRXJyb3IpfHx0aGlzO3JldHVybiBuLmZpbGU9cixuLm5hbWU9IlJlYWRGaWxlRXJyb3IiLCR0Ll9zZXRQcm90b3R5cGVPZihuLGUucHJvdG90eXBlKSxufXJldHVybiBlfSh4dCksUmU9e0RlZmF1bHRSZXRyeVN0cmF0ZWd5OkhuLkV4cG9uZW50aWFsQmFja29mZigpLEJhc2VVcmw6IiIsQ29yc0JlaGF2aW9yOiJhbm9ueW1vdXMiLFByZXByb2Nlc3NVcmw6ZnVuY3Rpb24oaSl7cmV0dXJuIGl9fSxJaT1mdW5jdGlvbihpKXtyZXR1cm4gaT1pLnJlcGxhY2UoLyMvZ20sIiUyMyIpLGl9LEdyPWZ1bmN0aW9uKGksZSl7aWYoIShpJiZpLmluZGV4T2YoImRhdGE6Iik9PT0wKSYmUmUuQ29yc0JlaGF2aW9yKWlmKHR5cGVvZiBSZS5Db3JzQmVoYXZpb3I9PSJzdHJpbmcifHxSZS5Db3JzQmVoYXZpb3IgaW5zdGFuY2VvZiBTdHJpbmcpZS5jcm9zc09yaWdpbj1SZS5Db3JzQmVoYXZpb3I7ZWxzZXt2YXIgdD1SZS5Db3JzQmVoYXZpb3IoaSk7dCYmKGUuY3Jvc3NPcmlnaW49dCl9fSxYcj1mdW5jdGlvbihpLGUsdCxyLG4sYSl7dmFyIHM7bj09PXZvaWQgMCYmKG49IiIpO3ZhciBvLHU9ITE7aSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcoaSk/dHlwZW9mIEJsb2I8InUiPyhvPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2ldLHt0eXBlOm59KSksdT0hMCk6bz0iZGF0YToiLmNvbmNhdChuLCI7YmFzZTY0LCIpK1BpKGkpOmkgaW5zdGFuY2VvZiBCbG9iPyhvPVVSTC5jcmVhdGVPYmplY3RVUkwoaSksdT0hMCk6KG89SWkoaSksbz1SZS5QcmVwcm9jZXNzVXJsKGkpKTt2YXIgZj1yZS5MYXN0Q3JlYXRlZEVuZ2luZSxsPWZ1bmN0aW9uKHkpe2lmKHQpe3ZhciBFPW98fGkudG9TdHJpbmcoKTt0KCJFcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCBpbWFnZTogIi5jb25jYXQoRS5pbmRleE9mKCJodHRwIik9PT0wfHxFLmxlbmd0aDw9MTI4P0U6RS5zbGljZSgwLDEyOCkrIi4uLiIpLHkpfX07aWYodHlwZW9mIEltYWdlPiJ1Inx8KHM9Zj09bnVsbD92b2lkIDA6Zi5fZmVhdHVyZXMuZm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudCkhPT1udWxsJiZzIT09dm9pZCAwJiZzKXJldHVybiBEdChvLGZ1bmN0aW9uKHkpe2YuY3JlYXRlSW1hZ2VCaXRtYXAobmV3IEJsb2IoW3ldLHt0eXBlOm59KSxidCh7cHJlbXVsdGlwbHlBbHBoYToibm9uZSJ9LGEpKS50aGVuKGZ1bmN0aW9uKEUpe2UoRSksdSYmVVJMLnJldm9rZU9iamVjdFVSTChvKX0pLmNhdGNoKGZ1bmN0aW9uKEUpe3QmJnQoIkVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAiK2ksRSl9KX0sdm9pZCAwLHJ8fHZvaWQgMCwhMCxmdW5jdGlvbih5LEUpe2woRSl9KSxudWxsO3ZhciBoPW5ldyBJbWFnZTtHcihvLGgpO3ZhciBjPWZ1bmN0aW9uKCl7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixjKSxoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixkKSxlKGgpLHUmJmguc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKGguc3JjKX0sZD1mdW5jdGlvbih5KXtoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGMpLGgucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGwoeSksdSYmaC5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwoaC5zcmMpfTtoLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGMpLGguYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpO3ZhciBwPWZ1bmN0aW9uKCl7aC5zcmM9b30sZz1mdW5jdGlvbigpe3ImJnIubG9hZEltYWdlKG8saCl9O2lmKG8uc3Vic3RyKDAsNSkhPT0iYmxvYjoiJiZvLnN1YnN0cigwLDUpIT09ImRhdGE6IiYmciYmci5lbmFibGVUZXh0dXJlc09mZmxpbmUpci5vcGVuKGcscCk7ZWxzZXtpZihvLmluZGV4T2YoImZpbGU6IikhPT0tMSl7dmFyIF89ZGVjb2RlVVJJQ29tcG9uZW50KG8uc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO2lmKGRyLkZpbGVzVG9Mb2FkW19dKXt0cnl7dmFyIHY9dm9pZCAwO3RyeXt2PVVSTC5jcmVhdGVPYmplY3RVUkwoZHIuRmlsZXNUb0xvYWRbX10pfWNhdGNoe3Y9VVJMLmNyZWF0ZU9iamVjdFVSTChkci5GaWxlc1RvTG9hZFtfXSl9aC5zcmM9dix1PSEwfWNhdGNoe2guc3JjPSIifXJldHVybiBofX1wKCl9cmV0dXJuIGh9LEp0PWZ1bmN0aW9uKGksZSx0LHIsbil7dmFyIGE9bmV3IEZpbGVSZWFkZXIscz17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IE8sYWJvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hYm9ydCgpfX07cmV0dXJuIGEub25sb2FkZW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHMub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMpfSxuJiYoYS5vbmVycm9yPWZ1bmN0aW9uKCl7bihuZXcgWW4oIlVuYWJsZSB0byByZWFkICIuY29uY2F0KGkubmFtZSksaSkpfSksYS5vbmxvYWQ9ZnVuY3Rpb24obyl7ZShvLnRhcmdldC5yZXN1bHQpfSx0JiYoYS5vbnByb2dyZXNzPXQpLHI/YS5yZWFkQXNBcnJheUJ1ZmZlcihpKTphLnJlYWRBc1RleHQoaSksc30sRHQ9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7aWYoaS5uYW1lKXJldHVybiBKdChpLGUsdCxuLGE/ZnVuY3Rpb24oaCl7YSh2b2lkIDAsaCl9OnZvaWQgMCk7dmFyIG89aTtpZihvLmluZGV4T2YoImZpbGU6IikhPT0tMSl7dmFyIHU9ZGVjb2RlVVJJQ29tcG9uZW50KG8uc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO3UuaW5kZXhPZigiLi8iKT09PTAmJih1PXUuc3Vic3RyaW5nKDIpKTt2YXIgZj1kci5GaWxlc1RvTG9hZFt1XTtpZihmKXJldHVybiBKdChmLGUsdCxuLGE/ZnVuY3Rpb24oaCl7cmV0dXJuIGEodm9pZCAwLG5ldyB4aShoLm1lc3NhZ2UsaC5maWxlKSl9OnZvaWQgMCl9aWYoX3Iobykpe3ZhciBsPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fTt0cnl7ZShuP2pyKG8pOkZpKG8pKX1jYXRjaChoKXthP2Eodm9pZCAwLGgpOmsuRXJyb3IoaC5tZXNzYWdlfHwiRmFpbGVkIHRvIHBhcnNlIHRoZSBEYXRhIFVSTCIpfXJldHVybiBwci5TZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXtsLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKX0pLGx9cmV0dXJuIEhyKG8sZnVuY3Rpb24oaCxjKXtlKGgsYz9jLnJlc3BvbnNlVVJMOnZvaWQgMCl9LHQscixuLGE/ZnVuY3Rpb24oaCl7YShoLnJlcXVlc3QsbmV3IHhpKGgubWVzc2FnZSxoLnJlcXVlc3QpKX06dm9pZCAwLHMpfSxIcj1mdW5jdGlvbihpLGUsdCxyLG4sYSxzKXtpPUlpKGkpLGk9UmUuUHJlcHJvY2Vzc1VybChpKTt2YXIgbz1SZS5CYXNlVXJsK2ksdT0hMSxmPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiB1PSEwfX0sbD1mdW5jdGlvbigpe3ZhciBkPW5ldyBjcixwPW51bGwsZyxfPWZ1bmN0aW9uKCl7ZCYmKHQmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLGcmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZyksZC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIix2KSl9LHY9ZnVuY3Rpb24oKXtfKCksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZiksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5jbGVhcigpLHQ9dm9pZCAwLGc9bnVsbCx2PW51bGwsYT12b2lkIDAscz12b2lkIDAsZT12b2lkIDB9O2YuYWJvcnQ9ZnVuY3Rpb24oKXt1PSEwLHYmJnYoKSxkJiZkLnJlYWR5U3RhdGUhPT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkmJmQuYWJvcnQoKSxwIT09bnVsbCYmKGNsZWFyVGltZW91dChwKSxwPW51bGwpLGQ9bnVsbH07dmFyIHk9ZnVuY3Rpb24oUil7dmFyIE09Ui5tZXNzYWdlfHwiVW5rbm93biBlcnJvciI7YSYmZD9hKG5ldyBEaShNLGQpKTprLkVycm9yKE0pfSxFPWZ1bmN0aW9uKFIpe2lmKGQpe2lmKGQub3BlbigiR0VUIixvKSxzKXRyeXtzKGQpfWNhdGNoKE0pe3koTSk7cmV0dXJufW4mJihkLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0JiZkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSx2JiZkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLHYpLGc9ZnVuY3Rpb24oKXtpZighKHV8fCFkKSYmZC5yZWFkeVN0YXRlPT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpKXtpZihnJiZkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGcpLGQuc3RhdHVzPj0yMDAmJmQuc3RhdHVzPDMwMHx8ZC5zdGF0dXM9PT0wJiYoIXllKCl8fE9pKCkpKXt0cnl7ZSYmZShuP2QucmVzcG9uc2U6ZC5yZXNwb25zZVRleHQsZCl9Y2F0Y2goUyl7eShTKX1yZXR1cm59dmFyIE09UmUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k7aWYoTSl7dmFyIEM9TShvLGQsUik7aWYoQyE9PS0xKXtfKCksZD1uZXcgY3IscD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIEUoUisxKX0sQyk7cmV0dXJufX12YXIgQT1uZXcgRGkoIkVycm9yIHN0YXR1czogIitkLnN0YXR1cysiICIrZC5zdGF0dXNUZXh0KyIgLSBVbmFibGUgdG8gbG9hZCAiK28sZCk7YSYmYShBKX19LGQuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZyksZC5zZW5kKCl9fTtFKDApfTtpZihyJiZyLmVuYWJsZVNjZW5lT2ZmbGluZSl7dmFyIGg9ZnVuY3Rpb24oZCl7ZCYmZC5zdGF0dXM+NDAwP2EmJmEoZCk6bCgpfSxjPWZ1bmN0aW9uKCl7ciYmci5sb2FkRmlsZShSZS5CYXNlVXJsK2ksZnVuY3Rpb24oZCl7IXUmJmUmJmUoZCksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZil9LHQ/ZnVuY3Rpb24oZCl7IXUmJnQmJnQoZCl9OnZvaWQgMCxoLG4pfTtyLm9wZW4oYyxoKX1lbHNlIGwoKTtyZXR1cm4gZn0sT2k9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIGxvY2F0aW9uPCJ1IiYmbG9jYXRpb24ucHJvdG9jb2w9PT0iZmlsZToifSxfcj1mdW5jdGlvbihpKXtyZXR1cm4gS24udGVzdChpKX07ZnVuY3Rpb24ganIoaSl7cmV0dXJuIGpuKGkuc3BsaXQoIiwiKVsxXSl9dmFyIEZpPWZ1bmN0aW9uKGkpe3JldHVybiBDaShpLnNwbGl0KCIsIilbMV0pfSxabj1mdW5jdGlvbigpe2ZlLl9GaWxlVG9vbHNMb2FkSW1hZ2U9WHIsZmUuX0ZpbGVUb29sc0xvYWRGaWxlPUR0LFl0Ll9GaWxlVG9vbHNMb2FkRmlsZT1EdH07Wm4oKTt2YXIgZXIscW49ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvLHUsZil7ZXI9e0RlY29kZUJhc2U2NFVybFRvQmluYXJ5OmksRGVjb2RlQmFzZTY0VXJsVG9TdHJpbmc6ZSxEZWZhdWx0UmV0cnlTdHJhdGVneTp0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5LEJhc2VVcmw6dC5CYXNlVXJsLENvcnNCZWhhdmlvcjp0LkNvcnNCZWhhdmlvcixQcmVwcm9jZXNzVXJsOnQuUHJlcHJvY2Vzc1VybCxJc0Jhc2U2NERhdGFVcmw6cixJc0ZpbGVVUkw6bixMb2FkRmlsZTphLExvYWRJbWFnZTpzLFJlYWRGaWxlOm8sUmVxdWVzdEZpbGU6dSxTZXRDb3JzQmVoYXZpb3I6Zn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGVyLCJEZWZhdWx0UmV0cnlTdHJhdGVneSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5fSxzZXQ6ZnVuY3Rpb24obCl7dC5EZWZhdWx0UmV0cnlTdHJhdGVneT1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlciwiQmFzZVVybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkJhc2VVcmx9LHNldDpmdW5jdGlvbihsKXt0LkJhc2VVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXIsIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5QcmVwcm9jZXNzVXJsfSxzZXQ6ZnVuY3Rpb24obCl7dC5QcmVwcm9jZXNzVXJsPWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGVyLCJDb3JzQmVoYXZpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Db3JzQmVoYXZpb3J9LHNldDpmdW5jdGlvbihsKXt0LkNvcnNCZWhhdmlvcj1sfX0pfTtxbihqcixGaSxSZSxfcixPaSxEdCxYcixKdCxIcixHcik7dmFyIGdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5JbnN0YW50aWF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMmJnRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc1tlXSlyZXR1cm4gdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdO3ZhciB0PVJ0KGUpO2lmKHQpcmV0dXJuIHQ7ay5XYXJuKGUrIiBub3QgZm91bmQsIHlvdSBtYXkgaGF2ZSBtaXNzZWQgYW4gaW1wb3J0LiIpO2Zvcih2YXIgcj1lLnNwbGl0KCIuIiksbj13aW5kb3d8fHRoaXMsYT0wLHM9ci5sZW5ndGg7YTxzO2ErKyluPW5bclthXV07cmV0dXJuIHR5cGVvZiBuIT0iZnVuY3Rpb24iP251bGw6bn0saS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9LGl9KCk7ZnVuY3Rpb24gd2koKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oaSl7dmFyIGU9TWF0aC5yYW5kb20oKSoxNnwwLHQ9aT09PSJ4Ij9lOmUmM3w4O3JldHVybiB0LnRvU3RyaW5nKDE2KX0pfXZhciBfZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJlLkJhc2VVcmx9LHNldDpmdW5jdGlvbihlKXtSZS5CYXNlVXJsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJlLkRlZmF1bHRSZXRyeVN0cmF0ZWd5fSxzZXQ6ZnVuY3Rpb24oZSl7UmUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ29yc0JlaGF2aW9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJlLkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGUpe1JlLkNvcnNCZWhhdmlvcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJVc2VGYWxsYmFja1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcmUuVXNlRmFsbGJhY2tUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7cmUuVXNlRmFsbGJhY2tUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ3IuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc30sc2V0OmZ1bmN0aW9uKGUpe2dyLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiZmFsbGJhY2tUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJlLkZhbGxiYWNrVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKGUpe3JlLkZhbGxiYWNrVGV4dHVyZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuRmV0Y2hUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89TWF0aC5hYnMoZSkqciVyfDAsdT1NYXRoLmFicyh0KSpuJW58MCxmPShvK3UqcikqNDtzLnI9YVtmXS8yNTUscy5nPWFbZisxXS8yNTUscy5iPWFbZisyXS8yNTUscy5hPWFbZiszXS8yNTV9LGkuTWl4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSooMS1yKSt0KnJ9LGkuSW5zdGFudGlhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGdyLkluc3RhbnRpYXRlKGUpfSxpLlNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtwci5TZXRJbW1lZGlhdGUoZSl9LGkuSXNFeHBvbmVudE9mVHdvPWZ1bmN0aW9uKGUpe3ZhciB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX0saS5GbG9hdFJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmZyb3VuZD9NYXRoLmZyb3VuZChlKTooaS5fVG1wRmxvYXRBcnJheVswXT1lLGkuX1RtcEZsb2F0QXJyYXlbMF0pfSxpLkdldEZpbGVuYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gdDwwP2U6ZS5zdWJzdHJpbmcodCsxKX0saS5HZXRGb2xkZXJQYXRoPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gcjwwP3Q/ZToiIjplLnN1YnN0cmluZygwLHIrMSl9LGkuVG9EZWdyZWVzPWZ1bmN0aW9uKGUpe3JldHVybiBlKjE4MC9NYXRoLlBJfSxpLlRvUmFkaWFucz1mdW5jdGlvbihlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH0saS5NYWtlQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfSxpLkdldFBvaW50ZXJQcmVmaXg9ZnVuY3Rpb24oZSl7dmFyIHQ9InBvaW50ZXIiO3JldHVybiB5ZSgpJiYhd2luZG93LlBvaW50ZXJFdmVudCYmKHQ9Im1vdXNlIiksZS5fYmFkRGVza3RvcE9TJiYhZS5fYmFkT1MmJiEoZG9jdW1lbnQmJiJvbnRvdWNoZW5kImluIGRvY3VtZW50KSYmKHQ9Im1vdXNlIiksdH0saS5TZXRDb3JzQmVoYXZpb3I9ZnVuY3Rpb24oZSx0KXtHcihlLHQpfSxpLkNsZWFuVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuUHJlcHJvY2Vzc1VybH0sc2V0OmZ1bmN0aW9uKGUpe1JlLlByZXByb2Nlc3NVcmw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkxvYWRJbWFnZT1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIFhyKGUsdCxyLG4sYSxzKX0saS5Mb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIER0KGUsdCxyLG4sYSxzKX0saS5Mb2FkRmlsZUFzeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe0R0KGUsZnVuY3Rpb24oYSl7cihhKX0sdm9pZCAwLHZvaWQgMCx0LGZ1bmN0aW9uKGEscyl7bihzKX0pfSl9LGkuTG9hZFNjcmlwdD1mdW5jdGlvbihlLHQscixuKXtpZih5ZSgpKXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7cy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2phdmFzY3JpcHQiKSxzLnNldEF0dHJpYnV0ZSgic3JjIixlKSxuJiYocy5pZD1uKSxzLm9ubG9hZD1mdW5jdGlvbigpe3QmJnQoKX0scy5vbmVycm9yPWZ1bmN0aW9uKG8pe3ImJnIoIlVuYWJsZSB0byBsb2FkIHNjcmlwdCAnIi5jb25jYXQoZSwiJyIpLG8pfSxhLmFwcGVuZENoaWxkKHMpfX0saS5Mb2FkU2NyaXB0QXN5bmM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXt0LkxvYWRTY3JpcHQoZSxmdW5jdGlvbigpe3IoKX0sZnVuY3Rpb24oYSxzKXtuKHMpfSl9KX0saS5SZWFkRmlsZUFzRGF0YVVSTD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IEZpbGVSZWFkZXIsYT17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IE8sYWJvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hYm9ydCgpfX07cmV0dXJuIG4ub25sb2FkZW5kPWZ1bmN0aW9uKCl7YS5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9LG4ub25sb2FkPWZ1bmN0aW9uKHMpe3Qocy50YXJnZXQucmVzdWx0KX0sbi5vbnByb2dyZXNzPXIsbi5yZWFkQXNEYXRhVVJMKGUpLGF9LGkuUmVhZEZpbGU9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gSnQoZSx0LHIsbixhKX0saS5GaWxlQXNVUkw9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEJsb2IoW2VdKSxyPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwsbj1yLmNyZWF0ZU9iamVjdFVSTCh0KTtyZXR1cm4gbn0saS5Gb3JtYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MiksZS50b0ZpeGVkKHQpfSxpLkRlZXBDb3B5PWZ1bmN0aW9uKGUsdCxyLG4pe3pyLkRlZXBDb3B5KGUsdCxyLG4pfSxpLklzRW1wdHk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9LGkuUmVnaXN0ZXJUb3BSb290RXZlbnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07ZS5hZGRFdmVudExpc3RlbmVyKG4ubmFtZSxuLmhhbmRsZXIsITEpO3RyeXt3aW5kb3cucGFyZW50JiZ3aW5kb3cucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIobi5uYW1lLG4uaGFuZGxlciwhMSl9Y2F0Y2h7fX19LGkuVW5yZWdpc3RlclRvcFJvb3RFdmVudHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIobi5uYW1lLG4uaGFuZGxlcik7dHJ5e2UucGFyZW50JiZlLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKG4ubmFtZSxuLmhhbmRsZXIpfWNhdGNoe319fSxpLkR1bXBGcmFtZWJ1ZmZlcj1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIGE9PT12b2lkIDAmJihhPSJpbWFnZS9wbmciKSxCcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbyx1O3JldHVybiBGdCh0aGlzLGZ1bmN0aW9uKGYpe3N3aXRjaChmLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsci5yZWFkUGl4ZWxzKDAsMCxlLHQpXTtjYXNlIDE6cmV0dXJuIG89Zi5zZW50KCksdT1uZXcgVWludDhBcnJheShvLmJ1ZmZlciksaS5EdW1wRGF0YShlLHQsdSxuLGEscywhMCksWzJdfX0pfSl9LGkuRHVtcERhdGE9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYpe2E9PT12b2lkIDAmJihhPSJpbWFnZS9wbmciKSxvPT09dm9pZCAwJiYobz0hMSksdT09PXZvaWQgMCYmKHU9ITEpLGkuX1NjcmVlbnNob3RDYW52YXN8fChpLl9TY3JlZW5zaG90Q2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKSxpLl9TY3JlZW5zaG90Q2FudmFzLndpZHRoPWUsaS5fU2NyZWVuc2hvdENhbnZhcy5oZWlnaHQ9dDt2YXIgbD1pLl9TY3JlZW5zaG90Q2FudmFzLmdldENvbnRleHQoIjJkIik7aWYobCl7aWYociBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7Zm9yKHZhciBoPW5ldyBVaW50OEFycmF5KHIubGVuZ3RoKSxjPXIubGVuZ3RoO2MtLTspe3ZhciBkPXJbY107aFtjXT1kPDA/MDpkPjE/MTpNYXRoLnJvdW5kKGQqMjU1KX1yPWh9dmFyIHA9bC5jcmVhdGVJbWFnZURhdGEoZSx0KSxnPXAuZGF0YTtnLnNldChyKSxsLnB1dEltYWdlRGF0YShwLDAsMCk7dmFyIF89aS5fU2NyZWVuc2hvdENhbnZhcztpZihvKXt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt2LndpZHRoPWUsdi5oZWlnaHQ9dDt2YXIgeT12LmdldENvbnRleHQoIjJkIik7aWYoIXkpcmV0dXJuO3kudHJhbnNsYXRlKDAsdCkseS5zY2FsZSgxLC0xKSx5LmRyYXdJbWFnZShpLl9TY3JlZW5zaG90Q2FudmFzLDAsMCksXz12fXU/aS5Ub0Jsb2IoXyxmdW5jdGlvbihFKXt2YXIgUj1uZXcgRmlsZVJlYWRlcjtSLm9ubG9hZD1mdW5jdGlvbihNKXt2YXIgQz1NLnRhcmdldC5yZXN1bHQ7biYmbihDKX0sUi5yZWFkQXNBcnJheUJ1ZmZlcihFKX0sYSxmKTppLkVuY29kZVNjcmVlbnNob3RDYW52YXNEYXRhKG4sYSxzLF8sZil9fSxpLkR1bXBEYXRhQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtyZXR1cm4gbj09PXZvaWQgMCYmKG49ImltYWdlL3BuZyIpLHM9PT12b2lkIDAmJihzPSExKSxvPT09dm9pZCAwJiYobz0hMSksbmV3IFByb21pc2UoZnVuY3Rpb24oZil7aS5EdW1wRGF0YShlLHQscixmdW5jdGlvbihsKXtyZXR1cm4gZihsKX0sbixhLHMsbyx1KX0pfSxpLlRvQmxvYj1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0iaW1hZ2UvcG5nIiksZS50b0Jsb2J8fChlLnRvQmxvYj1mdW5jdGlvbihhLHMsbyl7dmFyIHU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBmPWF0b2IodS50b0RhdGFVUkwocyxvKS5zcGxpdCgiLCIpWzFdKSxsPWYubGVuZ3RoLGg9bmV3IFVpbnQ4QXJyYXkobCksYz0wO2M8bDtjKyspaFtjXT1mLmNoYXJDb2RlQXQoYyk7YShuZXcgQmxvYihbaF0pKX0pfSksZS50b0Jsb2IoZnVuY3Rpb24oYSl7dChhKX0scixuKX0saS5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YT1mdW5jdGlvbihlLHQscixuLGEpe2lmKHQ9PT12b2lkIDAmJih0PSJpbWFnZS9wbmciKSxlKXt2YXIgcz0obj8/aS5fU2NyZWVuc2hvdENhbnZhcykudG9EYXRhVVJMKHQsYSk7ZShzKX1lbHNlIHRoaXMuVG9CbG9iKG4/P2kuX1NjcmVlbnNob3RDYW52YXMsZnVuY3Rpb24obyl7aWYoImRvd25sb2FkImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSl7aWYoIXIpe3ZhciB1PW5ldyBEYXRlLGY9KHUuZ2V0RnVsbFllYXIoKSsiLSIrKHUuZ2V0TW9udGgoKSsxKSkuc2xpY2UoMikrIi0iK3UuZ2V0RGF0ZSgpKyJfIit1LmdldEhvdXJzKCkrIi0iKygiMCIrdS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTtyPSJzY3JlZW5zaG90XyIrZisiLnBuZyJ9aS5Eb3dubG9hZChvLHIpfWVsc2UgaWYobyl7dmFyIGw9VVJMLmNyZWF0ZU9iamVjdFVSTChvKSxoPXdpbmRvdy5vcGVuKCIiKTtpZighaClyZXR1cm47dmFyIGM9aC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLm9ubG9hZD1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwobCl9LGMuc3JjPWwsaC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpfX0sdCxhKX0saS5Eb3dubG9hZD1mdW5jdGlvbihlLHQpe2lmKG5hdmlnYXRvciYmbmF2aWdhdG9yLm1zU2F2ZUJsb2Ipe25hdmlnYXRvci5tc1NhdmVCbG9iKGUsdCk7cmV0dXJufXZhciByPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksbi5zdHlsZS5kaXNwbGF5PSJub25lIixuLmhyZWY9cixuLmRvd25sb2FkPXQsbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtuLnBhcmVudEVsZW1lbnQmJm4ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChuKX0pLG4uY2xpY2soKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChyKX0saS5CYWNrQ29tcGF0Q2FtZXJhTm9QcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGVbMF09PSJib29sZWFuIj9lWzBdOnR5cGVvZiBlWzFdPT0iYm9vbGVhbiI/ZVsxXTohMX0saS5DcmVhdGVTY3JlZW5zaG90PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dGhyb3cgWCgiU2NyZWVuc2hvdFRvb2xzIil9LGkuQ3JlYXRlU2NyZWVuc2hvdEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4pe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLlJhbmRvbUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHdpKCl9LGkuSXNCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF9yKGUpfSxpLkRlY29kZUJhc2U2ND1mdW5jdGlvbihlKXtyZXR1cm4ganIoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJlcnJvcnNDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBrLmVycm9yc0NvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuTG9nPWZ1bmN0aW9uKGUpe2suTG9nKGUpfSxpLldhcm49ZnVuY3Rpb24oZSl7ay5XYXJuKGUpfSxpLkVycm9yPWZ1bmN0aW9uKGUpe2suRXJyb3IoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dDYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBrLkxvZ0NhY2hlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2xlYXJMb2dDYWNoZT1mdW5jdGlvbigpe2suQ2xlYXJMb2dDYWNoZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTG9nTGV2ZWxzIix7c2V0OmZ1bmN0aW9uKGUpe2suTG9nTGV2ZWxzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlBlcmZvcm1hbmNlTG9nTGV2ZWwiLHtzZXQ6ZnVuY3Rpb24oZSl7aWYoKGUmaS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpPT09aS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpe2kuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fU3RhcnRVc2VyTWFyayxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRVc2VyTWFyaztyZXR1cm59aWYoKGUmaS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCk9PT1pLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKXtpLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPWkuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ29uc29sZTtyZXR1cm59aS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1pLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9TdGFydFVzZXJNYXJrPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCFpLl9QZXJmb3JtYW5jZSl7aWYoIXllKCkpcmV0dXJuO2kuX1BlcmZvcm1hbmNlPXdpbmRvdy5wZXJmb3JtYW5jZX0hdHx8IWkuX1BlcmZvcm1hbmNlLm1hcmt8fGkuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUJlZ2luIil9LGkuX0VuZFVzZXJNYXJrPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLCEoIXR8fCFpLl9QZXJmb3JtYW5jZS5tYXJrKSYmKGkuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUVuZCIpLGkuX1BlcmZvcm1hbmNlLm1lYXN1cmUoZSxlKyItQmVnaW4iLGUrIi1FbmQiKSl9LGkuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLHQmJihpLl9TdGFydFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lJiZjb25zb2xlLnRpbWUoZSkpfSxpLl9FbmRQZXJmb3JtYW5jZUNvbnNvbGU9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMCksdCYmKGkuX0VuZFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lRW5kKGUpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk5vdyIse2dldDpmdW5jdGlvbigpe3JldHVybiBMdC5Ob3d9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5HZXRDbGFzc05hbWU9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpcj1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIG49dD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyPW4uY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfX31yfHwocj10eXBlb2YgZSl9cmV0dXJuIHJ9LGkuRmlyc3Q9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYodChhKSlyZXR1cm4gYX1yZXR1cm4gbnVsbH0saS5nZXRGdWxsQ2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPW51bGwsbj1udWxsO2lmKCF0JiZlLmdldENsYXNzTmFtZSlyPWUuZ2V0Q2xhc3NOYW1lKCk7ZWxzZXtpZihlIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgYT10P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3I9YS5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fLG49YS5jb25zdHJ1Y3Rvci5fX2Jqc21vZHVsZU5hbWVfX31yfHwocj10eXBlb2YgZSl9cmV0dXJuIHI/KG4hPW51bGw/bisiLiI6IiIpK3I6bnVsbH0saS5EZWxheUFzeW5jPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpfSxlKX0pfSxpLklzU2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIFRpKCk/L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTohMX0saS5Vc2VDdXN0b21SZXF1ZXN0SGVhZGVycz0hMSxpLkN1c3RvbVJlcXVlc3RIZWFkZXJzPWNyLkN1c3RvbVJlcXVlc3RIZWFkZXJzLGkuX1RtcEZsb2F0QXJyYXk9bmV3IEZsb2F0MzJBcnJheSgxKSxpLkdldERPTVRleHRDb250ZW50PVVyLGkuR2V0QWJzb2x1dGVVcmw9dHlwZW9mIGRvY3VtZW50PT0ib2JqZWN0Ij9mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIHQuaHJlZj1lLHQuaHJlZn06dHlwZW9mIFVSTD09ImZ1bmN0aW9uIiYmdHlwZW9mIGxvY2F0aW9uPT0ib2JqZWN0Ij9mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVSTChlLGxvY2F0aW9uLm9yaWdpbikuaHJlZn06ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgYWJzb2x1dGUgVVJMLiBPdmVycmlkZSBCQUJZTE9OLlRvb2xzLkdldEFic29sdXRlVXJsIHRvIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uIGZvciB0aGUgY3VycmVudCBjb250ZXh0LiIpfSxpLk5vbmVMb2dMZXZlbD1rLk5vbmVMb2dMZXZlbCxpLk1lc3NhZ2VMb2dMZXZlbD1rLk1lc3NhZ2VMb2dMZXZlbCxpLldhcm5pbmdMb2dMZXZlbD1rLldhcm5pbmdMb2dMZXZlbCxpLkVycm9yTG9nTGV2ZWw9ay5FcnJvckxvZ0xldmVsLGkuQWxsTG9nTGV2ZWw9ay5BbGxMb2dMZXZlbCxpLklzV2luZG93T2JqZWN0RXhpc3Q9eWUsaS5QZXJmb3JtYW5jZU5vbmVMb2dMZXZlbD0wLGkuUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsPTEsaS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbD0yLGkuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxpfSgpLFFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXtuPT09dm9pZCAwJiYobj0wKSx0aGlzLml0ZXJhdGlvbnM9ZSx0aGlzLmluZGV4PW4tMSx0aGlzLl9kb25lPSExLHRoaXMuX2ZuPXQsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPXJ9cmV0dXJuIGkucHJvdG90eXBlLmV4ZWN1dGVOZXh0PWZ1bmN0aW9uKCl7dGhpcy5fZG9uZXx8KHRoaXMuaW5kZXgrMTx0aGlzLml0ZXJhdGlvbnM/KCsrdGhpcy5pbmRleCx0aGlzLl9mbih0aGlzKSk6dGhpcy5icmVha0xvb3AoKSl9LGkucHJvdG90eXBlLmJyZWFrTG9vcD1mdW5jdGlvbigpe3RoaXMuX2RvbmU9ITAsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrKCl9LGkuUnVuPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPTApO3ZhciBhPW5ldyBpKGUsdCxyLG4pO3JldHVybiBhLmV4ZWN1dGVOZXh0KCksYX0saS5TeW5jQXN5bmNGb3JMb29wPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gcz09PXZvaWQgMCYmKHM9MCksaS5SdW4oTWF0aC5jZWlsKGUvdCksZnVuY3Rpb24obyl7YSYmYSgpP28uYnJlYWtMb29wKCk6c2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgdT0wO3U8dDsrK3Upe3ZhciBmPW8uaW5kZXgqdCt1O2lmKGY+PWUpYnJlYWs7aWYocihmKSxhJiZhKCkpe28uYnJlYWtMb29wKCk7YnJlYWt9fW8uZXhlY3V0ZU5leHQoKX0scyl9LG4pfSxpfSgpO3JlLkZhbGxiYWNrVGV4dHVyZT0iZGF0YTppbWFnZS9qcGc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUVBWUFCZ0FBRC80UUJtUlhocFpnQUFUVTBBS2dBQUFBZ0FCQUVhQUFVQUFBQUJBQUFBUGdFYkFBVUFBQUFCQUFBQVJnRW9BQU1BQUFBQkFBSUFBQUV4QUFJQUFBQVFBQUFBVGdBQUFBQUFBQUJnQUFBQUFRQUFBR0FBQUFBQmNHRnBiblF1Ym1WMElEUXVNQzQxQVAvYkFFTUFCQUlEQXdNQ0JBTURBd1FFQkFRRkNRWUZCUVVGQ3dnSUJna05DdzBORFFzTURBNFFGQkVPRHhNUERBd1NHQklURlJZWEZ4Y09FUmtiR1JZYUZCWVhGdi9iQUVNQkJBUUVCUVVGQ2dZR0NoWVBEQThXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0Z2L0FBQkVJQVFBQkFBTUJJZ0FDRVFFREVRSC94QUFmQUFBQkJRRUJBUUVCQVFBQUFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFQUFDQVFNREFnUURCUVVFQkFBQUFYMEJBZ01BQkJFRkVpRXhRUVlUVVdFSEluRVVNb0dSb1FnalFySEJGVkxSOENRelluS0NDUW9XRnhnWkdpVW1KeWdwS2pRMU5qYzRPVHBEUkVWR1IwaEpTbE5VVlZaWFdGbGFZMlJsWm1kb2FXcHpkSFYyZDNoNWVvT0VoWWFIaUltS2twT1VsWmFYbUptYW9xT2twYWFucUttcXNyTzB0YmEzdUxtNndzUEV4Y2JIeU1uSzB0UFUxZGJYMk5uYTRlTGo1T1htNStqcDZ2SHk4L1QxOXZmNCtmci94QUFmQVFBREFRRUJBUUVCQVFFQkFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFUUFDQVFJRUJBTUVCd1VFQkFBQkFuY0FBUUlERVFRRklURUdFa0ZSQjJGeEV5SXlnUWdVUXBHaHNjRUpJek5TOEJWaWN0RUtGaVEwNFNYeEZ4Z1pHaVluS0NrcU5UWTNPRGs2UTBSRlJrZElTVXBUVkZWV1YxaFpXbU5rWldabmFHbHFjM1IxZG5kNGVYcUNnNFNGaG9lSWlZcVNrNVNWbHBlWW1acWlvNlNscHFlb3FhcXlzN1MxdHJlNHVickN3OFRGeHNmSXljclMwOVRWMXRmWTJkcmk0K1RsNXVmbzZlcnk4L1QxOXZmNCtmci8yZ0FNQXdFQUFoRURFUUEvQVBINktLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlAvL1oiO3ZhciBWZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5sZW5ndGg9MCx0aGlzLmRhdGE9bmV3IEFycmF5KGUpLHRoaXMuX2lkPWkuX0dsb2JhbElkKyt9cmV0dXJuIGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPWUsdGhpcy5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGgqPTIpfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWUodGhpcy5kYXRhW3RdKX0saS5wcm90b3R5cGUuc29ydD1mdW5jdGlvbihlKXt0aGlzLmRhdGEuc29ydChlKX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuZGF0YSYmKHRoaXMuZGF0YS5sZW5ndGg9MCx0aGlzLmRhdGE9W10pfSxpLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT0oZS5kYXRhfHxlKVt0XX19LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhLmluZGV4T2YoZSk7cmV0dXJuIHQ+PXRoaXMubGVuZ3RoPy0xOnR9LGkucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4T2YoZSkhPT0tMX0saS5fR2xvYmFsSWQ9MCxpfSgpLEl0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9kdXBsaWNhdGVJZD0wLHR9cmV0dXJuIGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsdCksdC5fX3NtYXJ0QXJyYXlGbGFnc3x8KHQuX19zbWFydEFycmF5RmxhZ3M9e30pLHQuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPXRoaXMuX2R1cGxpY2F0ZUlkfSxlLnByb3RvdHlwZS5wdXNoTm9EdXBsaWNhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zbWFydEFycmF5RmxhZ3MmJnQuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPT09dGhpcy5fZHVwbGljYXRlSWQ/ITE6KHRoaXMucHVzaCh0KSwhMCl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kdXBsaWNhdGVJZCsrfSxlLnByb3RvdHlwZS5jb25jYXRXaXRoTm9EdXBsaWNhdGU9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCt0Lmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrdC5sZW5ndGgpKjIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj0odC5kYXRhfHx0KVtyXTt0aGlzLnB1c2hOb0R1cGxpY2F0ZShuKX19fSxlfShWZSksTGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fY291bnQ9MCx0aGlzLl9kYXRhPXt9fXJldHVybiBpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuY2xlYXIoKSxlLmZvckVhY2goZnVuY3Rpb24ocixuKXtyZXR1cm4gdC5hZGQocixuKX0pfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YVtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0fSxpLnByb3RvdHlwZS5nZXRPckFkZFdpdGhGYWN0b3J5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXQoZSk7cmV0dXJuIHIhPT12b2lkIDB8fChyPXQoZSksciYmdGhpcy5hZGQoZSxyKSkscn0saS5wcm90b3R5cGUuZ2V0T3JBZGQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdldChlKTtyZXR1cm4gciE9PXZvaWQgMD9yOih0aGlzLmFkZChlLHQpLHQpfSxpLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMH0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwrK3RoaXMuX2NvdW50LCEwKX0saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV09PT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwhMCl9LGkucHJvdG90eXBlLmdldEFuZFJlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldChlKTtyZXR1cm4gdCE9PXZvaWQgMD8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCx0KTpudWxsfSxpLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udGFpbnMoZSk/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsITApOiExfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2RhdGE9e30sdGhpcy5fY291bnQ9MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLl9kYXRhKXt2YXIgcj10aGlzLl9kYXRhW3RdO2UodCxyKX19LGkucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLl9kYXRhKXt2YXIgcj10aGlzLl9kYXRhW3RdLG49ZSh0LHIpO2lmKG4pcmV0dXJuIG59cmV0dXJuIG51bGx9LGl9KCksJG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkV2YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXRjaCgvXChbXigpXSpcKS9nKT9lPWUucmVwbGFjZSgvXChbXigpXSpcKS9nLGZ1bmN0aW9uKHIpe3JldHVybiByPXIuc2xpY2UoMSxyLmxlbmd0aC0xKSxpLl9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQocix0KX0pOmU9aS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCksZT09PSJ0cnVlIj8hMDplPT09ImZhbHNlIj8hMTppLkV2YWwoZSx0KX0saS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50PWZ1bmN0aW9uKGUsdCl7dD10fHxmdW5jdGlvbihsKXtyZXR1cm4gbD09PSJ0cnVlIn07dmFyIHIsbj1lLnNwbGl0KCJ8fCIpO2Zvcih2YXIgYSBpbiBuKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGEpKXt2YXIgcz1pLl9TaW1wbGlmeU5lZ2F0aW9uKG5bYV0udHJpbSgpKSxvPXMuc3BsaXQoIiYmIik7aWYoby5sZW5ndGg+MSlmb3IodmFyIHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGY9aS5fU2ltcGxpZnlOZWdhdGlvbihvW3VdLnRyaW0oKSk7aWYoZiE9PSJ0cnVlIiYmZiE9PSJmYWxzZSI/ZlswXT09PSIhIj9yPSF0KGYuc3Vic3RyaW5nKDEpKTpyPXQoZik6cj1mPT09InRydWUiLCFyKXtzPSJmYWxzZSI7YnJlYWt9fWlmKHJ8fHM9PT0idHJ1ZSIpe3I9ITA7YnJlYWt9cyE9PSJ0cnVlIiYmcyE9PSJmYWxzZSI/c1swXT09PSIhIj9yPSF0KHMuc3Vic3RyaW5nKDEpKTpyPXQocyk6cj1zPT09InRydWUifXJldHVybiByPyJ0cnVlIjoiZmFsc2UifSxpLl9TaW1wbGlmeU5lZ2F0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvXltccyFdKy8sZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKC9bXHNdL2csZnVuY3Rpb24oKXtyZXR1cm4iIn0pLHQubGVuZ3RoJTI/IiEiOiIifSksZT1lLnRyaW0oKSxlPT09IiF0cnVlIj9lPSJmYWxzZSI6ZT09PSIhZmFsc2UiJiYoZT0idHJ1ZSIpLGV9LGl9KCksY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkVuYWJsZUZvcj1mdW5jdGlvbihlKXtlLl90YWdzPWUuX3RhZ3N8fHt9LGUuaGFzVGFncz1mdW5jdGlvbigpe3JldHVybiBpLkhhc1RhZ3MoZSl9LGUuYWRkVGFncz1mdW5jdGlvbih0KXtyZXR1cm4gaS5BZGRUYWdzVG8oZSx0KX0sZS5yZW1vdmVUYWdzPWZ1bmN0aW9uKHQpe3JldHVybiBpLlJlbW92ZVRhZ3NGcm9tKGUsdCl9LGUubWF0Y2hlc1RhZ3NRdWVyeT1mdW5jdGlvbih0KXtyZXR1cm4gaS5NYXRjaGVzUXVlcnkoZSx0KX19LGkuRGlzYWJsZUZvcj1mdW5jdGlvbihlKXtkZWxldGUgZS5fdGFncyxkZWxldGUgZS5oYXNUYWdzLGRlbGV0ZSBlLmFkZFRhZ3MsZGVsZXRlIGUucmVtb3ZlVGFncyxkZWxldGUgZS5tYXRjaGVzVGFnc1F1ZXJ5fSxpLkhhc1RhZ3M9ZnVuY3Rpb24oZSl7aWYoIWUuX3RhZ3MpcmV0dXJuITE7dmFyIHQ9ZS5fdGFncztmb3IodmFyIHIgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSlyZXR1cm4hMDtyZXR1cm4hMX0saS5HZXRUYWdzPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCFlLl90YWdzKXJldHVybiBudWxsO2lmKHQpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlLl90YWdzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLl90YWdzLG4pJiZlLl90YWdzW25dPT09ITAmJnIucHVzaChuKTtyZXR1cm4gci5qb2luKCIgIil9ZWxzZSByZXR1cm4gZS5fdGFnc30saS5BZGRUYWdzVG89ZnVuY3Rpb24oZSx0KXtpZih0JiZ0eXBlb2YgdD09InN0cmluZyIpe3ZhciByPXQuc3BsaXQoIiAiKTtyLmZvckVhY2goZnVuY3Rpb24obil7aS5fQWRkVGFnVG8oZSxuKX0pfX0saS5fQWRkVGFnVG89ZnVuY3Rpb24oZSx0KXt0PXQudHJpbSgpLCEodD09PSIifHx0PT09InRydWUifHx0PT09ImZhbHNlIikmJih0Lm1hdGNoKC9bXHNdLyl8fHQubWF0Y2goL14oWyFdfChbfF18WyZdKXsyfSkvKXx8KGkuRW5hYmxlRm9yKGUpLGUuX3RhZ3NbdF09ITApKX0saS5SZW1vdmVUYWdzRnJvbT1mdW5jdGlvbihlLHQpe2lmKGkuSGFzVGFncyhlKSl7dmFyIHI9dC5zcGxpdCgiICIpO2Zvcih2YXIgbiBpbiByKWkuX1JlbW92ZVRhZ0Zyb20oZSxyW25dKX19LGkuX1JlbW92ZVRhZ0Zyb209ZnVuY3Rpb24oZSx0KXtkZWxldGUgZS5fdGFnc1t0XX0saS5NYXRjaGVzUXVlcnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMD8hMDp0PT09IiI/aS5IYXNUYWdzKGUpOiRuLkV2YWwodCxmdW5jdGlvbihyKXtyZXR1cm4gaS5IYXNUYWdzKGUpJiZlLl90YWdzW3JdfSl9LGl9KCksTmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5yb290Tm9kZXM9bmV3IEFycmF5LHRoaXMuY2FtZXJhcz1uZXcgQXJyYXksdGhpcy5saWdodHM9bmV3IEFycmF5LHRoaXMubWVzaGVzPW5ldyBBcnJheSx0aGlzLnNrZWxldG9ucz1uZXcgQXJyYXksdGhpcy5wYXJ0aWNsZVN5c3RlbXM9bmV3IEFycmF5LHRoaXMuYW5pbWF0aW9ucz1bXSx0aGlzLmFuaW1hdGlvbkdyb3Vwcz1uZXcgQXJyYXksdGhpcy5tdWx0aU1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5nZW9tZXRyaWVzPW5ldyBBcnJheSx0aGlzLnRyYW5zZm9ybU5vZGVzPW5ldyBBcnJheSx0aGlzLmFjdGlvbk1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLnRleHR1cmVzPW5ldyBBcnJheSx0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9bnVsbCx0aGlzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXJldHVybiBpLkFkZFBhcnNlcj1mdW5jdGlvbihlLHQpe3RoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXT10fSxpLkdldFBhcnNlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfSxpLkFkZEluZGl2aWR1YWxQYXJzZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9LGkuR2V0SW5kaXZpZHVhbFBhcnNlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXT90aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9LGkuUGFyc2U9ZnVuY3Rpb24oZSx0LHIsbil7Zm9yKHZhciBhIGluIHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzLGEpJiZ0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbYV0oZSx0LHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW52aXJvbm1lbnRUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiBlPWUuY29uY2F0KHRoaXMubWVzaGVzKSxlPWUuY29uY2F0KHRoaXMubGlnaHRzKSxlPWUuY29uY2F0KHRoaXMuY2FtZXJhcyksZT1lLmNvbmNhdCh0aGlzLnRyYW5zZm9ybU5vZGVzKSx0aGlzLnNrZWxldG9ucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlPWUuY29uY2F0KHQuYm9uZXMpfSksZX0saS5fQmFieWxvbkZpbGVQYXJzZXJzPXt9LGkuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnM9e30saX0oKSx2cj17fSxtcj17fSxCaT1mdW5jdGlvbihpLGUsdCl7dmFyIHI9aSgpO2NlJiZjZS5BZGRUYWdzVG8ocixlLnRhZ3MpO3ZhciBuPUtyKHIpO2Zvcih2YXIgYSBpbiBuKXt2YXIgcz1uW2FdLG89ZVthXSx1PXMudHlwZTtpZihvIT1udWxsJiYoYSE9PSJ1bmlxdWVJZCJ8fEouQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaCh1KXtjYXNlIDA6Y2FzZSA2OmNhc2UgMTE6clthXT1vO2JyZWFrO2Nhc2UgMTpyW2FdPXR8fG8uaXNSZW5kZXJUYXJnZXQ/bzpvLmNsb25lKCk7YnJlYWs7Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNzpjYXNlIDEwOmNhc2UgMTI6clthXT10P286by5jbG9uZSgpO2JyZWFrfX1yZXR1cm4gcn07ZnVuY3Rpb24gSm4oaSl7dmFyIGU9aS5nZXRDbGFzc05hbWUoKTtyZXR1cm4gdnJbZV18fCh2cltlXT17fSksdnJbZV19ZnVuY3Rpb24gS3IoaSl7dmFyIGU9aS5nZXRDbGFzc05hbWUoKTtpZihtcltlXSlyZXR1cm4gbXJbZV07bXJbZV09e307Zm9yKHZhciB0PW1yW2VdLHI9aSxuPWU7bjspe3ZhciBhPXZyW25dO2Zvcih2YXIgcyBpbiBhKXRbc109YVtzXTt2YXIgbz12b2lkIDAsdT0hMTtkb3tpZihvPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKSwhby5nZXRDbGFzc05hbWUpe3U9ITA7YnJlYWt9aWYoby5nZXRDbGFzc05hbWUoKSE9PW4pYnJlYWs7cj1vfXdoaWxlKG8pO2lmKHUpYnJlYWs7bj1vLmdldENsYXNzTmFtZSgpLHI9b31yZXR1cm4gdH1mdW5jdGlvbiBpdChpLGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBuPUpuKHQpO25bcl18fChuW3JdPXt0eXBlOmksc291cmNlTmFtZTplfSl9fWZ1bmN0aW9uIGVhKGksZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPW51bGwpLGZ1bmN0aW9uKHQscil7dmFyIG49ZXx8Il8iK3I7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbbl19LHNldDpmdW5jdGlvbihhKXt0eXBlb2YgdGhpcy5lcXVhbHM9PSJmdW5jdGlvbiImJnRoaXMuZXF1YWxzKGEpfHx0aGlzW25dIT09YSYmKHRoaXNbbl09YSx0W2ldLmFwcGx5KHRoaXMpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19ZnVuY3Rpb24gbmUoaSxlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9bnVsbCksZWEoaSxlKX1mdW5jdGlvbiBQKGkpe3JldHVybiBpdCgwLGkpfWZ1bmN0aW9uIEhlKGkpe3JldHVybiBpdCgxLGkpfWZ1bmN0aW9uIE90KGkpe3JldHVybiBpdCgyLGkpfWZ1bmN0aW9uIHRyKGkpe3JldHVybiBpdCgzLGkpfWZ1bmN0aW9uIHRhKGkpe3JldHVybiBpdCg0LGkpfWZ1bmN0aW9uIGZ0KGkpe3JldHVybiBpdCg1LGkpfWZ1bmN0aW9uIHJhKGkpe3JldHVybiBpdCg2LGkpfWZ1bmN0aW9uIGlhKGkpe3JldHVybiBpdCg3LGkpfWZ1bmN0aW9uIFVpKGkpe3JldHVybiBpdCg4LGkpfWZ1bmN0aW9uIG5hKGkpe3JldHVybiBpdCgxMCxpKX12YXIgSj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnM9ZnVuY3Rpb24oZSx0KXtpZihlLmFuaW1hdGlvbnMpe3QuYW5pbWF0aW9ucz1bXTtmb3IodmFyIHI9MDtyPGUuYW5pbWF0aW9ucy5sZW5ndGg7cisrKXt2YXIgbj1lLmFuaW1hdGlvbnNbcl07dC5hbmltYXRpb25zLnB1c2gobi5zZXJpYWxpemUoKSl9fX0saS5TZXJpYWxpemU9ZnVuY3Rpb24oZSx0KXt0fHwodD17fSksY2UmJih0LnRhZ3M9Y2UuR2V0VGFncyhlKSk7dmFyIHI9S3IoZSk7Zm9yKHZhciBuIGluIHIpe3ZhciBhPXJbbl0scz1hLnNvdXJjZU5hbWV8fG4sbz1hLnR5cGUsdT1lW25dO2lmKHUhPW51bGwmJihuIT09InVuaXF1ZUlkInx8aS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpc3dpdGNoKG8pe2Nhc2UgMDp0W3NdPXU7YnJlYWs7Y2FzZSAxOnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDI6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDM6dFtzXT11LnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgNDp0W3NdPXUuYXNBcnJheSgpO2JyZWFrO2Nhc2UgNTp0W3NdPXUuYXNBcnJheSgpO2JyZWFrO2Nhc2UgNjp0W3NdPXUuaWQ7YnJlYWs7Y2FzZSA3OnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDg6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDk6dFtzXT11LnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgMTA6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDExOnRbc109dS5pZDticmVhaztjYXNlIDEyOnRbc109dS5hc0FycmF5KCk7YnJlYWt9fXJldHVybiB0fSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPW51bGwpO3ZhciBhPWUoKTtufHwobj0iIiksY2UmJmNlLkFkZFRhZ3NUbyhhLHQudGFncyk7dmFyIHM9S3IoYSk7Zm9yKHZhciBvIGluIHMpe3ZhciB1PXNbb10sZj10W3Uuc291cmNlTmFtZXx8b10sbD11LnR5cGU7aWYoZiE9bnVsbCYmKG8hPT0idW5pcXVlSWQifHxpLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSl7dmFyIGg9YTtzd2l0Y2gobCl7Y2FzZSAwOmhbb109ZjticmVhaztjYXNlIDE6ciYmKGhbb109aS5fVGV4dHVyZVBhcnNlcihmLHIsbikpO2JyZWFrO2Nhc2UgMjpoW29dPWJlLkZyb21BcnJheShmKTticmVhaztjYXNlIDM6aFtvXT1pLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcihmKTticmVhaztjYXNlIDQ6aFtvXT1TZS5Gcm9tQXJyYXkoZik7YnJlYWs7Y2FzZSA1Omhbb109Yi5Gcm9tQXJyYXkoZik7YnJlYWs7Y2FzZSA2OnImJihoW29dPXIuZ2V0TGFzdE1lc2hCeUlkKGYpKTticmVhaztjYXNlIDc6aFtvXT1pLl9Db2xvckN1cnZlc1BhcnNlcihmKTticmVhaztjYXNlIDg6aFtvXT1FZS5Gcm9tQXJyYXkoZik7YnJlYWs7Y2FzZSA5Omhbb109aS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcihmKTticmVhaztjYXNlIDEwOmhbb109aWUuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgMTE6ciYmKGhbb109ci5nZXRDYW1lcmFCeUlkKGYpKTticmVhaztjYXNlIDEyOmhbb109SS5Gcm9tQXJyYXkoZik7YnJlYWt9fX1yZXR1cm4gYX0saS5DbG9uZT1mdW5jdGlvbihlLHQpe3JldHVybiBCaShlLHQsITEpfSxpLkluc3RhbmNpYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJpKGUsdCwhMCl9LGkuQWxsb3dMb2FkaW5nVW5pcXVlSWQ9ITEsaS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBYKCJJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIil9LGkuX0ZyZXNuZWxQYXJhbWV0ZXJzUGFyc2VyPWZ1bmN0aW9uKGUpe3Rocm93IFgoIkZyZXNuZWxQYXJhbWV0ZXJzIil9LGkuX0NvbG9yQ3VydmVzUGFyc2VyPWZ1bmN0aW9uKGUpe3Rocm93IFgoIkNvbG9yQ3VydmVzIil9LGkuX1RleHR1cmVQYXJzZXI9ZnVuY3Rpb24oZSx0LHIpe3Rocm93IFgoIlRleHR1cmUiKX0saX0oKTtmdW5jdGlvbiBFdChpLGUsdCxyKXt2YXIgbj10LnZhbHVlO3QudmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10scz0wO3M8YXJndW1lbnRzLmxlbmd0aDtzKyspYVtzXT1hcmd1bWVudHNbc107dmFyIG89bjtpZih0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmVbZV0pe3ZhciB1PV9uYXRpdmVbZV07cj9vPWZ1bmN0aW9uKCl7Zm9yKHZhciBmPVtdLGw9MDtsPGFyZ3VtZW50cy5sZW5ndGg7bCsrKWZbbF09YXJndW1lbnRzW2xdO3JldHVybiByLmFwcGx5KHZvaWQgMCxmKT91LmFwcGx5KHZvaWQgMCxmKTpuLmFwcGx5KHZvaWQgMCxmKX06bz11fXJldHVybiBpW2VdPW8sby5hcHBseSh2b2lkIDAsYSl9fUV0LmZpbHRlcj1mdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiBFdChlLHQscixpKX19O3ZhciB5cj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7aWYodGhpcy5faXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9ub3JtYWxzPSExLHRoaXMuX3V2cz0hMSx0aGlzLl9uZWVkTm9ybWFscz0hMSx0aGlzLl9uZWVkVVZzPSExLHRoaXMuX2V4dGVybmFsUHJvcGVydGllcz1lLGUpZm9yKHZhciB0IGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJnRoaXMuX3NldERlZmF1bHRWYWx1ZSh0KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0RpcnR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUubWFya0FzUHJvY2Vzc2VkPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITEsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMSx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlTWlzY0RpcnR5PSExLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMX0saS5wcm90b3R5cGUubWFya0FzVW5wcm9jZXNzZWQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQWxsQXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNMaWdodERpcnR5PWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPSExKSx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD10aGlzLl9hcmVMaWdodHNEaXNwb3NlZHx8ZSx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNBdHRyaWJ1dGVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzVGV4dHVyZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzRnJlc25lbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc01pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNQcmVQYXNzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUucmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX2tleXM9W107Zm9yKHZhciBlPTAsdD1PYmplY3Qua2V5cyh0aGlzKTtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTtyWzBdIT09Il8iJiZ0aGlzLl9rZXlzLnB1c2gocil9aWYodGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKWZvcih2YXIgbiBpbiB0aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpdGhpcy5fa2V5cy5pbmRleE9mKG4pPT09LTEmJnRoaXMuX2tleXMucHVzaChuKX0saS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlKXtpZih0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9rZXlzW3RdO2lmKHRoaXNbcl0hPT1lW3JdKXJldHVybiExfXJldHVybiEwfSxpLnByb3RvdHlwZS5jbG9uZVRvPWZ1bmN0aW9uKGUpe3RoaXMuX2tleXMubGVuZ3RoIT09ZS5fa2V5cy5sZW5ndGgmJihlLl9rZXlzPXRoaXMuX2tleXMuc2xpY2UoMCkpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9rZXlzW3RdO2Vbcl09dGhpc1tyXX19LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9rZXlzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NldERlZmF1bHRWYWx1ZSh0KX0pfSxpLnByb3RvdHlwZS5fc2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLHMsbz0obj0ocj0odD10aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dFtlXSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnR5cGUpIT09bnVsbCYmbiE9PXZvaWQgMD9uOnR5cGVvZiB0aGlzW2VdLHU9KHM9KGE9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbZV0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5kZWZhdWx0O3N3aXRjaChvKXtjYXNlIm51bWJlciI6dGhpc1tlXT11Pz8wO2JyZWFrO2Nhc2Uic3RyaW5nIjp0aGlzW2VdPXU/PyIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT11Pz8hMTticmVha319LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPSIiLHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fa2V5c1t0XSxuPXRoaXNbcl0sYT10eXBlb2Ygbjtzd2l0Y2goYSl7Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjplKz0iI2RlZmluZSAiK3IrIiAiK24rYApgO2JyZWFrO2RlZmF1bHQ6biYmKGUrPSIjZGVmaW5lICIrcitgCmApO2JyZWFrfX1yZXR1cm4gZX0saX0oKSxicj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9kaXJ0eT0hMCx0aGlzLl90ZW1wQ29sb3I9bmV3IEVlKDAsMCwwLDApLHRoaXMuX2dsb2JhbEN1cnZlPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9oaWdobGlnaHRzQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX21pZHRvbmVzQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX3NoYWRvd3NDdXJ2ZT1uZXcgRWUoMCwwLDAsMCksdGhpcy5fcG9zaXRpdmVDdXJ2ZT1uZXcgRWUoMCwwLDAsMCksdGhpcy5fbmVnYXRpdmVDdXJ2ZT1uZXcgRWUoMCwwLDAsMCksdGhpcy5fZ2xvYmFsSHVlPTMwLHRoaXMuX2dsb2JhbERlbnNpdHk9MCx0aGlzLl9nbG9iYWxTYXR1cmF0aW9uPTAsdGhpcy5fZ2xvYmFsRXhwb3N1cmU9MCx0aGlzLl9oaWdobGlnaHRzSHVlPTMwLHRoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PTAsdGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb249MCx0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmU9MCx0aGlzLl9taWR0b25lc0h1ZT0zMCx0aGlzLl9taWR0b25lc0RlbnNpdHk9MCx0aGlzLl9taWR0b25lc1NhdHVyYXRpb249MCx0aGlzLl9taWR0b25lc0V4cG9zdXJlPTAsdGhpcy5fc2hhZG93c0h1ZT0zMCx0aGlzLl9zaGFkb3dzRGVuc2l0eT0wLHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9uPTAsdGhpcy5fc2hhZG93c0V4cG9zdXJlPTB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZ2xvYmFsSHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEh1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dsb2JhbEh1ZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZ2xvYmFsRGVuc2l0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxEZW5zaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZ2xvYmFsU2F0dXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxTYXR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZ2xvYmFsRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGlnaGxpZ2h0c0h1ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzSHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaGxpZ2h0c0h1ZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGlnaGxpZ2h0c0RlbnNpdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGlnaGxpZ2h0c1NhdHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGlnaGxpZ2h0c0V4cG9zdXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWlkdG9uZXNIdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNIdWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taWR0b25lc0h1ZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWlkdG9uZXNEZW5zaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzRGVuc2l0eX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21pZHRvbmVzRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWlkdG9uZXNTYXR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWlkdG9uZXNFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc0V4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWlkdG9uZXNFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2hhZG93c0h1ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzSHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2hhZG93c0h1ZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2hhZG93c0RlbnNpdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c0RlbnNpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaGFkb3dzRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2hhZG93c1NhdHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c1NhdHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2hhZG93c0V4cG9zdXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NFeHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NoYWRvd3NFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJDb2xvckN1cnZlcyJ9LGkuQmluZD1mdW5jdGlvbihlLHQscixuLGEpe3I9PT12b2lkIDAmJihyPSJ2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlIiksbj09PXZvaWQgMCYmKG49InZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIpLGE9PT12b2lkIDAmJihhPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIiksZS5fZGlydHkmJihlLl9kaXJ0eT0hMSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fZ2xvYmFsSHVlLGUuX2dsb2JhbERlbnNpdHksZS5fZ2xvYmFsU2F0dXJhdGlvbixlLl9nbG9iYWxFeHBvc3VyZSxlLl9nbG9iYWxDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2hpZ2hsaWdodHNIdWUsZS5faGlnaGxpZ2h0c0RlbnNpdHksZS5faGlnaGxpZ2h0c1NhdHVyYXRpb24sZS5faGlnaGxpZ2h0c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5faGlnaGxpZ2h0c0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fbWlkdG9uZXNIdWUsZS5fbWlkdG9uZXNEZW5zaXR5LGUuX21pZHRvbmVzU2F0dXJhdGlvbixlLl9taWR0b25lc0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fbWlkdG9uZXNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX3NoYWRvd3NIdWUsZS5fc2hhZG93c0RlbnNpdHksZS5fc2hhZG93c1NhdHVyYXRpb24sZS5fc2hhZG93c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fc2hhZG93c0N1cnZlKSxlLl9oaWdobGlnaHRzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9taWR0b25lc0N1cnZlLGUuX3Bvc2l0aXZlQ3VydmUpLGUuX21pZHRvbmVzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9zaGFkb3dzQ3VydmUsZS5fbmVnYXRpdmVDdXJ2ZSkpLHQmJih0LnNldEZsb2F0NChyLGUuX3Bvc2l0aXZlQ3VydmUucixlLl9wb3NpdGl2ZUN1cnZlLmcsZS5fcG9zaXRpdmVDdXJ2ZS5iLGUuX3Bvc2l0aXZlQ3VydmUuYSksdC5zZXRGbG9hdDQobixlLl9taWR0b25lc0N1cnZlLnIsZS5fbWlkdG9uZXNDdXJ2ZS5nLGUuX21pZHRvbmVzQ3VydmUuYixlLl9taWR0b25lc0N1cnZlLmEpLHQuc2V0RmxvYXQ0KGEsZS5fbmVnYXRpdmVDdXJ2ZS5yLGUuX25lZ2F0aXZlQ3VydmUuZyxlLl9uZWdhdGl2ZUN1cnZlLmIsZS5fbmVnYXRpdmVDdXJ2ZS5hKSl9LGkuUHJlcGFyZVVuaWZvcm1zPWZ1bmN0aW9uKGUpe2UucHVzaCgidkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIiwidkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIsInZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmUiKX0saS5wcm90b3R5cGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe2UhPW51bGwmJihlPWkuX0NsYW1wKGUsMCwzNjApLHQ9aS5fQ2xhbXAodCwtMTAwLDEwMCkscj1pLl9DbGFtcChyLC0xMDAsMTAwKSxuPWkuX0NsYW1wKG4sLTEwMCwxMDApLHQ9aS5fQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXIodCksdCo9LjUsbj1pLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihuKSx0PDAmJih0Kj0tMSxlPShlKzE4MCklMzYwKSxpLl9Gcm9tSFNCVG9SZWYoZSx0LDUwKy4yNSpuLGEpLGEuc2NhbGVUb1JlZigyLGEpLGEuYT0xKy4wMSpyKX0saS5fQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXI9ZnVuY3Rpb24oZSl7ZS89MTAwO3ZhciB0PU1hdGguYWJzKGUpO3JldHVybiB0PU1hdGgucG93KHQsMiksZTwwJiYodCo9LTEpLHQqPTEwMCx0fSxpLl9Gcm9tSFNCVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9aS5fQ2xhbXAoZSwwLDM2MCkscz1pLl9DbGFtcCh0LzEwMCwwLDEpLG89aS5fQ2xhbXAoci8xMDAsMCwxKTtpZihzPT09MCluLnI9byxuLmc9byxuLmI9bztlbHNle2EvPTYwO3ZhciB1PU1hdGguZmxvb3IoYSksZj1hLXUsbD1vKigxLXMpLGg9byooMS1zKmYpLGM9byooMS1zKigxLWYpKTtzd2l0Y2godSl7Y2FzZSAwOm4ucj1vLG4uZz1jLG4uYj1sO2JyZWFrO2Nhc2UgMTpuLnI9aCxuLmc9byxuLmI9bDticmVhaztjYXNlIDI6bi5yPWwsbi5nPW8sbi5iPWM7YnJlYWs7Y2FzZSAzOm4ucj1sLG4uZz1oLG4uYj1vO2JyZWFrO2Nhc2UgNDpuLnI9YyxuLmc9bCxuLmI9bzticmVhaztkZWZhdWx0Om4ucj1vLG4uZz1sLG4uYj1oO2JyZWFrfX1uLmE9MX0saS5fQ2xhbXA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLHIpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBKLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpfSx0aGlzKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIEouU2VyaWFsaXplKHRoaXMpfSxpLlBhcnNlPWZ1bmN0aW9uKGUpe3JldHVybiBKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpfSxlLG51bGwsbnVsbCl9LFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxIdWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2dsb2JhbERlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2dsb2JhbFNhdHVyYXRpb24iLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2dsb2JhbEV4cG9zdXJlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9oaWdobGlnaHRzSHVlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9oaWdobGlnaHRzRGVuc2l0eSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaGlnaGxpZ2h0c1NhdHVyYXRpb24iLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNFeHBvc3VyZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbWlkdG9uZXNIdWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX21pZHRvbmVzRGVuc2l0eSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbWlkdG9uZXNTYXR1cmF0aW9uIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9taWR0b25lc0V4cG9zdXJlIix2b2lkIDApLGl9KCk7Si5fQ29sb3JDdXJ2ZXNQYXJzZXI9YnIuUGFyc2UsZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXt2YXIgdD1pLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuSU1BR0VQUk9DRVNTSU5HPSExLHQuVklHTkVUVEU9ITEsdC5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZPSExLHQuVklHTkVUVEVCTEVORE1PREVPUEFRVUU9ITEsdC5UT05FTUFQUElORz0hMSx0LlRPTkVNQVBQSU5HX0FDRVM9ITEsdC5DT05UUkFTVD0hMSx0LkNPTE9SQ1VSVkVTPSExLHQuQ09MT1JHUkFESU5HPSExLHQuQ09MT1JHUkFESU5HM0Q9ITEsdC5TQU1QTEVSM0RHUkVFTkRFUFRIPSExLHQuU0FNUExFUjNEQkdSTUFQPSExLHQuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdC5FWFBPU1VSRT0hMSx0LlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdC5yZWJ1aWxkKCksdH1yZXR1cm4gZX0oeXIpO3ZhciBOdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbG9yQ3VydmVzPW5ldyBicix0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD0hMCx0aGlzLl9jb2xvckdyYWRpbmdCR1I9ITAsdGhpcy5fZXhwb3N1cmU9MSx0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ITEsdGhpcy5fdG9uZU1hcHBpbmdUeXBlPWkuVE9ORU1BUFBJTkdfU1RBTkRBUkQsdGhpcy5fY29udHJhc3Q9MSx0aGlzLnZpZ25ldHRlU3RyZXRjaD0wLHRoaXMudmlnbmV0dGVDZW50cmVYPTAsdGhpcy52aWduZXR0ZUNlbnRyZVk9MCx0aGlzLnZpZ25ldHRlV2VpZ2h0PTEuNSx0aGlzLnZpZ25ldHRlQ29sb3I9bmV3IEVlKDAsMCwwLDApLHRoaXMudmlnbmV0dGVDYW1lcmFGb3Y9LjUsdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGU9aS5WSUdORVRURU1PREVfTVVMVElQTFksdGhpcy5fdmlnbmV0dGVFbmFibGVkPSExLHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXA9ITEsdGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzPSExLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLm9uVXBkYXRlUGFyYW1ldGVycz1uZXcgT31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckN1cnZlc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckdyYWRpbmdUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29sb3JHcmFkaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRofSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGghPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGg9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29sb3JHcmFkaW5nQkdSIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0JHUn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0JHUiE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdCR1I9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9leHBvc3VyZSE9PWUmJih0aGlzLl9leHBvc3VyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0b25lTWFwcGluZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0b25lTWFwcGluZ1R5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdG9uZU1hcHBpbmdUeXBlIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nVHlwZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb250cmFzdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250cmFzdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbnRyYXN0IT09ZSYmKHRoaXMuX2NvbnRyYXN0PWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInZpZ25ldHRlQmxlbmRNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdmlnbmV0dGVCbGVuZE1vZGUhPT1lJiYodGhpcy5fdmlnbmV0dGVCbGVuZE1vZGU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidmlnbmV0dGVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3ZpZ25ldHRlRW5hYmxlZCE9PWUmJih0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2tpcEZpbmFsQ29sb3JDbGFtcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcCE9PWUmJih0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFwcGx5QnlQb3N0UHJvY2VzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3MhPT1lJiYodGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5faXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fdXBkYXRlUGFyYW1ldGVycz1mdW5jdGlvbigpe3RoaXMub25VcGRhdGVQYXJhbWV0ZXJzLm5vdGlmeU9ic2VydmVycyh0aGlzKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ifSxpLlByZXBhcmVVbmlmb3Jtcz1mdW5jdGlvbihlLHQpe3QuRVhQT1NVUkUmJmUucHVzaCgiZXhwb3N1cmVMaW5lYXIiKSx0LkNPTlRSQVNUJiZlLnB1c2goImNvbnRyYXN0IiksdC5DT0xPUkdSQURJTkcmJmUucHVzaCgiY29sb3JUcmFuc2Zvcm1TZXR0aW5ncyIpLHQuVklHTkVUVEUmJihlLnB1c2goInZJbnZlcnNlU2NyZWVuU2l6ZSIpLGUucHVzaCgidmlnbmV0dGVTZXR0aW5nczEiKSxlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MyIikpLHQuQ09MT1JDVVJWRVMmJmJyLlByZXBhcmVVbmlmb3JtcyhlKX0saS5QcmVwYXJlU2FtcGxlcnM9ZnVuY3Rpb24oZSx0KXt0LkNPTE9SR1JBRElORyYmZS5wdXNoKCJ0eENvbG9yVHJhbnNmb3JtIil9LGkucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHQhPT10aGlzLmFwcGx5QnlQb3N0UHJvY2Vzc3x8IXRoaXMuX2lzRW5hYmxlZCl7ZS5WSUdORVRURT0hMSxlLlRPTkVNQVBQSU5HPSExLGUuVE9ORU1BUFBJTkdfQUNFUz0hMSxlLkNPTlRSQVNUPSExLGUuRVhQT1NVUkU9ITEsZS5DT0xPUkNVUlZFUz0hMSxlLkNPTE9SR1JBRElORz0hMSxlLkNPTE9SR1JBRElORzNEPSExLGUuSU1BR0VQUk9DRVNTSU5HPSExLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyYmdGhpcy5faXNFbmFibGVkO3JldHVybn1zd2l0Y2goZS5WSUdORVRURT10aGlzLnZpZ25ldHRlRW5hYmxlZCxlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9dGhpcy52aWduZXR0ZUJsZW5kTW9kZT09PWkuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWSxlLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSFlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFksZS5UT05FTUFQUElORz10aGlzLnRvbmVNYXBwaW5nRW5hYmxlZCx0aGlzLl90b25lTWFwcGluZ1R5cGUpe2Nhc2UgaS5UT05FTUFQUElOR19BQ0VTOmUuVE9ORU1BUFBJTkdfQUNFUz0hMDticmVhaztkZWZhdWx0OmUuVE9ORU1BUFBJTkdfQUNFUz0hMTticmVha31lLkNPTlRSQVNUPXRoaXMuY29udHJhc3QhPT0xLGUuRVhQT1NVUkU9dGhpcy5leHBvc3VyZSE9PTEsZS5DT0xPUkNVUlZFUz10aGlzLmNvbG9yQ3VydmVzRW5hYmxlZCYmISF0aGlzLmNvbG9yQ3VydmVzLGUuQ09MT1JHUkFESU5HPXRoaXMuY29sb3JHcmFkaW5nRW5hYmxlZCYmISF0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUsZS5DT0xPUkdSQURJTkc/ZS5DT0xPUkdSQURJTkczRD10aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXMzRDplLkNPTE9SR1JBRElORzNEPSExLGUuU0FNUExFUjNER1JFRU5ERVBUSD10aGlzLmNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoLGUuU0FNUExFUjNEQkdSTUFQPXRoaXMuY29sb3JHcmFkaW5nQkdSLGUuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3MsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lORz1lLlZJR05FVFRFfHxlLlRPTkVNQVBQSU5HfHxlLkNPTlRSQVNUfHxlLkVYUE9TVVJFfHxlLkNPTE9SQ1VSVkVTfHxlLkNPTE9SR1JBRElOR30saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmNvbG9yR3JhZGluZ0VuYWJsZWR8fCF0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmV8fHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pc1JlYWR5KCl9LGkucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQmJnRoaXMuY29sb3JDdXJ2ZXMmJmJyLkJpbmQodGhpcy5jb2xvckN1cnZlcyxlKSx0aGlzLl92aWduZXR0ZUVuYWJsZWQpe3ZhciByPTEvZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLG49MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpO2Uuc2V0RmxvYXQyKCJ2SW52ZXJzZVNjcmVlblNpemUiLHIsbik7dmFyIGE9dD8/bi9yLHM9TWF0aC50YW4odGhpcy52aWduZXR0ZUNhbWVyYUZvdiouNSksbz1zKmEsdT1NYXRoLnNxcnQobypzKTtvPV9lLk1peChvLHUsdGhpcy52aWduZXR0ZVN0cmV0Y2gpLHM9X2UuTWl4KHMsdSx0aGlzLnZpZ25ldHRlU3RyZXRjaCksZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MxIixvLHMsLW8qdGhpcy52aWduZXR0ZUNlbnRyZVgsLXMqdGhpcy52aWduZXR0ZUNlbnRyZVkpO3ZhciBmPS0yKnRoaXMudmlnbmV0dGVXZWlnaHQ7ZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MyIix0aGlzLnZpZ25ldHRlQ29sb3Iucix0aGlzLnZpZ25ldHRlQ29sb3IuZyx0aGlzLnZpZ25ldHRlQ29sb3IuYixmKX1pZihlLnNldEZsb2F0KCJleHBvc3VyZUxpbmVhciIsdGhpcy5leHBvc3VyZSksZS5zZXRGbG9hdCgiY29udHJhc3QiLHRoaXMuY29udHJhc3QpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSl7ZS5zZXRUZXh0dXJlKCJ0eENvbG9yVHJhbnNmb3JtIix0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpO3ZhciBsPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5nZXRTaXplKCkuaGVpZ2h0O2Uuc2V0RmxvYXQ0KCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiwobC0xKS9sLC41L2wsbCx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUubGV2ZWwpfX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gSi5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sdGhpcyl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBKLlNlcmlhbGl6ZSh0aGlzKX0saS5QYXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gSi5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sZSxudWxsLG51bGwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVklHTkVUVEVNT0RFX01VTFRJUExZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVklHTkVUVEVNT0RFX09QQVFVRSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfT1BBUVVFfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuVE9ORU1BUFBJTkdfU1RBTkRBUkQ9MCxpLlRPTkVNQVBQSU5HX0FDRVM9MSxpLl9WSUdORVRURU1PREVfTVVMVElQTFk9MCxpLl9WSUdORVRURU1PREVfT1BBUVVFPTEsVChbaWEoKV0saS5wcm90b3R5cGUsImNvbG9yQ3VydmVzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckN1cnZlc0VuYWJsZWQiLHZvaWQgMCksVChbSGUoImNvbG9yR3JhZGluZ1RleHR1cmUiKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdUZXh0dXJlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nQkdSIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9leHBvc3VyZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl90b25lTWFwcGluZ1R5cGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2NvbnRyYXN0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlU3RyZXRjaCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRyZVgiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidmlnbmV0dGVDZW50cmVZIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlV2VpZ2h0Iix2b2lkIDApLFQoW1VpKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNvbG9yIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlQ2FtZXJhRm92Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl92aWduZXR0ZUJsZW5kTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfdmlnbmV0dGVFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9za2lwRmluYWxDb2xvckNsYW1wIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9hcHBseUJ5UG9zdFByb2Nlc3MiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2lzRW5hYmxlZCIsdm9pZCAwKSxpfSgpO0ouX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9TnQuUGFyc2UsZmUucHJvdG90eXBlLmNyZWF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHVuaWZvcm0gYnVmZmVyIik7dmFyIHQ9bmV3IFp0KGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoaSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0sZmUucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkeW5hbWljIHVuaWZvcm0gYnVmZmVyIik7dmFyIHQ9bmV3IFp0KGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGkpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxmZS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihpLGUsdCxyKXt0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKGkpLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDA/ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsZSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLGUuc3ViYXJyYXkodCx0K3IpKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQrcikpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCl9LGZlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihpKXt0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGk/aS51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LGZlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2U9ZnVuY3Rpb24oaSxlLHQpe3RoaXMuX2dsLmJpbmRCdWZmZXJCYXNlKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGUsaT9pLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sZmUucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPWkucHJvZ3JhbSxuPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KHIsZSk7biE9PTQyOTQ5NjcyOTUmJnRoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcocixuLHQpfTt2YXIgRXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9ITEpLHRoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy5fZW5naW5lPWUsdGhpcy5fbm9VQk89IWUuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8YSx0aGlzLl9keW5hbWljPXIsdGhpcy5fbmFtZT1uPz8ibm8tbmFtZSIsdGhpcy5fZGF0YT10fHxbXSx0aGlzLl91bmlmb3JtTG9jYXRpb25zPXt9LHRoaXMuX3VuaWZvcm1TaXplcz17fSx0aGlzLl91bmlmb3JtQXJyYXlTaXplcz17fSx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyPTAsdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycz1bXSx0aGlzLl9idWZmZXJJbmRleD0tMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRGcmFtZUlkPTApLHRoaXMuX25vVUJPPyh0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yMz10aGlzLl91cGRhdGVWZWN0b3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yND10aGlzLl91cGRhdGVDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDI9dGhpcy5fdXBkYXRlSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvckVmZmVjdCk6KHRoaXMuX2VuZ2luZS5fdW5pZm9ybUJ1ZmZlcnMucHVzaCh0aGlzKSx0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4MngyPXRoaXMuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mz10aGlzLl91cGRhdGVGbG9hdDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlQXJyYXk9dGhpcy5fdXBkYXRlQXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JVbmlmb3JtKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VVYm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbm9VQk99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1N5bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbmVlZFN5bmN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNEeW5hbWljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R5bmFtaWMhPT12b2lkIDB9LGkucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyRGF0YX0saS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn0saS5wcm90b3R5cGUuX2ZpbGxBbGlnbm1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZTw9Mj90PWU6dD00LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIldCE9PTApe3ZhciByPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI7dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dC10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQ7Zm9yKHZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXItcixhPTA7YTxuO2ErKyl0aGlzLl9kYXRhLnB1c2goMCl9fSxpLnByb3RvdHlwZS5hZGRVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0wKSwhdGhpcy5fbm9VQk8mJnRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV09PT12b2lkIDApe3ZhciBuO2lmKHI+MCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXRocm93ImFkZFVuaWZvcm0gc2hvdWxkIG5vdCBiZSB1c2Ugd2l0aCBBcnJheSBpbiBVQk86ICIrZTtpZih0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdPXtzdHJpZGVTaXplOnQsYXJyYXlTaXplOnJ9LHQ9PTE2KXQ9dCpyO2Vsc2V7dmFyIGE9NC10LHM9YSpyO3Q9dCpyK3N9bj1bXTtmb3IodmFyIG89MDtvPHQ7bysrKW4ucHVzaCgwKX1lbHNle2lmKHQgaW5zdGFuY2VvZiBBcnJheSluPXQsdD1uLmxlbmd0aDtlbHNle3Q9dCxuPVtdO2Zvcih2YXIgbz0wO288dDtvKyspbi5wdXNoKDApfXRoaXMuX2ZpbGxBbGlnbm1lbnQodCl9dGhpcy5fdW5pZm9ybVNpemVzW2VdPXQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQ7Zm9yKHZhciBvPTA7bzx0O28rKyl0aGlzLl9kYXRhLnB1c2gobltvXSk7dGhpcy5fbmVlZFN5bmM9ITB9fSxpLnByb3RvdHlwZS5hZGRNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLmFkZFVuaWZvcm0oZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LnRvQXJyYXkoKSkpfSxpLnByb3RvdHlwZS5hZGRGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVt0LHJdO3RoaXMuYWRkVW5pZm9ybShlLG4pfSxpLnByb3RvdHlwZS5hZGRGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9W3QscixuXTt0aGlzLmFkZFVuaWZvcm0oZSxhKX0saS5wcm90b3R5cGUuYWRkQ29sb3IzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W3Qucix0LmcsdC5iXTt0aGlzLmFkZFVuaWZvcm0oZSxyKX0saS5wcm90b3R5cGUuYWRkQ29sb3I0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bdC5yLHQuZyx0LmIscl07dGhpcy5hZGRVbmlmb3JtKGUsbil9LGkucHJvdG90eXBlLmFkZFZlY3RvcjM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bdC54LHQueSx0LnpdO3RoaXMuYWRkVW5pZm9ybShlLHIpfSxpLnByb3RvdHlwZS5hZGRNYXRyaXgzeDM9ZnVuY3Rpb24oZSl7dGhpcy5hZGRVbmlmb3JtKGUsMTIpfSxpLnByb3RvdHlwZS5hZGRNYXRyaXgyeDI9ZnVuY3Rpb24oZSl7dGhpcy5hZGRVbmlmb3JtKGUsOCl9LGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3RoaXMuX25vVUJPfHx0aGlzLl9idWZmZXJ8fCh0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX2J1ZmZlckRhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9kYXRhKSx0aGlzLl9yZWJ1aWxkKCksdGhpcy5fbmVlZFN5bmM9ITApfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX25vVUJPfHwhdGhpcy5fYnVmZmVyRGF0YXx8KHRoaXMuX2R5bmFtaWM/dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycy5wdXNoKFt0aGlzLl9idWZmZXIsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5jaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkP3RoaXMuX2J1ZmZlckRhdGEuc2xpY2UoKTp2b2lkIDBdKSx0aGlzLl9idWZmZXJJbmRleD10aGlzLl9idWZmZXJzLmxlbmd0aC0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfbnVtQnVmZmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJzLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9pbmRleEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYnVmZmVyc0VxdWFsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpaWYoZVtyXSE9PXRbcl0pcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLl9jb3B5QnVmZmVyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpdFtyXT1lW3JdfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZighdGhpcy5fbm9VQk8pe2lmKHRoaXMuYmluZFVuaWZvcm1CdWZmZXIoKSwhdGhpcy5fYnVmZmVyKXt0aGlzLmNyZWF0ZSgpO3JldHVybn1pZighdGhpcy5fZHluYW1pYyYmIXRoaXMuX25lZWRTeW5jKXt0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZTtyZXR1cm59aWYodGhpcy5fYnVmZmVycyYmdGhpcy5fYnVmZmVycy5sZW5ndGg+MSYmdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0paWYodGhpcy5fYnVmZmVyc0VxdWFsKHRoaXMuX2J1ZmZlckRhdGEsdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0pKXt0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZTtyZXR1cm59ZWxzZSB0aGlzLl9jb3B5QnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEsdGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMV0pO3RoaXMuX2VuZ2luZS51cGRhdGVVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLl9jb2xsZWN0VWJvc1VwZGF0ZWRJbkZyYW1lJiYoaS5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdfHwoaS5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdPTApLGkuX1VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXSsrKSx0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZX19LGkucHJvdG90eXBlLl9jcmVhdGVOZXdCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXJJbmRleCsxPHRoaXMuX2J1ZmZlcnMubGVuZ3RoPyh0aGlzLl9idWZmZXJJbmRleCsrLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX25lZWRTeW5jPSEwKTp0aGlzLl9yZWJ1aWxkKCl9LGkucHJvdG90eXBlLl9jaGVja05ld0ZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX0saS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybT1mdW5jdGlvbihlLHQscil7dGhpcy5fY2hlY2tOZXdGcmFtZSgpO3ZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYobj09PXZvaWQgMCl7aWYodGhpcy5fYnVmZmVyKXtrLkVycm9yKCJDYW5ub3QgYWRkIGFuIHVuaWZvcm0gYWZ0ZXIgVUJPIGhhcyBiZWVuIGNyZWF0ZWQuIik7cmV0dXJufXRoaXMuYWRkVW5pZm9ybShlLHIpLG49dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXX1pZih0aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCksdGhpcy5fZHluYW1pYylmb3IodmFyIHM9MDtzPHI7cysrKXRoaXMuX2J1ZmZlckRhdGFbbitzXT10W3NdO2Vsc2V7Zm9yKHZhciBhPSExLHM9MDtzPHI7cysrKShyPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbbitzXSE9PV9lLkZsb2F0Um91bmQodFtzXSkpJiYoYT0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW24rc109dFtzXSk7dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fGF9fSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTt2YXIgbj10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKG49PT12b2lkIDApe2suRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybS4iKTtyZXR1cm59dGhpcy5fYnVmZmVyfHx0aGlzLmNyZWF0ZSgpO3ZhciBhPXRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdO2lmKHRoaXMuX2R5bmFtaWMpZm9yKHZhciBmPTA7ZjxyO2YrKyl0aGlzLl9idWZmZXJEYXRhW24rZl09dFtmXTtlbHNle2Zvcih2YXIgcz0hMSxvPTAsdT0wLGY9MDtmPHI7ZisrKWlmKHRoaXMuX2J1ZmZlckRhdGFbbit1KjQrb10hPT1fZS5GbG9hdFJvdW5kKHRbZl0pJiYocz0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW24rdSo0K29dPXRbZl0pLG8rKyxvPT09YS5zdHJpZGVTaXplKXtmb3IoO288NDtvKyspdGhpcy5fYnVmZmVyRGF0YVtuK3UqNCtvXT0wO289MCx1Kyt9dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fHN9fSxpLnByb3RvdHlwZS5fY2FjaGVNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXSxuPXQudXBkYXRlRmxhZztyZXR1cm4gciE9PXZvaWQgMCYmcj09PW4/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMCl9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwzO3IrKylpLl9UZW1wQnVmZmVyW3IqNF09dFtyKjNdLGkuX1RlbXBCdWZmZXJbcio0KzFdPXRbciozKzFdLGkuX1RlbXBCdWZmZXJbcio0KzJdPXRbciozKzJdLGkuX1RlbXBCdWZmZXJbcio0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwxMil9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgyeDIoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDI7cisrKWkuX1RlbXBCdWZmZXJbcio0XT10W3IqMl0saS5fVGVtcEJ1ZmZlcltyKjQrMV09dFtyKjIrMV0saS5fVGVtcEJ1ZmZlcltyKjQrMl09MCxpLl9UZW1wQnVmZmVyW3IqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsOCl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdEZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDEpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK24sdCxyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIpe2kuX1RlbXBCdWZmZXJbMF09dCxpLl9UZW1wQnVmZmVyWzFdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdD1mdW5jdGlvbihlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK2EsdCxyLG4pfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuKXtpLl9UZW1wQnVmZmVyWzBdPXQsaS5fVGVtcEJ1ZmZlclsxXT1yLGkuX1RlbXBCdWZmZXJbMl09bix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStzLHQscixuLGEpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuLGEpe2kuX1RlbXBCdWZmZXJbMF09dCxpLl9UZW1wQnVmZmVyWzFdPXIsaS5fVGVtcEJ1ZmZlclsyXT1uLGkuX1RlbXBCdWZmZXJbM109YSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXRBcnJheShlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlQXJyYXlGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVySW50MzJWaWV3LnNldCh0KSx0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLGkuX1RlbXBCdWZmZXIsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiZ0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LnRvQXJyYXkoKSwxNil9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cmljZXMoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yM0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yMyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVyWzBdPXQueCxpLl9UZW1wQnVmZmVyWzFdPXQueSxpLl9UZW1wQnVmZmVyWzJdPXQueix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yNEZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yNEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVyWzBdPXQueCxpLl9UZW1wQnVmZmVyWzFdPXQueSxpLl9UZW1wQnVmZmVyWzJdPXQueixpLl9UZW1wQnVmZmVyWzNdPXQudyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3IzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJbMF09dC5yLGkuX1RlbXBCdWZmZXJbMV09dC5nLGkuX1RlbXBCdWZmZXJbMl09dC5iLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMyl9LGkucHJvdG90eXBlLl91cGRhdGVDb2xvcjRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrbix0LHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXREaXJlY3RDb2xvcjQoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscil7aS5fVGVtcEJ1ZmZlclswXT10LnIsaS5fVGVtcEJ1ZmZlclsxXT10LmcsaS5fVGVtcEJ1ZmZlclsyXT10LmIsaS5fVGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsNCl9LGkucHJvdG90eXBlLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7aS5fVGVtcEJ1ZmZlclswXT10LnIsaS5fVGVtcEJ1ZmZlclsxXT10LmcsaS5fVGVtcEJ1ZmZlclsyXT10LmIsaS5fVGVtcEJ1ZmZlclszXT10LmEsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEZvckVmZmVjdD1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUrcix0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwxKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDJGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK24sdCxyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDJGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMil9LGkucHJvdG90eXBlLl91cGRhdGVJbnQzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK2EsdCxyLG4pfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50M0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIsbil7aS5fVGVtcEJ1ZmZlckludDMyVmlld1swXT10LGkuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMV09cixpLl9UZW1wQnVmZmVySW50MzJWaWV3WzJdPW4sdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwzKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStzLHQscixuLGEpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50NEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIsbixhKXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLGkuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09bixpLl9UZW1wQnVmZmVySW50MzJWaWV3WzNdPWEsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VGV4dHVyZShlLHQpfSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtRGlyZWN0bHk9ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LHQubGVuZ3RoKSx0aGlzLnVwZGF0ZSgpfSxpLnByb3RvdHlwZS5iaW5kVG9FZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oKXshdGhpcy5fbm9VQk8mJnRoaXMuX2J1ZmZlciYmdGhpcy5fY3VycmVudEVmZmVjdCYmdGhpcy5fY3VycmVudEVmZmVjdC5iaW5kVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXIsdGhpcy5fY3VycmVudEVmZmVjdE5hbWUpfSxpLnByb3RvdHlwZS51bmJpbmRFZmZlY3Q9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT12b2lkIDB9LGkucHJvdG90eXBlLnNldERhdGFCdWZmZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKHZhciB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX2J1ZmZlcnNbdF07aWYoclswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9ub1VCTyl7dmFyIGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcih2YXIgcj0wO3I8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytyKXt2YXIgbj10aGlzLl9idWZmZXJzW3JdWzBdO3RoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcihuKX1lbHNlIHRoaXMuX2J1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2J1ZmZlcikmJih0aGlzLl9idWZmZXI9bnVsbCl9fSxpLl9VcGRhdGVkVWJvc0luRnJhbWU9e30saS5fTUFYX1VOSUZPUk1fU0laRT0yNTYsaS5fVGVtcEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KGkuX01BWF9VTklGT1JNX1NJWkUpLGkuX1RlbXBCdWZmZXJJbnQzMlZpZXc9bmV3IFVpbnQzMkFycmF5KGkuX1RlbXBCdWZmZXIuYnVmZmVyKSxpfSgpLFRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUpe249PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPSExKSxzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITEpLHRoaXMuX2lzQWxyZWFkeU93bmVkPSExLGUuZ2V0U2NlbmU/dGhpcy5fZW5naW5lPWUuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTp0aGlzLl9lbmdpbmU9ZSx0aGlzLl91cGRhdGFibGU9cix0aGlzLl9pbnN0YW5jZWQ9cyx0aGlzLl9kaXZpc29yPXV8fDEsdCBpbnN0YW5jZW9mIE1pPyh0aGlzLl9kYXRhPW51bGwsdGhpcy5fYnVmZmVyPXQpOih0aGlzLl9kYXRhPXQsdGhpcy5fYnVmZmVyPW51bGwpLHRoaXMuYnl0ZVN0cmlkZT1vP246bipGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsYXx8dGhpcy5jcmVhdGUoKX1yZXR1cm4gaS5wcm90b3R5cGUuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPSExKTt2YXIgdT1zP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsZj1uP3M/bjpuKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVDp0aGlzLmJ5dGVTdHJpZGU7cmV0dXJuIG5ldyBtKHRoaXMuX2VuZ2luZSx0aGlzLGUsdGhpcy5fdXBkYXRhYmxlLCEwLGYsYT09PXZvaWQgMD90aGlzLl9pbnN0YW5jZWQ6YSx1LHIsdm9pZCAwLHZvaWQgMCwhMCx0aGlzLl9kaXZpc29yfHxvKX0saS5wcm90b3R5cGUuaXNVcGRhdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfSxpLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGkucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LGkucHJvdG90eXBlLmdldFN0cmlkZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH0saS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPW51bGwpLCEoIWUmJnRoaXMuX2J1ZmZlcikmJihlPWV8fHRoaXMuX2RhdGEsZSYmKHRoaXMuX2J1ZmZlcj90aGlzLl91cGRhdGFibGUmJih0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcih0aGlzLl9idWZmZXIsZSksdGhpcy5fZGF0YT1lKTp0aGlzLl91cGRhdGFibGU/KHRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVmVydGV4QnVmZmVyKGUpKSl9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5fYnVmZmVyPW51bGwsdGhpcy5jcmVhdGUodGhpcy5fZGF0YSl9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNyZWF0ZShlKX0saS5wcm90b3R5cGUudXBkYXRlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX2J1ZmZlciYmdGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUsbj90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHI/cip0aGlzLmJ5dGVTdHJpZGU6dm9pZCAwKSx0PT09MCYmcj09PXZvaWQgMD90aGlzLl9kYXRhPWU6dGhpcy5fZGF0YT1udWxsKX0saS5wcm90b3R5cGUuX2luY3JlYXNlUmVmZXJlbmNlcz1mdW5jdGlvbigpe2lmKHRoaXMuX2J1ZmZlcil7aWYoIXRoaXMuX2lzQWxyZWFkeU93bmVkKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMDtyZXR1cm59dGhpcy5fYnVmZmVyLnJlZmVyZW5jZXMrK319LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9idWZmZXIpJiYodGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fZGF0YT1udWxsKX0saX0oKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHApe2lmKGg9PT12b2lkIDAmJihoPSExKSxjPT09dm9pZCAwJiYoYz0hMSksZD09PXZvaWQgMCYmKGQ9MSkscD09PXZvaWQgMCYmKHA9ITEpLHQgaW5zdGFuY2VvZiBUcj8odGhpcy5fYnVmZmVyPXQsdGhpcy5fb3duc0J1ZmZlcj1wKToodGhpcy5fYnVmZmVyPW5ldyBUcihlLHQsbixzLGEsbyxjKSx0aGlzLl9vd25zQnVmZmVyPSEwKSx0aGlzLnVuaXF1ZUlkPWkuX0NvdW50ZXIrKyx0aGlzLl9raW5kPXIsbD09bnVsbCl7dmFyIGc9dGhpcy5nZXREYXRhKCk7dGhpcy50eXBlPWkuRkxPQVQsZyBpbnN0YW5jZW9mIEludDhBcnJheT90aGlzLnR5cGU9aS5CWVRFOmcgaW5zdGFuY2VvZiBVaW50OEFycmF5P3RoaXMudHlwZT1pLlVOU0lHTkVEX0JZVEU6ZyBpbnN0YW5jZW9mIEludDE2QXJyYXk/dGhpcy50eXBlPWkuU0hPUlQ6ZyBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P3RoaXMudHlwZT1pLlVOU0lHTkVEX1NIT1JUOmcgaW5zdGFuY2VvZiBJbnQzMkFycmF5P3RoaXMudHlwZT1pLklOVDpnIGluc3RhbmNlb2YgVWludDMyQXJyYXkmJih0aGlzLnR5cGU9aS5VTlNJR05FRF9JTlQpfWVsc2UgdGhpcy50eXBlPWw7dmFyIF89aS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpO2M/KHRoaXMuX3NpemU9Znx8KHM/cy9fOmkuRGVkdWNlU3RyaWRlKHIpKSx0aGlzLmJ5dGVTdHJpZGU9c3x8dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqXyx0aGlzLmJ5dGVPZmZzZXQ9dXx8MCk6KHRoaXMuX3NpemU9Znx8c3x8aS5EZWR1Y2VTdHJpZGUociksdGhpcy5ieXRlU3RyaWRlPXM/cypfOnRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKl8sdGhpcy5ieXRlT2Zmc2V0PSh1fHwwKSpfKSx0aGlzLm5vcm1hbGl6ZWQ9aCx0aGlzLl9pbnN0YW5jZWQ9byE9PXZvaWQgMD9vOiExLHRoaXMuX2luc3RhbmNlRGl2aXNvcj1vP2Q6MCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpbnN0YW5jZURpdmlzb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faW5zdGFuY2VEaXZpc29yPWUsZT09MD90aGlzLl9pbnN0YW5jZWQ9ITE6dGhpcy5faW5zdGFuY2VkPSEwLHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9jb21wdXRlSGFzaENvZGU9ZnVuY3Rpb24oKXt0aGlzLmhhc2hDb2RlPSh0aGlzLnR5cGUtNTEyMDw8MCkrKCh0aGlzLm5vcm1hbGl6ZWQ/MTowKTw8MykrKHRoaXMuX3NpemU8PDQpKygodGhpcy5faW5zdGFuY2VkPzE6MCk8PDYpKyh0aGlzLmJ5dGVTdHJpZGU8PDEyKX0saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXImJnRoaXMuX2J1ZmZlci5fcmVidWlsZCgpfSxpLnByb3RvdHlwZS5nZXRLaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tpbmR9LGkucHJvdG90eXBlLmlzVXBkYXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5pc1VwZGF0YWJsZSgpfSxpLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXREYXRhKCl9LGkucHJvdG90eXBlLmdldEZsb2F0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ2V0RGF0YSgpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZ2V0U2l6ZSgpKmkuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKSxhPWUqdGhpcy5nZXRTaXplKCk7aWYodGhpcy50eXBlIT09aS5GTE9BVHx8dGhpcy5ieXRlU3RyaWRlIT09bil7dmFyIHM9bmV3IEZsb2F0MzJBcnJheShhKTtyZXR1cm4gdGhpcy5mb3JFYWNoKGEsZnVuY3Rpb24oaCxjKXtyZXR1cm4gc1tjXT1ofSksc31pZighKHIgaW5zdGFuY2VvZiBBcnJheXx8ciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl8fHRoaXMuYnl0ZU9mZnNldCE9PTB8fHIubGVuZ3RoIT09YSlpZihyIGluc3RhbmNlb2YgQXJyYXkpe3ZhciBvPXRoaXMuYnl0ZU9mZnNldC80O3JldHVybiByLnNsaWNlKG8sbythKX1lbHNle2lmKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShyLHRoaXMuYnl0ZU9mZnNldCxhKTt2YXIgbz1yLmJ5dGVPZmZzZXQrdGhpcy5ieXRlT2Zmc2V0O2lmKHQpe3ZhciB1PW5ldyBGbG9hdDMyQXJyYXkoYSksZj1uZXcgRmxvYXQzMkFycmF5KHIuYnVmZmVyLG8sYSk7cmV0dXJuIHUuc2V0KGYpLHV9dmFyIGw9byU0O3JldHVybiBsJiYobz1NYXRoLm1heCgwLG8tbCkpLG5ldyBGbG9hdDMyQXJyYXkoci5idWZmZXIsbyxhKX1yZXR1cm4gdD9yLnNsaWNlKCk6cn0saS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRCdWZmZXIoKX0saS5wcm90b3R5cGUuZ2V0U3RyaWRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ5dGVTdHJpZGUvaS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpfSxpLnByb3RvdHlwZS5nZXRPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0L2kuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX0saS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLGU/dGhpcy5fc2l6ZSppLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSk6dGhpcy5fc2l6ZX0saS5wcm90b3R5cGUuZ2V0SXNJbnN0YW5jZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VkfSxpLnByb3RvdHlwZS5nZXRJbnN0YW5jZURpdmlzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fYnVmZmVyLmNyZWF0ZShlKX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlci51cGRhdGUoZSl9LGkucHJvdG90eXBlLnVwZGF0ZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fYnVmZmVyLnVwZGF0ZURpcmVjdGx5KGUsdCx2b2lkIDAscil9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9vd25zQnVmZmVyJiZ0aGlzLl9idWZmZXIuZGlzcG9zZSgpfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7aS5Gb3JFYWNoKHRoaXMuX2J1ZmZlci5nZXREYXRhKCksdGhpcy5ieXRlT2Zmc2V0LHRoaXMuYnl0ZVN0cmlkZSx0aGlzLl9zaXplLHRoaXMudHlwZSxlLHRoaXMubm9ybWFsaXplZCx0KX0saS5EZWR1Y2VTdHJpZGU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgaS5VVktpbmQ6Y2FzZSBpLlVWMktpbmQ6Y2FzZSBpLlVWM0tpbmQ6Y2FzZSBpLlVWNEtpbmQ6Y2FzZSBpLlVWNUtpbmQ6Y2FzZSBpLlVWNktpbmQ6cmV0dXJuIDI7Y2FzZSBpLk5vcm1hbEtpbmQ6Y2FzZSBpLlBvc2l0aW9uS2luZDpyZXR1cm4gMztjYXNlIGkuQ29sb3JLaW5kOmNhc2UgaS5NYXRyaWNlc0luZGljZXNLaW5kOmNhc2UgaS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6Y2FzZSBpLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6Y2FzZSBpLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDpjYXNlIGkuVGFuZ2VudEtpbmQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQga2luZCAnIitlKyInIil9fSxpLkdldFR5cGVCeXRlTGVuZ3RoPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIGkuQllURTpjYXNlIGkuVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIGkuU0hPUlQ6Y2FzZSBpLlVOU0lHTkVEX1NIT1JUOnJldHVybiAyO2Nhc2UgaS5JTlQ6Y2FzZSBpLlVOU0lHTkVEX0lOVDpjYXNlIGkuRkxPQVQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdHlwZSAnIi5jb25jYXQoZSwiJyIpKX19LGkuRm9yRWFjaD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2lmKGUgaW5zdGFuY2VvZiBBcnJheSlmb3IodmFyIGY9dC80LGw9ci80LGg9MDtoPHM7aCs9bil7Zm9yKHZhciBjPTA7YzxuO2MrKyl1KGVbZitjXSxoK2MpO2YrPWx9ZWxzZSBmb3IodmFyIGQ9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBEYXRhVmlldyhlKTpuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscD1pLkdldFR5cGVCeXRlTGVuZ3RoKGEpLGg9MDtoPHM7aCs9bil7Zm9yKHZhciBnPXQsYz0wO2M8bjtjKyspe3ZhciBfPWkuX0dldEZsb2F0VmFsdWUoZCxhLGcsbyk7dShfLGgrYyksZys9cH10Kz1yfX0saS5fR2V0RmxvYXRWYWx1ZT1mdW5jdGlvbihlLHQscixuKXtzd2l0Y2godCl7Y2FzZSBpLkJZVEU6e3ZhciBhPWUuZ2V0SW50OChyKTtyZXR1cm4gbiYmKGE9TWF0aC5tYXgoYS8xMjcsLTEpKSxhfWNhc2UgaS5VTlNJR05FRF9CWVRFOnt2YXIgYT1lLmdldFVpbnQ4KHIpO3JldHVybiBuJiYoYT1hLzI1NSksYX1jYXNlIGkuU0hPUlQ6e3ZhciBhPWUuZ2V0SW50MTYociwhMCk7cmV0dXJuIG4mJihhPU1hdGgubWF4KGEvMzI3NjcsLTEpKSxhfWNhc2UgaS5VTlNJR05FRF9TSE9SVDp7dmFyIGE9ZS5nZXRVaW50MTYociwhMCk7cmV0dXJuIG4mJihhPWEvNjU1MzUpLGF9Y2FzZSBpLklOVDpyZXR1cm4gZS5nZXRJbnQzMihyLCEwKTtjYXNlIGkuVU5TSUdORURfSU5UOnJldHVybiBlLmdldFVpbnQzMihyLCEwKTtjYXNlIGkuRkxPQVQ6cmV0dXJuIGUuZ2V0RmxvYXQzMihyLCEwKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb21wb25lbnQgdHlwZSAiLmNvbmNhdCh0KSl9fSxpLl9Db3VudGVyPTAsaS5CWVRFPTUxMjAsaS5VTlNJR05FRF9CWVRFPTUxMjEsaS5TSE9SVD01MTIyLGkuVU5TSUdORURfU0hPUlQ9NTEyMyxpLklOVD01MTI0LGkuVU5TSUdORURfSU5UPTUxMjUsaS5GTE9BVD01MTI2LGkuUG9zaXRpb25LaW5kPSJwb3NpdGlvbiIsaS5Ob3JtYWxLaW5kPSJub3JtYWwiLGkuVGFuZ2VudEtpbmQ9InRhbmdlbnQiLGkuVVZLaW5kPSJ1diIsaS5VVjJLaW5kPSJ1djIiLGkuVVYzS2luZD0idXYzIixpLlVWNEtpbmQ9InV2NCIsaS5VVjVLaW5kPSJ1djUiLGkuVVY2S2luZD0idXY2IixpLkNvbG9yS2luZD0iY29sb3IiLGkuQ29sb3JJbnN0YW5jZUtpbmQ9Imluc3RhbmNlQ29sb3IiLGkuTWF0cmljZXNJbmRpY2VzS2luZD0ibWF0cmljZXNJbmRpY2VzIixpLk1hdHJpY2VzV2VpZ2h0c0tpbmQ9Im1hdHJpY2VzV2VpZ2h0cyIsaS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ9Im1hdHJpY2VzSW5kaWNlc0V4dHJhIixpLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZD0ibWF0cmljZXNXZWlnaHRzRXh0cmEiLGl9KCksUWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fcGlja2luZ1VuYXZhaWxhYmxlPSExLHRoaXMuaGl0PSExLHRoaXMuZGlzdGFuY2U9MCx0aGlzLnBpY2tlZFBvaW50PW51bGwsdGhpcy5waWNrZWRNZXNoPW51bGwsdGhpcy5idT0wLHRoaXMuYnY9MCx0aGlzLmZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hGYWNlSWQ9LTEsdGhpcy5zdWJNZXNoSWQ9MCx0aGlzLnBpY2tlZFNwcml0ZT1udWxsLHRoaXMudGhpbkluc3RhbmNlSW5kZXg9LTEsdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbk1lc2g9bnVsbCx0aGlzLmFpbVRyYW5zZm9ybT1udWxsLHRoaXMuZ3JpcFRyYW5zZm9ybT1udWxsfXJldHVybiBpLnByb3RvdHlwZS5nZXROb3JtYWw9ZnVuY3Rpb24oZSx0KXtpZihlPT09dm9pZCAwJiYoZT0hMSksdD09PXZvaWQgMCYmKHQ9ITApLCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCkpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighcilyZXR1cm4gbnVsbDt2YXIgbjtpZih0KXt2YXIgYT10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCkscz1iLkZyb21BcnJheShhLHJbdGhpcy5mYWNlSWQqM10qMyksbz1iLkZyb21BcnJheShhLHJbdGhpcy5mYWNlSWQqMysxXSozKSx1PWIuRnJvbUFycmF5KGEsclt0aGlzLmZhY2VJZCozKzJdKjMpO3M9cy5zY2FsZSh0aGlzLmJ1KSxvPW8uc2NhbGUodGhpcy5idiksdT11LnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuPW5ldyBiKHMueCtvLngrdS54LHMueStvLnkrdS55LHMueitvLnordS56KX1lbHNle3ZhciBmPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpLGw9Yi5Gcm9tQXJyYXkoZixyW3RoaXMuZmFjZUlkKjNdKjMpLGg9Yi5Gcm9tQXJyYXkoZixyW3RoaXMuZmFjZUlkKjMrMV0qMyksYz1iLkZyb21BcnJheShmLHJbdGhpcy5mYWNlSWQqMysyXSozKSxkPWwuc3VidHJhY3QoaCkscD1jLnN1YnRyYWN0KGgpO249Yi5Dcm9zcyhkLHApfWlmKGUpe3ZhciBnPXRoaXMucGlja2VkTWVzaC5nZXRXb3JsZE1hdHJpeCgpO3RoaXMucGlja2VkTWVzaC5ub25Vbmlmb3JtU2NhbGluZyYmKEQuTWF0cml4WzBdLmNvcHlGcm9tKGcpLGc9RC5NYXRyaXhbMF0sZy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLGcuaW52ZXJ0KCksZy50cmFuc3Bvc2VUb1JlZihELk1hdHJpeFsxXSksZz1ELk1hdHJpeFsxXSksbj1iLlRyYW5zZm9ybU5vcm1hbChuLGcpfXJldHVybiBuLm5vcm1hbGl6ZSgpLG59LGkucHJvdG90eXBlLmdldFRleHR1cmVDb29yZGluYXRlcz1mdW5jdGlvbigpe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSlyZXR1cm4gbnVsbDt2YXIgZT10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFlKXJldHVybiBudWxsO3ZhciB0PXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQpO2lmKCF0KXJldHVybiBudWxsO3ZhciByPVNlLkZyb21BcnJheSh0LGVbdGhpcy5mYWNlSWQqM10qMiksbj1TZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMV0qMiksYT1TZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMl0qMik7cmV0dXJuIHI9ci5zY2FsZSh0aGlzLmJ1KSxuPW4uc2NhbGUodGhpcy5idiksYT1hLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuZXcgU2Uoci54K24ueCthLngsci55K24ueSthLnkpfSxpfSgpLE5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyl7dGhpcy5zb3VyY2U9ZSx0aGlzLnBvaW50ZXJYPXQsdGhpcy5wb2ludGVyWT1yLHRoaXMubWVzaFVuZGVyUG9pbnRlcj1uLHRoaXMuc291cmNlRXZlbnQ9YSx0aGlzLmFkZGl0aW9uYWxEYXRhPXN9cmV0dXJuIGkuQ3JlYXRlTmV3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmdldFNjZW5lKCk7cmV0dXJuIG5ldyBpKGUsbi5wb2ludGVyWCxuLnBvaW50ZXJZLG4ubWVzaFVuZGVyUG9pbnRlcnx8ZSx0LHIpfSxpLkNyZWF0ZU5ld0Zyb21TcHJpdGU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKGUsdC5wb2ludGVyWCx0LnBvaW50ZXJZLHQubWVzaFVuZGVyUG9pbnRlcixyLG4pfSxpLkNyZWF0ZU5ld0Zyb21TY2VuZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShudWxsLGUucG9pbnRlclgsZS5wb2ludGVyWSxlLm1lc2hVbmRlclBvaW50ZXIsdCl9LGkuQ3JlYXRlTmV3RnJvbVByaW1pdGl2ZT1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkoZSx0LngsdC55LG51bGwscixuKX0saX0oKSxTcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9zY2VuZT1lfXJldHVybiBpLnByb3RvdHlwZS5fcHJlcGFyZUJ1ZmZlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF0pe3ZhciBlPVtdO2UucHVzaCgxLDEpLGUucHVzaCgtMSwxKSxlLnB1c2goLTEsLTEpLGUucHVzaCgxLC0xKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW20uUG9zaXRpb25LaW5kXT1uZXcgbSh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxlLG0uUG9zaXRpb25LaW5kLCExLCExLDIpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKX19LGkucHJvdG90eXBlLl9idWlsZEluZGV4QnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9W107ZS5wdXNoKDApLGUucHVzaCgxKSxlLnB1c2goMiksZS5wdXNoKDApLGUucHVzaCgyKSxlLnB1c2goMyksdGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlSW5kZXhCdWZmZXIoZSl9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF07ZSYmKGUuX3JlYnVpbGQoKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCkpfSxpLnByb3RvdHlwZS5fcHJlcGFyZUZyYW1lPWZ1bmN0aW9uKGUsdCl7ZT09PXZvaWQgMCYmKGU9bnVsbCksdD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiFyfHwodD10fHxyLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbiE9bnVsbH0pLCF0fHx0Lmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCk/ITE6KHRbMF0uYWN0aXZhdGUocixlLHQhPW51bGwpLCEwKX0saS5wcm90b3R5cGUuZGlyZWN0UmVuZGVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbzt0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMSksbj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9MCkscz09PXZvaWQgMCYmKHM9ITEpO2Zvcih2YXIgdT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxmPTA7ZjxlLmxlbmd0aDtmKyspe2Y8ZS5sZW5ndGgtMT9lW2YrMV0uYWN0aXZhdGUodGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/dS5iaW5kRnJhbWVidWZmZXIodCxuLHZvaWQgMCx2b2lkIDAscixhKTpzfHx1LnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSwobz11Ll9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodSwicG9zdCBwcm9jZXNzICIuY29uY2F0KGVbZl0ubmFtZSwiIG91dHB1dCIpKSk7dmFyIGw9ZVtmXSxoPWwuYXBwbHkoKTtoJiYobC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksdS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGgpLHUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksbC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCkpfXUuc2V0RGVwdGhCdWZmZXIoITApLHUuc2V0RGVwdGhXcml0ZSghMCl9LGkucHJvdG90eXBlLl9maW5hbGl6ZUZyYW1lPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM7YT09PXZvaWQgMCYmKGE9ITEpO3ZhciBvPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtpZihvJiYobj1ufHxvLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZCE9bnVsbH0pLCEobi5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpKSl7Zm9yKHZhciB1PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGY9MCxsPW4ubGVuZ3RoO2Y8bDtmKyspe3ZhciBoPW5bZl07aWYoZjxsLTE/aC5fb3V0cHV0VGV4dHVyZT1uW2YrMV0uYWN0aXZhdGUobyx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0Pyh1LmJpbmRGcmFtZWJ1ZmZlcih0LHIsdm9pZCAwLHZvaWQgMCxhKSxoLl9vdXRwdXRUZXh0dXJlPXQpOih1LnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSxoLl9vdXRwdXRUZXh0dXJlPW51bGwpLChzPXUuX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbCh1LCJwb3N0IHByb2Nlc3MgIi5jb25jYXQobltmXS5uYW1lLCIgb3V0cHV0IikpKSxlKWJyZWFrO3ZhciBjPWguYXBwbHkoKTtjJiYoaC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGMpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksdS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGMpLHUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksaC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYykpfXUuc2V0RGVwdGhCdWZmZXIoITApLHUuc2V0RGVwdGhXcml0ZSghMCksdS5zZXRBbHBoYU1vZGUoMCl9fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF07ZSYmKGUuZGlzcG9zZSgpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbbS5Qb3NpdGlvbktpbmRdPW51bGwpLHRoaXMuX2luZGV4QnVmZmVyJiYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGV4QnVmZmVyPW51bGwpfSxpfSgpLGFhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEpe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHRoaXMuaW5kZXg9ZSx0aGlzLl9vcGFxdWVTdWJNZXNoZXM9bmV3IFZlKDI1NiksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXM9bmV3IFZlKDI1NiksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzPW5ldyBWZSgyNTYpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcz1uZXcgVmUoMjU2KSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXM9bmV3IFZlKDI1NiksdGhpcy5fc3ByaXRlTWFuYWdlcnM9bmV3IFZlKDI1NiksdGhpcy5fZW1wdHk9ITAsdGhpcy5fZWRnZXNSZW5kZXJlcnM9bmV3IEl0KDE2KSx0aGlzLl9zY2VuZT10LHRoaXMub3BhcXVlU29ydENvbXBhcmVGbj1yLHRoaXMuYWxwaGFUZXN0U29ydENvbXBhcmVGbj1uLHRoaXMudHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPWF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BhcXVlU29ydENvbXBhcmVGbiIse3NldDpmdW5jdGlvbihlKXtlP3RoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49ZTp0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPWkuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlck9wYXF1ZT10aGlzLl9yZW5kZXJPcGFxdWVTb3J0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYVRlc3RTb3J0Q29tcGFyZUZuIix7c2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1lOnRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49aS5QYWludGVyU29ydENvbXBhcmUsdGhpcy5fcmVuZGVyQWxwaGFUZXN0PXRoaXMuX3JlbmRlckFscGhhVGVzdFNvcnRlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYW5zcGFyZW50U29ydENvbXBhcmVGbiIse3NldDpmdW5jdGlvbihlKXtlP3RoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1lOnRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1pLmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlLHRoaXMuX3JlbmRlclRyYW5zcGFyZW50PXRoaXMuX3JlbmRlclRyYW5zcGFyZW50U29ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQscixuKXtpZihlKXtlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMsdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMsdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKTtyZXR1cm59dmFyIGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmxlbmd0aCE9PTAmJihhLnNldENvbG9yV3JpdGUoITEpLHRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpLGEuc2V0Q29sb3JXcml0ZSghMCkpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJPcGFxdWUodGhpcy5fb3BhcXVlU3ViTWVzaGVzKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyk7dmFyIHM9YS5nZXRTdGVuY2lsQnVmZmVyKCk7aWYoYS5zZXRTdGVuY2lsQnVmZmVyKCExKSx0JiZ0aGlzLl9yZW5kZXJTcHJpdGVzKCksciYmdGhpcy5fcmVuZGVyUGFydGljbGVzKG4pLHRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZyYmdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMubGVuZ3RoIT09MHx8dGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7aWYoYS5zZXRTdGVuY2lsQnVmZmVyKHMpLHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe3ZhciBvPXRoaXMuX3NjZW5lLmRlcHRoUGVlbGluZ1JlbmRlcmVyLnJlbmRlcih0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7by5sZW5ndGgmJnRoaXMuX3JlbmRlclRyYW5zcGFyZW50KG8pfWVsc2UgdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO2Euc2V0QWxwaGFNb2RlKDApfWlmKGEuc2V0U3RlbmNpbEJ1ZmZlcighMSksdGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoKXtmb3IodmFyIHU9MDt1PHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aDt1KyspdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGF0YVt1XS5yZW5kZXIoKTthLnNldEFscGhhTW9kZSgwKX1hLnNldFN0ZW5jaWxCdWZmZXIocyl9LGkucHJvdG90eXBlLl9yZW5kZXJPcGFxdWVTb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX1JlbmRlclNvcnRlZChlLHRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX0saS5wcm90b3R5cGUuX3JlbmRlckFscGhhVGVzdFNvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5fUmVuZGVyU29ydGVkKGUsdGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfSxpLnByb3RvdHlwZS5fcmVuZGVyVHJhbnNwYXJlbnRTb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX1JlbmRlclNvcnRlZChlLHRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITApfSxpLl9SZW5kZXJTb3J0ZWQ9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9MCxzLG89cj9yLmdsb2JhbFBvc2l0aW9uOmkuX1plcm9WZWN0b3I7aWYobilmb3IoO2E8ZS5sZW5ndGg7YSsrKXM9ZS5kYXRhW2FdLHMuX2FscGhhSW5kZXg9cy5nZXRNZXNoKCkuYWxwaGFJbmRleCxzLl9kaXN0YW5jZVRvQ2FtZXJhPWIuRGlzdGFuY2Uocy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxvKTt2YXIgdT1lLmxlbmd0aD09PWUuZGF0YS5sZW5ndGg/ZS5kYXRhOmUuZGF0YS5zbGljZSgwLGUubGVuZ3RoKTt0JiZ1LnNvcnQodCk7dmFyIGY9dVswXS5nZXRNZXNoKCkuZ2V0U2NlbmUoKTtmb3IoYT0wO2E8dS5sZW5ndGg7YSsrKWlmKHM9dVthXSwhKGYuX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZyYmIXMuaXNJbkZydXN0dW0oZi5fZnJ1c3R1bVBsYW5lcykpKXtpZihuKXt2YXIgbD1zLmdldE1hdGVyaWFsKCk7aWYobCYmbC5uZWVkRGVwdGhQcmVQYXNzKXt2YXIgaD1sLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7aC5zZXRDb2xvcldyaXRlKCExKSxoLnNldEFscGhhTW9kZSgwKSxzLnJlbmRlcighMSksaC5zZXRDb2xvcldyaXRlKCEwKX19cy5yZW5kZXIobil9fSxpLmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2FscGhhSW5kZXg+dC5fYWxwaGFJbmRleD8xOmUuX2FscGhhSW5kZXg8dC5fYWxwaGFJbmRleD8tMTppLmJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KX0saS5iYWNrVG9Gcm9udFNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTowfSxpLmZyb250VG9CYWNrU29ydENvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8xOjB9LGkuUGFpbnRlclNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXRNZXNoKCksbj10LmdldE1lc2goKTtyZXR1cm4gci5tYXRlcmlhbCYmbi5tYXRlcmlhbD9yLm1hdGVyaWFsLnVuaXF1ZUlkLW4ubWF0ZXJpYWwudW5pcXVlSWQ6ci51bmlxdWVJZC1uLnVuaXF1ZUlkfSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7dGhpcy5fb3BhcXVlU3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5yZXNldCgpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLnJlc2V0KCksdGhpcy5fZW1wdHk9ITB9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5kaXNwb3NlKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGlzcG9zZSgpfSxpLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpLHI9PT12b2lkIDAmJihyPWUuZ2V0TWF0ZXJpYWwoKSksciE9bnVsbCYmKHIubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpP3RoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnB1c2goZSk6ci5uZWVkQWxwaGFUZXN0aW5nKCk/KHIubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnB1c2goZSkpOihyLm5lZWREZXB0aFByZVBhc3MmJnRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5wdXNoKGUpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5wdXNoKGUpKSx0Ll9yZW5kZXJpbmdHcm91cD10aGlzLHQuX2VkZ2VzUmVuZGVyZXImJnQuX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodC5fZWRnZXNSZW5kZXJlciksdGhpcy5fZW1wdHk9ITEpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFNwcml0ZXM9ZnVuY3Rpb24oZSl7dGhpcy5fc3ByaXRlTWFuYWdlcnMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX0saS5wcm90b3R5cGUuZGlzcGF0Y2hQYXJ0aWNsZXM9ZnVuY3Rpb24oZSl7dGhpcy5fcGFydGljbGVTeXN0ZW1zLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9LGkucHJvdG90eXBlLl9yZW5kZXJQYXJ0aWNsZXM9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aCE9PTApe3ZhciB0PXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKTtmb3IodmFyIHI9MDtyPHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cisrKXt2YXIgbj10aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGF0YVtyXTtpZigodCYmdC5sYXllck1hc2smbi5sYXllck1hc2spIT09MCl7dmFyIGE9bi5lbWl0dGVyOyghYS5wb3NpdGlvbnx8IWV8fGUuaW5kZXhPZihhKSE9PS0xKSYmdGhpcy5fc2NlbmUuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudChuLnJlbmRlcigpLCExKX19dGhpcy5fc2NlbmUub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX19LGkucHJvdG90eXBlLl9yZW5kZXJTcHJpdGVzPWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fc2NlbmUuc3ByaXRlc0VuYWJsZWR8fHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmxlbmd0aD09PTApKXt2YXIgZT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fc3ByaXRlTWFuYWdlcnMuZGF0YVt0XTsoZSYmZS5sYXllck1hc2smci5sYXllck1hc2spIT09MCYmci5yZW5kZXIoKX10aGlzLl9zY2VuZS5vbkFmdGVyU3ByaXRlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX19LGkuX1plcm9WZWN0b3I9Yi5aZXJvKCksaX0oKSxzYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGl9KCksTXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITEsdGhpcy5fcmVuZGVyaW5nR3JvdXBzPW5ldyBBcnJheSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9e30sdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbj17fSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbj17fSx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bmV3IHNhLHRoaXMuX3NjZW5lPWU7Zm9yKHZhciB0PWkuTUlOX1JFTkRFUklOR0dST1VQUzt0PGkuTUFYX1JFTkRFUklOR0dST1VQUzt0KyspdGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW3RdPXthdXRvQ2xlYXI6ITAsZGVwdGg6ITAsc3RlbmNpbDohMH19cmV0dXJuIGkucHJvdG90eXBlLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcj1mdW5jdGlvbihlLHQpe2U9PT12b2lkIDAmJihlPSEwKSx0PT09dm9pZCAwJiYodD0hMCksIXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkJiYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY2xlYXIobnVsbCwhMSxlLHQpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPSEwKX0saS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbztpZihhLnNjZW5lPXRoaXMuX3NjZW5lLGEuY2FtZXJhPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2VycyYmbilmb3IodmFyIHM9MDtzPHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzLmxlbmd0aDtzKyspe3ZhciBvPXRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzW3NdO3RoaXMuZGlzcGF0Y2hTcHJpdGVzKG8pfWZvcih2YXIgcz1pLk1JTl9SRU5ERVJJTkdHUk9VUFM7czxpLk1BWF9SRU5ERVJJTkdHUk9VUFM7cysrKXt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZD1zPT09aS5NSU5fUkVOREVSSU5HR1JPVVBTO3ZhciB1PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tzXTtpZighKCF1fHx1Ll9lbXB0eSkpe3ZhciBmPU1hdGgucG93KDIscyk7aWYoYS5yZW5kZXJpbmdHcm91cElkPXMsdGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsZiksaS5BVVRPQ0xFQVIpe3ZhciBsPXRoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA/dGhpcy5fc2NlbmUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAocyk6dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW3NdO2wmJmwuYXV0b0NsZWFyJiZ0aGlzLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihsLmRlcHRoLGwuc3RlbmNpbCl9Zm9yKHZhciBoPTAsYz10aGlzLl9zY2VuZS5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF07ZC5hY3Rpb24ocyl9dS5yZW5kZXIoZSxuLHIsdCk7Zm9yKHZhciBwPTAsZz10aGlzLl9zY2VuZS5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZTtwPGcubGVuZ3RoO3ArKyl7dmFyIGQ9Z1twXTtkLmFjdGlvbihzKX10aGlzLl9zY2VuZS5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLGYpfX19LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWkuTUlOX1JFTkRFUklOR0dST1VQUztlPGkuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe3ZhciB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LnByZXBhcmUoKX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLl9yZW5kZXJpbmdHcm91cHMubGVuZ3RoPTAsdGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvPW51bGx9LGkucHJvdG90eXBlLmZyZWVSZW5kZXJpbmdHcm91cHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9aS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8aS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7dmFyIHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQuZGlzcG9zZSgpfX0saS5wcm90b3R5cGUuX3ByZXBhcmVSZW5kZXJpbmdHcm91cD1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09PT12b2lkIDAmJih0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09bmV3IGFhKGUsdGhpcy5fc2NlbmUsdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXSkpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFNwcml0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZW5kZXJpbmdHcm91cElkfHwwO3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdHcm91cCh0KSx0aGlzLl9yZW5kZXJpbmdHcm91cHNbdF0uZGlzcGF0Y2hTcHJpdGVzKGUpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFBhcnRpY2xlcz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlbmRlcmluZ0dyb3VwSWR8fDA7dGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKHQpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1t0XS5kaXNwYXRjaFBhcnRpY2xlcyhlKX0saS5wcm90b3R5cGUuZGlzcGF0Y2g9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKTt2YXIgbj10LnJlbmRlcmluZ0dyb3VwSWR8fDA7dGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKG4pLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tuXS5kaXNwYXRjaChlLHQscil9LGkucHJvdG90eXBlLnNldFJlbmRlcmluZ09yZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHQ9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLHRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV09dCx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdPXIsdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdPW4sdGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdKXt2YXIgYT10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07YS5vcGFxdWVTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sYS5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sYS50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdfX0saS5wcm90b3R5cGUuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMCksdGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdPXthdXRvQ2xlYXI6dCxkZXB0aDpyLHN0ZW5jaWw6bn19LGkucHJvdG90eXBlLmdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV19LGkuTUFYX1JFTkRFUklOR0dST1VQUz00LGkuTUlOX1JFTkRFUklOR0dST1VQUz0wLGkuQVVUT0NMRUFSPSEwLGl9KCksQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLk5BTUVfRUZGRUNUTEFZRVI9IkVmZmVjdExheWVyIixpLk5BTUVfTEFZRVI9IkxheWVyIixpLk5BTUVfTEVOU0ZMQVJFU1lTVEVNPSJMZW5zRmxhcmVTeXN0ZW0iLGkuTkFNRV9CT1VORElOR0JPWFJFTkRFUkVSPSJCb3VuZGluZ0JveFJlbmRlcmVyIixpLk5BTUVfUEFSVElDTEVTWVNURU09IlBhcnRpY2xlU3lzdGVtIixpLk5BTUVfR0FNRVBBRD0iR2FtZXBhZCIsaS5OQU1FX1NJTVBMSUZJQ0FUSU9OUVVFVUU9IlNpbXBsaWZpY2F0aW9uUXVldWUiLGkuTkFNRV9HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPSJHZW9tZXRyeUJ1ZmZlclJlbmRlcmVyIixpLk5BTUVfUFJFUEFTU1JFTkRFUkVSPSJQcmVQYXNzUmVuZGVyZXIiLGkuTkFNRV9ERVBUSFJFTkRFUkVSPSJEZXB0aFJlbmRlcmVyIixpLk5BTUVfREVQVEhQRUVMSU5HUkVOREVSRVI9IkRlcHRoUGVlbGluZ1JlbmRlcmVyIixpLk5BTUVfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9IlBvc3RQcm9jZXNzUmVuZGVyUGlwZWxpbmVNYW5hZ2VyIixpLk5BTUVfU1BSSVRFPSJTcHJpdGUiLGkuTkFNRV9TVUJTVVJGQUNFPSJTdWJTdXJmYWNlIixpLk5BTUVfT1VUTElORVJFTkRFUkVSPSJPdXRsaW5lIixpLk5BTUVfUFJPQ0VEVVJBTFRFWFRVUkU9IlByb2NlZHVyYWxUZXh0dXJlIixpLk5BTUVfU0hBRE9XR0VORVJBVE9SPSJTaGFkb3dHZW5lcmF0b3IiLGkuTkFNRV9PQ1RSRUU9Ik9jdHJlZSIsaS5OQU1FX1BIWVNJQ1NFTkdJTkU9IlBoeXNpY3NFbmdpbmUiLGkuTkFNRV9BVURJTz0iQXVkaW8iLGkuU1RFUF9JU1JFQURZRk9STUVTSF9FRkZFQ1RMQVlFUj0wLGkuU1RFUF9CRUZPUkVFVkFMVUFURUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGkuU1RFUF9FVkFMVUFURVNVQk1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGkuU1RFUF9QUkVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxpLlNURVBfQ0FNRVJBRFJBV1JFTkRFUlRBUkdFVF9FRkZFQ1RMQVlFUj0xLGkuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX1BSRVBBU1M9MCxpLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLGkuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0xBWUVSPTIsaS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEsaS5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxpLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxpLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxpLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfRUZGRUNUTEFZRVJfRFJBVz0wLGkuU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19CT1VORElOR0JPWFJFTkRFUkVSPTEsaS5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9TSU1QTElGSUNBVElPTlFVRVVFPTAsaS5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9HQU1FUEFEPTEsaS5TVEVQX0JFRk9SRUNMRUFSX1BST0NFRFVSQUxURVhUVVJFPTAsaS5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsaS5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfUFJFUEFTUz0wLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxpLlNURVBfQUZURVJDQU1FUkFEUkFXX0xFTlNGTEFSRVNZU1RFTT0yLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVJfRFJBVz0zLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfTEFZRVI9NCxpLlNURVBfQUZURVJSRU5ERVJfQVVESU89MCxpLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAsaS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0xLGkuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUj0yLGkuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPTMsaS5TVEVQX0dBVEhFUkFDVElWRUNBTUVSQVJFTkRFUlRBUkdFVFNfREVQVEhSRU5ERVJFUj0wLGkuU1RFUF9CRUZPUkVDTEVBUlNUQUdFX1BSRVBBU1M9MCxpLlNURVBfQkVGT1JFUkVOREVSVEFSR0VUQ0xFQVJTVEFHRV9QUkVQQVNTPTAsaS5TVEVQX1BPSU5URVJNT1ZFX1NQUklURT0wLGkuU1RFUF9QT0lOVEVSRE9XTl9TUFJJVEU9MCxpLlNURVBfUE9JTlRFUlVQX1NQUklURT0wLGl9KCksVGU9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCl7cmV0dXJuIGkuYXBwbHkodGhpcyx0KXx8dGhpc31yZXR1cm4gZS5DcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyU3RlcD1mdW5jdGlvbih0LHIsbil7Zm9yKHZhciBhPTAscz1OdW1iZXIuTUFYX1ZBTFVFO2E8dGhpcy5sZW5ndGg7YSsrKXt2YXIgbz10aGlzW2FdO2lmKHM9by5pbmRleCx0PHMpYnJlYWt9dGhpcy5zcGxpY2UoYSwwLHtpbmRleDp0LGNvbXBvbmVudDpyLGFjdGlvbjpuLmJpbmQocil9KX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wfSxlfShBcnJheSksbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlBPSU5URVJET1dOPTEsaS5QT0lOVEVSVVA9MixpLlBPSU5URVJNT1ZFPTQsaS5QT0lOVEVSV0hFRUw9OCxpLlBPSU5URVJQSUNLPTE2LGkuUE9JTlRFUlRBUD0zMixpLlBPSU5URVJET1VCTEVUQVA9NjQsaX0oKSxWaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXR9cmV0dXJuIGl9KCksb2E9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7dmFyIHM9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gcy5yYXk9bnVsbCxzLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlPSExLHMubG9jYWxQb3NpdGlvbj1uZXcgU2UobixhKSxzfXJldHVybiBlfShWaSkscnI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGEucGlja0luZm89bixhfXJldHVybiBlfShWaSksaXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5ob3ZlckN1cnNvcj0iIix0aGlzLmFjdGlvbnM9bmV3IEFycmF5LHRoaXMuaXNSZWN1cnNpdmU9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJIYXNUcmlnZ2VycyIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBpLlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLlRyaWdnZXJzLGUpKXJldHVybiEwO3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJIYXNQaWNrVHJpZ2dlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gaS5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaS5UcmlnZ2VycyxlKSl7dmFyIHQ9cGFyc2VJbnQoZSk7aWYodD49MSYmdDw9NylyZXR1cm4hMH1yZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkhhc1NwZWNpZmljVHJpZ2dlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gaS5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaS5UcmlnZ2Vycyx0KSl7dmFyIHI9cGFyc2VJbnQodCk7aWYocj09PWUpcmV0dXJuITB9cmV0dXJuITF9LGkuVHJpZ2dlcnM9e30saX0oKSxraT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuS0VZRE9XTj0xLGkuS0VZVVA9MixpfSgpLFlyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH1yZXR1cm4gaX0oKSxXaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIG4udHlwZT10LG4uZXZlbnQ9cixuLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT0hMSxufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNraXBPblBvaW50ZXJPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfShZciksQjsoZnVuY3Rpb24oaSl7aVtpLkdlbmVyaWM9MF09IkdlbmVyaWMiLGlbaS5LZXlib2FyZD0xXT0iS2V5Ym9hcmQiLGlbaS5Nb3VzZT0yXT0iTW91c2UiLGlbaS5Ub3VjaD0zXT0iVG91Y2giLGlbaS5EdWFsU2hvY2s9NF09IkR1YWxTaG9jayIsaVtpLlhib3g9NV09Ilhib3giLGlbaS5Td2l0Y2g9Nl09IlN3aXRjaCIsaVtpLkR1YWxTZW5zZT03XT0iRHVhbFNlbnNlIn0pKEJ8fChCPXt9KSk7dmFyIEg7KGZ1bmN0aW9uKGkpe2lbaS5Ib3Jpem9udGFsPTBdPSJIb3Jpem9udGFsIixpW2kuVmVydGljYWw9MV09IlZlcnRpY2FsIixpW2kuTGVmdENsaWNrPTJdPSJMZWZ0Q2xpY2siLGlbaS5NaWRkbGVDbGljaz0zXT0iTWlkZGxlQ2xpY2siLGlbaS5SaWdodENsaWNrPTRdPSJSaWdodENsaWNrIixpW2kuQnJvd3NlckJhY2s9NV09IkJyb3dzZXJCYWNrIixpW2kuQnJvd3NlckZvcndhcmQ9Nl09IkJyb3dzZXJGb3J3YXJkIixpW2kuTW91c2VXaGVlbFg9N109Ik1vdXNlV2hlZWxYIixpW2kuTW91c2VXaGVlbFk9OF09Ik1vdXNlV2hlZWxZIixpW2kuTW91c2VXaGVlbFo9OV09Ik1vdXNlV2hlZWxaIixpW2kuTW92ZT0xMl09Ik1vdmUifSkoSHx8KEg9e30pKTt2YXIgQXI7KGZ1bmN0aW9uKGkpe2lbaS5Ib3Jpem9udGFsPTBdPSJIb3Jpem9udGFsIixpW2kuVmVydGljYWw9MV09IlZlcnRpY2FsIixpW2kuTGVmdENsaWNrPTJdPSJMZWZ0Q2xpY2siLGlbaS5NaWRkbGVDbGljaz0zXT0iTWlkZGxlQ2xpY2siLGlbaS5SaWdodENsaWNrPTRdPSJSaWdodENsaWNrIixpW2kuQnJvd3NlckJhY2s9NV09IkJyb3dzZXJCYWNrIixpW2kuQnJvd3NlckZvcndhcmQ9Nl09IkJyb3dzZXJGb3J3YXJkIixpW2kuTW91c2VXaGVlbFg9N109Ik1vdXNlV2hlZWxYIixpW2kuTW91c2VXaGVlbFk9OF09Ik1vdXNlV2hlZWxZIixpW2kuTW91c2VXaGVlbFo9OV09Ik1vdXNlV2hlZWxaIixpW2kuRGVsdGFIb3Jpem9udGFsPTEwXT0iRGVsdGFIb3Jpem9udGFsIixpW2kuRGVsdGFWZXJ0aWNhbD0xMV09IkRlbHRhVmVydGljYWwifSkoQXJ8fChBcj17fSkpO3ZhciB6aTsoZnVuY3Rpb24oaSl7aVtpLkNyb3NzPTBdPSJDcm9zcyIsaVtpLkNpcmNsZT0xXT0iQ2lyY2xlIixpW2kuU3F1YXJlPTJdPSJTcXVhcmUiLGlbaS5UcmlhbmdsZT0zXT0iVHJpYW5nbGUiLGlbaS5MMT00XT0iTDEiLGlbaS5SMT01XT0iUjEiLGlbaS5MMj02XT0iTDIiLGlbaS5SMj03XT0iUjIiLGlbaS5TaGFyZT04XT0iU2hhcmUiLGlbaS5PcHRpb25zPTldPSJPcHRpb25zIixpW2kuTDM9MTBdPSJMMyIsaVtpLlIzPTExXT0iUjMiLGlbaS5EUGFkVXA9MTJdPSJEUGFkVXAiLGlbaS5EUGFkRG93bj0xM109IkRQYWREb3duIixpW2kuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsaVtpLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsaVtpLkhvbWU9MTZdPSJIb21lIixpW2kuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsaVtpLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGlbaS5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixpW2kuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsaVtpLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoeml8fCh6aT17fSkpO3ZhciBHaTsoZnVuY3Rpb24oaSl7aVtpLkNyb3NzPTBdPSJDcm9zcyIsaVtpLkNpcmNsZT0xXT0iQ2lyY2xlIixpW2kuU3F1YXJlPTJdPSJTcXVhcmUiLGlbaS5UcmlhbmdsZT0zXT0iVHJpYW5nbGUiLGlbaS5MMT00XT0iTDEiLGlbaS5SMT01XT0iUjEiLGlbaS5MMj02XT0iTDIiLGlbaS5SMj03XT0iUjIiLGlbaS5DcmVhdGU9OF09IkNyZWF0ZSIsaVtpLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGlbaS5MMz0xMF09IkwzIixpW2kuUjM9MTFdPSJSMyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixpW2kuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsaVtpLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGlbaS5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixpW2kuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShHaXx8KEdpPXt9KSk7dmFyIFhpOyhmdW5jdGlvbihpKXtpW2kuQT0wXT0iQSIsaVtpLkI9MV09IkIiLGlbaS5YPTJdPSJYIixpW2kuWT0zXT0iWSIsaVtpLkxCPTRdPSJMQiIsaVtpLlJCPTVdPSJSQiIsaVtpLkxUPTZdPSJMVCIsaVtpLlJUPTddPSJSVCIsaVtpLkJhY2s9OF09IkJhY2siLGlbaS5TdGFydD05XT0iU3RhcnQiLGlbaS5MUz0xMF09IkxTIixpW2kuUlM9MTFdPSJSUyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5MU3RpY2tYQXhpcz0xN109IkxTdGlja1hBeGlzIixpW2kuTFN0aWNrWUF4aXM9MThdPSJMU3RpY2tZQXhpcyIsaVtpLlJTdGlja1hBeGlzPTE5XT0iUlN0aWNrWEF4aXMiLGlbaS5SU3RpY2tZQXhpcz0yMF09IlJTdGlja1lBeGlzIn0pKFhpfHwoWGk9e30pKTt2YXIgSGk7KGZ1bmN0aW9uKGkpe2lbaS5CPTBdPSJCIixpW2kuQT0xXT0iQSIsaVtpLlk9Ml09IlkiLGlbaS5YPTNdPSJYIixpW2kuTD00XT0iTCIsaVtpLlI9NV09IlIiLGlbaS5aTD02XT0iWkwiLGlbaS5aUj03XT0iWlIiLGlbaS5NaW51cz04XT0iTWludXMiLGlbaS5QbHVzPTldPSJQbHVzIixpW2kuTFM9MTBdPSJMUyIsaVtpLlJTPTExXT0iUlMiLGlbaS5EUGFkVXA9MTJdPSJEUGFkVXAiLGlbaS5EUGFkRG93bj0xM109IkRQYWREb3duIixpW2kuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsaVtpLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsaVtpLkhvbWU9MTZdPSJIb21lIixpW2kuQ2FwdHVyZT0xN109IkNhcHR1cmUiLGlbaS5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixpW2kuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsaVtpLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGlbaS5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKEhpfHwoSGk9e30pKTt2YXIgamk7KGZ1bmN0aW9uKGkpe2lbaS5Qb2ludGVyTW92ZT0wXT0iUG9pbnRlck1vdmUiLGlbaS5Qb2ludGVyRG93bj0xXT0iUG9pbnRlckRvd24iLGlbaS5Qb2ludGVyVXA9Ml09IlBvaW50ZXJVcCJ9KShqaXx8KGppPXt9KSk7dmFyIHVhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5ET01fREVMVEFfUElYRUw9MCxpLkRPTV9ERUxUQV9MSU5FPTEsaS5ET01fREVMVEFfUEFHRT0yLGl9KCksVXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkNyZWF0ZURldmljZUV2ZW50PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzd2l0Y2goZSl7Y2FzZSBCLktleWJvYXJkOnJldHVybiB0aGlzLl9DcmVhdGVLZXlib2FyZEV2ZW50KHIsbixhLHMpO2Nhc2UgQi5Nb3VzZTppZihyPT09SC5Nb3VzZVdoZWVsWHx8cj09PUguTW91c2VXaGVlbFl8fHI9PT1ILk1vdXNlV2hlZWxaKXJldHVybiB0aGlzLl9DcmVhdGVXaGVlbEV2ZW50KGUsdCxyLG4sYSxzKTtjYXNlIEIuVG91Y2g6cmV0dXJuIHRoaXMuX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQscixuLGEscyk7ZGVmYXVsdDp0aHJvdyJVbmFibGUgdG8gZ2VuZXJhdGUgZXZlbnQgZm9yIGRldmljZSAiLmNvbmNhdChCW2VdKX19LGkuX0NyZWF0ZVBvaW50ZXJFdmVudD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQscixuLGEscyk7cmV0dXJuIGU9PT1CLk1vdXNlPyhvLmRldmljZVR5cGU9Qi5Nb3VzZSxvLnBvaW50ZXJJZD0xLG8ucG9pbnRlclR5cGU9Im1vdXNlIik6KG8uZGV2aWNlVHlwZT1CLlRvdWNoLG8ucG9pbnRlcklkPXQsby5wb2ludGVyVHlwZT0idG91Y2giKSxyPT09SC5Nb3ZlP28udHlwZT0icG9pbnRlcm1vdmUiOnI+PUguTGVmdENsaWNrJiZyPD1ILlJpZ2h0Q2xpY2smJihvLnR5cGU9bj09PTE/InBvaW50ZXJkb3duIjoicG9pbnRlcnVwIixvLmJ1dHRvbj1yLTIpLG99LGkuX0NyZWF0ZVdoZWVsRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LHIsbixhLHMpO3N3aXRjaChvLnR5cGU9IndoZWVsIixvLmRlbHRhTW9kZT11YS5ET01fREVMVEFfUElYRUwsby5kZWx0YVg9MCxvLmRlbHRhWT0wLG8uZGVsdGFaPTAscil7Y2FzZSBILk1vdXNlV2hlZWxYOm8uZGVsdGFYPW47YnJlYWs7Y2FzZSBILk1vdXNlV2hlZWxZOm8uZGVsdGFZPW47YnJlYWs7Y2FzZSBILk1vdXNlV2hlZWxaOm8uZGVsdGFaPW47YnJlYWt9cmV0dXJuIG99LGkuX0NyZWF0ZU1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPXRoaXMuX0NyZWF0ZUV2ZW50KHMpLHU9YS5wb2xsSW5wdXQoZSx0LEguSG9yaXpvbnRhbCksZj1hLnBvbGxJbnB1dChlLHQsSC5WZXJ0aWNhbCk7cmV0dXJuIHM/KG8ubW92ZW1lbnRYPTAsby5tb3ZlbWVudFk9MCxvLm9mZnNldFg9by5tb3ZlbWVudFgtcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LG8ub2Zmc2V0WT1vLm1vdmVtZW50WS1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkpOihvLm1vdmVtZW50WD1hLnBvbGxJbnB1dChlLHQsQXIuRGVsdGFIb3Jpem9udGFsKSxvLm1vdmVtZW50WT1hLnBvbGxJbnB1dChlLHQsQXIuRGVsdGFWZXJ0aWNhbCksby5vZmZzZXRYPTAsby5vZmZzZXRZPTApLHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhvLGEpLG8uY2xpZW50WD11LG8uY2xpZW50WT1mLG8ueD11LG8ueT1mLG8uZGV2aWNlVHlwZT1lLG8uZGV2aWNlU2xvdD10LG8uaW5wdXRJbmRleD1yLG99LGkuX0NyZWF0ZUtleWJvYXJkRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fQ3JlYXRlRXZlbnQobik7cmV0dXJuIHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhhLHIpLGEuZGV2aWNlVHlwZT1CLktleWJvYXJkLGEuZGV2aWNlU2xvdD0wLGEuaW5wdXRJbmRleD1lLGEudHlwZT10PT09MT8ia2V5ZG93biI6ImtleXVwIixhLmtleT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpLGEua2V5Q29kZT1lLGF9LGkuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cz1mdW5jdGlvbihlLHQpe3ZhciByPXQuaXNEZXZpY2VBdmFpbGFibGUoQi5LZXlib2FyZCksbj1yJiZ0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsMTgpPT09MSxhPXImJnQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCwxNyk9PT0xLHM9ciYmKHQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCw5MSk9PT0xfHx0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsOTIpPT09MXx8dC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDkzKT09PTEpLG89ciYmdC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDE2KT09PTE7ZS5hbHRLZXk9bixlLmN0cmxLZXk9YSxlLm1ldGFLZXk9cyxlLnNoaWZ0S2V5PW99LGkuX0NyZWF0ZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7fSx0LnRhcmdldD1lLHR9LGl9KCksZmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt2YXIgbj10aGlzO3RoaXMuX25hdGl2ZUlucHV0PV9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0/bmV3IF9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0oZSx0LGZ1bmN0aW9uKGEscyxvLHUpe3ZhciBmPVV0LkNyZWF0ZURldmljZUV2ZW50KGEscyxvLHUsbik7cihhLHMsZil9KTp0aGlzLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0KCl9cmV0dXJuIGkucHJvdG90eXBlLnBvbGxJbnB1dD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX25hdGl2ZUlucHV0LnBvbGxJbnB1dChlLHQscil9LGkucHJvdG90eXBlLmlzRGV2aWNlQXZhaWxhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09Qi5Nb3VzZXx8ZT09PUIuVG91Y2h9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9uYXRpdmVJbnB1dC5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0PWZ1bmN0aW9uKCl7dmFyIGU9e3BvbGxJbnB1dDpmdW5jdGlvbigpe3JldHVybiAwfSxpc0RldmljZUF2YWlsYWJsZTpmdW5jdGlvbigpe3JldHVybiExfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX07cmV0dXJuIGV9LGl9KCksS2k9MjU1LFlpPU9iamVjdC5rZXlzKEgpLmxlbmd0aC8yLGxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt2YXIgYT10aGlzO3RoaXMuX2lucHV0cz1bXSx0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMSx0aGlzLl9wb2ludGVyQWN0aXZlPSExLHRoaXMuX3VzaW5nU2FmYXJpPV9lLklzU2FmYXJpKCksdGhpcy5fa2V5Ym9hcmREb3duRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fcG9pbnRlclVwRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMSx0aGlzLl9tb3VzZUlkPS0xLHRoaXMuX2lzVXNpbmdGaXJlZm94PVZyLklzTmF2aWdhdG9yQXZhaWxhYmxlKCkmJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpIT09LTEsdGhpcy5fbWF4VG91Y2hQb2ludHM9MCx0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyPW51bGwsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fZXZlbnRQcmVmaXg9X2UuR2V0UG9pbnRlclByZWZpeChlKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9vbkRldmljZUNvbm5lY3RlZD10LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPXIsdGhpcy5fb25JbnB1dENoYW5nZWQ9bix0aGlzLl9lbmFibGVFdmVudHMoKSx0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWR8fCh0aGlzLl9lbmdpbmUuX29uRW5naW5lVmlld0NoYW5nZWQ9ZnVuY3Rpb24oKXthLl9lbmFibGVFdmVudHMoKX0pfXJldHVybiBpLnByb3RvdHlwZS5wb2xsSW5wdXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX2lucHV0c1tlXVt0XTtpZighbil0aHJvdyJVbmFibGUgdG8gZmluZCBkZXZpY2UgIi5jb25jYXQoQltlXSk7ZT49Qi5EdWFsU2hvY2smJmU8PUIuRHVhbFNlbnNlJiZuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMmJnRoaXMuX3VwZGF0ZURldmljZShlLHQscik7dmFyIGE9bltyXTtpZihhPT09dm9pZCAwKXRocm93IlVuYWJsZSB0byBmaW5kIGlucHV0ICIuY29uY2F0KHIsIiBmb3IgZGV2aWNlICIpLmNvbmNhdChCW2VdLCIgaW4gc2xvdCAiKS5jb25jYXQodCk7cmV0dXJuIHI9PT1ILk1vdmUmJl9lLldhcm4oIlVuYWJsZSB0byBwcm92aWRlIGluZm9ybWF0aW9uIGZvciBQb2ludGVySW5wdXQuTW92ZS4gIFRyeSB1c2luZyBQb2ludGVySW5wdXQuSG9yaXpvbnRhbCBvciBQb2ludGVySW5wdXQuVmVydGljYWwgZm9yIG1vdmUgZGF0YS4iKSxhfSxpLnByb3RvdHlwZS5pc0RldmljZUF2YWlsYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW5wdXRzW2VdIT09dm9pZCAwfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fb25EZXZpY2VDb25uZWN0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPWZ1bmN0aW9uKCl7fSx0aGlzLl9vbklucHV0Q2hhbmdlZD1mdW5jdGlvbigpe30sZGVsZXRlIHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZCx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmdGhpcy5fZGlzYWJsZUV2ZW50cygpfSxpLnByb3RvdHlwZS5fZW5hYmxlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcz09PW51bGx8fHRoaXM9PT12b2lkIDA/dm9pZCAwOnRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlJiYoIXRoaXMuX2V2ZW50c0F0dGFjaGVkfHx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyE9PWUpKXtpZih0aGlzLl9kaXNhYmxlRXZlbnRzKCksdGhpcy5faW5wdXRzKWZvcih2YXIgdD0wLHI9dGhpcy5faW5wdXRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4pZm9yKHZhciBhIGluIG4pe3ZhciBzPSthLG89bltzXTtpZihvKWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKW9bdV09MH19dGhpcy5fZWxlbWVudFRvQXR0YWNoVG89ZSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleD10aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleCE9PS0xP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4OnRoaXMuX2VuZ2luZS5jYW52YXNUYWJJbmRleCx0aGlzLl9oYW5kbGVLZXlBY3Rpb25zKCksdGhpcy5faGFuZGxlUG9pbnRlckFjdGlvbnMoKSx0aGlzLl9oYW5kbGVHYW1lcGFkQWN0aW9ucygpLHRoaXMuX2V2ZW50c0F0dGFjaGVkPSEwLHRoaXMuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpfX0saS5wcm90b3R5cGUuX2Rpc2FibGVFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmKHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCkpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXImJnRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITF9LGkucHJvdG90eXBlLl9jaGVja0ZvckNvbm5lY3RlZERldmljZXM9ZnVuY3Rpb24oKXtpZihuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMpZm9yKHZhciBlPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07biYmdGhpcy5fYWRkR2FtZVBhZChuKX10eXBlb2YgbWF0Y2hNZWRpYT09ImZ1bmN0aW9uIiYmbWF0Y2hNZWRpYSgiKHBvaW50ZXI6ZmluZSkiKS5tYXRjaGVzJiZ0aGlzLl9hZGRQb2ludGVyRGV2aWNlKEIuTW91c2UsMCwwLDApfSxpLnByb3RvdHlwZS5fYWRkR2FtZVBhZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRHYW1lcGFkRGV2aWNlVHlwZShlLmlkKSxyPWUuaW5kZXg7dGhpcy5fZ2FtZXBhZHM9dGhpcy5fZ2FtZXBhZHN8fG5ldyBBcnJheShlLmluZGV4KzEpLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKHQscixlLmJ1dHRvbnMubGVuZ3RoK2UuYXhlcy5sZW5ndGgpLHRoaXMuX2dhbWVwYWRzW3JdPXR9LGkucHJvdG90eXBlLl9hZGRQb2ludGVyRGV2aWNlPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX3BvaW50ZXJBY3RpdmV8fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwKSx0aGlzLl9yZWdpc3RlckRldmljZShlLHQsWWkpO3ZhciBhPXRoaXMuX2lucHV0c1tlXVt0XTthWzBdPXIsYVsxXT1ufSxpLnByb3RvdHlwZS5fcmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHQ9PT12b2lkIDApdGhyb3ciVW5hYmxlIHRvIHJlZ2lzdGVyIGRldmljZSAiLmNvbmNhdChCW2VdLCIgdG8gdW5kZWZpbmVkIHNsb3QuIik7aWYodGhpcy5faW5wdXRzW2VdfHwodGhpcy5faW5wdXRzW2VdPXt9KSwhdGhpcy5faW5wdXRzW2VdW3RdKXtmb3IodmFyIG49bmV3IEFycmF5KHIpLGE9MDthPHI7YSsrKW5bYV09MDt0aGlzLl9pbnB1dHNbZV1bdF09bix0aGlzLl9vbkRldmljZUNvbm5lY3RlZChlLHQpfX0saS5wcm90b3R5cGUuX3VucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9pbnB1dHNbZV1bdF0mJihkZWxldGUgdGhpcy5faW5wdXRzW2VdW3RdLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKGUsdCkpfSxpLnByb3RvdHlwZS5faGFuZGxlS2V5QWN0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fa2V5Ym9hcmREb3duRXZlbnQ9ZnVuY3Rpb24odCl7ZS5fa2V5Ym9hcmRBY3RpdmV8fChlLl9rZXlib2FyZEFjdGl2ZT0hMCxlLl9yZWdpc3RlckRldmljZShCLktleWJvYXJkLDAsS2kpKTt2YXIgcj1lLl9pbnB1dHNbQi5LZXlib2FyZF1bMF07aWYocil7clt0LmtleUNvZGVdPTE7dmFyIG49dDtuLmlucHV0SW5kZXg9dC5rZXlDb2RlLGUuX29uSW5wdXRDaGFuZ2VkKEIuS2V5Ym9hcmQsMCxuKX19LHRoaXMuX2tleWJvYXJkVXBFdmVudD1mdW5jdGlvbih0KXtlLl9rZXlib2FyZEFjdGl2ZXx8KGUuX2tleWJvYXJkQWN0aXZlPSEwLGUuX3JlZ2lzdGVyRGV2aWNlKEIuS2V5Ym9hcmQsMCxLaSkpO3ZhciByPWUuX2lucHV0c1tCLktleWJvYXJkXVswXTtpZihyKXtyW3Qua2V5Q29kZV09MDt2YXIgbj10O24uaW5wdXRJbmRleD10LmtleUNvZGUsZS5fb25JbnB1dENoYW5nZWQoQi5LZXlib2FyZCwwLG4pfX0sdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQ9ZnVuY3Rpb24oKXtpZihlLl9rZXlib2FyZEFjdGl2ZSl7Zm9yKHZhciB0PWUuX2lucHV0c1tCLktleWJvYXJkXVswXSxyPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXSE9PTApe3Rbcl09MDt2YXIgbj1VdC5DcmVhdGVEZXZpY2VFdmVudChCLktleWJvYXJkLDAsciwwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuS2V5Ym9hcmQsMCxuKX19fSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpfSxpLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlckFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX21heFRvdWNoUG9pbnRzPVZyLklzTmF2aWdhdG9yQXZhaWxhYmxlKCkmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8Mix0aGlzLl9hY3RpdmVUb3VjaElkc3x8KHRoaXMuX2FjdGl2ZVRvdWNoSWRzPW5ldyBBcnJheSh0aGlzLl9tYXhUb3VjaFBvaW50cykpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fbWF4VG91Y2hQb2ludHM7dCsrKXRoaXMuX2FjdGl2ZVRvdWNoSWRzW3RdPS0xO3RoaXMuX3BvaW50ZXJNb3ZlRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG89ZS5fZ2V0UG9pbnRlclR5cGUocyksdT1vPT09Qi5Nb3VzZT8wOmUuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2Yocy5wb2ludGVySWQpO2UuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT17fSksZS5faW5wdXRzW29dW3VdfHxlLl9hZGRQb2ludGVyRGV2aWNlKG8sdSxzLmNsaWVudFgscy5jbGllbnRZKTt2YXIgZj1lLl9pbnB1dHNbb11bdV07aWYoZil7ZltILkhvcml6b250YWxdPXMuY2xpZW50WCxmW0guVmVydGljYWxdPXMuY2xpZW50WTt2YXIgbD1zO2wuaW5wdXRJbmRleD1ILk1vdmUsZS5fb25JbnB1dENoYW5nZWQobyx1LGwpLCFlLl91c2luZ1NhZmFyaSYmcy5idXR0b24hPT0tMSYmKGwuaW5wdXRJbmRleD1zLmJ1dHRvbisyLGZbcy5idXR0b24rMl09ZltzLmJ1dHRvbisyXT8wOjEsZS5fb25JbnB1dENoYW5nZWQobyx1LGwpKX19LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG89ZS5fZ2V0UG9pbnRlclR5cGUocyksdT1vPT09Qi5Nb3VzZT8wOnMucG9pbnRlcklkO2lmKG89PT1CLlRvdWNoKXt2YXIgZj1lLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKC0xKTtpZihmPj0wKXU9ZixlLl9hY3RpdmVUb3VjaElkc1tmXT1zLnBvaW50ZXJJZDtlbHNle19lLldhcm4oIk1heCBudW1iZXIgb2YgdG91Y2hlcyBleGNlZWRlZC4gIElnbm9yaW5nIHRvdWNoZXMgaW4gZXhjZXNzIG9mICIuY29uY2F0KGUuX21heFRvdWNoUG9pbnRzKSk7cmV0dXJufX1lLl9pbnB1dHNbb118fChlLl9pbnB1dHNbb109e30pLGUuX2lucHV0c1tvXVt1XT9vPT09Qi5Ub3VjaCYmZS5fb25EZXZpY2VDb25uZWN0ZWQobyx1KTplLl9hZGRQb2ludGVyRGV2aWNlKG8sdSxzLmNsaWVudFgscy5jbGllbnRZKTt2YXIgbD1lLl9pbnB1dHNbb11bdV07aWYobCl7dmFyIGg9bFtILkhvcml6b250YWxdLGM9bFtILlZlcnRpY2FsXTtpZihvPT09Qi5Nb3VzZSl7aWYoZS5fbW91c2VJZD09PS0xJiYocy5wb2ludGVySWQ9PT12b2lkIDA/ZS5fbW91c2VJZD1lLl9pc1VzaW5nRmlyZWZveD8wOjE6ZS5fbW91c2VJZD1zLnBvaW50ZXJJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCYmZS5fZWxlbWVudFRvQXR0YWNoVG8uaGFzUG9pbnRlckNhcHR1cmUpdHJ5e2UuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpfWNhdGNoe319ZWxzZSBpZihzLnBvaW50ZXJJZCYmIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCYmZS5fZWxlbWVudFRvQXR0YWNoVG8uaGFzUG9pbnRlckNhcHR1cmUpdHJ5e2UuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKHMucG9pbnRlcklkKX1jYXRjaHt9bFtILkhvcml6b250YWxdPXMuY2xpZW50WCxsW0guVmVydGljYWxdPXMuY2xpZW50WSxsW3MuYnV0dG9uKzJdPTE7dmFyIGQ9cztkLmlucHV0SW5kZXg9cy5idXR0b24rMixlLl9vbklucHV0Q2hhbmdlZChvLHUsZCksKGghPT1zLmNsaWVudFh8fGMhPT1zLmNsaWVudFkpJiYoZC5pbnB1dEluZGV4PUguTW92ZSxlLl9vbklucHV0Q2hhbmdlZChvLHUsZCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG8sdSxmLGwsaCxjPWUuX2dldFBvaW50ZXJUeXBlKHMpLGQ9Yz09PUIuTW91c2U/MDplLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKHMucG9pbnRlcklkKTtpZihjPT09Qi5Ub3VjaCl7aWYoZD09PS0xKXJldHVybjtlLl9hY3RpdmVUb3VjaElkc1tkXT0tMX12YXIgcD0obz1lLl9pbnB1dHNbY10pPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6b1tkXTtpZihwJiZwW3MuYnV0dG9uKzJdIT09MCl7dmFyIGc9cFtILkhvcml6b250YWxdLF89cFtILlZlcnRpY2FsXTtwW0guSG9yaXpvbnRhbF09cy5jbGllbnRYLHBbSC5WZXJ0aWNhbF09cy5jbGllbnRZLHBbcy5idXR0b24rMl09MDt2YXIgdj1zOyhnIT09cy5jbGllbnRYfHxfIT09cy5jbGllbnRZKSYmKHYuaW5wdXRJbmRleD1ILk1vdmUsZS5fb25JbnB1dENoYW5nZWQoYyxkLHYpKSx2LmlucHV0SW5kZXg9cy5idXR0b24rMixjPT09Qi5Nb3VzZSYmZS5fbW91c2VJZD49MCYmKCEoKGY9KHU9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGY9PT12b2lkIDApJiZmLmNhbGwodSxlLl9tb3VzZUlkKSk/ZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpOnMucG9pbnRlcklkJiYoISgoaD0obD1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMCkmJmguY2FsbChsLHMucG9pbnRlcklkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShzLnBvaW50ZXJJZCksZS5fb25JbnB1dENoYW5nZWQoYyxkLHYpLGM9PT1CLlRvdWNoJiZlLl9vbkRldmljZURpc2Nvbm5lY3RlZChjLGQpfX0sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvLHUsZixsO2lmKHMucG9pbnRlclR5cGU9PT0ibW91c2UiKXt2YXIgaD1lLl9pbnB1dHNbQi5Nb3VzZV1bMF07ZS5fbW91c2VJZD49MCYmKCEoKHU9KG89ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHU9PT12b2lkIDApJiZ1LmNhbGwobyxlLl9tb3VzZUlkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLl9tb3VzZUlkKTtmb3IodmFyIGM9SC5MZWZ0Q2xpY2s7Yzw9SC5Ccm93c2VyRm9yd2FyZDtjKyspaWYoaFtjXT09PTEpe2hbY109MDt2YXIgZD1VdC5DcmVhdGVEZXZpY2VFdmVudChCLk1vdXNlLDAsYywwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuTW91c2UsMCxkKX19ZWxzZXt2YXIgcD1lLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKHMucG9pbnRlcklkKTshKChsPShmPWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxsPT09dm9pZCAwKSYmbC5jYWxsKGYscy5wb2ludGVySWQpJiZlLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUocy5wb2ludGVySWQpLGUuX2lucHV0c1tCLlRvdWNoXVtwXVtILkxlZnRDbGlja109MDt2YXIgZD1VdC5DcmVhdGVEZXZpY2VFdmVudChCLlRvdWNoLHAsSC5MZWZ0Q2xpY2ssMCxlLGUuX2VsZW1lbnRUb0F0dGFjaFRvKTtlLl9vbklucHV0Q2hhbmdlZChCLlRvdWNoLHAsZCksZS5fYWN0aXZlVG91Y2hJZHNbcF09LTEsZS5fb25EZXZpY2VEaXNjb25uZWN0ZWQoQi5Ub3VjaCxwKX19LHRoaXMuX3doZWVsRXZlbnROYW1lPSJvbndoZWVsImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJ3aGVlbCI6ZG9jdW1lbnQub25tb3VzZXdoZWVsIT09dm9pZCAwPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiO3ZhciByPSExLG49ZnVuY3Rpb24oKXt9O3RyeXt2YXIgYT17cGFzc2l2ZTp7Z2V0OmZ1bmN0aW9uKCl7cj0hMH19fTt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixuLGEpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLG4sYSl9Y2F0Y2h7fXRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgcyxvLHUsZixsO2lmKGUuaXNEZXZpY2VBdmFpbGFibGUoQi5Nb3VzZSkpe3ZhciBoPWUuX2lucHV0c1tCLk1vdXNlXVswXTtlLl9tb3VzZUlkPj0wJiYoISgobz0ocz1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMCkmJm8uY2FsbChzLGUuX21vdXNlSWQpKSYmZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpO2Zvcih2YXIgYz1ILkxlZnRDbGljaztjPD1ILkJyb3dzZXJGb3J3YXJkO2MrKylpZihoW2NdPT09MSl7aFtjXT0wO3ZhciBkPVV0LkNyZWF0ZURldmljZUV2ZW50KEIuTW91c2UsMCxjLDAsZSxlLl9lbGVtZW50VG9BdHRhY2hUbyk7ZS5fb25JbnB1dENoYW5nZWQoQi5Nb3VzZSwwLGQpfX1pZihlLmlzRGV2aWNlQXZhaWxhYmxlKEIuVG91Y2gpKWZvcih2YXIgaD1lLl9pbnB1dHNbQi5Ub3VjaF0scD0wO3A8ZS5fYWN0aXZlVG91Y2hJZHMubGVuZ3RoO3ArKyl7dmFyIGc9ZS5fYWN0aXZlVG91Y2hJZHNbcF07aWYoISgoZj0odT1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8Zj09PXZvaWQgMCkmJmYuY2FsbCh1LGcpJiZlLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZyksZyE9PS0xJiYoKGw9aFtwXSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsW0guTGVmdENsaWNrXSk9PT0xKXtoW3BdW0guTGVmdENsaWNrXT0wO3ZhciBkPVV0LkNyZWF0ZURldmljZUV2ZW50KEIuVG91Y2gscCxILkxlZnRDbGljaywwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuVG91Y2gscCxkKSxlLl9hY3RpdmVUb3VjaElkc1twXT0tMSxlLl9vbkRldmljZURpc2Nvbm5lY3RlZChCLlRvdWNoLHApfX19LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvPUIuTW91c2UsdT0wO2UuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT1bXSksZS5faW5wdXRzW29dW3VdfHwoZS5fcG9pbnRlckFjdGl2ZT0hMCxlLl9yZWdpc3RlckRldmljZShvLHUsWWkpKTt2YXIgZj1lLl9pbnB1dHNbb11bdV07aWYoZil7ZltILk1vdXNlV2hlZWxYXT1zLmRlbHRhWHx8MCxmW0guTW91c2VXaGVlbFldPXMuZGVsdGFZfHxzLndoZWVsRGVsdGF8fDAsZltILk1vdXNlV2hlZWxaXT1zLmRlbHRhWnx8MDt2YXIgbD1zO2ZbSC5Nb3VzZVdoZWVsWF0hPT0wJiYobC5pbnB1dEluZGV4PUguTW91c2VXaGVlbFgsZS5fb25JbnB1dENoYW5nZWQobyx1LGwpKSxmW0guTW91c2VXaGVlbFldIT09MCYmKGwuaW5wdXRJbmRleD1ILk1vdXNlV2hlZWxZLGUuX29uSW5wdXRDaGFuZ2VkKG8sdSxsKSksZltILk1vdXNlV2hlZWxaXSE9PTAmJihsLmlucHV0SW5kZXg9SC5Nb3VzZVdoZWVsWixlLl9vbklucHV0Q2hhbmdlZChvLHUsbCkpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fcG9pbnRlckJsdXJFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCxyP3twYXNzaXZlOiExfTohMSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj10aGlzLl9lbmdpbmUub25FbmRGcmFtZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7aWYoZS5pc0RldmljZUF2YWlsYWJsZShCLk1vdXNlKSl7dmFyIHM9ZS5faW5wdXRzW0IuTW91c2VdWzBdO3NbSC5Nb3VzZVdoZWVsWF09MCxzW0guTW91c2VXaGVlbFldPTAsc1tILk1vdXNlV2hlZWxaXT0wfX0pfSxpLnByb3RvdHlwZS5faGFuZGxlR2FtZXBhZEFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1mdW5jdGlvbih0KXtlLl9hZGRHYW1lUGFkKHQuZ2FtZXBhZCl9LHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudD1mdW5jdGlvbih0KXtpZihlLl9nYW1lcGFkcyl7dmFyIHI9ZS5fZ2V0R2FtZXBhZERldmljZVR5cGUodC5nYW1lcGFkLmlkKSxuPXQuZ2FtZXBhZC5pbmRleDtlLl91bnJlZ2lzdGVyRGV2aWNlKHIsbiksZGVsZXRlIGUuX2dhbWVwYWRzW25dfX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCl9LGkucHJvdG90eXBlLl91cGRhdGVEZXZpY2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpW3RdO2lmKG4mJmU9PT10aGlzLl9nYW1lcGFkc1t0XSl7dmFyIGE9dGhpcy5faW5wdXRzW2VdW3RdO3I+PW4uYnV0dG9ucy5sZW5ndGg/YVtyXT1uLmF4ZXNbci1uLmJ1dHRvbnMubGVuZ3RoXS52YWx1ZU9mKCk6YVtyXT1uLmJ1dHRvbnNbcl0udmFsdWV9fSxpLnByb3RvdHlwZS5fZ2V0R2FtZXBhZERldmljZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT9CLkR1YWxTZW5zZTpCLkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/Qi5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/Qi5Td2l0Y2g6Qi5HZW5lcmljfSxpLnByb3RvdHlwZS5fZ2V0UG9pbnRlclR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9Qi5Nb3VzZTtyZXR1cm4oZS5wb2ludGVyVHlwZT09PSJ0b3VjaCJ8fGUucG9pbnRlclR5cGU9PT0icGVuInx8ZS50b3VjaGVzKSYmKHQ9Qi5Ub3VjaCksdH0saX0oKSxaaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3I9PT12b2lkIDAmJihyPTApLHRoaXMuZGV2aWNlVHlwZT10LHRoaXMuZGV2aWNlU2xvdD1yLHRoaXMub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2RldmljZUlucHV0U3lzdGVtPWV9cmV0dXJuIGkucHJvdG90eXBlLmdldElucHV0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX0saX0oKSxoYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpczt0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuX3JlZkNvdW50PTAsdGhpcy5yZWdpc3Rlck1hbmFnZXI9ZnVuY3Rpb24obyl7Zm9yKHZhciB1PTA7dTx0Ll9kZXZpY2VzLmxlbmd0aDt1Kyspe3ZhciBmPXQuX2RldmljZXNbdV07Zm9yKHZhciBsIGluIGYpe3ZhciBoPStsO28uX2FkZERldmljZShuZXcgWmkodC5fZGV2aWNlSW5wdXRTeXN0ZW0sdSxoKSl9fXQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5wdXNoKG8pfSx0aGlzLnVucmVnaXN0ZXJNYW5hZ2VyPWZ1bmN0aW9uKG8pe3ZhciB1PXQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5pbmRleE9mKG8pO3U+LTEmJnQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5zcGxpY2UodSwxKX07dmFyIHI9T2JqZWN0LmtleXMoQikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkocik7dmFyIG49ZnVuY3Rpb24obyx1KXt0Ll9kZXZpY2VzW29dfHwodC5fZGV2aWNlc1tvXT1uZXcgQXJyYXkpLHQuX2RldmljZXNbb11bdV18fCh0Ll9kZXZpY2VzW29dW3VdPXUpO2Zvcih2YXIgZj0wLGw9dC5fcmVnaXN0ZXJlZE1hbmFnZXJzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdLGM9bmV3IFppKHQuX2RldmljZUlucHV0U3lzdGVtLG8sdSk7aC5fYWRkRGV2aWNlKGMpfX0sYT1mdW5jdGlvbihvLHUpe3ZhciBmOyEoKGY9dC5fZGV2aWNlc1tvXSk9PT1udWxsfHxmPT09dm9pZCAwKSYmZlt1XSYmZGVsZXRlIHQuX2RldmljZXNbb11bdV07Zm9yKHZhciBsPTAsaD10Ll9yZWdpc3RlcmVkTWFuYWdlcnM7bDxoLmxlbmd0aDtsKyspe3ZhciBjPWhbbF07Yy5fcmVtb3ZlRGV2aWNlKG8sdSl9fSxzPWZ1bmN0aW9uKG8sdSxmKXtpZihmKWZvcih2YXIgbD0wLGg9dC5fcmVnaXN0ZXJlZE1hbmFnZXJzO2w8aC5sZW5ndGg7bCsrKXt2YXIgYz1oW2xdO2MuX29uSW5wdXRDaGFuZ2VkKG8sdSxmKX19O3R5cGVvZiBfbmF0aXZlPCJ1Ij90aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1uZXcgZmEobixhLHMpOnRoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBsYShlLG4sYSxzKX1yZXR1cm4gaS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2RldmljZUlucHV0U3lzdGVtLmRpc3Bvc2UoKX0saX0oKSxjYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpcyxyPU9iamVjdC5rZXlzKEIpLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHIpLHRoaXMuX2ZpcnN0RGV2aWNlPW5ldyBBcnJheShyKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXJ8fCh0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IGhhKGUpKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50KyssdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGU9bmV3IE8oZnVuY3Rpb24obil7Zm9yKHZhciBhPTAscz10Ll9kZXZpY2VzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO2lmKG8pZm9yKHZhciB1PTAsZj1vO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wmJnQub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVyKG4sbCl9fX0pLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5yZWdpc3Rlck1hbmFnZXIodGhpcyksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9ZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3QuZGlzcG9zZSgpfSl9cmV0dXJuIGkucHJvdG90eXBlLmdldERldmljZVNvdXJjZT1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDApe2lmKHRoaXMuX2ZpcnN0RGV2aWNlW2VdPT09dm9pZCAwKXJldHVybiBudWxsO3Q9dGhpcy5fZmlyc3REZXZpY2VbZV19cmV0dXJuIXRoaXMuX2RldmljZXNbZV18fHRoaXMuX2RldmljZXNbZV1bdF09PT12b2lkIDA/bnVsbDp0aGlzLl9kZXZpY2VzW2VdW3RdfSxpLnByb3RvdHlwZS5nZXREZXZpY2VTb3VyY2VzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZXZpY2VzW2VdLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hIXR9KX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXImJih0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIudW5yZWdpc3Rlck1hbmFnZXIodGhpcyksLS10aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50PDEmJih0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIpKSx0aGlzLl9lbmdpbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpfSxpLnByb3RvdHlwZS5fYWRkRGV2aWNlPWZ1bmN0aW9uKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfSxpLnByb3RvdHlwZS5fcmVtb3ZlRGV2aWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhPShyPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clt0XTt0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSksISgobj10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fG49PT12b2lkIDApJiZuW3RdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tlXVt0XSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZSl9LGkucHJvdG90eXBlLl9vbklucHV0Q2hhbmdlZD1mdW5jdGlvbihlLHQscil7dmFyIG4sYTsoYT0obj10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm5bdF0pPT09bnVsbHx8YT09PXZvaWQgMHx8YS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmlyc3REZXZpY2VzPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIEIuS2V5Ym9hcmQ6Y2FzZSBCLk1vdXNlOnRoaXMuX2ZpcnN0RGV2aWNlW2VdPTA7YnJlYWs7Y2FzZSBCLlRvdWNoOmNhc2UgQi5EdWFsU2Vuc2U6Y2FzZSBCLkR1YWxTaG9jazpjYXNlIEIuWGJveDpjYXNlIEIuU3dpdGNoOmNhc2UgQi5HZW5lcmljOntkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07dmFyIHQ9dGhpcy5fZGV2aWNlc1tlXTtpZih0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdKXt0aGlzLl9maXJzdERldmljZVtlXT1yO2JyZWFrfX1icmVha319fSxpfSgpLHFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX3NpbmdsZUNsaWNrPSExLHRoaXMuX2RvdWJsZUNsaWNrPSExLHRoaXMuX2hhc1N3aXBlZD0hMSx0aGlzLl9pZ25vcmU9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2luZ2xlQ2xpY2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2xpY2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaW5nbGVDbGljaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG91YmxlQ2xpY2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG91YmxlQ2xpY2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kb3VibGVDbGljaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzU3dpcGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1N3aXBlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hhc1N3aXBlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaWdub3JlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lnbm9yZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lnbm9yZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGl9KCksbHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX2FscmVhZHlBdHRhY2hlZD0hMSx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITEsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9bnVsbCx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQ9bnVsbCx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD0wLHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wb2ludGVyWD0wLHRoaXMuX3BvaW50ZXJZPTAsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IFNlKDAsMCksdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgU2UoMCwwKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcG9pbnRlckNhcHR1cmVzPXt9LHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZD17fSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fc2NlbmU9ZXx8cmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtZXNoVW5kZXJQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJPdmVyTWVzaH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRNZXNoVW5kZXJQb2ludGVyQnlQb2ludGVySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFtlXXx8bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1blRyYW5zbGF0ZWRQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludGVyWCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyWH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJYPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludGVyWSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyWX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJZPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0KCk7dCYmKHRoaXMuX3BvaW50ZXJYPWUuY2xpZW50WC10LmxlZnQsdGhpcy5fcG9pbnRlclk9ZS5jbGllbnRZLXQudG9wLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYPXRoaXMuX3BvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZPXRoaXMuX3BvaW50ZXJZKX0saS5wcm90b3R5cGUuX3Byb2Nlc3NQb2ludGVyTW92ZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3NjZW5lLG49ci5nZXRFbmdpbmUoKSxhPW4uZ2V0SW5wdXRFbGVtZW50KCk7YSYmKGEudGFiSW5kZXg9bi5jYW52YXNUYWJJbmRleCxyLmRvTm90SGFuZGxlQ3Vyc29yc3x8KGEuc3R5bGUuY3Vyc29yPXIuZGVmYXVsdEN1cnNvcikpO3ZhciBzPSEhKGUmJmUuaGl0JiZlLnBpY2tlZE1lc2gpO2lmKHMpe2lmKHIuc2V0UG9pbnRlck92ZXJNZXNoKGUucGlja2VkTWVzaCx0LnBvaW50ZXJJZCxlKSwhci5kb05vdEhhbmRsZUN1cnNvcnMmJmEmJnRoaXMuX3BvaW50ZXJPdmVyTWVzaCl7dmFyIG89dGhpcy5fcG9pbnRlck92ZXJNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO28mJm8uaGFzUG9pbnRlclRyaWdnZXJzJiYoYS5zdHlsZS5jdXJzb3I9by5ob3ZlckN1cnNvcnx8ci5ob3ZlckN1cnNvcil9fWVsc2Ugci5zZXRQb2ludGVyT3Zlck1lc2gobnVsbCx0LnBvaW50ZXJJZCxlKTtmb3IodmFyIHU9MCxmPXIuX3BvaW50ZXJNb3ZlU3RhZ2U7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07ZT1sLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHMsYSl9aWYoZSl7dmFyIGg9dC50eXBlPT09IndoZWVsInx8dC50eXBlPT09Im1vdXNld2hlZWwifHx0LnR5cGU9PT0iRE9NTW91c2VTY3JvbGwiP2xlLlBPSU5URVJXSEVFTDpsZS5QT0lOVEVSTU9WRTtpZihyLm9uUG9pbnRlck1vdmUmJnIub25Qb2ludGVyTW92ZSh0LGUsaCksci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgYz1uZXcgcnIoaCx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8oYyksci5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhjLGgpfX19LGkucHJvdG90eXBlLl9zZXRSYXlPblBvaW50ZXJJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NjZW5lO2UucGlja0luZm8mJiFlLnBpY2tJbmZvLl9waWNraW5nVW5hdmFpbGFibGUmJihlLnBpY2tJbmZvLnJheXx8KGUucGlja0luZm8ucmF5PXQuY3JlYXRlUGlja2luZ1JheShlLmV2ZW50Lm9mZnNldFgsZS5ldmVudC5vZmZzZXRZLEkuSWRlbnRpdHkoKSx0LmFjdGl2ZUNhbWVyYSkpKX0saS5wcm90b3R5cGUuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3NjZW5lLGE9bmV3IG9hKHIsdCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSk7cmV0dXJuIGUmJihhLnJheT1lLnJheSxlLm9yaWdpbk1lc2gmJihhLm5lYXJJbnRlcmFjdGlvblBpY2tpbmdJbmZvPWUpKSxuLm9uUHJlUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsciksISFhLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlfSxpLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcm1vdmUiLHQpO3IuaW5wdXRJbmRleD1ILk1vdmUsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxyLGxlLlBPSU5URVJNT1ZFKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUscil9LGkucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7ci5pbnB1dEluZGV4PXIuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxyLGxlLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUscil9LGkucHJvdG90eXBlLl9wcm9jZXNzUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcy5fc2NlbmU7aWYoZSYmZS5oaXQmJmUucGlja2VkTWVzaCl7dGhpcy5fcGlja2VkRG93bk1lc2g9ZS5waWNrZWRNZXNoO3ZhciBhPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihhKXtpZihhLmhhc1BpY2tUcmlnZ2Vycylzd2l0Y2goYS5wcm9jZXNzVHJpZ2dlcig1LE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpLHQuYnV0dG9uKXtjYXNlIDA6YS5wcm9jZXNzVHJpZ2dlcigyLE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMTphLnByb2Nlc3NUcmlnZ2VyKDQsTmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAyOmEucHJvY2Vzc1RyaWdnZXIoMyxOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVha31hLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaD1uLnBpY2soci5fdW5UcmFuc2xhdGVkUG9pbnRlclgsci5fdW5UcmFuc2xhdGVkUG9pbnRlclksZnVuY3Rpb24oYyl7cmV0dXJuIGMuaXNQaWNrYWJsZSYmYy5pc1Zpc2libGUmJmMuaXNSZWFkeSgpJiZjLmFjdGlvbk1hbmFnZXImJmMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJmM9PT1yLl9waWNrZWREb3duTWVzaH0sITEsbi5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTtoJiZoLmhpdCYmaC5waWNrZWRNZXNoJiZhJiZyLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJkRhdGUubm93KCktci5fc3RhcnRpbmdQb2ludGVyVGltZT5pLkxvbmdQcmVzc0RlbGF5JiYhci5faXNQb2ludGVyU3dpcGluZygpJiYoci5fc3RhcnRpbmdQb2ludGVyVGltZT0wLGEucHJvY2Vzc1RyaWdnZXIoOCxOZS5DcmVhdGVOZXcoaC5waWNrZWRNZXNoLHQpKSl9LGkuTG9uZ1ByZXNzRGVsYXkpfX1lbHNlIGZvcih2YXIgcz0wLG89bi5fcG9pbnRlckRvd25TdGFnZTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTtlPXUuYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCl9aWYoZSl7dmFyIGY9bGUuUE9JTlRFUkRPV047aWYobi5vblBvaW50ZXJEb3duJiZuLm9uUG9pbnRlckRvd24odCxlLGYpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IHJyKGYsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGwpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX19fSxpLnByb3RvdHlwZS5faXNQb2ludGVyU3dpcGluZz1mdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LXRoaXMuX3BvaW50ZXJYKT5pLkRyYWdNb3ZlbWVudFRocmVzaG9sZHx8TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueS10aGlzLl9wb2ludGVyWSk+aS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR9LGkucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlclVwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVydXAiLHQpO24uaW5wdXRJbmRleD1ILk1vdmU7dmFyIGE9bmV3IHFpO3I/YS5kb3VibGVDbGljaz0hMDphLnNpbmdsZUNsaWNrPSEwLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsbixsZS5QT0lOVEVSVVApJiZ0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGUsbixhKX0saS5wcm90b3R5cGUuX3Byb2Nlc3NQb2ludGVyVXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3NjZW5lO2lmKGUmJmUuaGl0JiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuX3BpY2tlZFVwTWVzaD1lLnBpY2tlZE1lc2gsdGhpcy5fcGlja2VkRG93bk1lc2g9PT10aGlzLl9waWNrZWRVcE1lc2gmJihuLm9uUG9pbnRlclBpY2smJm4ub25Qb2ludGVyUGljayh0LGUpLHIuc2luZ2xlQ2xpY2smJiFyLmlnbm9yZSYmbi5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSl7dmFyIGE9bGUuUE9JTlRFUlBJQ0sscz1uZXcgcnIoYSx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8ocyksbi5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzLGEpfXZhciBvPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihvJiYhci5pZ25vcmUpe28ucHJvY2Vzc1RyaWdnZXIoNyxOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpLCFyLmhhc1N3aXBlZCYmci5zaW5nbGVDbGljayYmby5wcm9jZXNzVHJpZ2dlcigxLE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSk7dmFyIHU9ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig2KTtyLmRvdWJsZUNsaWNrJiZ1JiZ1LnByb2Nlc3NUcmlnZ2VyKDYsTmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKX19ZWxzZSBpZighci5pZ25vcmUpZm9yKHZhciBmPTAsbD1uLl9wb2ludGVyVXBTdGFnZTtmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXTtlPWguYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCl9aWYodGhpcy5fcGlja2VkRG93bk1lc2gmJnRoaXMuX3BpY2tlZERvd25NZXNoIT09dGhpcy5fcGlja2VkVXBNZXNoKXt2YXIgYz10aGlzLl9waWNrZWREb3duTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTYpO2MmJmMucHJvY2Vzc1RyaWdnZXIoMTYsTmUuQ3JlYXRlTmV3KHRoaXMuX3BpY2tlZERvd25NZXNoLHQpKX12YXIgZD0wO2lmKG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7aWYoIXIuaWdub3JlJiYhci5oYXNTd2lwZWQmJihyLnNpbmdsZUNsaWNrJiZuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJUQVApP2Q9bGUuUE9JTlRFUlRBUDpyLmRvdWJsZUNsaWNrJiZuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJET1VCTEVUQVApJiYoZD1sZS5QT0lOVEVSRE9VQkxFVEFQKSxkKSl7dmFyIHM9bmV3IHJyKGQsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKHMpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyxkKX1pZighci5pZ25vcmUpe2Q9bGUuUE9JTlRFUlVQO3ZhciBzPW5ldyBycihkLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhzKSxuLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMsZCl9fW4ub25Qb2ludGVyVXAmJiFyLmlnbm9yZSYmbi5vblBvaW50ZXJVcCh0LGUsZCl9LGkucHJvdG90eXBlLmlzUG9pbnRlckNhcHR1cmVkPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0aGlzLl9wb2ludGVyQ2FwdHVyZXNbZV19LGkucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcztlPT09dm9pZCAwJiYoZT0hMCksdD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgcz10aGlzLl9zY2VuZSxvPXMuZ2V0RW5naW5lKCk7bnx8KG49by5nZXRJbnB1dEVsZW1lbnQoKSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkJiZ0aGlzLmRldGFjaENvbnRyb2woKSxuJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89biksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgY2EobyksdGhpcy5faW5pdEFjdGlvbk1hbmFnZXI9ZnVuY3Rpb24odSl7aWYoIWEuX21lc2hQaWNrUHJvY2VlZCl7dmFyIGY9cy5za2lwUG9pbnRlclVwUGlja2luZz9udWxsOnMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJVcFByZWRpY2F0ZSwhMSxzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO2EuX2N1cnJlbnRQaWNrUmVzdWx0PWYsZiYmKHU9Zi5oaXQmJmYucGlja2VkTWVzaD9mLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk6bnVsbCksYS5fbWVzaFBpY2tQcm9jZWVkPSEwfXJldHVybiB1fSx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2s9ZnVuY3Rpb24odSxmLGwpeyhEYXRlLm5vdygpLWEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5pLkRvdWJsZUNsaWNrRGVsYXkmJiFhLl9kb3VibGVDbGlja09jY3VyZWR8fHUhPT1hLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYoYS5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLGYuc2luZ2xlQ2xpY2s9ITAsZi5pZ25vcmU9ITEsbChmLGEuX2N1cnJlbnRQaWNrUmVzdWx0KSl9LHRoaXMuX2luaXRDbGlja0V2ZW50PWZ1bmN0aW9uKHUsZixsLGgpe3ZhciBjPW5ldyBxaTthLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsO3ZhciBkPW51bGwscD11Lmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSUElDSyl8fGYuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJQSUNLKXx8dS5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUlRBUCl8fGYuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJUQVApfHx1Lmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSRE9VQkxFVEFQKXx8Zi5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUkRPVUJMRVRBUCk7IXAmJmlyJiYoZD1hLl9pbml0QWN0aW9uTWFuYWdlcihkLGMpLGQmJihwPWQuaGFzUGlja1RyaWdnZXJzKSk7dmFyIGc9ITE7aWYocCl7dmFyIF89bC5idXR0b247aWYoYy5oYXNTd2lwZWQ9YS5faXNQb2ludGVyU3dpcGluZygpLCFjLmhhc1N3aXBlZCl7dmFyIHY9IWkuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlO3Z8fCh2PSF1Lmhhc1NwZWNpZmljTWFzayhsZS5QT0lOVEVSRE9VQkxFVEFQKSYmIWYuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJET1VCTEVUQVApLHYmJiFpci5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihkPWEuX2luaXRBY3Rpb25NYW5hZ2VyKGQsYyksZCYmKHY9IWQuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSkpLHY/KERhdGUubm93KCktYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPmkuRG91YmxlQ2xpY2tEZWxheXx8XyE9PWEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJihjLnNpbmdsZUNsaWNrPSEwLGgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCksZz0hMCk6KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD1hLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGEuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoYS5fZGVsYXllZFNpbXBsZUNsaWNrLmJpbmQoYSxfLGMsaCksaS5Eb3VibGVDbGlja0RlbGF5KSk7dmFyIHk9dS5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUkRPVUJMRVRBUCl8fGYuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJET1VCTEVUQVApOyF5JiZpci5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihkPWEuX2luaXRBY3Rpb25NYW5hZ2VyKGQsYyksZCYmKHk9ZC5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSx5JiYoXz09PWEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCYmRGF0ZS5ub3coKS1hLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU8aS5Eb3VibGVDbGlja0RlbGF5JiYhYS5fZG91YmxlQ2xpY2tPY2N1cmVkPyghYy5oYXNTd2lwZWQmJiFhLl9pc1BvaW50ZXJTd2lwaW5nKCk/KGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLGEuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMCxjLmRvdWJsZUNsaWNrPSEwLGMuaWdub3JlPSExLGkuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlJiZhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQmJmNsZWFyVGltZW91dChhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQpLGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD1hLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCkpOihhLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPWEuX3N0YXJ0aW5nUG9pbnRlclRpbWUsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksYS5fcHJldmlvdXNCdXR0b25QcmVzc2VkPV8saS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU/KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCYmY2xlYXJUaW1lb3V0KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCksYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PWEuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsaChjLGEuX3ByZXZpb3VzUGlja1Jlc3VsdCkpOmgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCkpLGc9ITApOihhLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPWEuX3N0YXJ0aW5nUG9pbnRlclRpbWUsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksYS5fcHJldmlvdXNCdXR0b25QcmVzc2VkPV8pKX19Z3x8aChjLGEuX2N1cnJlbnRQaWNrUmVzdWx0KX0sdGhpcy5fb25Qb2ludGVyTW92ZT1mdW5jdGlvbih1KXtpZih1LnBvaW50ZXJJZD09PXZvaWQgMCYmKHUucG9pbnRlcklkPTApLGEuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbih1KSwhYS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsdS50eXBlPT09IndoZWVsInx8dS50eXBlPT09Im1vdXNld2hlZWwifHx1LnR5cGU9PT0iRE9NTW91c2VTY3JvbGwiP2xlLlBPSU5URVJXSEVFTDpsZS5QT0lOVEVSTU9WRSkmJiEoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXMuYWN0aXZlQ2FtZXJhKSl7aWYocy5za2lwUG9pbnRlck1vdmVQaWNraW5nKXthLl9wcm9jZXNzUG9pbnRlck1vdmUobmV3IFFlLHUpO3JldHVybn1zLnBvaW50ZXJNb3ZlUHJlZGljYXRlfHwocy5wb2ludGVyTW92ZVByZWRpY2F0ZT1mdW5jdGlvbihsKXtyZXR1cm4gbC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJihsLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzfHxzLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyfHxsLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpIT09bnVsbCkmJighcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwocy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKX0pO3ZhciBmPXMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJNb3ZlUHJlZGljYXRlLCExLHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyxzLnBvaW50ZXJNb3ZlVHJpYW5nbGVQcmVkaWNhdGUpO2EuX3Byb2Nlc3NQb2ludGVyTW92ZShmLHUpfX0sdGhpcy5fb25Qb2ludGVyRG93bj1mdW5jdGlvbih1KXtpZihhLl90b3RhbFBvaW50ZXJzUHJlc3NlZCsrLGEuX3BpY2tlZERvd25NZXNoPW51bGwsYS5fbWVzaFBpY2tQcm9jZWVkPSExLHUucG9pbnRlcklkPT09dm9pZCAwJiYodS5wb2ludGVySWQ9MCksYS5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKHUpLHMucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duJiZuJiYodS5wcmV2ZW50RGVmYXVsdCgpLG4uZm9jdXMoKSksYS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD1hLl9wb2ludGVyWCxhLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PWEuX3BvaW50ZXJZLGEuX3N0YXJ0aW5nUG9pbnRlclRpbWU9RGF0ZS5ub3coKSwhYS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsbGUuUE9JTlRFUkRPV04pJiYhKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFzLmFjdGl2ZUNhbWVyYSkpe2EuX3BvaW50ZXJDYXB0dXJlc1t1LnBvaW50ZXJJZF09ITAscy5wb2ludGVyRG93blByZWRpY2F0ZXx8KHMucG9pbnRlckRvd25QcmVkaWNhdGU9ZnVuY3Rpb24obCl7cmV0dXJuIGwuaXNQaWNrYWJsZSYmbC5pc1Zpc2libGUmJmwuaXNSZWFkeSgpJiZsLmlzRW5hYmxlZCgpJiYoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smbC5sYXllck1hc2spIT09MCl9KSxhLl9waWNrZWREb3duTWVzaD1udWxsO3ZhciBmO3Muc2tpcFBvaW50ZXJEb3duUGlja2luZz9mPW5ldyBRZTpmPXMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJEb3duUHJlZGljYXRlLCExLHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyksYS5fcHJvY2Vzc1BvaW50ZXJEb3duKGYsdSl9fSx0aGlzLl9vblBvaW50ZXJVcD1mdW5jdGlvbih1KXthLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJihhLl90b3RhbFBvaW50ZXJzUHJlc3NlZC0tLGEuX3BpY2tlZFVwTWVzaD1udWxsLGEuX21lc2hQaWNrUHJvY2VlZD0hMSx1LnBvaW50ZXJJZD09PXZvaWQgMCYmKHUucG9pbnRlcklkPTApLGEuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbih1KSxzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXAmJm4mJih1LnByZXZlbnREZWZhdWx0KCksbi5mb2N1cygpKSxhLl9pbml0Q2xpY2tFdmVudChzLm9uUHJlUG9pbnRlck9ic2VydmFibGUscy5vblBvaW50ZXJPYnNlcnZhYmxlLHUsZnVuY3Rpb24oZixsKXtzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJiFmLmlnbm9yZSYmKCFmLmhhc1N3aXBlZCYmKGYuc2luZ2xlQ2xpY2smJnMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobGUuUE9JTlRFUlRBUCkmJmEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LGxlLlBPSU5URVJUQVApfHxmLmRvdWJsZUNsaWNrJiZzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGxlLlBPSU5URVJET1VCTEVUQVApJiZhLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsdSxsZS5QT0lOVEVSRE9VQkxFVEFQKSl8fGEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LGxlLlBPSU5URVJVUCkpfHwhYS5fcG9pbnRlckNhcHR1cmVzW3UucG9pbnRlcklkXSYmdS5idXR0b25zPjB8fChhLl9wb2ludGVyQ2FwdHVyZXNbdS5wb2ludGVySWRdPSExLCEoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXMuYWN0aXZlQ2FtZXJhKSYmKHMucG9pbnRlclVwUHJlZGljYXRlfHwocy5wb2ludGVyVXBQcmVkaWNhdGU9ZnVuY3Rpb24oaCl7cmV0dXJuIGguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCl9KSwhYS5fbWVzaFBpY2tQcm9jZWVkJiYoaXImJmlyLkhhc1RyaWdnZXJzfHxzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpJiZhLl9pbml0QWN0aW9uTWFuYWdlcihudWxsLGYpLGx8fChsPWEuX2N1cnJlbnRQaWNrUmVzdWx0KSxhLl9wcm9jZXNzUG9pbnRlclVwKGwsdSxmKSxhLl9wcmV2aW91c1BpY2tSZXN1bHQ9YS5fY3VycmVudFBpY2tSZXN1bHQpKX0pKX0sdGhpcy5fb25LZXlEb3duPWZ1bmN0aW9uKHUpe3ZhciBmPWtpLktFWURPV047aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IFdpKGYsdSk7aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKSxsLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYocy5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IFlyKGYsdSk7cy5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX1zLmFjdGlvbk1hbmFnZXImJnMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNCxOZS5DcmVhdGVOZXdGcm9tU2NlbmUocyx1KSl9LHRoaXMuX29uS2V5VXA9ZnVuY3Rpb24odSl7dmFyIGY9a2kuS0VZVVA7aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IFdpKGYsdSk7aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKSxsLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYocy5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IFlyKGYsdSk7cy5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX1zLmFjdGlvbk1hbmFnZXImJnMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNSxOZS5DcmVhdGVOZXdGcm9tU2NlbmUocyx1KSl9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbih1KXt1LmRldmljZVR5cGU9PT1CLk1vdXNlP3Uub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtmLmlucHV0SW5kZXg9PT1ILkxlZnRDbGlja3x8Zi5pbnB1dEluZGV4PT09SC5NaWRkbGVDbGlja3x8Zi5pbnB1dEluZGV4PT09SC5SaWdodENsaWNrP3QmJnUuZ2V0SW5wdXQoZi5pbnB1dEluZGV4KT09PTE/YS5fb25Qb2ludGVyRG93bihmKTplJiZ1LmdldElucHV0KGYuaW5wdXRJbmRleCk9PT0wJiZhLl9vblBvaW50ZXJVcChmKTpyJiYoZi5pbnB1dEluZGV4PT09SC5Nb3ZlfHxmLmlucHV0SW5kZXg9PT1ILk1vdXNlV2hlZWxYfHxmLmlucHV0SW5kZXg9PT1ILk1vdXNlV2hlZWxZfHxmLmlucHV0SW5kZXg9PT1ILk1vdXNlV2hlZWxaKSYmYS5fb25Qb2ludGVyTW92ZShmKX0pOnUuZGV2aWNlVHlwZT09PUIuVG91Y2g/dS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe2YuaW5wdXRJbmRleD09PUguTGVmdENsaWNrJiYodCYmdS5nZXRJbnB1dChmLmlucHV0SW5kZXgpPT09MT9hLl9vblBvaW50ZXJEb3duKGYpOmUmJnUuZ2V0SW5wdXQoZi5pbnB1dEluZGV4KT09PTAmJmEuX29uUG9pbnRlclVwKGYpKSxyJiZmLmlucHV0SW5kZXg9PT1ILk1vdmUmJmEuX29uUG9pbnRlck1vdmUoZil9KTp1LmRldmljZVR5cGU9PT1CLktleWJvYXJkJiZ1Lm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oZil7Zi50eXBlPT09ImtleWRvd24iP2EuX29uS2V5RG93bihmKTpmLnR5cGU9PT0ia2V5dXAiJiZhLl9vbktleVVwKGYpfSl9KSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITB9LGkucHJvdG90eXBlLmRldGFjaENvbnRyb2w9ZnVuY3Rpb24oKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJih0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8mJiF0aGlzLl9zY2VuZS5kb05vdEhhbmRsZUN1cnNvcnMmJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUby5zdHlsZS5jdXJzb3I9dGhpcy5fc2NlbmUuZGVmYXVsdEN1cnNvciksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPW51bGwpfSxpLnByb3RvdHlwZS5zZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24oZSx0LHIpe2lmKHQ9PT12b2lkIDAmJih0PTApLHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSE9PWUpe3ZhciBuPXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSxhO24mJihhPW4uX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDEwKSxhJiZhLnByb2Nlc3NUcmlnZ2VyKDEwLE5lLkNyZWF0ZU5ldyhuLHZvaWQgMCx7cG9pbnRlcklkOnR9KSkpLGU/KHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT1lLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1lLGE9ZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoOSksYSYmYS5wcm9jZXNzVHJpZ2dlcig5LE5lLkNyZWF0ZU5ldyhlLHZvaWQgMCx7cG9pbnRlcklkOnQscGlja1Jlc3VsdDpyfSkpKTooZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCl9fSxpLnByb3RvdHlwZS5nZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9pbnRlck92ZXJNZXNofSxpLnByb3RvdHlwZS5faW52YWxpZGF0ZU1lc2g9ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlck92ZXJNZXNoPT09ZSYmKHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKSx0aGlzLl9waWNrZWREb3duTWVzaD09PWUmJih0aGlzLl9waWNrZWREb3duTWVzaD1udWxsKSx0aGlzLl9waWNrZWRVcE1lc2g9PT1lJiYodGhpcy5fcGlja2VkVXBNZXNoPW51bGwpO2Zvcih2YXIgdCBpbiB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQpdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XX0saS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQ9MTAsaS5Mb25nUHJlc3NEZWxheT01MDAsaS5Eb3VibGVDbGlja0RlbGF5PTMwMCxpLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT0hMSxpfSgpLFpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt0aGlzLm5vcm1hbD1uZXcgYihlLHQsciksdGhpcy5kPW59cmV0dXJuIGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kXX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlBsYW5lIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5vcm1hbC5nZXRIYXNoQ29kZSgpO3JldHVybiBlPWUqMzk3Xih0aGlzLmR8MCksZX0saS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5zcXJ0KHRoaXMubm9ybWFsLngqdGhpcy5ub3JtYWwueCt0aGlzLm5vcm1hbC55KnRoaXMubm9ybWFsLnkrdGhpcy5ub3JtYWwueip0aGlzLm5vcm1hbC56KSx0PTA7cmV0dXJuIGUhPT0wJiYodD0xL2UpLHRoaXMubm9ybWFsLngqPXQsdGhpcy5ub3JtYWwueSo9dCx0aGlzLm5vcm1hbC56Kj10LHRoaXMuZCo9dCx0aGlzfSxpLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9aS5fVG1wTWF0cml4O2UuaW52ZXJ0VG9SZWYodCk7dmFyIHI9dC5tLG49dGhpcy5ub3JtYWwueCxhPXRoaXMubm9ybWFsLnkscz10aGlzLm5vcm1hbC56LG89dGhpcy5kLHU9bipyWzBdK2EqclsxXStzKnJbMl0rbypyWzNdLGY9bipyWzRdK2Eqcls1XStzKnJbNl0rbypyWzddLGw9bipyWzhdK2Eqcls5XStzKnJbMTBdK28qclsxMV0saD1uKnJbMTJdK2EqclsxM10rcypyWzE0XStvKnJbMTVdO3JldHVybiBuZXcgaSh1LGYsbCxoKX0saS5wcm90b3R5cGUuZG90Q29vcmRpbmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnordGhpcy5kfSxpLnByb3RvdHlwZS5jb3B5RnJvbVBvaW50cz1mdW5jdGlvbihlLHQscil7dmFyIG49dC54LWUueCxhPXQueS1lLnkscz10LnotZS56LG89ci54LWUueCx1PXIueS1lLnksZj1yLnotZS56LGw9YSpmLXMqdSxoPXMqby1uKmYsYz1uKnUtYSpvLGQ9TWF0aC5zcXJ0KGwqbCtoKmgrYypjKSxwO3JldHVybiBkIT09MD9wPTEvZDpwPTAsdGhpcy5ub3JtYWwueD1sKnAsdGhpcy5ub3JtYWwueT1oKnAsdGhpcy5ub3JtYWwuej1jKnAsdGhpcy5kPS0odGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnopLHRoaXN9LGkucHJvdG90eXBlLmlzRnJvbnRGYWNpbmdUbz1mdW5jdGlvbihlLHQpe3ZhciByPWIuRG90KHRoaXMubm9ybWFsLGUpO3JldHVybiByPD10fSxpLnByb3RvdHlwZS5zaWduZWREaXN0YW5jZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBiLkRvdChlLHRoaXMubm9ybWFsKSt0aGlzLmR9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaShlWzBdLGVbMV0sZVsyXSxlWzNdKX0saS5Gcm9tUG9pbnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCwwKTtyZXR1cm4gbi5jb3B5RnJvbVBvaW50cyhlLHQsciksbn0saS5Gcm9tUG9zaXRpb25BbmROb3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaSgwLDAsMCwwKTtyZXR1cm4gdC5ub3JtYWxpemUoKSxyLm5vcm1hbD10LHIuZD0tKHQueCplLngrdC55KmUueSt0LnoqZS56KSxyfSxpLlNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbD1mdW5jdGlvbihlLHQscil7dmFyIG49LSh0LngqZS54K3QueSplLnkrdC56KmUueik7cmV0dXJuIGIuRG90KHIsdCkrbn0saS5fVG1wTWF0cml4PUkuSWRlbnRpdHkoKSxpfSgpLFJyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5HZXRQbGFuZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPDY7cisrKXQucHVzaChuZXcgWnIoMCwwLDAsMCkpO3JldHVybiBpLkdldFBsYW5lc1RvUmVmKGUsdCksdH0saS5HZXROZWFyUGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10rclsyXSx0Lm5vcm1hbC55PXJbN10rcls2XSx0Lm5vcm1hbC56PXJbMTFdK3JbMTBdLHQuZD1yWzE1XStyWzE0XSx0Lm5vcm1hbGl6ZSgpfSxpLkdldEZhclBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdLXJbMl0sdC5ub3JtYWwueT1yWzddLXJbNl0sdC5ub3JtYWwuej1yWzExXS1yWzEwXSx0LmQ9clsxNV0tclsxNF0sdC5ub3JtYWxpemUoKX0saS5HZXRMZWZ0UGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10rclswXSx0Lm5vcm1hbC55PXJbN10rcls0XSx0Lm5vcm1hbC56PXJbMTFdK3JbOF0sdC5kPXJbMTVdK3JbMTJdLHQubm9ybWFsaXplKCl9LGkuR2V0UmlnaHRQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXS1yWzBdLHQubm9ybWFsLnk9cls3XS1yWzRdLHQubm9ybWFsLno9clsxMV0tcls4XSx0LmQ9clsxNV0tclsxMl0sdC5ub3JtYWxpemUoKX0saS5HZXRUb3BQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXS1yWzFdLHQubm9ybWFsLnk9cls3XS1yWzVdLHQubm9ybWFsLno9clsxMV0tcls5XSx0LmQ9clsxNV0tclsxM10sdC5ub3JtYWxpemUoKX0saS5HZXRCb3R0b21QbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXStyWzFdLHQubm9ybWFsLnk9cls3XStyWzVdLHQubm9ybWFsLno9clsxMV0rcls5XSx0LmQ9clsxNV0rclsxM10sdC5ub3JtYWxpemUoKX0saS5HZXRQbGFuZXNUb1JlZj1mdW5jdGlvbihlLHQpe2kuR2V0TmVhclBsYW5lVG9SZWYoZSx0WzBdKSxpLkdldEZhclBsYW5lVG9SZWYoZSx0WzFdKSxpLkdldExlZnRQbGFuZVRvUmVmKGUsdFsyXSksaS5HZXRSaWdodFBsYW5lVG9SZWYoZSx0WzNdKSxpLkdldFRvcFBsYW5lVG9SZWYoZSx0WzRdKSxpLkdldEJvdHRvbVBsYW5lVG9SZWYoZSx0WzVdKX0saX0oKSxkYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJVbmlxdWVJZCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX1VuaXF1ZUlkQ291bnRlcjtyZXR1cm4gdGhpcy5fVW5pcXVlSWRDb3VudGVyKyssZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9VbmlxdWVJZENvdW50ZXI9MSxpfSgpLHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5Db21wYXJlTGlnaHRzUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zaGFkb3dFbmFibGVkIT09dC5zaGFkb3dFbmFibGVkPyh0LnNoYWRvd0VuYWJsZWQ/MTowKS0oZS5zaGFkb3dFbmFibGVkPzE6MCk6dC5yZW5kZXJQcmlvcml0eS1lLnJlbmRlclByaW9yaXR5fSxpLkZBTExPRkZfREVGQVVMVD0wLGkuRkFMTE9GRl9QSFlTSUNBTD0xLGkuRkFMTE9GRl9HTFRGPTIsaS5GQUxMT0ZGX1NUQU5EQVJEPTMsaS5MSUdIVE1BUF9ERUZBVUxUPTAsaS5MSUdIVE1BUF9TUEVDVUxBUj0xLGkuTElHSFRNQVBfU0hBRE9XU09OTFk9MixpLklOVEVOU0lUWU1PREVfQVVUT01BVElDPTAsaS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9MSxpLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9MixpLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U9MyxpLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPTQsaS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPTAsaS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPTEsaS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9MixpLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9MyxpfSgpLFFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2kuSXNBdmFpbGFibGUmJih0aGlzLl9vYnNlcnZlcj1uZXcgd2luZG93LkNvbXB1dGVQcmVzc3VyZU9ic2VydmVyKGUsdCkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXNBdmFpbGFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geWUoKSYmIkNvbXB1dGVQcmVzc3VyZU9ic2VydmVyImluIHdpbmRvd30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKCl7dmFyIGUsdDshKChlPXRoaXMuX29ic2VydmVyKT09PW51bGx8fGU9PT12b2lkIDApJiZlLm9ic2VydmUmJigodD10aGlzLl9vYnNlcnZlcik9PT1udWxsfHx0PT09dm9pZCAwfHx0Lm9ic2VydmUoKS5jYXRjaChmdW5jdGlvbigpe30pKX0saS5wcm90b3R5cGUudW5vYnNlcnZlPWZ1bmN0aW9uKCl7dmFyIGUsdDshKChlPXRoaXMuX29ic2VydmVyKT09PW51bGx8fGU9PT12b2lkIDApJiZlLnVub2JzZXJ2ZSYmKCh0PXRoaXMuX29ic2VydmVyKT09PW51bGx8fHQ9PT12b2lkIDB8fHQudW5vYnNlcnZlKCkpfSxpfSgpLGVlPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMpfHx0aGlzO24uX2lucHV0TWFuYWdlcj1uZXcgbHQobiksbi5jYW1lcmFUb1VzZUZvclBvaW50ZXJzPW51bGwsbi5faXNTY2VuZT0hMCxuLl9ibG9ja0VudGl0eUNvbGxlY3Rpb249ITEsbi5hdXRvQ2xlYXI9ITAsbi5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWw9ITAsbi5jbGVhckNvbG9yPW5ldyBFZSguMiwuMiwuMywxKSxuLmFtYmllbnRDb2xvcj1uZXcgYmUoMCwwLDApLG4uZW52aXJvbm1lbnRJbnRlbnNpdHk9MSxuLl9mb3JjZVdpcmVmcmFtZT0hMSxuLl9za2lwRnJ1c3R1bUNsaXBwaW5nPSExLG4uX2ZvcmNlUG9pbnRzQ2xvdWQ9ITEsbi5hbmltYXRpb25zRW5hYmxlZD0hMCxuLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCxuLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPSExLG4uY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXI9ITEsbi5ob3ZlckN1cnNvcj0icG9pbnRlciIsbi5kZWZhdWx0Q3Vyc29yPSIiLG4uZG9Ob3RIYW5kbGVDdXJzb3JzPSExLG4ucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duPSEwLG4ucHJldmVudERlZmF1bHRPblBvaW50ZXJVcD0hMCxuLm1ldGFkYXRhPW51bGwsbi5yZXNlcnZlZERhdGFTdG9yZT1udWxsLG4uZGlzYWJsZU9mZmxpbmVTdXBwb3J0RXhjZXB0aW9uUnVsZXM9bmV3IEFycmF5LG4ub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLG4ub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4uX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9bnVsbCxuLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGU9bmV3IE8sbi5fb25BZnRlclJlbmRlck9ic2VydmVyPW51bGwsbi5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGU9bmV3IE8sbi5vblJlYWR5T2JzZXJ2YWJsZT1uZXcgTyxuLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsbi5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCxuLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgTyxuLm9uRGF0YUxvYWRlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25NZXNoUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVTdGVwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZD1uZXcgTyxuLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgTyxuLl9yZWdpc3RlcmVkRm9yTGF0ZUFuaW1hdGlvbkJpbmRpbmdzPW5ldyBJdCgyNTYpLG4uc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSxuLnNraXBQb2ludGVyRG93blBpY2tpbmc9ITEsbi5za2lwUG9pbnRlclVwUGlja2luZz0hMSxuLm9uUHJlUG9pbnRlck9ic2VydmFibGU9bmV3IE8sbi5vblBvaW50ZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25QcmVLZXlib2FyZE9ic2VydmFibGU9bmV3IE8sbi5vbktleWJvYXJkT2JzZXJ2YWJsZT1uZXcgTyxuLl91c2VSaWdodEhhbmRlZFN5c3RlbT0hMSxuLl90aW1lQWNjdW11bGF0b3I9MCxuLl9jdXJyZW50U3RlcElkPTAsbi5fY3VycmVudEludGVybmFsU3RlcD0wLG4uX2ZvZ0VuYWJsZWQ9ITAsbi5fZm9nTW9kZT1lLkZPR01PREVfTk9ORSxuLmZvZ0NvbG9yPW5ldyBiZSguMiwuMiwuMyksbi5mb2dEZW5zaXR5PS4xLG4uZm9nU3RhcnQ9MCxuLmZvZ0VuZD0xZTMsbi5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcz0hMSxuLl9zaGFkb3dzRW5hYmxlZD0hMCxuLl9saWdodHNFbmFibGVkPSEwLG4uYWN0aXZlQ2FtZXJhcz1uZXcgQXJyYXksbi5fdGV4dHVyZXNFbmFibGVkPSEwLG4ucGh5c2ljc0VuYWJsZWQ9ITAsbi5wYXJ0aWNsZXNFbmFibGVkPSEwLG4uc3ByaXRlc0VuYWJsZWQ9ITAsbi5fc2tlbGV0b25zRW5hYmxlZD0hMCxuLmxlbnNGbGFyZXNFbmFibGVkPSEwLG4uY29sbGlzaW9uc0VuYWJsZWQ9ITAsbi5ncmF2aXR5PW5ldyBiKDAsLTkuODA3LDApLG4ucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9ITAsbi5yZW5kZXJUYXJnZXRzRW5hYmxlZD0hMCxuLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSxuLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LG4uaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksbi5wcm9iZXNFbmFibGVkPSEwLG4uX21lc2hlc0ZvckludGVyc2VjdGlvbnM9bmV3IEl0KDI1Niksbi5wcm9jZWR1cmFsVGV4dHVyZXNFbmFibGVkPSEwLG4uX3RvdGFsVmVydGljZXM9bmV3IFF0LG4uX2FjdGl2ZUluZGljZXM9bmV3IFF0LG4uX2FjdGl2ZVBhcnRpY2xlcz1uZXcgUXQsbi5fYWN0aXZlQm9uZXM9bmV3IFF0LG4uX2FuaW1hdGlvblRpbWU9MCxuLmFuaW1hdGlvblRpbWVTY2FsZT0xLG4uX3JlbmRlcklkPTAsbi5fZnJhbWVJZD0wLG4uX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbCxuLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITEsbi5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSxuLl92aWV3VXBkYXRlRmxhZz0tMSxuLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMSxuLl90b0JlRGlzcG9zZWQ9bmV3IEFycmF5KDI1Niksbi5fYWN0aXZlUmVxdWVzdHM9bmV3IEFycmF5LG4uX3BlbmRpbmdEYXRhPW5ldyBBcnJheSxuLl9pc0Rpc3Bvc2VkPSExLG4uZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlcz0hMSxuLl9hY3RpdmVNZXNoZXM9bmV3IFZlKDI1Niksbi5fcHJvY2Vzc2VkTWF0ZXJpYWxzPW5ldyBWZSgyNTYpLG4uX3JlbmRlclRhcmdldHM9bmV3IEl0KDI1Niksbi5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cz1uZXcgSXQoMjU2KSxuLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXM9bmV3IFZlKDI1Niksbi5fYWN0aXZlU2tlbGV0b25zPW5ldyBJdCgzMiksbi5fc29mdHdhcmVTa2lubmVkTWVzaGVzPW5ldyBJdCgzMiksbi5fYWN0aXZlQW5pbWF0YWJsZXM9bmV3IEFycmF5LG4uX3RyYW5zZm9ybU1hdHJpeD1JLlplcm8oKSxuLnJlcXVpcmVMaWdodFNvcnRpbmc9ITEsbi5fY29tcG9uZW50cz1bXSxuLl9zZXJpYWxpemFibGVDb21wb25lbnRzPVtdLG4uX3RyYW5zaWVudENvbXBvbmVudHM9W10sbi5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlQ2xlYXJTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlPVRlLkNyZWF0ZSgpLG4uX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZT1UZS5DcmVhdGUoKSxuLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U9VGUuQ3JlYXRlKCksbi5faXNSZWFkeUZvck1lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9wcmVBY3RpdmVNZXNoU3RhZ2U9VGUuQ3JlYXRlKCksbi5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2JlZm9yZUNhbWVyYURyYXdTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYWZ0ZXJSZW5kZXJTdGFnZT1UZS5DcmVhdGUoKSxuLl9wb2ludGVyTW92ZVN0YWdlPVRlLkNyZWF0ZSgpLG4uX3BvaW50ZXJEb3duU3RhZ2U9VGUuQ3JlYXRlKCksbi5fcG9pbnRlclVwU3RhZ2U9VGUuQ3JlYXRlKCksbi5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9bnVsbCxuLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LG4uX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sbi5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9ITEsbi5fYWN0aXZlTWVzaGVzRnJvemVuPSExLG4uX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz0hMSxuLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PSExLG4uX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yPSEwLG4uZ2V0RGV0ZXJtaW5pc3RpY0ZyYW1lVGltZT1mdW5jdGlvbigpe3JldHVybiBuLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKX0sbi5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPSExLG4uX3BlcmZDb2xsZWN0b3I9bnVsbCxuLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZD1uZXcgTzt2YXIgYT1idCh7dXNlR2VvbWV0cnlVbmlxdWVJZHNNYXA6ITAsdXNlTWF0ZXJpYWxNZXNoTWFwOiEwLHVzZUNsb25lZE1lc2hNYXA6ITAsdmlydHVhbDohMX0scik7cmV0dXJuIG4uX2VuZ2luZT10fHxyZS5MYXN0Q3JlYXRlZEVuZ2luZSxhLnZpcnR1YWw/bi5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnB1c2gobik6KHJlLl9MYXN0Q3JlYXRlZFNjZW5lPW4sbi5fZW5naW5lLnNjZW5lcy5wdXNoKG4pKSxuLl91aWQ9bnVsbCxuLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBNcihuKSxTciYmKG4ucG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBTcihuKSkseWUoKSYmbi5hdHRhY2hDb250cm9sKCksbi5fY3JlYXRlVWJvKCksTnQmJihuLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPW5ldyBOdCksbi5zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzKCksYS51c2VHZW9tZXRyeVVuaXF1ZUlkc01hcCYmKG4uX2dlb21ldHJpZXNCeVVuaXF1ZUlkPXt9KSxuLnVzZU1hdGVyaWFsTWVzaE1hcD1hLnVzZU1hdGVyaWFsTWVzaE1hcCxuLnVzZUNsb25lZE1lc2hNYXA9YS51c2VDbG9uZWRNZXNoTWFwLCghcnx8IXIudmlydHVhbCkmJm4uX2VuZ2luZS5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSxRaS5Jc0F2YWlsYWJsZSYmKG4uX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyPW5ldyBRaShmdW5jdGlvbihzKXtuLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMocyl9LHtjcHVVdGlsaXphdGlvblRocmVzaG9sZHM6Wy4yNSwuNSwuNzUsLjldLGNwdVNwZWVkVGhyZXNob2xkczpbLjVdfSksbi5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIub2JzZXJ2ZSgpKSxufXJldHVybiBlLkRlZmF1bHRNYXRlcmlhbEZhY3Rvcnk9ZnVuY3Rpb24odCl7dGhyb3cgWCgiU3RhbmRhcmRNYXRlcmlhbCIpfSxlLkNvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeT1mdW5jdGlvbigpe3Rocm93IFgoIkRlZmF1bHRDb2xsaXNpb25Db29yZGluYXRvciIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImVudmlyb25tZW50VGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmUhPT10JiYodGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb3JjZVdpcmVmcmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JjZVdpcmVmcmFtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvcmNlV2lyZWZyYW1lIT09dCYmKHRoaXMuX2ZvcmNlV2lyZWZyYW1lPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2tpcEZydXN0dW1DbGlwcGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZyE9PXQmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yY2VQb2ludHNDbG91ZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JjZVBvaW50c0Nsb3VkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9yY2VQb2ludHNDbG91ZCE9PXQmJih0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25EaXNwb3NlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmVmb3JlUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyKSx0JiYodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWZ0ZXJSZW5kZXIiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHQmJih0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmVmb3JlQ2FtZXJhUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFmdGVyQ2FtZXJhUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1blRyYW5zbGF0ZWRQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci51blRyYW5zbGF0ZWRQb2ludGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEcmFnTW92ZW1lbnRUaHJlc2hvbGQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQuRHJhZ01vdmVtZW50VGhyZXNob2xkfSxzZXQ6ZnVuY3Rpb24odCl7bHQuRHJhZ01vdmVtZW50VGhyZXNob2xkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxvbmdQcmVzc0RlbGF5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0LkxvbmdQcmVzc0RlbGF5fSxzZXQ6ZnVuY3Rpb24odCl7bHQuTG9uZ1ByZXNzRGVsYXk9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRG91YmxlQ2xpY2tEZWxheSIse2dldDpmdW5jdGlvbigpe3JldHVybiBsdC5Eb3VibGVDbGlja0RlbGF5fSxzZXQ6ZnVuY3Rpb24odCl7bHQuRG91YmxlQ2xpY2tEZWxheT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJFeGNsdXNpdmVEb3VibGVDbGlja01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7bHQuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYmluZEV5ZVBvc2l0aW9uPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtyPT09dm9pZCAwJiYocj0idkV5ZVBvc2l0aW9uIiksbj09PXZvaWQgMCYmKG49ITEpO3ZhciBzPXRoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbj90aGlzLl9mb3JjZWRWaWV3UG9zaXRpb246dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj90aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uOihhPXRoaXMuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uKSE9PW51bGwmJmEhPT12b2lkIDA/YTp0aGlzLmFjdGl2ZUNhbWVyYS5kZXZpY2VQb3NpdGlvbixvPXRoaXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0odGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbiE9bnVsbCk7cmV0dXJuIEQuVmVjdG9yNFswXS5zZXQocy54LHMueSxzLnosbz8tMToxKSx0JiYobj90LnNldEZsb2F0MyhyLEQuVmVjdG9yNFswXS54LEQuVmVjdG9yNFswXS55LEQuVmVjdG9yNFswXS56KTp0LnNldFZlY3RvcjQocixELlZlY3RvcjRbMF0pKSxELlZlY3RvcjRbMF19LGUucHJvdG90eXBlLmZpbmFsaXplU2NlbmVVYm89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLHI9dGhpcy5iaW5kRXllUG9zaXRpb24obnVsbCk7cmV0dXJuIHQudXBkYXRlRmxvYXQ0KCJ2RXllUG9zaXRpb24iLHIueCxyLnksci56LHIudyksdC51cGRhdGUoKSx0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZVJpZ2h0SGFuZGVkU3lzdGVtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW0hPT10JiYodGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0U3RlcElkPWZ1bmN0aW9uKHQpe3RoaXMuX2N1cnJlbnRTdGVwSWQ9dH0sZS5wcm90b3R5cGUuZ2V0U3RlcElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGVwSWR9LGUucHJvdG90eXBlLmdldEludGVybmFsU3RlcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50SW50ZXJuYWxTdGVwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvZ0VuYWJsZWQhPT10JiYodGhpcy5fZm9nRW5hYmxlZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvZ01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9nTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvZ01vZGUhPT10JiYodGhpcy5fZm9nTW9kZT10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInByZVBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLnByZVBhc3NSZW5kZXJlci5kZWZhdWx0UlQuZW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd3NFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93c0VuYWJsZWQhPT10JiYodGhpcy5fc2hhZG93c0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0c0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlnaHRzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpZ2h0c0VuYWJsZWQhPT10JiYodGhpcy5fbGlnaHRzRW5hYmxlZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlQ2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9hY3RpdmVDYW1lcmEmJih0aGlzLl9hY3RpdmVDYW1lcmE9dCx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVmYXVsdE1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNYXRlcmlhbHx8KHRoaXMuX2RlZmF1bHRNYXRlcmlhbD1lLkRlZmF1bHRNYXRlcmlhbEZhY3RvcnkodGhpcykpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRNYXRlcmlhbD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidGV4dHVyZXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmVzRW5hYmxlZCE9PXQmJih0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2tlbGV0b25zRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NrZWxldG9uc0VuYWJsZWQhPT10JiYodGhpcy5fc2tlbGV0b25zRW5hYmxlZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoOCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlzaW9uQ29vcmRpbmF0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J8fCh0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcj1lLkNvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeSgpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yLmluaXQodGhpcykpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZnJ1c3R1bVBsYW5lcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcnVzdHVtUGxhbmVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHM9ZnVuY3Rpb24oKXtpZih0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLmxlbmd0aD4wKXtmb3IodmFyIHQ9MCxyPXRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5yZWdpc3RlcigpfXRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM9W119fSxlLnByb3RvdHlwZS5fYWRkQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3RoaXMuX2NvbXBvbmVudHMucHVzaCh0KSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLnB1c2godCk7dmFyIHI9dDtyLmFkZEZyb21Db250YWluZXImJnIuc2VyaWFsaXplJiZ0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzLnB1c2gocil9LGUucHJvdG90eXBlLl9nZXRDb21wb25lbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTAsbj10aGlzLl9jb21wb25lbnRzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKGEubmFtZT09PXQpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTY2VuZSJ9LGUucHJvdG90eXBlLl9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmRhdGE9dGhpcy5tZXNoZXMsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmxlbmd0aD10aGlzLm1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzfSxlLnByb3RvdHlwZS5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuZGF0YT10LnN1Yk1lc2hlcyx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMubGVuZ3RoPXQuc3ViTWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXN9LGUucHJvdG90eXBlLnNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnM9ZnVuY3Rpb24oKXt0aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1lc2hVbmRlclBvaW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLm1lc2hVbmRlclBvaW50ZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb2ludGVyWCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclg9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvaW50ZXJZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENhY2hlZE1hdGVyaWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZE1hdGVyaWFsfSxlLnByb3RvdHlwZS5nZXRDYWNoZWRFZmZlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVkRWZmZWN0fSxlLnByb3RvdHlwZS5nZXRDYWNoZWRWaXNpYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFZpc2liaWxpdHl9LGUucHJvdG90eXBlLmlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49MSksdGhpcy5fY2FjaGVkRWZmZWN0IT09cnx8dGhpcy5fY2FjaGVkTWF0ZXJpYWwhPT10fHx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5IT09bn0sZS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0sZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidG90YWxWZXJ0aWNlc1BlcmZDb3VudGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidG90YWxBY3RpdmVJbmRpY2VzUGVyZkNvdW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVQYXJ0aWNsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlUGFydGljbGVzUGVyZkNvdW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZUJvbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJvbmVzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlQm9uZXNQZXJmQ291bnRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfSxlLnByb3RvdHlwZS5nZXRBbmltYXRpb25SYXRpbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25SYXRpbyE9PXZvaWQgMD90aGlzLl9hbmltYXRpb25SYXRpbzoxfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJJZH0sZS5wcm90b3R5cGUuZ2V0RnJhbWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZUlkfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRSZW5kZXJJZD1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcklkKyt9LGUucHJvdG90eXBlLl9jcmVhdGVVYm89ZnVuY3Rpb24oKXt0aGlzLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcigpKX0sZS5wcm90b3R5cGUuc2ltdWxhdGVQb2ludGVyTW92ZT1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyTW92ZSh0LHIpLHRoaXN9LGUucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlckRvd249ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlckRvd24odCxyKSx0aGlzfSxlLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJVcD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJVcCh0LHIsbiksdGhpc30sZS5wcm90b3R5cGUuaXNQb2ludGVyQ2FwdHVyZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLHRoaXMuX2lucHV0TWFuYWdlci5pc1BvaW50ZXJDYXB0dXJlZCh0KX0sZS5wcm90b3R5cGUuYXR0YWNoQ29udHJvbD1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMCksdGhpcy5faW5wdXRNYW5hZ2VyLmF0dGFjaENvbnRyb2wodCxyLG4pfSxlLnByb3RvdHlwZS5kZXRhY2hDb250cm9sPWZ1bmN0aW9uKCl7dGhpcy5faW5wdXRNYW5hZ2VyLmRldGFjaENvbnRyb2woKX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMCksdGhpcy5faXNEaXNwb3NlZClyZXR1cm4hMTt2YXIgcixuPXRoaXMuZ2V0RW5naW5lKCksYT0hMDtmb3IodGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjAmJihhPSExKSx0JiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpKSxyPTA7cjx0aGlzLm1lc2hlcy5sZW5ndGg7cisrKXt2YXIgcz10aGlzLm1lc2hlc1tyXTtpZighKCFzLnN1Yk1lc2hlc3x8cy5zdWJNZXNoZXMubGVuZ3RoPT09MCkpe2lmKCFzLmlzUmVhZHkoITApKXthPSExO2NvbnRpbnVlfWZvcih2YXIgbz1zLmhhc1RoaW5JbnN0YW5jZXN8fHMuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTWVzaCJ8fHMuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTGluZXNNZXNoInx8bi5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiZzLmluc3RhbmNlcy5sZW5ndGg+MCx1PTAsZj10aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wuYWN0aW9uKHMsbyl8fChhPSExKX1pZih0KXt2YXIgaD1zLm1hdGVyaWFsfHx0aGlzLmRlZmF1bHRNYXRlcmlhbDtpZihoKWlmKGguX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKHZhciBjPTAsZD1zLnN1Yk1lc2hlcztjPGQubGVuZ3RoO2MrKyl7dmFyIHA9ZFtjXSxnPXAuZ2V0TWF0ZXJpYWwoKTtnJiZnLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZnLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihnKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goZyksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoZy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9ZWxzZSBoLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZoLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihoKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goaCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoaC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9fX1pZighYXx8IW4uYXJlQWxsRWZmZWN0c1JlYWR5KCkpcmV0dXJuITE7aWYodClmb3Iocj0wO3I8dGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5sZW5ndGg7KytyKXt2YXIgXz10aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmRhdGFbcl07aWYoIV8uaXNSZWFkeUZvclJlbmRlcmluZygpKXJldHVybiExfWZvcihyPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKyl7dmFyIHY9dGhpcy5nZW9tZXRyaWVzW3JdO2lmKHYuZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiExfWlmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcih2YXIgeT0wLEU9dGhpcy5hY3RpdmVDYW1lcmFzO3k8RS5sZW5ndGg7eSsrKXt2YXIgUj1FW3ldO2lmKCFSLmlzUmVhZHkoITApKXJldHVybiExfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJiF0aGlzLmFjdGl2ZUNhbWVyYS5pc1JlYWR5KCEwKSlyZXR1cm4hMTtmb3IodmFyIE09MCxDPXRoaXMucGFydGljbGVTeXN0ZW1zO008Qy5sZW5ndGg7TSsrKXt2YXIgQT1DW01dO2lmKCFBLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUucmVzZXRDYWNoZWRNYXRlcmlhbD1mdW5jdGlvbigpe3RoaXMuX2NhY2hlZE1hdGVyaWFsPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0PW51bGwsdGhpcy5fY2FjaGVkVmlzaWJpbGl0eT1udWxsfSxlLnByb3RvdHlwZS5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCl9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpfSxlLnByb3RvdHlwZS5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPWZ1bmN0aW9uKCl7dCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXIobil9KX07dGhpcy5yZWdpc3RlckJlZm9yZVJlbmRlcihuKX0sZS5wcm90b3R5cGUuZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3IhPT12b2lkIDA/c2V0VGltZW91dChmdW5jdGlvbigpe24uX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKHQpfSxyKTp0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcih0KX0sZS5wcm90b3R5cGUuX2FkZFBlbmRpbmdEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3BlbmRpbmdEYXRhLnB1c2godCl9LGUucHJvdG90eXBlLl9yZW1vdmVQZW5kaW5nRGF0YT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmlzTG9hZGluZyxuPXRoaXMuX3BlbmRpbmdEYXRhLmluZGV4T2YodCk7biE9PS0xJiZ0aGlzLl9wZW5kaW5nRGF0YS5zcGxpY2UobiwxKSxyJiYhdGhpcy5pc0xvYWRpbmcmJnRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LGUucHJvdG90eXBlLmdldFdhaXRpbmdJdGVtc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0xvYWRpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZXhlY3V0ZVdoZW5SZWFkeT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSExKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmFkZCh0KSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KHIpfSxlLnByb3RvdHlwZS53aGVuUmVhZHlBc3luYz1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksbmV3IFByb21pc2UoZnVuY3Rpb24obil7ci5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7bigpfSx0KX0pfSxlLnByb3RvdHlwZS5fY2hlY2tJc1JlYWR5PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuaXNSZWFkeSh0KSl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59aWYodGhpcy5faXNEaXNwb3NlZCl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59dGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fY2hlY2tJc1JlYWR5KHQpfSwxMDApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFuaW1hdGFibGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlc2V0TGFzdEFuaW1hdGlvblRpbWVGcmFtZT1mdW5jdGlvbigpe3RoaXMuX2FuaW1hdGlvblRpbWVMYXN0PUx0Lk5vd30sZS5wcm90b3R5cGUuZ2V0Vmlld01hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3TWF0cml4fSxlLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9LGUucHJvdG90eXBlLnNldFRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbih0LHIsbixhKXshbiYmIWEmJnRoaXMuX211bHRpdmlld1NjZW5lVWJvJiYodGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvPW51bGwpLCEodGhpcy5fdmlld1VwZGF0ZUZsYWc9PT10LnVwZGF0ZUZsYWcmJnRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPT09ci51cGRhdGVGbGFnKSYmKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz1yLnVwZGF0ZUZsYWcsdGhpcy5fdmlld01hdHJpeD10LHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9cix0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/UnIuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9UnIuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLnVzZVVibz90aGlzLl91cGRhdGVNdWx0aXZpZXdVYm8obixhKTp0aGlzLl9zY2VuZVViby51c2VVYm8mJih0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlldyIsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJwcm9qZWN0aW9uIix0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSkpfSxlLnByb3RvdHlwZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8/dGhpcy5fbXVsdGl2aWV3U2NlbmVVYm86dGhpcy5fc2NlbmVVYm99LGUucHJvdG90eXBlLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbih0KXt2YXIgcj1uZXcgRXIodGhpcy5fZW5naW5lLHZvaWQgMCwhMSx0Pz8ic2NlbmUiKTtyZXR1cm4gci5hZGRVbmlmb3JtKCJ2aWV3UHJvamVjdGlvbiIsMTYpLHIuYWRkVW5pZm9ybSgidmlldyIsMTYpLHIuYWRkVW5pZm9ybSgicHJvamVjdGlvbiIsMTYpLHIuYWRkVW5pZm9ybSgidkV5ZVBvc2l0aW9uIiw0KSxyfSxlLnByb3RvdHlwZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fc2NlbmVVYm89dCx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMX0sZS5wcm90b3R5cGUuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZGEuVW5pcXVlSWR9LGUucHJvdG90eXBlLmFkZE1lc2g9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3I9PT12b2lkIDAmJihyPSExKSwhdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uJiYodGhpcy5tZXNoZXMucHVzaCh0KSx0Ll9yZXN5bmNMaWdodFNvdXJjZXMoKSx0LnBhcmVudHx8dC5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyJiZ0LmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChmdW5jdGlvbihhKXtuLmFkZE1lc2goYSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZU1lc2g9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3I9PT12b2lkIDAmJihyPSExKTt2YXIgYT10aGlzLm1lc2hlcy5pbmRleE9mKHQpO3JldHVybiBhIT09LTEmJih0aGlzLm1lc2hlc1thXT10aGlzLm1lc2hlc1t0aGlzLm1lc2hlcy5sZW5ndGgtMV0sdGhpcy5tZXNoZXMucG9wKCksdC5wYXJlbnR8fHQuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9pbnB1dE1hbmFnZXIuX2ludmFsaWRhdGVNZXNoKHQpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHImJnQuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe24ucmVtb3ZlTWVzaChzKX0pLGF9LGUucHJvdG90eXBlLmFkZFRyYW5zZm9ybU5vZGU9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0LmdldFNjZW5lKCk9PT10aGlzJiZ0Ll9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5IT09LTF8fCh0Ll9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLHRoaXMudHJhbnNmb3JtTm9kZXMucHVzaCh0KSx0LnBhcmVudHx8dC5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLnJlbW92ZVRyYW5zZm9ybU5vZGU9ZnVuY3Rpb24odCl7dmFyIHI9dC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheTtpZihyIT09LTEpe2lmKHIhPT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xKXt2YXIgbj10aGlzLnRyYW5zZm9ybU5vZGVzW3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTFdO3RoaXMudHJhbnNmb3JtTm9kZXNbcl09bixuLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXJ9dC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLnRyYW5zZm9ybU5vZGVzLnBvcCgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlU2tlbGV0b249ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5za2VsZXRvbnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiYodGhpcy5za2VsZXRvbnMuc3BsaWNlKHIsMSksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVNrZWxldG9ucykpLHJ9LGUucHJvdG90eXBlLnJlbW92ZU1vcnBoVGFyZ2V0TWFuYWdlcj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUucmVtb3ZlTGlnaHQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5saWdodHMuaW5kZXhPZih0KTtpZihyIT09LTEpe2Zvcih2YXIgbj0wLGE9dGhpcy5tZXNoZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5fcmVtb3ZlTGlnaHRTb3VyY2UodCwhMSl9dGhpcy5saWdodHMuc3BsaWNlKHIsMSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHJ9LGUucHJvdG90eXBlLnJlbW92ZUNhbWVyYT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmNhbWVyYXMuaW5kZXhPZih0KTtpZihyIT09LTEmJih0aGlzLmNhbWVyYXMuc3BsaWNlKHIsMSksdC5wYXJlbnR8fHQuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLmFjdGl2ZUNhbWVyYXMpe3ZhciBuPXRoaXMuYWN0aXZlQ2FtZXJhcy5pbmRleE9mKHQpO24hPT0tMSYmdGhpcy5hY3RpdmVDYW1lcmFzLnNwbGljZShuLDEpfXJldHVybiB0aGlzLmFjdGl2ZUNhbWVyYT09PXQmJih0aGlzLmNhbWVyYXMubGVuZ3RoPjA/dGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlUGFydGljbGVTeXN0ZW09ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5wYXJ0aWNsZVN5c3RlbXMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiYodGhpcy5wYXJ0aWNsZVN5c3RlbXMuc3BsaWNlKHIsMSksdGhpcy5fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKSkscn0sZS5wcm90b3R5cGUucmVtb3ZlQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UociwxKSxyfSxlLnByb3RvdHlwZS5zdG9wQW5pbWF0aW9uPWZ1bmN0aW9uKHQscixuKXt9LGUucHJvdG90eXBlLnJlbW92ZUFuaW1hdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYW5pbWF0aW9uR3JvdXBzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5hbmltYXRpb25Hcm91cHMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUucmVtb3ZlTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UociwxKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgcj10Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5O2lmKHIhPT0tMSYmcjx0aGlzLm1hdGVyaWFscy5sZW5ndGgpe2lmKHIhPT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMSl7dmFyIG49dGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoLTFdO3RoaXMubWF0ZXJpYWxzW3JdPW4sbi5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT1yfXQuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tYXRlcmlhbHMucG9wKCl9cmV0dXJuIHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVBY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYWN0aW9uTWFuYWdlcnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLmFjdGlvbk1hbmFnZXJzLnNwbGljZShyLDEpLHJ9LGUucHJvdG90eXBlLnJlbW92ZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy50ZXh0dXJlcy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMudGV4dHVyZXMuc3BsaWNlKHIsMSksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUuYWRkTGlnaHQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbil7dGhpcy5saWdodHMucHVzaCh0KSx0aGlzLnNvcnRMaWdodHNCeVByaW9yaXR5KCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKTtmb3IodmFyIHI9MCxuPXRoaXMubWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EubGlnaHRTb3VyY2VzLmluZGV4T2YodCk9PT0tMSYmKGEubGlnaHRTb3VyY2VzLnB1c2godCksYS5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpfXRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9fSxlLnByb3RvdHlwZS5zb3J0TGlnaHRzQnlQcmlvcml0eT1mdW5jdGlvbigpe3RoaXMucmVxdWlyZUxpZ2h0U29ydGluZyYmdGhpcy5saWdodHMuc29ydCh4ZS5Db21wYXJlTGlnaHRzUHJpb3JpdHkpfSxlLnByb3RvdHlwZS5hZGRDYW1lcmE9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5jYW1lcmFzLnB1c2godCksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSl9LGUucHJvdG90eXBlLmFkZFNrZWxldG9uPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuc2tlbGV0b25zLnB1c2godCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLmFkZFBhcnRpY2xlU3lzdGVtPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5wYXJ0aWNsZVN5c3RlbXMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25zLnB1c2godCl9LGUucHJvdG90eXBlLmFkZEFuaW1hdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25Hcm91cHMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLm11bHRpTWF0ZXJpYWxzLnB1c2godCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKX0sZS5wcm90b3R5cGUuYWRkTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0LmdldFNjZW5lKCk9PT10aGlzJiZ0Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5IT09LTF8fCh0Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PXRoaXMubWF0ZXJpYWxzLmxlbmd0aCx0aGlzLm1hdGVyaWFscy5wdXNoKHQpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpfSxlLnByb3RvdHlwZS5hZGRNb3JwaFRhcmdldE1hbmFnZXI9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkR2VvbWV0cnk9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFt0LnVuaXF1ZUlkXT10aGlzLmdlb21ldHJpZXMubGVuZ3RoKSx0aGlzLmdlb21ldHJpZXMucHVzaCh0KSl9LGUucHJvdG90eXBlLmFkZEFjdGlvbk1hbmFnZXI9ZnVuY3Rpb24odCl7dGhpcy5hY3Rpb25NYW5hZ2Vycy5wdXNoKHQpfSxlLnByb3RvdHlwZS5hZGRUZXh0dXJlPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMudGV4dHVyZXMucHVzaCh0KSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpfSxlLnByb3RvdHlwZS5zd2l0Y2hBY3RpdmVDYW1lcmE9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpO24mJih0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuZGV0YWNoQ29udHJvbCgpLHRoaXMuYWN0aXZlQ2FtZXJhPXQsciYmdC5hdHRhY2hDb250cm9sKCkpfSxlLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlkPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0Q2FtZXJhQnlJZCh0KTtyZXR1cm4gcj8odGhpcy5hY3RpdmVDYW1lcmE9cixyKTpudWxsfSxlLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeU5hbWU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRDYW1lcmFCeU5hbWUodCk7cmV0dXJuIHI/KHRoaXMuYWN0aXZlQ2FtZXJhPXIscik6bnVsbH0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uR3JvdXBCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5sZW5ndGg7cisrKWlmKHRoaXMuYW5pbWF0aW9uR3JvdXBzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLmFuaW1hdGlvbkdyb3Vwc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeVVuaXF1ZUlEPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3IrKylpZih0aGlzLm1hdGVyaWFsc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1hdGVyaWFscy5sZW5ndGg7cisrKWlmKHRoaXMubWF0ZXJpYWxzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExhc3RNYXRlcmlhbEJ5SWQ9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSk7Zm9yKHZhciBuPXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xO24+PTA7bi0tKWlmKHRoaXMubWF0ZXJpYWxzW25dLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbbl07aWYocil7Zm9yKHZhciBuPXRoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoLTE7bj49MDtuLS0paWYodGhpcy5tdWx0aU1hdGVyaWFsc1tuXS5pZD09PXQpcmV0dXJuIHRoaXMubXVsdGlNYXRlcmlhbHNbbl19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1hdGVyaWFsQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3IrKylpZih0aGlzLm1hdGVyaWFsc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRleHR1cmVCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50ZXh0dXJlcy5sZW5ndGg7cisrKWlmKHRoaXMudGV4dHVyZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLnRleHR1cmVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50ZXh0dXJlcy5sZW5ndGg7cisrKWlmKHRoaXMudGV4dHVyZXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMudGV4dHVyZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbWVyYUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKylpZih0aGlzLmNhbWVyYXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmNhbWVyYXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbWVyYUJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKylpZih0aGlzLmNhbWVyYXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLmNhbWVyYXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbWVyYUJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuY2FtZXJhcy5sZW5ndGg7cisrKWlmKHRoaXMuY2FtZXJhc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5jYW1lcmFzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRCb25lQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspZm9yKHZhciBuPXRoaXMuc2tlbGV0b25zW3JdLGE9MDthPG4uYm9uZXMubGVuZ3RoO2ErKylpZihuLmJvbmVzW2FdLmlkPT09dClyZXR1cm4gbi5ib25lc1thXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspZm9yKHZhciBuPXRoaXMuc2tlbGV0b25zW3JdLGE9MDthPG4uYm9uZXMubGVuZ3RoO2ErKylpZihuLmJvbmVzW2FdLm5hbWU9PT10KXJldHVybiBuLmJvbmVzW2FdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMaWdodEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubGlnaHRzLmxlbmd0aDtyKyspaWYodGhpcy5saWdodHNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMubGlnaHRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMaWdodEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmxpZ2h0cy5sZW5ndGg7cisrKWlmKHRoaXMubGlnaHRzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5saWdodHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExpZ2h0QnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubGlnaHRzLmxlbmd0aDtyKyspaWYodGhpcy5saWdodHNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLmxpZ2h0c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3IrKylpZih0aGlzLnBhcnRpY2xlU3lzdGVtc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMucGFydGljbGVTeXN0ZW1zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZih0aGlzLmdlb21ldHJpZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmdlb21ldHJpZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQpe3ZhciByPXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW3RdO2lmKHIhPT12b2lkIDApcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1tyXX1lbHNlIGZvcih2YXIgcj0wO3I8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDtyKyspaWYodGhpcy5nZW9tZXRyaWVzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5wdXNoR2VvbWV0cnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4hciYmdGhpcy5fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkKHQudW5pcXVlSWQpPyExOih0aGlzLmFkZEdlb21ldHJ5KHQpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksITApfSxlLnByb3RvdHlwZS5yZW1vdmVHZW9tZXRyeT1mdW5jdGlvbih0KXt2YXIgcjtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7aWYocj10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFt0LnVuaXF1ZUlkXSxyPT09dm9pZCAwKXJldHVybiExfWVsc2UgaWYocj10aGlzLmdlb21ldHJpZXMuaW5kZXhPZih0KSxyPDApcmV0dXJuITE7aWYociE9PXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgtMSl7dmFyIG49dGhpcy5nZW9tZXRyaWVzW3RoaXMuZ2VvbWV0cmllcy5sZW5ndGgtMV07biYmKHRoaXMuZ2VvbWV0cmllc1tyXT1uLHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbbi51bmlxdWVJZF09cix0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFt0LnVuaXF1ZUlkXT12b2lkIDApKX1yZXR1cm4gdGhpcy5nZW9tZXRyaWVzLnBvcCgpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSwhMH0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdlb21ldHJpZXN9LGUucHJvdG90eXBlLmdldE1lc2hCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tZXNoZXMubGVuZ3RoO3IrKylpZih0aGlzLm1lc2hlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNZXNoZXNCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1lc2hlcy5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHIuaWQ9PT10fSl9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7cisrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3IrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZXNCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gci5pZD09PXR9KX0sZS5wcm90b3R5cGUuZ2V0TWVzaEJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1lc2hlcy5sZW5ndGg7cisrKWlmKHRoaXMubWVzaGVzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExhc3RNZXNoQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcy5tZXNoZXMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy5tZXNoZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLm1lc2hlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdEVudHJ5QnlJZD1mdW5jdGlvbih0KXt2YXIgcjtmb3Iocj10aGlzLm1lc2hlcy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLm1lc2hlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO2ZvcihyPXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbcl07Zm9yKHI9dGhpcy5jYW1lcmFzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMuY2FtZXJhc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMuY2FtZXJhc1tyXTtmb3Iocj10aGlzLmxpZ2h0cy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLmxpZ2h0c1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubGlnaHRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldE1lc2hCeUlkKHQpO2lmKHIpcmV0dXJuIHI7dmFyIG49dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZCh0KTtpZihuKXJldHVybiBuO3ZhciBhPXRoaXMuZ2V0TGlnaHRCeUlkKHQpO2lmKGEpcmV0dXJuIGE7dmFyIHM9dGhpcy5nZXRDYW1lcmFCeUlkKHQpO2lmKHMpcmV0dXJuIHM7dmFyIG89dGhpcy5nZXRCb25lQnlJZCh0KTtyZXR1cm4gb3x8bnVsbH0sZS5wcm90b3R5cGUuZ2V0Tm9kZUJ5TmFtZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldE1lc2hCeU5hbWUodCk7aWYocilyZXR1cm4gcjt2YXIgbj10aGlzLmdldFRyYW5zZm9ybU5vZGVCeU5hbWUodCk7aWYobilyZXR1cm4gbjt2YXIgYT10aGlzLmdldExpZ2h0QnlOYW1lKHQpO2lmKGEpcmV0dXJuIGE7dmFyIHM9dGhpcy5nZXRDYW1lcmFCeU5hbWUodCk7aWYocylyZXR1cm4gczt2YXIgbz10aGlzLmdldEJvbmVCeU5hbWUodCk7cmV0dXJuIG98fG51bGx9LGUucHJvdG90eXBlLmdldE1lc2hCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1lc2hlcy5sZW5ndGg7cisrKWlmKHRoaXMubWVzaGVzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLm1lc2hlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3IrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0U2tlbGV0b25CeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10aGlzLnNrZWxldG9ucy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLnNrZWxldG9uc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRTa2VsZXRvbkJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnNrZWxldG9ucy5sZW5ndGg7cisrKWlmKHRoaXMuc2tlbGV0b25zW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5za2VsZXRvbnNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFNrZWxldG9uQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspaWYodGhpcy5za2VsZXRvbnNbcl0uaWQ9PT10KXJldHVybiB0aGlzLnNrZWxldG9uc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0U2tlbGV0b25CeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnNrZWxldG9ucy5sZW5ndGg7cisrKWlmKHRoaXMuc2tlbGV0b25zW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLnNrZWxldG9uc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7cisrKWlmKHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TW9ycGhUYXJnZXRCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDsrK3IpZm9yKHZhciBuPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1tyXSxhPTA7YTxuLm51bVRhcmdldHM7KythKXt2YXIgcz1uLmdldFRhcmdldChhKTtpZihzLmlkPT09dClyZXR1cm4gc31yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TW9ycGhUYXJnZXRCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrcilmb3IodmFyIG49dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdLGE9MDthPG4ubnVtVGFyZ2V0czsrK2Epe3ZhciBzPW4uZ2V0VGFyZ2V0KGEpO2lmKHMubmFtZT09PXQpcmV0dXJuIHN9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFBvc3RQcm9jZXNzQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5wb3N0UHJvY2Vzc2VzLmxlbmd0aDsrK3Ipe3ZhciBuPXRoaXMucG9zdFByb2Nlc3Nlc1tyXTtpZihuLm5hbWU9PT10KXJldHVybiBufXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5pc0FjdGl2ZU1lc2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKHQpIT09LTF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidWlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VpZHx8KHRoaXMuX3VpZD1fZS5SYW5kb21JZCgpKSx0aGlzLl91aWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYWRkRXh0ZXJuYWxEYXRhPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgTGkpLHRoaXMuX2V4dGVybmFsRGF0YS5hZGQodCxyKX0sZS5wcm90b3R5cGUuZ2V0RXh0ZXJuYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGE/dGhpcy5fZXh0ZXJuYWxEYXRhLmdldCh0KTpudWxsfSxlLnByb3RvdHlwZS5nZXRPckFkZEV4dGVybmFsRGF0YVdpdGhGYWN0b3J5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgTGkpLHRoaXMuX2V4dGVybmFsRGF0YS5nZXRPckFkZFdpdGhGYWN0b3J5KHQscil9LGUucHJvdG90eXBlLnJlbW92ZUV4dGVybmFsRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhLnJlbW92ZSh0KX0sZS5wcm90b3R5cGUuX2V2YWx1YXRlU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7aWYobi5oYXNJbnN0YW5jZXN8fG4uaXNBbkluc3RhbmNlfHx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXN8fHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHIuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHxyLnN1Yk1lc2hlcy5sZW5ndGg9PT0xfHx0LmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKXtmb3IodmFyIGE9MCxzPXRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uYWN0aW9uKHIsdCl9dmFyIHU9dC5nZXRNYXRlcmlhbCgpO3UhPW51bGwmJih1Lmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZ1LmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZih1KT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2godSksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUodS5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaCh0LHIsdSkpfX0sZS5wcm90b3R5cGUuZnJlZVByb2Nlc3NlZE1hdGVyaWFscz1mdW5jdGlvbigpe3RoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMhPT10JiYodCYmKHRoaXMuZnJlZUFjdGl2ZU1lc2hlcygpLHRoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpKSx0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5mcmVlQWN0aXZlTWVzaGVzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcyYmdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmFzKSlmb3IodmFyIHQ9MDt0PHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmFjdGl2ZUNhbWVyYXNbdF07ciYmci5fYWN0aXZlTWVzaGVzJiZyLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpfX0sZS5wcm90b3R5cGUuZnJlZVJlbmRlcmluZ0dyb3Vwcz1mdW5jdGlvbigpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMudGV4dHVyZXMpKWZvcih2YXIgdD0wO3Q8dGhpcy50ZXh0dXJlcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLnRleHR1cmVzW3RdO3ImJnIucmVuZGVyTGlzdCYmci5mcmVlUmVuZGVyaW5nR3JvdXBzKCl9fSxlLnByb3RvdHlwZS5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmd9LGUucHJvdG90eXBlLmZyZWV6ZUFjdGl2ZU1lc2hlcz1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXM7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxhPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLHRoaXMuZXhlY3V0ZVdoZW5SZWFkeShmdW5jdGlvbigpe2lmKCFvLmFjdGl2ZUNhbWVyYSl7biYmbigiTm8gYWN0aXZlIGNhbWVyYSBmb3VuZCIpO3JldHVybn1pZihvLl9mcnVzdHVtUGxhbmVzfHxvLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLG8uX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCksby5fYWN0aXZlTWVzaGVzRnJvemVuPSEwLG8uX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz1zLG8uX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHk9dCxhKWZvcih2YXIgdT0wO3U8by5fYWN0aXZlTWVzaGVzLmxlbmd0aDt1Kyspby5fYWN0aXZlTWVzaGVzLmRhdGFbdV0uX2ZyZWV6ZSgpO3ImJnIoKX0pLHRoaXN9LGUucHJvdG90eXBlLnVuZnJlZXplQWN0aXZlTWVzaGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLm1lc2hlc1t0XTtyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvJiYoci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITEpfWZvcih2YXIgdD0wO3Q8dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDt0KyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbdF0uX3VuRnJlZXplKCk7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMSx0aGlzfSxlLnByb3RvdHlwZS5fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXA9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MTshciYmdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RofHx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGRPbmNlKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGlzcG9zZSgpfSl9LGUucHJvdG90eXBlLl9ldmFsdWF0ZUFjdGl2ZU1lc2hlcz1mdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpe3RoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg+MCYmKCh0PXRoaXMuYWN0aXZlQ2FtZXJhKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSk7cmV0dXJufWlmKHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCl7aWYoIXRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHkpZm9yKHZhciByPXRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBhPXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW25dO2EuY29tcHV0ZVdvcmxkTWF0cml4KCl9aWYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKWZvcih2YXIgcz10aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMubGVuZ3RoLG49MDtuPHM7bisrKXRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5kYXRhW25dLmFuaW1hdGUoKTtyZXR1cm59aWYodGhpcy5hY3RpdmVDYW1lcmEpe3RoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZTtvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmFjdGlvbigpfWZvcih2YXIgbD10aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzKCksaD1sLmxlbmd0aCxuPTA7bjxoO24rKyl7dmFyIGE9bC5kYXRhW25dO2lmKGEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLCFhLmlzQmxvY2tlZCYmKHRoaXMuX3RvdGFsVmVydGljZXMuYWRkQ291bnQoYS5nZXRUb3RhbFZlcnRpY2VzKCksITEpLCEoIWEuaXNSZWFkeSgpfHwhYS5pc0VuYWJsZWQoKXx8YS5zY2FsaW5nLmhhc0FaZXJvQ29tcG9uZW50KSkpe2EuY29tcHV0ZVdvcmxkTWF0cml4KCksYS5hY3Rpb25NYW5hZ2VyJiZhLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyczIoMTIsMTMpJiZ0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnB1c2hOb0R1cGxpY2F0ZShhKTt2YXIgYz10aGlzLmN1c3RvbUxPRFNlbGVjdG9yP3RoaXMuY3VzdG9tTE9EU2VsZWN0b3IoYSx0aGlzLmFjdGl2ZUNhbWVyYSk6YS5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmEpO2lmKGEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9YyxhLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCxjIT1udWxsJiYoYyE9PWEmJmMuYmlsbGJvYXJkTW9kZSE9PTAmJmMuY29tcHV0ZVdvcmxkTWF0cml4KCksYS5fcHJlQWN0aXZhdGUoKSxhLmlzVmlzaWJsZSYmYS52aXNpYmlsaXR5PjAmJmEubGF5ZXJNYXNrJnRoaXMuYWN0aXZlQ2FtZXJhLmxheWVyTWFzayYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fGEuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHxhLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKSkpe3RoaXMuX2FjdGl2ZU1lc2hlcy5wdXNoKGEpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucHVzaChhKSxjIT09YSYmYy5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpO2Zvcih2YXIgZD0wLHA9dGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlO2Q8cC5sZW5ndGg7ZCsrKXt2YXIgZj1wW2RdO2YuYWN0aW9uKGEpfWEuX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKSYmKGEuaXNBbkluc3RhbmNlP2EuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihjPWEpOmMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXM9ITEsYy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITAsdGhpcy5fYWN0aXZlTWVzaChhLGMpKSxhLl9wb3N0QWN0aXZhdGUoKX19fWlmKHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBhcnRpY2xlc0VuYWJsZWQpe3RoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IodmFyIGc9MDtnPHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtnKyspe3ZhciBfPXRoaXMucGFydGljbGVTeXN0ZW1zW2ddO2lmKCEoIV8uaXNTdGFydGVkKCl8fCFfLmVtaXR0ZXIpKXt2YXIgdj1fLmVtaXR0ZXI7KCF2LnBvc2l0aW9ufHx2LmlzRW5hYmxlZCgpKSYmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5wdXNoKF8pLF8uYW5pbWF0ZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2hQYXJ0aWNsZXMoXykpfX10aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX19fSxlLnByb3RvdHlwZS5fYWN0aXZlTWVzaD1mdW5jdGlvbih0LHIpe2lmKHRoaXMuX3NrZWxldG9uc0VuYWJsZWQmJnIuc2tlbGV0b24hPT1udWxsJiZyLnNrZWxldG9uIT09dm9pZCAwJiYodGhpcy5fYWN0aXZlU2tlbGV0b25zLnB1c2hOb0R1cGxpY2F0ZShyLnNrZWxldG9uKSYmKHIuc2tlbGV0b24ucHJlcGFyZSgpLHRoaXMuX2FjdGl2ZUJvbmVzLmFkZENvdW50KHIuc2tlbGV0b24uYm9uZXMubGVuZ3RoLCExKSksci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5wdXNoTm9EdXBsaWNhdGUocikpLHImJnIuc3ViTWVzaGVzJiZyLnN1Yk1lc2hlcy5sZW5ndGg+MClmb3IodmFyIG49dGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcyhyKSxhPW4ubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbz1uLmRhdGFbc107dGhpcy5fZXZhbHVhdGVTdWJNZXNoKG8scix0KX19LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbih0KXtpZih0aGlzLmFjdGl2ZUNhbWVyYSlpZih0aGlzLmFjdGl2ZUNhbWVyYS5fcmVuZGVyaW5nTXVsdGl2aWV3KXt2YXIgcj10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1swXSxuPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzFdO3RoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHIuZ2V0Vmlld01hdHJpeCgpLHIuZ2V0UHJvamVjdGlvbk1hdHJpeCh0KSxuLmdldFZpZXdNYXRyaXgoKSxuLmdldFByb2plY3Rpb25NYXRyaXgodCkpfWVsc2UgdGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHRoaXMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgodCkpfSxlLnByb3RvdHlwZS5fYmluZEZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITApLHQmJnQuX211bHRpdmlld1RleHR1cmU/dC5fbXVsdGl2aWV3VGV4dHVyZS5fYmluZEZyYW1lQnVmZmVyKCk6dCYmdC5vdXRwdXRSZW5kZXJUYXJnZXQ/dC5vdXRwdXRSZW5kZXJUYXJnZXQuX2JpbmRGcmFtZUJ1ZmZlcigpOnRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXx8dGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSxyJiZ0aGlzLl9jbGVhckZyYW1lQnVmZmVyKHQpfSxlLnByb3RvdHlwZS5fY2xlYXJGcmFtZUJ1ZmZlcj1mdW5jdGlvbih0KXtpZighKHQmJnQuX211bHRpdmlld1RleHR1cmUpKWlmKHQmJnQub3V0cHV0UmVuZGVyVGFyZ2V0KXt2YXIgcj10Lm91dHB1dFJlbmRlclRhcmdldDtyLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3Iub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2VuZ2luZSk6ci5za2lwSW5pdGlhbENsZWFyfHwodGhpcy5fZW5naW5lLmNsZWFyKHIuY2xlYXJDb2xvcnx8dGhpcy5jbGVhckNvbG9yLCFyLl9jbGVhcmVkLCEwLCEwKSxyLl9jbGVhcmVkPSEwKX1lbHNlIHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ/dGhpcy5fZW5naW5lLmNsZWFyKG51bGwsITEsITAsITApOih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSEwLHRoaXMuX2NsZWFyKCkpfSxlLnByb3RvdHlwZS5fcmVuZGVyRm9yQ2FtZXJhPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzLG87aWYobj09PXZvaWQgMCYmKG49ITApLCEodCYmdC5fc2tpcFJlbmRlcmluZykpe3ZhciB1PXRoaXMuX2VuZ2luZTtpZih0aGlzLl9hY3RpdmVDYW1lcmE9dCwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpZih1LnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLl9yZW5kZXJJZCsrLCF0aGlzLnByZVBhc3MmJm4pe3ZhciBmPSEwO3QuX3JlbmRlcmluZ011bHRpdmlldyYmdC5vdXRwdXRSZW5kZXJUYXJnZXQmJihmPXQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXIsdGhpcy5hdXRvQ2xlYXImJih0Lm91dHB1dFJlbmRlclRhcmdldC5za2lwSW5pdGlhbENsZWFyPSExKSksdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSksdC5fcmVuZGVyaW5nTXVsdGl2aWV3JiZ0Lm91dHB1dFJlbmRlclRhcmdldCYmKHQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9Zil9dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5hY3RpdmVDYW1lcmEpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCk7Zm9yKHZhciBsPTA7bDx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMubGVuZ3RoO2wrKyl7dmFyIGg9dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLmRhdGFbbF07aC5hcHBseVNrZWxldG9uKGguc2tlbGV0b24pfXRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUodGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cyksdC5jdXN0b21SZW5kZXJUYXJnZXRzJiZ0LmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjAmJnRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHQuY3VzdG9tUmVuZGVyVGFyZ2V0cyksciYmci5jdXN0b21SZW5kZXJUYXJnZXRzJiZyLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjAmJnRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHIuY3VzdG9tUmVuZGVyVGFyZ2V0cyksdGhpcy5lbnZpcm9ubWVudFRleHR1cmUmJnRoaXMuZW52aXJvbm1lbnRUZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLmVudmlyb25tZW50VGV4dHVyZSk7Zm9yKHZhciBjPTAsZD10aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyl9dmFyIGc9ITE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7aWYodGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApe19lLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCk7Zm9yKHZhciBfPTA7Xzx0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aDtfKyspe3ZhciB2PXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtfXTtpZih2Ll9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKzt2YXIgeT12LmFjdGl2ZUNhbWVyYSYmdi5hY3RpdmVDYW1lcmEhPT10aGlzLmFjdGl2ZUNhbWVyYTt2LnJlbmRlcih5LHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzKSxnPSEwfX1fZS5FbmRQZXJmb3JtYW5jZUNvdW50ZXIoIlJlbmRlciB0YXJnZXRzIix0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aD4wKSx0aGlzLl9yZW5kZXJJZCsrfWZvcih2YXIgRT0wLFI9dGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlO0U8Ui5sZW5ndGg7RSsrKXt2YXIgcD1SW0VdO2c9cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfHxnfXRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMX10aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZD0obz0ocz0oYT10Lm91dHB1dFJlbmRlclRhcmdldCk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnJlbmRlclBhc3NJZCkhPT1udWxsJiZzIT09dm9pZCAwP3M6dC5yZW5kZXJQYXNzSWQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOjAsZyYmIXRoaXMucHJlUGFzcyYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSwhMSksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhdC5fbXVsdGl2aWV3VGV4dHVyZSYmIXRoaXMucHJlUGFzcyYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSgpO2Zvcih2YXIgTT0wLEM9dGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlO008Qy5sZW5ndGg7TSsrKXt2YXIgcD1DW01dO3AuYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKX10aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdS5zbmFwc2hvdFJlbmRlcmluZyYmdS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcih2YXIgQT0wLFM9dGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U7QTxTLmxlbmd0aDtBKyspe3ZhciBwPVNbQV07cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfWlmKHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhdC5fbXVsdGl2aWV3VGV4dHVyZSl7dmFyIHc9dC5vdXRwdXRSZW5kZXJUYXJnZXQ/dC5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSh0LmlzSW50ZXJtZWRpYXRlLHcpfXRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSl9fSxlLnByb3RvdHlwZS5fcHJvY2Vzc1N1YkNhbWVyYXM9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMCksdC5jYW1lcmFSaWdNb2RlPT09MHx8dC5fcmVuZGVyaW5nTXVsdGl2aWV3KXt0Ll9yZW5kZXJpbmdNdWx0aXZpZXcmJiF0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fY3JlYXRlTXVsdGl2aWV3VWJvKCksdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKHQsdm9pZCAwLHIpLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpO3JldHVybn1pZih0Ll91c2VNdWx0aXZpZXdUb1NpbmdsZVZpZXcpdGhpcy5fcmVuZGVyTXVsdGl2aWV3VG9TaW5nbGVWaWV3KHQpO2Vsc2V7dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpO2Zvcih2YXIgbj0wO248dC5fcmlnQ2FtZXJhcy5sZW5ndGg7bisrKXRoaXMuX3JlbmRlckZvckNhbWVyYSh0Ll9yaWdDYW1lcmFzW25dLHQpfXRoaXMuX2FjdGl2ZUNhbWVyYT10LHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9LGUucHJvdG90eXBlLl9jaGVja0ludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW3RdO2lmKHIuYWN0aW9uTWFuYWdlcilmb3IodmFyIG49ZnVuY3Rpb24ocyl7dmFyIG89ci5hY3Rpb25NYW5hZ2VyLmFjdGlvbnNbc107aWYoby50cmlnZ2VyPT09MTJ8fG8udHJpZ2dlcj09PTEzKXt2YXIgdT1vLmdldFRyaWdnZXJQYXJhbWV0ZXIoKSxmPXUubWVzaD91Lm1lc2g6dSxsPWYuaW50ZXJzZWN0c01lc2gocix1LnVzZVByZWNpc2VJbnRlcnNlY3Rpb24pLGg9ci5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MuaW5kZXhPZihmKTtsJiZoPT09LTE/by50cmlnZ2VyPT09MTI/KG8uX2V4ZWN1dGVDdXJyZW50KE5lLkNyZWF0ZU5ldyhyLHZvaWQgMCxmKSksci5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MucHVzaChmKSk6by50cmlnZ2VyPT09MTMmJnIuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2goZik6IWwmJmg+LTEmJihvLnRyaWdnZXI9PT0xMyYmby5fZXhlY3V0ZUN1cnJlbnQoTmUuQ3JlYXRlTmV3KHIsdm9pZCAwLGYpKSwoIXIuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoMTMsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5tZXNoP2MubWVzaDpjO3JldHVybiBmPT09ZH0pfHxvLnRyaWdnZXI9PT0xMykmJnIuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShoLDEpKX19LGE9MDtyLmFjdGlvbk1hbmFnZXImJmE8ci5hY3Rpb25NYW5hZ2VyLmFjdGlvbnMubGVuZ3RoO2ErKyluKGEpfX0sZS5wcm90b3R5cGUuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9hbmltYXRlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZW5naW5lLmlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwKCkpe3ZhciB0PU1hdGgubWF4KGUuTWluRGVsdGFUaW1lLE1hdGgubWluKHRoaXMuX2VuZ2luZS5nZXREZWx0YVRpbWUoKSxlLk1heERlbHRhVGltZSkpK3RoaXMuX3RpbWVBY2N1bXVsYXRvcixyPXRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLG49MWUzL3IvMWUzLGE9MCxzPXRoaXMuX2VuZ2luZS5nZXRMb2Nrc3RlcE1heFN0ZXBzKCksbz1NYXRoLmZsb29yKHQvcik7Zm9yKG89TWF0aC5taW4obyxzKTt0PjAmJmE8bzspdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9hbmltYXRpb25SYXRpbz1yKm4sdGhpcy5fYW5pbWF0ZSgpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBoeXNpY3NFbmFibGVkJiZ0aGlzLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAociksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2N1cnJlbnRTdGVwSWQrKyxhKyssdC09cjt0aGlzLl90aW1lQWNjdW11bGF0b3I9dDwwPzA6dH1lbHNle3ZhciB0PXRoaXMudXNlQ29uc3RhbnRBbmltYXRpb25EZWx0YVRpbWU/MTY6TWF0aC5tYXgoZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLGUuTWF4RGVsdGFUaW1lKSk7dGhpcy5fYW5pbWF0aW9uUmF0aW89dCooNjAvMWUzKSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcCh0KX19LGUucHJvdG90eXBlLl9jbGVhcj1mdW5jdGlvbigpeyh0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbHx8dGhpcy5hdXRvQ2xlYXIpJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yLHRoaXMuYXV0b0NsZWFyfHx0aGlzLmZvcmNlV2lyZWZyYW1lfHx0aGlzLmZvcmNlUG9pbnRzQ2xvdWQsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWwsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWwpfSxlLnByb3RvdHlwZS5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIHI7aWYodCE9bnVsbCYmdC5vdXRwdXRSZW5kZXJUYXJnZXQmJiEodCE9bnVsbCYmdC5pc1JpZ0NhbWVyYSkmJih0Lm91dHB1dFJlbmRlclRhcmdldC5fY2xlYXJlZD0hMSksISgocj10PT1udWxsP3ZvaWQgMDp0LnJpZ0NhbWVyYXMpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIubGVuZ3RoKWZvcih2YXIgbj0wO248dC5yaWdDYW1lcmFzLmxlbmd0aDsrK24pe3ZhciBhPXQucmlnQ2FtZXJhc1tuXS5vdXRwdXRSZW5kZXJUYXJnZXQ7YSYmKGEuX2NsZWFyZWQ9ITEpfX0sZS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24odCl7aWYodGhpcy5tZXNoZXMpZm9yKHZhciByPTAsbj10aGlzLm1lc2hlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLnJlc2V0RHJhd0NhY2hlKHQpfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQscil7dmFyIG4sYSxzO2lmKHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksIXRoaXMuaXNEaXNwb3NlZCl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD09PW51bGwmJnRoaXMuX2NoZWNrSXNSZWFkeSgpLHRoaXMuX2ZyYW1lSWQrKyx0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLHRoaXMuX2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KHRoaXMuYWN0aXZlQ2FtZXJhKSwhKChuPXRoaXMuYWN0aXZlQ2FtZXJhcyk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5sZW5ndGgmJnRoaXMuYWN0aXZlQ2FtZXJhcy5mb3JFYWNoKHRoaXMuX2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KSx0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX3RvdGFsVmVydGljZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX2FjdGl2ZUluZGljZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX2FjdGl2ZUJvbmVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnJlc2V0KCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmFjdGlvbk1hbmFnZXImJnRoaXMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxMSkscnx8dGhpcy5hbmltYXRlKCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZTtvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmFjdGlvbigpfWlmKHQpe2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcih2YXIgbD0wO2w8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtsKyspe3ZhciBoPXRoaXMuYWN0aXZlQ2FtZXJhc1tsXTtpZihoLnVwZGF0ZSgpLGguY2FtZXJhUmlnTW9kZSE9PTApZm9yKHZhciBjPTA7YzxoLl9yaWdDYW1lcmFzLmxlbmd0aDtjKyspaC5fcmlnQ2FtZXJhc1tjXS51cGRhdGUoKX1lbHNlIGlmKHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEudXBkYXRlKCksdGhpcy5hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTApKWZvcih2YXIgYz0wO2M8dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXMubGVuZ3RoO2MrKyl0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1tjXS51cGRhdGUoKX10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIGQ9dGhpcy5nZXRFbmdpbmUoKTt0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciBwPSEoKGE9dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fGE9PT12b2lkIDApJiZhLmxlbmd0aD90aGlzLmFjdGl2ZUNhbWVyYXNbMF06dGhpcy5hY3RpdmVDYW1lcmE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7X2UuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXIoIkN1c3RvbSByZW5kZXIgdGFyZ2V0cyIsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wKSx0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITA7Zm9yKHZhciBnPTA7Zzx0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoO2crKyl7dmFyIF89dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW2ddO2lmKF8uX3Nob3VsZFJlbmRlcigpKXtpZih0aGlzLl9yZW5kZXJJZCsrLHRoaXMuYWN0aXZlQ2FtZXJhPV8uYWN0aXZlQ2FtZXJhfHx0aGlzLmFjdGl2ZUNhbWVyYSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtkLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLF8ucmVuZGVyKHAhPT10aGlzLmFjdGl2ZUNhbWVyYSx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyl9fV9lLkVuZFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9yZW5kZXJJZCsrfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShzPXA9PW51bGw/dm9pZCAwOnAucmVuZGVyUGFzc0lkKSE9PW51bGwmJnMhPT12b2lkIDA/czowLHRoaXMuYWN0aXZlQ2FtZXJhPXAsdGhpcy5fYWN0aXZlQ2FtZXJhJiZ0aGlzLl9hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTIyJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKHZhciB2PTAseT10aGlzLl9iZWZvcmVDbGVhclN0YWdlO3Y8eS5sZW5ndGg7disrKXt2YXIgZj15W3ZdO2YuYWN0aW9uKCl9dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKHZhciBFPTAsUj10aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2U7RTxSLmxlbmd0aDtFKyspe3ZhciBmPVJbRV07Zi5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyl9aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKHZhciBsPTA7bDx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO2wrKyl0aGlzLl9wcm9jZXNzU3ViQ2FtZXJhcyh0aGlzLmFjdGl2ZUNhbWVyYXNbbF0sbD4wKTtlbHNle2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIk5vIGNhbWVyYSBkZWZpbmVkIik7dGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmEsISF0aGlzLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQpfXRoaXMuX2NoZWNrSW50ZXJzZWN0aW9ucygpO2Zvcih2YXIgTT0wLEM9dGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZTtNPEMubGVuZ3RoO00rKyl7dmFyIGY9Q1tNXTtmLmFjdGlvbigpfWlmKHRoaXMuYWZ0ZXJSZW5kZXImJnRoaXMuYWZ0ZXJSZW5kZXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoKXtmb3IodmFyIGM9MDtjPHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg7YysrKXt2YXIgQT10aGlzLl90b0JlRGlzcG9zZWRbY107QSYmQS5kaXNwb3NlKCl9dGhpcy5fdG9CZURpc3Bvc2VkPVtdfXRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzJiYodGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHM9ITEpLHRoaXMuX2FjdGl2ZUJvbmVzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fYWN0aXZlUGFydGljbGVzLmFkZENvdW50KDAsITApLHRoaXMuX2VuZ2luZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCl9fSxlLnByb3RvdHlwZS5mcmVlemVNYXRlcmlhbHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aDt0KyspdGhpcy5tYXRlcmlhbHNbdF0uZnJlZXplKCl9LGUucHJvdG90eXBlLnVuZnJlZXplTWF0ZXJpYWxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLm1hdGVyaWFscy5sZW5ndGg7dCsrKXRoaXMubWF0ZXJpYWxzW3RdLnVuZnJlZXplKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDtpZighdGhpcy5pc0Rpc3Bvc2VkKXt0aGlzLmJlZm9yZVJlbmRlcj1udWxsLHRoaXMuYWZ0ZXJSZW5kZXI9bnVsbCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5za2VsZXRvbnM9W10sdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzPVtdLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM9W10sdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlck1vdmVTdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJEb3duU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyVXBTdGFnZS5jbGVhcigpLHRoaXMuaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksdGhpcy5zdG9wQWxsQW5pbWF0aW9ucyYmdGhpcy5zdG9wQWxsQW5pbWF0aW9ucygpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmE9bnVsbCksdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLmRpc3Bvc2UoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3MuZGlzcG9zZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGlzcG9zZSgpLHRoaXMuX3RvQmVEaXNwb3NlZD1bXTtmb3IodmFyIHI9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKSxuPTAsYT1yO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuYWJvcnQoKX10aGlzLl9hY3RpdmVSZXF1ZXN0cz1bXSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQuY2xlYXIoKSx0aGlzLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZC5jbGVhcigpLCh0PXRoaXMuX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyKT09PW51bGx8fHQ9PT12b2lkIDB8fHQudW5vYnNlcnZlKCksdGhpcy5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXI9dm9pZCAwLHRoaXMuZGV0YWNoQ29udHJvbCgpO3ZhciBvPXRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihvKWZvcih2YXIgdT0wO3U8dGhpcy5jYW1lcmFzLmxlbmd0aDt1KyspdGhpcy5jYW1lcmFzW3VdLmRldGFjaENvbnRyb2woKTt0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmFuaW1hdGlvbkdyb3VwcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5saWdodHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWVzaGVzLGZ1bmN0aW9uKGwpe3JldHVybiBsLmRpc3Bvc2UoITApfSksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50cmFuc2Zvcm1Ob2RlcyxmdW5jdGlvbihsKXtyZXR1cm4gbC5kaXNwb3NlKCEwKX0pLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuY2FtZXJhcyksdGhpcy5fZGVmYXVsdE1hdGVyaWFsJiZ0aGlzLl9kZWZhdWx0TWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubXVsdGlNYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBhcnRpY2xlU3lzdGVtcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wb3N0UHJvY2Vzc2VzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRleHR1cmVzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMpLHRoaXMuX3NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLl9jb21wb25lbnRzKTt2YXIgZj10aGlzLl9lbmdpbmUuc2NlbmVzLmluZGV4T2YodGhpcyk7Zj4tMSYmdGhpcy5fZW5naW5lLnNjZW5lcy5zcGxpY2UoZiwxKSxyZS5fTGFzdENyZWF0ZWRTY2VuZT09PXRoaXMmJih0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aD4wP3JlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMuX2VuZ2luZS5zY2VuZXNbdGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGgtMV06cmUuX0xhc3RDcmVhdGVkU2NlbmU9bnVsbCksZj10aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuaW5kZXhPZih0aGlzKSxmPi0xJiZ0aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuc3BsaWNlKGYsMSksdGhpcy5fZW5naW5lLndpcGVDYWNoZXMoITApLHRoaXMuX2lzRGlzcG9zZWQ9ITB9fSxlLnByb3RvdHlwZS5fZGlzcG9zZUxpc3Q9ZnVuY3Rpb24odCxyKXt2YXIgbj10LnNsaWNlKDApO3I9cj8/ZnVuY3Rpb24odSl7cmV0dXJuIHUuZGlzcG9zZSgpfTtmb3IodmFyIGE9MCxzPW47YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07cihvKX10Lmxlbmd0aD0wfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRGlzcG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jbGVhckNhY2hlZFZlcnRleERhdGE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMubWVzaGVzW3RdLG49ci5nZW9tZXRyeTtuJiZuLmNsZWFyQ2FjaGVkRGF0YSgpfX0sZS5wcm90b3R5cGUuY2xlYW5DYWNoZWRUZXh0dXJlQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLnRleHR1cmVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdLGE9bi5fYnVmZmVyO2EmJihuLl9idWZmZXI9bnVsbCl9fSxlLnByb3RvdHlwZS5nZXRXb3JsZEV4dGVuZHM9ZnVuY3Rpb24odCl7dmFyIHI9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG49bmV3IGIoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiB0PXR8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHRoaXMubWVzaGVzLmZpbHRlcih0KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSwhKCFhLnN1Yk1lc2hlc3x8YS5zdWJNZXNoZXMubGVuZ3RoPT09MHx8YS5pbmZpbml0ZURpc3RhbmNlKSl7dmFyIHM9YS5nZXRCb3VuZGluZ0luZm8oKSxvPXMuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLHU9cy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQ7Yi5DaGVja0V4dGVuZHMobyxyLG4pLGIuQ2hlY2tFeHRlbmRzKHUscixuKX19KSx7bWluOnIsbWF4Om59fSxlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5PWZ1bmN0aW9uKHQscixuLGEscyl7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZj1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2U9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKHQscixuLGEscyxvKXt2YXIgdT1uZXcgUWU7cmV0dXJuIHUuX3BpY2tpbmdVbmF2YWlsYWJsZT0hMCx1fSxlLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPW5ldyBRZTtyZXR1cm4gby5fcGlja2luZ1VuYXZhaWxhYmxlPSEwLG99LGUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5tdWx0aVBpY2s9ZnVuY3Rpb24odCxyLG4sYSxzKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUubXVsdGlQaWNrV2l0aFJheT1mdW5jdGlvbih0LHIsbil7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLnNldFBvaW50ZXJPdmVyTWVzaD1mdW5jdGlvbih0LHIsbil7dGhpcy5faW5wdXRNYW5hZ2VyLnNldFBvaW50ZXJPdmVyTWVzaCh0LHIsbil9LGUucHJvdG90eXBlLmdldFBvaW50ZXJPdmVyTWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuZ2V0UG9pbnRlck92ZXJNZXNoKCl9LGUucHJvdG90eXBlLl9yZWJ1aWxkR2VvbWV0cmllcz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy5nZW9tZXRyaWVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX1mb3IodmFyIGE9MCxzPXRoaXMubWVzaGVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uX3JlYnVpbGQoKX10aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKTtmb3IodmFyIHU9MCxmPXRoaXMuX2NvbXBvbmVudHM7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07bC5yZWJ1aWxkKCl9Zm9yKHZhciBoPTAsYz10aGlzLnBhcnRpY2xlU3lzdGVtcztoPGMubGVuZ3RoO2grKyl7dmFyIGQ9Y1toXTtkLnJlYnVpbGQoKX1pZih0aGlzLnNwcml0ZU1hbmFnZXJzKWZvcih2YXIgcD0wLGc9dGhpcy5zcHJpdGVNYW5hZ2VycztwPGcubGVuZ3RoO3ArKyl7dmFyIF89Z1twXTtfLnJlYnVpbGQoKX19LGUucHJvdG90eXBlLl9yZWJ1aWxkVGV4dHVyZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMudGV4dHVyZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fcmVidWlsZCgpfXRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9LGUucHJvdG90eXBlLl9nZXRCeVRhZ3M9ZnVuY3Rpb24odCxyLG4pe2lmKHI9PT12b2lkIDApcmV0dXJuIHQ7dmFyIGE9W107bj1ufHxmdW5jdGlvbih1KXt9O2Zvcih2YXIgcyBpbiB0KXt2YXIgbz10W3NdO2NlJiZjZS5NYXRjaGVzUXVlcnkobyxyKSYmKGEucHVzaChvKSxuKG8pKX1yZXR1cm4gYX0sZS5wcm90b3R5cGUuZ2V0TWVzaGVzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLm1lc2hlcyx0LHIpfSxlLnByb3RvdHlwZS5nZXRDYW1lcmFzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmNhbWVyYXMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0TGlnaHRzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmxpZ2h0cyx0LHIpfSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tYXRlcmlhbHMsdCxyKS5jb25jYXQodGhpcy5fZ2V0QnlUYWdzKHRoaXMubXVsdGlNYXRlcmlhbHMsdCxyKSl9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLnRyYW5zZm9ybU5vZGVzLHQscil9LGUucHJvdG90eXBlLnNldFJlbmRlcmluZ09yZGVyPWZ1bmN0aW9uKHQscixuLGEpe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIodCxyLG4sYSl9LGUucHJvdG90eXBlLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbD1mdW5jdGlvbih0LHIsbixhKXtuPT09dm9pZCAwJiYobj0hMCksYT09PXZvaWQgMCYmKGE9ITApLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKHQscixuLGEpfSxlLnByb3RvdHlwZS5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtIT09dCYmKHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT10LHR8fHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNjMpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eT1mdW5jdGlvbih0LHIpe2lmKCF0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pZm9yKHZhciBuPTAsYT10aGlzLm1hdGVyaWFscztuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtyJiYhcihzKXx8cy5tYXJrQXNEaXJ0eSh0KX19LGUucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt2YXIgZj10aGlzLGw9RHQodCxyLG4sYT90aGlzLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAscyxvLHUpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKGwpLGwub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGgpe2YuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZShmLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksbH0sZS5wcm90b3R5cGUuX2xvYWRGaWxlQXN5bmM9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih1LGYpe28uX2xvYWRGaWxlKHQsZnVuY3Rpb24obCl7dShsKX0scixuLGEsZnVuY3Rpb24obCxoKXtmKGgpfSxzKX0pfSxlLnByb3RvdHlwZS5fcmVxdWVzdEZpbGU9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7dmFyIGY9dGhpcyxsPUhyKHQscixuLGE/dGhpcy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLHMsbyx1KTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChsKSxsLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihoKXtmLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UoZi5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLGx9LGUucHJvdG90eXBlLl9yZXF1ZXN0RmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odSxmKXtvLl9yZXF1ZXN0RmlsZSh0LGZ1bmN0aW9uKGwpe3UobCl9LHIsbixhLGZ1bmN0aW9uKGwpe2YobCl9LHMpfSl9LGUucHJvdG90eXBlLl9yZWFkRmlsZT1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXMsdT1KdCh0LHIsbixhLHMpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKHUpLHUub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe28uX2FjdGl2ZVJlcXVlc3RzLnNwbGljZShvLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGYpLDEpfSksdX0sZS5wcm90b3R5cGUuX3JlYWRGaWxlQXN5bmM9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7YS5fcmVhZEZpbGUodCxmdW5jdGlvbih1KXtzKHUpfSxyLG4sZnVuY3Rpb24odSl7byh1KX0pfSl9LGUucHJvdG90eXBlLmdldFBlcmZDb2xsZWN0b3I9ZnVuY3Rpb24oKXt0aHJvdyBYKCJwZXJmb3JtYW5jZVZpZXdlclNjZW5lRXh0ZW5zaW9uIil9LGUuRk9HTU9ERV9OT05FPTAsZS5GT0dNT0RFX0VYUD0xLGUuRk9HTU9ERV9FWFAyPTIsZS5GT0dNT0RFX0xJTkVBUj0zLGUuTWluRGVsdGFUaW1lPTEsZS5NYXhEZWx0YVRpbWU9MWUzLGV9KE5pKTtlZS5wcm90b3R5cGUuc2V0QWN0aXZlQ2FtZXJhQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5zZXRBY3RpdmVDYW1lcmFCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TGFzdE1hdGVyaWFsQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRMYXN0TWF0ZXJpYWxCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1hdGVyaWFsQnlJZChpKX0sZWUucHJvdG90eXBlLmdldFRleHR1cmVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldFRleHR1cmVCeVVuaXF1ZUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlVbmlxdWVJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeVVuaXF1ZUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0Qm9uZUJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRMaWdodEJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TGlnaHRCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldExpZ2h0QnlVbmlxdWVJZChpKX0sZWUucHJvdG90eXBlLmdldFBhcnRpY2xlU3lzdGVtQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRHZW9tZXRyeUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0R2VvbWV0cnlCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TWVzaEJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRNZXNoZXNCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1lc2hlc0J5SWQoaSl9LGVlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZChpKX0sZWUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZXNCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVzQnlJZChpKX0sZWUucHJvdG90eXBlLmdldE1lc2hCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1lc2hCeVVuaXF1ZUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldExhc3RNZXNoQnlJZChpKX0sZWUucHJvdG90eXBlLmdldExhc3RFbnRyeUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TGFzdEVudHJ5QnlJZChpKX0sZWUucHJvdG90eXBlLmdldE5vZGVCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE5vZGVCeUlkKGkpfSxlZS5wcm90b3R5cGUuZ2V0TGFzdFNrZWxldG9uQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRMYXN0U2tlbGV0b25CeUlkKGkpfTtmdW5jdGlvbiBxcihpLGUsdCl7dHJ5e3ZhciByPWkubmV4dCgpO3IuZG9uZT9lKHIpOnIudmFsdWU/ci52YWx1ZS50aGVuKGZ1bmN0aW9uKCl7ci52YWx1ZT12b2lkIDAsZShyKX0sdCk6ZShyKX1jYXRjaChuKXt0KG4pfX1mdW5jdGlvbiBwYShpKXtpPT09dm9pZCAwJiYoaT0yNSk7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXt2YXIgYT1wZXJmb3JtYW5jZS5ub3coKTtlPT09dm9pZCAwfHxhLWU+aT8oZT1hLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtxcih0LHIsbil9LDApKTpxcih0LHIsbil9fWZ1bmN0aW9uICRpKGksZSx0LHIsbil7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgcyxvPWZ1bmN0aW9uKHUpe3UuZG9uZT90KHUudmFsdWUpOnM9PT12b2lkIDA/cz0hMDphKCl9O2RvIHM9dm9pZCAwLCFufHwhbi5hYm9ydGVkP2UoaSxvLHIpOnIobmV3IEVycm9yKCJBYm9ydGVkIikpLHM9PT12b2lkIDAmJihzPSExKTt3aGlsZShzKX07YSgpfWZ1bmN0aW9uIFFyKGksZSl7dmFyIHQ7cmV0dXJuICRpKGkscXIsZnVuY3Rpb24ocil7cmV0dXJuIHQ9cn0sZnVuY3Rpb24ocil7dGhyb3cgcn0sZSksdH1mdW5jdGlvbiBfYShpLGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7JGkoaSxlLHIsbix0KX0pfWZ1bmN0aW9uIGdhKGksZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiBRcihpLmFwcGx5KHZvaWQgMCx0KSxlKX19dmFyIHZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2RvTm90U2VyaWFsaXplPSExLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fc2NlbmVSb290Tm9kZXNJbmRleD0tMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5faXNQYXJlbnRFbmFibGVkPSEwLHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9vbkNsb25lZE9ic2VydmFibGU9bmV3IE99cmV0dXJuIGl9KCksJGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dD09PXZvaWQgMCYmKHQ9bnVsbCksdGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2U9bmV3IHZhLHRoaXMuc3RhdGU9IiIsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuX3Jhbmdlcz17fSx0aGlzLm9uUmVhZHk9bnVsbCx0aGlzLl9jdXJyZW50UmVuZGVySWQ9LTEsdGhpcy5fcGFyZW50VXBkYXRlSWQ9LTEsdGhpcy5fY2hpbGRVcGRhdGVJZD0tMSx0aGlzLl93YWl0aW5nUGFyZW50SWQ9bnVsbCx0aGlzLl9jYWNoZT17fSx0aGlzLl9wYXJlbnROb2RlPW51bGwsdGhpcy5fY2hpbGRyZW49bnVsbCx0aGlzLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD0wLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMuX2lzTm9kZT0hMCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9iZWhhdmlvcnM9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaWQ9ZSx0aGlzLl9zY2VuZT10fHxyZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9pbml0Q2FjaGUoKX1yZXR1cm4gaS5BZGROb2RlQ29uc3RydWN0b3I9ZnVuY3Rpb24oZSx0KXt0aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdPXR9LGkuQ29uc3RydWN0PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV07cmV0dXJuIGE/YSh0LHIsbik6bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb05vdFNlcmlhbGl6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPyEwOnRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5kb05vdFNlcmlhbGl6ZTohMX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fZG9Ob3RTZXJpYWxpemU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwYXJlbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZX0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3BhcmVudE5vZGUhPT1lKXt2YXIgdD10aGlzLl9wYXJlbnROb2RlO2lmKHRoaXMuX3BhcmVudE5vZGUmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuIT09dm9pZCAwJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PW51bGwpe3ZhciByPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLmluZGV4T2YodGhpcyk7ciE9PS0xJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5zcGxpY2UociwxKSwhZSYmIXRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZCYmdGhpcy5fYWRkVG9TY2VuZVJvb3ROb2RlcygpfXRoaXMuX3BhcmVudE5vZGU9ZSx0aGlzLl9wYXJlbnROb2RlJiYoKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09dm9pZCAwfHx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PW51bGwpJiYodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49bmV3IEFycmF5KSx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5wdXNoKHRoaXMpLHR8fHRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9hZGRUb1NjZW5lUm9vdE5vZGVzPWZ1bmN0aW9uKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PT09LTEmJih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fc2NlbmUucm9vdE5vZGVzLmxlbmd0aCx0aGlzLl9zY2VuZS5yb290Tm9kZXMucHVzaCh0aGlzKSl9LGkucHJvdG90eXBlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXghPT0tMSl7dmFyIGU9dGhpcy5fc2NlbmUucm9vdE5vZGVzLHQ9ZS5sZW5ndGgtMTtlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF09ZVt0XSxlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF0uX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnBvcCgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD0tMX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT90aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU6dGhpcy5fc2NlbmUuYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk5vZGUifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRGlzcG9zZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25DbG9uZWRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25DbG9uZWRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxpLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9LGkucHJvdG90eXBlLmFkZEJlaGF2aW9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0PT09dm9pZCAwJiYodD0hMSk7dmFyIG49dGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSk7cmV0dXJuIG4hPT0tMT90aGlzOihlLmluaXQoKSx0aGlzLl9zY2VuZS5pc0xvYWRpbmcmJiF0P3RoaXMuX3NjZW5lLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuYWRkT25jZShmdW5jdGlvbigpe2UuYXR0YWNoKHIpfSk6ZS5hdHRhY2godGhpcyksdGhpcy5fYmVoYXZpb3JzLnB1c2goZSksdGhpcyl9LGkucHJvdG90eXBlLnJlbW92ZUJlaGF2aW9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpO3JldHVybiB0PT09LTE/dGhpczoodGhpcy5fYmVoYXZpb3JzW3RdLmRldGFjaCgpLHRoaXMuX2JlaGF2aW9ycy5zcGxpY2UodCwxKSx0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJiZWhhdmlvcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldEJlaGF2aW9yQnlOYW1lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYmVoYXZpb3JzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4ubmFtZT09PWUpcmV0dXJuIG59cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZCE9PXRoaXMuX3NjZW5lLmdldFJlbmRlcklkKCkmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXh9LGkucHJvdG90eXBlLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5JiYodGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITEsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD10aGlzLl93b3JsZE1hdHJpeC5kZXRlcm1pbmFudCgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndvcmxkTWF0cml4RnJvbUNhY2hlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9jYWNoZS5wYXJlbnQ9dm9pZCAwfSxpLnByb3RvdHlwZS51cGRhdGVDYWNoZT1mdW5jdGlvbihlKXshZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpfHwodGhpcy5fY2FjaGUucGFyZW50PXRoaXMucGFyZW50LHRoaXMuX3VwZGF0ZUNhY2hlKCkpfSxpLnByb3RvdHlwZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsITEpOm51bGx9LGkucHJvdG90eXBlLl91cGRhdGVDYWNoZT1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiEwfSxpLnByb3RvdHlwZS5fbWFya1N5bmNlZFdpdGhQYXJlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnROb2RlJiYodGhpcy5fcGFyZW50VXBkYXRlSWQ9dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZCl9LGkucHJvdG90eXBlLmlzU3luY2hyb25pemVkV2l0aFBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuX2lzRGlydHl8fHRoaXMuX3BhcmVudFVwZGF0ZUlkIT09dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZD8hMTp0aGlzLl9wYXJlbnROb2RlLmlzU3luY2hyb25pemVkKCk6ITB9LGkucHJvdG90eXBlLmlzU3luY2hyb25pemVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlLnBhcmVudCE9PXRoaXMuX3BhcmVudE5vZGU/KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLl9wYXJlbnROb2RlLCExKTp0aGlzLl9wYXJlbnROb2RlJiYhdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKT8hMTp0aGlzLl9pc1N5bmNocm9uaXplZCgpfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHl9LGkucHJvdG90eXBlLm1hcmtBc0RpcnR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9LGkucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITApLGU9PT0hMT90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZDp0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZD90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZDohMX0saS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfSl9LGkucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSl9LGkucHJvdG90eXBlLmlzRGVzY2VuZGFudE9mPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudD09PWU/ITA6dGhpcy5wYXJlbnQuaXNEZXNjZW5kYW50T2YoZSk6ITF9LGkucHJvdG90eXBlLl9nZXREZXNjZW5kYW50cz1mdW5jdGlvbihlLHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLCEhdGhpcy5fY2hpbGRyZW4pZm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgYT10aGlzLl9jaGlsZHJlbltuXTsoIXJ8fHIoYSkpJiZlLnB1c2goYSksdHx8YS5fZ2V0RGVzY2VuZGFudHMoZSwhMSxyKX19LGkucHJvdG90eXBlLmdldERlc2NlbmRhbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEFycmF5O3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhyLGUsdCkscn0saS5wcm90b3R5cGUuZ2V0Q2hpbGRNZXNoZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMocixlLGZ1bmN0aW9uKG4pe3JldHVybighdHx8dChuKSkmJm4uY3VsbGluZ1N0cmF0ZWd5IT09dm9pZCAwfSkscn0saS5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuZ2V0RGVzY2VuZGFudHModCxlKX0saS5wcm90b3R5cGUuX3NldFJlYWR5PWZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHkpe2lmKCFlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITE7cmV0dXJufXRoaXMub25SZWFkeSYmdGhpcy5vblJlYWR5KHRoaXMpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeT0hMH19LGkucHJvdG90eXBlLmdldEFuaW1hdGlvbkJ5TmFtZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmFuaW1hdGlvbnNbdF07aWYoci5uYW1lPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuY3JlYXRlQW5pbWF0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0LHIpe2lmKCF0aGlzLl9yYW5nZXNbZV0pe3RoaXMuX3Jhbmdlc1tlXT1pLl9BbmltYXRpb25SYW5nZUZhY3RvcnkoZSx0LHIpO2Zvcih2YXIgbj0wLGE9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtuPGE7bisrKXRoaXMuYW5pbWF0aW9uc1tuXSYmdGhpcy5hbmltYXRpb25zW25dLmNyZWF0ZVJhbmdlKGUsdCxyKX19LGkucHJvdG90eXBlLmRlbGV0ZUFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApO2Zvcih2YXIgcj0wLG49dGhpcy5hbmltYXRpb25zLmxlbmd0aDtyPG47cisrKXRoaXMuYW5pbWF0aW9uc1tyXSYmdGhpcy5hbmltYXRpb25zW3JdLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9LGkucHJvdG90eXBlLmdldEFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yYW5nZXNbZV18fG51bGx9LGkucHJvdG90eXBlLmdldEFuaW1hdGlvblJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ7Zm9yKHQgaW4gdGhpcy5fcmFuZ2VzKWUucHVzaCh0aGlzLl9yYW5nZXNbdF0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5iZWdpbkFuaW1hdGlvbj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLmdldEFuaW1hdGlvblJhbmdlKGUpO3JldHVybiBhP3RoaXMuX3NjZW5lLmJlZ2luQW5pbWF0aW9uKHRoaXMsYS5mcm9tLGEudG8sdCxyLG4pOm51bGx9LGkucHJvdG90eXBlLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl9yYW5nZXMpe3ZhciByPXRoaXMuX3Jhbmdlc1t0XTtpZihyKXt2YXIgbj17fTtuLm5hbWU9dCxuLmZyb209ci5mcm9tLG4udG89ci50byxlLnB1c2gobil9fXJldHVybiBlfSxpLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQ9ITAsIWUpZm9yKHZhciByPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApLG49MCxhPXI7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5kaXNwb3NlKGUsdCl9dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQ9bnVsbDp0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLmNsZWFyKCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWhhdmlvcnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5kZXRhY2goKX10aGlzLl9iZWhhdmlvcnM9W10sdGhpcy5tZXRhZGF0YT1udWxsfSxpLlBhcnNlQW5pbWF0aW9uUmFuZ2VzPWZ1bmN0aW9uKGUsdCxyKXtpZih0LnJhbmdlcylmb3IodmFyIG49MDtuPHQucmFuZ2VzLmxlbmd0aDtuKyspe3ZhciBhPXQucmFuZ2VzW25dO2UuY3JlYXRlQW5pbWF0aW9uUmFuZ2UoYS5uYW1lLGEuZnJvbSxhLnRvKX19LGkucHJvdG90eXBlLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycz1mdW5jdGlvbihlLHQpe2U9PT12b2lkIDAmJihlPSEwKSx0PT09dm9pZCAwJiYodD1udWxsKSx0aGlzLmdldFNjZW5lKCkuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7dmFyIHIsbixhPXRoaXM7aWYoYS5nZXRCb3VuZGluZ0luZm8mJmEuc3ViTWVzaGVzKXt2YXIgcz1hLmdldEJvdW5kaW5nSW5mbygpO3I9cy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQuY2xvbmUoKSxuPXMuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLmNsb25lKCl9ZWxzZSByPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBiKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtpZihlKWZvcih2YXIgbz10aGlzLmdldERlc2NlbmRhbnRzKCExKSx1PTAsZj1vO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdLGg9bDtpZihoLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksISh0JiYhdChoKSkmJiEoIWguZ2V0Qm91bmRpbmdJbmZvfHxoLmdldFRvdGFsVmVydGljZXMoKT09PTApKXt2YXIgYz1oLmdldEJvdW5kaW5nSW5mbygpLGQ9Yy5ib3VuZGluZ0JveCxwPWQubWluaW11bVdvcmxkLGc9ZC5tYXhpbXVtV29ybGQ7Yi5DaGVja0V4dGVuZHMocCxyLG4pLGIuQ2hlY2tFeHRlbmRzKGcscixuKX19cmV0dXJue21pbjpyLG1heDpufX0saS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5PWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBYKCJBbmltYXRpb25SYW5nZSIpfSxpLl9Ob2RlQ29uc3RydWN0b3JzPXt9LFQoW1AoKV0saS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCksaX0oKSxnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9hcHBseVRvPWdhKHRoaXMuX2FwcGx5VG9Db3JvdXRpbmUuYmluZCh0aGlzKSl9cmV0dXJuIGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3N3aXRjaChlLmxlbmd0aHx8ay5XYXJuKCJTZXR0aW5nIHZlcnRleCBkYXRhIGtpbmQgJyIuY29uY2F0KHQsIicgd2l0aCBhbiBlbXB0eSBhcnJheSIpKSx0KXtjYXNlIG0uUG9zaXRpb25LaW5kOnRoaXMucG9zaXRpb25zPWU7YnJlYWs7Y2FzZSBtLk5vcm1hbEtpbmQ6dGhpcy5ub3JtYWxzPWU7YnJlYWs7Y2FzZSBtLlRhbmdlbnRLaW5kOnRoaXMudGFuZ2VudHM9ZTticmVhaztjYXNlIG0uVVZLaW5kOnRoaXMudXZzPWU7YnJlYWs7Y2FzZSBtLlVWMktpbmQ6dGhpcy51dnMyPWU7YnJlYWs7Y2FzZSBtLlVWM0tpbmQ6dGhpcy51dnMzPWU7YnJlYWs7Y2FzZSBtLlVWNEtpbmQ6dGhpcy51dnM0PWU7YnJlYWs7Y2FzZSBtLlVWNUtpbmQ6dGhpcy51dnM1PWU7YnJlYWs7Y2FzZSBtLlVWNktpbmQ6dGhpcy51dnM2PWU7YnJlYWs7Y2FzZSBtLkNvbG9yS2luZDp0aGlzLmNvbG9ycz1lO2JyZWFrO2Nhc2UgbS5NYXRyaWNlc0luZGljZXNLaW5kOnRoaXMubWF0cmljZXNJbmRpY2VzPWU7YnJlYWs7Y2FzZSBtLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHM9ZTticmVhaztjYXNlIG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOnRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9ZTticmVhaztjYXNlIG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kOnRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZTticmVha319LGkucHJvdG90eXBlLmFwcGx5VG9NZXNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2FwcGx5VG8oZSx0LCExKSx0aGlzfSxpLnByb3RvdHlwZS5hcHBseVRvR2VvbWV0cnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9LGkucHJvdG90eXBlLnVwZGF0ZU1lc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfSxpLnByb3RvdHlwZS51cGRhdGVHZW9tZXRyeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9LGkucHJvdG90eXBlLl9hcHBseVRvQ29yb3V0aW5lPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLEZ0KHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5wb3NpdGlvbnM/KGUuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQpLHI/WzRdOlszLDJdKTpbMywyXTtjYXNlIDE6bi5zZW50KCksbi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdGhpcy5ub3JtYWxzPyhlLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQpLHI/WzRdOlszLDRdKTpbMyw0XTtjYXNlIDM6bi5zZW50KCksbi5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGhpcy50YW5nZW50cz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQpLHI/WzRdOlszLDZdKTpbMyw2XTtjYXNlIDU6bi5zZW50KCksbi5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gdGhpcy51dnM/KGUuc2V0VmVydGljZXNEYXRhKG0uVVZLaW5kLHRoaXMudXZzLHQpLHI/WzRdOlszLDhdKTpbMyw4XTtjYXNlIDc6bi5zZW50KCksbi5sYWJlbD04O2Nhc2UgODpyZXR1cm4gdGhpcy51dnMyPyhlLnNldFZlcnRpY2VzRGF0YShtLlVWMktpbmQsdGhpcy51dnMyLHQpLHI/WzRdOlszLDEwXSk6WzMsMTBdO2Nhc2UgOTpuLnNlbnQoKSxuLmxhYmVsPTEwO2Nhc2UgMTA6cmV0dXJuIHRoaXMudXZzMz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kLHRoaXMudXZzMyx0KSxyP1s0XTpbMywxMl0pOlszLDEyXTtjYXNlIDExOm4uc2VudCgpLG4ubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm4gdGhpcy51dnM0PyhlLnNldFZlcnRpY2VzRGF0YShtLlVWNEtpbmQsdGhpcy51dnM0LHQpLHI/WzRdOlszLDE0XSk6WzMsMTRdO2Nhc2UgMTM6bi5zZW50KCksbi5sYWJlbD0xNDtjYXNlIDE0OnJldHVybiB0aGlzLnV2czU/KGUuc2V0VmVydGljZXNEYXRhKG0uVVY1S2luZCx0aGlzLnV2czUsdCkscj9bNF06WzMsMTZdKTpbMywxNl07Y2FzZSAxNTpuLnNlbnQoKSxuLmxhYmVsPTE2O2Nhc2UgMTY6cmV0dXJuIHRoaXMudXZzNj8oZS5zZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kLHRoaXMudXZzNix0KSxyP1s0XTpbMywxOF0pOlszLDE4XTtjYXNlIDE3Om4uc2VudCgpLG4ubGFiZWw9MTg7Y2FzZSAxODpyZXR1cm4gdGhpcy5jb2xvcnM/KGUuc2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQpLHI/WzRdOlszLDIwXSk6WzMsMjBdO2Nhc2UgMTk6bi5zZW50KCksbi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlcz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLHQpLHI/WzRdOlszLDIyXSk6WzMsMjJdO2Nhc2UgMjE6bi5zZW50KCksbi5sYWJlbD0yMjtjYXNlIDIyOnJldHVybiB0aGlzLm1hdHJpY2VzV2VpZ2h0cz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQpLHI/WzRdOlszLDI0XSk6WzMsMjRdO2Nhc2UgMjM6bi5zZW50KCksbi5sYWJlbD0yNDtjYXNlIDI0OnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPyhlLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQpLHI/WzRdOlszLDI2XSk6WzMsMjZdO2Nhc2UgMjU6bi5zZW50KCksbi5sYWJlbD0yNjtjYXNlIDI2OnJldHVybiB0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPyhlLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLHQpLHI/WzRdOlszLDI4XSk6WzMsMjhdO2Nhc2UgMjc6bi5zZW50KCksbi5sYWJlbD0yODtjYXNlIDI4OnJldHVybiB0aGlzLmluZGljZXM/KGUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCx0KSxyP1s0XTpbMywzMF0pOlszLDMxXTtjYXNlIDI5Om4uc2VudCgpLG4ubGFiZWw9MzA7Y2FzZSAzMDpyZXR1cm5bMywzMl07Y2FzZSAzMTplLnNldEluZGljZXMoW10sbnVsbCksbi5sYWJlbD0zMjtjYXNlIDMyOnJldHVyblsyLHRoaXNdfX0pfSxpLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQsciksdGhpcy5ub3JtYWxzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLHQsciksdGhpcy50YW5nZW50cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQsciksdGhpcy51dnMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVZLaW5kLHRoaXMudXZzLHQsciksdGhpcy51dnMyJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWMktpbmQsdGhpcy51dnMyLHQsciksdGhpcy51dnMzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWM0tpbmQsdGhpcy51dnMzLHQsciksdGhpcy51dnM0JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWNEtpbmQsdGhpcy51dnM0LHQsciksdGhpcy51dnM1JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWNUtpbmQsdGhpcy51dnM1LHQsciksdGhpcy51dnM2JiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlVWNktpbmQsdGhpcy51dnM2LHQsciksdGhpcy5jb2xvcnMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQsciksdGhpcy5tYXRyaWNlc0luZGljZXMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyx0LHIpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCxyKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQsciksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSx0LHIpLHRoaXMuaW5kaWNlcyYmZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsKSx0aGlzfSxpLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1yO288cituO28rPTMpYi5Gcm9tQXJyYXlUb1JlZihlLG8sYSksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGEsdCxzKSxlW29dPXMueCxlW28rMV09cy55LGVbbysyXT1zLnp9LGkuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPWUubGVuZ3RoKTtmb3IodmFyIGE9RC5WZWN0b3IzWzBdLHM9RC5WZWN0b3IzWzFdLG89cjtvPHIrbjtvKz0zKWIuRnJvbUFycmF5VG9SZWYoZSxvLGEpLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSx0LHMpLGVbb109cy54LGVbbysxXT1zLnksZVtvKzJdPXMuen0saS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHM9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgYT1ELlZlY3RvcjRbMF0scz1ELlZlY3RvcjRbMV0sbz1yO288cituO28rPTQpbXQuRnJvbUFycmF5VG9SZWYoZSxvLGEpLG10LlRyYW5zZm9ybU5vcm1hbFRvUmVmKGEsdCxzKSxlW29dPXMueCxlW28rMV09cy55LGVbbysyXT1zLnosZVtvKzNdPXMud30saS5fRmxpcEZhY2VzPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj1lLmxlbmd0aCk7Zm9yKHZhciBuPXQ7bjx0K3I7bis9Myl7dmFyIGE9ZVtuKzFdO2VbbisxXT1lW24rMl0sZVtuKzJdPWF9fSxpLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRlcm1pbmFudCgpPDA7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZpLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXModGhpcy5wb3NpdGlvbnMsZSksdGhpcy5ub3JtYWxzJiZpLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyh0aGlzLm5vcm1hbHMsZSksdGhpcy50YW5nZW50cyYmaS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHModGhpcy50YW5nZW50cyxlKSx0JiZ0aGlzLmluZGljZXMmJmkuX0ZsaXBGYWNlcyh0aGlzLmluZGljZXMpLHRoaXN9LGkucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPUFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuW2Esdm9pZCAwXX0pOltbZSx2b2lkIDBdXTtyZXR1cm4gUXIodGhpcy5fbWVyZ2VDb3JvdXRpbmUodm9pZCAwLG4sdCwhMSxyKSl9LGkucHJvdG90eXBlLl9tZXJnZUNvcm91dGluZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzLG8sdSx5LGYsbCxoLGMsZCxwLGcsXyx2LHksRSxSLE09dGhpcyxDLEEsUyx3O3JldHVybiByPT09dm9pZCAwJiYocj0hMSksRnQodGhpcyxmdW5jdGlvbihGKXtzd2l0Y2goRi5sYWJlbCl7Y2FzZSAwOmZvcih0aGlzLl92YWxpZGF0ZSgpLHM9dC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuIHhbMF19KSxvPTAsdT1zO288dS5sZW5ndGg7bysrKWlmKHk9dVtvXSx5Ll92YWxpZGF0ZSgpLCF0aGlzLm5vcm1hbHMhPSF5Lm5vcm1hbHN8fCF0aGlzLnRhbmdlbnRzIT0heS50YW5nZW50c3x8IXRoaXMudXZzIT0heS51dnN8fCF0aGlzLnV2czIhPSF5LnV2czJ8fCF0aGlzLnV2czMhPSF5LnV2czN8fCF0aGlzLnV2czQhPSF5LnV2czR8fCF0aGlzLnV2czUhPSF5LnV2czV8fCF0aGlzLnV2czYhPSF5LnV2czZ8fCF0aGlzLmNvbG9ycyE9IXkuY29sb3JzfHwhdGhpcy5tYXRyaWNlc0luZGljZXMhPSF5Lm1hdHJpY2VzSW5kaWNlc3x8IXRoaXMubWF0cmljZXNXZWlnaHRzIT0heS5tYXRyaWNlc1dlaWdodHN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhIT0heS5tYXRyaWNlc0luZGljZXNFeHRyYXx8IXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEhPSF5Lm1hdHJpY2VzV2VpZ2h0c0V4dHJhKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG1lcmdlIHZlcnRleCBkYXRhIHRoYXQgZG8gbm90IGhhdmUgdGhlIHNhbWUgc2V0IG9mIGF0dHJpYnV0ZXMiKTtpZihmPXMucmVkdWNlKGZ1bmN0aW9uKHgsRyl7dmFyIFcsTjtyZXR1cm4geCsoKE49KFc9Ry5pbmRpY2VzKT09PW51bGx8fFc9PT12b2lkIDA/dm9pZCAwOlcubGVuZ3RoKSE9PW51bGwmJk4hPT12b2lkIDA/TjowKX0sKEE9KEM9dGhpcy5pbmRpY2VzKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMubGVuZ3RoKSE9PW51bGwmJkEhPT12b2lkIDA/QTowKSxsPWF8fHMuc29tZShmdW5jdGlvbih4KXtyZXR1cm4geC5pbmRpY2VzPT09TS5pbmRpY2VzfSksaD1sPyhTPXRoaXMuaW5kaWNlcyk9PT1udWxsfHxTPT09dm9pZCAwP3ZvaWQgMDpTLnNsaWNlKCk6dGhpcy5pbmRpY2VzLCEoZj4wKSlyZXR1cm5bMyw0XTtjPSh3PWg9PW51bGw/dm9pZCAwOmgubGVuZ3RoKSE9PW51bGwmJnchPT12b2lkIDA/dzowLGh8fChoPW5ldyBBcnJheShmKSksaC5sZW5ndGghPT1mJiYoQXJyYXkuaXNBcnJheShoKT9oLmxlbmd0aD1mOihkPXJ8fGggaW5zdGFuY2VvZiBVaW50MzJBcnJheT9uZXcgVWludDMyQXJyYXkoZik6bmV3IFVpbnQxNkFycmF5KGYpLGQuc2V0KGgpLGg9ZCksZSYmZS5kZXRlcm1pbmFudCgpPDAmJmkuX0ZsaXBGYWNlcyhoLDAsYykpLHA9dGhpcy5wb3NpdGlvbnM/dGhpcy5wb3NpdGlvbnMubGVuZ3RoLzM6MCxnPTAsXz10LEYubGFiZWw9MTtjYXNlIDE6aWYoIShnPF8ubGVuZ3RoKSlyZXR1cm5bMyw0XTtpZih2PV9bZ10seT12WzBdLEU9dlsxXSwheS5pbmRpY2VzKXJldHVyblszLDNdO2ZvcihSPTA7Ujx5LmluZGljZXMubGVuZ3RoO1IrKyloW2MrUl09eS5pbmRpY2VzW1JdK3A7cmV0dXJuIEUmJkUuZGV0ZXJtaW5hbnQoKTwwJiZpLl9GbGlwRmFjZXMoaCxjLHkuaW5kaWNlcy5sZW5ndGgpLHArPXkucG9zaXRpb25zLmxlbmd0aC8zLGMrPXkuaW5kaWNlcy5sZW5ndGgsbj9bNF06WzMsM107Y2FzZSAyOkYuc2VudCgpLEYubGFiZWw9MztjYXNlIDM6cmV0dXJuIGcrKyxbMywxXTtjYXNlIDQ6cmV0dXJuIHRoaXMuaW5kaWNlcz1oLHRoaXMucG9zaXRpb25zPWkuX01lcmdlRWxlbWVudChtLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnBvc2l0aW9ucyx4WzFdXX0pKSxuP1s0XTpbMyw2XTtjYXNlIDU6Ri5zZW50KCksRi5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gdGhpcy5ub3JtYWxzPWkuX01lcmdlRWxlbWVudChtLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubm9ybWFscyx4WzFdXX0pKSxuP1s0XTpbMyw4XTtjYXNlIDc6Ri5zZW50KCksRi5sYWJlbD04O2Nhc2UgODpyZXR1cm4gdGhpcy50YW5nZW50cz1pLl9NZXJnZUVsZW1lbnQobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udGFuZ2VudHMseFsxXV19KSksbj9bNF06WzMsMTBdO2Nhc2UgOTpGLnNlbnQoKSxGLmxhYmVsPTEwO2Nhc2UgMTA6cmV0dXJuIHRoaXMudXZzPWkuX01lcmdlRWxlbWVudChtLlVWS2luZCx0aGlzLnV2cyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2cyx4WzFdXX0pKSxuP1s0XTpbMywxMl07Y2FzZSAxMTpGLnNlbnQoKSxGLmxhYmVsPTEyO2Nhc2UgMTI6cmV0dXJuIHRoaXMudXZzMj1pLl9NZXJnZUVsZW1lbnQobS5VVjJLaW5kLHRoaXMudXZzMixlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2czIseFsxXV19KSksbj9bNF06WzMsMTRdO2Nhc2UgMTM6Ri5zZW50KCksRi5sYWJlbD0xNDtjYXNlIDE0OnJldHVybiB0aGlzLnV2czM9aS5fTWVyZ2VFbGVtZW50KG0uVVYzS2luZCx0aGlzLnV2czMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS51dnMzLHhbMV1dfSkpLG4/WzRdOlszLDE2XTtjYXNlIDE1OkYuc2VudCgpLEYubGFiZWw9MTY7Y2FzZSAxNjpyZXR1cm4gdGhpcy51dnM0PWkuX01lcmdlRWxlbWVudChtLlVWNEtpbmQsdGhpcy51dnM0LGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udXZzNCx4WzFdXX0pKSxuP1s0XTpbMywxOF07Y2FzZSAxNzpGLnNlbnQoKSxGLmxhYmVsPTE4O2Nhc2UgMTg6cmV0dXJuIHRoaXMudXZzNT1pLl9NZXJnZUVsZW1lbnQobS5VVjVLaW5kLHRoaXMudXZzNSxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2czUseFsxXV19KSksbj9bNF06WzMsMjBdO2Nhc2UgMTk6Ri5zZW50KCksRi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiB0aGlzLnV2czY9aS5fTWVyZ2VFbGVtZW50KG0uVVY2S2luZCx0aGlzLnV2czYsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS51dnM2LHhbMV1dfSkpLG4/WzRdOlszLDIyXTtjYXNlIDIxOkYuc2VudCgpLEYubGFiZWw9MjI7Y2FzZSAyMjpyZXR1cm4gdGhpcy5jb2xvcnM9aS5fTWVyZ2VFbGVtZW50KG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0uY29sb3JzLHhbMV1dfSkpLG4/WzRdOlszLDI0XTtjYXNlIDIzOkYuc2VudCgpLEYubGFiZWw9MjQ7Y2FzZSAyNDpyZXR1cm4gdGhpcy5tYXRyaWNlc0luZGljZXM9aS5fTWVyZ2VFbGVtZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLm1hdHJpY2VzSW5kaWNlcyx4WzFdXX0pKSxuP1s0XTpbMywyNl07Y2FzZSAyNTpGLnNlbnQoKSxGLmxhYmVsPTI2O2Nhc2UgMjY6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzPWkuX01lcmdlRWxlbWVudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS5tYXRyaWNlc1dlaWdodHMseFsxXV19KSksbj9bNF06WzMsMjhdO2Nhc2UgMjc6Ri5zZW50KCksRi5sYWJlbD0yODtjYXNlIDI4OnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWkuX01lcmdlRWxlbWVudChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubWF0cmljZXNJbmRpY2VzRXh0cmEseFsxXV19KSksbj9bNF06WzMsMzBdO2Nhc2UgMjk6Ri5zZW50KCksRi5sYWJlbD0zMDtjYXNlIDMwOnJldHVybiB0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWkuX01lcmdlRWxlbWVudChtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubWF0cmljZXNXZWlnaHRzRXh0cmEseFsxXV19KSksWzIsdGhpc119fSl9LGkuX01lcmdlRWxlbWVudD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uLmZpbHRlcihmdW5jdGlvbihNKXtyZXR1cm4gTVswXSE9PW51bGwmJk1bMF0hPT12b2lkIDB9KTtpZighdCYmYS5sZW5ndGg9PTApcmV0dXJuIHQ7aWYoIXQpcmV0dXJuIHRoaXMuX01lcmdlRWxlbWVudChlLGFbMF1bMF0sYVswXVsxXSxhLnNsaWNlKDEpKTt2YXIgcz1hLnJlZHVjZShmdW5jdGlvbihNLEMpe3JldHVybiBNK0NbMF0ubGVuZ3RofSx0Lmxlbmd0aCksbz1lPT09bS5Qb3NpdGlvbktpbmQ/aS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzOmU9PT1tLk5vcm1hbEtpbmQ/aS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM6ZT09PW0uVGFuZ2VudEtpbmQ/aS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHM6ZnVuY3Rpb24oKXt9O2lmKHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe3ZhciB1PW5ldyBGbG9hdDMyQXJyYXkocyk7dS5zZXQodCksciYmbyh1LHIsMCx0Lmxlbmd0aCk7Zm9yKHZhciBmPXQubGVuZ3RoLGw9MCxoPWE7bDxoLmxlbmd0aDtsKyspe3ZhciBjPWhbbF0sZD1jWzBdLHA9Y1sxXTt1LnNldChkLGYpLHAmJm8odSxwLGYsZC5sZW5ndGgpLGYrPWQubGVuZ3RofXJldHVybiB1fWVsc2V7Zm9yKHZhciBnPW5ldyBBcnJheShzKSxfPTA7Xzx0Lmxlbmd0aDtfKyspZ1tfXT10W19dO3ImJm8oZyxyLDAsdC5sZW5ndGgpO2Zvcih2YXIgZj10Lmxlbmd0aCx2PTAseT1hO3Y8eS5sZW5ndGg7disrKXtmb3IodmFyIEU9eVt2XSxkPUVbMF0sUj1FWzFdLF89MDtfPGQubGVuZ3RoO18rKylnW2YrX109ZFtfXTtSJiZvKGcsUixmLGQubGVuZ3RoKSxmKz1kLmxlbmd0aH1yZXR1cm4gZ319LGkucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbigpe2lmKCF0aGlzLnBvc2l0aW9ucyl0aHJvdyBuZXcgeHQoIlBvc2l0aW9ucyBhcmUgcmVxdWlyZWQiLEN0Lk1lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3IpO3ZhciBlPWZ1bmN0aW9uKG4sYSl7dmFyIHM9bS5EZWR1Y2VTdHJpZGUobik7aWYoYS5sZW5ndGglcyE9PTApdGhyb3cgbmV3IEVycm9yKCJUaGUgIituKyJzIGFycmF5IGNvdW50IG11c3QgYmUgYSBtdWx0aXBsZSBvZiAiK3MpO3JldHVybiBhLmxlbmd0aC9zfSx0PWUobS5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMpLHI9ZnVuY3Rpb24obixhKXt2YXIgcz1lKG4sYSk7aWYocyE9PXQpdGhyb3cgbmV3IEVycm9yKCJUaGUgIituKyJzIGVsZW1lbnQgY291bnQgKCIrcysiKSBkb2VzIG5vdCBtYXRjaCB0aGUgcG9zaXRpb25zIGNvdW50ICgiK3QrIikiKX07dGhpcy5ub3JtYWxzJiZyKG0uTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJnIobS5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmcihtLlVWS2luZCx0aGlzLnV2cyksdGhpcy51dnMyJiZyKG0uVVYyS2luZCx0aGlzLnV2czIpLHRoaXMudXZzMyYmcihtLlVWM0tpbmQsdGhpcy51dnMzKSx0aGlzLnV2czQmJnIobS5VVjRLaW5kLHRoaXMudXZzNCksdGhpcy51dnM1JiZyKG0uVVY1S2luZCx0aGlzLnV2czUpLHRoaXMudXZzNiYmcihtLlVWNktpbmQsdGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmcihtLkNvbG9yS2luZCx0aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJnIobS5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmcihtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJnIobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmcihtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5wb3NpdGlvbnM9dGhpcy5wb3NpdGlvbnMpLHRoaXMubm9ybWFscyYmKGUubm9ybWFscz10aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJihlLnRhbmdlbnRzPXRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiYoZS51dnM9dGhpcy51dnMpLHRoaXMudXZzMiYmKGUudXZzMj10aGlzLnV2czIpLHRoaXMudXZzMyYmKGUudXZzMz10aGlzLnV2czMpLHRoaXMudXZzNCYmKGUudXZzND10aGlzLnV2czQpLHRoaXMudXZzNSYmKGUudXZzNT10aGlzLnV2czUpLHRoaXMudXZzNiYmKGUudXZzNj10aGlzLnV2czYpLHRoaXMuY29sb3JzJiYoZS5jb2xvcnM9dGhpcy5jb2xvcnMpLHRoaXMubWF0cmljZXNJbmRpY2VzJiYoZS5tYXRyaWNlc0luZGljZXM9dGhpcy5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhPXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUubWF0cmljZXNXZWlnaHRzRXh0cmE9dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSksZS5pbmRpY2VzPXRoaXMuaW5kaWNlcyxlfSxpLkV4dHJhY3RGcm9tTWVzaD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuX0V4dHJhY3RGcm9tKGUsdCxyKX0saS5FeHRyYWN0RnJvbUdlb21ldHJ5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5fRXh0cmFjdEZyb20oZSx0LHIpfSxpLl9FeHRyYWN0RnJvbT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uUG9zaXRpb25LaW5kKSYmKG4ucG9zaXRpb25zPWUuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCkmJihuLm5vcm1hbHM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVGFuZ2VudEtpbmQpJiYobi50YW5nZW50cz1lLmdldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSYmKG4udXZzPWUuZ2V0VmVydGljZXNEYXRhKG0uVVZLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJihuLnV2czI9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjJLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYzS2luZCkmJihuLnV2czM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY0S2luZCkmJihuLnV2czQ9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjRLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY1S2luZCkmJihuLnV2czU9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjVLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY2S2luZCkmJihuLnV2czY9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uQ29sb3JLaW5kKSYmKG4uY29sb3JzPWUuZ2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCkmJihuLm1hdHJpY2VzSW5kaWNlcz1lLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKG4ubWF0cmljZXNXZWlnaHRzPWUuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0LHIpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCkmJihuLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSYmKG4ubWF0cmljZXNXZWlnaHRzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdCxyKSksbi5pbmRpY2VzPWUuZ2V0SW5kaWNlcyh0LHIpLG59LGkuQ3JlYXRlUmliYm9uPWZ1bmN0aW9uKGUpe3Rocm93IFgoInJpYmJvbkJ1aWxkZXIiKX0saS5DcmVhdGVCb3g9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiYm94QnVpbGRlciIpfSxpLkNyZWF0ZVRpbGVkQm94PWZ1bmN0aW9uKGUpe3Rocm93IFgoInRpbGVkQm94QnVpbGRlciIpfSxpLkNyZWF0ZVRpbGVkUGxhbmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgidGlsZWRQbGFuZUJ1aWxkZXIiKX0saS5DcmVhdGVTcGhlcmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgic3BoZXJlQnVpbGRlciIpfSxpLkNyZWF0ZUN5bGluZGVyPWZ1bmN0aW9uKGUpe3Rocm93IFgoImN5bGluZGVyQnVpbGRlciIpfSxpLkNyZWF0ZVRvcnVzPWZ1bmN0aW9uKGUpe3Rocm93IFgoInRvcnVzQnVpbGRlciIpfSxpLkNyZWF0ZUxpbmVTeXN0ZW09ZnVuY3Rpb24oZSl7dGhyb3cgWCgibGluZXNCdWlsZGVyIil9LGkuQ3JlYXRlRGFzaGVkTGluZXM9ZnVuY3Rpb24oZSl7dGhyb3cgWCgibGluZXNCdWlsZGVyIil9LGkuQ3JlYXRlR3JvdW5kPWZ1bmN0aW9uKGUpe3Rocm93IFgoImdyb3VuZEJ1aWxkZXIiKX0saS5DcmVhdGVUaWxlZEdyb3VuZD1mdW5jdGlvbihlKXt0aHJvdyBYKCJncm91bmRCdWlsZGVyIil9LGkuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD1mdW5jdGlvbihlKXt0aHJvdyBYKCJncm91bmRCdWlsZGVyIil9LGkuQ3JlYXRlUGxhbmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgicGxhbmVCdWlsZGVyIil9LGkuQ3JlYXRlRGlzYz1mdW5jdGlvbihlKXt0aHJvdyBYKCJkaXNjQnVpbGRlciIpfSxpLkNyZWF0ZVBvbHlnb249ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dGhyb3cgWCgicG9seWdvbkJ1aWxkZXIiKX0saS5DcmVhdGVJY29TcGhlcmU9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiaWNvU3BoZXJlQnVpbGRlciIpfSxpLkNyZWF0ZVBvbHloZWRyb249ZnVuY3Rpb24oZSl7dGhyb3cgWCgicG9seWhlZHJvbkJ1aWxkZXIiKX0saS5DcmVhdGVDYXBzdWxlPWZ1bmN0aW9uKGUpe3Rocm93IGU9PT12b2lkIDAmJihlPXtvcmllbnRhdGlvbjpiLlVwKCksc3ViZGl2aXNpb25zOjIsdGVzc2VsbGF0aW9uOjE2LGhlaWdodDoxLHJhZGl1czouMjUsY2FwU3ViZGl2aXNpb25zOjZ9KSxYKCJjYXBzdWxlQnVpbGRlciIpfSxpLkNyZWF0ZVRvcnVzS25vdD1mdW5jdGlvbihlKXt0aHJvdyBYKCJ0b3J1c0tub3RCdWlsZGVyIil9LGkuQ29tcHV0ZU5vcm1hbHM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9MCxzPTAsbz0wLHU9MCxmPTAsbD0wLGg9MCxjPTAsZD0wLHA9MCxnPTAsXz0wLHY9MCx5PTAsRT0wLFI9MCxNPTAsQz0wLEE9MCxTPTAsdz0hMSxGPSExLHg9ITEsRz0hMSxXPTEsTj0wLHE9bnVsbDtuJiYodz0hIW4uZmFjZXROb3JtYWxzLEY9ISFuLmZhY2V0UG9zaXRpb25zLHg9ISFuLmZhY2V0UGFydGl0aW9uaW5nLFc9bi51c2VSaWdodEhhbmRlZFN5c3RlbT09PSEwPy0xOjEsTj1uLnJhdGlvfHwwLEc9ISFuLmRlcHRoU29ydCxxPW4uZGlzdGFuY2VUbyxHJiZxPT09dm9pZCAwJiYocT1iLlplcm8oKSkpO3ZhciAkPTAsb2U9MCxaPTAsaj0wO2Zvcih4JiZuJiZuLmJiU2l6ZSYmKCQ9bi5zdWJEaXYuWCpOL24uYmJTaXplLngsb2U9bi5zdWJEaXYuWSpOL24uYmJTaXplLnksWj1uLnN1YkRpdi5aKk4vbi5iYlNpemUueixqPW4uc3ViRGl2Lm1heCpuLnN1YkRpdi5tYXgsbi5mYWNldFBhcnRpdGlvbmluZy5sZW5ndGg9MCksYT0wO2E8ZS5sZW5ndGg7YSsrKXJbYV09MDt2YXIgdWU9dC5sZW5ndGgvM3wwO2ZvcihhPTA7YTx1ZTthKyspe2lmKF89dFthKjNdKjMsdj1fKzEseT1fKzIsRT10W2EqMysxXSozLFI9RSsxLE09RSsyLEM9dFthKjMrMl0qMyxBPUMrMSxTPUMrMixzPWVbX10tZVtFXSxvPWVbdl0tZVtSXSx1PWVbeV0tZVtNXSxmPWVbQ10tZVtFXSxsPWVbQV0tZVtSXSxoPWVbU10tZVtNXSxjPVcqKG8qaC11KmwpLGQ9VyoodSpmLXMqaCkscD1XKihzKmwtbypmKSxnPU1hdGguc3FydChjKmMrZCpkK3AqcCksZz1nPT09MD8xOmcsYy89ZyxkLz1nLHAvPWcsdyYmbiYmKG4uZmFjZXROb3JtYWxzW2FdLng9YyxuLmZhY2V0Tm9ybWFsc1thXS55PWQsbi5mYWNldE5vcm1hbHNbYV0uej1wKSxGJiZuJiYobi5mYWNldFBvc2l0aW9uc1thXS54PShlW19dK2VbRV0rZVtDXSkvMyxuLmZhY2V0UG9zaXRpb25zW2FdLnk9KGVbdl0rZVtSXStlW0FdKS8zLG4uZmFjZXRQb3NpdGlvbnNbYV0uej0oZVt5XStlW01dK2VbU10pLzMpLHgmJm4pe3ZhciBQZT1NYXRoLmZsb29yKChuLmZhY2V0UG9zaXRpb25zW2FdLngtbi5iSW5mby5taW5pbXVtLngqTikqJCksV2U9TWF0aC5mbG9vcigobi5mYWNldFBvc2l0aW9uc1thXS55LW4uYkluZm8ubWluaW11bS55Kk4pKm9lKSxaZT1NYXRoLmZsb29yKChuLmZhY2V0UG9zaXRpb25zW2FdLnotbi5iSW5mby5taW5pbXVtLnoqTikqWiksWHQ9TWF0aC5mbG9vcigoZVtfXS1uLmJJbmZvLm1pbmltdW0ueCpOKSokKSxGcj1NYXRoLmZsb29yKChlW3ZdLW4uYkluZm8ubWluaW11bS55Kk4pKm9lKSx3cj1NYXRoLmZsb29yKChlW3ldLW4uYkluZm8ubWluaW11bS56Kk4pKlopLHBpPU1hdGguZmxvb3IoKGVbRV0tbi5iSW5mby5taW5pbXVtLngqTikqJCksX2k9TWF0aC5mbG9vcigoZVtSXS1uLmJJbmZvLm1pbmltdW0ueSpOKSpvZSksZ2k9TWF0aC5mbG9vcigoZVtNXS1uLmJJbmZvLm1pbmltdW0ueipOKSpaKSx2aT1NYXRoLmZsb29yKChlW0NdLW4uYkluZm8ubWluaW11bS54Kk4pKiQpLG1pPU1hdGguZmxvb3IoKGVbQV0tbi5iSW5mby5taW5pbXVtLnkqTikqb2UpLHlpPU1hdGguZmxvb3IoKGVbU10tbi5iSW5mby5taW5pbXVtLnoqTikqWikscHQ9WHQrbi5zdWJEaXYubWF4KkZyK2oqd3IsX3Q9cGkrbi5zdWJEaXYubWF4Kl9pK2oqZ2ksZ3Q9dmkrbi5zdWJEaXYubWF4Km1pK2oqeWksdnQ9UGUrbi5zdWJEaXYubWF4KldlK2oqWmU7bi5mYWNldFBhcnRpdGlvbmluZ1t2dF09bi5mYWNldFBhcnRpdGlvbmluZ1t2dF0/bi5mYWNldFBhcnRpdGlvbmluZ1t2dF06bmV3IEFycmF5LG4uZmFjZXRQYXJ0aXRpb25pbmdbcHRdPW4uZmFjZXRQYXJ0aXRpb25pbmdbcHRdP24uZmFjZXRQYXJ0aXRpb25pbmdbcHRdOm5ldyBBcnJheSxuLmZhY2V0UGFydGl0aW9uaW5nW190XT1uLmZhY2V0UGFydGl0aW9uaW5nW190XT9uLmZhY2V0UGFydGl0aW9uaW5nW190XTpuZXcgQXJyYXksbi5mYWNldFBhcnRpdGlvbmluZ1tndF09bi5mYWNldFBhcnRpdGlvbmluZ1tndF0/bi5mYWNldFBhcnRpdGlvbmluZ1tndF06bmV3IEFycmF5LG4uZmFjZXRQYXJ0aXRpb25pbmdbcHRdLnB1c2goYSksX3QhPXB0JiZuLmZhY2V0UGFydGl0aW9uaW5nW190XS5wdXNoKGEpLGd0PT1fdHx8Z3Q9PXB0fHxuLmZhY2V0UGFydGl0aW9uaW5nW2d0XS5wdXNoKGEpLHZ0PT1wdHx8dnQ9PV90fHx2dD09Z3R8fG4uZmFjZXRQYXJ0aXRpb25pbmdbdnRdLnB1c2goYSl9aWYoRyYmbiYmbi5mYWNldFBvc2l0aW9ucyl7dmFyIExyPW4uZGVwdGhTb3J0ZWRGYWNldHNbYV07THIuaW5kPWEqMyxMci5zcURpc3RhbmNlPWIuRGlzdGFuY2VTcXVhcmVkKG4uZmFjZXRQb3NpdGlvbnNbYV0scSl9cltfXSs9YyxyW3ZdKz1kLHJbeV0rPXAscltFXSs9YyxyW1JdKz1kLHJbTV0rPXAscltDXSs9YyxyW0FdKz1kLHJbU10rPXB9Zm9yKGE9MDthPHIubGVuZ3RoLzM7YSsrKWM9clthKjNdLGQ9clthKjMrMV0scD1yW2EqMysyXSxnPU1hdGguc3FydChjKmMrZCpkK3AqcCksZz1nPT09MD8xOmcsYy89ZyxkLz1nLHAvPWcsclthKjNdPWMsclthKjMrMV09ZCxyW2EqMysyXT1wfSxpLl9Db21wdXRlU2lkZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9ci5sZW5ndGgsZj1uLmxlbmd0aCxsLGg7c3dpdGNoKGU9ZXx8aS5ERUZBVUxUU0lERSxlKXtjYXNlIGkuRlJPTlRTSURFOmJyZWFrO2Nhc2UgaS5CQUNLU0lERTpmb3IobD0wO2w8dTtsKz0zKXt2YXIgYz1yW2xdO3JbbF09cltsKzJdLHJbbCsyXT1jfWZvcihoPTA7aDxmO2grKyluW2hdPS1uW2hdO2JyZWFrO2Nhc2UgaS5ET1VCTEVTSURFOntmb3IodmFyIGQ9dC5sZW5ndGgscD1kLzMsZz0wO2c8ZDtnKyspdFtkK2ddPXRbZ107Zm9yKGw9MDtsPHU7bCs9MylyW2wrdV09cltsKzJdK3AscltsKzErdV09cltsKzFdK3AscltsKzIrdV09cltsXStwO2ZvcihoPTA7aDxmO2grKyluW2YraF09LW5baF07dmFyIF89YS5sZW5ndGgsdj0wO2Zvcih2PTA7djxfO3YrKylhW3YrX109YVt2XTtmb3Iocz1zfHxuZXcgbXQoMCwwLDEsMSksbz1vfHxuZXcgbXQoMCwwLDEsMSksdj0wLGw9MDtsPF8vMjtsKyspYVt2XT1zLngrKHMuei1zLngpKmFbdl0sYVt2KzFdPXMueSsocy53LXMueSkqYVt2KzFdLGFbditfXT1vLngrKG8uei1vLngpKmFbditfXSxhW3YrXysxXT1vLnkrKG8udy1vLnkpKmFbditfKzFdLHYrPTI7YnJlYWt9fX0saS5JbXBvcnRWZXJ0ZXhEYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGksbj1lLnBvc2l0aW9ucztuJiZyLnNldChuLG0uUG9zaXRpb25LaW5kKTt2YXIgYT1lLm5vcm1hbHM7YSYmci5zZXQoYSxtLk5vcm1hbEtpbmQpO3ZhciBzPWUudGFuZ2VudHM7cyYmci5zZXQocyxtLlRhbmdlbnRLaW5kKTt2YXIgbz1lLnV2cztvJiZyLnNldChvLG0uVVZLaW5kKTt2YXIgdT1lLnV2MnM7dSYmci5zZXQodSxtLlVWMktpbmQpO3ZhciBmPWUudXYzcztmJiZyLnNldChmLG0uVVYzS2luZCk7dmFyIGw9ZS51djRzO2wmJnIuc2V0KGwsbS5VVjRLaW5kKTt2YXIgaD1lLnV2NXM7aCYmci5zZXQoaCxtLlVWNUtpbmQpO3ZhciBjPWUudXY2cztjJiZyLnNldChjLG0uVVY2S2luZCk7dmFyIGQ9ZS5jb2xvcnM7ZCYmci5zZXQoRWUuQ2hlY2tDb2xvcnM0KGQsbi5sZW5ndGgvMyksbS5Db2xvcktpbmQpO3ZhciBwPWUubWF0cmljZXNJbmRpY2VzO3AmJnIuc2V0KHAsbS5NYXRyaWNlc0luZGljZXNLaW5kKTt2YXIgZz1lLm1hdHJpY2VzV2VpZ2h0cztnJiZyLnNldChnLG0uTWF0cmljZXNXZWlnaHRzS2luZCk7dmFyIF89ZS5pbmRpY2VzO18mJihyLmluZGljZXM9XyksdC5zZXRBbGxWZXJ0aWNlc0RhdGEocixlLnVwZGF0YWJsZSl9LGkuRlJPTlRTSURFPTAsaS5CQUNLU0lERT0xLGkuRE9VQkxFU0lERT0yLGkuREVGQVVMVFNJREU9MCxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJfVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzIixudWxsKSxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMiLG51bGwpLFQoW0V0LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksIl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyIsbnVsbCksVChbRXQuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPWVbMF07cmV0dXJuIUFycmF5LmlzQXJyYXkocil9KV0saSwiX0ZsaXBGYWNlcyIsbnVsbCksaX0oKSwkcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMuYnU9ZSx0aGlzLmJ2PXQsdGhpcy5kaXN0YW5jZT1yLHRoaXMuZmFjZUlkPTAsdGhpcy5zdWJNZXNoSWQ9MH1yZXR1cm4gaX0oKSxKaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMudmVjdG9ycz1BZS5CdWlsZEFycmF5KDgsYi5aZXJvKSx0aGlzLmNlbnRlcj1iLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPWIuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZT1iLlplcm8oKSx0aGlzLmV4dGVuZFNpemVXb3JsZD1iLlplcm8oKSx0aGlzLmRpcmVjdGlvbnM9QWUuQnVpbGRBcnJheSgzLGIuWmVybyksdGhpcy52ZWN0b3JzV29ybGQ9QWUuQnVpbGRBcnJheSg4LGIuWmVybyksdGhpcy5taW5pbXVtV29ybGQ9Yi5aZXJvKCksdGhpcy5tYXhpbXVtV29ybGQ9Yi5aZXJvKCksdGhpcy5taW5pbXVtPWIuWmVybygpLHRoaXMubWF4aW11bT1iLlplcm8oKSx0aGlzLl9kcmF3V3JhcHBlckZyb250PW51bGwsdGhpcy5fZHJhd1dyYXBwZXJCYWNrPW51bGwsdGhpcy5yZUNvbnN0cnVjdChlLHQscil9cmV0dXJuIGkucHJvdG90eXBlLnJlQ29uc3RydWN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLngsYT1lLnkscz1lLnosbz10LngsdT10LnksZj10LnosbD10aGlzLnZlY3RvcnM7dGhpcy5taW5pbXVtLmNvcHlGcm9tRmxvYXRzKG4sYSxzKSx0aGlzLm1heGltdW0uY29weUZyb21GbG9hdHMobyx1LGYpLGxbMF0uY29weUZyb21GbG9hdHMobixhLHMpLGxbMV0uY29weUZyb21GbG9hdHMobyx1LGYpLGxbMl0uY29weUZyb21GbG9hdHMobyxhLHMpLGxbM10uY29weUZyb21GbG9hdHMobix1LHMpLGxbNF0uY29weUZyb21GbG9hdHMobixhLGYpLGxbNV0uY29weUZyb21GbG9hdHMobyx1LHMpLGxbNl0uY29weUZyb21GbG9hdHMobix1LGYpLGxbN10uY29weUZyb21GbG9hdHMobyxhLGYpLHQuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0LnN1YnRyYWN0VG9SZWYoZSx0aGlzLmV4dGVuZFNpemUpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5fd29ybGRNYXRyaXg9cnx8SS5JZGVudGl0eVJlYWRPbmx5LHRoaXMuX3VwZGF0ZSh0aGlzLl93b3JsZE1hdHJpeCl9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3ZhciB0PWkuX1RtcFZlY3RvcjMscj10aGlzLm1heGltdW0uc3VidHJhY3RUb1JlZih0aGlzLm1pbmltdW0sdFswXSksbj1yLmxlbmd0aCgpO3Iubm9ybWFsaXplRnJvbUxlbmd0aChuKTt2YXIgYT1uKmUscz1yLnNjYWxlSW5QbGFjZShhKi41KSxvPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYocyx0WzFdKSx1PXRoaXMuY2VudGVyLmFkZFRvUmVmKHMsdFsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3Qobyx1LHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfSxpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH0saS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1pbmltdW1Xb3JsZCxyPXRoaXMubWF4aW11bVdvcmxkLG49dGhpcy5kaXJlY3Rpb25zLGE9dGhpcy52ZWN0b3JzV29ybGQscz10aGlzLnZlY3RvcnM7aWYoZS5pc0lkZW50aXR5KCkpe3QuY29weUZyb20odGhpcy5taW5pbXVtKSxyLmNvcHlGcm9tKHRoaXMubWF4aW11bSk7Zm9yKHZhciBvPTA7bzw4OysrbylhW29dLmNvcHlGcm9tKHNbb10pO3RoaXMuZXh0ZW5kU2l6ZVdvcmxkLmNvcHlGcm9tKHRoaXMuZXh0ZW5kU2l6ZSksdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlcil9ZWxzZXt0LnNldEFsbChOdW1iZXIuTUFYX1ZBTFVFKSxyLnNldEFsbCgtTnVtYmVyLk1BWF9WQUxVRSk7Zm9yKHZhciBvPTA7bzw4Oysrbyl7dmFyIHU9YVtvXTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoc1tvXSxlLHUpLHQubWluaW1pemVJblBsYWNlKHUpLHIubWF4aW1pemVJblBsYWNlKHUpfXIuc3VidHJhY3RUb1JlZih0LHRoaXMuZXh0ZW5kU2l6ZVdvcmxkKS5zY2FsZUluUGxhY2UoLjUpLHIuYWRkVG9SZWYodCx0aGlzLmNlbnRlcldvcmxkKS5zY2FsZUluUGxhY2UoLjUpfWIuRnJvbUFycmF5VG9SZWYoZS5tLDAsblswXSksYi5Gcm9tQXJyYXlUb1JlZihlLm0sNCxuWzFdKSxiLkZyb21BcnJheVRvUmVmKGUubSw4LG5bMl0pLHRoaXMuX3dvcmxkTWF0cml4PWV9LGkucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3JldHVybiBpLklzSW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfSxpLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24oZSl7cmV0dXJuIGkuSXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5taW5pbXVtV29ybGQscj10aGlzLm1heGltdW1Xb3JsZCxuPXQueCxhPXQueSxzPXQueixvPXIueCx1PXIueSxmPXIueixsPWUueCxoPWUueSxjPWUueixkPS1zZTtyZXR1cm4hKG8tbDxkfHxkPmwtbnx8dS1oPGR8fGQ+aC1hfHxmLWM8ZHx8ZD5jLXMpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKGUpe3JldHVybiBpLkludGVyc2VjdHNTcGhlcmUodGhpcy5taW5pbXVtV29ybGQsdGhpcy5tYXhpbXVtV29ybGQsZS5jZW50ZXJXb3JsZCxlLnJhZGl1c1dvcmxkKX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c01pbk1heD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubWluaW11bVdvcmxkLG49dGhpcy5tYXhpbXVtV29ybGQsYT1yLngscz1yLnksbz1yLnosdT1uLngsZj1uLnksbD1uLnosaD1lLngsYz1lLnksZD1lLnoscD10LngsZz10LnksXz10Lno7cmV0dXJuISh1PGh8fGE+cHx8ZjxjfHxzPmd8fGw8ZHx8bz5fKX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlLHQ7KGU9dGhpcy5fZHJhd1dyYXBwZXJGcm9udCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSwodD10aGlzLl9kcmF3V3JhcHBlckJhY2spPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCl9LGkuSW50ZXJzZWN0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmludGVyc2VjdHNNaW5NYXgodC5taW5pbXVtV29ybGQsdC5tYXhpbXVtV29ybGQpfSxpLkludGVyc2VjdHNTcGhlcmU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9aS5fVG1wVmVjdG9yM1swXTtiLkNsYW1wVG9SZWYocixlLHQsYSk7dmFyIHM9Yi5EaXN0YW5jZVNxdWFyZWQocixhKTtyZXR1cm4gczw9bipufSxpLklzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8NjsrK3IpZm9yKHZhciBuPXRbcl0sYT0wO2E8ODsrK2EpaWYobi5kb3RDb29yZGluYXRlKGVbYV0pPDApcmV0dXJuITE7cmV0dXJuITB9LGkuSXNJbkZydXN0dW09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDY7KytyKXtmb3IodmFyIG49ITAsYT10W3JdLHM9MDtzPDg7KytzKWlmKGEuZG90Q29vcmRpbmF0ZShlW3NdKT49MCl7bj0hMTticmVha31pZihuKXJldHVybiExfXJldHVybiEwfSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoMyxiLlplcm8pLGl9KCksZW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt0aGlzLmNlbnRlcj1iLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPWIuWmVybygpLHRoaXMubWluaW11bT1iLlplcm8oKSx0aGlzLm1heGltdW09Yi5aZXJvKCksdGhpcy5yZUNvbnN0cnVjdChlLHQscil9cmV0dXJuIGkucHJvdG90eXBlLnJlQ29uc3RydWN0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLm1pbmltdW0uY29weUZyb20oZSksdGhpcy5tYXhpbXVtLmNvcHlGcm9tKHQpO3ZhciBuPWIuRGlzdGFuY2UoZSx0KTt0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5yYWRpdXM9biouNSx0aGlzLl91cGRhdGUocnx8SS5JZGVudGl0eVJlYWRPbmx5KX0saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yYWRpdXMqZSxyPWkuX1RtcFZlY3RvcjMsbj1yWzBdLnNldEFsbCh0KSxhPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYobixyWzFdKSxzPXRoaXMuY2VudGVyLmFkZFRvUmVmKG4sclsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QoYSxzLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfSxpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH0saS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtpZihlLmlzSWRlbnRpdHkoKSl0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKSx0aGlzLnJhZGl1c1dvcmxkPXRoaXMucmFkaXVzO2Vsc2V7Yi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuY2VudGVyLGUsdGhpcy5jZW50ZXJXb3JsZCk7dmFyIHQ9aS5fVG1wVmVjdG9yM1swXTtiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigxLDEsMSxlLHQpLHRoaXMucmFkaXVzV29ybGQ9TWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpLE1hdGguYWJzKHQueikpKnRoaXMucmFkaXVzfX0saS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuY2VudGVyV29ybGQscj10aGlzLnJhZGl1c1dvcmxkLG49MDtuPDY7bisrKWlmKGVbbl0uZG90Q29vcmRpbmF0ZSh0KTw9LXIpcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLmlzQ2VudGVySW5GcnVzdHVtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmNlbnRlcldvcmxkLHI9MDtyPDY7cisrKWlmKGVbcl0uZG90Q29vcmRpbmF0ZSh0KTwwKXJldHVybiExO3JldHVybiEwfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9Yi5EaXN0YW5jZVNxdWFyZWQodGhpcy5jZW50ZXJXb3JsZCxlKTtyZXR1cm4hKHRoaXMucmFkaXVzV29ybGQqdGhpcy5yYWRpdXNXb3JsZDx0KX0saS5JbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9Yi5EaXN0YW5jZVNxdWFyZWQoZS5jZW50ZXJXb3JsZCx0LmNlbnRlcldvcmxkKSxuPWUucmFkaXVzV29ybGQrdC5yYWRpdXNXb3JsZDtyZXR1cm4hKG4qbjxyKX0saS5DcmVhdGVGcm9tQ2VudGVyQW5kUmFkaXVzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLHRoaXMuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMoMCwwLHQpLHRoaXMuX1RtcFZlY3RvcjNbMl0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1swXS5hZGRJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pLHRoaXMuX1RtcFZlY3RvcjNbMl0uc3VidHJhY3RJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pO3ZhciBuPW5ldyBpKHRoaXMuX1RtcFZlY3RvcjNbMF0sdGhpcy5fVG1wVmVjdG9yM1syXSk7cmV0dXJuIHI/bi5fd29ybGRNYXRyaXg9cjpuLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCksbn0saS5fVG1wVmVjdG9yMz1BZS5CdWlsZEFycmF5KDMsYi5aZXJvKSxpfSgpLEpyPXttaW46MCxtYXg6MH0sZWk9e21pbjowLG1heDowfSx0bj1mdW5jdGlvbihpLGUsdCl7dmFyIHI9Yi5Eb3QoZS5jZW50ZXJXb3JsZCxpKSxuPU1hdGguYWJzKGIuRG90KGUuZGlyZWN0aW9uc1swXSxpKSkqZS5leHRlbmRTaXplLngsYT1NYXRoLmFicyhiLkRvdChlLmRpcmVjdGlvbnNbMV0saSkpKmUuZXh0ZW5kU2l6ZS55LHM9TWF0aC5hYnMoYi5Eb3QoZS5kaXJlY3Rpb25zWzJdLGkpKSplLmV4dGVuZFNpemUueixvPW4rYStzO3QubWluPXItbyx0Lm1heD1yK299LEJlPWZ1bmN0aW9uKGksZSx0KXtyZXR1cm4gdG4oaSxlLEpyKSx0bihpLHQsZWkpLCEoSnIubWluPmVpLm1heHx8ZWkubWluPkpyLm1heCl9LFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5faXNMb2NrZWQ9ITEsdGhpcy5ib3VuZGluZ0JveD1uZXcgSmkoZSx0LHIpLHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IGVuKGUsdCxyKX1yZXR1cm4gaS5wcm90b3R5cGUucmVDb25zdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QoZSx0LHIpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoZSx0LHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pbmltdW0iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWF4aW11bSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1heGltdW19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0xvY2tlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0xvY2tlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzTG9ja2VkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2lzTG9ja2VkfHwodGhpcy5ib3VuZGluZ0JveC5fdXBkYXRlKGUpLHRoaXMuYm91bmRpbmdTcGhlcmUuX3VwZGF0ZShlKSl9LGkucHJvdG90eXBlLmNlbnRlck9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2UodCksbj1pLl9UbXBWZWN0b3IzWzFdLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UodCk7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QocixuLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChyLG4sdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzfSxpLnByb3RvdHlwZS5lbmNhcHN1bGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1iLk1pbmltaXplKHRoaXMubWluaW11bSxlKSxyPWIuTWF4aW1pemUodGhpcy5tYXhpbXVtLGUpO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHQscix0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9LGkucHJvdG90eXBlLmVuY2Fwc3VsYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuc3VidHJhY3QoZS5ib3VuZGluZ0JveC5leHRlbmRTaXplV29ybGQpKSx0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuYWRkKGUuYm91bmRpbmdCb3guZXh0ZW5kU2l6ZVdvcmxkKSksdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guc2NhbGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5zY2FsZShlKSx0aGlzfSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPXQ9PT0yfHx0PT09MztpZihyJiZ0aGlzLmJvdW5kaW5nU3BoZXJlLmlzQ2VudGVySW5GcnVzdHVtKGUpKXJldHVybiEwO2lmKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmlzSW5GcnVzdHVtKGUpKXJldHVybiExO3ZhciBuPXQ9PT0xfHx0PT09MztyZXR1cm4gbj8hMDp0aGlzLmJvdW5kaW5nQm94LmlzSW5GcnVzdHVtKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRpYWdvbmFsTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ib3VuZGluZ0JveCx0PWUubWF4aW11bVdvcmxkLnN1YnRyYWN0VG9SZWYoZS5taW5pbXVtV29ybGQsaS5fVG1wVmVjdG9yM1swXSk7cmV0dXJuIHQubGVuZ3RoKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX0saS5wcm90b3R5cGUuX2NoZWNrQ29sbGlzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9jYW5Eb0NvbGxpc2lvbih0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzV29ybGQsdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghdGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZHx8IXRoaXMuYm91bmRpbmdTcGhlcmUuaW50ZXJzZWN0c1BvaW50KGUpfHwhdGhpcy5ib3VuZGluZ0JveC5pbnRlcnNlY3RzUG9pbnQoZSkpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCl7aWYoIWVuLkludGVyc2VjdHModGhpcy5ib3VuZGluZ1NwaGVyZSxlLmJvdW5kaW5nU3BoZXJlKXx8IUppLkludGVyc2VjdHModGhpcy5ib3VuZGluZ0JveCxlLmJvdW5kaW5nQm94KSlyZXR1cm4hMTtpZighdClyZXR1cm4hMDt2YXIgcj10aGlzLmJvdW5kaW5nQm94LG49ZS5ib3VuZGluZ0JveDtyZXR1cm4hKCFCZShyLmRpcmVjdGlvbnNbMF0scixuKXx8IUJlKHIuZGlyZWN0aW9uc1sxXSxyLG4pfHwhQmUoci5kaXJlY3Rpb25zWzJdLHIsbil8fCFCZShuLmRpcmVjdGlvbnNbMF0scixuKXx8IUJlKG4uZGlyZWN0aW9uc1sxXSxyLG4pfHwhQmUobi5kaXJlY3Rpb25zWzJdLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1swXSxuLmRpcmVjdGlvbnNbMF0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1swXSxuLmRpcmVjdGlvbnNbMV0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1swXSxuLmRpcmVjdGlvbnNbMl0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1sxXSxuLmRpcmVjdGlvbnNbMF0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1sxXSxuLmRpcmVjdGlvbnNbMV0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1sxXSxuLmRpcmVjdGlvbnNbMl0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1syXSxuLmRpcmVjdGlvbnNbMF0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1syXSxuLmRpcmVjdGlvbnNbMV0pLHIsbil8fCFCZShiLkNyb3NzKHIuZGlyZWN0aW9uc1syXSxuLmRpcmVjdGlvbnNbMl0pLHIsbikpfSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoMixiLlplcm8pLGl9KCkscm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLmV4dHJhY3RNaW5BbmRNYXhJbmRleGVkPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtmb3IodmFyIG89cjtvPHIrbjtvKyspe3ZhciB1PXRbb10qMyxmPWVbdV0sbD1lW3UrMV0saD1lW3UrMl07YS5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGYsbCxoKSxzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZixsLGgpfX0saS5leHRyYWN0TWluQW5kTWF4PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtmb3IodmFyIG89dCx1PXQqbjtvPHQrcjtvKyssdSs9bil7dmFyIGY9ZVt1XSxsPWVbdSsxXSxoPWVbdSsyXTthLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZixsLGgpLHMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhmLGwsaCl9fSxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXSxuPWVbMV07cmV0dXJuIUFycmF5LmlzQXJyYXkocikmJiFBcnJheS5pc0FycmF5KG4pfSldLGksImV4dHJhY3RNaW5BbmRNYXhJbmRleGVkIixudWxsKSxUKFtFdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJleHRyYWN0TWluQW5kTWF4IixudWxsKSxpfSgpO2Z1bmN0aW9uIG1hKGksZSx0LHIsbil7bj09PXZvaWQgMCYmKG49bnVsbCk7dmFyIGE9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHM9bmV3IGIoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBybi5leHRyYWN0TWluQW5kTWF4SW5kZXhlZChpLGUsdCxyLGEscyksbiYmKGEueC09YS54Km4ueCtuLnksYS55LT1hLnkqbi54K24ueSxhLnotPWEueipuLngrbi55LHMueCs9cy54Km4ueCtuLnkscy55Kz1zLnkqbi54K24ueSxzLnorPXMueipuLngrbi55KSx7bWluaW11bTphLG1heGltdW06c319ZnVuY3Rpb24gbm4oaSxlLHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKTt2YXIgYT1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkscz1uZXcgYigtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIG58fChuPTMpLHJuLmV4dHJhY3RNaW5BbmRNYXgoaSxlLHQsbixhLHMpLHImJihhLngtPWEueCpyLngrci55LGEueS09YS55KnIueCtyLnksYS56LT1hLnoqci54K3IueSxzLngrPXMueCpyLngrci55LHMueSs9cy55KnIueCtyLnkscy56Kz1zLnoqci54K3IueSkse21pbmltdW06YSxtYXhpbXVtOnN9fXZhciBTdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMsbyx1LGYpe3U9PT12b2lkIDAmJih1PSEwKSxmPT09dm9pZCAwJiYoZj0hMCksdGhpcy5tYXRlcmlhbEluZGV4PWUsdGhpcy52ZXJ0aWNlc1N0YXJ0PXQsdGhpcy52ZXJ0aWNlc0NvdW50PXIsdGhpcy5pbmRleFN0YXJ0PW4sdGhpcy5pbmRleENvdW50PWEsdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU9bnVsbCx0aGlzLl9saW5lc0luZGV4Q291bnQ9MCx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD1udWxsLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fYWxwaGFJbmRleD0wLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0aGlzLl9jdXJyZW50TWF0ZXJpYWw9bnVsbCx0aGlzLl9tZXNoPXMsdGhpcy5fcmVuZGVyaW5nTWVzaD1vfHxzLGYmJnMuc3ViTWVzaGVzLnB1c2godGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdHJpYW5nbGVQbGFuZXM9W10sdGhpcy5faWQ9cy5zdWJNZXNoZXMubGVuZ3RoLTEsdSYmKHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWF0ZXJpYWxEZWZpbmVzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmRlZmluZXM6KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmRlZmluZXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdCxyPSh0PXRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO3IuZGVmaW5lcz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9nZXREcmF3V3JhcHBlcj1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSExKSxlPWU/P3RoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkO3ZhciByPXRoaXMuX2RyYXdXcmFwcGVyc1tlXTtyZXR1cm4hciYmdCYmKHRoaXMuX2RyYXdXcmFwcGVyc1tlXT1yPW5ldyBxdCh0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkpKSxyfSxpLnByb3RvdHlwZS5fcmVtb3ZlRHJhd1dyYXBwZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjt0PT09dm9pZCAwJiYodD0hMCksdCYmKChyPXRoaXMuX2RyYXdXcmFwcGVyc1tlXSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmRpc3Bvc2UoKSksdGhpcy5fZHJhd1dyYXBwZXJzW2VdPXZvaWQgMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlZmZlY3QiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5lZmZlY3Q6KHQ9KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmVmZmVjdCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9kcmF3V3JhcHBlciIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX2RyYXdXcmFwcGVyT3ZlcnJpZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlPWZ1bmN0aW9uKGUpe3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPWV9LGkucHJvdG90eXBlLnNldEVmZmVjdD1mdW5jdGlvbihlLHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKSxuPT09dm9pZCAwJiYobj0hMCk7dmFyIGE9dGhpcy5fZHJhd1dyYXBwZXI7YS5zZXRFZmZlY3QoZSx0LG4pLHIhPT12b2lkIDAmJihhLm1hdGVyaWFsQ29udGV4dD1yKSxlfHwoYS5kZWZpbmVzPW51bGwsYS5tYXRlcmlhbENvbnRleHQ9dm9pZCAwKX0saS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZHJhd1dyYXBwZXJzKWlmKGUhPT12b2lkIDApe3RoaXMuX3JlbW92ZURyYXdXcmFwcGVyKGUpO3JldHVybn1lbHNlIGZvcih2YXIgdD0wLHI9dGhpcy5fZHJhd1dyYXBwZXJzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO249PW51bGx8fG4uZGlzcG9zZSgpfXRoaXMuX2RyYXdXcmFwcGVycz1bXX0saS5BZGRUb01lc2g9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtyZXR1cm4gdT09PXZvaWQgMCYmKHU9ITApLG5ldyBpKGUsdCxyLG4sYSxzLG8sdSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiSXNHbG9iYWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0aWNlc1N0YXJ0PT09MCYmdGhpcy52ZXJ0aWNlc0NvdW50PT09dGhpcy5fbWVzaC5nZXRUb3RhbFZlcnRpY2VzKCkmJnRoaXMuaW5kZXhTdGFydD09PTAmJnRoaXMuaW5kZXhDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxJbmRpY2VzKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSXNHbG9iYWw/dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKTp0aGlzLl9ib3VuZGluZ0luZm99LGkucHJvdG90eXBlLnNldEJvdW5kaW5nSW5mbz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc30saS5wcm90b3R5cGUuZ2V0TWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNofSxpLnByb3RvdHlwZS5nZXRSZW5kZXJpbmdNZXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2h9LGkucHJvdG90eXBlLmdldFJlcGxhY2VtZW50TWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbH0saS5wcm90b3R5cGUuZ2V0RWZmZWN0aXZlTWVzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDpudWxsO3JldHVybiBlfHx0aGlzLl9yZW5kZXJpbmdNZXNofSxpLnByb3RvdHlwZS5nZXRNYXRlcmlhbD1mdW5jdGlvbigpe3ZhciBlLHQ9KGU9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRNYXRlcmlhbEZvclJlbmRlclBhc3ModGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQpKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9yZW5kZXJpbmdNZXNoLm1hdGVyaWFsO2lmKHQpe2lmKHRoaXMuX2lzTXVsdGlNYXRlcmlhbCh0KSl7dmFyIHI9dC5nZXRTdWJNYXRlcmlhbCh0aGlzLm1hdGVyaWFsSW5kZXgpO3JldHVybiB0aGlzLl9jdXJyZW50TWF0ZXJpYWwhPT1yJiYodGhpcy5fY3VycmVudE1hdGVyaWFsPXIsdGhpcy5yZXNldERyYXdDYWNoZSgpKSxyfX1lbHNlIHJldHVybiB0aGlzLl9tZXNoLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsO3JldHVybiB0fSxpLnByb3RvdHlwZS5faXNNdWx0aU1hdGVyaWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN1Yk1hdGVyaWFsIT09dm9pZCAwfSxpLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPW51bGwpLHRoaXMuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9bnVsbCx0aGlzLklzR2xvYmFsfHwhdGhpcy5fcmVuZGVyaW5nTWVzaHx8IXRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYoZXx8KGU9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpKSwhZSlyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPXRoaXMuX21lc2guZ2V0Qm91bmRpbmdJbmZvKCksdGhpczt2YXIgdD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEluZGljZXMoKSxyO2lmKHRoaXMuaW5kZXhTdGFydD09PTAmJnRoaXMuaW5kZXhDb3VudD09PXQubGVuZ3RoKXt2YXIgbj10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEJvdW5kaW5nSW5mbygpO3I9e21pbmltdW06bi5taW5pbXVtLmNsb25lKCksbWF4aW11bTpuLm1heGltdW0uY2xvbmUoKX19ZWxzZSByPW1hKGUsdCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LHRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzKTtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChyLm1pbmltdW0sci5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IFR0KHIubWluaW11bSxyLm1heGltdW0pLHRoaXN9LGkucHJvdG90eXBlLl9jaGVja0NvbGxpc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0Ll9jaGVja0NvbGxpc2lvbihlKX0saS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHR8fCh0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkpLHQmJnQudXBkYXRlKGUpLHRoaXN9LGkucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0luRnJ1c3R1bShlLHRoaXMuX21lc2guY3VsbGluZ1N0cmF0ZWd5KTohMX0saS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSk6ITF9LGkucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaC5yZW5kZXIodGhpcyxlLHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDp2b2lkIDApLHRoaXN9LGkucHJvdG90eXBlLl9nZXRMaW5lc0luZGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpe2Zvcih2YXIgcj1bXSxuPXRoaXMuaW5kZXhTdGFydDtuPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7bis9MylyLnB1c2goZVtuXSxlW24rMV0sZVtuKzFdLGVbbisyXSxlW24rMl0sZVtuXSk7dGhpcy5fbGluZXNJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuX2xpbmVzSW5kZXhDb3VudD1yLmxlbmd0aH1yZXR1cm4gdGhpcy5fbGluZXNJbmRleEJ1ZmZlcn0saS5wcm90b3R5cGUuY2FuSW50ZXJzZWN0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P2UuaW50ZXJzZWN0c0JveCh0LmJvdW5kaW5nQm94KTohMX0saS5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPXRoaXMuZ2V0TWF0ZXJpYWwoKTtpZighcylyZXR1cm4gbnVsbDt2YXIgbz0zLHU9ITE7c3dpdGNoKHMuZmlsbE1vZGUpe2Nhc2UgMzpjYXNlIDU6Y2FzZSA2OmNhc2UgODpyZXR1cm4gbnVsbDtjYXNlIDc6bz0xLHU9ITA7YnJlYWt9cmV0dXJuIHMuZmlsbE1vZGU9PT00P3IubGVuZ3RoP3RoaXMuX2ludGVyc2VjdExpbmVzKGUsdCxyLHRoaXMuX21lc2guaW50ZXJzZWN0aW9uVGhyZXNob2xkLG4pOnRoaXMuX2ludGVyc2VjdFVuSW5kZXhlZExpbmVzKGUsdCxyLHRoaXMuX21lc2guaW50ZXJzZWN0aW9uVGhyZXNob2xkLG4pOiFyLmxlbmd0aCYmdGhpcy5fbWVzaC5fdW5JbmRleGVkP3RoaXMuX2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcyhlLHQscixuLGEpOnRoaXMuX2ludGVyc2VjdFRyaWFuZ2xlcyhlLHQscixvLHUsbixhKX0saS5wcm90b3R5cGUuX2ludGVyc2VjdExpbmVzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7Zm9yKHZhciBzPW51bGwsbz10aGlzLmluZGV4U3RhcnQ7bzx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50O28rPTIpe3ZhciB1PXRbcltvXV0sZj10W3JbbysxXV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQodSxmLG4pO2lmKCEobDwwKSYmKGF8fCFzfHxsPHMuZGlzdGFuY2UpJiYocz1uZXcgJHIobnVsbCxudWxsLGwpLHMuZmFjZUlkPW8vMixhKSlicmVha31yZXR1cm4gc30saS5wcm90b3R5cGUuX2ludGVyc2VjdFVuSW5kZXhlZExpbmVzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7Zm9yKHZhciBzPW51bGwsbz10aGlzLnZlcnRpY2VzU3RhcnQ7bzx0aGlzLnZlcnRpY2VzU3RhcnQrdGhpcy52ZXJ0aWNlc0NvdW50O28rPTIpe3ZhciB1PXRbb10sZj10W28rMV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQodSxmLG4pO2lmKCEobDwwKSYmKGF8fCFzfHxsPHMuZGlzdGFuY2UpJiYocz1uZXcgJHIobnVsbCxudWxsLGwpLHMuZmFjZUlkPW8vMixhKSlicmVha31yZXR1cm4gc30saS5wcm90b3R5cGUuX2ludGVyc2VjdFRyaWFuZ2xlcz1mdW5jdGlvbihlLHQscixuLGEscyxvKXtmb3IodmFyIHU9bnVsbCxmPS0xLGw9dGhpcy5pbmRleFN0YXJ0O2w8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudC0oMy1uKTtsKz1uKXtmKys7dmFyIGg9cltsXSxjPXJbbCsxXSxkPXJbbCsyXTtpZihhJiZkPT09NDI5NDk2NzI5NSl7bCs9Mjtjb250aW51ZX12YXIgcD10W2hdLGc9dFtjXSxfPXRbZF07aWYoISghcHx8IWd8fCFfKSYmIShvJiYhbyhwLGcsXyxlKSkpe3ZhciB2PWUuaW50ZXJzZWN0c1RyaWFuZ2xlKHAsZyxfKTtpZih2KXtpZih2LmRpc3RhbmNlPDApY29udGludWU7aWYoKHN8fCF1fHx2LmRpc3RhbmNlPHUuZGlzdGFuY2UpJiYodT12LHUuZmFjZUlkPWYscykpYnJlYWt9fX1yZXR1cm4gdX0saS5wcm90b3R5cGUuX2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcz1mdW5jdGlvbihlLHQscixuLGEpe2Zvcih2YXIgcz1udWxsLG89dGhpcy52ZXJ0aWNlc1N0YXJ0O288dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDtvKz0zKXt2YXIgdT10W29dLGY9dFtvKzFdLGw9dFtvKzJdO2lmKCEoYSYmIWEodSxmLGwsZSkpKXt2YXIgaD1lLmludGVyc2VjdHNUcmlhbmdsZSh1LGYsbCk7aWYoaCl7aWYoaC5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChufHwhc3x8aC5kaXN0YW5jZTxzLmRpc3RhbmNlKSYmKHM9aCxzLmZhY2VJZD1vLzMsbikpYnJlYWt9fX1yZXR1cm4gc30saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsKX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaSh0aGlzLm1hdGVyaWFsSW5kZXgsdGhpcy52ZXJ0aWNlc1N0YXJ0LHRoaXMudmVydGljZXNDb3VudCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LGUsdCwhMSk7aWYoIXRoaXMuSXNHbG9iYWwpe3ZhciBuPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIW4pcmV0dXJuIHI7ci5fYm91bmRpbmdJbmZvPW5ldyBUdChuLm1pbmltdW0sbi5tYXhpbXVtKX1yZXR1cm4gcn0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2xpbmVzSW5kZXhCdWZmZXImJih0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuX3JlbGVhc2VCdWZmZXIodGhpcy5fbGluZXNJbmRleEJ1ZmZlciksdGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsKTt2YXIgZT10aGlzLl9tZXNoLnN1Yk1lc2hlcy5pbmRleE9mKHRoaXMpO3RoaXMuX21lc2guc3ViTWVzaGVzLnNwbGljZShlLDEpLHRoaXMucmVzZXREcmF3Q2FjaGUoKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlN1Yk1lc2gifSxpLkNyZWF0ZUZyb21JbmRpY2VzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0hMCk7Zm9yKHZhciBvPU51bWJlci5NQVhfVkFMVUUsdT0tTnVtYmVyLk1BWF9WQUxVRSxmPWF8fG4sbD1mLmdldEluZGljZXMoKSxoPXQ7aDx0K3I7aCsrKXt2YXIgYz1sW2hdO2M8byYmKG89YyksYz51JiYodT1jKX1yZXR1cm4gbmV3IGkoZSxvLHUtbysxLHQscixuLGEscyl9LGl9KCksbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9LHNldDpmdW5jdGlvbihlKXtpLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaG93TG9hZGluZ1NjcmVlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9TaG93TG9hZGluZ1NjcmVlbn0sc2V0OmZ1bmN0aW9uKGUpe2kuX1Nob3dMb2FkaW5nU2NyZWVuPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImxvZ2dpbmdMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9Mb2dnaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXtpLl9Mb2dnaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfSxzZXQ6ZnVuY3Rpb24oZSl7aS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPSExLGkuX1Nob3dMb2FkaW5nU2NyZWVuPSEwLGkuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ITEsaS5fTG9nZ2luZ0xldmVsPTAsaX0oKSxqZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj0hMSxpfSgpLE10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEpe249PT12b2lkIDAmJihuPSExKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5fdG90YWxWZXJ0aWNlcz0wLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT0hMSx0aGlzLl9wb3NpdGlvbnNDYWNoZT1bXSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLnVzZUJvdW5kaW5nSW5mb0Zyb21HZW9tZXRyeT0hMSx0aGlzLl9zY2VuZT10fHxyZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lJiYodGhpcy5pZD1lLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdGhpcy5fbWVzaGVzPVtdLHRoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5faW5kaWNlcz1bXSx0aGlzLl91cGRhdGFibGU9bixyP3RoaXMuc2V0QWxsVmVydGljZXNEYXRhKHIsbik6KHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRpY2VzPVtdKSx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9KSxhJiYodGhpcy5hcHBseVRvTWVzaChhKSxhLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJib3VuZGluZ0JpYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCaWFzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYm91bmRpbmdCaWFzP3RoaXMuX2JvdW5kaW5nQmlhcy5jb3B5RnJvbShlKTp0aGlzLl9ib3VuZGluZ0JpYXM9ZS5jbG9uZSgpLHRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyghMCxudWxsKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkNyZWF0ZUdlb21ldHJ5Rm9yTWVzaD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaShpLlJhbmRvbUlkKCksZS5nZXRTY2VuZSgpKTtyZXR1cm4gdC5hcHBseVRvTWVzaChlKSx0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1lc2hlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJleHRlbmQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW5kfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxpLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0xfHx0aGlzLmRlbGF5TG9hZFN0YXRlPT09MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb05vdFNlcmlhbGl6ZSIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbWVzaGVzLmxlbmd0aDtlKyspaWYoIXRoaXMuX21lc2hlc1tlXS5kb05vdFNlcmlhbGl6ZSlyZXR1cm4hMTtyZXR1cm4hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKTtmb3IodmFyIGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7dmFyIHQ9dGhpcy5fdmVydGV4QnVmZmVyc1tlXTt0Ll9yZWJ1aWxkKCl9fSxpLnByb3RvdHlwZS5zZXRBbGxWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0KXtlLmFwcGx5VG9HZW9tZXRyeSh0aGlzLHQpLHRoaXMuX25vdGlmeVVwZGF0ZSgpfSxpLnByb3RvdHlwZS5zZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ITEpLHImJkFycmF5LmlzQXJyYXkodCkmJih0PW5ldyBGbG9hdDMyQXJyYXkodCkpO3ZhciBhPW5ldyBtKHRoaXMuX2VuZ2luZSx0LGUscix0aGlzLl9tZXNoZXMubGVuZ3RoPT09MCxuKTt0aGlzLnNldFZlcnRpY2VzQnVmZmVyKGEpfSxpLnByb3RvdHlwZS5yZW1vdmVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSl7dGhpcy5fdmVydGV4QnVmZmVyc1tlXSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKX0saS5wcm90b3R5cGUuc2V0VmVydGljZXNCdWZmZXI9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPSEwKTt2YXIgbj1lLmdldEtpbmQoKTt0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dJiZyJiZ0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dLmRpc3Bvc2UoKSxlLl9idWZmZXImJmUuX2J1ZmZlci5faW5jcmVhc2VSZWZlcmVuY2VzKCksdGhpcy5fdmVydGV4QnVmZmVyc1tuXT1lO3ZhciBhPXRoaXMuX21lc2hlcyxzPWEubGVuZ3RoO2lmKG49PT1tLlBvc2l0aW9uS2luZCl7dmFyIG89ZS5nZXREYXRhKCk7dCE9bnVsbD90aGlzLl90b3RhbFZlcnRpY2VzPXQ6byE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9by5sZW5ndGgvKGUudHlwZT09PW0uQllURT9lLmJ5dGVTdHJpZGU6ZS5ieXRlU3RyaWRlLzQpKSx0aGlzLl91cGRhdGVFeHRlbmQobyksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKHZhciB1PTA7dTxzO3UrKyl7dmFyIGY9YVt1XTtmLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxmLl9jcmVhdGVHbG9iYWxTdWJNZXNoKGYuaXNVbkluZGV4ZWQpLGYuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxmLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9fXRoaXMuX25vdGlmeVVwZGF0ZShuKX0saS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBhPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO2EmJihhLnVwZGF0ZURpcmVjdGx5KHQscixuKSx0aGlzLl9ub3RpZnlVcGRhdGUoZSkpfSxpLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPSExKTt2YXIgbj10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtuJiYobi51cGRhdGUodCksZT09PW0uUG9zaXRpb25LaW5kJiZ0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8ocix0KSx0aGlzLl9ub3RpZnlVcGRhdGUoZSkpfSxpLnByb3RvdHlwZS5fdXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUsdCl7aWYoZSYmdGhpcy5fdXBkYXRlRXh0ZW5kKHQpLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLGUpZm9yKHZhciByPXRoaXMuX21lc2hlcyxuPTAsYT1yO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuaGFzQm91bmRpbmdJbmZvP3MuZ2V0Qm91bmRpbmdJbmZvKCkucmVDb25zdHJ1Y3QodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pOnMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pO2Zvcih2YXIgbz1zLnN1Yk1lc2hlcyx1PTAsZj1vO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wucmVmcmVzaEJvdW5kaW5nSW5mbygpfX19LGkucHJvdG90eXBlLl9iaW5kPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGUpe3Q9PT12b2lkIDAmJih0PXRoaXMuX2luZGV4QnVmZmVyKTt2YXIgYT10aGlzLmdldFZlcnRleEJ1ZmZlcnMoKTtpZihhKXtpZih0IT10aGlzLl9pbmRleEJ1ZmZlcnx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmIW4pe3RoaXMuX2VuZ2luZS5iaW5kQnVmZmVycyhhLHQsZSxyKTtyZXR1cm59dmFyIHM9bnx8dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzO3NbZS5rZXldfHwoc1tlLmtleV09dGhpcy5fZW5naW5lLnJlY29yZFZlcnRleEFycmF5T2JqZWN0KGEsdCxlLHIpKSx0aGlzLl9lbmdpbmUuYmluZFZlcnRleEFycmF5T2JqZWN0KHNbZS5rZXldLHQpfX19LGkucHJvdG90eXBlLmdldFRvdGFsVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdG90YWxWZXJ0aWNlczowfSxpLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO3JldHVybiBuP24uZ2V0RmxvYXREYXRhKHRoaXMuX3RvdGFsVmVydGljZXMscnx8dCYmdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTEpOm51bGx9LGkucHJvdG90eXBlLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV07cmV0dXJuIHQ/dC5pc1VwZGF0YWJsZSgpOiExfSxpLnByb3RvdHlwZS5nZXRWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV06bnVsbH0saS5wcm90b3R5cGUuZ2V0VmVydGV4QnVmZmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzOm51bGx9LGkucHJvdG90eXBlLmlzVmVydGljZXNEYXRhUHJlc2VudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdmVydGV4QnVmZmVycz90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdIT09dm9pZCAwOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfSxpLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGFLaW5kcz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ7aWYoIXRoaXMuX3ZlcnRleEJ1ZmZlcnMmJnRoaXMuX2RlbGF5SW5mbylmb3IodCBpbiB0aGlzLl9kZWxheUluZm8pZS5wdXNoKHQpO2Vsc2UgZm9yKHQgaW4gdGhpcy5fdmVydGV4QnVmZmVycyllLnB1c2godCk7cmV0dXJuIGV9LGkucHJvdG90eXBlLnVwZGF0ZUluZGljZXM9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSwhIXRoaXMuX2luZGV4QnVmZmVyKWlmKCF0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlKXRoaXMuc2V0SW5kaWNlcyhlLG51bGwsITApO2Vsc2V7dmFyIG49ZS5sZW5ndGghPT10aGlzLl9pbmRpY2VzLmxlbmd0aDtpZihyfHwodGhpcy5faW5kaWNlcz1lLnNsaWNlKCkpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsZSx0KSxuKWZvcih2YXIgYT0wLHM9dGhpcy5fbWVzaGVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApfX19LGkucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRpY2VzPWUsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT1yLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMscikpLHQhPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPXQpO2Zvcih2YXIgbj0wLGE9dGhpcy5fbWVzaGVzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApLHMuc3luY2hyb25pemVJbnN0YW5jZXMoKX10aGlzLl9ub3RpZnlVcGRhdGUoKX0saS5wcm90b3R5cGUuZ2V0VG90YWxJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGljZXMubGVuZ3RoOjB9LGkucHJvdG90eXBlLmdldEluZGljZXM9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc1JlYWR5KCkpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5faW5kaWNlcztyZXR1cm4hdCYmKCFlfHx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MSk/cjpyLnNsaWNlKCl9LGkucHJvdG90eXBlLmdldEluZGV4QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9LGkucHJvdG90eXBlLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksISghZXx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cykmJnRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0mJih0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0pLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKX0saS5wcm90b3R5cGUucmVsZWFzZUZvck1lc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tZXNoZXMsbj1yLmluZGV4T2YoZSk7biE9PS0xJiYoci5zcGxpY2UobiwxKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJmUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksZS5fZ2VvbWV0cnk9bnVsbCxyLmxlbmd0aD09PTAmJnQmJnRoaXMuZGlzcG9zZSgpKX0saS5wcm90b3R5cGUuYXBwbHlUb01lc2g9ZnVuY3Rpb24oZSl7aWYoZS5fZ2VvbWV0cnkhPT10aGlzKXt2YXIgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTt2YXIgcj10aGlzLl9tZXNoZXM7ZS5fZ2VvbWV0cnk9dGhpcyxlLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9zY2VuZS5wdXNoR2VvbWV0cnkodGhpcyksci5wdXNoKGUpLHRoaXMuaXNSZWFkeSgpP3RoaXMuX2FwcGx5VG9NZXNoKGUpOnRoaXMuX2JvdW5kaW5nSW5mbyYmZS5zZXRCb3VuZGluZ0luZm8odGhpcy5fYm91bmRpbmdJbmZvKX19LGkucHJvdG90eXBlLl91cGRhdGVFeHRlbmQ9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9bnVsbCksdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnkmJnRoaXMuX2JvdW5kaW5nSW5mbyl0aGlzLl9leHRlbmQ9e21pbmltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1pbmltdW0uY2xvbmUoKSxtYXhpbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5tYXhpbXVtLmNsb25lKCl9O2Vsc2V7aWYoIWUmJihlPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKSwhZSkpcmV0dXJuO3RoaXMuX2V4dGVuZD1ubihlLDAsdGhpcy5fdG90YWxWZXJ0aWNlcyx0aGlzLmJvdW5kaW5nQmlhcywzKX19LGkucHJvdG90eXBlLl9hcHBseVRvTWVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcih2YXIgciBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXQ9PT0xJiZ0aGlzLl92ZXJ0ZXhCdWZmZXJzW3JdLmNyZWF0ZSgpLHI9PT1tLlBvc2l0aW9uS2luZCYmKHRoaXMuX2V4dGVuZHx8dGhpcy5fdXBkYXRlRXh0ZW5kKCksZS5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksZS5fY3JlYXRlR2xvYmFsU3ViTWVzaChlLmlzVW5JbmRleGVkKSxlLl91cGRhdGVCb3VuZGluZ0luZm8oKSk7dD09PTEmJnRoaXMuX2luZGljZXMmJnRoaXMuX2luZGljZXMubGVuZ3RoPjAmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKSxlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCksZS5zeW5jaHJvbml6ZUluc3RhbmNlcygpfSxpLnByb3RvdHlwZS5fbm90aWZ5VXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMub25HZW9tZXRyeVVwZGF0ZWQmJnRoaXMub25HZW9tZXRyeVVwZGF0ZWQodGhpcyxlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IodmFyIHQ9MCxyPXRoaXMuX21lc2hlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX19LGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX0saS5wcm90b3R5cGUuX3F1ZXVlTG9hZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5kZWxheUxvYWRpbmdGaWxlJiYoZS5fYWRkUGVuZGluZ0RhdGEodGhpcyksZS5fbG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGZ1bmN0aW9uKG4pe2lmKHIuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKXtyLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKG4pLHIpLHIuZGVsYXlMb2FkU3RhdGU9MSxyLl9kZWxheUluZm89W10sZS5fcmVtb3ZlUGVuZGluZ0RhdGEocik7Zm9yKHZhciBhPXIuX21lc2hlcyxzPWEubGVuZ3RoLG89MDtvPHM7bysrKXIuX2FwcGx5VG9NZXNoKGFbb10pO3QmJnQoKX19LHZvaWQgMCwhMCkpfSxpLnByb3RvdHlwZS50b0xlZnRIYW5kZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluZGljZXMoITEpO2lmKGUhPW51bGwmJmUubGVuZ3RoPjApe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9Myl7dmFyIHI9ZVt0KzBdO2VbdCswXT1lW3QrMl0sZVt0KzJdPXJ9dGhpcy5zZXRJbmRpY2VzKGUpfXZhciBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLCExKTtpZihuIT1udWxsJiZuLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrPTMpblt0KzJdPS1uW3QrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsbiwhMSl9dmFyIGE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLCExKTtpZihhIT1udWxsJiZhLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PGEubGVuZ3RoO3QrPTMpYVt0KzJdPS1hW3QrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLGEsITEpfX0saS5wcm90b3R5cGUuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZT1mdW5jdGlvbigpe3RoaXMuX3Bvc2l0aW9ucz1udWxsfSxpLnByb3RvdHlwZS5fZ2VuZXJhdGVQb2ludHNBcnJheT1mdW5jdGlvbigpe2lmKHRoaXMuX3Bvc2l0aW9ucylyZXR1cm4hMDt2YXIgZT10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCk7aWYoIWV8fGUubGVuZ3RoPT09MClyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoKjMscj10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg7dDxlLmxlbmd0aDt0Kz0zLCsrcil0aGlzLl9wb3NpdGlvbnNDYWNoZVtyXT1iLkZyb21BcnJheShlLHQpO2Zvcih2YXIgdD0wLHI9MDt0PGUubGVuZ3RoO3QrPTMsKytyKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW3JdLnNldChlWzArdF0sZVsxK3RdLGVbMit0XSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aD1lLmxlbmd0aC8zLHRoaXMuX3Bvc2l0aW9ucz10aGlzLl9wb3NpdGlvbnNDYWNoZSwhMH0saS5wcm90b3R5cGUuaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfSxpLnByb3RvdHlwZS5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cz1mdW5jdGlvbigpe2lmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl7Zm9yKHZhciBlIGluIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlXSk7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9O2Zvcih2YXIgdD10aGlzLl9tZXNoZXMscj10Lmxlbmd0aCxuPTA7bjxyO24rKyl0W25dLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoLHI7Zm9yKHI9MDtyPHQ7cisrKXRoaXMucmVsZWFzZUZvck1lc2goZVtyXSk7dGhpcy5fbWVzaGVzPVtdLHRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IodmFyIG4gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dLmRpc3Bvc2UoKTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGljZXM9W10sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuZGVsYXlMb2FkaW5nRmlsZT1udWxsLHRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW51bGwsdGhpcy5fZGVsYXlJbmZvPVtdLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX3NjZW5lLnJlbW92ZUdlb21ldHJ5KHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIGE9dGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuaW5kZXhPZih0aGlzKTthPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5zcGxpY2UoYSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH10aGlzLl9pc0Rpc3Bvc2VkPSEwfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBnZTt0LmluZGljZXM9W107dmFyIHI9dGhpcy5nZXRJbmRpY2VzKCk7aWYocilmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl0LmluZGljZXMucHVzaChyW25dKTt2YXIgYT0hMSxzPSExLG87Zm9yKG8gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7dmFyIHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobyk7aWYodSYmKHUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dC5zZXQobmV3IEZsb2F0MzJBcnJheSh1KSxvKTp0LnNldCh1LnNsaWNlKDApLG8pLCFzKSl7dmFyIGY9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobyk7ZiYmKGE9Zi5pc1VwZGF0YWJsZSgpLHM9IWEpfX12YXIgbD1uZXcgaShlLHRoaXMuX3NjZW5lLHQsYSk7bC5kZWxheUxvYWRTdGF0ZT10aGlzLmRlbGF5TG9hZFN0YXRlLGwuZGVsYXlMb2FkaW5nRmlsZT10aGlzLmRlbGF5TG9hZGluZ0ZpbGUsbC5fZGVsYXlMb2FkaW5nRnVuY3Rpb249dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb247Zm9yKG8gaW4gdGhpcy5fZGVsYXlJbmZvKWwuX2RlbGF5SW5mbz1sLl9kZWxheUluZm98fFtdLGwuX2RlbGF5SW5mby5wdXNoKG8pO3JldHVybiBsLl9ib3VuZGluZ0luZm89bmV3IFR0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxsfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnVwZGF0YWJsZT10aGlzLl91cGRhdGFibGUsY2UmJmNlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9Y2UuR2V0VGFncyh0aGlzKSksZX0saS5wcm90b3R5cGUuX3RvTnVtYmVyQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKX0saS5wcm90b3R5cGUuY2xlYXJDYWNoZWREYXRhPWZ1bmN0aW9uKCl7dGhpcy5faW5kaWNlcz1bXSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IodmFyIGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fdmVydGV4QnVmZmVycyxlKSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uX2J1ZmZlci5fZGF0YT1udWxsKX0saS5wcm90b3R5cGUuc2VyaWFsaXplVmVydGljZURhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlcmlhbGl6ZSgpO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWS2luZCkmJihlLnV2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVVZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlVWS2luZCkmJihlLnV2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjJLaW5kKSYmKGUudXYycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVVYyS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5VVjJLaW5kKSYmKGUudXYycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjNLaW5kKSYmKGUudXYzcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVVYzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5VVjNLaW5kKSYmKGUudXYzcy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjRLaW5kKSYmKGUudXY0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVVY0S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5VVjRLaW5kKSYmKGUudXY0cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjVLaW5kKSYmKGUudXY1cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVVY1S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5VVjVLaW5kKSYmKGUudXY1cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjZLaW5kKSYmKGUudXY2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVVY2S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5VVjZLaW5kKSYmKGUudXY2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Db2xvcktpbmQpJiYoZS5jb2xvcnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLkNvbG9yS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5Db2xvcktpbmQpJiYoZS5jb2xvcnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCkmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCkpLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlPSEwKSksZS5pbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRJbmRpY2VzKCkpLGV9LGkuRXh0cmFjdEZyb21NZXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5fZ2VvbWV0cnk7cmV0dXJuIHI/ci5jb3B5KHQpOm51bGx9LGkuUmFuZG9tSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX2UuUmFuZG9tSWQoKX0saS5fR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZih0Lmdlb21ldHJpZXNbcl0uX2xvYWRlZFVuaXF1ZUlkPT09ZSlyZXR1cm4gdC5nZW9tZXRyaWVzW3JdO3JldHVybiBudWxsfSxpLl9JbXBvcnRHZW9tZXRyeT1mdW5jdGlvbihlLHQpe3ZhciByPXQuZ2V0U2NlbmUoKSxuPWUuZ2VvbWV0cnlVbmlxdWVJZCxhPWUuZ2VvbWV0cnlJZDtpZihufHxhKXt2YXIgcz1uP3RoaXMuX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChuLHIpOnIuZ2V0R2VvbWV0cnlCeUlkKGEpO3MmJnMuYXBwbHlUb01lc2godCl9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhciBvPXQuX2JpbmFyeUluZm87aWYoby5wb3NpdGlvbnNBdHRyRGVzYyYmby5wb3NpdGlvbnNBdHRyRGVzYy5jb3VudD4wKXt2YXIgdT1uZXcgRmxvYXQzMkFycmF5KGUsby5wb3NpdGlvbnNBdHRyRGVzYy5vZmZzZXQsby5wb3NpdGlvbnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsdSwhMSl9aWYoby5ub3JtYWxzQXR0ckRlc2MmJm8ubm9ybWFsc0F0dHJEZXNjLmNvdW50PjApe3ZhciBmPW5ldyBGbG9hdDMyQXJyYXkoZSxvLm5vcm1hbHNBdHRyRGVzYy5vZmZzZXQsby5ub3JtYWxzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxmLCExKX1pZihvLnRhbmdldHNBdHRyRGVzYyYmby50YW5nZXRzQXR0ckRlc2MuY291bnQ+MCl7dmFyIGw9bmV3IEZsb2F0MzJBcnJheShlLG8udGFuZ2V0c0F0dHJEZXNjLm9mZnNldCxvLnRhbmdldHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCxsLCExKX1pZihvLnV2c0F0dHJEZXNjJiZvLnV2c0F0dHJEZXNjLmNvdW50PjApe3ZhciBoPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2c0F0dHJEZXNjLm9mZnNldCxvLnV2c0F0dHJEZXNjLmNvdW50KTtpZihqZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8aC5sZW5ndGg7Yys9MiloW2NdPTEtaFtjXTt0LnNldFZlcnRpY2VzRGF0YShtLlVWS2luZCxoLCExKX1pZihvLnV2czJBdHRyRGVzYyYmby51dnMyQXR0ckRlc2MuY291bnQ+MCl7dmFyIGQ9bmV3IEZsb2F0MzJBcnJheShlLG8udXZzMkF0dHJEZXNjLm9mZnNldCxvLnV2czJBdHRyRGVzYy5jb3VudCk7aWYoamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPGQubGVuZ3RoO2MrPTIpZFtjXT0xLWRbY107dC5zZXRWZXJ0aWNlc0RhdGEobS5VVjJLaW5kLGQsITEpfWlmKG8udXZzM0F0dHJEZXNjJiZvLnV2czNBdHRyRGVzYy5jb3VudD4wKXt2YXIgcD1uZXcgRmxvYXQzMkFycmF5KGUsby51dnMzQXR0ckRlc2Mub2Zmc2V0LG8udXZzM0F0dHJEZXNjLmNvdW50KTtpZihqZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8cC5sZW5ndGg7Yys9MilwW2NdPTEtcFtjXTt0LnNldFZlcnRpY2VzRGF0YShtLlVWM0tpbmQscCwhMSl9aWYoby51dnM0QXR0ckRlc2MmJm8udXZzNEF0dHJEZXNjLmNvdW50PjApe3ZhciBnPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czRBdHRyRGVzYy5vZmZzZXQsby51dnM0QXR0ckRlc2MuY291bnQpO2lmKGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxnLmxlbmd0aDtjKz0yKWdbY109MS1nW2NdO3Quc2V0VmVydGljZXNEYXRhKG0uVVY0S2luZCxnLCExKX1pZihvLnV2czVBdHRyRGVzYyYmby51dnM1QXR0ckRlc2MuY291bnQ+MCl7dmFyIF89bmV3IEZsb2F0MzJBcnJheShlLG8udXZzNUF0dHJEZXNjLm9mZnNldCxvLnV2czVBdHRyRGVzYy5jb3VudCk7aWYoamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPF8ubGVuZ3RoO2MrPTIpX1tjXT0xLV9bY107dC5zZXRWZXJ0aWNlc0RhdGEobS5VVjVLaW5kLF8sITEpfWlmKG8udXZzNkF0dHJEZXNjJiZvLnV2czZBdHRyRGVzYy5jb3VudD4wKXt2YXIgdj1uZXcgRmxvYXQzMkFycmF5KGUsby51dnM2QXR0ckRlc2Mub2Zmc2V0LG8udXZzNkF0dHJEZXNjLmNvdW50KTtpZihqZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8di5sZW5ndGg7Yys9Mil2W2NdPTEtdltjXTt0LnNldFZlcnRpY2VzRGF0YShtLlVWNktpbmQsdiwhMSl9aWYoby5jb2xvcnNBdHRyRGVzYyYmby5jb2xvcnNBdHRyRGVzYy5jb3VudD4wKXt2YXIgeT1uZXcgRmxvYXQzMkFycmF5KGUsby5jb2xvcnNBdHRyRGVzYy5vZmZzZXQsby5jb2xvcnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEobS5Db2xvcktpbmQseSwhMSxvLmNvbG9yc0F0dHJEZXNjLnN0cmlkZSl9aWYoby5tYXRyaWNlc0luZGljZXNBdHRyRGVzYyYmby5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudD4wKXtmb3IodmFyIEU9bmV3IEludDMyQXJyYXkoZSxvLm1hdHJpY2VzSW5kaWNlc0F0dHJEZXNjLm9mZnNldCxvLm1hdHJpY2VzSW5kaWNlc0F0dHJEZXNjLmNvdW50KSxSPVtdLE09MDtNPEUubGVuZ3RoO00rKyl7dmFyIGM9RVtNXTtSLnB1c2goYyYyNTUpLFIucHVzaCgoYyY2NTI4MCk+PjgpLFIucHVzaCgoYyYxNjcxMTY4MCk+PjE2KSxSLnB1c2goYz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQsUiwhMSl9aWYoby5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjJiZvLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQ+MCl7Zm9yKHZhciBFPW5ldyBJbnQzMkFycmF5KGUsby5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLm9mZnNldCxvLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQpLFI9W10sTT0wO008RS5sZW5ndGg7TSsrKXt2YXIgYz1FW01dO1IucHVzaChjJjI1NSksUi5wdXNoKChjJjY1MjgwKT4+OCksUi5wdXNoKChjJjE2NzExNjgwKT4+MTYpLFIucHVzaChjPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLFIsITEpfWlmKG8ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MmJm8ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MuY291bnQ+MCl7dmFyIEM9bmV3IEZsb2F0MzJBcnJheShlLG8ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2Mub2Zmc2V0LG8ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCxDLCExKX1pZihvLmluZGljZXNBdHRyRGVzYyYmby5pbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7dmFyIEE9bmV3IEludDMyQXJyYXkoZSxvLmluZGljZXNBdHRyRGVzYy5vZmZzZXQsby5pbmRpY2VzQXR0ckRlc2MuY291bnQpO3Quc2V0SW5kaWNlcyhBLG51bGwpfWlmKG8uc3ViTWVzaGVzQXR0ckRlc2MmJm8uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ+MCl7dmFyIFM9bmV3IEludDMyQXJyYXkoZSxvLnN1Yk1lc2hlc0F0dHJEZXNjLm9mZnNldCxvLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50KjUpO3Quc3ViTWVzaGVzPVtdO2Zvcih2YXIgTT0wO008by5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudDtNKyspe3ZhciB3PVNbTSo1KzBdLEY9U1tNKjUrMV0seD1TW00qNSsyXSxHPVNbTSo1KzNdLFc9U1tNKjUrNF07U3QuQWRkVG9NZXNoKHcsRix4LEcsVyx0KX19fWVsc2UgaWYoZS5wb3NpdGlvbnMmJmUubm9ybWFscyYmZS5pbmRpY2VzKXtpZih0LnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxlLnBvc2l0aW9ucyxlLnBvc2l0aW9ucy5fdXBkYXRhYmxlKSx0LnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsZS5ub3JtYWxzLGUubm9ybWFscy5fdXBkYXRhYmxlKSxlLnRhbmdlbnRzJiZ0LnNldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kLGUudGFuZ2VudHMsZS50YW5nZW50cy5fdXBkYXRhYmxlKSxlLnV2cyYmdC5zZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQsZS51dnMsZS51dnMuX3VwZGF0YWJsZSksZS51dnMyJiZ0LnNldFZlcnRpY2VzRGF0YShtLlVWMktpbmQsZS51dnMyLGUudXZzMi5fdXBkYXRhYmxlKSxlLnV2czMmJnQuc2V0VmVydGljZXNEYXRhKG0uVVYzS2luZCxlLnV2czMsZS51dnMzLl91cGRhdGFibGUpLGUudXZzNCYmdC5zZXRWZXJ0aWNlc0RhdGEobS5VVjRLaW5kLGUudXZzNCxlLnV2czQuX3VwZGF0YWJsZSksZS51dnM1JiZ0LnNldFZlcnRpY2VzRGF0YShtLlVWNUtpbmQsZS51dnM1LGUudXZzNS5fdXBkYXRhYmxlKSxlLnV2czYmJnQuc2V0VmVydGljZXNEYXRhKG0uVVY2S2luZCxlLnV2czYsZS51dnM2Ll91cGRhdGFibGUpLGUuY29sb3JzJiZ0LnNldFZlcnRpY2VzRGF0YShtLkNvbG9yS2luZCxFZS5DaGVja0NvbG9yczQoZS5jb2xvcnMsZS5wb3NpdGlvbnMubGVuZ3RoLzMpLGUuY29sb3JzLl91cGRhdGFibGUpLGUubWF0cmljZXNJbmRpY2VzKWlmKGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQsZS5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSk7ZWxzZXtmb3IodmFyIFI9W10sTT0wO008ZS5tYXRyaWNlc0luZGljZXMubGVuZ3RoO00rKyl7dmFyIE49ZS5tYXRyaWNlc0luZGljZXNbTV07Ui5wdXNoKE4mMjU1KSxSLnB1c2goKE4mNjUyODApPj44KSxSLnB1c2goKE4mMTY3MTE2ODApPj4xNiksUi5wdXNoKE4+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLFIsZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSl9aWYoZS5tYXRyaWNlc0luZGljZXNFeHRyYSlpZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSk7ZWxzZXtmb3IodmFyIFI9W10sTT0wO008ZS5tYXRyaWNlc0luZGljZXNFeHRyYS5sZW5ndGg7TSsrKXt2YXIgTj1lLm1hdHJpY2VzSW5kaWNlc0V4dHJhW01dO1IucHVzaChOJjI1NSksUi5wdXNoKChOJjY1MjgwKT4+OCksUi5wdXNoKChOJjE2NzExNjgwKT4+MTYpLFIucHVzaChOPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLFIsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5fdXBkYXRhYmxlKX1lLm1hdHJpY2VzV2VpZ2h0cyYmKGkuX0NsZWFuTWF0cmljZXNXZWlnaHRzKGUsdCksdC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLGUubWF0cmljZXNXZWlnaHRzLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpKSxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZ0LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpLHQuc2V0SW5kaWNlcyhlLmluZGljZXMsbnVsbCl9aWYoZS5zdWJNZXNoZXMpe3Quc3ViTWVzaGVzPVtdO2Zvcih2YXIgcT0wO3E8ZS5zdWJNZXNoZXMubGVuZ3RoO3ErKyl7dmFyICQ9ZS5zdWJNZXNoZXNbcV07U3QuQWRkVG9NZXNoKCQubWF0ZXJpYWxJbmRleCwkLnZlcnRpY2VzU3RhcnQsJC52ZXJ0aWNlc0NvdW50LCQuaW5kZXhTdGFydCwkLmluZGV4Q291bnQsdCl9fXQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmcmJih0LmNvbnZlcnRUb0ZsYXRTaGFkZWRNZXNoKCksdC5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz0hMSksdC5jb21wdXRlV29ybGRNYXRyaXgoITApLHIub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KX0saS5fQ2xlYW5NYXRyaWNlc1dlaWdodHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0uMDAxO2lmKG50LkNsZWFuQm9uZU1hdHJpeFdlaWdodHMpe3ZhciBuPTA7aWYoZS5za2VsZXRvbklkPi0xKXt2YXIgYT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCFhKXJldHVybjtuPWEuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2Zvcih2YXIgcz10LmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLG89dC5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLHU9ZS5tYXRyaWNlc1dlaWdodHMsZj1lLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGw9ZS5udW1Cb25lSW5mbHVlbmNlcixoPXUubGVuZ3RoLGM9MDtjPGg7Yys9NCl7Zm9yKHZhciBkPTAscD0tMSxnPTA7Zzw0O2crKyl7dmFyIF89dVtjK2ddO2QrPV8sXzxyJiZwPDAmJihwPWcpfWlmKGYpZm9yKHZhciBnPTA7Zzw0O2crKyl7dmFyIF89ZltjK2ddO2QrPV8sXzxyJiZwPDAmJihwPWcrNCl9aWYoKHA8MHx8cD5sLTEpJiYocD1sLTEpLGQ+cil7Zm9yKHZhciB2PTEvZCxnPTA7Zzw0O2crKyl1W2MrZ10qPXY7aWYoZilmb3IodmFyIGc9MDtnPDQ7ZysrKWZbYytnXSo9dn1lbHNlIHA+PTQ/KGZbYytwLTRdPTEtZCxvW2MrcC00XT1uKToodVtjK3BdPTEtZCxzW2MrcF09bil9dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLHMpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLG8pfX0saS5QYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoZS5pZCx0LHZvaWQgMCxlLnVwZGF0YWJsZSk7cmV0dXJuIG4uX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsY2UmJmNlLkFkZFRhZ3NUbyhuLGUudGFncyksZS5kZWxheUxvYWRpbmdGaWxlPyhuLmRlbGF5TG9hZFN0YXRlPTQsbi5kZWxheUxvYWRpbmdGaWxlPXIrZS5kZWxheUxvYWRpbmdGaWxlLG4uX2JvdW5kaW5nSW5mbz1uZXcgVHQoYi5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLGIuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksbi5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZuLl9kZWxheUluZm8ucHVzaChtLlVWS2luZCksZS5oYXNVVnMyJiZuLl9kZWxheUluZm8ucHVzaChtLlVWMktpbmQpLGUuaGFzVVZzMyYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVjNLaW5kKSxlLmhhc1VWczQmJm4uX2RlbGF5SW5mby5wdXNoKG0uVVY0S2luZCksZS5oYXNVVnM1JiZuLl9kZWxheUluZm8ucHVzaChtLlVWNUtpbmQpLGUuaGFzVVZzNiYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmbi5fZGVsYXlJbmZvLnB1c2gobS5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZuLl9kZWxheUluZm8ucHVzaChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZuLl9kZWxheUluZm8ucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLG4uX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPWdlLkltcG9ydFZlcnRleERhdGEpOmdlLkltcG9ydFZlcnRleERhdGEoZSxuKSx0LnB1c2hHZW9tZXRyeShuLCEwKSxufSxpfSgpLGh0OyhmdW5jdGlvbihpKXtpW2kuTE9DQUw9MF09IkxPQ0FMIixpW2kuV09STEQ9MV09IldPUkxEIixpW2kuQk9ORT0yXT0iQk9ORSJ9KShodHx8KGh0PXt9KSk7dmFyIFByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5YPW5ldyBiKDEsMCwwKSxpLlk9bmV3IGIoMCwxLDApLGkuWj1uZXcgYigwLDAsMSksaX0oKSxhbjsoZnVuY3Rpb24oaSl7aVtpLlg9MF09IlgiLGlbaS5ZPTFdPSJZIixpW2kuWj0yXT0iWiJ9KShhbnx8KGFuPXt9KSk7dmFyIEplPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj0hMCk7dmFyIGE9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gYS5fZm9yd2FyZD1uZXcgYigwLDAsMSksYS5fdXA9bmV3IGIoMCwxLDApLGEuX3JpZ2h0PW5ldyBiKDEsMCwwKSxhLl9wb3NpdGlvbj1iLlplcm8oKSxhLl9yb3RhdGlvbj1iLlplcm8oKSxhLl9yb3RhdGlvblF1YXRlcm5pb249bnVsbCxhLl9zY2FsaW5nPWIuT25lKCksYS5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLGEuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsYS5fYmlsbGJvYXJkTW9kZT1lLkJJTExCT0FSRE1PREVfTk9ORSxhLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPSExLGEuc2NhbGluZ0RldGVybWluYW50PTEsYS5faW5maW5pdGVEaXN0YW5jZT0hMSxhLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nPSExLGEucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb249ITEsYS5fcG9zZU1hdHJpeD1udWxsLGEuX2xvY2FsTWF0cml4PUkuWmVybygpLGEuX3VzZVBpdm90TWF0cml4PSExLGEuX2Fic29sdXRlUG9zaXRpb249Yi5aZXJvKCksYS5fYWJzb2x1dGVTY2FsaW5nPWIuWmVybygpLGEuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uPWllLklkZW50aXR5KCksYS5fcGl2b3RNYXRyaXg9SS5JZGVudGl0eSgpLGEuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLGEuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsYS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSxhLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IE8sYS5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsbiYmYS5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUoYSksYX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJiaWxsYm9hcmRNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JpbGxib2FyZE1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09dCYmKHRoaXMuX2JpbGxib2FyZE1vZGU9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCYmKHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmZpbml0ZURpc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbmZpbml0ZURpc3RhbmNlIT09dCYmKHRoaXMuX2luZmluaXRlRGlzdGFuY2U9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dCx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzVXNpbmdQaXZvdE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyb3RhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uPXQsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NhbGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NjYWxpbmc9dCx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicm90YXRpb25RdWF0ZXJuaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10LHQmJnRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yd2FyZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDAsdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX2ZvcndhcmQpLHRoaXMuX2ZvcndhcmQubm9ybWFsaXplKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1cCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsMCwwLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9yaWdodCksdGhpcy5fcmlnaHQubm9ybWFsaXplKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudXBkYXRlUG9zZU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeD8odGhpcy5fcG9zZU1hdHJpeC5jb3B5RnJvbSh0KSx0aGlzKToodGhpcy5fcG9zZU1hdHJpeD10LmNsb25lKCksdGhpcyl9LGUucHJvdG90eXBlLmdldFBvc2VNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeHx8KHRoaXMuX3Bvc2VNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl9wb3NlTWF0cml4fSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jYWNoZTtyZXR1cm4hKHRoaXMuX2JpbGxib2FyZE1vZGUhPT10LmJpbGxib2FyZE1vZGV8fHRoaXMuX2JpbGxib2FyZE1vZGUhPT1lLkJJTExCT0FSRE1PREVfTk9ORXx8dC5waXZvdE1hdHJpeFVwZGF0ZWR8fHRoaXMuX2luZmluaXRlRGlzdGFuY2V8fHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5fHx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb24uX2lzRGlydHkpfSxlLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2luaXRDYWNoZS5jYWxsKHRoaXMpO3ZhciB0PXRoaXMuX2NhY2hlO3QubG9jYWxNYXRyaXhVcGRhdGVkPSExLHQuYmlsbGJvYXJkTW9kZT0tMSx0LmluZmluaXRlRGlzdGFuY2U9ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWJzb2x1dGVQb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFic29sdXRlU2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRQcmVUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgodCwhMSl9LGUucHJvdG90eXBlLnNldFBpdm90TWF0cml4PWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLl9waXZvdE1hdHJpeC5jb3B5RnJvbSh0KSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hdGhpcy5fcGl2b3RNYXRyaXguaXNJZGVudGl0eSgpLHRoaXMuX2NhY2hlLnBpdm90TWF0cml4VXBkYXRlZD0hMCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD1yLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4JiYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlP3RoaXMuX3Bpdm90TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZSk6dGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlPUkuSW52ZXJ0KHRoaXMuX3Bpdm90TWF0cml4KSksdGhpc30sZS5wcm90b3R5cGUuZ2V0UGl2b3RNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9LGUucHJvdG90eXBlLmluc3RhbnRpYXRlSGllcmFyY2h5PWZ1bmN0aW9uKHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLHR8fHRoaXMucGFyZW50LCEwKTthJiZuJiZuKHRoaXMsYSk7Zm9yKHZhciBzPTAsbz10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UuaW5zdGFudGlhdGVIaWVyYXJjaHkoYSxyLG4pfXJldHVybiBhfSxlLnByb3RvdHlwZS5mcmVlemVXb3JsZE1hdHJpeD1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMSksdD9yPyh0aGlzLl9yb3RhdGlvbi5zZXRBbGwoMCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbnx8aWUuSWRlbnRpdHkoKSx0LmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9dCx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNXb3JsZE1hdHJpeEZyb3plbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFic29sdXRlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufSxlLnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciByLG4sYTtpZih0Lng9PT12b2lkIDApe2lmKGFyZ3VtZW50cy5sZW5ndGg8MylyZXR1cm4gdGhpcztyPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXX1lbHNlIHI9dC54LG49dC55LGE9dC56O2lmKHRoaXMucGFyZW50KXt2YXIgcz1ELk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHMpLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocixuLGEscyx0aGlzLnBvc2l0aW9uKX1lbHNlIHRoaXMucG9zaXRpb24ueD1yLHRoaXMucG9zaXRpb24ueT1uLHRoaXMucG9zaXRpb24uej1hO3JldHVybiB0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXN9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249Yi5UcmFuc2Zvcm1Ob3JtYWwodCx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc30sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2U9ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO3ZhciB0PUQuTWF0cml4WzBdO3JldHVybiB0aGlzLl9sb2NhbE1hdHJpeC5pbnZlcnRUb1JlZih0KSxiLlRyYW5zZm9ybU5vcm1hbCh0aGlzLnBvc2l0aW9uLHQpfSxlLnByb3RvdHlwZS5sb2NhbGx5VHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1iLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHQsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9LGUucHJvdG90eXBlLmxvb2tBdD1mdW5jdGlvbih0LHIsbixhLHMpe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPWh0LkxPQ0FMKTt2YXIgbz1lLl9Mb29rQXRWZWN0b3JDYWNoZSx1PXM9PT1odC5MT0NBTD90aGlzLnBvc2l0aW9uOnRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO2lmKHQuc3VidHJhY3RUb1JlZih1LG8pLHRoaXMuc2V0RGlyZWN0aW9uKG8scixuLGEpLHM9PT1odC5XT1JMRCYmdGhpcy5wYXJlbnQpaWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe3ZhciBmPUQuTWF0cml4WzBdO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgoZik7dmFyIGw9RC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGwpLGwuaW52ZXJ0KCksZi5tdWx0aXBseVRvUmVmKGwsZiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4KGYpfWVsc2V7dmFyIGg9RC5RdWF0ZXJuaW9uWzBdO2llLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24saCk7dmFyIGY9RC5NYXRyaXhbMF07aC50b1JvdGF0aW9uTWF0cml4KGYpO3ZhciBsPUQuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihsKSxsLmludmVydCgpLGYubXVsdGlwbHlUb1JlZihsLGYpLGguZnJvbVJvdGF0aW9uTWF0cml4KGYpLGgudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIHI9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYodCxyKSxyfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb25Ub1JlZj1mdW5jdGlvbih0LHIpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHQsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHIpLHRoaXN9LGUucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT0wKTt2YXIgcz0tTWF0aC5hdGFuMih0LnosdC54KStNYXRoLlBJLzIsbz1NYXRoLnNxcnQodC54KnQueCt0LnoqdC56KSx1PS1NYXRoLmF0YW4yKHQueSxvKTtyZXR1cm4gdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/aWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihzK3IsdStuLGEsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOih0aGlzLnJvdGF0aW9uLng9dStuLHRoaXMucm90YXRpb24ueT1zK3IsdGhpcy5yb3RhdGlvbi56PWEpLHRoaXN9LGUucHJvdG90eXBlLnNldFBpdm90UG9pbnQ9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj1odC5MT0NBTCksdGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk9PTAmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgbj10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYocj09aHQuV09STEQpe3ZhciBhPUQuTWF0cml4WzBdO24uaW52ZXJ0VG9SZWYoYSksdD1iLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHQsYSl9cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoSS5UcmFuc2xhdGlvbigtdC54LC10LnksLXQueiksITApfSxlLnByb3RvdHlwZS5nZXRQaXZvdFBvaW50PWZ1bmN0aW9uKCl7dmFyIHQ9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKHQpLHR9LGUucHJvdG90eXBlLmdldFBpdm90UG9pbnRUb1JlZj1mdW5jdGlvbih0KXtyZXR1cm4gdC54PS10aGlzLl9waXZvdE1hdHJpeC5tWzEyXSx0Lnk9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTNdLHQuej0tdGhpcy5fcGl2b3RNYXRyaXgubVsxNF0sdGhpc30sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQaXZvdFBvaW50PWZ1bmN0aW9uKCl7dmFyIHQ9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYodCksdH0sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKHQpLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0LHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KSx0aGlzfSxlLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXtpZih0aGlzLl9jaGlsZHJlbilmb3IodmFyIHI9MCxuPXRoaXMuX2NoaWxkcmVuO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EubWFya0FzRGlydHkodCl9cmV0dXJuIGkucHJvdG90eXBlLm1hcmtBc0RpcnR5LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLCF0JiYhdGhpcy5wYXJlbnQpcmV0dXJuIHRoaXM7dmFyIG49RC5RdWF0ZXJuaW9uWzBdLGE9RC5WZWN0b3IzWzBdLHM9RC5WZWN0b3IzWzFdLG89RC5NYXRyaXhbMV07SS5JZGVudGl0eVRvUmVmKG8pO3ZhciB1PUQuTWF0cml4WzBdO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgZj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjtyZXR1cm4gZnx8KGY9ZS5fVG1wUm90YXRpb24saWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueixmKSksSS5Db21wb3NlVG9SZWYodGhpcy5zY2FsaW5nLGYsdGhpcy5wb3NpdGlvbix1KSx0aGlzLnBhcmVudCYmdS5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdSksdCYmKHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKS5pbnZlcnRUb1JlZihvKSx1Lm11bHRpcGx5VG9SZWYobyx1KSksdS5kZWNvbXBvc2UocyxuLGEscj90aGlzOnZvaWQgMCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5zY2FsaW5nLmNvcHlGcm9tKHMpLHRoaXMucG9zaXRpb24uY29weUZyb20oYSksdGhpcy5wYXJlbnQ9dCx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm5vblVuaWZvcm1TY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vblVuaWZvcm1TY2FsaW5nfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz09PXQ/ITE6KHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPXQsITApfSxlLnByb3RvdHlwZS5hdHRhY2hUb0JvbmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1yLHRoaXMucGFyZW50PXQsdC5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSx0LmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfSxlLnByb3RvdHlwZS5kZXRhY2hGcm9tQm9uZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMucGFyZW50Pyh0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLHQ/dGhpcy5wYXJlbnQ9dGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU6dGhpcy5wYXJlbnQ9bnVsbCx0aGlzKToodCYmKHRoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lKSx0aGlzKX0sZS5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKHQscixuKXt0Lm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7dmFyIGE7aWYoIW58fG49PT1odC5MT0NBTClhPWllLlJvdGF0aW9uQXhpc1RvUmVmKHQscixlLl9Sb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXt2YXIgcz1ELk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHMpLHQ9Yi5UcmFuc2Zvcm1Ob3JtYWwodCxzKX1hPWllLlJvdGF0aW9uQXhpc1RvUmVmKHQscixlLl9Sb3RhdGlvbkF4aXNDYWNoZSksYS5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucm90YXRlQXJvdW5kPWZ1bmN0aW9uKHQscixuKXtyLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249aWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopLHRoaXMucm90YXRpb24uc2V0QWxsKDApKTt2YXIgYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1ELlZlY3RvcjNbMl0sdT1ELlF1YXRlcm5pb25bMF0sZj1ELk1hdHJpeFswXSxsPUQuTWF0cml4WzFdLGg9RC5NYXRyaXhbMl0sYz1ELk1hdHJpeFszXTtyZXR1cm4gdC5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24sYSksSS5UcmFuc2xhdGlvblRvUmVmKGEueCxhLnksYS56LGYpLEkuVHJhbnNsYXRpb25Ub1JlZigtYS54LC1hLnksLWEueixsKSxJLlJvdGF0aW9uQXhpc1RvUmVmKHIsbixoKSxsLm11bHRpcGx5VG9SZWYoaCxjKSxjLm11bHRpcGx5VG9SZWYoZixjKSxjLmRlY29tcG9zZShzLHUsbyksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKG8pLHUubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdGhpc30sZS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10LnNjYWxlKHIpO2lmKCFufHxuPT09aHQuTE9DQUwpe3ZhciBzPXRoaXMuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKS5hZGQoYSk7dGhpcy5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihzKX1lbHNlIHRoaXMuc2V0QWJzb2x1dGVQb3NpdGlvbih0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGQoYSkpO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5hZGRSb3RhdGlvbj1mdW5jdGlvbih0LHIsbil7dmFyIGE7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/YT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjooYT1ELlF1YXRlcm5pb25bMV0saWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueixhKSk7dmFyIHM9RC5RdWF0ZXJuaW9uWzBdO3JldHVybiBpZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHIsdCxuLHMpLGEubXVsdGlwbHlJblBsYWNlKHMpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHxhLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzfSxlLnByb3RvdHlwZS5fZ2V0RWZmZWN0aXZlUGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50fSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO2lmKCF0aGlzLl9pc0RpcnR5JiYhdCYmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PXJ8fHRoaXMuaXNTeW5jaHJvbml6ZWQoKSkpcmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1yLHRoaXMuX3dvcmxkTWF0cml4O3ZhciBuPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEsYT0odGhpcy5fYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OKSE9PTAscz10aGlzLl9iaWxsYm9hcmRNb2RlIT09ZS5CSUxMQk9BUkRNT0RFX05PTkUmJiF0aGlzLnByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ7dGhpcy5fdXBkYXRlQ2FjaGUoKTt2YXIgbz10aGlzLl9jYWNoZTtvLnBpdm90TWF0cml4VXBkYXRlZD0hMSxvLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLG8uaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2Usby5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9cix0aGlzLl9jaGlsZFVwZGF0ZUlkKz0xLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fcG9zaXRpb24uX2lzRGlydHk9ITEsdGhpcy5fcm90YXRpb24uX2lzRGlydHk9ITEsdGhpcy5fc2NhbGluZy5faXNEaXJ0eT0hMTt2YXIgdT10aGlzLl9nZXRFZmZlY3RpdmVQYXJlbnQoKSxmPWUuX1RtcFNjYWxpbmcsbD10aGlzLl9wb3NpdGlvbjtpZih0aGlzLl9pbmZpbml0ZURpc3RhbmNlJiYhdGhpcy5wYXJlbnQmJm4pe3ZhciBoPW4uZ2V0V29ybGRNYXRyaXgoKSxjPW5ldyBiKGgubVsxMl0saC5tWzEzXSxoLm1bMTRdKTtsPWUuX1RtcFRyYW5zbGF0aW9uLGwuY29weUZyb21GbG9hdHModGhpcy5fcG9zaXRpb24ueCtjLngsdGhpcy5fcG9zaXRpb24ueStjLnksdGhpcy5fcG9zaXRpb24ueitjLnopfWYuY29weUZyb21GbG9hdHModGhpcy5fc2NhbGluZy54KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueSp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnoqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQpO3ZhciBkO2lmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbil7aWYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLl9pc0RpcnR5PSExLGQ9dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24pe3ZhciBwPXRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpO3AmJih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKGllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56KSksdGhpcy5fcm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKX19ZWxzZSBkPWUuX1RtcFJvdGF0aW9uLGllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosZCk7aWYodGhpcy5fdXNlUGl2b3RNYXRyaXgpe3ZhciBnPUQuTWF0cml4WzFdO0kuU2NhbGluZ1RvUmVmKGYueCxmLnksZi56LGcpO3ZhciBfPUQuTWF0cml4WzBdO2QudG9Sb3RhdGlvbk1hdHJpeChfKSx0aGlzLl9waXZvdE1hdHJpeC5tdWx0aXBseVRvUmVmKGcsRC5NYXRyaXhbNF0pLEQuTWF0cml4WzRdLm11bHRpcGx5VG9SZWYoXyx0aGlzLl9sb2NhbE1hdHJpeCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXgmJnRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9sb2NhbE1hdHJpeC5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMobC54LGwueSxsLnopfWVsc2UgSS5Db21wb3NlVG9SZWYoZixkLGwsdGhpcy5fbG9jYWxNYXRyaXgpO2lmKHUmJnUuZ2V0V29ybGRNYXRyaXgpe2lmKHQmJnUuY29tcHV0ZVdvcmxkTWF0cml4KHQpLHMpe3RoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw/dS5nZXRXb3JsZE1hdHJpeCgpLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLEQuTWF0cml4WzddKTpELk1hdHJpeFs3XS5jb3B5RnJvbSh1LmdldFdvcmxkTWF0cml4KCkpO3ZhciB2PUQuVmVjdG9yM1s1XSx5PUQuVmVjdG9yM1s2XTtELk1hdHJpeFs3XS5kZWNvbXBvc2UoeSx2b2lkIDAsdiksSS5TY2FsaW5nVG9SZWYoeS54LHkueSx5LnosRC5NYXRyaXhbN10pLEQuTWF0cml4WzddLnNldFRyYW5zbGF0aW9uKHYpLHRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbN10sdGhpcy5fd29ybGRNYXRyaXgpfWVsc2UgdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD8odGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih1LmdldFdvcmxkTWF0cml4KCksRC5NYXRyaXhbNl0pLEQuTWF0cml4WzZdLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KSk6dGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih1LmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpO3RoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl93b3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9sb2NhbE1hdHJpeCk7aWYocyYmbiYmdGhpcy5iaWxsYm9hcmRNb2RlJiYhYSl7dmFyIEU9RC5WZWN0b3IzWzBdO2lmKHRoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoRSksRC5NYXRyaXhbMV0uY29weUZyb20obi5nZXRWaWV3TWF0cml4KCkpLEQuTWF0cml4WzFdLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksRC5NYXRyaXhbMV0uaW52ZXJ0VG9SZWYoRC5NYXRyaXhbMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX0FMTCkhPT1lLkJJTExCT0FSRE1PREVfQUxMKXtELk1hdHJpeFswXS5kZWNvbXBvc2Uodm9pZCAwLEQuUXVhdGVybmlvblswXSx2b2lkIDApO3ZhciBSPUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKFIpLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1gpIT09ZS5CSUxMQk9BUkRNT0RFX1gmJihSLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWSkhPT1lLkJJTExCT0FSRE1PREVfWSYmKFIueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9aKSE9PWUuQklMTEJPQVJETU9ERV9aJiYoUi56PTApLEkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihSLnksUi54LFIueixELk1hdHJpeFswXSl9dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfWVsc2UgaWYocyYmbiYmdGhpcy5iaWxsYm9hcmRNb2RlJiZhKXt2YXIgRT1ELlZlY3RvcjNbMF07dGhpcy5fd29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZihFKTt2YXIgTT1uLmdsb2JhbFBvc2l0aW9uO3RoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKEQuTWF0cml4WzFdKTt2YXIgQz1ELlZlY3RvcjNbMV07Yi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKE0sRC5NYXRyaXhbMV0sQyksQy5ub3JtYWxpemUoKTt2YXIgQT0tTWF0aC5hdGFuMihDLnosQy54KStNYXRoLlBJLzIscD1NYXRoLnNxcnQoQy54KkMueCtDLnoqQy56KSxTPS1NYXRoLmF0YW4yKEMueSxwKTtpZihpZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKEEsUywwLEQuUXVhdGVybmlvblswXSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfQUxMKSE9PWUuQklMTEJPQVJETU9ERV9BTEwpe3ZhciBSPUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKFIpLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1gpIT09ZS5CSUxMQk9BUkRNT0RFX1gmJihSLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWSkhPT1lLkJJTExCT0FSRE1PREVfWSYmKFIueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9aKSE9PWUuQklMTEJPQVJETU9ERV9aJiYoUi56PTApLEkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihSLnksUi54LFIueixELk1hdHJpeFswXSl9ZWxzZSBJLkZyb21RdWF0ZXJuaW9uVG9SZWYoRC5RdWF0ZXJuaW9uWzBdLEQuTWF0cml4WzBdKTt0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEQuVmVjdG9yM1swXSl9cmV0dXJuIHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSk6dGhpcy5fc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDFlLTYpP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITApOnUmJnUuX25vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUodS5fbm9uVW5pZm9ybVNjYWxpbmcpOnRoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PUkuSW52ZXJ0KHRoaXMuX3dvcmxkTWF0cml4KSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXh9LGUucHJvdG90eXBlLnJlc2V0TG9jYWxNYXRyaXg9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdClmb3IodmFyIHI9dGhpcy5nZXRDaGlsZHJlbigpLG49MDtuPHIubGVuZ3RoOysrbil7dmFyIGE9cltuXTtpZihhKXthLmNvbXB1dGVXb3JsZE1hdHJpeCgpO3ZhciBzPUQuTWF0cml4WzBdO2EuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fbG9jYWxNYXRyaXgscyk7dmFyIG89RC5RdWF0ZXJuaW9uWzBdO3MuZGVjb21wb3NlKGEuc2NhbGluZyxvLGEucG9zaXRpb24pLGEucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG8pOm8udG9FdWxlckFuZ2xlc1RvUmVmKGEucm90YXRpb24pfX10aGlzLnNjYWxpbmcuY29weUZyb21GbG9hdHMoMSwxLDEpLHRoaXMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249aWUuSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpfSxlLnByb3RvdHlwZS5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmFkZCh0KSx0aGlzfSxlLnByb3RvdHlwZS51bnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpLHRoaXN9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uSW5DYW1lcmFTcGFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9bnVsbCksdHx8KHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksYi5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKSx0LmdldFZpZXdNYXRyaXgoKSl9LGUucHJvdG90eXBlLmdldERpc3RhbmNlVG9DYW1lcmE9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PW51bGwpLHR8fCh0PXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEpLHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLnN1YnRyYWN0KHQuZ2xvYmFsUG9zaXRpb24pLmxlbmd0aCgpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcyxzPUouQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodCxhLmdldFNjZW5lKCkpfSx0aGlzKTtpZihzLm5hbWU9dCxzLmlkPXQsciYmKHMucGFyZW50PXIpLCFuKWZvcih2YXIgbz10aGlzLmdldERlc2NlbmRhbnRzKCEwKSx1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBmPW9bdV07Zi5jbG9uZSYmZi5jbG9uZSh0KyIuIitmLm5hbWUscyl9cmV0dXJuIHN9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgcj1KLlNlcmlhbGl6ZSh0aGlzLHQpO3JldHVybiByLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSxyLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdGhpcy5wYXJlbnQmJihyLnBhcmVudElkPXRoaXMucGFyZW50LnVuaXF1ZUlkKSxyLmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksci5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0aGlzLnBhcmVudCYmKHIucGFyZW50SWQ9dGhpcy5wYXJlbnQudW5pcXVlSWQpLHJ9LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPUouUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5uYW1lLHIpfSx0LHIsbik7cmV0dXJuIHQubG9jYWxNYXRyaXg/YS5zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoSS5Gcm9tQXJyYXkodC5sb2NhbE1hdHJpeCkpOnQucGl2b3RNYXRyaXgmJmEuc2V0UGl2b3RNYXRyaXgoSS5Gcm9tQXJyYXkodC5waXZvdE1hdHJpeCkpLGEuc2V0RW5hYmxlZCh0LmlzRW5hYmxlZCksdC5wYXJlbnRJZCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJZD10LnBhcmVudElkKSxhfSxlLnByb3RvdHlwZS5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzPWZ1bmN0aW9uKHQscil7dmFyIG49W107cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKG4sdCxmdW5jdGlvbihhKXtyZXR1cm4oIXJ8fHIoYSkpJiZhIGluc3RhbmNlb2YgZX0pLG59LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZVRyYW5zZm9ybU5vZGUodGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgbj10aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuc3BsaWNlKG4sMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdClmb3IodmFyIGE9dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSxzPTAsbz1hO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UucGFyZW50PW51bGwsdS5jb21wdXRlV29ybGRNYXRyaXgoITApfWkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLm5vcm1hbGl6ZVRvVW5pdEN1YmU9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSk7dmFyIGE9bnVsbCxzPW51bGw7ciYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPyhzPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb21GbG9hdHMoMCwwLDAsMSkpOnRoaXMucm90YXRpb24mJihhPXRoaXMucm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSkpO3ZhciBvPXRoaXMuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKHQsbiksdT1vLm1heC5zdWJ0cmFjdChvLm1pbiksZj1NYXRoLm1heCh1LngsdS55LHUueik7aWYoZj09PTApcmV0dXJuIHRoaXM7dmFyIGw9MS9mO3JldHVybiB0aGlzLnNjYWxpbmcuc2NhbGVJblBsYWNlKGwpLHImJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmcz90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShzKTp0aGlzLnJvdGF0aW9uJiZhJiZ0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKGEpKSx0aGlzfSxlLnByb3RvdHlwZS5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5faXNBYnNvbHV0ZVN5bmNlZHx8KHRoaXMuX3dvcmxkTWF0cml4LmRlY29tcG9zZSh0aGlzLl9hYnNvbHV0ZVNjYWxpbmcsdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24pLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITApfSxlLkJJTExCT0FSRE1PREVfTk9ORT0wLGUuQklMTEJPQVJETU9ERV9YPTEsZS5CSUxMQk9BUkRNT0RFX1k9MixlLkJJTExCT0FSRE1PREVfWj00LGUuQklMTEJPQVJETU9ERV9BTEw9NyxlLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OPTEyOCxlLl9UbXBSb3RhdGlvbj1pZS5aZXJvKCksZS5fVG1wU2NhbGluZz1iLlplcm8oKSxlLl9UbXBUcmFuc2xhdGlvbj1iLlplcm8oKSxlLl9Mb29rQXRWZWN0b3JDYWNoZT1uZXcgYigwLDAsMCksZS5fUm90YXRpb25BeGlzQ2FjaGU9bmV3IGllLFQoW2Z0KCJwb3NpdGlvbiIpXSxlLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW2Z0KCJyb3RhdGlvbiIpXSxlLnByb3RvdHlwZSwiX3JvdGF0aW9uIix2b2lkIDApLFQoW25hKCJyb3RhdGlvblF1YXRlcm5pb24iKV0sZS5wcm90b3R5cGUsIl9yb3RhdGlvblF1YXRlcm5pb24iLHZvaWQgMCksVChbZnQoInNjYWxpbmciKV0sZS5wcm90b3R5cGUsIl9zY2FsaW5nIix2b2lkIDApLFQoW1AoImJpbGxib2FyZE1vZGUiKV0sZS5wcm90b3R5cGUsIl9iaWxsYm9hcmRNb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNjYWxpbmdEZXRlcm1pbmFudCIsdm9pZCAwKSxUKFtQKCJpbmZpbml0ZURpc3RhbmNlIildLGUucHJvdG90eXBlLCJfaW5maW5pdGVEaXN0YW5jZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpZ25vcmVOb25Vbmlmb3JtU2NhbGluZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJyZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxlfSgkZSkseWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fY2hlY2tDb2xsaXNpb25zPSExLHRoaXMuX2NvbGxpc2lvbk1hc2s9LTEsdGhpcy5fY29sbGlzaW9uR3JvdXA9LTEsdGhpcy5fc3Vycm91bmRpbmdNZXNoZXM9bnVsbCx0aGlzLl9jb2xsaWRlcj1udWxsLHRoaXMuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgYigwLDAsMCksdGhpcy5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgYigwLDAsMCksdGhpcy5fY29sbGlzaW9uUmVzcG9uc2U9ITB9cmV0dXJuIGl9KCksYmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5mYWNldE5iPTAsdGhpcy5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9MTAsdGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW89MS4wMSx0aGlzLmZhY2V0RGF0YUVuYWJsZWQ9ITEsdGhpcy5mYWNldFBhcmFtZXRlcnM9e30sdGhpcy5iYlNpemU9Yi5aZXJvKCksdGhpcy5zdWJEaXY9e21heDoxLFg6MSxZOjEsWjoxfSx0aGlzLmZhY2V0RGVwdGhTb3J0PSExLHRoaXMuZmFjZXREZXB0aFNvcnRFbmFibGVkPSExfXJldHVybiBpfSgpLEVhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2hhc1ZlcnRleEFscGhhPSExLHRoaXMuX3VzZVZlcnRleENvbG9ycz0hMCx0aGlzLl9udW1Cb25lSW5mbHVlbmNlcnM9NCx0aGlzLl9hcHBseUZvZz0hMCx0aGlzLl9yZWNlaXZlU2hhZG93cz0hMSx0aGlzLl9mYWNldERhdGE9bmV3IGJhLHRoaXMuX3Zpc2liaWxpdHk9MSx0aGlzLl9za2VsZXRvbj1udWxsLHRoaXMuX2xheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSEwLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXM9ITEsdGhpcy5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSx0aGlzLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0Q9bnVsbCx0aGlzLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSx0aGlzLl9jb2xsaXNpb25SZXRyeUNvdW50PTMsdGhpcy5fbW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXBJZD0wLHRoaXMuX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1udWxsLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fcG9zaXRpb25zPW51bGwsdGhpcy5fbWVzaENvbGxpc2lvbkRhdGE9bmV3IHlhLHRoaXMuX2VuYWJsZURpc3RhbnRQaWNraW5nPSExfXJldHVybiBpfSgpLHRpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCk7dmFyIG49aS5jYWxsKHRoaXMsdCxyLCExKXx8dGhpcztyZXR1cm4gbi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbz1uZXcgRWEsbi5fd2FpdGluZ01hdGVyaWFsSWQ9bnVsbCxuLmN1bGxpbmdTdHJhdGVneT1lLkNVTExJTkdTVFJBVEVHWV9CT1VORElOR1NQSEVSRV9PTkxZLG4ub25Db2xsaWRlT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlPW5ldyBPLG4ub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLG4uZGVmaW5lZEZhY2luZ0ZvcndhcmQ9ITAsbi5fb2NjbHVzaW9uUXVlcnk9bnVsbCxuLl9yZW5kZXJpbmdHcm91cD1udWxsLG4uYWxwaGFJbmRleD1OdW1iZXIuTUFYX1ZBTFVFLG4uaXNWaXNpYmxlPSEwLG4uaXNQaWNrYWJsZT0hMCxuLmlzTmVhclBpY2thYmxlPSExLG4uaXNOZWFyR3JhYmJhYmxlPSExLG4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PSExLG4uaXNCbG9ja2VyPSExLG4uZW5hYmxlUG9pbnRlck1vdmVFdmVudHM9ITEsbi5vdXRsaW5lQ29sb3I9YmUuUmVkKCksbi5vdXRsaW5lV2lkdGg9LjAyLG4ub3ZlcmxheUNvbG9yPWJlLlJlZCgpLG4ub3ZlcmxheUFscGhhPS41LG4udXNlT2N0cmVlRm9yUmVuZGVyaW5nU2VsZWN0aW9uPSEwLG4udXNlT2N0cmVlRm9yUGlja2luZz0hMCxuLnVzZU9jdHJlZUZvckNvbGxpc2lvbnM9ITAsbi5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITEsbi5kb05vdFN5bmNCb3VuZGluZ0luZm89ITEsbi5hY3Rpb25NYW5hZ2VyPW51bGwsbi5lbGxpcHNvaWQ9bmV3IGIoLjUsMSwuNSksbi5lbGxpcHNvaWRPZmZzZXQ9bmV3IGIoMCwwLDApLG4uZWRnZXNXaWR0aD0xLG4uZWRnZXNDb2xvcj1uZXcgRWUoMSwwLDAsMSksbi5fZWRnZXNSZW5kZXJlcj1udWxsLG4uX21hc3Rlck1lc2g9bnVsbCxuLl9ib3VuZGluZ0luZm89bnVsbCxuLl9ib3VuZGluZ0luZm9Jc0RpcnR5PSEwLG4uX3JlbmRlcklkPTAsbi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3M9bmV3IEFycmF5LG4uX3VuSW5kZXhlZD0hMSxuLl9saWdodFNvdXJjZXM9bmV3IEFycmF5LG4uX3dhaXRpbmdEYXRhPXtsb2RzOm51bGwsYWN0aW9uczpudWxsLGZyZWV6ZVdvcmxkTWF0cml4Om51bGx9LG4uX2JvbmVzVHJhbnNmb3JtTWF0cmljZXM9bnVsbCxuLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlPW51bGwsbi5vblJlYnVpbGRPYnNlcnZhYmxlPW5ldyBPLG4uX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2U9ZnVuY3Rpb24oYSxzLG8pe289PT12b2lkIDAmJihvPW51bGwpLHMuc3VidHJhY3RUb1JlZihuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSxuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucy5sZW5ndGgoKT5oZS5Db2xsaXNpb25zRXBzaWxvbiYmbi5wb3NpdGlvbi5hZGRJblBsYWNlKG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSxvJiZuLm9uQ29sbGlkZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG8pLG4ub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4ucG9zaXRpb24pfSxuLmdldFNjZW5lKCkuYWRkTWVzaChuKSxuLl9yZXN5bmNMaWdodFNvdXJjZXMoKSxuLl91bmlmb3JtQnVmZmVyPW5ldyBFcihuLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCx0LCFuLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNXZWJHUFUpLG4uX2J1aWxkVW5pZm9ybUxheW91dCgpLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX05PTkUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9OT05FfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9YfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1kiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9ZfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1oiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9afSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX0FMTCIse2dldDpmdW5jdGlvbigpe3JldHVybiBKZS5CSUxMQk9BUkRNT0RFX0FMTH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT059LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmYWNldE5iIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldE5ifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFydGl0aW9uaW5nU3ViZGl2aXNpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwYXJ0aXRpb25pbmdCQm94UmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW89dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm11c3REZXB0aFNvcnRGYWNldHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmYWNldERlcHRoU29ydEZyb20iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb209dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvblJldHJ5Q291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRmFjZXREYXRhRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1vcnBoVGFyZ2V0TWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXIhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyPXQsdGhpcy5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5wcm90b3R5cGUuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUuY2FsbCh0aGlzLHQpPyh0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSwhMCk6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25Db2xsaWRlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlcj10aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyPXRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmlzaWJpbGl0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSE9PXQpe3ZhciByPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT10LChyPT09MSYmdCE9PTF8fHIhPT0xJiZ0PT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlcmluZ0dyb3VwSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWw9dCx0JiZ0Lm1lc2hNYXAmJih0Lm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dGhpcyksdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnN1Yk1lc2hlcyYmKHRoaXMucmVzZXREcmF3Q2FjaGUoKSx0aGlzLl91bkJpbmRFZmZlY3QoKSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcz1mdW5jdGlvbih0KXt2YXIgcjtyZXR1cm4ocj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clt0XX0sZS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzPWZ1bmN0aW9uKHQscil7dGhpcy5yZXNldERyYXdDYWNoZSh0KSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3N8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3M9W10pLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc1t0XT1yfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlY2VpdmVTaGFkb3dzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3MhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3M9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzVmVydGV4QWxwaGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYSE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYT10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZVZlcnRleENvbG9ycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnMhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJudW1Cb25lSW5mbHVlbmNlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vycz10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFwcGx5Rm9nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2chPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2c9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJlbmFibGVEaXN0YW50UGlja2luZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsYXllck1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzayYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzaz10LHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvbk1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbk1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFzaz1pc05hTih0KT8tMTp0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlzaW9uUmVzcG9uc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb2xsaXNpb25Hcm91cCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXA9aXNOYU4odCk/LTE6dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInN1cnJvdW5kaW5nTWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGlnaHRTb3VyY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0U291cmNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wb3NpdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247ciYmci5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnIuX3VucmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksdCYmdC5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnQuX3JlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPXQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b258fCh0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oIndvcmxkIiwxNiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2aXNpYmlsaXR5IiwxKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvRWZmZWN0PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX3VuaWZvcm1CdWZmZXI7ci51cGRhdGVNYXRyaXgoIndvcmxkIix0KSxyLnVwZGF0ZUZsb2F0KCJ2aXNpYmlsaXR5Iix0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5KSxyLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5nZXRNZXNoVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQWJzdHJhY3RNZXNoIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9Ik5hbWU6ICIrdGhpcy5uYW1lKyIsIGlzSW5zdGFuY2U6ICIrKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCI/IllFUyI6Ik5PIik7cis9IiwgIyBvZiBzdWJtZXNoZXM6ICIrKHRoaXMuc3ViTWVzaGVzP3RoaXMuc3ViTWVzaGVzLmxlbmd0aDowKTt2YXIgbj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjtyZXR1cm4gbiYmKHIrPSIsIHNrZWxldG9uOiAiK24ubmFtZSksdCYmKHIrPSIsIGJpbGxib2FyZCBtb2RlOiAiK1siTk9ORSIsIlgiLCJZIixudWxsLCJaIixudWxsLG51bGwsIkFMTCJdW3RoaXMuYmlsbGJvYXJkTW9kZV0scis9IiwgZnJlZXplIHdybGQgbWF0OiAiKyh0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufHx0aGlzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD8iWUVTIjoiTk8iKSkscn0sZS5wcm90b3R5cGUuX2dldEVmZmVjdGl2ZVBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGUhPT1KZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaDppLnByb3RvdHlwZS5fZ2V0RWZmZWN0aXZlUGFyZW50LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcj1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLmFjdGlvbk1hbmFnZXImJihyfHx0aGlzLmFjdGlvbk1hbmFnZXIuaXNSZWN1cnNpdmUpKWlmKHQpe2lmKHRoaXMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIodCkpcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcn1lbHNlIHJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXI7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcih0LCExKTpudWxsfSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbih0KXtpZih0aGlzLm9uUmVidWlsZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLCEhdGhpcy5zdWJNZXNoZXMpZm9yKHZhciByPTAsbj10aGlzLnN1Yk1lc2hlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLl9yZWJ1aWxkKCl9fSxlLnByb3RvdHlwZS5fcmVzeW5jTGlnaHRTb3VyY2VzPWZ1bmN0aW9uKCl7dGhpcy5fbGlnaHRTb3VyY2VzLmxlbmd0aD0wO2Zvcih2YXIgdD0wLHI9dGhpcy5nZXRTY2VuZSgpLmxpZ2h0czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmlzRW5hYmxlZCgpJiZuLmNhbkFmZmVjdE1lc2godGhpcykmJnRoaXMuX2xpZ2h0U291cmNlcy5wdXNoKG4pfXRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0sZS5wcm90b3R5cGUuX3Jlc3luY0xpZ2h0U291cmNlPWZ1bmN0aW9uKHQpe3ZhciByPXQuaXNFbmFibGVkKCkmJnQuY2FuQWZmZWN0TWVzaCh0aGlzKSxuPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKHQpLGE9ITE7aWYobj09PS0xKXtpZighcilyZXR1cm47dGhpcy5fbGlnaHRTb3VyY2VzLnB1c2godCl9ZWxzZXtpZihyKXJldHVybjthPSEwLHRoaXMuX2xpZ2h0U291cmNlcy5zcGxpY2UobiwxKX10aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KGEpfSxlLnByb3RvdHlwZS5fdW5CaW5kRWZmZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLnN1Yk1lc2hlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLnNldEVmZmVjdChudWxsKX19LGUucHJvdG90eXBlLl9yZW1vdmVMaWdodFNvdXJjZT1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKHQpO24hPT0tMSYmKHRoaXMuX2xpZ2h0U291cmNlcy5zcGxpY2UobiwxKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KHIpKX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0RpcnR5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3ViTWVzaGVzKWZvcih2YXIgcj0wLG49dGhpcy5zdWJNZXNoZXM7cjxuLmxlbmd0aDtyKyspZm9yKHZhciBhPW5bcl0scz0wO3M8YS5fZHJhd1dyYXBwZXJzLmxlbmd0aDsrK3Mpe3ZhciBvPWEuX2RyYXdXcmFwcGVyc1tzXTshb3x8IW8uZGVmaW5lc3x8IW8uZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dChvLmRlZmluZXMpfX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHk9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGZ1bmN0aW9uKHIpe3JldHVybiByLm1hcmtBc0xpZ2h0RGlydHkodCl9KX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpfSl9LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrQXNNaXNjRGlydHkoKX0pfSxlLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfSxlLnByb3RvdHlwZS5yZXNldERyYXdDYWNoZT1mdW5jdGlvbih0KXtpZih0aGlzLnN1Yk1lc2hlcylmb3IodmFyIHI9MCxuPXRoaXMuc3ViTWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EucmVzZXREcmF3Q2FjaGUodCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQmxvY2tlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExPRD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRUb3RhbEluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0LHIsbixhKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5zZXRJbmRpY2VzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmlzVmVydGljZXNEYXRhUHJlc2VudD1mdW5jdGlvbih0KXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5nZXRCb3VuZGluZ0luZm8oKToodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eSYmKHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITEsdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCkpLHRoaXMuX2JvdW5kaW5nSW5mbyl9LGUucHJvdG90eXBlLnNldEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPXQsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNCb3VuZGluZ0luZm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvIT09bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5idWlsZEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgVHQodCxyLG4pLHRoaXMuX2JvdW5kaW5nSW5mb30sZS5wcm90b3R5cGUubm9ybWFsaXplVG9Vbml0Q3ViZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksaS5wcm90b3R5cGUubm9ybWFsaXplVG9Vbml0Q3ViZS5jYWxsKHRoaXMsdCxyLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZUJvbmVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2tlbGV0b24mJnRoaXMuZ2V0U2NlbmUoKS5za2VsZXRvbnNFbmFibGVkJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX3JlbmRlcklkPXQsITB9LGUucHJvdG90eXBlLl9wb3N0QWN0aXZhdGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9mcmVlemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl91bkZyZWV6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCYmdGhpcy5iaWxsYm9hcmRNb2RlPT09SmUuQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2guZ2V0V29ybGRNYXRyaXgoKTppLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTppLnByb3RvdHlwZS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudC5jYWxsKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQW5JbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNUaGluSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubW92ZVBPVj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNNb3ZlUE9WKHQscixuKSksdGhpc30sZS5wcm90b3R5cGUuY2FsY01vdmVQT1Y9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPW5ldyBJLHM9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb246aWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopO3MudG9Sb3RhdGlvbk1hdHJpeChhKTt2YXIgbz1iLlplcm8oKSx1PXRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ/LTE6MTtyZXR1cm4gYi5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZih0KnUscixuKnUsYSxvKSxvfSxlLnByb3RvdHlwZS5yb3RhdGVQT1Y9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLnJvdGF0aW9uLmFkZEluUGxhY2UodGhpcy5jYWxjUm90YXRlUE9WKHQscixuKSksdGhpc30sZS5wcm90b3R5cGUuY2FsY1JvdGF0ZVBPVj1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8xOi0xO3JldHVybiBuZXcgYih0KmEscixuKmEpfSxlLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fYm91bmRpbmdJbmZvJiZ0aGlzLl9ib3VuZGluZ0luZm8uaXNMb2NrZWQ/dGhpczoodGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEodCxyKSxudWxsKSx0aGlzKX0sZS5wcm90b3R5cGUuX3JlZnJlc2hCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyKXtpZih0KXt2YXIgbj1ubih0LDAsdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkscik7dGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChuLm1pbmltdW0sbi5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IFR0KG4ubWluaW11bSxuLm1heGltdW0pfWlmKHRoaXMuc3ViTWVzaGVzKWZvcih2YXIgYT0wO2E8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2ErKyl0aGlzLnN1Yk1lc2hlc1thXS5yZWZyZXNoQm91bmRpbmdJbmZvKHQpO3RoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpfSxlLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbih0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLGE9PT12b2lkIDAmJihhPW0uUG9zaXRpb25LaW5kKSxuPW4/P3RoaXMuZ2V0VmVydGljZXNEYXRhKGEpLnNsaWNlKCksbiYmciYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpZm9yKHZhciBzPTAsbz0wLHU9MDt1PG4ubGVuZ3RoO3UrKyl7Zm9yKHZhciBmPTA7Zjx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5udW1UYXJnZXRzO2YrKyl7dmFyIGw9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuZ2V0VGFyZ2V0KGYpLGg9bC5pbmZsdWVuY2U7aWYoaD4wKXt2YXIgYz1sLmdldFBvc2l0aW9ucygpO2MmJihuW3VdKz0oY1t1XS1uW3VdKSpoKX19aWYocysrLGE9PT1tLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZzPT09Myl7cz0wO3ZhciBkPW8qMzt0aGlzLl9wb3NpdGlvbnNbbysrXS5jb3B5RnJvbUZsb2F0cyhuW2RdLG5bZCsxXSxuW2QrMl0pfX1pZihuJiZ0JiZ0aGlzLnNrZWxldG9uKXt2YXIgcD10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGc9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZihnJiZwKWZvcih2YXIgXz10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LHY9Xz90aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCx5PV8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsRT10aGlzLnNrZWxldG9uLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLFI9RC5WZWN0b3IzWzBdLE09RC5NYXRyaXhbMF0sQz1ELk1hdHJpeFsxXSxBPTAsZD0wO2Q8bi5sZW5ndGg7ZCs9MyxBKz00KXtNLnJlc2V0KCk7dmFyIFM9dm9pZCAwLHc9dm9pZCAwO2ZvcihTPTA7Uzw0O1MrKyl3PWdbQStTXSx3PjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChFLE1hdGguZmxvb3IocFtBK1NdKjE2KSx3LEMpLE0uYWRkVG9TZWxmKEMpKTtpZihfKWZvcihTPTA7Uzw0O1MrKyl3PXlbQStTXSx3PjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChFLE1hdGguZmxvb3IodltBK1NdKjE2KSx3LEMpLE0uYWRkVG9TZWxmKEMpKTthPT09bS5Ob3JtYWxLaW5kP2IuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKG5bZF0sbltkKzFdLG5bZCsyXSxNLFIpOmIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYobltkXSxuW2QrMV0sbltkKzJdLE0sUiksUi50b0FycmF5KG4sZCksYT09PW0uUG9zaXRpb25LaW5kJiZ0aGlzLl9wb3NpdGlvbnMmJnRoaXMuX3Bvc2l0aW9uc1tkLzNdLmNvcHlGcm9tKFIpfX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0Tm9ybWFsc0RhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9nZXREYXRhKHQscixudWxsLG0uTm9ybWFsS2luZCl9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uRGF0YT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fZ2V0RGF0YSh0LHIsbixtLlBvc2l0aW9uS2luZCl9LGUucHJvdG90eXBlLl9nZXRQb3NpdGlvbkRhdGE9ZnVuY3Rpb24odCxyKXt2YXIgbixhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnMmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCksYSYmKHQmJnRoaXMuc2tlbGV0b258fHImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKSl7aWYoYT1hLnNsaWNlKCksdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLHRoaXMuX3Bvc2l0aW9ucyl7dmFyIHM9dGhpcy5fcG9zaXRpb25zO3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1uZXcgQXJyYXkocy5sZW5ndGgpO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7bysrKXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uc1tvXT0oKG49c1tvXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmNsb25lKCkpfHxuZXcgYn1yZXR1cm4gdGhpcy5nZXRQb3NpdGlvbkRhdGEodCxyLGEpfXJldHVybiBhfSxlLnByb3RvdHlwZS5fdXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8udXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgVHQoYi5aZXJvKCksYi5aZXJvKCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9LGUucHJvdG90eXBlLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm89ZnVuY3Rpb24odCl7aWYoIXRoaXMuc3ViTWVzaGVzKXJldHVybiB0aGlzO2Zvcih2YXIgcj10aGlzLnN1Yk1lc2hlcy5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBhPXRoaXMuc3ViTWVzaGVzW25dOyhyPjF8fCFhLklzR2xvYmFsKSYmYS51cGRhdGVCb3VuZGluZ0luZm8odCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9LGUucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzSW5GcnVzdHVtKHQsdGhpcy5jdWxsaW5nU3RyYXRlZ3kpfSxlLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHQpfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzTWVzaD1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscz10LmdldEJvdW5kaW5nSW5mbygpO2lmKGEuaW50ZXJzZWN0cyhzLHIpKXJldHVybiEwO2lmKG4pZm9yKHZhciBvPTAsdT10aGlzLmdldENoaWxkTWVzaGVzKCk7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107aWYoZi5pbnRlcnNlY3RzTWVzaCh0LHIsITApKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaW50ZXJzZWN0c1BvaW50KHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNoZWNrQ29sbGlzaW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlkZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm1vdmVXaXRoQ29sbGlzaW9ucz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldEFic29sdXRlUG9zaXRpb24oKTtyLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKS5jb2xsaXNpb25Db29yZGluYXRvcjtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyPW4uY3JlYXRlQ29sbGlkZXIoKSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLl9yYWRpdXM9dGhpcy5lbGxpcHNvaWQsbi5nZXROZXdQb3NpdGlvbih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLHRoaXMuY29sbGlzaW9uUmV0cnlDb3VudCx0aGlzLHRoaXMuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UsdGhpcy51bmlxdWVJZCksdGhpc30sZS5wcm90b3R5cGUuX2NvbGxpZGVGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtpZih0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksIXRoaXMuX3Bvc2l0aW9ucylyZXR1cm4gdGhpcztpZighdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlc3x8IXQuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeC5lcXVhbHMocikpe3QuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD1yLmNsb25lKCksdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1bXSx0Ll90cmlhbmdsZVBsYW5lcz1bXTtmb3IodmFyIHM9dC52ZXJ0aWNlc1N0YXJ0LG89dC52ZXJ0aWNlc1N0YXJ0K3QudmVydGljZXNDb3VudCx1PXM7dTxvO3UrKyl0Ll9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLnB1c2goYi5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLl9wb3NpdGlvbnNbdV0scikpfXJldHVybiBuLl9jb2xsaWRlKHQuX3RyaWFuZ2xlUGxhbmVzLHQuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXMsdGhpcy5nZXRJbmRpY2VzKCksdC5pbmRleFN0YXJ0LHQuaW5kZXhTdGFydCt0LmluZGV4Q291bnQsdC52ZXJ0aWNlc1N0YXJ0LCEhdC5nZXRNYXRlcmlhbCgpLHRoaXMsdGhpcy5fc2hvdWxkQ29udmVydFJIUygpLCgoYT10LmdldE1hdGVyaWFsKCkpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5maWxsTW9kZSk9PT03KSx0aGlzfSxlLnByb3RvdHlwZS5fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXM9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49dGhpcy5fc2NlbmUuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyx0KSxhPW4ubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbz1uLmRhdGFbc107YT4xJiYhby5fY2hlY2tDb2xsaXNpb24odCl8fHRoaXMuX2NvbGxpZGVGb3JTdWJNZXNoKG8scix0KX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX3Nob3VsZENvbnZlcnRSSFM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuX2NoZWNrQ29sbGlzaW9uPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbih0KSlyZXR1cm4gdGhpczt2YXIgcj1ELk1hdHJpeFswXSxuPUQuTWF0cml4WzFdO3JldHVybiBJLlNjYWxpbmdUb1JlZigxL3QuX3JhZGl1cy54LDEvdC5fcmFkaXVzLnksMS90Ll9yYWRpdXMueixyKSx0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlLm11bHRpcGx5VG9SZWYocixuKSx0aGlzLl9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyh0LG4pLHRoaXN9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVBvaW50c0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe2E9PT12b2lkIDAmJihhPSExKSxvPT09dm9pZCAwJiYobz0hMSk7dmFyIHU9bmV3IFFlLGY9dGhpcy5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpPT09IkxpbmVzTWVzaCI/dGhpcy5pbnRlcnNlY3Rpb25UaHJlc2hvbGQ6MCxsPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXRoaXMuc3ViTWVzaGVzfHwhbyYmKCF0LmludGVyc2VjdHNTcGhlcmUobC5ib3VuZGluZ1NwaGVyZSxmKXx8IXQuaW50ZXJzZWN0c0JveChsLmJvdW5kaW5nQm94LGYpKSlyZXR1cm4gdTtpZihhKXJldHVybiB1LmhpdD0hbyx1LnBpY2tlZE1lc2g9bz9udWxsOnRoaXMsdS5kaXN0YW5jZT1vPzA6Yi5EaXN0YW5jZSh0Lm9yaWdpbixsLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksdS5zdWJNZXNoSWQ9MCx1O2lmKCF0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCkpcmV0dXJuIHU7Zm9yKHZhciBoPW51bGwsYz10aGlzLl9zY2VuZS5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLHQpLGQ9Yy5sZW5ndGgscD0hMSxnPTA7ZzxkO2crKyl7dmFyIF89Yy5kYXRhW2ddLHY9Xy5nZXRNYXRlcmlhbCgpO2lmKHYmJih2LmZpbGxNb2RlPT03fHx2LmZpbGxNb2RlPT0wfHx2LmZpbGxNb2RlPT0xfHx2LmZpbGxNb2RlPT0yfHx2LmZpbGxNb2RlPT00KSl7cD0hMDticmVha319aWYoIXApcmV0dXJuIHUuaGl0PSEwLHUucGlja2VkTWVzaD10aGlzLHUuZGlzdGFuY2U9Yi5EaXN0YW5jZSh0Lm9yaWdpbixsLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksdS5zdWJNZXNoSWQ9LTEsdTtmb3IodmFyIGc9MDtnPGQ7ZysrKXt2YXIgXz1jLmRhdGFbZ107aWYoIShkPjEmJiFfLmNhbkludGVyc2VjdHModCkpKXt2YXIgeT1fLmludGVyc2VjdHModCx0aGlzLl9wb3NpdGlvbnMsdGhpcy5nZXRJbmRpY2VzKCkscixuKTtpZih5JiYocnx8IWh8fHkuZGlzdGFuY2U8aC5kaXN0YW5jZSkmJihoPXksaC5zdWJNZXNoSWQ9ZyxyKSlicmVha319aWYoaCl7dmFyIEU9cz8/dGhpcy5nZXRXb3JsZE1hdHJpeCgpLFI9RC5WZWN0b3IzWzBdLE09RC5WZWN0b3IzWzFdO2IuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0Lm9yaWdpbixFLFIpLHQuZGlyZWN0aW9uLnNjYWxlVG9SZWYoaC5kaXN0YW5jZSxNKTt2YXIgQz1iLlRyYW5zZm9ybU5vcm1hbChNLEUpLEE9Qy5hZGRJblBsYWNlKFIpO3JldHVybiB1LmhpdD0hMCx1LmRpc3RhbmNlPWIuRGlzdGFuY2UoUixBKSx1LnBpY2tlZFBvaW50PUEsdS5waWNrZWRNZXNoPXRoaXMsdS5idT1oLmJ1fHwwLHUuYnY9aC5idnx8MCx1LnN1Yk1lc2hGYWNlSWQ9aC5mYWNlSWQsdS5mYWNlSWQ9aC5mYWNlSWQrYy5kYXRhW2guc3ViTWVzaElkXS5pbmRleFN0YXJ0Lyh0aGlzLmdldENsYXNzTmFtZSgpLmluZGV4T2YoIkxpbmVzTWVzaCIpIT09LTE/MjozKSx1LnN1Yk1lc2hJZD1oLnN1Yk1lc2hJZCx1fXJldHVybiB1fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnJlbGVhc2VTdWJNZXNoZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoO3RoaXMuc3ViTWVzaGVzLmxlbmd0aDspdGhpcy5zdWJNZXNoZXNbMF0uZGlzcG9zZSgpO2Vsc2UgdGhpcy5zdWJNZXNoZXM9bmV3IEFycmF5O3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztyPT09dm9pZCAwJiYocj0hMSk7dmFyIGE7Zm9yKHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZXRTY2VuZSgpLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmdldFNjZW5lKCkuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuYWN0aW9uTWFuYWdlciE9PXZvaWQgMCYmdGhpcy5hY3Rpb25NYW5hZ2VyIT09bnVsbCYmKHRoaXMuYWN0aW9uTWFuYWdlci5kaXNwb3NlKCksdGhpcy5hY3Rpb25NYW5hZ2VyPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZSYmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCksYT0wO2E8dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoO2ErKyl7dmFyIHM9dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3NbYV0sbz1zLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKHRoaXMpO3MuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShvLDEpfXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPVtdO3ZhciB1PXRoaXMuZ2V0U2NlbmUoKS5saWdodHM7dS5mb3JFYWNoKGZ1bmN0aW9uKGgpe3ZhciBjPWguaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2Yobik7YyE9PS0xJiZoLmluY2x1ZGVkT25seU1lc2hlcy5zcGxpY2UoYywxKSxjPWguZXhjbHVkZWRNZXNoZXMuaW5kZXhPZihuKSxjIT09LTEmJmguZXhjbHVkZWRNZXNoZXMuc3BsaWNlKGMsMSk7dmFyIGQ9aC5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihkKXt2YXIgcD1kLmdldFNoYWRvd01hcCgpO3AmJnAucmVuZGVyTGlzdCYmKGM9cC5yZW5kZXJMaXN0LmluZGV4T2YobiksYyE9PS0xJiZwLnJlbmRlckxpc3Quc3BsaWNlKGMsMSkpfX0pLCh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZExpbmVzTWVzaCIpJiZ0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTt2YXIgZj10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7aWYodGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5pc09jY2x1c2lvblF1ZXJ5SW5Qcm9ncmVzcz0hMSxmLmRlbGV0ZVF1ZXJ5KHRoaXMuX29jY2x1c2lvblF1ZXJ5KSx0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSxmLndpcGVDYWNoZXMoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTWVzaCh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBsPXRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuaW5kZXhPZih0aGlzKTtsPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLnNwbGljZShsLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHImJnRoaXMubWF0ZXJpYWwmJih0aGlzLm1hdGVyaWFsLmdldENsYXNzTmFtZSgpPT09Ik11bHRpTWF0ZXJpYWwiP3RoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCwhMCk6dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwKSksIXQpZm9yKGE9MDthPHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ErKyl0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2FdLmVtaXR0ZXI9PT10aGlzJiYodGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1thXS5kaXNwb3NlKCksYS0tKTt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZCYmdGhpcy5kaXNhYmxlRmFjZXREYXRhKCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5jbGVhcigpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx0LnNldFBhcmVudCh0aGlzLHIpLHRoaXN9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx0LnNldFBhcmVudChudWxsLHIpLHRoaXN9LGUucHJvdG90eXBlLl9pbml0RmFjZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3QuZmFjZXROb3JtYWxzfHwodC5mYWNldE5vcm1hbHM9bmV3IEFycmF5KSx0LmZhY2V0UG9zaXRpb25zfHwodC5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXkpLHQuZmFjZXRQYXJ0aXRpb25pbmd8fCh0LmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSksdC5mYWNldE5iPXRoaXMuZ2V0SW5kaWNlcygpLmxlbmd0aC8zfDAsdC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM/dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM6MTAsdC5wYXJ0aXRpb25pbmdCQm94UmF0aW89dC5wYXJ0aXRpb25pbmdCQm94UmF0aW8/dC5wYXJ0aXRpb25pbmdCQm94UmF0aW86MS4wMTtmb3IodmFyIHI9MDtyPHQuZmFjZXROYjtyKyspdC5mYWNldE5vcm1hbHNbcl09Yi5aZXJvKCksdC5mYWNldFBvc2l0aW9uc1tyXT1iLlplcm8oKTtyZXR1cm4gdC5mYWNldERhdGFFbmFibGVkPSEwLHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUZhY2V0RGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTt0LmZhY2V0RGF0YUVuYWJsZWR8fHRoaXMuX2luaXRGYWNldERhdGEoKTt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCksbj10aGlzLmdldEluZGljZXMoKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCkscz10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKHQuZmFjZXREZXB0aFNvcnQmJiF0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7aWYodC5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITAsbiBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KXQuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShuKTtlbHNlIGlmKG4gaW5zdGFuY2VvZiBVaW50MzJBcnJheSl0LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkobik7ZWxzZXtmb3IodmFyIG89ITEsdT0wO3U8bi5sZW5ndGg7dSsrKWlmKG5bdV0+NjU1MzUpe289ITA7YnJlYWt9bz90LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkobik6dC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KG4pfWlmKHQuZmFjZXREZXB0aFNvcnRGdW5jdGlvbj1mdW5jdGlvbihnLF8pe3JldHVybiBfLnNxRGlzdGFuY2UtZy5zcURpc3RhbmNlfSwhdC5mYWNldERlcHRoU29ydEZyb20pe3ZhciBmPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7dC5mYWNldERlcHRoU29ydEZyb209Zj9mLnBvc2l0aW9uOmIuWmVybygpfXQuZGVwdGhTb3J0ZWRGYWNldHM9W107Zm9yKHZhciBsPTA7bDx0LmZhY2V0TmI7bCsrKXt2YXIgaD17aW5kOmwqMyxzcURpc3RhbmNlOjB9O3QuZGVwdGhTb3J0ZWRGYWNldHMucHVzaChoKX10LmludmVydGVkTWF0cml4PUkuSWRlbnRpdHkoKSx0LmZhY2V0RGVwdGhTb3J0T3JpZ2luPWIuWmVybygpfXQuYmJTaXplLng9cy5tYXhpbXVtLngtcy5taW5pbXVtLng+c2U/cy5tYXhpbXVtLngtcy5taW5pbXVtLng6c2UsdC5iYlNpemUueT1zLm1heGltdW0ueS1zLm1pbmltdW0ueT5zZT9zLm1heGltdW0ueS1zLm1pbmltdW0ueTpzZSx0LmJiU2l6ZS56PXMubWF4aW11bS56LXMubWluaW11bS56PnNlP3MubWF4aW11bS56LXMubWluaW11bS56OnNlO3ZhciBjPXQuYmJTaXplLng+dC5iYlNpemUueT90LmJiU2l6ZS54OnQuYmJTaXplLnk7aWYoYz1jPnQuYmJTaXplLno/Yzp0LmJiU2l6ZS56LHQuc3ViRGl2Lm1heD10LnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyx0LnN1YkRpdi5YPU1hdGguZmxvb3IodC5zdWJEaXYubWF4KnQuYmJTaXplLngvYyksdC5zdWJEaXYuWT1NYXRoLmZsb29yKHQuc3ViRGl2Lm1heCp0LmJiU2l6ZS55L2MpLHQuc3ViRGl2Llo9TWF0aC5mbG9vcih0LnN1YkRpdi5tYXgqdC5iYlNpemUuei9jKSx0LnN1YkRpdi5YPXQuc3ViRGl2Llg8MT8xOnQuc3ViRGl2LlgsdC5zdWJEaXYuWT10LnN1YkRpdi5ZPDE/MTp0LnN1YkRpdi5ZLHQuc3ViRGl2Llo9dC5zdWJEaXYuWjwxPzE6dC5zdWJEaXYuWix0LmZhY2V0UGFyYW1ldGVycy5mYWNldE5vcm1hbHM9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLHQuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UG9zaXRpb25zPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHQuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UGFydGl0aW9uaW5nPXRoaXMuZ2V0RmFjZXRMb2NhbFBhcnRpdGlvbmluZygpLHQuZmFjZXRQYXJhbWV0ZXJzLmJJbmZvPXMsdC5mYWNldFBhcmFtZXRlcnMuYmJTaXplPXQuYmJTaXplLHQuZmFjZXRQYXJhbWV0ZXJzLnN1YkRpdj10LnN1YkRpdix0LmZhY2V0UGFyYW1ldGVycy5yYXRpbz10aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbyx0LmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnQ9dC5mYWNldERlcHRoU29ydCx0LmZhY2V0RGVwdGhTb3J0JiZ0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCYmKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZih0LmludmVydGVkTWF0cml4KSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodC5mYWNldERlcHRoU29ydEZyb20sdC5pbnZlcnRlZE1hdHJpeCx0LmZhY2V0RGVwdGhTb3J0T3JpZ2luKSx0LmZhY2V0UGFyYW1ldGVycy5kaXN0YW5jZVRvPXQuZmFjZXREZXB0aFNvcnRPcmlnaW4pLHQuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydGVkRmFjZXRzPXQuZGVwdGhTb3J0ZWRGYWNldHMsYSYmZ2UuQ29tcHV0ZU5vcm1hbHMocixuLGEsdC5mYWNldFBhcmFtZXRlcnMpLHQuZmFjZXREZXB0aFNvcnQmJnQuZmFjZXREZXB0aFNvcnRFbmFibGVkKXt0LmRlcHRoU29ydGVkRmFjZXRzLnNvcnQodC5mYWNldERlcHRoU29ydEZ1bmN0aW9uKTtmb3IodmFyIGQ9dC5kZXB0aFNvcnRlZEluZGljZXMubGVuZ3RoLzN8MCxsPTA7bDxkO2wrKyl7dmFyIHA9dC5kZXB0aFNvcnRlZEZhY2V0c1tsXS5pbmQ7dC5kZXB0aFNvcnRlZEluZGljZXNbbCozXT1uW3BdLHQuZGVwdGhTb3J0ZWRJbmRpY2VzW2wqMysxXT1uW3ArMV0sdC5kZXB0aFNvcnRlZEluZGljZXNbbCozKzJdPW5bcCsyXX10aGlzLnVwZGF0ZUluZGljZXModC5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0RmFjZXRMb2NhbE5vcm1hbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIHQuZmFjZXROb3JtYWxzfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXROb3JtYWxzfSxlLnByb3RvdHlwZS5nZXRGYWNldExvY2FsUG9zaXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0UG9zaXRpb25zfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXRQb3NpdGlvbnN9LGUucHJvdG90eXBlLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIHQuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksdC5mYWNldFBhcnRpdGlvbmluZ30sZS5wcm90b3R5cGUuZ2V0RmFjZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgcj1iLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldFBvc2l0aW9uVG9SZWYodCxyKSxyfSxlLnByb3RvdHlwZS5nZXRGYWNldFBvc2l0aW9uVG9SZWY9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKVt0XSxhPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtyZXR1cm4gYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKG4sYSxyKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGYWNldE5vcm1hbD1mdW5jdGlvbih0KXt2YXIgcj1iLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKHQscikscn0sZS5wcm90b3R5cGUuZ2V0RmFjZXROb3JtYWxUb1JlZj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKVt0XTtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihuLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxyKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscz10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEsbz1NYXRoLmZsb29yKCh0LWEubWluaW11bS54KnMucGFydGl0aW9uaW5nQkJveFJhdGlvKSpzLnN1YkRpdi5YKnMucGFydGl0aW9uaW5nQkJveFJhdGlvL3MuYmJTaXplLngpLHU9TWF0aC5mbG9vcigoci1hLm1pbmltdW0ueSpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqcy5zdWJEaXYuWSpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9zLmJiU2l6ZS55KSxmPU1hdGguZmxvb3IoKG4tYS5taW5pbXVtLnoqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnMuc3ViRGl2Lloqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8vcy5iYlNpemUueik7cmV0dXJuIG88MHx8bz5zLnN1YkRpdi5tYXh8fHU8MHx8dT5zLnN1YkRpdi5tYXh8fGY8MHx8Zj5zLnN1YkRpdi5tYXg/bnVsbDpzLmZhY2V0UGFydGl0aW9uaW5nW28rcy5zdWJEaXYubWF4KnUrcy5zdWJEaXYubWF4KnMuc3ViRGl2Lm1heCpmXX0sZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2V0QXRDb29yZGluYXRlcz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9ITEpLG89PT12b2lkIDAmJihvPSEwKTt2YXIgdT10aGlzLmdldFdvcmxkTWF0cml4KCksZj1ELk1hdHJpeFs1XTt1LmludmVydFRvUmVmKGYpO3ZhciBsPUQuVmVjdG9yM1s4XTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLGYsbCk7dmFyIGg9dGhpcy5nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMobC54LGwueSxsLnosYSxzLG8pO3JldHVybiBhJiZiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGEueCxhLnksYS56LHUsYSksaH0sZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2V0QXRMb2NhbENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITApO3ZhciB1PW51bGwsZj0wLGw9MCxoPTAsYz0wLGQ9MCxwPTAsZz0wLF89MCx2PXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHk9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLEU9dGhpcy5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXModCxyLG4pO2lmKCFFKXJldHVybiBudWxsO2Zvcih2YXIgUj1OdW1iZXIuTUFYX1ZBTFVFLE09UixDLEEsUyx3PTA7dzxFLmxlbmd0aDt3KyspQz1FW3ddLEE9eVtDXSxTPXZbQ10sYz0odC1TLngpKkEueCsoci1TLnkpKkEueSsobi1TLnopKkEueiwoIXN8fHMmJm8mJmM+PTB8fHMmJiFvJiZjPD0wKSYmKGM9QS54KlMueCtBLnkqUy55K0EueipTLnosZD0tKEEueCp0K0EueSpyK0EueipuLWMpLyhBLngqQS54K0EueSpBLnkrQS56KkEueikscD10K0EueCpkLGc9citBLnkqZCxfPW4rQS56KmQsZj1wLXQsbD1nLXIsaD1fLW4sTT1mKmYrbCpsK2gqaCxNPFImJihSPU0sdT1DLGEmJihhLng9cCxhLnk9ZyxhLno9XykpKTtyZXR1cm4gdX0sZS5wcm90b3R5cGUuZ2V0RmFjZXREYXRhUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXRQYXJhbWV0ZXJzfSxlLnByb3RvdHlwZS5kaXNhYmxlRmFjZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0RGF0YUVuYWJsZWQmJih0LmZhY2V0RGF0YUVuYWJsZWQ9ITEsdC5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksdC5mYWNldE5vcm1hbHM9bmV3IEFycmF5LHQuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LHQuZmFjZXRQYXJhbWV0ZXJzPW51bGwsdC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVJbmRpY2VzPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuY3JlYXRlTm9ybWFscz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCksbj10aGlzLmdldEluZGljZXMoKSxhO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpP2E9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKTphPVtdLGdlLkNvbXB1dGVOb3JtYWxzKHIsbixhLHt1c2VSaWdodEhhbmRlZFN5c3RlbTp0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW19KSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsYSx0KSx0aGlzfSxlLnByb3RvdHlwZS5hbGlnbldpdGhOb3JtYWw9ZnVuY3Rpb24odCxyKXtyfHwocj1Qci5ZKTt2YXIgbj1ELlZlY3RvcjNbMF0sYT1ELlZlY3RvcjNbMV07cmV0dXJuIGIuQ3Jvc3NUb1JlZihyLHQsYSksYi5Dcm9zc1RvUmVmKHQsYSxuKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9pZS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKG4sdCxhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTpiLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihuLHQsYSx0aGlzLnJvdGF0aW9uKSx0aGlzfSxlLnByb3RvdHlwZS5fY2hlY2tPY2NsdXNpb25RdWVyeT1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5kaXNhYmxlRWRnZXNSZW5kZXJpbmc9ZnVuY3Rpb24oKXt0aHJvdyBYKCJFZGdlc1JlbmRlcmVyIil9LGUucHJvdG90eXBlLmVuYWJsZUVkZ2VzUmVuZGVyaW5nPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBYKCJFZGdlc1JlbmRlcmVyIil9LGUucHJvdG90eXBlLmdldENvbm5lY3RlZFBhcnRpY2xlU3lzdGVtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjZW5lLnBhcnRpY2xlU3lzdGVtcy5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHIuZW1pdHRlcj09PXR9KX0sZS5PQ0NMVVNJT05fVFlQRV9OT05FPTAsZS5PQ0NMVVNJT05fVFlQRV9PUFRJTUlTVElDPTEsZS5PQ0NMVVNJT05fVFlQRV9TVFJJQ1Q9MixlLk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9BQ0NVUkFURT0wLGUuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0NPTlNFUlZBVElWRT0xLGUuQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEPTAsZS5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWT0xLGUuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OPTIsZS5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT05fVEhFTl9CU1BIRVJFX09OTFk9MyxlfShKZSk7d2UoIkJBQllMT04uQWJzdHJhY3RNZXNoIix0aSk7dmFyIFRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9bn1yZXR1cm4gaS5wcm90b3R5cGUudG9HbG9iYWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQsdGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfSxpLnByb3RvdHlwZS50b0dsb2JhbFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci54PXRoaXMueCplLHIueT10aGlzLnkqdCxyLndpZHRoPXRoaXMud2lkdGgqZSxyLmhlaWdodD10aGlzLmhlaWdodCp0LHRoaXN9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGl9KCksT2U9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9ITApO3ZhciBzPWkuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIHMuX3Bvc2l0aW9uPWIuWmVybygpLHMuX3VwVmVjdG9yPWIuVXAoKSxzLm9ydGhvTGVmdD1udWxsLHMub3J0aG9SaWdodD1udWxsLHMub3J0aG9Cb3R0b209bnVsbCxzLm9ydGhvVG9wPW51bGwscy5mb3Y9Ljgscy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAscy5taW5aPTEscy5tYXhaPTFlNCxzLmluZXJ0aWE9Ljkscy5tb2RlPWUuUEVSU1BFQ1RJVkVfQ0FNRVJBLHMuaXNJbnRlcm1lZGlhdGU9ITEscy52aWV3cG9ydD1uZXcgVGEoMCwwLDEsMSkscy5sYXllck1hc2s9MjY4NDM1NDU1LHMuZm92TW9kZT1lLkZPVk1PREVfVkVSVElDQUxfRklYRUQscy5jYW1lcmFSaWdNb2RlPWUuUklHX01PREVfTk9ORSxzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHMub3V0cHV0UmVuZGVyVGFyZ2V0PW51bGwscy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyxzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZT1uZXcgTyxzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZT1uZXcgTyxzLmlzUmlnQ2FtZXJhPSExLHMuX3JpZ0NhbWVyYXM9bmV3IEFycmF5LHMuX3dlYnZyVmlld01hdHJpeD1JLklkZW50aXR5KCkscy5fc2tpcFJlbmRlcmluZz0hMSxzLl9wcm9qZWN0aW9uTWF0cml4PW5ldyBJLHMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHMuX2FjdGl2ZU1lc2hlcz1uZXcgVmUoMjU2KSxzLl9nbG9iYWxQb3NpdGlvbj1iLlplcm8oKSxzLl9jb21wdXRlZFZpZXdNYXRyaXg9SS5JZGVudGl0eSgpLHMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITEscy5fdHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHMuX2Fic29sdXRlUm90YXRpb249aWUuSWRlbnRpdHkoKSxzLl9pc0NhbWVyYT0hMCxzLl9pc0xlZnRDYW1lcmE9ITEscy5faXNSaWdodENhbWVyYT0hMSxzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHMpLGEmJiFzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYocy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT1zKSxzLnBvc2l0aW9uPXIscy5yZW5kZXJQYXNzSWQ9cy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZCgiQ2FtZXJhICIuY29uY2F0KHQpKSxzfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVwVmVjdG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXBWZWN0b3I9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNjcmVlbkFyZWEiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxzPTAsbz0wO2lmKHRoaXMubW9kZT09PWUuUEVSU1BFQ1RJVkVfQ0FNRVJBKXRoaXMuZm92TW9kZT09PWUuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD8obz10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxzPXRoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykqbyk6KHM9dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMiksbz1zL3RoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykpO2Vsc2V7dmFyIHU9dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLzIsZj10aGlzLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpLzI7cz0oKHQ9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJnQhPT12b2lkIDA/dDp1KS0oKHI9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmciE9PXZvaWQgMD9yOi11KSxvPSgobj10aGlzLm9ydGhvVG9wKSE9PW51bGwmJm4hPT12b2lkIDA/bjpmKS0oKGE9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZhIT09dm9pZCAwP2E6LWYpfXJldHVybiBzKm99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc3RvcmVTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD0hMCx0aGlzLl9zdG9yZWRGb3Y9dGhpcy5mb3YsdGhpc30sZS5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX0sZS5wcm90b3R5cGUucmVzdG9yZVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksITApOiExfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ2FtZXJhIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHIrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO3JldHVybiByfSxlLnByb3RvdHlwZS5hcHBseVZlcnRpY2FsQ29ycmVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYWJzb2x1dGVSb3RhdGlvbi50b0V1bGVyQW5nbGVzKCk7dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy10Lng6dC54fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdsb2JhbFBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFBvc2l0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZU1lc2hlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9LGUucHJvdG90eXBlLmlzQWN0aXZlTWVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YodCkhPT0tMX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMSksdClmb3IodmFyIHI9MCxuPXRoaXMuX3Bvc3RQcm9jZXNzZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoYSYmIWEuaXNSZWFkeSgpKXJldHVybiExfXJldHVybiBpLnByb3RvdHlwZS5pc1JlYWR5LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuX2luaXRDYWNoZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9pbml0Q2FjaGUuY2FsbCh0aGlzKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUudXBWZWN0b3I9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLm1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLm1pblo9dm9pZCAwLHRoaXMuX2NhY2hlLm1heFo9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdj12b2lkIDAsdGhpcy5fY2FjaGUuZm92TW9kZT12b2lkIDAsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9SaWdodD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PXZvaWQgMH0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhY2hlPWZ1bmN0aW9uKHQpe3R8fGkucHJvdG90eXBlLl91cGRhdGVDYWNoZS5jYWxsKHRoaXMpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX2NhY2hlLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIGkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZC5jYWxsKHRoaXMpP3RoaXMuX2NhY2hlLnBvc2l0aW9uLmVxdWFscyh0aGlzLnBvc2l0aW9uKSYmdGhpcy5fY2FjaGUudXBWZWN0b3IuZXF1YWxzKHRoaXMudXBWZWN0b3IpJiZ0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpOiExfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGUubW9kZT09PXRoaXMubW9kZSYmdGhpcy5fY2FjaGUubWluWj09PXRoaXMubWluWiYmdGhpcy5fY2FjaGUubWF4Wj09PXRoaXMubWF4WjtpZighdClyZXR1cm4hMTt2YXIgcj10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT1lLlBFUlNQRUNUSVZFX0NBTUVSQT90PXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXIuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6dD10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09ci5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT1yLmdldFJlbmRlckhlaWdodCgpLHR9LGUucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24odCxyKXt9LGUucHJvdG90eXBlLmRldGFjaENvbnRyb2w9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWUuUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpfSxlLnByb3RvdHlwZS5fY2hlY2tJbnB1dHM9ZnVuY3Rpb24oKXt0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ0NhbWVyYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ1Bvc3RQcm9jZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ1Bvc3RQcm9jZXNzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9nZXRGaXJzdFBvc3RQcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDt0KyspaWYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XSE9PW51bGwpcmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXNbdF07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2Ftcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTt0JiZ0Lm1hcmtUZXh0dXJlRGlydHkoKTtmb3IodmFyIHI9MCxuPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3I8bjtyKyspe3ZhciBhPXRoaXMuX3JpZ0NhbWVyYXNbcl0scz1hLl9yaWdQb3N0UHJvY2VzcztpZihzKXt2YXIgbz1zLmdldEVmZmVjdE5hbWUoKT09PSJwYXNzIjtvJiYoYS5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLGEuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQocykscy5tYXJrVGV4dHVyZURpcnR5KCl9ZWxzZSBhLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCl9fSxlLnByb3RvdHlwZS5hdHRhY2hQb3N0UHJvY2Vzcz1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj1udWxsKSwhdC5pc1JldXNhYmxlKCkmJnRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0KT4tMT8oay5FcnJvcigiWW91J3JlIHRyeWluZyB0byByZXVzZSBhIHBvc3QgcHJvY2VzcyBub3QgZGVmaW5lZCBhcyByZXVzYWJsZS4iKSwwKToocj09bnVsbHx8cjwwP3RoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaCh0KTp0aGlzLl9wb3N0UHJvY2Vzc2VzW3JdPT09bnVsbD90aGlzLl9wb3N0UHJvY2Vzc2VzW3JdPXQ6dGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UociwwLHQpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCkpfSxlLnByb3RvdHlwZS5kZXRhY2hQb3N0UHJvY2Vzcz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCk7ciE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1tyXT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9LGUucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX3dvcmxkTWF0cml4Oih0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCl9LGUucHJvdG90eXBlLl9nZXRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuZ2V0Vmlld01hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9LGUucHJvdG90eXBlLmZyZWV6ZVByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMCx0IT09dm9pZCAwJiYodGhpcy5fcHJvamVjdGlvbk1hdHJpeD10KX0sZS5wcm90b3R5cGUudW5mcmVlemVQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMX0sZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0KXt2YXIgcixuLGEscyxvLHUsZixsO2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCF0JiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDt2YXIgaD10aGlzLmdldEVuZ2luZSgpLGM9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMubW9kZT09PWUuUEVSU1BFQ1RJVkVfQ0FNRVJBKXt0aGlzLl9jYWNoZS5mb3Y9dGhpcy5mb3YsdGhpcy5fY2FjaGUuZm92TW9kZT10aGlzLmZvdk1vZGUsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89aC5nZXRBc3BlY3RSYXRpbyh0aGlzKSx0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMucHJvamVjdGlvblBsYW5lVGlsdCx0aGlzLm1pblo8PTAmJih0aGlzLm1pblo9LjEpO3ZhciBkPWgudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHA9dm9pZCAwO2MudXNlUmlnaHRIYW5kZWRTeXN0ZW0/cD1JLlBlcnNwZWN0aXZlRm92UkhUb1JlZjpwPUkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmLHAodGhpcy5mb3YsaC5nZXRBc3BlY3RSYXRpbyh0aGlzKSxkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5mb3ZNb2RlPT09ZS5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELGguaXNORENIYWxmWlJhbmdlLHRoaXMucHJvamVjdGlvblBsYW5lVGlsdCxoLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcil9ZWxzZXt2YXIgZz1oLmdldFJlbmRlcldpZHRoKCkvMixfPWguZ2V0UmVuZGVySGVpZ2h0KCkvMjtjLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKChyPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnIhPT12b2lkIDA/cjotZywobj10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmcsKGE9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZhIT09dm9pZCAwP2E6LV8sKHM9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZzIT09dm9pZCAwP3M6Xyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsaC5pc05EQ0hhbGZaUmFuZ2UpOkkuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKChvPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJm8hPT12b2lkIDA/bzotZywodT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmdSE9PXZvaWQgMD91OmcsKGY9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6LV8sKGw9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZsIT09dm9pZCAwP2w6Xyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsaC5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9aC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD1oLmdldFJlbmRlckhlaWdodCgpfXJldHVybiB0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fdHJhbnNmb3JtTWF0cml4fSxlLnByb3RvdHlwZS5fdXBkYXRlRnJ1c3R1bVBsYW5lcz1mdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzJiYodGhpcy5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpLHRoaXMuX2ZydXN0dW1QbGFuZXM/UnIuR2V0UGxhbmVzVG9SZWYodGhpcy5fdHJhbnNmb3JtTWF0cml4LHRoaXMuX2ZydXN0dW1QbGFuZXMpOnRoaXMuX2ZydXN0dW1QbGFuZXM9UnIuR2V0UGxhbmVzKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITEpfSxlLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksciYmdGhpcy5yaWdDYW1lcmFzLmxlbmd0aD4wKXt2YXIgbj0hMTtyZXR1cm4gdGhpcy5yaWdDYW1lcmFzLmZvckVhY2goZnVuY3Rpb24oYSl7YS5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLG49bnx8dC5pc0luRnJ1c3R1bShhLl9mcnVzdHVtUGxhbmVzKX0pLG59ZWxzZSByZXR1cm4gdC5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX0sZS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksdC5pc0NvbXBsZXRlbHlJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcyl9LGUucHJvdG90eXBlLmdldEZvcndhcmRSYXk9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5VG9SZWY9ZnVuY3Rpb24odCxyLG4sYSl7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtmb3Iocj09PXZvaWQgMCYmKHI9ITEpLHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLmlucHV0cyYmdGhpcy5pbnB1dHMuY2xlYXIoKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlQ2FtZXJhKHRoaXMpO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXt2YXIgbj10aGlzLl9yaWdDYW1lcmFzLnBvcCgpO24mJm4uZGlzcG9zZSgpfWlmKHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIGE9dGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuaW5kZXhPZih0aGlzKTthPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuY2FtZXJhcy5zcGxpY2UoYSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0aGlzLl9yaWdQb3N0UHJvY2Vzcyl0aGlzLl9yaWdQb3N0UHJvY2Vzcy5kaXNwb3NlKHRoaXMpLHRoaXMuX3JpZ1Bvc3RQcm9jZXNzPW51bGwsdGhpcy5fcG9zdFByb2Nlc3Nlcz1bXTtlbHNlIGlmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PWUuUklHX01PREVfTk9ORSl0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXM9W107ZWxzZSBmb3IodmFyIHM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7LS1zPj0wOyl7dmFyIG89dGhpcy5fcG9zdFByb2Nlc3Nlc1tzXTtvJiZvLmRpc3Bvc2UodGhpcyl9Zm9yKHZhciB1PXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7LS11Pj0wOyl0aGlzLmN1c3RvbVJlbmRlclRhcmdldHNbdV0uZGlzcG9zZSgpO3RoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cz1bXSx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5yZWxlYXNlUmVuZGVyUGFzc0lkKHRoaXMucmVuZGVyUGFzc0lkKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzTGVmdENhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0xlZnRDYW1lcmF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc1JpZ2h0Q2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUmlnaHRDYW1lcmF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsZWZ0Q2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDE/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzBdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmlnaHRDYW1lcmEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8Mj9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMV19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TGVmdFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXS5nZXRUYXJnZXQoKX0sZS5wcm90b3R5cGUuZ2V0UmlnaHRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8Mj9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMV0uZ2V0VGFyZ2V0KCl9LGUucHJvdG90eXBlLnNldENhbWVyYVJpZ01vZGU9ZnVuY3Rpb24odCxyKXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT10KXtmb3IoO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXt2YXIgbj10aGlzLl9yaWdDYW1lcmFzLnBvcCgpO24mJm4uZGlzcG9zZSgpfWlmKHRoaXMuY2FtZXJhUmlnTW9kZT10LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuaW50ZXJheGlhbERpc3RhbmNlPXIuaW50ZXJheGlhbERpc3RhbmNlfHwuMDYzNyx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPV9lLlRvUmFkaWFucyh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuaW50ZXJheGlhbERpc3RhbmNlLy4wNjM3KSx0aGlzLmNhbWVyYVJpZ01vZGUhPT1lLlJJR19NT0RFX05PTkUpe3ZhciBhPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX0wiLDApO2EmJihhLl9pc0xlZnRDYW1lcmE9ITApO3ZhciBzPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX1IiLDEpO3MmJihzLl9pc1JpZ2h0Q2FtZXJhPSEwKSxhJiZzJiYodGhpcy5fcmlnQ2FtZXJhcy5wdXNoKGEpLHRoaXMuX3JpZ0NhbWVyYXMucHVzaChzKSl9dGhpcy5fc2V0UmlnTW9kZShyKSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpLHRoaXMudXBkYXRlKCl9fSxlLnByb3RvdHlwZS5fc2V0UmlnTW9kZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9nZXRWUlByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gSS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpb0Zvdix0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJNZXRyaWNzLmFzcGVjdFJhdGlvLHRoaXMubWluWix0aGlzLm1heFosdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeCwhMCx0aGlzLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyV29ya01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ckhNYXRyaXgsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fdXBkYXRlV2ViVlJDYW1lcmFSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2dldFdlYlZSUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiBJLklkZW50aXR5KCl9LGUucHJvdG90eXBlLl9nZXRXZWJWUlZpZXdNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gSS5JZGVudGl0eSgpfSxlLnByb3RvdHlwZS5zZXRDYW1lcmFSaWdQYXJhbWV0ZXI9ZnVuY3Rpb24odCxyKXt0aGlzLl9jYW1lcmFSaWdQYXJhbXN8fCh0aGlzLl9jYW1lcmFSaWdQYXJhbXM9e30pLHRoaXMuX2NhbWVyYVJpZ1BhcmFtc1t0XT1yLHQ9PT0iaW50ZXJheGlhbERpc3RhbmNlIiYmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGU9X2UuVG9SYWRpYW5zKHIvLjA2MzcpKX0sZS5wcm90b3R5cGUuY3JlYXRlUmlnQ2FtZXJhPWZ1bmN0aW9uKHQscil7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl91cGRhdGVSaWdDYW1lcmFzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDt0KyspdGhpcy5fcmlnQ2FtZXJhc1t0XS5taW5aPXRoaXMubWluWix0aGlzLl9yaWdDYW1lcmFzW3RdLm1heFo9dGhpcy5tYXhaLHRoaXMuX3JpZ0NhbWVyYXNbdF0uZm92PXRoaXMuZm92LHRoaXMuX3JpZ0NhbWVyYXNbdF0udXBWZWN0b3IuY29weUZyb20odGhpcy51cFZlY3Rvcik7dGhpcy5jYW1lcmFSaWdNb2RlPT09ZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEgmJih0aGlzLl9yaWdDYW1lcmFzWzBdLnZpZXdwb3J0PXRoaXMuX3JpZ0NhbWVyYXNbMV0udmlld3BvcnQ9dGhpcy52aWV3cG9ydCl9LGUucHJvdG90eXBlLl9zZXR1cElucHV0cz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9Si5TZXJpYWxpemUodGhpcyk7cmV0dXJuIHQudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0LnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLnBhcmVudCYmKHQucGFyZW50SWQ9dGhpcy5wYXJlbnQudW5pcXVlSWQpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5zZXJpYWxpemUodCksSi5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHQucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBuPUouQ2xvbmUoZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKHRoaXMuZ2V0Q2xhc3NOYW1lKCksdCx0aGlzLmdldFNjZW5lKCksdGhpcy5pbnRlcmF4aWFsRGlzdGFuY2UsdGhpcy5pc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUpLHRoaXMpO3JldHVybiBuLm5hbWU9dCxuLnBhcmVudD1yLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSxufSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIHI9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYodCxyKSxyfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFic29sdXRlUm90YXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpLmRlY29tcG9zZSh2b2lkIDAsdGhpcy5fYWJzb2x1dGVSb3RhdGlvbiksdGhpcy5fYWJzb2x1dGVSb3RhdGlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb25Ub1JlZj1mdW5jdGlvbih0LHIpe2IuVHJhbnNmb3JtTm9ybWFsVG9SZWYodCx0aGlzLmdldFdvcmxkTWF0cml4KCkscil9LGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZT1mdW5jdGlvbih0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPSEwKTt2YXIgbz0kZS5Db25zdHJ1Y3QodCxyLG4se2ludGVyYXhpYWxfZGlzdGFuY2U6YSxpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGU6c30pO3JldHVybiBvfHxmdW5jdGlvbigpe3JldHVybiBlLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhKHIsbil9fSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpfSxlLlBhcnNlPWZ1bmN0aW9uKHQscil7dmFyIG49dC50eXBlLGE9ZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKG4sdC5uYW1lLHIsdC5pbnRlcmF4aWFsX2Rpc3RhbmNlLHQuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSxzPUouUGFyc2UoYSx0LHIpO2lmKHQucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCkscy5pbnB1dHMmJihzLmlucHV0cy5wYXJzZSh0KSxzLl9zZXR1cElucHV0cygpKSx0LnVwVmVjdG9yJiYocy51cFZlY3Rvcj1iLkZyb21BcnJheSh0LnVwVmVjdG9yKSkscy5zZXRQb3NpdGlvbiYmKHMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHMuc2V0UG9zaXRpb24oYi5Gcm9tQXJyYXkodC5wb3NpdGlvbikpKSx0LnRhcmdldCYmcy5zZXRUYXJnZXQmJnMuc2V0VGFyZ2V0KGIuRnJvbUFycmF5KHQudGFyZ2V0KSksdC5jYW1lcmFSaWdNb2RlKXt2YXIgbz10LmludGVyYXhpYWxfZGlzdGFuY2U/e2ludGVyYXhpYWxEaXN0YW5jZTp0LmludGVyYXhpYWxfZGlzdGFuY2V9Ont9O3Muc2V0Q2FtZXJhUmlnTW9kZSh0LmNhbWVyYVJpZ01vZGUsbyl9aWYodC5hbmltYXRpb25zKXtmb3IodmFyIHU9MDt1PHQuYW5pbWF0aW9ucy5sZW5ndGg7dSsrKXt2YXIgZj10LmFuaW1hdGlvbnNbdV0sbD1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTtsJiZzLmFuaW1hdGlvbnMucHVzaChsLlBhcnNlKGYpKX0kZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLHQscil9cmV0dXJuIHQuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24ocyx0LmF1dG9BbmltYXRlRnJvbSx0LmF1dG9BbmltYXRlVG8sdC5hdXRvQW5pbWF0ZUxvb3AsdC5hdXRvQW5pbWF0ZVNwZWVkfHwxKSx0LmlzRW5hYmxlZCE9PXZvaWQgMCYmcy5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxzfSxlLl9DcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhPWZ1bmN0aW9uKHQscil7dGhyb3cgWCgiVW5pdmVyc2FsQ2FtZXJhIil9LGUuUEVSU1BFQ1RJVkVfQ0FNRVJBPTAsZS5PUlRIT0dSQVBISUNfQ0FNRVJBPTEsZS5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPTAsZS5GT1ZNT0RFX0hPUklaT05UQUxfRklYRUQ9MSxlLlJJR19NT0RFX05PTkU9MCxlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSD0xMCxlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMPTExLGUuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPTEyLGUuUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUj0xMyxlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEPTE0LGUuUklHX01PREVfVlI9MjAsZS5SSUdfTU9ERV9XRUJWUj0yMSxlLlJJR19NT0RFX0NVU1RPTT0yMixlLkZvcmNlQXR0YWNoQ29udHJvbFRvQWx3YXlzUHJldmVudERlZmF1bHQ9ITEsVChbZnQoInBvc2l0aW9uIildLGUucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbZnQoInVwVmVjdG9yIildLGUucHJvdG90eXBlLCJfdXBWZWN0b3IiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9MZWZ0Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIm9ydGhvUmlnaHQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9Cb3R0b20iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9Ub3AiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZm92Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInByb2plY3Rpb25QbGFuZVRpbHQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibWluWiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtYXhaIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImluZXJ0aWEiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJsYXllck1hc2siLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZm92TW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJjYW1lcmFSaWdNb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImludGVyYXhpYWxEaXN0YW5jZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUiLHZvaWQgMCksZX0oJGUpLGV0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gbi5kaWZmdXNlPW5ldyBiZSgxLDEsMSksbi5zcGVjdWxhcj1uZXcgYmUoMSwxLDEpLG4uZmFsbG9mZlR5cGU9ZS5GQUxMT0ZGX0RFRkFVTFQsbi5pbnRlbnNpdHk9MSxuLl9yYW5nZT1OdW1iZXIuTUFYX1ZBTFVFLG4uX2ludmVyc2VTcXVhcmVkUmFuZ2U9MCxuLl9waG90b21ldHJpY1NjYWxlPTEsbi5faW50ZW5zaXR5TW9kZT1lLklOVEVOU0lUWU1PREVfQVVUT01BVElDLG4uX3JhZGl1cz0xZS01LG4ucmVuZGVyUHJpb3JpdHk9MCxuLl9zaGFkb3dFbmFibGVkPSEwLG4uX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrPTAsbi5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPTAsbi5fbGlnaHRtYXBNb2RlPTAsbi5fZXhjbHVkZWRNZXNoZXNJZHM9bmV3IEFycmF5LG4uX2luY2x1ZGVkT25seU1lc2hlc0lkcz1uZXcgQXJyYXksbi5faXNMaWdodD0hMCxuLmdldFNjZW5lKCkuYWRkTGlnaHQobiksbi5fdW5pZm9ybUJ1ZmZlcj1uZXcgRXIobi5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsdCksbi5fYnVpbGRVbmlmb3JtTGF5b3V0KCksbi5pbmNsdWRlZE9ubHlNZXNoZXM9bmV3IEFycmF5LG4uZXhjbHVkZWRNZXNoZXM9bmV3IEFycmF5LG4uX3Jlc3luY01lc2hlcygpLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmFuZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yYW5nZT10LHRoaXMuX2ludmVyc2VTcXVhcmVkUmFuZ2U9MS8odGhpcy5yYW5nZSp0aGlzLnJhbmdlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImludGVuc2l0eU1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZW5zaXR5TW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVuc2l0eU1vZGU9dCx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmFkaXVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhZGl1c30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JhZGl1cz10LHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFkb3dFbmFibGVkIT09dCYmKHRoaXMuX3NoYWRvd0VuYWJsZWQ9dCx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5jbHVkZWRPbmx5TWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luY2x1ZGVkT25seU1lc2hlcz10LHRoaXMuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seSh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImV4Y2x1ZGVkTWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkTWVzaGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXhjbHVkZWRNZXNoZXM9dCx0aGlzLl9ob29rQXJyYXlGb3JFeGNsdWRlZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2s9dCx0aGlzLl9yZXN5bmNNZXNoZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9dCx0aGlzLl9yZXN5bmNNZXNoZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0bWFwTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saWdodG1hcE1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9saWdodG1hcE1vZGUhPT10JiYodGhpcy5fbGlnaHRtYXBNb2RlPXQsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50cmFuc2ZlclRleHR1cmVzVG9FZmZlY3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX2JpbmRMaWdodD1mdW5jdGlvbih0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSEwKTt2YXIgbz10LnRvU3RyaW5nKCksdT0hMTtpZih0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdChuLCJMaWdodCIrbyksdGhpcy5fcmVuZGVySWQhPT1yLmdldFJlbmRlcklkKCl8fHRoaXMuX2xhc3RVc2VTcGVjdWxhciE9PWF8fCF0aGlzLl91bmlmb3JtQnVmZmVyLnVzZVVibyl7dGhpcy5fcmVuZGVySWQ9ci5nZXRSZW5kZXJJZCgpLHRoaXMuX2xhc3RVc2VTcGVjdWxhcj1hO3ZhciBmPXRoaXMuZ2V0U2NhbGVkSW50ZW5zaXR5KCk7dGhpcy50cmFuc2ZlclRvRWZmZWN0KG4sbyksdGhpcy5kaWZmdXNlLnNjYWxlVG9SZWYoZixoci5Db2xvcjNbMF0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHREaWZmdXNlIixoci5Db2xvcjNbMF0sdGhpcy5yYW5nZSxvKSxhJiYodGhpcy5zcGVjdWxhci5zY2FsZVRvUmVmKGYsaHIuQ29sb3IzWzFdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0U3BlY3VsYXIiLGhyLkNvbG9yM1sxXSx0aGlzLnJhZGl1cyxvKSksdT0hMH1pZih0aGlzLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChuLG8pLHIuc2hhZG93c0VuYWJsZWQmJnRoaXMuc2hhZG93RW5hYmxlZCYmcyl7dmFyIGw9dGhpcy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtsJiYobC5iaW5kU2hhZG93TGlnaHQobyxuKSx1PSEwKX11P3RoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlKCk6dGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVW5pZm9ybUJ1ZmZlcigpfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTGlnaHQifSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXt2YXIgcj0iTmFtZTogIit0aGlzLm5hbWU7aWYocis9IiwgdHlwZTogIitbIlBvaW50IiwiRGlyZWN0aW9uYWwiLCJTcG90IiwiSGVtaXNwaGVyaWMiXVt0aGlzLmdldFR5cGVJRCgpXSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO3JldHVybiByfSxlLnByb3RvdHlwZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlLmNhbGwodGhpcyksdGhpcy5pc0Rpc3Bvc2VkKCl8fHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLnNldEVuYWJsZWQuY2FsbCh0aGlzLHQpLHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5nZXRTaGFkb3dHZW5lcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93R2VuZXJhdG9yfSxlLnByb3RvdHlwZS5nZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGIuWmVybygpfSxlLnByb3RvdHlwZS5jYW5BZmZlY3RNZXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0PyEodGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKHQpPT09LTF8fHRoaXMuZXhjbHVkZWRNZXNoZXMmJnRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJnRoaXMuZXhjbHVkZWRNZXNoZXMuaW5kZXhPZih0KSE9PS0xfHx0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayE9PTAmJiEodGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2smdC5sYXllck1hc2spfHx0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIT09MCYmdGhpcy5leGNsdWRlV2l0aExheWVyTWFzayZ0LmxheWVyTWFzayk6ITB9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fc2hhZG93R2VuZXJhdG9yJiYodGhpcy5fc2hhZG93R2VuZXJhdG9yLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dHZW5lcmF0b3I9bnVsbCksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgbj10aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLmluZGV4T2YodGhpcyk7bj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5zcGxpY2UobiwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1mb3IodmFyIGE9MCxzPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5fcmVtb3ZlTGlnaHRTb3VyY2UodGhpcywhMCl9dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUxpZ2h0KHRoaXMpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLmdldFR5cGVJRD1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRTY2FsZWRJbnRlbnNpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGhvdG9tZXRyaWNTY2FsZSp0aGlzLmludGVuc2l0eX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj1udWxsKTt2YXIgbj1lLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRUeXBlSUQoKSx0LHRoaXMuZ2V0U2NlbmUoKSk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGE9Si5DbG9uZShuLHRoaXMpO3JldHVybiB0JiYoYS5uYW1lPXQpLHImJihhLnBhcmVudD1yKSxhLnNldEVuYWJsZWQodGhpcy5pc0VuYWJsZWQoKSksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLGF9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PUouU2VyaWFsaXplKHRoaXMpO3JldHVybiB0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdC50eXBlPXRoaXMuZ2V0VHlwZUlEKCksdGhpcy5wYXJlbnQmJih0LnBhcmVudElkPXRoaXMucGFyZW50LnVuaXF1ZUlkKSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiYodC5leGNsdWRlZE1lc2hlc0lkcz1bXSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmZvckVhY2goZnVuY3Rpb24ocil7dC5leGNsdWRlZE1lc2hlc0lkcy5wdXNoKHIuaWQpfSkpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiYodC5pbmNsdWRlZE9ubHlNZXNoZXNJZHM9W10sdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMuZm9yRWFjaChmdW5jdGlvbihyKXt0LmluY2x1ZGVkT25seU1lc2hlc0lkcy5wdXNoKHIuaWQpfSkpLEouQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0LnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLHQuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksdH0sZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lPWZ1bmN0aW9uKHQscixuKXt2YXIgYT0kZS5Db25zdHJ1Y3QoIkxpZ2h0X1R5cGVfIit0LHIsbik7cmV0dXJuIGF8fG51bGx9LGUuUGFyc2U9ZnVuY3Rpb24odCxyKXt2YXIgbj1lLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodC50eXBlLHQubmFtZSxyKTtpZighbilyZXR1cm4gbnVsbDt2YXIgYT1KLlBhcnNlKG4sdCxyKTtpZih0LmV4Y2x1ZGVkTWVzaGVzSWRzJiYoYS5fZXhjbHVkZWRNZXNoZXNJZHM9dC5leGNsdWRlZE1lc2hlc0lkcyksdC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMmJihhLl9pbmNsdWRlZE9ubHlNZXNoZXNJZHM9dC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksdC5mYWxsb2ZmVHlwZSE9PXZvaWQgMCYmKGEuZmFsbG9mZlR5cGU9dC5mYWxsb2ZmVHlwZSksdC5saWdodG1hcE1vZGUhPT12b2lkIDAmJihhLmxpZ2h0bWFwTW9kZT10LmxpZ2h0bWFwTW9kZSksdC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPHQuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz10LmFuaW1hdGlvbnNbc10sdT1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZhLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX0kZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLHQscil9cmV0dXJuIHQuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24oYSx0LmF1dG9BbmltYXRlRnJvbSx0LmF1dG9BbmltYXRlVG8sdC5hdXRvQW5pbWF0ZUxvb3AsdC5hdXRvQW5pbWF0ZVNwZWVkfHwxKSx0LmlzRW5hYmxlZCE9PXZvaWQgMCYmYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxhfSxlLnByb3RvdHlwZS5faG9va0FycmF5Rm9yRXhjbHVkZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGY9W10sbD0wO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspZltsXT1hcmd1bWVudHNbbF07Zm9yKHZhciBoPW4uYXBwbHkodCxmKSxjPTAsZD1mO2M8ZC5sZW5ndGg7YysrKXt2YXIgcD1kW2NdO3AuX3Jlc3luY0xpZ2h0U291cmNlKHIpfXJldHVybiBofTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihmLGwpe2Zvcih2YXIgaD1hLmFwcGx5KHQsW2YsbF0pLGM9MCxkPWg7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5fcmVzeW5jTGlnaHRTb3VyY2Uocil9cmV0dXJuIGh9O2Zvcih2YXIgcz0wLG89dDtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTt1Ll9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX19LGUucHJvdG90eXBlLl9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHk9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspc1tvXT1hcmd1bWVudHNbb107dmFyIHU9bi5hcHBseSh0LHMpO3JldHVybiByLl9yZXN5bmNNZXNoZXMoKSx1fTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1PWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHIuX3Jlc3luY01lc2hlcygpLHV9LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5fcmVzeW5jTWVzaGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLmdldFNjZW5lKCkubWVzaGVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfX0sZS5wcm90b3R5cGUuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZuLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9fSxlLnByb3RvdHlwZS5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGU9ZnVuY3Rpb24oKXt0aGlzLl9waG90b21ldHJpY1NjYWxlPXRoaXMuX2dldFBob3RvbWV0cmljU2NhbGUoKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSxlLnByb3RvdHlwZS5fZ2V0UGhvdG9tZXRyaWNTY2FsZT1mdW5jdGlvbigpe3ZhciB0PTAscj10aGlzLmdldFR5cGVJRCgpLG49dGhpcy5pbnRlbnNpdHlNb2RlO3N3aXRjaChuPT09ZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyYmKHI9PT1lLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/bj1lLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6bj1lLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFkpLHIpe2Nhc2UgZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2UgZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ6c3dpdGNoKG4pe2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI6dD0xLyg0Kk1hdGguUEkpO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOnQ9MTticmVhaztjYXNlIGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6dD10aGlzLnJhZGl1cyp0aGlzLnJhZGl1czticmVha31icmVhaztjYXNlIGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVDpzd2l0Y2gobil7Y2FzZSBlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6dD0xO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTp7dmFyIGE9dGhpcy5yYWRpdXM7YT1NYXRoLm1heChhLC4wMDEpO3ZhciBzPTIqTWF0aC5QSSooMS1NYXRoLmNvcyhhKSk7dD1zO2JyZWFrfX1icmVhaztjYXNlIGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVDp0PTE7YnJlYWt9cmV0dXJuIHR9LGUucHJvdG90eXBlLl9yZW9yZGVyTGlnaHRzSW5TY2VuZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTt0aGlzLl9yZW5kZXJQcmlvcml0eSE9MCYmKHQucmVxdWlyZUxpZ2h0U29ydGluZz0hMCksdGhpcy5nZXRTY2VuZSgpLnNvcnRMaWdodHNCeVByaW9yaXR5KCl9LGUuRkFMTE9GRl9ERUZBVUxUPXhlLkZBTExPRkZfREVGQVVMVCxlLkZBTExPRkZfUEhZU0lDQUw9eGUuRkFMTE9GRl9QSFlTSUNBTCxlLkZBTExPRkZfR0xURj14ZS5GQUxMT0ZGX0dMVEYsZS5GQUxMT0ZGX1NUQU5EQVJEPXhlLkZBTExPRkZfU1RBTkRBUkQsZS5MSUdIVE1BUF9ERUZBVUxUPXhlLkxJR0hUTUFQX0RFRkFVTFQsZS5MSUdIVE1BUF9TUEVDVUxBUj14ZS5MSUdIVE1BUF9TUEVDVUxBUixlLkxJR0hUTUFQX1NIQURPV1NPTkxZPXhlLkxJR0hUTUFQX1NIQURPV1NPTkxZLGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9eGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9eGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSLGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWT14ZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZLGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT14ZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFLGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9eGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0UsZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPXhlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQsZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPXhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQsZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9eGUuTElHSFRUWVBFSURfU1BPVExJR0hULGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVD14ZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hULFQoW090KCldLGUucHJvdG90eXBlLCJkaWZmdXNlIix2b2lkIDApLFQoW090KCldLGUucHJvdG90eXBlLCJzcGVjdWxhciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJmYWxsb2ZmVHlwZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbnRlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicmFuZ2UiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImludGVuc2l0eU1vZGUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsInJhZGl1cyIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiX3JlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW25lKCJfcmVvcmRlckxpZ2h0c0luU2NlbmUiKV0sZS5wcm90b3R5cGUsInJlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW1AoInNoYWRvd0VuYWJsZWQiKV0sZS5wcm90b3R5cGUsIl9zaGFkb3dFbmFibGVkIix2b2lkIDApLFQoW1AoImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIildLGUucHJvdG90eXBlLCJfZXhjbHVkZVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbUCgiaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIildLGUucHJvdG90eXBlLCJfaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW1AoImxpZ2h0bWFwTW9kZSIpXSxlLnByb3RvdHlwZSwiX2xpZ2h0bWFwTW9kZSIsdm9pZCAwKSxlfSgkZSksU2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkJpbmRDbGlwUGxhbmU9ZnVuY3Rpb24oZSx0KXtpZih0LmNsaXBQbGFuZSl7dmFyIHI9dC5jbGlwUGxhbmU7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmUyKXt2YXIgcj10LmNsaXBQbGFuZTI7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUyIixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lMyl7dmFyIHI9dC5jbGlwUGxhbmUzO2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lMyIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX1pZih0LmNsaXBQbGFuZTQpe3ZhciByPXQuY2xpcFBsYW5lNDtlLnNldEZsb2F0NCgidkNsaXBQbGFuZTQiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmU1KXt2YXIgcj10LmNsaXBQbGFuZTU7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU1IixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lNil7dmFyIHI9dC5jbGlwUGxhbmU2O2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lNiIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX19LGl9KCksWT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3QuYmluZFRvRWZmZWN0KGUsIlNjZW5lIil9LGkuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVj1mdW5jdGlvbihlLHQscil7dC5fbmVlZFVWcz0hMCx0W3JdPSEwLGUuZ2V0VGV4dHVyZU1hdHJpeCgpLmlzSWRlbnRpdHlBczN4MigpPyh0W3IrIkRJUkVDVFVWIl09ZS5jb29yZGluYXRlc0luZGV4KzEsdFsiTUFJTlVWIisoZS5jb29yZGluYXRlc0luZGV4KzEpXT0hMCk6dFtyKyJESVJFQ1RVViJdPTB9LGkuQmluZFRleHR1cmVNYXRyaXg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuZ2V0VGV4dHVyZU1hdHJpeCgpO3QudXBkYXRlTWF0cml4KHIrIk1hdHJpeCIsbil9LGkuR2V0Rm9nU3RhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5mb2dFbmFibGVkJiZlLmFwcGx5Rm9nJiZ0LmZvZ01vZGUhPT1lZS5GT0dNT0RFX05PTkV9LGkuUHJlcGFyZURlZmluZXNGb3JNaXNjPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe28uX2FyZU1pc2NEaXJ0eSYmKG8uTE9HQVJJVEhNSUNERVBUSD1yLG8uUE9JTlRTSVpFPW4sby5GT0c9YSYmdGhpcy5HZXRGb2dTdGF0ZShlLHQpLG8uTk9OVU5JRk9STVNDQUxJTkc9ZS5ub25Vbmlmb3JtU2NhbGluZyxvLkFMUEhBVEVTVD1zKX0saS5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSExKTt2YXIgbz0hMSx1PSExLGY9ITEsbD0hMSxoPSExLGM9ITEsZD0hMTt1PWE/PyhlLmNsaXBQbGFuZSE9PXZvaWQgMCYmZS5jbGlwUGxhbmUhPT1udWxsKSxmPWE/PyhlLmNsaXBQbGFuZTIhPT12b2lkIDAmJmUuY2xpcFBsYW5lMiE9PW51bGwpLGw9YT8/KGUuY2xpcFBsYW5lMyE9PXZvaWQgMCYmZS5jbGlwUGxhbmUzIT09bnVsbCksaD1hPz8oZS5jbGlwUGxhbmU0IT09dm9pZCAwJiZlLmNsaXBQbGFuZTQhPT1udWxsKSxjPWE/PyhlLmNsaXBQbGFuZTUhPT12b2lkIDAmJmUuY2xpcFBsYW5lNSE9PW51bGwpLGQ9YT8/KGUuY2xpcFBsYW5lNiE9PXZvaWQgMCYmZS5jbGlwUGxhbmU2IT09bnVsbCksci5DTElQUExBTkUhPT11JiYoci5DTElQUExBTkU9dSxvPSEwKSxyLkNMSVBQTEFORTIhPT1mJiYoci5DTElQUExBTkUyPWYsbz0hMCksci5DTElQUExBTkUzIT09bCYmKHIuQ0xJUFBMQU5FMz1sLG89ITApLHIuQ0xJUFBMQU5FNCE9PWgmJihyLkNMSVBQTEFORTQ9aCxvPSEwKSxyLkNMSVBQTEFORTUhPT1jJiYoci5DTElQUExBTkU1PWMsbz0hMCksci5DTElQUExBTkU2IT09ZCYmKHIuQ0xJUFBMQU5FNj1kLG89ITApLHIuREVQVEhQUkVQQVNTIT09IXQuZ2V0Q29sb3JXcml0ZSgpJiYoci5ERVBUSFBSRVBBU1M9IXIuREVQVEhQUkVQQVNTLG89ITApLHIuSU5TVEFOQ0VTIT09biYmKHIuSU5TVEFOQ0VTPW4sbz0hMCksci5JTlNUQU5DRVNDT0xPUiYmIXIuSU5TVEFOQ0VTJiYoci5JTlNUQU5DRVNDT0xPUj0hMSxvPSEwKSxyLlRISU5fSU5TVEFOQ0VTIT09cyYmKHIuVEhJTl9JTlNUQU5DRVM9cyxvPSEwKSxvJiZyLm1hcmtBc1VucHJvY2Vzc2VkKCl9LGkuUHJlcGFyZURlZmluZXNGb3JCb25lcz1mdW5jdGlvbihlLHQpe2lmKGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKXt0Lk5VTV9CT05FX0lORkxVRU5DRVJTPWUubnVtQm9uZUluZmx1ZW5jZXJzO3ZhciByPXQuQk9ORVRFWFRVUkUhPT12b2lkIDA7aWYoZS5za2VsZXRvbi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZyKXQuQk9ORVRFWFRVUkU9ITA7ZWxzZXt0LkJvbmVzUGVyTWVzaD1lLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxLHQuQk9ORVRFWFRVUkU9cj8hMTp2b2lkIDA7dmFyIG49ZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlcjtpZihuJiZuLmVuYWJsZWQpe3ZhciBhPW4uZXhjbHVkZWRTa2lubmVkTWVzaC5pbmRleE9mKGUpPT09LTE7dC5CT05FU19WRUxPQ0lUWV9FTkFCTEVEPWF9fX1lbHNlIHQuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0LkJvbmVzUGVyTWVzaD0wfSxpLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tb3JwaFRhcmdldE1hbmFnZXI7cj8odC5NT1JQSFRBUkdFVFNfVVY9ci5zdXBwb3J0c1VWcyYmdC5VVjEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD1yLnN1cHBvcnRzVGFuZ2VudHMmJnQuVEFOR0VOVCx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9ci5zdXBwb3J0c05vcm1hbHMmJnQuTk9STUFMLHQuTU9SUEhUQVJHRVRTPXIubnVtSW5mbHVlbmNlcnM+MCx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1yLm51bUluZmx1ZW5jZXJzLHQuTU9SUEhUQVJHRVRTX1RFWFRVUkU9ci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpOih0Lk1PUlBIVEFSR0VUU19VVj0hMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHQuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0Lk1PUlBIVEFSR0VUUz0hMSx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wKX0saS5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI7dC5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ISEociYmci5pc0VuYWJsZWQpfSxpLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcz1mdW5jdGlvbihlLHQscixuLGEscyxvKXtpZihhPT09dm9pZCAwJiYoYT0hMSkscz09PXZvaWQgMCYmKHM9ITApLG89PT12b2lkIDAmJihvPSEwKSwhdC5fYXJlQXR0cmlidXRlc0RpcnR5JiZ0Ll9uZWVkTm9ybWFscz09PXQuX25vcm1hbHMmJnQuX25lZWRVVnM9PT10Ll91dnMpcmV0dXJuITE7dC5fbm9ybWFscz10Ll9uZWVkTm9ybWFscyx0Ll91dnM9dC5fbmVlZFVWcyx0Lk5PUk1BTD10Ll9uZWVkTm9ybWFscyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSx0Ll9uZWVkTm9ybWFscyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5UYW5nZW50S2luZCkmJih0LlRBTkdFTlQ9ITApO2Zvcih2YXIgdT0xO3U8PTY7Kyt1KXRbIlVWIit1XT10Ll9uZWVkVVZzP2UuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KCJ1diIuY29uY2F0KHU9PT0xPyIiOnUpKTohMTtpZihyKXt2YXIgZj1lLnVzZVZlcnRleENvbG9ycyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Db2xvcktpbmQpO3QuVkVSVEVYQ09MT1I9Zix0LlZFUlRFWEFMUEhBPWUuaGFzVmVydGV4QWxwaGEmJmYmJnN9cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uQ29sb3JJbnN0YW5jZUtpbmQpJiYoZS5oYXNJbnN0YW5jZXN8fGUuaGFzVGhpbkluc3RhbmNlcykmJih0LklOU1RBTkNFU0NPTE9SPSEwKSxuJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KSxhJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzKGUsdCksbyYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCksITB9LGkuUHJlcGFyZURlZmluZXNGb3JNdWx0aXZpZXc9ZnVuY3Rpb24oZSx0KXtpZihlLmFjdGl2ZUNhbWVyYSl7dmFyIHI9dC5NVUxUSVZJRVc7dC5NVUxUSVZJRVc9ZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0IT09bnVsbCYmZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0LmdldFZpZXdDb3VudCgpPjEsdC5NVUxUSVZJRVchPXImJnQubWFya0FzVW5wcm9jZXNzZWQoKX19LGkuUHJlcGFyZURlZmluZXNGb3JPSVQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZLGE9dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTO3QuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPWUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmcix0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9IWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZywobiE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZfHxhIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTKSYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfSxpLlByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcz1mdW5jdGlvbihlLHQscil7dmFyIG49dC5QUkVQQVNTO2lmKHQuX2FyZVByZVBhc3NEaXJ0eSl7dmFyIGE9W3t0eXBlOjEsZGVmaW5lOiJQUkVQQVNTX1BPU0lUSU9OIixpbmRleDoiUFJFUEFTU19QT1NJVElPTl9JTkRFWCJ9LHt0eXBlOjIsZGVmaW5lOiJQUkVQQVNTX1ZFTE9DSVRZIixpbmRleDoiUFJFUEFTU19WRUxPQ0lUWV9JTkRFWCJ9LHt0eXBlOjMsZGVmaW5lOiJQUkVQQVNTX1JFRkxFQ1RJVklUWSIsaW5kZXg6IlBSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYIn0se3R5cGU6MCxkZWZpbmU6IlBSRVBBU1NfSVJSQURJQU5DRSIsaW5kZXg6IlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWCJ9LHt0eXBlOjcsZGVmaW5lOiJQUkVQQVNTX0FMQkVET19TUVJUIixpbmRleDoiUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWCJ9LHt0eXBlOjUsZGVmaW5lOiJQUkVQQVNTX0RFUFRIIixpbmRleDoiUFJFUEFTU19ERVBUSF9JTkRFWCJ9LHt0eXBlOjYsZGVmaW5lOiJQUkVQQVNTX05PUk1BTCIsaW5kZXg6IlBSRVBBU1NfTk9STUFMX0lOREVYIn1dO2lmKGUucHJlUGFzc1JlbmRlcmVyJiZlLnByZVBhc3NSZW5kZXJlci5lbmFibGVkJiZyKXt0LlBSRVBBU1M9ITAsdC5TQ0VORV9NUlRfQ09VTlQ9ZS5wcmVQYXNzUmVuZGVyZXIubXJ0Q291bnQ7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBvPWUucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KGFbc10udHlwZSk7byE9PS0xPyh0W2Fbc10uZGVmaW5lXT0hMCx0W2Fbc10uaW5kZXhdPW8pOnRbYVtzXS5kZWZpbmVdPSExfX1lbHNle3QuUFJFUEFTUz0hMTtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl0W2Fbc10uZGVmaW5lXT0hMX10LlBSRVBBU1MhPW4mJih0Lm1hcmtBc1VucHJvY2Vzc2VkKCksdC5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpKX19LGkuUHJlcGFyZURlZmluZXNGb3JMaWdodD1mdW5jdGlvbihlLHQscixuLGEscyxvKXtzd2l0Y2goby5uZWVkTm9ybWFscz0hMCxhWyJMSUdIVCIrbl09PT12b2lkIDAmJihvLm5lZWRSZWJ1aWxkPSEwKSxhWyJMSUdIVCIrbl09ITAsYVsiU1BPVExJR0hUIituXT0hMSxhWyJIRU1JTElHSFQiK25dPSExLGFbIlBPSU5UTElHSFQiK25dPSExLGFbIkRJUkxJR0hUIituXT0hMSxyLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhhLG4pLGFbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK25dPSExLGFbIkxJR0hUX0ZBTExPRkZfR0xURiIrbl09ITEsYVsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrbl09ITEsci5mYWxsb2ZmVHlwZSl7Y2FzZSBldC5GQUxMT0ZGX0dMVEY6YVsiTElHSFRfRkFMTE9GRl9HTFRGIituXT0hMDticmVhaztjYXNlIGV0LkZBTExPRkZfUEhZU0lDQUw6YVsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrbl09ITA7YnJlYWs7Y2FzZSBldC5GQUxMT0ZGX1NUQU5EQVJEOmFbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK25dPSEwO2JyZWFrfWlmKHMmJiFyLnNwZWN1bGFyLmVxdWFsc0Zsb2F0cygwLDAsMCkmJihvLnNwZWN1bGFyRW5hYmxlZD0hMCksYVsiU0hBRE9XIituXT0hMSxhWyJTSEFET1dDU00iK25dPSExLGFbIlNIQURPV0NTTURFQlVHIituXT0hMSxhWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK25dPSExLGFbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK25dPSExLGFbIlNIQURPV0NTTU5PQkxFTkQiK25dPSExLGFbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrbl09ITEsYVsiU0hBRE9XUENGIituXT0hMSxhWyJTSEFET1dQQ1NTIituXT0hMSxhWyJTSEFET1dQT0lTU09OIituXT0hMSxhWyJTSEFET1dFU00iK25dPSExLGFbIlNIQURPV0NMT1NFRVNNIituXT0hMSxhWyJTSEFET1dDVUJFIituXT0hMSxhWyJTSEFET1dMT1dRVUFMSVRZIituXT0hMSxhWyJTSEFET1dNRURJVU1RVUFMSVRZIituXT0hMSx0JiZ0LnJlY2VpdmVTaGFkb3dzJiZlLnNoYWRvd3NFbmFibGVkJiZyLnNoYWRvd0VuYWJsZWQpe3ZhciB1PXIuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYodSl7dmFyIGY9dS5nZXRTaGFkb3dNYXAoKTtmJiZmLnJlbmRlckxpc3QmJmYucmVuZGVyTGlzdC5sZW5ndGg+MCYmKG8uc2hhZG93RW5hYmxlZD0hMCx1LnByZXBhcmVEZWZpbmVzKGEsbikpfX1yLmxpZ2h0bWFwTW9kZSE9ZXQuTElHSFRNQVBfREVGQVVMVD8oby5saWdodG1hcE1vZGU9ITAsYVsiTElHSFRNQVBFWENMVURFRCIrbl09ITAsYVsiTElHSFRNQVBOT1NQRUNVTEFSIituXT1yLmxpZ2h0bWFwTW9kZT09ZXQuTElHSFRNQVBfU0hBRE9XU09OTFkpOihhWyJMSUdIVE1BUEVYQ0xVREVEIituXT0hMSxhWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK25dPSExKX0saS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cz1mdW5jdGlvbihlLHQscixuLGEscyl7aWYoYT09PXZvaWQgMCYmKGE9NCkscz09PXZvaWQgMCYmKHM9ITEpLCFyLl9hcmVMaWdodHNEaXJ0eSlyZXR1cm4gci5fbmVlZE5vcm1hbHM7dmFyIG89MCx1PXtuZWVkTm9ybWFsczohMSxuZWVkUmVidWlsZDohMSxsaWdodG1hcE1vZGU6ITEsc2hhZG93RW5hYmxlZDohMSxzcGVjdWxhckVuYWJsZWQ6ITF9O2lmKGUubGlnaHRzRW5hYmxlZCYmIXMpZm9yKHZhciBmPTAsbD10LmxpZ2h0U291cmNlcztmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXTtpZih0aGlzLlByZXBhcmVEZWZpbmVzRm9yTGlnaHQoZSx0LGgsbyxyLG4sdSksbysrLG89PT1hKWJyZWFrfXIuU1BFQ1VMQVJURVJNPXUuc3BlY3VsYXJFbmFibGVkLHIuU0hBRE9XUz11LnNoYWRvd0VuYWJsZWQ7Zm9yKHZhciBjPW87YzxhO2MrKylyWyJMSUdIVCIrY10hPT12b2lkIDAmJihyWyJMSUdIVCIrY109ITEsclsiSEVNSUxJR0hUIitjXT0hMSxyWyJQT0lOVExJR0hUIitjXT0hMSxyWyJESVJMSUdIVCIrY109ITEsclsiU1BPVExJR0hUIitjXT0hMSxyWyJTSEFET1ciK2NdPSExLHJbIlNIQURPV0NTTSIrY109ITEsclsiU0hBRE9XQ1NNREVCVUciK2NdPSExLHJbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrY109ITEsclsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrY109ITEsclsiU0hBRE9XQ1NNTk9CTEVORCIrY109ITEsclsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitjXT0hMSxyWyJTSEFET1dQQ0YiK2NdPSExLHJbIlNIQURPV1BDU1MiK2NdPSExLHJbIlNIQURPV1BPSVNTT04iK2NdPSExLHJbIlNIQURPV0VTTSIrY109ITEsclsiU0hBRE9XQ0xPU0VFU00iK2NdPSExLHJbIlNIQURPV0NVQkUiK2NdPSExLHJbIlNIQURPV0xPV1FVQUxJVFkiK2NdPSExLHJbIlNIQURPV01FRElVTVFVQUxJVFkiK2NdPSExKTt2YXIgZD1lLmdldEVuZ2luZSgpLmdldENhcHMoKTtyZXR1cm4gci5TSEFET1dGTE9BVD09PXZvaWQgMCYmKHUubmVlZFJlYnVpbGQ9ITApLHIuU0hBRE9XRkxPQVQ9dS5zaGFkb3dFbmFibGVkJiYoZC50ZXh0dXJlRmxvYXRSZW5kZXImJmQudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxkLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJmQudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyksci5MSUdIVE1BUEVYQ0xVREVEPXUubGlnaHRtYXBNb2RlLHUubmVlZFJlYnVpbGQmJnIucmVidWlsZCgpLHUubmVlZE5vcm1hbHN9LGkuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodD1mdW5jdGlvbihlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9ITEpLGEmJmEucHVzaCgiTGlnaHQiK2UpLCFzJiYodC5wdXNoKCJ2TGlnaHREYXRhIitlLCJ2TGlnaHREaWZmdXNlIitlLCJ2TGlnaHRTcGVjdWxhciIrZSwidkxpZ2h0RGlyZWN0aW9uIitlLCJ2TGlnaHRGYWxsb2ZmIitlLCJ2TGlnaHRHcm91bmQiK2UsImxpZ2h0TWF0cml4IitlLCJzaGFkb3dzSW5mbyIrZSwiZGVwdGhWYWx1ZXMiK2UpLHIucHVzaCgic2hhZG93U2FtcGxlciIrZSksci5wdXNoKCJkZXB0aFNhbXBsZXIiK2UpLHQucHVzaCgidmlld0ZydXN0dW1aIitlLCJjYXNjYWRlQmxlbmRGYWN0b3IiK2UsImxpZ2h0U2l6ZVVWQ29ycmVjdGlvbiIrZSwiZGVwdGhDb3JyZWN0aW9uIitlLCJwZW51bWJyYURhcmtuZXNzIitlLCJmcnVzdHVtTGVuZ3RocyIrZSksbiYmKHIucHVzaCgicHJvamVjdGlvbkxpZ2h0U2FtcGxlciIrZSksdC5wdXNoKCJ0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCIrZSkpKX0saS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49NCk7dmFyIGEscz1udWxsO2lmKGUudW5pZm9ybXNOYW1lcyl7dmFyIG89ZTthPW8udW5pZm9ybXNOYW1lcyxzPW8udW5pZm9ybUJ1ZmZlcnNOYW1lcyx0PW8uc2FtcGxlcnMscj1vLmRlZmluZXMsbj1vLm1heFNpbXVsdGFuZW91c0xpZ2h0c3x8MH1lbHNlIGE9ZSx0fHwodD1bXSk7Zm9yKHZhciB1PTA7dTxuJiZyWyJMSUdIVCIrdV07dSsrKXRoaXMuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodCh1LGEsdCxyWyJQUk9KRUNURURMSUdIVFRFWFRVUkUiK3VdLHMpO3IuTlVNX01PUlBIX0lORkxVRU5DRVJTJiZhLnB1c2goIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIpLHIuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoYS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzIiksYS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQiKSxhLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGltZSIpLHQucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlIikpfSxpLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3M9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9NCksbj09PXZvaWQgMCYmKG49MCk7Zm9yKHZhciBhPTAscz0wO3M8ciYmZVsiTElHSFQiK3NdO3MrKylzPjAmJihhPW4rcyx0LmFkZEZhbGxiYWNrKGEsIkxJR0hUIitzKSksZS5TSEFET1dTfHwoZVsiU0hBRE9XIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1ciK3MpLGVbIlNIQURPV1BDRiIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XUENGIitzKSxlWyJTSEFET1dQQ1NTIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dQQ1NTIitzKSxlWyJTSEFET1dQT0lTU09OIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dQT0lTU09OIitzKSxlWyJTSEFET1dFU00iK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPV0VTTSIrcyksZVsiU0hBRE9XQ0xPU0VFU00iK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPV0NMT1NFRVNNIitzKSk7cmV0dXJuIGErK30saS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1yLHRoaXMuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoZSx0LHRoaXMuX1RtcE1vcnBoSW5mbHVlbmNlcnMpfSxpLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUztpZihuPjAmJnJlLkxhc3RDcmVhdGVkRW5naW5lKXt2YXIgYT1yZS5MYXN0Q3JlYXRlZEVuZ2luZS5nZXRDYXBzKCkubWF4VmVydGV4QXR0cmlicyxzPXQubW9ycGhUYXJnZXRNYW5hZ2VyO2lmKHMhPW51bGwmJnMuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtmb3IodmFyIG89cyYmcy5zdXBwb3J0c05vcm1hbHMmJnIuTk9STUFMLHU9cyYmcy5zdXBwb3J0c1RhbmdlbnRzJiZyLlRBTkdFTlQsZj1zJiZzLnN1cHBvcnRzVVZzJiZyLlVWMSxsPTA7bDxuO2wrKyllLnB1c2gobS5Qb3NpdGlvbktpbmQrbCksbyYmZS5wdXNoKG0uTm9ybWFsS2luZCtsKSx1JiZlLnB1c2gobS5UYW5nZW50S2luZCtsKSxmJiZlLnB1c2gobS5VVktpbmQrIl8iK2wpLGUubGVuZ3RoPmEmJmsuRXJyb3IoIkNhbm5vdCBhZGQgbW9yZSB2ZXJ0ZXggYXR0cmlidXRlcyBmb3IgbWVzaCAiK3QubmFtZSl9fSxpLlByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiZyLklOU1RBTkNFUztuJiZlLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQiKX0saS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzPWZ1bmN0aW9uKGUsdCxyLG4pe3IuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmKG4uYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLHQpLGUucHVzaChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHIuTlVNX0JPTkVfSU5GTFVFTkNFUlM+NCYmKGUucHVzaChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZS5wdXNoKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSkpfSxpLlByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzPWZ1bmN0aW9uKGUsdCl7KHQuSU5TVEFOQ0VTfHx0LlRISU5fSU5TVEFOQ0VTKSYmdGhpcy5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLCEhdC5QUkVQQVNTX1ZFTE9DSVRZKSx0LklOU1RBTkNFU0NPTE9SJiZlLnB1c2gobS5Db2xvckluc3RhbmNlS2luZCl9LGkuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXM9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSksZS5wdXNoKCJ3b3JsZDAiKSxlLnB1c2goIndvcmxkMSIpLGUucHVzaCgid29ybGQyIiksZS5wdXNoKCJ3b3JsZDMiKSx0JiYoZS5wdXNoKCJwcmV2aW91c1dvcmxkMCIpLGUucHVzaCgicHJldmlvdXNXb3JsZDEiKSxlLnB1c2goInByZXZpb3VzV29ybGQyIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMyIpKX0saS5CaW5kTGlnaHRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCxyKXtlLnRyYW5zZmVyVG9FZmZlY3QodCxyKyIiKX0saS5CaW5kTGlnaHQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSEwKSxlLl9iaW5kTGlnaHQodCxyLG4sYSxzKX0saS5CaW5kTGlnaHRzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9NCk7Zm9yKHZhciBzPU1hdGgubWluKHQubGlnaHRTb3VyY2VzLmxlbmd0aCxhKSxvPTA7bzxzO28rKyl7dmFyIHU9dC5saWdodFNvdXJjZXNbb107dGhpcy5CaW5kTGlnaHQodSxvLGUscix0eXBlb2Ygbj09ImJvb2xlYW4iP246bi5TUEVDVUxBUlRFUk0sdC5yZWNlaXZlU2hhZG93cyl9fSxpLkJpbmRGb2dQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSExKSxlLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJmUuZm9nTW9kZSE9PWVlLkZPR01PREVfTk9ORSYmKHIuc2V0RmxvYXQ0KCJ2Rm9nSW5mb3MiLGUuZm9nTW9kZSxlLmZvZ1N0YXJ0LGUuZm9nRW5kLGUuZm9nRGVuc2l0eSksbj8oZS5mb2dDb2xvci50b0xpbmVhclNwYWNlVG9SZWYodGhpcy5fVGVtcEZvZ0NvbG9yKSxyLnNldENvbG9yMygidkZvZ0NvbG9yIix0aGlzLl9UZW1wRm9nQ29sb3IpKTpyLnNldENvbG9yMygidkZvZ0NvbG9yIixlLmZvZ0NvbG9yKSl9LGkuQmluZEJvbmVzUGFyYW1ldGVycz1mdW5jdGlvbihlLHQscil7aWYoISghdHx8IWUpJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKSxlLnVzZUJvbmVzJiZlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZS5za2VsZXRvbikpe3ZhciBuPWUuc2tlbGV0b247aWYobi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZ0LmdldFVuaWZvcm1JbmRleCgiYm9uZVRleHR1cmVXaWR0aCIpPi0xKXt2YXIgYT1uLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZSk7dC5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsYSksdC5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCoobi5ib25lcy5sZW5ndGgrMSkpfWVsc2V7dmFyIHM9bi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhlKTtzJiYodC5zZXRNYXRyaWNlcygibUJvbmVzIixzKSxyJiZlLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyJiZlLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KDIpJiYoci5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdfHwoci5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdPXMuc2xpY2UoKSksdC5zZXRNYXRyaWNlcygibVByZXZpb3VzQm9uZXMiLHIucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSksaS5fQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhzLHIucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSkpKX19fSxpLl9Db3B5Qm9uZXNUcmFuc2Zvcm1hdGlvbk1hdHJpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc2V0KGUpLHR9LGkuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3ZhciByPWUubW9ycGhUYXJnZXRNYW5hZ2VyOyFlfHwhcnx8dC5zZXRGbG9hdEFycmF5KCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLHIuaW5mbHVlbmNlcyl9LGkuQmluZExvZ0RlcHRoPWZ1bmN0aW9uKGUsdCxyKXtpZighZXx8ZS5MT0dBUklUSE1JQ0RFUFRIKXt2YXIgbj1yLmFjdGl2ZUNhbWVyYTtuLm1vZGU9PT1PZS5PUlRIT0dSQVBISUNfQ0FNRVJBJiZrLkVycm9yKCJMb2dhcml0aG1pYyBkZXB0aCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG9ydGhvZ3JhcGhpYyBjYW1lcmFzISIsMjApLHQuc2V0RmxvYXQoImxvZ2FyaXRobWljRGVwdGhDb25zdGFudCIsMi8oTWF0aC5sb2cobi5tYXhaKzEpL01hdGguTE4yKSl9fSxpLkJpbmRDbGlwUGxhbmU9ZnVuY3Rpb24oZSx0KXtTYS5CaW5kQ2xpcFBsYW5lKGUsdCl9LGkuX1RtcE1vcnBoSW5mbHVlbmNlcnM9e05VTV9NT1JQSF9JTkZMVUVOQ0VSUzowfSxpLl9UZW1wRm9nQ29sb3I9YmUuQmxhY2soKSxpfSgpLE1hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMucmVzZXQoKX1yZXR1cm4gaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9NTE5LHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD03NjgwLHRoaXMub3BEZXB0aEZhaWw9NzY4MCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz03NjgxfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmNSZWYiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmNSZWY9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmNNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuY01hc2s9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wU3RlbmNpbEZhaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wU3RlbmNpbEZhaWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wRGVwdGhGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BEZXB0aEZhaWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wU3RlbmNpbERlcHRoUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3M9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21hc2s9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2VuYWJsZWQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTWF0ZXJpYWxTdGVuY2lsU3RhdGUifSxpLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24oZSl7Si5DbG9uZShmdW5jdGlvbigpe3JldHVybiBlfSx0aGlzKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIEouU2VyaWFsaXplKHRoaXMpfSxpLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG59LGUsdCxyKX0sVChbUCgpXSxpLnByb3RvdHlwZSwiZnVuYyIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwiZnVuY1JlZiIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwiZnVuY01hc2siLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsIm9wU3RlbmNpbEZhaWwiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsIm9wRGVwdGhGYWlsIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsIm1hc2siLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsImVuYWJsZWQiLG51bGwpLGl9KCksRGU7KGZ1bmN0aW9uKGkpe2lbaS5DcmVhdGVkPTFdPSJDcmVhdGVkIixpW2kuRGlzcG9zZWQ9Ml09IkRpc3Bvc2VkIixpW2kuR2V0RGVmaW5lTmFtZXM9NF09IkdldERlZmluZU5hbWVzIixpW2kuUHJlcGFyZVVuaWZvcm1CdWZmZXI9OF09IlByZXBhcmVVbmlmb3JtQnVmZmVyIixpW2kuSXNSZWFkeUZvclN1Yk1lc2g9MTZdPSJJc1JlYWR5Rm9yU3ViTWVzaCIsaVtpLlByZXBhcmVEZWZpbmVzPTMyXT0iUHJlcGFyZURlZmluZXMiLGlbaS5CaW5kRm9yU3ViTWVzaD02NF09IkJpbmRGb3JTdWJNZXNoIixpW2kuUHJlcGFyZUVmZmVjdD0xMjhdPSJQcmVwYXJlRWZmZWN0IixpW2kuR2V0QW5pbWF0YWJsZXM9MjU2XT0iR2V0QW5pbWF0YWJsZXMiLGlbaS5HZXRBY3RpdmVUZXh0dXJlcz01MTJdPSJHZXRBY3RpdmVUZXh0dXJlcyIsaVtpLkhhc1RleHR1cmU9MTAyNF09Ikhhc1RleHR1cmUiLGlbaS5GaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9MjA0OF09IkZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyIsaVtpLkhhc1JlbmRlclRhcmdldFRleHR1cmVzPTQwOTZdPSJIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyIsaVtpLkhhcmRCaW5kRm9yU3ViTWVzaD04MTkyXT0iSGFyZEJpbmRGb3JTdWJNZXNoIn0pKERlfHwoRGU9e30pKTt2YXIgRmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt0aGlzLnNoYWRvd0RlcHRoV3JhcHBlcj1udWxsLHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsPSExLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExLHRoaXMuc3RhdGU9IiIsdGhpcy5fYWxwaGE9MSx0aGlzLl9iYWNrRmFjZUN1bGxpbmc9ITAsdGhpcy5fY3VsbEJhY2tGYWNlcz0hMCx0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPW51bGwsdGhpcy5kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSExLHRoaXMuYW5pbWF0aW9ucz1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX29uQmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWxwaGFNb2RlPTIsdGhpcy5fbmVlZERlcHRoUHJlUGFzcz0hMSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlPSExLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGU9ITEsdGhpcy5mb3JjZURlcHRoV3JpdGU9ITEsdGhpcy5kZXB0aEZ1bmN0aW9uPTAsdGhpcy5zZXBhcmF0ZUN1bGxpbmdQYXNzPSExLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5wb2ludFNpemU9MSx0aGlzLnpPZmZzZXQ9MCx0aGlzLnpPZmZzZXRVbml0cz0wLHRoaXMuc3RlbmNpbD1uZXcgTWEsdGhpcy5fdXNlVUJPPSExLHRoaXMuX2ZpbGxNb2RlPWkuVHJpYW5nbGVGaWxsTW9kZSx0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT0wLHRoaXMuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSExLHRoaXMuX2V2ZW50SW5mbz17fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKCl7fSx0aGlzLl9mb3JjZUFscGhhVGVzdD0hMSx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPW51bGwsdGhpcy5uYW1lPWU7dmFyIG49dHx8cmUuTGFzdENyZWF0ZWRTY2VuZTtuJiYodGhpcy5fc2NlbmU9bix0aGlzLl9kaXJ0eUNhbGxiYWNrcz17fSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s0XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s4XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxNl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzYzXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuaWQ9ZXx8X2UuUmFuZG9tSWQoKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fbWF0ZXJpYWxDb250ZXh0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpLHRoaXMuX2RyYXdXcmFwcGVyPW5ldyBxdCh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSwhMSksdGhpcy5fZHJhd1dyYXBwZXIubWF0ZXJpYWxDb250ZXh0PXRoaXMuX21hdGVyaWFsQ29udGV4dCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT90aGlzLnNpZGVPcmllbnRhdGlvbj1pLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjp0aGlzLnNpZGVPcmllbnRhdGlvbj1pLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb24sdGhpcy5fdW5pZm9ybUJ1ZmZlcj1uZXcgRXIodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlKSx0aGlzLl91c2VVQk89dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMscnx8dGhpcy5fc2NlbmUuYWRkTWF0ZXJpYWwodGhpcyksdGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiYodGhpcy5tZXNoTWFwPXt9KSxpLk9uRXZlbnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLERlLkNyZWF0ZWQpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjYW5SZW5kZXJUb01SVCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGF9LHNldDpmdW5jdGlvbihlKXtpZih0aGlzLl9hbHBoYSE9PWUpe3ZhciB0PXRoaXMuX2FscGhhO3RoaXMuX2FscGhhPWUsKHQ9PT0xfHxlPT09MSkmJnRoaXMubWFya0FzRGlydHkoaS5NaXNjRGlydHlGbGFnKX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJiYWNrRmFjZUN1bGxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFja0ZhY2VDdWxsaW5nfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYmFja0ZhY2VDdWxsaW5nIT09ZSYmKHRoaXMuX2JhY2tGYWNlQ3VsbGluZz1lLHRoaXMubWFya0FzRGlydHkoaS5UZXh0dXJlRGlydHlGbGFnKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdWxsQmFja0ZhY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1bGxCYWNrRmFjZXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jdWxsQmFja0ZhY2VzIT09ZSYmKHRoaXMuX2N1bGxCYWNrRmFjZXM9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuVGV4dHVyZURpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRGlzcG9zZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX29uQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJpbmQiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25CaW5kT2JzZXJ2ZXImJnRoaXMub25CaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQmluZE9ic2VydmVyPXRoaXMub25CaW5kT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvblVuQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV8fCh0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FscGhhTW9kZSE9PWUmJih0aGlzLl9hbHBoYU1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuVGV4dHVyZURpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibmVlZERlcHRoUHJlUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZWVkRGVwdGhQcmVQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbmVlZERlcHRoUHJlUGFzcyE9PWUmJih0aGlzLl9uZWVkRGVwdGhQcmVQYXNzPWUsdGhpcy5fbmVlZERlcHRoUHJlUGFzcyYmKHRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsPSEwKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1ByZVBhc3NDYXBhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmb2dFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuTWlzY0RpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2lyZWZyYW1lIix7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIGkuV2lyZUZyYW1lRmlsbE1vZGU6Y2FzZSBpLkxpbmVMaXN0RHJhd01vZGU6Y2FzZSBpLkxpbmVMb29wRHJhd01vZGU6Y2FzZSBpLkxpbmVTdHJpcERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVdpcmVmcmFtZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZmlsbE1vZGU9ZT9pLldpcmVGcmFtZUZpbGxNb2RlOmkuVHJpYW5nbGVGaWxsTW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInBvaW50c0Nsb3VkIix7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIGkuUG9pbnRGaWxsTW9kZTpjYXNlIGkuUG9pbnRMaXN0RHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlUG9pbnRzQ2xvdWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZpbGxNb2RlPWU/aS5Qb2ludEZpbGxNb2RlOmkuVHJpYW5nbGVGaWxsTW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZpbGxNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGxNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZmlsbE1vZGUhPT1lJiYodGhpcy5fZmlsbE1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuTWlzY0RpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9nZXREcmF3V3JhcHBlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlcn0saS5wcm90b3R5cGUuX3NldERyYXdXcmFwcGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2RyYXdXcmFwcGVyPWV9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PSJOYW1lOiAiK3RoaXMubmFtZTtyZXR1cm4gdH0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0Zyb3plbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrUmVhZHlPbmx5T25jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSEwfSxpLnByb3RvdHlwZS51bmZyZWV6ZT1mdW5jdGlvbigpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITF9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hMH0saS5wcm90b3R5cGUuaXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQubWF0ZXJpYWxEZWZpbmVzO3JldHVybiBuPyh0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9bix0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpOiExfSxpLnByb3RvdHlwZS5nZXRFZmZlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fSxpLnByb3RvdHlwZS5nZXRTY2VuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2VuZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0cmFuc3BhcmVuY3lNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09ZSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9ZSx0aGlzLl9mb3JjZUFscGhhVGVzdD1lPT09aS5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9kaXNhYmxlQWxwaGFCbGVuZGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09aS5NQVRFUklBTF9PUEFRVUV8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1pLk1BVEVSSUFMX0FMUEhBVEVTVH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5uZWVkQWxwaGFCbGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF9LGkucHJvdG90eXBlLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmcmJmUudmlzaWJpbGl0eT49MT8hMTp0aGlzLm5lZWRBbHBoYUJsZW5kaW5nKCl8fGUudmlzaWJpbGl0eTwxfHxlLmhhc1ZlcnRleEFscGhhfSxpLnByb3RvdHlwZS5uZWVkQWxwaGFUZXN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9mb3JjZUFscGhhVGVzdH0saS5wcm90b3R5cGUuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbj1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMubmVlZEFscGhhVGVzdGluZygpfSxpLnByb3RvdHlwZS5nZXRBbHBoYVRlc3RUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYobi5zdWJNZXNoZXMpZm9yKHZhciBhPTAscz1uLnN1Yk1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLmdldE1hdGVyaWFsKCk9PT10aGlzJiZvLmVmZmVjdCYmKG8uZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEpfX19LGkucHJvdG90eXBlLl9wcmVCaW5kPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksbj10Pz90aGlzLnNpZGVPcmllbnRhdGlvbixhPW49PT1pLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjtyZXR1cm4gci5lbmFibGVFZmZlY3QoZXx8dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSksci5zZXRTdGF0ZSh0aGlzLmJhY2tGYWNlQ3VsbGluZyx0aGlzLnpPZmZzZXQsITEsYSx0aGlzLmN1bGxCYWNrRmFjZXMsdGhpcy5zdGVuY2lsLHRoaXMuek9mZnNldFVuaXRzKSxhfSxpLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUsdCl7fSxpLnByb3RvdHlwZS5idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl91bmlmb3JtQnVmZmVyO3RoaXMuX2V2ZW50SW5mby51Ym89ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcix0aGlzLl9ldmVudEluZm8pLGUuY3JlYXRlKCksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSEwfSxpLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscil7dmFyIG49ci5lZmZlY3Q7biYmKHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPXIsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbykpfSxpLnByb3RvdHlwZS5iaW5kT25seVdvcmxkTWF0cml4PWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuYmluZFZpZXc9ZnVuY3Rpb24oZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDplLnNldE1hdHJpeCgidmlldyIsdGhpcy5nZXRTY2VuZSgpLmdldFZpZXdNYXRyaXgoKSl9LGkucHJvdG90eXBlLmJpbmRWaWV3UHJvamVjdGlvbj1mdW5jdGlvbihlKXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOihlLnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksZS5zZXRNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRQcm9qZWN0aW9uTWF0cml4KCkpKX0saS5wcm90b3R5cGUuYmluZEV5ZVBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDp0aGlzLl9zY2VuZS5iaW5kRXllUG9zaXRpb24oZSx0KX0saS5wcm90b3R5cGUuX2FmdGVyQmluZD1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuX3NjZW5lLl9jYWNoZWRNYXRlcmlhbD10aGlzLHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibyYmdCYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMSxZLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodCx0aGlzLmdldFNjZW5lKCkuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSksZT90aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT1lLnZpc2liaWxpdHk6dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9MSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ci5nZXREZXB0aFdyaXRlKCksci5zZXREZXB0aFdyaXRlKCExKX1pZih0aGlzLmRpc2FibGVDb2xvcldyaXRlKXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWRDb2xvcldyaXRlU3RhdGU9ci5nZXRDb2xvcldyaXRlKCksci5zZXRDb2xvcldyaXRlKCExKX1pZih0aGlzLmRlcHRoRnVuY3Rpb24hPT0wKXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9ci5nZXREZXB0aEZ1bmN0aW9uKCl8fDAsci5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuZGVwdGhGdW5jdGlvbil9fSxpLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZSl9aWYodGhpcy5kaXNhYmxlRGVwdGhXcml0ZSl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5zZXREZXB0aFdyaXRlKHRoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZSl9aWYodGhpcy5kaXNhYmxlQ29sb3JXcml0ZSl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5zZXRDb2xvcldyaXRlKHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZSl9fSxpLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuR2V0QW5pbWF0YWJsZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXN9LGkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlcz1bXSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5HZXRBY3RpdmVUZXh0dXJlcyx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlc30saS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1RleHR1cmU9ITEsdGhpcy5fZXZlbnRJbmZvLnRleHR1cmU9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5IYXNUZXh0dXJlLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmhhc1RleHR1cmV9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5nZXRCaW5kZWRNZXNoZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMubWVzaE1hcCl7dmFyIHQ9bmV3IEFycmF5O2Zvcih2YXIgciBpbiB0aGlzLm1lc2hNYXApe3ZhciBuPXRoaXMubWVzaE1hcFtyXTtuJiZ0LnB1c2gobil9cmV0dXJuIHR9ZWxzZXt2YXIgYT10aGlzLl9zY2VuZS5tZXNoZXM7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiBzLm1hdGVyaWFsPT09ZX0pfX0saS5wcm90b3R5cGUuZm9yY2VDb21waWxhdGlvbj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLHM9YnQoe2NsaXBQbGFuZTohMSx1c2VJbnN0YW5jZXM6ITF9LHIpLG89dGhpcy5nZXRTY2VuZSgpLHU9dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nO3RoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMTt2YXIgZj1mdW5jdGlvbigpe2lmKCEoIWEuX3NjZW5lfHwhYS5fc2NlbmUuZ2V0RW5naW5lKCkpKXt2YXIgbD1vLmNsaXBQbGFuZTtpZihzLmNsaXBQbGFuZSYmKG8uY2xpcFBsYW5lPW5ldyBacigwLDAsMCwxKSksYS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7dmFyIGg9ITAsYz1udWxsO2lmKGUuc3ViTWVzaGVzKXt2YXIgZD1uZXcgU3QoMCwwLDAsMCwwLGUsdm9pZCAwLCExLCExKTtkLm1hdGVyaWFsRGVmaW5lcyYmKGQubWF0ZXJpYWxEZWZpbmVzLl9yZW5kZXJJZD0tMSksYS5pc1JlYWR5Rm9yU3ViTWVzaChlLGQscy51c2VJbnN0YW5jZXMpfHwoZC5lZmZlY3QmJmQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKSYmZC5lZmZlY3QuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCk/Yz1kLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCk6KGg9ITEsc2V0VGltZW91dChmLDE2KSkpfWgmJihhLmFsbG93U2hhZGVySG90U3dhcHBpbmc9dSxjJiZuJiZuKGMpLHQmJnQoYSkpfWVsc2UgYS5pc1JlYWR5KCk/KGEuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz11LHQmJnQoYSkpOnNldFRpbWVvdXQoZiwxNik7cy5jbGlwUGxhbmUmJihvLmNsaXBQbGFuZT1sKX19O2YoKX0saS5wcm90b3R5cGUuZm9yY2VDb21waWxhdGlvbkFzeW5jPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixhKXtyLmZvcmNlQ29tcGlsYXRpb24oZSxmdW5jdGlvbigpe24oKX0sdCxmdW5jdGlvbihzKXthKHMpfSl9KX0saS5wcm90b3R5cGUubWFya0FzRGlydHk9ZnVuY3Rpb24oZSl7dGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8KGkuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGg9MCxlJmkuVGV4dHVyZURpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fVGV4dHVyZURpcnR5Q2FsbEJhY2spLGUmaS5MaWdodERpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fTGlnaHRzRGlydHlDYWxsQmFjayksZSZpLkZyZXNuZWxEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKSxlJmkuQXR0cmlidXRlc0RpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fQXR0cmlidXRlRGlydHlDYWxsQmFjayksZSZpLk1pc2NEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX01pc2NEaXJ0eUNhbGxCYWNrKSxlJmkuUHJlUGFzc0RpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fUHJlUGFzc0RpcnR5Q2FsbEJhY2spLGkuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGgmJnRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX1J1bkRpcnR5Q2FsbEJhY2tzKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX0saS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcyx0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4uc3ViTWVzaGVzKWZvcih2YXIgYT0wLHM9bi5zdWJNZXNoZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5nZXRNYXRlcmlhbCgpPT09dGhpcyYmby5yZXNldERyYXdDYWNoZSgpfX19LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eT1mdW5jdGlvbihlKXtpZighdGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSlmb3IodmFyIHQ9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcyxyPTAsbj10O3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKGEuc3ViTWVzaGVzKWZvcih2YXIgcz0wLG89YS5zdWJNZXNoZXM7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107aWYoIShhLl9yZW5kZXJJZD09PTB8fHUuZ2V0TWF0ZXJpYWwoKSE9PXRoaXMpKWZvcih2YXIgZj0wLGw9dS5fZHJhd1dyYXBwZXJzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdOyFofHwhaC5kZWZpbmVzfHwhaC5kZWZpbmVzLm1hcmtBbGxBc0RpcnR5fHx0aGlzLl9tYXRlcmlhbENvbnRleHQ9PT1oLm1hdGVyaWFsQ29udGV4dCYmZShoLmRlZmluZXMpfX19fSxpLnByb3RvdHlwZS5fbWFya1NjZW5lUHJlUGFzc0RpcnR5PWZ1bmN0aW9uKCl7aWYoIXRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pe3ZhciBlPXRoaXMuZ2V0U2NlbmUoKS5lbmFibGVQcmVQYXNzUmVuZGVyZXIoKTtlJiZlLm1hcmtBc0RpcnR5KCl9fSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzQWxsRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9BbGxEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fVGV4dHVyZURpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fRnJlc25lbERpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0xpZ2h0c0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fQXR0cmlidXRlRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9NaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNQcmVQYXNzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9NaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLnNldFByZVBhc3NSZW5kZXJlcj1mdW5jdGlvbihlKXtyZXR1cm4hMX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5nZXRTY2VuZSgpO2lmKG4uc3RvcEFuaW1hdGlvbih0aGlzKSxuLmZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKSxuLnJlbW92ZU1hdGVyaWFsKHRoaXMpLHRoaXMuX2V2ZW50SW5mby5mb3JjZURpc3Bvc2VUZXh0dXJlcz10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKERlLkRpc3Bvc2VkLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgYT10aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7YT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5zcGxpY2UoYSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZihyIT09ITApaWYodGhpcy5tZXNoTWFwKWZvcih2YXIgcyBpbiB0aGlzLm1lc2hNYXApe3ZhciBvPXRoaXMubWVzaE1hcFtzXTtvJiYoby5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG8sZSkpfWVsc2UgZm9yKHZhciB1PW4ubWVzaGVzLGY9MCxsPXU7ZjxsLmxlbmd0aDtmKyspe3ZhciBvPWxbZl07by5tYXRlcmlhbD09PXRoaXMmJiFvLnNvdXJjZU1lc2gmJihvLm1hdGVyaWFsPW51bGwsdGhpcy5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QobyxlKSl9dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksZSYmdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0JiYodGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlc3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmRpc3Bvc2UoKSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9bnVsbCksdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZS5jbGVhcigpfSxpLnByb3RvdHlwZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSx0KXtpZihlLmdlb21ldHJ5KXt2YXIgcj1lLmdlb21ldHJ5O2lmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKHZhciBuPTAsYT1lLnN1Yk1lc2hlcztuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtyLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Qocy5lZmZlY3QpLHQmJnMuZWZmZWN0JiZzLmVmZmVjdC5kaXNwb3NlKCl9ZWxzZSByLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KX19LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPUouU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnN0ZW5jaWw9dGhpcy5zdGVuY2lsLnNlcmlhbGl6ZSgpLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyKXtpZighZS5jdXN0b21UeXBlKWUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIjtlbHNlIGlmKGUuY3VzdG9tVHlwZT09PSJCQUJZTE9OLlBCUk1hdGVyaWFsIiYmZS5vdmVybG9hZGVkQWxiZWRvJiYoZS5jdXN0b21UeXBlPSJCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsIiwhQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCkpcmV0dXJuIGsuRXJyb3IoIllvdXIgc2NlbmUgaXMgdHJ5aW5nIHRvIGxvYWQgYSBsZWdhY3kgdmVyc2lvbiBvZiB0aGUgUEJSTWF0ZXJpYWwsIHBsZWFzZSwgaW5jbHVkZSBpdCBmcm9tIHRoZSBtYXRlcmlhbHMgbGlicmFyeS4iKSxudWxsO3ZhciBuPV9lLkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSksYT1uLlBhcnNlKGUsdCxyKTtyZXR1cm4gYS5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxhfSxpLlRyaWFuZ2xlRmlsbE1vZGU9MCxpLldpcmVGcmFtZUZpbGxNb2RlPTEsaS5Qb2ludEZpbGxNb2RlPTIsaS5Qb2ludExpc3REcmF3TW9kZT0zLGkuTGluZUxpc3REcmF3TW9kZT00LGkuTGluZUxvb3BEcmF3TW9kZT01LGkuTGluZVN0cmlwRHJhd01vZGU9NixpLlRyaWFuZ2xlU3RyaXBEcmF3TW9kZT03LGkuVHJpYW5nbGVGYW5EcmF3TW9kZT04LGkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTAsaS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTEsaS5UZXh0dXJlRGlydHlGbGFnPTEsaS5MaWdodERpcnR5RmxhZz0yLGkuRnJlc25lbERpcnR5RmxhZz00LGkuQXR0cmlidXRlc0RpcnR5RmxhZz04LGkuTWlzY0RpcnR5RmxhZz0xNixpLlByZVBhc3NEaXJ0eUZsYWc9MzIsaS5BbGxEaXJ0eUZsYWc9NjMsaS5NQVRFUklBTF9PUEFRVUU9MCxpLk1BVEVSSUFMX0FMUEhBVEVTVD0xLGkuTUFURVJJQUxfQUxQSEFCTEVORD0yLGkuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQ9MyxpLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VUPTAsaS5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9STk09MSxpLk9uRXZlbnRPYnNlcnZhYmxlPW5ldyBPLGkuX0FsbERpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FsbEFzRGlydHkoKX0saS5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpfSxpLl9UZXh0dXJlRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNUZXh0dXJlc0RpcnR5KCl9LGkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0ZyZXNuZWxEaXJ0eSgpfSxpLl9NaXNjRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNNaXNjRGlydHkoKX0saS5fUHJlUGFzc0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzUHJlUGFzc0RpcnR5KCl9LGkuX0xpZ2h0c0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzTGlnaHREaXJ0eSgpfSxpLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxpLl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7aS5fRnJlc25lbERpcnR5Q2FsbEJhY2soZSksaS5fTWlzY0RpcnR5Q2FsbEJhY2soZSl9LGkuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtpLl9UZXh0dXJlRGlydHlDYWxsQmFjayhlKSxpLl9NaXNjRGlydHlDYWxsQmFjayhlKX0saS5fRGlydHlDYWxsYmFja0FycmF5PVtdLGkuX1J1bkRpcnR5Q2FsbEJhY2tzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9aS5fRGlydHlDYWxsYmFja0FycmF5O3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24oZSl9fSxUKFtQKCldLGkucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJjaGVja1JlYWR5T25seU9uY2UiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbUCgiYWxwaGEiKV0saS5wcm90b3R5cGUsIl9hbHBoYSIsdm9pZCAwKSxUKFtQKCJiYWNrRmFjZUN1bGxpbmciKV0saS5wcm90b3R5cGUsIl9iYWNrRmFjZUN1bGxpbmciLHZvaWQgMCksVChbUCgiY3VsbEJhY2tGYWNlcyIpXSxpLnByb3RvdHlwZSwiX2N1bGxCYWNrRmFjZXMiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic2lkZU9yaWVudGF0aW9uIix2b2lkIDApLFQoW1AoImFscGhhTW9kZSIpXSxpLnByb3RvdHlwZSwiX2FscGhhTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbmVlZERlcHRoUHJlUGFzcyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJkaXNhYmxlRGVwdGhXcml0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJkaXNhYmxlQ29sb3JXcml0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJmb3JjZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZGVwdGhGdW5jdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJzZXBhcmF0ZUN1bGxpbmdQYXNzIix2b2lkIDApLFQoW1AoImZvZ0VuYWJsZWQiKV0saS5wcm90b3R5cGUsIl9mb2dFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInBvaW50U2l6ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ6T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInpPZmZzZXRVbml0cyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJwb2ludHNDbG91ZCIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwiZmlsbE1vZGUiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeU1vZGUiLG51bGwpLGl9KCkscmk9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIsITApfHx0aGlzO3JldHVybiBuLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPVtdLG4uZ2V0U2NlbmUoKS5tdWx0aU1hdGVyaWFscy5wdXNoKG4pLG4uc3ViTWF0ZXJpYWxzPW5ldyBBcnJheSxuLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSEwLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic3ViTWF0ZXJpYWxzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1Yk1hdGVyaWFsc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N1Yk1hdGVyaWFscz10LHRoaXMuX2hvb2tBcnJheSh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN1Yk1hdGVyaWFsc30sZS5wcm90b3R5cGUuX2hvb2tBcnJheT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcz1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKylzW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1uLmFwcGx5KHQscyk7cmV0dXJuIHIuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSx1fTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1PWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHIuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSx1fX0sZS5wcm90b3R5cGUuZ2V0U3ViTWF0ZXJpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MHx8dD49dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoP3RoaXMuZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6dGhpcy5zdWJNYXRlcmlhbHNbdF19LGUucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9aS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXMuY2FsbCh0aGlzKSkuY29uY2F0LmFwcGx5KHQsdGhpcy5zdWJNYXRlcmlhbHMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByP3IuZ2V0QWN0aXZlVGV4dHVyZXMoKTpbXX0pKX0sZS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgcjtpZihpLnByb3RvdHlwZS5oYXNUZXh0dXJlLmNhbGwodGhpcyx0KSlyZXR1cm4hMDtmb3IodmFyIG49MDtuPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtuKyspaWYoISgocj10aGlzLnN1Yk1hdGVyaWFsc1tuXSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5oYXNUZXh0dXJlKHQpKXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlNYXRlcmlhbCJ9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9MDthPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDthKyspe3ZhciBzPXRoaXMuc3ViTWF0ZXJpYWxzW2FdO2lmKHMpe2lmKHMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFzLmlzUmVhZHlGb3JTdWJNZXNoKHQscixuKSlyZXR1cm4hMTtjb250aW51ZX1pZighcy5pc1JlYWR5KHQpKXJldHVybiExfX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49bmV3IGUodCx0aGlzLmdldFNjZW5lKCkpLGE9MDthPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDthKyspe3ZhciBzPW51bGwsbz10aGlzLnN1Yk1hdGVyaWFsc1thXTtyJiZvP3M9by5jbG9uZSh0KyItIitvLm5hbWUpOnM9dGhpcy5zdWJNYXRlcmlhbHNbYV0sbi5zdWJNYXRlcmlhbHMucHVzaChzKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e307dC5uYW1lPXRoaXMubmFtZSx0LmlkPXRoaXMuaWQsdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGNlJiYodC50YWdzPWNlLkdldFRhZ3ModGhpcykpLHQubWF0ZXJpYWxzVW5pcXVlSWRzPVtdLHQubWF0ZXJpYWxzPVtdO2Zvcih2YXIgcj0wO3I8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3IrKyl7dmFyIG49dGhpcy5zdWJNYXRlcmlhbHNbcl07bj8odC5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChuLnVuaXF1ZUlkKSx0Lm1hdGVyaWFscy5wdXNoKG4uaWQpKToodC5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChudWxsKSx0Lm1hdGVyaWFscy5wdXNoKG51bGwpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5nZXRTY2VuZSgpO2lmKGEpe2lmKG4pZm9yKHZhciBzPTA7czx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7cysrKXt2YXIgbz10aGlzLnN1Yk1hdGVyaWFsc1tzXTtvJiZvLmRpc3Bvc2UodCxyKX12YXIgdT1hLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7dT49MCYmYS5tdWx0aU1hdGVyaWFscy5zcGxpY2UodSwxKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfX0sZS5QYXJzZU11bHRpTWF0ZXJpYWw9ZnVuY3Rpb24odCxyKXt2YXIgbj1uZXcgZSh0Lm5hbWUscik7cmV0dXJuIG4uaWQ9dC5pZCxuLl9sb2FkZWRVbmlxdWVJZD10LnVuaXF1ZUlkLGNlJiZjZS5BZGRUYWdzVG8obix0LnRhZ3MpLHQubWF0ZXJpYWxzVW5pcXVlSWRzP24uX3dhaXRpbmdTdWJNYXRlcmlhbHNVbmlxdWVJZHM9dC5tYXRlcmlhbHNVbmlxdWVJZHM6dC5tYXRlcmlhbHMuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gbi5zdWJNYXRlcmlhbHMucHVzaChyLmdldExhc3RNYXRlcmlhbEJ5SWQoYSkpfSksbn0sZX0oRmUpO3dlKCJCQUJZTE9OLk11bHRpTWF0ZXJpYWwiLHJpKTt2YXIgQWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dGhpcy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLm1lc2g9dH1yZXR1cm4gaX0oKSxSYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5iYXRjaENhY2hlPW5ldyBzbix0aGlzLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU9bmV3IHNuLHRoaXMuaW5zdGFuY2VzQnVmZmVyU2l6ZT0zMioxNio0fXJldHVybiBpfSgpLHNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMubXVzdFJldHVybj0hMSx0aGlzLnZpc2libGVJbnN0YW5jZXM9bmV3IEFycmF5LHRoaXMucmVuZGVyU2VsZj1uZXcgQXJyYXksdGhpcy5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz1uZXcgQXJyYXl9cmV0dXJuIGl9KCksUGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5pbnN0YW5jZXNDb3VudD0wLHRoaXMubWF0cml4QnVmZmVyPW51bGwsdGhpcy5wcmV2aW91c01hdHJpeEJ1ZmZlcj1udWxsLHRoaXMubWF0cml4QnVmZmVyU2l6ZT0zMioxNix0aGlzLm1hdHJpeERhdGE9bnVsbCx0aGlzLmJvdW5kaW5nVmVjdG9ycz1bXSx0aGlzLndvcmxkTWF0cmljZXM9bnVsbH1yZXR1cm4gaX0oKSxDYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3ByZUFjdGl2YXRlSWQ9LTEsdGhpcy5fTE9ETGV2ZWxzPW5ldyBBcnJheSx0aGlzLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT0hMSx0aGlzLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2ZvcmNlZEluc3RhbmNlQ291bnQ9MH1yZXR1cm4gaX0oKSxRPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyxvKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxvPT09dm9pZCAwJiYobz0hMCk7dmFyIHU9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztpZih1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mbz1uZXcgQ2EsdS5kZWxheUxvYWRTdGF0ZT0wLHUuaW5zdGFuY2VzPW5ldyBBcnJheSx1Ll9jcmVhdGlvbkRhdGFTdG9yYWdlPW51bGwsdS5fZ2VvbWV0cnk9bnVsbCx1Ll9pbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBSYSx1Ll90aGluSW5zdGFuY2VEYXRhU3RvcmFnZT1uZXcgUGEsdS5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz0hMSx1Ll9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5ERUZBVUxUU0lERSx1Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249bnVsbCx1Lmlnbm9yZUNhbWVyYU1heFo9ITEscj11LmdldFNjZW5lKCksdS5fb25CZWZvcmVEcmF3PWZ1bmN0aW9uKHYseSxFKXt2JiZFJiYodS5fdW5pZm9ybUJ1ZmZlcj91LnRyYW5zZmVyVG9FZmZlY3QoeSk6RS5iaW5kT25seVdvcmxkTWF0cml4KHkpKX0sYSl7aWYoYS5fZ2VvbWV0cnkmJmEuX2dlb21ldHJ5LmFwcGx5VG9NZXNoKHUpLHpyLkRlZXBDb3B5KGEsdSxbIm5hbWUiLCJtYXRlcmlhbCIsInNrZWxldG9uIiwiaW5zdGFuY2VzIiwicGFyZW50IiwidW5pcXVlSWQiLCJzb3VyY2UiLCJtZXRhZGF0YSIsIm1vcnBoVGFyZ2V0TWFuYWdlciIsImhhc0luc3RhbmNlcyIsIndvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwicHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIsImhhc0xPRExldmVscyIsImdlb21ldHJ5IiwiaXNCbG9ja2VkIiwiYXJlTm9ybWFsc0Zyb3plbiIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJsaWdodFNvdXJjZXMiLCJ1c2VCb25lcyIsImlzQW5JbnN0YW5jZSIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiY2xvbmVNZXNoTWFwIiwiaGFzQm91bmRpbmdJbmZvIl0sWyJfcG9zZU1hdHJpeCJdKSx1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPWEsci51c2VDbG9uZWRNZXNoTWFwJiYoYS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcHx8KGEuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXA9e30pLGEuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdS51bmlxdWVJZF09dSksdS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPWEuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbix1Ll9jcmVhdGlvbkRhdGFTdG9yYWdlPWEuX2NyZWF0aW9uRGF0YVN0b3JhZ2UsYS5fcmFuZ2VzKXt2YXIgZj1hLl9yYW5nZXM7Zm9yKHZhciBsIGluIGYpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsbCkmJmZbbF0mJnUuY3JlYXRlQW5pbWF0aW9uUmFuZ2UobCxmW2xdLmZyb20sZltsXS50byl9aWYoYS5tZXRhZGF0YSYmYS5tZXRhZGF0YS5jbG9uZT91Lm1ldGFkYXRhPWEubWV0YWRhdGEuY2xvbmUoKTp1Lm1ldGFkYXRhPWEubWV0YWRhdGEsY2UmJmNlLkhhc1RhZ3MoYSkmJmNlLkFkZFRhZ3NUbyh1LGNlLkdldFRhZ3MoYSwhMCkpLHUuc2V0RW5hYmxlZChhLmlzRW5hYmxlZCgpKSx1LnBhcmVudD1hLnBhcmVudCx1LnNldFBpdm90TWF0cml4KGEuZ2V0UGl2b3RNYXRyaXgoKSksdS5pZD10KyIuIithLmlkLHUubWF0ZXJpYWw9YS5tYXRlcmlhbCwhcylmb3IodmFyIGg9YS5nZXREZXNjZW5kYW50cyghMCksYz0wO2M8aC5sZW5ndGg7YysrKXt2YXIgZD1oW2NdO2QuY2xvbmUmJmQuY2xvbmUodCsiLiIrZC5uYW1lLHUpfWlmKGEubW9ycGhUYXJnZXRNYW5hZ2VyJiYodS5tb3JwaFRhcmdldE1hbmFnZXI9YS5tb3JwaFRhcmdldE1hbmFnZXIpLHIuZ2V0UGh5c2ljc0VuZ2luZSl7dmFyIHA9ci5nZXRQaHlzaWNzRW5naW5lKCk7aWYobyYmcCl7dmFyIGc9cC5nZXRJbXBvc3RvckZvclBoeXNpY3NPYmplY3QoYSk7ZyYmKHUucGh5c2ljc0ltcG9zdG9yPWcuY2xvbmUodSkpfX1mb3IodmFyIGM9MDtjPHIucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtjKyspe3ZhciBfPXIucGFydGljbGVTeXN0ZW1zW2NdO18uZW1pdHRlcj09PWEmJl8uY2xvbmUoXy5uYW1lLHUpfXUuc2tlbGV0b249YS5za2VsZXRvbix1LnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHUuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1yZXR1cm4gbiE9PW51bGwmJih1LnBhcmVudD1uKSx1Ll9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPXUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyx1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkPWZ1bmN0aW9uKHYpe3YudW5yZWdpc3Rlck9uTmV4dENhbGw9ITAsdS5pc1JlYWR5KCEwKT91Lm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSk6dS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXJ8fCh1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj11Ll9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dS5pc1JlYWR5KCEwKSYmKHUuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPW51bGwsdS5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpKX0pKX0sdS5vbk1lc2hSZWFkeU9ic2VydmFibGU9bmV3IE8odS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZCksYSYmYS5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpLHV9cmV0dXJuIGUuX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHR8fGUuRlJPTlRTSURFfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZUxPRFNjcmVlbkNvdmVyYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PXQmJih0JiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zJiYodGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucz1udWxsLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmVmb3JlQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmV0d2VlblBhc3NPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZWZvcmVEcmF3T2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmVmb3JlRHJhdyIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciYmdGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciksdGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc0luc3RhbmNlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluc3RhbmNlcy5sZW5ndGg+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1RoaW5JbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4oKHQ9dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQpIT09bnVsbCYmdCE9PXZvaWQgMD90OjApPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb3JjZWRJbnN0YW5jZUNvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2xvbmVNZXNoTWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc1VuSW5kZXhlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91bkluZGV4ZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl91bkluZGV4ZWQhPT10JiYodGhpcy5fdW5JbmRleGVkPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwid29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNEYXRhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc1ByZXZpb3VzRGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hbnVhbFVwZGF0ZU9mV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibWFudWFsVXBkYXRlT2ZQcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaW5zdGFudGlhdGVIaWVyYXJjaHk9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PW51bGwpO3ZhciBhPXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpPjAmJighcnx8IXIuZG9Ob3RJbnN0YW50aWF0ZSk/dGhpcy5jcmVhdGVJbnN0YW5jZSgiaW5zdGFuY2Ugb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSk6dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSx0fHx0aGlzLnBhcmVudCwhMCk7YS5wYXJlbnQ9dHx8dGhpcy5wYXJlbnQsYS5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCksYS5zY2FsaW5nPXRoaXMuc2NhbGluZy5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk6YS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksbiYmbih0aGlzLGEpO2Zvcih2YXIgcz0wLG89dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTt1Lmluc3RhbnRpYXRlSGllcmFyY2h5KGEscixuKX1yZXR1cm4gYX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1lc2gifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9pc01lc2giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXt2YXIgcj1pLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMsdCk7aWYocis9IiwgbiB2ZXJ0aWNlczogIit0aGlzLmdldFRvdGFsVmVydGljZXMoKSxyKz0iLCBwYXJlbnQ6ICIrKHRoaXMuX3dhaXRpbmdQYXJlbnRJZD90aGlzLl93YWl0aW5nUGFyZW50SWQ6dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQubmFtZToiTk9ORSIpLHRoaXMuYW5pbWF0aW9ucylmb3IodmFyIG49MDtuPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7bisrKXIrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbbl0udG9TdHJpbmcodCk7aWYodClpZih0aGlzLl9nZW9tZXRyeSl7dmFyIGE9dGhpcy5nZXRJbmRpY2VzKCkscz10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCk7cyYmYSYmKHIrPSIsIGZsYXQgc2hhZGluZzogIisocy5sZW5ndGgvMz09PWEubGVuZ3RoPyJZRVMiOiJOTyIpKX1lbHNlIHIrPSIsIGZsYXQgc2hhZGluZzogVU5LTk9XTiI7cmV0dXJuIHJ9LGUucHJvdG90eXBlLl91bkJpbmRFZmZlY3Q9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5fdW5CaW5kRWZmZWN0LmNhbGwodGhpcyk7Zm9yKHZhciB0PTAscj10aGlzLmluc3RhbmNlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl91bkJpbmRFZmZlY3QoKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzTE9ETGV2ZWxzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TE9ETGV2ZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHN9LGUucHJvdG90eXBlLl9zb3J0TE9ETGV2ZWxzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlPy0xOjE7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5zb3J0KGZ1bmN0aW9uKHIsbil7cmV0dXJuIHIuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPG4uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlP3Q6ci5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+bi5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/LXQ6MH0pfSxlLnByb3RvdHlwZS5hZGRMT0RMZXZlbD1mdW5jdGlvbih0LHIpe2lmKHImJnIuX21hc3Rlck1lc2gpcmV0dXJuIGsuV2FybigiWW91IGNhbm5vdCB1c2UgYSBtZXNoIGFzIExPRCBsZXZlbCB0d2ljZSIpLHRoaXM7dmFyIG49bmV3IEFhKHQscik7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMucHVzaChuKSxyJiYoci5fbWFzdGVyTWVzaD10aGlzKSx0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc30sZS5wcm90b3R5cGUuZ2V0TE9ETGV2ZWxBdERpc3RhbmNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyxuPTA7bjxyLl9MT0RMZXZlbHMubGVuZ3RoO24rKyl7dmFyIGE9ci5fTE9ETGV2ZWxzW25dO2lmKGEuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPT09dClyZXR1cm4gYS5tZXNofXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5yZW1vdmVMT0RMZXZlbD1mdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8sbj0wO248ci5fTE9ETGV2ZWxzLmxlbmd0aDtuKyspci5fTE9ETGV2ZWxzW25dLm1lc2g9PT10JiYoci5fTE9ETGV2ZWxzLnNwbGljZShuLDEpLHQmJih0Ll9tYXN0ZXJNZXNoPW51bGwpKTtyZXR1cm4gdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9LGUucHJvdG90eXBlLmdldExPRD1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFuLl9MT0RMZXZlbHN8fG4uX0xPRExldmVscy5sZW5ndGg9PT0wKXJldHVybiB0aGlzO3ZhciBhO2lmKHIpYT1yO2Vsc2V7dmFyIHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTthPXMuYm91bmRpbmdTcGhlcmV9dmFyIG89YS5jZW50ZXJXb3JsZC5zdWJ0cmFjdCh0Lmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKSx1PW4uX3VzZUxPRFNjcmVlbkNvdmVyYWdlLGY9byxsPTE7aWYodSl7dmFyIGg9dC5zY3JlZW5BcmVhLGM9YS5yYWRpdXNXb3JsZCp0Lm1pblovbztjPWMqYypNYXRoLlBJLGY9Yy9oLGw9LTF9aWYobCpuLl9MT0RMZXZlbHNbbi5fTE9ETGV2ZWxzLmxlbmd0aC0xXS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+bCpmKXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihmLHRoaXMsdGhpcyksdGhpcztmb3IodmFyIGQ9MDtkPG4uX0xPRExldmVscy5sZW5ndGg7ZCsrKXt2YXIgcD1uLl9MT0RMZXZlbHNbZF07aWYobCpwLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxsKmYpe2lmKHAubWVzaCl7aWYocC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09NClyZXR1cm4gcC5tZXNoLl9jaGVja0RlbGF5U3RhdGUoKSx0aGlzO2lmKHAubWVzaC5kZWxheUxvYWRTdGF0ZT09PTIpcmV0dXJuIHRoaXM7cC5tZXNoLl9wcmVBY3RpdmF0ZSgpLHAubWVzaC5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpfXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihmLHRoaXMscC5tZXNoKSxwLm1lc2h9fXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihmLHRoaXMsdGhpcyksdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJnZW9tZXRyeSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PT09bnVsbHx8dGhpcy5fZ2VvbWV0cnk9PT12b2lkIDA/MDp0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCl9LGUucHJvdG90eXBlLmdldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0LHIsbil7dmFyIGEscztpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIG51bGw7dmFyIG89KHM9KGE9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEudmVydGV4QnVmZmVyc1t0XSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmdldEZsb2F0RGF0YSh0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCksbnx8ciYmdGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aCE9PTEpO3JldHVybiBvfHwobz10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGEodCxyLG4pKSxvfSxlLnByb3RvdHlwZS5nZXRWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24odCl7dmFyIHIsbjtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KG49KHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmVydGV4QnVmZmVyc1t0XSkhPT1udWxsJiZuIT09dm9pZCAwP246dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVyKHQpOm51bGx9LGUucHJvdG90eXBlLmlzVmVydGljZXNEYXRhUHJlc2VudD1mdW5jdGlvbih0KXt2YXIgcjtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KChyPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZlcnRleEJ1ZmZlcnNbdF0pIT09dm9pZCAwfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQodCk6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKHQpIT09LTE6ITF9LGUucHJvdG90eXBlLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlPWZ1bmN0aW9uKHQpe3ZhciByLG47cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pygobj0ocj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci52ZXJ0ZXhCdWZmZXJzW3RdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uaXNVcGRhdGFibGUoKSl8fHRoaXMuX2dlb21ldHJ5LmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKHQpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZih0KSE9PS0xOiExfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGFLaW5kcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9nZW9tZXRyeSl7dmFyIHQ9bmV3IEFycmF5O3JldHVybiB0aGlzLl9kZWxheUluZm8mJnRoaXMuX2RlbGF5SW5mby5mb3JFYWNoKGZ1bmN0aW9uKGEpe3QucHVzaChhKX0pLHR9dmFyIHI9dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhS2luZHMoKTtpZih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpZm9yKHZhciBuIGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKXIucHVzaChuKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuZ2V0VG90YWxJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldFRvdGFsSW5kaWNlcygpOjB9LGUucHJvdG90eXBlLmdldEluZGljZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kaWNlcyh0LHIpOltdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQmxvY2tlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoIT09bnVsbCYmdGhpcy5fbWFzdGVyTWVzaCE9PXZvaWQgMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQscil7dmFyIG4sYSxzLG8sdSxmO2lmKHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFpLnByb3RvdHlwZS5pc1JlYWR5LmNhbGwodGhpcyx0KSlyZXR1cm4hMTtpZighdGhpcy5zdWJNZXNoZXN8fHRoaXMuc3ViTWVzaGVzLmxlbmd0aD09PTB8fCF0KXJldHVybiEwO3ZhciBsPXRoaXMuZ2V0RW5naW5lKCksaD10aGlzLmdldFNjZW5lKCksYz1yfHxsLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJih0aGlzLmluc3RhbmNlcy5sZW5ndGg+MHx8dGhpcy5oYXNUaGluSW5zdGFuY2VzKTt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO3ZhciBkPXRoaXMubWF0ZXJpYWx8fGguZGVmYXVsdE1hdGVyaWFsO2lmKGQpe2lmKGQuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKHZhciBwPTAsZz10aGlzLnN1Yk1lc2hlcztwPGcubGVuZ3RoO3ArKyl7dmFyIF89Z1twXSx2PV8uZ2V0TWF0ZXJpYWwoKTtpZih2KXtpZih2Ll9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighdi5pc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLF8sYykpcmV0dXJuITF9ZWxzZSBpZighdi5pc1JlYWR5KHRoaXMsYykpcmV0dXJuITF9fWVsc2UgaWYoIWQuaXNSZWFkeSh0aGlzLGMpKXJldHVybiExfWZvcih2YXIgeT1sLmN1cnJlbnRSZW5kZXJQYXNzSWQsRT0wLFI9dGhpcy5saWdodFNvdXJjZXM7RTxSLmxlbmd0aDtFKyspe3ZhciBNPVJbRV0sQz1NLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKEMmJighKCEoKG49Qy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5yZW5kZXJMaXN0KXx8ISgoYT1DLmdldFNoYWRvd01hcCgpKT09PW51bGx8fGE9PT12b2lkIDApJiZhLnJlbmRlckxpc3QmJigobz0ocz1DLmdldFNoYWRvd01hcCgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyTGlzdCk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmluZGV4T2YodGhpcykpIT09LTEpKXtDLmdldFNoYWRvd01hcCgpJiYobC5jdXJyZW50UmVuZGVyUGFzc0lkPUMuZ2V0U2hhZG93TWFwKCkucmVuZGVyUGFzc0lkKTtmb3IodmFyIEE9MCxTPXRoaXMuc3ViTWVzaGVzO0E8Uy5sZW5ndGg7QSsrKXt2YXIgXz1TW0FdO2lmKCFDLmlzUmVhZHkoXyxjLChmPSh1PV8uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1Lm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0aGlzKSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6ITEpKXJldHVybiBsLmN1cnJlbnRSZW5kZXJQYXNzSWQ9eSwhMX1sLmN1cnJlbnRSZW5kZXJQYXNzSWQ9eX19Zm9yKHZhciB3PTAsRj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzO3c8Ri5sZW5ndGg7dysrKXt2YXIgeD1GW3ddO2lmKHgubWVzaCYmIXgubWVzaC5pc1JlYWR5KGMpKXJldHVybiExfXJldHVybiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFyZU5vcm1hbHNGcm96ZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZnJlZXplTm9ybWFscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMCx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZU5vcm1hbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvdmVycmlkZW5JbnN0YW5jZUNvdW50Iix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLHI9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7cmV0dXJuIHQuX3ByZUFjdGl2YXRlSWQ9PT1yP3RoaXM6KHQuX3ByZUFjdGl2YXRlSWQ9cix0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9bnVsbCx0aGlzKX0sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkPXQpLHRoaXN9LGUucHJvdG90eXBlLl9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXtkZWZhdWx0UmVuZGVySWQ6cixzZWxmRGVmYXVsdFJlbmRlcklkOnRoaXMuX3JlbmRlcklkfSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkIT09dm9pZCAwJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZF09bnVsbCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkPXIsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdPW5ldyBBcnJheSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdLnB1c2godCksdGhpc30sZS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4LmNhbGwodGhpcyksdGhpcy5oYXNUaGluSW5zdGFuY2VzJiYodGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm98fHRoaXMudGhpbkluc3RhbmNlUmVmcmVzaEJvdW5kaW5nSW5mbyghMSkpfSxlLnByb3RvdHlwZS5fcG9zdEFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5lZGdlc1JlbmRlcmVyJiZ0aGlzLmVkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9yZW5kZXJpbmdHcm91cCYmKHRoaXMuX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lZGdlc1JlbmRlcmVyKSx0aGlzLmVkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSl9LGUucHJvdG90eXBlLnJlZnJlc2hCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyKXtpZih0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuaGFzQm91bmRpbmdJbmZvJiZ0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzTG9ja2VkKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuZ2VvbWV0cnk/dGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEodCxyKSxuKSx0aGlzfSxlLnByb3RvdHlwZS5fY3JlYXRlR2xvYmFsU3ViTWVzaD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFRvdGFsVmVydGljZXMoKTtpZighcnx8IXRoaXMuZ2V0SW5kaWNlcygpKXJldHVybiBudWxsO2lmKHRoaXMuc3ViTWVzaGVzJiZ0aGlzLnN1Yk1lc2hlcy5sZW5ndGg+MCl7dmFyIG49dGhpcy5nZXRJbmRpY2VzKCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGE9bi5sZW5ndGgscz0hMTtpZih0KXM9ITA7ZWxzZSBmb3IodmFyIG89MCx1PXRoaXMuc3ViTWVzaGVzO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2lmKGYuaW5kZXhTdGFydCtmLmluZGV4Q291bnQ+YSl7cz0hMDticmVha31pZihmLnZlcnRpY2VzU3RhcnQrZi52ZXJ0aWNlc0NvdW50PnIpe3M9ITA7YnJlYWt9fWlmKCFzKXJldHVybiB0aGlzLnN1Yk1lc2hlc1swXX1yZXR1cm4gdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksbmV3IFN0KDAsMCxyLDAsdGhpcy5nZXRUb3RhbEluZGljZXMoKSx0aGlzKX0sZS5wcm90b3R5cGUuc3ViZGl2aWRlPWZ1bmN0aW9uKHQpe2lmKCEodDwxKSl7Zm9yKHZhciByPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCksbj1yL3R8MCxhPTA7biUzIT09MDspbisrO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2Zvcih2YXIgcz0wO3M8dCYmIShhPj1yKTtzKyspU3QuQ3JlYXRlRnJvbUluZGljZXMoMCxhLHM9PT10LTE/ci1hOm4sdGhpcyksYSs9bjt0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9fSxlLnByb3RvdHlwZS5zZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7aWYobj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX2dlb21ldHJ5KXRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzRGF0YSh0LHIsbixhKTtlbHNle3ZhciBzPW5ldyBnZTtzLnNldChyLHQpO3ZhciBvPXRoaXMuZ2V0U2NlbmUoKTtuZXcgTXQoTXQuUmFuZG9tSWQoKSxvLHMsbix0aGlzKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucmVtb3ZlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX2dlb21ldHJ5JiZ0aGlzLl9nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEodCl9LGUucHJvdG90eXBlLm1hcmtWZXJ0aWNlc0RhdGFBc1VwZGF0YWJsZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSEwKTt2YXIgbj10aGlzLmdldFZlcnRleEJ1ZmZlcih0KTshbnx8bi5pc1VwZGF0YWJsZSgpPT09cnx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEodCx0aGlzLmdldFZlcnRpY2VzRGF0YSh0KSxyKX0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNCdWZmZXI9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITApLHRoaXMuX2dlb21ldHJ5fHwodGhpcy5fZ2VvbWV0cnk9TXQuQ3JlYXRlR2VvbWV0cnlGb3JNZXNoKHRoaXMpKSx0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0J1ZmZlcih0LG51bGwsciksdGhpc30sZS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8oYT8odGhpcy5tYWtlR2VvbWV0cnlVbmlxdWUoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbiwhMSkpOnRoaXMuX2dlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbiksdGhpcyk6dGhpc30sZS5wcm90b3R5cGUudXBkYXRlTWVzaFBvc2l0aW9ucz1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSEwKTt2YXIgbj10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCk7aWYoIW4pcmV0dXJuIHRoaXM7aWYodChuKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxuLCExLCExKSxyKXt2YXIgYT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCk7aWYoIXMpcmV0dXJuIHRoaXM7Z2UuQ29tcHV0ZU5vcm1hbHMobixhLHMpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxzLCExLCExKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUubWFrZUdlb21ldHJ5VW5pcXVlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGg9PT0xKXJldHVybiB0aGlzO3ZhciB0PXRoaXMuX2dlb21ldHJ5LHI9dGhpcy5fZ2VvbWV0cnkuY29weShNdC5SYW5kb21JZCgpKTtyZXR1cm4gdC5yZWxlYXNlRm9yTWVzaCh0aGlzLCEwKSxyLmFwcGx5VG9NZXNoKHRoaXMpLHRoaXN9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyLG4pe2lmKHI9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPSExKSx0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRJbmRpY2VzKHQscixuKTtlbHNle3ZhciBhPW5ldyBnZTthLmluZGljZXM9dDt2YXIgcz10aGlzLmdldFNjZW5lKCk7bmV3IE10KE10LlJhbmRvbUlkKCkscyxhLG4sdGhpcyl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUluZGljZXM9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBuPT09dm9pZCAwJiYobj0hMSksdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnVwZGF0ZUluZGljZXModCxyLG4pLHRoaXMpOnRoaXN9LGUucHJvdG90eXBlLnRvTGVmdEhhbmRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudG9MZWZ0SGFuZGVkKCksdGhpcyk6dGhpc30sZS5wcm90b3R5cGUuX2JpbmQ9ZnVuY3Rpb24odCxyLG4pe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpczt2YXIgYT10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQocik7dmFyIHM7aWYodGhpcy5fdW5JbmRleGVkKXM9bnVsbDtlbHNlIHN3aXRjaChuKXtjYXNlIEZlLlBvaW50RmlsbE1vZGU6cz1udWxsO2JyZWFrO2Nhc2UgRmUuV2lyZUZyYW1lRmlsbE1vZGU6cz10Ll9nZXRMaW5lc0luZGV4QnVmZmVyKHRoaXMuZ2V0SW5kaWNlcygpLGEpO2JyZWFrO2RlZmF1bHQ6Y2FzZSBGZS5UcmlhbmdsZUZpbGxNb2RlOnM9dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKTticmVha31yZXR1cm4hdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXM/dGhpcy5fZ2VvbWV0cnkuX2JpbmQocixzKTp0aGlzLl9nZW9tZXRyeS5fYmluZChyLHMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyksdGhpc30sZS5wcm90b3R5cGUuX2RyYXc9ZnVuY3Rpb24odCxyLG4pe2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgYT10aGlzLmdldFNjZW5lKCkscz1hLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLl91bkluZGV4ZWR8fHI9PUZlLlBvaW50RmlsbE1vZGU/cy5kcmF3QXJyYXlzVHlwZShyLHQudmVydGljZXNTdGFydCx0LnZlcnRpY2VzQ291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxuKTpyPT1GZS5XaXJlRnJhbWVGaWxsTW9kZT9zLmRyYXdFbGVtZW50c1R5cGUociwwLHQuX2xpbmVzSW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fG4pOnMuZHJhd0VsZW1lbnRzVHlwZShyLHQuaW5kZXhTdGFydCx0LmluZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxuKSx0aGlzfSxlLnByb3RvdHlwZS5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQpLHRoaXN9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpLHRoaXN9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHQpLHRoaXN9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayh0KSx0aGlzfSxlLnByb3RvdHlwZS5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdD1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuKXtpZihyKXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbdF09ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLnJlbmRlclNlbGZbdF09ITAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlO2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNofXZhciBuPXRoaXMuZ2V0U2NlbmUoKSxhPW4uX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSxzPWE/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzLG89dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlO2lmKG8ubXVzdFJldHVybj0hMSxvLnJlbmRlclNlbGZbdF09cnx8IXMmJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlLG8udmlzaWJsZUluc3RhbmNlc1t0XT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmIXIpe3ZhciB1PXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyxmPW4uZ2V0UmVuZGVySWQoKSxsPWE/dS5pbnRlcm1lZGlhdGVEZWZhdWx0UmVuZGVySWQ6dS5kZWZhdWx0UmVuZGVySWQ7by52aXNpYmxlSW5zdGFuY2VzW3RdPXVbZl0sIW8udmlzaWJsZUluc3RhbmNlc1t0XSYmbCYmKG8udmlzaWJsZUluc3RhbmNlc1t0XT11W2xdKX1yZXR1cm4gby5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1t0XT0hciYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZyYmby52aXNpYmxlSW5zdGFuY2VzW3RdIT09bnVsbCYmby52aXNpYmxlSW5zdGFuY2VzW3RdIT09dm9pZCAwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1vLG99LGUucHJvdG90eXBlLl9yZW5kZXJXaXRoSW5zdGFuY2VzPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG8sdT1uLnZpc2libGVJbnN0YW5jZXNbdC5faWRdO2lmKCF1KXJldHVybiB0aGlzO2Zvcih2YXIgZj10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLGw9Zi5pbnN0YW5jZXNCdWZmZXJTaXplLGg9Zi5pbnN0YW5jZXNCdWZmZXIsYz1mLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyLGQ9dS5sZW5ndGgrMSxwPWQqMTYqNDtmLmluc3RhbmNlc0J1ZmZlclNpemU8cDspZi5pbnN0YW5jZXNCdWZmZXJTaXplKj0yOyghZi5pbnN0YW5jZXNEYXRhfHxsIT1mLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoZi5pbnN0YW5jZXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoZi5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKSwodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFmLmluc3RhbmNlc1ByZXZpb3VzRGF0YXx8bCE9Zi5pbnN0YW5jZXNCdWZmZXJTaXplKSYmKGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoZi5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKTt2YXIgZz0wLF89MCx2PW4ucmVuZGVyU2VsZlt0Ll9pZF0seT0haHx8bCE9PWYuaW5zdGFuY2VzQnVmZmVyU2l6ZXx8dGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFmLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2lmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmKCFmLmlzRnJvemVufHx5KSl7dmFyIEU9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2lmKHYmJih0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXg/KGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsZyksZi5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbShFKSk6KGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXg9RS5jbG9uZSgpLGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsZykpKSxFLmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzRGF0YSxnKSxnKz0xNixfKyspLHUpe2lmKGUuSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UJiZ0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEmJighKChvPXQuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxvPT09dm9pZCAwKSYmby5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godC5nZXRSZW5kZXJpbmdNZXNoKCkpKSl7Zm9yKHZhciBSPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbixNPTA7TTx1Lmxlbmd0aDtNKyspe3ZhciBDPXVbTV07Qy5fZGlzdGFuY2VUb0NhbWVyYT1iLkRpc3RhbmNlKEMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsUil9dS5zb3J0KGZ1bmN0aW9uKHcsRil7cmV0dXJuIHcuX2Rpc3RhbmNlVG9DYW1lcmE+Ri5fZGlzdGFuY2VUb0NhbWVyYT8tMTp3Ll9kaXN0YW5jZVRvQ2FtZXJhPEYuX2Rpc3RhbmNlVG9DYW1lcmE/MTowfSl9Zm9yKHZhciBNPTA7TTx1Lmxlbmd0aDtNKyspe3ZhciBBPXVbTV0sUz1BLmdldFdvcmxkTWF0cml4KCk7Uy5jb3B5VG9BcnJheShmLmluc3RhbmNlc0RhdGEsZyksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihBLl9wcmV2aW91c1dvcmxkTWF0cml4PyhBLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLGcpLEEuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oUykpOihBLl9wcmV2aW91c1dvcmxkTWF0cml4PVMuY2xvbmUoKSxBLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLGcpKSksZys9MTYsXysrfX19ZWxzZSBfPSh2PzE6MCkrdS5sZW5ndGg7cmV0dXJuIHk/KGgmJmguZGlzcG9zZSgpLGMmJmMuZGlzcG9zZSgpLGg9bmV3IFRyKHMsZi5pbnN0YW5jZXNEYXRhLCEwLDE2LCExLCEwKSxmLmluc3RhbmNlc0J1ZmZlcj1oLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZT17ZGF0YTp7fSx2ZXJ0ZXhCdWZmZXJzOnt9LHN0cmlkZXM6e30sc2l6ZXM6e30sdmVydGV4QXJyYXlPYmplY3RzOnRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0P3t9OnZvaWQgMH0pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMD1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMT1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQxIiw0LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMj1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQyIiw4LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMz1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQzIiwxMiw0KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKGM9bmV3IFRyKHMsZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsITAsMTYsITEsITApLGYuaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI9Yyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMD1jLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDAiLDAsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDE9Yy5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQxIiw0LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQyPWMuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMz1jLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDMiLDEyLDQpKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKTp0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVufHwoaC51cGRhdGVEaXJlY3RseShmLmluc3RhbmNlc0RhdGEsMCxfKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZXx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSkmJmMudXBkYXRlRGlyZWN0bHkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsMCxfKSksdGhpcy5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnModSx2KSx0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQodC5pbmRleENvdW50Kl8sITEpLHMuX2N1cnJlbnREcmF3Q29udGV4dCYmKHMuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKHQsYSxyKSx0aGlzLl9kcmF3KHQscixfKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIXkmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYhdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbiYmIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUmJmMudXBkYXRlRGlyZWN0bHkoZi5pbnN0YW5jZXNEYXRhLDAsXykscy51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKSx0aGlzfSxlLnByb3RvdHlwZS5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXM9ZnVuY3Rpb24odCxyLG4sYSl7dmFyIHMsbyx1PShvPShzPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuaW5zdGFuY2VzQ291bnQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOjA7dGhpcy5nZXRTY2VuZSgpLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHQuaW5kZXhDb3VudCp1LCExKSxhLl9jdXJyZW50RHJhd0NvbnRleHQmJihhLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMCksdGhpcy5fYmluZCh0LG4sciksdGhpcy5fZHJhdyh0LHIsdSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiF0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeERhdGEmJnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEmJih0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlcj90aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlci51cGRhdGVEaXJlY3RseSh0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhLDAsdSk6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI9dGhpcy5fdGhpbkluc3RhbmNlQ3JlYXRlTWF0cml4QnVmZmVyKCJwcmV2aW91c1dvcmxkIix0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhLCExKSksYS51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKX0sZS5wcm90b3R5cGUuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzPWZ1bmN0aW9uKHQscil7fSxlLnByb3RvdHlwZS5fcHJvY2Vzc1JlbmRlcmluZz1mdW5jdGlvbih0LHIsbixhLHMsbyx1LGYpe3ZhciBsPXRoaXMuZ2V0U2NlbmUoKSxoPWwuZ2V0RW5naW5lKCk7aWYobyYmci5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcylyZXR1cm4gdGhpcy5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXMocixhLG4saCksdGhpcztpZihvKXRoaXMuX3JlbmRlcldpdGhJbnN0YW5jZXMocixhLHMsbixoKTtlbHNle2guX2N1cnJlbnREcmF3Q29udGV4dCYmKGguX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSExKTt2YXIgYz0wO3MucmVuZGVyU2VsZltyLl9pZF0mJih1JiZ1KCExLHQuZ2V0V29ybGRNYXRyaXgoKSxmKSxjKyssdGhpcy5fZHJhdyhyLGEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50KSk7dmFyIGQ9cy52aXNpYmxlSW5zdGFuY2VzW3IuX2lkXTtpZihkKXt2YXIgcD1kLmxlbmd0aDtjKz1wO2Zvcih2YXIgZz0wO2c8cDtnKyspe3ZhciBfPWRbZ10sdj1fLmdldFdvcmxkTWF0cml4KCk7dSYmdSghMCx2LGYpLHRoaXMuX2RyYXcocixhKX19bC5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChyLmluZGV4Q291bnQqYywhMSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKHQpe2lmKHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHQmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Upe2Zvcih2YXIgciBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyl7dmFyIG49dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl07biYmKHQmJm4uZGlzcG9zZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdPW51bGwpfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9KX10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCxpLnByb3RvdHlwZS5fcmVidWlsZC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLl9mcmVlemU9ZnVuY3Rpb24oKXtpZih0aGlzLnN1Yk1lc2hlcyl7Zm9yKHZhciB0PTA7dDx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7dCsrKXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QodCk7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMH19LGUucHJvdG90eXBlLl91bkZyZWV6ZT1mdW5jdGlvbigpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW51bGx9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LHIsbil7dmFyIGEscyxvLHU9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExLHRoaXMuX2NoZWNrT2NjbHVzaW9uUXVlcnkoKSYmIXRoaXMuX29jY2x1c2lvbkRhdGFTdG9yYWdlLmZvcmNlUmVuZGVyaW5nV2hlbk9jY2x1ZGVkKXJldHVybiB0aGlzO3ZhciBmPXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QodC5faWQsISFuKTtpZihmLm11c3RSZXR1cm4pcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpczt2YXIgbD11LmdldEVuZ2luZSgpLGg9MCxjPW51bGw7dGhpcy5pZ25vcmVDYW1lcmFNYXhaJiZ1LmFjdGl2ZUNhbWVyYSYmIXUuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSYmKGg9dS5hY3RpdmVDYW1lcmEubWF4WixjPXUuYWN0aXZlQ2FtZXJhLHUuYWN0aXZlQ2FtZXJhLm1heFo9MCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciBkPWYuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbdC5faWRdfHx0LmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzLHA9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxnPXQuZ2V0TWF0ZXJpYWwoKTtpZighZylyZXR1cm4gYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztpZighcC5pc0Zyb3plbnx8IXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbHx8dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsIT09Zyl7aWYoZy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIWcuaXNSZWFkeUZvclN1Yk1lc2godGhpcyx0LGQpKXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfWVsc2UgaWYoIWcuaXNSZWFkeSh0aGlzLGQpKXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1nfWVsc2UgaWYoZy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChhPXQuZWZmZWN0KT09PW51bGx8fGE9PT12b2lkIDApJiZhLl93YXNQcmV2aW91c2x5UmVhZHkpfHwhZy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChzPWcuZ2V0RWZmZWN0KCkpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX3dhc1ByZXZpb3VzbHlSZWFkeSkpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7ciYmbC5zZXRBbHBoYU1vZGUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmFscGhhTW9kZSk7dmFyIF87dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP189dC5fZHJhd1dyYXBwZXI6Xz10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX2dldERyYXdXcmFwcGVyKCk7Zm9yKHZhciB2PShvPV89PW51bGw/dm9pZCAwOl8uZWZmZWN0KSE9PW51bGwmJm8hPT12b2lkIDA/bzpudWxsLHk9MCxFPXUuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZTt5PEUubGVuZ3RoO3krKyl7dmFyIFI9RVt5XTtSLmFjdGlvbih0aGlzLHQsZix2KX1pZighX3x8IXYpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dmFyIE09bnx8dGhpcyxDO2lmKCFwLmlzRnJvemVuJiYodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZ3x8dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIT09bnVsbCkpe3ZhciBBPU0uX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTtDPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixDPT1udWxsJiYoQz10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuc2lkZU9yaWVudGF0aW9uKSxBPDAmJihDPUM9PT1GZS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24/RmUuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjpGZS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24pLHAuc2lkZU9yaWVudGF0aW9uPUN9ZWxzZSBDPXAuc2lkZU9yaWVudGF0aW9uO3ZhciBTPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fcHJlQmluZChfLEMpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5mb3JjZURlcHRoV3JpdGUmJmwuc2V0RGVwdGhXcml0ZSghMCk7dmFyIHc9dS5mb3JjZVBvaW50c0Nsb3VkP0ZlLlBvaW50RmlsbE1vZGU6dS5mb3JjZVdpcmVmcmFtZT9GZS5XaXJlRnJhbWVGaWxsTW9kZTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZmlsbE1vZGU7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxkfHx0aGlzLl9iaW5kKHQsdix3KTt2YXIgRj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwseD1NLmdldFdvcmxkTWF0cml4KCk7Ri5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz9GLmJpbmRGb3JTdWJNZXNoKHgsdGhpcyx0KTpGLmJpbmQoeCx0aGlzKSwhRi5iYWNrRmFjZUN1bGxpbmcmJkYuc2VwYXJhdGVDdWxsaW5nUGFzcyYmKGwuc2V0U3RhdGUoITAsRi56T2Zmc2V0LCExLCFTLEYuY3VsbEJhY2tGYWNlcyxGLnN0ZW5jaWwsRi56T2Zmc2V0VW5pdHMpLHRoaXMuX3Byb2Nlc3NSZW5kZXJpbmcodGhpcyx0LHYsdyxmLGQsdGhpcy5fb25CZWZvcmVEcmF3LHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCksbC5zZXRTdGF0ZSghMCxGLnpPZmZzZXQsITEsUyxGLmN1bGxCYWNrRmFjZXMsRi5zdGVuY2lsLEYuek9mZnNldFVuaXRzKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpLHRoaXMuX3Byb2Nlc3NSZW5kZXJpbmcodGhpcyx0LHYsdyxmLGQsdGhpcy5fb25CZWZvcmVEcmF3LHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLnVuYmluZCgpO2Zvcih2YXIgRz0wLFc9dS5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2U7RzxXLmxlbmd0aDtHKyspe3ZhciBSPVdbR107Ui5hY3Rpb24odGhpcyx0LGYsdil9cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfSxlLnByb3RvdHlwZS5jbGVhbk1hdHJpeFdlaWdodHM9ZnVuY3Rpb24oKXt0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYodGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpP3RoaXMuX25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKTp0aGlzLl9ub3JtYWxpemVTa2luRm91cldlaWdodHMoKSl9LGUucHJvdG90eXBlLl9ub3JtYWxpemVTa2luRm91cldlaWdodHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxyPXQubGVuZ3RoLG49MDtuPHI7bis9NCl7dmFyIGE9dFtuXSt0W24rMV0rdFtuKzJdK3RbbiszXTtpZihhPT09MCl0W25dPTE7ZWxzZXt2YXIgcz0xL2E7dFtuXSo9cyx0W24rMV0qPXMsdFtuKzJdKj1zLHRbbiszXSo9c319dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHQpfSxlLnByb3RvdHlwZS5fbm9ybWFsaXplU2tpbldlaWdodHNBbmRFeHRyYT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkscj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLG49ci5sZW5ndGgsYT0wO2E8bjthKz00KXt2YXIgcz1yW2FdK3JbYSsxXStyW2ErMl0rclthKzNdO2lmKHMrPXRbYV0rdFthKzFdK3RbYSsyXSt0W2ErM10scz09PTApclthXT0xO2Vsc2V7dmFyIG89MS9zO3JbYV0qPW8sclthKzFdKj1vLHJbYSsyXSo9byxyW2ErM10qPW8sdFthXSo9byx0W2ErMV0qPW8sdFthKzJdKj1vLHRbYSszXSo9b319dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHIpLHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0KX0sZS5wcm90b3R5cGUudmFsaWRhdGVTa2lubmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSxyPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCk7aWYocj09PW51bGx8fHRoaXMuc2tlbGV0b249PW51bGwpcmV0dXJue3NraW5uZWQ6ITEsdmFsaWQ6ITAscmVwb3J0OiJub3Qgc2tpbm5lZCJ9O2Zvcih2YXIgbj1yLmxlbmd0aCxhPTAscz0wLG89MCx1PTAsZj10PT09bnVsbD80OjgsbD1uZXcgQXJyYXksaD0wO2g8PWY7aCsrKWxbaF09MDtmb3IodmFyIGM9LjAwMSxoPTA7aDxuO2grPTQpe2Zvcih2YXIgZD1yW2hdLHA9ZCxnPXA9PT0wPzA6MSxfPTE7XzxmO18rKyl7dmFyIHY9Xzw0P3JbaCtfXTp0W2grXy00XTt2PmQmJmErKyx2IT09MCYmZysrLHArPXYsZD12fWlmKGxbZ10rKyxnPm8mJihvPWcpLHA9PT0wKXMrKztlbHNle2Zvcih2YXIgeT0xL3AsRT0wLF89MDtfPGY7XysrKV88ND9FKz1NYXRoLmFicyhyW2grX10tcltoK19dKnkpOkUrPU1hdGguYWJzKHRbaCtfLTRdLXRbaCtfLTRdKnkpO0U+YyYmdSsrfX1mb3IodmFyIFI9dGhpcy5za2VsZXRvbi5ib25lcy5sZW5ndGgsTT10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLEM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLEE9MCxoPTA7aDxuO2grPTQpZm9yKHZhciBfPTA7XzxmO18rKyl7dmFyIFM9Xzw0P01baCtfXTpDW2grXy00XTsoUz49Unx8UzwwKSYmQSsrfXZhciB3PSJOdW1iZXIgb2YgV2VpZ2h0cyA9ICIrbi80K2AKTWF4aW11bSBpbmZsdWVuY2VzID0gYCtvK2AKTWlzc2luZyBXZWlnaHRzID0gYCtzK2AKTm90IFNvcnRlZCA9IGArYStgCk5vdCBOb3JtYWxpemVkID0gYCt1K2AKV2VpZ2h0Q291bnRzID0gW2ArbCtgXQpOdW1iZXIgb2YgYm9uZXMgPSBgK1IrYApCYWQgQm9uZSBJbmRpY2VzID0gYCtBO3JldHVybntza2lubmVkOiEwLHZhbGlkOnM9PT0wJiZ1PT09MCYmQT09PTAscmVwb3J0Ond9fSxlLnByb3RvdHlwZS5fY2hlY2tEZWxheVN0YXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTY2VuZSgpO3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5sb2FkKHQpOnRoaXMuZGVsYXlMb2FkU3RhdGU9PT00JiYodGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZCh0KSksdGhpc30sZS5wcm90b3R5cGUuX3F1ZXVlTG9hZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3QuX2FkZFBlbmRpbmdEYXRhKHRoaXMpO3ZhciBuPXRoaXMuZGVsYXlMb2FkaW5nRmlsZS5pbmRleE9mKCIuYmFieWxvbmJpbmFyeW1lc2hkYXRhIikhPT0tMTtyZXR1cm4gX2UuTG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9yLl9kZWxheUxvYWRpbmdGdW5jdGlvbihhLHIpOnIuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKEpTT04ucGFyc2UoYSksciksci5pbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihzKXtzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxzLl9zeW5jU3ViTWVzaGVzKCl9KSxyLmRlbGF5TG9hZFN0YXRlPTEsdC5fcmVtb3ZlUGVuZGluZ0RhdGEocil9LGZ1bmN0aW9uKCl7fSx0Lm9mZmxpbmVQcm92aWRlcixuKSx0aGlzfSxlLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFpLnByb3RvdHlwZS5pc0luRnJ1c3R1bS5jYWxsKHRoaXMsdCk/ITE6KHRoaXMuX2NoZWNrRGVsYXlTdGF0ZSgpLCEwKX0sZS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxCeUlkPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5tYXRlcmlhbHMsbjtmb3Iobj1yLmxlbmd0aC0xO24+LTE7bi0tKWlmKHJbbl0uaWQ9PT10KXJldHVybiB0aGlzLm1hdGVyaWFsPXJbbl0sdGhpczt2YXIgYT10aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHM7Zm9yKG49YS5sZW5ndGgtMTtuPi0xO24tLSlpZihhW25dLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbD1hW25dLHRoaXM7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5O3JldHVybiB0aGlzLm1hdGVyaWFsJiZ0LnB1c2godGhpcy5tYXRlcmlhbCksdGhpcy5za2VsZXRvbiYmdC5wdXNoKHRoaXMuc2tlbGV0b24pLHR9LGUucHJvdG90eXBlLmJha2VUcmFuc2Zvcm1JbnRvVmVydGljZXM9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLnN1Yk1lc2hlcy5zcGxpY2UoMCk7dGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7dmFyIG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpLGE9bmV3IEFycmF5LHM7Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrPTMpYi5UcmFuc2Zvcm1Db29yZGluYXRlcyhiLkZyb21BcnJheShuLHMpLHQpLnRvQXJyYXkoYSxzKTtpZih0aGlzLnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxhLHRoaXMuZ2V0VmVydGV4QnVmZmVyKG0uUG9zaXRpb25LaW5kKS5pc1VwZGF0YWJsZSgpKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpKXtmb3Iobj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpLGE9W10scz0wO3M8bi5sZW5ndGg7cys9MyliLlRyYW5zZm9ybU5vcm1hbChiLkZyb21BcnJheShuLHMpLHQpLm5vcm1hbGl6ZSgpLnRvQXJyYXkoYSxzKTt0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsYSx0aGlzLmdldFZlcnRleEJ1ZmZlcihtLk5vcm1hbEtpbmQpLmlzVXBkYXRhYmxlKCkpfXJldHVybiB0LmRldGVybWluYW50KCk8MCYmdGhpcy5mbGlwRmFjZXMoKSx0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLnN1Yk1lc2hlcz1yLHRoaXN9LGUucHJvdG90eXBlLmJha2VDdXJyZW50VHJhbnNmb3JtSW50b1ZlcnRpY2VzPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMCksdGhpcy5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5yZXNldExvY2FsTWF0cml4KHQpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX3Bvc2l0aW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zOnRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9wb3NpdGlvbnM6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcmVzZXRQb2ludHNBcnJheUNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5JiZ0aGlzLl9nZW9tZXRyeS5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCksdGhpc30sZS5wcm90b3R5cGUuX2dlbmVyYXRlUG9pbnRzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKTohMX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMCksbmV3IGUodCx0aGlzLmdldFNjZW5lKCkscix0aGlzLG4sYSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVsZWFzZUZvck1lc2godGhpcywhMCk7dmFyIG49dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYobi5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmbi5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5jbGVhcigpLG4uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJm4uX29uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSxuLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJm4uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLG4uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZuLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLG4uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZuLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lLnVzZUNsb25lZE1lc2hNYXApe2lmKG4ubWVzaE1hcClmb3IodmFyIGEgaW4gbi5tZXNoTWFwKXt2YXIgcz1uLm1lc2hNYXBbYV07cyYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCxuLm1lc2hNYXBbYV09dm9pZCAwKX1uLl9zb3VyY2UmJm4uX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcCYmKG4uX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApfWVsc2UgZm9yKHZhciBvPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMsdT0wLGY9bzt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XSxzPWw7cy5faW50ZXJuYWxNZXNoRGF0YUluZm8mJnMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2UmJnMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9PT10aGlzJiYocy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1udWxsKX1uLl9zb3VyY2U9bnVsbCx0aGlzLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGEoKSx0aGlzLl9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGE9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFwcGx5RGlzcGxhY2VtZW50TWFwPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe3ZhciBmPXRoaXM7dT09PXZvaWQgMCYmKHU9ITEpO3ZhciBsPXRoaXMuZ2V0U2NlbmUoKSxoPWZ1bmN0aW9uKGMpe3ZhciBkPWMud2lkdGgscD1jLmhlaWdodCxnPWYuZ2V0RW5naW5lKCkuY3JlYXRlQ2FudmFzKGQscCksXz1nLmdldENvbnRleHQoIjJkIik7Xy5kcmF3SW1hZ2UoYywwLDApO3ZhciB2PV8uZ2V0SW1hZ2VEYXRhKDAsMCxkLHApLmRhdGE7Zi5hcHBseURpc3BsYWNlbWVudE1hcEZyb21CdWZmZXIodixkLHAscixuLHMsbyx1KSxhJiZhKGYpfTtyZXR1cm4gX2UuTG9hZEltYWdlKHQsaCxmdW5jdGlvbigpe30sbC5vZmZsaW5lUHJvdmlkZXIpLHRoaXN9LGUucHJvdG90eXBlLmFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcj1mdW5jdGlvbih0LHIsbixhLHMsbyx1LGYpe2lmKGY9PT12b2lkIDAmJihmPSExKSwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Qb3NpdGlvbktpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSlyZXR1cm4gay5XYXJuKCJDYW5ub3QgY2FsbCBhcHBseURpc3BsYWNlbWVudE1hcDogR2l2ZW4gbWVzaCBpcyBub3QgY29tcGxldGUuIFBvc2l0aW9uLCBOb3JtYWwgb3IgVVYgYXJlIG1pc3NpbmciKSx0aGlzO3ZhciBsPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLCEwLCEwKSxoPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCksYz10aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWS2luZCksZD1iLlplcm8oKSxwPWIuWmVybygpLGc9U2UuWmVybygpO289b3x8U2UuWmVybygpLHU9dXx8bmV3IFNlKDEsMSk7Zm9yKHZhciBfPTA7XzxsLmxlbmd0aDtfKz0zKXtiLkZyb21BcnJheVRvUmVmKGwsXyxkKSxiLkZyb21BcnJheVRvUmVmKGgsXyxwKSxTZS5Gcm9tQXJyYXlUb1JlZihjLF8vMyoyLGcpO3ZhciB2PU1hdGguYWJzKGcueCp1Lngrby54JTEpKihyLTEpJXJ8MCx5PU1hdGguYWJzKGcueSp1Lnkrby55JTEpKihuLTEpJW58MCxFPSh2K3kqcikqNCxSPXRbRV0vMjU1LE09dFtFKzFdLzI1NSxDPXRbRSsyXS8yNTUsQT1SKi4zK00qLjU5K0MqLjExO3Aubm9ybWFsaXplKCkscC5zY2FsZUluUGxhY2UoYSsocy1hKSpBKSxkPWQuYWRkKHApLGQudG9BcnJheShsLF8pfXJldHVybiBnZS5Db21wdXRlTm9ybWFscyhsLHRoaXMuZ2V0SW5kaWNlcygpLGgpLGY/KHRoaXMuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLGwpLHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLlVWS2luZCxjKSk6KHRoaXMudXBkYXRlVmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLGwpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxoKSksdGhpc30sZS5wcm90b3R5cGUuY29udmVydFRvRmxhdFNoYWRlZE1lc2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YUtpbmRzKCkscj17fSxuPXt9LGE9e30scz0hMSxvLHU7Zm9yKG89MDtvPHQubGVuZ3RoO28rKyl7dT10W29dO3ZhciBmPXRoaXMuZ2V0VmVydGV4QnVmZmVyKHUpLGw9Zi5nZXREYXRhKCk7aWYoISgobCBpbnN0YW5jZW9mIEFycmF5fHxsIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSYmbC5sZW5ndGg9PT0wKSl7aWYodT09PW0uTm9ybWFsS2luZCl7cz1mLmlzVXBkYXRhYmxlKCksdC5zcGxpY2UobywxKSxvLS07Y29udGludWV9clt1XT1mLG5bdV09dGhpcy5nZXRWZXJ0aWNlc0RhdGEodSksYVt1XT1bXX19dmFyIGg9dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCksYz10aGlzLmdldEluZGljZXMoKSxkPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCkscDtmb3IocD0wO3A8ZDtwKyspe3ZhciBnPWNbcF07Zm9yKG89MDtvPHQubGVuZ3RoO28rKylpZih1PXRbb10sISFyW3VdKWZvcih2YXIgXz1yW3VdLmdldFN0cmlkZVNpemUoKSx2PTA7djxfO3YrKylhW3VdLnB1c2goblt1XVtnKl8rdl0pfXZhciB5PVtdLEU9YVttLlBvc2l0aW9uS2luZF0sUj10aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0sTTtmb3IoUj9NPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTE6TT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0wLHA9MDtwPGQ7cCs9Myl7Y1twXT1wLGNbcCsxXT1wKzEsY1twKzJdPXArMjt2YXIgQz1iLkZyb21BcnJheShFLHAqMyksQT1iLkZyb21BcnJheShFLChwKzEpKjMpLFM9Yi5Gcm9tQXJyYXkoRSwocCsyKSozKSx3PUMuc3VidHJhY3QoQSksRj1TLnN1YnRyYWN0KEEpLHg9Yi5Ob3JtYWxpemUoYi5Dcm9zcyh3LEYpKTtNJiZ4LnNjYWxlSW5QbGFjZSgtMSk7Zm9yKHZhciBHPTA7RzwzO0crKyl5LnB1c2goeC54KSx5LnB1c2goeC55KSx5LnB1c2goeC56KX1mb3IodGhpcy5zZXRJbmRpY2VzKGMpLHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCx5LHMpLG89MDtvPHQubGVuZ3RoO28rKyl1PXRbb10sYVt1XSYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEodSxhW3VdLHJbdV0uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciBXPTA7VzxoLmxlbmd0aDtXKyspe3ZhciBOPWhbV107U3QuQWRkVG9NZXNoKE4ubWF0ZXJpYWxJbmRleCxOLmluZGV4U3RhcnQsTi5pbmRleENvdW50LE4uaW5kZXhTdGFydCxOLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9VbkluZGV4ZWRNZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHI9e30sbj17fSxhPXt9LHMsbztmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtvPXRbc107dmFyIHU9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobyk7cltvXT11LG5bb109cltvXS5nZXREYXRhKCksYVtvXT1bXX12YXIgZj10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxsPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKSxjO2ZvcihjPTA7YzxoO2MrKyl7dmFyIGQ9bFtjXTtmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtvPXRbc107Zm9yKHZhciBwPXJbb10uZ2V0U3RyaWRlU2l6ZSgpLGc9MDtnPHA7ZysrKWFbb10ucHVzaChuW29dW2QqcCtnXSl9fWZvcihjPTA7YzxoO2MrPTMpbFtjXT1jLGxbYysxXT1jKzEsbFtjKzJdPWMrMjtmb3IodGhpcy5zZXRJbmRpY2VzKGwpLHM9MDtzPHQubGVuZ3RoO3MrKylvPXRbc10sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobyxhW29dLHJbb10uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciBfPTA7XzxmLmxlbmd0aDtfKyspe3ZhciB2PWZbX107U3QuQWRkVG9NZXNoKHYubWF0ZXJpYWxJbmRleCx2LmluZGV4U3RhcnQsdi5pbmRleENvdW50LHYuaW5kZXhTdGFydCx2LmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuX3VuSW5kZXhlZD0hMCx0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc30sZS5wcm90b3R5cGUuZmxpcEZhY2VzPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKTt2YXIgcj1nZS5FeHRyYWN0RnJvbU1lc2godGhpcyksbjtpZih0JiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpJiZyLm5vcm1hbHMpZm9yKG49MDtuPHIubm9ybWFscy5sZW5ndGg7bisrKXIubm9ybWFsc1tuXSo9LTE7aWYoci5pbmRpY2VzKXt2YXIgYT12b2lkIDA7Zm9yKG49MDtuPHIuaW5kaWNlcy5sZW5ndGg7bis9MylhPXIuaW5kaWNlc1tuKzFdLHIuaW5kaWNlc1tuKzFdPXIuaW5kaWNlc1tuKzJdLHIuaW5kaWNlc1tuKzJdPWF9cmV0dXJuIHIuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uUG9zaXRpb25LaW5kKSksdGhpc30sZS5wcm90b3R5cGUuaW5jcmVhc2VWZXJ0aWNlcz1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD0xKTt2YXIgcj1nZS5FeHRyYWN0RnJvbU1lc2godGhpcyksbj1yLmluZGljZXMmJiFBcnJheS5pc0FycmF5KHIuaW5kaWNlcykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLmluZGljZXMpOnIuaW5kaWNlcyxhPXIucG9zaXRpb25zJiYhQXJyYXkuaXNBcnJheShyLnBvc2l0aW9ucykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLnBvc2l0aW9ucyk6ci5wb3NpdGlvbnMscz1yLnV2cyYmIUFycmF5LmlzQXJyYXkoci51dnMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20oci51dnMpOnIudXZzLG89ci5ub3JtYWxzJiYhQXJyYXkuaXNBcnJheShyLm5vcm1hbHMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20oci5ub3JtYWxzKTpyLm5vcm1hbHM7aWYoIW58fCFhKWsuV2FybigiQ291bGRuJ3QgaW5jcmVhc2UgbnVtYmVyIG9mIHZlcnRpY2VzIDogVmVydGV4RGF0YSBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgaW5kaWNlcyBhbmQgcG9zaXRpb25zIik7ZWxzZXtyLmluZGljZXM9bixyLnBvc2l0aW9ucz1hLHMmJihyLnV2cz1zKSxvJiYoci5ub3JtYWxzPW8pO2Zvcih2YXIgdT10KzEsZj1uZXcgQXJyYXksbD0wO2w8dSsxO2wrKylmW2xdPW5ldyBBcnJheTt2YXIgaD12b2lkIDAsYz12b2lkIDAsZD1uZXcgYigwLDAsMCkscD1uZXcgYigwLDAsMCksZz1uZXcgU2UoMCwwKSxfPW5ldyBBcnJheSx2PW5ldyBBcnJheSx5PW5ldyBBcnJheSxFPXZvaWQgMCxSPWEubGVuZ3RoLE09dm9pZCAwO3MmJihNPXMubGVuZ3RoKTt2YXIgQz12b2lkIDA7byYmKEM9by5sZW5ndGgpO2Zvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCs9Myl7dlswXT1uW2xdLHZbMV09bltsKzFdLHZbMl09bltsKzJdO2Zvcih2YXIgQT0wO0E8MztBKyspaWYoaD12W0FdLGM9dlsoQSsxKSUzXSx5W2hdPT09dm9pZCAwJiZ5W2NdPT09dm9pZCAwPyh5W2hdPW5ldyBBcnJheSx5W2NdPW5ldyBBcnJheSk6KHlbaF09PT12b2lkIDAmJih5W2hdPW5ldyBBcnJheSkseVtjXT09PXZvaWQgMCYmKHlbY109bmV3IEFycmF5KSkseVtoXVtjXT09PXZvaWQgMCYmeVtjXVtoXT09PXZvaWQgMCl7eVtoXVtjXT1bXSxkLng9KGFbMypjXS1hWzMqaF0pL3UsZC55PShhWzMqYysxXS1hWzMqaCsxXSkvdSxkLno9KGFbMypjKzJdLWFbMypoKzJdKS91LG8mJihwLng9KG9bMypjXS1vWzMqaF0pL3UscC55PShvWzMqYysxXS1vWzMqaCsxXSkvdSxwLno9KG9bMypjKzJdLW9bMypoKzJdKS91KSxzJiYoZy54PShzWzIqY10tc1syKmhdKS91LGcueT0oc1syKmMrMV0tc1syKmgrMV0pL3UpLHlbaF1bY10ucHVzaChoKTtmb3IodmFyIFM9MTtTPHU7UysrKXlbaF1bY10ucHVzaChhLmxlbmd0aC8zKSxhW1IrK109YVszKmhdK1MqZC54LGFbUisrXT1hWzMqaCsxXStTKmQueSxhW1IrK109YVszKmgrMl0rUypkLnosbyYmKG9bQysrXT1vWzMqaF0rUypwLngsb1tDKytdPW9bMypoKzFdK1MqcC55LG9bQysrXT1vWzMqaCsyXStTKnAueikscyYmKHNbTSsrXT1zWzIqaF0rUypnLngsc1tNKytdPXNbMipoKzFdK1MqZy55KTt5W2hdW2NdLnB1c2goYykseVtjXVtoXT1uZXcgQXJyYXksRT15W2hdW2NdLmxlbmd0aDtmb3IodmFyIHc9MDt3PEU7dysrKXlbY11baF1bd109eVtoXVtjXVtFLTEtd119ZlswXVswXT1uW2xdLGZbMV1bMF09eVtuW2xdXVtuW2wrMV1dWzFdLGZbMV1bMV09eVtuW2xdXVtuW2wrMl1dWzFdO2Zvcih2YXIgUz0yO1M8dTtTKyspe2ZbU11bMF09eVtuW2xdXVtuW2wrMV1dW1NdLGZbU11bU109eVtuW2xdXVtuW2wrMl1dW1NdLGQueD0oYVszKmZbU11bU11dLWFbMypmW1NdWzBdXSkvUyxkLnk9KGFbMypmW1NdW1NdKzFdLWFbMypmW1NdWzBdKzFdKS9TLGQuej0oYVszKmZbU11bU10rMl0tYVszKmZbU11bMF0rMl0pL1MsbyYmKHAueD0ob1szKmZbU11bU11dLW9bMypmW1NdWzBdXSkvUyxwLnk9KG9bMypmW1NdW1NdKzFdLW9bMypmW1NdWzBdKzFdKS9TLHAuej0ob1szKmZbU11bU10rMl0tb1szKmZbU11bMF0rMl0pL1MpLHMmJihnLng9KHNbMipmW1NdW1NdXS1zWzIqZltTXVswXV0pL1MsZy55PShzWzIqZltTXVtTXSsxXS1zWzIqZltTXVswXSsxXSkvUyk7Zm9yKHZhciBBPTE7QTxTO0ErKylmW1NdW0FdPWEubGVuZ3RoLzMsYVtSKytdPWFbMypmW1NdWzBdXStBKmQueCxhW1IrK109YVszKmZbU11bMF0rMV0rQSpkLnksYVtSKytdPWFbMypmW1NdWzBdKzJdK0EqZC56LG8mJihvW0MrK109b1szKmZbU11bMF1dK0EqcC54LG9bQysrXT1vWzMqZltTXVswXSsxXStBKnAueSxvW0MrK109b1szKmZbU11bMF0rMl0rQSpwLnopLHMmJihzW00rK109c1syKmZbU11bMF1dK0EqZy54LHNbTSsrXT1zWzIqZltTXVswXSsxXStBKmcueSl9Zlt1XT15W25bbCsxXV1bbltsKzJdXSxfLnB1c2goZlswXVswXSxmWzFdWzBdLGZbMV1bMV0pO2Zvcih2YXIgUz0xO1M8dTtTKyspe3ZhciBBPXZvaWQgMDtmb3IoQT0wO0E8UztBKyspXy5wdXNoKGZbU11bQV0sZltTKzFdW0FdLGZbUysxXVtBKzFdKSxfLnB1c2goZltTXVtBXSxmW1MrMV1bQSsxXSxmW1NdW0ErMV0pO18ucHVzaChmW1NdW0FdLGZbUysxXVtBXSxmW1MrMV1bQSsxXSl9fXIuaW5kaWNlcz1fLHIuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uUG9zaXRpb25LaW5kKSl9fSxlLnByb3RvdHlwZS5mb3JjZVNoYXJlZFZlcnRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9Z2UuRXh0cmFjdEZyb21NZXNoKHRoaXMpLHI9dC51dnMsbj10LmluZGljZXMsYT10LnBvc2l0aW9ucyxzPXQuY29sb3JzO2lmKG49PT12b2lkIDB8fGE9PT12b2lkIDB8fG49PT1udWxsfHxhPT09bnVsbClrLldhcm4oIlZlcnRleERhdGEgY29udGFpbnMgZW1wdHkgZW50cmllcyIpO2Vsc2V7Zm9yKHZhciBvPW5ldyBBcnJheSx1PW5ldyBBcnJheSxmPW5ldyBBcnJheSxsPW5ldyBBcnJheSxoPW5ldyBBcnJheSxjPTAsZD17fSxwPXZvaWQgMCxnPXZvaWQgMCxfPTA7XzxuLmxlbmd0aDtfKz0zKXtnPVtuW19dLG5bXysxXSxuW18rMl1dLGg9bmV3IEFycmF5O2Zvcih2YXIgdj0wO3Y8Mzt2Kyspe2hbdl09IiI7Zm9yKHZhciB5PTA7eTwzO3krKylNYXRoLmFicyhhWzMqZ1t2XSt5XSk8MWUtOCYmKGFbMypnW3ZdK3ldPTApLGhbdl0rPWFbMypnW3ZdK3ldKyJ8In1pZighKGhbMF09PWhbMV18fGhbMF09PWhbMl18fGhbMV09PWhbMl0pKWZvcih2YXIgdj0wO3Y8Mzt2Kyspe2lmKHA9ZFtoW3ZdXSxwPT09dm9pZCAwKXtkW2hbdl1dPWMscD1jKys7Zm9yKHZhciB5PTA7eTwzO3krKylvLnB1c2goYVszKmdbdl0reV0pO2lmKHMhPW51bGwpZm9yKHZhciB5PTA7eTw0O3krKylsLnB1c2goc1s0Kmdbdl0reV0pO2lmKHIhPW51bGwpZm9yKHZhciB5PTA7eTwyO3krKylmLnB1c2goclsyKmdbdl0reV0pfXUucHVzaChwKX19dmFyIEU9bmV3IEFycmF5O2dlLkNvbXB1dGVOb3JtYWxzKG8sdSxFKSx0LnBvc2l0aW9ucz1vLHQuaW5kaWNlcz11LHQubm9ybWFscz1FLHIhPW51bGwmJih0LnV2cz1mKSxzIT1udWxsJiYodC5jb2xvcnM9bCksdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5Qb3NpdGlvbktpbmQpKX19LGUuX2luc3RhbmNlZE1lc2hGYWN0b3J5PWZ1bmN0aW9uKHQscil7dGhyb3cgWCgiSW5zdGFuY2VkTWVzaCIpfSxlLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXI9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFgoIlBoeXNpY3NJbXBvc3RvciIpfSxlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5faW5zdGFuY2VkTWVzaEZhY3RvcnkodCx0aGlzKX0sZS5wcm90b3R5cGUuc3luY2hyb25pemVJbnN0YW5jZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuaW5zdGFuY2VzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuaW5zdGFuY2VzW3RdO3IuX3N5bmNTdWJNZXNoZXMoKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUub3B0aW1pemVJbmRpY2VzPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj10aGlzLmdldEluZGljZXMoKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZighYXx8IW4pcmV0dXJuIHRoaXM7Zm9yKHZhciBzPW5ldyBBcnJheSxvPTA7bzxhLmxlbmd0aDtvPW8rMylzLnB1c2goYi5Gcm9tQXJyYXkoYSxvKSk7dmFyIHU9bmV3IEFycmF5O3JldHVybiBRbi5TeW5jQXN5bmNGb3JMb29wKHMubGVuZ3RoLDQwLGZ1bmN0aW9uKGYpe2Zvcih2YXIgbD1zLmxlbmd0aC0xLWYsaD1zW2xdLGM9MDtjPGw7KytjKXt2YXIgZD1zW2NdO2lmKGguZXF1YWxzKGQpKXt1W2xdPWM7YnJlYWt9fX0sZnVuY3Rpb24oKXtmb3IodmFyIGY9MDtmPG4ubGVuZ3RoOysrZiluW2ZdPXVbbltmXV18fG5bZl07dmFyIGw9ci5zdWJNZXNoZXMuc2xpY2UoMCk7ci5zZXRJbmRpY2VzKG4pLHIuc3ViTWVzaGVzPWwsdCYmdChyKX0pLHRoaXN9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXt0Lm5hbWU9dGhpcy5uYW1lLHQuaWQ9dGhpcy5pZCx0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdC50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksY2UmJmNlLkhhc1RhZ3ModGhpcykmJih0LnRhZ3M9Y2UuR2V0VGFncyh0aGlzKSksdC5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmFzQXJyYXkoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90LnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dGhpcy5yb3RhdGlvbiYmKHQucm90YXRpb249dGhpcy5yb3RhdGlvbi5hc0FycmF5KCkpLHQuc2NhbGluZz10aGlzLnNjYWxpbmcuYXNBcnJheSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4P3QucGl2b3RNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKTp0LmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoITEpLHQuaXNWaXNpYmxlPXRoaXMuaXNWaXNpYmxlLHQuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2UsdC5waWNrYWJsZT10aGlzLmlzUGlja2FibGUsdC5yZWNlaXZlU2hhZG93cz10aGlzLnJlY2VpdmVTaGFkb3dzLHQuYmlsbGJvYXJkTW9kZT10aGlzLmJpbGxib2FyZE1vZGUsdC52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSx0LmNoZWNrQ29sbGlzaW9ucz10aGlzLmNoZWNrQ29sbGlzaW9ucyx0LmlzQmxvY2tlcj10aGlzLmlzQmxvY2tlcix0Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHRoaXMucGFyZW50JiYodC5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksdC5pc1VuSW5kZXhlZD10aGlzLmlzVW5JbmRleGVkO3ZhciByPXRoaXMuX2dlb21ldHJ5O2lmKHImJnRoaXMuc3ViTWVzaGVzKXt0Lmdlb21ldHJ5VW5pcXVlSWQ9ci51bmlxdWVJZCx0Lmdlb21ldHJ5SWQ9ci5pZCx0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIG49MDtuPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtuKyspe3ZhciBhPXRoaXMuc3ViTWVzaGVzW25dO3Quc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6YS5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6YS52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6YS52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6YS5pbmRleFN0YXJ0LGluZGV4Q291bnQ6YS5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KHQubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLHQubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLHQubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsdC5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJih0Lm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYodC5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsdC5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KEJ0Lk5BTUVfUEhZU0lDU0VOR0lORSkpe3ZhciBzPXRoaXMuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7cyYmKHQucGh5c2ljc01hc3M9cy5nZXRQYXJhbSgibWFzcyIpLHQucGh5c2ljc0ZyaWN0aW9uPXMuZ2V0UGFyYW0oImZyaWN0aW9uIiksdC5waHlzaWNzUmVzdGl0dXRpb249cy5nZXRQYXJhbSgibWFzcyIpLHQucGh5c2ljc0ltcG9zdG9yPXMudHlwZSl9dGhpcy5tZXRhZGF0YSYmKHQubWV0YWRhdGE9dGhpcy5tZXRhZGF0YSksdC5pbnN0YW5jZXM9W107Zm9yKHZhciBvPTA7bzx0aGlzLmluc3RhbmNlcy5sZW5ndGg7bysrKXt2YXIgdT10aGlzLmluc3RhbmNlc1tvXTtpZighdS5kb05vdFNlcmlhbGl6ZSl7dmFyIGY9e25hbWU6dS5uYW1lLGlkOnUuaWQsaXNFbmFibGVkOnUuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6dS5pc1Zpc2libGUsaXNQaWNrYWJsZTp1LmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnUuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnUucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6dS5zY2FsaW5nLmFzQXJyYXkoKX07aWYodS5wYXJlbnQmJihmLnBhcmVudElkPXUucGFyZW50LnVuaXF1ZUlkKSx1LnJvdGF0aW9uUXVhdGVybmlvbj9mLnJvdGF0aW9uUXVhdGVybmlvbj11LnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dS5yb3RhdGlvbiYmKGYucm90YXRpb249dS5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KEJ0Lk5BTUVfUEhZU0lDU0VOR0lORSkpe3ZhciBzPXUuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7cyYmKGYucGh5c2ljc01hc3M9cy5nZXRQYXJhbSgibWFzcyIpLGYucGh5c2ljc0ZyaWN0aW9uPXMuZ2V0UGFyYW0oImZyaWN0aW9uIiksZi5waHlzaWNzUmVzdGl0dXRpb249cy5nZXRQYXJhbSgibWFzcyIpLGYucGh5c2ljc0ltcG9zdG9yPXMudHlwZSl9dS5tZXRhZGF0YSYmKGYubWV0YWRhdGE9dS5tZXRhZGF0YSksdC5pbnN0YW5jZXMucHVzaChmKSxKLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHUsZiksZi5yYW5nZXM9dS5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKX19aWYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQmJnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEmJih0LnRoaW5JbnN0YW5jZXM9e2luc3RhbmNlc0NvdW50OnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50LG1hdHJpeERhdGE6QXJyYXkuZnJvbSh0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhKSxtYXRyaXhCdWZmZXJTaXplOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemUsZW5hYmxlUGlja2luZzp0aGlzLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmd9LHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZSkpe3ZhciBsPXtkYXRhOnt9LHNpemVzOnt9LHN0cmlkZXM6e319O2Zvcih2YXIgaCBpbiB0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UuZGF0YSlsLmRhdGFbaF09QXJyYXkuZnJvbSh0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UuZGF0YVtoXSksbC5zaXplc1toXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaF0sbC5zdHJpZGVzW2hdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW2hdO3QudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlPWx9Si5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHQucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksdC5sYXllck1hc2s9dGhpcy5sYXllck1hc2ssdC5hbHBoYUluZGV4PXRoaXMuYWxwaGFJbmRleCx0Lmhhc1ZlcnRleEFscGhhPXRoaXMuaGFzVmVydGV4QWxwaGEsdC5vdmVybGF5QWxwaGE9dGhpcy5vdmVybGF5QWxwaGEsdC5vdmVybGF5Q29sb3I9dGhpcy5vdmVybGF5Q29sb3IuYXNBcnJheSgpLHQucmVuZGVyT3ZlcmxheT10aGlzLnJlbmRlck92ZXJsYXksdC5hcHBseUZvZz10aGlzLmFwcGx5Rm9nLHRoaXMuYWN0aW9uTWFuYWdlciYmKHQuYWN0aW9ucz10aGlzLmFjdGlvbk1hbmFnZXIuc2VyaWFsaXplKHRoaXMubmFtZSkpfSxlLnByb3RvdHlwZS5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcj1mdW5jdGlvbigpe2lmKHRoaXMuZ2VvbWV0cnkpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcjtpZih0JiZ0LnZlcnRleENvdW50KXtpZih0LnZlcnRleENvdW50IT09dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkpe2suRXJyb3IoIk1lc2ggaXMgaW5jb21wYXRpYmxlIHdpdGggbW9ycGggdGFyZ2V0cy4gVGFyZ2V0cyBhbmQgbWVzaCBtdXN0IGFsbCBoYXZlIHRoZSBzYW1lIHZlcnRpY2VzIGNvdW50LiIpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGw7cmV0dXJufWlmKHQuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtmb3IodmFyIHI9MDtyPHQubnVtSW5mbHVlbmNlcnM7cisrKXt2YXIgbj10LmdldEFjdGl2ZVRhcmdldChyKSxhPW4uZ2V0UG9zaXRpb25zKCk7aWYoIWEpe2suRXJyb3IoIkludmFsaWQgbW9ycGggdGFyZ2V0LiBUYXJnZXQgbXVzdCBoYXZlIHBvc2l0aW9ucy4iKTtyZXR1cm59dGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQrcixhLCExLDMpO3ZhciBzPW4uZ2V0Tm9ybWFscygpO3MmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCtyLHMsITEsMyk7dmFyIG89bi5nZXRUYW5nZW50cygpO28mJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQrcixvLCExLDMpO3ZhciB1PW4uZ2V0VVZzKCk7dSYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQrIl8iK3IsdSwhMSwyKX19ZWxzZSBmb3IodmFyIHI9MDt0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChtLlBvc2l0aW9uS2luZCtyKTspdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kK3IpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5UYW5nZW50S2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCtyKSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWS2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5VVktpbmQrIl8iK3IpLHIrK319LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3ZhciBhO2lmKHQudHlwZSYmdC50eXBlPT09IkxpbmVzTWVzaCI/YT1lLl9MaW5lc01lc2hQYXJzZXIodCxyKTp0LnR5cGUmJnQudHlwZT09PSJHcm91bmRNZXNoIj9hPWUuX0dyb3VuZE1lc2hQYXJzZXIodCxyKTp0LnR5cGUmJnQudHlwZT09PSJHb2xkYmVyZ01lc2giP2E9ZS5fR29sZGJlcmdNZXNoUGFyc2VyKHQscik6YT1uZXcgZSh0Lm5hbWUsciksYS5pZD10LmlkLGNlJiZjZS5BZGRUYWdzVG8oYSx0LnRhZ3MpLGEucG9zaXRpb249Yi5Gcm9tQXJyYXkodC5wb3NpdGlvbiksdC5tZXRhZGF0YSE9PXZvaWQgMCYmKGEubWV0YWRhdGE9dC5tZXRhZGF0YSksdC5yb3RhdGlvblF1YXRlcm5pb24/YS5yb3RhdGlvblF1YXRlcm5pb249aWUuRnJvbUFycmF5KHQucm90YXRpb25RdWF0ZXJuaW9uKTp0LnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1iLkZyb21BcnJheSh0LnJvdGF0aW9uKSksYS5zY2FsaW5nPWIuRnJvbUFycmF5KHQuc2NhbGluZyksdC5sb2NhbE1hdHJpeD9hLnNldFByZVRyYW5zZm9ybU1hdHJpeChJLkZyb21BcnJheSh0LmxvY2FsTWF0cml4KSk6dC5waXZvdE1hdHJpeCYmYS5zZXRQaXZvdE1hdHJpeChJLkZyb21BcnJheSh0LnBpdm90TWF0cml4KSksYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxhLmlzVmlzaWJsZT10LmlzVmlzaWJsZSxhLmluZmluaXRlRGlzdGFuY2U9dC5pbmZpbml0ZURpc3RhbmNlLGEuc2hvd0JvdW5kaW5nQm94PXQuc2hvd0JvdW5kaW5nQm94LGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PXQuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94LHQuYXBwbHlGb2chPT12b2lkIDAmJihhLmFwcGx5Rm9nPXQuYXBwbHlGb2cpLHQucGlja2FibGUhPT12b2lkIDAmJihhLmlzUGlja2FibGU9dC5waWNrYWJsZSksdC5hbHBoYUluZGV4IT09dm9pZCAwJiYoYS5hbHBoYUluZGV4PXQuYWxwaGFJbmRleCksYS5yZWNlaXZlU2hhZG93cz10LnJlY2VpdmVTaGFkb3dzLGEuYmlsbGJvYXJkTW9kZT10LmJpbGxib2FyZE1vZGUsdC52aXNpYmlsaXR5IT09dm9pZCAwJiYoYS52aXNpYmlsaXR5PXQudmlzaWJpbGl0eSksYS5jaGVja0NvbGxpc2lvbnM9dC5jaGVja0NvbGxpc2lvbnMsYS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPXQub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0LmlzQmxvY2tlciE9PXZvaWQgMCYmKGEuaXNCbG9ja2VyPXQuaXNCbG9ja2VyKSxhLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPXQudXNlRmxhdFNoYWRpbmcsdC5mcmVlemVXb3JsZE1hdHJpeCYmKGEuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PXQuZnJlZXplV29ybGRNYXRyaXgpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksdC5hY3Rpb25zIT09dm9pZCAwJiYoYS5fd2FpdGluZ0RhdGEuYWN0aW9ucz10LmFjdGlvbnMpLHQub3ZlcmxheUFscGhhIT09dm9pZCAwJiYoYS5vdmVybGF5QWxwaGE9dC5vdmVybGF5QWxwaGEpLHQub3ZlcmxheUNvbG9yIT09dm9pZCAwJiYoYS5vdmVybGF5Q29sb3I9YmUuRnJvbUFycmF5KHQub3ZlcmxheUNvbG9yKSksdC5yZW5kZXJPdmVybGF5IT09dm9pZCAwJiYoYS5yZW5kZXJPdmVybGF5PXQucmVuZGVyT3ZlcmxheSksYS5pc1VuSW5kZXhlZD0hIXQuaXNVbkluZGV4ZWQsYS5oYXNWZXJ0ZXhBbHBoYT10Lmhhc1ZlcnRleEFscGhhLHQuZGVsYXlMb2FkaW5nRmlsZT8oYS5kZWxheUxvYWRTdGF0ZT00LGEuZGVsYXlMb2FkaW5nRmlsZT1uK3QuZGVsYXlMb2FkaW5nRmlsZSxhLmJ1aWxkQm91bmRpbmdJbmZvKGIuRnJvbUFycmF5KHQuYm91bmRpbmdCb3hNaW5pbXVtKSxiLkZyb21BcnJheSh0LmJvdW5kaW5nQm94TWF4aW11bSkpLHQuX2JpbmFyeUluZm8mJihhLl9iaW5hcnlJbmZvPXQuX2JpbmFyeUluZm8pLGEuX2RlbGF5SW5mbz1bXSx0Lmhhc1VWcyYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVktpbmQpLHQuaGFzVVZzMiYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVjJLaW5kKSx0Lmhhc1VWczMmJmEuX2RlbGF5SW5mby5wdXNoKG0uVVYzS2luZCksdC5oYXNVVnM0JiZhLl9kZWxheUluZm8ucHVzaChtLlVWNEtpbmQpLHQuaGFzVVZzNSYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVjVLaW5kKSx0Lmhhc1VWczYmJmEuX2RlbGF5SW5mby5wdXNoKG0uVVY2S2luZCksdC5oYXNDb2xvcnMmJmEuX2RlbGF5SW5mby5wdXNoKG0uQ29sb3JLaW5kKSx0Lmhhc01hdHJpY2VzSW5kaWNlcyYmYS5fZGVsYXlJbmZvLnB1c2gobS5NYXRyaWNlc0luZGljZXNLaW5kKSx0Lmhhc01hdHJpY2VzV2VpZ2h0cyYmYS5fZGVsYXlJbmZvLnB1c2gobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxhLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1NdC5fSW1wb3J0R2VvbWV0cnksbnQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwmJmEuX2NoZWNrRGVsYXlTdGF0ZSgpKTpNdC5fSW1wb3J0R2VvbWV0cnkodCxhKSx0Lm1hdGVyaWFsVW5pcXVlSWQ/YS5fd2FpdGluZ01hdGVyaWFsSWQ9dC5tYXRlcmlhbFVuaXF1ZUlkOnQubWF0ZXJpYWxJZCYmKGEuX3dhaXRpbmdNYXRlcmlhbElkPXQubWF0ZXJpYWxJZCksdC5tb3JwaFRhcmdldE1hbmFnZXJJZD4tMSYmKGEubW9ycGhUYXJnZXRNYW5hZ2VyPXIuZ2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZCh0Lm1vcnBoVGFyZ2V0TWFuYWdlcklkKSksdC5za2VsZXRvbklkIT09dm9pZCAwJiZ0LnNrZWxldG9uSWQhPT1udWxsJiYoYS5za2VsZXRvbj1yLmdldExhc3RTa2VsZXRvbkJ5SWQodC5za2VsZXRvbklkKSx0Lm51bUJvbmVJbmZsdWVuY2VycyYmKGEubnVtQm9uZUluZmx1ZW5jZXJzPXQubnVtQm9uZUluZmx1ZW5jZXJzKSksdC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPHQuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz10LmFuaW1hdGlvbnNbc10sdT1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZhLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX0kZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLHQscil9aWYodC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihhLHQuYXV0b0FuaW1hdGVGcm9tLHQuYXV0b0FuaW1hdGVUbyx0LmF1dG9BbmltYXRlTG9vcCx0LmF1dG9BbmltYXRlU3BlZWR8fDEpLHQubGF5ZXJNYXNrJiYhaXNOYU4odC5sYXllck1hc2spP2EubGF5ZXJNYXNrPU1hdGguYWJzKHBhcnNlSW50KHQubGF5ZXJNYXNrKSk6YS5sYXllck1hc2s9MjY4NDM1NDU1LHQucGh5c2ljc0ltcG9zdG9yJiZlLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXIocixhLHQpLHQubG9kTWVzaElkcyYmKGEuX3dhaXRpbmdEYXRhLmxvZHM9e2lkczp0LmxvZE1lc2hJZHMsZGlzdGFuY2VzOnQubG9kRGlzdGFuY2VzP3QubG9kRGlzdGFuY2VzOm51bGwsY292ZXJhZ2VzOnQubG9kQ292ZXJhZ2VzP3QubG9kQ292ZXJhZ2VzOm51bGx9KSx0Lmluc3RhbmNlcylmb3IodmFyIGY9MDtmPHQuaW5zdGFuY2VzLmxlbmd0aDtmKyspe3ZhciBsPXQuaW5zdGFuY2VzW2ZdLGg9YS5jcmVhdGVJbnN0YW5jZShsLm5hbWUpO2lmKGwuaWQmJihoLmlkPWwuaWQpLGNlJiYobC50YWdzP2NlLkFkZFRhZ3NUbyhoLGwudGFncyk6Y2UuQWRkVGFnc1RvKGgsdC50YWdzKSksaC5wb3NpdGlvbj1iLkZyb21BcnJheShsLnBvc2l0aW9uKSxsLm1ldGFkYXRhIT09dm9pZCAwJiYoaC5tZXRhZGF0YT1sLm1ldGFkYXRhKSxsLnBhcmVudElkIT09dm9pZCAwJiYoaC5fd2FpdGluZ1BhcmVudElkPWwucGFyZW50SWQpLGwuaXNFbmFibGVkIT09dm9pZCAwJiZsLmlzRW5hYmxlZCE9PW51bGwmJmguc2V0RW5hYmxlZChsLmlzRW5hYmxlZCksbC5pc1Zpc2libGUhPT12b2lkIDAmJmwuaXNWaXNpYmxlIT09bnVsbCYmKGguaXNWaXNpYmxlPWwuaXNWaXNpYmxlKSxsLmlzUGlja2FibGUhPT12b2lkIDAmJmwuaXNQaWNrYWJsZSE9PW51bGwmJihoLmlzUGlja2FibGU9bC5pc1BpY2thYmxlKSxsLnJvdGF0aW9uUXVhdGVybmlvbj9oLnJvdGF0aW9uUXVhdGVybmlvbj1pZS5Gcm9tQXJyYXkobC5yb3RhdGlvblF1YXRlcm5pb24pOmwucm90YXRpb24mJihoLnJvdGF0aW9uPWIuRnJvbUFycmF5KGwucm90YXRpb24pKSxoLnNjYWxpbmc9Yi5Gcm9tQXJyYXkobC5zY2FsaW5nKSxsLmNoZWNrQ29sbGlzaW9ucyE9bnVsbCYmbC5jaGVja0NvbGxpc2lvbnMhPW51bGwmJihoLmNoZWNrQ29sbGlzaW9ucz1sLmNoZWNrQ29sbGlzaW9ucyksbC5waWNrYWJsZSE9bnVsbCYmbC5waWNrYWJsZSE9bnVsbCYmKGguaXNQaWNrYWJsZT1sLnBpY2thYmxlKSxsLnNob3dCb3VuZGluZ0JveCE9bnVsbCYmbC5zaG93Qm91bmRpbmdCb3ghPW51bGwmJihoLnNob3dCb3VuZGluZ0JveD1sLnNob3dCb3VuZGluZ0JveCksbC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJmwuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoaC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9bC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gpLGwuYWxwaGFJbmRleCE9bnVsbCYmbC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJihoLmFscGhhSW5kZXg9bC5hbHBoYUluZGV4KSxsLnBoeXNpY3NJbXBvc3RvciYmZS5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHIsaCxsKSxsLmFuaW1hdGlvbnMpe2Zvcih2YXIgcz0wO3M8bC5hbmltYXRpb25zLmxlbmd0aDtzKyspe3ZhciBvPWwuYW5pbWF0aW9uc1tzXSx1PVJ0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO3UmJmguYW5pbWF0aW9ucy5wdXNoKHUuUGFyc2UobykpfSRlLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKGgsbCxyKSxsLmF1dG9BbmltYXRlJiZyLmJlZ2luQW5pbWF0aW9uKGgsbC5hdXRvQW5pbWF0ZUZyb20sbC5hdXRvQW5pbWF0ZVRvLGwuYXV0b0FuaW1hdGVMb29wLGwuYXV0b0FuaW1hdGVTcGVlZHx8MSl9fWlmKHQudGhpbkluc3RhbmNlcyl7dmFyIGM9dC50aGluSW5zdGFuY2VzO2lmKGEudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZz0hIWMuZW5hYmxlUGlja2luZyxjLm1hdHJpeERhdGE/KGEudGhpbkluc3RhbmNlU2V0QnVmZmVyKCJtYXRyaXgiLG5ldyBGbG9hdDMyQXJyYXkoYy5tYXRyaXhEYXRhKSwxNiwhMSksYS5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZT1jLm1hdHJpeEJ1ZmZlclNpemUsYS5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQ9Yy5pbnN0YW5jZXNDb3VudCk6YS5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZT1jLm1hdHJpeEJ1ZmZlclNpemUsdC50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2Upe3ZhciBkPXQudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlO2Zvcih2YXIgcCBpbiBkLmRhdGEpYS50aGluSW5zdGFuY2VTZXRCdWZmZXIocCxuZXcgRmxvYXQzMkFycmF5KGQuZGF0YVtwXSksZC5zdHJpZGVzW3BdLCExKSxhLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbcF09ZC5zaXplc1twXX19cmV0dXJuIGF9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIXQuX3NvdXJjZVBvc2l0aW9ucyl7dmFyIHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO2lmKCFyKXJldHVybiB0Ll9zb3VyY2VQb3NpdGlvbnM7dC5fc291cmNlUG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkociksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLlBvc2l0aW9uS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHIsITApfXJldHVybiB0Ll9zb3VyY2VQb3NpdGlvbnN9LGUucHJvdG90eXBlLnNldE5vcm1hbHNGb3JDUFVTa2lubmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCF0Ll9zb3VyY2VOb3JtYWxzKXt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpO2lmKCFyKXJldHVybiB0Ll9zb3VyY2VOb3JtYWxzO3QuX3NvdXJjZU5vcm1hbHM9bmV3IEZsb2F0MzJBcnJheShyKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uTm9ybWFsS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxyLCEwKX1yZXR1cm4gdC5fc291cmNlTm9ybWFsc30sZS5wcm90b3R5cGUuYXBwbHlTa2VsZXRvbj1mdW5jdGlvbih0KXtpZighdGhpcy5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLmdlb21ldHJ5Ll9zb2Z0d2FyZVNraW5uaW5nRnJhbWVJZD09dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSlyZXR1cm4gdGhpcztpZih0aGlzLmdlb21ldHJ5Ll9zb2Z0d2FyZVNraW5uaW5nRnJhbWVJZD10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpLCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCkpcmV0dXJuIHRoaXM7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzS2luZCkpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSxuPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFuLl9zb3VyY2VQb3NpdGlvbnMpe3ZhciBhPXRoaXMuc3ViTWVzaGVzLnNsaWNlKCk7dGhpcy5zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpLHRoaXMuc3ViTWVzaGVzPWF9ciYmIW4uX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCk7dmFyIHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO2lmKCFzKXJldHVybiB0aGlzO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChzPW5ldyBGbG9hdDMyQXJyYXkocykpO3ZhciBvPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCk7aWYocil7aWYoIW8pcmV0dXJuIHRoaXM7byBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KG89bmV3IEZsb2F0MzJBcnJheShvKSl9dmFyIHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kKSxmPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCk7aWYoIWZ8fCF1KXJldHVybiB0aGlzO2Zvcih2YXIgbD10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LGg9bD90aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxjPWw/dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsZD10LmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLHA9Yi5aZXJvKCksZz1uZXcgSSxfPW5ldyBJLHY9MCx5LEU9MDtFPHMubGVuZ3RoO0UrPTMsdis9NCl7dmFyIFI9dm9pZCAwO2Zvcih5PTA7eTw0O3krKylSPWZbdit5XSxSPjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChkLE1hdGguZmxvb3IodVt2K3ldKjE2KSxSLF8pLGcuYWRkVG9TZWxmKF8pKTtpZihsKWZvcih5PTA7eTw0O3krKylSPWNbdit5XSxSPjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChkLE1hdGguZmxvb3IoaFt2K3ldKjE2KSxSLF8pLGcuYWRkVG9TZWxmKF8pKTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKG4uX3NvdXJjZVBvc2l0aW9uc1tFXSxuLl9zb3VyY2VQb3NpdGlvbnNbRSsxXSxuLl9zb3VyY2VQb3NpdGlvbnNbRSsyXSxnLHApLHAudG9BcnJheShzLEUpLHImJihiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihuLl9zb3VyY2VOb3JtYWxzW0VdLG4uX3NvdXJjZU5vcm1hbHNbRSsxXSxuLl9zb3VyY2VOb3JtYWxzW0UrMl0sZyxwKSxwLnRvQXJyYXkobyxFKSksZy5yZXNldCgpfXJldHVybiB0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxzKSxyJiZ0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsbyksdGhpc30sZS5NaW5NYXg9ZnVuY3Rpb24odCl7dmFyIHI9bnVsbCxuPW51bGw7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgcz1hLmdldEJvdW5kaW5nSW5mbygpLG89cy5ib3VuZGluZ0JveDshcnx8IW4/KHI9by5taW5pbXVtV29ybGQsbj1vLm1heGltdW1Xb3JsZCk6KHIubWluaW1pemVJblBsYWNlKG8ubWluaW11bVdvcmxkKSxuLm1heGltaXplSW5QbGFjZShvLm1heGltdW1Xb3JsZCkpfSksIXJ8fCFuP3ttaW46Yi5aZXJvKCksbWF4OmIuWmVybygpfTp7bWluOnIsbWF4Om59fSxlLkNlbnRlcj1mdW5jdGlvbih0KXt2YXIgcj10IGluc3RhbmNlb2YgQXJyYXk/ZS5NaW5NYXgodCk6dDtyZXR1cm4gYi5DZW50ZXIoci5taW4sci5tYXgpfSxlLk1lcmdlTWVzaGVzPWZ1bmN0aW9uKHQscixuLGEscyxvKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITApLFFyKGUuX01lcmdlTWVzaGVzQ29yb3V0aW5lKHQscixuLGEscyxvLCExKSl9LGUuTWVyZ2VNZXNoZXNBc3luYz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSxfYShlLl9NZXJnZU1lc2hlc0Nvcm91dGluZSh0LHIsbixhLHMsbywhMCkscGEoKSl9LGUuX01lcmdlTWVzaGVzQ29yb3V0aW5lPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe3ZhciBmLGwsaCxjLGQscCxnLF8sdixqLGosaix5LEUsUixNLEMsQSxTLHcsRix4LEcsVyxOLHEsJCxvZSxaLGo7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSxGdCh0aGlzLGZ1bmN0aW9uKHVlKXtzd2l0Y2godWUubGFiZWwpe2Nhc2UgMDppZih0PXQuZmlsdGVyKEJvb2xlYW4pLHQubGVuZ3RoPT09MClyZXR1cm5bMixudWxsXTtpZighbil7Zm9yKGw9MCxmPTA7Zjx0Lmxlbmd0aDtmKyspaWYobCs9dFtmXS5nZXRUb3RhbFZlcnRpY2VzKCksbD49NjU1MzYpcmV0dXJuIGsuV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyBiZWNhdXNlIHJlc3VsdGluZyBtZXNoIHdpbGwgaGF2ZSBtb3JlIHRoYW4gNjU1MzYgdmVydGljZXMuIFBsZWFzZSB1c2UgYWxsb3czMkJpdHNJbmRpY2VzID0gdHJ1ZSB0byB1c2UgMzIgYml0cyBpbmRpY2VzIiksWzIsbnVsbF19Zm9yKG8mJihzPSExKSxoPW5ldyBBcnJheSxjPW5ldyBBcnJheSxkPW5ldyBBcnJheSxwPXRbMF0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixmPTA7Zjx0Lmxlbmd0aDtmKyspe2lmKGc9dFtmXSxnLmlzQW5JbnN0YW5jZSlyZXR1cm4gay5XYXJuKCJDYW5ub3QgbWVyZ2UgaW5zdGFuY2UgbWVzaGVzLiIpLFsyLG51bGxdO2lmKHAhPT1nLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pcmV0dXJuIGsuV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyB3aXRoIGRpZmZlcmVudCBvdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIHZhbHVlcy4iKSxbMixudWxsXTtpZihzJiZkLnB1c2goZy5nZXRUb3RhbEluZGljZXMoKSksbylpZihnLm1hdGVyaWFsKWlmKF89Zy5tYXRlcmlhbCxfIGluc3RhbmNlb2Ygcmkpe2Zvcih2PTA7djxfLnN1Yk1hdGVyaWFscy5sZW5ndGg7disrKWguaW5kZXhPZihfLnN1Yk1hdGVyaWFsc1t2XSk8MCYmaC5wdXNoKF8uc3ViTWF0ZXJpYWxzW3ZdKTtmb3Ioaj0wO2o8Zy5zdWJNZXNoZXMubGVuZ3RoO2orKyljLnB1c2goaC5pbmRleE9mKF8uc3ViTWF0ZXJpYWxzW2cuc3ViTWVzaGVzW2pdLm1hdGVyaWFsSW5kZXhdKSksZC5wdXNoKGcuc3ViTWVzaGVzW2pdLmluZGV4Q291bnQpfWVsc2UgZm9yKGguaW5kZXhPZihfKTwwJiZoLnB1c2goXyksaj0wO2o8Zy5zdWJNZXNoZXMubGVuZ3RoO2orKyljLnB1c2goaC5pbmRleE9mKF8pKSxkLnB1c2goZy5zdWJNZXNoZXNbal0uaW5kZXhDb3VudCk7ZWxzZSBmb3Ioaj0wO2o8Zy5zdWJNZXNoZXMubGVuZ3RoO2orKyljLnB1c2goMCksZC5wdXNoKGcuc3ViTWVzaGVzW2pdLmluZGV4Q291bnQpfXJldHVybiB5PXRbMF0sRT1mdW5jdGlvbihQZSl7dmFyIFdlPVBlLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksWmU9Z2UuRXh0cmFjdEZyb21NZXNoKFBlLCExLCExKTtyZXR1cm5bWmUsV2VdfSxSPUUoeSksTT1SWzBdLEM9UlsxXSx1P1s0XTpbMywyXTtjYXNlIDE6dWUuc2VudCgpLHVlLmxhYmVsPTI7Y2FzZSAyOkE9bmV3IEFycmF5KHQubGVuZ3RoLTEpLFM9MSx1ZS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gUzx0Lmxlbmd0aD8oQVtTLTFdPUUodFtTXSksdT9bNF06WzMsNV0pOlszLDZdO2Nhc2UgNDp1ZS5zZW50KCksdWUubGFiZWw9NTtjYXNlIDU6cmV0dXJuIFMrKyxbMywzXTtjYXNlIDY6dz1NLl9tZXJnZUNvcm91dGluZShDLEEsbix1LCFyKSxGPXcubmV4dCgpLHVlLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBGLmRvbmU/WzMsMTBdOnU/WzRdOlszLDldO2Nhc2UgODp1ZS5zZW50KCksdWUubGFiZWw9OTtjYXNlIDk6cmV0dXJuIEY9dy5uZXh0KCksWzMsN107Y2FzZSAxMDp4PUYudmFsdWUsYXx8KGE9bmV3IGUoeS5uYW1lKyJfbWVyZ2VkIix5LmdldFNjZW5lKCkpKSxHPXguX2FwcGx5VG9Db3JvdXRpbmUoYSx2b2lkIDAsdSksVz1HLm5leHQoKSx1ZS5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBXLmRvbmU/WzMsMTRdOnU/WzRdOlszLDEzXTtjYXNlIDEyOnVlLnNlbnQoKSx1ZS5sYWJlbD0xMztjYXNlIDEzOnJldHVybiBXPUcubmV4dCgpLFszLDExXTtjYXNlIDE0OmlmKGEuY2hlY2tDb2xsaXNpb25zPXkuY2hlY2tDb2xsaXNpb25zLGEub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj15Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24scilmb3IoZj0wO2Y8dC5sZW5ndGg7ZisrKXRbZl0uZGlzcG9zZSgpO2lmKHN8fG8pe2ZvcihhLnJlbGVhc2VTdWJNZXNoZXMoKSxmPTAsTj0wO2Y8ZC5sZW5ndGg7KVN0LkNyZWF0ZUZyb21JbmRpY2VzKDAsTixkW2ZdLGEsdm9pZCAwLCExKSxOKz1kW2ZdLGYrKztmb3IocT0wLCQ9YS5zdWJNZXNoZXM7cTwkLmxlbmd0aDtxKyspb2U9JFtxXSxvZS5yZWZyZXNoQm91bmRpbmdJbmZvKCk7YS5jb21wdXRlV29ybGRNYXRyaXgoITApfWlmKG8pe2ZvcihaPW5ldyByaSh5Lm5hbWUrIl9tZXJnZWQiLHkuZ2V0U2NlbmUoKSksWi5zdWJNYXRlcmlhbHM9aCxqPTA7ajxhLnN1Yk1lc2hlcy5sZW5ndGg7aisrKWEuc3ViTWVzaGVzW2pdLm1hdGVyaWFsSW5kZXg9Y1tqXTthLm1hdGVyaWFsPVp9ZWxzZSBhLm1hdGVyaWFsPXkubWF0ZXJpYWw7cmV0dXJuWzIsYV19fSl9LGUucHJvdG90eXBlLmFkZEluc3RhbmNlPWZ1bmN0aW9uKHQpe3QuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10aGlzLmluc3RhbmNlcy5sZW5ndGgsdGhpcy5pbnN0YW5jZXMucHVzaCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlSW5zdGFuY2U9ZnVuY3Rpb24odCl7dmFyIHI9dC5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5O2lmKHIhPS0xKXtpZihyIT09dGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpe3ZhciBuPXRoaXMuaW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VzLmxlbmd0aC0xXTt0aGlzLmluc3RhbmNlc1tyXT1uLG4uX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT1yfXQuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLmluc3RhbmNlcy5wb3AoKX19LGUucHJvdG90eXBlLl9zaG91bGRDb252ZXJ0UkhTPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PUZlLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb259LGUuRlJPTlRTSURFPWdlLkZST05UU0lERSxlLkJBQ0tTSURFPWdlLkJBQ0tTSURFLGUuRE9VQkxFU0lERT1nZS5ET1VCTEVTSURFLGUuREVGQVVMVFNJREU9Z2UuREVGQVVMVFNJREUsZS5OT19DQVA9MCxlLkNBUF9TVEFSVD0xLGUuQ0FQX0VORD0yLGUuQ0FQX0FMTD0zLGUuTk9fRkxJUD0wLGUuRkxJUF9USUxFPTEsZS5ST1RBVEVfVElMRT0yLGUuRkxJUF9ST1c9MyxlLlJPVEFURV9ST1c9NCxlLkZMSVBfTl9ST1RBVEVfVElMRT01LGUuRkxJUF9OX1JPVEFURV9ST1c9NixlLkNFTlRFUj0wLGUuTEVGVD0xLGUuUklHSFQ9MixlLlRPUD0zLGUuQk9UVE9NPTQsZS5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQ9ITEsZS5fR3JvdW5kTWVzaFBhcnNlcj1mdW5jdGlvbih0LHIpe3Rocm93IFgoIkdyb3VuZE1lc2giKX0sZS5fR29sZGJlcmdNZXNoUGFyc2VyPWZ1bmN0aW9uKHQscil7dGhyb3cgWCgiR29sZGJlcmdNZXNoIil9LGUuX0xpbmVzTWVzaFBhcnNlcj1mdW5jdGlvbih0LHIpe3Rocm93IFgoIkxpbmVzTWVzaCIpfSxlfSh0aSk7d2UoIkJBQllMT04uTWVzaCIsUSksUS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLnNldE1hdGVyaWFsQnlJZChpKX0sUS5DcmVhdGVEaXNjPVEuQ3JlYXRlRGlzY3x8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlQm94PVEuQ3JlYXRlQm94fHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVTcGhlcmU9US5DcmVhdGVTcGhlcmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZUN5bGluZGVyPVEuQ3JlYXRlQ3lsaW5kZXJ8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVRvcnVzS25vdD1RLkNyZWF0ZVRvcnVzS25vdHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlVG9ydXM9US5DcmVhdGVUb3J1c3x8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlUGxhbmU9US5DcmVhdGVQbGFuZXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlR3JvdW5kPVEuQ3JlYXRlR3JvdW5kfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVUaWxlZEdyb3VuZD1RLkNyZWF0ZVRpbGVkR3JvdW5kfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwPVEuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlVHViZT1RLkNyZWF0ZVR1YmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVBvbHloZWRyb249US5DcmVhdGVQb2x5aGVkcm9ufHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVJY29TcGhlcmU9US5DcmVhdGVJY29TcGhlcmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZURlY2FsPVEuQ3JlYXRlRGVjYWx8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZUNhcHN1bGU9US5DcmVhdGVDYXBzdWxlfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5FeHRlbmRUb0dvbGRiZXJnPVEuRXh0ZW5kVG9Hb2xkYmVyZ3x8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9O3ZhciBjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7ZT09PXZvaWQgMCYmKGU9MCksdGhpcy5wcmlvcml0eT1lfXJldHVybiBpLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiIifSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiEwfSxpfSgpLGlpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0xMDI0KSxuPT09dm9pZCAwJiYobj0uNSk7dmFyIGE9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGEucHJpb3JpdHk9dCxhLm1heGltdW1TaXplPXIsYS5zdGVwPW4sYX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iUmVkdWNpbmcgcmVuZGVyIHRhcmdldCB0ZXh0dXJlIHNpemUgdG8gIit0aGlzLm1heGltdW1TaXplfSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0hMCxhPTA7YTx0LnRleHR1cmVzLmxlbmd0aDthKyspe3ZhciBzPXQudGV4dHVyZXNbYV07aWYoISghcy5jYW5SZXNjYWxlfHxzLmdldENvbnRleHQpKXt2YXIgbz1zLmdldFNpemUoKSx1PU1hdGgubWF4KG8ud2lkdGgsby5oZWlnaHQpO3U+dGhpcy5tYXhpbXVtU2l6ZSYmKHMuc2NhbGUodGhpcy5zdGVwKSxuPSExKX19cmV0dXJuIG59LGV9KGN0KSxvbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49LjI1KTt2YXIgYT1pLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gYS5wcmlvcml0eT10LGEubWF4aW11bVNjYWxlPXIsYS5zdGVwPW4sYS5fY3VycmVudFNjYWxlPS0xLGEuX2RpcmVjdGlvbk9mZnNldD0xLGF9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlNldHRpbmcgaGFyZHdhcmUgc2NhbGluZyBsZXZlbCB0byAiK3RoaXMuX2N1cnJlbnRTY2FsZX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fY3VycmVudFNjYWxlPT09LTEmJih0aGlzLl9jdXJyZW50U2NhbGU9dC5nZXRFbmdpbmUoKS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLHRoaXMuX2N1cnJlbnRTY2FsZT50aGlzLm1heGltdW1TY2FsZSYmKHRoaXMuX2RpcmVjdGlvbk9mZnNldD0tMSkpLHRoaXMuX2N1cnJlbnRTY2FsZSs9dGhpcy5fZGlyZWN0aW9uT2Zmc2V0KnRoaXMuc3RlcCx0LmdldEVuZ2luZSgpLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsKHRoaXMuX2N1cnJlbnRTY2FsZSksdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PT09MT90aGlzLl9jdXJyZW50U2NhbGU+PXRoaXMubWF4aW11bVNjYWxlOnRoaXMuX2N1cnJlbnRTY2FsZTw9dGhpcy5tYXhpbXVtU2NhbGV9LGV9KGN0KSxuaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgc2hhZG93cyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNoYWRvd3NFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLGFpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBwb3N0LXByb2Nlc3NlcyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnBvc3RQcm9jZXNzZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHNpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBsZW5zIGZsYXJlcyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LmxlbnNGbGFyZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHhhPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbkdldERlc2NyaXB0aW9uP3RoaXMub25HZXREZXNjcmlwdGlvbigpOiJSdW5uaW5nIHVzZXIgZGVmaW5lZCBjYWxsYmFjayJ9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMub25BcHBseT90aGlzLm9uQXBwbHkodCxyKTohMH0sZX0oY3QpLG9pPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBwYXJ0aWNsZXMgb24vb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5wYXJ0aWNsZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHVuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyByZW5kZXIgdGFyZ2V0cyBvZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnJlbmRlclRhcmdldHNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0oY3QpLHVpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9jYW5CZU1lcmdlZD1mdW5jdGlvbihyKXtpZighKHIgaW5zdGFuY2VvZiBRKSlyZXR1cm4hMTt2YXIgbj1yO3JldHVybiEobi5pc0Rpc3Bvc2VkKCl8fCFuLmlzVmlzaWJsZXx8IW4uaXNFbmFibGVkKCl8fG4uaW5zdGFuY2VzLmxlbmd0aD4wfHxuLnNrZWxldG9ufHxuLmhhc0xPRExldmVscyl9LHR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVcGRhdGVTZWxlY3Rpb25UcmVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuX1VwZGF0ZVNlbGVjdGlvblRyZWV9LHNldDpmdW5jdGlvbih0KXtlLl9VcGRhdGVTZWxlY3Rpb25UcmVlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iTWVyZ2luZyBzaW1pbGFyIG1lc2hlcyB0b2dldGhlciJ9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9dC5tZXNoZXMuc2xpY2UoMCkscz1hLmxlbmd0aCxvPTA7bzxzO28rKyl7dmFyIHU9bmV3IEFycmF5LGY9YVtvXTtpZih0aGlzLl9jYW5CZU1lcmdlZChmKSl7dS5wdXNoKGYpO2Zvcih2YXIgbD1vKzE7bDxzO2wrKyl7dmFyIGg9YVtsXTt0aGlzLl9jYW5CZU1lcmdlZChoKSYmaC5tYXRlcmlhbD09PWYubWF0ZXJpYWwmJmguY2hlY2tDb2xsaXNpb25zPT09Zi5jaGVja0NvbGxpc2lvbnMmJih1LnB1c2goaCkscy0tLGEuc3BsaWNlKGwsMSksbC0tKX11Lmxlbmd0aDwyfHxRLk1lcmdlTWVzaGVzKHUsdm9pZCAwLCEwKX19dmFyIGM9dDtyZXR1cm4gYy5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSYmKG4hPW51bGw/biYmYy5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpOmUuVXBkYXRlU2VsZWN0aW9uVHJlZSYmYy5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpKSwhMH0sZS5fVXBkYXRlU2VsZWN0aW9uVHJlZT0hMSxlfShjdCksZmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7ZT09PXZvaWQgMCYmKGU9NjApLHQ9PT12b2lkIDAmJih0PTJlMyksdGhpcy50YXJnZXRGcmFtZVJhdGU9ZSx0aGlzLnRyYWNrZXJEdXJhdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucz1uZXcgQXJyYXl9cmV0dXJuIGkucHJvdG90eXBlLmFkZE9wdGltaXphdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpbWl6YXRpb25zLnB1c2goZSksdGhpc30saS5wcm90b3R5cGUuYWRkQ3VzdG9tT3B0aW1pemF0aW9uPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0wKTt2YXIgbj1uZXcgeGEocik7cmV0dXJuIG4ub25BcHBseT1lLG4ub25HZXREZXNjcmlwdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKG4pLHRoaXN9LGkuTG93RGVncmFkYXRpb25BbGxvd2VkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGUpLHI9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IHVpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgbmkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBzaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBhaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IG9pKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGlpKHIsMTAyNCkpLHR9LGkuTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoZSkscj0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgdWkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBuaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IHNpKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGFpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgb2kocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgaWkociw1MTIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHVuKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IG9uKHIsMikpLHR9LGkuSGlnaERlZ3JhZGF0aW9uQWxsb3dlZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaShlKSxyPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyB1aShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IG5pKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgc2kocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgYWkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBvaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBpaShyLDI1NikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgdW4ocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgb24ociw0KSksdH0saX0oKSxEYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPSExKTt2YXIgYT10aGlzO2lmKHRoaXMuX2lzUnVubmluZz0hMSx0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wLHRoaXMuX3RhcmdldEZyYW1lUmF0ZT02MCx0aGlzLl90cmFja2VyRHVyYXRpb249MmUzLHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9MCx0aGlzLl9pbXByb3ZlbWVudE1vZGU9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGU9bmV3IE8sdD90aGlzLl9vcHRpb25zPXQ6dGhpcy5fb3B0aW9ucz1uZXcgZmksdGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUmJih0aGlzLl90YXJnZXRGcmFtZVJhdGU9dGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUpLHRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uJiYodGhpcy5fdHJhY2tlckR1cmF0aW9uPXRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uKSxyKWZvcih2YXIgcz0wLG89MCx1PXRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9ucztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLnByaW9yaXR5PXMrK310aGlzLl9pbXByb3ZlbWVudE1vZGU9bix0aGlzLl9zY2VuZT1lfHxyZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyPXRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7YS5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9bnVsbCxhLmRpc3Bvc2UoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzSW5JbXByb3ZlbWVudE1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wcm92ZW1lbnRNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faW1wcm92ZW1lbnRNb2RlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50UHJpb3JpdHlMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1cnJlbnRGcmFtZVJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lUmF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRhcmdldEZyYW1lUmF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXRGcmFtZVJhdGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90YXJnZXRGcmFtZVJhdGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYWNrZXJEdXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja2VyRHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFja2VyRHVyYXRpb249ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wdGltaXphdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9pc1J1bm5pbmc9ITF9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MH0saS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2lzUnVubmluZ3x8KHRoaXMuX2lzUnVubmluZz0hMCx0aGlzLl9zY2VuZS5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2NoZWNrQ3VycmVudFN0YXRlKCl9LGUuX3RyYWNrZXJEdXJhdGlvbil9KSl9LGkucHJvdG90eXBlLl9jaGVja0N1cnJlbnRTdGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5faXNSdW5uaW5nKXt2YXIgdD10aGlzLl9zY2VuZSxyPXRoaXMuX29wdGlvbnM7aWYodGhpcy5fY3VycmVudEZyYW1lUmF0ZT1NYXRoLnJvdW5kKHQuZ2V0RW5naW5lKCkuZ2V0RnBzKCkpLHRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZTw9dGhpcy5fdGFyZ2V0RnJhbWVSYXRlfHwhdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPj10aGlzLl90YXJnZXRGcmFtZVJhdGUpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1mb3IodmFyIG49ITAsYT0hMCxzPTA7czxyLm9wdGltaXphdGlvbnMubGVuZ3RoO3MrKyl7dmFyIG89ci5vcHRpbWl6YXRpb25zW3NdO28ucHJpb3JpdHk9PT10aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCYmKGE9ITEsbj1uJiZvLmFwcGx5KHQsdGhpcyksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhvKSl9aWYoYSl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufW4mJnRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsKyssdC5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2NoZWNrQ3VycmVudFN0YXRlKCl9LGUuX3RyYWNrZXJEdXJhdGlvbil9KX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlciYmdGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXIpfSxpLk9wdGltaXplQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9bmV3IGkoZSx0fHxmaS5Nb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZCgpLCExKTtyZXR1cm4gciYmYS5vblN1Y2Nlc3NPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3IoKX0pLG4mJmEub25GYWlsdXJlT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXtuKCl9KSxhLnN0YXJ0KCksYX0saX0oKTtmdW5jdGlvbiBJYShpKXtjb25zdHtlbmdpbmU6ZX09aSx0PW5ldyBlZShlKTt0LmNsZWFyQ29sb3I9bmV3IEVlKDAsMCwwLDApLHQucG9pbnRlck1vdmVQcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlckRvd25QcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlclVwUHJlZGljYXRlPSgpPT4hMSx0LmNsZWFyQ2FjaGVkVmVydGV4RGF0YSgpLHQudGhlbWVEYXRhPXt9O2NvbnN0IHI9ZmkuTG93RGVncmFkYXRpb25BbGxvd2VkKCk7cmV0dXJuIHIub3B0aW1pemF0aW9ucz1yLm9wdGltaXphdGlvbnMuc3BsaWNlKDEpLHIudGFyZ2V0RnJhbWVSYXRlPTYwLERhLk9wdGltaXplQXN5bmModCxyKSx0fXZhciBPYT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhKXthPT09dm9pZCAwJiYoYT0hMCk7dmFyIHM9aS5jYWxsKHRoaXMsdCxyLG4sYSl8fHRoaXM7cmV0dXJuIHMuX3RtcFVwVmVjdG9yPWIuWmVybygpLHMuX3RtcFRhcmdldFZlY3Rvcj1iLlplcm8oKSxzLmNhbWVyYURpcmVjdGlvbj1uZXcgYigwLDAsMCkscy5jYW1lcmFSb3RhdGlvbj1uZXcgU2UoMCwwKSxzLmlnbm9yZVBhcmVudFNjYWxpbmc9ITEscy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbj0hMSxzLl90bXBRdWF0ZXJuaW9uPW5ldyBpZSxzLnJvdGF0aW9uPW5ldyBiKDAsMCwwKSxzLnNwZWVkPTIscy5ub1JvdGF0aW9uQ29uc3RyYWludD0hMSxzLmludmVydFJvdGF0aW9uPSExLHMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ9LjIscy5sb2NrZWRUYXJnZXQ9bnVsbCxzLl9jdXJyZW50VGFyZ2V0PWIuWmVybygpLHMuX2luaXRpYWxGb2NhbERpc3RhbmNlPTEscy5fdmlld01hdHJpeD1JLlplcm8oKSxzLl9jYW1NYXRyaXg9SS5aZXJvKCkscy5fY2FtZXJhVHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHMuX2NhbWVyYVJvdGF0aW9uTWF0cml4PUkuWmVybygpLHMuX3JlZmVyZW5jZVBvaW50PW5ldyBiKDAsMCwxKSxzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50PWIuWmVybygpLHMuX2RlZmF1bHRVcD1iLlVwKCkscy5fY2FjaGVkUm90YXRpb25aPTAscy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj0wLHN9cmV0dXJuIGUucHJvdG90eXBlLmdldEZyb250UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5nZXRXb3JsZE1hdHJpeCgpO3ZhciByPXRoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7cmV0dXJuIHIubm9ybWFsaXplKCksci5zY2FsZUluUGxhY2UodCksdGhpcy5nbG9iYWxQb3NpdGlvbi5hZGQocil9LGUucHJvdG90eXBlLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tlZFRhcmdldD8odGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbiYmdGhpcy5sb2NrZWRUYXJnZXQuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbnx8dGhpcy5sb2NrZWRUYXJnZXQpOm51bGx9LGUucHJvdG90eXBlLnN0b3JlU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmVkUG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuX3N0b3JlZFJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxpLnByb3RvdHlwZS5zdG9yZVN0YXRlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9yZXN0b3JlU3RhdGVWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaS5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZVZhbHVlcy5jYWxsKHRoaXMpPyh0aGlzLnBvc2l0aW9uPXRoaXMuX3N0b3JlZFBvc2l0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbj10aGlzLl9zdG9yZWRSb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuY2FtZXJhRGlyZWN0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCksITApOiExfSxlLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2luaXRDYWNoZS5jYWxsKHRoaXMpLHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb249bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgaWUoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9LGUucHJvdG90eXBlLl91cGRhdGVDYWNoZT1mdW5jdGlvbih0KXt0fHxpLnByb3RvdHlwZS5fdXBkYXRlQ2FjaGUuY2FsbCh0aGlzKTt2YXIgcj10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3I/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5jb3B5RnJvbShyKTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9ci5jbG9uZSgpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1udWxsLHRoaXMuX2NhY2hlLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7aWYoIWkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXguY2FsbCh0aGlzKSlyZXR1cm4hMTt2YXIgdD10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3JldHVybih0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmVxdWFscyh0KTohdCkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5lcXVhbHModGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uKTp0aGlzLl9jYWNoZS5yb3RhdGlvbi5lcXVhbHModGhpcy5yb3RhdGlvbikpfSxlLnByb3RvdHlwZS5fY29tcHV0ZUxvY2FsQ2FtZXJhU3BlZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLnNwZWVkKk1hdGguc3FydCh0LmdldERlbHRhVGltZSgpLyh0LmdldEZwcygpKjEwMCkpfSxlLnByb3RvdHlwZS5zZXRUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy51cFZlY3Rvci5ub3JtYWxpemUoKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT10LnN1YnRyYWN0KHRoaXMucG9zaXRpb24pLmxlbmd0aCgpLHRoaXMucG9zaXRpb24uej09PXQueiYmKHRoaXMucG9zaXRpb24ueis9c2UpLHRoaXMuX3JlZmVyZW5jZVBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSksSS5Mb29rQXRMSFRvUmVmKHRoaXMucG9zaXRpb24sdCx0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtTWF0cml4KSx0aGlzLl9jYW1NYXRyaXguaW52ZXJ0KCksdGhpcy5yb3RhdGlvbi54PU1hdGguYXRhbih0aGlzLl9jYW1NYXRyaXgubVs2XS90aGlzLl9jYW1NYXRyaXgubVsxMF0pO3ZhciByPXQuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7ci54Pj0wP3RoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHIuei9yLngpK01hdGguUEkvMjp0aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbihyLnovci54KS1NYXRoLlBJLzIsdGhpcy5yb3RhdGlvbi56PTAsaXNOYU4odGhpcy5yb3RhdGlvbi54KSYmKHRoaXMucm90YXRpb24ueD0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnkpJiYodGhpcy5yb3RhdGlvbi55PTApLGlzTmFOKHRoaXMucm90YXRpb24ueikmJih0aGlzLnJvdGF0aW9uLno9MCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJmllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRhcmdldCgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRUYXJnZXQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUYXJnZXR9LGUucHJvdG90eXBlLl9kZWNpZGVJZk5lZWRzVG9Nb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPjB9LGUucHJvdG90eXBlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMucGFyZW50KXt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSxiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLEQuTWF0cml4WzBdLEQuVmVjdG9yM1swXSksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKEQuVmVjdG9yM1swXSk7cmV0dXJufXRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbWVyYURpcmVjdGlvbil9LGUucHJvdG90eXBlLl9jaGVja0lucHV0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW52ZXJ0Um90YXRpb24/LXRoaXMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ6MSxyPXRoaXMuX2RlY2lkZUlmTmVlZHNUb01vdmUoKSxuPU1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KT4wO2lmKHImJnRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksbil7aWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uLngrPXRoaXMuY2FtZXJhUm90YXRpb24ueCp0LHRoaXMucm90YXRpb24ueSs9dGhpcy5jYW1lcmFSb3RhdGlvbi55KnQsIXRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnQpe3ZhciBhPTEuNTcwNzk2O3RoaXMucm90YXRpb24ueD5hJiYodGhpcy5yb3RhdGlvbi54PWEpLHRoaXMucm90YXRpb24ueDwtYSYmKHRoaXMucm90YXRpb24ueD0tYSl9aWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe3ZhciBzPXRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpO3MmJmllLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfX1yJiYoTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk8dGhpcy5zcGVlZCpzZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk8dGhpcy5zcGVlZCpzZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnk9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik8dGhpcy5zcGVlZCpzZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLno9MCksdGhpcy5jYW1lcmFEaXJlY3Rpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLG4mJihNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPHRoaXMuc3BlZWQqc2UmJih0aGlzLmNhbWVyYVJvdGF0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KTx0aGlzLnNwZWVkKnNlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi55PTApLHRoaXMuY2FtZXJhUm90YXRpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLGkucHJvdG90eXBlLl9jaGVja0lucHV0cy5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KTpJLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpfSxlLnByb3RvdHlwZS5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy51cFZlY3RvciksdGhpc30sZS5wcm90b3R5cGUuX2dldFZpZXdNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQmJnRoaXMuc2V0VGFyZ2V0KHRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCkpLHRoaXMuX3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblohPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLno/KHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56KTp0aGlzLl9jYWNoZWRSb3RhdGlvblohPT10aGlzLnJvdGF0aW9uLnomJih0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj10aGlzLnJvdGF0aW9uLnopLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9yZWZlcmVuY2VQb2ludCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50KSx0aGlzLnBvc2l0aW9uLmFkZFRvUmVmKHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQsdGhpcy5fY3VycmVudFRhcmdldCksdGhpcy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP1ByLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy51cFZlY3Rvcik6KGllLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sdGhpcy5fdG1wUXVhdGVybmlvbiksUHIuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLl90bXBRdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpKSksdGhpcy5fY29tcHV0ZVZpZXdNYXRyaXgodGhpcy5wb3NpdGlvbix0aGlzLl9jdXJyZW50VGFyZ2V0LHRoaXMudXBWZWN0b3IpLHRoaXMuX3ZpZXdNYXRyaXh9LGUucHJvdG90eXBlLl9jb21wdXRlVmlld01hdHJpeD1mdW5jdGlvbih0LHIsbil7aWYodGhpcy5pZ25vcmVQYXJlbnRTY2FsaW5nKXtpZih0aGlzLnBhcmVudCl7dmFyIGE9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodCxhLHRoaXMuX2dsb2JhbFBvc2l0aW9uKSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYocixhLHRoaXMuX3RtcFRhcmdldFZlY3RvciksYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihuLGEsdGhpcy5fdG1wVXBWZWN0b3IpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzLl90bXBUYXJnZXRWZWN0b3IuY29weUZyb20ociksdGhpcy5fdG1wVXBWZWN0b3IuY29weUZyb20obik7dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuTG9va0F0UkhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk6SS5Mb29rQXRMSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTtyZXR1cm59aWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuTG9va0F0UkhUb1JlZih0LHIsbix0aGlzLl92aWV3TWF0cml4KTpJLkxvb2tBdExIVG9SZWYodCxyLG4sdGhpcy5fdmlld01hdHJpeCksdGhpcy5wYXJlbnQpe3ZhciBhPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7dGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYoYSx0aGlzLl92aWV3TWF0cml4KSx0aGlzLl92aWV3TWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24pLHRoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKHQpfSxlLnByb3RvdHlwZS5jcmVhdGVSaWdDYW1lcmE9ZnVuY3Rpb24odCxyKXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1PZS5SSUdfTU9ERV9OT05FKXt2YXIgbj1uZXcgZSh0LHRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLmdldFNjZW5lKCkpO3JldHVybiBuLmlzUmlnQ2FtZXJhPSEwLG4ucmlnUGFyZW50PXRoaXMsKHRoaXMuY2FtZXJhUmlnTW9kZT09PU9lLlJJR19NT0RFX1ZSfHx0aGlzLmNhbWVyYVJpZ01vZGU9PT1PZS5SSUdfTU9ERV9XRUJWUikmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBpZSksbi5fY2FtZXJhUmlnUGFyYW1zPXt9LG4ucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBpZSksbn1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX3VwZGF0ZVJpZ0NhbWVyYXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yaWdDYW1lcmFzWzBdLHI9dGhpcy5fcmlnQ2FtZXJhc1sxXTtzd2l0Y2godGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmNhbWVyYVJpZ01vZGUpe2Nhc2UgT2UuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIOmNhc2UgT2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw6Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ6Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSOmNhc2UgT2UuUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ6e3ZhciBuPXRoaXMuY2FtZXJhUmlnTW9kZT09PU9lLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8xOi0xLGE9dGhpcy5jYW1lcmFSaWdNb2RlPT09T2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPy0xOjE7dGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSpuLHQpLHRoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqYSxyKTticmVha31jYXNlIE9lLlJJR19NT0RFX1ZSOnQucm90YXRpb25RdWF0ZXJuaW9uPyh0LnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksci5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKToodC5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSxyLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pKSx0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHIucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbik7YnJlYWt9aS5wcm90b3R5cGUuX3VwZGF0ZVJpZ0NhbWVyYXMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0PWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5nZXRUYXJnZXQoKTtuLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixlLl9UYXJnZXRGb2NhbFBvaW50KSxlLl9UYXJnZXRGb2NhbFBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSk7dmFyIGE9ZS5fVGFyZ2V0Rm9jYWxQb2ludC5hZGRJblBsYWNlKHRoaXMucG9zaXRpb24pO0kuVHJhbnNsYXRpb25Ub1JlZigtYS54LC1hLnksLWEueixlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEkuUm90YXRpb25BeGlzKHIudXBWZWN0b3IsdCksZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxJLlRyYW5zbGF0aW9uVG9SZWYoYS54LGEueSxhLnosZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZihlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgsZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbixlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgsci5wb3NpdGlvbiksci5zZXRUYXJnZXQoYSl9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUYXJnZXRDYW1lcmEifSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXg9bmV3IEksZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4PW5ldyBJLGUuX1RhcmdldEZvY2FsUG9pbnQ9bmV3IGIsVChbZnQoKV0sZS5wcm90b3R5cGUsInJvdGF0aW9uIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNwZWVkIix2b2lkIDApLFQoW3JhKCJsb2NrZWRUYXJnZXRJZCIpXSxlLnByb3RvdHlwZSwibG9ja2VkVGFyZ2V0Iix2b2lkIDApLGV9KE9lKTtmdW5jdGlvbiBGYShpKXtjb25zdHtzY2VuZTplfT1pO2xldCB0O2NvbnN0IHI9MzYuNTtyZXR1cm4gdD1uZXcgT2EoIlRhcmdldENhbWVyYTEiLG5ldyBiKDAsciwwKSxlKSx0LmZvdj0uMjUsdC5taW5aPTUsdC5tYXhaPXIrMSx0LnNldFRhcmdldChiLlplcm8oKSksdH12YXIgd2E9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXt2YXIgdD1pIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMCx0fXJldHVybiBlLnByb3RvdHlwZS5fc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldFBvc2l0aW9uKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5fZGlyZWN0aW9uPXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGlyZWN0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcmVjdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldERpcmVjdGlvbih0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01pbloiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93TWluWn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd01pblo9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01heFoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93TWF4Wn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd01heFo9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXg/KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbnx8KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1iLlplcm8oKSksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24pLHRoaXMuZGlyZWN0aW9uJiYodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbnx8KHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249Yi5aZXJvKCkpLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5kaXJlY3Rpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uKSksITApOiExfSxlLnByb3RvdHlwZS5nZXREZXB0aFNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwfSxlLnByb3RvdHlwZS5nZXRTaGFkb3dEaXJlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24/dGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uOnRoaXMucG9zaXRpb259LGUucHJvdG90eXBlLnNldERpcmVjdGlvblRvVGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1iLk5vcm1hbGl6ZSh0LnN1YnRyYWN0KHRoaXMucG9zaXRpb24pKSx0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTt2YXIgdD1iLkNyb3NzKHRoaXMuZGlyZWN0aW9uLFByLlkpLHI9Yi5Dcm9zcyh0LHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gYi5Sb3RhdGlvbkZyb21BeGlzKHQscix0aGlzLmRpcmVjdGlvbil9LGUucHJvdG90eXBlLm5lZWRDdWJlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9LGUucHJvdG90eXBlLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ZnVuY3Rpb24oKXt0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9LGUucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5faW5pdENhY2hlLmNhbGwodGhpcyksdGhpcy5fY2FjaGUucG9zaXRpb249Yi5aZXJvKCl9LGUucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKT8odGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX3dvcmxkTWF0cml4KToodGhpcy5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56LHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgmJih0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4KX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNaW5aPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnQubWluWn0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNYXhaPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnQubWF4Wn0sZS5wcm90b3R5cGUuc2V0U2hhZG93UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuY3VzdG9tUHJvamVjdGlvbk1hdHJpeEJ1aWxkZXI/dGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcihyLG4sdCk6dGhpcy5fc2V0RGVmYXVsdFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodCxyLG4pLHRoaXN9LGUucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUuY2FsbCh0aGlzKSwoIXRoaXMucGFyZW50fHwhdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgpJiYodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPW51bGwsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1udWxsKX0sVChbZnQoKV0sZS5wcm90b3R5cGUsInBvc2l0aW9uIixudWxsKSxUKFtmdCgpXSxlLnByb3RvdHlwZSwiZGlyZWN0aW9uIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dNaW5aIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dNYXhaIixudWxsKSxlfShldCk7JGUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzEiLGZ1bmN0aW9uKGksZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmbihpLGIuWmVybygpLGUpfX0pO3ZhciBmbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9aS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gYS5fc2hhZG93RnJ1c3R1bVNpemU9MCxhLl9zaGFkb3dPcnRob1NjYWxlPS4xLGEuYXV0b1VwZGF0ZUV4dGVuZHM9ITAsYS5hdXRvQ2FsY1NoYWRvd1pCb3VuZHM9ITEsYS5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsYS5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLGEuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsYS5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRSxhLnBvc2l0aW9uPXIuc2NhbGUoLTEpLGEuZGlyZWN0aW9uPXIsYX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dGcnVzdHVtU2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd0ZydXN0dW1TaXplPXQsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dPcnRob1NjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd09ydGhvU2NhbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFkb3dPcnRob1NjYWxlPXQsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob0xlZnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3J0aG9MZWZ0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob1JpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vcnRob1JpZ2h0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob1RvcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcnRob1RvcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29ydGhvVG9wPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob0JvdHRvbSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcnRob0JvdHRvbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29ydGhvQm90dG9tPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkRpcmVjdGlvbmFsTGlnaHQifSxlLnByb3RvdHlwZS5nZXRUeXBlSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXQuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVH0sZS5wcm90b3R5cGUuX3NldERlZmF1bHRTaGFkb3dQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQscixuKXt0aGlzLnNoYWRvd0ZydXN0dW1TaXplPjA/dGhpcy5fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXgodCk6dGhpcy5fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHQscixuKX0sZS5wcm90b3R5cGUuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7ciYmSS5PcnRob0xIVG9SZWYodGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6ci5taW5aLHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6ci5tYXhaLHQsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9LGUucHJvdG90eXBlLl9zZXREZWZhdWx0QXV0b0V4dGVuZFNoYWRvd1Byb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7aWYoYSl7aWYodGhpcy5hdXRvVXBkYXRlRXh0ZW5kc3x8dGhpcy5fb3J0aG9MZWZ0PT09TnVtYmVyLk1BWF9WQUxVRSl7dmFyIHM9Yi5aZXJvKCk7dGhpcy5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRTtmb3IodmFyIG89TnVtYmVyLk1BWF9WQUxVRSx1PU51bWJlci5NSU5fVkFMVUUsZj0wO2Y8bi5sZW5ndGg7ZisrKXt2YXIgbD1uW2ZdO2lmKGwpZm9yKHZhciBoPWwuZ2V0Qm91bmRpbmdJbmZvKCksYz1oLmJvdW5kaW5nQm94LGQ9MDtkPGMudmVjdG9yc1dvcmxkLmxlbmd0aDtkKyspYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGMudmVjdG9yc1dvcmxkW2RdLHIscykscy54PHRoaXMuX29ydGhvTGVmdCYmKHRoaXMuX29ydGhvTGVmdD1zLngpLHMueTx0aGlzLl9vcnRob0JvdHRvbSYmKHRoaXMuX29ydGhvQm90dG9tPXMueSkscy54PnRoaXMuX29ydGhvUmlnaHQmJih0aGlzLl9vcnRob1JpZ2h0PXMueCkscy55PnRoaXMuX29ydGhvVG9wJiYodGhpcy5fb3J0aG9Ub3A9cy55KSx0aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKHMuejxvJiYobz1zLnopLHMuej51JiYodT1zLnopKX10aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKHRoaXMuX3NoYWRvd01pblo9byx0aGlzLl9zaGFkb3dNYXhaPXUpfXZhciBwPXRoaXMuX29ydGhvUmlnaHQtdGhpcy5fb3J0aG9MZWZ0LGc9dGhpcy5fb3J0aG9Ub3AtdGhpcy5fb3J0aG9Cb3R0b20sXz10aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOmEubWluWix2PXRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6YS5tYXhaLHk9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtJLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9vcnRob0xlZnQtcCp0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9SaWdodCtwKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob0JvdHRvbS1nKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1RvcCtnKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx5P3Y6Xyx5P186dix0LHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfX0sZS5wcm90b3R5cGUuX2J1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvRWZmZWN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56LDEsciksdGhpcyk6KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiwxLHIpLHRoaXMpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odC5zZXRGbG9hdDMocix0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiksdGhpcyk6KHQuc2V0RmxvYXQzKHIsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnopLHRoaXMpfSxlLnByb3RvdHlwZS5nZXREZXB0aE1pblo9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIXIudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZyLmlzTkRDSGFsZlpSYW5nZT8wOjF9LGUucHJvdG90eXBlLmdldERlcHRoTWF4Wj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4gci51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnIuaXNORENIYWxmWlJhbmdlPzA6MX0sZS5wcm90b3R5cGUucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzPWZ1bmN0aW9uKHQscil7dFsiRElSTElHSFQiK3JdPSEwfSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dGcnVzdHVtU2l6ZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwic2hhZG93T3J0aG9TY2FsZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiYXV0b1VwZGF0ZUV4dGVuZHMiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiYXV0b0NhbGNTaGFkb3daQm91bmRzIix2b2lkIDApLFQoW1AoIm9ydGhvTGVmdCIpXSxlLnByb3RvdHlwZSwiX29ydGhvTGVmdCIsdm9pZCAwKSxUKFtQKCJvcnRob1JpZ2h0IildLGUucHJvdG90eXBlLCJfb3J0aG9SaWdodCIsdm9pZCAwKSxUKFtQKCJvcnRob1RvcCIpXSxlLnByb3RvdHlwZSwiX29ydGhvVG9wIix2b2lkIDApLFQoW1AoIm9ydGhvQm90dG9tIildLGUucHJvdG90eXBlLCJfb3J0aG9Cb3R0b20iLHZvaWQgMCksZX0od2EpOyRlLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8zIixmdW5jdGlvbihpLGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbG4oaSxiLlplcm8oKSxlKX19KTt2YXIgbG49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIGEuZ3JvdW5kQ29sb3I9bmV3IGJlKDAsMCwwKSxhLmRpcmVjdGlvbj1yfHxiLlVwKCksYX1yZXR1cm4gZS5wcm90b3R5cGUuX2J1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodEdyb3VuZCIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkhlbWlzcGhlcmljTGlnaHQifSxlLnByb3RvdHlwZS5zZXREaXJlY3Rpb25Ub1RhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249Yi5Ob3JtYWxpemUodC5zdWJ0cmFjdChiLlplcm8oKSkpLHRoaXMuZGlyZWN0aW9ufSxlLnByb3RvdHlwZS5nZXRTaGFkb3dHZW5lcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudHJhbnNmZXJUb0VmZmVjdD1mdW5jdGlvbih0LHIpe3ZhciBuPWIuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLG4ueCxuLnksbi56LDAsciksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjMoInZMaWdodEdyb3VuZCIsdGhpcy5ncm91bmRDb2xvci5zY2FsZSh0aGlzLmludGVuc2l0eSksciksdGhpc30sZS5wcm90b3R5cGUudHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdD1mdW5jdGlvbih0LHIpe3ZhciBuPWIuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdC5zZXRGbG9hdDMocixuLngsbi55LG4ueiksdGhpc30sZS5wcm90b3R5cGUuY29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH0sZS5wcm90b3R5cGUuZ2V0VHlwZUlEPWZ1bmN0aW9uKCl7cmV0dXJuIGV0LkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFR9LGUucHJvdG90eXBlLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcz1mdW5jdGlvbih0LHIpe3RbIkhFTUlMSUdIVCIrcl09ITB9LFQoW090KCldLGUucHJvdG90eXBlLCJncm91bmRDb2xvciIsdm9pZCAwKSxUKFtmdCgpXSxlLnByb3RvdHlwZSwiZGlyZWN0aW9uIix2b2lkIDApLGV9KGV0KSxobj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH1yZXR1cm4gaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1c6ICIuY29uY2F0KHRoaXMud2lkdGgsIiwgSDogIikuY29uY2F0KHRoaXMuaGVpZ2h0LCJ9Iil9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTaXplIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndpZHRofDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuaGVpZ2h0fDApLGV9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3RoaXMud2lkdGg9ZS53aWR0aCx0aGlzLmhlaWdodD1lLmhlaWdodH0saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX0saS5wcm90b3R5cGUubXVsdGlwbHlCeUZsb2F0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaSh0aGlzLndpZHRoKmUsdGhpcy5oZWlnaHQqdCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy53aWR0aD09PWUud2lkdGgmJnRoaXMuaGVpZ2h0PT09ZS5oZWlnaHQ6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3VyZmFjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDApfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkodGhpcy53aWR0aCtlLndpZHRoLHRoaXMuaGVpZ2h0K2UuaGVpZ2h0KTtyZXR1cm4gdH0saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkodGhpcy53aWR0aC1lLndpZHRoLHRoaXMuaGVpZ2h0LWUuaGVpZ2h0KTtyZXR1cm4gdH0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLndpZHRoKyh0LndpZHRoLWUud2lkdGgpKnIsYT1lLmhlaWdodCsodC5oZWlnaHQtZS5oZWlnaHQpKnI7cmV0dXJuIG5ldyBpKG4sYSl9LGl9KCksTGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3dyYXBVPTEsdGhpcy5fd3JhcFY9MSx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTQsdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl9lbmdpbmU9bnVsbCx0aGlzLl9jYWNoZWRTaXplPWhuLlplcm8oKSx0aGlzLl9jYWNoZWRCYXNlU2l6ZT1obi5aZXJvKCksdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT0yLHRoaXMuX3RleHR1cmU9ZSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fZW5naW5lPXRoaXMuX3RleHR1cmUuZ2V0RW5naW5lKCkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBVfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd3JhcFU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBWIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBWfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd3JhcFY9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvb3JkaW5hdGVzTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiAwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNDdWJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6ITF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pc0N1YmU9ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpczNEIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMzRD1lKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUaGluVGV4dHVyZSJ9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTQ/KHRoaXMuZGVsYXlMb2FkKCksITEpOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc1JlYWR5OiExfSxpLnByb3RvdHlwZS5kZWxheUxvYWQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLmdldEludGVybmFsVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfSxpLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS53aWR0aClyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLndpZHRoLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuaGVpZ2h0LHRoaXMuX2NhY2hlZFNpemU7aWYodGhpcy5fdGV4dHVyZS5fc2l6ZSlyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZX1yZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZX0saS5wcm90b3R5cGUuZ2V0QmFzZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1JlYWR5KCl8fCF0aGlzLl90ZXh0dXJlPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplKTp0aGlzLl90ZXh0dXJlLl9zaXplPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplKToodGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5iYXNlV2lkdGgsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuYmFzZUhlaWdodCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2FtcGxpbmdNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5zYW1wbGluZ01vZGU6dGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS51cGRhdGVTYW1wbGluZ01vZGU9ZnVuY3Rpb24oZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHRoaXMuX3RleHR1cmUpfSxpLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmU9bnVsbCl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCksdGhpcy5fZW5naW5lPW51bGwpfSxpfSgpLE5hPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQpe3ZhciByPWkuY2FsbCh0aGlzLG51bGwpfHx0aGlzO3JldHVybiByLm1ldGFkYXRhPW51bGwsci5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHIuX2hhc0FscGhhPSExLHIuX2dldEFscGhhRnJvbVJHQj0hMSxyLmxldmVsPTEsci5fY29vcmRpbmF0ZXNJbmRleD0wLHIuX2Nvb3JkaW5hdGVzTW9kZT0wLHIud3JhcFI9MSxyLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9ZS5ERUZBVUxUX0FOSVNPVFJPUElDX0ZJTFRFUklOR19MRVZFTCxyLl9pc0N1YmU9ITEsci5fZ2FtbWFTcGFjZT0hMCxyLmludmVydFo9ITEsci5sb2RMZXZlbEluQWxwaGE9ITEsci5pc1JlbmRlclRhcmdldD0hMSxyLl9wcmVmaWx0ZXJlZD0hMSxyLl9mb3JjZVNlcmlhbGl6ZT0hMSxyLmFuaW1hdGlvbnM9bmV3IEFycmF5LHIub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyxyLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHIuX3NjZW5lPW51bGwsci5fdWlkPW51bGwsci5fcGFyZW50Q29udGFpbmVyPW51bGwsci5fbG9hZGluZ0Vycm9yPSExLHQ/ZS5fSXNTY2VuZSh0KT9yLl9zY2VuZT10OnIuX2VuZ2luZT10OnIuX3NjZW5lPXJlLkxhc3RDcmVhdGVkU2NlbmUsci5fc2NlbmUmJihyLnVuaXF1ZUlkPXIuX3NjZW5lLmdldFVuaXF1ZUlkKCksci5fc2NlbmUuYWRkVGV4dHVyZShyKSxyLl9lbmdpbmU9ci5fc2NlbmUuZ2V0RW5naW5lKCkpLHIuX3VpZD1udWxsLHJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzQWxwaGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzQWxwaGF9LHNldDpmdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuX2hhc0FscGhhIT09dCYmKHRoaXMuX2hhc0FscGhhPXQsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsZnVuY3Rpb24obil7cmV0dXJuIG4uaGFzVGV4dHVyZShyKX0pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdldEFscGhhRnJvbVJHQiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRBbHBoYUZyb21SR0J9LHNldDpmdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuX2dldEFscGhhRnJvbVJHQiE9PXQmJih0aGlzLl9nZXRBbHBoYUZyb21SR0I9dCx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxmdW5jdGlvbihuKXtyZXR1cm4gbi5oYXNUZXh0dXJlKHIpfSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29vcmRpbmF0ZXNJbmRleCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc0luZGV4fSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0aGlzLl9jb29yZGluYXRlc0luZGV4IT09dCYmKHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXg9dCx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxmdW5jdGlvbihuKXtyZXR1cm4gbi5oYXNUZXh0dXJlKHIpfSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29vcmRpbmF0ZXNNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5fY29vcmRpbmF0ZXNNb2RlIT09dCYmKHRoaXMuX2Nvb3JkaW5hdGVzTW9kZT10LHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKG4pe3JldHVybiBuLmhhc1RleHR1cmUocil9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ3cmFwVSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwVX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3dyYXBVPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ3cmFwViIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwVn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3dyYXBWPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0N1YmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTp0aGlzLl9pc0N1YmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlPXQ6dGhpcy5faXNDdWJlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpczNEIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMzRD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMyREFycmF5PXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZ2FtbWFTcGFjZSIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3RleHR1cmUpdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PW51bGwmJih0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPXRoaXMuX2dhbW1hU3BhY2UpO2Vsc2UgcmV0dXJuIHRoaXMuX2dhbW1hU3BhY2U7cmV0dXJuIHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2UmJiF0aGlzLl90ZXh0dXJlLl91c2VTUkdCQnVmZmVyfSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PXQpcmV0dXJuO3RoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9dH1lbHNle2lmKHRoaXMuX2dhbW1hU3BhY2U9PT10KXJldHVybjt0aGlzLl9nYW1tYVNwYWNlPXR9dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNSR0JEIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUhPW51bGwmJnRoaXMuX3RleHR1cmUuX2lzUkdCRH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pc1JHQkQ9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJub01pcG1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvbk9mZnNldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ6MH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0PXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvblNjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlOjB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGluZWFyU3BlY3VsYXJMT0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRDohMX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlycmFkaWFuY2VUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU6bnVsbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pcnJhZGlhbmNlVGV4dHVyZT10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9d2koKSksdGhpcy5fdWlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkJhc2VUZXh0dXJlIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkRpc3Bvc2UiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Jsb2NraW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsb2FkaW5nRXJyb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGluZ0Vycm9yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXJyb3JPYmplY3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JPYmplY3R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NlbmV9LGUucHJvdG90eXBlLl9nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxlLnByb3RvdHlwZS5jaGVja1RyYW5zZm9ybXNBcmVJZGVudGljYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1udWxsfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHlSZWFkT25seX0sZS5wcm90b3R5cGUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gSS5JZGVudGl0eVJlYWRPbmx5fSxlLnByb3RvdHlwZS5pc1JlYWR5T3JOb3RCbG9ja2luZz1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzQmxvY2tpbmd8fHRoaXMuaXNSZWFkeSgpfHx0aGlzLmxvYWRpbmdFcnJvcn0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhblJlc2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fZ2V0RnJvbUNhY2hlPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcy5fZ2V0RW5naW5lKCk7aWYoIW8pcmV0dXJuIG51bGw7Zm9yKHZhciB1PW8uX2dldFVzZVNSR0JCdWZmZXIoISFzLHIpLGY9by5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCksbD0wO2w8Zi5sZW5ndGg7bCsrKXt2YXIgaD1mW2xdO2lmKChzPT09dm9pZCAwfHx1PT09aC5fdXNlU1JHQkJ1ZmZlcikmJihhPT09dm9pZCAwfHxhPT09aC5pbnZlcnRZKSYmaC51cmw9PT10JiZoLmdlbmVyYXRlTWlwTWFwcz09PSFyJiYoIW58fG49PT1oLnNhbXBsaW5nTW9kZSkpcmV0dXJuIGguaW5jcmVtZW50UmVmZXJlbmNlcygpLGh9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRleHR1cmVUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUudHlwZSE9PXZvaWQgMD90aGlzLl90ZXh0dXJlLnR5cGU6MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRleHR1cmVGb3JtYXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5mb3JtYXQhPT12b2lkIDA/dGhpcy5fdGV4dHVyZS5mb3JtYXQ6NX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTt0JiZ0Lm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfSxlLnByb3RvdHlwZS5yZWFkUGl4ZWxzPWZ1bmN0aW9uKHQscixuLGEscyxvLHUsZixsKXtpZih0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLG89PT12b2lkIDAmJihvPTApLHU9PT12b2lkIDAmJih1PTApLGY9PT12b2lkIDAmJihmPU51bWJlci5NQVhfVkFMVUUpLGw9PT12b2lkIDAmJihsPU51bWJlci5NQVhfVkFMVUUpLCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO3ZhciBoPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFoKXJldHVybiBudWxsO3ZhciBjPXRoaXMuZ2V0U2l6ZSgpLGQ9Yy53aWR0aCxwPWMuaGVpZ2h0O3IhPT0wJiYoZD1kL01hdGgucG93KDIscikscD1wL01hdGgucG93KDIsciksZD1NYXRoLnJvdW5kKGQpLHA9TWF0aC5yb3VuZChwKSksZj1NYXRoLm1pbihkLGYpLGw9TWF0aC5taW4ocCxsKTt0cnl7cmV0dXJuIHRoaXMuX3RleHR1cmUuaXNDdWJlP2guX3JlYWRUZXh0dXJlUGl4ZWxzKHRoaXMuX3RleHR1cmUsZixsLHQscixuLGEscyxvLHUpOmguX3JlYWRUZXh0dXJlUGl4ZWxzKHRoaXMuX3RleHR1cmUsZixsLC0xLHIsbixhLHMsbyx1KX1jYXRjaHtyZXR1cm4gbnVsbH19LGUucHJvdG90eXBlLl9yZWFkUGl4ZWxzU3luYz1mdW5jdGlvbih0LHIsbixhLHMpe2lmKHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPSEwKSxzPT09dm9pZCAwJiYocz0hMSksIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7dmFyIG89dGhpcy5nZXRTaXplKCksdT1vLndpZHRoLGY9by5oZWlnaHQsbD10aGlzLl9nZXRFbmdpbmUoKTtpZighbClyZXR1cm4gbnVsbDtyIT0wJiYodT11L01hdGgucG93KDIsciksZj1mL01hdGgucG93KDIsciksdT1NYXRoLnJvdW5kKHUpLGY9TWF0aC5yb3VuZChmKSk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9sLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSx1LGYsdCxyLG4sYSxzKTpsLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSx1LGYsLTEscixuLGEscyl9Y2F0Y2h7cmV0dXJuIG51bGx9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9sb2RUZXh0dXJlSGlnaCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVIaWdoOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfbG9kVGV4dHVyZU1pZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVNaWQ6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9sb2RUZXh0dXJlTG93Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUxvdzpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpZih0aGlzLl9zY2VuZSl7dGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbiYmdGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9zY2VuZS5fcmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7dmFyIHQ9dGhpcy5fc2NlbmUudGV4dHVyZXMuaW5kZXhPZih0aGlzKTtpZih0Pj0wJiZ0aGlzLl9zY2VuZS50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLl9zY2VuZS5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciByPXRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO3I+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5zcGxpY2UociwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH19dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm1ldGFkYXRhPW51bGwsaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO3ZhciB0PUouU2VyaWFsaXplKHRoaXMpO3JldHVybiBKLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsdCksdH0sZS5XaGVuQWxsUmVhZHk9ZnVuY3Rpb24odCxyKXt2YXIgbj10Lmxlbmd0aDtpZihuPT09MCl7cigpO3JldHVybn1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtpZihzLmlzUmVhZHkoKSktLW49PT0wJiZyKCk7ZWxzZXt2YXIgbz1zLm9uTG9hZE9ic2VydmFibGU7bz9vLmFkZE9uY2UoZnVuY3Rpb24oKXstLW49PT0wJiZyKCl9KTotLW49PT0wJiZyKCl9fX0sZS5fSXNTY2VuZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRDbGFzc05hbWUoKT09PSJTY2VuZSJ9LGUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUw9NCxUKFtQKCldLGUucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1AoImhhc0FscGhhIildLGUucHJvdG90eXBlLCJfaGFzQWxwaGEiLHZvaWQgMCksVChbUCgiZ2V0QWxwaGFGcm9tUkdCIildLGUucHJvdG90eXBlLCJfZ2V0QWxwaGFGcm9tUkdCIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxldmVsIix2b2lkIDApLFQoW1AoImNvb3JkaW5hdGVzSW5kZXgiKV0sZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc0luZGV4Iix2b2lkIDApLFQoW1AoImNvb3JkaW5hdGVzTW9kZSIpXSxlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzTW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3cmFwVSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwid3JhcFYiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsIndyYXBSIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNDdWJlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpczNEIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpczJEQXJyYXkiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImdhbW1hU3BhY2UiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImludmVydFoiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibG9kTGV2ZWxJbkFscGhhIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25PZmZzZXQiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwibGluZWFyU3BlY3VsYXJMT0QiLG51bGwpLFQoW0hlKCldLGUucHJvdG90eXBlLCJpcnJhZGlhbmNlVGV4dHVyZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNSZW5kZXJUYXJnZXQiLHZvaWQgMCksZX0oTGEpO2Z1bmN0aW9uIGNuKGksZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9ZS53aWR0aCxuPWUuaGVpZ2h0O2lmKGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2Zvcih2YXIgYT1pLmJ5dGVMZW5ndGgvaS5CWVRFU19QRVJfRUxFTUVOVCxzPW5ldyBVaW50OEFycmF5KGEpOy0tYT49MDspe3ZhciBvPWlbYV07bzwwP289MDpvPjEmJihvPTEpLHNbYV09byoyNTV9aT1zfXZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3Uud2lkdGg9cix1LmhlaWdodD1uO3ZhciBmPXUuZ2V0Q29udGV4dCgiMmQiKTtpZighZilyZXR1cm4gbnVsbDt2YXIgbD1mLmNyZWF0ZUltYWdlRGF0YShyLG4pLGg9bC5kYXRhO2lmKGguc2V0KGkpLGYucHV0SW1hZ2VEYXRhKGwsMCwwKSx0KXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtjLndpZHRoPXIsYy5oZWlnaHQ9bjt2YXIgZD1jLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGQ/KGQudHJhbnNsYXRlKDAsbiksZC5zY2FsZSgxLC0xKSxkLmRyYXdJbWFnZSh1LDAsMCksYy50b0RhdGFVUkwoImltYWdlL3BuZyIpKTpudWxsfXJldHVybiB1LnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9ZnVuY3Rpb24gQmEoaSxlLHQpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApO3ZhciByPWkuZ2V0SW50ZXJuYWxUZXh0dXJlKCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG49aS5fcmVhZFBpeGVsc1N5bmMoZSx0KTtyZXR1cm4gbj9jbihuLGkuZ2V0U2l6ZSgpLHIuaW52ZXJ0WSk6bnVsbH1mdW5jdGlvbiBVYShpLGUsdCl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLEJyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLG47cmV0dXJuIEZ0KHRoaXMsZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj1pLmdldEludGVybmFsVGV4dHVyZSgpLHI/WzQsaS5yZWFkUGl4ZWxzKGUsdCldOlsyLG51bGxdO2Nhc2UgMTpyZXR1cm4gbj1hLnNlbnQoKSxuP1syLGNuKG4saS5nZXRTaXplKCksci5pbnZlcnRZKV06WzIsbnVsbF19fSl9KX12YXIgdGU9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnKXtzPT09dm9pZCAwJiYocz1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPSExKTt2YXIgXz10aGlzLHYseSxFLFIsTSxDLEEsUyx3O189aS5jYWxsKHRoaXMscil8fHRoaXMsXy51cmw9bnVsbCxfLnVPZmZzZXQ9MCxfLnZPZmZzZXQ9MCxfLnVTY2FsZT0xLF8udlNjYWxlPTEsXy51QW5nPTAsXy52QW5nPTAsXy53QW5nPTAsXy51Um90YXRpb25DZW50ZXI9LjUsXy52Um90YXRpb25DZW50ZXI9LjUsXy53Um90YXRpb25DZW50ZXI9LjUsXy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT0hMSxfLmluc3BlY3RhYmxlQ3VzdG9tUHJvcGVydGllcz1udWxsLF8uX25vTWlwbWFwPSExLF8uX2ludmVydFk9ITEsXy5fcm93R2VuZXJhdGlvbk1hdHJpeD1udWxsLF8uX2NhY2hlZFRleHR1cmVNYXRyaXg9bnVsbCxfLl9wcm9qZWN0aW9uTW9kZU1hdHJpeD1udWxsLF8uX3QwPW51bGwsXy5fdDE9bnVsbCxfLl90Mj1udWxsLF8uX2NhY2hlZFVPZmZzZXQ9LTEsXy5fY2FjaGVkVk9mZnNldD0tMSxfLl9jYWNoZWRVU2NhbGU9MCxfLl9jYWNoZWRWU2NhbGU9MCxfLl9jYWNoZWRVQW5nPS0xLF8uX2NhY2hlZFZBbmc9LTEsXy5fY2FjaGVkV0FuZz0tMSxfLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9LTEsXy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPS0xLF8uX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj0tMSxfLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9LTEsXy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsXy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPS0xLF8uX2J1ZmZlcj1udWxsLF8uX2RlbGV0ZUJ1ZmZlcj0hMSxfLl9mb3JtYXQ9bnVsbCxfLl9kZWxheWVkT25Mb2FkPW51bGwsXy5fZGVsYXllZE9uRXJyb3I9bnVsbCxfLm9uTG9hZE9ic2VydmFibGU9bmV3IE8sXy5faXNCbG9ja2luZz0hMCxfLm5hbWU9dHx8IiIsXy51cmw9dDt2YXIgRix4PSExLEc9bnVsbDt0eXBlb2Ygbj09Im9iamVjdCImJm4hPT1udWxsPyhGPSh2PW4ubm9NaXBtYXApIT09bnVsbCYmdiE9PXZvaWQgMD92OiExLGE9KHk9bi5pbnZlcnRZKSE9PW51bGwmJnkhPT12b2lkIDA/eTohamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVixzPShFPW4uc2FtcGxpbmdNb2RlKSE9PW51bGwmJkUhPT12b2lkIDA/RTplLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbz0oUj1uLm9uTG9hZCkhPT1udWxsJiZSIT09dm9pZCAwP1I6bnVsbCx1PShNPW4ub25FcnJvcikhPT1udWxsJiZNIT09dm9pZCAwP006bnVsbCxmPShDPW4uYnVmZmVyKSE9PW51bGwmJkMhPT12b2lkIDA/QzpudWxsLGw9KEE9bi5kZWxldGVCdWZmZXIpIT09bnVsbCYmQSE9PXZvaWQgMD9BOiExLGg9bi5mb3JtYXQsYz1uLm1pbWVUeXBlLGQ9bi5sb2FkZXJPcHRpb25zLHA9bi5jcmVhdGlvbkZsYWdzLHg9KFM9bi51c2VTUkdCQnVmZmVyKSE9PW51bGwmJlMhPT12b2lkIDA/UzohMSxHPSh3PW4uaW50ZXJuYWxUZXh0dXJlKSE9PW51bGwmJnchPT12b2lkIDA/dzpudWxsKTpGPSEhbixfLl9ub01pcG1hcD1GLF8uX2ludmVydFk9YT09PXZvaWQgMD8hamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVjphLF8uX2luaXRpYWxTYW1wbGluZ01vZGU9cyxfLl9idWZmZXI9ZixfLl9kZWxldGVCdWZmZXI9bCxfLl9taW1lVHlwZT1jLF8uX2xvYWRlck9wdGlvbnM9ZCxfLl9jcmVhdGlvbkZsYWdzPXAsXy5fdXNlU1JHQkJ1ZmZlcj14LF8uX2ZvcmNlZEV4dGVuc2lvbj1nLGgmJihfLl9mb3JtYXQ9aCk7dmFyIFc9Xy5nZXRTY2VuZSgpLE49Xy5fZ2V0RW5naW5lKCk7aWYoIU4pcmV0dXJuIF87Ti5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyk7dmFyIHE9ZnVuY3Rpb24oKXtfLl90ZXh0dXJlJiYoXy5fdGV4dHVyZS5faW52ZXJ0VlNjYWxlJiYoXy52U2NhbGUqPS0xLF8udk9mZnNldCs9MSksXy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUhPT1udWxsJiYoXy53cmFwVT1fLl90ZXh0dXJlLl9jYWNoZWRXcmFwVSxfLl90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsKSxfLl90ZXh0dXJlLl9jYWNoZWRXcmFwViE9PW51bGwmJihfLndyYXBWPV8uX3RleHR1cmUuX2NhY2hlZFdyYXBWLF8uX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwpLF8uX3RleHR1cmUuX2NhY2hlZFdyYXBSIT09bnVsbCYmKF8ud3JhcFI9Xy5fdGV4dHVyZS5fY2FjaGVkV3JhcFIsXy5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCkpLF8ub25Mb2FkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmXy5vbkxvYWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhfKSxvJiZvKCksIV8uaXNCbG9ja2luZyYmVyYmVy5yZXNldENhY2hlZE1hdGVyaWFsKCl9LCQ9ZnVuY3Rpb24oWixqKXtfLl9sb2FkaW5nRXJyb3I9ITAsXy5fZXJyb3JPYmplY3Q9e21lc3NhZ2U6WixleGNlcHRpb246an0sdSYmdShaLGopLGUuT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyl9O2lmKCFfLnVybClyZXR1cm4gXy5fZGVsYXllZE9uTG9hZD1xLF8uX2RlbGF5ZWRPbkVycm9yPSQsXztpZihfLl90ZXh0dXJlPUc/P18uX2dldEZyb21DYWNoZShfLnVybCxGLHMsXy5faW52ZXJ0WSx4KSxfLl90ZXh0dXJlKWlmKF8uX3RleHR1cmUuaXNSZWFkeSlwci5TZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXtyZXR1cm4gcSgpfSk7ZWxzZXt2YXIgb2U9Xy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHEpO18uX3RleHR1cmUub25FcnJvck9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKFope3ZhciBqOyQoWi5tZXNzYWdlLFouZXhjZXB0aW9uKSwoaj1fLl90ZXh0dXJlKT09PW51bGx8fGo9PT12b2lkIDB8fGoub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZShvZSl9KX1lbHNlIGlmKCFXfHwhVy51c2VEZWxheWVkVGV4dHVyZUxvYWRpbmcpe3RyeXtfLl90ZXh0dXJlPU4uY3JlYXRlVGV4dHVyZShfLnVybCxGLF8uX2ludmVydFksVyxzLHEsJCxfLl9idWZmZXIsdm9pZCAwLF8uX2Zvcm1hdCxfLl9mb3JjZWRFeHRlbnNpb24sYyxkLHAseCl9Y2F0Y2goWil7dGhyb3cgJCgiZXJyb3IgbG9hZGluZyIsWiksWn1sJiYoXy5fYnVmZmVyPW51bGwpfWVsc2UgXy5kZWxheUxvYWRTdGF0ZT00LF8uX2RlbGF5ZWRPbkxvYWQ9cSxfLl9kZWxheWVkT25FcnJvcj0kO3JldHVybiBffXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm5vTWlwbWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vTWlwbWFwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibWltZVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWltZVR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Jsb2NraW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQmxvY2tpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pc0Jsb2NraW5nPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbnZlcnRZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludmVydFl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudXBkYXRlVVJMPWZ1bmN0aW9uKHQscixuLGEpe3I9PT12b2lkIDAmJihyPW51bGwpLHRoaXMudXJsJiYodGhpcy5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCksdGhpcy5nZXRTY2VuZSgpLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKSwoIXRoaXMubmFtZXx8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikpJiYodGhpcy5uYW1lPXQpLHRoaXMudXJsPXQsdGhpcy5fYnVmZmVyPXIsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uPWEsdGhpcy5kZWxheUxvYWRTdGF0ZT00LG4mJih0aGlzLl9kZWxheWVkT25Mb2FkPW4pLHRoaXMuZGVsYXlMb2FkKCl9LGUucHJvdG90eXBlLmRlbGF5TG9hZD1mdW5jdGlvbigpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGU9PT00KXt2YXIgdD10aGlzLmdldFNjZW5lKCk7dCYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9wci5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT10LmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSx0LHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9fSxlLnByb3RvdHlwZS5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uPWZ1bmN0aW9uKHQscixuLGEpe3QqPXRoaXMuX2NhY2hlZFVTY2FsZSxyKj10aGlzLl9jYWNoZWRWU2NhbGUsdC09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHItPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxuLT10aGlzLndSb3RhdGlvbkNlbnRlcixiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsYSksYS54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxhLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LGEueis9dGhpcy53Um90YXRpb25DZW50ZXJ9LGUucHJvdG90eXBlLmNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PW51bGwmJnRoaXMudU9mZnNldD09PXQudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dC52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXQudVNjYWxlJiZ0aGlzLnZTY2FsZT09PXQudlNjYWxlJiZ0aGlzLnVBbmc9PT10LnVBbmcmJnRoaXMudkFuZz09PXQudkFuZyYmdGhpcy53QW5nPT09dC53QW5nfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9MSksdGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGUqdD09PXRoaXMuX2NhY2hlZFVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRWU2NhbGUmJnRoaXMudUFuZz09PXRoaXMuX2NhY2hlZFVBbmcmJnRoaXMudkFuZz09PXRoaXMuX2NhY2hlZFZBbmcmJnRoaXMud0FuZz09PXRoaXMuX2NhY2hlZFdBbmcmJnRoaXMudVJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyJiZ0aGlzLnZSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciYmdGhpcy53Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXImJnRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09PT10aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSlyZXR1cm4gdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUqdCx0aGlzLl9jYWNoZWRWU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkVUFuZz10aGlzLnVBbmcsdGhpcy5fY2FjaGVkVkFuZz10aGlzLnZBbmcsdGhpcy5fY2FjaGVkV0FuZz10aGlzLndBbmcsdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPXRoaXMudVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj10aGlzLnZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9dGhpcy53Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09dGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSwoIXRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh8fCF0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSYmKHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCksdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeD1uZXcgSSx0aGlzLl90MD1iLlplcm8oKSx0aGlzLl90MT1iLlplcm8oKSx0aGlzLl90Mj1iLlplcm8oKSksSS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMudkFuZyx0aGlzLnVBbmcsdGhpcy53QW5nLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpLHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0/KEkuVHJhbnNsYXRpb25Ub1JlZigtdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcixELk1hdHJpeFswXSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLEQuTWF0cml4WzFdKSxJLlNjYWxpbmdUb1JlZih0aGlzLl9jYWNoZWRVU2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlLDAsRC5NYXRyaXhbMl0pLEkuVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVT2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQsMCxELk1hdHJpeFszXSksRC5NYXRyaXhbMF0ubXVsdGlwbHlUb1JlZih0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFsxXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXguc2V0Um93RnJvbUZsb2F0cygyLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEzXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTRdLDEpKToodGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMCwwLHRoaXMuX3QwKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMSwwLDAsdGhpcy5fdDEpLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDEsMCx0aGlzLl90MiksdGhpcy5fdDEuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSx0aGlzLl90Mi5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLEkuRnJvbVZhbHVlc1RvUmVmKHRoaXMuX3QxLngsdGhpcy5fdDEueSx0aGlzLl90MS56LDAsdGhpcy5fdDIueCx0aGlzLl90Mi55LHRoaXMuX3QyLnosMCx0aGlzLl90MC54LHRoaXMuX3QwLnksdGhpcy5fdDAueiwwLDAsMCwwLDEsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCkpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gbj8obi5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc1RleHR1cmUocil9KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTp0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fSxlLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSlpZih0aGlzLmNvb3JkaW5hdGVzTW9kZT09PWUuUFJPSkVDVElPTl9NT0RFKXtpZih0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9PT1yLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9SS5aZXJvKCkpO3ZhciBuPXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBlLlBMQU5BUl9NT0RFOntJLklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeFswXT10aGlzLnVTY2FsZSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzVdPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXhbMTJdPXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzEzXT10aGlzLnZPZmZzZXQ7YnJlYWt9Y2FzZSBlLlBST0pFQ1RJT05fTU9ERTp7SS5Gcm9tVmFsdWVzVG9SZWYoLjUsMCwwLDAsMCwtLjUsMCwwLDAsMCwwLDAsLjUsLjUsMSwxLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4KTt2YXIgYT1yLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9YS51cGRhdGVGbGFnLGEubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0OkkuSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gbiYmci5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKHMpe3JldHVybiBzLmdldEFjdGl2ZVRleHR1cmVzKCkuaW5kZXhPZih0KSE9PS0xfSksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9e25vTWlwbWFwOnRoaXMuX25vTWlwbWFwLGludmVydFk6dGhpcy5faW52ZXJ0WSxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsb25Mb2FkOnZvaWQgMCxvbkVycm9yOnZvaWQgMCxidWZmZXI6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9idWZmZXI6dm9pZCAwLGRlbGV0ZUJ1ZmZlcjp0aGlzLl9kZWxldGVCdWZmZXIsZm9ybWF0OnRoaXMudGV4dHVyZUZvcm1hdCxtaW1lVHlwZTp0aGlzLm1pbWVUeXBlLGxvYWRlck9wdGlvbnM6dGhpcy5fbG9hZGVyT3B0aW9ucyxjcmVhdGlvbkZsYWdzOnRoaXMuX2NyZWF0aW9uRmxhZ3MsdXNlU1JHQkJ1ZmZlcjp0aGlzLl91c2VTUkdCQnVmZmVyfTtyZXR1cm4gSi5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Ll90ZXh0dXJlP3QuX3RleHR1cmUudXJsOm51bGwsdC5nZXRTY2VuZSgpLHIpfSx0aGlzKX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uYW1lO2UuU2VyaWFsaXplQnVmZmVyc3x8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikmJih0aGlzLm5hbWU9IiIpLHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTt2YXIgcj1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gcj8oKGUuU2VyaWFsaXplQnVmZmVyc3x8ZS5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnMpJiYodHlwZW9mIHRoaXMuX2J1ZmZlcj09InN0cmluZyImJnRoaXMuX2J1ZmZlci5zdWJzdHIoMCw1KT09PSJkYXRhOiI/KHIuYmFzZTY0U3RyaW5nPXRoaXMuX2J1ZmZlcixyLm5hbWU9ci5uYW1lLnJlcGxhY2UoImRhdGE6IiwiIikpOnRoaXMudXJsJiZ0aGlzLnVybC5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLl9idWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5P3IuYmFzZTY0U3RyaW5nPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsIitQaSh0aGlzLl9idWZmZXIpOihlLkZvcmNlU2VyaWFsaXplQnVmZmVyc3x8dGhpcy51cmwmJnRoaXMudXJsLnN0YXJ0c1dpdGgoImJsb2I6Iil8fHRoaXMuX2ZvcmNlU2VyaWFsaXplKSYmKHIuYmFzZTY0U3RyaW5nPSF0aGlzLl9lbmdpbmV8fHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuc3VwcG9ydFN5bmNUZXh0dXJlUmVhZD9CYSh0aGlzKTpVYSh0aGlzKSkpLHIuaW52ZXJ0WT10aGlzLl9pbnZlcnRZLHIuc2FtcGxpbmdNb2RlPXRoaXMuc2FtcGxpbmdNb2RlLHIuX2NyZWF0aW9uRmxhZ3M9dGhpcy5fY3JlYXRpb25GbGFncyxyLl91c2VTUkdCQnVmZmVyPXRoaXMuX3VzZVNSR0JCdWZmZXIsdGhpcy5uYW1lPXQscik6bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRleHR1cmUifSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMub25Mb2FkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsfSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXtpZih0LmN1c3RvbVR5cGUpe3ZhciBhPWdyLkluc3RhbnRpYXRlKHQuY3VzdG9tVHlwZSkscz1hLlBhcnNlKHQscixuKTtyZXR1cm4gdC5zYW1wbGluZ01vZGUmJnMudXBkYXRlU2FtcGxpbmdNb2RlJiZzLl9zYW1wbGluZ01vZGUmJnMuX3NhbXBsaW5nTW9kZSE9PXQuc2FtcGxpbmdNb2RlJiZzLnVwZGF0ZVNhbXBsaW5nTW9kZSh0LnNhbXBsaW5nTW9kZSksc31pZih0LmlzQ3ViZSYmIXQuaXNSZW5kZXJUYXJnZXQpcmV0dXJuIGUuX0N1YmVUZXh0dXJlUGFyc2VyKHQscixuKTtpZighdC5uYW1lJiYhdC5pc1JlbmRlclRhcmdldClyZXR1cm4gbnVsbDt2YXIgbz1mdW5jdGlvbigpe2lmKHUmJnUuX3RleHR1cmUmJih1Ll90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsLHUuX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwsdS5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCksdC5zYW1wbGluZ01vZGUpe3ZhciBmPXQuc2FtcGxpbmdNb2RlO3UmJnUuc2FtcGxpbmdNb2RlIT09ZiYmdS51cGRhdGVTYW1wbGluZ01vZGUoZil9aWYodSYmdC5hbmltYXRpb25zKWZvcih2YXIgbD0wO2w8dC5hbmltYXRpb25zLmxlbmd0aDtsKyspe3ZhciBoPXQuYW5pbWF0aW9uc1tsXSxjPVJ0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO2MmJnUuYW5pbWF0aW9ucy5wdXNoKGMuUGFyc2UoaCkpfX0sdT1KLlBhcnNlKGZ1bmN0aW9uKCl7dmFyIGYsbCxoLGM9ITA7aWYodC5ub01pcG1hcCYmKGM9ITEpLHQubWlycm9yUGxhbmUpe3ZhciBkPWUuX0NyZWF0ZU1pcnJvcih0Lm5hbWUsdC5yZW5kZXJUYXJnZXRTaXplLHIsYyk7cmV0dXJuIGQuX3dhaXRpbmdSZW5kZXJMaXN0PXQucmVuZGVyTGlzdCxkLm1pcnJvclBsYW5lPVpyLkZyb21BcnJheSh0Lm1pcnJvclBsYW5lKSxvKCksZH1lbHNlIGlmKHQuaXNSZW5kZXJUYXJnZXQpe3ZhciBwPW51bGw7aWYodC5pc0N1YmUpe2lmKHIucmVmbGVjdGlvblByb2Jlcylmb3IodmFyIGc9MDtnPHIucmVmbGVjdGlvblByb2Jlcy5sZW5ndGg7ZysrKXt2YXIgXz1yLnJlZmxlY3Rpb25Qcm9iZXNbZ107aWYoXy5uYW1lPT09dC5uYW1lKXJldHVybiBfLmN1YmVUZXh0dXJlfX1lbHNlIHA9ZS5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh0Lm5hbWUsdC5yZW5kZXJUYXJnZXRTaXplLHIsYywoZj10Ll9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmYhPT12b2lkIDA/ZjowKSxwLl93YWl0aW5nUmVuZGVyTGlzdD10LnJlbmRlckxpc3Q7cmV0dXJuIG8oKSxwfWVsc2V7dmFyIHY7aWYodC5iYXNlNjRTdHJpbmcpdj1lLkNyZWF0ZUZyb21CYXNlNjRTdHJpbmcodC5iYXNlNjRTdHJpbmcsdC5uYW1lLHIsIWMsdC5pbnZlcnRZLHQuc2FtcGxpbmdNb2RlLG8sKGw9dC5fY3JlYXRpb25GbGFncykhPT1udWxsJiZsIT09dm9pZCAwP2w6MCwoaD10Ll91c2VTUkdCQnVmZmVyKSE9PW51bGwmJmghPT12b2lkIDA/aDohMSk7ZWxzZXt2YXIgeT12b2lkIDA7dC5uYW1lJiZ0Lm5hbWUuaW5kZXhPZigiOi8vIik+MD95PXQubmFtZTp5PW4rdC5uYW1lLHQudXJsJiYodC51cmwuc3RhcnRzV2l0aCgiZGF0YToiKXx8ZS5Vc2VTZXJpYWxpemVkVXJsSWZBbnkpJiYoeT10LnVybCksdj1uZXcgZSh5LHIsIWMsdC5pbnZlcnRZLHQuc2FtcGxpbmdNb2RlLG8pfXJldHVybiB2fX0sdCxyKTtyZXR1cm4gdX0sZS5DcmVhdGVGcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQscixuLGEscyxvLHUsZixsLGgpe3JldHVybiBvPT09dm9pZCAwJiYobz1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPTUpLG5ldyBlKCJkYXRhOiIrcixuLGEscyxvLHUsZix0LCExLGwsdm9pZCAwLHZvaWQgMCxoKX0sZS5Mb2FkRnJvbURhdGFTdHJpbmc9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtyZXR1cm4gYT09PXZvaWQgMCYmKGE9ITEpLG89PT12b2lkIDAmJihvPSEwKSx1PT09dm9pZCAwJiYodT1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLGg9PT12b2lkIDAmJihoPTUpLHQuc3Vic3RyKDAsNSkhPT0iZGF0YToiJiYodD0iZGF0YToiK3QpLG5ldyBlKHQsbixzLG8sdSxmLGwscixhLGgsdm9pZCAwLHZvaWQgMCxjKX0sZS5TZXJpYWxpemVCdWZmZXJzPSEwLGUuRm9yY2VTZXJpYWxpemVCdWZmZXJzPSExLGUuT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZT1uZXcgTyxlLl9DdWJlVGV4dHVyZVBhcnNlcj1mdW5jdGlvbih0LHIsbil7dGhyb3cgWCgiQ3ViZVRleHR1cmUiKX0sZS5fQ3JlYXRlTWlycm9yPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIk1pcnJvclRleHR1cmUiKX0sZS5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbih0LHIsbixhLHMpe3Rocm93IFgoIlJlbmRlclRhcmdldFRleHR1cmUiKX0sZS5ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLGUuTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LGUuQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsZS5MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFPTMsZS5MSU5FQVJfTElORUFSX01JUExJTkVBUj0zLGUuTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxlLk5FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxlLk5FQVJFU1RfTElORUFSX01JUExJTkVBUj02LGUuTkVBUkVTVF9MSU5FQVI9NyxlLk5FQVJFU1RfTkVBUkVTVD0xLGUuTElORUFSX05FQVJFU1RfTUlQTkVBUkVTVD05LGUuTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLGUuTElORUFSX0xJTkVBUj0yLGUuTElORUFSX05FQVJFU1Q9MTIsZS5FWFBMSUNJVF9NT0RFPTAsZS5TUEhFUklDQUxfTU9ERT0xLGUuUExBTkFSX01PREU9MixlLkNVQklDX01PREU9MyxlLlBST0pFQ1RJT05fTU9ERT00LGUuU0tZQk9YX01PREU9NSxlLklOVkNVQklDX01PREU9NixlLkVRVUlSRUNUQU5HVUxBUl9NT0RFPTcsZS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERT04LGUuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxlLkNMQU1QX0FERFJFU1NNT0RFPTAsZS5XUkFQX0FERFJFU1NNT0RFPTEsZS5NSVJST1JfQUREUkVTU01PREU9MixlLlVzZVNlcmlhbGl6ZWRVcmxJZkFueT0hMSxUKFtQKCldLGUucHJvdG90eXBlLCJ1cmwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidU9mZnNldCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInVTY2FsZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2U2NhbGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidUFuZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2QW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIndBbmciLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidVJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInZSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNCbG9ja2luZyIsbnVsbCksZX0oTmEpO3dlKCJCQUJZTE9OLlRleHR1cmUiLHRlKSxKLl9UZXh0dXJlUGFyc2VyPXRlLlBhcnNlO3ZhciBWYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9hdHRhY2htZW50cz1udWxsLHRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj0hMSx0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyPSExLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD0hMSx0aGlzLl9pc011bHRpPWUsdGhpcy5faXNDdWJlPXQsdGhpcy5fc2l6ZT1yLHRoaXMuX2VuZ2luZT1uLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNDdWJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ3ViZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzTXVsdGkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNNdWx0aX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVycz4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2lkdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLmhlaWdodHx8dGhpcy5fc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImxheWVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLmxheWVyc3x8MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbMF0pIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNhbXBsZXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMudGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OjF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0U2FtcGxlcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5zYW1wbGVzPT09ZSYmIXI/ZTp0aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlcz1mdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9ITApLHRoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZyJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX0saS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzO3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0hMCkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPTEpLGE9PT12b2lkIDAmJihhPTE0KSwocz10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDB8fHMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1yLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZW5naW5lLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2l6ZSx7YmlsaW5lYXJGaWx0ZXJpbmc6dCxjb21wYXJpc29uRnVuY3Rpb246ZSxnZW5lcmF0ZVN0ZW5jaWw6cixpc0N1YmU6dGhpcy5faXNDdWJlLHNhbXBsZXM6bixkZXB0aFRleHR1cmVGb3JtYXQ6YX0sdGhpcyksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX0saS5wcm90b3R5cGUuX3NoYXJlRGVwdGg9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9LGkucHJvdG90eXBlLl9zd2FwQW5kRGllPWZ1bmN0aW9uKGUpe3RoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLl9zd2FwQW5kRGllKGUpLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5kaXNwb3NlKCEwKX0saS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbigpe3ZhciBlLHQscixuLGEscyxvPW51bGw7aWYodGhpcy5faXNNdWx0aSl7dmFyIHU9dGhpcy50ZXh0dXJlcztpZih1JiZ1Lmxlbmd0aD4wKXt2YXIgZj0hMSxsPXUubGVuZ3RoLGg9dVt1Lmxlbmd0aC0xXS5fc291cmNlOyhoPT09bWUuRGVwdGh8fGg9PT1tZS5EZXB0aFN0ZW5jaWwpJiYoZj0hMCxsLS0pO2Zvcih2YXIgYz1bXSxkPVtdLHA9MDtwPGw7KytwKXt2YXIgZz11W3BdO2MucHVzaChnLnNhbXBsaW5nTW9kZSksZC5wdXNoKGcudHlwZSl9dmFyIF89e3NhbXBsaW5nTW9kZXM6YyxnZW5lcmF0ZU1pcE1hcHM6dVswXS5nZW5lcmF0ZU1pcE1hcHMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsZ2VuZXJhdGVEZXB0aFRleHR1cmU6Zix0eXBlczpkLHRleHR1cmVDb3VudDpsfSx2PXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH07bz10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXQodixfKX19ZWxzZXt2YXIgeT17fTtpZih5LmdlbmVyYXRlRGVwdGhCdWZmZXI9dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcix5LmdlbmVyYXRlTWlwTWFwcz0odD0oZT10aGlzLnRleHR1cmUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5nZW5lcmF0ZU1pcE1hcHMpIT09bnVsbCYmdCE9PXZvaWQgMD90OiExLHkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcix5LnNhbXBsaW5nTW9kZT0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zYW1wbGluZ01vZGUseS50eXBlPShuPXRoaXMudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnR5cGUseS5mb3JtYXQ9KGE9dGhpcy50ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZm9ybWF0LHRoaXMuaXNDdWJlKW89dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMud2lkdGgseSk7ZWxzZXt2YXIgdj17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbGF5ZXJzOnRoaXMuaXMyREFycmF5PyhzPXRoaXMudGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmRlcHRoOnZvaWQgMH07bz10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh2LHkpfW8udGV4dHVyZS5pc1JlYWR5PSEwfXJldHVybiBvfSxpLnByb3RvdHlwZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5fdGV4dHVyZXMmJmUuX3RleHR1cmVzKWZvcih2YXIgdD0wO3Q8dGhpcy5fdGV4dHVyZXMubGVuZ3RoOysrdCl0aGlzLl90ZXh0dXJlc1t0XS5fc3dhcEFuZERpZShlLl90ZXh0dXJlc1t0XSwhMSksZS5fdGV4dHVyZXNbdF0uaXNSZWFkeT0hMDt0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fc3dhcEFuZERpZShlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmlzUmVhZHk9ITApLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpO2lmKGUpe2lmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpe3ZhciB0PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxpbmdNb2RlLHI9dD09PTJ8fHQ9PT0zfHx0PT09MTE7ZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuX2NvbXBhcmlzb25GdW5jdGlvbixyLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnNhbXBsZXMpfXRoaXMuc2FtcGxlcz4xJiZlLnNldFNhbXBsZXModGhpcy5zYW1wbGVzKSxlLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcih0aGlzKSxlLmRpc3Bvc2UoKX19LGkucHJvdG90eXBlLnJlbGVhc2VUZXh0dXJlcz1mdW5jdGlvbigpe3ZhciBlLHQ7aWYodGhpcy5fdGV4dHVyZXMpZm9yKHZhciByPTA7KHQ9cjwoKGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5sZW5ndGgpKSE9PW51bGwmJnQhPT12b2lkIDAmJnQ7KytyKXRoaXMuX3RleHR1cmVzW3JdLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlcz1udWxsfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe3ZhciB0O2U9PT12b2lkIDAmJihlPSExKSxlfHwoKHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGwsdGhpcy5yZWxlYXNlVGV4dHVyZXMoKSksdGhpcy5fZW5naW5lLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcih0aGlzKX0saX0oKSxrYT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhLHMpe3ZhciBvPWkuY2FsbCh0aGlzLHQscixuLGEpfHx0aGlzO3JldHVybiBvLl9mcmFtZWJ1ZmZlcj1udWxsLG8uX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLG8uX01TQUFGcmFtZWJ1ZmZlcj1udWxsLG8uX2NvbG9yVGV4dHVyZUFycmF5PW51bGwsby5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwsby5fY29udGV4dD1zLG99cmV0dXJuIGUucHJvdG90eXBlLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oKXt2YXIgdD1udWxsO3JldHVybiB0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5Pyh0PXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXZpZXdSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQudGV4dHVyZS5pc1JlYWR5PSEwKTp0PWkucHJvdG90eXBlLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIuY2FsbCh0aGlzKSx0fSxlLnByb3RvdHlwZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyLmNhbGwodGhpcyx0KSx0Ll9mcmFtZWJ1ZmZlcj10aGlzLl9mcmFtZWJ1ZmZlcix0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHQuX01TQUFGcmFtZWJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXIsdC5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXksdC5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSx0aGlzLl9mcmFtZWJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsfSxlLnByb3RvdHlwZS5fc2hhcmVEZXB0aD1mdW5jdGlvbih0KXtpLnByb3RvdHlwZS5fc2hhcmVEZXB0aC5jYWxsKHRoaXMsdCk7dmFyIHI9dGhpcy5fY29udGV4dCxuPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcixhPXQuX2ZyYW1lYnVmZmVyO3QuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmci5kZWxldGVSZW5kZXJidWZmZXIodC5fZGVwdGhTdGVuY2lsQnVmZmVyKSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihhKSxyLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHIuRlJBTUVCVUZGRVIsci5ERVBUSF9BVFRBQ0hNRU5ULHIuUkVOREVSQlVGRkVSLG4pLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKX0sZS5wcm90b3R5cGUuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQscixuLGEpe2lmKHI9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPS0xKSxhPT09dm9pZCAwJiYoYT0wKSwhIXQuX2hhcmR3YXJlVGV4dHVyZSl7dmFyIHM9dGhpcy5fY29udGV4dCxvPXRoaXMuX2ZyYW1lYnVmZmVyLHU9dGhpcy5fZW5naW5lLl9jdXJyZW50RnJhbWVidWZmZXI7dGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG8pO3ZhciBmPXNbdGhpcy5fZW5naW5lLndlYkdMVmVyc2lvbj4xPyJDT0xPUl9BVFRBQ0hNRU5UIityOiJDT0xPUl9BVFRBQ0hNRU5UIityKyJfV0VCR0wiXSxsPW4hPT0tMT9zLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtuOnMuVEVYVFVSRV8yRDtzLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHMuRlJBTUVCVUZGRVIsZixsLHQuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UsYSksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHUpfX0sZS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ITApLGkucHJvdG90eXBlLnNldFRleHR1cmUuY2FsbCh0aGlzLHQscixuKSx0aGlzLl9iaW5kVGV4dHVyZVJlbmRlclRhcmdldCh0LHIpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKTt2YXIgcj10aGlzLl9jb250ZXh0O3R8fCh0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9jb2xvclRleHR1cmVBcnJheSksdGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5JiYodGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwpKSx0aGlzLl9mcmFtZWJ1ZmZlciYmKHIuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZnJhbWVidWZmZXIpLHRoaXMuX2ZyYW1lYnVmZmVyPW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHIuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLHRoaXMuX01TQUFGcmFtZWJ1ZmZlciYmKHIuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fTVNBQUZyYW1lYnVmZmVyKSx0aGlzLl9NU0FBRnJhbWVidWZmZXI9bnVsbCksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCl9LGV9KFZhKTtmZS5wcm90b3R5cGUuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbihpLGUsdCl7dmFyIHI9bmV3IGthKGksZSx0LHRoaXMsdGhpcy5fZ2wpO3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUucHVzaChyKSxyfSxmZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbihpLGUpe3ZhciB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMSxpKSxyPXt9O2UhPT12b2lkIDAmJnR5cGVvZiBlPT0ib2JqZWN0Ij8oci5nZW5lcmF0ZURlcHRoQnVmZmVyPSEhZS5nZW5lcmF0ZURlcHRoQnVmZmVyLHIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSEhZS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsci5ub0NvbG9yVGFyZ2V0PSEhZS5ub0NvbG9yVGFyZ2V0KTooci5nZW5lcmF0ZURlcHRoQnVmZmVyPSEwLHIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLHIubm9Db2xvclRhcmdldD0hMSk7dmFyIG49ci5ub0NvbG9yVGFyZ2V0P251bGw6dGhpcy5fY3JlYXRlSW50ZXJuYWxUZXh0dXJlKGksZSwhMCxtZS5SZW5kZXJUYXJnZXQpLGE9aS53aWR0aHx8aSxzPWkuaGVpZ2h0fHxpLG89dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyLHU9dGhpcy5fZ2wsZj11LmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZiksdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKCEhci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsci5nZW5lcmF0ZURlcHRoQnVmZmVyLGEscyksbiYmIW4uaXMyREFycmF5JiZ1LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHUuRlJBTUVCVUZGRVIsdS5DT0xPUl9BVFRBQ0hNRU5UMCx1LlRFWFRVUkVfMkQsbi5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSwwKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG8pLHQuX2ZyYW1lYnVmZmVyPWYsdC5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj1yLmdlbmVyYXRlRGVwdGhCdWZmZXIsdC5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSEhci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsdC5zZXRUZXh0dXJlcyhuKSx0fSxmZS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihpLGUsdCl7aWYoZS5pc0N1YmUpe3ZhciByPWkud2lkdGh8fGk7cmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbEN1YmVUZXh0dXJlKHIsZSx0KX1lbHNlIHJldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGksZSx0KX0sZmUucHJvdG90eXBlLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj10aGlzLl9nbCxuPWkubGF5ZXJzfHwwLGE9biE9PTA/ci5URVhUVVJFXzJEX0FSUkFZOnIuVEVYVFVSRV8yRCxzPW5ldyB3dCh0aGlzLG1lLkRlcHRoU3RlbmNpbCk7aWYoIXRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uKXJldHVybiBrLkVycm9yKCJEZXB0aCB0ZXh0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyIG9yIGhhcmR3YXJlLiIpLHM7dmFyIG89YnQoe2JpbGluZWFyRmlsdGVyaW5nOiExLGNvbXBhcmlzb25GdW5jdGlvbjowLGdlbmVyYXRlU3RlbmNpbDohMX0sZSk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShhLHMsITApLHRoaXMuX3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShzLGksby5nZW5lcmF0ZVN0ZW5jaWwsby5jb21wYXJpc29uRnVuY3Rpb249PT0wPyExOm8uYmlsaW5lYXJGaWx0ZXJpbmcsby5jb21wYXJpc29uRnVuY3Rpb24pLHMuZm9ybWF0PW8uZ2VuZXJhdGVTdGVuY2lsPzEzOjE2LHQuX2RlcHRoU3RlbmNpbFRleHR1cmU9cyx0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9by5nZW5lcmF0ZVN0ZW5jaWw7dmFyIHU9by5nZW5lcmF0ZVN0ZW5jaWw/ci5VTlNJR05FRF9JTlRfMjRfODpyLlVOU0lHTkVEX0lOVCxmPW8uZ2VuZXJhdGVTdGVuY2lsP3IuREVQVEhfU1RFTkNJTDpyLkRFUFRIX0NPTVBPTkVOVCxsPWY7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJihsPW8uZ2VuZXJhdGVTdGVuY2lsP3IuREVQVEgyNF9TVEVOQ0lMODpyLkRFUFRIX0NPTVBPTkVOVDI0KSxzLmlzMkRBcnJheT9yLnRleEltYWdlM0QoYSwwLGwscy53aWR0aCxzLmhlaWdodCxuLDAsZix1LG51bGwpOnIudGV4SW1hZ2UyRChhLDAsbCxzLndpZHRoLHMuaGVpZ2h0LDAsZix1LG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYSxudWxsKSx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChzKSxzfSxmZS5wcm90b3R5cGUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50PWZ1bmN0aW9uKGksZSl7aWYodGhpcy53ZWJHTFZlcnNpb248Mnx8IWl8fCFpLnRleHR1cmUpcmV0dXJuIDE7aWYoaS5zYW1wbGVzPT09ZSlyZXR1cm4gZTt2YXIgdD10aGlzLl9nbDtlPU1hdGgubWluKGUsdGhpcy5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLGkuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKGkuX2RlcHRoU3RlbmNpbEJ1ZmZlciksaS5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLGkuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIoaS5fTVNBQUZyYW1lYnVmZmVyKSxpLl9NU0FBRnJhbWVidWZmZXI9bnVsbCk7dmFyIHI9aS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmU7aWYoci5fTVNBQVJlbmRlckJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKHIuX01TQUFSZW5kZXJCdWZmZXIpLHIuX01TQUFSZW5kZXJCdWZmZXI9bnVsbCksZT4xJiZ0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSl7dmFyIG49dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBtdWx0aSBzYW1wbGVkIGZyYW1lYnVmZmVyIik7aS5fTVNBQUZyYW1lYnVmZmVyPW4sdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihpLl9NU0FBRnJhbWVidWZmZXIpO3ZhciBhPXRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihpLnRleHR1cmUud2lkdGgsaS50ZXh0dXJlLmhlaWdodCxlLC0xLHRoaXMuX2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChpLnRleHR1cmUudHlwZSksdC5DT0xPUl9BVFRBQ0hNRU5UMCwhMSk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtyLl9NU0FBUmVuZGVyQnVmZmVyPWF9ZWxzZSB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGkuX2ZyYW1lYnVmZmVyKTtyZXR1cm4gaS50ZXh0dXJlLnNhbXBsZXM9ZSxpLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoaS5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGkuX2dlbmVyYXRlRGVwdGhCdWZmZXIsaS50ZXh0dXJlLndpZHRoLGkudGV4dHVyZS5oZWlnaHQsZSksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSxlfSxmZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmU9ZnVuY3Rpb24oaSxlKXt2YXIgdD10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITAsaSkscj1idCh7Z2VuZXJhdGVNaXBNYXBzOiEwLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITAsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6Myxmb3JtYXQ6NX0sZSk7ci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ci5nZW5lcmF0ZURlcHRoQnVmZmVyJiZyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlciwoci50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxyLnR5cGU9PT0yJiYhdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSYmKHIuc2FtcGxpbmdNb2RlPTEpO3ZhciBuPXRoaXMuX2dsLGE9bmV3IHd0KHRoaXMsbWUuUmVuZGVyVGFyZ2V0KTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV9DVUJFX01BUCxhLCEwKTt2YXIgcz10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoci5zYW1wbGluZ01vZGUsci5nZW5lcmF0ZU1pcE1hcHMpO3IudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKHIudHlwZT0wLGsuV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIEN1YmUgcmVuZGVyIHRhcmdldCBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5FU0lHTkVEX0JZVEUgdHlwZSIpKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9NQUdfRklMVEVSLHMubWFnKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9NSU5fRklMVEVSLHMubWluKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9XUkFQX1Msbi5DTEFNUF9UT19FREdFKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9XUkFQX1Qsbi5DTEFNUF9UT19FREdFKTtmb3IodmFyIG89MDtvPDY7bysrKW4udGV4SW1hZ2UyRChuLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtvLDAsdGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoci50eXBlLHIuZm9ybWF0KSxpLGksMCx0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChyLmZvcm1hdCksdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShyLnR5cGUpLG51bGwpO3ZhciB1PW4uY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcih1KSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsci5nZW5lcmF0ZURlcHRoQnVmZmVyLGksaSksci5nZW5lcmF0ZU1pcE1hcHMmJm4uZ2VuZXJhdGVNaXBtYXAobi5URVhUVVJFX0NVQkVfTUFQKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLHQuX2ZyYW1lYnVmZmVyPXUsdC5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj1yLmdlbmVyYXRlRGVwdGhCdWZmZXIsdC5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGEud2lkdGg9aSxhLmhlaWdodD1pLGEuaXNSZWFkeT0hMCxhLmlzQ3ViZT0hMCxhLnNhbXBsZXM9MSxhLmdlbmVyYXRlTWlwTWFwcz1yLmdlbmVyYXRlTWlwTWFwcyxhLnNhbXBsaW5nTW9kZT1yLnNhbXBsaW5nTW9kZSxhLnR5cGU9ci50eXBlLGEuZm9ybWF0PXIuZm9ybWF0LHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKGEpLHQuc2V0VGV4dHVyZXMoYSksdH07dmFyIFZ0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyxfLHYseSl7cz09PXZvaWQgMCYmKHM9ITApLG89PT12b2lkIDAmJihvPTApLHU9PT12b2lkIDAmJih1PSExKSxmPT09dm9pZCAwJiYoZj10ZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFKSxsPT09dm9pZCAwJiYobD0hMCksaD09PXZvaWQgMCYmKGg9ITEpLGM9PT12b2lkIDAmJihjPSExKSxkPT09dm9pZCAwJiYoZD01KSxwPT09dm9pZCAwJiYocD0hMSksdj09PXZvaWQgMCYmKHY9ITEpLHk9PT12b2lkIDAmJih5PSExKTt2YXIgRT10aGlzLFI7aWYoRT1pLmNhbGwodGhpcyxudWxsLG4sIWEsdm9pZCAwLGYsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGQpfHx0aGlzLEUucmVuZGVyUGFydGljbGVzPSEwLEUucmVuZGVyU3ByaXRlcz0hMSxFLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSExLEUub25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgTyxFLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlPW5ldyBPLEUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLEUub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IE8sRS5vbkNsZWFyT2JzZXJ2YWJsZT1uZXcgTyxFLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgTyxFLl9jbGVhcmVkPSExLEUuc2tpcEluaXRpYWxDbGVhcj0hMSxFLl9jdXJyZW50UmVmcmVzaElkPS0xLEUuX3JlZnJlc2hSYXRlPTEsRS5fc2FtcGxlcz0xLEUuX2NhblJlc2NhbGU9ITAsRS5fcmVuZGVyVGFyZ2V0PW51bGwsRS5ib3VuZGluZ0JveFBvc2l0aW9uPWIuWmVybygpLG49RS5nZXRTY2VuZSgpLCFuKXJldHVybiBFO3ZhciBNPUUuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtyZXR1cm4gRS5fY29vcmRpbmF0ZXNNb2RlPXRlLlBST0pFQ1RJT05fTU9ERSxFLnJlbmRlckxpc3Q9bmV3IEFycmF5LEUubmFtZT10LEUuaXNSZW5kZXJUYXJnZXQ9ITAsRS5faW5pdGlhbFNpemVQYXJhbWV0ZXI9cixFLl9yZW5kZXJQYXNzSWRzPVtdLEUuX2lzQ3ViZURhdGE9dSxFLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcihyKSxFLnJlbmRlclBhc3NJZD1FLl9yZW5kZXJQYXNzSWRzWzBdLEUuX3Jlc2l6ZU9ic2VydmVyPU0ub25SZXNpemVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe30pLEUuX2dlbmVyYXRlTWlwTWFwcz0hIWEsRS5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbz1zLEUuX3JlbmRlcmluZ01hbmFnZXI9bmV3IE1yKG4pLEUuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITAsY3x8KEUuX3JlbmRlclRhcmdldE9wdGlvbnM9e2dlbmVyYXRlTWlwTWFwczphLHR5cGU6byxmb3JtYXQ6KFI9RS5fZm9ybWF0KSE9PW51bGwmJlIhPT12b2lkIDA/Ujp2b2lkIDAsc2FtcGxpbmdNb2RlOkUuc2FtcGxpbmdNb2RlLGdlbmVyYXRlRGVwdGhCdWZmZXI6bCxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6aCxzYW1wbGVzOmcsY3JlYXRpb25GbGFnczpfLG5vQ29sb3JUYXJnZXQ6dix1c2VTUkdCQnVmZmVyOnl9LEUuc2FtcGxpbmdNb2RlPT09dGUuTkVBUkVTVF9TQU1QTElOR01PREUmJihFLndyYXBVPXRlLkNMQU1QX0FERFJFU1NNT0RFLEUud3JhcFY9dGUuQ0xBTVBfQUREUkVTU01PREUpLHB8fCh1PyhFLl9yZW5kZXJUYXJnZXQ9bi5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZShFLmdldFJlbmRlclNpemUoKSxFLl9yZW5kZXJUYXJnZXRPcHRpb25zKSxFLmNvb3JkaW5hdGVzTW9kZT10ZS5JTlZDVUJJQ19NT0RFLEUuX3RleHR1cmVNYXRyaXg9SS5JZGVudGl0eSgpKTpFLl9yZW5kZXJUYXJnZXQ9bi5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKEUuX3NpemUsRS5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksRS5fdGV4dHVyZT1FLl9yZW5kZXJUYXJnZXQudGV4dHVyZSxnIT09dm9pZCAwJiYoRS5zYW1wbGVzPWcpKSksRX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJMaXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlckxpc3R9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJMaXN0PXQsdGhpcy5fcmVuZGVyTGlzdCYmdGhpcy5faG9va0FycmF5KHRoaXMuX3JlbmRlckxpc3QpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9ob29rQXJyYXk9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHMsbz1bXSx1PTA7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylvW3VdPWFyZ3VtZW50c1t1XTt2YXIgZj10Lmxlbmd0aD09PTAsbD1uLmFwcGx5KHQsbyk7cmV0dXJuIGYmJigocz1yLmdldFNjZW5lKCkpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5tZXNoZXMuZm9yRWFjaChmdW5jdGlvbihoKXtoLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9KSksbH07dmFyIGE9dC5zcGxpY2U7dC5zcGxpY2U9ZnVuY3Rpb24ocyxvKXt2YXIgdSxmPWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHQubGVuZ3RoPT09MCYmKCh1PXIuZ2V0U2NlbmUoKSk9PT1udWxsfHx1PT09dm9pZCAwfHx1Lm1lc2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGwpe2wuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0pKSxmfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb3N0UHJvY2Vzc2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfcHJlUGFzc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQmJnRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQuZW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQWZ0ZXJVbmJpbmQiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmVmb3JlUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQWZ0ZXJSZW5kZXIiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQ2xlYXIiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25DbGVhck9ic2VydmVyJiZ0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNsZWFyT2JzZXJ2ZXIpLHRoaXMuX29uQ2xlYXJPYnNlcnZlcj10aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlclBhc3NJZHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc0lkc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImN1cnJlbnRSZWZyZXNoSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRNYXRlcmlhbEZvclJlbmRlcmluZz1mdW5jdGlvbih0LHIpe3ZhciBuO0FycmF5LmlzQXJyYXkodCk/bj10Om49W3RdO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7KythKWZvcih2YXIgcz0wO3M8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7KytzKW5bYV0uc2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKHRoaXMuX3JlbmRlclBhc3NJZHNbc10sciE9PXZvaWQgMD9BcnJheS5pc0FycmF5KHIpP3Jbc106cjp2b2lkIDApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlclRhcmdldE9wdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlclRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX29uUmF0aW9SZXNjYWxlPWZ1bmN0aW9uKCl7dGhpcy5fc2l6ZVJhdGlvJiZ0aGlzLnJlc2l6ZSh0aGlzLl9pbml0aWFsU2l6ZVBhcmFtZXRlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYm91bmRpbmdCb3hTaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQm94U2l6ZX0sc2V0OmZ1bmN0aW9uKHQpe2lmKCEodGhpcy5fYm91bmRpbmdCb3hTaXplJiZ0aGlzLl9ib3VuZGluZ0JveFNpemUuZXF1YWxzKHQpKSl7dGhpcy5fYm91bmRpbmdCb3hTaXplPXQ7dmFyIHI9dGhpcy5nZXRTY2VuZSgpO3ImJnIubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVwdGhTdGVuY2lsVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuKHI9KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuX2RlcHRoU3RlbmNpbFRleHR1cmUpIT09bnVsbCYmciE9PXZvaWQgMD9yOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvO3Q9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMSksYT09PXZvaWQgMCYmKGE9MSkscz09PXZvaWQgMCYmKHM9MTQpLChvPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodCxyLG4sYSxzKX0sZS5wcm90b3R5cGUuX3JlbGVhc2VSZW5kZXJQYXNzSWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9zY2VuZSlmb3IodmFyIHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj0wO3I8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7KytyKXQucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLl9yZW5kZXJQYXNzSWRzW3JdKTt0aGlzLl9yZW5kZXJQYXNzSWRzPVtdfSxlLnByb3RvdHlwZS5fY3JlYXRlUmVuZGVyUGFzc0lkPWZ1bmN0aW9uKCl7dGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpO2Zvcih2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPXRoaXMuX2lzQ3ViZURhdGE/Njp0aGlzLmdldFJlbmRlckxheWVycygpfHwxLG49MDtuPHI7KytuKXRoaXMuX3JlbmRlclBhc3NJZHNbbl09dC5jcmVhdGVSZW5kZXJQYXNzSWQoIlJlbmRlclRhcmdldFRleHR1cmUgLSAiLmNvbmNhdCh0aGlzLm5hbWUsIiMiKS5jb25jYXQobikpfSxlLnByb3RvdHlwZS5fcHJvY2Vzc1NpemVQYXJhbWV0ZXI9ZnVuY3Rpb24odCl7aWYodC5yYXRpbyl7dGhpcy5fc2l6ZVJhdGlvPXQucmF0aW87dmFyIHI9dGhpcy5fZ2V0RW5naW5lKCk7dGhpcy5fc2l6ZT17d2lkdGg6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oci5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX3NpemVSYXRpbyksaGVpZ2h0OnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHIuZ2V0UmVuZGVySGVpZ2h0KCksdGhpcy5fc2l6ZVJhdGlvKX19ZWxzZSB0aGlzLl9zaXplPXQ7dGhpcy5fY3JlYXRlUmVuZGVyUGFzc0lkKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2FtcGxlcyIse2dldDpmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuKHI9KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuc2FtcGxlcykhPT1udWxsJiZyIT09dm9pZCAwP3I6dGhpcy5fc2FtcGxlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlclRhcmdldCYmKHRoaXMuX3NhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0LnNldFNhbXBsZXModCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlc2V0UmVmcmVzaENvdW50ZXI9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlZnJlc2hSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZnJlc2hSYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVmcmVzaFJhdGU9dCx0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hZGRQb3N0UHJvY2Vzcz1mdW5jdGlvbih0KXtpZighdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyKXt2YXIgcj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuO3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1uZXcgU3IociksdGhpcy5fcG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXl9dGhpcy5fcG9zdFByb2Nlc3Nlcy5wdXNoKHQpLHRoaXMuX3Bvc3RQcm9jZXNzZXNbMF0uYXV0b0NsZWFyPSExfSxlLnByb3RvdHlwZS5jbGVhclBvc3RQcm9jZXNzZXM9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLCEhdGhpcy5fcG9zdFByb2Nlc3Nlcyl7aWYodClmb3IodmFyIHI9MCxuPXRoaXMuX3Bvc3RQcm9jZXNzZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07YS5kaXNwb3NlKCl9dGhpcy5fcG9zdFByb2Nlc3Nlcz1bXX19LGUucHJvdG90eXBlLnJlbW92ZVBvc3RQcm9jZXNzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3Bvc3RQcm9jZXNzZXMpe3ZhciByPXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0KTtyIT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZShyLDEpLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjAmJih0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMSkpfX0sZS5wcm90b3R5cGUuX3Nob3VsZFJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVmcmVzaElkPT09LTE/KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9MSwhMCk6dGhpcy5yZWZyZXNoUmF0ZT09PXRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ/KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9MSwhMCk6KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQrKywhMSl9LGUucHJvdG90eXBlLmdldFJlbmRlclNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCgpfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUud2lkdGg6dGhpcy5fc2l6ZX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVySGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS5oZWlnaHQ6dGhpcy5fc2l6ZX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyTGF5ZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2l6ZS5sYXllcnM7cmV0dXJuIHR8fDB9LGUucHJvdG90eXBlLmRpc2FibGVSZXNjYWxpbmc9ZnVuY3Rpb24oKXt0aGlzLl9jYW5SZXNjYWxlPSExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhblJlc2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FuUmVzY2FsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXt2YXIgcj1NYXRoLm1heCgxLHRoaXMuZ2V0UmVuZGVyU2l6ZSgpKnQpO3RoaXMucmVzaXplKHIpfSxlLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQ3ViZT90aGlzLl90ZXh0dXJlTWF0cml4OmkucHJvdG90eXBlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt2YXIgcixuPXRoaXMuaXNDdWJlOyhyPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbDt2YXIgYT10aGlzLmdldFNjZW5lKCk7YSYmKHRoaXMuX3Byb2Nlc3NTaXplUGFyYW1ldGVyKHQpLG4/dGhpcy5fcmVuZGVyVGFyZ2V0PWEuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy5nZXRSZW5kZXJTaXplKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyk6dGhpcy5fcmVuZGVyVGFyZ2V0PWEuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLl9zaXplLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpLHRoaXMuX3RleHR1cmU9dGhpcy5fcmVuZGVyVGFyZ2V0LnRleHR1cmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzIT09dm9pZCAwJiYodGhpcy5zYW1wbGVzPXRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyksdGhpcy5vblJlc2l6ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25SZXNpemVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LHIpe3Q9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fcmVuZGVyKHQscil9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JSZW5kZXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyKCExLCExLCEwKX0sZS5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbih0LHIsbil7dmFyIGE7dD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0hMSk7dmFyIHM9dGhpcy5nZXRTY2VuZSgpO2lmKCFzKXJldHVybiBuO3ZhciBvPXMuZ2V0RW5naW5lKCk7aWYodGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzIT09dm9pZCAwJiYodD10aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMpLHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0KXt0aGlzLnJlbmRlckxpc3Q9W107Zm9yKHZhciB1PTA7dTx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdC5sZW5ndGg7dSsrKXt2YXIgZj10aGlzLl93YWl0aW5nUmVuZGVyTGlzdFt1XSxsPXMuZ2V0TWVzaEJ5SWQoZik7bCYmdGhpcy5yZW5kZXJMaXN0LnB1c2gobCl9dGhpcy5fd2FpdGluZ1JlbmRlckxpc3Q9dm9pZCAwfWlmKHRoaXMucmVuZGVyTGlzdFByZWRpY2F0ZSl7dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg9MDp0aGlzLnJlbmRlckxpc3Q9W107dmFyIGg9dGhpcy5nZXRTY2VuZSgpO2lmKCFoKXJldHVybiBuO2Zvcih2YXIgYz1oLm1lc2hlcyx1PTA7dTxjLmxlbmd0aDt1Kyspe3ZhciBsPWNbdV07dGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKGwpJiZ0aGlzLnJlbmRlckxpc3QucHVzaChsKX19dmFyIGQ9by5jdXJyZW50UmVuZGVyUGFzc0lkO3RoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIHA9KGE9dGhpcy5hY3RpdmVDYW1lcmEpIT09bnVsbCYmYSE9PXZvaWQgMD9hOnMuYWN0aXZlQ2FtZXJhO3AmJihwIT09cy5hY3RpdmVDYW1lcmEmJnMuc2V0VHJhbnNmb3JtTWF0cml4KHAuZ2V0Vmlld01hdHJpeCgpLHAuZ2V0UHJvamVjdGlvbk1hdHJpeCghMCkpLG8uc2V0Vmlld3BvcnQocC52aWV3cG9ydCx0aGlzLmdldFJlbmRlcldpZHRoKCksdGhpcy5nZXRSZW5kZXJIZWlnaHQoKSkpLHRoaXMuX2RlZmF1bHRSZW5kZXJMaXN0UHJlcGFyZWQ9ITE7dmFyIGc9bjtpZihuKXtzLmdldFZpZXdNYXRyaXgoKXx8cy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKTtmb3IodmFyIHk9dGhpcy5pczJEQXJyYXk/dGhpcy5nZXRSZW5kZXJMYXllcnMoKTp0aGlzLmlzQ3ViZT82OjEsXz0wO188eSYmZztfKyspe3ZhciBFPW51bGwsUj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OnMuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSxNPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOnMuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO28uY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW19dLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhfKSx0aGlzLmdldEN1c3RvbVJlbmRlckxpc3QmJihFPXRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdChfLFIsTSkpLEV8fChFPVIpLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKTtmb3IodmFyIEM9MDtDPEUubGVuZ3RoJiZnOysrQyl7dmFyIGw9RVtDXTtpZighKCFsLmlzRW5hYmxlZCgpfHxsLmlzQmxvY2tlZHx8IWwuaXNWaXNpYmxlfHwhbC5zdWJNZXNoZXMpKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKGwsdGhpcy5yZWZyZXNoUmF0ZSkpe2c9ITE7YnJlYWt9fWVsc2UgaWYoIWwuaXNSZWFkeSghMCkpe2c9ITE7YnJlYWt9fX10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhfKX19ZWxzZSBpZih0aGlzLmlzMkRBcnJheSlmb3IodmFyIF89MDtfPHRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk7XysrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsdCxyLF8scCkscy5pbmNyZW1lbnRSZW5kZXJJZCgpLHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgaWYodGhpcy5pc0N1YmUpZm9yKHZhciB2PTA7djw2O3YrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCh2LHQscix2b2lkIDAscCkscy5pbmNyZW1lbnRSZW5kZXJJZCgpLHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCx0LHIsdm9pZCAwLHApO3JldHVybiB0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxvLmN1cnJlbnRSZW5kZXJQYXNzSWQ9ZCxzLmFjdGl2ZUNhbWVyYSYmKChzLmdldEVuZ2luZSgpLnNjZW5lcy5sZW5ndGg+MXx8dGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhIT09cy5hY3RpdmVDYW1lcmEpJiZzLnNldFRyYW5zZm9ybU1hdHJpeChzLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCkscy5hY3RpdmVDYW1lcmEuZ2V0UHJvamVjdGlvbk1hdHJpeCghMCkpLG8uc2V0Vmlld3BvcnQocy5hY3RpdmVDYW1lcmEudmlld3BvcnQpKSxzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxnfSxlLnByb3RvdHlwZS5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb249ZnVuY3Rpb24odCxyKXt2YXIgbj0xMjgsYT10KnIscz1oZS5OZWFyZXN0UE9UKGErbipuLyhuK2EpKTtyZXR1cm4gTWF0aC5taW4oaGUuRmxvb3JQT1QodCkscyl9LGUucHJvdG90eXBlLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcj1mdW5jdGlvbih0LHIsbixhKXt2YXIgcz10aGlzLmdldFNjZW5lKCk7aWYocyl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpO2Zvcih2YXIgbz1zLmdldFJlbmRlcklkKCksdT0wO3U8cjt1Kyspe3ZhciBmPXRbdV07aWYoZiYmIWYuaXNCbG9ja2VkKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKGYsdGhpcy5yZWZyZXNoUmF0ZSkpe3RoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpO2NvbnRpbnVlfX1lbHNlIGlmKCFmLmlzUmVhZHkodGhpcy5yZWZyZXNoUmF0ZT09PTApKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX1pZighZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGUmJnMuYWN0aXZlQ2FtZXJhJiYoZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRD1zLmN1c3RvbUxPRFNlbGVjdG9yP3MuY3VzdG9tTE9EU2VsZWN0b3IoZix0aGlzLmFjdGl2ZUNhbWVyYXx8cy5hY3RpdmVDYW1lcmEpOmYuZ2V0TE9EKHRoaXMuYWN0aXZlQ2FtZXJhfHxzLmFjdGl2ZUNhbWVyYSksZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITApLCFmLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EKWNvbnRpbnVlO3ZhciBsPWYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q7bC5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcobyk7dmFyIGg9dm9pZCAwO2lmKGEmJm4/aD0oZi5sYXllck1hc2smbi5sYXllck1hc2spPT09MDpoPSExLGYuaXNFbmFibGVkKCkmJmYuaXNWaXNpYmxlJiZmLnN1Yk1lc2hlcyYmIWgmJihsIT09ZiYmbC5fYWN0aXZhdGUobywhMCksZi5fYWN0aXZhdGUobywhMCkmJmYuc3ViTWVzaGVzLmxlbmd0aCkpe2YuaXNBbkluc3RhbmNlP2YuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihsPWYpOmwuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsbC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITA7Zm9yKHZhciBjPTA7YzxsLnN1Yk1lc2hlcy5sZW5ndGg7YysrKXt2YXIgZD1sLnN1Yk1lc2hlc1tjXTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGQsbCl9fX19Zm9yKHZhciBwPTA7cDxzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cCsrKXt2YXIgZz1zLnBhcnRpY2xlU3lzdGVtc1twXSxfPWcuZW1pdHRlcjshZy5pc1N0YXJ0ZWQoKXx8IV98fCFfLnBvc2l0aW9ufHwhXy5pc0VuYWJsZWQoKXx8dC5pbmRleE9mKF8pPj0wJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoUGFydGljbGVzKGcpfX19LGUucHJvdG90eXBlLl9iaW5kRnJhbWVCdWZmZXI9ZnVuY3Rpb24odCxyKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKTt2YXIgbj10aGlzLmdldFNjZW5lKCk7aWYobil7dmFyIGE9bi5nZXRFbmdpbmUoKTt0aGlzLl9yZW5kZXJUYXJnZXQmJmEuYmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlbmRlclRhcmdldCx0aGlzLmlzQ3ViZT90OnZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQsMCxyKX19LGUucHJvdG90eXBlLl91bmJpbmRGcmFtZUJ1ZmZlcj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7dGhpcy5fcmVuZGVyVGFyZ2V0JiZ0LnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlbmRlclRhcmdldCx0aGlzLmlzQ3ViZSxmdW5jdGlvbigpe24ub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfSl9LGUucHJvdG90eXBlLl9wcmVwYXJlRnJhbWU9ZnVuY3Rpb24odCxyLG4sYSl7dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyP3RoaXMuX3ByZVBhc3NFbmFibGVkfHx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSh0aGlzLl90ZXh0dXJlLHRoaXMuX3Bvc3RQcm9jZXNzZXMpOighYXx8IXQucG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSkpJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIocixuKX0sZS5wcm90b3R5cGUuX3JlbmRlclRvVGFyZ2V0PWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG8sdSxmLGwsaCxjO2E9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPW51bGwpO3ZhciBkPXRoaXMuZ2V0U2NlbmUoKTtpZihkKXt2YXIgcD1kLmdldEVuZ2luZSgpOyhvPXAuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbChwLCJyZW5kZXIgdG8gZmFjZSAjIi5jb25jYXQodCwiIGxheWVyICMiKS5jb25jYXQoYSksMSksdGhpcy5fcHJlcGFyZUZyYW1lKGQsdCxhLHIpLHRoaXMuaXMyREFycmF5PyhwLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1thXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSkpOihwLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1t0XSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpO3ZhciBnPXAuc25hcHNob3RSZW5kZXJpbmcmJnAuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MTtpZihnKXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocCk6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxwLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKTtlbHNle3ZhciBfPW51bGwsdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OmQuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSx5PXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOmQuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3RoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKF89dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KHRoaXMuaXMyREFycmF5P2E6dCx2LHkpKSxfP3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKF8sXy5sZW5ndGgscywhMSk6KHRoaXMuX2RlZmF1bHRSZW5kZXJMaXN0UHJlcGFyZWR8fCh0aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcih2LHkscywhdGhpcy5yZW5kZXJMaXN0KSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSEwKSxfPXYpO2Zvcih2YXIgRT0wLFI9ZC5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZTtFPFIubGVuZ3RoO0UrKyl7dmFyIE09UltFXTtNLmFjdGlvbih0aGlzLHQsYSl9dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhwKTp0aGlzLnNraXBJbml0aWFsQ2xlYXJ8fHAuY2xlYXIodGhpcy5jbGVhckNvbG9yfHxkLmNsZWFyQ29sb3IsITAsITAsITApLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fGQudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKTtmb3IodmFyIEM9MCxBPWQuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZTtDPEEubGVuZ3RoO0MrKyl7dmFyIE09QVtDXTtNLmFjdGlvbih0aGlzLHQsYSl9dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIodGhpcy5jdXN0b21SZW5kZXJGdW5jdGlvbixfLHRoaXMucmVuZGVyUGFydGljbGVzLHRoaXMucmVuZGVyU3ByaXRlcyk7Zm9yKHZhciBTPTAsdz1kLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZTtTPHcubGVuZ3RoO1MrKyl7dmFyIE09d1tTXTtNLmFjdGlvbih0aGlzLHQsYSl9dmFyIEY9KGY9KHU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZmIT09dm9pZCAwP2Y6ITE7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChsPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZsIT09dm9pZCAwP2w6dm9pZCAwLHQsdGhpcy5fcG9zdFByb2Nlc3Nlcyx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0KTpyJiZkLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSghMSwoaD10aGlzLl9yZW5kZXJUYXJnZXQpIT09bnVsbCYmaCE9PXZvaWQgMD9oOnZvaWQgMCx0KSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9RiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ZC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApLG4mJl9lLkR1bXBGcmFtZWJ1ZmZlcih0aGlzLmdldFJlbmRlcldpZHRoKCksdGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxwKX10aGlzLl91bmJpbmRGcmFtZUJ1ZmZlcihwLHQpLHRoaXMuX3RleHR1cmUmJnRoaXMuaXNDdWJlJiZ0PT09NSYmcC5nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwKHRoaXMuX3RleHR1cmUpLChjPXAuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5jYWxsKHAsMSl9fSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdPcmRlcj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKHQscixuLGEpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24odCxyKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbCh0LHIpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITF9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTaXplKCkscj1uZXcgZSh0aGlzLm5hbWUsdCx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gci5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHIubGV2ZWw9dGhpcy5sZXZlbCxyLmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJihyLnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSxyfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO3ZhciB0PWkucHJvdG90eXBlLnNlcmlhbGl6ZS5jYWxsKHRoaXMpO2lmKHQucmVuZGVyVGFyZ2V0U2l6ZT10aGlzLmdldFJlbmRlclNpemUoKSx0LnJlbmRlckxpc3Q9W10sdGhpcy5yZW5kZXJMaXN0KWZvcih2YXIgcj0wO3I8dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDtyKyspdC5yZW5kZXJMaXN0LnB1c2godGhpcy5yZW5kZXJMaXN0W3JdLmlkKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cz1mdW5jdGlvbigpe3ZhciB0Oyh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoITApfSxlLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmKHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW51bGwpLHRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQmJnRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQuZGlzcG9zZSgpLHRoaXMuX3JlbGVhc2VSZW5kZXJQYXNzSWQoKSx0aGlzLmNsZWFyUG9zdFByb2Nlc3NlcyghMCksdGhpcy5fcmVzaXplT2JzZXJ2ZXImJih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkub25SZXNpemVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9yZXNpemVPYnNlcnZlciksdGhpcy5fcmVzaXplT2JzZXJ2ZXI9bnVsbCksdGhpcy5yZW5kZXJMaXN0PW51bGw7dmFyIHI9dGhpcy5nZXRTY2VuZSgpO2lmKHIpe3ZhciBuPXIuY3VzdG9tUmVuZGVyVGFyZ2V0cy5pbmRleE9mKHRoaXMpO24+PTAmJnIuY3VzdG9tUmVuZGVyVGFyZ2V0cy5zcGxpY2UobiwxKTtmb3IodmFyIGE9MCxzPXIuY2FtZXJhczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtuPW8uY3VzdG9tUmVuZGVyVGFyZ2V0cy5pbmRleE9mKHRoaXMpLG4+PTAmJm8uY3VzdG9tUmVuZGVyVGFyZ2V0cy5zcGxpY2UobiwxKX0odD10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX19LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUmF0ZT09PWUuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0UmJih0aGlzLnJlZnJlc2hSYXRlPWUuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0UpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9LGUucHJvdG90eXBlLmZyZWVSZW5kZXJpbmdHcm91cHM9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmZyZWVSZW5kZXJpbmdHcm91cHMoKX0sZS5wcm90b3R5cGUuZ2V0Vmlld0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LGUuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0U9MCxlLlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZRlJBTUU9MSxlLlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZVFdPRlJBTUVTPTIsZX0odGUpO3RlLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKGksZSx0LHIsbil7cmV0dXJuIG5ldyBWdChpLGUsdCxyKX07dmFyIFdhPSJwb3N0cHJvY2Vzc1ZlcnRleFNoYWRlciIsemE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgc2NhbGU7CnZhcnlpbmcgdmVjMiB2VVY7CmNvbnN0IHZlYzIgbWFkZD12ZWMyKDAuNSwwLjUpOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdlVWPShwb3NpdGlvbiptYWRkK21hZGQpKnNjYWxlOwpnbF9Qb3NpdGlvbj12ZWM0KHBvc2l0aW9uLDAuMCwxLjApOwojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbV2FdPXphO3ZhciBucj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcpe289PT12b2lkIDAmJihvPTEpLGw9PT12b2lkIDAmJihsPW51bGwpLGg9PT12b2lkIDAmJihoPTApLGM9PT12b2lkIDAmJihjPSJwb3N0cHJvY2VzcyIpLHA9PT12b2lkIDAmJihwPSExKSxnPT09dm9pZCAwJiYoZz01KSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLndpZHRoPS0xLHRoaXMuaGVpZ2h0PS0xLHRoaXMubm9kZU1hdGVyaWFsU291cmNlPW51bGwsdGhpcy5fb3V0cHV0VGV4dHVyZT1udWxsLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYWxwaGFNb2RlPTAsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU9ITEsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLnNjYWxlTW9kZT0xLHRoaXMuYWx3YXlzRm9yY2VQT1Q9ITEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0PSExLHRoaXMuX3JldXNhYmxlPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMSx0aGlzLl90ZXh0dXJlcz1uZXcgVmUoMiksdGhpcy5fdGV4dHVyZUNhY2hlPVtdLHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPTAsdGhpcy5fc2NhbGVSYXRpbz1uZXcgU2UoMSwxKSx0aGlzLl90ZXhlbFNpemU9U2UuWmVybygpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGU9bmV3IE8sdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5uYW1lPWUscyE9bnVsbD8odGhpcy5fY2FtZXJhPXMsdGhpcy5fc2NlbmU9cy5nZXRTY2VuZSgpLHMuYXR0YWNoUG9zdFByb2Nlc3ModGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCkpOnUmJih0aGlzLl9lbmdpbmU9dSx0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpKSx0aGlzLl9vcHRpb25zPWEsdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGU9b3x8MSx0aGlzLl9yZXVzYWJsZT1mfHwhMSx0aGlzLl90ZXh0dXJlVHlwZT1oLHRoaXMuX3RleHR1cmVGb3JtYXQ9Zyx0aGlzLl9zYW1wbGVycz1ufHxbXSx0aGlzLl9zYW1wbGVycy5wdXNoKCJ0ZXh0dXJlU2FtcGxlciIpLHRoaXMuX2ZyYWdtZW50VXJsPXQsdGhpcy5fdmVydGV4VXJsPWMsdGhpcy5fcGFyYW1ldGVycz1yfHxbXSx0aGlzLl9wYXJhbWV0ZXJzLnB1c2goInNjYWxlIiksdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWQsdGhpcy5fZHJhd1dyYXBwZXI9bmV3IHF0KHRoaXMuX2VuZ2luZSkscHx8dGhpcy51cGRhdGVFZmZlY3QobCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2FtcGxlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zYW1wbGVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9zYW1wbGVzPU1hdGgubWluKGUsdGhpcy5fZW5naW5lLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbihyKXtyLnNhbXBsZXMhPT10Ll9zYW1wbGVzJiZ0Ll9lbmdpbmUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KHIsdC5fc2FtcGxlcyl9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRFZmZlY3ROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZyYWdtZW50VXJsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQWN0aXZhdGUiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25BY3RpdmF0ZU9ic2VydmVyJiZ0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXI9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5hZGQoZSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25TaXplQ2hhbmdlZCIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXImJnRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlciksdGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyPXRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuYWRkKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25BcHBseSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkFwcGx5T2JzZXJ2ZXImJnRoaXMub25BcHBseU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQXBwbHlPYnNlcnZlciksdGhpcy5fb25BcHBseU9ic2VydmVyPXRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25CZWZvcmVSZW5kZXIiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25BZnRlclJlbmRlciIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaW5wdXRUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzLmRhdGFbdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlc3RvcmVEZWZhdWx0SW5wdXRUZXh0dXJlPWZ1bmN0aW9uKCl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9bnVsbCx0aGlzLm1hcmtUZXh0dXJlRGlydHkoKSl9LGkucHJvdG90eXBlLmdldENhbWVyYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYW1lcmF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidGV4ZWxTaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLnRleGVsU2l6ZToodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCwxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0KSx0aGlzLl90ZXhlbFNpemUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJQb3N0UHJvY2VzcyJ9LGkucHJvdG90eXBlLmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmV9LGkucHJvdG90eXBlLmdldEVmZmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9LGkucHJvdG90eXBlLnNoYXJlT3V0cHV0V2l0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGlzcG9zZVRleHR1cmVzKCksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9ZSx0aGlzfSxpLnByb3RvdHlwZS51c2VPd25PdXRwdXQ9ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg9PTAmJih0aGlzLl90ZXh0dXJlcz1uZXcgVmUoMikpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPW51bGx9LGkucHJvdG90eXBlLnVwZGF0ZUVmZmVjdD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2U9PT12b2lkIDAmJihlPW51bGwpLHQ9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPW51bGwpLHRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcz1lLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD10aGlzLl9lbmdpbmUuY3JlYXRlRWZmZWN0KHt2ZXJ0ZXg6bz8/dGhpcy5fdmVydGV4VXJsLGZyYWdtZW50OnU/P3RoaXMuX2ZyYWdtZW50VXJsfSxbInBvc2l0aW9uIl0sdHx8dGhpcy5fcGFyYW1ldGVycyxyfHx0aGlzLl9zYW1wbGVycyxlIT09bnVsbD9lOiIiLHZvaWQgMCxhLHMsbnx8dGhpcy5faW5kZXhQYXJhbWV0ZXJzKX0saS5wcm90b3R5cGUuaXNSZXVzYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXVzYWJsZX0saS5wcm90b3R5cGUubWFya1RleHR1cmVEaXJ0eT1mdW5jdGlvbigpe3RoaXMud2lkdGg9LTF9LGkucHJvdG90eXBlLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0wKTtmb3IodmFyIG49MDtuPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7bisrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlLndpZHRoPT09ZS53aWR0aCYmdGhpcy5fdGV4dHVyZUNhY2hlW25dLnRleHR1cmUuaGVpZ2h0PT09ZS5oZWlnaHQmJnRoaXMuX3RleHR1cmVDYWNoZVtuXS5wb3N0UHJvY2Vzc0NoYW5uZWw9PT1yJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbbl0udGV4dHVyZS5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj09PXQuZ2VuZXJhdGVEZXB0aEJ1ZmZlcilyZXR1cm4gdGhpcy5fdGV4dHVyZUNhY2hlW25dLnRleHR1cmU7dmFyIGE9dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZSx0KTtyZXR1cm4gdGhpcy5fdGV4dHVyZUNhY2hlLnB1c2goe3RleHR1cmU6YSxwb3N0UHJvY2Vzc0NoYW5uZWw6cixsYXN0VXNlZFJlbmRlcklkOi0xfSksYX0saS5wcm90b3R5cGUuX2ZsdXNoVGV4dHVyZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX3JlbmRlcklkLHQ9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGUtdGhpcy5fdGV4dHVyZUNhY2hlW3RdLmxhc3RVc2VkUmVuZGVySWQ+MTAwKXtmb3IodmFyIHI9ITEsbj0wO248dGhpcy5fdGV4dHVyZXMubGVuZ3RoO24rKylpZih0aGlzLl90ZXh0dXJlcy5kYXRhW25dPT09dGhpcy5fdGV4dHVyZUNhY2hlW3RdLnRleHR1cmUpe3I9ITA7YnJlYWt9cnx8KHRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlQ2FjaGUuc3BsaWNlKHQsMSkpfX0saS5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbihlLHQscixuLGEpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD4wJiZ0aGlzLl90ZXh0dXJlcy5yZXNldCgpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O2Zvcih2YXIgcz1udWxsLG89MDtvPHIuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO28rKylpZihyLl9wb3N0UHJvY2Vzc2VzW29dIT09bnVsbCl7cz1yLl9wb3N0UHJvY2Vzc2VzW29dO2JyZWFrfXZhciB1PXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sZj17Z2VuZXJhdGVNaXBNYXBzOm4sZ2VuZXJhdGVEZXB0aEJ1ZmZlcjphfHxzPT09dGhpcyxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6KGF8fHM9PT10aGlzKSYmdGhpcy5fZW5naW5lLmlzU3RlbmNpbEVuYWJsZSxzYW1wbGluZ01vZGU6dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsdHlwZTp0aGlzLl90ZXh0dXJlVHlwZSxmb3JtYXQ6dGhpcy5fdGV4dHVyZUZvcm1hdH07dGhpcy5fdGV4dHVyZXMucHVzaCh0aGlzLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHUsZiwwKSksdGhpcy5fcmV1c2FibGUmJnRoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh1LGYsMSkpLHRoaXMuX3RleGVsU2l6ZS5jb3B5RnJvbUZsb2F0cygxL3RoaXMud2lkdGgsMS90aGlzLmhlaWdodCksdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LGkucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGEsczt0PT09dm9pZCAwJiYodD1udWxsKSxlPWV8fHRoaXMuX2NhbWVyYTt2YXIgbz1lLmdldFNjZW5lKCksdT1vLmdldEVuZ2luZSgpLGY9dS5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemUsbD0odD90LndpZHRoOnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJXaWR0aCghMCkpKnRoaXMuX29wdGlvbnN8MCxoPSh0P3QuaGVpZ2h0OnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJIZWlnaHQoITApKSp0aGlzLl9vcHRpb25zfDAsYz1lLnBhcmVudDtjJiYoYy5sZWZ0Q2FtZXJhPT1lfHxjLnJpZ2h0Q2FtZXJhPT1lKSYmKGwvPTIpO3ZhciBkPXRoaXMuX29wdGlvbnMud2lkdGh8fGwscD10aGlzLl9vcHRpb25zLmhlaWdodHx8aCxnPXRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09NyYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0xJiZ0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTI7aWYoIXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzJiYhdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSl7aWYodGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQpe3ZhciBfPXUuY3VycmVudFZpZXdwb3J0O18mJihkKj1fLndpZHRoLHAqPV8uaGVpZ2h0KX0oZ3x8dGhpcy5hbHdheXNGb3JjZVBPVCkmJih0aGlzLl9vcHRpb25zLndpZHRofHwoZD11Lm5lZWRQT1RUZXh0dXJlcz9oZS5HZXRFeHBvbmVudE9mVHdvKGQsZix0aGlzLnNjYWxlTW9kZSk6ZCksdGhpcy5fb3B0aW9ucy5oZWlnaHR8fChwPXUubmVlZFBPVFRleHR1cmVzP2hlLkdldEV4cG9uZW50T2ZUd28ocCxmLHRoaXMuc2NhbGVNb2RlKTpwKSksKHRoaXMud2lkdGghPT1kfHx0aGlzLmhlaWdodCE9PXApJiZ0aGlzLl9yZXNpemUoZCxwLGUsZyxyKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKFIpe1Iuc2FtcGxlcyE9PW4uc2FtcGxlcyYmbi5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudChSLG4uc2FtcGxlcyl9KSx0aGlzLl9mbHVzaFRleHR1cmVDYWNoZSgpLHRoaXMuX3JlbmRlcklkKyt9dmFyIHY7aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3Mpdj10aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy5pbnB1dFRleHR1cmU7ZWxzZSBpZih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXY9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSx0aGlzLndpZHRoPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQ7ZWxzZXt2PXRoaXMuaW5wdXRUZXh0dXJlO2Zvcih2YXIgeT12b2lkIDAsRT0wO0U8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtFKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW0VdLnRleHR1cmU9PT12KXt5PXRoaXMuX3RleHR1cmVDYWNoZVtFXTticmVha315JiYoeS5sYXN0VXNlZFJlbmRlcklkPXRoaXMuX3JlbmRlcklkKX1yZXR1cm4gdGhpcy5lbmFibGVQaXhlbFBlcmZlY3RNb2RlPyh0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKGwvZCxoL3ApLHRoaXMuX2VuZ2luZS5iaW5kRnJhbWVidWZmZXIodiwwLGwsaCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSk6KHRoaXMuX3NjYWxlUmF0aW8uY29weUZyb21GbG9hdHMoMSwxKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKHYsMCx2b2lkIDAsdm9pZCAwLHRoaXMuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpKSwocz0oYT10aGlzLl9lbmdpbmUpLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwoYSwicG9zdCBwcm9jZXNzICIuY29uY2F0KHRoaXMubmFtZSwiIGlucHV0IikpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuYXV0b0NsZWFyJiZ0aGlzLmFscGhhTW9kZT09PTAmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3I/dGhpcy5jbGVhckNvbG9yOm8uY2xlYXJDb2xvcixvLl9hbGxvd1Bvc3RQcm9jZXNzQ2xlYXJDb2xvciwhMCwhMCksdGhpcy5fcmV1c2FibGUmJih0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZD0odGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQrMSklMiksdn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1N1cHBvcnRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuaXNTdXBwb3J0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhc3BlY3RSYXRpbyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz90aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy5hc3BlY3RSYXRpbzp0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlP3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQ6dGhpcy53aWR0aC90aGlzLmhlaWdodH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5pc1JlYWR5KCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OiExfSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe3ZhciBlO2lmKCEoISgoZT10aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpPT09bnVsbHx8ZT09PXZvaWQgMCkmJmUuaXNSZWFkeSgpKSlyZXR1cm4gbnVsbDt0aGlzLl9lbmdpbmUuZW5hYmxlRWZmZWN0KHRoaXMuX2RyYXdXcmFwcGVyKSx0aGlzLl9lbmdpbmUuc2V0U3RhdGUoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aEJ1ZmZlcighMSksdGhpcy5fZW5naW5lLnNldERlcHRoV3JpdGUoITEpLHRoaXMuX2VuZ2luZS5zZXRBbHBoYU1vZGUodGhpcy5hbHBoYU1vZGUpLHRoaXMuYWxwaGFDb25zdGFudHMmJnRoaXMuZ2V0RW5naW5lKCkuc2V0QWxwaGFDb25zdGFudHModGhpcy5hbHBoYUNvbnN0YW50cy5yLHRoaXMuYWxwaGFDb25zdGFudHMuZyx0aGlzLmFscGhhQ29uc3RhbnRzLmIsdGhpcy5hbHBoYUNvbnN0YW50cy5hKTt2YXIgdDtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dD10aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy5pbnB1dFRleHR1cmU6dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU6dD10aGlzLmlucHV0VGV4dHVyZSx0aGlzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nfHx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuX2JpbmRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Quc2V0VmVjdG9yMigic2NhbGUiLHRoaXMuX3NjYWxlUmF0aW8pLHRoaXMub25BcHBseU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fSxpLnByb3RvdHlwZS5fZGlzcG9zZVRleHR1cmVzPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3N8fHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe3RoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKTtyZXR1cm59dGhpcy5fZGlzcG9zZVRleHR1cmVDYWNoZSgpLHRoaXMuX3RleHR1cmVzLmRpc3Bvc2UoKX0saS5wcm90b3R5cGUuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX3RleHR1cmVDYWNoZVtlXS50ZXh0dXJlLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoPTB9LGkucHJvdG90eXBlLnNldFByZVBhc3NSZW5kZXJlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24/KHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPWUuYWRkRWZmZWN0Q29uZmlndXJhdGlvbih0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbiksdGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24uZW5hYmxlZD0hMCwhMCk6ITF9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLl9jYW1lcmEsdGhpcy5fZGlzcG9zZVRleHR1cmVzKCk7dmFyIHQ7aWYodGhpcy5fc2NlbmUmJih0PXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSkpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIHI9dGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKTtyPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5zcGxpY2UociwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0PXRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSwhIWUpe2lmKGUuZGV0YWNoUG9zdFByb2Nlc3ModGhpcyksdD1lLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdD09PTAmJmUuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjApe3ZhciBuPXRoaXMuX2NhbWVyYS5fZ2V0Rmlyc3RQb3N0UHJvY2VzcygpO24mJm4ubWFya1RleHR1cmVEaXJ0eSgpfXRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpfX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9Si5TZXJpYWxpemUodGhpcyksdD10aGlzLmdldENhbWVyYSgpfHx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiBlLmN1c3RvbVR5cGU9IkJBQllMT04uIit0aGlzLmdldENsYXNzTmFtZSgpLGUuY2FtZXJhSWQ9dD90LmlkOm51bGwsZS5yZXVzYWJsZT10aGlzLl9yZXVzYWJsZSxlLnRleHR1cmVUeXBlPXRoaXMuX3RleHR1cmVUeXBlLGUuZnJhZ21lbnRVcmw9dGhpcy5fZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzPXRoaXMuX3BhcmFtZXRlcnMsZS5zYW1wbGVycz10aGlzLl9zYW1wbGVycyxlLm9wdGlvbnM9dGhpcy5fb3B0aW9ucyxlLmRlZmluZXM9dGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzLGUudGV4dHVyZUZvcm1hdD10aGlzLl90ZXh0dXJlRm9ybWF0LGUudmVydGV4VXJsPXRoaXMuX3ZlcnRleFVybCxlLmluZGV4UGFyYW1ldGVycz10aGlzLl9pbmRleFBhcmFtZXRlcnMsZX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlcmlhbGl6ZSgpO2UuX2VuZ2luZT10aGlzLl9lbmdpbmUsZS5jYW1lcmFJZD1udWxsO3ZhciB0PWkuUGFyc2UoZSx0aGlzLl9zY2VuZSwiIik7cmV0dXJuIHQ/KHQub25BY3RpdmF0ZU9ic2VydmFibGU9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25TaXplQ2hhbmdlZE9ic2VydmFibGU9dGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25BcHBseU9ic2VydmFibGU9dGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5jbG9uZSgpLHQub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsb25lKCksdC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsb25lKCksdC5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb249dGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24sdCk6bnVsbH0saS5QYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIG49UnQoZS5jdXN0b21UeXBlKTtpZighbnx8IW4uX1BhcnNlKXJldHVybiBudWxsO3ZhciBhPXQ/dC5nZXRDYW1lcmFCeUlkKGUuY2FtZXJhSWQpOm51bGw7cmV0dXJuIG4uX1BhcnNlKGUsYSx0LHIpfSxpLl9QYXJzZT1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gSi5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaShlLm5hbWUsZS5mcmFnbWVudFVybCxlLnBhcmFtZXRlcnMsZS5zYW1wbGVycyxlLm9wdGlvbnMsdCxlLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxlLl9lbmdpbmUsZS5yZXVzYWJsZSxlLmRlZmluZXMsZS50ZXh0dXJlVHlwZSxlLnZlcnRleFVybCxlLmluZGV4UGFyYW1ldGVycywhMSxlLnRleHR1cmVGb3JtYXQpfSxlLHIsbil9LFQoW1AoKV0saS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwid2lkdGgiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiaGVpZ2h0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSIsdm9pZCAwKSxUKFtVaSgpXSxpLnByb3RvdHlwZSwiY2xlYXJDb2xvciIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhdXRvQ2xlYXIiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiYWxwaGFNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFscGhhQ29uc3RhbnRzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImVuYWJsZVBpeGVsUGVyZmVjdE1vZGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic2NhbGVNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFsd2F5c0ZvcmNlUE9UIix2b2lkIDApLFQoW1AoInNhbXBsZXMiKV0saS5wcm90b3R5cGUsIl9zYW1wbGVzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCIsdm9pZCAwKSxpfSgpO3dlKCJCQUJZTE9OLlBvc3RQcm9jZXNzIixucik7dmFyIEdhPSJrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uIixYYT0idmFyeWluZyB2ZWMyIHNhbXBsZUNvb3Jke1h9OyI7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHYV09WGE7dmFyIEhhPSJwYWNraW5nRnVuY3Rpb25zIixqYT1gdmVjNCBwYWNrKGZsb2F0IGRlcHRoKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTsKY29uc3QgdmVjNCBiaXRfbWFzaz12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7CnZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7CnJlcy09cmVzLnh4eXoqYml0X21hc2s7CnJldHVybiByZXM7Cn0KZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hhXT1qYTt2YXIgS2E9Imtlcm5lbEJsdXJGcmFnbWVudCIsWWE9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDb29yZHtYfSk7IApjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtLYV09WWE7dmFyIFphPSJrZXJuZWxCbHVyRnJhZ21lbnQyIixxYT1gI2lmZGVmIERPRgpmYWN0b3I9c2FtcGxlQ29DKHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSk7CmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX0RFUF9XRUlHSFR7WH07CiNlbmRpZgojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KSkqY29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtaYV09cWE7dmFyIFFhPSJrZXJuZWxCbHVyUGl4ZWxTaGFkZXIiLCRhPWB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGNhbWVyYU1pbk1heFo7CmZsb2F0IHNhbXBsZURpc3RhbmNlKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGRlcHRoPXRleHR1cmUyRChjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIsb2Zmc2V0KS5nOyAKcmV0dXJuIGNhbWVyYU1pbk1heFoueCsoY2FtZXJhTWluTWF4Wi55LWNhbWVyYU1pbk1heFoueCkqZGVwdGg7IAp9CmZsb2F0IHNhbXBsZUNvQyhpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBjb2M9dGV4dHVyZTJEKGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcixvZmZzZXQpLnI7IApyZXR1cm4gY29jOyAKfQojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbj5bMC4udmFyeWluZ0NvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CmZsb2F0IGNvbXB1dGVkV2VpZ2h0PTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUIApmbG9hdCBibGVuZD0wLjsKI2Vsc2UKdmVjNCBibGVuZD12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBET0YKZmxvYXQgc3VtT2ZXZWlnaHRzPUNFTlRFUl9XRUlHSFQ7IApmbG9hdCBmYWN0b3I9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSkqQ0VOVEVSX1dFSUdIVDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIpKkNFTlRFUl9XRUlHSFQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1ckZyYWdtZW50PlswLi52YXJ5aW5nQ291bnRdCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudDI+WzAuLmRlcENvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKZ2xfRnJhZ0NvbG9yPXBhY2soYmxlbmQpOwojZWxzZQpnbF9GcmFnQ29sb3I9YmxlbmQ7CiNlbmRpZgojaWZkZWYgRE9GCmdsX0ZyYWdDb2xvci89c3VtT2ZXZWlnaHRzOwojZW5kaWYKfWA7TC5TaGFkZXJzU3RvcmVbUWFdPSRhO3ZhciBKYT0ia2VybmVsQmx1clZlcnRleCIsZXM9InNhbXBsZUNvb3Jke1h9PXNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfT0ZGU0VUe1h9OyI7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKYV09ZXM7dmFyIHRzPSJrZXJuZWxCbHVyVmVydGV4U2hhZGVyIixycz1gYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CnVuaWZvcm0gdmVjMiBkZWx0YTsKdmFyeWluZyB2ZWMyIHNhbXBsZUNlbnRlcjsKI2luY2x1ZGU8a2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbj5bMC4udmFyeWluZ0NvdW50XQpjb25zdCB2ZWMyIG1hZGQ9dmVjMigwLjUsMC41KTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnNhbXBsZUNlbnRlcj0ocG9zaXRpb24qbWFkZCttYWRkKTsKI2luY2x1ZGU8a2VybmVsQmx1clZlcnRleD5bMC4udmFyeWluZ0NvdW50XQpnbF9Qb3NpdGlvbj12ZWM0KHBvc2l0aW9uLDAuMCwxLjApOwojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbdHNdPXJzO3ZhciBsaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhLHMsbyx1LGYsbCxoLGMpe289PT12b2lkIDAmJihvPXRlLkJJTElORUFSX1NBTVBMSU5HTU9ERSksbD09PXZvaWQgMCYmKGw9MCksaD09PXZvaWQgMCYmKGg9IiIpLGM9PT12b2lkIDAmJihjPSExKTt2YXIgZD1pLmNhbGwodGhpcyx0LCJrZXJuZWxCbHVyIixbImRlbHRhIiwiZGlyZWN0aW9uIiwiY2FtZXJhTWluTWF4WiJdLFsiY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyIl0sYSxzLG8sdSxmLG51bGwsbCwia2VybmVsQmx1ciIse3ZhcnlpbmdDb3VudDowLGRlcENvdW50OjB9LCEwKXx8dGhpcztyZXR1cm4gZC5fYmxvY2tDb21waWxhdGlvbj1jLGQuX3BhY2tlZEZsb2F0PSExLGQuX3N0YXRpY0RlZmluZXM9IiIsZC5fc3RhdGljRGVmaW5lcz1oLGQuZGlyZWN0aW9uPXIsZC5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocCl7ZC5fb3V0cHV0VGV4dHVyZT9wLnNldEZsb2F0MigiZGVsdGEiLDEvZC5fb3V0cHV0VGV4dHVyZS53aWR0aCpkLmRpcmVjdGlvbi54LDEvZC5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqZC5kaXJlY3Rpb24ueSk6cC5zZXRGbG9hdDIoImRlbHRhIiwxL2Qud2lkdGgqZC5kaXJlY3Rpb24ueCwxL2QuaGVpZ2h0KmQuZGlyZWN0aW9uLnkpfSksZC5rZXJuZWw9bixkfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImtlcm5lbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVhbEtlcm5lbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lkZWFsS2VybmVsIT09dCYmKHQ9TWF0aC5tYXgodCwxKSx0aGlzLl9pZGVhbEtlcm5lbD10LHRoaXMuX2tlcm5lbD10aGlzLl9uZWFyZXN0QmVzdEtlcm5lbCh0KSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFja2VkRmxvYXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFja2VkRmxvYXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYWNrZWRGbG9hdCE9PXQmJih0aGlzLl9wYWNrZWRGbG9hdD10LHRoaXMuX2Jsb2NrQ29tcGlsYXRpb258fHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9LGUucHJvdG90eXBlLnVwZGF0ZUVmZmVjdD1mdW5jdGlvbih0LHIsbixhLHMsbyl7dGhpcy5fdXBkYXRlUGFyYW1ldGVycyhzLG8pfSxlLnByb3RvdHlwZS5fdXBkYXRlUGFyYW1ldGVycz1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj10aGlzLl9rZXJuZWwsYT0obi0xKS8yLHM9W10sbz1bXSx1PTAsZj0wO2Y8bjtmKyspe3ZhciBsPWYvKG4tMSksaD10aGlzLl9nYXVzc2lhbldlaWdodChsKjItMSk7c1tmXT1mLWEsb1tmXT1oLHUrPWh9Zm9yKHZhciBmPTA7ZjxvLmxlbmd0aDtmKyspb1tmXS89dTtmb3IodmFyIGM9W10sZD1bXSxwPVtdLGY9MDtmPD1hO2YrPTIpe3ZhciBnPU1hdGgubWluKGYrMSxNYXRoLmZsb29yKGEpKSxfPWY9PT1nO2lmKF8pcC5wdXNoKHtvOnNbZl0sdzpvW2ZdfSk7ZWxzZXt2YXIgdj1nPT09YSx5PW9bZl0rb1tnXSoodj8uNToxKSxFPXNbZl0rMS8oMStvW2ZdL29bZ10pO0U9PT0wPyhwLnB1c2goe286c1tmXSx3Om9bZl19KSxwLnB1c2goe286c1tmKzFdLHc6b1tmKzFdfSkpOihwLnB1c2goe286RSx3Onl9KSxwLnB1c2goe286LUUsdzp5fSkpfX1mb3IodmFyIGY9MDtmPHAubGVuZ3RoO2YrKylkW2ZdPXBbZl0ubyxjW2ZdPXBbZl0udztzPWQsbz1jO3ZhciBSPXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLE09TWF0aC5tYXgoUiwwKS0xLEM9TWF0aC5taW4ocy5sZW5ndGgsTSksQT0iIjtBKz10aGlzLl9zdGF0aWNEZWZpbmVzLHRoaXMuX3N0YXRpY0RlZmluZXMuaW5kZXhPZigiRE9GIikhPS0xJiYoQSs9IiNkZWZpbmUgQ0VOVEVSX1dFSUdIVCAiLmNvbmNhdCh0aGlzLl9nbHNsRmxvYXQob1tDLTFdKSxgXHIKYCksQy0tKTtmb3IodmFyIGY9MDtmPEM7ZisrKUErPSIjZGVmaW5lIEtFUk5FTF9PRkZTRVQiLmNvbmNhdChmLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChzW2ZdKSxgXHIKYCksQSs9IiNkZWZpbmUgS0VSTkVMX1dFSUdIVCIuY29uY2F0KGYsIiAiKS5jb25jYXQodGhpcy5fZ2xzbEZsb2F0KG9bZl0pLGBccgpgKTtmb3IodmFyIFM9MCxmPU07ZjxzLmxlbmd0aDtmKyspQSs9IiNkZWZpbmUgS0VSTkVMX0RFUF9PRkZTRVQiLmNvbmNhdChTLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChzW2ZdKSxgXHIKYCksQSs9IiNkZWZpbmUgS0VSTkVMX0RFUF9XRUlHSFQiLmNvbmNhdChTLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChvW2ZdKSxgXHIKYCksUysrO3RoaXMucGFja2VkRmxvYXQmJihBKz0iI2RlZmluZSBQQUNLRURGTE9BVCAxIiksdGhpcy5fYmxvY2tDb21waWxhdGlvbj0hMSxpLnByb3RvdHlwZS51cGRhdGVFZmZlY3QuY2FsbCh0aGlzLEEsbnVsbCxudWxsLHt2YXJ5aW5nQ291bnQ6QyxkZXBDb3VudDpTfSx0LHIpfSxlLnByb3RvdHlwZS5fbmVhcmVzdEJlc3RLZXJuZWw9ZnVuY3Rpb24odCl7Zm9yKHZhciByPU1hdGgucm91bmQodCksbj0wLGE9W3Isci0xLHIrMSxyLTIscisyXTtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtpZihzJTIhPT0wJiZNYXRoLmZsb29yKHMvMiklMj09PTAmJnM+MClyZXR1cm4gTWF0aC5tYXgocywzKX1yZXR1cm4gTWF0aC5tYXgociwzKX0sZS5wcm90b3R5cGUuX2dhdXNzaWFuV2VpZ2h0PWZ1bmN0aW9uKHQpe3ZhciByPS4zMzMzMzMzMzMzMzMzMzMzLG49TWF0aC5zcXJ0KDIqTWF0aC5QSSkqcixhPS0odCp0LygyKnIqcikpLHM9MS9uKk1hdGguZXhwKGEpO3JldHVybiBzfSxlLnByb3RvdHlwZS5fZ2xzbEZsb2F0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPTgpLHQudG9GaXhlZChyKS5yZXBsYWNlKC8wKyQvLCIiKX0sZS5fUGFyc2U9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIEouUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5uYW1lLHQuZGlyZWN0aW9uLHQua2VybmVsLHQub3B0aW9ucyxyLHQucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLG4uZ2V0RW5naW5lKCksdC5yZXVzYWJsZSx0LnRleHR1cmVUeXBlLHZvaWQgMCwhMSl9LHQsbixhKX0sVChbUCgia2VybmVsIildLGUucHJvdG90eXBlLCJfa2VybmVsIix2b2lkIDApLFQoW1AoInBhY2tlZEZsb2F0IildLGUucHJvdG90eXBlLCJfcGFja2VkRmxvYXQiLHZvaWQgMCksVChbdGEoKV0sZS5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKSxlfShucik7d2UoIkJBQllMT04uQmx1clBvc3RQcm9jZXNzIixsaSk7dmFyIGhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2RlZmluZXM9e30sdGhpcy5fY3VycmVudFJhbms9MzIsdGhpcy5fbWF4UmFuaz0tMSx0aGlzLl9tZXNoPW51bGx9cmV0dXJuIGkucHJvdG90eXBlLnVuQmluZE1lc2g9ZnVuY3Rpb24oKXt0aGlzLl9tZXNoPW51bGx9LGkucHJvdG90eXBlLmFkZEZhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGVmaW5lc1tlXXx8KGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpLHRoaXMuX2RlZmluZXNbZV09bmV3IEFycmF5KSx0aGlzLl9kZWZpbmVzW2VdLnB1c2godCl9LGkucHJvdG90eXBlLmFkZENQVVNraW5uaW5nRmFsbGJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLl9tZXNoPXQsZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzTW9yZUZhbGxiYWNrcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmFuazw9dGhpcy5fbWF4UmFua30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9tZXNoJiZ0aGlzLl9tZXNoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmdGhpcy5fbWVzaC5udW1Cb25lSW5mbHVlbmNlcnM+MCl7dGhpcy5fbWVzaC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITEsZT1lLnJlcGxhY2UoIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgIit0aGlzLl9tZXNoLm51bUJvbmVJbmZsdWVuY2VycywiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIiksdC5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVPSEwO2Zvcih2YXIgcj10aGlzLl9tZXNoLmdldFNjZW5lKCksbj0wO248ci5tZXNoZXMubGVuZ3RoO24rKyl7dmFyIGE9ci5tZXNoZXNbbl07aWYoIWEubWF0ZXJpYWwpeyF0aGlzLl9tZXNoLm1hdGVyaWFsJiZhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmYS5udW1Cb25lSW5mbHVlbmNlcnM+MCYmKGEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKTtjb250aW51ZX1pZighKCFhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8YS5udW1Cb25lSW5mbHVlbmNlcnM9PT0wKSl7aWYoYS5tYXRlcmlhbC5nZXRFZmZlY3QoKT09PXQpYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7ZWxzZSBpZihhLnN1Yk1lc2hlcylmb3IodmFyIHM9MCxvPWEuc3ViTWVzaGVzO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdLGY9dS5lZmZlY3Q7aWYoZj09PXQpe2EuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2JyZWFrfX19fX1lbHNle3ZhciBsPXRoaXMuX2RlZmluZXNbdGhpcy5fY3VycmVudFJhbmtdO2lmKGwpZm9yKHZhciBuPTA7bjxsLmxlbmd0aDtuKyspZT1lLnJlcGxhY2UoIiNkZWZpbmUgIitsW25dLCIiKTt0aGlzLl9jdXJyZW50UmFuaysrfXJldHVybiBlfSxpfSgpLGlzPSJiYXllckRpdGhlckZ1bmN0aW9ucyIsbnM9YGZsb2F0IGJheWVyRGl0aGVyMih2ZWMyIF9QKSB7CnJldHVybiBtb2QoMi4wKl9QLnkrX1AueCsxLjAsNC4wKTsKfQpmbG9hdCBiYXllckRpdGhlcjQodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOyAKdmVjMiBQMj1mbG9vcigwLjUqbW9kKF9QLDQuMCkpOyAKcmV0dXJuIDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMik7Cn0KZmxvYXQgYmF5ZXJEaXRoZXI4KHZlYzIgX1ApIHsKdmVjMiBQMT1tb2QoX1AsMi4wKTsgCnZlYzIgUDI9Zmxvb3IoMC41ICptb2QoX1AsNC4wKSk7IAp2ZWMyIFA0PWZsb29yKDAuMjUqbW9kKF9QLDguMCkpOyAKcmV0dXJuIDQuMCooNC4wKmJheWVyRGl0aGVyMihQMSkrYmF5ZXJEaXRoZXIyKFAyKSkrYmF5ZXJEaXRoZXIyKFA0KTsKfQpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaXNdPW5zO3ZhciBhcz0ic2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uIixzcz1gI2lmIFNNX0ZMT0FUPT0wCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpbmNsdWRlPGJheWVyRGl0aGVyRnVuY3Rpb25zPgp1bmlmb3JtIGZsb2F0IHNvZnRUcmFuc3BhcmVudFNoYWRvd1NNOwojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnVuaWZvcm0gdmVjMyBsaWdodERhdGFTTTsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCnVuaWZvcm0gdmVjMyBiaWFzQW5kU2NhbGVTTTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYXNdPXNzO3ZhciBvcz0iY2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbiIsdXM9YCNpZmRlZiBDTElQUExBTkUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U0OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb3NdPXVzO3ZhciBmcz0iY2xpcFBsYW5lRnJhZ21lbnQiLGxzPWAjaWYgZGVmaW5lZChDTElQUExBTkUpIHx8IGRlZmluZWQoQ0xJUFBMQU5FMikgfHwgZGVmaW5lZChDTElQUExBTkUzKSB8fCBkZWZpbmVkKENMSVBQTEFORTQpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNSkgfHwgZGVmaW5lZChDTElQUExBTkU2KQppZiAoZmFsc2UpIHt9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FCmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCmVsc2UgaWYgKGZDbGlwRGlzdGFuY2UyPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwplbHNlIGlmIChmQ2xpcERpc3RhbmNlMz4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTQKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTQ+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U1PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgplbHNlIGlmIChmQ2xpcERpc3RhbmNlNj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2ZzXT1sczt2YXIgaHM9InNoYWRvd01hcEZyYWdtZW50Iixjcz1gZmxvYXQgZGVwdGhTTT12RGVwdGhNZXRyaWNTTTsKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQojaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmRlcHRoU009KC16U00rZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKZGVwdGhTTT0oelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX0ZyYWdEZXB0aD1jbGFtcCgxLjAtZGVwdGhTTSwwLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0RlcHRoPWNsYW1wKGRlcHRoU00sMC4wLDEuMCk7IAojZW5kaWYKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNpZiBTTV9FU009PTEKZGVwdGhTTT1jbGFtcChleHAoLW1pbig4Ny4sYmlhc0FuZFNjYWxlU00ueipkZXB0aFNNKSksMC4sMS4pOwojZW5kaWYKI2lmIFNNX0ZMT0FUPT0xCmdsX0ZyYWdDb2xvcj12ZWM0KGRlcHRoU00sMS4wLDEuMCwxLjApOwojZWxzZQpnbF9GcmFnQ29sb3I9cGFjayhkZXB0aFNNKTsKI2VuZGlmCnJldHVybjtgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaHNdPWNzO3ZhciBkcz0ic2hhZG93TWFwUGl4ZWxTaGFkZXIiLHBzPWAjaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudEV4dHJhRGVjbGFyYXRpb24+CiNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVTVApmbG9hdCBhbHBoYUZyb21BbHBoYVRleHR1cmU9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTsKaWYgKGFscGhhRnJvbUFscGhhVGV4dHVyZTxBTFBIQVRFU1RWQUxVRSkKZGlzY2FyZDsKI2VuZGlmCiNpZiBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1c9PTEKI2lmZGVmIEFMUEhBVEVTVAppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00qYWxwaGFGcm9tQWxwaGFUZXh0dXJlKSBkaXNjYXJkOwojZWxzZQppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00pIGRpc2NhcmQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwRnJhZ21lbnQ+Cn1gO0wuU2hhZGVyc1N0b3JlW2RzXT1wczt2YXIgX3M9ImJvbmVzRGVjbGFyYXRpb24iLGdzPWAjaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc0luZGljZXM7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0czsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzRXh0cmE7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0c0V4dHJhOwojZW5kaWYKI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmZGVmIEJPTkVURVhUVVJFCnVuaWZvcm0gc2FtcGxlcjJEIGJvbmVTYW1wbGVyOwp1bmlmb3JtIGZsb2F0IGJvbmVUZXh0dXJlV2lkdGg7CiNlbHNlCnVuaWZvcm0gbWF0NCBtQm9uZXNbQm9uZXNQZXJNZXNoXTsKI2lmZGVmIEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQKdW5pZm9ybSBtYXQ0IG1QcmV2aW91c0JvbmVzW0JvbmVzUGVyTWVzaF07CiNlbmRpZgojZW5kaWYKI2lmZGVmIEJPTkVURVhUVVJFCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgpCnsKZmxvYXQgb2Zmc2V0PWluZGV4ICo0LjA7CmZsb2F0IGR4PTEuMC9ib25lVGV4dHVyZVdpZHRoOwp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksMC4pKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLDAuKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSwwLikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksMC4pKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtfc109Z3M7dmFyIHZzPSJiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uIixtcz1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp1bmlmb3JtIGZsb2F0IGJha2VkVmVydGV4QW5pbWF0aW9uVGltZTsKdW5pZm9ybSB2ZWMyIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZDsKdW5pZm9ybSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3M7CnVuaWZvcm0gc2FtcGxlcjJEIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZTsKI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkOwojZW5kaWYKI2RlZmluZSBpbmxpbmUKbWF0NCByZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoc2FtcGxlcjJEIHNtcCxmbG9hdCBpbmRleCxmbG9hdCBmcmFtZSkKewpmbG9hdCBvZmZzZXQ9aW5kZXgqNC4wOwpmbG9hdCBmcmFtZVVWPShmcmFtZSswLjUpKmJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC55OwpmbG9hdCBkeD1iYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLGZyYW1lVVYpKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLGZyYW1lVVYpKTsKdmVjNCBtMj10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsyLjUpLGZyYW1lVVYpKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLGZyYW1lVVYpKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdnNdPW1zO3ZhciB5cz0ibW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24iLGJzPWAjaWZkZWYgTU9SUEhUQVJHRVRTCnVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRSAKcHJlY2lzaW9uIG1lZGl1bXAgc2FtcGxlcjJEQXJyYXk7IAp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbTlVNX01PUlBIX0lORkxVRU5DRVJTXTsKdW5pZm9ybSB2ZWMzIG1vcnBoVGFyZ2V0VGV4dHVyZUluZm87CnVuaWZvcm0gc2FtcGxlcjJEQXJyYXkgbW9ycGhUYXJnZXRzOwp2ZWMzIHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoaW50IHRhcmdldEluZGV4LGZsb2F0IHZlcnRleEluZGV4KQp7IApmbG9hdCB5PWZsb29yKHZlcnRleEluZGV4L21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueSk7CmZsb2F0IHg9dmVydGV4SW5kZXgteSptb3JwaFRhcmdldFRleHR1cmVJbmZvLnk7CnZlYzMgdGV4dHVyZVVWPXZlYzMoKHgrMC41KS9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnksKHkrMC41KS9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnosbW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlc1t0YXJnZXRJbmRleF0pOwpyZXR1cm4gdGV4dHVyZShtb3JwaFRhcmdldHMsdGV4dHVyZVVWKS54eXo7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeXNdPWJzO3ZhciBFcz0ibW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24iLFRzPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZm5kZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKYXR0cmlidXRlIHZlYzMgcG9zaXRpb257WH07CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAphdHRyaWJ1dGUgdmVjMyB0YW5nZW50e1h9OwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgphdHRyaWJ1dGUgdmVjMiB1dl97WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtFc109VHM7dmFyIFNzPSJoZWxwZXJGdW5jdGlvbnMiLE1zPWBjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTU7CmNvbnN0IGZsb2F0IEhBTEZfTUlOPTUuOTYwNDY0NDhlLTA4OyAKY29uc3QgZmxvYXQgTGluZWFyRW5jb2RlUG93ZXJBcHByb3g9Mi4yOwpjb25zdCBmbG9hdCBHYW1tYUVuY29kZVBvd2VyQXBwcm94PTEuMC9MaW5lYXJFbmNvZGVQb3dlckFwcHJveDsKY29uc3QgdmVjMyBMdW1pbmFuY2VFbmNvZGVBcHByb3g9dmVjMygwLjIxMjYsMC43MTUyLDAuMDcyMik7CmNvbnN0IGZsb2F0IEVwc2lsb249MC4wMDAwMDAxOwojZGVmaW5lIHNhdHVyYXRlKHgpIGNsYW1wKHgsMC4wLDEuMCkKI2RlZmluZSBhYnNFcHMoeCkgYWJzKHgpK0Vwc2lsb24KI2RlZmluZSBtYXhFcHMoeCkgbWF4KHgsRXBzaWxvbikKI2RlZmluZSBzYXR1cmF0ZUVwcyh4KSBjbGFtcCh4LEVwc2lsb24sMS4wKQptYXQzIHRyYW5zcG9zZU1hdDMobWF0MyBpbk1hdHJpeCkgewp2ZWMzIGkwPWluTWF0cml4WzBdOwp2ZWMzIGkxPWluTWF0cml4WzFdOwp2ZWMzIGkyPWluTWF0cml4WzJdOwptYXQzIG91dE1hdHJpeD1tYXQzKAp2ZWMzKGkwLngsaTEueCxpMi54KSwKdmVjMyhpMC55LGkxLnksaTIueSksCnZlYzMoaTAueixpMS56LGkyLnopCik7CnJldHVybiBvdXRNYXRyaXg7Cn0KbWF0MyBpbnZlcnNlTWF0MyhtYXQzIGluTWF0cml4KSB7CmZsb2F0IGEwMD1pbk1hdHJpeFswXVswXSxhMDE9aW5NYXRyaXhbMF1bMV0sYTAyPWluTWF0cml4WzBdWzJdOwpmbG9hdCBhMTA9aW5NYXRyaXhbMV1bMF0sYTExPWluTWF0cml4WzFdWzFdLGExMj1pbk1hdHJpeFsxXVsyXTsKZmxvYXQgYTIwPWluTWF0cml4WzJdWzBdLGEyMT1pbk1hdHJpeFsyXVsxXSxhMjI9aW5NYXRyaXhbMl1bMl07CmZsb2F0IGIwMT1hMjIqYTExLWExMiphMjE7CmZsb2F0IGIxMT0tYTIyKmExMCthMTIqYTIwOwpmbG9hdCBiMjE9YTIxKmExMC1hMTEqYTIwOwpmbG9hdCBkZXQ9YTAwKmIwMSthMDEqYjExK2EwMipiMjE7CnJldHVybiBtYXQzKGIwMSwoLWEyMiphMDErYTAyKmEyMSksKGExMiphMDEtYTAyKmExMSksCmIxMSwoYTIyKmEwMC1hMDIqYTIwKSwoLWExMiphMDArYTAyKmExMCksCmIyMSwoLWEyMSphMDArYTAxKmEyMCksKGExMSphMDAtYTAxKmExMCkpL2RldDsKfQpmbG9hdCB0b0xpbmVhclNwYWNlKGZsb2F0IGNvbG9yKQp7CnJldHVybiBwb3coY29sb3IsTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpOwp9CnZlYzMgdG9MaW5lYXJTcGFjZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBwb3coY29sb3IsdmVjMyhMaW5lYXJFbmNvZGVQb3dlckFwcHJveCkpOwp9CnZlYzQgdG9MaW5lYXJTcGFjZSh2ZWM0IGNvbG9yKQp7CnJldHVybiB2ZWM0KHBvdyhjb2xvci5yZ2IsdmVjMyhMaW5lYXJFbmNvZGVQb3dlckFwcHJveCkpLGNvbG9yLmEpOwp9CnZlYzMgdG9HYW1tYVNwYWNlKHZlYzMgY29sb3IpCnsKcmV0dXJuIHBvdyhjb2xvcix2ZWMzKEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpKTsKfQp2ZWM0IHRvR2FtbWFTcGFjZSh2ZWM0IGNvbG9yKQp7CnJldHVybiB2ZWM0KHBvdyhjb2xvci5yZ2IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7Cn0KZmxvYXQgdG9HYW1tYVNwYWNlKGZsb2F0IGNvbG9yKQp7CnJldHVybiBwb3coY29sb3IsR2FtbWFFbmNvZGVQb3dlckFwcHJveCk7Cn0KZmxvYXQgc3F1YXJlKGZsb2F0IHZhbHVlKQp7CnJldHVybiB2YWx1ZSp2YWx1ZTsKfQp2ZWMzIHNxdWFyZSh2ZWMzIHZhbHVlKQp7CnJldHVybiB2YWx1ZSp2YWx1ZTsKfQpmbG9hdCBwb3c1KGZsb2F0IHZhbHVlKSB7CmZsb2F0IHNxPXZhbHVlKnZhbHVlOwpyZXR1cm4gc3Eqc3EqdmFsdWU7Cn0KZmxvYXQgZ2V0THVtaW5hbmNlKHZlYzMgY29sb3IpCnsKcmV0dXJuIGNsYW1wKGRvdChjb2xvcixMdW1pbmFuY2VFbmNvZGVBcHByb3gpLDAuLDEuKTsKfQpmbG9hdCBnZXRSYW5kKHZlYzIgc2VlZCkgewpyZXR1cm4gZnJhY3Qoc2luKGRvdChzZWVkLnh5ICx2ZWMyKDEyLjk4OTgsNzguMjMzKSkpKjQzNzU4LjU0NTMpOwp9CmZsb2F0IGRpdGhlcih2ZWMyIHNlZWQsZmxvYXQgdmFyaWFuY2VBbW91bnQpIHsKZmxvYXQgcmFuZD1nZXRSYW5kKHNlZWQpOwpmbG9hdCBkaXRoZXI9bWl4KC12YXJpYW5jZUFtb3VudC8yNTUuMCx2YXJpYW5jZUFtb3VudC8yNTUuMCxyYW5kKTsKcmV0dXJuIGRpdGhlcjsKfQpjb25zdCBmbG9hdCByZ2JkTWF4UmFuZ2U9MjU1LjA7CnZlYzQgdG9SR0JEKHZlYzMgY29sb3IpIHsKZmxvYXQgbWF4UkdCPW1heEVwcyhtYXgoY29sb3IucixtYXgoY29sb3IuZyxjb2xvci5iKSkpOwpmbG9hdCBEID1tYXgocmdiZE1heFJhbmdlL21heFJHQiwxLik7CkQgPWNsYW1wKGZsb29yKEQpLzI1NS4wLDAuLDEuKTsKdmVjMyByZ2I9Y29sb3IucmdiKkQ7CnJnYj10b0dhbW1hU3BhY2UocmdiKTsKcmV0dXJuIHZlYzQoY2xhbXAocmdiLDAuLDEuKSxEKTsgCn0KdmVjMyBmcm9tUkdCRCh2ZWM0IHJnYmQpIHsKcmdiZC5yZ2I9dG9MaW5lYXJTcGFjZShyZ2JkLnJnYik7CnJldHVybiByZ2JkLnJnYi9yZ2JkLmE7Cn0KdmVjMyBwYXJhbGxheENvcnJlY3ROb3JtYWwoIHZlYzMgdmVydGV4UG9zLHZlYzMgb3JpZ1ZlYyx2ZWMzIGN1YmVTaXplLHZlYzMgY3ViZVBvcyApIHsKdmVjMyBpbnZPcmlnVmVjPXZlYzMoMS4wLDEuMCwxLjApL29yaWdWZWM7CnZlYzMgaGFsZlNpemU9Y3ViZVNpemUqMC41Owp2ZWMzIGludGVyc2VjQXRNYXhQbGFuZT0oY3ViZVBvcytoYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgaW50ZXJzZWNBdE1pblBsYW5lPShjdWJlUG9zLWhhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBsYXJnZXN0SW50ZXJzZWM9bWF4KGludGVyc2VjQXRNYXhQbGFuZSxpbnRlcnNlY0F0TWluUGxhbmUpOwpmbG9hdCBkaXN0YW5jZT1taW4obWluKGxhcmdlc3RJbnRlcnNlYy54LGxhcmdlc3RJbnRlcnNlYy55KSxsYXJnZXN0SW50ZXJzZWMueik7CnZlYzMgaW50ZXJzZWN0UG9zaXRpb25XUz12ZXJ0ZXhQb3Mrb3JpZ1ZlYypkaXN0YW5jZTsKcmV0dXJuIGludGVyc2VjdFBvc2l0aW9uV1MtY3ViZVBvczsKfQpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbU3NdPU1zO3ZhciBBcz0ic2NlbmVWZXJ0ZXhEZWNsYXJhdGlvbiIsUnM9YHVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIE1VTFRJVklFVwp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYKdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uOwp1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQXNdPVJzO3ZhciBQcz0ibWVzaFZlcnRleERlY2xhcmF0aW9uIixDcz1gdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtQc109Q3M7dmFyIHhzPSJzaGFkb3dNYXBWZXJ0ZXhEZWNsYXJhdGlvbiIsRHM9YCNpbmNsdWRlPHNjZW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hWZXJ0ZXhEZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3hzXT1Eczt2YXIgSXM9InNjZW5lVWJvRGVjbGFyYXRpb24iLE9zPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKdW5pZm9ybSBTY2VuZSB7Cm1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKbWF0NCB2aWV3UHJvamVjdGlvblI7CiNlbmRpZiAKbWF0NCB2aWV3OwptYXQ0IHByb2plY3Rpb247CnZlYzQgdkV5ZVBvc2l0aW9uOwp9OwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSXNdPU9zO3ZhciBGcz0ibWVzaFVib0RlY2xhcmF0aW9uIix3cz1gI2lmZGVmIFdFQkdMMgp1bmlmb3JtIG1hdDQgd29ybGQ7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2Vsc2UKbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWVzaAp7Cm1hdDQgd29ybGQ7CmZsb2F0IHZpc2liaWxpdHk7Cn07CiNlbmRpZgojZGVmaW5lIFdPUkxEX1VCTwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRnNdPXdzO3ZhciBMcz0ic2hhZG93TWFwVWJvRGVjbGFyYXRpb24iLE5zPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTHNdPU5zO3ZhciBCcz0ic2hhZG93TWFwVmVydGV4RXh0cmFEZWNsYXJhdGlvbiIsVXM9YCNpZiBTTV9OT1JNQUxCSUFTPT0xCnVuaWZvcm0gdmVjMyBsaWdodERhdGFTTTsKI2VuZGlmCnVuaWZvcm0gdmVjMyBiaWFzQW5kU2NhbGVTTTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzU007CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uV1NNOwojZW5kaWYKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQp2YXJ5aW5nIGZsb2F0IHpTTTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCc109VXM7dmFyIFZzPSJjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbiIsa3M9YCNpZmRlZiBDTElQUExBTkUKdW5pZm9ybSB2ZWM0IHZDbGlwUGxhbmU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMzsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNDsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNTsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtWc109a3M7dmFyIFdzPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWwiLHpzPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQpmbG9hdCB2ZXJ0ZXhJRDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV3NdPXpzO3ZhciBHcz0ibW9ycGhUYXJnZXRzVmVydGV4IixYcz1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUgCnZlcnRleElEPWZsb2F0KGdsX1ZlcnRleElEKSptb3JwaFRhcmdldFRleHR1cmVJbmZvLng7CnBvc2l0aW9uVXBkYXRlZCs9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKS1wb3NpdGlvbikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CnZlcnRleElEKz0xLjA7CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCm5vcm1hbFVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkgLW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CnZlcnRleElEKz0xLjA7CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKS54eS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CnZlcnRleElEKz0xLjA7CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZWxzZQpwb3NpdGlvblVwZGF0ZWQrPShwb3NpdGlvbntYfS1wb3NpdGlvbikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCm5vcm1hbFVwZGF0ZWQrPShub3JtYWx7WH0tbm9ybWFsKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAp0YW5nZW50VXBkYXRlZC54eXorPSh0YW5nZW50e1h9LXRhbmdlbnQueHl6KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKdXZVcGRhdGVkKz0odXZfe1h9LXV2KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dzXT1Yczt2YXIgSHM9Imluc3RhbmNlc1ZlcnRleCIsanM9YCNpZmRlZiBJTlNUQU5DRVMKbWF0NCBmaW5hbFdvcmxkPW1hdDQod29ybGQwLHdvcmxkMSx3b3JsZDIsd29ybGQzKTsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9bWF0NChwcmV2aW91c1dvcmxkMCxwcmV2aW91c1dvcmxkMSxwcmV2aW91c1dvcmxkMixwcmV2aW91c1dvcmxkMyk7CiNlbmRpZgojaWZkZWYgVEhJTl9JTlNUQU5DRVMKZmluYWxXb3JsZD13b3JsZCpmaW5hbFdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQpmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZCpmaW5hbFByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKbWF0NCBmaW5hbFdvcmxkPXdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQptYXQ0IGZpbmFsUHJldmlvdXNXb3JsZD1wcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIc109anM7dmFyIEtzPSJib25lc1ZlcnRleCIsWXM9YCNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgaW5mbHVlbmNlOwojaWZkZWYgQk9ORVRFWFRVUkUKaW5mbHVlbmNlPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMF0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzFdKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMl0pKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1szXSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2Vsc2UKaW5mbHVlbmNlPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbmRpZgpmaW5hbFdvcmxkPWZpbmFsV29ybGQqaW5mbHVlbmNlOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtLc109WXM7dmFyIFpzPSJiYWtlZFZlcnRleEFuaW1hdGlvbiIscXM9YCNpZmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKewojaWZkZWYgSU5TVEFOQ0VTCiNkZWZpbmUgQlZBU05BTUUgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZAojZWxzZQojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3MKI2VuZGlmCmZsb2F0IFZBVFN0YXJ0RnJhbWU9QlZBU05BTUUueDsKZmxvYXQgVkFURW5kRnJhbWU9QlZBU05BTUUueTsKZmxvYXQgVkFUT2Zmc2V0RnJhbWU9QlZBU05BTUUuejsKZmxvYXQgVkFUU3BlZWQ9QlZBU05BTUUudzsKZmxvYXQgdG90YWxGcmFtZXM9VkFURW5kRnJhbWUtVkFUU3RhcnRGcmFtZSsxLjA7CmZsb2F0IHRpbWU9YmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lKlZBVFNwZWVkL3RvdGFsRnJhbWVzOwpmbG9hdCBmcmFtZUNvcnJlY3Rpb249dGltZTwxLjAgPyAwLjAgOiAxLjA7CmZsb2F0IG51bU9mRnJhbWVzPXRvdGFsRnJhbWVzLWZyYW1lQ29ycmVjdGlvbjsKZmxvYXQgVkFURnJhbWVOdW09ZnJhY3QodGltZSkqbnVtT2ZGcmFtZXM7ClZBVEZyYW1lTnVtPW1vZChWQVRGcmFtZU51bStWQVRPZmZzZXRGcmFtZSxudW1PZkZyYW1lcyk7ClZBVEZyYW1lTnVtPWZsb29yKFZBVEZyYW1lTnVtKTsKVkFURnJhbWVOdW0rPVZBVFN0YXJ0RnJhbWUrZnJhbWVDb3JyZWN0aW9uOwptYXQ0IFZBVEluZmx1ZW5jZTsKVkFUSW5mbHVlbmNlPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzBdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNbMV0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNbMl0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVswXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMV0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVszXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgpmaW5hbFdvcmxkPWZpbmFsV29ybGQqVkFUSW5mbHVlbmNlOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWnNdPXFzO3ZhciBRcz0ic2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcyIsJHM9YCNpZiBTTV9OT1JNQUxCSUFTPT0xCiNpZiBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQT09MQp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoLWxpZ2h0RGF0YVNNLnh5eik7CiNlbHNlCnZlYzMgZGlyZWN0aW9uVG9MaWdodFNNPWxpZ2h0RGF0YVNNLnh5ei13b3JsZFBvcy54eXo7CnZlYzMgd29ybGRMaWdodERpclNNPW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0U00pOwojZW5kaWYKZmxvYXQgbmRsU009ZG90KHZOb3JtYWxXLHdvcmxkTGlnaHREaXJTTSk7CmZsb2F0IHNpbk5MU009c3FydCgxLjAtbmRsU00qbmRsU00pOwpmbG9hdCBub3JtYWxCaWFzU009Ymlhc0FuZFNjYWxlU00ueSpzaW5OTFNNOwp3b3JsZFBvcy54eXotPXZOb3JtYWxXKm5vcm1hbEJpYXNTTTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtRc109JHM7dmFyIEpzPSJzaGFkb3dNYXBWZXJ0ZXhNZXRyaWMiLGVvPWAjaWYgU01fVVNFRElTVEFOQ0U9PTEKdlBvc2l0aW9uV1NNPXdvcmxkUG9zLnh5ejsKI2VuZGlmCiNpZiBTTV9ERVBUSFRFWFRVUkU9PTEKI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIEJJQVNGQUNUT1IgMC41CiNlbHNlCiNkZWZpbmUgQklBU0ZBQ1RPUiAxLjAKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9Qb3NpdGlvbi56LT1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2Vsc2UKZ2xfUG9zaXRpb24ueis9Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQp6U009Z2xfUG9zaXRpb24uejsKZ2xfUG9zaXRpb24uej0wLjA7CiNlbGlmIFNNX1VTRURJU1RBTkNFPT0wCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWNTTT0oLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKdkRlcHRoTWV0cmljU009KGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSnNdPWVvO3ZhciB0bz0iY2xpcFBsYW5lVmVydGV4Iixybz1gI2lmZGVmIENMSVBQTEFORQpmQ2xpcERpc3RhbmNlPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCmZDbGlwRGlzdGFuY2UyPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lMik7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwpmQ2xpcERpc3RhbmNlMz1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTMpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTQKZkNsaXBEaXN0YW5jZTQ9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU0KTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CmZDbGlwRGlzdGFuY2U1PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgpmQ2xpcERpc3RhbmNlNj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTYpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3RvXT1ybzt2YXIgaW89InNoYWRvd01hcFZlcnRleFNoYWRlciIsbm89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19zaGFkb3dNYXBWZXJ0ZXg+CiNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybVdvcmxkU009bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2ZWMzIHZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybVdvcmxkU01bMF0sbm9ybVdvcmxkU01bMF0pLGRvdChub3JtV29ybGRTTVsxXSxub3JtV29ybGRTTVsxXSksZG90KG5vcm1Xb3JsZFNNWzJdLG5vcm1Xb3JsZFNNWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtV29ybGRTTT10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1Xb3JsZFNNKSk7CiNlbmRpZgp2ZWMzIHZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhOb3JtYWxCaWFzPgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4TWV0cmljPgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KfWA7TC5TaGFkZXJzU3RvcmVbaW9dPW5vO3ZhciBhbz0iZGVwdGhCb3hCbHVyUGl4ZWxTaGFkZXIiLHNvPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemU7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzQgY29sb3JEZXB0aD12ZWM0KDAuMCk7CmZvciAoaW50IHg9LU9GRlNFVDsgeDw9T0ZGU0VUOyB4KyspCmZvciAoaW50IHk9LU9GRlNFVDsgeTw9T0ZGU0VUOyB5KyspCmNvbG9yRGVwdGgrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcix2VVYrdmVjMih4LHkpL3NjcmVlblNpemUpOwpnbF9GcmFnQ29sb3I9KGNvbG9yRGVwdGgvZmxvYXQoKE9GRlNFVCoyKzEpKihPRkZTRVQqMisxKSkpOwp9YDtMLlNoYWRlcnNTdG9yZVthb109c287dmFyIG9vPSJzaGFkb3dNYXBGcmFnbWVudFNvZnRUcmFuc3BhcmVudFNoYWRvdyIsdW89YCNpZiBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1c9PTEKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhKSBkaXNjYXJkOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29vXT11bzt2YXIga2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9iaWFzPTVlLTUsdGhpcy5fbm9ybWFsQmlhcz0wLHRoaXMuX2JsdXJCb3hPZmZzZXQ9MSx0aGlzLl9ibHVyU2NhbGU9Mix0aGlzLl9ibHVyS2VybmVsPTEsdGhpcy5fdXNlS2VybmVsQmx1cj0hMSx0aGlzLl9maWx0ZXI9aS5GSUxURVJfTk9ORSx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PWkuUVVBTElUWV9ISUdILHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPS4xLHRoaXMuX2RhcmtuZXNzPTAsdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93PSExLHRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93PSExLHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZj0wLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5PSExLHRoaXMuX2xpZ2h0RGlyZWN0aW9uPWIuWmVybygpLHRoaXMuX3ZpZXdNYXRyaXg9SS5aZXJvKCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1JLlplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaXg9SS5aZXJvKCksdGhpcy5fY2FjaGVkUG9zaXRpb249bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlZERpcmVjdGlvbj1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY3VycmVudEZhY2VJbmRleD0wLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT0wLHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4PUkuSWRlbnRpdHkoKSx0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQ9dCx0aGlzLl9zY2VuZT10LmdldFNjZW5lKCksdC5fc2hhZG93R2VuZXJhdG9yPXRoaXMsdGhpcy5pZD10LmlkLHRoaXMuX3VzZVVCTz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lVUJPcz1bXSx0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoJ1NjZW5lIGZvciBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJy5jb25jYXQodGhpcy5fbGlnaHQubmFtZSwnIiknKSkpKSxpLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTt2YXIgbj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7cj9uLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOnRoaXMuX3RleHR1cmVUeXBlPTA6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MjpuLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTp0aGlzLl90ZXh0dXJlVHlwZT0wLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJpYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmlhc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JpYXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5vcm1hbEJpYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9ybWFsQmlhc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX25vcm1hbEJpYXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJsdXJCb3hPZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1ckJveE9mZnNldH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JsdXJCb3hPZmZzZXQhPT1lJiYodGhpcy5fYmx1ckJveE9mZnNldD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJsdXJTY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ibHVyU2NhbGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ibHVyU2NhbGUhPT1lJiYodGhpcy5fYmx1clNjYWxlPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYmx1cktlcm5lbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ibHVyS2VybmVsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYmx1cktlcm5lbCE9PWUmJih0aGlzLl9ibHVyS2VybmVsPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlS2VybmVsQmx1ciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VLZXJuZWxCbHVyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdXNlS2VybmVsQmx1ciE9PWUmJih0aGlzLl91c2VLZXJuZWxCbHVyPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhTY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aFNjYWxlIT09dm9pZCAwP3RoaXMuX2RlcHRoU2NhbGU6dGhpcy5fbGlnaHQuZ2V0RGVwdGhTY2FsZSgpfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhTY2FsZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl92YWxpZGF0ZUZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmaWx0ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsdGVyfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoZT10aGlzLl92YWxpZGF0ZUZpbHRlcihlKSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKXtpZihlPT09aS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1pLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1pLkZJTFRFUl9QQ0Z8fGU9PT1pLkZJTFRFUl9QQ1NTKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59fWlmKChlPT09aS5GSUxURVJfUENGfHxlPT09aS5GSUxURVJfUENTUykmJiF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fZmVhdHVyZXMuc3VwcG9ydFNoYWRvd1NhbXBsZXJzKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59dGhpcy5fZmlsdGVyIT09ZSYmKHRoaXMuX2ZpbHRlcj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VQb2lzc29uU2FtcGxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QT0lTU09OU0FNUExJTkd9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9QT0lTU09OU0FNUExJTkcpOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX1BPSVNTT05TQU1QTElOR3x8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfUENGfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfUENGKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9QQ0Z8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmaWx0ZXJpbmdRdWFsaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9maWx0ZXJpbmdRdWFsaXR5IT09ZSYmKHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX1BDU1N9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9QQ1NTKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9QQ1NTfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW99LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGFya25lc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGFya25lc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLnNldERhcmtuZXNzKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldERhcmtuZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfSxpLnByb3RvdHlwZS5zZXREYXJrbmVzcz1mdW5jdGlvbihlKXtyZXR1cm4gZT49MT90aGlzLl9kYXJrbmVzcz0xOmU8PTA/dGhpcy5fZGFya25lc3M9MDp0aGlzLl9kYXJrbmVzcz1lLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidHJhbnNwYXJlbmN5U2hhZG93Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvd30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2V0VHJhbnNwYXJlbmN5U2hhZG93KGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldFRyYW5zcGFyZW5jeVNoYWRvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93PWUsdGhpc30saS5wcm90b3R5cGUuZ2V0U2hhZG93TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcH0saS5wcm90b3R5cGUuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcDI/dGhpcy5fc2hhZG93TWFwMjp0aGlzLl9zaGFkb3dNYXB9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiBpLkNMQVNTTkFNRX0saS5wcm90b3R5cGUuYWRkU2hhZG93Q2FzdGVyPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCF0aGlzLl9zaGFkb3dNYXApcmV0dXJuIHRoaXM7aWYodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSksdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGUpLHQpZm9yKHZhciByPTAsbj1lLmdldENoaWxkTWVzaGVzKCk7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihhKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGEpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5yZW1vdmVTaGFkb3dDYXN0ZXI9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwJiYodD0hMCksIXRoaXMuX3NoYWRvd01hcHx8IXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXJldHVybiB0aGlzO3ZhciByPXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk7aWYociE9PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5zcGxpY2UociwxKSx0KWZvcih2YXIgbj0wLGE9ZS5nZXRDaGlsZHJlbigpO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3RoaXMucmVtb3ZlU2hhZG93Q2FzdGVyKHMpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saWdodH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXBTaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcFNpemV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2luaXRpYWxpemVHZW5lcmF0b3I9ZnVuY3Rpb24oKXt0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2luaXRpYWxpemVTaGFkb3dNYXAoKX0saS5wcm90b3R5cGUuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtlLl9mZWF0dXJlcy5zdXBwb3J0RGVwdGhTdGVuY2lsVGV4dHVyZT8odGhpcy5fc2hhZG93TWFwPW5ldyBWdCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwIix0aGlzLl9tYXBTaXplLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCksdm9pZCAwLCExLCExKSx0aGlzLl9zaGFkb3dNYXAuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj81MTY6NTEzLCEwKSk6dGhpcy5fc2hhZG93TWFwPW5ldyBWdCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwIix0aGlzLl9tYXBTaXplLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCkpfSxpLnByb3RvdHlwZS5faW5pdGlhbGl6ZVNoYWRvd01hcD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpLHRoaXMuX3NoYWRvd01hcCE9PW51bGwpe3RoaXMuX3NoYWRvd01hcC53cmFwVT10ZS5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAud3JhcFY9dGUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9MSx0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKHRlLkJJTElORUFSX1NBTVBMSU5HTU9ERSksdGhpcy5fc2hhZG93TWFwLnJlbmRlclBhcnRpY2xlcz0hMSx0aGlzLl9zaGFkb3dNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fc3RvcmVkVW5pcXVlSWQmJih0aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQ9dGhpcy5fc3RvcmVkVW5pcXVlSWQpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj10aGlzLl9yZW5kZXJGb3JTaGFkb3dNYXAuYmluZCh0aGlzKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuITB9O3ZhciB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBzO2UuX2N1cnJlbnRTY2VuZVVCTz1lLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwocz10Ll9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwodCwic2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICIuY29uY2F0KHQuY3VycmVudFJlbmRlclBhc3NJZCksMSl9KSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXtlLl9zY2VuZVVCT3MmJmUuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcihlLl9zY2VuZVVCT3NbMF0pLGUuX2N1cnJlbnRGYWNlSW5kZXg9cyxlLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0YmJnQuc2V0Q29sb3JXcml0ZSghMSksZS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSxlLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgoZS5fdmlld01hdHJpeCxlLl9wcm9qZWN0aW9uTWF0cml4KSxlLl91c2VVQk8mJihlLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSxlLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBzLG87aWYoZS5fc2NlbmVVQk9zJiZlLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZS5fY3VycmVudFNjZW5lVUJPKSxlLl9zY2VuZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxlLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0YmJnQuc2V0Q29sb3JXcml0ZSghMCksIWUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwJiYhZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCl7KHM9dC5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwodCwxKTtyZXR1cm59dmFyIHU9ZS5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKTt1JiYoZS5fc2NlbmUucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihlLl9ibHVyUG9zdFByb2Nlc3Nlcyx1LnJlbmRlclRhcmdldCwhMCksdC51bkJpbmRGcmFtZWJ1ZmZlcih1LnJlbmRlclRhcmdldCwhMCksKG89dC5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodCwxKSl9KTt2YXIgcj1uZXcgRWUoMCwwLDAsMCksbj1uZXcgRWUoMSwxLDEsMSk7dGhpcy5fc2hhZG93TWFwLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXtlLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0Y/cy5jbGVhcihuLCExLCEwLCExKTplLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHxlLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9zLmNsZWFyKHIsITAsITAsITEpOnMuY2xlYXIobiwhMCwhMCwhMSl9KSx0aGlzLl9zaGFkb3dNYXAub25SZXNpemVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXtlLl9zdG9yZWRVbmlxdWVJZD1lLl9zaGFkb3dNYXAudW5pcXVlSWQsZS5fbWFwU2l6ZT1zLmdldFJlbmRlclNpemUoKSxlLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLGUucmVjcmVhdGVTaGFkb3dNYXAoKX0pO2Zvcih2YXIgYT1Nci5NSU5fUkVOREVSSU5HR1JPVVBTO2E8TXIuTUFYX1JFTkRFUklOR0dST1VQUzthKyspdGhpcy5fc2hhZG93TWFwLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChhLCExKX19LGkucHJvdG90eXBlLl9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj10aGlzLl9tYXBTaXplL3RoaXMuYmx1clNjYWxlOyghdGhpcy51c2VLZXJuZWxCbHVyfHx0aGlzLmJsdXJTY2FsZSE9PTEpJiYodGhpcy5fc2hhZG93TWFwMj1uZXcgVnQodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcDIiLHIsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdm9pZCAwLHZvaWQgMCwhMSksdGhpcy5fc2hhZG93TWFwMi53cmFwVT10ZS5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLndyYXBWPXRlLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIudXBkYXRlU2FtcGxpbmdNb2RlKHRlLkJJTElORUFSX1NBTVBMSU5HTU9ERSkpLHRoaXMudXNlS2VybmVsQmx1cj8odGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1uZXcgbGkodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clgiLG5ldyBTZSgxLDApLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsdGUuQklMSU5FQVJfU0FNUExJTkdNT0RFLHQsITEsdGhpcy5fdGV4dHVyZVR5cGUpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mud2lkdGg9cix0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmhlaWdodD1yLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24obil7bi5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsZS5fc2hhZG93TWFwKX0pLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bmV3IGxpKHRoaXMuX2xpZ2h0Lm5hbWUrIktlcm5lbEJsdXJZIixuZXcgU2UoMCwxKSx0aGlzLmJsdXJLZXJuZWwsMSxudWxsLHRlLkJJTElORUFSX1NBTVBMSU5HTU9ERSx0LCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl90ZXh0dXJlVHlwZT09PTAmJih0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MucGFja2VkRmxvYXQ9ITApLHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzPVt0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3NdKToodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzPW5ldyBucih0aGlzLl9saWdodC5uYW1lKyJEZXB0aEJveEJsdXIiLCJkZXB0aEJveEJsdXIiLFsic2NyZWVuU2l6ZSIsImJveE9mZnNldCJdLFtdLDEsbnVsbCx0ZS5CSUxJTkVBUl9TQU1QTElOR01PREUsdCwhMSwiI2RlZmluZSBPRkZTRVQgIit0aGlzLl9ibHVyQm94T2Zmc2V0LHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihuKXtuLnNldEZsb2F0Migic2NyZWVuU2l6ZSIscixyKSxuLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlLl9zaGFkb3dNYXApfSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzXSl9LGkucHJvdG90eXBlLl9yZW5kZXJGb3JTaGFkb3dNYXA9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE7aWYobi5sZW5ndGgpZm9yKGE9MDthPG4ubGVuZ3RoO2ErKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKG4uZGF0YVthXSk7Zm9yKGE9MDthPGUubGVuZ3RoO2ErKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUuZGF0YVthXSk7Zm9yKGE9MDthPHQubGVuZ3RoO2ErKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHQuZGF0YVthXSk7aWYodGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93KWZvcihhPTA7YTxyLmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChyLmRhdGFbYV0sITApO2Vsc2UgZm9yKGE9MDthPHIubGVuZ3RoO2ErKylyLmRhdGFbYV0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX0saS5wcm90b3R5cGUuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwPWZ1bmN0aW9uKGUsdCxyKXt0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpfSxpLnByb3RvdHlwZS5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcD1mdW5jdGlvbihlLHQpe3ZhciByLG47dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciBhPWUuZ2V0UmVuZGVyaW5nTWVzaCgpLHM9ZS5nZXRFZmZlY3RpdmVNZXNoKCksbz10aGlzLl9zY2VuZSx1PW8uZ2V0RW5naW5lKCksZj1lLmdldE1hdGVyaWFsKCk7aWYocy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsISghZnx8ZS52ZXJ0aWNlc0NvdW50PT09MHx8ZS5fcmVuZGVySWQ9PT1vLmdldFJlbmRlcklkKCkpKXt2YXIgbD1zLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk8MCxoPShyPWEub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbikhPT1udWxsJiZyIT09dm9pZCAwP3I6Zi5zaWRlT3JpZW50YXRpb247bCYmKGg9aD09PTA/MTowKTt2YXIgYz1oPT09MDt1LnNldFN0YXRlKGYuYmFja0ZhY2VDdWxsaW5nLHZvaWQgMCx2b2lkIDAsYyxmLmN1bGxCYWNrRmFjZXMpO3ZhciBkPWEuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFlLmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZighZC5tdXN0UmV0dXJuKXt2YXIgcD11LmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihkLnZpc2libGVJbnN0YW5jZXNbZS5faWRdIT09bnVsbCYmZC52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PXZvaWQgMHx8YS5oYXNUaGluSW5zdGFuY2VzKTtpZighKHRoaXMuY3VzdG9tQWxsb3dSZW5kZXJpbmcmJiF0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nKGUpKSlpZih0aGlzLmlzUmVhZHkoZSxwLHQpKXtlLl9yZW5kZXJJZD1vLmdldFJlbmRlcklkKCk7dmFyIGc9Zi5zaGFkb3dEZXB0aFdyYXBwZXIsXz0obj1nPT1udWxsP3ZvaWQgMDpnLmdldEVmZmVjdChlLHRoaXMsdS5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZuIT09dm9pZCAwP246ZS5fZ2V0RHJhd1dyYXBwZXIoKSx2PXF0LkdldEVmZmVjdChfKTtpZih1LmVuYWJsZUVmZmVjdChfKSxwfHxhLl9iaW5kKGUsdixmLmZpbGxNb2RlKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLHYuc2V0RmxvYXQzKCJiaWFzQW5kU2NhbGVTTSIsdGhpcy5iaWFzLHRoaXMubm9ybWFsQmlhcyx0aGlzLmRlcHRoU2NhbGUpLHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PWV0LkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/di5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkRGlyZWN0aW9uKTp2LnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWRQb3NpdGlvbiksby5hY3RpdmVDYW1lcmEmJnYuc2V0RmxvYXQyKCJkZXB0aFZhbHVlc1NNIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKG8uYWN0aXZlQ2FtZXJhKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKG8uYWN0aXZlQ2FtZXJhKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKG8uYWN0aXZlQ2FtZXJhKSksdCYmdGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJnYuc2V0RmxvYXQoInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIixzLnZpc2liaWxpdHkqZi5hbHBoYSksZyllLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShfKSxnLnN0YW5kYWxvbmU/Zy5iYXNlTWF0ZXJpYWwuYmluZEZvclN1Yk1lc2gocy5nZXRXb3JsZE1hdHJpeCgpLGEsZSk6Zi5iaW5kRm9yU3ViTWVzaChzLmdldFdvcmxkTWF0cml4KCksYSxlKSxlLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShudWxsKTtlbHNle2lmKGYmJnRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdyl7dmFyIHk9Zi5vcGFjaXR5VGV4dHVyZTt5JiYodi5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIseSksdi5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLHkuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWVsc2UgaWYoZiYmZi5uZWVkQWxwaGFUZXN0aW5nKCkpe3ZhciBFPWYuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpO0UmJih2LnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIixFKSx2LnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsRS5nZXRUZXh0dXJlTWF0cml4KCl8fHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4KSl9aWYoYS51c2VCb25lcyYmYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmEuc2tlbGV0b24pe3ZhciBSPWEuc2tlbGV0b247aWYoUi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXt2YXIgTT1SLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoYSk7aWYoIU0pcmV0dXJuO3Yuc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLE0pLHYuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKFIuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHYuc2V0TWF0cmljZXMoIm1Cb25lcyIsUi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhhKSl9WS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGEsdiksYS5tb3JwaFRhcmdldE1hbmFnZXImJmEubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmYS5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQodiksWS5CaW5kQ2xpcFBsYW5lKHYsbyl9IXRoaXMuX3VzZVVCTyYmIWcmJnRoaXMuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdixzKSxZLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodix0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSksdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkuYmluZFVuaWZvcm1CdWZmZXIoKTt2YXIgQz1zLmdldFdvcmxkTWF0cml4KCk7cCYmKHMuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodiwiTWVzaCIpLHMudHJhbnNmZXJUb0VmZmVjdChDKSksdGhpcy5mb3JjZUJhY2tGYWNlc09ubHkmJnUuc2V0U3RhdGUoITAsMCwhMSwhMCxmLmN1bGxCYWNrRmFjZXMpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHYpLGEuX3Byb2Nlc3NSZW5kZXJpbmcocyxlLHYsZi5maWxsTW9kZSxkLHAsZnVuY3Rpb24oQSxTKXtzIT09YSYmIUE/KGEuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodiwiTWVzaCIpLGEudHJhbnNmZXJUb0VmZmVjdChTKSk6KHMuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodiwiTWVzaCIpLHMudHJhbnNmZXJUb0VmZmVjdChBP1M6QykpfSksdGhpcy5mb3JjZUJhY2tGYWNlc09ubHkmJnUuc2V0U3RhdGUoITAsMCwhMSwhMSxmLmN1bGxCYWNrRmFjZXMpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHYpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX1lbHNlIHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlc2V0UmVmcmVzaENvdW50ZXIoKX19fSxpLnByb3RvdHlwZS5fYXBwbHlGaWx0ZXJWYWx1ZXM9ZnVuY3Rpb24oKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLmZpbHRlcj09PWkuRklMVEVSX05PTkV8fHRoaXMuZmlsdGVyPT09aS5GSUxURVJfUENTUz90aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKHRlLk5FQVJFU1RfU0FNUExJTkdNT0RFKTp0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKHRlLkJJTElORUFSX1NBTVBMSU5HTU9ERSkpfSxpLnByb3RvdHlwZS5mb3JjZUNvbXBpbGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPWJ0KHt1c2VJbnN0YW5jZXM6ITF9LHQpLGE9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighYSl7ZSYmZSh0aGlzKTtyZXR1cm59dmFyIHM9YS5yZW5kZXJMaXN0O2lmKCFzKXtlJiZlKHRoaXMpO3JldHVybn1mb3IodmFyIG89bmV3IEFycmF5LHU9MCxmPXM7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07by5wdXNoLmFwcGx5KG8sbC5zdWJNZXNoZXMpfWlmKG8ubGVuZ3RoPT09MCl7ZSYmZSh0aGlzKTtyZXR1cm59dmFyIGg9MCxjPWZ1bmN0aW9uKCl7dmFyIGQscDtpZighKCFyLl9zY2VuZXx8IXIuX3NjZW5lLmdldEVuZ2luZSgpKSl7Zm9yKDtyLmlzUmVhZHkob1toXSxuLnVzZUluc3RhbmNlcywocD0oZD1vW2hdLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8ZD09PXZvaWQgMD92b2lkIDA6ZC5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2gob1toXS5nZXRNZXNoKCkpKSE9PW51bGwmJnAhPT12b2lkIDA/cDohMSk7KWlmKGgrKyxoPj1vLmxlbmd0aCl7ZSYmZShyKTtyZXR1cm59c2V0VGltZW91dChjLDE2KX19O2MoKX0saS5wcm90b3R5cGUuZm9yY2VDb21waWxhdGlvbkFzeW5jPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIpe3QuZm9yY2VDb21waWxhdGlvbihmdW5jdGlvbigpe3IoKX0sZSl9KX0saS5wcm90b3R5cGUuX2lzUmVhZHlDdXN0b21EZWZpbmVzPWZ1bmN0aW9uKGUsdCxyKXt9LGkucHJvdG90eXBlLl9wcmVwYXJlU2hhZG93RGVmaW5lcz1mdW5jdGlvbihlLHQscixuKXtyLnB1c2goIiNkZWZpbmUgU01fRkxPQVQgIisodGhpcy5fdGV4dHVyZVR5cGUhPT0wPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fRVNNICIrKHRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fREVQVEhURVhUVVJFICIrKHRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZ3x8dGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PyIxIjoiMCIpKTt2YXIgYT1lLmdldE1lc2goKTtyZXR1cm4gci5wdXNoKCIjZGVmaW5lIFNNX05PUk1BTEJJQVMgIisodGhpcy5ub3JtYWxCaWFzJiZhLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fRElSRUNUSU9OSU5MSUdIVERBVEEgIisodGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09ZXQuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD8iMSI6IjAiKSksci5wdXNoKCIjZGVmaW5lIFNNX1VTRURJU1RBTkNFICIrKHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCk/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1cgIisodGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJm4/IjEiOiIwIikpLHRoaXMuX2lzUmVhZHlDdXN0b21EZWZpbmVzKHIsZSx0KSxyfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhPWUuZ2V0TWF0ZXJpYWwoKSxzPWE9PW51bGw/dm9pZCAwOmEuc2hhZG93RGVwdGhXcmFwcGVyLG89W107aWYodGhpcy5fcHJlcGFyZVNoYWRvd0RlZmluZXMoZSx0LG8scikscyl7aWYoIXMuaXNSZWFkeUZvclN1Yk1lc2goZSxvLHRoaXMsdCx0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jdXJyZW50UmVuZGVyUGFzc0lkKSlyZXR1cm4hMX1lbHNle3ZhciB1PWUuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCksZj11LmVmZmVjdCxsPXUuZGVmaW5lcyxoPVttLlBvc2l0aW9uS2luZF0sYz1lLmdldE1lc2goKTtpZih0aGlzLm5vcm1hbEJpYXMmJmMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCkmJihoLnB1c2gobS5Ob3JtYWxLaW5kKSxvLnB1c2goIiNkZWZpbmUgTk9STUFMIiksYy5ub25Vbmlmb3JtU2NhbGluZyYmby5wdXNoKCIjZGVmaW5lIE5PTlVOSUZPUk1TQ0FMSU5HIikpLGEmJmEubmVlZEFscGhhVGVzdGluZygpKXt2YXIgZD1udWxsO2lmKHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdz9kPWEub3BhY2l0eVRleHR1cmU6ZD1hLmdldEFscGhhVGVzdFRleHR1cmUoKSxkKXtpZighZC5pc1JlYWR5KCkpcmV0dXJuITE7dmFyIHA9KG49YS5hbHBoYUN1dE9mZikhPT1udWxsJiZuIT09dm9pZCAwP246aS5ERUZBVUxUX0FMUEhBX0NVVE9GRjtvLnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksby5wdXNoKCIjZGVmaW5lIEFMUEhBVEVTVFZBTFVFICIuY29uY2F0KHApLmNvbmNhdChwJTE9PT0wPyIuIjoiIikpLGMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSYmKGgucHVzaChtLlVWS2luZCksby5wdXNoKCIjZGVmaW5lIFVWMSIpKSxjLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWMktpbmQpJiZkLmNvb3JkaW5hdGVzSW5kZXg9PT0xJiYoaC5wdXNoKG0uVVYyS2luZCksby5wdXNoKCIjZGVmaW5lIFVWMiIpKX19dmFyIGc9bmV3IGhpO2lmKGMudXNlQm9uZXMmJmMuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZjLnNrZWxldG9uKXtoLnB1c2gobS5NYXRyaWNlc0luZGljZXNLaW5kKSxoLnB1c2gobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxjLm51bUJvbmVJbmZsdWVuY2Vycz40JiYoaC5wdXNoKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxoLnB1c2gobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKTt2YXIgXz1jLnNrZWxldG9uO28ucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK2MubnVtQm9uZUluZmx1ZW5jZXJzKSxjLm51bUJvbmVJbmZsdWVuY2Vycz4wJiZnLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCxjKSxfLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXM/by5wdXNoKCIjZGVmaW5lIEJPTkVURVhUVVJFIik6by5wdXNoKCIjZGVmaW5lIEJvbmVzUGVyTWVzaCAiKyhfLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSBvLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpO3ZhciB2PWMubW9ycGhUYXJnZXRNYW5hZ2VyLHk9MDt2JiZ2Lm51bUluZmx1ZW5jZXJzPjAmJihvLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTIikseT12Lm51bUluZmx1ZW5jZXJzLG8ucHVzaCgiI2RlZmluZSBOVU1fTU9SUEhfSU5GTFVFTkNFUlMgIit5KSx2LmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmby5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIiksWS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKGgsYyx5KSk7dmFyIEU9dGhpcy5fc2NlbmU7aWYoRS5jbGlwUGxhbmUmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkUiKSxFLmNsaXBQbGFuZTImJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkUyIiksRS5jbGlwUGxhbmUzJiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FMyIpLEUuY2xpcFBsYW5lNCYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTQiKSxFLmNsaXBQbGFuZTUmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkU1IiksRS5jbGlwUGxhbmU2JiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNiIpLHQmJihvLnB1c2goIiNkZWZpbmUgSU5TVEFOQ0VTIiksWS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhoKSxlLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzJiZvLnB1c2goIiNkZWZpbmUgVEhJTl9JTlNUQU5DRVMiKSksdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zJiZ0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuZGVmaW5lcylmb3IodmFyIFI9MCxNPXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzO1I8TS5sZW5ndGg7UisrKXt2YXIgQz1NW1JdO28uaW5kZXhPZihDKT09PS0xJiZvLnB1c2goQyl9dmFyIEE9by5qb2luKGAKYCk7aWYobCE9PUEpe2w9QTt2YXIgUz0ic2hhZG93TWFwIix3PVsid29ybGQiLCJtQm9uZXMiLCJ2aWV3UHJvamVjdGlvbiIsImRpZmZ1c2VNYXRyaXgiLCJsaWdodERhdGFTTSIsImRlcHRoVmFsdWVzU00iLCJiaWFzQW5kU2NhbGVTTSIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsImJvbmVUZXh0dXJlV2lkdGgiLCJ2Q2xpcFBsYW5lIiwidkNsaXBQbGFuZTIiLCJ2Q2xpcFBsYW5lMyIsInZDbGlwUGxhbmU0IiwidkNsaXBQbGFuZTUiLCJ2Q2xpcFBsYW5lNiIsInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxGPVsiZGlmZnVzZVNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyJdLHg9WyJTY2VuZSIsIk1lc2giXTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMpe2lmKFM9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNoYWRlck5hbWUsdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpZm9yKHZhciBHPTAsVz10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcztHPFcubGVuZ3RoO0crKyl7dmFyIE49V1tHXTtoLmluZGV4T2YoTik9PT0tMSYmaC5wdXNoKE4pfWlmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy51bmlmb3Jtcylmb3IodmFyIHE9MCwkPXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy51bmlmb3JtcztxPCQubGVuZ3RoO3ErKyl7dmFyIG9lPSRbcV07dy5pbmRleE9mKG9lKT09PS0xJiZ3LnB1c2gob2UpfWlmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycylmb3IodmFyIFo9MCxqPXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycztaPGoubGVuZ3RoO1orKyl7dmFyIHVlPWpbWl07Ri5pbmRleE9mKHVlKT09PS0xJiZGLnB1c2godWUpfX12YXIgUGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7Zj1QZS5jcmVhdGVFZmZlY3QoUyx7YXR0cmlidXRlczpoLHVuaWZvcm1zTmFtZXM6dyx1bmlmb3JtQnVmZmVyc05hbWVzOngsc2FtcGxlcnM6RixkZWZpbmVzOkEsZmFsbGJhY2tzOmcsb25Db21waWxlZDpudWxsLG9uRXJyb3I6bnVsbCxpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czp5fX0sUGUpLHUuc2V0RWZmZWN0KGYsbCl9aWYoIWYuaXNSZWFkeSgpKXJldHVybiExfXJldHVybih0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCkmJighdGhpcy5fYmx1clBvc3RQcm9jZXNzZXN8fCF0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcy5sZW5ndGgpJiZ0aGlzLl9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXMoKSwhKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmIXRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuaXNSZWFkeSgpfHx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJiF0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuaXNSZWFkeSgpKX0saS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9zY2VuZSxuPXRoaXMuX2xpZ2h0OyFyLnNoYWRvd3NFbmFibGVkfHwhbi5zaGFkb3dFbmFibGVkfHwoZVsiU0hBRE9XIit0XT0hMCx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/KGVbIlNIQURPV1BDU1MiK3RdPSEwLHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1pLlFVQUxJVFlfTE9XP2VbIlNIQURPV0xPV1FVQUxJVFkiK3RdPSEwOnRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1pLlFVQUxJVFlfTUVESVVNJiYoZVsiU0hBRE9XTUVESVVNUVVBTElUWSIrdF09ITApKTp0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc/KGVbIlNIQURPV1BDRiIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PWkuUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PWkuUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUG9pc3NvblNhbXBsaW5nP2VbIlNIQURPV1BPSVNTT04iK3RdPSEwOnRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP2VbIlNIQURPV0VTTSIrdF09ITA6KHRoaXMudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCkmJihlWyJTSEFET1dDTE9TRUVTTSIrdF09ITApLG4ubmVlZEN1YmUoKSYmKGVbIlNIQURPV0NVQkUiK3RdPSEwKSl9LGkucHJvdG90eXBlLmJpbmRTaGFkb3dMaWdodD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2xpZ2h0LG49dGhpcy5fc2NlbmU7aWYoISghbi5zaGFkb3dzRW5hYmxlZHx8IXIuc2hhZG93RW5hYmxlZCkpe3ZhciBhPW4uYWN0aXZlQ2FtZXJhO2lmKGEpe3ZhciBzPXRoaXMuZ2V0U2hhZG93TWFwKCk7cyYmKHIubmVlZEN1YmUoKXx8dC5zZXRNYXRyaXgoImxpZ2h0TWF0cml4IitlLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHRoaXMuX2ZpbHRlcj09PWkuRklMVEVSX1BDRj8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHIuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLHMuZ2V0U2l6ZSgpLndpZHRoLDEvcy5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOnRoaXMuX2ZpbHRlcj09PWkuRklMVEVSX1BDU1M/KHQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSx0LnNldFRleHR1cmUoImRlcHRoU2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxyLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSwxL3MuZ2V0U2l6ZSgpLndpZHRoLHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKnMuZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKToodC5zZXRUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHIuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLHRoaXMuYmx1clNjYWxlL3MuZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZGVwdGhTY2FsZSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSksci5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKGEpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pblooYSkrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihhKSxlKSl9fX0saS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2NlbmU7aWYodGhpcy5fY3VycmVudFJlbmRlcklkPT09ZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9PT10aGlzLl9jdXJyZW50RmFjZUluZGV4KXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXg7dGhpcy5fY3VycmVudFJlbmRlcklkPWUuZ2V0UmVuZGVySWQoKSx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9dGhpcy5fY3VycmVudEZhY2VJbmRleDt2YXIgdD10aGlzLl9saWdodC5wb3NpdGlvbjtpZih0aGlzLl9saWdodC5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpJiYodD10aGlzLl9saWdodC50cmFuc2Zvcm1lZFBvc2l0aW9uKSxiLk5vcm1hbGl6ZVRvUmVmKHRoaXMuX2xpZ2h0LmdldFNoYWRvd0RpcmVjdGlvbih0aGlzLl9jdXJyZW50RmFjZUluZGV4KSx0aGlzLl9saWdodERpcmVjdGlvbiksTWF0aC5hYnMoYi5Eb3QodGhpcy5fbGlnaHREaXJlY3Rpb24sYi5VcCgpKSk9PT0xJiYodGhpcy5fbGlnaHREaXJlY3Rpb24uej0xZS0xMyksdGhpcy5fbGlnaHQubmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl8fCF0aGlzLl9jYWNoZWRQb3NpdGlvbnx8IXRoaXMuX2NhY2hlZERpcmVjdGlvbnx8IXQuZXF1YWxzKHRoaXMuX2NhY2hlZFBvc2l0aW9uKXx8IXRoaXMuX2xpZ2h0RGlyZWN0aW9uLmVxdWFscyh0aGlzLl9jYWNoZWREaXJlY3Rpb24pKXt0aGlzLl9jYWNoZWRQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pLEkuTG9va0F0TEhUb1JlZih0LHQuYWRkKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxiLlVwKCksdGhpcy5fdmlld01hdHJpeCk7dmFyIHI9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZihyKXt2YXIgbj1yLnJlbmRlckxpc3Q7biYmdGhpcy5fbGlnaHQuc2V0U2hhZG93UHJvamVjdGlvbk1hdHJpeCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3ZpZXdNYXRyaXgsbil9dGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KX1yZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4fSxpLnByb3RvdHlwZS5yZWNyZWF0ZVNoYWRvd01hcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3NoYWRvd01hcDtpZihlKXt2YXIgdD1lLnJlbmRlckxpc3Q7aWYodGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5maWx0ZXI9dGhpcy5fZmlsdGVyLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdCl7dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSk7Zm9yKHZhciByPTAsbj10O3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO3RoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goYSl9fWVsc2UgdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9bnVsbH19LGkucHJvdG90eXBlLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXM9ZnVuY3Rpb24oKXt0aGlzLl9zaGFkb3dNYXAyJiYodGhpcy5fc2hhZG93TWFwMi5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwMj1udWxsKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJih0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bXX0saS5wcm90b3R5cGUuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzPWZ1bmN0aW9uKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5fc2hhZG93TWFwLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dNYXA9bnVsbCksdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl9LGkucHJvdG90eXBlLl9kaXNwb3NlU2NlbmVVQk9zPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2NlbmVVQk9zKXtmb3IodmFyIGU9MCx0PXRoaXMuX3NjZW5lVUJPcztlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTtyLmRpc3Bvc2UoKX10aGlzLl9zY2VuZVVCT3M9W119fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fbGlnaHQmJih0aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9yPW51bGwsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGUuY2xlYXIoKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD10aGlzLmdldFNoYWRvd01hcCgpO2lmKCF0KXJldHVybiBlO2lmKGUuY2xhc3NOYW1lPXRoaXMuZ2V0Q2xhc3NOYW1lKCksZS5saWdodElkPXRoaXMuX2xpZ2h0LmlkLGUuaWQ9dGhpcy5pZCxlLm1hcFNpemU9dC5nZXRSZW5kZXJTaXplKCksZS5mb3JjZUJhY2tGYWNlc09ubHk9dGhpcy5mb3JjZUJhY2tGYWNlc09ubHksZS5kYXJrbmVzcz10aGlzLmdldERhcmtuZXNzKCksZS50cmFuc3BhcmVuY3lTaGFkb3c9dGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93LGUuZnJ1c3R1bUVkZ2VGYWxsb2ZmPXRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUuYmlhcz10aGlzLmJpYXMsZS5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyxlLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nLGUudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz10aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3csZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz10aGlzLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvLGUuZmlsdGVyaW5nUXVhbGl0eT10aGlzLmZpbHRlcmluZ1F1YWxpdHksZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlUG9pc3NvblNhbXBsaW5nPXRoaXMudXNlUG9pc3NvblNhbXBsaW5nLGUuZGVwdGhTY2FsZT10aGlzLmRlcHRoU2NhbGUsZS5ibHVyQm94T2Zmc2V0PXRoaXMuYmx1ckJveE9mZnNldCxlLmJsdXJLZXJuZWw9dGhpcy5ibHVyS2VybmVsLGUuYmx1clNjYWxlPXRoaXMuYmx1clNjYWxlLGUudXNlS2VybmVsQmx1cj10aGlzLnVzZUtlcm5lbEJsdXIsZS5yZW5kZXJMaXN0PVtdLHQucmVuZGVyTGlzdClmb3IodmFyIHI9MDtyPHQucmVuZGVyTGlzdC5sZW5ndGg7cisrKXt2YXIgbj10LnJlbmRlckxpc3Rbcl07ZS5yZW5kZXJMaXN0LnB1c2gobi5pZCl9cmV0dXJuIGV9LGkuUGFyc2U9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj10LmdldExpZ2h0QnlJZChlLmxpZ2h0SWQpLGE9cj9yKGUubWFwU2l6ZSxuKTpuZXcgaShlLm1hcFNpemUsbikscz1hLmdldFNoYWRvd01hcCgpLG89MDtvPGUucmVuZGVyTGlzdC5sZW5ndGg7bysrKXt2YXIgdT10LmdldE1lc2hlc0J5SWQoZS5yZW5kZXJMaXN0W29dKTt1LmZvckVhY2goZnVuY3Rpb24oZil7cyYmKHMucmVuZGVyTGlzdHx8KHMucmVuZGVyTGlzdD1bXSkscy5yZW5kZXJMaXN0LnB1c2goZikpfSl9cmV0dXJuIGUuaWQhPT12b2lkIDAmJihhLmlkPWUuaWQpLGEuZm9yY2VCYWNrRmFjZXNPbmx5PSEhZS5mb3JjZUJhY2tGYWNlc09ubHksZS5kYXJrbmVzcyE9PXZvaWQgMCYmYS5zZXREYXJrbmVzcyhlLmRhcmtuZXNzKSxlLnRyYW5zcGFyZW5jeVNoYWRvdyYmYS5zZXRUcmFuc3BhcmVuY3lTaGFkb3coITApLGUuZnJ1c3R1bUVkZ2VGYWxsb2ZmIT09dm9pZCAwJiYoYS5mcnVzdHVtRWRnZUZhbGxvZmY9ZS5mcnVzdHVtRWRnZUZhbGxvZmYpLGUuYmlhcyE9PXZvaWQgMCYmKGEuYmlhcz1lLmJpYXMpLGUubm9ybWFsQmlhcyE9PXZvaWQgMCYmKGEubm9ybWFsQmlhcz1lLm5vcm1hbEJpYXMpLGUudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz9hLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITA6ZS51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93P2EudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz0hMDplLnVzZVBvaXNzb25TYW1wbGluZz9hLnVzZVBvaXNzb25TYW1wbGluZz0hMDplLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwP2EudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwP2EudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwP2EudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VWYXJpYW5jZVNoYWRvd01hcD9hLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1clZhcmlhbmNlU2hhZG93TWFwJiYoYS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9ITApLGUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8hPT12b2lkIDAmJihhLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPWUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8pLGUuZmlsdGVyaW5nUXVhbGl0eSE9PXZvaWQgMCYmKGEuZmlsdGVyaW5nUXVhbGl0eT1lLmZpbHRlcmluZ1F1YWxpdHkpLGUuZGVwdGhTY2FsZSYmKGEuZGVwdGhTY2FsZT1lLmRlcHRoU2NhbGUpLGUuYmx1clNjYWxlJiYoYS5ibHVyU2NhbGU9ZS5ibHVyU2NhbGUpLGUuYmx1ckJveE9mZnNldCYmKGEuYmx1ckJveE9mZnNldD1lLmJsdXJCb3hPZmZzZXQpLGUudXNlS2VybmVsQmx1ciYmKGEudXNlS2VybmVsQmx1cj1lLnVzZUtlcm5lbEJsdXIpLGUuYmx1cktlcm5lbCYmKGEuYmx1cktlcm5lbD1lLmJsdXJLZXJuZWwpLGF9LGkuQ0xBU1NOQU1FPSJTaGFkb3dHZW5lcmF0b3IiLGkuRklMVEVSX05PTkU9MCxpLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUD0xLGkuRklMVEVSX1BPSVNTT05TQU1QTElORz0yLGkuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUD0zLGkuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVA9NCxpLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD01LGkuRklMVEVSX1BDRj02LGkuRklMVEVSX1BDU1M9NyxpLlFVQUxJVFlfSElHSD0wLGkuUVVBTElUWV9NRURJVU09MSxpLlFVQUxJVFlfTE9XPTIsaS5ERUZBVUxUX0FMUEhBX0NVVE9GRj0uNSxpLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKGUpe3Rocm93IFgoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9LGl9KCksZm89ImRlcHRoUGl4ZWxTaGFkZXIiLGxvPWAjaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWM7CiNpZmRlZiBQQUNLRUQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpZmRlZiBBTFBIQVRFU1QKaWYgKHRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2VVYpLmE8MC40KQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIE5PTkxJTkVBUkRFUFRICiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2soZ2xfRnJhZ0Nvb3JkLnopOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNChnbF9GcmFnQ29vcmQueiwwLjAsMC4wLDAuMCk7CiNlbmRpZgojZWxzZQojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKHZEZXB0aE1ldHJpYyk7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KHZEZXB0aE1ldHJpYywwLjAsMC4wLDEuMCk7CiNlbmRpZgojZW5kaWYKfWA7TC5TaGFkZXJzU3RvcmVbZm9dPWxvO3ZhciBobz0iaW5zdGFuY2VzRGVjbGFyYXRpb24iLGNvPWAjaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2lmZGVmIElOU1RBTkNFU0NPTE9SCmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykgJiYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMDsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQyOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMzsKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtob109Y287dmFyIHBvPSJkZXB0aFZlcnRleFNoYWRlciIsX289YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpIHx8IGRlZmluZWQoTkVFRF9VVikKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpYzsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKmZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpYz0oKC1nbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KSk7CiNlbHNlCnZEZXB0aE1ldHJpYz0oKGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2VuZGlmCiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgfHwgZGVmaW5lZChCQVNJQ19SRU5ERVIpCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCn0KYDtMLlNoYWRlcnNTdG9yZVtwb109X287dmFyIGdvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEpe3Q9PT12b2lkIDAmJih0PTEpLHI9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPSExKSxhPT09dm9pZCAwJiYoYT10ZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFKTt2YXIgcz10aGlzO3RoaXMuZW5hYmxlZD0hMCx0aGlzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzPSExLHRoaXMudXNlT25seUluQWN0aXZlQ2FtZXJhPSExLHRoaXMuX3NjZW5lPWUsdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aD1uLHRoaXMuaXNQYWNrZWQ9dD09PTAsdGhpcy5pc1BhY2tlZD90aGlzLl9jbGVhckNvbG9yPW5ldyBFZSgxLDEsMSwxKTp0aGlzLl9jbGVhckNvbG9yPW5ldyBFZSgxLDAsMCwxKSxpLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTt2YXIgbz1lLmdldEVuZ2luZSgpO3RoaXMuX2NhbWVyYT1yLGEhPT10ZS5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKHQ9PT0xJiYhby5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmcmJihhPXRlLk5FQVJFU1RfU0FNUExJTkdNT0RFKSx0PT09MiYmIW8uX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyYmKGE9dGUuTkVBUkVTVF9TQU1QTElOR01PREUpKTt2YXIgdT10aGlzLmlzUGFja2VkfHwhby5fZmVhdHVyZXMuc3VwcG9ydEV4dGVuZGVkVGV4dHVyZUZvcm1hdHM/NTo2O3RoaXMuX2RlcHRoTWFwPW5ldyBWdCgiRGVwdGhSZW5kZXJlciIse3dpZHRoOm8uZ2V0UmVuZGVyV2lkdGgoKSxoZWlnaHQ6by5nZXRSZW5kZXJIZWlnaHQoKX0sdGhpcy5fc2NlbmUsITEsITAsdCwhMSxhLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHUpLHRoaXMuX2RlcHRoTWFwLndyYXBVPXRlLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLndyYXBWPXRlLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLnJlZnJlc2hSYXRlPTEsdGhpcy5fZGVwdGhNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX2RlcHRoTWFwLnJlbmRlckxpc3Q9bnVsbCx0aGlzLl9kZXB0aE1hcC5hY3RpdmVDYW1lcmE9dGhpcy5fY2FtZXJhLHRoaXMuX2RlcHRoTWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX2RlcHRoTWFwLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXM9ITEsdGhpcy5fZGVwdGhNYXAub25DbGVhck9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGwpe2wuY2xlYXIocy5fY2xlYXJDb2xvciwhMCwhMCwhMCl9KSx0aGlzLl9kZXB0aE1hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBsOyhsPW8uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fGw9PT12b2lkIDB8fGwuY2FsbChvLCJkZXB0aCByZW5kZXJlciIsMSl9KSx0aGlzLl9kZXB0aE1hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgbDsobD1vLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fGw9PT12b2lkIDB8fGwuY2FsbChvLDEpfSksdGhpcy5fZGVwdGhNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPWZ1bmN0aW9uKGwsaCl7aWYoIWwuaXNSZWFkeSghMSkpcmV0dXJuITE7aWYoaD09PTAmJmwuc3ViTWVzaGVzKWZvcih2YXIgYz0wO2M8bC5zdWJNZXNoZXMubGVuZ3RoOysrYyl7dmFyIGQ9bC5zdWJNZXNoZXNbY10scD1kLmdldFJlbmRlcmluZ01lc2goKSxnPXAuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZC5faWQsISFkLmdldFJlcGxhY2VtZW50TWVzaCgpKSxfPW8uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKGcudmlzaWJsZUluc3RhbmNlc1tkLl9pZF0hPT1udWxsJiZnLnZpc2libGVJbnN0YW5jZXNbZC5faWRdIT09dm9pZCAwfHxwLmhhc1RoaW5JbnN0YW5jZXMpO2lmKCFzLmlzUmVhZHkoZCxfKSlyZXR1cm4hMX1yZXR1cm4hMH07dmFyIGY9ZnVuY3Rpb24obCl7dmFyIGgsYyxkPWwuZ2V0UmVuZGVyaW5nTWVzaCgpLHA9bC5nZXRFZmZlY3RpdmVNZXNoKCksZz1zLl9zY2VuZSxfPWcuZ2V0RW5naW5lKCksdj1sLmdldE1hdGVyaWFsKCk7aWYocC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsISghdnx8cC5pbmZpbml0ZURpc3RhbmNlfHx2LmRpc2FibGVEZXB0aFdyaXRlfHxsLnZlcnRpY2VzQ291bnQ9PT0wfHxsLl9yZW5kZXJJZD09PWcuZ2V0UmVuZGVySWQoKSkpe3ZhciB5PXAuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTwwLEU9KGg9ZC5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmghPT12b2lkIDA/aDp2LnNpZGVPcmllbnRhdGlvbjt5JiYoRT1FPT09MD8xOjApO3ZhciBSPUU9PT0wO18uc2V0U3RhdGUodi5iYWNrRmFjZUN1bGxpbmcsMCwhMSxSLHYuY3VsbEJhY2tGYWNlcyk7dmFyIE09ZC5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChsLl9pZCwhIWwuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpO2lmKCFNLm11c3RSZXR1cm4pe3ZhciBDPV8uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKE0udmlzaWJsZUluc3RhbmNlc1tsLl9pZF0hPT1udWxsJiZNLnZpc2libGVJbnN0YW5jZXNbbC5faWRdIT09dm9pZCAwfHxkLmhhc1RoaW5JbnN0YW5jZXMpLEE9cy5fY2FtZXJhfHxnLmFjdGl2ZUNhbWVyYTtpZihzLmlzUmVhZHkobCxDKSYmQSl7bC5fcmVuZGVySWQ9Zy5nZXRSZW5kZXJJZCgpO3ZhciBTPShjPXAuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxjPT09dm9pZCAwP3ZvaWQgMDpjW18uY3VycmVudFJlbmRlclBhc3NJZF0sdz1sLl9nZXREcmF3V3JhcHBlcigpOyF3JiZTJiYodz1TLl9nZXREcmF3V3JhcHBlcigpKTt2YXIgRj1BLm1vZGU9PT1PZS5PUlRIT0dSQVBISUNfQ0FNRVJBO2lmKCF3KXJldHVybjt2YXIgeD13LmVmZmVjdDtfLmVuYWJsZUVmZmVjdCh3KSxDfHxkLl9iaW5kKGwseCx2LmZpbGxNb2RlKSxTP1MuYmluZEZvclN1Yk1lc2gocC5nZXRXb3JsZE1hdHJpeCgpLHAsbCk6KHguc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsZy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkseC5zZXRNYXRyaXgoIndvcmxkIixwLmdldFdvcmxkTWF0cml4KCkpKTt2YXIgRz12b2lkIDAsVz12b2lkIDA7aWYoRj8oRz0hXy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJl8uaXNORENIYWxmWlJhbmdlPzA6MSxXPV8udXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZfLmlzTkRDSGFsZlpSYW5nZT8wOjEpOihHPV8udXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZfLmlzTkRDSGFsZlpSYW5nZT9BLm1pblo6Xy5pc05EQ0hhbGZaUmFuZ2U/MDpBLm1pblosVz1fLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmXy5pc05EQ0hhbGZaUmFuZ2U/MDpBLm1heFopLHguc2V0RmxvYXQyKCJkZXB0aFZhbHVlcyIsRyxHK1cpLCFTKXtpZih2JiZ2Lm5lZWRBbHBoYVRlc3RpbmcoKSl7dmFyIE49di5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7TiYmKHguc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLE4pLHguc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4IixOLmdldFRleHR1cmVNYXRyaXgoKSkpfWlmKGQudXNlQm9uZXMmJmQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZkLnNrZWxldG9uKXt2YXIgcT1kLnNrZWxldG9uO2lmKHEuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7dmFyICQ9cS5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGQpO2lmKCEkKXJldHVybjt4LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIiwkKSx4LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihxLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSB4LnNldE1hdHJpY2VzKCJtQm9uZXMiLHEuZ2V0VHJhbnNmb3JtTWF0cmljZXMoZCkpfVkuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhkLHgpLGQubW9ycGhUYXJnZXRNYW5hZ2VyJiZkLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmQubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHgpfWQuX3Byb2Nlc3NSZW5kZXJpbmcocCxsLHgsdi5maWxsTW9kZSxNLEMsZnVuY3Rpb24ob2UsWil7cmV0dXJuIHguc2V0TWF0cml4KCJ3b3JsZCIsWil9KX19fX07dGhpcy5fZGVwdGhNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249ZnVuY3Rpb24obCxoLGMsZCl7dmFyIHA7aWYoZC5sZW5ndGgpZm9yKHA9MDtwPGQubGVuZ3RoO3ArKylmKGQuZGF0YVtwXSk7Zm9yKHA9MDtwPGwubGVuZ3RoO3ArKylmKGwuZGF0YVtwXSk7Zm9yKHA9MDtwPGgubGVuZ3RoO3ArKylmKGguZGF0YVtwXSk7aWYocy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcylmb3IocD0wO3A8Yy5sZW5ndGg7cCsrKWYoYy5kYXRhW3BdKTtlbHNlIGZvcihwPTA7cDxjLmxlbmd0aDtwKyspYy5kYXRhW3BdLmdldEVmZmVjdGl2ZU1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITF9fXJldHVybiBpLnByb3RvdHlwZS5zZXRNYXRlcmlhbEZvclJlbmRlcmluZz1mdW5jdGlvbihlLHQpe3RoaXMuX2RlcHRoTWFwLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGE9ZS5nZXRNZXNoKCkscz0ocj1hLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6cltuLmN1cnJlbnRSZW5kZXJQYXNzSWRdO2lmKHMpcmV0dXJuIHMuaXNSZWFkeUZvclN1Yk1lc2goYSxlLHQpO3ZhciBvPWUuZ2V0TWF0ZXJpYWwoKTtpZighb3x8by5kaXNhYmxlRGVwdGhXcml0ZSlyZXR1cm4hMTt2YXIgdT1bXSxmPVttLlBvc2l0aW9uS2luZF07aWYobyYmby5uZWVkQWxwaGFUZXN0aW5nKCkmJm8uZ2V0QWxwaGFUZXN0VGV4dHVyZSgpJiYodS5wdXNoKCIjZGVmaW5lIEFMUEhBVEVTVCIpLGEuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSYmKGYucHVzaChtLlVWS2luZCksdS5wdXNoKCIjZGVmaW5lIFVWMSIpKSxhLmlzVmVydGljZXNEYXRhUHJlc2VudChtLlVWMktpbmQpJiYoZi5wdXNoKG0uVVYyS2luZCksdS5wdXNoKCIjZGVmaW5lIFVWMiIpKSksYS51c2VCb25lcyYmYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMpe2YucHVzaChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGYucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGEubnVtQm9uZUluZmx1ZW5jZXJzPjQmJihmLnB1c2gobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGYucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpLHUucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK2EubnVtQm9uZUluZmx1ZW5jZXJzKSx1LnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKGEuc2tlbGV0b24/YS5za2VsZXRvbi5ib25lcy5sZW5ndGgrMTowKSk7dmFyIGw9ZS5nZXRSZW5kZXJpbmdNZXNoKCkuc2tlbGV0b247bCE9bnVsbCYmbC5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZ1LnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKX1lbHNlIHUucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7dmFyIGg9YS5tb3JwaFRhcmdldE1hbmFnZXIsYz0wO2gmJmgubnVtSW5mbHVlbmNlcnM+MCYmKGM9aC5udW1JbmZsdWVuY2Vycyx1LnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTIiksdS5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK2MpLGguaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZ1LnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMoZixhLGMpKSx0JiYodS5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLFkuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZiksZS5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyYmdS5wdXNoKCIjZGVmaW5lIFRISU5fSU5TVEFOQ0VTIikpLHRoaXMuX3N0b3JlTm9uTGluZWFyRGVwdGgmJnUucHVzaCgiI2RlZmluZSBOT05MSU5FQVJERVBUSCIpLHRoaXMuaXNQYWNrZWQmJnUucHVzaCgiI2RlZmluZSBQQUNLRUQiKTt2YXIgZD1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApLHA9ZC5kZWZpbmVzLGc9dS5qb2luKGAKYCk7cmV0dXJuIHAhPT1nJiZkLnNldEVmZmVjdChuLmNyZWF0ZUVmZmVjdCgiZGVwdGgiLGYsWyJ3b3JsZCIsIm1Cb25lcyIsImJvbmVUZXh0dXJlV2lkdGgiLCJ2aWV3UHJvamVjdGlvbiIsImRpZmZ1c2VNYXRyaXgiLCJkZXB0aFZhbHVlcyIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl0sWyJkaWZmdXNlU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyIsImJvbmVTYW1wbGVyIl0sZyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOmN9KSxnKSxkLmVmZmVjdC5pc1JlYWR5KCl9LGkucHJvdG90eXBlLmdldERlcHRoTWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFwfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciB0IGluIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyKXt2YXIgcj10aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlclt0XTtyPT09dGhpcyYmZS5wdXNoKHQpfWlmKGUubGVuZ3RoPjApe3RoaXMuX2RlcHRoTWFwLmRpc3Bvc2UoKTtmb3IodmFyIG49MCxhPWU7bjxhLmxlbmd0aDtuKyspe3ZhciB0PWFbbl07ZGVsZXRlIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdfX19LGkuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249ZnVuY3Rpb24oZSl7dGhyb3cgWCgiRGVwdGhSZW5kZXJlclNjZW5lQ29tcG9uZW50Iil9LGl9KCksdm89Im1pbm1heFJlZHV4UGl4ZWxTaGFkZXIiLG1vPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKI2lmIGRlZmluZWQoSU5JVElBTCkKdW5pZm9ybSBzYW1wbGVyMkQgc291cmNlVGV4dHVyZTsKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKZmxvYXQgZjE9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkLDApLnI7CmZsb2F0IGYyPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigxLDApLDApLnI7CmZsb2F0IGYzPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigxLDEpLDApLnI7CmZsb2F0IGY0PXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigwLDEpLDApLnI7CmZsb2F0IG1pbno9bWluKG1pbihtaW4oZjEsZjIpLGYzKSxmNCk7CiNpZmRlZiBERVBUSF9SRURVWApmbG9hdCBtYXh6PW1heChtYXgobWF4KHNpZ24oMS4wLWYxKSpmMSxzaWduKDEuMC1mMikqZjIpLHNpZ24oMS4wLWYzKSpmMyksc2lnbigxLjAtZjQpKmY0KTsKI2Vsc2UKZmxvYXQgbWF4ej1tYXgobWF4KG1heChmMSxmMiksZjMpLGY0KTsKI2VuZGlmCmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKE1BSU4pCnVuaWZvcm0gdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqKHRleFNpemUtMS4wKSk7CnZlYzIgZjE9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMCksMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigxLDEpLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMCwxKSwwKS5yZzsKZmxvYXQgbWluej1taW4obWluKG1pbihmMS54LGYyLngpLGYzLngpLGY0LngpOwpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLnksZjIueSksZjMueSksZjQueSk7CmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKE9ORUJFRk9SRUxBU1QpCnVuaWZvcm0gaXZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKnZlYzIodGV4U2l6ZS0xKSk7CnZlYzIgZjE9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCAlIHRleFNpemUsMCkucmc7CnZlYzIgZjI9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwwKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGYzPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDEsMSkpICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmND10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigwLDEpKSAlIHRleFNpemUsMCkucmc7CmZsb2F0IG1pbno9bWluKGYxLngsZjIueCk7CmZsb2F0IG1heHo9bWF4KGYxLnksZjIueSk7CmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKExBU1QpCnZvaWQgbWFpbih2b2lkKQp7CmdsRnJhZ0NvbG9yPXZlYzQoMC4pOwppZiAodHJ1ZSkgeyAKZGlzY2FyZDsKfQp9CiNlbmRpZgpgO0wuU2hhZGVyc1N0b3JlW3ZvXT1tbzt2YXIgeW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7dGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkPW5ldyBPLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuX2FjdGl2YXRlZD0hMSx0aGlzLl9jYW1lcmE9ZSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IFNyKGUuZ2V0U2NlbmUoKSksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt0Ll9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNvdXJjZVRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRTb3VyY2VUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7aWYocj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49ITApLGUhPT10aGlzLl9zb3VyY2VUZXh0dXJlKXt0aGlzLmRpc3Bvc2UoITEpLHRoaXMuX3NvdXJjZVRleHR1cmU9ZSx0aGlzLl9yZWR1Y3Rpb25TdGVwcz1bXSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1uO3ZhciBzPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLG89bmV3IG5yKCJJbml0aWFsIHJlZHVjdGlvbiBwaGFzZSIsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxbInNvdXJjZVRleHR1cmUiXSwxLG51bGwsMSxzLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lIElOSVRJQUwiKyh0P2AKI2RlZmluZSBERVBUSF9SRURVWGA6IiIpLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7by5hdXRvQ2xlYXI9ITEsby5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1uO3ZhciB1PXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVyV2lkdGgoKSxmPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVySGVpZ2h0KCk7by5vbkFwcGx5PWZ1bmN0aW9uKGQscCl7cmV0dXJuIGZ1bmN0aW9uKGcpe2cuc2V0VGV4dHVyZSgic291cmNlVGV4dHVyZSIsYS5fc291cmNlVGV4dHVyZSksZy5zZXRGbG9hdDIoInRleFNpemUiLGQscCl9fSh1LGYpLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobyk7Zm9yKHZhciBsPTE7dT4xfHxmPjE7KXt1PU1hdGgubWF4KE1hdGgucm91bmQodS8yKSwxKSxmPU1hdGgubWF4KE1hdGgucm91bmQoZi8yKSwxKTt2YXIgaD1uZXcgbnIoIlJlZHVjdGlvbiBwaGFzZSAiK2wsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxudWxsLHt3aWR0aDp1LGhlaWdodDpmfSxudWxsLDEscy5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSAiKyh1PT0xJiZmPT0xPyJMQVNUIjp1PT0xfHxmPT0xPyJPTkVCRUZPUkVMQVNUIjoiTUFJTiIpLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7aWYoaC5hdXRvQ2xlYXI9ITEsaC5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1uLGgub25BcHBseT1mdW5jdGlvbihkLHApe3JldHVybiBmdW5jdGlvbihnKXtkPT0xfHxwPT0xP2cuc2V0SW50MigidGV4U2l6ZSIsZCxwKTpnLnNldEZsb2F0MigidGV4U2l6ZSIsZCxwKX19KHUsZiksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChoKSxsKyssdT09MSYmZj09MSl7dmFyIGM9ZnVuY3Rpb24oZCxwLGcpe3ZhciBfPW5ldyBGbG9hdDMyQXJyYXkoNCpkKnApLHY9e21pbjowLG1heDowfTtyZXR1cm4gZnVuY3Rpb24oKXtzLmdldEVuZ2luZSgpLl9yZWFkVGV4dHVyZVBpeGVscyhnLmlucHV0VGV4dHVyZS50ZXh0dXJlLGQscCwtMSwwLF8sITEpLHYubWluPV9bMF0sdi5tYXg9X1sxXSxhLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQubm90aWZ5T2JzZXJ2ZXJzKHYpfX07aC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoYyh1LGYsaCkpfX19fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlZnJlc2hSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmU/dGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZTotMX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NvdXJjZVRleHR1cmUmJih0aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlPWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWN0aXZhdGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciB0LHIsbj1lLl9jYW1lcmEuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTsodD1uLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwobiwibWluIG1heCByZWR1Y3Rpb24iLDEpLGUuX3JlZHVjdGlvblN0ZXBzWzBdLmFjdGl2YXRlKGUuX2NhbWVyYSksZS5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihlLl9yZWR1Y3Rpb25TdGVwcyxlLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsZS5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpLG4udW5CaW5kRnJhbWVidWZmZXIoZS5fcmVkdWN0aW9uU3RlcHNbMF0uaW5wdXRUZXh0dXJlLCExKSwocj1uLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChuLDEpfSksdGhpcy5fYWN0aXZhdGVkPSEwKX0saS5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpeyF0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9bnVsbCx0aGlzLl9hY3RpdmF0ZWQ9ITEpfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPSEwKSxlJiYodGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmNsZWFyKCksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuX2NhbWVyYS5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCkpLHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMuX3JlZHVjdGlvblN0ZXBzKXtmb3IodmFyIHQ9MDt0PHRoaXMuX3JlZHVjdGlvblN0ZXBzLmxlbmd0aDsrK3QpdGhpcy5fcmVkdWN0aW9uU3RlcHNbdF0uZGlzcG9zZSgpO3RoaXMuX3JlZHVjdGlvblN0ZXBzPW51bGx9dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZlJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3NvdXJjZVRleHR1cmU9bnVsbH0saX0oKSxibz1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVwdGhSZW5kZXJlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aFJlbmRlcmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldERlcHRoUmVuZGVyZXI9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPTIpLG49PT12b2lkIDAmJihuPSEwKTt2YXIgYT10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKTt0aGlzLl9kZXB0aFJlbmRlcmVyJiYoZGVsZXRlIGEuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGwpLHQ9PT1udWxsJiYoYS5fZGVwdGhSZW5kZXJlcnx8KGEuX2RlcHRoUmVuZGVyZXI9e30pLHQ9dGhpcy5fZGVwdGhSZW5kZXJlcj1uZXcgZ28oYSxyLHRoaXMuX2NhbWVyYSwhMSwxKSx0LmVuYWJsZWQ9ITEsdGhpcy5fZGVwdGhSZW5kZXJlcklkPSJtaW5tYXgiK3RoaXMuX2NhbWVyYS5pZCxhLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF09dCksaS5wcm90b3R5cGUuc2V0U291cmNlVGV4dHVyZS5jYWxsKHRoaXMsdC5nZXREZXB0aE1hcCgpLCEwLHIsbil9LGUucHJvdG90eXBlLnNldFNvdXJjZVRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSl7bj09PXZvaWQgMCYmKG49MiksYT09PXZvaWQgMCYmKGE9ITApLGkucHJvdG90eXBlLnNldFNvdXJjZVRleHR1cmUuY2FsbCh0aGlzLHQscixuLGEpfSxlLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuX2RlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlbmRlcmVyLmVuYWJsZWQ9ITApLGkucHJvdG90eXBlLmFjdGl2YXRlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5kZWFjdGl2YXRlLmNhbGwodGhpcyksdGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQpLHRoaXMuX2RlcHRoUmVuZGVyZXImJnQpe3ZhciByPXRoaXMuX2RlcHRoUmVuZGVyZXIuZ2V0RGVwdGhNYXAoKS5nZXRTY2VuZSgpO3ImJmRlbGV0ZSByLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF0sdGhpcy5fZGVwdGhSZW5kZXJlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZW5kZXJlcj1udWxsfX0sZX0oeW8pLGRuPWIuVXAoKSxFbz1iLlplcm8oKSx2ZT1uZXcgYixrdD1uZXcgYixDcj1uZXcgSSxwbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9dGhpcztyZXR1cm4gZS5Jc1N1cHBvcnRlZD8oYT1pLmNhbGwodGhpcyx0LHIsbil8fHRoaXMsYS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPSEwLGEpOihrLkVycm9yKCJDYXNjYWRlZFNoYWRvd01hcCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGVuZ2luZS4iKSxhKX1yZXR1cm4gZS5wcm90b3R5cGUuX3ZhbGlkYXRlRmlsdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09a2UuRklMVEVSX05PTkV8fHQ9PT1rZS5GSUxURVJfUENGfHx0PT09a2UuRklMVEVSX1BDU1M/dDooY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgZmlsdGVyICInK3QrJyIhJyksa2UuRklMVEVSX05PTkUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bUNhc2NhZGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bUNhc2NhZGVzfSxzZXQ6ZnVuY3Rpb24odCl7dD1NYXRoLm1pbihNYXRoLm1heCh0LGUuTUlOX0NBU0NBREVTX0NPVU5UKSxlLk1BWF9DQVNDQURFU19DT1VOVCksdCE9PXRoaXMuX251bUNhc2NhZGVzJiYodGhpcy5fbnVtQ2FzY2FkZXM9dCx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCksdGhpcy5fcmVjcmVhdGVTY2VuZVVCT3MoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmdCYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLCF0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmIXQmJih0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT10aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHRoaXMuX2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLmJpbmQodGhpcykpKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXQsdCYmdGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtpZih0aGlzLl9zY2JpTWluLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9zY2JpTWF4LmNvcHlGcm9tRmxvYXRzKE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFKSx0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXtmb3IodmFyIHQ9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO2lmKG4pe3ZhciBhPW4uZ2V0Qm91bmRpbmdJbmZvKCkscz1hLmJvdW5kaW5nQm94O3RoaXMuX3NjYmlNaW4ubWluaW1pemVJblBsYWNlKHMubWluaW11bVdvcmxkKSx0aGlzLl9zY2JpTWF4Lm1heGltaXplSW5QbGFjZShzLm1heGltdW1Xb3JsZCl9fWZvcih2YXIgbz10aGlzLl9zY2VuZS5tZXNoZXMscj0wO3I8by5sZW5ndGg7cisrKXt2YXIgbj1vW3JdO2lmKCEoIW58fCFuLmlzVmlzaWJsZXx8IW4uaXNFbmFibGVkfHwhbi5yZWNlaXZlU2hhZG93cykpe3ZhciBhPW4uZ2V0Qm91bmRpbmdJbmZvKCkscz1hLmJvdW5kaW5nQm94O3RoaXMuX3NjYmlNaW4ubWluaW1pemVJblBsYWNlKHMubWluaW11bVdvcmxkKSx0aGlzLl9zY2JpTWF4Lm1heGltaXplSW5QbGFjZShzLm1heGltdW1Xb3JsZCl9fX10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KHRoaXMuX3NjYmlNaW4sdGhpcy5fc2NiaU1heCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldE1pbk1heERpc3RhbmNlPWZ1bmN0aW9uKHQscil7dGhpcy5fbWluRGlzdGFuY2U9PT10JiZ0aGlzLl9tYXhEaXN0YW5jZT09PXJ8fCh0PnImJih0PTAscj0xKSx0PDAmJih0PTApLHI+MSYmKHI9MSksdGhpcy5fbWluRGlzdGFuY2U9dCx0aGlzLl9tYXhEaXN0YW5jZT1yLHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtaW5EaXN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5EaXN0YW5jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1heERpc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heERpc3RhbmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiBlLkNMQVNTTkFNRX0sZS5wcm90b3R5cGUuZ2V0Q2FzY2FkZU1pbkV4dGVudHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTAmJnQ8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF06bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FzY2FkZU1heEV4dGVudHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTAmJnQ8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF06bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dNYXhaIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhPzA6dGhpcy5fc2hhZG93TWF4Wn0sc2V0OmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9zY2VuZXx8IXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSl7dGhpcy5fc2hhZG93TWF4Wj10O3JldHVybn10aGlzLl9zaGFkb3dNYXhaPT09dHx8dDx0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEubWluWnx8dD50aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEubWF4Wnx8KHRoaXMuX3NoYWRvd01heFo9dCx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRlYnVnIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlYnVnfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZGVidWc9dCx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVwdGhDbGFtcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aENsYW1wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhDbGFtcD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FzY2FkZUJsZW5kUGVyY2VudGFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT10LHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsYW1iZGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFtYmRhfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9TWF0aC5taW4oTWF0aC5tYXgodCwwKSwxKTt0aGlzLl9sYW1iZGEhPXImJih0aGlzLl9sYW1iZGE9cix0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2FzY2FkZVZpZXdNYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTAmJnQ8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fdmlld01hdHJpY2VzW3RdOm51bGx9LGUucHJvdG90eXBlLmdldENhc2NhZGVQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1t0XTpudWxsfSxlLnByb3RvdHlwZS5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3RdOm51bGx9LGUucHJvdG90eXBlLnNldERlcHRoUmVuZGVyZXI9ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhSZW5kZXJlcj10LHRoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLnNldERlcHRoUmVuZGVyZXIodGhpcy5fZGVwdGhSZW5kZXJlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYXV0b0NhbGNEZXB0aEJvdW5kcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtpZihuKXtpZih0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPXQsIXQpe3RoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLmRlYWN0aXZhdGUoKSx0aGlzLnNldE1pbk1heERpc3RhbmNlKDAsMSk7cmV0dXJufXRoaXMuX2RlcHRoUmVkdWNlcnx8KHRoaXMuX2RlcHRoUmVkdWNlcj1uZXcgYm8obiksdGhpcy5fZGVwdGhSZWR1Y2VyLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuYWRkKGZ1bmN0aW9uKGEpe3ZhciBzPWEubWluLG89YS5tYXg7cz49byYmKHM9MCxvPTEpLChzIT1yLl9taW5EaXN0YW5jZXx8byE9ci5fbWF4RGlzdGFuY2UpJiZyLnNldE1pbk1heERpc3RhbmNlKHMsbyl9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYXV0b0NhbGNEZXB0aEJvdW5kc1JlZnJlc2hSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscixuO3JldHVybihuPShyPSh0PXRoaXMuX2RlcHRoUmVkdWNlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmRlcHRoUmVuZGVyZXIpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlKSE9PW51bGwmJm4hPT12b2lkIDA/bjotMX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByOyEoKHI9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmRlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlZHVjZXIuZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNwbGl0RnJ1c3R1bT1mdW5jdGlvbigpe3RoaXMuX2JyZWFrc0FyZURpcnR5PSEwfSxlLnByb3RvdHlwZS5fc3BsaXRGcnVzdHVtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKHQpe2Zvcih2YXIgcj10Lm1pblosbj10Lm1heFosYT1uLXIscz10aGlzLl9taW5EaXN0YW5jZSxvPXRoaXMuX3NoYWRvd01heFo8biYmdGhpcy5fc2hhZG93TWF4Wj49cj9NYXRoLm1pbigodGhpcy5fc2hhZG93TWF4Wi1yKS8obi1yKSx0aGlzLl9tYXhEaXN0YW5jZSk6dGhpcy5fbWF4RGlzdGFuY2UsdT1yK3MqYSxmPXIrbyphLGw9Zi11LGg9Zi91LGM9MDtjPHRoaXMuX2Nhc2NhZGVzLmxlbmd0aDsrK2Mpe3ZhciBkPShjKzEpL3RoaXMuX251bUNhc2NhZGVzLHA9dSpNYXRoLnBvdyhoLGQpLGc9dStsKmQsXz10aGlzLl9sYW1iZGEqKHAtZykrZzt0aGlzLl9jYXNjYWRlc1tjXS5wcmV2QnJlYWtEaXN0YW5jZT1jPT09MD9zOnRoaXMuX2Nhc2NhZGVzW2MtMV0uYnJlYWtEaXN0YW5jZSx0aGlzLl9jYXNjYWRlc1tjXS5icmVha0Rpc3RhbmNlPShfLXIpL2EsdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaW2NdPV8sdGhpcy5fZnJ1c3R1bUxlbmd0aHNbY109KHRoaXMuX2Nhc2NhZGVzW2NdLmJyZWFrRGlzdGFuY2UtdGhpcy5fY2FzY2FkZXNbY10ucHJldkJyZWFrRGlzdGFuY2UpKmF9dGhpcy5fYnJlYWtzQXJlRGlydHk9ITF9fSxlLnByb3RvdHlwZS5fY29tcHV0ZU1hdHJpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUscj10LmFjdGl2ZUNhbWVyYTtpZihyKXtiLk5vcm1hbGl6ZVRvUmVmKHRoaXMuX2xpZ2h0LmdldFNoYWRvd0RpcmVjdGlvbigwKSx0aGlzLl9saWdodERpcmVjdGlvbiksTWF0aC5hYnMoYi5Eb3QodGhpcy5fbGlnaHREaXJlY3Rpb24sYi5VcCgpKSk9PT0xJiYodGhpcy5fbGlnaHREaXJlY3Rpb24uej0xZS0xMyksdGhpcy5fY2FjaGVkRGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKTtmb3IodmFyIG49dC5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXIsYT0wO2E8dGhpcy5fbnVtQ2FzY2FkZXM7KythKXt0aGlzLl9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZShhKSx0aGlzLl9jb21wdXRlQ2FzY2FkZUZydXN0dW0oYSksdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbYV0uc3VidHJhY3RUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXSx2ZSksdGhpcy5fZnJ1c3R1bUNlbnRlclthXS5hZGRUb1JlZih0aGlzLl9saWdodERpcmVjdGlvbi5zY2FsZSh0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXS56KSx0aGlzLl9zaGFkb3dDYW1lcmFQb3NbYV0pLEkuTG9va0F0TEhUb1JlZih0aGlzLl9zaGFkb3dDYW1lcmFQb3NbYV0sdGhpcy5fZnJ1c3R1bUNlbnRlclthXSxkbix0aGlzLl92aWV3TWF0cmljZXNbYV0pO3ZhciBzPTAsbz12ZS56LHU9dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbzt1LnVwZGF0ZSh0aGlzLl92aWV3TWF0cmljZXNbYV0pLG89TWF0aC5taW4obyx1LmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZC56KSwhdGhpcy5fZGVwdGhDbGFtcHx8dGhpcy5maWx0ZXI9PT1rZS5GSUxURVJfUENTUz9zPU1hdGgubWluKHMsdS5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQueik6cz1NYXRoLm1heChzLHUuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopLEkuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2FdLngsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbYV0ueCx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXS55LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLnksbj9vOnMsbj9zOm8sdGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW2FdLHQuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXS56PXMsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbYV0uej1vLHRoaXMuX3ZpZXdNYXRyaWNlc1thXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKEVvLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW2FdLHZlKSx2ZS5zY2FsZUluUGxhY2UodGhpcy5fbWFwU2l6ZS8yKSxrdC5jb3B5RnJvbUZsb2F0cyhNYXRoLnJvdW5kKHZlLngpLE1hdGgucm91bmQodmUueSksTWF0aC5yb3VuZCh2ZS56KSksa3Quc3VidHJhY3RJblBsYWNlKHZlKS5zY2FsZUluUGxhY2UoMi90aGlzLl9tYXBTaXplKSxJLlRyYW5zbGF0aW9uVG9SZWYoa3QueCxrdC55LDAsQ3IpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXS5tdWx0aXBseVRvUmVmKENyLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSksdGhpcy5fdmlld01hdHJpY2VzW2FdLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW2FdLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW2FdKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXS5jb3B5VG9BcnJheSh0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXksYSoxNil9fX0sZS5wcm90b3R5cGUuX2NvbXB1dGVGcnVzdHVtSW5Xb3JsZFNwYWNlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSl7dmFyIHI9dGhpcy5fY2FzY2FkZXNbdF0ucHJldkJyZWFrRGlzdGFuY2Usbj10aGlzLl9jYXNjYWRlc1t0XS5icmVha0Rpc3RhbmNlLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlO3RoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCk7Zm9yKHZhciBzPUkuSW52ZXJ0KHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpKSxvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj80OjAsdT0wO3U8ZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGg7Kyt1KXZlLmNvcHlGcm9tKGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKHUrbyklZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGhdKSxhJiZ2ZS56PT09LTEmJih2ZS56PTApLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih2ZSxzLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSk7Zm9yKHZhciB1PTA7dTxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aC8yOysrdSl2ZS5jb3B5RnJvbSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdSs0XSkuc3VidHJhY3RJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSksa3QuY29weUZyb20odmUpLnNjYWxlSW5QbGFjZShyKSx2ZS5zY2FsZUluUGxhY2UobiksdmUuYWRkSW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdV0pLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1KzRdLmNvcHlGcm9tKHZlKSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdV0uYWRkSW5QbGFjZShrdCl9fSxlLnByb3RvdHlwZS5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtPWZ1bmN0aW9uKHQpe3RoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5jb3B5RnJvbUZsb2F0cygwLDAsMCk7dmFyIHI9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKHIpe2Zvcih2YXIgbj0wO248dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdLmxlbmd0aDsrK24pdGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVtuXSk7aWYodGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5zY2FsZUluUGxhY2UoMS90aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF0ubGVuZ3RoKSx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzKXtmb3IodmFyIGE9MCxuPTA7bjx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF0ubGVuZ3RoOysrbil7dmFyIHM9dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW25dLnN1YnRyYWN0VG9SZWYodGhpcy5fZnJ1c3R1bUNlbnRlclt0XSx2ZSkubGVuZ3RoKCk7YT1NYXRoLm1heChhLHMpfWE9TWF0aC5jZWlsKGEqMTYpLzE2LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKGEsYSxhKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1t0XS5jb3B5RnJvbUZsb2F0cygtYSwtYSwtYSl9ZWxzZXt2YXIgbz10aGlzLl9mcnVzdHVtQ2VudGVyW3RdO3RoaXMuX2ZydXN0dW1DZW50ZXJbdF0uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24sdmUpLEkuTG9va0F0TEhUb1JlZihvLHZlLGRuLENyKTtmb3IodmFyIG49MDtuPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XS5sZW5ndGg7KytuKWIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bbl0sQ3IsdmUpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdLm1pbmltaXplSW5QbGFjZSh2ZSksdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF0ubWF4aW1pemVJblBsYWNlKHZlKX19fSxlLnByb3RvdHlwZS5fcmVjcmVhdGVTY2VuZVVCT3M9ZnVuY3Rpb24oKXtpZih0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fc2NlbmVVQk9zKWZvcih2YXIgdD0wO3Q8dGhpcy5fbnVtQ2FzY2FkZXM7Kyt0KXRoaXMuX3NjZW5lVUJPcy5wdXNoKHRoaXMuX3NjZW5lLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcignU2NlbmUgZm9yIENTTSBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJy5jb25jYXQodGhpcy5fbGlnaHQubmFtZSwnIiBjYXNjYWRlICMnKS5jb25jYXQodCwiKSIpKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJc1N1cHBvcnRlZCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXJlLkxhc3RDcmVhdGVkRW5naW5lO3JldHVybiB0P3QuX2ZlYXR1cmVzLnN1cHBvcnRDU006ITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemVHZW5lcmF0b3I9ZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8sdix5LEUsUixNO3RoaXMucGVudW1icmFEYXJrbmVzcz0odD10aGlzLnBlbnVtYnJhRGFya25lc3MpIT09bnVsbCYmdCE9PXZvaWQgMD90OjEsdGhpcy5fbnVtQ2FzY2FkZXM9KHI9dGhpcy5fbnVtQ2FzY2FkZXMpIT09bnVsbCYmciE9PXZvaWQgMD9yOmUuREVGQVVMVF9DQVNDQURFU19DT1VOVCx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzPShuPXRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpIT09bnVsbCYmbiE9PXZvaWQgMD9uOiExLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPShhPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSE9PW51bGwmJmEhPT12b2lkIDA/YTpudWxsLHRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0ocz10aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmcyE9PXZvaWQgMD9zOiExLHRoaXMuX3NjYmlNaW49KG89dGhpcy5fc2NiaU1pbikhPT1udWxsJiZvIT09dm9pZCAwP286bmV3IGIoMCwwLDApLHRoaXMuX3NjYmlNYXg9KHU9dGhpcy5fc2NiaU1heCkhPT1udWxsJiZ1IT09dm9pZCAwP3U6bmV3IGIoMCwwLDApLHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KGY9dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZmIT09dm9pZCAwP2Y6bmV3IFR0KG5ldyBiKDAsMCwwKSxuZXcgYigwLDAsMCkpLHRoaXMuX2JyZWFrc0FyZURpcnR5PShsPXRoaXMuX2JyZWFrc0FyZURpcnR5KSE9PW51bGwmJmwhPT12b2lkIDA/bDohMCx0aGlzLl9taW5EaXN0YW5jZT0oaD10aGlzLl9taW5EaXN0YW5jZSkhPT1udWxsJiZoIT09dm9pZCAwP2g6MCx0aGlzLl9tYXhEaXN0YW5jZT0oYz10aGlzLl9tYXhEaXN0YW5jZSkhPT1udWxsJiZjIT09dm9pZCAwP2M6MSx0aGlzLl9jdXJyZW50TGF5ZXI9KGQ9dGhpcy5fY3VycmVudExheWVyKSE9PW51bGwmJmQhPT12b2lkIDA/ZDowLHRoaXMuX3NoYWRvd01heFo9KF89KHA9dGhpcy5fc2hhZG93TWF4WikhPT1udWxsJiZwIT09dm9pZCAwP3A6KGc9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhKT09PW51bGx8fGc9PT12b2lkIDA/dm9pZCAwOmcubWF4WikhPT1udWxsJiZfIT09dm9pZCAwP186MWU0LHRoaXMuX2RlYnVnPSh2PXRoaXMuX2RlYnVnKSE9PW51bGwmJnYhPT12b2lkIDA/djohMSx0aGlzLl9kZXB0aENsYW1wPSh5PXRoaXMuX2RlcHRoQ2xhbXApIT09bnVsbCYmeSE9PXZvaWQgMD95OiEwLHRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9KEU9dGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZSkhPT1udWxsJiZFIT09dm9pZCAwP0U6LjEsdGhpcy5fbGFtYmRhPShSPXRoaXMuX2xhbWJkYSkhPT1udWxsJiZSIT09dm9pZCAwP1I6LjUsdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz0oTT10aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzKSE9PW51bGwmJk0hPT12b2lkIDA/TTohMSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpLGkucHJvdG90eXBlLl9pbml0aWFsaXplR2VuZXJhdG9yLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj17d2lkdGg6dGhpcy5fbWFwU2l6ZSxoZWlnaHQ6dGhpcy5fbWFwU2l6ZSxsYXllcnM6dGhpcy5udW1DYXNjYWRlc307dGhpcy5fc2hhZG93TWFwPW5ldyBWdCh0aGlzLl9saWdodC5uYW1lKyJfQ1NNU2hhZG93TWFwIixyLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLCExLHZvaWQgMCwhMSwhMSx2b2lkIDApLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHQudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApfSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZVNoYWRvd01hcD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoaS5wcm90b3R5cGUuX2luaXRpYWxpemVTaGFkb3dNYXAuY2FsbCh0aGlzKSx0aGlzLl9zaGFkb3dNYXAhPT1udWxsKXt0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoxNiksdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fZnJ1c3R1bUxlbmd0aHM9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKjIpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX3ZpZXdNYXRyaWNlcz1bXSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXM9W10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXM9W10sdGhpcy5fY2FzY2FkZU1pbkV4dGVudHM9W10sdGhpcy5fY2FzY2FkZU1heEV4dGVudHM9W10sdGhpcy5fZnJ1c3R1bUNlbnRlcj1bXSx0aGlzLl9zaGFkb3dDYW1lcmFQb3M9W10sdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlPVtdO2Zvcih2YXIgcj0wO3I8dGhpcy5fbnVtQ2FzY2FkZXM7KytyKXt0aGlzLl9jYXNjYWRlc1tyXT17cHJldkJyZWFrRGlzdGFuY2U6MCxicmVha0Rpc3RhbmNlOjB9LHRoaXMuX3ZpZXdNYXRyaWNlc1tyXT1JLlplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbcl09SS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbcl09SS5aZXJvKCksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbcl09bmV3IGIsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbcl09bmV3IGIsdGhpcy5fZnJ1c3R1bUNlbnRlcltyXT1uZXcgYix0aGlzLl9zaGFkb3dDYW1lcmFQb3Nbcl09bmV3IGIsdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3JdPW5ldyBBcnJheShlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aCk7Zm9yKHZhciBuPTA7bjxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK24pdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3JdW25dPW5ldyBifXZhciBhPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKHMpe3QuX3NjZW5lVUJPcyYmdC5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHQuX3NjZW5lVUJPc1tzXSksdC5fY3VycmVudExheWVyPXMsdC5fZmlsdGVyPT09a2UuRklMVEVSX1BDRiYmYS5zZXRDb2xvcldyaXRlKCExKSx0Ll9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgodC5nZXRDYXNjYWRlVmlld01hdHJpeChzKSx0LmdldENhc2NhZGVQcm9qZWN0aW9uTWF0cml4KHMpKSx0Ll91c2VVQk8mJih0Ll9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSx0Ll9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dmFyIHM7dC5fY3VycmVudFNjZW5lVUJPPXQuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLChzPWEuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbChhLCJjYXNjYWRlZCBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgIi5jb25jYXQoYS5jdXJyZW50UmVuZGVyUGFzc0lkKSwxKSx0Ll9icmVha3NBcmVEaXJ0eSYmdC5fc3BsaXRGcnVzdHVtKCksdC5fY29tcHV0ZU1hdHJpY2VzKCl9KSx0aGlzLl9zcGxpdEZydXN0dW0oKX19LGUucHJvdG90eXBlLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcD1mdW5jdGlvbih0LHIpe3Iuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KHRoaXMuX2N1cnJlbnRMYXllcikpfSxlLnByb3RvdHlwZS5faXNSZWFkeUN1c3RvbURlZmluZXM9ZnVuY3Rpb24odCl7dC5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIQ0xBTVAgIisodGhpcy5fZGVwdGhDbGFtcCYmdGhpcy5fZmlsdGVyIT09a2UuRklMVEVSX1BDU1M/IjEiOiIwIikpfSxlLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcz1mdW5jdGlvbih0LHIpe2kucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzLmNhbGwodGhpcyx0LHIpO3ZhciBuPXRoaXMuX3NjZW5lLGE9dGhpcy5fbGlnaHQ7aWYoISghbi5zaGFkb3dzRW5hYmxlZHx8IWEuc2hhZG93RW5hYmxlZCkpe3RbIlNIQURPV0NTTSIrcl09ITAsdFsiU0hBRE9XQ1NNREVCVUciK3JdPXRoaXMuZGVidWcsdFsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIityXT10aGlzLm51bUNhc2NhZGVzLHRbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrcl09bi51c2VSaWdodEhhbmRlZFN5c3RlbTt2YXIgcz1uLmFjdGl2ZUNhbWVyYTtzJiZ0aGlzLl9zaGFkb3dNYXhaPHMubWF4WiYmKHRbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK3JdPSEwKSx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wJiYodFsiU0hBRE9XQ1NNTk9CTEVORCIrcl09ITApfX0sZS5wcm90b3R5cGUuYmluZFNoYWRvd0xpZ2h0PWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5fbGlnaHQsYT10aGlzLl9zY2VuZTtpZighKCFhLnNoYWRvd3NFbmFibGVkfHwhbi5zaGFkb3dFbmFibGVkKSl7dmFyIHM9YS5hY3RpdmVDYW1lcmE7aWYocyl7dmFyIG89dGhpcy5nZXRTaGFkb3dNYXAoKTtpZihvKXt2YXIgdT1vLmdldFNpemUoKS53aWR0aDtpZihyLnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrdCx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHIuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrdCx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHIuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrdCx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksci5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK3QsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PWtlLkZJTFRFUl9QQ0Ypci5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIit0LG8pLG4uX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLHUsMS91LHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLHQpO2Vsc2UgaWYodGhpcy5fZmlsdGVyPT09a2UuRklMVEVSX1BDU1Mpe2Zvcih2YXIgZj0wO2Y8dGhpcy5fbnVtQ2FzY2FkZXM7KytmKXRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltmKjIrMF09Zj09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS54KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZl0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tmXS54KSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bZioyKzFdPWY9PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueSkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2ZdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZl0ueSksdGhpcy5fZGVwdGhDb3JyZWN0aW9uW2ZdPWY9PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2ZdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZl0ueikvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueik7ci5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIit0LG8pLHIuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIit0LG8pLHIuc2V0QXJyYXkyKCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK3QsdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uKSxyLnNldEFycmF5KCJkZXB0aENvcnJlY3Rpb24iK3QsdGhpcy5fZGVwdGhDb3JyZWN0aW9uKSxyLnNldEZsb2F0KCJwZW51bWJyYURhcmtuZXNzIit0LHRoaXMucGVudW1icmFEYXJrbmVzcyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS91LHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKnUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCl9ZWxzZSByLnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK3Qsbyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdSwxL3UsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCk7bi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHMpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocykrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihzKSx0KX19fX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLHRoaXMuX2RlcHRoUmVkdWNlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZWR1Y2VyPW51bGwpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKSxyPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXIpcmV0dXJuIHQ7aWYodC5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyx0LmRlYnVnPXRoaXMuX2RlYnVnLHQuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyx0LmxhbWJkYT10aGlzLl9sYW1iZGEsdC5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSx0LmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCx0LmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLHQuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLHQucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsdC5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sdC5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLHQubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSx0LnJlbmRlckxpc3Q9W10sci5yZW5kZXJMaXN0KWZvcih2YXIgbj0wO248ci5yZW5kZXJMaXN0Lmxlbmd0aDtuKyspe3ZhciBhPXIucmVuZGVyTGlzdFtuXTt0LnJlbmRlckxpc3QucHVzaChhLmlkKX1yZXR1cm4gdH0sZS5QYXJzZT1mdW5jdGlvbih0LHIpe3ZhciBuPWtlLlBhcnNlKHQscixmdW5jdGlvbihhLHMpe3JldHVybiBuZXcgZShhLHMpfSk7cmV0dXJuIHQubnVtQ2FzY2FkZXMhPT12b2lkIDAmJihuLm51bUNhc2NhZGVzPXQubnVtQ2FzY2FkZXMpLHQuZGVidWchPT12b2lkIDAmJihuLmRlYnVnPXQuZGVidWcpLHQuc3RhYmlsaXplQ2FzY2FkZXMhPT12b2lkIDAmJihuLnN0YWJpbGl6ZUNhc2NhZGVzPXQuc3RhYmlsaXplQ2FzY2FkZXMpLHQubGFtYmRhIT09dm9pZCAwJiYobi5sYW1iZGE9dC5sYW1iZGEpLHQuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSE9PXZvaWQgMCYmKG4uY2FzY2FkZUJsZW5kUGVyY2VudGFnZT10LmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpLHQuZGVwdGhDbGFtcCE9PXZvaWQgMCYmKG4uZGVwdGhDbGFtcD10LmRlcHRoQ2xhbXApLHQuYXV0b0NhbGNEZXB0aEJvdW5kcyE9PXZvaWQgMCYmKG4uYXV0b0NhbGNEZXB0aEJvdW5kcz10LmF1dG9DYWxjRGVwdGhCb3VuZHMpLHQuc2hhZG93TWF4WiE9PXZvaWQgMCYmKG4uc2hhZG93TWF4Wj10LnNoYWRvd01heFopLHQucGVudW1icmFEYXJrbmVzcyE9PXZvaWQgMCYmKG4ucGVudW1icmFEYXJrbmVzcz10LnBlbnVtYnJhRGFya25lc3MpLHQuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyE9PXZvaWQgMCYmKG4uZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz10LmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pLHQubWluRGlzdGFuY2UhPT12b2lkIDAmJnQubWF4RGlzdGFuY2UhPT12b2lkIDAmJm4uc2V0TWluTWF4RGlzdGFuY2UodC5taW5EaXN0YW5jZSx0Lm1heERpc3RhbmNlKSxufSxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlPVtuZXcgYigtMSwxLC0xKSxuZXcgYigxLDEsLTEpLG5ldyBiKDEsLTEsLTEpLG5ldyBiKC0xLC0xLC0xKSxuZXcgYigtMSwxLDEpLG5ldyBiKDEsMSwxKSxuZXcgYigxLC0xLDEpLG5ldyBiKC0xLC0xLDEpXSxlLkNMQVNTTkFNRT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiLGUuREVGQVVMVF9DQVNDQURFU19DT1VOVD00LGUuTUlOX0NBU0NBREVTX0NPVU5UPTIsZS5NQVhfQ0FTQ0FERVNfQ09VTlQ9NCxlLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKHQpe3Rocm93IFgoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9LGV9KGtlKTtOaS5BZGRQYXJzZXIoQnQuTkFNRV9TSEFET1dHRU5FUkFUT1IsZnVuY3Rpb24oaSxlKXtpZihpLnNoYWRvd0dlbmVyYXRvcnMhPT12b2lkIDAmJmkuc2hhZG93R2VuZXJhdG9ycyE9PW51bGwpZm9yKHZhciB0PTAscj1pLnNoYWRvd0dlbmVyYXRvcnMubGVuZ3RoO3Q8cjt0Kyspe3ZhciBuPWkuc2hhZG93R2VuZXJhdG9yc1t0XTtuLmNsYXNzTmFtZT09PXBuLkNMQVNTTkFNRT9wbi5QYXJzZShuLGUpOmtlLlBhcnNlKG4sZSl9fSk7dmFyIFRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLm5hbWU9QnQuTkFNRV9TSEFET1dHRU5FUkFUT1IsdGhpcy5zY2VuZT1lfXJldHVybiBpLnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbigpe3RoaXMuc2NlbmUuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5yZWdpc3RlclN0ZXAoQnQuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUix0aGlzLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHMpfSxpLnByb3RvdHlwZS5yZWJ1aWxkPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oZSl7ZS5zaGFkb3dHZW5lcmF0b3JzPVtdO2Zvcih2YXIgdD10aGlzLnNjZW5lLmxpZ2h0cyxyPTAsbj10O3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdLHM9YS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtzJiZlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChzLnNlcmlhbGl6ZSgpKX19LGkucHJvdG90eXBlLmFkZEZyb21Db250YWluZXI9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5yZW1vdmVGcm9tQ29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5fZ2F0aGVyUmVuZGVyVGFyZ2V0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjZW5lO2lmKHRoaXMuc2NlbmUuc2hhZG93c0VuYWJsZWQpZm9yKHZhciByPTA7cjx0LmxpZ2h0cy5sZW5ndGg7cisrKXt2YXIgbj10LmxpZ2h0c1tyXSxhPW4uZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYobi5pc0VuYWJsZWQoKSYmbi5zaGFkb3dFbmFibGVkJiZhKXt2YXIgcz1hLmdldFNoYWRvd01hcCgpO3QudGV4dHVyZXMuaW5kZXhPZihzKSE9PS0xJiZlLnB1c2gocyl9fX0saX0oKTtrZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbihpKXt2YXIgZT1pLl9nZXRDb21wb25lbnQoQnQuTkFNRV9TSEFET1dHRU5FUkFUT1IpO2V8fChlPW5ldyBUbyhpKSxpLl9hZGRDb21wb25lbnQoZSkpfTtjb25zdCBTbz17ZW5hYmxlU2hhZG93czohMH07ZnVuY3Rpb24gX24oaT1Tbyl7Y29uc3R7ZW5hYmxlU2hhZG93czplLHNoYWRvd1RyYW5zcGFyZW5jeTp0LGludGVuc2l0eTpyLHNjZW5lOm59PWksYT1uZXcgZm4oIkRpcmVjdGlvbmFsTGlnaHQiLG5ldyBiKC0uMywtMSwuNCksbik7YS5wb3NpdGlvbj1uZXcgYigtNTAsNjUsLTUwKSxhLmludGVuc2l0eT0uNjUqcjtjb25zdCBzPW5ldyBsbigiSGVtaXNwaGVyaWNMaWdodCIsbmV3IGIoMSwxLDApLG4pO3JldHVybiBzLmludGVuc2l0eT0uNCpyLGUmJihhLnNoYWRvd01pblo9MSxhLnNoYWRvd01heFo9NzAsYS5zaGFkb3dHZW5lcmF0b3I9bmV3IGtlKDIwNDgsYSksYS5zaGFkb3dHZW5lcmF0b3IudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMCxhLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10KSx7ZGlyZWN0aW9uYWw6YSxoZW1pc3BoZXJpYzpzfX1mdW5jdGlvbiBnbihpKXt2YXIgZT02LHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXSxyPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0sbj1bXSxhPVtdLHM9aS53aWR0aHx8aS5zaXplfHwxLG89aS5oZWlnaHR8fGkuc2l6ZXx8MSx1PWkuZGVwdGh8fGkuc2l6ZXx8MSxmPWkud3JhcHx8ITEsbD1pLnRvcEJhc2VBdD09PXZvaWQgMD8xOmkudG9wQmFzZUF0LGg9aS5ib3R0b21CYXNlQXQ9PT12b2lkIDA/MDppLmJvdHRvbUJhc2VBdDtsPShsKzQpJTQsaD0oaCs0KSU0O3ZhciBjPVsyLDAsMywxXSxkPVsyLDAsMSwzXSxwPWNbbF0sZz1kW2hdLF89WzEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwxXTtpZihmKXt0PVsyLDMsMCwyLDAsMSw0LDUsNiw0LDYsNyw5LDEwLDExLDksMTEsOCwxMiwxNCwxNSwxMiwxMywxNF0sXz1bLTEsMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLC0xLDEsLTEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTFdO2Zvcih2YXIgdj1bWzEsMSwxXSxbLTEsMSwxXSxbLTEsMSwtMV0sWzEsMSwtMV1dLHk9W1stMSwtMSwxXSxbMSwtMSwxXSxbMSwtMSwtMV0sWy0xLC0xLC0xXV0sRT1bMTcsMTgsMTksMTZdLFI9WzIyLDIzLDIwLDIxXTtwPjA7KXYudW5zaGlmdCh2LnBvcCgpKSxFLnVuc2hpZnQoRS5wb3AoKSkscC0tO2Zvcig7Zz4wOyl5LnVuc2hpZnQoeS5wb3AoKSksUi51bnNoaWZ0KFIucG9wKCkpLGctLTt2PXYuZmxhdCgpLHk9eS5mbGF0KCksXz1fLmNvbmNhdCh2KS5jb25jYXQoeSksdC5wdXNoKEVbMF0sRVsyXSxFWzNdLEVbMF0sRVsxXSxFWzJdKSx0LnB1c2goUlswXSxSWzJdLFJbM10sUlswXSxSWzFdLFJbMl0pfXZhciBNPVtzLzIsby8yLHUvMl07YT1fLnJlZHVjZShmdW5jdGlvbihxLCQsb2Upe3JldHVybiBxLmNvbmNhdCgkKk1bb2UlM10pfSxbXSk7Zm9yKHZhciBDPWkuc2lkZU9yaWVudGF0aW9uPT09MD8wOmkuc2lkZU9yaWVudGF0aW9ufHxnZS5ERUZBVUxUU0lERSxBPWkuZmFjZVVWfHxuZXcgQXJyYXkoNiksUz1pLmZhY2VDb2xvcnMsdz1bXSxGPTA7Rjw2O0YrKylBW0ZdPT09dm9pZCAwJiYoQVtGXT1uZXcgbXQoMCwwLDEsMSkpLFMmJlNbRl09PT12b2lkIDAmJihTW0ZdPW5ldyBFZSgxLDEsMSwxKSk7Zm9yKHZhciB4PTA7eDxlO3grKylpZihuLnB1c2goQVt4XS56LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnc6QVt4XS53KSxuLnB1c2goQVt4XS54LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnc6QVt4XS53KSxuLnB1c2goQVt4XS54LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnk6QVt4XS55KSxuLnB1c2goQVt4XS56LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnk6QVt4XS55KSxTKWZvcih2YXIgRz0wO0c8NDtHKyspdy5wdXNoKFNbeF0ucixTW3hdLmcsU1t4XS5iLFNbeF0uYSk7Z2UuX0NvbXB1dGVTaWRlcyhDLGEsdCxyLG4saS5mcm9udFVWcyxpLmJhY2tVVnMpO3ZhciBXPW5ldyBnZTtpZihXLmluZGljZXM9dCxXLnBvc2l0aW9ucz1hLFcubm9ybWFscz1yLFcudXZzPW4sUyl7dmFyIE49Qz09PWdlLkRPVUJMRVNJREU/dy5jb25jYXQodyk6dztXLmNvbG9ycz1OfXJldHVybiBXfWZ1bmN0aW9uIFd0KGksZSx0KXtlPT09dm9pZCAwJiYoZT17fSksdD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9bmV3IFEoaSx0KTtlLnNpZGVPcmllbnRhdGlvbj1RLl9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUuc2lkZU9yaWVudGF0aW9uKSxyLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5zaWRlT3JpZW50YXRpb247dmFyIG49Z24oZSk7cmV0dXJuIG4uYXBwbHlUb01lc2gocixlLnVwZGF0YWJsZSkscn1nZS5DcmVhdGVCb3g9Z24sUS5DcmVhdGVCb3g9ZnVuY3Rpb24oaSxlLHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT17c2l6ZTplLHNpZGVPcmllbnRhdGlvbjpuLHVwZGF0YWJsZTpyfTtyZXR1cm4gV3QoaSxhLHQpfTt2YXIgY2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXM9e30sdGhpcy5wcmV2aW91c0JvbmVzPXt9fXJldHVybiBpLkFkZFVuaWZvcm1zPWZ1bmN0aW9uKGUpe2UucHVzaCgicHJldmlvdXNXb3JsZCIsInByZXZpb3VzVmlld1Byb2plY3Rpb24iLCJtUHJldmlvdXNCb25lcyIpfSxpLkFkZFNhbXBsZXJzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0LnByZVBhc3NSZW5kZXJlciYmdC5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmdC5wcmVQYXNzUmVuZGVyZXIuY3VycmVudFJUaXNTY2VuZVJUJiZ0LnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSE9PS0xKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXXx8KHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW3IudW5pcXVlSWRdPW4uY2xvbmUoKSksdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9ufHwodGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCkpO3ZhciBzPXQuZ2V0RW5naW5lKCk7dGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24udXBkYXRlRmxhZyE9PXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkudXBkYXRlRmxhZz8odGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9cy5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbiksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24uY29weUZyb20odC5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkIT09cy5mcmFtZUlkJiYodGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9cy5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbikpLGUuc2V0TWF0cml4KCJwcmV2aW91c1dvcmxkIix0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXSksZS5zZXRNYXRyaXgoInByZXZpb3VzVmlld1Byb2plY3Rpb24iLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbiksdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbci51bmlxdWVJZF09bi5jbG9uZSgpfX0saX0oKSx2bj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7bj09PXZvaWQgMCYmKG49ITApO3ZhciBhPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGEuX25vcm1hbE1hdHJpeD1uZXcgSSxhLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPW4sYX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dGhpcy5fYWN0aXZlRWZmZWN0OmkucHJvdG90eXBlLmdldEVmZmVjdC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ/IXRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fCF0LnN1Yk1lc2hlc3x8dC5zdWJNZXNoZXMubGVuZ3RoPT09MD8hMDp0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKHQsdC5zdWJNZXNoZXNbMF0scik6ITF9LGUucHJvdG90eXBlLl9pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0KXt2YXIgcj10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4hISghdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGwmJnQuZWZmZWN0JiZyJiZyLl9yZW5kZXJJZD09PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpKX0sZS5wcm90b3R5cGUuYmluZE9ubHlXb3JsZE1hdHJpeD1mdW5jdGlvbih0KXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ3b3JsZCIsdCl9LGUucHJvdG90eXBlLmJpbmRPbmx5Tm9ybWFsTWF0cml4PWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIm5vcm1hbE1hdHJpeCIsdCl9LGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxyKXtyJiZ0aGlzLmJpbmRGb3JTdWJNZXNoKHQscixyLnN1Yk1lc2hlc1swXSl9LGUucHJvdG90eXBlLl9hZnRlckJpbmQ9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj1udWxsKSxpLnByb3RvdHlwZS5fYWZ0ZXJCaW5kLmNhbGwodGhpcyx0LHIpLHRoaXMuZ2V0U2NlbmUoKS5fY2FjaGVkRWZmZWN0PXJ9LGUucHJvdG90eXBlLl9tdXN0UmViaW5kPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49MSksdC5pc0NhY2hlZE1hdGVyaWFsSW52YWxpZCh0aGlzLHIsbil9LGV9KEZlKSxkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJEaWZmdXNlVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRGV0YWlsVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQW1iaWVudFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk9wYWNpdHlUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTcGVjdWxhclRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkJ1bXBUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQnVtcFRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMaWdodG1hcFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJGcmVzbmVsRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9GcmVzbmVsRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0ZyZXNuZWxFbmFibGVkIT09ZSYmKHRoaXMuX0ZyZXNuZWxFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJDbGVhckNvYXRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJDbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlNoZWVuVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZD1lLGhlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJUaGlja25lc3NUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJSZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJUcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPWUsaGUuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQ9ZSxoZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5fRGlmZnVzZVRleHR1cmVFbmFibGVkPSEwLGkuX0RldGFpbFRleHR1cmVFbmFibGVkPSEwLGkuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD0hMCxpLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ITAsaS5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPSEwLGkuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ITAsaS5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD0hMCxpLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ITAsaS5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD0hMCxpLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ITAsaS5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ITAsaS5fRnJlc25lbEVuYWJsZWQ9ITAsaS5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ITAsaS5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPSEwLGkuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD0hMCxpLl9TaGVlblRleHR1cmVFbmFibGVkPSEwLGkuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ITAsaS5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ITAsaS5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLGkuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLGkuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQ9ITAsaX0oKSxNbz0iZGVmYXVsdEZyYWdtZW50RGVjbGFyYXRpb24iLEFvPWB1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwp1bmlmb3JtIHZlYzQgdkRpZmZ1c2VDb2xvcjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdlNwZWN1bGFyQ29sb3I7CiNlbmRpZgp1bmlmb3JtIHZlYzMgdkVtaXNzaXZlQ29sb3I7CnVuaWZvcm0gdmVjMyB2QW1iaWVudENvbG9yOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNpZmRlZiBESUZGVVNFCnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWSAKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIHZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKdW5pZm9ybSBmbG9hdCBhbHBoYUN1dE9mZjsKI2VuZGlmCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZSQUNUSU9OKSB8fCBkZWZpbmVkKFBSRVBBU1MpCnVuaWZvcm0gbWF0NCB2aWV3OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT04KdW5pZm9ybSB2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CiNpZm5kZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIG1hdDQgcmVmcmFjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTAp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvbkxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25SaWdodENvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMpICYmIGRlZmluZWQoUkVGUkFDVElPTk1BUF8zRCkKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uUG9zaXRpb247CnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblNpemU7IAojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSKSAmJiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKdW5pZm9ybSB2ZWMyIHZTcGVjdWxhckluZm9zOwojZW5kaWYKI2lmZGVmIERJRkZVU0VGUkVTTkVMCnVuaWZvcm0gdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgZGlmZnVzZVJpZ2h0Q29sb3I7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKdW5pZm9ybSB2ZWM0IG9wYWNpdHlQYXJ0czsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSB2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUExBTkFSKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU0tZQk9YKQp1bmlmb3JtIG1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZm5kZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKI2lmIGRlZmluZWQoVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMpICYmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uUG9zaXRpb247CnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblNpemU7IAojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTAp1bmlmb3JtIHZlYzQgcmVmbGVjdGlvbkxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKI2VuZGlmCiNkZWZpbmUgQURESVRJT05BTF9GUkFHTUVOVF9ERUNMQVJBVElPTgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTW9dPUFvO3ZhciBSbz0iZGVmYXVsdFVib0RlY2xhcmF0aW9uIixQbz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWF0ZXJpYWwKewp2ZWM0IGRpZmZ1c2VMZWZ0Q29sb3I7CnZlYzQgZGlmZnVzZVJpZ2h0Q29sb3I7CnZlYzQgb3BhY2l0eVBhcnRzOwp2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmbGVjdGlvblJpZ2h0Q29sb3I7CnZlYzQgcmVmcmFjdGlvbkxlZnRDb2xvcjsKdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdmVjNCBlbWlzc2l2ZVJpZ2h0Q29sb3I7CnZlYzIgdkRpZmZ1c2VJbmZvczsKdmVjMiB2QW1iaWVudEluZm9zOwp2ZWMyIHZPcGFjaXR5SW5mb3M7CnZlYzIgdlJlZmxlY3Rpb25JbmZvczsKdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsKdmVjMiB2RW1pc3NpdmVJbmZvczsKdmVjMiB2TGlnaHRtYXBJbmZvczsKdmVjMiB2U3BlY3VsYXJJbmZvczsKdmVjMyB2QnVtcEluZm9zOwptYXQ0IGRpZmZ1c2VNYXRyaXg7Cm1hdDQgYW1iaWVudE1hdHJpeDsKbWF0NCBvcGFjaXR5TWF0cml4OwptYXQ0IHJlZmxlY3Rpb25NYXRyaXg7Cm1hdDQgZW1pc3NpdmVNYXRyaXg7Cm1hdDQgbGlnaHRtYXBNYXRyaXg7Cm1hdDQgc3BlY3VsYXJNYXRyaXg7Cm1hdDQgYnVtcE1hdHJpeDsKdmVjMiB2VGFuZ2VudFNwYWNlUGFyYW1zOwpmbG9hdCBwb2ludFNpemU7CmZsb2F0IGFscGhhQ3V0T2ZmOwptYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CnZlYzQgdlJlZnJhY3Rpb25JbmZvczsKdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsKdmVjNCB2U3BlY3VsYXJDb2xvcjsKdmVjMyB2RW1pc3NpdmVDb2xvcjsKdmVjNCB2RGlmZnVzZUNvbG9yOwp2ZWMzIHZBbWJpZW50Q29sb3I7CiNkZWZpbmUgQURESVRJT05BTF9VQk9fREVDTEFSQVRJT04KfTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUm9dPVBvO3ZhciBDbz0icHJlUGFzc0RlY2xhcmF0aW9uIix4bz1gI2lmZGVmIFBSRVBBU1MKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IGhpZ2hwIHZlYzQgZ2xGcmFnRGF0YVt7WH1dO2hpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIGhpZ2hwIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2YXJ5aW5nIGhpZ2hwIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjt2YXJ5aW5nIGhpZ2hwIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0NvXT14bzt2YXIgRG89Im9pdERlY2xhcmF0aW9uIixJbz1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQojZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlCmxheW91dChsb2NhdGlvbj0wKSBvdXQgdmVjMiBkZXB0aDsgCmxheW91dChsb2NhdGlvbj0xKSBvdXQgdmVjNCBmcm9udENvbG9yOwpsYXlvdXQobG9jYXRpb249Mikgb3V0IHZlYzQgYmFja0NvbG9yOwojZGVmaW5lIE1BWF9ERVBUSCA5OTk5OS4wCmhpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXREZXB0aFNhbXBsZXI7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdEZyb250Q29sb3JTYW1wbGVyOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0RvXT1Jbzt2YXIgT289Im1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbiIsRm89YCNpZmRlZiBNQUlOVVZ7WH0KdmFyeWluZyB2ZWMyIHZNYWluVVZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbT29dPUZvO3ZhciB3bz0ibGlnaHRGcmFnbWVudERlY2xhcmF0aW9uIixMbz1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3b109TG87dmFyIE5vPSJsaWdodFVib0RlY2xhcmF0aW9uIixCbz1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gTGlnaHR7WH0Kewp2ZWM0IHZMaWdodERhdGE7CnZlYzQgdkxpZ2h0RGlmZnVzZTsKdmVjNCB2TGlnaHRTcGVjdWxhcjsKI2lmZGVmIFNQT1RMSUdIVHtYfQp2ZWM0IHZMaWdodERpcmVjdGlvbjsKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnZlYzMgdkxpZ2h0R3JvdW5kOwojZW5kaWYKdmVjNCBzaGFkb3dzSW5mbzsKdmVjMiBkZXB0aFZhbHVlczsKfSBsaWdodHtYfTsKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQp1bmlmb3JtIG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH07CnVuaWZvcm0gc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07IAojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW05vXT1Cbzt2YXIgVW89ImxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zIixWbz1gc3RydWN0IGxpZ2h0aW5nSW5mbwp7CnZlYzMgZGlmZnVzZTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyOwojZW5kaWYKI2lmZGVmIE5ET1RMCmZsb2F0IG5kbDsKI2VuZGlmCn07CmxpZ2h0aW5nSW5mbyBjb21wdXRlTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLGZsb2F0IHJhbmdlLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKdmVjMyBsaWdodFZlY3Rvclc7CmZsb2F0IGF0dGVudWF0aW9uPTEuMDsKaWYgKGxpZ2h0RGF0YS53PT0wLikKewp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CmF0dGVudWF0aW9uPW1heCgwLiwxLjAtbGVuZ3RoKGRpcmVjdGlvbikvcmFuZ2UpOwpsaWdodFZlY3Rvclc9bm9ybWFsaXplKGRpcmVjdGlvbik7Cn0KZWxzZQp7CmxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoLWxpZ2h0RGF0YS54eXopOwp9CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpsaWdodGluZ0luZm8gY29tcHV0ZVNwb3RMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWM0IGxpZ2h0RGlyZWN0aW9uLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgZGlyZWN0aW9uPWxpZ2h0RGF0YS54eXotdlBvc2l0aW9uVzsKdmVjMyBsaWdodFZlY3Rvclc9bm9ybWFsaXplKGRpcmVjdGlvbik7CmZsb2F0IGF0dGVudWF0aW9uPW1heCgwLiwxLjAtbGVuZ3RoKGRpcmVjdGlvbikvcmFuZ2UpOwpmbG9hdCBjb3NBbmdsZT1tYXgoMC4sZG90KGxpZ2h0RGlyZWN0aW9uLnh5eiwtbGlnaHRWZWN0b3JXKSk7CmlmIChjb3NBbmdsZT49bGlnaHREaXJlY3Rpb24udykKewpjb3NBbmdsZT1tYXgoMC4scG93KGNvc0FuZ2xlLGxpZ2h0RGF0YS53KSk7CmF0dGVudWF0aW9uKj1jb3NBbmdsZTsKZmxvYXQgbmRsPW1heCgwLixkb3Qodk5vcm1hbCxsaWdodFZlY3RvclcpKTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bmRsKmRpZmZ1c2VDb2xvciphdHRlbnVhdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHRWZWN0b3JXKTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3IqYXR0ZW51YXRpb247CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CnJlc3VsdC5kaWZmdXNlPXZlYzMoMC4pOwojaWZkZWYgU1BFQ1VMQVJURVJNCnJlc3VsdC5zcGVjdWxhcj12ZWMzKDAuKTsKI2VuZGlmCiNpZmRlZiBORE9UTApyZXN1bHQubmRsPTAuOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpsaWdodGluZ0luZm8gY29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLHZlYzMgZ3JvdW5kQ29sb3IsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0OwpmbG9hdCBuZGw9ZG90KHZOb3JtYWwsbGlnaHREYXRhLnh5eikqMC41KzAuNTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bWl4KGdyb3VuZENvbG9yLGRpZmZ1c2VDb2xvcixuZGwpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodERhdGEueHl6KTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3I7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CiNkZWZpbmUgaW5saW5lCnZlYzMgY29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXgpewp2ZWM0IHN0cnE9dGV4dHVyZVByb2plY3Rpb25NYXRyaXgqdmVjNCh2UG9zaXRpb25XLDEuMCk7CnN0cnEvPXN0cnEudzsKdmVjMyB0ZXh0dXJlQ29sb3I9dGV4dHVyZTJEKHByb2plY3Rpb25MaWdodFNhbXBsZXIsc3RycS54eSkucmdiOwpyZXR1cm4gdGV4dHVyZUNvbG9yOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1VvXT1Wbzt2YXIga289InNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucyIsV289YCNpZmRlZiBTSEFET1dTCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9CiNlbmRpZgpmbG9hdCBjb21wdXRlRmFsbE9mZihmbG9hdCB2YWx1ZSx2ZWMyIGNsaXBTcGFjZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKZmxvYXQgbWFzaz1zbW9vdGhzdGVwKDEuMC1mcnVzdHVtRWRnZUZhbGxvZmYsMS4wMDAwMDAxMixjbGFtcChkb3QoY2xpcFNwYWNlLGNsaXBTcGFjZSksMC4sMS4pKTsKcmV0dXJuIG1peCh2YWx1ZSwxLjAsbWFzayk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmRlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKcmV0dXJuIGRlcHRoPnNoYWRvdyA/IGRhcmtuZXNzIDogMS4wOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CmZsb2F0IHZpc2liaWxpdHk9MS47CnZlYzMgcG9pc3NvbkRpc2tbNF07CnBvaXNzb25EaXNrWzBdPXZlYzMoLTEuMCwxLjAsLTEuMCk7CnBvaXNzb25EaXNrWzFdPXZlYzMoMS4wLC0xLjAsLTEuMCk7CnBvaXNzb25EaXNrWzJdPXZlYzMoLTEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1szXT12ZWMzKDEuMCwtMS4wLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gbWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsgCnJldHVybiBlc207Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gZXNtOwp9CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDU00oZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKdmVjMyB1dkxheWVyPXZlYzModXYueCx1di55LGxheWVyKTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KI2VuZGlmCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3codmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KS54OwojZW5kaWYKcmV0dXJuIHNoYWRvd1BpeGVsRGVwdGg+c2hhZG93ID8gY29tcHV0ZUZhbGxPZmYoZGFya25lc3MsY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZikgOiAxLjsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IG1hcFNpemUsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMyIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMyKC0wLjk0MjAxNjI0LC0wLjM5OTA2MjE2KTsKcG9pc3NvbkRpc2tbMV09dmVjMigwLjk0NTU4NjA5LC0wLjc2ODkwNzI1KTsKcG9pc3NvbkRpc2tbMl09dmVjMigtMC4wOTQxODQxMDEsLTAuOTI5Mzg4NzApOwpwb2lzc29uRGlza1szXT12ZWMyKDAuMzQ0OTU5MzgsMC4yOTM4Nzc2MCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBjb21wdXRlRmFsbE9mZihtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihlc20sY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOyAKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIFpJTkNMSVAgY2xpcFNwYWNlLnoKI2Vsc2UKI2RlZmluZSBaSU5DTElQIHV2RGVwdGguegojZW5kaWYKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkKI2RlZmluZSBHUkVBVEVTVF9MRVNTX1RIQU5fT05FIDAuOTk5OTk5OTQKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWM0IHV2RGVwdGhMYXllcj12ZWM0KHV2RGVwdGgueCx1dkRlcHRoLnksbGF5ZXIsdXZEZXB0aC56KTsKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGhMYXllcik7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjEodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGNSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CmNvbnN0IHZlYzMgUG9pc3NvblNhbXBsZXJzMzJbNjRdPXZlYzNbNjRdKAp2ZWMzKDAuMDY0MDcwMTMsMC4wNTQwOTkyNywwLiksCnZlYzMoMC43MzY2NTc3LDAuNTc4OTM5NCwwLiksCnZlYzMoLTAuNjI3MDU0MiwtMC41MzIwMjc4LDAuKSwKdmVjMygtMC40MDk2MTA3LDAuODQxMTA5NSwwLiksCnZlYzMoMC42ODQ5NTY0LC0wLjQ5OTA4MTgsMC4pLAp2ZWMzKC0wLjg3NDE4MSwtMC4wNDU3OTczNSwwLiksCnZlYzMoMC45OTg5OTk4LDAuMDAwOTg4MDA2NiwwLiksCnZlYzMoLTAuMDA0OTIwNTc4LC0wLjkxNTE2NDksMC4pLAp2ZWMzKDAuMTgwNTc2MywwLjk3NDc0ODMsMC4pLAp2ZWMzKC0wLjIxMzg0NTEsMC4yNjM1ODE4LDAuKSwKdmVjMygwLjEwOTg0NSwwLjM4ODQ3ODUsMC4pLAp2ZWMzKDAuMDY4NzY3NTUsLTAuMzU4MTA3NCwwLiksCnZlYzMoMC4zNzQwNzMsLTAuNzY2MTI2NiwwLiksCnZlYzMoMC4zMDc5MTMyLC0wLjEyMTY3NjMsMC4pLAp2ZWMzKC0wLjM3OTQzMzUsLTAuODI3MTU4MywwLiksCnZlYzMoLTAuMjAzODc4LC0wLjA3NzE1MDM0LDAuKSwKdmVjMygwLjU5MTI2OTcsMC4xNDY5Nzk5LDAuKSwKdmVjMygtMC44ODA2OSwwLjMwMzE3ODQsMC4pLAp2ZWMzKDAuNTA0MDEwOCwwLjgyODM3MjIsMC4pLAp2ZWMzKC0wLjU4NDQxMjQsMC41NDk0ODc3LDAuKSwKdmVjMygwLjYwMTc3OTksLTAuMTcyNjY1NCwwLiksCnZlYzMoLTAuNTU1NDk4MSwwLjE1NTk5OTcsMC4pLAp2ZWMzKC0wLjMwMTYzNjksLTAuMzkwMDkyOCwwLiksCnZlYzMoLTAuNTU1MDYzMiwtMC4xNzIzNzYyLDAuKSwKdmVjMygwLjkyNTAyOSwwLjI5OTUwNDEsMC4pLAp2ZWMzKC0wLjI0NzMxMzcsMC41NTM4NTA1LDAuKSwKdmVjMygwLjkxODMwMzcsLTAuMjg2MjM5MiwwLiksCnZlYzMoMC4yNDY5NDIxLDAuNjcxODcxMiwwLiksCnZlYzMoMC4zOTE2Mzk3LC0wLjQzMjgyMDksMC4pLAp2ZWMzKC0wLjAzNTc2OTI3LC0wLjYyMjAwMzIsMC4pLAp2ZWMzKC0wLjA0NjYxMjU1LDAuNzk5NTIwMSwwLiksCnZlYzMoMC40NDAyOTI0LDAuMzY0MDMxMiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKQopOwpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczY0WzY0XT12ZWMzWzY0XSgKdmVjMygtMC42MTMzOTIsMC42MTc0ODEsMC4pLAp2ZWMzKDAuMTcwMDE5LC0wLjA0MDI1NCwwLiksCnZlYzMoLTAuMjk5NDE3LDAuNzkxOTI1LDAuKSwKdmVjMygwLjY0NTY4MCwwLjQ5MzIxMCwwLiksCnZlYzMoLTAuNjUxNzg0LDAuNzE3ODg3LDAuKSwKdmVjMygwLjQyMTAwMywwLjAyNzA3MCwwLiksCnZlYzMoLTAuODE3MTk0LC0wLjI3MTA5NiwwLiksCnZlYzMoLTAuNzA1Mzc0LC0wLjY2ODIwMywwLiksCnZlYzMoMC45NzcwNTAsLTAuMTA4NjE1LDAuKSwKdmVjMygwLjA2MzMyNiwwLjE0MjM2OSwwLiksCnZlYzMoMC4yMDM1MjgsMC4yMTQzMzEsMC4pLAp2ZWMzKC0wLjY2NzUzMSwwLjMyNjA5MCwwLiksCnZlYzMoLTAuMDk4NDIyLC0wLjI5NTc1NSwwLiksCnZlYzMoLTAuODg1OTIyLDAuMjE1MzY5LDAuKSwKdmVjMygwLjU2NjYzNywwLjYwNTIxMywwLiksCnZlYzMoMC4wMzk3NjYsLTAuMzk2MTAwLDAuKSwKdmVjMygwLjc1MTk0NiwwLjQ1MzM1MiwwLiksCnZlYzMoMC4wNzg3MDcsLTAuNzE1MzIzLDAuKSwKdmVjMygtMC4wNzU4MzgsLTAuNTI5MzQ0LDAuKSwKdmVjMygwLjcyNDQ3OSwtMC41ODA3OTgsMC4pLAp2ZWMzKDAuMjIyOTk5LC0wLjIxNTEyNSwwLiksCnZlYzMoLTAuNDY3NTc0LC0wLjQwNTQzOCwwLiksCnZlYzMoLTAuMjQ4MjY4LC0wLjgxNDc1MywwLiksCnZlYzMoMC4zNTQ0MTEsLTAuODg3NTcwLDAuKSwKdmVjMygwLjE3NTgxNywwLjM4MjM2NiwwLiksCnZlYzMoMC40ODc0NzIsLTAuMDYzMDgyLDAuKSwKdmVjMygtMC4wODQwNzgsMC44OTgzMTIsMC4pLAp2ZWMzKDAuNDg4ODc2LC0wLjc4MzQ0MSwwLiksCnZlYzMoMC40NzAwMTYsMC4yMTc5MzMsMC4pLAp2ZWMzKC0wLjY5Njg5MCwtMC41NDk3OTEsMC4pLAp2ZWMzKC0wLjE0OTY5MywwLjYwNTc2MiwwLiksCnZlYzMoMC4wMzQyMTEsMC45Nzk5ODAsMC4pLAp2ZWMzKDAuNTAzMDk4LC0wLjMwODg3OCwwLiksCnZlYzMoLTAuMDE2MjA1LC0wLjg3MjkyMSwwLiksCnZlYzMoMC4zODU3ODQsLTAuMzkzOTAyLDAuKSwKdmVjMygtMC4xNDY4ODYsLTAuODU5MjQ5LDAuKSwKdmVjMygwLjY0MzM2MSwwLjE2NDA5OCwwLiksCnZlYzMoMC42MzQzODgsLTAuMDQ5NDcxLDAuKSwKdmVjMygtMC42ODg4OTQsMC4wMDc4NDMsMC4pLAp2ZWMzKDAuNDY0MDM0LC0wLjE4ODgxOCwwLiksCnZlYzMoLTAuNDQwODQwLDAuMTM3NDg2LDAuKSwKdmVjMygwLjM2NDQ4MywwLjUxMTcwNCwwLiksCnZlYzMoMC4wMzQwMjgsMC4zMjU5NjgsMC4pLAp2ZWMzKDAuMDk5MDk0LC0wLjMwODAyMywwLiksCnZlYzMoMC42OTM5NjAsLTAuMzY2MjUzLDAuKSwKdmVjMygwLjY3ODg4NCwtMC4yMDQ2ODgsMC4pLAp2ZWMzKDAuMDAxODAxLDAuNzgwMzI4LDAuKSwKdmVjMygwLjE0NTE3NywtMC44OTg5ODQsMC4pLAp2ZWMzKDAuMDYyNjU1LC0wLjYxMTg2NiwwLiksCnZlYzMoMC4zMTUyMjYsLTAuNjA0Mjk3LDAuKSwKdmVjMygtMC43ODAxNDUsMC40ODYyNTEsMC4pLAp2ZWMzKC0wLjM3MTg2OCwwLjg4MjEzOCwwLiksCnZlYzMoMC4yMDA0NzYsMC40OTQ0MzAsMC4pLAp2ZWMzKC0wLjQ5NDU1MiwtMC43MTEwNTEsMC4pLAp2ZWMzKDAuNjEyNDc2LDAuNzA1MjUyLDAuKSwKdmVjMygtMC41Nzg4NDUsLTAuNzY4NzkyLDAuKSwKdmVjMygtMC43NzI0NTQsLTAuMDkwOTc2LDAuKSwKdmVjMygwLjUwNDQ0MCwwLjM3MjI5NSwwLiksCnZlYzMoMC4xNTU3MzYsMC4wNjUxNTcsMC4pLAp2ZWMzKDAuMzkxNTIyLDAuODQ5NjA1LDAuKSwKdmVjMygtMC42MjAxMDYsLTAuMzI4MTA0LDAuKSwKdmVjMygwLjc4OTIzOSwtMC40MTk5NjUsMC4pLAp2ZWMzKC0wLjU0NTM5NiwwLjUzODEzMywwLiksCnZlYzMoLTAuMTc4NTY0LC0wLjU5NjA1NywwLikKKTsKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycyx2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdmVjMyh1dkRlcHRoLnh5KyhsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLGxheWVyKSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24rQUFPZmZzZXQpOwp2ZWM0IGZpbHRlclJhZGl1cz12ZWM0KHBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlLDAuLDAuKTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjNCBvZmZzZXQ9dmVjNChwb2lzc29uU2FtcGxlcnNbaV0sMC4pOwpvZmZzZXQ9dmVjNChvZmZzZXQueCpyb3RhdGlvblZlY3Rvci54LW9mZnNldC55KnJvdGF0aW9uVmVjdG9yLnksb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueCtvZmZzZXQueCpyb3RhdGlvblZlY3Rvci55LDAuLDAuKTsKc2hhZG93Kz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLG1pbigoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24qcGVudW1icmFEYXJrbmVzcywxLikpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1ModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdXZEZXB0aC54eSsobGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwpmbG9hdCBBQU9mZnNldD1zaGFkb3dNYXBTaXplSW52ZXJzZSoxMC47CmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpK0FBT2Zmc2V0KTsKZmxvYXQgZmlsdGVyUmFkaXVzPXBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2U7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzMgb2Zmc2V0PXBvaXNzb25TYW1wbGVyc1tpXTsKb2Zmc2V0PXZlYzMob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aCtvZmZzZXQqZmlsdGVyUmFkaXVzKTsKfQpzaGFkb3cvPWZsb2F0KHBjZlRhcENvdW50KTsKc2hhZG93PW1peChzaGFkb3csMS4sZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MxNih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMTYsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0KTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyLGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwzMixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMzIsNjQsUG9pc3NvblNhbXBsZXJzNjQsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrb109V287dmFyIHpvPSJzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbiIsR289YCNpZmRlZiBfREVGSU5FTkFNRV8KI2lmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0xCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MgojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjIKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTMKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYzCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT00CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNAojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjUKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTYKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY2CiNlbHNlCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKdW5pZm9ybSBzYW1wbGVyMkQgX1NBTVBMRVJOQU1FX1NhbXBsZXI7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbem9dPUdvO3ZhciBYbz0iZnJlc25lbEZ1bmN0aW9uIixIbz1gI2lmZGVmIEZSRVNORUwKZmxvYXQgY29tcHV0ZUZyZXNuZWxUZXJtKHZlYzMgdmlld0RpcmVjdGlvbix2ZWMzIHdvcmxkTm9ybWFsLGZsb2F0IGJpYXMsZmxvYXQgcG93ZXIpCnsKZmxvYXQgZnJlc25lbFRlcm09cG93KGJpYXMrYWJzKGRvdCh2aWV3RGlyZWN0aW9uLHdvcmxkTm9ybWFsKSkscG93ZXIpOwpyZXR1cm4gY2xhbXAoZnJlc25lbFRlcm0sMC4sMS4pOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWG9dPUhvO3ZhciBqbz0icmVmbGVjdGlvbkZ1bmN0aW9uIixLbz1gdmVjMyBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7IAp9CnZlYzMgY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMygxLjAtcyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgY2FtZXJhVG9WZXJ0ZXg9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgcj1ub3JtYWxpemUocmVmbGVjdChjYW1lcmFUb1ZlcnRleCx3b3JsZE5vcm1hbCkpOwpyPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHIsMCkpOwpmbG9hdCBsb249YXRhbihyLnosci54KTsKZmxvYXQgbGF0PWFjb3Moci55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOwp9CnZlYzMgY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsbWF0NCB2aWV3LG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHZlYzModmlldyp3b3JsZFBvcykpOwp2ZWMzIHZpZXdOb3JtYWw9bm9ybWFsaXplKHZlYzModmlldyp2ZWM0KHdvcmxkTm9ybWFsLDAuMCkpKTsKdmVjMyByPXJlZmxlY3Qodmlld0Rpcix2aWV3Tm9ybWFsKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKci56PXIuei0xLjA7CmZsb2F0IG09Mi4wKmxlbmd0aChyKTsKcmV0dXJuIHZlYzMoci54L20rMC41LDEuMC1yLnkvbS0wLjUsMCk7Cn0KdmVjMyBjb21wdXRlUGxhbmFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9d29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uOwp2ZWMzIGNvb3Jkcz1ub3JtYWxpemUocmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKSk7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMSkpOwp9CnZlYzMgY29tcHV0ZUN1YmljQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgY29vcmRzPXJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCk7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZUN1YmljTG9jYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4LHZlYzMgcmVmbGVjdGlvblNpemUsdmVjMyByZWZsZWN0aW9uUG9zaXRpb24pCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHdvcmxkUG9zLnh5eixjb29yZHMscmVmbGVjdGlvblNpemUscmVmbGVjdGlvblBvc2l0aW9uKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCoodmlldyp3b3JsZFBvcykpOwp9CnZlYzMgY29tcHV0ZVNreUJveENvb3Jkcyh2ZWMzIHBvc2l0aW9uVyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHBvc2l0aW9uVywxLikpOwp9CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgY29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsKQp7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUgpyZXR1cm4gY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMCnJldHVybiBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QTEFOQVIKcmV0dXJuIGNvbXB1dGVQbGFuYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0NVQklDCiNpZmRlZiBVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQwpyZXR1cm4gY29tcHV0ZUN1YmljTG9jYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4LHZSZWZsZWN0aW9uU2l6ZSx2UmVmbGVjdGlvblBvc2l0aW9uKTsKI2Vsc2UKcmV0dXJuIGNvbXB1dGVDdWJpY0Nvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KcmV0dXJuIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHdvcmxkUG9zLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKcmV0dXJuIGNvbXB1dGVTa3lCb3hDb29yZHModlBvc2l0aW9uVVZXLHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVhQTElDSVQKcmV0dXJuIHZlYzMoMCwwLDApOwojZW5kaWYKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2pvXT1Lbzt2YXIgWW89ImltYWdlUHJvY2Vzc2luZ0RlY2xhcmF0aW9uIixabz1gI2lmZGVmIEVYUE9TVVJFCnVuaWZvcm0gZmxvYXQgZXhwb3N1cmVMaW5lYXI7CiNlbmRpZgojaWZkZWYgQ09OVFJBU1QKdW5pZm9ybSBmbG9hdCBjb250cmFzdDsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQp1bmlmb3JtIHZlYzIgdkludmVyc2VTY3JlZW5TaXplOwp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczE7CnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMjsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZTsKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbDsKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmU7CiNlbmRpZgojaWZkZWYgQ09MT1JHUkFESU5HCiNpZmRlZiBDT0xPUkdSQURJTkczRAp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIzRCB0eENvbG9yVHJhbnNmb3JtOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCB0eENvbG9yVHJhbnNmb3JtOwojZW5kaWYKdW5pZm9ybSB2ZWM0IGNvbG9yVHJhbnNmb3JtU2V0dGluZ3M7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWW9dPVpvO3ZhciBxbz0iaW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zIixRbz1gI2lmIGRlZmluZWQoQ09MT1JHUkFESU5HKSAmJiAhZGVmaW5lZChDT0xPUkdSQURJTkczRCkKLyoqIAoqIFBvbHlmaWxsIGZvciBTQU1QTEVfVEVYVFVSRV8zRCx3aGljaCBpcyB1bnN1cHBvcnRlZCBpbiBXZWJHTC4KKiBzYW1wbGVyM2RTZXR0aW5nLng9dGV4dHVyZU9mZnNldCAoMC41L3RleHR1cmVTaXplKS4KKiBzYW1wbGVyM2RTZXR0aW5nLnk9dGV4dHVyZVNpemUuCiovCiNkZWZpbmUgaW5saW5lCnZlYzMgc2FtcGxlVGV4dHVyZTNEKHNhbXBsZXIyRCBjb2xvclRyYW5zZm9ybSx2ZWMzIGNvbG9yLHZlYzIgc2FtcGxlcjNkU2V0dGluZykKewpmbG9hdCBzbGljZVNpemU9Mi4wKnNhbXBsZXIzZFNldHRpbmcueDsgCiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuZy1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2Vsc2UKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5iLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZW5kaWYKZmxvYXQgc2xpY2VJbnRlZ2VyPWZsb29yKHNsaWNlQ29udGludW91cyk7CmZsb2F0IHNsaWNlRnJhY3Rpb249c2xpY2VDb250aW51b3VzLXNsaWNlSW50ZWdlcjsKI2lmZGVmIFNBTVBMRVIzREdSRUVOREVQVEgKdmVjMiBzbGljZVVWPWNvbG9yLnJiOwojZWxzZQp2ZWMyIHNsaWNlVVY9Y29sb3Iucmc7CiNlbmRpZgpzbGljZVVWLngqPXNsaWNlU2l6ZTsKc2xpY2VVVi54Kz1zbGljZUludGVnZXIqc2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMENvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKc2xpY2VVVi54Kz1zbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UxQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwp2ZWMzIHJlc3VsdD1taXgoc2xpY2UwQ29sb3IucmdiLHNsaWNlMUNvbG9yLnJnYixzbGljZUZyYWN0aW9uKTsKI2lmZGVmIFNBTVBMRVIzREJHUk1BUApjb2xvci5yZ2I9cmVzdWx0LnJnYjsKI2Vsc2UKY29sb3IucmdiPXJlc3VsdC5iZ3I7CiNlbmRpZgpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCiNpZmRlZiBUT05FTUFQUElOR19BQ0VTCmNvbnN0IG1hdDMgQUNFU0lucHV0TWF0PW1hdDMoCnZlYzMoMC41OTcxOSwwLjA3NjAwLDAuMDI4NDApLAp2ZWMzKDAuMzU0NTgsMC45MDgzNCwwLjEzMzgzKSwKdmVjMygwLjA0ODIzLDAuMDE1NjYsMC44Mzc3NykKKTsKY29uc3QgbWF0MyBBQ0VTT3V0cHV0TWF0PW1hdDMoCnZlYzMoIDEuNjA0NzUsLTAuMTAyMDgsLTAuMDAzMjcpLAp2ZWMzKC0wLjUzMTA4LCAxLjEwODEzLC0wLjA3Mjc2KSwKdmVjMygtMC4wNzM2NywtMC4wMDYwNSwgMS4wNzYwMikKKTsKdmVjMyBSUlRBbmRPRFRGaXQodmVjMyB2KQp7CnZlYzMgYT12Kih2KzAuMDI0NTc4NiktMC4wMDAwOTA1Mzc7CnZlYzMgYj12KigwLjk4MzcyOSp2KzAuNDMyOTUxMCkrMC4yMzgwODE7CnJldHVybiBhL2I7Cn0KdmVjMyBBQ0VTRml0dGVkKHZlYzMgY29sb3IpCnsKY29sb3I9QUNFU0lucHV0TWF0KmNvbG9yOwpjb2xvcj1SUlRBbmRPRFRGaXQoY29sb3IpOwpjb2xvcj1BQ0VTT3V0cHV0TWF0KmNvbG9yOwpjb2xvcj1zYXR1cmF0ZShjb2xvcik7CnJldHVybiBjb2xvcjsKfQojZW5kaWYKdmVjNCBhcHBseUltYWdlUHJvY2Vzc2luZyh2ZWM0IHJlc3VsdCkgewojaWZkZWYgRVhQT1NVUkUKcmVzdWx0LnJnYio9ZXhwb3N1cmVMaW5lYXI7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdmVjMiB2aWV3cG9ydFhZPWdsX0ZyYWdDb29yZC54eSp2SW52ZXJzZVNjcmVlblNpemU7CnZpZXdwb3J0WFk9dmlld3BvcnRYWSoyLjAtMS4wOwp2ZWMzIHZpZ25ldHRlWFkxPXZlYzModmlld3BvcnRYWSp2aWduZXR0ZVNldHRpbmdzMS54eSt2aWduZXR0ZVNldHRpbmdzMS56dywxLjApOwpmbG9hdCB2aWduZXR0ZVRlcm09ZG90KHZpZ25ldHRlWFkxLHZpZ25ldHRlWFkxKTsKZmxvYXQgdmlnbmV0dGU9cG93KHZpZ25ldHRlVGVybSx2aWduZXR0ZVNldHRpbmdzMi53KTsKdmVjMyB2aWduZXR0ZUNvbG9yPXZpZ25ldHRlU2V0dGluZ3MyLnJnYjsKI2lmZGVmIFZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFkKdmVjMyB2aWduZXR0ZUNvbG9yTXVsdGlwbGllcj1taXgodmlnbmV0dGVDb2xvcix2ZWMzKDEsMSwxKSx2aWduZXR0ZSk7CnJlc3VsdC5yZ2IqPXZpZ25ldHRlQ29sb3JNdWx0aXBsaWVyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFQkxFTkRNT0RFT1BBUVVFCnJlc3VsdC5yZ2I9bWl4KHZpZ25ldHRlQ29sb3IscmVzdWx0LnJnYix2aWduZXR0ZSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HCiNpZmRlZiBUT05FTUFQUElOR19BQ0VTCnJlc3VsdC5yZ2I9QUNFU0ZpdHRlZChyZXN1bHQucmdiKTsKI2Vsc2UKY29uc3QgZmxvYXQgdG9uZW1hcHBpbmdDYWxpYnJhdGlvbj0xLjU5MDU3OTsKcmVzdWx0LnJnYj0xLjAtZXhwMigtdG9uZW1hcHBpbmdDYWxpYnJhdGlvbipyZXN1bHQucmdiKTsKI2VuZGlmCiNlbmRpZgpyZXN1bHQucmdiPXRvR2FtbWFTcGFjZShyZXN1bHQucmdiKTsKcmVzdWx0LnJnYj1zYXR1cmF0ZShyZXN1bHQucmdiKTsKI2lmZGVmIENPTlRSQVNUCnZlYzMgcmVzdWx0SGlnaENvbnRyYXN0PXJlc3VsdC5yZ2IqcmVzdWx0LnJnYiooMy4wLTIuMCpyZXN1bHQucmdiKTsKaWYgKGNvbnRyYXN0PDEuMCkgewpyZXN1bHQucmdiPW1peCh2ZWMzKDAuNSwwLjUsMC41KSxyZXN1bHQucmdiLGNvbnRyYXN0KTsKfSBlbHNlIHsKcmVzdWx0LnJnYj1taXgocmVzdWx0LnJnYixyZXN1bHRIaWdoQ29udHJhc3QsY29udHJhc3QtMS4wKTsKfQojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwp2ZWMzIGNvbG9yVHJhbnNmb3JtSW5wdXQ9cmVzdWx0LnJnYipjb2xvclRyYW5zZm9ybVNldHRpbmdzLnh4eCtjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl5eTsKI2lmZGVmIENPTE9SR1JBRElORzNECnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9dGV4dHVyZSh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQpLnJnYjsKI2Vsc2UKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD1zYW1wbGVUZXh0dXJlM0QodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXopLnJnYjsKI2VuZGlmCnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IsY29sb3JUcmFuc2Zvcm1PdXRwdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy53d3cpOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCmZsb2F0IGx1bWE9Z2V0THVtaW5hbmNlKHJlc3VsdC5yZ2IpOwp2ZWMyIGN1cnZlTWl4PWNsYW1wKHZlYzIobHVtYSozLjAtMS41LGx1bWEqLTMuMCsxLjUpLHZlYzIoMC4wKSx2ZWMyKDEuMCkpOwp2ZWM0IGNvbG9yQ3VydmU9dkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsK2N1cnZlTWl4LngqdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZS1jdXJ2ZU1peC55KnZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnJlc3VsdC5yZ2IqPWNvbG9yQ3VydmUucmdiOwpyZXN1bHQucmdiPW1peCh2ZWMzKGx1bWEpLHJlc3VsdC5yZ2IsY29sb3JDdXJ2ZS5hKTsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn1gO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcW9dPVFvO3ZhciAkbz0iYnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucyIsSm89YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpIHx8IGRlZmluZWQoREVUQUlMKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUAp1bmlmb3JtIG1hdDQgbm9ybWFsTWF0cml4OwojZW5kaWYKdmVjMyBwZXJ0dXJiTm9ybWFsQmFzZShtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgbm9ybWFsLGZsb2F0IHNjYWxlKQp7CiNpZmRlZiBOT1JNQUxYWVNDQUxFCm5vcm1hbD1ub3JtYWxpemUobm9ybWFsKnZlYzMoc2NhbGUsc2NhbGUsMS4wKSk7CiNlbmRpZgpyZXR1cm4gbm9ybWFsaXplKGNvdGFuZ2VudEZyYW1lKm5vcm1hbCk7Cn0KdmVjMyBwZXJ0dXJiTm9ybWFsKG1hdDMgY290YW5nZW50RnJhbWUsdmVjMyB0ZXh0dXJlU2FtcGxlLGZsb2F0IHNjYWxlKQp7CnJldHVybiBwZXJ0dXJiTm9ybWFsQmFzZShjb3RhbmdlbnRGcmFtZSx0ZXh0dXJlU2FtcGxlKjIuMC0xLjAsc2NhbGUpOwp9Cm1hdDMgY290YW5nZW50X2ZyYW1lKHZlYzMgbm9ybWFsLHZlYzMgcCx2ZWMyIHV2LHZlYzIgdGFuZ2VudFNwYWNlUGFyYW1zKQp7CnZlYzMgZHAxPWRGZHgocCk7CnZlYzMgZHAyPWRGZHkocCk7CnZlYzIgZHV2MT1kRmR4KHV2KTsKdmVjMiBkdXYyPWRGZHkodXYpOwp2ZWMzIGRwMnBlcnA9Y3Jvc3MoZHAyLG5vcm1hbCk7CnZlYzMgZHAxcGVycD1jcm9zcyhub3JtYWwsZHAxKTsKdmVjMyB0YW5nZW50PWRwMnBlcnAqZHV2MS54K2RwMXBlcnAqZHV2Mi54Owp2ZWMzIGJpdGFuZ2VudD1kcDJwZXJwKmR1djEueStkcDFwZXJwKmR1djIueTsKdGFuZ2VudCo9dGFuZ2VudFNwYWNlUGFyYW1zLng7CmJpdGFuZ2VudCo9dGFuZ2VudFNwYWNlUGFyYW1zLnk7CmZsb2F0IGludm1heD1pbnZlcnNlc3FydChtYXgoZG90KHRhbmdlbnQsdGFuZ2VudCksZG90KGJpdGFuZ2VudCxiaXRhbmdlbnQpKSk7CnJldHVybiBtYXQzKHRhbmdlbnQqaW52bWF4LGJpdGFuZ2VudCppbnZtYXgsbm9ybWFsKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlWyRvXT1Kbzt2YXIgZXU9ImJ1bXBGcmFnbWVudEZ1bmN0aW9ucyIsdHU9YCNpZiBkZWZpbmVkKEJVTVApCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXAsX1NBTVBMRVJOQU1FXyxidW1wKQojZW5kaWYKI2lmIGRlZmluZWQoREVUQUlMKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCxfU0FNUExFUk5BTUVfLGRldGFpbCkKI2VuZGlmCiNpZiBkZWZpbmVkKEJVTVApICYmIGRlZmluZWQoUEFSQUxMQVgpCmNvbnN0IGZsb2F0IG1pblNhbXBsZXM9NC47CmNvbnN0IGZsb2F0IG1heFNhbXBsZXM9MTUuOwpjb25zdCBpbnQgaU1heFNhbXBsZXM9MTU7CnZlYzIgcGFyYWxsYXhPY2NsdXNpb24odmVjMyB2Vmlld0RpckNvVCx2ZWMzIHZOb3JtYWxDb1QsdmVjMiB0ZXhDb29yZCxmbG9hdCBwYXJhbGxheFNjYWxlKSB7CmZsb2F0IHBhcmFsbGF4TGltaXQ9bGVuZ3RoKHZWaWV3RGlyQ29ULnh5KS92Vmlld0RpckNvVC56OwpwYXJhbGxheExpbWl0Kj1wYXJhbGxheFNjYWxlOwp2ZWMyIHZPZmZzZXREaXI9bm9ybWFsaXplKHZWaWV3RGlyQ29ULnh5KTsKdmVjMiB2TWF4T2Zmc2V0PXZPZmZzZXREaXIqcGFyYWxsYXhMaW1pdDsKZmxvYXQgbnVtU2FtcGxlcz1tYXhTYW1wbGVzKyhkb3QodlZpZXdEaXJDb1Qsdk5vcm1hbENvVCkqKG1pblNhbXBsZXMtbWF4U2FtcGxlcykpOwpmbG9hdCBzdGVwU2l6ZT0xLjAvbnVtU2FtcGxlczsKZmxvYXQgY3VyclJheUhlaWdodD0xLjA7CnZlYzIgdkN1cnJPZmZzZXQ9dmVjMigwLDApOwp2ZWMyIHZMYXN0T2Zmc2V0PXZlYzIoMCwwKTsKZmxvYXQgbGFzdFNhbXBsZWRIZWlnaHQ9MS4wOwpmbG9hdCBjdXJyU2FtcGxlZEhlaWdodD0xLjA7CmZvciAoaW50IGk9MDsgaTxpTWF4U2FtcGxlczsgaSsrKQp7CmN1cnJTYW1wbGVkSGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix0ZXhDb29yZCt2Q3Vyck9mZnNldCkudzsKaWYgKGN1cnJTYW1wbGVkSGVpZ2h0PmN1cnJSYXlIZWlnaHQpCnsKZmxvYXQgZGVsdGExPWN1cnJTYW1wbGVkSGVpZ2h0LWN1cnJSYXlIZWlnaHQ7CmZsb2F0IGRlbHRhMj0oY3VyclJheUhlaWdodCtzdGVwU2l6ZSktbGFzdFNhbXBsZWRIZWlnaHQ7CmZsb2F0IHJhdGlvPWRlbHRhMS8oZGVsdGExK2RlbHRhMik7CnZDdXJyT2Zmc2V0PShyYXRpbykqIHZMYXN0T2Zmc2V0KygxLjAtcmF0aW8pKnZDdXJyT2Zmc2V0OwpicmVhazsKfQplbHNlCnsKY3VyclJheUhlaWdodC09c3RlcFNpemU7CnZMYXN0T2Zmc2V0PXZDdXJyT2Zmc2V0Owp2Q3Vyck9mZnNldCs9c3RlcFNpemUqdk1heE9mZnNldDsKbGFzdFNhbXBsZWRIZWlnaHQ9Y3VyclNhbXBsZWRIZWlnaHQ7Cn0KfQpyZXR1cm4gdkN1cnJPZmZzZXQ7Cn0KdmVjMiBwYXJhbGxheE9mZnNldCh2ZWMzIHZpZXdEaXIsZmxvYXQgaGVpZ2h0U2NhbGUpCnsKZmxvYXQgaGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS53Owp2ZWMyIHRleENvb3JkT2Zmc2V0PWhlaWdodFNjYWxlKnZpZXdEaXIueHkqaGVpZ2h0OwpyZXR1cm4gLXRleENvb3JkT2Zmc2V0Owp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZXVdPXR1O3ZhciBydT0ibG9nRGVwdGhEZWNsYXJhdGlvbiIsaXU9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICnVuaWZvcm0gZmxvYXQgbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50Owp2YXJ5aW5nIGZsb2F0IHZGcmFnbWVudERlcHRoOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3J1XT1pdTt2YXIgbnU9ImZvZ0ZyYWdtZW50RGVjbGFyYXRpb24iLGF1PWAjaWZkZWYgRk9HCiNkZWZpbmUgRk9HTU9ERV9OT05FIDAuCiNkZWZpbmUgRk9HTU9ERV9FWFAgMS4KI2RlZmluZSBGT0dNT0RFX0VYUDIgMi4KI2RlZmluZSBGT0dNT0RFX0xJTkVBUiAzLgojZGVmaW5lIEUgMi43MTgyOAp1bmlmb3JtIHZlYzQgdkZvZ0luZm9zOwp1bmlmb3JtIHZlYzMgdkZvZ0NvbG9yOwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwpmbG9hdCBDYWxjRm9nRmFjdG9yKCkKewpmbG9hdCBmb2dDb2VmZj0xLjA7CmZsb2F0IGZvZ1N0YXJ0PXZGb2dJbmZvcy55OwpmbG9hdCBmb2dFbmQ9dkZvZ0luZm9zLno7CmZsb2F0IGZvZ0RlbnNpdHk9dkZvZ0luZm9zLnc7CmZsb2F0IGZvZ0Rpc3RhbmNlPWxlbmd0aCh2Rm9nRGlzdGFuY2UpOwppZiAoRk9HTU9ERV9MSU5FQVI9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPShmb2dFbmQtZm9nRGlzdGFuY2UpLyhmb2dFbmQtZm9nU3RhcnQpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSk7Cn0KZWxzZSBpZiAoRk9HTU9ERV9FWFAyPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSpmb2dEZW5zaXR5KTsKfQpyZXR1cm4gY2xhbXAoZm9nQ29lZmYsMC4wLDEuMCk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtudV09YXU7dmFyIHN1PSJvaXRGcmFnbWVudCIsb3U9YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKZmxvYXQgZnJhZ0RlcHRoPWdsX0ZyYWdDb29yZC56OyAKI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMKdWludCBoYWxmRmxvYXQ9cGFja0hhbGYyeDE2KHZlYzIoZnJhZ0RlcHRoKSk7CnZlYzIgZnVsbD11bnBhY2tIYWxmMngxNihoYWxmRmxvYXQpOwpmcmFnRGVwdGg9ZnVsbC54OwojZW5kaWYKaXZlYzIgZnJhZ0Nvb3JkPWl2ZWMyKGdsX0ZyYWdDb29yZC54eSk7CnZlYzIgbGFzdERlcHRoPXRleGVsRmV0Y2gob2l0RGVwdGhTYW1wbGVyLGZyYWdDb29yZCwwKS5yZzsKdmVjNCBsYXN0RnJvbnRDb2xvcj10ZXhlbEZldGNoKG9pdEZyb250Q29sb3JTYW1wbGVyLGZyYWdDb29yZCwwKTsKZGVwdGgucmc9dmVjMigtTUFYX0RFUFRIKTsKZnJvbnRDb2xvcj1sYXN0RnJvbnRDb2xvcjsKYmFja0NvbG9yPXZlYzQoMC4wKTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmZsb2F0IGZ1cnRoZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBuZWFyZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbHNlCmZsb2F0IG5lYXJlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IGZ1cnRoZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbmRpZgpmbG9hdCBhbHBoYU11bHRpcGxpZXI9MS4wLWxhc3RGcm9udENvbG9yLmE7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZW5kaWYKcmV0dXJuOwp9CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZW5kaWYKZGVwdGgucmc9dmVjMigtZnJhZ0RlcHRoLGZyYWdEZXB0aCk7CnJldHVybjsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3N1XT1vdTt2YXIgdXU9ImJ1bXBGcmFnbWVudCIsZnU9YHZlYzIgdXZPZmZzZXQ9dmVjMigwLjAsMC4wKTsKI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChERVRBSUwpCiNpZmRlZiBOT1JNQUxYWVNDQUxFCmZsb2F0IG5vcm1hbFNjYWxlPTEuMDsKI2VsaWYgZGVmaW5lZChCVU1QKQpmbG9hdCBub3JtYWxTY2FsZT12QnVtcEluZm9zLnk7CiNlbHNlCmZsb2F0IG5vcm1hbFNjYWxlPTEuMDsKI2VuZGlmCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQptYXQzIFRCTj12VEJOOwojZWxpZiBkZWZpbmVkKEJVTVApCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2QnVtcFVWIDogLXZCdW1wVVY7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXKm5vcm1hbFNjYWxlLHZQb3NpdGlvblcsVEJOVVYsdlRhbmdlbnRTcGFjZVBhcmFtcyk7CiNlbHNlCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2RGV0YWlsVVYgOiAtdkRldGFpbFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQptYXQzIFRCTj12VEJOOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdk1haW5VVjEgOiAtdk1haW5VVjE7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXLHZQb3NpdGlvblcsVEJOVVYsdmVjMigxLiwxLikpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBQQVJBTExBWAptYXQzIGludlRCTj10cmFuc3Bvc2VNYXQzKFRCTik7CiNpZmRlZiBQQVJBTExBWE9DQ0xVU0lPTgp1dk9mZnNldD1wYXJhbGxheE9jY2x1c2lvbihpbnZUQk4qLXZpZXdEaXJlY3Rpb25XLGludlRCTipub3JtYWxXLHZCdW1wVVYsdkJ1bXBJbmZvcy56KTsKI2Vsc2UKdXZPZmZzZXQ9cGFyYWxsYXhPZmZzZXQoaW52VEJOKnZpZXdEaXJlY3Rpb25XLHZCdW1wSW5mb3Mueik7CiNlbmRpZgojZW5kaWYKI2lmZGVmIERFVEFJTAp2ZWM0IGRldGFpbENvbG9yPXRleHR1cmUyRChkZXRhaWxTYW1wbGVyLHZEZXRhaWxVVit1dk9mZnNldCk7CnZlYzIgZGV0YWlsTm9ybWFsUkc9ZGV0YWlsQ29sb3Iud3kqMi4wLTEuMDsKZmxvYXQgZGV0YWlsTm9ybWFsQj1zcXJ0KDEuLXNhdHVyYXRlKGRvdChkZXRhaWxOb3JtYWxSRyxkZXRhaWxOb3JtYWxSRykpKTsKdmVjMyBkZXRhaWxOb3JtYWw9dmVjMyhkZXRhaWxOb3JtYWxSRyxkZXRhaWxOb3JtYWxCKTsKI2VuZGlmCiNpZmRlZiBCVU1QCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKbm9ybWFsVz1ub3JtYWxpemUodGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYpLnh5eiAqMi4wLTEuMCk7Cm5vcm1hbFc9bm9ybWFsaXplKG1hdDMobm9ybWFsTWF0cml4KSpub3JtYWxXKTsKI2VsaWYgIWRlZmluZWQoREVUQUlMKQpub3JtYWxXPXBlcnR1cmJOb3JtYWwoVEJOLHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWK3V2T2Zmc2V0KS54eXosdkJ1bXBJbmZvcy55KTsKI2Vsc2UKdmVjMyBidW1wTm9ybWFsPXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWK3V2T2Zmc2V0KS54eXoqMi4wLTEuMDsKI2lmIERFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD09MCAKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKdmVjMyBibGVuZGVkTm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKGJ1bXBOb3JtYWwueHkrZGV0YWlsTm9ybWFsLnh5LGJ1bXBOb3JtYWwueipkZXRhaWxOb3JtYWwueikpOwojZWxpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTEgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CmJ1bXBOb3JtYWwrPXZlYzMoMC4wLDAuMCwxLjApOwpkZXRhaWxOb3JtYWwqPXZlYzMoLTEuMCwtMS4wLDEuMCk7CnZlYzMgYmxlbmRlZE5vcm1hbD1idW1wTm9ybWFsKmRvdChidW1wTm9ybWFsLGRldGFpbE5vcm1hbCkvYnVtcE5vcm1hbC56LWRldGFpbE5vcm1hbDsKI2VuZGlmCm5vcm1hbFc9cGVydHVyYk5vcm1hbEJhc2UoVEJOLGJsZW5kZWROb3JtYWwsdkJ1bXBJbmZvcy55KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoREVUQUlMKQpkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56Owpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixkZXRhaWxOb3JtYWwsdkRldGFpbEluZm9zLnopOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3V1XT1mdTt2YXIgbHU9ImRlcHRoUHJlUGFzcyIsaHU9YCNpZmRlZiBERVBUSFBSRVBBU1MKZ2xfRnJhZ0NvbG9yPXZlYzQoMC4sMC4sMC4sMS4wKTsKcmV0dXJuOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2x1XT1odTt2YXIgY3U9ImxpZ2h0RnJhZ21lbnQiLGR1PWAjaWZkZWYgTElHSFR7WH0KI2lmIGRlZmluZWQoU0hBRE9XT05MWSkgfHwgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KSAmJiBkZWZpbmVkKExJR0hUTUFQTk9TUEVDVUxBUntYfSkKI2Vsc2UKI2lmZGVmIFBCUgojaWZkZWYgU1BPVExJR0hUe1h9CnByZUluZm89Y29tcHV0ZVBvaW50QW5kU3BvdFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZVBvaW50QW5kU3BvdFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlSGVtaXNwaGVyaWNQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChESVJMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlRGlyZWN0aW9uYWxQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VuZGlmCnByZUluZm8uTmRvdFY9TmRvdFY7CiNpZmRlZiBTUE9UTElHSFR7WH0KI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX0dMVEYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9QaHlzaWNhbChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfU3RhbmRhcmQobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZW5kaWYKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj0xLjA7CiNlbmRpZgojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhyb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKI2lmZGVmIElSSURFU0NFTkNFCnByZUluZm8uaXJpZGVzY2VuY2VJbnRlbnNpdHk9aXJpZGVzY2VuY2VJbnRlbnNpdHk7CiNlbmRpZgojaWZkZWYgSEVNSUxJR0hUe1h9CmluZm8uZGlmZnVzZT1jb21wdXRlSGVtaXNwaGVyaWNEaWZmdXNlTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQpOwojZWxpZiBkZWZpbmVkKFNTX1RSQU5TTFVDRU5DWSkKaW5mby5kaWZmdXNlPWNvbXB1dGVEaWZmdXNlQW5kVHJhbnNtaXR0ZWRMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLHN1YlN1cmZhY2VPdXQudHJhbnNtaXR0YW5jZSk7CiNlbHNlCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgQU5JU09UUk9QSUMKaW5mby5zcGVjdWxhcj1jb21wdXRlQW5pc290cm9waWNTcGVjdWxhckxpZ2h0aW5nKHByZUluZm8sdmlld0RpcmVjdGlvblcsbm9ybWFsVyxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY1RhbmdlbnQsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNCaXRhbmdlbnQsYW5pc290cm9waWNPdXQuYW5pc290cm9weSxjbGVhcmNvYXRPdXQuc3BlY3VsYXJFbnZpcm9ubWVudFIwLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZWxzZQppbmZvLnNwZWN1bGFyPWNvbXB1dGVTcGVjdWxhckxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxjbGVhcmNvYXRPdXQuc3BlY3VsYXJFbnZpcm9ubWVudFIwLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEVFTgojaWZkZWYgU0hFRU5fTElOS1dJVEhBTEJFRE8KcHJlSW5mby5yb3VnaG5lc3M9c2hlZW5PdXQuc2hlZW5JbnRlbnNpdHk7CiNlbHNlCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9c2hlZW5PdXQuc2hlZW5Sb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoc2hlZW5PdXQuc2hlZW5Sb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKI2VuZGlmCmluZm8uc2hlZW49Y29tcHV0ZVNoZWVuTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLHNoZWVuT3V0LnNoZWVuQ29sb3Isc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9Y2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCmluZm8uY2xlYXJDb2F0PWNvbXB1dGVDbGVhckNvYXRMaWdodGluZyhwcmVJbmZvLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRBQVJvdWdobmVzc0ZhY3RvcnMueCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2lmZGVmIENMRUFSQ09BVF9USU5UCmFic29ycHRpb249Y29tcHV0ZUNsZWFyQ29hdExpZ2h0aW5nQWJzb3JwdGlvbihjbGVhcmNvYXRPdXQuY2xlYXJDb2F0TmRvdFZSZWZyYWN0LHByZUluZm8uTCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Q29sb3IsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFRoaWNrbmVzcyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5KTsKaW5mby5kaWZmdXNlKj1hYnNvcnB0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCmluZm8uc3BlY3VsYXIqPWFic29ycHRpb247CiNlbmRpZgojZW5kaWYKaW5mby5kaWZmdXNlKj1pbmZvLmNsZWFyQ29hdC53OwojaWZkZWYgU1BFQ1VMQVJURVJNCmluZm8uc3BlY3VsYXIqPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojaWZkZWYgU0hFRU4KaW5mby5zaGVlbio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWZkZWYgU1BPVExJR0hUe1h9CmluZm89Y29tcHV0ZVNwb3RMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQppbmZvPWNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pIHx8IGRlZmluZWQoRElSTElHSFR7WH0pCmluZm89Y29tcHV0ZUxpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KaW5mby5kaWZmdXNlKj1jb21wdXRlUHJvamVjdGlvblRleHR1cmVEaWZmdXNlTGlnaHRpbmcocHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfSx0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgCnsKI2lmZGVmIFNIQURPV0NTTV9SSUdIVEhBTkRFRHtYfQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXSt2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbHNlCmRpZmZ7WH09dmlld0ZydXN0dW1ae1h9W2ldLXZQb3NpdGlvbkZyb21DYW1lcmF7WH0uejsKI2VuZGlmCmlmIChkaWZme1h9Pj0wLikgewppbmRleHtYfT1pOwpicmVhazsKfQp9CiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmlmIChpbmRleHtYfT49MCkKI2VuZGlmCnsKI2lmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VuZGlmCiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93Q1NNKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CnNoYWRvd0RlYnVne1h9PXZlYzMoc2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dOwojZW5kaWYKI2lmbmRlZiBTSEFET1dDU01OT0JMRU5Ee1h9CmZsb2F0IGZydXN0dW1MZW5ndGg9ZnJ1c3R1bUxlbmd0aHN7WH1baW5kZXh7WH1dOwpmbG9hdCBkaWZmUmF0aW89Y2xhbXAoZGlmZntYfS9mcnVzdHVtTGVuZ3RoLDAuLDEuKSpjYXNjYWRlQmxlbmRGYWN0b3J7WH07CmlmIChpbmRleHtYfTwoU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTEpICYmIGRpZmZSYXRpbzwxLikKewppbmRleHtYfSs9MTsKZmxvYXQgbmV4dFNoYWRvdz0wLjsKI2lmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VuZGlmCiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCnNoYWRvdz1taXgobmV4dFNoYWRvdyxzaGFkb3csZGlmZlJhdGlvKTsKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CnNoYWRvd0RlYnVne1h9PW1peCh2ZWMzKG5leHRTaGFkb3cpKnZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVtpbmRleHtYfV0sc2hhZG93RGVidWd7WH0sZGlmZlJhdGlvKTsKI2VuZGlmCn0KI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1dDTE9TRUVTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU00odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XRVNNe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BPSVNTT057WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmcodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjModlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjUodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1MxNih2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1MzMih2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbHNlCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93Q3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvdyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9XT05MWQojaWZuZGVmIFNIQURPV0lOVVNFCiNkZWZpbmUgU0hBRE9XSU5VU0UKI2VuZGlmCmdsb2JhbFNoYWRvdys9c2hhZG93OwpzaGFkb3dMaWdodENvdW50Kz0xLjA7CiNlbmRpZgojZWxzZQpzaGFkb3c9MS47CiNlbmRpZgojaWZuZGVmIFNIQURPV09OTFkKI2lmZGVmIENVU1RPTVVTRVJMSUdIVElORwpkaWZmdXNlQmFzZSs9Y29tcHV0ZUN1c3RvbURpZmZ1c2VMaWdodGluZyhpbmZvLGRpZmZ1c2VCYXNlLHNoYWRvdyk7CiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1jb21wdXRlQ3VzdG9tU3BlY3VsYXJMaWdodGluZyhpbmZvLHNwZWN1bGFyQmFzZSxzaGFkb3cpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KQpkaWZmdXNlQmFzZSs9bGlnaHRtYXBDb2xvci5yZ2Iqc2hhZG93OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CnNwZWN1bGFyQmFzZSs9aW5mby5zcGVjdWxhcipzaGFkb3cqbGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEVFTgojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KZGlmZnVzZUJhc2UrPWluZm8uZGlmZnVzZSpzaGFkb3dEZWJ1Z3tYfTsKI2Vsc2UgCmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93OwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVApjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNIRUVOCnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2N1XT1kdTt2YXIgcHU9ImxvZ0RlcHRoRnJhZ21lbnQiLF91PWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSApnbF9GcmFnRGVwdGhFWFQ9bG9nMih2RnJhZ21lbnREZXB0aCkqbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50KjAuNTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtwdV09X3U7dmFyIGd1PSJmb2dGcmFnbWVudCIsdnU9YCNpZmRlZiBGT0cKZmxvYXQgZm9nPUNhbGNGb2dGYWN0b3IoKTsKI2lmZGVmIFBCUgpmb2c9dG9MaW5lYXJTcGFjZShmb2cpOwojZW5kaWYKY29sb3IucmdiPW1peCh2Rm9nQ29sb3IsY29sb3IucmdiLGZvZyk7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZ3VdPXZ1O3ZhciBtdT0iZGVmYXVsdFBpeGVsU2hhZGVyIix5dT1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0RnJhZ21lbnQ+CiNpZiBkZWZpbmVkKEJVTVApIHx8ICFkZWZpbmVkKE5PUk1BTCkKI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUKI2VuZGlmCiNpbmNsdWRlPHByZVBhc3NEZWNsYXJhdGlvbj5bU0NFTkVfTVJUX0NPVU5UXQojaW5jbHVkZTxvaXREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4KI2lmZGVmIExPR0FSSVRITUlDREVQVEgKI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZQojZW5kaWYKI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlLF9TQU1QTEVSTkFNRV8sZGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfU0FNUExFUk5BTUVfLGFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHksX1NBTVBMRVJOQU1FXyxvcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX1NBTVBMRVJOQU1FXyxlbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9TQU1QTEVSTkFNRV8sbGlnaHRtYXApCiNpZmRlZiBSRUZSQUNUSU9OCiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmcmFjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZyYWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9TQU1QTEVSTkFNRV8sc3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxmcmVzbmVsRnVuY3Rpb24+CiNpZmRlZiBSRUZMRUNUSU9OCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmbGVjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZsZWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbHNlCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZhcnlpbmcgdmVjMyB2RGlyZWN0aW9uVzsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxyZWZsZWN0aW9uRnVuY3Rpb24+CiNlbmRpZgojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRNYWluRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGxvZ0RlcHRoRGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8b2l0RnJhZ21lbnQ+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50Pgp2ZWMzIHZpZXdEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2RXllUG9zaXRpb24ueHl6LXZQb3NpdGlvblcpOwp2ZWM0IGJhc2VDb2xvcj12ZWM0KDEuLDEuLDEuLDEuKTsKdmVjMyBkaWZmdXNlQ29sb3I9dkRpZmZ1c2VDb2xvci5yZ2I7CmZsb2F0IGFscGhhPXZEaWZmdXNlQ29sb3IuYTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSgtY3Jvc3MoZEZkeCh2UG9zaXRpb25XKSxkRmR5KHZQb3NpdGlvblcpKSk7CiNlbmRpZgojaW5jbHVkZTxidW1wRnJhZ21lbnQ+CiNpZmRlZiBUV09TSURFRExJR0hUSU5HCm5vcm1hbFc9Z2xfRnJvbnRGYWNpbmcgPyBub3JtYWxXIDogLW5vcm1hbFc7CiNlbmRpZgojaWZkZWYgRElGRlVTRQpiYXNlQ29sb3I9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZEaWZmdXNlVVYrdXZPZmZzZXQpOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpICYmICFkZWZpbmVkKEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TKQppZiAoYmFzZUNvbG9yLmE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgQUxQSEFGUk9NRElGRlVTRQphbHBoYSo9YmFzZUNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEKYmFzZUNvbG9yLnJnYio9dkRpZmZ1c2VJbmZvcy55OwojZW5kaWYKI2luY2x1ZGU8ZGVwdGhQcmVQYXNzPgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKYmFzZUNvbG9yLnJnYio9dkNvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBERVRBSUwKYmFzZUNvbG9yLnJnYj1iYXNlQ29sb3IucmdiKjIuMCptaXgoMC41LGRldGFpbENvbG9yLnIsdkRldGFpbEluZm9zLnkpOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0RJRkZVU0UKdmVjMyBiYXNlQW1iaWVudENvbG9yPXZlYzMoMS4sMS4sMS4pOwojaWZkZWYgQU1CSUVOVApiYXNlQW1iaWVudENvbG9yPXRleHR1cmUyRChhbWJpZW50U2FtcGxlcix2QW1iaWVudFVWK3V2T2Zmc2V0KS5yZ2IqdkFtYmllbnRJbmZvcy55OwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0xJR0hUUwojaWZkZWYgU1BFQ1VMQVJURVJNCmZsb2F0IGdsb3NzaW5lc3M9dlNwZWN1bGFyQ29sb3IuYTsKdmVjMyBzcGVjdWxhckNvbG9yPXZTcGVjdWxhckNvbG9yLnJnYjsKI2lmZGVmIFNQRUNVTEFSCnZlYzQgc3BlY3VsYXJNYXBDb2xvcj10ZXh0dXJlMkQoc3BlY3VsYXJTYW1wbGVyLHZTcGVjdWxhclVWK3V2T2Zmc2V0KTsKc3BlY3VsYXJDb2xvcj1zcGVjdWxhck1hcENvbG9yLnJnYjsKI2lmZGVmIEdMT1NTSU5FU1MKZ2xvc3NpbmVzcz1nbG9zc2luZXNzKnNwZWN1bGFyTWFwQ29sb3IuYTsKI2VuZGlmCiNlbmRpZgojZWxzZQpmbG9hdCBnbG9zc2luZXNzPTAuOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhckJhc2U9dmVjMygwLiwwLiwwLik7CiNlbmRpZgpmbG9hdCBzaGFkb3c9MS47CiNpZmRlZiBMSUdIVE1BUAp2ZWM0IGxpZ2h0bWFwQ29sb3I9dGV4dHVyZTJEKGxpZ2h0bWFwU2FtcGxlcix2TGlnaHRtYXBVVit1dk9mZnNldCk7CiNpZmRlZiBSR0JETElHSFRNQVAKbGlnaHRtYXBDb2xvci5yZ2I9ZnJvbVJHQkQobGlnaHRtYXBDb2xvcik7CiNlbmRpZgpsaWdodG1hcENvbG9yLnJnYio9dkxpZ2h0bWFwSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGxpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KdmVjNCByZWZyYWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZSQUNUSU9OCnZlYzMgcmVmcmFjdGlvblZlY3Rvcj1ub3JtYWxpemUocmVmcmFjdCgtdmlld0RpcmVjdGlvblcsbm9ybWFsVyx2UmVmcmFjdGlvbkluZm9zLnkpKTsKI2lmZGVmIFJFRlJBQ1RJT05NQVBfM0QKI2lmZGVmIFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDCnJlZnJhY3Rpb25WZWN0b3I9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHZQb3NpdGlvblcscmVmcmFjdGlvblZlY3Rvcix2UmVmcmFjdGlvblNpemUsdlJlZnJhY3Rpb25Qb3NpdGlvbik7CiNlbmRpZgpyZWZyYWN0aW9uVmVjdG9yLnk9cmVmcmFjdGlvblZlY3Rvci55KnZSZWZyYWN0aW9uSW5mb3MudzsKaWYgKGRvdChyZWZyYWN0aW9uVmVjdG9yLHZpZXdEaXJlY3Rpb25XKTwxLjApIHsKcmVmcmFjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZnJhY3Rpb25DdWJlU2FtcGxlcixyZWZyYWN0aW9uVmVjdG9yKTsKfQojZWxzZQp2ZWMzIHZSZWZyYWN0aW9uVVZXPXZlYzMocmVmcmFjdGlvbk1hdHJpeCoodmlldyp2ZWM0KHZQb3NpdGlvblcrcmVmcmFjdGlvblZlY3Rvcip2UmVmcmFjdGlvbkluZm9zLnosMS4wKSkpOwp2ZWMyIHJlZnJhY3Rpb25Db29yZHM9dlJlZnJhY3Rpb25VVlcueHkvdlJlZnJhY3Rpb25VVlcuejsKcmVmcmFjdGlvbkNvb3Jkcy55PTEuMC1yZWZyYWN0aW9uQ29vcmRzLnk7CnJlZnJhY3Rpb25Db2xvcj10ZXh0dXJlMkQocmVmcmFjdGlvbjJEU2FtcGxlcixyZWZyYWN0aW9uQ29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGUkFDVElPTgpyZWZyYWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZnJhY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGUkFDVElPTl9MSU5FQVIKcmVmcmFjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmcmFjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZyYWN0aW9uQ29sb3IucmdiKj12UmVmcmFjdGlvbkluZm9zLng7CiNlbmRpZgp2ZWM0IHJlZmxlY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRkxFQ1RJT04KdmVjMyB2UmVmbGVjdGlvblVWVz1jb21wdXRlUmVmbGVjdGlvbkNvb3Jkcyh2ZWM0KHZQb3NpdGlvblcsMS4wKSxub3JtYWxXKTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaCnZSZWZsZWN0aW9uVVZXLnoqPS0xLjA7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAojaWZkZWYgUk9VR0hORVNTCmZsb2F0IGJpYXM9dlJlZmxlY3Rpb25JbmZvcy55OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBTUEVDVUxBUgojaWZkZWYgR0xPU1NJTkVTUwpiaWFzKj0oMS4wLXNwZWN1bGFyTWFwQ29sb3IuYSk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcsYmlhcyk7CiNlbHNlCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcpOwojZW5kaWYKI2Vsc2UKdmVjMiBjb29yZHM9dlJlZmxlY3Rpb25VVlcueHk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KY29vcmRzLz12UmVmbGVjdGlvblVWVy56OwojZW5kaWYKY29vcmRzLnk9MS4wLWNvb3Jkcy55OwpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZmxlY3Rpb24yRFNhbXBsZXIsY29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGTEVDVElPTgpyZWZsZWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZmxlY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGTEVDVElPTl9MSU5FQVIKcmVmbGVjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmbGVjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZsZWN0aW9uQ29sb3IucmdiKj12UmVmbGVjdGlvbkluZm9zLng7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTApmbG9hdCByZWZsZWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmbGVjdGlvblJpZ2h0Q29sb3IuYSxyZWZsZWN0aW9uTGVmdENvbG9yLmEpOwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVIKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZWZsZWN0aW9uQ29sb3IucmdiKj1zcGVjdWxhckNvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCmZsb2F0IHJlZnJhY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZyYWN0aW9uUmlnaHRDb2xvci5hLHJlZnJhY3Rpb25MZWZ0Q29sb3IuYSk7CnJlZnJhY3Rpb25Db2xvci5yZ2IqPXJlZnJhY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmcmFjdGlvbkZyZXNuZWxUZXJtKStyZWZyYWN0aW9uRnJlc25lbFRlcm0qcmVmcmFjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdmVjNCBvcGFjaXR5TWFwPXRleHR1cmUyRChvcGFjaXR5U2FtcGxlcix2T3BhY2l0eVVWK3V2T2Zmc2V0KTsKI2lmZGVmIE9QQUNJVFlSR0IKb3BhY2l0eU1hcC5yZ2I9b3BhY2l0eU1hcC5yZ2IqdmVjMygwLjMsMC41OSwwLjExKTsKYWxwaGEqPShvcGFjaXR5TWFwLngrb3BhY2l0eU1hcC55K29wYWNpdHlNYXAueikqIHZPcGFjaXR5SW5mb3MueTsKI2Vsc2UKYWxwaGEqPW9wYWNpdHlNYXAuYSp2T3BhY2l0eUluZm9zLnk7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQUxQSEEpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCmFscGhhKj12Q29sb3IuYTsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTApmbG9hdCBvcGFjaXR5RnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsb3BhY2l0eVBhcnRzLnosb3BhY2l0eVBhcnRzLncpOwphbHBoYSs9b3BhY2l0eVBhcnRzLngqKDEuMC1vcGFjaXR5RnJlc25lbFRlcm0pK29wYWNpdHlGcmVzbmVsVGVybSpvcGFjaXR5UGFydHMueTsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKI2lmZGVmIEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TCmlmIChhbHBoYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZm5kZWYgQUxQSEFCTEVORAphbHBoYT0xLjA7CiNlbmRpZgojZW5kaWYKdmVjMyBlbWlzc2l2ZUNvbG9yPXZFbWlzc2l2ZUNvbG9yOwojaWZkZWYgRU1JU1NJVkUKZW1pc3NpdmVDb2xvcis9dGV4dHVyZTJEKGVtaXNzaXZlU2FtcGxlcix2RW1pc3NpdmVVVit1dk9mZnNldCkucmdiKnZFbWlzc2l2ZUluZm9zLnk7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCmZsb2F0IGVtaXNzaXZlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZW1pc3NpdmVSaWdodENvbG9yLmEsZW1pc3NpdmVMZWZ0Q29sb3IuYSk7CmVtaXNzaXZlQ29sb3IqPWVtaXNzaXZlTGVmdENvbG9yLnJnYiooMS4wLWVtaXNzaXZlRnJlc25lbFRlcm0pK2VtaXNzaXZlRnJlc25lbFRlcm0qZW1pc3NpdmVSaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTApmbG9hdCBkaWZmdXNlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZGlmZnVzZVJpZ2h0Q29sb3IuYSxkaWZmdXNlTGVmdENvbG9yLmEpOwpkaWZmdXNlQmFzZSo9ZGlmZnVzZUxlZnRDb2xvci5yZ2IqKDEuMC1kaWZmdXNlRnJlc25lbFRlcm0pK2RpZmZ1c2VGcmVzbmVsVGVybSpkaWZmdXNlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVBU0lMTFVNSU5BVElPTgp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQojaWZkZWYgTElOS0VNSVNTSVZFV0lUSERJRkZVU0UKdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoKGRpZmZ1c2VCYXNlK2VtaXNzaXZlQ29sb3IpKmRpZmZ1c2VDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbHNlCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKGRpZmZ1c2VCYXNlKmRpZmZ1c2VDb2xvcitlbWlzc2l2ZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgZmluYWxTcGVjdWxhcj1zcGVjdWxhckJhc2Uqc3BlY3VsYXJDb2xvcjsKI2lmZGVmIFNQRUNVTEFST1ZFUkFMUEhBCmFscGhhPWNsYW1wKGFscGhhK2RvdChmaW5hbFNwZWN1bGFyLHZlYzMoMC4zLDAuNTksMC4xMSkpLDAuLDEuKTsKI2VuZGlmCiNlbHNlCnZlYzMgZmluYWxTcGVjdWxhcj12ZWMzKDAuMCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QocmVmbGVjdGlvbkNvbG9yLnJnYix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVBU0lMTFVNSU5BVElPTgp2ZWM0IGNvbG9yPXZlYzQoY2xhbXAoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK2VtaXNzaXZlQ29sb3IrcmVmcmFjdGlvbkNvbG9yLnJnYiwwLjAsMS4wKSxhbHBoYSk7CiNlbHNlCnZlYzQgY29sb3I9dmVjNChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrcmVmcmFjdGlvbkNvbG9yLnJnYixhbHBoYSk7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKI2lmbmRlZiBMSUdIVE1BUEVYQ0xVREVECiNpZmRlZiBVU0VMSUdIVE1BUEFTU0hBRE9XTUFQCmNvbG9yLnJnYio9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbHNlCmNvbG9yLnJnYis9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0cKY29sb3IucmdiPW1heChjb2xvci5yZ2IsMC4pOwojaW5jbHVkZTxsb2dEZXB0aEZyYWdtZW50PgojaW5jbHVkZTxmb2dGcmFnbWVudD4KI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CiNlbHNlCiNpZmRlZiBJTUFHRVBST0NFU1NJTkcKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKY29sb3I9YXBwbHlJbWFnZVByb2Nlc3NpbmcoY29sb3IpOwojZW5kaWYKI2VuZGlmCmNvbG9yLmEqPXZpc2liaWxpdHk7CiNpZmRlZiBQUkVNVUxUSVBMWUFMUEhBCmNvbG9yLnJnYio9Y29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IKI2lmZGVmIFBSRVBBU1MKZmxvYXQgd3JpdGVHZW9tZXRyeUluZm89Y29sb3IuYT4wLjQgPyAxLjAgOiAwLjA7CmdsX0ZyYWdEYXRhWzBdPWNvbG9yOyAKI2lmZGVmIFBSRVBBU1NfUE9TSVRJT04KZ2xfRnJhZ0RhdGFbUFJFUEFTU19QT1NJVElPTl9JTkRFWF09dmVjNCh2UG9zaXRpb25XLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnZlYzIgYT0odkN1cnJlbnRQb3NpdGlvbi54eS92Q3VycmVudFBvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgYj0odlByZXZpb3VzUG9zaXRpb24ueHkvdlByZXZpb3VzUG9zaXRpb24udykqMC41KzAuNTsKdmVjMiB2ZWxvY2l0eT1hYnMoYS1iKTsKdmVsb2NpdHk9dmVjMihwb3codmVsb2NpdHkueCwxLjAvMy4wKSxwb3codmVsb2NpdHkueSwxLjAvMy4wKSkqc2lnbihhLWIpKjAuNSswLjU7CmdsX0ZyYWdEYXRhW1BSRVBBU1NfVkVMT0NJVFlfSU5ERVhdPXZlYzQodmVsb2NpdHksMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0lSUkFESUFOQ0UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19JUlJBRElBTkNFX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19ERVBUSApnbF9GcmFnRGF0YVtQUkVQQVNTX0RFUFRIX0lOREVYXT12ZWM0KHZWaWV3UG9zLnosMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfTk9STUFMCmdsX0ZyYWdEYXRhW1BSRVBBU1NfTk9STUFMX0lOREVYXT12ZWM0KCh2aWV3KnZlYzQobm9ybWFsVywwLjApKS5yZ2Isd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0FMQkVET19TUVJUCmdsX0ZyYWdEYXRhW1BSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1JFRkxFQ1RJVklUWQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpZiBkZWZpbmVkKFNQRUNVTEFSKQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNChzcGVjdWxhck1hcENvbG9yKSp3cml0ZUdlb21ldHJ5SW5mbzsgCiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHNwZWN1bGFyQ29sb3IsMS4wKSp3cml0ZUdlb21ldHJ5SW5mbzsKI2VuZGlmCiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZiAhZGVmaW5lZChQUkVQQVNTKSB8fCBkZWZpbmVkKFdFQkdMMikKZ2xfRnJhZ0NvbG9yPWNvbG9yOwojZW5kaWYKI2lmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQppZiAoZnJhZ0RlcHRoPT1uZWFyZXN0RGVwdGgpIHsKZnJvbnRDb2xvci5yZ2IrPWNvbG9yLnJnYipjb2xvci5hKmFscGhhTXVsdGlwbGllcjsKZnJvbnRDb2xvci5hPTEuMC1hbHBoYU11bHRpcGxpZXIqKDEuMC1jb2xvci5hKTsKfSBlbHNlIHsKYmFja0NvbG9yKz1jb2xvcjsKfQojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfQpgO0wuU2hhZGVyc1N0b3JlW211XT15dTt2YXIgYnU9ImRlZmF1bHRWZXJ0ZXhEZWNsYXJhdGlvbiIsRXU9YHVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSBtYXQ0IHZpZXc7CiNpZmRlZiBESUZGVVNFCnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4Owp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gbWF0NCBhbWJpZW50TWF0cml4Owp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnVuaWZvcm0gbWF0NCBvcGFjaXR5TWF0cml4Owp1bmlmb3JtIHZlYzIgdk9wYWNpdHlJbmZvczsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRQp1bmlmb3JtIHZlYzIgdkVtaXNzaXZlSW5mb3M7CnVuaWZvcm0gbWF0NCBlbWlzc2l2ZU1hdHJpeDsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CnVuaWZvcm0gbWF0NCBsaWdodG1hcE1hdHJpeDsKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSKSAmJiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKdW5pZm9ybSB2ZWMyIHZTcGVjdWxhckluZm9zOwp1bmlmb3JtIG1hdDQgc3BlY3VsYXJNYXRyaXg7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSBtYXQ0IGJ1bXBNYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIG1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZmRlZiBQT0lOVFNJWkUKdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7CiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CnVuaWZvcm0gbWF0NCBkZXRhaWxNYXRyaXg7CiNlbmRpZgojZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtidV09RXU7dmFyIFR1PSJ1dkF0dHJpYnV0ZURlY2xhcmF0aW9uIixTdT1gI2lmZGVmIFVWe1h9CmF0dHJpYnV0ZSB2ZWMyIHV2e1h9OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1R1XT1TdTt2YXIgTXU9InByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbiIsQXU9YCNpZmRlZiBQUkVQQVNTCiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnVuaWZvcm0gbWF0NCBwcmV2aW91c1ZpZXdQcm9qZWN0aW9uOwp2YXJ5aW5nIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjsKdmFyeWluZyB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtNdV09QXU7dmFyIFJ1PSJzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24iLFB1PWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0wCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1J1XT1QdTt2YXIgQ3U9ImJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbiIseHU9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKSAKdmFyeWluZyBtYXQzIHZUQk47CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0N1XT14dTt2YXIgRHU9ImZvZ1ZlcnRleERlY2xhcmF0aW9uIixJdT1gI2lmZGVmIEZPRwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0R1XT1JdTt2YXIgT3U9ImxpZ2h0VnhGcmFnbWVudERlY2xhcmF0aW9uIixGdT1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW091XT1GdTt2YXIgd3U9ImxpZ2h0VnhVYm9EZWNsYXJhdGlvbiIsTHU9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd3VdPUx1O3ZhciBOdT0icHJlUGFzc1ZlcnRleCIsQnU9YCNpZmRlZiBQUkVQQVNTX0RFUFRICnZWaWV3UG9zPSh2aWV3KndvcmxkUG9zKS5yZ2I7CiNlbmRpZgojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiBkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgcHJldmlvdXNJbmZsdWVuY2U7CnByZXZpb3VzSW5mbHVlbmNlPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqcHJldmlvdXNJbmZsdWVuY2UqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2Vsc2UKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTnVdPUJ1O3ZhciBVdT0idXZWYXJpYWJsZURlY2xhcmF0aW9uIixWdT1gI2lmICFkZWZpbmVkKFVWe1h9KSAmJiBkZWZpbmVkKE1BSU5VVntYfSkKdmVjMiB1dntYfT12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVZ7WH0Kdk1haW5VVntYfT11dntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtVdV09VnU7dmFyIGt1PSJzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24iLFd1PWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0wCmlmICh2X0lORk9OQU1FXz09MC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7Cn0KI2lmZGVmIFVWMgplbHNlIGlmICh2X0lORk9OQU1FXz09MS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjMKZWxzZSBpZiAodl9JTkZPTkFNRV89PTIuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djMsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY0CmVsc2UgaWYgKHZfSU5GT05BTUVfPT0zLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY0LDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNQplbHNlIGlmICh2X0lORk9OQU1FXz09NC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NSwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjYKZWxzZSBpZiAodl9JTkZPTkFNRV89PTUuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djYsMS4wLDAuMCkpOwp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2t1XT1XdTt2YXIgenU9ImJ1bXBWZXJ0ZXgiLEd1PWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKdmVjMyB0Ym5Ob3JtYWw9bm9ybWFsaXplKG5vcm1hbFVwZGF0ZWQpOwp2ZWMzIHRiblRhbmdlbnQ9bm9ybWFsaXplKHRhbmdlbnRVcGRhdGVkLnh5eik7CnZlYzMgdGJuQml0YW5nZW50PWNyb3NzKHRibk5vcm1hbCx0Ym5UYW5nZW50KSp0YW5nZW50VXBkYXRlZC53Owp2VEJOPW1hdDMoZmluYWxXb3JsZCkqbWF0Myh0Ym5UYW5nZW50LHRibkJpdGFuZ2VudCx0Ym5Ob3JtYWwpOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt6dV09R3U7dmFyIFh1PSJmb2dWZXJ0ZXgiLEh1PWAjaWZkZWYgRk9HCnZGb2dEaXN0YW5jZT0odmlldyp3b3JsZFBvcykueHl6OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1h1XT1IdTt2YXIganU9InNoYWRvd3NWZXJ0ZXgiLEt1PWAjaWZkZWYgU0hBRE9XUwojaWYgZGVmaW5lZChTSEFET1dDU017WH0pCnZQb3NpdGlvbkZyb21DYW1lcmF7WH09dmlldyp3b3JsZFBvczsKZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSB7CnZQb3NpdGlvbkZyb21MaWdodHtYfVtpXT1saWdodE1hdHJpeHtYfVtpXSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfVtpXT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfVtpXT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldLnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1d7WH0pICYmICFkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnZQb3NpdGlvbkZyb21MaWdodHtYfT1saWdodE1hdHJpeHtYfSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2p1XT1LdTt2YXIgWXU9InZlcnRleENvbG9yTWl4aW5nIixadT1gI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCnZDb2xvcj12ZWM0KDEuMCk7CiNpZmRlZiBWRVJURVhDT0xPUgojaWZkZWYgVkVSVEVYQUxQSEEKdkNvbG9yKj1jb2xvcjsKI2Vsc2UKdkNvbG9yLnJnYio9Y29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBJTlNUQU5DRVNDT0xPUgp2Q29sb3IqPWluc3RhbmNlQ29sb3I7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1l1XT1adTt2YXIgcXU9InBvaW50Q2xvdWRWZXJ0ZXgiLFF1PWAjaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxdV09UXU7dmFyICR1PSJsb2dEZXB0aFZlcnRleCIsSnU9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICnZGcmFnbWVudERlcHRoPTEuMCtnbF9Qb3NpdGlvbi53OwpnbF9Qb3NpdGlvbi56PWxvZzIobWF4KDAuMDAwMDAxLHZGcmFnbWVudERlcHRoKSkqbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlWyR1XT1KdTt2YXIgZWY9ImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLHRmPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTgphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAphdHRyaWJ1dGUgdmVjNCB0YW5nZW50OwojZW5kaWYKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpbmNsdWRlPHV2QXR0cmlidXRlRGVjbGFyYXRpb24+WzIuLjddCiNpZmRlZiBWRVJURVhDT0xPUgphdHRyaWJ1dGUgdmVjNCBjb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CiNpbmNsdWRlPHByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uPlsxLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXApCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcikKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wKQp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0VnhGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCnZlYzQgdGFuZ2VudFVwZGF0ZWQ9dGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdlBvc2l0aW9uVVZXPXBvc2l0aW9uVXBkYXRlZDsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04KI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwKI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaWYgZGVmaW5lZChQUkVQQVNTKSAmJiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmICFkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1hbFdvcmxkPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdk5vcm1hbFc9bm9ybWFsVXBkYXRlZC92ZWMzKGRvdChub3JtYWxXb3JsZFswXSxub3JtYWxXb3JsZFswXSksZG90KG5vcm1hbFdvcmxkWzFdLG5vcm1hbFdvcmxkWzFdKSxkb3Qobm9ybWFsV29ybGRbMl0sbm9ybWFsV29ybGRbMl0pKTsKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1hbFdvcmxkKnZOb3JtYWxXKTsKI2Vsc2UKI2lmZGVmIE5PTlVOSUZPUk1TQ0FMSU5HCm5vcm1hbFdvcmxkPXRyYW5zcG9zZU1hdDMoaW52ZXJzZU1hdDMobm9ybWFsV29ybGQpKTsKI2VuZGlmCnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TCiNpZmRlZiBNVUxUSVZJRVcKaWYgKGdsX1ZpZXdJRF9PVlI9PTB1KSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp9IGVsc2UgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvblIqd29ybGRQb3M7Cn0KI2Vsc2UKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNlbmRpZgp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaW5jbHVkZTxwcmVQYXNzVmVydGV4PgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2RGlyZWN0aW9uVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDAuMCkpKTsKI2VuZGlmCiNpZm5kZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVjEKdk1haW5VVjE9dXZVcGRhdGVkOwojZW5kaWYKI2luY2x1ZGU8dXZWYXJpYWJsZURlY2xhcmF0aW9uPlsyLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfTUFUUklYTkFNRV8sZGlmZnVzZSxfSU5GT05BTUVfLERpZmZ1c2VJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX01BVFJJWE5BTUVfLGRldGFpbCxfSU5GT05BTUVfLERldGFpbEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9NQVRSSVhOQU1FXyxhbWJpZW50LF9JTkZPTkFNRV8sQW1iaWVudEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9NQVRSSVhOQU1FXyxvcGFjaXR5LF9JTkZPTkFNRV8sT3BhY2l0eUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX01BVFJJWE5BTUVfLGVtaXNzaXZlLF9JTkZPTkFNRV8sRW1pc3NpdmVJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9NQVRSSVhOQU1FXyxsaWdodG1hcCxfSU5GT05BTUVfLExpZ2h0bWFwSW5mb3MueCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9NQVRSSVhOQU1FXyxzcGVjdWxhcixfSU5GT05BTUVfLFNwZWN1bGFySW5mb3MueCkKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9NQVRSSVhOQU1FXyxidW1wLF9JTkZPTkFNRV8sQnVtcEluZm9zLngpCiNpbmNsdWRlPGJ1bXBWZXJ0ZXg+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPHZlcnRleENvbG9yTWl4aW5nPgojaW5jbHVkZTxwb2ludENsb3VkVmVydGV4PgojaW5jbHVkZTxsb2dEZXB0aFZlcnRleD4KI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVtlZl09dGY7dmFyIHJmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLl9wbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnM9W10sdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzPVtdLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5fc2NlbmU9ZS5nZXRTY2VuZSgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKX1yZXR1cm4gaS5wcm90b3R5cGUuX2FkZFBsdWdpbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuX3BsdWdpbnMubGVuZ3RoOysrdClpZih0aGlzLl9wbHVnaW5zW3RdLm5hbWU9PT1lLm5hbWUpdGhyb3cnUGx1Z2luICInLmNvbmNhdChlLm5hbWUsJyIgYWxyZWFkeSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIicpLmNvbmNhdCh0aGlzLl9tYXRlcmlhbC5uYW1lLCciIScpO2lmKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQpdGhyb3cnVGhlIHBsdWdpbiAiJy5jb25jYXQoZS5uYW1lLGAiIGNhbid0IGJlIGFkZGVkIHRvIHRoZSBtYXRlcmlhbCAiYCkuY29uY2F0KHRoaXMuX21hdGVyaWFsLm5hbWUsJyIgYmVjYXVzZSB0aGlzIG1hdGVyaWFsIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCBmb3IgcmVuZGVyaW5nISBQbGVhc2UgYWRkIHBsdWdpbnMgdG8gbWF0ZXJpYWxzIGJlZm9yZSBhbnkgcmVuZGVyaW5nIHdpdGggdGhpcyBtYXRlcmlhbCBvY2N1cnMuJyk7dmFyIHI9ZS5nZXRDbGFzc05hbWUoKTtpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3JdfHwoaS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVtyXT0iTUFURVJJQUxQTFVHSU5fIisgKytpLl9NYXRlcmlhbFBsdWdpbkNvdW50ZXIpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudC5iaW5kKHRoaXMpLHRoaXMuX3BsdWdpbnMucHVzaChlKSx0aGlzLl9wbHVnaW5zLnNvcnQoZnVuY3Rpb24odSxmKXtyZXR1cm4gdS5wcmlvcml0eS1mLnByaW9yaXR5fSksdGhpcy5fY29kZUluamVjdGlvblBvaW50cz17fTt2YXIgbj17fTtuW2kuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbcl1dPXt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwfTtmb3IodmFyIGE9MCxzPXRoaXMuX3BsdWdpbnM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5jb2xsZWN0RGVmaW5lcyhuKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygidmVydGV4IixvLmdldEN1c3RvbUNvZGUoInZlcnRleCIpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygiZnJhZ21lbnQiLG8uZ2V0Q3VzdG9tQ29kZSgiZnJhZ21lbnQiKSl9dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2lucz1ufSxpLnByb3RvdHlwZS5fYWN0aXZhdGVQbHVnaW49ZnVuY3Rpb24oZSl7dGhpcy5fYWN0aXZlUGx1Z2lucy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVQbHVnaW5zLnB1c2goZSksdGhpcy5fYWN0aXZlUGx1Z2lucy5zb3J0KGZ1bmN0aW9uKHQscil7cmV0dXJuIHQucHJpb3JpdHktci5wcmlvcml0eX0pLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaC5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaC5iaW5kKHRoaXMpLGUucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cyYmKHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5zb3J0KGZ1bmN0aW9uKHQscil7cmV0dXJuIHQucHJpb3JpdHktci5wcmlvcml0eX0pLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSkpfSxpLnByb3RvdHlwZS5nZXRQbHVnaW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5fcGx1Z2luc1t0XTtyZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSEwLHI9MCxuPXRoaXMuX2FjdGl2ZVBsdWdpbnM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07dD10JiZhLmlzUmVhZHlGb3JTdWJNZXNoKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1lLmlzUmVhZHlGb3JTdWJNZXNoPXR9LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLnByZXBhcmVEZWZpbmVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfX0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uaGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfX0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj10aGlzLl9hY3RpdmVQbHVnaW5zO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uYmluZEZvclN1Yk1lc2godGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXIsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ITEscj0wLG49dGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKHQ9YS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpLHQpYnJlYWt9ZS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj10aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZS5yZW5kZXJUYXJnZXRzKX19LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudD1mdW5jdGlvbihlLHQpe3ZhciByLG4sYTtzd2l0Y2goZSl7Y2FzZSBEZS5HZXRBY3RpdmVUZXh0dXJlczp7Zm9yKHZhciBzPXQsbz0wLHU9dGhpcy5fYWN0aXZlUGx1Z2lucztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmdldEFjdGl2ZVRleHR1cmVzKHMuYWN0aXZlVGV4dHVyZXMpfWJyZWFrfWNhc2UgRGUuR2V0QW5pbWF0YWJsZXM6e2Zvcih2YXIgcz10LGw9MCxoPXRoaXMuX2FjdGl2ZVBsdWdpbnM7bDxoLmxlbmd0aDtsKyspe3ZhciBmPWhbbF07Zi5nZXRBbmltYXRhYmxlcyhzLmFuaW1hdGFibGVzKX1icmVha31jYXNlIERlLkhhc1RleHR1cmU6e2Zvcih2YXIgcz10LGM9ITEsZD0wLHA9dGhpcy5fYWN0aXZlUGx1Z2lucztkPHAubGVuZ3RoO2QrKyl7dmFyIGY9cFtkXTtpZihjPWYuaGFzVGV4dHVyZShzLnRleHR1cmUpLGMpYnJlYWt9cy5oYXNUZXh0dXJlPWM7YnJlYWt9Y2FzZSBEZS5EaXNwb3NlZDp7Zm9yKHZhciBzPXQsZz0wLF89dGhpcy5fcGx1Z2lucztnPF8ubGVuZ3RoO2crKyl7dmFyIGY9X1tnXTtmLmRpc3Bvc2Uocy5mb3JjZURpc3Bvc2VUZXh0dXJlcyl9YnJlYWt9Y2FzZSBEZS5HZXREZWZpbmVOYW1lczp7dmFyIHM9dDtzLmRlZmluZU5hbWVzPXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM7YnJlYWt9Y2FzZSBEZS5QcmVwYXJlRWZmZWN0Ontmb3IodmFyIHM9dCx2PTAseT10aGlzLl9hY3RpdmVQbHVnaW5zO3Y8eS5sZW5ndGg7disrKXt2YXIgZj15W3ZdO3MuZmFsbGJhY2tSYW5rPWYuYWRkRmFsbGJhY2tzKHMuZGVmaW5lcyxzLmZhbGxiYWNrcyxzLmZhbGxiYWNrUmFuayl9dGhpcy5fdW5pZm9ybUxpc3QubGVuZ3RoPjAmJihyPXMudW5pZm9ybXMpLnB1c2guYXBwbHkocix0aGlzLl91bmlmb3JtTGlzdCksdGhpcy5fc2FtcGxlckxpc3QubGVuZ3RoPjAmJihuPXMuc2FtcGxlcnMpLnB1c2guYXBwbHkobix0aGlzLl9zYW1wbGVyTGlzdCksdGhpcy5fdWJvTGlzdC5sZW5ndGg+MCYmKGE9cy51bmlmb3JtQnVmZmVyc05hbWVzKS5wdXNoLmFwcGx5KGEsdGhpcy5fdWJvTGlzdCkscy5jdXN0b21Db2RlPXRoaXMuX2luamVjdEN1c3RvbUNvZGUocy5jdXN0b21Db2RlKTticmVha31jYXNlIERlLlByZXBhcmVVbmlmb3JtQnVmZmVyOnt2YXIgcz10O3RoaXMuX3Vib0RlY2xhcmF0aW9uPSIiLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uPSIiLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb249IiIsdGhpcy5fdW5pZm9ybUxpc3Q9W10sdGhpcy5fc2FtcGxlckxpc3Q9W10sdGhpcy5fdWJvTGlzdD1bXTtmb3IodmFyIEU9MCxSPXRoaXMuX3BsdWdpbnM7RTxSLmxlbmd0aDtFKyspe3ZhciBmPVJbRV0sTT1mLmdldFVuaWZvcm1zKCk7aWYoTSl7aWYoTS51Ym8pZm9yKHZhciBDPTAsQT1NLnVibztDPEEubGVuZ3RoO0MrKyl7dmFyIFM9QVtDXTtzLnViby5hZGRVbmlmb3JtKFMubmFtZSxTLnNpemUpLHRoaXMuX3Vib0RlY2xhcmF0aW9uKz0iIi5jb25jYXQoUy50eXBlLCIgIikuY29uY2F0KFMubmFtZSxgO1xyCmApLHRoaXMuX3VuaWZvcm1MaXN0LnB1c2goUy5uYW1lKX1NLnZlcnRleCYmKHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKz1NLnZlcnRleCtgXHIKYCksTS5mcmFnbWVudCYmKHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24rPU0uZnJhZ21lbnQrYFxyCmApfWYuZ2V0U2FtcGxlcnModGhpcy5fc2FtcGxlckxpc3QpLGYuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyh0aGlzLl91Ym9MaXN0KX1icmVha319fSxpLnByb3RvdHlwZS5fY29sbGVjdFBvaW50TmFtZXM9ZnVuY3Rpb24oZSx0KXtpZih0KWZvcih2YXIgciBpbiB0KXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV18fCh0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdPXt9KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdW3JdPSEwfSxpLnByb3RvdHlwZS5faW5qZWN0Q3VzdG9tQ29kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihyLG4pe3ZhciBhO2UmJihuPWUocixuKSksdC5fdWJvRGVjbGFyYXRpb24mJihuPW4ucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTiIsdC5fdWJvRGVjbGFyYXRpb24pKSx0Ll92ZXJ0ZXhEZWNsYXJhdGlvbiYmKG49bi5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OIix0Ll92ZXJ0ZXhEZWNsYXJhdGlvbikpLHQuX2ZyYWdtZW50RGVjbGFyYXRpb24mJihuPW4ucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OIix0Ll9mcmFnbWVudERlY2xhcmF0aW9uKSk7dmFyIHM9KGE9dC5fY29kZUluamVjdGlvblBvaW50cyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW3JdO2lmKCFzKXJldHVybiBuO2Zvcih2YXIgbyBpbiBzKXtmb3IodmFyIHU9IiIsZj0wLGw9dC5fYWN0aXZlUGx1Z2lucztmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXSxjPWguZ2V0Q3VzdG9tQ29kZShyKTtjIT1udWxsJiZjW29dJiYodSs9Y1tvXStgXHIKYCl9aWYodS5sZW5ndGg+MClpZihvLmNoYXJBdCgwKT09PSIhIilmb3IodmFyIGQ9bmV3IFJlZ0V4cChvLnN1YnN0cmluZygxKSwiZyIpLHA9ZC5leGVjKG4pO3AhPT1udWxsOyluPW4ucmVwbGFjZShwWzBdLHUpLHA9ZC5leGVjKG4pO2Vsc2V7dmFyIGc9IiNkZWZpbmUgIitvO249bi5yZXBsYWNlKGcsYFxyCmArdStgXHIKYCtnKX19cmV0dXJuIG59fSxpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LGkuX01hdGVyaWFsUGx1Z2luQ291bnRlcj0wLGl9KCksbmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLHRoaXMucHJpb3JpdHk9NTAwLHRoaXMucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cz0hMSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMubmFtZT10LHRoaXMucHJpb3JpdHk9cixlLnBsdWdpbk1hbmFnZXJ8fChlLnBsdWdpbk1hbmFnZXI9bmV3IHJmKGUpKSx0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcz1uLHRoaXMuX3BsdWdpbk1hbmFnZXI9ZS5wbHVnaW5NYW5hZ2VyLGEmJnRoaXMuX3BsdWdpbk1hbmFnZXIuX2FkZFBsdWdpbih0aGlzKSxzJiZ0aGlzLl9lbmFibGUoITApLHRoaXMubWFya0FsbERlZmluZXNBc0RpcnR5PWUuX2RpcnR5Q2FsbGJhY2tzWzYzXX1yZXR1cm4gaS5wcm90b3R5cGUuX2VuYWJsZT1mdW5jdGlvbihlKXtlJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hY3RpdmF0ZVBsdWdpbih0aGlzKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9LGkucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiEwfSxpLnByb3RvdHlwZS5oYXJkQmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbil7fSxpLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscixuKXt9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRDdXN0b21Db2RlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5jb2xsZWN0RGVmaW5lcz1mdW5jdGlvbihlKXtpZih0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcylmb3IodmFyIHQ9MCxyPU9iamVjdC5rZXlzKHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuWzBdIT09Il8iKXt2YXIgYT10eXBlb2YgdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbbl07ZVtuXT17dHlwZTphPT09Im51bWJlciI/Im51bWJlciI6YT09PSJzdHJpbmciPyJzdHJpbmciOmE9PT0iYm9vbGVhbiI/ImJvb2xlYW4iOiJvYmplY3QiLGRlZmF1bHQ6dGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbbl19fX19LGkucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKGUsdCxyKXt9LGkucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuITF9LGkucHJvdG90eXBlLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGkucHJvdG90eXBlLmZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuZ2V0QW5pbWF0YWJsZXM9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5hZGRGYWxsYmFja3M9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByfSxpLnByb3RvdHlwZS5nZXRTYW1wbGVycz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmdldFVuaWZvcm1CdWZmZXJzTmFtZXM9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbigpe3JldHVybnt9fSxpLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24oZSl7Si5DbG9uZShmdW5jdGlvbigpe3JldHVybiBlfSx0aGlzKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIEouU2VyaWFsaXplKHRoaXMpfSxpLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG59LGUsdCxyKX0sVChbUCgpXSxpLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJwcmlvcml0eSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJyZWdpc3RlckZvckV4dHJhRXZlbnRzIix2b2lkIDApLGl9KCksYWY9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXt2YXIgdD1pIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuREVUQUlMPSExLHQuREVUQUlMRElSRUNUVVY9MCx0LkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD0wLHR9cmV0dXJuIGV9KHlyKSxzZj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3I9PT12b2lkIDAmJihyPSEwKTt2YXIgbj1pLmNhbGwodGhpcyx0LCJEZXRhaWxNYXAiLDE0MCxuZXcgYWYscil8fHRoaXM7cmV0dXJuIG4uX3RleHR1cmU9bnVsbCxuLmRpZmZ1c2VCbGVuZExldmVsPTEsbi5yb3VnaG5lc3NCbGVuZExldmVsPTEsbi5idW1wTGV2ZWw9MSxuLl9ub3JtYWxCbGVuZE1ldGhvZD1GZS5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9XSElURU9VVCxuLl9pc0VuYWJsZWQ9ITEsbi5pc0VuYWJsZWQ9ITEsbi5faW50ZXJuYWxNYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5PXQuX2RpcnR5Q2FsbGJhY2tzWzFdLG59cmV0dXJuIGUucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlKHRoaXMuX2lzRW5hYmxlZCksdGhpcy5faW50ZXJuYWxNYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkPyEodC5fYXJlVGV4dHVyZXNEaXJ0eSYmci50ZXh0dXJlc0VuYWJsZWQmJm4uZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJmRlLkRldGFpbFRleHR1cmVFbmFibGVkJiYhdGhpcy5fdGV4dHVyZS5pc1JlYWR5KCkpOiEwfSxlLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcz1mdW5jdGlvbih0LHIpe2lmKHRoaXMuX2lzRW5hYmxlZCl7dC5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2Q7dmFyIG49ci5nZXRFbmdpbmUoKTt0Ll9hcmVUZXh0dXJlc0RpcnR5JiYobi5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fdGV4dHVyZSYmZGUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJnRoaXMuX2lzRW5hYmxlZD8oWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3RleHR1cmUsdCwiREVUQUlMIiksdC5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2QpOnQuREVUQUlMPSExKX1lbHNlIHQuREVUQUlMPSExfSxlLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbih0LHIpe2lmKHRoaXMuX2lzRW5hYmxlZCl7dmFyIG49dGhpcy5fbWF0ZXJpYWwuaXNGcm96ZW47KCF0LnVzZVVib3x8IW58fCF0LmlzU3luYykmJnRoaXMuX3RleHR1cmUmJmRlLkRldGFpbFRleHR1cmVFbmFibGVkJiYodC51cGRhdGVGbG9hdDQoInZEZXRhaWxJbmZvcyIsdGhpcy5fdGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWwsdGhpcy5idW1wTGV2ZWwsdGhpcy5yb3VnaG5lc3NCbGVuZExldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3RleHR1cmUsdCwiZGV0YWlsIikpLHIudGV4dHVyZXNFbmFibGVkJiZ0aGlzLl90ZXh0dXJlJiZkZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdC5zZXRUZXh0dXJlKCJkZXRhaWxTYW1wbGVyIix0aGlzLl90ZXh0dXJlKX19LGUucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RleHR1cmU9PT10fSxlLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiZ0LnB1c2godGhpcy5fdGV4dHVyZSl9LGUucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fdGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fdGV4dHVyZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7dmFyIHI7dCYmKChyPXRoaXMuX3RleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCkpfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iRGV0YWlsTWFwQ29uZmlndXJhdGlvbiJ9LGUucHJvdG90eXBlLmdldFNhbXBsZXJzPWZ1bmN0aW9uKHQpe3QucHVzaCgiZGV0YWlsU2FtcGxlciIpfSxlLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbigpe3JldHVybnt1Ym86W3tuYW1lOiJ2RGV0YWlsSW5mb3MiLHNpemU6NCx0eXBlOiJ2ZWM0In0se25hbWU6ImRldGFpbE1hdHJpeCIsc2l6ZToxNix0eXBlOiJtYXQ0In1dfX0sVChbSGUoImRldGFpbFRleHR1cmUiKSxuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInRleHR1cmUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZGlmZnVzZUJsZW5kTGV2ZWwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicm91Z2huZXNzQmxlbmRMZXZlbCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJidW1wTGV2ZWwiLHZvaWQgMCksVChbUCgpLG5lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwibm9ybWFsQmxlbmRNZXRob2QiLHZvaWQgMCksVChbUCgpLG5lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiaXNFbmFibGVkIix2b2lkIDApLGV9KG5mKSxkaT17ZWZmZWN0Om51bGwsc3ViTWVzaDpudWxsfSxvZj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0KXt2YXIgcj1pLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5NQUlOVVYxPSExLHIuTUFJTlVWMj0hMSxyLk1BSU5VVjM9ITEsci5NQUlOVVY0PSExLHIuTUFJTlVWNT0hMSxyLk1BSU5VVjY9ITEsci5ESUZGVVNFPSExLHIuRElGRlVTRURJUkVDVFVWPTAsci5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ITEsci5BTUJJRU5UPSExLHIuQU1CSUVOVERJUkVDVFVWPTAsci5PUEFDSVRZPSExLHIuT1BBQ0lUWURJUkVDVFVWPTAsci5PUEFDSVRZUkdCPSExLHIuUkVGTEVDVElPTj0hMSxyLkVNSVNTSVZFPSExLHIuRU1JU1NJVkVESVJFQ1RVVj0wLHIuU1BFQ1VMQVI9ITEsci5TUEVDVUxBUkRJUkVDVFVWPTAsci5CVU1QPSExLHIuQlVNUERJUkVDVFVWPTAsci5QQVJBTExBWD0hMSxyLlBBUkFMTEFYT0NDTFVTSU9OPSExLHIuU1BFQ1VMQVJPVkVSQUxQSEE9ITEsci5DTElQUExBTkU9ITEsci5DTElQUExBTkUyPSExLHIuQ0xJUFBMQU5FMz0hMSxyLkNMSVBQTEFORTQ9ITEsci5DTElQUExBTkU1PSExLHIuQ0xJUFBMQU5FNj0hMSxyLkFMUEhBVEVTVD0hMSxyLkRFUFRIUFJFUEFTUz0hMSxyLkFMUEhBRlJPTURJRkZVU0U9ITEsci5QT0lOVFNJWkU9ITEsci5GT0c9ITEsci5TUEVDVUxBUlRFUk09ITEsci5ESUZGVVNFRlJFU05FTD0hMSxyLk9QQUNJVFlGUkVTTkVMPSExLHIuUkVGTEVDVElPTkZSRVNORUw9ITEsci5SRUZSQUNUSU9ORlJFU05FTD0hMSxyLkVNSVNTSVZFRlJFU05FTD0hMSxyLkZSRVNORUw9ITEsci5OT1JNQUw9ITEsci5UQU5HRU5UPSExLHIuVVYxPSExLHIuVVYyPSExLHIuVVYzPSExLHIuVVY0PSExLHIuVVY1PSExLHIuVVY2PSExLHIuVkVSVEVYQ09MT1I9ITEsci5WRVJURVhBTFBIQT0hMSxyLk5VTV9CT05FX0lORkxVRU5DRVJTPTAsci5Cb25lc1Blck1lc2g9MCxyLkJPTkVURVhUVVJFPSExLHIuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD0hMSxyLklOU1RBTkNFUz0hMSxyLlRISU5fSU5TVEFOQ0VTPSExLHIuSU5TVEFOQ0VTQ09MT1I9ITEsci5HTE9TU0lORVNTPSExLHIuUk9VR0hORVNTPSExLHIuRU1JU1NJVkVBU0lMTFVNSU5BVElPTj0hMSxyLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPSExLHIuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9ITEsci5MSUdIVE1BUD0hMSxyLkxJR0hUTUFQRElSRUNUVVY9MCxyLk9CSkVDVFNQQUNFX05PUk1BTE1BUD0hMSxyLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9ITEsci5SRUZMRUNUSU9OTUFQXzNEPSExLHIuUkVGTEVDVElPTk1BUF9TUEhFUklDQUw9ITEsci5SRUZMRUNUSU9OTUFQX1BMQU5BUj0hMSxyLlJFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsci5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hMSxyLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSExLHIuUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OPSExLHIuUkVGTEVDVElPTk1BUF9TS1lCT1g9ITEsci5SRUZMRUNUSU9OTUFQX0VYUExJQ0lUPSExLHIuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVI9ITEsci5SRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRD0hMSxyLlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsci5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMSxyLklOVkVSVENVQklDTUFQPSExLHIuTE9HQVJJVEhNSUNERVBUSD0hMSxyLlJFRlJBQ1RJT049ITEsci5SRUZSQUNUSU9OTUFQXzNEPSExLHIuUkVGTEVDVElPTk9WRVJBTFBIQT0hMSxyLlRXT1NJREVETElHSFRJTkc9ITEsci5TSEFET1dGTE9BVD0hMSxyLk1PUlBIVEFSR0VUUz0hMSxyLk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsci5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSxyLk1PUlBIVEFSR0VUU19VVj0hMSxyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wLHIuTU9SUEhUQVJHRVRTX1RFWFRVUkU9ITEsci5OT05VTklGT1JNU0NBTElORz0hMSxyLlBSRU1VTFRJUExZQUxQSEE9ITEsci5BTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUz0hMSxyLkFMUEhBQkxFTkQ9ITAsci5QUkVQQVNTPSExLHIuUFJFUEFTU19JUlJBRElBTkNFPSExLHIuUFJFUEFTU19JUlJBRElBTkNFX0lOREVYPS0xLHIuUFJFUEFTU19BTEJFRE9fU1FSVD0hMSxyLlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVg9LTEsci5QUkVQQVNTX0RFUFRIPSExLHIuUFJFUEFTU19ERVBUSF9JTkRFWD0tMSxyLlBSRVBBU1NfTk9STUFMPSExLHIuUFJFUEFTU19OT1JNQUxfSU5ERVg9LTEsci5QUkVQQVNTX1BPU0lUSU9OPSExLHIuUFJFUEFTU19QT1NJVElPTl9JTkRFWD0tMSxyLlBSRVBBU1NfVkVMT0NJVFk9ITEsci5QUkVQQVNTX1ZFTE9DSVRZX0lOREVYPS0xLHIuUFJFUEFTU19SRUZMRUNUSVZJVFk9ITEsci5QUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWD0tMSxyLlNDRU5FX01SVF9DT1VOVD0wLHIuUkdCRExJR0hUTUFQPSExLHIuUkdCRFJFRkxFQ1RJT049ITEsci5SR0JEUkVGUkFDVElPTj0hMSxyLklNQUdFUFJPQ0VTU0lORz0hMSxyLlZJR05FVFRFPSExLHIuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT0hMSxyLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSExLHIuVE9ORU1BUFBJTkc9ITEsci5UT05FTUFQUElOR19BQ0VTPSExLHIuQ09OVFJBU1Q9ITEsci5DT0xPUkNVUlZFUz0hMSxyLkNPTE9SR1JBRElORz0hMSxyLkNPTE9SR1JBRElORzNEPSExLHIuU0FNUExFUjNER1JFRU5ERVBUSD0hMSxyLlNBTVBMRVIzREJHUk1BUD0hMSxyLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHIuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSxyLk1VTFRJVklFVz0hMSxyLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT0hMSxyLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9ITEsci5JU19SRUZMRUNUSU9OX0xJTkVBUj0hMSxyLklTX1JFRlJBQ1RJT05fTElORUFSPSExLHIuRVhQT1NVUkU9ITEsci5yZWJ1aWxkKCkscn1yZXR1cm4gZS5wcm90b3R5cGUuc2V0UmVmbGVjdGlvbk1vZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPVsiUkVGTEVDVElPTk1BUF9DVUJJQyIsIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiLCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfU0tZQk9YIiwiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIiwiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCJdLG49MCxhPXI7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07dGhpc1tzXT1zPT09dH19LGV9KHlyKSxhcj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIG4uX2RpZmZ1c2VUZXh0dXJlPW51bGwsbi5fYW1iaWVudFRleHR1cmU9bnVsbCxuLl9vcGFjaXR5VGV4dHVyZT1udWxsLG4uX3JlZmxlY3Rpb25UZXh0dXJlPW51bGwsbi5fZW1pc3NpdmVUZXh0dXJlPW51bGwsbi5fc3BlY3VsYXJUZXh0dXJlPW51bGwsbi5fYnVtcFRleHR1cmU9bnVsbCxuLl9saWdodG1hcFRleHR1cmU9bnVsbCxuLl9yZWZyYWN0aW9uVGV4dHVyZT1udWxsLG4uYW1iaWVudENvbG9yPW5ldyBiZSgwLDAsMCksbi5kaWZmdXNlQ29sb3I9bmV3IGJlKDEsMSwxKSxuLnNwZWN1bGFyQ29sb3I9bmV3IGJlKDEsMSwxKSxuLmVtaXNzaXZlQ29sb3I9bmV3IGJlKDAsMCwwKSxuLnNwZWN1bGFyUG93ZXI9NjQsbi5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ITEsbi5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbj0hMSxuLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZT0hMSxuLl91c2VTcGVjdWxhck92ZXJBbHBoYT0hMSxuLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhPSExLG4uX2Rpc2FibGVMaWdodGluZz0hMSxuLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcD0hMSxuLl91c2VQYXJhbGxheD0hMSxuLl91c2VQYXJhbGxheE9jY2x1c2lvbj0hMSxuLnBhcmFsbGF4U2NhbGVCaWFzPS4wNSxuLl9yb3VnaG5lc3M9MCxuLmluZGV4T2ZSZWZyYWN0aW9uPS45OCxuLmludmVydFJlZnJhY3Rpb25ZPSEwLG4uYWxwaGFDdXRPZmY9LjQsbi5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcD0hMSxuLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcj0hMSxuLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE9ITEsbi5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzPTQsbi5faW52ZXJ0Tm9ybWFsTWFwWD0hMSxuLl9pbnZlcnROb3JtYWxNYXBZPSExLG4uX3R3b1NpZGVkTGlnaHRpbmc9ITEsbi5fcmVuZGVyVGFyZ2V0cz1uZXcgVmUoMTYpLG4uX3dvcmxkVmlld1Byb2plY3Rpb25NYXRyaXg9SS5aZXJvKCksbi5fZ2xvYmFsQW1iaWVudENvbG9yPW5ldyBiZSgwLDAsMCksbi5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSxuLmRldGFpbE1hcD1uZXcgc2Yobiksbi5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihudWxsKSxuLnByZVBhc3NDb25maWd1cmF0aW9uPW5ldyBjaSxuLmdldFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIG4uX3JlbmRlclRhcmdldHMucmVzZXQoKSxlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmbi5fcmVmbGVjdGlvblRleHR1cmUmJm4uX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZuLl9yZW5kZXJUYXJnZXRzLnB1c2gobi5fcmVmbGVjdGlvblRleHR1cmUpLGUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZuLl9yZWZyYWN0aW9uVGV4dHVyZSYmbi5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJm4uX3JlbmRlclRhcmdldHMucHVzaChuLl9yZWZyYWN0aW9uVGV4dHVyZSksbi5fZXZlbnRJbmZvLnJlbmRlclRhcmdldHM9bi5fcmVuZGVyVGFyZ2V0cyxuLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKG4uX2V2ZW50SW5mbyksbi5fcmVuZGVyVGFyZ2V0c30sbn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKHQpLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3QhPT10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksdD90aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPXQ6dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10aGlzLmdldFNjZW5lKCkuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbix0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXI9dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMuYWRkKGZ1bmN0aW9uKCl7ci5fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKX0pKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNQcmVQYXNzQ2FwYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmRpc2FibGVEZXB0aFdyaXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFDb2xvckdyYWRpbmdFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYVRvbmVNYXBwaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmV4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29udHJhc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb250cmFzdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3Q9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFDb2xvckN1cnZlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FuUmVuZGVyVG9NUlQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1JlbmRlclRhcmdldFRleHR1cmVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXR8fGUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQ/ITA6dGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iU3RhbmRhcmRNYXRlcmlhbCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlTG9nYXJpdGhtaWNEZXB0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aD10JiZ0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmZyYWdtZW50RGVwdGhTdXBwb3J0ZWQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubmVlZEFscGhhQmxlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbHx8dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXx8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkfSxlLnByb3RvdHlwZS5uZWVkQWxwaGFUZXN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvcmNlQWxwaGFUZXN0PyEwOnRoaXMuX2hhc0FscGhhQ2hhbm5lbCgpJiYodGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09bnVsbHx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PUZlLk1BVEVSSUFMX0FMUEhBVEVTVCl9LGUucHJvdG90eXBlLl9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGEmJnRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlJiZ0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09RmUuTUFURVJJQUxfT1BBUVVFfSxlLnByb3RvdHlwZS5faGFzQWxwaGFDaGFubmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlIT1udWxsJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx9LGUucHJvdG90eXBlLmdldEFscGhhVGVzdFRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmV9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtpZihuPT09dm9pZCAwJiYobj0hMSksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0fHx0aGlzLmJ1aWxkVW5pZm9ybUxheW91dCgpLHIuZWZmZWN0JiZ0aGlzLmlzRnJvemVuJiZyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5KXJldHVybiEwO3IubWF0ZXJpYWxEZWZpbmVzfHwodGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuR2V0RGVmaW5lTmFtZXMsdGhpcy5fZXZlbnRJbmZvKSxyLm1hdGVyaWFsRGVmaW5lcz1uZXcgb2YodGhpcy5fZXZlbnRJbmZvLmRlZmluZU5hbWVzKSk7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLHM9ci5tYXRlcmlhbERlZmluZXM7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2gocikpcmV0dXJuITA7dmFyIG89YS5nZXRFbmdpbmUoKTtzLl9uZWVkTm9ybWFscz1ZLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKGEsdCxzLCEwLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyx0aGlzLl9kaXNhYmxlTGlnaHRpbmcpLFkuUHJlcGFyZURlZmluZXNGb3JNdWx0aXZpZXcoYSxzKTt2YXIgdT10aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KSYmdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3k7aWYoWS5QcmVwYXJlRGVmaW5lc0ZvclByZVBhc3MoYSxzLHRoaXMuY2FuUmVuZGVyVG9NUlQmJiF1KSxZLlByZXBhcmVEZWZpbmVzRm9yT0lUKGEscyx1KSxzLl9hcmVUZXh0dXJlc0RpcnR5KXt0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMscy5fbmVlZFVWcz0hMTtmb3IodmFyIGY9MTtmPD02OysrZilzWyJNQUlOVVYiK2ZdPSExO2lmKGEudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fZGlmZnVzZVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZGlmZnVzZVRleHR1cmUscywiRElGRlVTRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSBzLkRJRkZVU0U9ITE7aWYodGhpcy5fYW1iaWVudFRleHR1cmUmJmUuQW1iaWVudFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2FtYmllbnRUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2FtYmllbnRUZXh0dXJlLHMsIkFNQklFTlQiKTtlbHNlIHJldHVybiExO2Vsc2Ugcy5BTUJJRU5UPSExO2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9vcGFjaXR5VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKVkuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9vcGFjaXR5VGV4dHVyZSxzLCJPUEFDSVRZIikscy5PUEFDSVRZUkdCPXRoaXMuX29wYWNpdHlUZXh0dXJlLmdldEFscGhhRnJvbVJHQjtlbHNlIHJldHVybiExO2Vsc2Ugcy5PUEFDSVRZPSExO2lmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZClpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXtzd2l0Y2gocy5fbmVlZE5vcm1hbHM9ITAscy5SRUZMRUNUSU9OPSEwLHMuUk9VR0hORVNTPXRoaXMuX3JvdWdobmVzcz4wLHMuUkVGTEVDVElPTk9WRVJBTFBIQT10aGlzLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhLHMuSU5WRVJUQ1VCSUNNQVA9dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlPT09dGUuSU5WQ1VCSUNfTU9ERSxzLlJFRkxFQ1RJT05NQVBfM0Q9dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNDdWJlLHMuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9cy5SRUZMRUNUSU9OTUFQXzNEJiZ0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/IXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFo6dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaW52ZXJ0WixzLlJHQkRSRUZMRUNUSU9OPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUkdCRCx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGUpe2Nhc2UgdGUuRVhQTElDSVRfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIik7YnJlYWs7Y2FzZSB0ZS5QTEFOQVJfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIpO2JyZWFrO2Nhc2UgdGUuUFJPSkVDVElPTl9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIpO2JyZWFrO2Nhc2UgdGUuU0tZQk9YX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TS1lCT1giKTticmVhaztjYXNlIHRlLlNQSEVSSUNBTF9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMIik7YnJlYWs7Y2FzZSB0ZS5FUVVJUkVDVEFOR1VMQVJfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIpO2JyZWFrO2Nhc2UgdGUuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIHRlLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIHRlLkNVQklDX01PREU6Y2FzZSB0ZS5JTlZDVUJJQ19NT0RFOmRlZmF1bHQ6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9DVUJJQyIpO2JyZWFrfXMuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemV9ZWxzZSByZXR1cm4hMTtlbHNlIHMuUkVGTEVDVElPTj0hMSxzLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExO2lmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKVkuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9lbWlzc2l2ZVRleHR1cmUscywiRU1JU1NJVkUiKTtlbHNlIHJldHVybiExO2Vsc2Ugcy5FTUlTU0lWRT0hMTtpZih0aGlzLl9saWdodG1hcFRleHR1cmUmJmUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9saWdodG1hcFRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLHMsIkxJR0hUTUFQIikscy5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPXRoaXMuX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXAscy5SR0JETElHSFRNQVA9dGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUkdCRDtlbHNlIHJldHVybiExO2Vsc2Ugcy5MSUdIVE1BUD0hMTtpZih0aGlzLl9zcGVjdWxhclRleHR1cmUmJmUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9zcGVjdWxhclRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLHMsIlNQRUNVTEFSIikscy5HTE9TU0lORVNTPXRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYTtlbHNlIHJldHVybiExO2Vsc2Ugcy5TUEVDVUxBUj0hMTtpZihhLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl9idW1wVGV4dHVyZSYmZS5CdW1wVGV4dHVyZUVuYWJsZWQpe2lmKHRoaXMuX2J1bXBUZXh0dXJlLmlzUmVhZHkoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fYnVtcFRleHR1cmUscywiQlVNUCIpLHMuUEFSQUxMQVg9dGhpcy5fdXNlUGFyYWxsYXgscy5QQVJBTExBWE9DQ0xVU0lPTj10aGlzLl91c2VQYXJhbGxheE9jY2x1c2lvbjtlbHNlIHJldHVybiExO3MuT0JKRUNUU1BBQ0VfTk9STUFMTUFQPXRoaXMuX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwfWVsc2Ugcy5CVU1QPSExO2lmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZClpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXMuX25lZWRVVnM9ITAscy5SRUZSQUNUSU9OPSEwLHMuUkVGUkFDVElPTk1BUF8zRD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmUscy5SR0JEUkVGUkFDVElPTj10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JHQkQscy5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hIXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZTtlbHNlIHJldHVybiExO2Vsc2Ugcy5SRUZSQUNUSU9OPSExO3MuVFdPU0lERURMSUdIVElORz0hdGhpcy5fYmFja0ZhY2VDdWxsaW5nJiZ0aGlzLl90d29TaWRlZExpZ2h0aW5nfWVsc2Ugcy5ESUZGVVNFPSExLHMuQU1CSUVOVD0hMSxzLk9QQUNJVFk9ITEscy5SRUZMRUNUSU9OPSExLHMuRU1JU1NJVkU9ITEscy5MSUdIVE1BUD0hMSxzLkJVTVA9ITEscy5SRUZSQUNUSU9OPSExO3MuQUxQSEFGUk9NRElGRlVTRT10aGlzLl9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpLHMuRU1JU1NJVkVBU0lMTFVNSU5BVElPTj10aGlzLl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uLHMuTElOS0VNSVNTSVZFV0lUSERJRkZVU0U9dGhpcy5fbGlua0VtaXNzaXZlV2l0aERpZmZ1c2Uscy5TUEVDVUxBUk9WRVJBTFBIQT10aGlzLl91c2VTcGVjdWxhck92ZXJBbHBoYSxzLlBSRU1VTFRJUExZQUxQSEE9dGhpcy5hbHBoYU1vZGU9PT03fHx0aGlzLmFscGhhTW9kZT09PTgscy5BTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUz10aGlzLnRyYW5zcGFyZW5jeU1vZGUhPT1udWxsLHMuQUxQSEFCTEVORD10aGlzLnRyYW5zcGFyZW5jeU1vZGU9PT1udWxsfHx0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KX1pZih0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSwhdGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoKXJldHVybiExO2lmKHMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5JiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKXtpZighdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5pc1JlYWR5KCkpcmV0dXJuITE7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5wcmVwYXJlRGVmaW5lcyhzKSxzLklTX1JFRkxFQ1RJT05fTElORUFSPXRoaXMucmVmbGVjdGlvblRleHR1cmUhPW51bGwmJiF0aGlzLnJlZmxlY3Rpb25UZXh0dXJlLmdhbW1hU3BhY2Uscy5JU19SRUZSQUNUSU9OX0xJTkVBUj10aGlzLnJlZnJhY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZyYWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlfWlmKHMuX2FyZUZyZXNuZWxEaXJ0eSYmKGUuRnJlc25lbEVuYWJsZWQ/KHRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycykmJihzLkRJRkZVU0VGUkVTTkVMPXRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLk9QQUNJVFlGUkVTTkVMPXRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLlJFRkxFQ1RJT05GUkVTTkVMPXRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLlJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSPXRoaXMuX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyLHMuUkVGUkFDVElPTkZSRVNORUw9dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHMuRU1JU1NJVkVGUkVTTkVMPXRoaXMuX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHMuX25lZWROb3JtYWxzPSEwLHMuRlJFU05FTD0hMCk6cy5GUkVTTkVMPSExKSxZLlByZXBhcmVEZWZpbmVzRm9yTWlzYyh0LGEsdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aCx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24odCl8fHRoaXMuX2ZvcmNlQWxwaGFUZXN0LHMpLFkuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKHQscywhMCwhMCwhMCksWS5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMoYSxvLHMsbixudWxsLHIuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fZXZlbnRJbmZvLm1lc2g9dCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXModGhpcy5fZXZlbnRJbmZvKSxzLmlzRGlydHkpe3ZhciBsPXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkO3MubWFya0FzUHJvY2Vzc2VkKCk7dmFyIGg9bmV3IGhpO3MuUkVGTEVDVElPTiYmaC5hZGRGYWxsYmFjaygwLCJSRUZMRUNUSU9OIikscy5TUEVDVUxBUiYmaC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUiIpLHMuQlVNUCYmaC5hZGRGYWxsYmFjaygwLCJCVU1QIikscy5QQVJBTExBWCYmaC5hZGRGYWxsYmFjaygxLCJQQVJBTExBWCIpLHMuUEFSQUxMQVhPQ0NMVVNJT04mJmguYWRkRmFsbGJhY2soMCwiUEFSQUxMQVhPQ0NMVVNJT04iKSxzLlNQRUNVTEFST1ZFUkFMUEhBJiZoLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFST1ZFUkFMUEhBIikscy5GT0cmJmguYWRkRmFsbGJhY2soMSwiRk9HIikscy5QT0lOVFNJWkUmJmguYWRkRmFsbGJhY2soMCwiUE9JTlRTSVpFIikscy5MT0dBUklUSE1JQ0RFUFRIJiZoLmFkZEZhbGxiYWNrKDAsIkxPR0FSSVRITUlDREVQVEgiKSxZLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocyxoLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cykscy5TUEVDVUxBUlRFUk0mJmguYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJURVJNIikscy5ESUZGVVNFRlJFU05FTCYmaC5hZGRGYWxsYmFjaygxLCJESUZGVVNFRlJFU05FTCIpLHMuT1BBQ0lUWUZSRVNORUwmJmguYWRkRmFsbGJhY2soMiwiT1BBQ0lUWUZSRVNORUwiKSxzLlJFRkxFQ1RJT05GUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDMsIlJFRkxFQ1RJT05GUkVTTkVMIikscy5FTUlTU0lWRUZSRVNORUwmJmguYWRkRmFsbGJhY2soNCwiRU1JU1NJVkVGUkVTTkVMIikscy5GUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDQsIkZSRVNORUwiKSxzLk1VTFRJVklFVyYmaC5hZGRGYWxsYmFjaygwLCJNVUxUSVZJRVciKTt2YXIgYz1bbS5Qb3NpdGlvbktpbmRdO3MuTk9STUFMJiZjLnB1c2gobS5Ob3JtYWxLaW5kKSxzLlRBTkdFTlQmJmMucHVzaChtLlRhbmdlbnRLaW5kKTtmb3IodmFyIGY9MTtmPD02OysrZilzWyJVViIrZl0mJmMucHVzaCgidXYiLmNvbmNhdChmPT09MT8iIjpmKSk7cy5WRVJURVhDT0xPUiYmYy5wdXNoKG0uQ29sb3JLaW5kKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMoYyx0LHMsaCksWS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhjLHMpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoYyx0LHMpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihjLHQscyk7dmFyIGQ9ImRlZmF1bHQiLHA9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkFtYmllbnRDb2xvciIsInZEaWZmdXNlQ29sb3IiLCJ2U3BlY3VsYXJDb2xvciIsInZFbWlzc2l2ZUNvbG9yIiwidmlzaWJpbGl0eSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsInZEaWZmdXNlSW5mb3MiLCJ2QW1iaWVudEluZm9zIiwidk9wYWNpdHlJbmZvcyIsInZSZWZsZWN0aW9uSW5mb3MiLCJ2RW1pc3NpdmVJbmZvcyIsInZTcGVjdWxhckluZm9zIiwidkJ1bXBJbmZvcyIsInZMaWdodG1hcEluZm9zIiwidlJlZnJhY3Rpb25JbmZvcyIsIm1Cb25lcyIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2IiwiZGlmZnVzZU1hdHJpeCIsImFtYmllbnRNYXRyaXgiLCJvcGFjaXR5TWF0cml4IiwicmVmbGVjdGlvbk1hdHJpeCIsImVtaXNzaXZlTWF0cml4Iiwic3BlY3VsYXJNYXRyaXgiLCJidW1wTWF0cml4Iiwibm9ybWFsTWF0cml4IiwibGlnaHRtYXBNYXRyaXgiLCJyZWZyYWN0aW9uTWF0cml4IiwiZGlmZnVzZUxlZnRDb2xvciIsImRpZmZ1c2VSaWdodENvbG9yIiwib3BhY2l0eVBhcnRzIiwicmVmbGVjdGlvbkxlZnRDb2xvciIsInJlZmxlY3Rpb25SaWdodENvbG9yIiwiZW1pc3NpdmVMZWZ0Q29sb3IiLCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLCJyZWZyYWN0aW9uTGVmdENvbG9yIiwicmVmcmFjdGlvblJpZ2h0Q29sb3IiLCJ2UmVmbGVjdGlvblBvc2l0aW9uIiwidlJlZmxlY3Rpb25TaXplIiwidlJlZnJhY3Rpb25Qb3NpdGlvbiIsInZSZWZyYWN0aW9uU2l6ZSIsImxvZ2FyaXRobWljRGVwdGhDb25zdGFudCIsInZUYW5nZW50U3BhY2VQYXJhbXMiLCJhbHBoYUN1dE9mZiIsImJvbmVUZXh0dXJlV2lkdGgiLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLGc9WyJkaWZmdXNlU2FtcGxlciIsImFtYmllbnRTYW1wbGVyIiwib3BhY2l0eVNhbXBsZXIiLCJyZWZsZWN0aW9uQ3ViZVNhbXBsZXIiLCJyZWZsZWN0aW9uMkRTYW1wbGVyIiwiZW1pc3NpdmVTYW1wbGVyIiwic3BlY3VsYXJTYW1wbGVyIiwiYnVtcFNhbXBsZXIiLCJsaWdodG1hcFNhbXBsZXIiLCJyZWZyYWN0aW9uQ3ViZVNhbXBsZXIiLCJyZWZyYWN0aW9uMkRTYW1wbGVyIiwiYm9uZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiLCJvaXREZXB0aFNhbXBsZXIiLCJvaXRGcm9udENvbG9yU2FtcGxlciJdLF89WyJNYXRlcmlhbCIsIlNjZW5lIiwiTWVzaCJdO3RoaXMuX2V2ZW50SW5mby5mYWxsYmFja3M9aCx0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tSYW5rPTAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9ldmVudEluZm8udW5pZm9ybXM9cCx0aGlzLl9ldmVudEluZm8uc2FtcGxlcnM9Zyx0aGlzLl9ldmVudEluZm8udW5pZm9ybUJ1ZmZlcnNOYW1lcz1fLHRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlPXZvaWQgMCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5QcmVwYXJlRWZmZWN0LHRoaXMuX2V2ZW50SW5mbyksY2kuQWRkVW5pZm9ybXMocCksY2kuQWRkU2FtcGxlcnMoZyksTnQmJihOdC5QcmVwYXJlVW5pZm9ybXMocCxzKSxOdC5QcmVwYXJlU2FtcGxlcnMoZyxzKSksWS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6cCx1bmlmb3JtQnVmZmVyc05hbWVzOl8sc2FtcGxlcnM6ZyxkZWZpbmVzOnMsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0c30pO3ZhciB2PXt9O3RoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUmJihkPXRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUoZCxwLF8sZyxzLGMsdikpO3ZhciB5PXMudG9TdHJpbmcoKSxFPXIuZWZmZWN0LFI9YS5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QoZCx7YXR0cmlidXRlczpjLHVuaWZvcm1zTmFtZXM6cCx1bmlmb3JtQnVmZmVyc05hbWVzOl8sc2FtcGxlcnM6ZyxkZWZpbmVzOnksZmFsbGJhY2tzOmgsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6dGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzLG1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSU30scHJvY2Vzc0ZpbmFsQ29kZTp2LnByb2Nlc3NGaW5hbENvZGUscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlLG11bHRpVGFyZ2V0OnMuUFJFUEFTU30sbyk7aWYoUilpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYoZGkuZWZmZWN0PVIsZGkuc3ViTWVzaD1yLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGRpKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZFJiYhUi5pc1JlYWR5KCkpe2lmKFI9RSxzLm1hcmtBc1VucHJvY2Vzc2VkKCksbClyZXR1cm4gcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITAsITF9ZWxzZSBhLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxyLnNldEVmZmVjdChSLHMsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hci5lZmZlY3R8fCFyLmVmZmVjdC5pc1JlYWR5KCk/ITE6KHMuX3JlbmRlcklkPWEuZ2V0UmVuZGVySWQoKSxyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLCEwKX0sZS5wcm90b3R5cGUuYnVpbGRVbmlmb3JtTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0LmFkZFVuaWZvcm0oImRpZmZ1c2VMZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgiZGlmZnVzZVJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgib3BhY2l0eVBhcnRzIiw0KSx0LmFkZFVuaWZvcm0oInJlZmxlY3Rpb25MZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgicmVmcmFjdGlvbkxlZnRDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJlbWlzc2l2ZUxlZnRDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgidkRpZmZ1c2VJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2QW1iaWVudEluZm9zIiwyKSx0LmFkZFVuaWZvcm0oInZPcGFjaXR5SW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25JbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblBvc2l0aW9uIiwzKSx0LmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uU2l6ZSIsMyksdC5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2TGlnaHRtYXBJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2QnVtcEluZm9zIiwzKSx0LmFkZFVuaWZvcm0oImRpZmZ1c2VNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oImFtYmllbnRNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oIm9wYWNpdHlNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInJlZmxlY3Rpb25NYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oImVtaXNzaXZlTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJsaWdodG1hcE1hdHJpeCIsMTYpLHQuYWRkVW5pZm9ybSgic3BlY3VsYXJNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oImJ1bXBNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInZUYW5nZW50U3BhY2VQYXJhbXMiLDIpLHQuYWRkVW5pZm9ybSgicG9pbnRTaXplIiwxKSx0LmFkZFVuaWZvcm0oImFscGhhQ3V0T2ZmIiwxKSx0LmFkZFVuaWZvcm0oInJlZnJhY3Rpb25NYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uSW5mb3MiLDQpLHQuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25Qb3NpdGlvbiIsMyksdC5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblNpemUiLDMpLHQuYWRkVW5pZm9ybSgidlNwZWN1bGFyQ29sb3IiLDQpLHQuYWRkVW5pZm9ybSgidkVtaXNzaXZlQ29sb3IiLDMpLHQuYWRkVW5pZm9ybSgidkRpZmZ1c2VDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJ2QW1iaWVudENvbG9yIiwzKSxpLnByb3RvdHlwZS5idWlsZFVuaWZvcm1MYXlvdXQuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHM9dGhpcy5nZXRTY2VuZSgpLG89bi5tYXRlcmlhbERlZmluZXM7aWYobyl7dmFyIHU9bi5lZmZlY3Q7aWYodSl7dGhpcy5fYWN0aXZlRWZmZWN0PXUsci5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdCh1LCJNZXNoIiksci50cmFuc2ZlclRvRWZmZWN0KHQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFRvRWZmZWN0KHUsIk1hdGVyaWFsIiksdGhpcy5wcmVQYXNzQ29uZmlndXJhdGlvbi5iaW5kRm9yU3ViTWVzaCh0aGlzLl9hY3RpdmVFZmZlY3QscyxyLHQsdGhpcy5pc0Zyb3plbiksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9bix0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksby5PQkpFQ1RTUEFDRV9OT1JNQUxNQVAmJih0LnRvTm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCksdGhpcy5iaW5kT25seU5vcm1hbE1hdHJpeCh0aGlzLl9ub3JtYWxNYXRyaXgpKTt2YXIgZj10aGlzLl9tdXN0UmViaW5kKHMsdSxyLnZpc2liaWxpdHkpO1kuQmluZEJvbmVzUGFyYW1ldGVycyhyLHUpO3ZhciBsPXRoaXMuX3VuaWZvcm1CdWZmZXI7aWYoZil7aWYodGhpcy5iaW5kVmlld1Byb2plY3Rpb24odSksIWwudXNlVWJvfHwhdGhpcy5pc0Zyb3plbnx8IWwuaXNTeW5jKXtpZihlLkZyZXNuZWxFbmFibGVkJiZvLkZSRVNORUwmJih0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYobC51cGRhdGVDb2xvcjQoImRpZmZ1c2VMZWZ0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksbC51cGRhdGVDb2xvcjQoImRpZmZ1c2VSaWdodENvbG9yIix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiZsLnVwZGF0ZUNvbG9yNCgib3BhY2l0eVBhcnRzIixuZXcgYmUodGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvci50b0x1bWluYW5jZSgpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSx0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYobC51cGRhdGVDb2xvcjQoInJlZmxlY3Rpb25MZWZ0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5wb3dlciksbC51cGRhdGVDb2xvcjQoInJlZmxlY3Rpb25SaWdodENvbG9yIix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSx0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYobC51cGRhdGVDb2xvcjQoInJlZnJhY3Rpb25MZWZ0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5wb3dlciksbC51cGRhdGVDb2xvcjQoInJlZnJhY3Rpb25SaWdodENvbG9yIix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSx0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgiZW1pc3NpdmVMZWZ0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgiZW1pc3NpdmVSaWdodENvbG9yIix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpKSxzLnRleHR1cmVzRW5hYmxlZCl7aWYodGhpcy5fZGlmZnVzZVRleHR1cmUmJmUuRGlmZnVzZVRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZEaWZmdXNlSW5mb3MiLHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fZGlmZnVzZVRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZGlmZnVzZVRleHR1cmUsbCwiZGlmZnVzZSIpKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidkFtYmllbnRJbmZvcyIsdGhpcy5fYW1iaWVudFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9hbWJpZW50VGV4dHVyZS5sZXZlbCksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9hbWJpZW50VGV4dHVyZSxsLCJhbWJpZW50IikpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2T3BhY2l0eUluZm9zIix0aGlzLl9vcGFjaXR5VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX29wYWNpdHlUZXh0dXJlLmxldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX29wYWNpdHlUZXh0dXJlLGwsIm9wYWNpdHkiKSksdGhpcy5faGFzQWxwaGFDaGFubmVsKCkmJmwudXBkYXRlRmxvYXQoImFscGhhQ3V0T2ZmIix0aGlzLmFscGhhQ3V0T2ZmKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidlJlZmxlY3Rpb25JbmZvcyIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUubGV2ZWwsdGhpcy5yb3VnaG5lc3MpLGwudXBkYXRlTWF0cml4KCJyZWZsZWN0aW9uTWF0cml4Iix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpKXt2YXIgaD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZTtsLnVwZGF0ZVZlY3RvcjMoInZSZWZsZWN0aW9uUG9zaXRpb24iLGguYm91bmRpbmdCb3hQb3NpdGlvbiksbC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblNpemUiLGguYm91bmRpbmdCb3hTaXplKX1pZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2RW1pc3NpdmVJbmZvcyIsdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmxldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2VtaXNzaXZlVGV4dHVyZSxsLCJlbWlzc2l2ZSIpKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJmUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2TGlnaHRtYXBJbmZvcyIsdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmxldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxsLCJsaWdodG1hcCIpKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJmUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2U3BlY3VsYXJJbmZvcyIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmxldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3NwZWN1bGFyVGV4dHVyZSxsLCJzcGVjdWxhciIpKSx0aGlzLl9idW1wVGV4dHVyZSYmcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmZS5CdW1wVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MygidkJ1bXBJbmZvcyIsdGhpcy5fYnVtcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCwxL3RoaXMuX2J1bXBUZXh0dXJlLmxldmVsLHRoaXMucGFyYWxsYXhTY2FsZUJpYXMpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYnVtcFRleHR1cmUsbCwiYnVtcCIpLHMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/bC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/MTotMSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPzE6LTEpOmwudXBkYXRlRmxvYXQyKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIix0aGlzLl9pbnZlcnROb3JtYWxNYXBYPy0xOjEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT8tMToxKSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJmUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKXt2YXIgYz0xO2lmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZXx8KGwudXBkYXRlTWF0cml4KCJyZWZyYWN0aW9uTWF0cml4Iix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCYmKGM9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZGVwdGgpKSxsLnVwZGF0ZUZsb2F0NCgidlJlZnJhY3Rpb25JbmZvcyIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUubGV2ZWwsdGhpcy5pbmRleE9mUmVmcmFjdGlvbixjLHRoaXMuaW52ZXJ0UmVmcmFjdGlvblk/LTE6MSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplKXt2YXIgaD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZTtsLnVwZGF0ZVZlY3RvcjMoInZSZWZyYWN0aW9uUG9zaXRpb24iLGguYm91bmRpbmdCb3hQb3NpdGlvbiksbC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblNpemUiLGguYm91bmRpbmdCb3hTaXplKX19fXRoaXMucG9pbnRzQ2xvdWQmJmwudXBkYXRlRmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLG8uU1BFQ1VMQVJURVJNJiZsLnVwZGF0ZUNvbG9yNCgidlNwZWN1bGFyQ29sb3IiLHRoaXMuc3BlY3VsYXJDb2xvcix0aGlzLnNwZWN1bGFyUG93ZXIpLGwudXBkYXRlQ29sb3IzKCJ2RW1pc3NpdmVDb2xvciIsZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkP3RoaXMuZW1pc3NpdmVDb2xvcjpiZS5CbGFja1JlYWRPbmx5KSxsLnVwZGF0ZUNvbG9yNCgidkRpZmZ1c2VDb2xvciIsdGhpcy5kaWZmdXNlQ29sb3IsdGhpcy5hbHBoYSkscy5hbWJpZW50Q29sb3IubXVsdGlwbHlUb1JlZih0aGlzLmFtYmllbnRDb2xvcix0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3IpLGwudXBkYXRlQ29sb3IzKCJ2QW1iaWVudENvbG9yIix0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3IpfXMudGV4dHVyZXNFbmFibGVkJiYodGhpcy5fZGlmZnVzZVRleHR1cmUmJmUuRGlmZnVzZVRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIix0aGlzLl9kaWZmdXNlVGV4dHVyZSksdGhpcy5fYW1iaWVudFRleHR1cmUmJmUuQW1iaWVudFRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImFtYmllbnRTYW1wbGVyIix0aGlzLl9hbWJpZW50VGV4dHVyZSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJmUuT3BhY2l0eVRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoIm9wYWNpdHlTYW1wbGVyIix0aGlzLl9vcGFjaXR5VGV4dHVyZSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJmUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNDdWJlP3Uuc2V0VGV4dHVyZSgicmVmbGVjdGlvbkN1YmVTYW1wbGVyIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk6dS5zZXRUZXh0dXJlKCJyZWZsZWN0aW9uMkRTYW1wbGVyIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSkpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImVtaXNzaXZlU2FtcGxlciIsdGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJmUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJsaWdodG1hcFNhbXBsZXIiLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgic3BlY3VsYXJTYW1wbGVyIix0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZlLkJ1bXBUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJidW1wU2FtcGxlciIsdGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZT91LnNldFRleHR1cmUoInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpOnUuc2V0VGV4dHVyZSgicmVmcmFjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpKSksdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kmJnRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHIpJiZ0aGlzLmdldFNjZW5lKCkuZGVwdGhQZWVsaW5nUmVuZGVyZXIuYmluZCh1KSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1uLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLFkuQmluZENsaXBQbGFuZSh1LHMpLHRoaXMuYmluZEV5ZVBvc2l0aW9uKHUpfWVsc2Ugcy5nZXRFbmdpbmUoKS5fZmVhdHVyZXMubmVlZFRvQWx3YXlzQmluZFVuaWZvcm1CdWZmZXJzJiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwKTsoZnx8IXRoaXMuaXNGcm96ZW4pJiYocy5saWdodHNFbmFibGVkJiYhdGhpcy5fZGlzYWJsZUxpZ2h0aW5nJiZZLkJpbmRMaWdodHMocyxyLHUsbyx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLChzLmZvZ0VuYWJsZWQmJnIuYXBwbHlGb2cmJnMuZm9nTW9kZSE9PWVlLkZPR01PREVfTk9ORXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlfHxyLnJlY2VpdmVTaGFkb3dzfHxvLlBSRVBBU1MpJiZ0aGlzLmJpbmRWaWV3KHUpLFkuQmluZEZvZ1BhcmFtZXRlcnMocyxyLHUpLG8uTlVNX01PUlBIX0lORkxVRU5DRVJTJiZZLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMocix1KSxvLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmKChhPXIuYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyKT09PW51bGx8fGE9PT12b2lkIDB8fGEuYmluZCh1LG8uSU5TVEFOQ0VTKSksdGhpcy51c2VMb2dhcml0aG1pY0RlcHRoJiZZLkJpbmRMb2dEZXB0aChvLHUscyksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmJpbmQodGhpcy5fYWN0aXZlRWZmZWN0KSksdGhpcy5fYWZ0ZXJCaW5kKHIsdGhpcy5fYWN0aXZlRWZmZWN0KSxsLnVwZGF0ZSgpfX19LGUucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKCl7dmFyIHQ9aS5wcm90b3R5cGUuZ2V0QW5pbWF0YWJsZXMuY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9kaWZmdXNlVGV4dHVyZSksdGhpcy5fYW1iaWVudFRleHR1cmUmJnRoaXMuX2FtYmllbnRUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2FtYmllbnRUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9hbWJpZW50VGV4dHVyZSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJnRoaXMuX29wYWNpdHlUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX29wYWNpdHlUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9vcGFjaXR5VGV4dHVyZSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSksdGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3NwZWN1bGFyVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmdGhpcy5fYnVtcFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYnVtcFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9saWdodG1hcFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSksdH0sZS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXM9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcy5jYWxsKHRoaXMpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdC5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdC5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdC5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnQucHVzaCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmdC5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnQucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZ0LnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdC5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0fSxlLnByb3RvdHlwZS5oYXNUZXh0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiEhKGkucHJvdG90eXBlLmhhc1RleHR1cmUuY2FsbCh0aGlzLHQpfHx0aGlzLl9kaWZmdXNlVGV4dHVyZT09PXR8fHRoaXMuX2FtYmllbnRUZXh0dXJlPT09dHx8dGhpcy5fb3BhY2l0eVRleHR1cmU9PT10fHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZT09PXR8fHRoaXMuX2VtaXNzaXZlVGV4dHVyZT09PXR8fHRoaXMuX3NwZWN1bGFyVGV4dHVyZT09PXR8fHRoaXMuX2J1bXBUZXh0dXJlPT09dHx8dGhpcy5fbGlnaHRtYXBUZXh0dXJlPT09dHx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmU9PT10KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe3ZhciBuLGEscyxvLHUsZixsLGgsYztyJiYoKG49dGhpcy5fZGlmZnVzZVRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNwb3NlKCksKGE9dGhpcy5fYW1iaWVudFRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5kaXNwb3NlKCksKHM9dGhpcy5fb3BhY2l0eVRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5kaXNwb3NlKCksKG89dGhpcy5fcmVmbGVjdGlvblRleHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMHx8by5kaXNwb3NlKCksKHU9dGhpcy5fZW1pc3NpdmVUZXh0dXJlKT09PW51bGx8fHU9PT12b2lkIDB8fHUuZGlzcG9zZSgpLChmPXRoaXMuX3NwZWN1bGFyVGV4dHVyZSk9PT1udWxsfHxmPT09dm9pZCAwfHxmLmRpc3Bvc2UoKSwobD10aGlzLl9idW1wVGV4dHVyZSk9PT1udWxsfHxsPT09dm9pZCAwfHxsLmRpc3Bvc2UoKSwoaD10aGlzLl9saWdodG1hcFRleHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMHx8aC5kaXNwb3NlKCksKGM9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUpPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5kaXNwb3NlKCkpLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj1KLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQsci5nZXRTY2VuZSgpKX0sdGhpcyk7cmV0dXJuIG4ubmFtZT10LG4uaWQ9dCx0aGlzLnN0ZW5jaWwuY29weVRvKG4uc3RlbmNpbCksbn0sZS5QYXJzZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9Si5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Lm5hbWUscil9LHQscixuKTtyZXR1cm4gdC5zdGVuY2lsJiZhLnN0ZW5jaWwucGFyc2UodC5zdGVuY2lsLHIsbiksYX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGV0YWlsVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuRGV0YWlsVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5EZXRhaWxUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBbWJpZW50VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuQW1iaWVudFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7ZGUuQW1iaWVudFRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk9wYWNpdHlUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVmbGVjdGlvblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJFbWlzc2l2ZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQnVtcFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLkJ1bXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkJ1bXBUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaWdodG1hcFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5MaWdodG1hcFRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGUuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtkZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGcmVzbmVsRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZS5GcmVzbmVsRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2RlLkZyZXNuZWxFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksVChbSGUoImRpZmZ1c2VUZXh0dXJlIildLGUucHJvdG90eXBlLCJfZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxlLnByb3RvdHlwZSwiZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbSGUoImFtYmllbnRUZXh0dXJlIildLGUucHJvdG90eXBlLCJfYW1iaWVudFRleHR1cmUiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJhbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgib3BhY2l0eVRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9vcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLGUucHJvdG90eXBlLCJvcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgicmVmbGVjdGlvblRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9yZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInJlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW0hlKCJlbWlzc2l2ZVRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9lbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJlbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksVChbSGUoInNwZWN1bGFyVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX3NwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInNwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgiYnVtcFRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9idW1wVGV4dHVyZSIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImJ1bXBUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJsaWdodG1hcFRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9saWdodG1hcFRleHR1cmUiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJsaWdodG1hcFRleHR1cmUiLHZvaWQgMCksVChbSGUoInJlZnJhY3Rpb25UZXh0dXJlIildLGUucHJvdG90eXBlLCJfcmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJyZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtPdCgiYW1iaWVudCIpXSxlLnByb3RvdHlwZSwiYW1iaWVudENvbG9yIix2b2lkIDApLFQoW090KCJkaWZmdXNlIildLGUucHJvdG90eXBlLCJkaWZmdXNlQ29sb3IiLHZvaWQgMCksVChbT3QoInNwZWN1bGFyIildLGUucHJvdG90eXBlLCJzcGVjdWxhckNvbG9yIix2b2lkIDApLFQoW090KCJlbWlzc2l2ZSIpXSxlLnByb3RvdHlwZSwiZW1pc3NpdmVDb2xvciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJzcGVjdWxhclBvd2VyIix2b2lkIDApLFQoW1AoInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIildLGUucHJvdG90eXBlLCJfdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbUCgidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIpXSxlLnByb3RvdHlwZSwiX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFQoW1AoImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIildLGUucHJvdG90eXBlLCJfbGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFtQKCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIpXSxlLnByb3RvdHlwZSwiX3VzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbUCgidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIpXSxlLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFQoW1AoImRpc2FibGVMaWdodGluZyIpXSxlLnByb3RvdHlwZSwiX2Rpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLGUucHJvdG90eXBlLCJkaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksVChbUCgidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiKV0sZS5wcm90b3R5cGUsIl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW1AoInVzZVBhcmFsbGF4IildLGUucHJvdG90eXBlLCJfdXNlUGFyYWxsYXgiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VQYXJhbGxheCIsdm9pZCAwKSxUKFtQKCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIpXSxlLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicGFyYWxsYXhTY2FsZUJpYXMiLHZvaWQgMCksVChbUCgicm91Z2huZXNzIildLGUucHJvdG90eXBlLCJfcm91Z2huZXNzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwicm91Z2huZXNzIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImluZGV4T2ZSZWZyYWN0aW9uIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImludmVydFJlZnJhY3Rpb25ZIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImFscGhhQ3V0T2ZmIix2b2lkIDApLFQoW1AoInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiKV0sZS5wcm90b3R5cGUsIl91c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxUKFt0cigiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbdHIoIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIpXSxlLnByb3RvdHlwZSwiX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxBbmRNaXNjRGlydHkiKV0sZS5wcm90b3R5cGUsIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFt0cigicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbdHIoInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxlLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxlLnByb3RvdHlwZSwicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3RyKCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxlLnByb3RvdHlwZSwiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtQKCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIpXSxlLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxUKFtQKCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiKV0sZS5wcm90b3R5cGUsIl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksVChbUCgibWF4U2ltdWx0YW5lb3VzTGlnaHRzIildLGUucHJvdG90eXBlLCJfbWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sZS5wcm90b3R5cGUsIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxUKFtQKCJpbnZlcnROb3JtYWxNYXBYIildLGUucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFtuZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksVChbUCgiaW52ZXJ0Tm9ybWFsTWFwWSIpXSxlLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbbmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFQoW1AoInR3b1NpZGVkTGlnaHRpbmciKV0sZS5wcm90b3R5cGUsIl90d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW25lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ1c2VMb2dhcml0aG1pY0RlcHRoIixudWxsKSxlfSh2bik7d2UoIkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCIsYXIpLGVlLkRlZmF1bHRNYXRlcmlhbEZhY3Rvcnk9ZnVuY3Rpb24oaSl7cmV0dXJuIG5ldyBhcigiZGVmYXVsdCBtYXRlcmlhbCIsaSl9O3ZhciB1Zj0iaW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eSIsZmY9YCNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpnbF9GcmFnQ29sb3IucmdiPXBvdyhnbF9GcmFnQ29sb3IucmdiLHZlYzMoMi4yKSk7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdWZdPWZmO3ZhciBsZj0ic2hhZG93T25seVBpeGVsU2hhZGVyIixoZj1gcHJlY2lzaW9uIGhpZ2hwIGZsb2F0Owp1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwp1bmlmb3JtIGZsb2F0IGFscGhhOwp1bmlmb3JtIHZlYzMgc2hhZG93Q29sb3I7CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPGxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz12ZWMzKDEuMCwxLjAsMS4wKTsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwpmbG9hdCBzaGFkb3c9MS47CmZsb2F0IGdsb3NzaW5lc3M9MC47CiNpbmNsdWRlPGxpZ2h0RnJhZ21lbnQ+WzAuLjFdCnZlYzQgY29sb3I9dmVjNChzaGFkb3dDb2xvciwoMS4wLWNsYW1wKHNoYWRvdywwLiwxLikpKmFscGhhKTsKI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eT4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbbGZdPWhmO3ZhciBjZj0ic2hhZG93T25seVZlcnRleFNoYWRlciIsZGY9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBQT0lOVFNJWkUKdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7CiNlbmRpZgp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWZkZWYgVkVSVEVYQ09MT1IKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb24sMS4wKTsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CnZQb3NpdGlvblc9dmVjMyh3b3JsZFBvcyk7CiNpZmRlZiBOT1JNQUwKdk5vcm1hbFc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KG5vcm1hbCwwLjApKSk7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbY2ZdPWRmO3ZhciBwZj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5DTElQUExBTkU9ITEsdC5DTElQUExBTkUyPSExLHQuQ0xJUFBMQU5FMz0hMSx0LkNMSVBQTEFORTQ9ITEsdC5DTElQUExBTkU1PSExLHQuQ0xJUFBMQU5FNj0hMSx0LlBPSU5UU0laRT0hMSx0LkZPRz0hMSx0Lk5PUk1BTD0hMSx0Lk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdC5Cb25lc1Blck1lc2g9MCx0LklOU1RBTkNFUz0hMSx0LklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHQuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0LnJlYnVpbGQoKSx0fXJldHVybiBlfSh5ciksbW49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLl9uZWVkQWxwaGFCbGVuZGluZz0hMCxuLnNoYWRvd0NvbG9yPWJlLkJsYWNrKCksbn1yZXR1cm4gZS5wcm90b3R5cGUubmVlZEFscGhhQmxlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZEFscGhhQmxlbmRpbmd9LGUucHJvdG90eXBlLm5lZWRBbHBoYVRlc3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0QWxwaGFUZXN0VGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZUxpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUxpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYWN0aXZlTGlnaHQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2g9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTAsbj10LmxpZ2h0U291cmNlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZihhLnNoYWRvd0VuYWJsZWQpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtpZih0aGlzLmlzRnJvemVuJiZyLmVmZmVjdCYmci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSlyZXR1cm4hMDtyLm1hdGVyaWFsRGVmaW5lc3x8KHIubWF0ZXJpYWxEZWZpbmVzPW5ldyBwZik7dmFyIHM9ci5tYXRlcmlhbERlZmluZXMsbz10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2gocikpcmV0dXJuITA7dmFyIHU9by5nZXRFbmdpbmUoKTtpZih0aGlzLl9hY3RpdmVMaWdodClmb3IodmFyIGY9MCxsPXQubGlnaHRTb3VyY2VzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdO2lmKGguc2hhZG93RW5hYmxlZCl7aWYodGhpcy5fYWN0aXZlTGlnaHQ9PT1oKWJyZWFrO3ZhciBjPXQubGlnaHRTb3VyY2VzLmluZGV4T2YodGhpcy5fYWN0aXZlTGlnaHQpO2MhPT0tMSYmKHQubGlnaHRTb3VyY2VzLnNwbGljZShjLDEpLHQubGlnaHRTb3VyY2VzLnNwbGljZSgwLDAsdGhpcy5fYWN0aXZlTGlnaHQpKTticmVha319WS5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMobyx1LHMsISFuKSxZLlByZXBhcmVEZWZpbmVzRm9yTWlzYyh0LG8sITEsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKHQpLHMpLHMuX25lZWROb3JtYWxzPVkuUHJlcGFyZURlZmluZXNGb3JMaWdodHMobyx0LHMsITEsMSk7dmFyIGQ9KGE9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2godCkpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZih0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCxkJiZkLmdldENsYXNzTmFtZSYmZC5nZXRDbGFzc05hbWUoKT09PSJDYXNjYWRlZFNoYWRvd0dlbmVyYXRvciIpe3ZhciBwPWQ7dGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9IXAuYXV0b0NhbGNEZXB0aEJvdW5kc31pZihZLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyh0LHMsITEsITApLHMuaXNEaXJ0eSl7cy5tYXJrQXNQcm9jZXNzZWQoKSxvLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTt2YXIgZz1uZXcgaGk7cy5GT0cmJmcuYWRkRmFsbGJhY2soMSwiRk9HIiksWS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHMsZywxKSxzLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJmcuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLHQpLHMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9by5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmFwcGx5QnlQb3N0UHJvY2Vzczt2YXIgXz1bbS5Qb3NpdGlvbktpbmRdO3MuTk9STUFMJiZfLnB1c2gobS5Ob3JtYWxLaW5kKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMoXyx0LHMsZyksWS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhfLHMpO3ZhciB2PSJzaGFkb3dPbmx5Iix5PXMudG9TdHJpbmcoKSxFPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsImFscGhhIiwic2hhZG93Q29sb3IiLCJtQm9uZXMiLCJ2Q2xpcFBsYW5lIiwidkNsaXBQbGFuZTIiLCJ2Q2xpcFBsYW5lMyIsInZDbGlwUGxhbmU0IiwidkNsaXBQbGFuZTUiLCJ2Q2xpcFBsYW5lNiJdLFI9bmV3IEFycmF5LE09bmV3IEFycmF5O1kuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOkUsdW5pZm9ybUJ1ZmZlcnNOYW1lczpNLHNhbXBsZXJzOlIsZGVmaW5lczpzLG1heFNpbXVsdGFuZW91c0xpZ2h0czoxfSksci5zZXRFZmZlY3Qoby5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3Qodix7YXR0cmlidXRlczpfLHVuaWZvcm1zTmFtZXM6RSx1bmlmb3JtQnVmZmVyc05hbWVzOk0sc2FtcGxlcnM6UixkZWZpbmVzOnksZmFsbGJhY2tzOmcsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6MX19LHUpLHMsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hci5lZmZlY3R8fCFyLmVmZmVjdC5pc1JlYWR5KCk/ITE6KHMuX3JlbmRlcklkPW8uZ2V0UmVuZGVySWQoKSxyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLCEwKX0sZS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0U2NlbmUoKSxzPW4ubWF0ZXJpYWxEZWZpbmVzO2lmKHMpe3ZhciBvPW4uZWZmZWN0O2lmKG8pe2lmKHRoaXMuX2FjdGl2ZUVmZmVjdD1vLHRoaXMuYmluZE9ubHlXb3JsZE1hdHJpeCh0KSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsYS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksWS5CaW5kQm9uZXNQYXJhbWV0ZXJzKHIsdGhpcy5fYWN0aXZlRWZmZWN0KSx0aGlzLl9tdXN0UmViaW5kKGEsbykmJihZLkJpbmRDbGlwUGxhbmUodGhpcy5fYWN0aXZlRWZmZWN0LGEpLHRoaXMucG9pbnRzQ2xvdWQmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJhbHBoYSIsdGhpcy5hbHBoYSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldENvbG9yMygic2hhZG93Q29sb3IiLHRoaXMuc2hhZG93Q29sb3IpLGEuYmluZEV5ZVBvc2l0aW9uKG8pKSxhLmxpZ2h0c0VuYWJsZWQpe1kuQmluZExpZ2h0cyhhLHIsdGhpcy5fYWN0aXZlRWZmZWN0LHMsMSk7dmFyIHU9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2gocik7dSYmKHUuX3JlbmRlcklkPS0xKX0oYS5mb2dFbmFibGVkJiZyLmFwcGx5Rm9nJiZhLmZvZ01vZGUhPT1lZS5GT0dNT0RFX05PTkV8fHMuU0hBRE9XQ1NNMCkmJnRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoInZpZXciLGEuZ2V0Vmlld01hdHJpeCgpKSxZLkJpbmRGb2dQYXJhbWV0ZXJzKGEscix0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX2FmdGVyQmluZChyLHRoaXMuX2FjdGl2ZUVmZmVjdCl9fX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gSi5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LHIuZ2V0U2NlbmUoKSl9LHRoaXMpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5jdXN0b21UeXBlPSJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsdH0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlNoYWRvd09ubHlNYXRlcmlhbCJ9LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBKLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSxyKX0sdCxyLG4pfSxlfSh2bik7d2UoIkJBQllMT04uU2hhZG93T25seU1hdGVyaWFsIixtbik7Y29uc3QgX2Y9e2FzcGVjdDozMDAvMTUwLGVuYWJsZURlYnVnZ2luZzohMSxlbmFibGVTaGFkb3dzOiEwfTtjbGFzcyBnZntjb25zdHJ1Y3RvcihlKXtxZSh0aGlzLCJzaXplIiw5LjUpO3RoaXMuY29uZmlnPXsuLi5fZiwuLi5lfSx0aGlzLmNyZWF0ZSgpfWNyZWF0ZShlKXt0aGlzLmRlc3Ryb3koKSxPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLGUpO2NvbnN0e2FzcGVjdDp0LGVuYWJsZURlYnVnZ2luZzpyPSEwLGVuYWJsZVNoYWRvd3M6bn09dGhpcy5jb25maWcsYT0zMDtsZXQgczt0aGlzLmJveD1uZXcgSmUoImRpY2VCb3giKSxyPyhzPW5ldyBhcigiZGljZUJveF9tYXRlcmlhbCIpLHMuYWxwaGE9Ljcscy5kaWZmdXNlQ29sb3I9bmV3IGJlKDEsMSwwKSk6biYmKHM9bmV3IG1uKCJzaGFkb3dPbmx5Iix0aGlzLmNvbmZpZy5zY2VuZSkpO2NvbnN0IG89V3QoImdyb3VuZCIse3dpZHRoOnRoaXMuc2l6ZSoyLGhlaWdodDoxLGRlcHRoOnRoaXMuc2l6ZSoyfSx0aGlzLmNvbmZpZy5zY2VuZSk7aWYoby5zY2FsaW5nPW5ldyBiKHQsMSwxKSxvLm1hdGVyaWFsPXMsby5yZWNlaXZlU2hhZG93cz0hMCxvLnNldFBhcmVudCh0aGlzLmJveCkscil7Y29uc3QgdT1XdCgid2FsbFRvcCIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6YSxkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7dS5wb3NpdGlvbi55PWEvMix1LnBvc2l0aW9uLno9dGhpcy5zaXplLy0yLHUuc2NhbGluZz1uZXcgYih0LDEsMSksdS5tYXRlcmlhbD1zLHUuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBmPVd0KCJ3YWxsUmlnaHQiLHt3aWR0aDoxLGhlaWdodDphLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2YucG9zaXRpb24ueD10aGlzLnNpemUqdC8yLGYucG9zaXRpb24ueT1hLzIsZi5tYXRlcmlhbD1zLGYuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBsPVd0KCJ3YWxsQm90dG9tIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDphLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtsLnBvc2l0aW9uLnk9YS8yLGwucG9zaXRpb24uej10aGlzLnNpemUvMixsLnNjYWxpbmc9bmV3IGIodCwxLDEpLGwubWF0ZXJpYWw9cyxsLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgaD1XdCgid2FsbExlZnQiLHt3aWR0aDoxLGhlaWdodDphLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2gucG9zaXRpb24ueD10aGlzLnNpemUqdC8tMixoLnBvc2l0aW9uLnk9YS8yLGgubWF0ZXJpYWw9cyxoLnNldFBhcmVudCh0aGlzLmJveCl9fWRlc3Ryb3koKXt0aGlzLmJveCYmdGhpcy5ib3guZGlzcG9zZSgpfX12YXIgQXQ7KGZ1bmN0aW9uKGkpe2lbaS5DbGVhbj0wXT0iQ2xlYW4iLGlbaS5TdG9wPTFdPSJTdG9wIixpW2kuU3luYz0yXT0iU3luYyIsaVtpLk5vU3luYz0zXT0iTm9TeW5jIn0pKEF0fHwoQXQ9e30pKTt2YXIgS2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9LHNldDpmdW5jdGlvbihlKXtudC5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaG93TG9hZGluZ1NjcmVlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiBudC5TaG93TG9hZGluZ1NjcmVlbn0sc2V0OmZ1bmN0aW9uKGUpe250LlNob3dMb2FkaW5nU2NyZWVuPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImxvZ2dpbmdMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudC5sb2dnaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXtudC5sb2dnaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBudC5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfSxzZXQ6ZnVuY3Rpb24oZSl7bnQuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuR2V0RGVmYXVsdFBsdWdpbj1mdW5jdGlvbigpe3JldHVybiBpLl9SZWdpc3RlcmVkUGx1Z2luc1siLmJhYnlsb24iXX0saS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWkuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdO3JldHVybiB0fHwoay5XYXJuKCJVbmFibGUgdG8gZmluZCBhIHBsdWdpbiB0byBsb2FkICIrZSsiIGZpbGVzLiBUcnlpbmcgdG8gdXNlIC5iYWJ5bG9uIGRlZmF1bHQgcGx1Z2luLiBUbyBsb2FkIGZyb20gYSBzcGVjaWZpYyBmaWxldHlwZSAoZWcuIGdsdGYpIHNlZTogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9ob3dfdG8vbG9hZF9mcm9tX2FueV9maWxlX3R5cGUiKSxpLkdldERlZmF1bHRQbHVnaW4oKSl9LGkuX0dldFBsdWdpbkZvckRpcmVjdExvYWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGkuX1JlZ2lzdGVyZWRQbHVnaW5zKXt2YXIgcj1pLl9SZWdpc3RlcmVkUGx1Z2luc1t0XS5wbHVnaW47aWYoci5jYW5EaXJlY3RMb2FkJiZyLmNhbkRpcmVjdExvYWQoZSkpcmV0dXJuIGkuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdfXJldHVybiBpLkdldERlZmF1bHRQbHVnaW4oKX0saS5fR2V0UGx1Z2luRm9yRmlsZW5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCI/Iik7dCE9PS0xJiYoZT1lLnN1YnN0cmluZygwLHQpKTt2YXIgcj1lLmxhc3RJbmRleE9mKCIuIiksbj1lLnN1YnN0cmluZyhyLGUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBpLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24obil9LGkuX0dldERpcmVjdExvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDAsNSk9PT0iZGF0YToiP2Uuc3Vic3RyKDUpOm51bGx9LGkuX0Zvcm1hdEVycm9yTWVzc2FnZT1mdW5jdGlvbihlLHQscil7dmFyIG49IlVuYWJsZSB0byBsb2FkIGZyb20gIitlLnVybDtyZXR1cm4gdD9uKz0iOiAiLmNvbmNhdCh0KTpyJiYobis9IjogIi5jb25jYXQocikpLG59LGkuX0xvYWREYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PWkuX0dldERpcmVjdExvYWQoZS51cmwpLGY9bz9pLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24obyk6dT9pLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUudXJsKTppLl9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlLnVybCksbDtpZihmLnBsdWdpbi5jcmVhdGVQbHVnaW4hPT12b2lkIDA/bD1mLnBsdWdpbi5jcmVhdGVQbHVnaW4oKTpsPWYucGx1Z2luLCFsKXRocm93IlRoZSBsb2FkZXIgcGx1Z2luIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZpbGUgdHlwZSB5b3UgYXJlIHRyeWluZyB0byBsb2FkIGhhcyBub3QgYmVlbiBmb3VuZC4gSWYgdXNpbmcgZXM2LCBwbGVhc2UgaW1wb3J0IHRoZSBwbHVnaW4geW91IHdpc2ggdG8gdXNlIGJlZm9yZS4iO2lmKGkuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKSx1JiYobC5jYW5EaXJlY3RMb2FkJiZsLmNhbkRpcmVjdExvYWQoZS51cmwpfHwhX3IoZS51cmwpKSl7aWYobC5kaXJlY3RMb2FkKXt2YXIgaD1sLmRpcmVjdExvYWQodCx1KTtoLnRoZW4/aC50aGVuKGZ1bmN0aW9uKFMpe3IobCxTKX0pLmNhdGNoKGZ1bmN0aW9uKFMpe2EoIkVycm9yIGluIGRpcmVjdExvYWQgb2YgX2xvYWREYXRhOiAiK1MsUyl9KTpyKGwsaCl9ZWxzZSByKGwsdSk7cmV0dXJuIGx9dmFyIGM9Zi5pc0JpbmFyeSxkPWZ1bmN0aW9uKFMsdyl7aWYodC5pc0Rpc3Bvc2VkKXthKCJTY2VuZSBoYXMgYmVlbiBkaXNwb3NlZCIpO3JldHVybn1yKGwsUyx3KX0scD1udWxsLGc9ITEsXz1sLm9uRGlzcG9zZU9ic2VydmFibGU7XyYmXy5hZGQoZnVuY3Rpb24oKXtnPSEwLHAmJihwLmFib3J0KCkscD1udWxsKSxzKCl9KTt2YXIgdj1mdW5jdGlvbigpe2lmKCFnKXt2YXIgUz1mdW5jdGlvbihGLHgpe2EoRj09bnVsbD92b2lkIDA6Ri5zdGF0dXNUZXh0LHgpfSx3PWUuZmlsZXx8ZS51cmw7cD1sLmxvYWRGaWxlP2wubG9hZEZpbGUodCx3LGQsbixjLFMpOnQuX2xvYWRGaWxlKHcsZCxuLCEwLGMsUyl9fSx5PXQuZ2V0RW5naW5lKCksRT15LmVuYWJsZU9mZmxpbmVTdXBwb3J0O2lmKEUpe2Zvcih2YXIgUj0hMSxNPTAsQz10LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzO008Qy5sZW5ndGg7TSsrKXt2YXIgQT1DW01dO2lmKEEudGVzdChlLnVybCkpe1I9ITA7YnJlYWt9fUU9IVJ9cmV0dXJuIEUmJmhlLk9mZmxpbmVQcm92aWRlckZhY3Rvcnk/dC5vZmZsaW5lUHJvdmlkZXI9aGUuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCx2LHkuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOnYoKSxsfSxpLl9HZXRGaWxlSW5mbz1mdW5jdGlvbihlLHQpe3ZhciByLG4sYT1udWxsO2lmKCF0KXI9ZSxuPV9lLkdldEZpbGVuYW1lKGUpLGU9X2UuR2V0Rm9sZGVyUGF0aChlKTtlbHNlIGlmKHQubmFtZSl7dmFyIHM9dDtyPSJmaWxlOiIuY29uY2F0KHMubmFtZSksbj1zLm5hbWUsYT1zfWVsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0LnN0YXJ0c1dpdGgoImRhdGE6Iikpcj10LG49IiI7ZWxzZXt2YXIgbz10O2lmKG8uc3Vic3RyKDAsMSk9PT0iLyIpcmV0dXJuIF9lLkVycm9yKCJXcm9uZyBzY2VuZUZpbGVuYW1lIHBhcmFtZXRlciIpLG51bGw7cj1lK28sbj1vfXJldHVybnt1cmw6cixyb290VXJsOmUsbmFtZTpuLGZpbGU6YX19LGkuR2V0UGx1Z2luRm9yRXh0ZW5zaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSkucGx1Z2lufSxpLklzUGx1Z2luRm9yRXh0ZW5zaW9uQXZhaWxhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiEhaS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV19LGkuUmVnaXN0ZXJQbHVnaW49ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUuZXh0ZW5zaW9ucz09InN0cmluZyIpe3ZhciB0PWUuZXh0ZW5zaW9ucztpLl9SZWdpc3RlcmVkUGx1Z2luc1t0LnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTohMX19ZWxzZXt2YXIgcj1lLmV4dGVuc2lvbnM7T2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihuKXtpLl9SZWdpc3RlcmVkUGx1Z2luc1tuLnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTpyW25dLmlzQmluYXJ5fX0pfX0saS5JbXBvcnRNZXNoPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7aWYocj09PXZvaWQgMCYmKHI9IiIpLG49PT12b2lkIDAmJihuPXJlLkxhc3RDcmVhdGVkU2NlbmUpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLCFuKXJldHVybiBrLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gaW1wb3J0IG1lc2ggdG8iKSxudWxsO3ZhciBmPWkuX0dldEZpbGVJbmZvKHQscik7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGw9e307bi5fYWRkUGVuZGluZ0RhdGEobCk7dmFyIGg9ZnVuY3Rpb24oKXtuLl9yZW1vdmVQZW5kaW5nRGF0YShsKX0sYz1mdW5jdGlvbihnLF8pe3ZhciB2PWkuX0Zvcm1hdEVycm9yTWVzc2FnZShmLGcsXyk7bz9vKG4sdixuZXcgeHQodixDdC5TY2VuZUxvYWRlckVycm9yLF8pKTprLkVycm9yKHYpLGgoKX0sZD1zP2Z1bmN0aW9uKGcpe3RyeXtzKGcpfWNhdGNoKF8pe2MoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2s6ICIrXyxfKX19OnZvaWQgMCxwPWZ1bmN0aW9uKGcsXyx2LHksRSxSLE0pe2lmKG4uaW1wb3J0ZWRNZXNoZXNGaWxlcy5wdXNoKGYudXJsKSxhKXRyeXthKGcsXyx2LHksRSxSLE0pfWNhdGNoKEMpe2MoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjazogIitDLEMpfW4uX3JlbW92ZVBlbmRpbmdEYXRhKGwpfTtyZXR1cm4gaS5fTG9hZERhdGEoZixuLGZ1bmN0aW9uKGcsXyx2KXtpZihnLnJld3JpdGVSb290VVJMJiYoZi5yb290VXJsPWcucmV3cml0ZVJvb3RVUkwoZi5yb290VXJsLHYpKSxnLmltcG9ydE1lc2gpe3ZhciB5PWcsRT1uZXcgQXJyYXksUj1uZXcgQXJyYXksTT1uZXcgQXJyYXk7aWYoIXkuaW1wb3J0TWVzaChlLG4sXyxmLnJvb3RVcmwsRSxSLE0sYykpcmV0dXJuO24ubG9hZGluZ1BsdWdpbk5hbWU9Zy5uYW1lLHAoRSxSLE0sW10sW10sW10sW10pfWVsc2V7dmFyIEM9ZztDLmltcG9ydE1lc2hBc3luYyhlLG4sXyxmLnJvb3RVcmwsZCxmLm5hbWUpLnRoZW4oZnVuY3Rpb24oQSl7bi5sb2FkaW5nUGx1Z2luTmFtZT1nLm5hbWUscChBLm1lc2hlcyxBLnBhcnRpY2xlU3lzdGVtcyxBLnNrZWxldG9ucyxBLmFuaW1hdGlvbkdyb3VwcyxBLnRyYW5zZm9ybU5vZGVzLEEuZ2VvbWV0cmllcyxBLmxpZ2h0cyl9KS5jYXRjaChmdW5jdGlvbihBKXtjKEEubWVzc2FnZSxBKX0pfX0sZCxjLGgsdSl9LGkuSW1wb3J0TWVzaEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9IiIpLG49PT12b2lkIDAmJihuPXJlLkxhc3RDcmVhdGVkU2NlbmUpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKG8sdSl7aS5JbXBvcnRNZXNoKGUsdCxyLG4sZnVuY3Rpb24oZixsLGgsYyxkLHAsZyl7byh7bWVzaGVzOmYscGFydGljbGVTeXN0ZW1zOmwsc2tlbGV0b25zOmgsYW5pbWF0aW9uR3JvdXBzOmMsdHJhbnNmb3JtTm9kZXM6ZCxnZW9tZXRyaWVzOnAsbGlnaHRzOmd9KX0sYSxmdW5jdGlvbihmLGwsaCl7dShofHxuZXcgRXJyb3IobCkpfSxzKX0pfSxpLkxvYWQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1yZS5MYXN0Q3JlYXRlZEVuZ2luZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCkscj9pLkFwcGVuZChlLHQsbmV3IGVlKHIpLG4sYSxzLG8pOihfZS5FcnJvcigiTm8gZW5naW5lIGF2YWlsYWJsZSIpLG51bGwpfSxpLkxvYWRBc3luYz1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRFbmdpbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5Mb2FkKGUsdCxyLGZ1bmN0aW9uKHUpe3ModSl9LG4sZnVuY3Rpb24odSxmLGwpe28obHx8bmV3IEVycm9yKGYpKX0sYSl9KX0saS5BcHBlbmQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9dGhpcztpZih0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksIXIpcmV0dXJuIGsuRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBhcHBlbmQgdG8iKSxudWxsO3ZhciBmPWkuX0dldEZpbGVJbmZvKGUsdCk7aWYoIWYpcmV0dXJuIG51bGw7aS5TaG93TG9hZGluZ1NjcmVlbiYmIXRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuJiYodGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITAsci5nZXRFbmdpbmUoKS5kaXNwbGF5TG9hZGluZ1VJKCksci5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7ci5nZXRFbmdpbmUoKS5oaWRlTG9hZGluZ1VJKCksdS5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITF9KSk7dmFyIGw9e307ci5fYWRkUGVuZGluZ0RhdGEobCk7dmFyIGg9ZnVuY3Rpb24oKXtyLl9yZW1vdmVQZW5kaW5nRGF0YShsKX0sYz1mdW5jdGlvbihnLF8pe3ZhciB2PWkuX0Zvcm1hdEVycm9yTWVzc2FnZShmLGcsXyk7cz9zKHIsdixuZXcgeHQodixDdC5TY2VuZUxvYWRlckVycm9yLF8pKTprLkVycm9yKHYpLGgoKX0sZD1hP2Z1bmN0aW9uKGcpe3RyeXthKGcpfWNhdGNoKF8pe2MoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLF8pfX06dm9pZCAwLHA9ZnVuY3Rpb24oKXtpZihuKXRyeXtuKHIpfWNhdGNoKGcpe2MoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsZyl9ci5fcmVtb3ZlUGVuZGluZ0RhdGEobCl9O3JldHVybiBpLl9Mb2FkRGF0YShmLHIsZnVuY3Rpb24oZyxfKXtpZihnLmxvYWQpe3ZhciB2PWc7aWYoIXYubG9hZChyLF8sZi5yb290VXJsLGMpKXJldHVybjtyLmxvYWRpbmdQbHVnaW5OYW1lPWcubmFtZSxwKCl9ZWxzZXt2YXIgeT1nO3kubG9hZEFzeW5jKHIsXyxmLnJvb3RVcmwsZCxmLm5hbWUpLnRoZW4oZnVuY3Rpb24oKXtyLmxvYWRpbmdQbHVnaW5OYW1lPWcubmFtZSxwKCl9KS5jYXRjaChmdW5jdGlvbihFKXtjKEUubWVzc2FnZSxFKX0pfX0sZCxjLGgsbyl9LGkuQXBwZW5kQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPXJlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5BcHBlbmQoZSx0LHIsZnVuY3Rpb24odSl7cyh1KX0sbixmdW5jdGlvbih1LGYsbCl7byhsfHxuZXcgRXJyb3IoZikpfSxhKX0pfSxpLkxvYWRBc3NldENvbnRhaW5lcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXtpZih0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksIXIpcmV0dXJuIGsuRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFzc2V0IGNvbnRhaW5lciB0byIpLG51bGw7dmFyIHU9aS5fR2V0RmlsZUluZm8oZSx0KTtpZighdSlyZXR1cm4gbnVsbDt2YXIgZj17fTtyLl9hZGRQZW5kaW5nRGF0YShmKTt2YXIgbD1mdW5jdGlvbigpe3IuX3JlbW92ZVBlbmRpbmdEYXRhKGYpfSxoPWZ1bmN0aW9uKHAsZyl7dmFyIF89aS5fRm9ybWF0RXJyb3JNZXNzYWdlKHUscCxnKTtzP3MocixfLG5ldyB4dChfLEN0LlNjZW5lTG9hZGVyRXJyb3IsZykpOmsuRXJyb3IoXyksbCgpfSxjPWE/ZnVuY3Rpb24ocCl7dHJ5e2EocCl9Y2F0Y2goZyl7aCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsZyl9fTp2b2lkIDAsZD1mdW5jdGlvbihwKXtpZihuKXRyeXtuKHApfWNhdGNoKGcpe2goIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsZyl9ci5fcmVtb3ZlUGVuZGluZ0RhdGEoZil9O3JldHVybiBpLl9Mb2FkRGF0YSh1LHIsZnVuY3Rpb24ocCxnKXtpZihwLmxvYWRBc3NldENvbnRhaW5lcil7dmFyIF89cCx2PV8ubG9hZEFzc2V0Q29udGFpbmVyKHIsZyx1LnJvb3RVcmwsaCk7aWYoIXYpcmV0dXJuO3IubG9hZGluZ1BsdWdpbk5hbWU9cC5uYW1lLGQodil9ZWxzZSBpZihwLmxvYWRBc3NldENvbnRhaW5lckFzeW5jKXt2YXIgeT1wO3kubG9hZEFzc2V0Q29udGFpbmVyQXN5bmMocixnLHUucm9vdFVybCxjLHUubmFtZSkudGhlbihmdW5jdGlvbihFKXtyLmxvYWRpbmdQbHVnaW5OYW1lPXAubmFtZSxkKEUpfSkuY2F0Y2goZnVuY3Rpb24oRSl7aChFLm1lc3NhZ2UsRSl9KX1lbHNlIGgoIkxvYWRBc3NldENvbnRhaW5lciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGx1Z2luLiBQbHVnaW4gZGlkIG5vdCBwcm92aWRlIGEgbG9hZEFzc2V0Q29udGFpbmVyIG9yIGxvYWRBc3NldENvbnRhaW5lckFzeW5jIG1ldGhvZC4iKX0sYyxoLGwsbyl9LGkuTG9hZEFzc2V0Q29udGFpbmVyQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPXJlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5Mb2FkQXNzZXRDb250YWluZXIoZSx0LHIsZnVuY3Rpb24odSl7cyh1KX0sbixmdW5jdGlvbih1LGYsbCl7byhsfHxuZXcgRXJyb3IoZikpfSxhKX0pfSxpLkltcG9ydEFuaW1hdGlvbnM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7aWYodD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPXJlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPSEwKSxhPT09dm9pZCAwJiYoYT1BdC5DbGVhbikscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksdT09PXZvaWQgMCYmKHU9bnVsbCksZj09PXZvaWQgMCYmKGY9bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksIXIpe2suRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFuaW1hdGlvbnMgdG8iKTtyZXR1cm59aWYobil7Zm9yKHZhciBoPTAsYz1yLmFuaW1hdGFibGVzO2g8Yy5sZW5ndGg7aCsrKXt2YXIgZD1jW2hdO2QucmVzZXQoKX1yLnN0b3BBbGxBbmltYXRpb25zKCksci5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHYpe3YuZGlzcG9zZSgpfSk7dmFyIHA9ci5nZXROb2RlcygpO3AuZm9yRWFjaChmdW5jdGlvbih2KXt2LmFuaW1hdGlvbnMmJih2LmFuaW1hdGlvbnM9W10pfSl9ZWxzZSBzd2l0Y2goYSl7Y2FzZSBBdC5DbGVhbjpyLmFuaW1hdGlvbkdyb3Vwcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24odil7di5kaXNwb3NlKCl9KTticmVhaztjYXNlIEF0LlN0b3A6ci5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmdW5jdGlvbih2KXt2LnN0b3AoKX0pO2JyZWFrO2Nhc2UgQXQuU3luYzpyLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKHYpe3YucmVzZXQoKSx2LnJlc3RhcnQoKX0pO2JyZWFrO2Nhc2UgQXQuTm9TeW5jOmJyZWFrO2RlZmF1bHQ6ay5FcnJvcigiVW5rbm93biBhbmltYXRpb24gZ3JvdXAgbG9hZGluZyBtb2RlIHZhbHVlICciK2ErIiciKTtyZXR1cm59dmFyIGc9ci5hbmltYXRhYmxlcy5sZW5ndGgsXz1mdW5jdGlvbih2KXt2Lm1lcmdlQW5pbWF0aW9uc1RvKHIsci5hbmltYXRhYmxlcy5zbGljZShnKSxzKSx2LmRpc3Bvc2UoKSxyLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksbyYmbyhyKX07dGhpcy5Mb2FkQXNzZXRDb250YWluZXIoZSx0LHIsXyx1LGYsbCl9LGkuSW1wb3J0QW5pbWF0aW9uc0FzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9cmUuTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49ITApLGE9PT12b2lkIDAmJihhPUF0LkNsZWFuKSxzPT09dm9pZCAwJiYocz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxsPT09dm9pZCAwJiYobD1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihoLGMpe2kuSW1wb3J0QW5pbWF0aW9ucyhlLHQscixuLGEscyxmdW5jdGlvbihkKXtoKGQpfSx1LGZ1bmN0aW9uKGQscCxnKXtjKGd8fG5ldyBFcnJvcihwKSl9LGwpfSl9LGkuTk9fTE9HR0lORz0wLGkuTUlOSU1BTF9MT0dHSU5HPTEsaS5TVU1NQVJZX0xPR0dJTkc9MixpLkRFVEFJTEVEX0xPR0dJTkc9MyxpLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZT1uZXcgTyxpLl9SZWdpc3RlcmVkUGx1Z2lucz17fSxpLl9TaG93aW5nTG9hZGluZ1NjcmVlbj0hMSxpfSgpLGF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7cj09PXZvaWQgMCYmKHI9TnVtYmVyLk1BWF9WQUxVRSksdGhpcy5vcmlnaW49ZSx0aGlzLmRpcmVjdGlvbj10LHRoaXMubGVuZ3RoPXJ9cmV0dXJuIGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMub3JpZ2luLmNsb25lKCksdGhpcy5kaXJlY3Rpb24uY2xvbmUoKSx0aGlzLmxlbmd0aCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNCb3hNaW5NYXg9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPTApO3ZhciBuPWkuX1RtcFZlY3RvcjNbMF0uY29weUZyb21GbG9hdHMoZS54LXIsZS55LXIsZS56LXIpLGE9aS5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyh0Lngrcix0Lnkrcix0Lnorcikscz0wLG89TnVtYmVyLk1BWF9WQUxVRSx1LGYsbCxoO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLngpPDFlLTcpe2lmKHRoaXMub3JpZ2luLng8bi54fHx0aGlzLm9yaWdpbi54PmEueClyZXR1cm4hMX1lbHNlIGlmKHU9MS90aGlzLmRpcmVjdGlvbi54LGY9KG4ueC10aGlzLm9yaWdpbi54KSp1LGw9KGEueC10aGlzLm9yaWdpbi54KSp1LGw9PT0tMS8wJiYobD0xLzApLGY+bCYmKGg9ZixmPWwsbD1oKSxzPU1hdGgubWF4KGYscyksbz1NYXRoLm1pbihsLG8pLHM+bylyZXR1cm4hMTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi55KTwxZS03KXtpZih0aGlzLm9yaWdpbi55PG4ueXx8dGhpcy5vcmlnaW4ueT5hLnkpcmV0dXJuITF9ZWxzZSBpZih1PTEvdGhpcy5kaXJlY3Rpb24ueSxmPShuLnktdGhpcy5vcmlnaW4ueSkqdSxsPShhLnktdGhpcy5vcmlnaW4ueSkqdSxsPT09LTEvMCYmKGw9MS8wKSxmPmwmJihoPWYsZj1sLGw9aCkscz1NYXRoLm1heChmLHMpLG89TWF0aC5taW4obCxvKSxzPm8pcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueik8MWUtNyl7aWYodGhpcy5vcmlnaW4uejxuLnp8fHRoaXMub3JpZ2luLno+YS56KXJldHVybiExfWVsc2UgaWYodT0xL3RoaXMuZGlyZWN0aW9uLnosZj0obi56LXRoaXMub3JpZ2luLnopKnUsbD0oYS56LXRoaXMub3JpZ2luLnopKnUsbD09PS0xLzAmJihsPTEvMCksZj5sJiYoaD1mLGY9bCxsPWgpLHM9TWF0aC5tYXgoZixzKSxvPU1hdGgubWluKGwsbykscz5vKXJldHVybiExO3JldHVybiEwfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzQm94PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLHRoaXMuaW50ZXJzZWN0c0JveE1pbk1heChlLm1pbmltdW0sZS5tYXhpbXVtLHQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9ZS5jZW50ZXIueC10aGlzLm9yaWdpbi54LG49ZS5jZW50ZXIueS10aGlzLm9yaWdpbi55LGE9ZS5jZW50ZXIuei10aGlzLm9yaWdpbi56LHM9cipyK24qbithKmEsbz1lLnJhZGl1cyt0LHU9bypvO2lmKHM8PXUpcmV0dXJuITA7dmFyIGY9cip0aGlzLmRpcmVjdGlvbi54K24qdGhpcy5kaXJlY3Rpb24ueSthKnRoaXMuZGlyZWN0aW9uLno7aWYoZjwwKXJldHVybiExO3ZhciBsPXMtZipmO3JldHVybiBsPD11fSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzVHJpYW5nbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuX1RtcFZlY3RvcjNbMF0sYT1pLl9UbXBWZWN0b3IzWzFdLHM9aS5fVG1wVmVjdG9yM1syXSxvPWkuX1RtcFZlY3RvcjNbM10sdT1pLl9UbXBWZWN0b3IzWzRdO3Quc3VidHJhY3RUb1JlZihlLG4pLHIuc3VidHJhY3RUb1JlZihlLGEpLGIuQ3Jvc3NUb1JlZih0aGlzLmRpcmVjdGlvbixhLHMpO3ZhciBmPWIuRG90KG4scyk7aWYoZj09PTApcmV0dXJuIG51bGw7dmFyIGw9MS9mO3RoaXMub3JpZ2luLnN1YnRyYWN0VG9SZWYoZSxvKTt2YXIgaD1iLkRvdChvLHMpKmw7aWYoaDwwfHxoPjEpcmV0dXJuIG51bGw7Yi5Dcm9zc1RvUmVmKG8sbix1KTt2YXIgYz1iLkRvdCh0aGlzLmRpcmVjdGlvbix1KSpsO2lmKGM8MHx8aCtjPjEpcmV0dXJuIG51bGw7dmFyIGQ9Yi5Eb3QoYSx1KSpsO3JldHVybiBkPnRoaXMubGVuZ3RoP251bGw6bmV3ICRyKDEtaC1jLGgsZCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNQbGFuZT1mdW5jdGlvbihlKXt2YXIgdCxyPWIuRG90KGUubm9ybWFsLHRoaXMuZGlyZWN0aW9uKTtpZihNYXRoLmFicyhyKTw5OTk5OTk5OTc0NzUyNDNlLTIxKXJldHVybiBudWxsO3ZhciBuPWIuRG90KGUubm9ybWFsLHRoaXMub3JpZ2luKTtyZXR1cm4gdD0oLWUuZC1uKS9yLHQ8MD90PC05OTk5OTk5OTc0NzUyNDNlLTIxP251bGw6MDp0fSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzQXhpcz1mdW5jdGlvbihlLHQpe3N3aXRjaCh0PT09dm9pZCAwJiYodD0wKSxlKXtjYXNlInkiOnt2YXIgcj0odGhpcy5vcmlnaW4ueS10KS90aGlzLmRpcmVjdGlvbi55O3JldHVybiByPjA/bnVsbDpuZXcgYih0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLXIsdCx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLXIpfWNhc2UieCI6e3ZhciByPSh0aGlzLm9yaWdpbi54LXQpL3RoaXMuZGlyZWN0aW9uLng7cmV0dXJuIHI+MD9udWxsOm5ldyBiKHQsdGhpcy5vcmlnaW4ueSt0aGlzLmRpcmVjdGlvbi55Ki1yLHRoaXMub3JpZ2luLnordGhpcy5kaXJlY3Rpb24ueiotcil9Y2FzZSJ6Ijp7dmFyIHI9KHRoaXMub3JpZ2luLnotdCkvdGhpcy5kaXJlY3Rpb24uejtyZXR1cm4gcj4wP251bGw6bmV3IGIodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1yLHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotcix0KX1kZWZhdWx0OnJldHVybiBudWxsfX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c01lc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1ELk1hdHJpeFswXTtyZXR1cm4gZS5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHIpLHRoaXMuX3RtcFJheT9pLlRyYW5zZm9ybVRvUmVmKHRoaXMscix0aGlzLl90bXBSYXkpOnRoaXMuX3RtcFJheT1pLlRyYW5zZm9ybSh0aGlzLHIpLGUuaW50ZXJzZWN0cyh0aGlzLl90bXBSYXksdCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNNZXNoZXM9ZnVuY3Rpb24oZSx0LHIpe3I/ci5sZW5ndGg9MDpyPVtdO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgYT10aGlzLmludGVyc2VjdHNNZXNoKGVbbl0sdCk7YS5oaXQmJnIucHVzaChhKX1yZXR1cm4gci5zb3J0KHRoaXMuX2NvbXBhcmVQaWNraW5nSW5mbykscn0saS5wcm90b3R5cGUuX2NvbXBhcmVQaWNraW5nSW5mbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmRpc3RhbmNlPHQuZGlzdGFuY2U/LTE6ZS5kaXN0YW5jZT50LmRpc3RhbmNlPzE6MH0saS5wcm90b3R5cGUuaW50ZXJzZWN0aW9uU2VnbWVudD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5vcmlnaW4sYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1ELlZlY3RvcjNbMl0sdT1ELlZlY3RvcjNbM107dC5zdWJ0cmFjdFRvUmVmKGUsYSksdGhpcy5kaXJlY3Rpb24uc2NhbGVUb1JlZihpLl9SYXlsLG8pLG4uYWRkVG9SZWYobyxzKSxlLnN1YnRyYWN0VG9SZWYobix1KTt2YXIgZj1iLkRvdChhLGEpLGw9Yi5Eb3QoYSxvKSxoPWIuRG90KG8sbyksYz1iLkRvdChhLHUpLGQ9Yi5Eb3Qobyx1KSxwPWYqaC1sKmwsZyxfPXAsdix5PXA7cDxpLl9TbWFsbG51bT8oZz0wLF89MSx2PWQseT1oKTooZz1sKmQtaCpjLHY9ZipkLWwqYyxnPDA/KGc9MCx2PWQseT1oKTpnPl8mJihnPV8sdj1kK2wseT1oKSksdjwwPyh2PTAsLWM8MD9nPTA6LWM+Zj9nPV86KGc9LWMsXz1mKSk6dj55JiYodj15LC1jK2w8MD9nPTA6LWMrbD5mP2c9XzooZz0tYytsLF89ZikpO3ZhciBFPU1hdGguYWJzKGcpPGkuX1NtYWxsbnVtPzA6Zy9fLFI9TWF0aC5hYnModik8aS5fU21hbGxudW0/MDp2L3ksTT1ELlZlY3RvcjNbNF07by5zY2FsZVRvUmVmKFIsTSk7dmFyIEM9RC5WZWN0b3IzWzVdO2Euc2NhbGVUb1JlZihFLEMpLEMuYWRkSW5QbGFjZSh1KTt2YXIgQT1ELlZlY3RvcjNbNl07Qy5zdWJ0cmFjdFRvUmVmKE0sQSk7dmFyIFM9Uj4wJiZSPD10aGlzLmxlbmd0aCYmQS5sZW5ndGhTcXVhcmVkKCk8cipyO3JldHVybiBTP0MubGVuZ3RoKCk6LTF9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2lmKHU9PT12b2lkIDAmJih1PSExKSx1KXtpLl9SYXlEaXN0YW50fHwoaS5fUmF5RGlzdGFudD1pLlplcm8oKSksaS5fUmF5RGlzdGFudC51bnByb2plY3RSYXlUb1JlZihlLHQscixuLEkuSWRlbnRpdHlSZWFkT25seSxzLG8pO3ZhciBmPUQuTWF0cml4WzBdO2EuaW52ZXJ0VG9SZWYoZiksaS5UcmFuc2Zvcm1Ub1JlZihpLl9SYXlEaXN0YW50LGYsdGhpcyl9ZWxzZSB0aGlzLnVucHJvamVjdFJheVRvUmVmKGUsdCxyLG4sYSxzLG8pO3JldHVybiB0aGlzfSxpLlplcm89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoYi5aZXJvKCksYi5aZXJvKCkpfSxpLkNyZWF0ZU5ldz1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT1pLlplcm8oKTtyZXR1cm4gdS51cGRhdGUoZSx0LHIsbixhLHMsbyl9LGkuQ3JlYXRlTmV3RnJvbVRvPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj1JLklkZW50aXR5UmVhZE9ubHkpO3ZhciBuPXQuc3VidHJhY3QoZSksYT1NYXRoLnNxcnQobi54Km4ueCtuLnkqbi55K24ueipuLnopO3JldHVybiBuLm5vcm1hbGl6ZSgpLGkuVHJhbnNmb3JtKG5ldyBpKGUsbixhKSxyKX0saS5UcmFuc2Zvcm09ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaShuZXcgYigwLDAsMCksbmV3IGIoMCwwLDApKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ub1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ub1JlZj1mdW5jdGlvbihlLHQscil7Yi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLHQsci5vcmlnaW4pLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZS5kaXJlY3Rpb24sdCxyLmRpcmVjdGlvbiksci5sZW5ndGg9ZS5sZW5ndGg7dmFyIG49ci5kaXJlY3Rpb24sYT1uLmxlbmd0aCgpO2lmKCEoYT09PTB8fGE9PT0xKSl7dmFyIHM9MS9hO24ueCo9cyxuLnkqPXMsbi56Kj1zLHIubGVuZ3RoKj1hfX0saS5wcm90b3R5cGUudW5wcm9qZWN0UmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHUsZj1ELk1hdHJpeFswXTthLm11bHRpcGx5VG9SZWYocyxmKSxmLm11bHRpcGx5VG9SZWYobyxmKSxmLmludmVydCgpO3ZhciBsPUQuVmVjdG9yM1swXTtsLng9ZS9yKjItMSxsLnk9LSh0L24qMi0xKSxsLno9ISgodT1yZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHx1PT09dm9pZCAwKSYmdS5pc05EQ0hhbGZaUmFuZ2U/MDotMTt2YXIgaD1ELlZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMobC54LGwueSwxLTFlLTgpLGM9RC5WZWN0b3IzWzJdLGQ9RC5WZWN0b3IzWzNdO2IuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGwsZixjKSxiLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihoLGYsZCksdGhpcy5vcmlnaW4uY29weUZyb20oYyksZC5zdWJ0cmFjdFRvUmVmKGMsdGhpcy5kaXJlY3Rpb24pLHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpfSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoNixiLlplcm8pLGkuX1JheURpc3RhbnQ9aS5aZXJvKCksaS5fU21hbGxudW09MWUtOCxpLl9SYXlsPTFlOSxpfSgpO2VlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5PWZ1bmN0aW9uKGksZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBhPWF0Llplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoaSxlLHQsYSxyLG4pLGF9LGVlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9ITEpLHM9PT12b2lkIDAmJihzPSExKTt2YXIgbz10aGlzLmdldEVuZ2luZSgpO2lmKCFuKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuIHRoaXM7bj10aGlzLmFjdGl2ZUNhbWVyYX12YXIgdT1uLnZpZXdwb3J0LGY9dS50b0dsb2JhbChvLmdldFJlbmRlcldpZHRoKCksby5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGk9aS9vLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktZi54LGU9ZS9vLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKG8uZ2V0UmVuZGVySGVpZ2h0KCktZi55LWYuaGVpZ2h0KSxyLnVwZGF0ZShpLGUsZi53aWR0aCxmLmhlaWdodCx0fHxJLklkZW50aXR5UmVhZE9ubHksYT9JLklkZW50aXR5UmVhZE9ubHk6bi5nZXRWaWV3TWF0cml4KCksbi5nZXRQcm9qZWN0aW9uTWF0cml4KCkscyksdGhpc30sZWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1hdC5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihpLGUscix0KSxyfSxlZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbihpLGUsdCxyKXtpZighUWUpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5nZXRFbmdpbmUoKTtpZighcil7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7cj10aGlzLmFjdGl2ZUNhbWVyYX12YXIgYT1yLnZpZXdwb3J0LHM9YS50b0dsb2JhbChuLmdldFJlbmRlcldpZHRoKCksbi5nZXRSZW5kZXJIZWlnaHQoKSksbz1JLklkZW50aXR5KCk7cmV0dXJuIGk9aS9uLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktcy54LGU9ZS9uLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKG4uZ2V0UmVuZGVySGVpZ2h0KCktcy55LXMuaGVpZ2h0KSx0LnVwZGF0ZShpLGUscy53aWR0aCxzLmhlaWdodCxvLG8sci5nZXRQcm9qZWN0aW9uTWF0cml4KCkpLHRoaXN9LGVlLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrRm9yTWVzaD1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8pe3ZhciB1PWUocix0LmVuYWJsZURpc3RhbnRQaWNraW5nKSxmPXQuaW50ZXJzZWN0cyh1LG4scyxhLHIsbyk7cmV0dXJuIWZ8fCFmLmhpdHx8IW4mJmkhPW51bGwmJmYuZGlzdGFuY2U+PWkuZGlzdGFuY2U/bnVsbDpmfSxlZS5wcm90b3R5cGUuX2ludGVybmFsUGljaz1mdW5jdGlvbihpLGUsdCxyLG4pe2lmKCFRZSlyZXR1cm4gbnVsbDtmb3IodmFyIGE9bnVsbCxzPTA7czx0aGlzLm1lc2hlcy5sZW5ndGg7cysrKXt2YXIgbz10aGlzLm1lc2hlc1tzXTtpZihlKXtpZighZShvKSljb250aW51ZX1lbHNlIGlmKCFvLmlzRW5hYmxlZCgpfHwhby5pc1Zpc2libGV8fCFvLmlzUGlja2FibGUpY29udGludWU7dmFyIHU9by5nZXRXb3JsZE1hdHJpeCgpO2lmKG8uaGFzVGhpbkluc3RhbmNlcyYmby50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXt2YXIgZj10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKGEsaSxvLHUsITAsITAsbik7aWYoZil7aWYocilyZXR1cm4gZjtmb3IodmFyIGw9RC5NYXRyaXhbMV0saD1vLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKSxjPTA7YzxoLmxlbmd0aDtjKyspe3ZhciBkPWhbY107ZC5tdWx0aXBseVRvUmVmKHUsbCk7dmFyIHA9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyxsLHQscixuLCEwKTtpZihwJiYoYT1wLGEudGhpbkluc3RhbmNlSW5kZXg9Yyx0KSlyZXR1cm4gYX19fWVsc2V7dmFyIGY9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyx1LHQscixuKTtpZihmJiYoYT1mLHQpKXJldHVybiBhfX1yZXR1cm4gYXx8bmV3IFFlfSxlZS5wcm90b3R5cGUuX2ludGVybmFsTXVsdGlQaWNrPWZ1bmN0aW9uKGksZSx0KXtpZighUWUpcmV0dXJuIG51bGw7Zm9yKHZhciByPW5ldyBBcnJheSxuPTA7bjx0aGlzLm1lc2hlcy5sZW5ndGg7bisrKXt2YXIgYT10aGlzLm1lc2hlc1tuXTtpZihlKXtpZighZShhKSljb250aW51ZX1lbHNlIGlmKCFhLmlzRW5hYmxlZCgpfHwhYS5pc1Zpc2libGV8fCFhLmlzUGlja2FibGUpY29udGludWU7dmFyIHM9YS5nZXRXb3JsZE1hdHJpeCgpO2lmKGEuaGFzVGhpbkluc3RhbmNlcyYmYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXt2YXIgbz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsaSxhLHMsITAsITAsdCk7aWYobylmb3IodmFyIHU9RC5NYXRyaXhbMV0sZj1hLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKSxsPTA7bDxmLmxlbmd0aDtsKyspe3ZhciBoPWZbbF07aC5tdWx0aXBseVRvUmVmKHMsdSk7dmFyIGM9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGksYSx1LCExLCExLHQsITApO2MmJihjLnRoaW5JbnN0YW5jZUluZGV4PWwsci5wdXNoKGMpKX19ZWxzZXt2YXIgbz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsaSxhLHMsITEsITEsdCk7byYmci5wdXNoKG8pfX1yZXR1cm4gcn0sZWUucHJvdG90eXBlLnBpY2tXaXRoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGksZSx0LHIsbil7dmFyIGE9dGhpcztpZighUWUpcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5faW50ZXJuYWxQaWNrKGZ1bmN0aW9uKG8pe3JldHVybiBhLl90ZW1wUGlja2luZ1JheXx8KGEuX3RlbXBQaWNraW5nUmF5PWF0Llplcm8oKSksYS5jcmVhdGVQaWNraW5nUmF5VG9SZWYoaSxlLG8sYS5fdGVtcFBpY2tpbmdSYXksbnx8bnVsbCksYS5fdGVtcFBpY2tpbmdSYXl9LHQsciwhMCk7cmV0dXJuIHMmJihzLnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoaSxlLEkuSWRlbnRpdHkoKSxufHxudWxsKSksc30sZWUucHJvdG90eXBlLnBpY2s9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7dmFyIG89dGhpcztpZighUWUpcmV0dXJuIG51bGw7dmFyIHU9dGhpcy5faW50ZXJuYWxQaWNrKGZ1bmN0aW9uKGYsbCl7cmV0dXJuIG8uX3RlbXBQaWNraW5nUmF5fHwoby5fdGVtcFBpY2tpbmdSYXk9YXQuWmVybygpKSxvLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihpLGUsZixvLl90ZW1wUGlja2luZ1JheSxufHxudWxsLCExLGwpLG8uX3RlbXBQaWNraW5nUmF5fSx0LHIsITEsYSk7cmV0dXJuIHUmJih1LnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoaSxlLEkuSWRlbnRpdHkoKSxufHxudWxsKSksdX0sZWUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKGksZSx0LHIpe3ZhciBuPXRoaXMsYT10aGlzLl9pbnRlcm5hbFBpY2soZnVuY3Rpb24ocyl7cmV0dXJuIG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1JLklkZW50aXR5KCkpLHMuaW52ZXJ0VG9SZWYobi5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSxuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fChuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09YXQuWmVybygpKSxhdC5UcmFuc2Zvcm1Ub1JlZihpLG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCxuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLG4uX2NhY2hlZFJheUZvclRyYW5zZm9ybX0sZSx0LCExLHIpO3JldHVybiBhJiYoYS5yYXk9aSksYX0sZWUucHJvdG90eXBlLm11bHRpUGljaz1mdW5jdGlvbihpLGUsdCxyLG4pe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuX2ludGVybmFsTXVsdGlQaWNrKGZ1bmN0aW9uKHMpe3JldHVybiBhLmNyZWF0ZVBpY2tpbmdSYXkoaSxlLHMscnx8bnVsbCl9LHQsbil9LGVlLnByb3RvdHlwZS5tdWx0aVBpY2tXaXRoUmF5PWZ1bmN0aW9uKGksZSx0KXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhmdW5jdGlvbihuKXtyZXR1cm4gci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwoci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PUkuSWRlbnRpdHkoKSksbi5pbnZlcnRUb1JlZihyLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybT1hdC5aZXJvKCkpLGF0LlRyYW5zZm9ybVRvUmVmKGksci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksci5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfSxlLHQpfSxPZS5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheT1mdW5jdGlvbihpLGUsdCl7cmV0dXJuIGk9PT12b2lkIDAmJihpPTEwMCksdGhpcy5nZXRGb3J3YXJkUmF5VG9SZWYobmV3IGF0KGIuWmVybygpLGIuWmVybygpLGkpLGksZSx0KX0sT2UucHJvdG90eXBlLmdldEZvcndhcmRSYXlUb1JlZj1mdW5jdGlvbihpLGUsdCxyKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MTAwKSx0fHwodD10aGlzLmdldFdvcmxkTWF0cml4KCkpLGkubGVuZ3RoPWUscj9pLm9yaWdpbi5jb3B5RnJvbShyKTppLm9yaWdpbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSxELlZlY3RvcjNbMl0uc2V0KDAsMCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxKSxiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKEQuVmVjdG9yM1syXSx0LEQuVmVjdG9yM1szXSksYi5Ob3JtYWxpemVUb1JlZihELlZlY3RvcjNbM10saS5kaXJlY3Rpb24pLGl9O3ZhciB2Zj1mdW5jdGlvbihpLGUsdCl7Zm9yKHZhciByIGluIGUpaWYoaS5uYW1lPT09ZVtyXSlyZXR1cm4gdC5wdXNoKGkuaWQpLCEwO3JldHVybiBpLnBhcmVudElkJiZ0LmluZGV4T2YoaS5wYXJlbnRJZCkhPT0tMT8odC5wdXNoKGkuaWQpLCEwKTohMX0seHI9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gaSsiIG9mICIrKGU/ZS5maWxlKyIgZnJvbSAiK2UubmFtZSsiIHZlcnNpb246ICIrZS52ZXJzaW9uKyIsIGV4cG9ydGVyIHZlcnNpb246ICIrZS5leHBvcnRlcl92ZXJzaW9uOiJ1bmtub3duIil9O0tlLlJlZ2lzdGVyUGx1Z2luKHtuYW1lOiJiYWJ5bG9uLmpzIixleHRlbnNpb25zOiIuanNvbiIsY2FuRGlyZWN0TG9hZDpmdW5jdGlvbihpKXtyZXR1cm4gaS5pbmRleE9mKCJqc29uIikhPT0tMSwhMH0saW1wb3J0TWVzaDpmdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8pe3ZhciB1PSJpbXBvcnRNZXNoIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBmPUpTT04ucGFyc2UodCk7Zi5waHlzaWNzRW5hYmxlZD0hMSxmPT1udWxsfHxmLm1lc2hlcy5tYXAoeT0+ZGVsZXRlIHkucGh5c2ljc0ltcG9zdG9yKSx1PSIiO3ZhciBsPUtlLmxvZ2dpbmdMZXZlbD09PUtlLkRFVEFJTEVEX0xPR0dJTkc7aT9BcnJheS5pc0FycmF5KGkpfHwoaT1baV0pOmk9bnVsbDt2YXIgaD1uZXcgQXJyYXk7aWYoZi5tZXNoZXMhPT12b2lkIDAmJmYubWVzaGVzIT09bnVsbCl7dmFyIGMsZDtmb3IoYz0wLGQ9Zi5tZXNoZXMubGVuZ3RoO2M8ZDtjKyspe3ZhciBwPWYubWVzaGVzW2NdO2lmKGk9PT1udWxsfHx2ZihwLGksaCkpe2khPT1udWxsJiZkZWxldGUgaVtpLmluZGV4T2YocC5uYW1lKV07dmFyIGc9US5QYXJzZShwLGUscik7bi5wdXNoKGcpLHUrPWAKCU1lc2ggYCtnLnRvU3RyaW5nKGwpfX12YXIgXztmb3IoYz0wLGQ9ZS5tZXNoZXMubGVuZ3RoO2M8ZDtjKyspXz1lLm1lc2hlc1tjXSxfLl93YWl0aW5nUGFyZW50SWQmJihfLnBhcmVudD1lLmdldExhc3RFbnRyeUJ5SUQoXy5fd2FpdGluZ1BhcmVudElkKSxfLl93YWl0aW5nUGFyZW50SWQ9bnVsbCksXy5jb21wdXRlV29ybGRNYXRyaXgoITApfXJldHVybiEwfWNhdGNoKHkpe3ZhciB2PXhyKCJpbXBvcnRNZXNoIixmP2YucHJvZHVjZXI6IlVua25vd24iKSt1O2lmKG8pbyh2LHkpO2Vsc2UgdGhyb3cgay5Mb2codikseX1maW5hbGx5e3UhPT1udWxsJiZLZS5sb2dnaW5nTGV2ZWwhPT1LZS5OT19MT0dHSU5HJiZrLkxvZyh4cigiaW1wb3J0TWVzaCIsZj9mLnByb2R1Y2VyOiJVbmtub3duIikrKEtlLmxvZ2dpbmdMZXZlbCE9PUtlLk1JTklNQUxfTE9HR0lORz91OiIiKSl9cmV0dXJuITF9LGxvYWQ6ZnVuY3Rpb24oaSxlLHQscil7dmFyIG49ImltcG9ydFNjZW5lIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBhPUpTT04ucGFyc2UoZSk7bj0iIixhLmNsZWFyQ29sb3IhPT12b2lkIDAmJmEuY2xlYXJDb2xvciE9PW51bGwmJihpLmNsZWFyQ29sb3I9Q29sb3I0LkZyb21BcnJheShhLmNsZWFyQ29sb3IpKTt2YXIgcz1sb2FkQXNzZXRDb250YWluZXIoaSxlLHQsciwhMCk7cmV0dXJuISFzfWNhdGNoKHUpe3ZhciBvPXhyKCJpbXBvcnRTY2VuZSIsYT9hLnByb2R1Y2VyOiJVbmtub3duIikrbjtpZihyKXIobyx1KTtlbHNlIHRocm93IGsuTG9nKG8pLHV9ZmluYWxseXtuIT09bnVsbCYmS2UubG9nZ2luZ0xldmVsIT09S2UuTk9fTE9HR0lORyYmay5Mb2coeHIoImltcG9ydFNjZW5lIixhP2EucHJvZHVjZXI6IlVua25vd24iKSsoS2UubG9nZ2luZ0xldmVsIT09S2UuTUlOSU1BTF9MT0dHSU5HP246IiIpKX1yZXR1cm4hMX0sbG9hZEFzc2V0Q29udGFpbmVyOmZ1bmN0aW9uKGksZSx0LHIpe3ZhciBuPWxvYWRBc3NldENvbnRhaW5lcihpLGUsdCxyKTtyZXR1cm4gbn19KSxRLl9pbnN0YW5jZWRNZXNoRmFjdG9yeT1mdW5jdGlvbihpLGUpe3ZhciB0PW5ldyBtZihpLGUpO2lmKGUuaW5zdGFuY2VkQnVmZmVycyl7dC5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcih2YXIgciBpbiBlLmluc3RhbmNlZEJ1ZmZlcnMpdC5pbnN0YW5jZWRCdWZmZXJzW3JdPWUuaW5zdGFuY2VkQnVmZmVyc1tyXX1yZXR1cm4gdH07dmFyIG1mPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyLmdldFNjZW5lKCkpfHx0aGlzO24uX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSxuLl9kaXN0YW5jZVRvQ2FtZXJhPTAsci5hZGRJbnN0YW5jZShuKSxuLl9zb3VyY2VNZXNoPXIsbi5fdW5JbmRleGVkPXIuX3VuSW5kZXhlZCxuLnBvc2l0aW9uLmNvcHlGcm9tKHIucG9zaXRpb24pLG4ucm90YXRpb24uY29weUZyb20oci5yb3RhdGlvbiksbi5zY2FsaW5nLmNvcHlGcm9tKHIuc2NhbGluZyksci5yb3RhdGlvblF1YXRlcm5pb24mJihuLnJvdGF0aW9uUXVhdGVybmlvbj1yLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxuLmFuaW1hdGlvbnM9ci5hbmltYXRpb25zLnNsaWNlKCk7Zm9yKHZhciBhPTAscz1yLmdldEFuaW1hdGlvblJhbmdlcygpO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28hPW51bGwmJm4uY3JlYXRlQW5pbWF0aW9uUmFuZ2Uoby5uYW1lLG8uZnJvbSxvLnRvKX1yZXR1cm4gbi5pbmZpbml0ZURpc3RhbmNlPXIuaW5maW5pdGVEaXN0YW5jZSxuLnNldFBpdm90TWF0cml4KHIuZ2V0UGl2b3RNYXRyaXgoKSksbi5yZWZyZXNoQm91bmRpbmdJbmZvKCEwLCEwKSxuLl9zeW5jU3ViTWVzaGVzKCksbn1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkluc3RhbmNlZE1lc2gifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0U291cmNlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9saWdodFNvdXJjZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3Jlc3luY0xpZ2h0U291cmNlcz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3Jlc3luY0xpZ2h0U291cmNlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcmVtb3ZlTGlnaHRTb3VyY2U9ZnVuY3Rpb24oKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVjZWl2ZVNoYWRvd3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZWNlaXZlU2hhZG93c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gubWF0ZXJpYWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ2aXNpYmlsaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guc2tlbGV0b259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJpbmdHcm91cElkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZH0sc2V0OmZ1bmN0aW9uKHQpeyF0aGlzLl9zb3VyY2VNZXNofHx0PT09dGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfHxrLldhcm4oIk5vdGUgLSBzZXR0aW5nIHJlbmRlcmluZ0dyb3VwSWQgb2YgYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCBvbiB0aGUgc2NlbmUiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2g/dGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk6MH0sZS5wcm90b3R5cGUuZ2V0VG90YWxJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxJbmRpY2VzKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic291cmNlTWVzaCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKHQpfSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksdGhpcy5fc291cmNlTWVzaC5pc1JlYWR5KHQsITApfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRWZXJ0aWNlc0RhdGEodCxyKX0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRWZXJ0aWNlc0RhdGEodCxyLG4sYSksdGhpcy5zb3VyY2VNZXNofSxlLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbixhKSx0aGlzLnNvdXJjZU1lc2h9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0SW5kaWNlcyh0LHIpLHRoaXMuc291cmNlTWVzaH0sZS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudCh0KX0sZS5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldEluZGljZXMoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfcG9zaXRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX3Bvc2l0aW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpczt2YXIgbj10aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5P3RoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fc291cmNlTWVzaC5fZ2V0UG9zaXRpb25EYXRhKHQsciksbiksdGhpc30sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuX3ByZUFjdGl2YXRlKCksdGhpc30sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQscil7aWYoaS5wcm90b3R5cGUuX2FjdGl2YXRlLmNhbGwodGhpcyx0LHIpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzfHxrLldhcm4oIkluc3RhbmNlcyBzaG91bGQgb25seSBiZSBjcmVhdGVkIGZvciBtZXNoZXMgd2l0aCBnZW9tZXRyeS4iKSx0aGlzLl9jdXJyZW50TE9EKXt2YXIgbj10aGlzLl9jdXJyZW50TE9ELl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTAhPXRoaXMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MDtpZihuKXJldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSEwLCEwO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRC5fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKHRoaXMsdCkscil7aWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSEwLCEwfWVsc2UgaWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSEwLCEwfXJldHVybiExfSxlLnByb3RvdHlwZS5fcG9zdEFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fc291cmNlTWVzaC5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwPyh0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSk6dGhpcy5fZWRnZXNSZW5kZXJlciYmdGhpcy5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaCh0aGlzLl9lZGdlc1JlbmRlcmVyKX0sZS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtpZih0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELmJpbGxib2FyZE1vZGUhPT1KZS5CSUxMQk9BUkRNT0RFX05PTkUmJnRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2ghPT10aGlzKXt0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeHx8KHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4PW5ldyBJKTt2YXIgdD10aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoO3JldHVybiB0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXRoaXMsRC5WZWN0b3IzWzddLmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24pLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uY29weUZyb20oRC5WZWN0b3IzWzddKSx0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXQsdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh9cmV0dXJuIGkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4LmNhbGwodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNBbkluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TE9EPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciByPXRoaXMuc291cmNlTWVzaC5nZXRMT0RMZXZlbHMoKTtpZighcnx8ci5sZW5ndGg9PT0wKXRoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoO2Vsc2V7dmFyIG49dGhpcy5nZXRCb3VuZGluZ0luZm8oKTt0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaC5nZXRMT0QodCxuLmJvdW5kaW5nU3BoZXJlKX1yZXR1cm4gdGhpcy5fY3VycmVudExPRH0sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvdXJjZU1lc2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKHQpfSxlLnByb3RvdHlwZS5fc3luY1N1Yk1lc2hlcz1mdW5jdGlvbigpe2lmKHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzKWZvcih2YXIgdD0wO3Q8dGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMubGVuZ3RoO3QrKyl0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc1t0XS5jbG9uZSh0aGlzLHRoaXMuX3NvdXJjZU1lc2gpO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fZ2VuZXJhdGVQb2ludHNBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9nZW5lcmF0ZVBvaW50c0FycmF5KCl9LGUucHJvdG90eXBlLl91cGRhdGVCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNCb3VuZGluZ0luZm8/dGhpcy5nZXRCb3VuZGluZ0luZm8oKS51cGRhdGUodGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSk6dGhpcy5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLmFic29sdXRlUG9zaXRpb24sdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXMuX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9bnVsbCk7dmFyIGE9dGhpcy5fc291cmNlTWVzaC5jcmVhdGVJbnN0YW5jZSh0KTtpZih6ci5EZWVwQ29weSh0aGlzLGEsWyJuYW1lIiwic3ViTWVzaGVzIiwidW5pcXVlSWQiLCJwYXJlbnQiLCJsaWdodFNvdXJjZXMiLCJyZWNlaXZlU2hhZG93cyIsIm1hdGVyaWFsIiwidmlzaWJpbGl0eSIsInNrZWxldG9uIiwic291cmNlTWVzaCIsImlzQW5JbnN0YW5jZSIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJpc0Jsb2NrZWQiLCJ1c2VCb25lcyIsImhhc0luc3RhbmNlcyIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiaGFzQm91bmRpbmdJbmZvIl0sW10pLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHImJihhLnBhcmVudD1yKSwhbilmb3IodmFyIHM9MDtzPHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5nZXRTY2VuZSgpLm1lc2hlc1tzXTtvLnBhcmVudD09PXRoaXMmJm8uY2xvbmUoby5uYW1lLGEpfXJldHVybiBhLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLGF9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fc291cmNlTWVzaC5yZW1vdmVJbnN0YW5jZSh0aGlzKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxlfSh0aSk7US5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXI9ZnVuY3Rpb24oaSxlKXt2YXIgdCxyO2lmKChyPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbaV0pPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksIXRoaXMuaW5zdGFuY2VkQnVmZmVycyl7dGhpcy5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcih2YXIgbj0wLGE9dGhpcy5pbnN0YW5jZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5pbnN0YW5jZWRCdWZmZXJzPXt9fXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZT17ZGF0YTp7fSx2ZXJ0ZXhCdWZmZXJzOnt9LHN0cmlkZXM6e30sc2l6ZXM6e30sdmVydGV4QXJyYXlPYmplY3RzOnRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0P3t9OnZvaWQgMH0pfXRoaXMuaW5zdGFuY2VkQnVmZmVyc1tpXT1udWxsLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW2ldPWUsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldPWUqMzIsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheSh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV0pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldPW5ldyBtKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0saSwhMCwhMSxlLCEwKTtmb3IodmFyIG89MCx1PXRoaXMuaW5zdGFuY2VzO288dS5sZW5ndGg7bysrKXt2YXIgcz11W29dO3MuaW5zdGFuY2VkQnVmZmVyc1tpXT1udWxsfXRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9LFEucHJvdG90eXBlLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycz1mdW5jdGlvbihpLGUpe3ZhciB0PWkubGVuZ3RoO2Zvcih2YXIgciBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe2Zvcih2YXIgbj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbcl0sYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tyXSxzPSh0KzEpKmE7bjxzOyluKj0yO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdLmxlbmd0aCE9biYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdPW5ldyBGbG9hdDMyQXJyYXkobiksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW3JdPW4sdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl0mJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl09bnVsbCkpO3ZhciBvPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdLHU9MDtpZihlKXt2YXIgZj10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbcl07Zi50b0FycmF5P2YudG9BcnJheShvLHUpOmYuY29weVRvQXJyYXk/Zi5jb3B5VG9BcnJheShvLHUpOm9bdV09Zix1Kz1hfWZvcih2YXIgbD0wO2w8dDtsKyspe3ZhciBoPWlbbF0sZj1oLmluc3RhbmNlZEJ1ZmZlcnNbcl07Zi50b0FycmF5P2YudG9BcnJheShvLHUpOmYuY29weVRvQXJyYXk/Zi5jb3B5VG9BcnJheShvLHUpOm9bdV09Zix1Kz1hfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdP3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdLnVwZGF0ZURpcmVjdGx5KG8sMCk6KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdPW5ldyBtKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbcl0sciwhMCwhMSxhLCEwKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKX19LFEucHJvdG90eXBlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpe2lmKCEoIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz09PXZvaWQgMCkpe2Zvcih2YXIgaSBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzKXRoaXMuZ2V0RW5naW5lKCkucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHNbaV0pO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e319fSxRLnByb3RvdHlwZS5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXIuZGlzcG9zZSgpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyPW51bGwpO3RoaXMuaW5zdGFuY2VzLmxlbmd0aDspdGhpcy5pbnN0YW5jZXNbMF0uZGlzcG9zZSgpO2Zvcih2YXIgaSBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgeW49aT0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSkseWY9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsfSxkdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3FlKHRoaXMsInZhbHVlIiwwKTtxZSh0aGlzLCJhc2xlZXAiLCExKTt0aGlzLmNvbmZpZz17Li4ueWYsLi4uZX0sdGhpcy5pZD10aGlzLmNvbmZpZy5pZCE9PXZvaWQgMD90aGlzLmNvbmZpZy5pZDpEYXRlLm5vdygpLHRoaXMuZGllVHlwZT1gZCR7dGhpcy5jb25maWcuc2lkZXN9YCx0aGlzLmNvbWJvS2V5PWAke3RoaXMuY29uZmlnLnRoZW1lfV8ke3RoaXMuZGllVHlwZX1gLHRoaXMuc2NlbmU9dCx0aGlzLmNyZWF0ZUluc3RhbmNlKCl9Y3JlYXRlSW5zdGFuY2UoKXtjb25zdCBlPWAke3RoaXMuY29uZmlnLm1lc2hOYW1lfV8ke3RoaXMuZGllVHlwZX1fJHt0aGlzLmNvbmZpZy50aGVtZX0ke3RoaXMuY29uZmlnLmNvbG9yU3VmZml4fWAsdD1gJHtlfS1pbnN0YW5jZS0ke3RoaXMuaWR9YCxyPXRoaXMuc2NlbmUuZ2V0TWVzaEJ5TmFtZShlKS5jcmVhdGVJbnN0YW5jZSh0KTtpZih0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeC5sZW5ndGg+MCl7Y29uc3Qgbj1iZS5Gcm9tSGV4U3RyaW5nKHRoaXMuY29uZmlnLnRoZW1lQ29sb3IpO3IuaW5zdGFuY2VkQnVmZmVycy5jdXN0b21Db2xvcj1ufXIucG9zaXRpb24ueT0tMTAwLHIuc2NhbGluZz1uZXcgYih0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSksdGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmdGhpcy5jb25maWcubGlnaHRzLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5hZGRTaGFkb3dDYXN0ZXIociksdGhpcy5tZXNoPXJ9c3RhdGljIGFzeW5jIGxvYWREaWUoZSx0KXtjb25zdHtzaWRlczpyLHRoZW1lOm49ImRlZmF1bHQiLG1lc2hOYW1lOmEsY29sb3JTdWZmaXg6c309ZSxvPWErIl9kIityLHU9bysiXyIrbitzO2xldCBmPXQuZ2V0TWVzaEJ5TmFtZSh1KTtyZXR1cm4gZnx8KGY9dC5nZXRNZXNoQnlOYW1lKG8pLmNsb25lKHUpKSxmLm1hdGVyaWFsfHwoZi5tYXRlcmlhbD10LmdldE1hdGVyaWFsQnlOYW1lKG4rcykscy5sZW5ndGg+MCYmZi5yZWdpc3Rlckluc3RhbmNlZEJ1ZmZlcigiY3VzdG9tQ29sb3IiLDMpKSxlfXN0YXRpYyBhc3luYyBsb2FkTW9kZWxzKGUsdCl7Y29uc3R7bWVzaEZpbGVQYXRoOnIsbWVzaE5hbWU6bixzY2FsZTphLGQ0RmFjZURvd246cz0hMH09ZTtsZXQgbz0hMSx1PSExO2NvbnN0IGY9YXdhaXQgZmV0Y2goYCR7cn1gKS50aGVuKGw9PntpZihsLm9rKXtjb25zdCBoPWwuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpO2lmKGgmJmguaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpIT09LTEpcmV0dXJuIGwuanNvbigpO2lmKGwudHlwZSYmbC50eXBlPT09ImJhc2ljIilyZXR1cm4gbC5qc29uKCk7dGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgY29udGVudFR5cGU6ICR7aH0uIEV4cGVjdGVkICJhcHBsaWNhdGlvbi9qc29uIiBvciAiYmFzaWMiYCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBsb2FkIDNEIG1lc2ggZmlsZTogJyR7cn0nLiBSZXF1ZXN0IHJlamVjdGVkIHdpdGggc3RhdHVzICR7bC5zdGF0dXN9OiAke2wuc3RhdHVzVGV4dH1gKX0pLmNhdGNoKGw9PmNvbnNvbGUuZXJyb3IobCkpO2lmKGYpcmV0dXJuIEtlLkltcG9ydE1lc2hBc3luYyhudWxsLG51bGwsImRhdGE6IitKU09OLnN0cmluZ2lmeShmKSx0KS50aGVuKGw9PntpZihsLm1lc2hlcy5mb3JFYWNoKGg9PntoLm5hbWU9PT0iX19yb290X18iJiZoLmRpc3Bvc2UoKSxoLm5hbWUuaW5jbHVkZXMoImNvbGxpZGVyIikmJihoLnNjYWxpbmc9bmV3IGIoLjksLjksLjkpKSxvfHwobz1oLm5hbWU9PT0iZDEwMCIpLHV8fCh1PWgubmFtZT09PSJkMTAiKSxoLnNldEVuYWJsZWQoITEpLGguZnJlZXplTm9ybWFscygpLGguZnJlZXplV29ybGRNYXRyaXgoKSxoLmlzUGlja2FibGU9ITEsaC5kb05vdFN5bmNCb3VuZGluZ0luZm89ITAsaC5uYW1lPW4rIl8iK2gubmFtZX0pLCFvJiZ1JiYodC5nZXRNZXNoQnlOYW1lKG4rIl9kMTAiKS5jbG9uZShuKyJfZDEwMCIpLHQuZ2V0TWVzaEJ5TmFtZShuKyJfZDEwX2NvbGxpZGVyIikuY2xvbmUobisiX2QxMDBfY29sbGlkZXIiKSxmLmNvbGxpZGVyRmFjZU1hcCYmKGYuY29sbGlkZXJGYWNlTWFwLmQxMDA9eW4oZi5jb2xsaWRlckZhY2VNYXAuZDEwKSxPYmplY3QudmFsdWVzKGYuY29sbGlkZXJGYWNlTWFwLmQxMDApLmZvckVhY2goKGgsYyk9PntmLmNvbGxpZGVyRmFjZU1hcC5kMTAwW2NdPWgqKGg9PT0xMD8wOjEwKX0pKSksIWYuY29sbGlkZXJGYWNlTWFwKXRocm93IG5ldyBFcnJvcihgJ2NvbGxpZGVyRmFjZU1hcCcgZGF0YSBub3QgZm91bmQgaW4gJHtyfS4gV2l0aG91dCB0aGUgY29sbGlkZXJGYWNlTWFwIGRhdGEgZGljZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXNvbHZlZC5gKTt0LnRoZW1lRGF0YVtuXT17fSx0LnRoZW1lRGF0YVtuXS5jb2xsaWRlckZhY2VNYXA9Zi5jb2xsaWRlckZhY2VNYXAsdC50aGVtZURhdGFbbl0uZDRGYWNlRG93bj1zfSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSksZi5tZXNoZXMuZmlsdGVyKGw9PmwubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSl9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPXsuLi50aGlzLmNvbmZpZywuLi5lfX1zdGF0aWMgc2V0VmVjdG9yMyhlLHQscil7cmV0dXJuIGR0LnZlY3RvcjMuc2V0KGUsdCxyKX1zdGF0aWMgZ2V0VmVjdG9yMygpe3JldHVybiBkdC52ZWN0b3IzfXN0YXRpYyBhc3luYyBnZXRSb2xsUmVzdWx0KGUsdCl7Y29uc3Qgcj0obj1lKT0+bmV3IFByb21pc2UoKGEscyk9Pntjb25zdCBvPWUuY29uZmlnLnBhcmVudE1lc2h8fGUuY29uZmlnLm1lc2hOYW1lLHU9dC50aGVtZURhdGFbb10uY29sbGlkZXJGYWNlTWFwLGY9dC50aGVtZURhdGFbb10uZDRGYWNlRG93bjtpZighdVtuLmRpZVR5cGVdKXRocm93IG5ldyBFcnJvcihgTm8gY29sbGlkZXJGYWNlTWFwIGRhdGEgZm9yICR7bi5kaWVUeXBlfWApO2NvbnN0IGw9dC5nZXRNZXNoQnlOYW1lKGAke299XyR7bi5kaWVUeXBlfV9jb2xsaWRlcmApLmNyZWF0ZUluc3RhbmNlKGAke299XyR7bi5kaWVUeXBlfS1oaXRib3gtJHtuLmlkfWApO2wuaXNQaWNrYWJsZT0hMCxsLmlzVmlzaWJsZT0hMCxsLnNldEVuYWJsZWQoITApLGwucG9zaXRpb249bi5tZXNoLnBvc2l0aW9uLGwucm90YXRpb25RdWF0ZXJuaW9uPW4ubWVzaC5yb3RhdGlvblF1YXRlcm5pb247bGV0IGg9ZHQuc2V0VmVjdG9yMygwLDEsMCk7bi5kaWVUeXBlPT09ImQ0IiYmZiYmKGg9ZHQuc2V0VmVjdG9yMygwLC0xLDApKSxkdC5yYXkuZGlyZWN0aW9uPWgsZHQucmF5Lm9yaWdpbj1lLm1lc2gucG9zaXRpb247Y29uc3QgYz10LnBpY2tXaXRoUmF5KGR0LnJheSk7aWYobC5kaXNwb3NlKCksbi52YWx1ZT11W24uZGllVHlwZV1bYy5mYWNlSWRdLG4udmFsdWU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBjb2xsaWRlckZhY2VNYXAgRXJyb3I6IE5vIHZhbHVlIGZvdW5kIGZvciAke24uZGllVHlwZX0gbWVzaCBmYWNlICR7Yy5mYWNlSWR9YCk7cmV0dXJuIGEobi52YWx1ZSl9KS5jYXRjaChhPT5jb25zb2xlLmVycm9yKGEpKTtyZXR1cm4gZS5tZXNoP2F3YWl0IHIoKTplLnZhbHVlfX07bGV0IHN0PWR0O3FlKHN0LCJyYXkiLG5ldyBhdChiLlplcm8oKSxiLlplcm8oKSwxKSkscWUoc3QsInZlY3RvcjMiLG5ldyBiLlplcm8pO3ZhciBiZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGl9KCksRHI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLkN1c3RvbVBhcnRzPW5ldyBiZixuLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlPW4uQnVpbGRlcixuLkZyYWdtZW50U2hhZGVyPUdlLlNoYWRlcnNTdG9yZS5kZWZhdWx0UGl4ZWxTaGFkZXIsbi5WZXJ0ZXhTaGFkZXI9R2UuU2hhZGVyc1N0b3JlLmRlZmF1bHRWZXJ0ZXhTaGFkZXIsbn1yZXR1cm4gZS5wcm90b3R5cGUuQXR0YWNoQWZ0ZXJCaW5kPWZ1bmN0aW9uKHQscil7aWYodGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcylmb3IodmFyIG4gaW4gdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcyl7dmFyIGE9bi50b1N0cmluZygpLnNwbGl0KCItIik7YVswXT09InZlYzIiP3Iuc2V0VmVjdG9yMihhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pOmFbMF09PSJ2ZWMzIj9yLnNldFZlY3RvcjMoYVsxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW25dKTphWzBdPT0idmVjNCI/ci5zZXRWZWN0b3I0KGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSk6YVswXT09Im1hdDQiP3Iuc2V0TWF0cml4KGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSk6YVswXT09ImZsb2F0IiYmci5zZXRGbG9hdChhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pfWlmKHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpZm9yKHZhciBuIGluIHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpe3ZhciBhPW4udG9TdHJpbmcoKS5zcGxpdCgiLSIpO2FbMF09PSJzYW1wbGVyMkQiJiZ0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW25dLmlzUmVhZHkmJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbbl0uaXNSZWFkeSgpJiZyLnNldFRleHR1cmUoYVsxXSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW25dKX19LGUucHJvdG90eXBlLlJldmlld1VuaWZvcm09ZnVuY3Rpb24odCxyKXtpZih0PT0idW5pZm9ybSImJnRoaXMuX25ld1VuaWZvcm1zKWZvcih2YXIgbj0wO248dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO24rKyl0aGlzLl9jdXN0b21Vbmlmb3JtW25dLmluZGV4T2YoInNhbXBsZXIiKT09LTEmJnIucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tuXSk7aWYodD09InNhbXBsZXIiJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IodmFyIG49MDtuPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtuKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtuXS5pbmRleE9mKCJzYW1wbGVyIikhPS0xJiZyLnB1c2godGhpcy5fbmV3VW5pZm9ybXNbbl0pO3JldHVybiByfSxlLnByb3RvdHlwZS5CdWlsZGVyPWZ1bmN0aW9uKHQscixuLGEscyxvKXt2YXIgdT10aGlzO2lmKG8mJnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMmJnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMubGVuZ3RoPjAmJm8ucHVzaC5hcHBseShvLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMpLHRoaXMuUmV2aWV3VW5pZm9ybSgidW5pZm9ybSIsciksdGhpcy5SZXZpZXdVbmlmb3JtKCJzYW1wbGVyIixhKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXIpcmV0dXJuIHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lO3RoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMSxlLlNoYWRlckluZGV4ZXIrKzt2YXIgZj0iY3VzdG9tXyIrZS5TaGFkZXJJbmRleGVyLGw9dGhpcy5fYWZ0ZXJCaW5kLmJpbmQodGhpcyk7cmV0dXJuIHRoaXMuX2FmdGVyQmluZD1mdW5jdGlvbihoLGMpe2lmKGMpe3UuQXR0YWNoQWZ0ZXJCaW5kKGgsYyk7dHJ5e2woaCxjKX1jYXRjaHt9fX0sR2UuU2hhZGVyc1N0b3JlW2YrIlZlcnRleFNoYWRlciJdPXRoaXMuVmVydGV4U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQmJihHZS5TaGFkZXJzU3RvcmVbZisiVmVydGV4U2hhZGVyIl09R2UuU2hhZGVyc1N0b3JlW2YrIlZlcnRleFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQpKSxHZS5TaGFkZXJzU3RvcmVbZisiUGl4ZWxTaGFkZXIiXT10aGlzLkZyYWdtZW50U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nJiYoR2UuU2hhZGVyc1N0b3JlW2YrIlBpeGVsU2hhZGVyIl09R2UuU2hhZGVyc1N0b3JlW2YrIlBpeGVsU2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nKSksdGhpcy5faXNDcmVhdGVkU2hhZGVyPSEwLHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lPWYsZn0sZS5wcm90b3R5cGUuQWRkVW5pZm9ybT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2N1c3RvbVVuaWZvcm18fCh0aGlzLl9jdXN0b21Vbmlmb3JtPW5ldyBBcnJheSx0aGlzLl9uZXdVbmlmb3Jtcz1uZXcgQXJyYXksdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcz17fSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzPXt9KSxuJiYoci5pbmRleE9mKCJzYW1wbGVyIikhPS0xP3RoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbcisiLSIrdF09bjp0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW3IrIi0iK3RdPW4pLHRoaXMuX2N1c3RvbVVuaWZvcm0ucHVzaCgidW5pZm9ybSAiK3IrIiAiK3QrIjsiKSx0aGlzLl9uZXdVbmlmb3Jtcy5wdXNoKHQpLHRoaXN9LGUucHJvdG90eXBlLkFkZEF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3VzdG9tQXR0cmlidXRlc3x8KHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXM9W10pLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMucHVzaCh0KSx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9CZWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0RlZmluaXRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfTWFpbkJlZ2luPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X01haW5FbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPXQucmVwbGFjZSgicmVzdWx0IiwiZGlmZnVzZUNvbG9yIiksdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT10LnJlcGxhY2UoInJlc3VsdCIsImFscGhhIiksdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVmb3JlX0ZvZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPXQucmVwbGFjZSgicmVzdWx0IiwiY29sb3IiKSx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfQmVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luPXQsdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0RlZmluaXRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9NYWluQmVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPXQucmVwbGFjZSgicmVzdWx0IiwicG9zaXRpb25VcGRhdGVkIiksdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD10LnJlcGxhY2UoInJlc3VsdCIsIm5vcm1hbFVwZGF0ZWQiKSx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9NYWluRW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kPXQsdGhpc30sZS5TaGFkZXJJbmRleGVyPTEsZX0oYXIpO3dlKCJCQUJZTE9OLkN1c3RvbU1hdGVyaWFsIixEciksRHIucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGkpe2NvbnN0IGU9dGhpcyx0PUouQ2xvbmUoKCk9Pm5ldyBEcihpLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1pLHQuaWQ9aSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4sdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2csdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGEsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kLHR9O2NsYXNzIEVme2NvbnN0cnVjdG9yKGUpe3FlKHRoaXMsImxvYWRlZFRoZW1lcyIse30pO3FlKHRoaXMsInRoZW1lRGF0YSIse30pO3RoaXMuc2NlbmU9ZS5zY2VuZX1hc3luYyBsb2FkU3RhbmRhcmRNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOnJ9PWUsbj1uZXcgYXIodCx0aGlzLnNjZW5lKTtyLmRpZmZ1c2VUZXh0dXJlJiYobi5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLGUpKSxyLmJ1bXBUZXh0dXJlJiYobi5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxyLnNwZWN1bGFyVGV4dHVyZSYmKG4uc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxuLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITF9YXN5bmMgbG9hZENvbG9yTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDpyfT1lLG49bmV3IERyKHQrIl9saWdodCIsdGhpcy5zY2VuZSksYT15bihlKTtyLmRpZmZ1c2VUZXh0dXJlJiZyLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0JiYoYS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0LG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixhKSksci5idW1wVGV4dHVyZSYmKG4uYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksci5zcGVjdWxhclRleHR1cmUmJihuLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSksbi5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLG4uVmVydGV4X0RlZmluaXRpb25zKGAKICAgICAgYXR0cmlidXRlIHZlYzMgY3VzdG9tQ29sb3I7CiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5WZXJ0ZXhfTWFpbkVuZChgCiAgICAgIHZDb2xvciA9IGN1c3RvbUNvbG9yOwogICAgYCkuRnJhZ21lbnRfRGVmaW5pdGlvbnMoYAogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAogICAgICBiYXNlQ29sb3IucmdiID0gbWl4KHZDb2xvci5yZ2IsIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKICAgIGApLG4uQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpO2NvbnN0IHM9bi5jbG9uZSh0KyJfZGFyayIpO3IuZGlmZnVzZVRleHR1cmUmJnIuZGlmZnVzZVRleHR1cmUuZGFyayYmKGEubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5kYXJrLHMuZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixhKSkscy5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIil9YXN5bmMgZ2V0VGV4dHVyZShlLHQpe2NvbnN0e2Jhc2VQYXRoOnIsbWF0ZXJpYWw6bix0aGVtZTphfT10O2xldCBzO2NvbnN0IG89ZSsiTGV2ZWwiLHU9ZSsiVGV4dHVyZSI7dHJ5e3N3aXRjaChlKXtjYXNlImRpZmZ1c2UiOnM9YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7cn0vJHtuW3VdfWAsYSksbltvXSYmKHMubGV2ZWw9bltvXSk7YnJlYWs7Y2FzZSJidW1wIjpzPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke3J9LyR7blt1XX1gLGEpLG5bb10mJihzLmxldmVsPW5bb10pO2JyZWFrO2Nhc2Uic3BlY3VsYXIiOnM9YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7cn0vJHtuW3VdfWAsYSksbi5zcGVjdWxhclBvd2VyJiYocy5zcGVjdWxhclBvd2VyPW4uc3BlY3VsYXJQb3dlcik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgdHlwZTogJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fWNhdGNoKGYpe2NvbnNvbGUuZXJyb3IoZil9cmV0dXJuIHN9YXN5bmMgaW1wb3J0VGV4dHVyZUFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChyLG4pPT57bGV0IGE9ZS5tYXRjaCgvXiguKlwvKSguKikkLykscz1uZXcgdGUoZSx0aGlzLnNjZW5lLHZvaWQgMCwhMCx2b2lkIDAsKCk9PnIocyksKCk9Pm4oYFVuYWJsZSB0byBsb2FkIHRleHR1cmUgJyR7YVsyXX0nIGZvciB0aGVtZTogJyR7dH0nLiBDaGVjayB0aGF0IHlvdXIgYXNzZXRQYXRoIGlzIGNvbmZpZ3VyZWQgY29ycmVjdGx5IGFuZCB0aGF0IHRoZSBmaWxlcyBleGlzdCBhdCBwYXRoOiAnJHthWzFdfSdgKSl9KS5jYXRjaChyPT5jb25zb2xlLmVycm9yKHIpKX1hc3luYyBsb2FkKGUpe2NvbnN0e21hdGVyaWFsOnR9PWU7dC50eXBlPT09ImNvbG9yIj9hd2FpdCB0aGlzLmxvYWRDb2xvck1hdGVyaWFsKGUpOnQudHlwZT09PSJzdGFuZGFyZCI/YXdhaXQgdGhpcy5sb2FkU3RhbmRhcmRNYXRlcmlhbChlKTpjb25zb2xlLmVycm9yKGBNYXRlcmlhbCB0eXBlOiAke3QudHlwZX0gbm90IHN1cHBvcnRlZGApfX1jbGFzcyBUZntjb25zdHJ1Y3RvcihlKXtVZSh0aGlzLE9yKTtxZSh0aGlzLCJjb25maWciKTtxZSh0aGlzLCJpbml0aWFsaXplZCIsITEpO1VlKHRoaXMsTWUse30pO1VlKHRoaXMsenQsMCk7VWUodGhpcyx1dCwwKTtVZSh0aGlzLEd0LFtdKTtVZSh0aGlzLHR0LHZvaWQgMCk7VWUodGhpcyxZZSx2b2lkIDApO1VlKHRoaXMsSWUsdm9pZCAwKTtVZSh0aGlzLElyLHZvaWQgMCk7VWUodGhpcyxydCx2b2lkIDApO1VlKHRoaXMsc3Isdm9pZCAwKTtVZSh0aGlzLG9yLHZvaWQgMCk7VWUodGhpcyxYZSx2b2lkIDApO1VlKHRoaXMsdXIse30pO3FlKHRoaXMsIm5vb3AiLCgpPT57fSk7cWUodGhpcywiZGljZUJ1ZmZlclZpZXciLG5ldyBGbG9hdDMyQXJyYXkoOGUzKSk7dGhpcy5vbkluaXRDb21wbGV0ZT1lLm9uSW5pdENvbXBsZXRlfHx0aGlzLm5vb3AsdGhpcy5vblRoZW1lTG9hZGVkPWUub25UaGVtZUxvYWRlZHx8dGhpcy5ub29wLHRoaXMub25Sb2xsUmVzdWx0PWUub25Sb2xsUmVzdWx0fHx0aGlzLm5vb3AsdGhpcy5vblJvbGxDb21wbGV0ZT1lLm9uUm9sbENvbXBsZXRlfHx0aGlzLm5vb3AsdGhpcy5vbkRpZVJlbW92ZWQ9ZS5vbkRpZVJlbW92ZWR8fHRoaXMubm9vcCx0aGlzLmluaXRpYWxpemVkPXRoaXMuaW5pdFNjZW5lKGUpfWFzeW5jIGluaXRTY2VuZShlKXt6ZSh0aGlzLHR0LGUuY2FudmFzKSxWKHRoaXMsdHQpLndpZHRoPWUud2lkdGgsVih0aGlzLHR0KS5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5jb25maWc9ZS5vcHRpb25zLHplKHRoaXMsWWUsem4oVih0aGlzLHR0KSkpLHplKHRoaXMsSWUsSWEoe2VuZ2luZTpWKHRoaXMsWWUpfSkpLHplKHRoaXMsSXIsRmEoe2VuZ2luZTpWKHRoaXMsWWUpLHNjZW5lOlYodGhpcyxJZSl9KSksemUodGhpcyxydCxfbih7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNoYWRvd1RyYW5zcGFyZW5jeTp0aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3ksaW50ZW5zaXR5OnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5LHNjZW5lOlYodGhpcyxJZSl9KSksemUodGhpcyxzcixuZXcgZ2Yoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxhc3BlY3Q6Vih0aGlzLHR0KS53aWR0aC9WKHRoaXMsdHQpLmhlaWdodCxsaWdodHM6Vih0aGlzLHJ0KSxzY2VuZTpWKHRoaXMsSWUpfSkpLHplKHRoaXMsb3IsbmV3IEVmKHtzY2VuZTpWKHRoaXMsSWUpfSkpLHRoaXMub25Jbml0Q29tcGxldGUoKX1jb25uZWN0KGUpe3plKHRoaXMsWGUsZSksVih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJpbml0QnVmZmVyIixkaWNlQnVmZmVyOnRoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyfSxbdGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJdKSxWKHRoaXMsWGUpLm9ubWVzc2FnZT10PT57c3dpdGNoKHQuZGF0YS5hY3Rpb24pe2Nhc2UidXBkYXRlcyI6dGhpcy51cGRhdGVzRnJvbVBoeXNpY3ModC5kYXRhLmRpY2VCdWZmZXIpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIGZyb20gcGh5c2ljc1dvcmtlciBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpO2JyZWFrfX19dXBkYXRlQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5jb25maWc7dGhpcy5jb25maWc9ZSx0LmVuYWJsZVNoYWRvd3MhPT10aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzJiYoT2JqZWN0LnZhbHVlcyhWKHRoaXMscnQpKS5mb3JFYWNoKHI9PnIuZGlzcG9zZSgpKSx6ZSh0aGlzLHJ0LF9uKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3N9KSkpLHQuc2NhbGUhPT10aGlzLmNvbmZpZy5zY2FsZSYmT2JqZWN0LnZhbHVlcyhWKHRoaXMsTWUpKS5mb3JFYWNoKCh7bWVzaDpyfSk9PntyJiYoci5zY2FsaW5nPW5ldyBiKHRoaXMuY29uZmlnLnNjYWxlLHRoaXMuY29uZmlnLnNjYWxlLHRoaXMuY29uZmlnLnNjYWxlKSl9KSx0LnNoYWRvd1RyYW5zcGFyZW5jeSE9PXRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSYmKFYodGhpcyxydCkuZGlyZWN0aW9uYWwuc2hhZG93R2VuZXJhdG9yLmRhcmtuZXNzPXRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSksdC5saWdodEludGVuc2l0eSE9PXRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5JiYoVih0aGlzLHJ0KS5kaXJlY3Rpb25hbC5pbnRlbnNpdHk9LjY1KnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5LFYodGhpcyxydCkuaGVtaXNwaGVyaWMuaW50ZW5zaXR5PS40KnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5KX1yZW5kZXIoZSl7Vih0aGlzLFllKS5ydW5SZW5kZXJMb29wKHRoaXMucmVuZGVyTG9vcC5iaW5kKHRoaXMpKSxWKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlc3VtZVNpbXVsYXRpb24iLG5ld1N0YXJ0UG9pbnQ6ZX0pfXJlbmRlckxvb3AoKXtWKHRoaXMsdXQpJiZWKHRoaXMsdXQpPT09T2JqZWN0LmtleXMoVih0aGlzLE1lKSkubGVuZ3RoPyhWKHRoaXMsWWUpLnN0b3BSZW5kZXJMb29wKCksVih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJzdG9wU2ltdWxhdGlvbiJ9KSx0aGlzLm9uUm9sbENvbXBsZXRlKCkpOlYodGhpcyxJZSkucmVuZGVyKCl9YXN5bmMgbG9hZFRoZW1lKGUpe2NvbnN0e3RoZW1lOnQsYmFzZVBhdGg6cixtYXRlcmlhbDpuLG1lc2hGaWxlUGF0aDphLG1lc2hOYW1lOnN9PWU7aWYoYXdhaXQgVih0aGlzLG9yKS5sb2FkKHt0aGVtZTp0LGJhc2VQYXRoOnIsbWF0ZXJpYWw6bn0pLCFPYmplY3Qua2V5cyhWKHRoaXMsdXIpKS5pbmNsdWRlcyhzKSl7Vih0aGlzLHVyKVtzXT1hO2NvbnN0IG89YXdhaXQgc3QubG9hZE1vZGVscyh7bWVzaEZpbGVQYXRoOmEsbWVzaE5hbWU6c30sVih0aGlzLEllKSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJObyBjb2xsaWRlcnMgcmV0dXJuZWQgZnJvbSB0aGUgM0QgbWVzaCBmaWxlLiBMb3cgcG9seSBjb2xsaWRlcnMgYXJlIGV4cGVjdGVkIHRvIGJlIGluIHRoZSBzYW1lIGZpbGUgYXMgdGhlIGhpZ2ggcG9seSBkaWNlIGFuZCB0aGUgbWVzaCBuYW1lIGNvbnRhaW5zIHRoZSB3b3JkICdjb2xsaWRlciciKTtWKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246ImxvYWRNb2RlbHMiLG9wdGlvbnM6e2NvbGxpZGVyczpvLG1lc2hOYW1lOnN9fSl9dGhpcy5vblRoZW1lTG9hZGVkKHtpZDp0fSl9Y2xlYXIoKXshT2JqZWN0LmtleXMoVih0aGlzLE1lKSkubGVuZ3RoJiYhVih0aGlzLHV0KXx8KHRoaXMuZGljZUJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCYmdGhpcy5kaWNlQnVmZmVyVmlldy5maWxsKDApLFYodGhpcyxHdCkuZm9yRWFjaChlPT5jbGVhclRpbWVvdXQoZSkpLFYodGhpcyxZZSkuc3RvcFJlbmRlckxvb3AoKSxPYmplY3QudmFsdWVzKFYodGhpcyxNZSkpLmZvckVhY2goZT0+e2UubWVzaCYmZS5tZXNoLmRpc3Bvc2UoKX0pLHplKHRoaXMsTWUse30pLHplKHRoaXMsenQsMCksemUodGhpcyx1dCwwKSxWKHRoaXMsSWUpLnJlbmRlcigpKX1hZGQoZSl7c3QubG9hZERpZShlLFYodGhpcyxJZSkpLnRoZW4odD0+e1YodGhpcyxHdCkucHVzaChzZXRUaW1lb3V0KCgpPT57Ym4odGhpcyxPcixFbikuY2FsbCh0aGlzLHQpfSxIdCh0aGlzLHp0KS5fKysqdGhpcy5jb25maWcuZGVsYXkpKX0pfWFkZE5vbkRpZShlKXtWKHRoaXMsWWUpLmFjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD09PTAmJnRoaXMucmVuZGVyKCExKTtjb25zdHtpZDp0LHZhbHVlOnIsLi4ubn09ZSxhPXtpZDp0LHZhbHVlOnIsY29uZmlnOm59O1YodGhpcyxNZSlbdF09YSxzZXRUaW1lb3V0KCgpPT57Vih0aGlzLEd0KS5wdXNoKHNldFRpbWVvdXQoKCk9Pnt0aGlzLmhhbmRsZUFzbGVlcChhKX0sSHQodGhpcyx6dCkuXysrKnRoaXMuY29uZmlnLmRlbGF5KSl9LDEwKX1yZW1vdmUoZSl7Y29uc3QgdD1WKHRoaXMsTWUpW2UuaWRdO3QuaGFzT3duUHJvcGVydHkoImQxMEluc3RhbmNlIikmJihWKHRoaXMsTWUpW3QuZDEwSW5zdGFuY2UuaWRdLm1lc2gmJihWKHRoaXMsTWUpW3QuZDEwSW5zdGFuY2UuaWRdLm1lc2guZGlzcG9zZSgpLFYodGhpcyxYZSkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicmVtb3ZlRGllIixpZDp0LmQxMEluc3RhbmNlLmlkfSkpLGRlbGV0ZSBWKHRoaXMsTWUpW3QuZDEwSW5zdGFuY2UuaWRdLEh0KHRoaXMsdXQpLl8tLSksVih0aGlzLE1lKVtlLmlkXS5tZXNoJiZWKHRoaXMsTWUpW2UuaWRdLm1lc2guZGlzcG9zZSgpLGRlbGV0ZSBWKHRoaXMsTWUpW2UuaWRdLEh0KHRoaXMsdXQpLl8tLSxWKHRoaXMsSWUpLnJlbmRlcigpLHRoaXMub25EaWVSZW1vdmVkKGUucm9sbElkKX11cGRhdGVzRnJvbVBoeXNpY3MoZSl7dGhpcy5kaWNlQnVmZmVyVmlldz1uZXcgRmxvYXQzMkFycmF5KGUpO2xldCB0PTE7Zm9yKGxldCByPTAsbj10aGlzLmRpY2VCdWZmZXJWaWV3WzBdO3I8bjtyKyspe2lmKCFPYmplY3Qua2V5cyhWKHRoaXMsTWUpKS5sZW5ndGgpY29udGludWU7Y29uc3QgYT1WKHRoaXMsTWUpW2Ake3RoaXMuZGljZUJ1ZmZlclZpZXdbdF19YF07aWYoIWEpe2NvbnNvbGUubG9nKCJFcnJvcjogZGllIG5vdCBhdmFpbGFibGUgaW4gc2NlbmUgdG8gYW5pbWF0ZSIpO2JyZWFrfWlmKHRoaXMuZGljZUJ1ZmZlclZpZXdbdCsxXT09PS0xKXRoaXMuaGFuZGxlQXNsZWVwKGEpO2Vsc2V7Y29uc3Qgcz10aGlzLmRpY2VCdWZmZXJWaWV3W3QrMV0sbz10aGlzLmRpY2VCdWZmZXJWaWV3W3QrMl0sdT10aGlzLmRpY2VCdWZmZXJWaWV3W3QrM10sZj10aGlzLmRpY2VCdWZmZXJWaWV3W3QrNF0sbD10aGlzLmRpY2VCdWZmZXJWaWV3W3QrNV0saD10aGlzLmRpY2VCdWZmZXJWaWV3W3QrNl0sYz10aGlzLmRpY2VCdWZmZXJWaWV3W3QrN107YS5tZXNoLnBvc2l0aW9uLnNldChzLG8sdSksYS5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbi5zZXQoZixsLGgsYyl9dD10Kzh9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57Vih0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJzdGVwU2ltdWxhdGlvbiIsZGljZUJ1ZmZlcjp0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcn0sW3RoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyXSl9KX1hc3luYyBoYW5kbGVBc2xlZXAoZSl7dmFyIHQscjtpZihlLmFzbGVlcD0hMCxhd2FpdCBzdC5nZXRSb2xsUmVzdWx0KGUsVih0aGlzLEllKSksZS5kMTBJbnN0YW5jZXx8ZS5kaWVQYXJlbnQpe2lmKCh0PWU9PW51bGw/dm9pZCAwOmUuZDEwSW5zdGFuY2UpIT1udWxsJiZ0LmFzbGVlcHx8KHI9ZT09bnVsbD92b2lkIDA6ZS5kaWVQYXJlbnQpIT1udWxsJiZyLmFzbGVlcCl7Y29uc3Qgbj1lLmNvbmZpZy5zaWRlcz09PTEwMD9lOmUuZGllUGFyZW50LGE9ZS5jb25maWcuc2lkZXM9PT0xMD9lOmUuZDEwSW5zdGFuY2U7YS52YWx1ZT09PTAmJm4udmFsdWU9PT0wP24udmFsdWU9MTAwOm4udmFsdWU9bi52YWx1ZSthLnZhbHVlLHRoaXMub25Sb2xsUmVzdWx0KHtyb2xsSWQ6bi5jb25maWcucm9sbElkLHZhbHVlOm4udmFsdWV9KX19ZWxzZSBlLmNvbmZpZy5zaWRlcz09PTEwJiZlLnZhbHVlPT09MCYmKGUudmFsdWU9MTApLHRoaXMub25Sb2xsUmVzdWx0KHtyb2xsSWQ6ZS5jb25maWcucm9sbElkLHZhbHVlOmUudmFsdWV9KTtIdCh0aGlzLHV0KS5fKyt9cmVzaXplKGUpe2NvbnN0IHQ9Vih0aGlzLHR0KS53aWR0aD1lLndpZHRoLHI9Vih0aGlzLHR0KS5oZWlnaHQ9ZS5oZWlnaHQ7Vih0aGlzLHNyKS5jcmVhdGUoe2FzcGVjdDp0L3J9KSxWKHRoaXMsWWUpLnJlc2l6ZSgpfX1NZT1uZXcgV2Vha01hcCx6dD1uZXcgV2Vha01hcCx1dD1uZXcgV2Vha01hcCxHdD1uZXcgV2Vha01hcCx0dD1uZXcgV2Vha01hcCxZZT1uZXcgV2Vha01hcCxJZT1uZXcgV2Vha01hcCxJcj1uZXcgV2Vha01hcCxydD1uZXcgV2Vha01hcCxzcj1uZXcgV2Vha01hcCxvcj1uZXcgV2Vha01hcCxYZT1uZXcgV2Vha01hcCx1cj1uZXcgV2Vha01hcCxPcj1uZXcgV2Vha1NldCxFbj1hc3luYyBmdW5jdGlvbihlKXtWKHRoaXMsWWUpLmFjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD09PTAmJnRoaXMucmVuZGVyKGUubmV3U3RhcnRQb2ludCk7Y29uc3QgdD17Li4uZSxhc3NldFBhdGg6dGhpcy5jb25maWcuYXNzZXRQYXRoLGVuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxsaWdodHM6Vih0aGlzLHJ0KX0scj1uZXcgc3QodCxWKHRoaXMsSWUpKTtyZXR1cm4gVih0aGlzLE1lKVtyLmlkXT1yLFYodGhpcyxYZSkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiYWRkRGllIixvcHRpb25zOntzaWRlczplLnNpZGVzLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGlkOnIuaWQsbmV3U3RhcnRQb2ludDplLm5ld1N0YXJ0UG9pbnQsdGhlbWU6ZS50aGVtZSxtZXNoTmFtZTplLm1lc2hOYW1lfX0pLGUuc2lkZXM9PT0xMDAmJihyLmQxMEluc3RhbmNlPWF3YWl0IHN0LmxvYWREaWUoey4uLnQsc2lkZXM6MTAsaWQ6ci5pZCsxZTR9LFYodGhpcyxJZSkpLnRoZW4obj0+e2NvbnN0IGE9bmV3IHN0KG4sVih0aGlzLEllKSk7cmV0dXJuIGEuZGllUGFyZW50PXIsYX0pLFYodGhpcyxNZSlbYCR7ci5kMTBJbnN0YW5jZS5pZH1gXT1yLmQxMEluc3RhbmNlLFYodGhpcyxYZSkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiYWRkRGllIixvcHRpb25zOntzaWRlczoxMCxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxpZDpyLmQxMEluc3RhbmNlLmlkLHRoZW1lOmUudGhlbWUsbWVzaE5hbWU6ZS5tZXNoTmFtZX19KSkscn07bGV0IG90O3NlbGYub25tZXNzYWdlPWFzeW5jIGk9Pntzd2l0Y2goaS5kYXRhLmFjdGlvbil7Y2FzZSJyb2xsRGllIjpvdC5waHlzaWNzV29ya2VyUG9ydC5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsIn0pO2JyZWFrO2Nhc2UiYWRkRGllIjpvdC5hZGQoaS5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiYWRkTm9uRGllIjpvdC5hZGROb25EaWUoaS5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UibG9hZFRoZW1lIjphd2FpdCBvdC5sb2FkVGhlbWUoaS5kYXRhLm9wdGlvbnMpLmNhdGNoKGU9PmNvbnNvbGUuZXJyb3IoZSkpO2JyZWFrO2Nhc2UiY2xlYXJEaWNlIjpvdC5jbGVhcigpO2JyZWFrO2Nhc2UicmVtb3ZlRGllIjpvdC5yZW1vdmUoaS5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UicmVzaXplIjpvdC5yZXNpemUoaS5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiaW5pdCI6b3Q9bmV3IFRmKHsuLi5pLmRhdGEsb25Jbml0Q29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXQtY29tcGxldGUifSl9LG9uVGhlbWVMb2FkZWQ6KHtpZDplfSk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InRoZW1lLWxvYWRlZCIsaWQ6ZX0pfSxvblJvbGxSZXN1bHQ6KHtyb2xsSWQ6ZSx2YWx1ZTp0fSk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtcmVzdWx0IixkaWU6e3JvbGxJZDplLHZhbHVlOnR9fSl9LG9uUm9sbENvbXBsZXRlOigpPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLWNvbXBsZXRlIn0pfSxvbkRpZVJlbW92ZWQ6ZT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZGllLXJlbW92ZWQiLHJvbGxJZDplfSl9fSk7YnJlYWs7Y2FzZSJ1cGRhdGVDb25maWciOm90LnVwZGF0ZUNvbmZpZyhpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJjb25uZWN0IjpvdC5jb25uZWN0KGkuZGF0YS5wb3J0KSxzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImNvbm5lY3QtY29tcGxldGUifSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKX19fSkoKTsK", Y = typeof window < "u" && window.Blob && new Blob([atob(y)], { type: "text/javascript;charset=utf-8" });
function L() {
  let m;
  try {
    if (m = Y && (window.URL || window.webkitURL).createObjectURL(Y), !m)
      throw "";
    return new Worker(m);
  } catch {
    return new Worker("data:application/javascript;base64," + y);
  } finally {
    m && (window.URL || window.webkitURL).revokeObjectURL(m);
  }
}
var G, d, W, p;
class F {
  // roll group callback
  constructor(l) {
    // initialize the babylon scene
    c(this, W);
    X(this, "initialized", !1);
    X(this, "offscreenWorkerInit", !1);
    X(this, "themeLoadedInit", !1);
    X(this, "pendingThemePromises", {});
    c(this, G, void 0);
    c(this, d, void 0);
    // onInitComplete = () => {} // init callback
    X(this, "onRollResult", () => {
    });
    // individual die callback
    X(this, "onRollComplete", () => {
    });
    this.onInitComplete = l.onInitComplete, u(this, G, l.canvas.transferControlToOffscreen()), u(this, d, new L()), b(this, d).init = new Promise((Z, V) => {
      this.offscreenWorkerInit = Z;
    }), this.initialized = h(this, W, p).call(this, l);
  }
  connect(l) {
    b(this, d).postMessage({
      action: "connect",
      port: l
    }, [l]);
  }
  updateConfig(l) {
    b(this, d).postMessage({ action: "updateConfig", options: l });
  }
  resize(l) {
    b(this, d).postMessage({ action: "resize", options: l });
  }
  async loadTheme(l) {
    return new Promise((Z, V) => {
      if (Object.keys(this.pendingThemePromises).includes(l.theme))
        return Z();
      this.pendingThemePromises[l.theme] = Z, b(this, d).postMessage({ action: "loadTheme", options: l });
    }).catch((Z) => console.error(Z));
  }
  clear() {
    b(this, d).postMessage({ action: "clearDice" });
  }
  add(l) {
    b(this, d).postMessage({ action: "addDie", options: l });
  }
  addNonDie(l) {
    b(this, d).postMessage({ action: "addNonDie", options: l });
  }
  remove(l) {
    b(this, d).postMessage({ action: "removeDie", options: l });
  }
}
G = new WeakMap(), d = new WeakMap(), W = new WeakSet(), p = async function(l) {
  return b(this, d).postMessage({
    action: "init",
    canvas: b(this, G),
    width: l.canvas.clientWidth,
    height: l.canvas.clientHeight,
    options: l.options
  }, [b(this, G)]), b(this, d).onmessage = (Z) => {
    switch (Z.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "connect-complete":
        break;
      case "theme-loaded":
        Z.data.id && this.pendingThemePromises[Z.data.id](Z.data.id);
        break;
      case "roll-result":
        this.onRollResult(Z.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(Z.data.rollId);
        break;
    }
  }, await b(this, d).init, this.onInitComplete(!0), !0;
};
export {
  F as default
};
